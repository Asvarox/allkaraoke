var fB=Object.defineProperty;var hB=(e,t,n)=>t in e?fB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ad=(e,t,n)=>(hB(e,typeof t!="symbol"?t+"":t,n),n);function VP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var LP={exports:{}},p0={},NP={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=Symbol.for("react.element"),gB=Symbol.for("react.portal"),mB=Symbol.for("react.fragment"),yB=Symbol.for("react.strict_mode"),vB=Symbol.for("react.profiler"),AB=Symbol.for("react.provider"),bB=Symbol.for("react.context"),SB=Symbol.for("react.forward_ref"),_B=Symbol.for("react.suspense"),xB=Symbol.for("react.memo"),wB=Symbol.for("react.lazy"),AE=Symbol.iterator;function EB(e){return e===null||typeof e!="object"?null:(e=AE&&e[AE]||e["@@iterator"],typeof e=="function"?e:null)}var BP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DP=Object.assign,FP={};function Lu(e,t,n){this.props=e,this.context=t,this.refs=FP,this.updater=n||BP}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $P(){}$P.prototype=Lu.prototype;function t_(e,t,n){this.props=e,this.context=t,this.refs=FP,this.updater=n||BP}var n_=t_.prototype=new $P;n_.constructor=t_;DP(n_,Lu.prototype);n_.isPureReactComponent=!0;var bE=Array.isArray,zP=Object.prototype.hasOwnProperty,r_={current:null},UP={key:!0,ref:!0,__self:!0,__source:!0};function HP(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)zP.call(t,r)&&!UP.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vh,type:e,key:o,ref:s,props:i,_owner:r_.current}}function kB(e,t){return{$$typeof:vh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function i_(e){return typeof e=="object"&&e!==null&&e.$$typeof===vh}function CB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var SE=/\/+/g;function Xy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CB(""+e.key):t.toString(36)}function lg(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vh:case gB:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Xy(s,0):r,bE(i)?(n="",e!=null&&(n=e.replace(SE,"$&/")+"/"),lg(i,t,n,"",function(c){return c})):i!=null&&(i_(i)&&(i=kB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(SE,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",bE(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Xy(o,a);s+=lg(o,t,n,l,i)}else if(l=EB(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Xy(o,a++),s+=lg(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xh(e,t,n){if(e==null)return e;var r=[],i=0;return lg(e,r,"","",function(o){return t.call(n,o,i++)}),r}function TB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ur={current:null},cg={transition:null},IB={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:cg,ReactCurrentOwner:r_};at.Children={map:Xh,forEach:function(e,t,n){Xh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xh(e,function(){t++}),t},toArray:function(e){return Xh(e,function(t){return t})||[]},only:function(e){if(!i_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=Lu;at.Fragment=mB;at.Profiler=vB;at.PureComponent=t_;at.StrictMode=yB;at.Suspense=_B;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IB;at.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=DP({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=r_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)zP.call(t,l)&&!UP.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vh,type:e.type,key:i,ref:o,props:r,_owner:s}};at.createContext=function(e){return e={$$typeof:bB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AB,_context:e},e.Consumer=e};at.createElement=HP;at.createFactory=function(e){var t=HP.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:SB,render:e}};at.isValidElement=i_;at.lazy=function(e){return{$$typeof:wB,_payload:{_status:-1,_result:e},_init:TB}};at.memo=function(e,t){return{$$typeof:xB,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=cg.transition;cg.transition={};try{e()}finally{cg.transition=t}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(e,t){return Ur.current.useCallback(e,t)};at.useContext=function(e){return Ur.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return Ur.current.useDeferredValue(e)};at.useEffect=function(e,t){return Ur.current.useEffect(e,t)};at.useId=function(){return Ur.current.useId()};at.useImperativeHandle=function(e,t,n){return Ur.current.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return Ur.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return Ur.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return Ur.current.useMemo(e,t)};at.useReducer=function(e,t,n){return Ur.current.useReducer(e,t,n)};at.useRef=function(e){return Ur.current.useRef(e)};at.useState=function(e){return Ur.current.useState(e)};at.useSyncExternalStore=function(e,t,n){return Ur.current.useSyncExternalStore(e,t,n)};at.useTransition=function(){return Ur.current.useTransition()};at.version="18.2.0";NP.exports=at;var v=NP.exports;const Ie=mr(v),Gg=VP({__proto__:null,default:Ie},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB=v,PB=Symbol.for("react.element"),MB=Symbol.for("react.fragment"),jB=Object.prototype.hasOwnProperty,OB=RB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VB={key:!0,ref:!0,__self:!0,__source:!0};function GP(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)jB.call(t,r)&&!VB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:PB,type:e,key:o,ref:s,props:i,_owner:OB.current}}p0.Fragment=MB;p0.jsx=GP;p0.jsxs=GP;LP.exports=p0;var f=LP.exports;class $o{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const HA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class GA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const _E=HA((global==null?void 0:global.localStorage)??new GA),Be={..._E,local:_E,session:HA((global==null?void 0:global.sessionStorage)??new GA),memory:HA(new GA)},qA="CAMERA_GRANT_KEY",xE=Be.local.getItem(qA);class LB extends $o{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=xE!==null?JSON.parse(xE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Be.local.setItem(qA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Be.local.setItem(qA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Co=new LB;function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xf(e){return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t,n){return t&&EE(e.prototype,t),n&&EE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e,t){if(e==null)return{};var n,r,i=function(s,a){if(s==null)return{};var l,c,u={},d=Object.keys(s);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=s[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(a.push(o.value),!r||a.length!==r);l=!0);}catch(u){c=!0,s=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw s}}return a}}(e,t)||o_(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ts(e){return function(t){if(Array.isArray(t))return WA(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||o_(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o_(e,t){if(e){if(typeof e=="string")return WA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WA(e,t):void 0}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zi(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o_(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}var wo={DEBUG:!1,LIB_VERSION:"1.155.0"},BB=Array.isArray,qP=Object.prototype,WP=qP.hasOwnProperty,g0=qP.toString,Hn=BB||function(e){return g0.call(e)==="[object Array]"},Mo=function(e){return typeof e=="function"},dr=function(e){return e===Object(e)&&!Hn(e)},ug=function(e){if(dr(e)){for(var t in e)if(WP.call(e,t))return!1;return!0}return!1},Fe=function(e){return e===void 0},wr=function(e){return g0.call(e)=="[object String]"},kE=function(e){return wr(e)&&e.trim().length===0},Gs=function(e){return e===null},ei=function(e){return Fe(e)||Gs(e)},Fi=function(e){return g0.call(e)=="[object Number]"},Ec=function(e){return g0.call(e)==="[object Boolean]"},DB=function(e){return e instanceof FormData},J=typeof window<"u"?window:void 0,Jr=typeof globalThis<"u"?globalThis:J,KP=Array.prototype,CE=KP.forEach,TE=KP.indexOf,Es=Jr==null?void 0:Jr.navigator,Ce=Jr==null?void 0:Jr.document,Yr=Jr==null?void 0:Jr.location,KA=Jr==null?void 0:Jr.fetch,YA=Jr!=null&&Jr.XMLHttpRequest&&"withCredentials"in new Jr.XMLHttpRequest?Jr.XMLHttpRequest:void 0,IE=Jr==null?void 0:Jr.AbortController,kn=Es==null?void 0:Es.userAgent,bn=J??{},RE="[PostHog.js]",oe={_log:function(e){if(J&&(wo.DEBUG||bn.POSTHOG_DEBUG)&&!Fe(J.console)&&J.console){for(var t=("__rrweb_original__"in J.console[e])?J.console[e].__rrweb_original__:J.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[RE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oe._log.apply(oe,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oe._log.apply(oe,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oe._log.apply(oe,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[RE].concat(n))},uninitializedWarning:function(e){oe.error("You must initialize PostHog before calling ".concat(e))}},qg={},m0=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function qc(e,t,n){if(Hn(e)){if(CE&&e.forEach===CE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===qg)return}}}function Ft(e,t,n){if(!ei(e)){if(Hn(e))return qc(e,t,n);if(DB(e)){var r,i=Zi(e.entries());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.call(n,o[1],o[0])===qg)return}}catch(a){i.e(a)}finally{i.f()}}else for(var s in e)if(WP.call(e,s)&&t.call(n,e[s],s)===qg)return}}var Lr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qc(n,function(i){for(var o in i)i[o]!==void 0&&(e[o]=i[o])}),e};function dt(e,t){return e.indexOf(t)!==-1}function dg(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var YP=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},PE=function(e){try{return e()}catch{return}},FB=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){oe.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),oe.critical(i)}}},QA=function(e){var t={};return Ft(e,function(n,r){wr(n)&&n.length>0&&(t[r]=n)}),t},JA=function(e){return e.replace(/^\$/,"")};function $B(e,t){return n=e,r=function(o){return wr(o)&&!Gs(t)?o.slice(0,t):o},i=new Set,function o(s,a){return s!==Object(s)?r?r(s,a):s:i.has(s)?void 0:(i.add(s),Hn(s)?(l=[],qc(s,function(c){l.push(o(c))})):(l={},Ft(s,function(c,u){i.has(c)||(l[u]=o(c,u))})),l);var l}(n);var n,r,i}var Eo,zB=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),Gs(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},xs=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(l,c,u){return function(d){if(d=d||e(J==null?void 0:J.event)){var h,p=!0;Mo(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else oe.error("No valid element provided to register_event")}}();function QP(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Eo||(Eo={}));var JP="$people_distinct_id",jd="__alias",Od="__timers",ME="$autocapture_disabled_server_side",XA="$heatmaps_enabled_server_side",jE="$exception_capture_enabled_server_side",OE="$exception_capture_endpoint",VE="$web_vitals_enabled_server_side",ZA="$session_recording_enabled_server_side",LE="$console_log_recording_enabled_server_side",NE="$session_recording_network_payload_capture",BE="$session_recording_canvas_recording",DE="$replay_sample_rate",FE="$replay_minimum_duration",Wg="$sesid",Qd="$session_is_sampled",kc="$enabled_feature_flags",e1="$early_access_features",Cc="$stored_person_properties",ta="$stored_group_properties",t1="$surveys",Zh="$surveys_activated",Kg="$flag_call_reported",ys="$user_state",n1="$client_session_props",r1="$capture_rate_limit",i1="$initial_campaign_params",o1="$initial_referrer_info",$E="$initial_person_info",Yg="$epp",s1="__POSTHOG_TOOLBAR__",UB=[JP,jd,"__cmpns",Od,ZA,XA,Wg,kc,ys,e1,ta,Cc,t1,Kg,n1,r1,i1,o1,Yg],Zy="$active_feature_flags",ep="$override_feature_flags",zE="$feature_flag_payloads",UE=function(e){var t,n={},r=Zi(dg(e||{}));try{for(r.s();!(t=r.n()).done;){var i=Vr(t.value,2),o=i[0],s=i[1];s&&(n[o]=s)}}catch(a){r.e(a)}finally{r.f()}return n},HB=function(){function e(t){_t(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return xt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(kc),n=this.instance.get_property(ep);if(!n)return t||{};for(var r=Lr({},t),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this._override_warning||(oe.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(zE)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(Cc),i=this.instance.get_property(ta),o={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:o,compression:this.instance.config.disable_compression?void 0:Eo.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(s){var a;t.setReloadingPaused(!1);var l=!0;s.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=s.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],o="".concat(i),s=this.instance.get_property(Kg)||{};return(n.send_event||!("send_event"in n))&&(!(t in s)||!s[t].includes(o))&&(Hn(s[t])?s[t].push(o):s[t]=[o],(r=this.instance.persistence)===null||r===void 0||r.register(re({},Kg,s)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}oe.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);oe.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(o,s){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=o.featureFlags,d=o.featureFlagPayloads;if(u)if(Hn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;s&&s.register((re(h={},Zy,u),re(h,kc,p),h))}else{var m=u,b=d;o.errorsWhileComputingFlags&&(m=be(be({},l),m),b=be(be({},c),b)),s&&s.register((re(a={},Zy,Object.keys(UE(m))),re(a,kc,m||{}),re(a,zE,b||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return oe.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(ep);else if(Hn(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register(re({},ep,r))}else this.instance.persistence.register(re({},ep,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,o=r.flagVariants;t(i,o)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,o=re({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:o}),this.setPersonPropertiesForFlags(o,!1);var s=be(be({},this.getFlagVariants()),{},re({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((re(i={},Zy,Object.keys(UE(s))),re(i,kc,s),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(e1);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(o){var s;if(o.json){var a=o.json.earlyAccessFeatures;return(s=n.instance.persistence)===null||s===void 0||s.register(re({},e1,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(o){return o(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Cc)||{};this.instance.register(re({},Cc,be(be({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Cc)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(ta)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=be(be({},r[i]),t[i]),delete t[i]}),this.instance.register(re({},ta,be(be({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(ta)||{};this.instance.register(re({},ta,be(be({},n),{},re({},t,{}))))}else this.instance.unregister(ta)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Fi(e)&&isFinite(e)&&Math.floor(e)===e});var HE="0123456789abcdef",GB=function(){function e(t){if(_t(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return xt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+HE.charAt(this.bytes[n]>>>4)+HE.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new e(o)}}]),e}(),qB=function(){function e(){_t(this,e),re(this,"timestamp",0),re(this,"counter",0),re(this,"random",new WB)}return xt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(Fe(t)){this.timestamp=0;var n=this.generateOrAbort();if(Fe(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return GB.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),XP=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};J&&!Fe(J.crypto)&&crypto.getRandomValues&&(XP=function(e){return crypto.getRandomValues(e)});var GE,WB=function(){function e(){_t(this,e),re(this,"buffer",new Uint32Array(8)),re(this,"cursor",1/0)}return xt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(XP(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),ua=function(){return KB().toString()},KB=function(){return(GE||(GE=new qB)).generate()},YB="Thu, 01 Jan 1970 00:00:00 GMT",ld="",QB=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function JB(e,t){if(t){var n=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce;if(ld)return ld;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var s=i.split("."),a=Math.min(s.length,8),l="dmn_chk_"+ua(),c=new RegExp("(^|;)\\s*"+l+"=1");!ld&&a--;){var u=s.slice(a).join("."),d=l+"=1;domain=."+u;o.cookie=d,c.test(o.cookie)&&(o.cookie=d+";expires="+YB,ld=u)}return ld}(e);if(!n){var r=function(i){var o=i.match(QB);return o?o[0]:""}(e);r!==n&&oe.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var or,Is={is_supported:function(){return!!Ce},error:function(e){oe.error("cookieStore error: "+e)},get:function(e){if(Ce){try{for(var t=e+"=",n=Ce.cookie.split(";").filter(function(o){return o.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Is.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(Ce)try{var o="",s="",a=JB(Ce.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return c.length>3686.4&&oe.warn("cookieStore warning: large cookie, len="+c.length),Ce.cookie=c,c}catch{return}},remove:function(e,t){try{Is.set(e,"",-1,t)}catch{return}}},ev=null,Un={is_supported:function(){if(!Gs(ev))return ev;var e=!0;if(Fe(J))e=!1;else try{var t="__mplssupport__";Un.set(t,"xyz"),Un.get(t)!=='"xyz"'&&(e=!1),Un.remove(t)}catch{e=!1}return e||oe.error("localStorage unsupported; falling back to cookie store"),ev=e,e},error:function(e){oe.error("localStorage error: "+e)},get:function(e){try{return J==null?void 0:J.localStorage.getItem(e)}catch(t){Un.error(t)}return null},parse:function(e){try{return JSON.parse(Un.get(e))||{}}catch{}return null},set:function(e,t){try{J==null||J.localStorage.setItem(e,JSON.stringify(t))}catch(n){Un.error(n)}},remove:function(e){try{J==null||J.localStorage.removeItem(e)}catch(t){Un.error(t)}}},XB=["distinct_id",Wg,Qd,Yg],tp=be(be({},Un),{},{parse:function(e){try{var t={};try{t=Is.parse(e)||{}}catch{}var n=Lr(t,JSON.parse(Un.get(e)||"{}"));return Un.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,o){try{Un.set(e,t,void 0,void 0,o);var s={};XB.forEach(function(a){t[a]&&(s[a]=t[a])}),Object.keys(s).length&&Is.set(e,s,n,r,i,o)}catch(a){Un.error(a)}},remove:function(e,t){try{J==null||J.localStorage.removeItem(e),Is.remove(e,t)}catch(n){Un.error(n)}}}),np={},ZB={is_supported:function(){return!0},error:function(e){oe.error("memoryStorage error: "+e)},get:function(e){return np[e]||null},parse:function(e){return np[e]||null},set:function(e,t){np[e]=t},remove:function(e){delete np[e]}},Qa=null,lr={is_supported:function(){if(!Gs(Qa))return Qa;if(Qa=!0,Fe(J))Qa=!1;else try{var e="__support__";lr.set(e,"xyz"),lr.get(e)!=='"xyz"'&&(Qa=!1),lr.remove(e)}catch{Qa=!1}return Qa},error:function(e){oe.error("sessionStorage error: ",e)},get:function(e){try{return J==null?void 0:J.sessionStorage.getItem(e)}catch(t){lr.error(t)}return null},parse:function(e){try{return JSON.parse(lr.get(e))||null}catch{}return null},set:function(e,t){try{J==null||J.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){lr.error(n)}},remove:function(e){try{J==null||J.sessionStorage.removeItem(e)}catch(t){lr.error(t)}}},eD=["localhost","127.0.0.1"],Jd=function(e){var t=Ce==null?void 0:Ce.createElement("a");return Fe(t)?null:(t.href=e,t)},Qg=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},tD=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Ft(e,function(o,s){Fe(o)||Fe(s)||s==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(o)?o.name:o.toString()),n=encodeURIComponent(s),i[i.length]=n+"="+t)}),i.join(r)},qE=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!Hn(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch{oe.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},Jg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Yi="Mobile",Xg="iOS",rs="Android",wf="Tablet",ZP=rs+" "+wf,eM="iPad",tM="Apple",nM=tM+" Watch",Ef="Safari",du="BlackBerry",rM="Samsung",iM=rM+"Browser",oM=rM+" Internet",ma="Chrome",nD=ma+" OS",sM=ma+" "+Xg,s_="Internet Explorer",aM=s_+" "+Yi,a_="Opera",rD=a_+" Mini",l_="Edge",lM="Microsoft "+l_,Wc="Firefox",cM=Wc+" "+Xg,kf="Nintendo",Cf="PlayStation",Kc="Xbox",uM=rs+" "+Yi,dM=Yi+" "+Ef,Vd="Windows",a1=Vd+" Phone",WE="Nokia",l1="Ouya",fM="Generic",iD=fM+" "+Yi.toLowerCase(),hM=fM+" "+wf.toLowerCase(),c1="Konqueror",Mr="(\\d+(\\.\\d+)?)",tv=new RegExp("Version/"+Mr),oD=new RegExp(Kc,"i"),sD=new RegExp(Cf+" \\w+","i"),aD=new RegExp(kf+" \\w+","i"),c_=new RegExp(du+"|PlayBook|BB10","i"),lD={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},cD=function(e,t){return t&&dt(t,tM)||function(n){return dt(n,Ef)&&!dt(n,ma)&&!dt(n,rs)}(e)},KE=function(e,t){return t=t||"",dt(e," OPR/")&&dt(e,"Mini")?rD:dt(e," OPR/")?a_:c_.test(e)?du:dt(e,"IE"+Yi)||dt(e,"WPDesktop")?aM:dt(e,iM)?oM:dt(e,l_)||dt(e,"Edg/")?lM:dt(e,"FBIOS")?"Facebook "+Yi:dt(e,"UCWEB")||dt(e,"UCBrowser")?"UC Browser":dt(e,"CriOS")?sM:dt(e,"CrMo")?ma:dt(e,rs)&&dt(e,Ef)?uM:dt(e,ma)?ma:dt(e,"FxiOS")?cM:dt(e.toLowerCase(),c1.toLowerCase())?c1:cD(e,t)?dt(e,Yi)?dM:Ef:dt(e,Wc)?Wc:dt(e,"MSIE")||dt(e,"Trident/")?s_:dt(e,"Gecko")?Wc:""},uD=(re(or={},aM,[new RegExp("rv:"+Mr)]),re(or,lM,[new RegExp(l_+"?\\/"+Mr)]),re(or,ma,[new RegExp("("+ma+"|CrMo)\\/"+Mr)]),re(or,sM,[new RegExp("CriOS\\/"+Mr)]),re(or,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Mr)]),re(or,Ef,[tv]),re(or,dM,[tv]),re(or,a_,[new RegExp("(Opera|OPR)\\/"+Mr)]),re(or,Wc,[new RegExp(Wc+"\\/"+Mr)]),re(or,cM,[new RegExp("FxiOS\\/"+Mr)]),re(or,c1,[new RegExp("Konqueror[:/]?"+Mr,"i")]),re(or,du,[new RegExp(du+" "+Mr),tv]),re(or,uM,[new RegExp("android\\s"+Mr,"i")]),re(or,oM,[new RegExp(iM+"\\/"+Mr)]),re(or,s_,[new RegExp("(rv:|MSIE )"+Mr)]),re(or,"Mozilla",[new RegExp("rv:"+Mr)]),or),YE=[[new RegExp(Kc+"; "+Kc+" (.*?)[);]","i"),function(e){return[Kc,e&&e[1]||""]}],[new RegExp(kf,"i"),[kf,""]],[new RegExp(Cf,"i"),[Cf,""]],[c_,[du,""]],[new RegExp(Vd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[a1,""];if(new RegExp(Yi).test(t)&&!/IEMobile\b/.test(t))return[Vd+" "+Yi,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=lD[r]||"";return/arm/i.test(t)&&(i="RT"),[Vd,i]}return[Vd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Xg,t.join(".")]}return[Xg,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=Fe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+rs+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+rs+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[rs,t.join(".")]}return[rs,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[nD,""]],[/Linux|debian/i,["Linux",""]]],QE=function(e){return aD.test(e)?kf:sD.test(e)?Cf:oD.test(e)?Kc:new RegExp(l1,"i").test(e)?l1:new RegExp("("+a1+"|WPDesktop)","i").test(e)?a1:/iPad/.test(e)?eM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?nM:c_.test(e)?du:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(WE,"i").test(e)?WE:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Yi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?rs:ZP:rs:new RegExp("(pda|"+Yi+")","i").test(e)?iD:new RegExp(wf,"i").test(e)&&!new RegExp(wf+" pc","i").test(e)?hM:""},rp="https?://(.*)",dD=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],Xn={campaignParams:function(e){return Ce?this._campaignParamsFromUrl(Ce.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=dD.concat(t||[]),r={};return Ft(n,function(i){var o=qE(e,i);o&&(r[i]=o)}),r},_searchEngine:function(e){return e?e.search(rp+"google.([^/?]*)")===0?"google":e.search(rp+"bing.com")===0?"bing":e.search(rp+"yahoo.com")===0?"yahoo":e.search(rp+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=Xn._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!Gs(t)){r.$search_engine=t;var i=Ce?qE(Ce.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=Ce==null?void 0:Ce.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:KE,browserVersion:function(e,t){var n=KE(e,t),r=uD[n];if(Fe(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<YE.length;t++){var n=Vr(YE[t],2),r=n[0],i=n[1],o=r.exec(e),s=o&&(Mo(i)?i(o,e):i);if(s)return s}return["",""]},device:QE,deviceType:function(e){var t=QE(e);return t===eM||t===ZP||t==="Kobo"||t==="Kindle Fire"||t===hM?wf:t===kf||t===Kc||t===Cf||t===l1?"Console":t===nM?"Wearable":t?Yi:"Desktop"},referrer:function(){return(Ce==null?void 0:Ce.referrer)||"$direct"},referringDomain:function(){var e;return Ce!=null&&Ce.referrer&&((e=Jd(Ce.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:Yr==null?void 0:Yr.href}},initialPersonPropsFromInfo:function(e){var t,n=e.r,r=e.u,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=Jd(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var o=Jd(r);i.$initial_host=o==null?void 0:o.host,i.$initial_pathname=o==null?void 0:o.pathname,Ft(this._campaignParamsFromUrl(r),function(s,a){i["$initial_"+JA(a)]=s})}return n&&Ft(this._searchInfoFromReferrer(n),function(s,a){i["$initial_"+JA(a)]=s}),i},properties:function(){if(!kn)return{};var e=Vr(Xn.os(kn),2),t=e[0],n=e[1];return Lr(QA({$os:t,$os_version:n,$browser:Xn.browser(kn,navigator.vendor),$device:Xn.device(kn),$device_type:Xn.deviceType(kn)}),{$current_url:Yr==null?void 0:Yr.href,$host:Yr==null?void 0:Yr.host,$pathname:Yr==null?void 0:Yr.pathname,$raw_user_agent:kn.length>1e3?kn.substring(0,997)+"...":kn,$browser_version:Xn.browserVersion(kn,navigator.vendor),$browser_language:Xn.browserLanguage(),$screen_height:J==null?void 0:J.screen.height,$screen_width:J==null?void 0:J.screen.width,$viewport_height:J==null?void 0:J.innerHeight,$viewport_width:J==null?void 0:J.innerWidth,$lib:"web",$lib_version:wo.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:YP()/1e3})},people_properties:function(){if(!kn)return{};var e=Vr(Xn.os(kn),2),t=e[0],n=e[1];return Lr(QA({$os:t,$os_version:n,$browser:Xn.browser(kn,navigator.vendor)}),{$browser_version:Xn.browserVersion(kn,navigator.vendor)})}},fD=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],nv=function(){function e(t){_t(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),t.debug&&oe.info("Persistence loaded",t.persistence,be({},this.props)),this.update_config(t,t),this.save()}return xt(e,[{key:"buildStorage",value:function(t){fD.indexOf(t.persistence.toLowerCase())===-1&&(oe.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Un.is_supported()?Un:n==="localstorage+cookie"&&tp.is_supported()?tp:n==="sessionstorage"&&lr.is_supported()?lr:n==="memory"?ZB:n==="cookie"?Is:tp.is_supported()?tp:Is}},{key:"properties",value:function(){var t={};return Ft(this.props,function(n,r){if(r===kc&&dr(n))for(var i=Object.keys(n),o=0;o<i.length;o++)t["$feature/".concat(i[o])]=n[i[o]];else a=r,l=!1,(Gs(s=UB)?l:TE&&s.indexOf===TE?s.indexOf(a)!=-1:(Ft(s,function(c){if(l||(l=c===a))return qg}),l))||(t[r]=n);var s,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Lr({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(dr(t)){Fe(n)&&(n="None"),this.expire_days=Fe(r)?this.default_expiry:r;var o=!1;if(Ft(t,function(s,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=s,o=!0)}),o)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(dr(t)){this.expire_days=Fe(n)?this.default_expiry:n;var i=!1;if(Ft(t,function(o,s){t.hasOwnProperty(s)&&r.props[s]!==o&&(r.props[s]=o,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(Xn.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(Xn.searchInfo())}},{key:"update_referrer_info",value:function(){this.register_once(Xn.referrerInfo(),void 0)}},{key:"set_initial_person_info",value:function(){this.props[i1]||this.props[o1]||this.register_once(re({},$E,Xn.initialPersonInfo()),void 0)}},{key:"get_referrer_info",value:function(){return QA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};Ft([o1,i1],function(o){var s=t.props[o];s&&Ft(s,function(a,l){n["$initial_"+JA(l)]=a})});var r=this.props[$E];if(r){var i=Xn.initialPersonPropsFromInfo(r);Lr(n,i)}return n}},{key:"safe_merge",value:function(t){return Ft(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[Od]||{};r[t]=n,this.props[Od]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[Od]||{})[t];return Fe(n)||(delete this.props[Od][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}();function u1(e){return JSON.stringify(e,(t=[],function(n,r){if(dr(r)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(r)?"[Circular]":(t.push(r),r)}return r})).length;var t}var hD=2,pD=4;function d1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[d1({size:u1(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),d1({size:u1(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(function(o){return o})}return[e]}var fg=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(fg||{}),ms=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(ms||{});function u_(e){return e?m0(e).split(/\s+/):[]}function JE(e){var t=J==null?void 0:J.location.href;return!!(t&&e&&e.some(function(n){return t.match(n)}))}function Zg(e){var t="";switch(xf(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return u_(t)}function pM(e){return ei(e)?null:m0(e).split(/(\s+)/).filter(function(t){return Yc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function em(e){var t="";return h1(e)&&!vM(e)&&e.childNodes&&e.childNodes.length&&Ft(e.childNodes,function(n){var r;gM(n)&&n.textContent&&(t+=(r=pM(n.textContent))!==null&&r!==void 0?r:"")}),m0(t)}function d_(e){return!!e&&e.nodeType===1}function ya(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function gM(e){return!!e&&e.nodeType===3}function mM(e){return!!e&&e.nodeType===11}var f1=["a","button","form","input","select","textarea","label"];function yM(e){var t=e.parentNode;return!(!t||!d_(t))&&t}function gD(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!J||!e||ya(e,"html")||!d_(e)||n!=null&&n.url_allowlist&&!JE(n.url_allowlist)||n!=null&&n.url_ignorelist&&JE(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var o=n.dom_event_allowlist;if(o&&!o.some(function(p){return t.type===p}))return!1}for(var s=!1,a=[e],l=!0,c=e;c.parentNode&&!ya(c,"body");)if(mM(c.parentNode))a.push(c.parentNode.host),c=c.parentNode.host;else{if(!(l=yM(c)))break;if(r||f1.indexOf(l.tagName.toLowerCase())>-1)s=!0;else{var u=J.getComputedStyle(l);u&&u.getPropertyValue("cursor")==="pointer"&&(s=!0)}a.push(l),c=l}if(!function(p,g){var m=g==null?void 0:g.element_allowlist;if(Fe(m))return!0;var b,y=Zi(p);try{var A=function(){var _=b.value;if(m.some(function(x){return _.tagName.toLowerCase()===x}))return{v:!0}};for(y.s();!(b=y.n()).done;){var S=A();if(xf(S)==="object")return S.v}}catch(_){y.e(_)}finally{y.f()}return!1}(a,n)||!function(p,g){var m=g==null?void 0:g.css_selector_allowlist;if(Fe(m))return!0;var b,y=Zi(p);try{var A=function(){var _=b.value;if(m.some(function(x){return _.matches(x)}))return{v:!0}};for(y.s();!(b=y.n()).done;){var S=A();if(xf(S)==="object")return S.v}}catch(_){y.e(_)}finally{y.f()}return!1}(a,n))return!1;var d=J.getComputedStyle(e);if(d&&d.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var h=e.tagName.toLowerCase();switch(h){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return s?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(f1.indexOf(h)>-1||e.getAttribute("contenteditable")==="true")}}function h1(e){for(var t=e;t.parentNode&&!ya(t,"body");t=t.parentNode){var n=Zg(t);if(dt(n,"ph-sensitive")||dt(n,"ph-no-capture"))return!1}if(dt(Zg(e),"ph-include"))return!0;var r=e.type||"";if(wr(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(wr(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function vM(e){return!!(ya(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||ya(e,"select")||ya(e,"textarea")||e.getAttribute("contenteditable")==="true")}var AM="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",mD=new RegExp("^(?:".concat(AM,")$")),yD=new RegExp(AM),bM="\\d{3}-?\\d{2}-?\\d{4}",vD=new RegExp("^(".concat(bM,")$")),AD=new RegExp("(".concat(bM,")"));function Yc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ei(e)||wr(e)&&(e=m0(e),(t?mD:yD).test((e||"").replace(/[- ]/g,""))||(t?vD:AD).test(e)))}function XE(e){var t=em(e);return Yc(t="".concat(t," ").concat(SM(e)).trim())?t:""}function SM(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Ft(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=em(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(SM(n)).trim())}catch(o){oe.error(o)}}),t}function bD(e){return function(t){var n=t.map(function(r){var i,o,s="";if(r.tag_name&&(s+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=Zi(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;s+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=be(be(be(be({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return dg(u).sort(function(h,p){var g=Vr(h,1)[0],m=Vr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=Vr(h,2),g=p[0],m=p[1];return d[ZE(g.toString())]=ZE(m.toString())}),s+=":",s+=dg(u).map(function(h){var p=Vr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,o={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:SD(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return dg(n).filter(function(s){return Vr(s,1)[0].indexOf("attr__")===0}).forEach(function(s){var a=Vr(s,2),l=a[0],c=a[1];return o.attributes[l]=c}),o})}(e))}function ZE(e){return e.replace(/"|\\"/g,'\\"')}function SD(e){var t=e.attr__class;return t?Hn(t)?t:u_(t):void 0}var p1="[SessionRecording]",g1="redacted",ip={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},_D=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],xD=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],wD=["/s/","/e/","/i/"];function ek(e,t,n,r){if(ei(e))return e;var i=(t==null?void 0:t["content-length"])||function(o){return new Blob([o]).size}(e);return wr(i)&&(i=parseInt(i)),i>n?p1+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function tk(e,t){if(ei(e))return e;var n=e;return Yc(n,!1)||(n=p1+" "+t+" body "+g1),Ft(xD,function(r){var i,o;(i=n)!==null&&i!==void 0&&i.length&&((o=n)===null||o===void 0?void 0:o.indexOf(r))!==-1&&(n=p1+" "+t+" body "+g1+" as might contain: "+r)}),n}var vs,ED=function(e,t){var n,r,i,o={payloadSizeLimitBytes:ip.payloadSizeLimitBytes,performanceEntryTypeToObserve:Ts(ip.performanceEntryTypeToObserve),payloadHostDenyList:[].concat(Ts(t.payloadHostDenyList||[]),Ts(ip.payloadHostDenyList))},s=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=o,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=ek(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=ek(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var b=Jd(m.name);if(!(b&&b.pathname&&wD.some(function(y){return b.pathname.indexOf(y)===0})))return m}((g=(p=h).requestHeaders,ei(g)||Ft(Object.keys(g??{}),function(m){_D.includes(m.toLowerCase())&&(g[m]=g1)}),p)));var p,g},d=Mo(e.session_recording.maskNetworkRequestFn);return d&&Mo(e.session_recording.maskCapturedNetworkRequestFn)&&oe.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return be(be({},h),{},{name:p==null?void 0:p.url})}),o.maskRequestFn=Mo(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,b=u(h);return b&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,b))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!Fe(p))return p.requestBody=tk(p.requestBody,"Request"),p.responseBody=tk(p.responseBody,"Response"),p}(u(h))},be(be(be({},ip),o),{},{recordHeaders:s,recordBody:a,recordPerformance:l,recordInitialRequests:l})},kD=xt(function e(t){var n,r,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_t(this,e),re(this,"bucketSize",100),re(this,"refillRate",10),re(this,"mutationBuckets",{}),re(this,"loggedTracker",{}),re(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(s){i.mutationBuckets[s]=i.mutationBuckets[s]+i.refillRate,i.mutationBuckets[s]>=i.bucketSize&&delete i.mutationBuckets[s]})}),re(this,"getNodeOrRelevantParent",function(s){var a=i.rrweb.mirror.getNode(s);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[s,a]}),re(this,"numberOfChanges",function(s){var a,l,c,u,d,h,p,g;return((a=(l=s.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=s.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=s.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=s.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),re(this,"throttleMutations",function(s){if(s.type!==3||s.data.source!==0)return s;var a=s.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=Vr(i.getNodeOrRelevantParent(u.id),2),m=g[0],b=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,b))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?s:void 0}),this.rrweb=t,this.options=o,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),CD=3e5,TD=[ms.MouseMove,ms.MouseInteraction,ms.Scroll,ms.ViewportResize,ms.Input,ms.TouchMove,ms.MediaInteraction,ms.Drag],nk=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},ji="[SessionRecording]",ID=function(){function e(t){var n=this;if(_t(this,e),re(this,"queuedRRWebEvents",[]),re(this,"isIdle",!1),re(this,"_linkedFlagSeen",!1),re(this,"_lastActivityTimestamp",Date.now()),re(this,"_linkedFlag",null),re(this,"_forceAllowLocalhostNetworkCapture",!1),re(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,J==null||J.addEventListener("beforeunload",function(){n._flushBuffer()}),J==null||J.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),J==null||J.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),J==null||J.addEventListener("visibilitychange",function(){if(Ce!=null&&Ce.visibilityState){var s="window "+Ce.visibilityState;n._tryAddCustomEvent(s,{})}}),!this.instance.sessionManager)throw oe.error(ji+" started without valid sessionManager"),new Error(ji+" started without valid sessionManager. This is a bug.");var r=this.sessionManager.checkAndGetSessionAndWindowId(),i=r.sessionId,o=r.windowId;this.sessionId=i,this.windowId=o,this.buffer=this.clearBuffer(),this._setupSampling()}return xt(e,[{key:"rrwebRecord",get:function(){var t;return bn==null||(t=bn.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw new Error(ji+" must be started with a valid sessionManager.");return this.instance.sessionManager}},{key:"fullSnapshotIntervalMillis",get:function(){var t;return((t=this.instance.config.session_recording)===null||t===void 0?void 0:t.full_snapshot_interval_millis)||CD}},{key:"isSampled",get:function(){var t=this.instance.get_property(Qd);return Ec(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(ZA),n=!this.instance.config.disable_session_recording;return J&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(LE),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(BE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(NE),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},o=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),s=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=dr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,l=!!(Ec(a)?a:r!=null&&r.capturePerformance);return o||s||l?{recordHeaders:o,recordBody:s,recordPerformance:l}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(DE);return Fi(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(FE);return Fi(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?ei(this._linkedFlag)||this._linkedFlagSeen?Ec(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),oe.info(ji+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,oe.info(ji+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(Fi(i)){var o,s=this.isSampled,a=r||!Ec(s);a?o=Math.random()<i:o=s,!o&&a&&oe.warn(ji+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(re({},Qd,o))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(re({},Qd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,o=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!ei(this._linkedFlag)){var s=wr(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=wr(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=dr(c)&&s in c,d=a?c[s]===a:u;if(d){var h={linkedFlag:s,linkedVariant:a},p="linked flag matched";oe.info(ji+" "+p,h),o._tryAddCustomEvent(p,h)}o._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;Fi(this.sampleRate)&&Gs(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,o,s,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=ei(h)?null:parseFloat(h),g=(o=t.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;n.register((re(d={},ZA,!!t.sessionRecording),re(d,LE,(s=t.sessionRecording)===null||s===void 0?void 0:s.consoleLogRecordingEnabled),re(d,NE,be({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),re(d,BE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),re(d,DE,p),re(d,FE,Fe(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:YP()})}},{key:"_startCapture",value:function(){var t=this;Fe(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut()||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():this.instance.requestRouter.loadScript("/static/recorder.js?v=".concat(wo.LIB_VERSION),function(n){if(n)return oe.error(ji+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&TD.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0,clearTimeout(this._fullSnapshotTimer),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),o=i.windowId,s=i.sessionId,a=this.sessionId!==s,l=this.windowId!==o;this.windowId=o,this.sessionId=s,(r||[hD,pD].indexOf(t.type)===-1&&(l||a||Fe(this._fullSnapshotTimer)))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):oe.warn(ji+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(nk(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(nk(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,o=0,s=Object.entries(i||{});o<s.length;o++){var a=Vr(s[o],2),l=a[0],c=a[1];l in r&&(l==="maskInputOptions"?r.maskInputOptions=be({password:!0},c):r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new kD(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");oe.info(p,{node:h}),n.log(ji+" "+p,"warn")}});var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(be({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=J?n._maskUrl(J.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h})}}catch(p){oe.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else oe.error(ji+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var n=this.fullSnapshotIntervalMillis;n&&(this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},n))}}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return bn.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(bn.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&Mo(bn.getRecordNetworkPlugin)&&(!eD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(bn.getRecordNetworkPlugin(ED(this.instance.config,this.networkPayloadCapture))):oe.info(ji+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&dr(t)){if(t.type===fg.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===fg.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&dr(l)&&l.type===6&&dr(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),o=u1(i);if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===fg.Custom){var s={$snapshot_bytes:o,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(s):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&J){var t=this._maskUrl(J.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Ts(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt<=2e3&&t._tryRRWebMethod(r)})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=Fi(r)&&r>=0,o=Fi(n)&&i&&r<n;return this.status==="buffering"||o?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&d1(this.buffer).forEach(function(s){t._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings"})}}]),e}(),RD=function(){function e(t){_t(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return xt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Cc),group_properties:this.instance.get_property(ta),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:Eo.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)oe.error("Failed to fetch feature flags from PostHog.");else{if(!Ce||!Ce.body)return oe.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);if(this.instance._afterDecideResponse(t),t.siteApps)if(this.instance.config.opt_in_site_apps){var i,o=Zi(t.siteApps);try{var s=function(){var a=i.value,l=a.id,c=a.url,u=n.instance.requestRouter.endpointFor("api",c);bn["__$$ph_site_app_".concat(l)]=n.instance,n.instance.requestRouter.loadScript(u,function(d){if(d)return oe.error("Error while initializing PostHog app with config id ".concat(l),d)})};for(o.s();!(i=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}}else t.siteApps.length>0&&oe.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),PD=J!=null&&J.location?Jg(J.location.hash,"__posthog")||Jg(location.hash,"state"):null,rk="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(vs||(vs={}));var MD=function(){function e(t){_t(this,e),this.instance=t}return xt(e,[{key:"setToolbarState",value:function(t){bn.ph_toolbar_state=t}},{key:"getToolbarState",value:function(){var t;return(t=bn.ph_toolbar_state)!==null&&t!==void 0?t:vs.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!J||!Ce)return!1;r=(t=r)!==null&&t!==void 0?t:J.location,o=(n=o)!==null&&n!==void 0?n:J.history;try{if(!i){try{J.localStorage.setItem("test","test"),J.localStorage.removeItem("test")}catch{return!1}i=J==null?void 0:J.localStorage}var s,a=PD||Jg(r.hash,"__posthog")||Jg(r.hash,"state"),l=a?PE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||PE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((s=l).source="url",s&&Object.keys(s).length>0&&(l.desiredHash?r.hash=l.desiredHash:o?o.replaceState(o.state,"",r.pathname+r.search):r.hash="")):((s=JSON.parse(i.getItem(rk)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(bn.ph_load_toolbar||bn.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this,r=!(Ce==null||!Ce.getElementById(s1));if(!J||r)return!1;var i=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,o=be(be({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});if(J.localStorage.setItem(rk,JSON.stringify(be(be({},o),{},{source:void 0}))),this.getToolbarState()===vs.LOADED)this._callLoadToolbar(o);else if(this.getToolbarState()===vs.UNINITIALIZED){this.setToolbarState(vs.LOADING);var s=3e5,a=Math.floor(Date.now()/s)*s;this.instance.requestRouter.loadScript("/static/toolbar.js?t=".concat(a),function(l){if(l)return oe.error("Failed to load toolbar",l),void n.setToolbarState(vs.UNINITIALIZED);n.setToolbarState(vs.LOADED),n._callLoadToolbar(o)}),xs(J,"turbolinks:load",function(){n.setToolbarState(vs.UNINITIALIZED),n.loadToolbar(o)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),jD=function(){function e(t){_t(this,e),re(this,"isPaused",!0),re(this,"queue",[]),re(this,"flushTimeoutMs",3e3),this.sendRequest=t}return xt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Ts(r.filter(function(i){return i.url.indexOf("/e")===0})),Ts(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(be(be({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(o){var s=n[o],a=new Date().getTime();s.data&&Hn(s.data)&&Ft(s.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(s)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Ft(this.queue,function(n){var r,i=n,o=(i?i.batchKey:null)||i.url;Fe(t[o])&&(t[o]=be(be({},i),{},{data:[]})),(r=t[o].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),Ai=Uint8Array,Dr=Uint16Array,fu=Uint32Array,f_=new Ai([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h_=new Ai([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ik=new Ai([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_M=function(e,t){for(var n=new Dr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new fu(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},xM=_M(f_,2),OD=xM[0],m1=xM[1];OD[28]=258,m1[258]=28;for(var ok=_M(h_,0)[1],y1=new Dr(32768),Qt=0;Qt<32768;++Qt){var Ja=(43690&Qt)>>>1|(21845&Qt)<<1;Ja=(61680&(Ja=(52428&Ja)>>>2|(13107&Ja)<<2))>>>4|(3855&Ja)<<4,y1[Qt]=((65280&Ja)>>>8|(255&Ja)<<8)>>>1}var Xd=function(e,t,n){for(var r=e.length,i=0,o=new Dr(t);i<r;++i)++o[e[i]-1];var s,a=new Dr(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new Dr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[y1[d]>>>l]=c}else for(s=new Dr(r),i=0;i<r;++i)s[i]=y1[a[e[i]-1]++]>>>15-e[i];return s},Ml=new Ai(288);for(Qt=0;Qt<144;++Qt)Ml[Qt]=8;for(Qt=144;Qt<256;++Qt)Ml[Qt]=9;for(Qt=256;Qt<280;++Qt)Ml[Qt]=7;for(Qt=280;Qt<288;++Qt)Ml[Qt]=8;var tm=new Ai(32);for(Qt=0;Qt<32;++Qt)tm[Qt]=5;var VD=Xd(Ml,9,0),LD=Xd(tm,5,0),wM=function(e){return(e/8>>0)+(7&e&&1)},EM=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Dr?Dr:e instanceof fu?fu:Ai)(n-t);return r.set(e.subarray(t,n)),r},ds=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},cd=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},rv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new Ai(0),0];if(i==1){var s=new Ai(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort(function(x,w){return x.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new Dr(h+1),g=ND(n[u-1],p,0);if(g>t){r=0;var m=0,b=g-t,y=1<<b;for(o.sort(function(x,w){return p[w.s]-p[x.s]||x.f-w.f});r<i;++r){var A=o[r].s;if(!(p[A]>t))break;m+=y-(1<<g-p[A]),p[A]=t}for(m>>>=b;m>0;){var S=o[r].s;p[S]<t?m-=1<<t-p[S]++-1:++r}for(;r>=0&&m;--r){var _=o[r].s;p[_]==t&&(--p[_],++m)}g=t}return[new Ai(p),g]},ND=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},sk=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Dr(++t),r=0,i=e[0],o=1,s=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},ud=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},hg=function(e,t,n){var r=n.length,i=wM(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},ak=function(e,t,n,r,i,o,s,a,l,c,u){ds(t,u++,n),++i[256];for(var d=rv(i,15),h=d[0],p=d[1],g=rv(o,15),m=g[0],b=g[1],y=sk(h),A=y[0],S=y[1],_=sk(m),x=_[0],w=_[1],k=new Dr(19),C=0;C<A.length;++C)k[31&A[C]]++;for(C=0;C<x.length;++C)k[31&x[C]]++;for(var E=rv(k,7),P=E[0],N=E[1],z=19;z>4&&!P[ik[z-1]];--z);var j,V,M,T,D=c+5<<3,L=ud(i,Ml)+ud(o,tm)+s,F=ud(i,h)+ud(o,m)+s+14+3*z+ud(k,P)+(2*k[16]+3*k[17]+7*k[18]);if(D<=L&&D<=F)return hg(t,u,e.subarray(l,l+c));if(ds(t,u,1+(F<L)),u+=2,F<L){j=Xd(h,p,0),V=h,M=Xd(m,b,0),T=m;var $=Xd(P,N,0);for(ds(t,u,S-257),ds(t,u+5,w-1),ds(t,u+10,z-4),u+=14,C=0;C<z;++C)ds(t,u+3*C,P[ik[C]]);u+=3*z;for(var G=[A,x],U=0;U<2;++U){var ne=G[U];for(C=0;C<ne.length;++C){var B=31&ne[C];ds(t,u,$[B]),u+=P[B],B>15&&(ds(t,u,ne[C]>>>5&127),u+=ne[C]>>>12)}}}else j=VD,V=Ml,M=LD,T=tm;for(C=0;C<a;++C)if(r[C]>255){B=r[C]>>>18&31,cd(t,u,j[B+257]),u+=V[B+257],B>7&&(ds(t,u,r[C]>>>23&31),u+=f_[B]);var fe=31&r[C];cd(t,u,M[fe]),u+=T[fe],fe>3&&(cd(t,u,r[C]>>>5&8191),u+=h_[fe])}else cd(t,u,j[r[C]]),u+=V[r[C]];return cd(t,u,j[256]),u+V[256]},BD=new fu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DD=new Ai(0),FD=function(){for(var e=new fu(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),$D=function(e,t,n,r,i){return function(o,s,a,l,c,u){var d=o.length,h=new Ai(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!s||d<8)for(var m=0;m<=d;m+=65535){var b=m+65535;b<d?g=hg(p,g,o.subarray(m,b)):(p[m]=u,g=hg(p,g,o.subarray(m,d)))}else{for(var y=BD[s-1],A=y>>>13,S=8191&y,_=(1<<a)-1,x=new Dr(32768),w=new Dr(_+1),k=Math.ceil(a/3),C=2*k,E=function(Ge){return(o[Ge]^o[Ge+1]<<k^o[Ge+2]<<C)&_},P=new fu(25e3),N=new Dr(288),z=new Dr(32),j=0,V=0,M=(m=0,0),T=0,D=0;m<d;++m){var L=E(m),F=32767&m,$=w[L];if(x[F]=$,w[L]=F,T<=m){var G=d-m;if((j>7e3||M>24576)&&G>423){g=ak(o,p,0,P,N,z,V,M,D,m-D,g),M=j=V=0,D=m;for(var U=0;U<286;++U)N[U]=0;for(U=0;U<30;++U)z[U]=0}var ne=2,B=0,fe=S,Z=F-$&32767;if(G>2&&L==E(m-Z))for(var ae=Math.min(A,G)-1,Me=Math.min(32767,m),xe=Math.min(258,G);Z<=Me&&--fe&&F!=$;){if(o[m+ne]==o[m+ne-Z]){for(var le=0;le<xe&&o[m+le]==o[m+le-Z];++le);if(le>ne){if(ne=le,B=Z,le>ae)break;var Ae=Math.min(Z,le-2),Le=0;for(U=0;U<Ae;++U){var Te=m-Z+U+32768&32767,Se=Te-x[Te]+32768&32767;Se>Le&&(Le=Se,$=Te)}}}Z+=(F=$)-($=x[F])+32768&32767}if(B){P[M++]=268435456|m1[ne]<<18|ok[B];var we=31&m1[ne],De=31&ok[B];V+=f_[we]+h_[De],++N[257+we],++z[De],T=m+ne,++j}else P[M++]=o[m],++N[o[m]]}}g=ak(o,p,u,P,N,z,V,M,D,m-D,g),u||(g=hg(p,g,DD))}return EM(h,0,l+wM(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},iv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function zD(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=FD[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,o=$D(e,t,10+((i=t).filename&&i.filename.length+1||0),8),s=o.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&iv(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(o,t),iv(o,s-8,n.d()),iv(o,s-4,r),o}var UD=!!YA||!!KA,lk="text/plain",nm=function(e,t){var n=Vr(e.split("?"),2),r=n[0],i=n[1],o=be({},t);i==null||i.split("&").forEach(function(a){var l=Vr(a.split("="),1)[0];delete o[l]});var s=tD(o);return s=s?(i?i+"&":"")+s:i,"".concat(r,"?").concat(s)},HD=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},ov=function(e){var t=e.data,n=e.compression;if(t){if(n===Eo.GZipJS){var r=zD(function(o,s){var a=o.length;if(!s&&typeof TextEncoder<"u")return new TextEncoder().encode(o);for(var l=new Ai(o.length+(o.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new Ai(c+8+(a-d<<1));h.set(l),l=h}var p=o.charCodeAt(d);p<128||s?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&o.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return EM(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:lk,body:new Blob([r],{type:lk})}}if(n===Eo.Base64){var i=function(o){var s,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!o)return o;o=zB(o);do s=(u=o.charCodeAt(h++)<<16|o.charCodeAt(h++)<<8|o.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(s)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<o.length);switch(g=m.join(""),o.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:HD(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},Zd=[];YA&&Zd.push({transport:"XHR",method:function(e){var t,n=new YA;n.open(e.method||"GET",e.url,!0);var r=(t=ov(e))!==null&&t!==void 0?t:{},i=r.contentType,o=r.body;Ft(e.headers,function(s,a){n.setRequestHeader(a,s)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var s,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,a)}},n.send(o)}}),KA&&Zd.push({transport:"fetch",method:function(e){var t,n,r=(t=ov(e))!==null&&t!==void 0?t:{},i=r.contentType,o=r.body,s=new Headers;Ft(s,function(u,d){s.append(d,u)}),i&&s.append("Content-Type",i);var a=e.url,l=null;if(IE){var c=new IE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}KA(a,{method:(e==null?void 0:e.method)||"GET",headers:s,keepalive:e.method==="POST",body:o,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){oe.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;oe.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})}}),Es!=null&&Es.sendBeacon&&Zd.push({transport:"sendBeacon",method:function(e){var t=nm(e.url,{beacon:"1"});try{var n,r=(n=ov(e))!==null&&n!==void 0?n:{},i=r.contentType,o=r.body,s=typeof o=="string"?new Blob([o],{type:i}):o;Es.sendBeacon(t,s)}catch{}}});var GD=["retriesPerformedSoFar"],hl,qD=function(){function e(t){var n=this;_t(this,e),re(this,"isPolling",!1),re(this,"pollIntervalMs",3e3),re(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!Fe(J)&&"onLine"in J.navigator&&(this.areWeOnline=J.navigator.onLine,J.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),J.addEventListener("offline",function(){n.areWeOnline=!1}))}return xt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=NB(t,GD);Fi(r)&&r>0&&(i.url=nm(i.url,{retry_count:r})),this.instance._send_request(be(be({},i),{},{callback:function(o){var s;o.statusCode!==200&&(o.statusCode<400||o.statusCode>=500)&&(r??0)<10?n.enqueue(be({retriesPerformedSoFar:r},i)):(s=i.callback)===null||s===void 0||s.call(i,o)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(s){var a=3e3*Math.pow(2,s),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var o="Enqueued failed request for retry in ".concat(r);navigator.onLine||(o+=" (Browser is offline)"),oe.warn(o),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,o=Zi(r);try{for(o.s();!(i=o.n()).done;){var s=i.value.requestOptions;this.retriableRequest(s)}}catch(a){o.e(a)}finally{o.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=Zi(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(be(be({},r),{},{transport:"sendBeacon"}))}catch(i){oe.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),op=1800,WD=function(){function e(t,n,r,i){var o;_t(this,e),re(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||ua,this._windowIdGenerator=i||ua;var s=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||op;if(Fi(a)?a>op?oe.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):a<60&&oe.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(oe.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),a=op),this._sessionTimeoutMs=1e3*Math.min(Math.max(a,60),op),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var l=lr.parse(this._window_id_storage_key),c=lr.parse(this._primary_window_exists_storage_key);l&&!c?this._windowId=l:lr.remove(this._window_id_storage_key),lr.set(this._primary_window_exists_storage_key,!0)}if((o=this.config.bootstrap)!==null&&o!==void 0&&o.sessionID)try{var u=function(d){var h=d.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)}(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),u)}catch(d){oe.error("Invalid sessionID in bootstrap",d)}this._listenToReloadWindow()}return xt(e,[{key:"onSessionId",value:function(t){var n=this;return Fe(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&lr.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&lr.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?lr.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(re({},Wg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Wg];return Hn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;J==null||J.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&lr.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=Vr(this._getSessionId(),3),i=r[0],o=r[1],s=r[2],a=this._getWindowId(),l=s&&s>0&&Math.abs(n-s)>864e5,c=!1,u=!o,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),oe.info("[SessionId] new session ID generated",{sessionId:o,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),s=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=s===0?new Date().getTime():s;return this._setWindowId(a),this._setSessionId(o,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(o,a)}),{sessionId:o,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(hl||(hl={}));var ck="i.posthog.com",KD=function(){function e(t){_t(this,e),re(this,"_regionCache",{}),this.instance=t}return xt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n==="https://app.posthog.com"?"https://us.posthog.com":n}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=hl.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=hl.EU:this._regionCache[this.apiHost]=hl.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(ck),".posthog.com"))+n;if(this.region===hl.CUSTOM)return this.apiHost+n;var r=ck+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}},{key:"loadScript",value:function(t,n){if(this.instance.config.disable_external_dependency_loading)return oe.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=t[0]==="/"?this.endpointFor("assets",t):t,i=function(){if(!Ce)return n("document not found");var o=Ce.createElement("script");o.type="text/javascript",o.src=r,o.onload=function(l){return n(void 0,l)},o.onerror=function(l){return n(l)};var s,a=Ce.querySelectorAll("body > script");a.length>0?(s=a[0].parentNode)===null||s===void 0||s.insertBefore(o,a[0]):Ce.body.appendChild(o)};Ce!=null&&Ce.body?i():Ce==null||Ce.addEventListener("DOMContentLoaded",i)}}]),e}(),v1="/e/",sp="[Exception Capture]",YD=function(){function e(t){var n,r,i=this;_t(this,e),re(this,"originalOnUnhandledRejectionHandler",void 0),re(this,"startCapturing",function(){var o;if(J&&i.isEnabled&&!i.hasHandlers&&((o=J.onerror)===null||o===void 0||!o.__POSTHOG_INSTRUMENTED__)){var s=J.posthogErrorWrappingFunctions.wrapOnError,a=J.posthogErrorWrappingFunctions.wrapUnhandledRejection;if(s&&a)try{i.unwrapOnError=s(i.captureException.bind(i)),i.unwrapUnhandledRejection=a(i.captureException.bind(i))}catch(l){oe.error(sp+" failed to start",l),i.stopCapturing()}else oe.error(sp+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[jE]),this._endpoint=((r=this.instance.persistence)===null||r===void 0?void 0:r.props[OE])||v1,this.startIfEnabled()}return xt(e,[{key:"endpoint",get:function(){return this._endpoint}},{key:"isEnabled",get:function(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}},{key:"isCapturing",get:function(){var t;return!(J==null||(t=J.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}},{key:"hasHandlers",get:function(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this.isCapturing&&(oe.info(sp+" enabled, starting..."),this.loadScript(this.startCapturing))}},{key:"loadScript",value:function(t){this.hasHandlers&&t(),this.instance.requestRouter.loadScript(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js?v=".concat(wo.LIB_VERSION)),function(n){if(n)return oe.error(sp+" failed to load script",n);t()})}},{key:"stopCapturing",value:function(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}},{key:"afterDecideResponse",value:function(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this._endpoint=dr(n)&&n.endpoint||v1,this.instance.persistence&&(this.instance.persistence.register(re({},jE,this.remoteEnabled)),this.instance.persistence.register(re({},OE,this._endpoint))),this.startIfEnabled()}},{key:"captureException",value:function(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.sendExceptionEvent(t)}},{key:"sendExceptionEvent",value:function(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}]),e}(),kM="posthog-js";function CM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.organization,r=t.projectId,i=t.prefix,o=t.severityAllowList,s=o===void 0?["error"]:o;return function(a){var l,c,u,d,h,p;if(!(s==="*"||s.includes(a.level))||!e.__loaded)return a;a.tags||(a.tags={});var g=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));a.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var m=((l=a.exception)===null||l===void 0?void 0:l.values)||[],b={$exception_message:((c=m[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=m[0])===null||u===void 0?void 0:u.type,$exception_personURL:g,$exception_level:a.level,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=m[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=m[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(b.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),e.capture("$exception",b,{_url:((p=e.exceptionObserver)===null||p===void 0?void 0:p.endpoint)||v1}),a}}var QD=xt(function e(t,n,r,i,o){_t(this,e),this.name=kM,this.setupOnce=function(s){s(CM(t,{organization:n,projectId:r,prefix:i,severityAllowList:o}))}});function JD(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var o=r.config.segment;if(!o)return i();var s=function(l){var c=function(){return l.anonymousId()||ua()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(ys,"identified")),i()},a=o.user();"then"in a&&Mo(a.then)?a.then(function(l){return s(l)}):s(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||oe.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(o,s){var a;if(!s)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||r.reset(),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:o.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(s,(a=o.event.properties)!==null&&a!==void 0?a:{},new Date);return o.event.properties=Object.assign({},l,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(o){return i(o,o.event.event)},page:function(o){return i(o,"$pageview")},identify:function(o){return i(o,"$identify")},screen:function(o){return i(o,"$screen")}}}(e)).then(function(){t()})})}var uk,rm,vo,XD=function(){function e(t){_t(this,e),this._instance=t}return xt(e,[{key:"doPageView",value:function(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=J==null?void 0:J.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}},{key:"doPageLeave",value:function(t){return this._previousPageViewProperties(t)}},{key:"_previousPageViewProperties",value:function(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var o={};if(i){var s=i.maxScrollHeight,a=i.lastScrollY,l=i.maxScrollY,c=i.maxContentHeight,u=i.lastContentY,d=i.maxContentY;Fe(s)||Fe(a)||Fe(l)||Fe(c)||Fe(u)||Fe(d)||(s=Math.ceil(s),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),o={$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:s<=1?1:ap(a/s,0,1),$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:s<=1?1:ap(l/s,0,1),$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c<=1?1:ap(u/c,0,1),$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:c<=1?1:ap(d/c,0,1)})}return n&&(o.$prev_pageview_pathname=n),r&&(o.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),o}}]),e}();function ap(e,t,n){return Math.max(t,Math.min(e,n))}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(uk||(uk={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(rm||(rm={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(vo||(vo={}));var TM=function(){function e(){_t(this,e),re(this,"events",{}),this.events={}}return xt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=Zi(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var o,s=Zi(this.events["*"]||[]);try{for(s.s();!(o=s.n()).done;)(0,o.value)(t,n)}catch(a){s.e(a)}finally{s.f()}}}]),e}(),ZD=function(){function e(t){var n=this;_t(this,e),re(this,"_debugEventEmitter",new TM),re(this,"checkStep",function(r,i){return n.checkStepEvent(r,i)&&n.checkStepUrl(r,i)&&n.checkStepElement(r,i)}),re(this,"checkStepEvent",function(r,i){return i==null||!i.event||(r==null?void 0:r.event)===(i==null?void 0:i.event)}),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}return xt(e,[{key:"init",value:function(){var t,n=this;if(!Fe((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var r;(r=this.instance)===null||r===void 0||r._addCaptureHook(function(i,o){n.on(i,o)})}}},{key:"register",value:function(t){var n,r,i=this;if(!Fe((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(function(a){var l,c;(l=i.actionRegistry)===null||l===void 0||l.add(a),(c=a.steps)===null||c===void 0||c.forEach(function(u){var d;(d=i.actionEvents)===null||d===void 0||d.add((u==null?void 0:u.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var o,s=new Set;t.forEach(function(a){var l;(l=a.steps)===null||l===void 0||l.forEach(function(c){c!=null&&c.selector&&s.add(c==null?void 0:c.selector)})}),(o=this.instance)===null||o===void 0||o.autocapture.setElementSelectors(s)}}},{key:"on",value:function(t,n){var r,i=this;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(function(o){i.checkAction(n,o)&&i._debugEventEmitter.emit("actionCaptured",o.name)})}},{key:"_addActionHook",value:function(t){this.onAction("actionCaptured",function(n){return t(n)})}},{key:"checkAction",value:function(t,n){if((n==null?void 0:n.steps)==null)return!1;var r,i=Zi(n.steps);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(this.checkStep(t,o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}},{key:"onAction",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"checkStepUrl",value:function(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!e.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}},{key:"checkStepElement",value:function(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(function(o){return!(n!=null&&n.href&&!e.matchString(o.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||o.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!e.matchString(o.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!e.matchString(o.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))}))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}},{key:"getElementsList",value:function(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}],[{key:"matchString",value:function(t,n,r){switch(r){case"regex":return!!J&&Qg(t,n);case"exact":return n===t;case"contains":var i=e.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return Qg(t,i);default:return!1}}},{key:"escapeStringRegexp",value:function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}]),e}(),A1=function(){function e(t){_t(this,e),this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}return xt(e,[{key:"register",value:function(t){var n;Fe((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}},{key:"setupActionBasedSurveys",value:function(t){var n=this,r=t.filter(function(i){var o,s,a,l;return((o=i.conditions)===null||o===void 0?void 0:o.actions)&&((s=i.conditions)===null||s===void 0||(a=s.actions)===null||a===void 0||(l=a.values)===null||l===void 0?void 0:l.length)>0});r.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new ZD(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(function(i){n.onAction(i)})),r.forEach(function(i){var o,s,a,l,c,u,d,h,p,g;i.conditions&&(o=i.conditions)!==null&&o!==void 0&&o.actions&&(s=i.conditions)!==null&&s!==void 0&&(a=s.actions)!==null&&a!==void 0&&a.values&&((l=i.conditions)===null||l===void 0||(c=l.actions)===null||c===void 0||(u=c.values)===null||u===void 0?void 0:u.length)>0&&((d=n.actionMatcher)===null||d===void 0||d.register(i.conditions.actions.values),(h=i.conditions)===null||h===void 0||(p=h.actions)===null||p===void 0||(g=p.values)===null||g===void 0||g.forEach(function(m){if(m&&m.name){var b=n.actionToSurveys.get(m.name);b&&b.push(i.id),n.actionToSurveys.set(m.name,b||[i.id])}}))}))}},{key:"setupEventBasedSurveys",value:function(t){var n,r=this;t.filter(function(i){var o,s,a,l;return((o=i.conditions)===null||o===void 0?void 0:o.events)&&((s=i.conditions)===null||s===void 0||(a=s.events)===null||a===void 0||(l=a.values)===null||l===void 0?void 0:l.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook(function(i,o){r.onEvent(i,o)}),t.forEach(function(i){var o,s,a;(o=i.conditions)===null||o===void 0||(s=o.events)===null||s===void 0||(a=s.values)===null||a===void 0||a.forEach(function(l){if(l&&l.name){var c=r.eventToSurveys.get(l.name);c&&c.push(i.id),r.eventToSurveys.set(l.name,c||[i.id])}})}))}},{key:"onEvent",value:function(t,n){var r,i,o=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[Zh])||[];if(e.SURVEY_SHOWN_EVENT_NAME==t&&n&&o.length>0){var s,a=n==null||(s=n.properties)===null||s===void 0?void 0:s.$survey_id;if(a){var l=o.indexOf(a);l>=0&&(o.splice(l,1),this._updateActivatedSurveys(o))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(o.concat(this.eventToSurveys.get(t)||[]))}},{key:"onAction",value:function(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[Zh])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}},{key:"_updateActivatedSurveys",value:function(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register(re({},Zh,Ts(new Set(t))))}},{key:"getSurveys",value:function(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[Zh];return r||[]}},{key:"getEventToSurveys",value:function(){return this.eventToSurveys}},{key:"_getActionMatcher",value:function(){return this.actionMatcher}}]),e}();re(A1,"SURVEY_SHOWN_EVENT_NAME","survey shown");var dd="[Surveys]",eF={icontains:function(e){return!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e){return!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())===-1},regex:function(e){return!!J&&Qg(J.location.href,e)},not_regex:function(e){return!!J&&!Qg(J.location.href,e)},exact:function(e){return(J==null?void 0:J.location.href)===e},is_not:function(e){return(J==null?void 0:J.location.href)!==e}},tF=function(){function e(t){_t(this,e),this.instance=t,this._surveyEventReceiver=null}return xt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=bn==null?void 0:bn.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new A1(this.instance)),this.instance.requestRouter.loadScript("/static/surveys.js",function(r){if(r)return oe.error(dd,"Could not load surveys script",r);t._surveyManager=bn.extendPostHogWithSurveys(t.instance)}))}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new A1(this.instance));var i=this.instance.get_property(t1);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(o){var s;if(o.statusCode!==200||!o.json)return t([]);var a,l=o.json.surveys||[],c=l.filter(function(u){var d,h,p,g,m,b,y,A,S,_,x,w;return((d=u.conditions)===null||d===void 0?void 0:d.events)&&((h=u.conditions)===null||h===void 0||(p=h.events)===null||p===void 0?void 0:p.values)&&((g=u.conditions)===null||g===void 0||(m=g.events)===null||m===void 0||(b=m.values)===null||b===void 0?void 0:b.length)>0||((y=u.conditions)===null||y===void 0?void 0:y.actions)&&((A=u.conditions)===null||A===void 0||(S=A.actions)===null||S===void 0?void 0:S.values)&&((_=u.conditions)===null||_===void 0||(x=_.actions)===null||x===void 0||(w=x.values)===null||w===void 0?void 0:w.length)>0});return c.length>0&&((a=n._surveyEventReceiver)===null||a===void 0||a.register(c)),(s=n.instance.persistence)===null||s===void 0||s.register(re({},t1,l)),t(l)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var o,s=i.filter(function(c){return!(!c.start_date||c.end_date)}).filter(function(c){var u,d,h,p;if(!c.conditions)return!0;var g=(u=c.conditions)===null||u===void 0||!u.url||eF[(d=(h=c.conditions)===null||h===void 0?void 0:h.urlMatchType)!==null&&d!==void 0?d:"icontains"](c.conditions.url),m=(p=c.conditions)===null||p===void 0||!p.selector||(Ce==null?void 0:Ce.querySelector(c.conditions.selector));return g&&m}),a=(o=n._surveyEventReceiver)===null||o===void 0?void 0:o.getSurveys(),l=s.filter(function(c){var u,d,h,p,g,m,b,y,A,S;if(!c.linked_flag_key&&!c.targeting_flag_key&&!c.internal_targeting_flag_key)return!0;var _=!c.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(c.linked_flag_key),x=!c.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(c.targeting_flag_key),w=((u=c.conditions)===null||u===void 0?void 0:u.events)&&((d=c.conditions)===null||d===void 0||(h=d.events)===null||h===void 0?void 0:h.values)&&((p=c.conditions)===null||p===void 0||(g=p.events)===null||g===void 0?void 0:g.values.length)>0,k=((m=c.conditions)===null||m===void 0?void 0:m.actions)&&((b=c.conditions)===null||b===void 0||(y=b.actions)===null||y===void 0?void 0:y.values)&&((A=c.conditions)===null||A===void 0||(S=A.actions)===null||S===void 0?void 0:S.values.length)>0,C=!w&&!k||(a==null?void 0:a.includes(c.id)),E=n._canActivateRepeatedly(c),P=!(c.internal_targeting_flag_key&&!E)||n.instance.featureFlags.isFeatureEnabled(c.internal_targeting_flag_key);return _&&x&&P&&C});return t(l)},r)}},{key:"getNextSurveyStep",value:function(t,n,r){var i,o=t.questions[n],s=n+1;if((i=o.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?vo.End:s;if(o.branching.type===vo.End)return vo.End;if(o.branching.type===vo.SpecificQuestion){if(Number.isInteger(o.branching.index))return o.branching.index}else if(o.branching.type===vo.ResponseBased){if(o.type===rm.SingleChoice){var a,l,c=o.choices.indexOf("".concat(r));if((a=o.branching)!==null&&a!==void 0&&(l=a.responseValues)!==null&&l!==void 0&&l.hasOwnProperty(c)){var u=o.branching.responseValues[c];return Number.isInteger(u)?u:u===vo.End?vo.End:s}}else if(o.type===rm.Rating){var d,h;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var p=function(m,b){if(b===3){if(m<1||m>3)throw new Error("The response must be in range 1-3");return m===1?"negative":m===2?"neutral":"positive"}if(b===5){if(m<1||m>5)throw new Error("The response must be in range 1-5");return m<=2?"negative":m===3?"neutral":"positive"}if(b===10){if(m<0||m>10)throw new Error("The response must be in range 0-10");return m<=6?"detractors":m<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 10")}(r,o.scale);if((d=o.branching)!==null&&d!==void 0&&(h=d.responseValues)!==null&&h!==void 0&&h.hasOwnProperty(p)){var g=o.branching.responseValues[p];return Number.isInteger(g)?g:g===vo.End?vo.End:s}}return s}return oe.warn(dd,"Falling back to next question index due to unexpected branching type"),s}},{key:"_canActivateRepeatedly",value:function(t){return ei(bn.__PosthogExtensions__.canActivateRepeatedly)&&oe.warn(dd,"canActivateRepeatedly is not defined, must init before calling"),bn.__PosthogExtensions__.canActivateRepeatedly(t)}},{key:"canRenderSurvey",value:function(t){var n=this;ei(this._surveyManager)?oe.warn(dd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(r){var i=r.filter(function(o){return o.id===t})[0];n._surveyManager.canRenderSurvey(i)})}},{key:"renderSurvey",value:function(t,n){var r=this;ei(this._surveyManager)?oe.warn(dd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(i){var o=i.filter(function(s){return s.id===t})[0];r._surveyManager.renderSurvey(o,Ce==null?void 0:Ce.querySelector(n))})}}]),e}(),nF=function(){function e(t){var n,r,i=this;_t(this,e),re(this,"serverLimits",{}),re(this,"lastEventRateLimited",!1),re(this,"checkForLimiting",function(o){var s=o.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(function(a){oe.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void oe.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return xt(e,[{key:"clientRateLimitContext",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=new Date().getTime(),s=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(r1))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:o};s.tokens+=(o-s.last)/1e3*this.captureEventsPerSecond,s.last=o,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var a=s.tokens<1;return a||i||(s.tokens=Math.max(0,s.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(r1,s),{isRateLimited:a,remainingTokens:s.tokens}}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),rF=function(){return be({initialPathName:(Yr==null?void 0:Yr.pathname)||"",referringDomain:Xn.referringDomain()},Xn.campaignParams())},iF=function(){function e(t,n,r){var i=this;_t(this,e),re(this,"_onSessionIdCallback",function(o){var s=i._getStoredProps();if(!s||s.sessionId!==o){var a={sessionId:o,props:i._sessionSourceParamGenerator()};i._persistence.register(re({},n1,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||rF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return xt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[n1]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),oF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],dk=function(e,t){if(!e)return!1;var n=e.toLowerCase();return oF.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},IM=function(){function e(){_t(this,e),this.clicks=[]}return xt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}();function fk(e){var t;return e.id===s1||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+s1))}var sF=function(){function e(t){var n,r=this;_t(this,e),re(this,"rageclicks",new IM),re(this,"_enabledServerSide",!1),re(this,"_initialized",!1),re(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[XA]),J==null||J.addEventListener("beforeunload",function(){r.flush()})}return xt(e,[{key:"flushIntervalMilliseconds",get:function(){var t=5e3;return dr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}},{key:"isEnabled",get:function(){return Fe(this.instance.config.capture_heatmaps)?Fe(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}},{key:"startIfEnabled",value:function(){if(this.isEnabled){if(this._initialized)return;oe.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),this.getAndClearBuffer()}}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(re({},XA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;J&&Ce&&(xs(Ce,"click",function(n){return t._onClick(n||(J==null?void 0:J.event))},!1,!0),xs(Ce,"mousemove",function(n){return t._onMouseMove(n||(J==null?void 0:J.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),s=function(a,l,c){for(var u=a;u&&!ya(u,"body");){if(u===c)return!1;if(dt(l,J==null?void 0:J.getComputedStyle(u).position))return!0;u=yM(u)}return!1}(t.target,["fixed","sticky"],o);return{x:t.clientX+(s?0:i),y:t.clientY+(s?0:r),target_fixed:s,type:n}}},{key:"_onClick",value:function(t){var n;if(!fk(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(be(be({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;fk(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(J){var n=J.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}},{key:"flush",value:function(){this.buffer&&!ug(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}]),e}(),aF=function(){function e(t){var n=this;_t(this,e),re(this,"_updateScrollData",function(){var r,i,o,s;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(o=n.context.maxContentY)!==null&&o!==void 0?o:0),n.context.maxContentHeight=Math.max(d,(s=n.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}return xt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){J==null||J.addEventListener("scroll",this._updateScrollData,!0),J==null||J.addEventListener("scrollend",this._updateScrollData,!0),J==null||J.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return J==null?void 0:J.document.documentElement;var t,n=Zi(Hn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=J==null?void 0:J.document.querySelector(r);if(i)return i}}catch(o){n.e(o)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return J&&(J.scrollY||J.pageYOffset||J.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return J&&(J.scrollX||J.pageXOffset||J.document.documentElement.scrollLeft)||0}}]),e}(),sv="$copy_autocapture";function av(e,t){return t.length>e?t.slice(0,e)+"...":t}var na,lF=function(){function e(t){_t(this,e),re(this,"_initialized",!1),re(this,"_isDisabledServerSide",null),re(this,"rageclicks",new IM),re(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}return xt(e,[{key:"config",get:function(){var t,n,r=dr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(function(i){return new RegExp(i)}),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(function(i){return new RegExp(i)}),r}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(J&&Ce){var n=function(i){i=i||(J==null?void 0:J.event);try{t._captureEvent(i)}catch(o){oe.error("Failed to capture event",o)}},r=function(i){i=i||(J==null?void 0:J.event),t._captureEvent(i,sv)};xs(Ce,"submit",n,!1,!0),xs(Ce,"change",n,!1,!0),xs(Ce,"click",n,!1,!0),this.config.capture_copied_text&&(xs(Ce,"copy",r,!1,!0),xs(Ce,"cut",r,!1,!0))}}else oe.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(re({},ME,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"setElementSelectors",value:function(t){this._elementSelectors=t}},{key:"getElementSelectors",value:function(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(function(i){var o=Ce==null?void 0:Ce.querySelectorAll(i);o==null||o.forEach(function(s){t===s&&r.push(i)})}),r}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[ME],i=this._isDisabledServerSide;if(Gs(i)&&!Ec(r)&&!this.instance.config.advanced_disable_decide)return!1;var o=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!o}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!d_(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!h1(t))return{};var n={};return Ft(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),o=r.value;i&&o&&Yc(o)&&(n[i]=o)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,o=t.tagName.toLowerCase(),s={tag_name:o};f1.indexOf(o)>-1&&!r&&(o.toLowerCase()==="a"||o.toLowerCase()==="button"?s.$el_text=av(1024,XE(t)):s.$el_text=av(1024,em(t)));var a=Zg(t);a.length>0&&(s.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Ft(t.attributes,function(h){var p;if((!vM(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&Yc(h.value)&&(p=h.name,!wr(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=u_(g).join(" ")),s["attr__"+h.name]=av(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return s.nth_child=c,s.nth_of_type=u,s}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return Fe(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,o=this._getEventTarget(t);gM(o)&&(o=o.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=r===sv;if(o&&gD(o,t,this.config,s,s?["copy","cut"]:void 0)){for(var a,l,c=[o],u=o;u.parentNode&&!ya(u,"body");)mM(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h,p=[],g={},m=!1;if(Ft(c,function(E){var P=h1(E);E.tagName.toLowerCase()==="a"&&(d=E.getAttribute("href"),d=P&&Yc(d)&&d),dt(Zg(E),"ph-no-capture")&&(m=!0),p.push(n._getPropertiesFromElement(E,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var N=n._getAugmentPropertiesFromElement(E);Lr(g,N)}),this.instance.config.mask_all_text||(o.tagName.toLowerCase()==="a"||o.tagName.toLowerCase()==="button"?p[0].$el_text=XE(o):p[0].$el_text=em(o)),d){var b,y;p[0].attr__href=d;var A=(b=Jd(d))===null||b===void 0?void 0:b.host,S=J==null||(y=J.location)===null||y===void 0?void 0:y.host;A&&S&&A!==S&&(h=d)}if(m)return!1;var _=Lr(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:bD(p)}:{$elements:p},(a=p[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=p[0])===null||l===void 0?void 0:l.$el_text}:{},h&&t.type==="click"?{$external_click_url:h}:{},g),x=this.getElementSelectors(o);if(x&&x.length>0&&(_.$element_selectors=x),r===sv){var w,k=pM(J==null||(w=J.getSelection())===null||w===void 0?void 0:w.toString()),C=t.type||"clipboard";if(!k)return!1;_.$selected_content=k,_.$copy_type=C}return this.instance.capture(r,_),!0}}}},{key:"isBrowserSupported",value:function(){return Mo(Ce==null?void 0:Ce.querySelectorAll)}}]),e}(),cF=function(){function e(t){var n=this;_t(this,e),re(this,"_restoreXHRPatch",void 0),re(this,"_restoreFetchPatch",void 0),re(this,"_startCapturing",function(){Fe(n._restoreXHRPatch)&&bn.postHogTracingHeadersPatchFns._patchXHR(n.instance.sessionManager),Fe(n._restoreFetchPatch)&&bn.postHogTracingHeadersPatchFns._patchFetch(n.instance.sessionManager)}),this.instance=t}return xt(e,[{key:"_loadScript",value:function(t){bn.postHogTracingHeadersPatchFns&&t(),this.instance.requestRouter.loadScript("/static/tracing-headers.js?v=".concat(wo.LIB_VERSION),function(n){if(n)return oe.error("[TRACING-HEADERS] failed to load script",n);t()})}},{key:"startIfEnabledOrStop",value:function(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}]),e}();(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(na||(na={}));var uF=function(){function e(t){_t(this,e),this.instance=t}return xt(e,[{key:"config",get:function(){return this.instance.config}},{key:"consent",get:function(){return this.getDnt()?na.DENIED:this.storedConsent}},{key:"isOptedOut",value:function(){return this.consent===na.DENIED||this.consent===na.PENDING&&this.config.opt_out_capturing_by_default}},{key:"isOptedIn",value:function(){return!this.isOptedOut()}},{key:"optInOut",value:function(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}},{key:"reset",value:function(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}},{key:"storageKey",get:function(){var t=this.instance.config,n=t.token;return(t.opt_out_capturing_cookie_prefix||"__ph_opt_in_out_")+n}},{key:"storedConsent",get:function(){var t=this.storage.get(this.storageKey);return t==="1"?na.GRANTED:t==="0"?na.DENIED:na.PENDING}},{key:"storage",get:function(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?Un:Is;var n=t==="localStorage"?Is:Un;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}},{key:"getDnt",value:function(){return!!this.config.respect_dnt&&!!QP([Es==null?void 0:Es.doNotTrack,Es==null?void 0:Es.msDoNotTrack,bn.doNotTrack],function(t){return dt([!0,1,"1","yes"],t)})}}]),e}(),hk=9e5,Xa="[Web Vitals]",dF=function(){function e(t){var n,r=this;_t(this,e),re(this,"_enabledServerSide",!1),re(this,"_initialized",!1),re(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),re(this,"_flushToCapture",function(){clearTimeout(r._delayedFlushTimer),r.buffer.metrics.length!==0&&(r.instance.capture("$web_vitals",r.buffer.metrics.reduce(function(i,o){var s;return be(be({},i),{},(re(s={},"$web_vitals_".concat(o.name,"_event"),be({},o)),re(s,"$web_vitals_".concat(o.name,"_value"),o.value),s))},{})),r.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),re(this,"_addToBuffer",function(i){var o,s=(o=r.instance.sessionManager)===null||o===void 0?void 0:o.checkAndGetSessionAndWindowId(!0);if(Fe(s))oe.error(Xa+"Could not read session ID. Dropping metrics!");else{r.buffer=r.buffer||{};var a=r._currentURL();Fe(a)||(ei(i==null?void 0:i.name)||ei(i==null?void 0:i.value)?oe.error(Xa+"Invalid metric received",i):r._maxAllowedValue&&i.value>=r._maxAllowedValue?oe.error(Xa+"Ignoring metric with value >= "+r._maxAllowedValue,i):(r.buffer.url!==a&&(r._flushToCapture(),r._delayedFlushTimer=setTimeout(r._flushToCapture,8e3)),Fe(r.buffer.url)&&(r.buffer.url=a),r.buffer.firstMetricTimestamp=Fe(r.buffer.firstMetricTimestamp)?Date.now():r.buffer.firstMetricTimestamp,r.buffer.metrics.push(be(be({},i),{},{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),r.buffer.metrics.length===4&&r._flushToCapture()))}}),re(this,"_startCapturing",function(){var i=bn.postHogWebVitalsCallbacks,o=i.onLCP,s=i.onCLS,a=i.onFCP,l=i.onINP;o&&s&&a&&l?(o(r._addToBuffer),s(r._addToBuffer),a(r._addToBuffer),l(r._addToBuffer),r._initialized=!0):oe.error(Xa+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[VE]),this.startIfEnabled()}return xt(e,[{key:"_maxAllowedValue",get:function(){var t=dr(this.instance.config.capture_performance)&&Fi(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:hk;return 0<t&&t<=6e4?hk:t}},{key:"isEnabled",get:function(){var t=dr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return Ec(t)?t:this._enabledServerSide}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(oe.info(Xa+" enabled, starting..."),this.loadScript(this._startCapturing))}},{key:"afterDecideResponse",value:function(t){var n=dr(t.capturePerformance)&&!!t.capturePerformance.web_vitals;this.instance.persistence&&this.instance.persistence.register(re({},VE,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"loadScript",value:function(t){J.postHogWebVitalsCallbacks&&t(),this.instance.requestRouter.loadScript(this.instance.requestRouter.endpointFor("assets","/static/web-vitals.js?v=".concat(wo.LIB_VERSION)),function(n){n?oe.error(Xa+" failed to load script",n):t()})}},{key:"_currentURL",value:function(){var t=J?J.location.href:void 0;return t||oe.error(Xa+"Could not determine current URL"),t}}]),e}(),ef={},pk=function(){},_c="posthog",RM=!UD&&(kn==null?void 0:kn.indexOf("MSIE"))===-1&&(kn==null?void 0:kn.indexOf("Mozilla"))===-1,gk=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=Ce==null?void 0:Ce.location,n=t==null?void 0:t.hostname,!!wr(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:pk,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Yr&&wr(Yr==null?void 0:Yr.search)&&Yr.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(J==null||(e=J.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;oe.error(i)},get_device_id:function(r){return r},_onCapture:pk,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always",__add_tracing_headers:!1}},mk=function(e){var t={};Fe(e.process_person)||(t.person_profiles=e.process_person),Fe(e.xhr_headers)||(t.request_headers=e.xhr_headers),Fe(e.cookie_name)||(t.persistence_name=e.cookie_name),Fe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Lr({},t,e);return Hn(e.property_blacklist)&&(Fe(e.property_denylist)?n.property_denylist=e.property_blacklist:Hn(e.property_denylist)?n.property_denylist=[].concat(Ts(e.property_blacklist),Ts(e.property_denylist)):oe.error("Invalid value for property_denylist config: "+e.property_denylist)),n},fF=function(){function e(){_t(this,e),re(this,"__forceAllowLocalhost",!1)}return xt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){oe.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),PM=function(){function e(){var t=this;_t(this,e),re(this,"webPerformance",new fF),re(this,"_internalEventEmitter",new TM),this.config=gk(),this.decideEndpointWasHit=!1,this.SentryIntegration=QD,this.sentryIntegration=function(n){return function(r,i){var o=CM(r,i);return{name:kM,processEvent:function(s){return o(s)}}}(t,n)},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new HB(this),this.toolbar=new MD(this),this.scrollManager=new aF(this),this.pageViewManager=new XD(this),this.surveys=new tF(this),this.rateLimiter=new nF(this),this.requestRouter=new KD(this),this.consent=new uF(this),this.people={set:function(n,r,i){var o=wr(n)?re({},n,r):n;t.setPersonProperties(o),i==null||i({})},set_once:function(n,r,i){var o=wr(n)?re({},n,r):n;t.setPersonProperties(void 0,o),i==null||i({})}},this.on("eventCaptured",function(n){return oe.info("send",n)})}return xt(e,[{key:"init",value:function(t,n,r){if(r&&r!==_c){var i,o=(i=ef[r])!==null&&i!==void 0?i:new e;return o._init(t,n,r),ef[r]=o,ef[_c][r]=o,o}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(Fe(t)||kE(t))return oe.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return oe.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Lr({},gk(),mk(o),{name:s,token:t})),this.config.on_xhr_error&&oe.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=o.disable_compression?void 0:Eo.Base64,this.persistence=new nv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new nv(be(be({},this.config),{},{persistence:"sessionStorage"}));var a=be({},this.persistence.props),l=be({},this.sessionPersistence.props);if(this._requestQueue=new jD(function(A){return i._send_retriable_request(A)}),this._retryQueue=new qD(this),this.__request_queue=[],this.sessionManager=new WD(this.config,this.persistence),this.sessionPropsManager=new iF(this.sessionManager,this.persistence),new cF(this).startIfEnabledOrStop(),this.sessionRecording=new ID(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new lF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new sF(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new dF(this),this.exceptionObserver=new YD(this),this.exceptionObserver.startIfEnabled(),wo.DEBUG=wo.DEBUG||this.config.debug,wo.DEBUG&&oe.info("Starting in debug mode",{this:this,config:o,thisC:be({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),((n=o.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var c,u,d=this.config.get_device_id(ua()),h=(c=o.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?d:o.bootstrap.distinctID;this.persistence.set_property(ys,(u=o.bootstrap)!==null&&u!==void 0&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:o.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var p,g,m=Object.keys(((p=o.bootstrap)===null||p===void 0?void 0:p.featureFlags)||{}).filter(function(A){var S,_;return!((S=o.bootstrap)===null||S===void 0||(_=S.featureFlags)===null||_===void 0||!_[A])}).reduce(function(A,S){var _,x;return A[S]=((_=o.bootstrap)===null||_===void 0||(x=_.featureFlags)===null||x===void 0?void 0:x[S])||!1,A},{}),b=Object.keys(((g=o.bootstrap)===null||g===void 0?void 0:g.featureFlagPayloads)||{}).filter(function(A){return m[A]}).reduce(function(A,S){var _,x,w,k;return(_=o.bootstrap)!==null&&_!==void 0&&(x=_.featureFlagPayloads)!==null&&x!==void 0&&x[S]&&(A[S]=(w=o.bootstrap)===null||w===void 0||(k=w.featureFlagPayloads)===null||k===void 0?void 0:k[S]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:b})}if(!this.get_distinct_id()){var y=this.config.get_device_id(ua());this.register_once({distinct_id:y,$device_id:y},""),this.persistence.set_property(ys,"anonymous")}return J==null||(r=J.addEventListener)===null||r===void 0||r.call(J,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),o.segment?JD(this,function(){return i._loaded()}):this._loaded(),Mo(this.config._onCapture)&&this.on("eventCaptured",function(A){return i.config._onCapture(A.event,A)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,o,s,a,l;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=dt(t.supportedCompression,Eo.GZipJS)?Eo.GZipJS:dt(t.supportedCompression,Eo.Base64)?Eo.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(o=this.heatmaps)===null||o===void 0||o.afterDecideResponse(t),(s=this.surveys)===null||s===void 0||s.afterDecideResponse(t),(a=this.webVitalsAutocapture)===null||a===void 0||a.afterDecideResponse(t),(l=this.exceptionObserver)===null||l===void 0||l.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){oe.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){Ce&&t.capture("$pageview",{title:Ce.title},{send_instantly:!0})},1),n||(new RD(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||qc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(RM?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=nm(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i,o,s,a=be({},r);a.timeout=a.timeout||6e4,a.url=nm(a.url,{_:new Date().getTime().toString(),ver:wo.LIB_VERSION,compression:a.compression});var l=(i=a.transport)!==null&&i!==void 0?i:"XHR",c=(o=(s=QP(Zd,function(u){return u.transport===l}))===null||s===void 0?void 0:s.method)!==null&&o!==void 0?o:Zd[0].method;if(!c)throw new Error("No available transport method");c(a)}(be(be({},t),{},{callback:function(r){var i,o,s;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((o=(s=n.config).on_request_error)===null||o===void 0||o.call(s,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],o=[],s=[];qc(t,function(l){l&&(n=l[0],Hn(n)?s.push(l):Mo(l)?l.call(r):Hn(l)&&n==="alias"?i.push(l):Hn(l)&&n.indexOf("capture")!==-1&&Mo(r[n])?s.push(l):o.push(l))});var a=function(l,c){qc(l,function(u){if(Hn(u[0])){var d=c;Ft(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(o,this),a(s,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return oe.uninitializedWarning("posthog.capture");if(!this.consent.isOptedOut())if(!Fe(t)&&wr(t)){if(!kn||this.config.opt_out_useragent_filter||!dk(kn,this.config.custom_blocked_useragents)){var o=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,a=(r==null?void 0:r.timestamp)||s,l={uuid:ua(),event:t,properties:this._calculate_event_properties(t,n||{},a)};o&&(l.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),r!=null&&r.$set&&(l.$set=r==null?void 0:r.$set);var c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(l.$set_once=c),(l=$B(l,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,Fe(r==null?void 0:r.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=s);var u=be(be({},l.properties.$set),l.$set);ug(u)||this.setPersonPropertiesForFlags(u),this._internalEventEmitter.emit("eventCaptured",l);var d={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(d):this._requestQueue.enqueue(d),l}oe.critical("This capture call is ignored due to client rate limiting.")}}else oe.error("No event name provided to posthog.capture")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event,n)})}},{key:"_calculate_event_properties",value:function(t,n,r){if(!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),o=be({},n);if(o.token=this.config.token,t==="$snapshot"){var s=be(be({},this.persistence.properties()),this.sessionPersistence.properties());return o.distinct_id=s.distinct_id,(!wr(o.distinct_id)&&!Fi(o.distinct_id)||kE(o.distinct_id))&&oe.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var a=Xn.properties();if(this.sessionManager){var l=this.sessionManager.checkAndGetSessionAndWindowId(),c=l.sessionId,u=l.windowId;o.$session_id=c,o.$window_id=u}if(this.requestRouter.region===hl.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var d=this.sessionPropsManager.getSessionProps();o=Lr(o,d)}if(!this.config.disable_scroll_properties){var h={};t==="$pageview"?h=this.pageViewManager.doPageView(r):t==="$pageleave"&&(h=this.pageViewManager.doPageLeave(r)),o=Lr(o,h)}if(t==="$pageview"&&Ce&&(o.title=Ce.title),!Fe(i)){var p=r.getTime()-i;o.$duration=parseFloat((p/1e3).toFixed(3))}kn&&this.config.opt_out_useragent_filter&&(o.$browser_type=dk(kn,this.config.custom_blocked_useragents)?"bot":"browser"),(o=Lr({},a,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),Hn(this.config.property_denylist)?Ft(this.config.property_denylist,function(m){delete o[m]}):oe.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;return g&&(o=g(o,t)),o.$process_person_profile=this._hasPersonProcessing(),o}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Lr({},this.persistence.get_initial_props(),t||{});return ug(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(re({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._internalEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"renderSurvey",value:function(t,n){this.surveys.renderSurvey(t,n)}},{key:"canRenderSurvey",value:function(t){this.surveys.canRenderSurvey(t)}},{key:"getNextSurveyStep",value:function(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return oe.uninitializedWarning("posthog.identify");if(Fi(t)&&(t=t.toString(),oe.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))oe.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(jd)&&(this.unregister(jd),this.register({distinct_id:t}));var s=(this.persistence.get_property(ys)||"anonymous")==="anonymous";t!==i&&s?(this.persistence.set_property(ys,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Kg))}}else oe.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:be(be({},i),{},re({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(re({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else oe.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,o;if(oe.info("reset"),!this.__loaded)return oe.uninitializedWarning("posthog.reset");var s=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(ys,"anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var a=this.config.get_device_id(ua());this.register_once({distinct_id:a,$device_id:t?a:s},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,o=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var s,a=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!i)return o;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);o+="?t=".concat(l)}return o}},{key:"alias",value:function(t,n){return t===this.get_property(JP)?(oe.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Fe(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(jd,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(oe.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,o,s=be({},this.config);dr(t)&&(Lr(this.config,mk(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new nv(be(be({},this.config),{},{persistence:"sessionStorage"})),Un.is_supported()&&Un.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(wo.DEBUG=!0,oe.info("set_config",{config:t,oldConfig:s,newConfig:be({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(o=this.heatmaps)===null||o===void 0||o.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(re({},Qd,!0)),oe.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:_c;return n!==_c&&(n=_c+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(ys))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(ys))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&ug(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[jd])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Yg]))}},{key:"_shouldCapturePageleave",value:function(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}},{key:"createPersonProfile",value:function(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(oe.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Yg,!0),!0)}},{key:"_sync_opt_out_with_persistence",value:function(){var t,n,r,i,o=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,a=this.config.disable_persistence||o&&!!s;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==a&&((r=this.persistence)===null||r===void 0||r.set_disabled(a)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==a&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(a))}},{key:"opt_in_capturing",value:function(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(Fe(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0})}},{key:"opt_out_capturing",value:function(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}},{key:"has_opted_in_capturing",value:function(){return this.consent.isOptedIn()}},{key:"has_opted_out_capturing",value:function(){return this.consent.isOptedOut()}},{key:"clear_opt_in_out_capturing",value:function(){this.consent.reset(),this._sync_opt_out_with_persistence()}},{key:"debug",value:function(t){t===!1?(J==null||J.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(J==null||J.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=FB(e.prototype[t[n]])})(PM,["identify"]);var yk,Pn=(yk=ef[_c]=new PM,function(){function e(){e.done||(e.done=!0,RM=!1,Ft(ef,function(t){t._dom_loaded()}))}Ce!=null&&Ce.addEventListener&&(Ce.readyState==="complete"?e():Ce.addEventListener("DOMContentLoaded",e,!1)),J&&xs(J,"load",e,!0)}(),yk);class gt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,o=!1)=>{this.unsubscribe(i),this.subscribers.push(i),o&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(o=>o!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(o=>o(...i)),this.lastParams=i,this.track&&Pn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const te={sectionChange:new gt("sectionChange",!1,!1),playerAdded:new gt("playerAdded",!1),playerRemoved:new gt("playerRemoved",!1),songStarted:new gt("songStarted",!1),songEnded:new gt("songEnded",!1),remoteMicConnected:new gt("remoteMicConnected"),remoteMicDisconnected:new gt("remoteMicDisconnected"),playerNameChanged:new gt("playerNameChanged"),playerInputChanged:new gt("playerInputChanged"),inputListChanged:new gt("inputListChanged"),karaokeConnectionStatusChange:new gt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new gt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new gt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new gt("remoteMicMonitoringStopped"),micMonitoringStarted:new gt("micMonitoringStarted"),micMonitoringStopped:new gt("micMonitoringStopped"),playerChangeRequested:new gt("playerChangeRequested",!0),songStatStored:new gt("songStatStored"),songScoreUpdated:new gt("songScoreUpdated",()=>{}),remoteMicSubscribed:new gt("remoteMicSubscribed"),remoteKeyboardPressed:new gt("remoteKeyboardPressed"),remoteSongSearch:new gt("remoteSongSearch"),remoteSongSelected:new gt("remoteSongSelected",!0),remoteMicListUpdated:new gt("remoteMicListUpdated"),remoteKeyboardLayout:new gt("remoteKeyboardLayout"),remoteReadinessRequested:new gt("remoteReadinessRequested"),remoteStyleChanged:new gt("remoteStyleChanged"),remoteMicPermissionsSet:new gt("remoteMicPermissionsSet"),readinessConfirmed:new gt("remoteReadinessConfirmed"),minPlayerNumberChanged:new gt("minPlayerNumberChanged"),micServerStarted:new gt("micServerStarted"),micServerStopped:new gt("micServerStopped")};te.songStarted.subscribe(()=>{Co.clearData(),Co.startRecord()});te.songEnded.subscribe(()=>{Co.stopRecord()});function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}var hF=/^\s+/,pF=/\s+$/;function he(e,t){if(e=e||"",t=t||{},e instanceof he)return e;if(!(this instanceof he))return new he(e,t);var n=gF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}he.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,s,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(t){return this._a=MM(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Ak(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Ak(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=vk(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=vk(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return bk(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return AF(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(rn(this._r,255)*100)+"%",g:Math.round(rn(this._g,255)*100)+"%",b:Math.round(rn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(rn(this._r,255)*100)+"%, "+Math.round(rn(this._g,255)*100)+"%, "+Math.round(rn(this._b,255)*100)+"%)":"rgba("+Math.round(rn(this._r,255)*100)+"%, "+Math.round(rn(this._g,255)*100)+"%, "+Math.round(rn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:PF[bk(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+Sk(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=he(t);r="#"+Sk(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return he(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(xF,arguments)},brighten:function(){return this._applyModification(wF,arguments)},darken:function(){return this._applyModification(EF,arguments)},desaturate:function(){return this._applyModification(bF,arguments)},saturate:function(){return this._applyModification(SF,arguments)},greyscale:function(){return this._applyModification(_F,arguments)},spin:function(){return this._applyModification(kF,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(IF,arguments)},complement:function(){return this._applyCombination(CF,arguments)},monochromatic:function(){return this._applyCombination(RF,arguments)},splitcomplement:function(){return this._applyCombination(TF,arguments)},triad:function(){return this._applyCombination(_k,[3])},tetrad:function(){return this._applyCombination(_k,[4])}};he.fromRatio=function(e,t){if(im(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Ld(e[r]));e=n}return he(e,t)};function gF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=VF(e)),im(e)=="object"&&(fs(e.r)&&fs(e.g)&&fs(e.b)?(t=mF(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):fs(e.h)&&fs(e.s)&&fs(e.v)?(r=Ld(e.s),i=Ld(e.v),t=vF(e.h,r,i),s=!0,a="hsv"):fs(e.h)&&fs(e.s)&&fs(e.l)&&(r=Ld(e.s),o=Ld(e.l),t=yF(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=MM(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function mF(e,t,n){return{r:rn(e,255)*255,g:rn(t,255)*255,b:rn(n,255)*255}}function vk(e,t,n){e=rn(e,255),t=rn(t,255),n=rn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,l:a}}function yF(e,t,n){var r,i,o;e=rn(e,360),t=rn(t,100),n=rn(n,100);function s(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function Ak(e,t,n){e=rn(e,255),t=rn(t,255),n=rn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,v:a}}function vF(e,t,n){e=rn(e,360)*6,t=rn(t,100),n=rn(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:d*255}}function bk(e,t,n,r){var i=[To(Math.round(e).toString(16)),To(Math.round(t).toString(16)),To(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function AF(e,t,n,r,i){var o=[To(Math.round(e).toString(16)),To(Math.round(t).toString(16)),To(Math.round(n).toString(16)),To(jM(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Sk(e,t,n,r){var i=[To(jM(r)),To(Math.round(e).toString(16)),To(Math.round(t).toString(16)),To(Math.round(n).toString(16))];return i.join("")}he.equals=function(e,t){return!e||!t?!1:he(e).toRgbString()==he(t).toRgbString()};he.random=function(){return he.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function bF(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.s-=t/100,n.s=y0(n.s),he(n)}function SF(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.s+=t/100,n.s=y0(n.s),he(n)}function _F(e){return he(e).desaturate(100)}function xF(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.l+=t/100,n.l=y0(n.l),he(n)}function wF(e,t){t=t===0?0:t||10;var n=he(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),he(n)}function EF(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.l-=t/100,n.l=y0(n.l),he(n)}function kF(e,t){var n=he(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,he(n)}function CF(e){var t=he(e).toHsl();return t.h=(t.h+180)%360,he(t)}function _k(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=he(e).toHsl(),r=[he(e)],i=360/t,o=1;o<t;o++)r.push(he({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function TF(e){var t=he(e).toHsl(),n=t.h;return[he(e),he({h:(n+72)%360,s:t.s,l:t.l}),he({h:(n+216)%360,s:t.s,l:t.l})]}function IF(e,t,n){t=t||6,n=n||30;var r=he(e).toHsl(),i=360/n,o=[he(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(he(r));return o}function RF(e,t){t=t||6;for(var n=he(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(he({h:r,s:i,v:o})),o=(o+a)%1;return s}he.mix=function(e,t,n){n=n===0?0:n||50;var r=he(e).toRgb(),i=he(t).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return he(s)};he.readability=function(e,t){var n=he(e),r=he(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};he.isReadable=function(e,t,n){var r=he.readability(e,t),i,o;switch(o=!1,i=LF(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};he.mostReadable=function(e,t,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)o=he.readability(e,t[c]),o>i&&(i=o,r=he(t[c]));return he.isReadable(e,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,he.mostReadable(e,["#fff","#000"],n))};var b1=he.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},PF=he.hexNames=MF(b1);function MF(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function MM(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function rn(e,t){jF(e)&&(e="100%");var n=OF(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function y0(e){return Math.min(1,Math.max(0,e))}function hi(e){return parseInt(e,16)}function jF(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function OF(e){return typeof e=="string"&&e.indexOf("%")!=-1}function To(e){return e.length==1?"0"+e:""+e}function Ld(e){return e<=1&&(e=e*100+"%"),e}function jM(e){return Math.round(parseFloat(e)*255).toString(16)}function xk(e){return hi(e)/255}var yo=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function fs(e){return!!yo.CSS_UNIT.exec(e)}function VF(e){e=e.replace(hF,"").replace(pF,"").toLowerCase();var t=!1;if(b1[e])e=b1[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=yo.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=yo.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=yo.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=yo.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=yo.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=yo.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=yo.hex8.exec(e))?{r:hi(n[1]),g:hi(n[2]),b:hi(n[3]),a:xk(n[4]),format:t?"name":"hex8"}:(n=yo.hex6.exec(e))?{r:hi(n[1]),g:hi(n[2]),b:hi(n[3]),format:t?"name":"hex"}:(n=yo.hex4.exec(e))?{r:hi(n[1]+""+n[1]),g:hi(n[2]+""+n[2]),b:hi(n[3]+""+n[3]),a:xk(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=yo.hex3.exec(e))?{r:hi(n[1]+""+n[1]),g:hi(n[2]+""+n[2]),b:hi(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function LF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const NF=he("rgb(52, 166, 95)"),BF=he("rgb(15, 138, 95)"),DF=he("rgb(245, 98, 77)"),FF=he("rgb(204, 35, 30)"),OM=he("rgb(245, 220, 21)"),$F=he(OM.toRgbString()).darken(15),VM=he("rgb(255, 70, 223)"),zF=he(VM.toRgbString()).darken(15),LM=he("rgb(255, 119, 20)"),UF=he(LM.toRgbString()).darken(15),NM=he("rgb(31, 192, 223)"),HF=he(NM.toRgbString()).darken(15),BM=he("rgb(102, 44, 182)"),GF=he(BM.toRgbString()).darken(15),qF=he("rgb(0, 153, 255)"),WF=he("rgb(0, 77, 128)"),KF=he("rgb(255, 54, 54)"),YF=he("rgb(117, 25, 25)"),QF=he("rgb(255, 213, 0)"),pg=he("rgb(255, 183, 0)"),Oi=(e,t)=>e.setAlpha(t).toRgbString(),go=(e,t)=>({text:Oi(e,1),stroke:Oi(t,1),star:{fill:Oi(pg,.5),stroke:Oi(pg,0),lineWidth:1},perfect:{fill:Oi(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Oi(QF,1),stroke:Oi(pg,1),lineWidth:2},hit:{fill:Oi(e,.9),stroke:Oi(t,0),lineWidth:1},miss:{fill:Oi(e,.25),stroke:Oi(t,1),lineWidth:1}}),Ve={blue:go(qF,WF),red:go(KF,YF),green:go(he("rgb(0,183,0)"),he("rgb(0,84,0)")),yellow:go(he("rgb(239,209,0)"),he("rgb(114,84,0)")),christmasGreen:go(NF,BF),christmasRed:go(DF,FF),eurovisionYellow:go(OM,$F),eurovisionPink:go(VM,zF),eurovisionOrange:go(LM,UF),eurovisionBlue:go(NM,HF),eurovisionViolet:go(BM,GF)};let Wo=[Ve.blue,Ve.red,Ve.green,Ve.yellow];const pe={colors:{players:Wo,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Oi(pg,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},DM=e=>{e==="christmas"&&Wo[0]!==Ve.christmasGreen?(Wo=[Ve.christmasGreen,Ve.christmasRed],pe.colors.players=Wo):e==="eurovision"&&Wo[0]!==Ve.eurovisionYellow?(Wo=[Ve.eurovisionBlue,Ve.eurovisionViolet,Ve.eurovisionYellow,Ve.eurovisionPink],pe.colors.players=Wo):e==="regular"&&Wo[0]!==Ve.blue&&(Wo=[Ve.blue,Ve.red,Ve.green,Ve.yellow],pe.colors.players=Wo)};function Qc(e,t,n){e==null||e.send({t,...n})}var S1;try{S1=new TextDecoder}catch{}var ye,Gi,K=0,Gt={},ft,da,Li=0,Zo=0,tr,Rs,si=[],ot,wk={useRecords:!1,mapsAsObjects:!0};class FM{}const $M=new FM;$M.name="MessagePack 0xC1";var va=!1,zM=2,Ek;try{new Function("")}catch{zM=1/0}class Tf{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ye)return KM(()=>(x1(),this?this.unpack(t,n):Tf.prototype.unpack.call(wk,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Gi=n.end||t.length,K=n.start||0):(K=0,Gi=n>-1?n:t.length),Zo=0,da=null,tr=null,ye=t;try{ot=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ye=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Tf){if(Gt=this,this.structures)return ft=this.structures,lp(n);(!ft||ft.length>0)&&(ft=[])}else Gt=wk,(!ft||ft.length>0)&&(ft=[]);return lp(n)}unpackMultiple(t,n){let r,i=0;try{va=!0;let o=t.length,s=this?this.unpack(t,o):v0.unpack(t,o);if(n){if(n(s,i,K)===!1)return;for(;K<o;)if(i=K,n(lp(),i,K)===!1)return}else{for(r=[s];K<o;)i=K,r.push(lp());return r}}catch(o){throw o.lastPosition=i,o.values=r,o}finally{va=!1,x1()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let o=t[r];o&&(o.isShared=!0,r>=32&&(o.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],o=n[r];o&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=o)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function lp(e){try{if(!Gt.trusted&&!va){let n=ft.sharedLength||0;n<ft.length&&(ft.length=n)}let t;if(Gt.randomAccessStructure&&ye[K]<64&&ye[K]>=32&&Ek?(t=Ek(ye,K,Gi,Gt),ye=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),K=Gi):t=Tn(),tr&&(K=tr.postBundlePosition,tr=null),va&&(ft.restoreStructures=null),K==Gi)ft&&ft.restoreStructures&&kk(),ft=null,ye=null,Rs&&(Rs=null);else{if(K>Gi)throw new Error("Unexpected end of MessagePack data");if(!va){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw ft&&ft.restoreStructures&&kk(),x1(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||K>Gi)&&(t.incomplete=!0),t}}function kk(){for(let e in ft.restoreStructures)ft[e]=ft.restoreStructures[e];ft.restoreStructures=null}function Tn(){let e=ye[K++];if(e<160)if(e<128){if(e<64)return e;{let t=ft[e&63]||Gt.getStructures&&UM()[e&63];return t?(t.read||(t.read=p_(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Gt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=GM();r==="__proto__"&&(r="__proto_"),t[r]=Tn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Tn(),Tn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Tn();return Gt.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Zo>=K)return da.slice(K-Li,(K+=t)-Li);if(Zo==0&&Gi<140){let n=t<16?g_(t):HM(t);if(n!=null)return n}return _1(t)}else{let t;switch(e){case 192:return null;case 193:return tr?(t=Tn(),t>0?tr[1].slice(tr.position1,tr.position1+=t):tr[0].slice(tr.position0,tr.position0-=t)):$M;case 194:return!1;case 195:return!0;case 196:if(t=ye[K++],t===void 0)throw new Error("Unexpected end of buffer");return lv(t);case 197:return t=ot.getUint16(K),K+=2,lv(t);case 198:return t=ot.getUint32(K),K+=4,lv(t);case 199:return Za(ye[K++]);case 200:return t=ot.getUint16(K),K+=2,Za(t);case 201:return t=ot.getUint32(K),K+=4,Za(t);case 202:if(t=ot.getFloat32(K),Gt.useFloat32>2){let n=m_[(ye[K]&127)<<1|ye[K+1]>>7];return K+=4,(n*t+(t>0?.5:-.5)>>0)/n}return K+=4,t;case 203:return t=ot.getFloat64(K),K+=8,t;case 204:return ye[K++];case 205:return t=ot.getUint16(K),K+=2,t;case 206:return t=ot.getUint32(K),K+=4,t;case 207:return Gt.int64AsType==="number"?(t=ot.getUint32(K)*4294967296,t+=ot.getUint32(K+4)):Gt.int64AsType==="string"?t=ot.getBigUint64(K).toString():Gt.int64AsType==="auto"?(t=ot.getBigUint64(K),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=ot.getBigUint64(K),K+=8,t;case 208:return ot.getInt8(K++);case 209:return t=ot.getInt16(K),K+=2,t;case 210:return t=ot.getInt32(K),K+=4,t;case 211:return Gt.int64AsType==="number"?(t=ot.getInt32(K)*4294967296,t+=ot.getUint32(K+4)):Gt.int64AsType==="string"?t=ot.getBigInt64(K).toString():Gt.int64AsType==="auto"?(t=ot.getBigInt64(K),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=ot.getBigInt64(K),K+=8,t;case 212:if(t=ye[K++],t==114)return Mk(ye[K++]&63);{let n=si[t];if(n)return n.read?(K++,n.read(Tn())):n.noBuffer?(K++,n()):n(ye.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=ye[K],t==114?(K++,Mk(ye[K++]&63,ye[K++])):Za(2);case 214:return Za(4);case 215:return Za(8);case 216:return Za(16);case 217:return t=ye[K++],Zo>=K?da.slice(K-Li,(K+=t)-Li):XF(t);case 218:return t=ot.getUint16(K),K+=2,Zo>=K?da.slice(K-Li,(K+=t)-Li):ZF(t);case 219:return t=ot.getUint32(K),K+=4,Zo>=K?da.slice(K-Li,(K+=t)-Li):e$(t);case 220:return t=ot.getUint16(K),K+=2,Tk(t);case 221:return t=ot.getUint32(K),K+=4,Tk(t);case 222:return t=ot.getUint16(K),K+=2,Ik(t);case 223:return t=ot.getUint32(K),K+=4,Ik(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const JF=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function p_(e,t){function n(){if(n.count++>zM){let i=e.read=new Function("r","return function(){return "+(Gt.freezeData?"Object.freeze":"")+"({"+e.map(o=>o==="__proto__"?"__proto_:r()":JF.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"})}")(Tn);return e.highByte===0&&(e.read=Ck(t,e.read)),i()}let r={};for(let i=0,o=e.length;i<o;i++){let s=e[i];s==="__proto__"&&(s="__proto_"),r[s]=Tn()}return Gt.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?Ck(t,n):n}const Ck=(e,t)=>function(){let n=ye[K++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=ft[r]||UM()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=p_(i,e)),i.read()};function UM(){let e=KM(()=>(ye=null,Gt.getStructures()));return ft=Gt._mergeStructures(e,ft)}var _1=Ah,XF=Ah,ZF=Ah,e$=Ah;function Ah(e){let t;if(e<16&&(t=g_(e)))return t;if(e>64&&S1)return S1.decode(ye.subarray(K,K+=e));const n=K+e,r=[];for(t="";K<n;){const i=ye[K++];if(!(i&128))r.push(i);else if((i&224)===192){const o=ye[K++]&63;r.push((i&31)<<6|o)}else if((i&240)===224){const o=ye[K++]&63,s=ye[K++]&63;r.push((i&31)<<12|o<<6|s)}else if((i&248)===240){const o=ye[K++]&63,s=ye[K++]&63,a=ye[K++]&63;let l=(i&7)<<18|o<<12|s<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Yn.apply(String,r),r.length=0)}return r.length>0&&(t+=Yn.apply(String,r)),t}function Tk(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Tn();return Gt.freezeData?Object.freeze(t):t}function Ik(e){if(Gt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=GM();r==="__proto__"&&(r="__proto_"),t[r]=Tn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Tn(),Tn());return t}}var Yn=String.fromCharCode;function HM(e){let t=K,n=new Array(e);for(let r=0;r<e;r++){const i=ye[K++];if((i&128)>0){K=t;return}n[r]=i}return Yn.apply(String,n)}function g_(e){if(e<4)if(e<2){if(e===0)return"";{let t=ye[K++];if((t&128)>1){K-=1;return}return Yn(t)}}else{let t=ye[K++],n=ye[K++];if((t&128)>0||(n&128)>0){K-=2;return}if(e<3)return Yn(t,n);let r=ye[K++];if((r&128)>0){K-=3;return}return Yn(t,n,r)}else{let t=ye[K++],n=ye[K++],r=ye[K++],i=ye[K++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){K-=4;return}if(e<6){if(e===4)return Yn(t,n,r,i);{let o=ye[K++];if((o&128)>0){K-=5;return}return Yn(t,n,r,i,o)}}else if(e<8){let o=ye[K++],s=ye[K++];if((o&128)>0||(s&128)>0){K-=6;return}if(e<7)return Yn(t,n,r,i,o,s);let a=ye[K++];if((a&128)>0){K-=7;return}return Yn(t,n,r,i,o,s,a)}else{let o=ye[K++],s=ye[K++],a=ye[K++],l=ye[K++];if((o&128)>0||(s&128)>0||(a&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return Yn(t,n,r,i,o,s,a,l);{let c=ye[K++];if((c&128)>0){K-=9;return}return Yn(t,n,r,i,o,s,a,l,c)}}else if(e<12){let c=ye[K++],u=ye[K++];if((c&128)>0||(u&128)>0){K-=10;return}if(e<11)return Yn(t,n,r,i,o,s,a,l,c,u);let d=ye[K++];if((d&128)>0){K-=11;return}return Yn(t,n,r,i,o,s,a,l,c,u,d)}else{let c=ye[K++],u=ye[K++],d=ye[K++],h=ye[K++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){K-=12;return}if(e<14){if(e===12)return Yn(t,n,r,i,o,s,a,l,c,u,d,h);{let p=ye[K++];if((p&128)>0){K-=13;return}return Yn(t,n,r,i,o,s,a,l,c,u,d,h,p)}}else{let p=ye[K++],g=ye[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return Yn(t,n,r,i,o,s,a,l,c,u,d,h,p,g);let m=ye[K++];if((m&128)>0){K-=15;return}return Yn(t,n,r,i,o,s,a,l,c,u,d,h,p,g,m)}}}}}function Rk(){let e=ye[K++],t;if(e<192)t=e-160;else switch(e){case 217:t=ye[K++];break;case 218:t=ot.getUint16(K),K+=2;break;case 219:t=ot.getUint32(K),K+=4;break;default:throw new Error("Expected string")}return Ah(t)}function lv(e){return Gt.copyBuffers?Uint8Array.prototype.slice.call(ye,K,K+=e):ye.subarray(K,K+=e)}function Za(e){let t=ye[K++];if(si[t]){let n;return si[t](ye.subarray(K,n=K+=e),r=>{K=r;try{return Tn()}finally{K=n}})}else throw new Error("Unknown extension type "+t)}var Pk=new Array(4096);function GM(){let e=ye[K++];if(e>=160&&e<192){if(e=e-160,Zo>=K)return da.slice(K-Li,(K+=e)-Li);if(!(Zo==0&&Gi<180))return _1(e)}else return K--,qM(Tn());let t=(e<<5^(e>1?ot.getUint16(K):e>0?ye[K]:0))&4095,n=Pk[t],r=K,i=K+e-3,o,s=0;if(n&&n.bytes==e){for(;r<i;){if(o=ot.getUint32(r),o!=n[s++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(o=ye[r++],o!=n[s++]){r=1879048192;break}if(r===i)return K=r,n.string;i-=3,r=K}for(n=[],Pk[t]=n,n.bytes=e;r<i;)o=ot.getUint32(r),n.push(o),r+=4;for(i+=3;r<i;)o=ye[r++],n.push(o);let a=e<16?g_(e):HM(e);return a!=null?n.string=a:n.string=_1(e)}function qM(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const Mk=(e,t)=>{let n=Tn().map(qM),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=ft[e];return i&&(i.isShared||va)&&((ft.restoreStructures||(ft.restoreStructures=[]))[e]=i),ft[e]=n,n.read=p_(n,r),n.read()};si[0]=()=>{};si[0].noBuffer=!0;si[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let t$={Error,TypeError,ReferenceError};si[101]=()=>{let e=Tn();return(t$[e[0]]||Error)(e[1])};si[105]=e=>{if(Gt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=ot.getUint32(K-4);Rs||(Rs=new Map);let n=ye[K],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};Rs.set(t,i);let o=Tn();return i.used?Object.assign(r,o):(i.target=o,o)};si[112]=e=>{if(Gt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=ot.getUint32(K-4),n=Rs.get(t);return n.used=!0,n.target};si[115]=()=>new Set(Tn());const WM=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let n$=typeof globalThis=="object"?globalThis:window;si[116]=e=>{let t=e[0],n=WM[t];if(!n)throw new Error("Could not find typed array for code "+t);return new n$[n](Uint8Array.prototype.slice.call(e,1).buffer)};si[120]=()=>{let e=Tn();return new RegExp(e[0],e[1])};const r$=[];si[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=K;return K+=t-e.length,tr=r$,tr=[Rk(),Rk()],tr.position0=0,tr.position1=0,tr.postBundlePosition=K,K=n,Tn()};si[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function KM(e){let t=Gi,n=K,r=Li,i=Zo,o=da,s=Rs,a=tr,l=new Uint8Array(ye.slice(0,Gi)),c=ft,u=ft.slice(0,ft.length),d=Gt,h=va,p=e();return Gi=t,K=n,Li=r,Zo=i,da=o,Rs=s,tr=a,ye=l,va=h,ft=c,ft.splice(0,ft.length,...u),Gt=d,ot=new DataView(ye.buffer,ye.byteOffset,ye.byteLength),p}function x1(){ye=null,Rs=null,ft=null}const m_=new Array(147);for(let e=0;e<256;e++)m_[e]=+("1e"+Math.floor(45.15-e*.30103));var v0=new Tf({useRecords:!1});const i$=v0.unpack;v0.unpackMultiple;v0.unpack;let o$=new Float32Array(1);new Uint8Array(o$.buffer,0,4);let gg;try{gg=new TextEncoder}catch{}let w1,YM;const A0=typeof Buffer<"u",cp=A0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,QM=A0?Buffer:Uint8Array,jk=A0?4294967296:2144337920;let X,fd,Dt,Y=0,Pr,an=null,s$;const a$=21760,l$=/[\u0080-\uFFFF]/,uc=Symbol("record-id");class c$ extends Tf{constructor(t){super(t),this.offset=0;let n,r,i,o,s=QM.prototype.utf8Write?function(j,V){return X.utf8Write(j,V,4294967295)}:gg&&gg.encodeInto?function(j,V){return gg.encodeInto(j,X.subarray(V)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],b=0,y=0;this.pack=this.encode=function(j,V){if(X||(X=new cp(8192),Dt=X.dataView||(X.dataView=new DataView(X.buffer,0,8192)),Y=0),Pr=X.length-10,Pr-Y<2048?(X=new cp(X.length),Dt=X.dataView||(X.dataView=new DataView(X.buffer,0,X.length)),Pr=X.length-10,Y=0):Y=Y+7&2147483640,n=Y,V&g$&&(Y+=V&255),o=a.structuredClone?new Map:null,a.bundleStrings&&typeof j!="string"?(an=[],an.size=1/0):an=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let T=i.sharedLength||0;if(T>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let D=0;D<T;D++){let L=i[D];if(!L)continue;let F,$=i.transitions;for(let G=0,U=L.length;G<U;G++){let ne=L[G];F=$[ne],F||(F=$[ne]=Object.create(null)),$=F}$[uc]=D+64}this.lastNamedStructuresLength=T}l||(i.nextId=T+64)}r&&(r=!1);let M;try{a.randomAccessStructure&&j&&j.constructor&&j.constructor===Object?z(j):_(j);let T=an;if(an&&Lk(n,_,0),o&&o.idsToInsert){let D=o.idsToInsert.sort((G,U)=>G.offset>U.offset?1:-1),L=D.length,F=-1;for(;T&&L>0;){let G=D[--L].offset+n;G<T.stringsPosition+n&&F===-1&&(F=0),G>T.position+n?F>=0&&(F+=6):(F>=0&&(Dt.setUint32(T.position+n,Dt.getUint32(T.position+n)+F),F=-1),T=T.previous,L++)}F>=0&&T&&Dt.setUint32(T.position+n,Dt.getUint32(T.position+n)+F),Y+=D.length*6,Y>Pr&&E(Y),a.offset=Y;let $=d$(X.subarray(n,Y),D);return o=null,$}return a.offset=Y,V&h$?(X.start=n,X.end=Y,X):X.subarray(n,Y)}catch(T){throw M=T,T}finally{if(i&&(A(),r&&a.saveStructures)){let T=i.sharedLength||0,D=X.subarray(n,Y),L=f$(i,a);if(!M)return a.saveStructures(L,L.isCompatible)===!1?a.pack(j,V):(a.lastNamedStructuresLength=T,D)}V&p$&&(Y=n)}};const A=()=>{y<10&&y++;let j=i.sharedLength||0;if(i.length>j&&!l&&(i.length=j),b>1e4)i.transitions=null,y=0,b=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let V=0,M=m.length;V<M;V++)m[V][uc]=0;m=[]}},S=j=>{var V=j.length;V<16?X[Y++]=144|V:V<65536?(X[Y++]=220,X[Y++]=V>>8,X[Y++]=V&255):(X[Y++]=221,Dt.setUint32(Y,V),Y+=4);for(let M=0;M<V;M++)_(j[M])},_=j=>{Y>Pr&&(X=E(Y));var V=typeof j,M;if(V==="string"){let T=j.length;if(an&&T>=4&&T<4096){if((an.size+=T)>a$){let $,G=(an[0]?an[0].length*3+an[1].length:0)+10;Y+G>Pr&&(X=E(Y+G));let U;an.position?(U=an,X[Y]=200,Y+=3,X[Y++]=98,$=Y-n,Y+=4,Lk(n,_,0),Dt.setUint16($+n-3,Y-n-$)):(X[Y++]=214,X[Y++]=98,$=Y-n,Y+=4),an=["",""],an.previous=U,an.size=0,an.position=$}let F=l$.test(j);an[F?0:1]+=j,X[Y++]=193,_(F?-T:T);return}let D;T<32?D=1:T<256?D=2:T<65536?D=3:D=5;let L=T*3;if(Y+L>Pr&&(X=E(Y+L)),T<64||!s){let F,$,G,U=Y+D;for(F=0;F<T;F++)$=j.charCodeAt(F),$<128?X[U++]=$:$<2048?(X[U++]=$>>6|192,X[U++]=$&63|128):($&64512)===55296&&((G=j.charCodeAt(F+1))&64512)===56320?($=65536+(($&1023)<<10)+(G&1023),F++,X[U++]=$>>18|240,X[U++]=$>>12&63|128,X[U++]=$>>6&63|128,X[U++]=$&63|128):(X[U++]=$>>12|224,X[U++]=$>>6&63|128,X[U++]=$&63|128);M=U-Y-D}else M=s(j,Y+D);M<32?X[Y++]=160|M:M<256?(D<2&&X.copyWithin(Y+2,Y+1,Y+1+M),X[Y++]=217,X[Y++]=M):M<65536?(D<3&&X.copyWithin(Y+3,Y+2,Y+2+M),X[Y++]=218,X[Y++]=M>>8,X[Y++]=M&255):(D<5&&X.copyWithin(Y+5,Y+3,Y+3+M),X[Y++]=219,Dt.setUint32(Y,M),Y+=4),Y+=M}else if(V==="number")if(j>>>0===j)j<32||j<128&&this.useRecords===!1||j<64&&!this.randomAccessStructure?X[Y++]=j:j<256?(X[Y++]=204,X[Y++]=j):j<65536?(X[Y++]=205,X[Y++]=j>>8,X[Y++]=j&255):(X[Y++]=206,Dt.setUint32(Y,j),Y+=4);else if(j>>0===j)j>=-32?X[Y++]=256+j:j>=-128?(X[Y++]=208,X[Y++]=j+256):j>=-32768?(X[Y++]=209,Dt.setInt16(Y,j),Y+=2):(X[Y++]=210,Dt.setInt32(Y,j),Y+=4);else{let T;if((T=this.useFloat32)>0&&j<4294967296&&j>=-2147483648){X[Y++]=202,Dt.setFloat32(Y,j);let D;if(T<4||(D=j*m_[(X[Y]&127)<<1|X[Y+1]>>7])>>0===D){Y+=4;return}else Y--}X[Y++]=203,Dt.setFloat64(Y,j),Y+=8}else if(V==="object"||V==="function")if(!j)X[Y++]=192;else{if(o){let D=o.get(j);if(D){if(!D.id){let L=o.idsToInsert||(o.idsToInsert=[]);D.id=L.push(D)}X[Y++]=214,X[Y++]=112,Dt.setUint32(Y,D.id),Y+=4;return}else o.set(j,{offset:Y-n})}let T=j.constructor;if(T===Object)C(j,!0);else if(T===Array)S(j);else if(T===Map)if(this.mapAsEmptyObject)X[Y++]=128;else{M=j.size,M<16?X[Y++]=128|M:M<65536?(X[Y++]=222,X[Y++]=M>>8,X[Y++]=M&255):(X[Y++]=223,Dt.setUint32(Y,M),Y+=4);for(let[D,L]of j)_(D),_(L)}else{for(let D=0,L=w1.length;D<L;D++){let F=YM[D];if(j instanceof F){let $=w1[D];if($.write){$.type&&(X[Y++]=212,X[Y++]=$.type,X[Y++]=0);let fe=$.write.call(this,j);fe===j?Array.isArray(j)?S(j):C(j):_(fe);return}let G=X,U=Dt,ne=Y;X=null;let B;try{B=$.pack.call(this,j,fe=>(X=G,G=null,Y+=fe,Y>Pr&&E(Y),{target:X,targetView:Dt,position:Y-fe}),_)}finally{G&&(X=G,Dt=U,Y=ne,Pr=X.length-10)}B&&(B.length+Y>Pr&&E(B.length+Y),Y=u$(B,X,Y,$.type));return}}if(Array.isArray(j))S(j);else{if(j.toJSON){const D=j.toJSON();if(D!==j)return _(D)}if(V==="function")return _(this.writeFunction&&this.writeFunction(j));C(j,!j.hasOwnProperty)}}}else if(V==="boolean")X[Y++]=j?195:194;else if(V==="bigint"){if(j<BigInt(1)<<BigInt(63)&&j>=-(BigInt(1)<<BigInt(63)))X[Y++]=211,Dt.setBigInt64(Y,j);else if(j<BigInt(1)<<BigInt(64)&&j>0)X[Y++]=207,Dt.setBigUint64(Y,j);else if(this.largeBigIntToFloat)X[Y++]=203,Dt.setFloat64(Y,Number(j));else if(this.useBigIntExtension&&j<2n**1023n&&j>-(2n**1023n)){X[Y++]=199,Y++,X[Y++]=66;let T=[],D;do{let L=j&0xffn;D=(L&0x80n)===(j<0n?0x80n:0n),T.push(L),j>>=8n}while(!((j===0n||j===-1n)&&D));X[Y-2]=T.length;for(let L=T.length;L>0;)X[Y++]=Number(T[--L]);return}else throw new RangeError(j+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(V==="undefined")this.encodeUndefinedAsNil?X[Y++]=192:(X[Y++]=212,X[Y++]=0,X[Y++]=0);else throw new Error("Unknown type: "+V)},x=this.variableMapSize||this.coercibleKeyAsNumber?j=>{let V=Object.keys(j),M=V.length;M<16?X[Y++]=128|M:M<65536?(X[Y++]=222,X[Y++]=M>>8,X[Y++]=M&255):(X[Y++]=223,Dt.setUint32(Y,M),Y+=4);let T;if(this.coercibleKeyAsNumber)for(let D=0;D<M;D++){T=V[D];let L=Number(T);_(isNaN(L)?T:L),_(j[T])}else for(let D=0;D<M;D++)_(T=V[D]),_(j[T])}:(j,V)=>{X[Y++]=222;let M=Y-n;Y+=2;let T=0;for(let D in j)(V||j.hasOwnProperty(D))&&(_(D),_(j[D]),T++);X[M+++n]=T>>8,X[M+n]=T&255},w=this.useRecords===!1?x:t.progressiveRecords&&!h?(j,V)=>{let M,T=i.transitions||(i.transitions=Object.create(null)),D=Y++-n,L;for(let F in j)if(V||j.hasOwnProperty(F)){if(M=T[F],M)T=M;else{let $=Object.keys(j),G=T;T=i.transitions;let U=0;for(let ne=0,B=$.length;ne<B;ne++){let fe=$[ne];M=T[fe],M||(M=T[fe]=Object.create(null),U++),T=M}D+n+1==Y?(Y--,P(T,$,U)):N(T,$,D,U),L=!0,T=G[F]}_(j[F])}if(!L){let F=T[uc];F?X[D+n]=F:N(T,Object.keys(j),D,0)}}:(j,V)=>{let M,T=i.transitions||(i.transitions=Object.create(null)),D=0;for(let F in j)(V||j.hasOwnProperty(F))&&(M=T[F],M||(M=T[F]=Object.create(null),D++),T=M);let L=T[uc];L?L>=96&&h?(X[Y++]=((L-=96)&31)+96,X[Y++]=L>>5):X[Y++]=L:P(T,T.__keys__||Object.keys(j),D);for(let F in j)(V||j.hasOwnProperty(F))&&_(j[F])},k=typeof this.useRecords=="function"&&this.useRecords,C=k?(j,V)=>{k(j)?w(j,V):x(j,V)}:w,E=j=>{let V;if(j>16777216){if(j-n>jk)throw new Error("Packed buffer would be larger than maximum buffer size");V=Math.min(jk,Math.round(Math.max((j-n)*(j>67108864?1.25:2),4194304)/4096)*4096)}else V=(Math.max(j-n<<2,X.length-1)>>12)+1<<12;let M=new cp(V);return Dt=M.dataView||(M.dataView=new DataView(M.buffer,0,V)),j=Math.min(j,X.length),X.copy?X.copy(M,0,n,j):M.set(X.slice(n,j)),Y-=n,n=0,Pr=M.length-10,X=M},P=(j,V,M)=>{let T=i.nextId;T||(T=64),T<p&&this.shouldShareStructure&&!this.shouldShareStructure(V)?(T=i.nextOwnId,T<g||(T=p),i.nextOwnId=T+1):(T>=g&&(T=p),i.nextId=T+1);let D=V.highByte=T>=96&&h?T-96>>5:-1;j[uc]=T,j.__keys__=V,i[T-64]=V,T<p?(V.isShared=!0,i.sharedLength=T-63,r=!0,D>=0?(X[Y++]=(T&31)+96,X[Y++]=D):X[Y++]=T):(D>=0?(X[Y++]=213,X[Y++]=114,X[Y++]=(T&31)+96,X[Y++]=D):(X[Y++]=212,X[Y++]=114,X[Y++]=T),M&&(b+=y*M),m.length>=d&&(m.shift()[uc]=0),m.push(j),_(V))},N=(j,V,M,T)=>{let D=X,L=Y,F=Pr,$=n;X=fd,Y=0,n=0,X||(fd=X=new cp(8192)),Pr=X.length-10,P(j,V,T),fd=X;let G=Y;if(X=D,Y=L,Pr=F,n=$,G>1){let U=Y+G-1;U>Pr&&E(U);let ne=M+n;X.copyWithin(ne+G,ne+1,Y),X.set(fd.slice(0,G),ne),Y=U}else X[M+n]=fd[0]},z=(j,V)=>{let M=s$(j,X,n,Y,i,E,(T,D,L)=>{if(L)return r=!0;Y=D;let F=X;return _(T),A(),F!==X?{position:Y,targetView:Dt,target:X}:Y},this);if(M===0)return C(j,!0);Y=M}}useBuffer(t){X=t,Dt=new DataView(X.buffer,X.byteOffset,X.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}YM=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,FM];w1=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:o,position:s}=t(6);i[s++]=214,i[s++]=255,o.setUint32(s,r)}else if(r>0&&r<4294967296){let{target:i,targetView:o,position:s}=t(10);i[s++]=215,i[s++]=255,o.setUint32(s,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),o.setUint32(s+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:o,position:s}=t(3);i[s++]=212,i[s++]=255,i[s++]=255}else{let{target:i,targetView:o,position:s}=t(15);i[s++]=199,i[s++]=12,i[s++]=255,o.setUint32(s,e.getMilliseconds()*1e6),o.setBigInt64(s+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:o}=t(this.moreTypes?3:0);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?Ok(e,16,t):Vk(A0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==QM&&this.moreTypes?Ok(e,WM.indexOf(n.name),t):Vk(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function Ok(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:o,position:s}=n(4+i);o[s++]=199,o[s++]=i+1}else if(i+1<65536){var{target:o,position:s}=n(5+i);o[s++]=200,o[s++]=i+1>>8,o[s++]=i+1&255}else{var{target:o,position:s,targetView:a}=n(7+i);o[s++]=201,a.setUint32(s,i+1),s+=4}o[s++]=116,o[s++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function Vk(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:o}=t(n+5);r[i++]=198,o.setUint32(i,n),i+=4}r.set(e,i)}function u$(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function d$(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let o=n.offset,s=n.id;e.copyWithin(o+r,o,i),r-=6;let a=o+r;e[a++]=214,e[a++]=105,e[a++]=s>>24,e[a++]=s>>16&255,e[a++]=s>>8&255,e[a++]=s&255,i=o}return e}function Lk(e,t,n){if(an.length>0){Dt.setUint32(an.position+e,Y+n-an.position-e),an.stringsPosition=Y-e;let r=an;an=null,t(r[0]),t(r[1])}}function f$(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let JM=new c$({useRecords:!1});const XM=JM.pack;JM.pack;const h$=512,p$=1024,g$=2048;function Fr(){return Date.now()}const Qi=e=>XM(e),Nu=e=>i$(e);let m$=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=o=>{o.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Qc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Qc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Qc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},y$=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=o=>{Qc(this.connection,"set-player-number",{playerNumber:o})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=o=>{Qc(this.connection,"set-permissions",{level:o})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Fr()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Fr(),this.isPinging=!0,Qc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Fr()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new m$(r,i),this.pingClient()}};const y_={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",Eurovision:"eurovision",SkipInitialSetup:"skip_initial_setup"};class lo extends $o{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Be[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Be[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const ZM=["high","low"],v$="graphics-level",qi=new lo(v$,ZM[0]),A$=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],b$="mic-setup-preference",v_=new lo(b$,A$[0],"session"),e5=[60,30],Al=new lo("fps-count",e5[0]),b0=new lo("EXCLUDED_LANGUAGES_KEY_V2",null),yr=new lo("MOBILE_PHONE_MODE_KEY",null),t5=new lo("keyboard-help-visibility",!0);var SP;const Nk=(SP=Pn.getFeatureFlagPayload)==null?void 0:SP.call(Pn,y_.InitialInputLag),tf=new lo("INPUT_LAG_V2",typeof Nk=="number"?Nk:0),n5=new lo("REMOTE_MIC_INPUT_LAG",0,"session"),Bk=["write","read"],r5=new lo("DefaultRemoteMicPermission","write"),S0=new lo("BackgroundThemeSetting","regular","memory"),A_=new lo("AutoEnableFullscreenSetting",!0,"session"),S$=["WebSockets","PeerJS","PartyKit"],om=new lo("RemoteMicConnectionType","WebSockets","session");var _P;(_P=Pn.onFeatureFlags)==null||_P.call(Pn,()=>{om.set(Pn.getFeatureFlagPayload(y_.RemoteMicConnectionType)??"WebSockets")});function Je(e){const[t,n]=v.useState(e.get());return v.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const Dk="RememberedAccessesKey",cv="rememberedSubscriptionsKey";class _$ extends $o{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Be.local)==null?void 0:t.getItem(Dk))??{},this.subscriptions=((n=Be.session)==null?void 0:n.getItem(cv))??{"remote-mics":[]},this.addRemoteMic=(r,i,o,s,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new y$(r,i,o,a)],this.setPermission(r,this.getPermission(r)),te.remoteMicConnected.dispatch({id:r,name:i,silent:s})},this.removeRemoteMic=(r,i=!1)=>{const o=this.remoteMics.find(s=>s.id===r);this.remoteMics=this.remoteMics.filter(s=>s.id!==r),o&&(o.onDisconnect(),te.remoteMicDisconnected.dispatch(o,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(o=>{var s;return(s=this.getRemoteMicById(o))==null?void 0:s.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??r5.get(),this.setPermission=(r,i)=>{var o;(o=this.getRemoteMicById(r))==null||o.setPermission(i),this.micAccessMap[r]=i,Be==null||Be.setItem(Dk,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var o;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(o=Be.session)==null||o.setItem(cv,this.subscriptions),te.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var o,s;this.subscriptions[i]=((o=this.subscriptions[i])==null?void 0:o.filter(a=>a!==r))??[],(s=Be.session)==null||s.setItem(cv,this.subscriptions)}}}const nt=new _$;S0.addListener(e=>{DM(e),nt.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=nt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:S0.get()})});class x${constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const w$=new x$;class E${constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const k$=new E$,i5=Object.prototype.toString;function _0(e){switch(i5.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Vs(e,Error)}}function Bu(e,t){return i5.call(e)===`[object ${t}]`}function o5(e){return Bu(e,"ErrorEvent")}function Fk(e){return Bu(e,"DOMError")}function C$(e){return Bu(e,"DOMException")}function Ps(e){return Bu(e,"String")}function b_(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function S_(e){return e===null||b_(e)||typeof e!="object"&&typeof e!="function"}function hu(e){return Bu(e,"Object")}function x0(e){return typeof Event<"u"&&Vs(e,Event)}function T$(e){return typeof Element<"u"&&Vs(e,Element)}function I$(e){return Bu(e,"RegExp")}function w0(e){return!!(e&&e.then&&typeof e.then=="function")}function R$(e){return hu(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Vs(e,t){try{return e instanceof t}catch{return!1}}function s5(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Jc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function $k(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{s5(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function P$(e,t,n=!1){return Ps(e)?I$(t)?t.test(e):Ps(t)?n?e===t:e.includes(t):!1:!1}function bl(e,t=[],n=!1){return t.some(r=>P$(e,r,n))}function M$(e,t,n=250,r,i,o,s){if(!o.exception||!o.exception.values||!s||!Vs(s.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=j$(E1(e,t,i,s.originalException,r,o.exception.values,a,0),n))}function E1(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(Vs(r[i],Error)){zk(s,a);const c=e(t,r[i]),u=l.length;Uk(c,i,u,a),l=E1(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(Vs(c,Error)){zk(s,a);const d=e(t,c),h=l.length;Uk(d,`errors[${u}]`,h,a),l=E1(e,t,n,c,i,[d,...l],d,h)}}),l}function zk(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Uk(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function j$(e,t){return e.map(n=>(n.value&&(n.value=Jc(n.value,t)),n))}const Sl="8.25.0",St=globalThis;function __(e,t,n){const r=n||St,i=r.__SENTRY__=r.__SENTRY__||{},o=i[Sl]=i[Sl]||{};return o[e]||(o[e]=t())}const Xc=St,O$=80;function pu(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||O$;for(;n&&o++<r&&(c=V$(n,u),!(c==="html"||o>1&&s+i.length*l+c.length>=d));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function V$(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Xc.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&Ps(s)){const a=s.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function L$(){try{return Xc.document.location.href}catch{return""}}function N$(e){return Xc.document&&Xc.document.querySelector?Xc.document.querySelector(e):null}function a5(e){if(!Xc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const Du=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,B$="Sentry Logger ",k1=["debug","info","warn","error","log","assert","trace"],sm={};function bh(e){if(!("console"in St))return e();const t=St.console,n={},r=Object.keys(sm);r.forEach(i=>{const o=sm[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function D$(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Du?k1.forEach(n=>{t[n]=(...r)=>{e&&bh(()=>{St.console[n](`${B$}[${n}]:`,...r)})}}):k1.forEach(n=>{t[n]=()=>{}}),t}const ge=D$(),F$=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function $$(e){return e==="http"||e==="https"}function Fu(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function z$(e){const t=F$.exec(e);if(!t){bh(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",o="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return l5({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function l5(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function U$(e){if(!Du)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(ge.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?$$(r)?t&&isNaN(parseInt(t,10))?(ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function c5(e){const t=typeof e=="string"?z$(e):l5(e);if(!(!t||!U$(t)))return t}class es extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function fr(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&u5(i,r),e[t]=i}function eo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Du&&ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u5(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,eo(e,"__sentry_original__",t)}catch{}}function x_(e){return e.__sentry_original__}function H$(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function d5(e){if(_0(e))return{message:e.message,name:e.name,stack:e.stack,...Gk(e)};if(x0(e)){const t={type:e.type,target:Hk(e.target),currentTarget:Hk(e.currentTarget),...Gk(e)};return typeof CustomEvent<"u"&&Vs(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Hk(e){try{return T$(e)?pu(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Gk(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function G$(e,t=40){const n=Object.keys(d5(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Jc(r,t);for(let i=n.length;i>0;i--){const o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:Jc(o,t)}return""}function Er(e){return C1(e,new Map)}function C1(e,t){if(q$(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=C1(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(C1(i,t))}),r}return e}function q$(e){if(!hu(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const f5=50,jl="?",qk=/\(error: (.*)\)/,Wk=/captureMessage|captureException/;function h5(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){const l=s[a];if(l.length>1024)continue;const c=qk.test(l)?l.replace(qk,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){o.push(d);break}}if(o.length>=f5+i)break}}return K$(o.slice(i))}}function W$(e){return Array.isArray(e)?h5(...e):e}function K$(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(up(t).function||"")&&t.pop(),t.reverse(),Wk.test(up(t).function||"")&&(t.pop(),Wk.test(up(t).function||"")&&t.pop()),t.slice(0,f5).map(n=>({...n,filename:n.filename||up(t).filename,function:n.function||jl}))}function up(e){return e[e.length-1]||{}}const uv="<anonymous>";function Ls(e){try{return!e||typeof e!="function"?uv:e.name||uv}catch{return uv}}function Kk(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const mg={},Yk={};function Da(e,t){mg[e]=mg[e]||[],mg[e].push(t)}function Fa(e,t){Yk[e]||(t(),Yk[e]=!0)}function Ji(e,t){const n=e&&mg[e];if(n)for(const r of n)try{r(t)}catch(i){Du&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ls(r)}
Error:`,i)}}function Y$(e){const t="console";Da(t,e),Fa(t,Q$)}function Q$(){"console"in St&&k1.forEach(function(e){e in St.console&&fr(St.console,e,function(t){return sm[e]=t,function(...n){Ji("console",{args:n,level:e});const i=sm[e];i&&i.apply(St.console,n)}})})}const T1=St;function p5(){if(!("fetch"in T1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function I1(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function J$(){if(typeof EdgeRuntime=="string")return!0;if(!p5())return!1;if(I1(T1.fetch))return!0;let e=!1;const t=T1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=I1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Du&&ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const g5=1e3;function Sh(){return Date.now()/g5}function X$(){const{performance:e}=St;if(!e||!e.now)return Sh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/g5}const hr=X$(),xi=(()=>{const{performance:e}=St;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,l=typeof s=="number"?Math.abs(s+n-r):t,c=l<t;return o||c?i<=l?e.timeOrigin:s:r})();function m5(e,t){const n="fetch";Da(n,e),Fa(n,()=>y5(void 0,t))}function Z$(e){const t="fetch-body-resolved";Da(t,e),Fa(t,()=>y5(t6))}function y5(e,t=!1){t&&!J$()||fr(St,"fetch",function(n){return function(...r){const{method:i,url:o}=n6(r),s={args:r,fetchData:{method:i,url:o},startTimestamp:hr()*1e3};e||Ji("fetch",{...s});const a=new Error().stack;return n.apply(St,r).then(async l=>(e?e(l):Ji("fetch",{...s,endTimestamp:hr()*1e3,response:l}),l),l=>{throw Ji("fetch",{...s,endTimestamp:hr()*1e3,error:l}),_0(l)&&l.stack===void 0&&(l.stack=a,eo(l,"framesToPop",1)),l})}})}async function e6(e,t){if(e&&e.body&&e.body.getReader){const n=e.body.getReader();async function r({done:i}){if(i)return Promise.resolve();try{const o=await Promise.race([n.read(),new Promise(s=>{setTimeout(()=>{s({done:!0})},5e3)})]);await r(o)}catch{}}return n.read().then(r).then(t).catch(()=>{})}}async function t6(e){let t;try{t=e.clone()}catch{return}await e6(t,()=>{Ji("fetch-body-resolved",{endTimestamp:hr()*1e3,response:e})})}function R1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Qk(e){return typeof e=="string"?e:e?R1(e,"url")?e.url:e.toString?e.toString():"":""}function n6(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Qk(n),method:R1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Qk(t),method:R1(t,"method")?String(t.method).toUpperCase():"GET"}}let dp=null;function v5(e){const t="error";Da(t,e),Fa(t,r6)}function r6(){dp=St.onerror,St.onerror=function(e,t,n,r,i){return Ji("error",{column:r,error:i,line:n,msg:e,url:t}),dp&&!dp.__SENTRY_LOADER__?dp.apply(this,arguments):!1},St.onerror.__SENTRY_INSTRUMENTED__=!0}let fp=null;function A5(e){const t="unhandledrejection";Da(t,e),Fa(t,i6)}function i6(){fp=St.onunhandledrejection,St.onunhandledrejection=function(e){return Ji("unhandledrejection",e),fp&&!fp.__SENTRY_LOADER__?fp.apply(this,arguments):!0},St.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function o6(){return"npm"}function s6(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let o=0;o<t.length;o++)if(t[o]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}return[n,r]}function un(){const e=St,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function b5(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ra(e){const{message:t,event_id:n}=e;if(t)return t;const r=b5(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function P1(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function If(e,t){const n=b5(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const o={...i&&i.data,...t.data};n.mechanism.data=o}}function Jk(e){if(e&&e.__sentry_captured__)return!0;try{eo(e,"__sentry_captured__",!0)}catch{}return!1}function S5(e){return Array.isArray(e)?e:[e]}function ia(e,t=100,n=1/0){try{return M1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function _5(e,t=3,n=100*1024){const r=ia(e,t);return u6(r)>n?_5(e,t-1,n):r}function M1(e,t,n=1/0,r=1/0,i=s6()){const[o,s]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const a=a6(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return M1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=d5(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=M1(p,g,l-1,r,i),d++}return s(t),u}function a6(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(s5(t))return"[VueViewModel]";if(R$(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ls(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=l6(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function l6(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function c6(e){return~-encodeURI(e).split(/%..|./).length}function u6(e){return c6(JSON.stringify(e))}var As;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(As||(As={}));function Ol(e){return new $i(t=>{t(e)})}function am(e){return new $i((t,n)=>{n(e)})}class $i{constructor(t){$i.prototype.__init.call(this),$i.prototype.__init2.call(this),$i.prototype.__init3.call(this),$i.prototype.__init4.call(this),this._state=As.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new $i((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(s){i(s)}},o=>{if(!n)i(o);else try{r(n(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new $i((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(As.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(As.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===As.PENDING){if(w0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===As.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===As.RESOLVED&&n[1](this._value),this._state===As.REJECTED&&n[2](this._value),n[0]=!0)})}}}function d6(e){const t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!n())return am(new es("Not adding Promise because buffer limit was reached."));const a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(s){return new $i((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{Ol(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:o}}function _l(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const f6=["fatal","error","warning","log","info","debug"];function h6(e){return e==="warn"?"warning":f6.includes(e)?e:"log"}const j1="baggage",x5="sentry-",p6=/^sentry-/,g6=8192;function w5(e){const t=m6(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(p6)){const s=i.slice(x5.length);r[s]=o}return r},{});if(Object.keys(n).length>0)return n}function E5(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${x5}${r}`]=i),n),{});return y6(t)}function m6(e){if(!(!e||!Ps(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Xk(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):Xk(e)}function Xk(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function y6(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=i===0?o:`${t},${o}`;return s.length>g6?(Du&&ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}const v6=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function A6(e){if(!e)return;const t=e.match(v6);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function b6(e,t){const n=A6(e),r=w5(t),{traceId:i,parentSpanId:o,parentSampled:s}=n||{};return n?{traceId:i||un(),parentSpanId:o||un().substring(16),spanId:un().substring(16),sampled:s,dsc:r||{}}:{traceId:i||un(),spanId:un().substring(16)}}function w_(e=un(),t=un().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function $u(e,t=[]){return[e,t]}function S6(e,t){const[n,r]=e;return[n,[...r,t]]}function Zk(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function O1(e){return St.__SENTRY__&&St.__SENTRY__.encodePolyfill?St.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function _6(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[O1(r),o]:r.push(typeof o=="string"?O1(o):o)}for(const o of n){const[s,a]=o;if(i(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ia(a))}i(l)}}return typeof r=="string"?r:x6(r)}function x6(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function w6(e){return[{type:"span"},e]}function E6(e){const t=typeof e.data=="string"?O1(e.data):e.data;return[Er({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const k6={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function e2(e){return k6[e]}function k5(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function C6(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Fu(r)},...i&&{trace:Er({...i})}}}function T6(e,t,n){const r=[{type:"client_report"},{timestamp:n||Sh(),discarded_events:e}];return $u(t?{dsn:t}:{},[r])}const I6=60*1e3;function R6(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?I6:r-t}function P6(e,t){return e[t]||e.all||0}function M6(e,t,n=Date.now()){return P6(e,t)>n}function j6(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else s?i.all=r+R6(s,r):t===429&&(i.all=r+60*1e3);return i}function lm(){return{traceId:un(),spanId:un().substring(16)}}const hp=St;function O6(){const e=hp.chrome,t=e&&e.app&&e.app.runtime,n="history"in hp&&!!hp.history.pushState&&!!hp.history.replaceState;return!t&&n}const Ze=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function zu(){return E_(St),St}function E_(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Sl,t[Sl]=t[Sl]||{}}function V6(e){const t=hr(),n={sid:un(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>N6(n)};return e&&gu(n,e),n}function gu(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||hr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:un()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function L6(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),gu(e,n)}function N6(e){return Er({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const V1="_sentrySpan";function Rf(e,t){t?eo(e,V1,t):delete e[V1]}function cm(e){return e[V1]}const B6=100;class k_{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=lm()}clone(){const t=new k_;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Rf(t,cm(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&gu(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Ia?[n.getScopeData(),n.getRequestSession()]:hu(n)?[t,t.requestSession]:[],{tags:o,extra:s,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Rf(this,void 0),this._attachments=[],this._propagationContext=lm(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:B6;if(r<=0)return this;const i={timestamp:Sh(),...t},o=this._breadcrumbs;return o.push(i),this._breadcrumbs=o.length>r?o.slice(-r):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:cm(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:un();if(!this._client)return ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:un();if(!this._client)return ge.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:un();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Ia=k_;function D6(){return __("defaultCurrentScope",()=>new Ia)}function F6(){return __("defaultIsolationScope",()=>new Ia)}class $6{constructor(t,n){let r;t?r=t:r=new Ia;let i;n?i=n:i=new Ia,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return w0(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function mu(){const e=zu(),t=E_(e);return t.stack=t.stack||new $6(D6(),F6())}function z6(e){return mu().withScope(e)}function U6(e,t){const n=mu();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function t2(e){return mu().withScope(()=>e(mu().getIsolationScope()))}function H6(){return{withIsolationScope:t2,withScope:z6,withSetScope:U6,withSetIsolationScope:(e,t)=>t2(t),getCurrentScope:()=>mu().getScope(),getIsolationScope:()=>mu().getIsolationScope()}}function _h(e){const t=E_(e);return t.acs?t.acs:H6()}function hn(){const e=zu();return _h(e).getCurrentScope()}function co(){const e=zu();return _h(e).getIsolationScope()}function G6(){return __("globalScope",()=>new Ia)}function E0(...e){const t=zu(),n=_h(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function jt(){return hn().getClient()}const q6="_sentryMetrics";function L1(e){const t=e[q6];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Er(i));return n}const fa="sentry.source",C5="sentry.sample_rate",Pf="sentry.op",Fn="sentry.origin",N1="sentry.idle_span_finish_reason",C_="sentry.measurement_unit",T_="sentry.measurement_value",W6="sentry.profile_id",T5="sentry.exclusive_time",K6=0,I5=1,Qn=2;function Y6(e){if(e<400&&e>=100)return{code:I5};if(e>=400&&e<500)switch(e){case 401:return{code:Qn,message:"unauthenticated"};case 403:return{code:Qn,message:"permission_denied"};case 404:return{code:Qn,message:"not_found"};case 409:return{code:Qn,message:"already_exists"};case 413:return{code:Qn,message:"failed_precondition"};case 429:return{code:Qn,message:"resource_exhausted"};case 499:return{code:Qn,message:"cancelled"};default:return{code:Qn,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Qn,message:"unimplemented"};case 503:return{code:Qn,message:"unavailable"};case 504:return{code:Qn,message:"deadline_exceeded"};default:return{code:Qn,message:"internal_error"}}return{code:Qn,message:"unknown_error"}}function R5(e,t){e.setAttribute("http.response.status_code",t);const n=Y6(t);n.message!=="unknown_error"&&e.setStatus(n)}const P5=0,M5=1;function Q6(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a}=bt(e);return Er({parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a})}function J6(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=bt(e);return Er({parent_span_id:r,span_id:t,trace_id:n})}function j5(e){const{traceId:t,spanId:n}=e.spanContext(),r=Yl(e);return w_(t,n,r)}function xl(e){return typeof e=="number"?n2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?n2(e.getTime()):hr()}function n2(e){return e>9999999999?e/1e3:e}function bt(e){if(Z6(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(X6(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:l}=e;return Er({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:xl(i),timestamp:xl(s)||void 0,status:O5(l),op:r[Pf],origin:r[Fn],_metrics_summary:L1(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function X6(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Z6(e){return typeof e.getSpanJSON=="function"}function Yl(e){const{traceFlags:t}=e.spanContext();return t===M5}function O5(e){if(!(!e||e.code===K6))return e.code===I5?"ok":e.message||"unknown_error"}const wl="_sentryChildSpans",B1="_sentryRootSpan";function V5(e,t){const n=e[B1]||e;eo(t,B1,n),e[wl]?e[wl].add(t):eo(e,wl,new Set([t]))}function e8(e,t){e[wl]&&e[wl].delete(t)}function yg(e){const t=new Set;function n(r){if(!t.has(r)&&Yl(r)){t.add(r);const i=r[wl]?Array.from(r[wl]):[];for(const o of i)n(o)}}return n(e),Array.from(t)}function $r(e){return e[B1]||e}function li(){const e=zu(),t=_h(e);return t.getActiveSpan?t.getActiveSpan():cm(hn())}let r2=!1;function t8(){r2||(r2=!0,v5(D1),A5(D1))}function D1(){const e=li(),t=e&&$r(e);if(t){const n="internal_error";Ze&&ge.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:Qn,message:n})}}D1.tag="sentry_tracingErrorCallback";const L5="_sentryScope",N5="_sentryIsolationScope";function n8(e,t,n){e&&(eo(e,N5,n),eo(e,L5,t))}function i2(e){return{scope:e[L5],isolationScope:e[N5]}}function Ra(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=jt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Uu{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:P5}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const I_="production",B5="_frozenDsc";function o2(e,t){eo(e,B5,t)}function k0(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Er({environment:n.environment||I_,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function Ql(e){const t=jt();if(!t)return{};const n=k0(bt(e).trace_id||"",t),r=$r(e),i=r[B5];if(i)return i;const o=r.spanContext().traceState,s=o&&o.get("sentry.dsc"),a=s&&w5(s);if(a)return a;const l=bt(r),c=l.data||{},u=c[C5];u!=null&&(n.sample_rate=`${u}`);const d=c[fa],h=l.description;return d!=="url"&&h&&(n.transaction=h),n.sampled=String(Yl(r)),t.emit("createDsc",n,r),n}function r8(e){if(!Ze)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=bt(e),{spanId:i}=e.spanContext(),o=Yl(e),s=$r(e),a=s===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=bt(s);c.push(`root ID: ${s.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}ge.log(`${l}
  ${c.join(`
  `)}`)}function i8(e){if(!Ze)return;const{description:t="< unknown name >",op:n="< unknown op >"}=bt(e),{spanId:r}=e.spanContext(),o=$r(e)===e,s=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;ge.log(s)}function D5(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Ze&&ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function o8(e,t){if(!Ra(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=D5(n);return r===void 0?(Ze&&ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Ze&&ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Ze&&ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function s8(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function a8(e,t,n,r){const i=k5(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Fu(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return $u(o,[s])}function l8(e,t,n,r){const i=k5(n),o=e.type&&e.type!=="replay_event"?e.type:"event";s8(e,n&&n.sdk);const s=C6(e,i,r,t);return delete e.sdkProcessingMetadata,$u(s,[[{type:o},e]])}function c8(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=Ql(e[0]),i=t&&t.getDsn(),o=t&&t.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&i&&{dsn:Fu(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?u=>a(bt(u)):u=>bt(u),c=[];for(const u of e){const d=l(u);d&&c.push(w6(d))}return $u(s,c)}function u8(e,t,n){const r=li(),i=r&&$r(r);i&&i.addEvent(e,{[T_]:t,[C_]:n})}function s2(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[C_],o=r[T_];typeof i=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:i})}),t}const a2=1e3;class R_{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16),this._startTime=t.startTimestamp||hr(),this._attributes={},this.setAttributes({[Fn]:"manual",[Pf]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?M5:P5}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=xl(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=xl(t),i8(this),this._onSpanEnded())}getSpanJSON(){return Er({data:this._attributes,description:this._name,op:this._attributes[Pf],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:O5(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fn],_metrics_summary:L1(this),profile_id:this._attributes[W6],exclusive_time:this._attributes[T5],measurements:s2(this._events),is_segment:this._isStandaloneSpan&&$r(this)===this||void 0,segment_id:this._isStandaloneSpan?$r(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Ze&&ge.log("[Tracing] Adding an event to span:",t);const i=l2(n)?n:r||hr(),o=l2(n)?{}:n||{},s={name:t,time:xl(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=jt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===$r(this)))return;if(this._isStandaloneSpan){this._sampled?f8(c8([this],t)):(Ze&&ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(i2(this).scope||hn()).captureEvent(r)}_convertSpanToTransaction(){if(!c2(bt(this)))return;this._name||(Ze&&ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=i2(this),i=(t||hn()).getClient()||jt();if(this._sampled!==!0){Ze&&ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const s=yg(this).filter(d=>d!==this&&!d8(d)).map(d=>bt(d)).filter(c2),a=this._attributes[fa],l={contexts:{trace:Q6(this)},spans:s.length>a2?s.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,a2):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Er({dynamicSamplingContext:Ql(this)})},_metrics_summary:L1(this),...a&&{transaction_info:{source:a}}},c=s2(this._events);return c&&Object.keys(c).length&&(Ze&&ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function l2(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function c2(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function d8(e){return e instanceof R_&&e.isStandaloneSpan()}function f8(e){const t=jt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const r=t.getTransport();r&&r.send(e).then(null,i=>{Ze&&ge.error("Error while sending span:",i)})}const F5="__SENTRY_SUPPRESS_TRACING__";function jo(e){const t=$5();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=p8(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?s=>E0(e.scope,s):i!==void 0?s=>um(i,s):s=>s())(()=>{const s=hn(),a=m8(s);return e.onlyIfParent&&!a?new Uu:h8({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}function um(e,t){const n=$5();return n.withActiveSpan?n.withActiveSpan(e,t):E0(r=>(Rf(r,e||void 0),t(r)))}function h8({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ra())return new Uu;const i=co();let o;if(e&&!n)o=g8(e,r,t),V5(e,o);else if(e){const s=Ql(e),{traceId:a,spanId:l}=e.spanContext(),c=Yl(e);o=u2({traceId:a,parentSpanId:l,...t},r,c),o2(o,s)}else{const{traceId:s,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};o=u2({traceId:s,parentSpanId:l,...t},r,c),a&&o2(o,a)}return r8(o),n8(o,r,i),o}function p8(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=xl(e.startTime),delete r.startTime,r}return n}function $5(){const e=zu();return _h(e)}function u2(e,t,n){const r=jt(),i=r&&r.getOptions()||{},{name:o="",attributes:s}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[F5]?[!1]:o8(i,{name:o,parentSampled:n,attributes:s,transactionContext:{name:o,parentSampled:n}}),c=new R_({...e,attributes:{[fa]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(C5,l),r&&r.emit("spanStart",c),c}function g8(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[F5]?!1:Yl(e),s=o?new R_({...n,parentSpanId:r,traceId:i,sampled:o}):new Uu({traceId:i});V5(e,s);const a=jt();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function m8(e){const t=cm(e);if(!t)return;const n=jt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?$r(t):t}const vg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},y8="heartbeatFailed",v8="idleTimeout",A8="finalTimeout",b8="externalFinish";function z5(e,t={}){const n=new Map;let r=!1,i,o=b8,s=!t.disableAutoFinish;const a=[],{idleTimeout:l=vg.idleTimeout,finalTimeout:c=vg.finalTimeout,childSpanTimeout:u=vg.childSpanTimeout,beforeSpanEnd:d}=t,h=jt();if(!h||!Ra())return new Uu;const p=hn(),g=li(),m=S8(e);m.end=new Proxy(m.end,{apply(w,k,C){d&&d(m);const[E,...P]=C,N=E||hr(),z=xl(N),j=yg(m).filter(L=>L!==m);if(!j.length)return x(z),Reflect.apply(w,k,[z,...P]);const V=j.map(L=>bt(L).timestamp).filter(L=>!!L),M=V.length?Math.max(...V):void 0,T=bt(m).start_timestamp,D=Math.min(T?T+c/1e3:1/0,Math.max(T||-1/0,Math.min(z,M||1/0)));return x(D),Reflect.apply(w,k,[D,...P])}});function b(){i&&(clearTimeout(i),i=void 0)}function y(w){b(),i=setTimeout(()=>{!r&&n.size===0&&s&&(o=v8,m.end(w))},l)}function A(w){i=setTimeout(()=>{!r&&s&&(o=y8,m.end(w))},u)}function S(w){b(),n.set(w,!0);const k=hr();A(k+u/1e3)}function _(w){if(n.has(w)&&n.delete(w),n.size===0){const k=hr();y(k+l/1e3)}}function x(w){r=!0,n.clear(),a.forEach(z=>z()),Rf(p,g);const k=bt(m),{start_timestamp:C}=k;if(!C)return;(k.data||{})[N1]||m.setAttribute(N1,o),ge.log(`[Tracing] Idle span "${k.op}" finished`);const P=yg(m).filter(z=>z!==m);let N=0;P.forEach(z=>{z.isRecording()&&(z.setStatus({code:Qn,message:"cancelled"}),z.end(w),Ze&&ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(z,void 0,2)));const j=bt(z),{timestamp:V=0,start_timestamp:M=0}=j,T=M<=w,D=(c+l)/1e3,L=V-M<=D;if(Ze){const F=JSON.stringify(z,void 0,2);T?L||ge.log("[Tracing] Discarding span since it finished after idle span final timeout",F):ge.log("[Tracing] Discarding span since it happened after idle span was finished",F)}(!L||!T)&&(e8(m,z),N++)}),N>0&&m.setAttribute("sentry.idle_span_discarded_spans",N)}return a.push(h.on("spanStart",w=>{if(r||w===m||bt(w).timestamp)return;yg(m).includes(w)&&S(w.spanContext().spanId)})),a.push(h.on("spanEnd",w=>{r||_(w.spanContext().spanId)})),a.push(h.on("idleSpanEnableAutoFinish",w=>{w===m&&(s=!0,y(),n.size&&A())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:Qn,message:"deadline_exceeded"}),o=A8,m.end())},c),m}function S8(e){const t=jo(e);return Rf(hn(),t),Ze&&ge.log("[Tracing] Started span is an idle span"),t}function F1(e,t,n,r=0){return new $i((i,o)=>{const s=e[r];if(t===null||typeof s!="function")i(t);else{const a=s({...t},n);Ze&&s.id&&a===null&&ge.log(`Event processor "${s.id}" dropped event`),w0(a)?a.then(l=>F1(e,l,n,r+1).then(i)).then(null,o):F1(e,a,n,r+1).then(i).then(null,o)}})}function _8(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;x8(e,t),r&&k8(e,r),C8(e,n),w8(e,i),E8(e,o)}function d2(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;hd(e,"extra",n),hd(e,"tags",r),hd(e,"user",i),hd(e,"contexts",o),hd(e,"sdkProcessingMetadata",a),s&&(e.level=s),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function hd(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function x8(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,l=Er(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Er(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=Er(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Er(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function w8(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function E8(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function k8(e,t){e.contexts={trace:J6(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ql(t),...e.sdkProcessingMetadata};const n=$r(t),r=bt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function C8(e,t){e.fingerprint=e.fingerprint?S5(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function T8(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||un(),timestamp:t.timestamp||Sh()},c=n.integrations||e.integrations.map(b=>b.name);I8(l,e),M8(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&R8(l,e.stackParser);const u=O8(r,n.captureContext);n.mechanism&&If(l,n.mechanism);const d=i?i.getEventProcessors():[],h=G6().getScopeData();if(o){const b=o.getScopeData();d2(h,b)}if(u){const b=u.getScopeData();d2(h,b)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),_8(l,h);const g=[...d,...h.eventProcessors];return F1(g,l,n).then(b=>(b&&P8(b),typeof s=="number"&&s>0?j8(b,s,a):b))}function I8(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:I_),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Jc(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Jc(s.value,o));const a=e.request;a&&a.url&&(a.url=Jc(a.url,o))}const f2=new WeakMap;function R8(e,t){const n=St._sentryDebugIds;if(!n)return;let r;const i=f2.get(t);i?r=i:(r=new Map,f2.set(t,r));const o=Object.entries(n).reduce((s,[a,l])=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){s[h.filename]=l;break}}return s},{});try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})})}catch{}}function P8(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function M8(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function j8(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:ia(i.data,t,n)}}))},...e.user&&{user:ia(e.user,t,n)},...e.contexts&&{contexts:ia(e.contexts,t,n)},...e.extra&&{extra:ia(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ia(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:ia(i.data,t,n)}}))),r}function O8(e,t){if(!t)return e;const n=e?e.clone():new Ia;return n.update(t),n}function V8(e){if(e)return L8(e)?{captureContext:e}:B8(e)?{captureContext:e}:e}function L8(e){return e instanceof Ia||typeof e=="function"}const N8=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function B8(e){return Object.keys(e).some(t=>N8.includes(t))}function Lo(e,t){return hn().captureException(e,V8(t))}function U5(e,t){return hn().captureEvent(e,t)}function D8(e,t){co().setContext(e,t)}function F8(e){co().setUser(e)}function $8(){return co().lastEventId()}function h2(e){const t=jt(),n=co(),r=hn(),{release:i,environment:o=I_}=t&&t.getOptions()||{},{userAgent:s}=St.navigator||{},a=V6({release:i,environment:o,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),l=n.getSession();return l&&l.status==="ok"&&gu(l,{status:"exited"}),H5(),n.setSession(a),r.setSession(a),a}function H5(){const e=co(),t=hn(),n=t.getSession()||e.getSession();n&&L6(n),G5(),e.setSession(),t.setSession()}function G5(){const e=co(),t=hn(),n=jt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function p2(e=!1){if(e){H5();return}G5()}const z8="7";function q5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function U8(e){return`${q5(e)}${e.projectId}/envelope/`}function H8(e,t){return H$({sentry_key:e.publicKey,sentry_version:z8,...t&&{sentry_client:`${t.name}/${t.version}`}})}function G8(e,t,n){return t||`${U8(e)}?${H8(e,n)}`}function q8(e,t){const n=c5(e);if(!n)return"";const r=`${q5(n)}embed/error-page/`;let i=`dsn=${Fu(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const s=t.user;if(!s)continue;s.name&&(i+=`&name=${encodeURIComponent(s.name)}`),s.email&&(i+=`&email=${encodeURIComponent(s.email)}`)}else i+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${i}`}const g2=[];function W8(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function K8(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=S5(n(t)):r=t;const i=W8(r),o=i.findIndex(s=>s.name==="Debug");if(o>-1){const[s]=i.splice(o,1);i.push(s)}return i}function Y8(e,t){const n={};return t.forEach(r=>{r&&W5(e,r,n)}),n}function m2(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function W5(e,t,n){if(n[t.name]){Ze&&ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,g2.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),g2.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}Ze&&ge.log(`Integration installed: ${t.name}`)}const y2="Not capturing exception because it's already been captured.";class Q8{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=c5(t.dsn):Ze&&ge.warn("No DSN provided, client will not send events."),this._dsn){const n=G8(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=un();if(Jk(t))return Ze&&ge.log(y2),i;const o={event_id:i,...n};return this._process(this.eventFromException(t,o).then(s=>this._captureEvent(s,o,r))),o.event_id}captureMessage(t,n,r,i){const o={event_id:un(),...r},s=b_(t)?t:String(t),a=S_(t)?this.eventFromMessage(s,n,o):this.eventFromException(t,o);return this._process(a.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(t,n,r){const i=un();if(n&&n.originalException&&Jk(n.originalException))return Ze&&ge.log(y2),i;const o={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?Ze&&ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),gu(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Ol(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];W5(this,t,this._integrations),n||m2(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=l8(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=S6(r,E6(o));const i=this.sendEnvelope(r);i&&i.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=a8(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,o=`${t}:${n}`;Ze&&ge.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Ze&&ge.error("Error while sending event:",n),n)):(Ze&&ge.error("Transport disabled"),Ol({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Y8(this,t),m2(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const o=n.exception&&n.exception.values;if(o){i=!0;for(const l of o){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&r)&&(gu(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new $i(n=>{let r=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=i,t&&r>=t&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=co()){const o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),T8(o,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:Er({trace_id:u,span_id:d,parent_span_id:h}),...a.contexts};const g=p||k0(u,this);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Ze){const o=i;o.logLevel==="log"?ge.log(o.message):ge.warn(o)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:o}=i,s=Y5(t),a=K5(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof o>"u"?void 0:D5(o);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),am(new es(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new es("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const b=X8(this,i,g,n);return J8(b,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),s){const A=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",A)}throw new es(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!s&&m&&this._updateSessionFromEvent(m,g),s){const y=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,A=g.spans?g.spans.length:0,S=y-A;S>0&&this.recordDroppedEvent("before_send","span",S)}const b=g.transaction_info;if(s&&b&&g.transaction!==t.transaction){const y="custom";g.transaction_info={...b,source:y}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof es?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new es(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}_flushOutcomes(){Ze&&ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Ze&&ge.log("No outcomes to send");return}if(!this._dsn){Ze&&ge.log("No dsn provided, will not send outcomes");return}Ze&&ge.log("Sending outcomes:",t);const n=T6(t,this._options.tunnel&&Fu(this._dsn));this.sendEnvelope(n)}}function J8(e,t){const n=`${t} must return \`null\` or a valid event.`;if(w0(e))return e.then(r=>{if(!hu(r)&&r!==null)throw new es(n);return r},r=>{throw new es(`${t} rejected with ${r}`)});if(!hu(e)&&e!==null)throw new es(n);return e}function X8(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(K5(n)&&i)return i(n,r);if(Y5(n)){if(n.spans&&s){const a=[];for(const l of n.spans){const c=s(l);c?a.push(c):e.recordDroppedEvent("before_send","span")}n.spans=a}if(o){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return o(n,r)}}return n}function K5(e){return e.type===void 0}function Y5(e){return e.type==="transaction"}function Z8(e,t){t.debug===!0&&(Ze?ge.enable():bh(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),hn().update(t.initialScope);const r=new e(t);return ez(r),r.init(),r}function ez(e){hn().setClient(e)}const tz=64;function nz(e,t,n=d6(e.bufferSize||tz)){let r={};const i=s=>n.drain(s);function o(s){const a=[];if(Zk(s,(d,h)=>{const p=e2(h);if(M6(r,p)){const g=v2(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Ol({});const l=$u(s[0],a),c=d=>{Zk(l,(h,p)=>{const g=v2(h,p);e.recordDroppedEvent(d,e2(p),g)})},u=()=>t({body:_6(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Ze&&ge.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=j6(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof es)return Ze&&ge.error("Skipped sending event because buffer is full."),c("queue_overflow"),Ol({});throw d})}return{send:o,flush:i}}function v2(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Q5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Sl})),version:Sl}),e._metadata=i}const rz=100;function Vl(e,t){const n=jt(),r=co();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=rz}=n.getOptions();if(o<=0)return;const a={timestamp:Sh(),...e},l=i?bh(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,o))}let A2;const iz="FunctionToString",b2=new WeakMap,oz=()=>({name:iz,setupOnce(){A2=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=x_(this),n=b2.has(jt())&&t!==void 0?t:this;return A2.apply(n,e)}}catch{}},setup(e){b2.set(e,!0)}}),sz=oz,az=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],lz="InboundFilters",cz=(e={})=>({name:lz,processEvent(t,n,r){const i=r.getOptions(),o=dz(e,i);return fz(t,o)?null:t}}),uz=cz;function dz(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:az],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function fz(e,t){return t.ignoreInternal&&vz(e)?(Ze&&ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${ra(e)}`),!0):hz(e,t.ignoreErrors)?(Ze&&ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ra(e)}`),!0):bz(e)?(Ze&&ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ra(e)}`),!0):pz(e,t.ignoreTransactions)?(Ze&&ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ra(e)}`),!0):gz(e,t.denyUrls)?(Ze&&ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ra(e)}.
Url: ${dm(e)}`),!0):mz(e,t.allowUrls)?!1:(Ze&&ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ra(e)}.
Url: ${dm(e)}`),!0)}function hz(e,t){return e.type||!t||!t.length?!1:yz(e).some(n=>bl(n,t))}function pz(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?bl(n,t):!1}function gz(e,t){if(!t||!t.length)return!1;const n=dm(e);return n?bl(n,t):!1}function mz(e,t){if(!t||!t.length)return!0;const n=dm(e);return n?bl(n,t):!0}function yz(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function vz(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Az(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function dm(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Az(t):null}catch{return Ze&&ge.error(`Cannot extract url for event ${ra(e)}`),null}}function bz(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const Sz="Dedupe",_z=()=>{let e;return{name:Sz,processEvent(t){if(t.type)return t;try{if(wz(t,e))return Ze&&ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},xz=_z;function wz(e,t){return t?!!(Ez(e,t)||kz(e,t)):!1}function Ez(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!X5(e,t)||!J5(e,t))}function kz(e,t){const n=S2(t),r=S2(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!X5(e,t)||!J5(e,t))}function J5(e,t){let n=Kk(e),r=Kk(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function X5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function S2(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Cz(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const o=Ra()&&t(e.fetchData.url);if(e.endTimestamp&&o){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(Rz(m,e),delete r[g]);return}const s=hn(),a=jt(),{method:l,url:c}=e.fetchData,u=Iz(c),d=u?_l(u).host:void 0,h=!!li(),p=o&&h?jo({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Fn]:i,[Pf]:"http.client"}}):new Uu;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=Tz(g,a,s,m,Ra()&&h?p:void 0)}return p}function Tz(e,t,n,r,i){const o=co(),{traceId:s,spanId:a,sampled:l,dsc:c}={...o.getPropagationContext(),...n.getPropagationContext()},u=i?j5(i):w_(s,a,l),d=E5(c||(i?Ql(i):k0(s,t))),h=r.headers||(typeof Request<"u"&&Vs(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&Vs(h,Headers)){const p=new Headers(h);return p.append("sentry-trace",u),d&&p.append(j1,d),p}else if(Array.isArray(h)){const p=[...h,["sentry-trace",u]];return d&&p.push([j1,d]),p}else{const p="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(p)?g.push(...p):p&&g.push(p),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function Iz(e){try{return new URL(e).href}catch{return}}function Rz(e,t){if(t.response){R5(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Qn,message:"internal_error"});e.end()}const He=St;let $1=0;function Z5(){return $1>0}function Pz(){$1++,setTimeout(()=>{$1--})}function yu(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(x_(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const o=i.map(s=>yu(s,t));return e.apply(this,o)}catch(o){throw Pz(),E0(s=>{s.addEventProcessor(a=>(t.mechanism&&(P1(a,void 0,void 0),If(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Lo(o)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}u5(r,e),eo(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const ti=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function P_(e,t){const n=M_(e,t),r={type:t&&t.name,value:Lz(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Mz(e,t,n,r){const i=jt(),o=i&&i.getOptions().normalizeDepth,s=$z(t),a={__serialized__:_5(t,o)};if(s)return{exception:{values:[P_(e,s)]},extra:a};const l={exception:{values:[{type:x0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Dz(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=M_(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function dv(e,t){return{exception:{values:[P_(e,t)]}}}function M_(e,t){const n=t.stacktrace||t.stack||"",r=Oz(t),i=Vz(t);try{return e(n,r,i)}catch{}return[]}const jz=/Minified React error #\d+;/i;function Oz(e){return e&&jz.test(e.message)?1:0}function Vz(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Lz(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Nz(e,t,n,r){const i=n&&n.syntheticException||void 0,o=j_(e,t,i,r);return If(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ol(o)}function Bz(e,t,n="info",r,i){const o=r&&r.syntheticException||void 0,s=z1(e,t,o,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Ol(s)}function j_(e,t,n,r,i){let o;if(o5(t)&&t.error)return dv(e,t.error);if(Fk(t)||C$(t)){const s=t;if("stack"in t)o=dv(e,t);else{const a=s.name||(Fk(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=z1(e,l,n,r),P1(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return _0(t)?dv(e,t):hu(t)||x0(t)?(o=Mz(e,t,n,i),If(o,{synthetic:!0}),o):(o=z1(e,t,n,r),P1(o,`${t}`,void 0),If(o,{synthetic:!0}),o)}function z1(e,t,n,r){const i={};if(r&&n){const o=M_(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(b_(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function Dz(e,{isUnhandledRejection:t}){const n=G$(e),r=t?"promise rejection":"exception";return o5(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:x0(e)?`Event \`${Fz(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Fz(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function $z(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function zz(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Fu(r)}},o=Uz(e);return $u(i,[o])}function Uz(e){return[{type:"user_report"},e]}class Hz extends Q8{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=He.SENTRY_SDK_SOURCE||o6();Q5(n,"browser",["browser"],r),super(n),n.sendClientReports&&He.document&&He.document.addEventListener("visibilitychange",()=>{He.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Nz(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Bz(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){ti&&ge.warn("SDK not enabled, will not capture user feedback.");return}const n=zz(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const mi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Gz=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Hu=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i||0),(o||i===void 0)&&(i=t.value,t.delta=o,t.rating=Gz(t.value,n),e(t)))}},Ke=St,qz=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,xh=()=>Ke.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],C0=()=>{const e=xh();return e&&e.activationStart||0},Gu=(e,t)=>{const n=xh();let r="navigate";return n&&(Ke.document&&Ke.document.prerendering||C0()>0?r="prerender":Ke.document&&Ke.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:qz(),navigationType:r}},Jl=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},T0=e=>{const t=n=>{(n.type==="pagehide"||Ke.document&&Ke.document.visibilityState==="hidden")&&e(n)};Ke.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},O_=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Mf=-1;const Wz=()=>{Mf=Ke.document.visibilityState==="hidden"&&!Ke.document.prerendering?0:1/0},fm=e=>{Ke.document.visibilityState==="hidden"&&Mf>-1&&(Mf=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",fm,!0),removeEventListener("prerenderingchange",fm,!0))},Kz=()=>{addEventListener("visibilitychange",fm,!0),addEventListener("prerenderingchange",fm,!0)},I0=()=>(Ke.document&&Mf<0&&(Wz(),Kz()),{get firstHiddenTime(){return Mf}}),wh=e=>{Ke.document&&Ke.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Yz=[1800,3e3],Qz=(e,t={})=>{wh(()=>{const n=I0(),r=Gu("FCP");let i;const s=Jl("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-C0(),0),r.entries.push(l),i(!0)))})});s&&(i=Hu(e,r,Yz,t.reportAllChanges))})},Jz=[.1,.25],Xz=(e,t={})=>{Qz(O_(()=>{const n=Gu("CLS",0);let r,i=0,o=[];const s=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=o[0],d=o[o.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,o.push(c)):(i=c.value,o=[c])}}),i>n.value&&(n.value=i,n.entries=o,r())},a=Jl("layout-shift",s);a&&(r=Hu(e,n,Jz,t.reportAllChanges),T0(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},Zz=[100,300],e7=(e,t={})=>{wh(()=>{const n=I0(),r=Gu("FID");let i;const o=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},s=l=>{l.forEach(o)},a=Jl("first-input",s);i=Hu(e,r,Zz,t.reportAllChanges),a&&T0(O_(()=>{s(a.takeRecords()),a.disconnect()}))})};let e3=0,fv=1/0,pp=0;const t7=e=>{e.forEach(t=>{t.interactionId&&(fv=Math.min(fv,t.interactionId),pp=Math.max(pp,t.interactionId),e3=pp?(pp-fv)/7+1:0)})};let U1;const n7=()=>U1?e3:performance.interactionCount||0,r7=()=>{"interactionCount"in performance||U1||(U1=Jl("event",t7,{type:"event",buffered:!0,durationThreshold:0}))},i7=[200,500],o7=0,t3=()=>n7()-o7,_2=10,Ss=[],hv={},x2=e=>{const t=Ss[Ss.length-1],n=hv[e.interactionId];if(n||Ss.length<_2||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};hv[r.id]=r,Ss.push(r)}Ss.sort((r,i)=>i.latency-r.latency),Ss.splice(_2).forEach(r=>{delete hv[r.id]})}},s7=()=>{const e=Math.min(Ss.length-1,Math.floor(t3()/50));return Ss[e]},a7=(e,t={})=>{wh(()=>{r7();const n=Gu("INP");let r;const i=s=>{s.forEach(l=>{l.interactionId&&x2(l),l.entryType==="first-input"&&!Ss.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&x2(l)});const a=s7();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},o=Jl("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Hu(e,n,i7,t.reportAllChanges),o&&("PerformanceEventTiming"in Ke&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),T0(()=>{i(o.takeRecords()),n.value<0&&t3()>0&&(n.value=0,n.entries=[]),r(!0)}))})},l7=[2500,4e3],w2={},c7=(e,t={})=>{wh(()=>{const n=I0(),r=Gu("LCP");let i;const o=a=>{const l=a[a.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-C0(),0),r.entries=[l],i())},s=Jl("largest-contentful-paint",o);if(s){i=Hu(e,r,l7,t.reportAllChanges);const a=O_(()=>{w2[r.id]||(o(s.takeRecords()),s.disconnect(),w2[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ke.document&&addEventListener(l,()=>setTimeout(a,0),!0)}),T0(a)}})},u7=[800,1800],H1=e=>{Ke.document&&Ke.document.prerendering?wh(()=>H1(e)):Ke.document&&Ke.document.readyState!=="complete"?addEventListener("load",()=>H1(e),!0):setTimeout(e,0)},d7=(e,t={})=>{const n=Gu("TTFB"),r=Hu(e,n,u7,t.reportAllChanges);H1(()=>{const i=xh();if(i){const o=i.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-C0(),0),n.entries=[i],r(!0)}})},nf={},hm={};let n3,r3,i3,o3,s3;function f7(e,t=!1){return Eh("cls",e,y7,n3,t)}function h7(e,t=!1){return Eh("lcp",e,A7,i3,t)}function p7(e){return Eh("fid",e,v7,r3)}function g7(e){return Eh("ttfb",e,b7,o3)}function m7(e){return Eh("inp",e,S7,s3)}function jf(e,t){return a3(e,t),hm[e]||(_7(e),hm[e]=!0),l3(e,t)}function qu(e,t){const n=nf[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){mi&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ls(r)}
Error:`,i)}}function y7(){return Xz(e=>{qu("cls",{metric:e}),n3=e},{reportAllChanges:!0})}function v7(){return e7(e=>{qu("fid",{metric:e}),r3=e})}function A7(){return c7(e=>{qu("lcp",{metric:e}),i3=e},{reportAllChanges:!0})}function b7(){return d7(e=>{qu("ttfb",{metric:e}),o3=e})}function S7(){return a7(e=>{qu("inp",{metric:e}),s3=e})}function Eh(e,t,n,r,i=!1){a3(e,t);let o;return hm[e]||(o=n(),hm[e]=!0),r&&t({metric:r}),l3(e,t,i?o:void 0)}function _7(e){const t={};e==="event"&&(t.durationThreshold=0),Jl(e,n=>{qu(e,{entries:n})},t)}function a3(e,t){nf[e]=nf[e]||[],nf[e].push(t)}function l3(e,t,n){return()=>{n&&n();const r=nf[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function x7(e){return"duration"in e}function pv(e){return typeof e=="number"&&isFinite(e)}function vu(e,t,n,{...r}){const i=bt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),um(e,()=>{const o=jo({startTime:t,...r});return o&&o.end(n),o})}function V_(){return Ke&&Ke.addEventListener&&Ke.performance}function Rn(e){return e/1e3}const w7=2147483647;let E2=0,Jn={},Ko,rf;function E7(){const e=V_();if(e&&xi){e.mark&&Ke.performance.mark("sentry-tracing-init");const t=P7(),n=I7(),r=R7(),i=M7();return()=>{t(),n(),r(),i()}}return()=>{}}function k7(){jf("longtask",({entries:e})=>{if(li())for(const t of e){const n=Rn(xi+t.startTime),r=Rn(t.duration),i=jo({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[Fn]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function C7(){new PerformanceObserver(t=>{if(li())for(const n of t.getEntries()){if(!n.scripts[0])continue;const r=Rn(xi+n.startTime),i=Rn(n.duration),o={[Fn]:"auto.ui.browser.metrics"},s=n.scripts[0],{invoker:a,invokerType:l,sourceURL:c,sourceFunctionName:u,sourceCharPosition:d}=s;o["browser.script.invoker"]=a,o["browser.script.invoker_type"]=l,c&&(o["code.filepath"]=c),u&&(o["code.function"]=u),d!==-1&&(o["browser.script.source_char_position"]=d);const h=jo({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:o});h&&h.end(r+i)}}).observe({type:"long-animation-frame",buffered:!0})}function T7(){jf("event",({entries:e})=>{if(li()){for(const t of e)if(t.name==="click"){const n=Rn(xi+t.startTime),r=Rn(t.duration),i={name:pu(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[Fn]:"auto.ui.browser.metrics"}},o=a5(t.target);o&&(i.attributes["ui.component_name"]=o);const s=jo(i);s&&s.end(n+r)}}})}function I7(){return f7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(mi&&ge.log("[Measurements] Adding CLS"),Jn.cls={value:e.value,unit:""},rf=t)},!0)}function R7(){return h7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(mi&&ge.log("[Measurements] Adding LCP"),Jn.lcp={value:e.value,unit:"millisecond"},Ko=t)},!0)}function P7(){return p7(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Rn(xi),r=Rn(t.startTime);mi&&ge.log("[Measurements] Adding FID"),Jn.fid={value:e.value,unit:"millisecond"},Jn["mark.fid"]={value:n+r,unit:"second"}})}function M7(){return g7(({metric:e})=>{e.entries[e.entries.length-1]&&(mi&&ge.log("[Measurements] Adding TTFB"),Jn.ttfb={value:e.value,unit:"millisecond"})})}function j7(e){const t=V_();if(!t||!Ke.performance.getEntries||!xi)return;mi&&ge.log("[Tracing] Adding & adjusting spans using Performance API");const n=Rn(xi),r=t.getEntries(),{op:i,start_timestamp:o}=bt(e);if(r.slice(E2).forEach(s=>{const a=Rn(s.startTime),l=Rn(Math.max(0,s.duration));if(!(i==="navigation"&&o&&n+a<o))switch(s.entryType){case"navigation":{V7(e,s,n);break}case"mark":case"paint":case"measure":{O7(e,s,a,l,n);const c=I0(),u=s.startTime<c.firstHiddenTime;s.name==="first-paint"&&u&&(mi&&ge.log("[Measurements] Adding FP"),Jn.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&u&&(mi&&ge.log("[Measurements] Adding FCP"),Jn.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{N7(e,s,s.name,a,l,n);break}}}),E2=Math.max(r.length-1,0),B7(e),i==="pageload"){F7(Jn),["fcp","fp","lcp"].forEach(a=>{const l=Jn[a];if(!l||!o||n>=o)return;const c=l.value,u=n+Rn(c),d=Math.abs((u-o)*1e3),h=d-c;mi&&ge.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${h})`),l.value=d});const s=Jn["mark.fid"];s&&Jn.fid&&(vu(e,s.value,s.value+Rn(Jn.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Fn]:"auto.ui.browser.metrics"}}),delete Jn["mark.fid"]),"fcp"in Jn||delete Jn.cls,Object.entries(Jn).forEach(([a,l])=>{u8(a,l.value,l.unit)}),D7(e)}Ko=void 0,rf=void 0,Jn={}}function O7(e,t,n,r,i){const o=xh(),s=Rn(o?o.requestStart:0),a=i+Math.max(n,s),l=i+n,c=l+r,u={[Fn]:"auto.resource.browser.metrics"};return a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),vu(e,a,c,{name:t.name,op:t.entryType,attributes:u}),a}function V7(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{gp(e,t,r,n)}),gp(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),gp(e,t,"fetch",n,"cache","domainLookupStart"),gp(e,t,"domainLookup",n,"DNS"),L7(e,t,n)}function gp(e,t,n,r,i,o){const s=o?t[o]:t[`${n}End`],a=t[`${n}Start`];!a||!s||vu(e,r+Rn(a),r+Rn(s),{op:"browser",name:i||n,attributes:{[Fn]:"auto.ui.browser.metrics"}})}function L7(e,t,n){const r=n+Rn(t.requestStart),i=n+Rn(t.responseEnd),o=n+Rn(t.responseStart);t.responseEnd&&(vu(e,r,i,{op:"browser",name:"request",attributes:{[Fn]:"auto.ui.browser.metrics"}}),vu(e,o,i,{op:"browser",name:"response",attributes:{[Fn]:"auto.ui.browser.metrics"}}))}function N7(e,t,n,r,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const s=_l(n),a={[Fn]:"auto.resource.browser.metrics"};gv(a,t,"transferSize","http.response_transfer_size"),gv(a,t,"encodedBodySize","http.response_content_length"),gv(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(Ke.location.origin);const l=o+r,c=l+i;vu(e,l,c,{name:n.replace(Ke.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function B7(e){const t=Ke.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),pv(n.rtt)&&(Jn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),pv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),pv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function D7(e){Ko&&(mi&&ge.log("[Measurements] Adding LCP Data"),Ko.element&&e.setAttribute("lcp.element",pu(Ko.element)),Ko.id&&e.setAttribute("lcp.id",Ko.id),Ko.url&&e.setAttribute("lcp.url",Ko.url.trim().slice(0,200)),e.setAttribute("lcp.size",Ko.size)),rf&&rf.sources&&(mi&&ge.log("[Measurements] Adding CLS Data"),rf.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,pu(t.node))))}function gv(e,t,n,r){const i=t[n];i!=null&&i<w7&&(e[r]=i)}function F7(e){const t=xh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(mi&&ge.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const $7=1e3;let k2,G1,q1;function z7(e){const t="dom";Da(t,e),Fa(t,U7)}function U7(){if(!Ke.document)return;const e=Ji.bind(null,"dom"),t=C2(e,!0);Ke.document.addEventListener("click",t,!1),Ke.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Ke[n]&&Ke[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(fr(r,"addEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[o]=c[o]||{refCount:0};if(!u.handler){const d=C2(e);u.handler=d,i.call(this,o,d,a)}u.refCount++}catch{}return i.call(this,o,s,a)}}),fr(r,"removeEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[o];u&&(u.refCount--,u.refCount<=0&&(i.call(this,o,u.handler,a),u.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,s,a)}}))})}function H7(e){if(e.type!==G1)return!1;try{if(!e.target||e.target._sentryId!==q1)return!1}catch{}return!0}function G7(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function C2(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=q7(n);if(G7(n.type,r))return;eo(n,"_sentryCaptured",!0),r&&!r._sentryId&&eo(r,"_sentryId",un());const i=n.type==="keypress"?"input":n.type;H7(n)||(e({event:n,name:i,global:t}),G1=n.type,q1=r?r._sentryId:void 0),clearTimeout(k2),k2=Ke.setTimeout(()=>{q1=void 0,G1=void 0},$7)}}function q7(e){try{return e.target}catch{return null}}let mp;function L_(e){const t="history";Da(t,e),Fa(t,W7)}function W7(){if(!O6())return;const e=Ke.onpopstate;Ke.onpopstate=function(...n){const r=Ke.location.href,i=mp;if(mp=r,Ji("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=mp,s=String(i);mp=s,Ji("history",{from:o,to:s})}return n.apply(this,r)}}fr(Ke.history,"pushState",t),fr(Ke.history,"replaceState",t)}const Ag={};function K7(e){const t=Ag[e];if(t)return t;let n=Ke[e];if(I1(n))return Ag[e]=n.bind(Ke);const r=Ke.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){mi&&ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(Ag[e]=n.bind(Ke))}function T2(e){Ag[e]=void 0}const Tc="__sentry_xhr_v3__";function c3(e){const t="xhr";Da(t,e),Fa(t,Y7)}function Y7(){if(!Ke.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;fr(e,"open",function(t){return function(...n){const r=hr()*1e3,i=Ps(n[0])?n[0].toUpperCase():void 0,o=Q7(n[1]);if(!i||!o)return t.apply(this,n);this[Tc]={method:i,url:o,request_headers:{}},i==="POST"&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const a=this[Tc];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={endTimestamp:hr()*1e3,startTimestamp:r,xhr:this};Ji("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?fr(this,"onreadystatechange",function(a){return function(...l){return s(),a.apply(this,l)}}):this.addEventListener("readystatechange",s),fr(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[Tc];return d&&Ps(c)&&Ps(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),fr(e,"send",function(t){return function(...n){const r=this[Tc];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={startTimestamp:hr()*1e3,xhr:this};return Ji("xhr",i),t.apply(this,n)}})}function Q7(e){if(Ps(e))return e;try{return e.toString()}catch{}}const mv=[],bg=new Map;function J7(){if(V_()&&xi){const t=X7();return()=>{t()}}return()=>{}}const I2={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function X7(){return m7(({metric:e})=>{const t=jt();if(!t||e.value==null)return;const n=e.entries.find(w=>w.duration===e.value&&I2[w.name]);if(!n)return;const{interactionId:r}=n,i=I2[n.name],o=t.getOptions(),s=Rn(xi+n.startTime),a=Rn(e.value),l=hn(),c=li(),u=c?$r(c):void 0,h=(r!=null?bg.get(r):void 0)||u,p=h?bt(h).description:l.getScopeData().transactionName,g=l.getUser(),m=t.getIntegrationByName("Replay"),b=m&&m.getReplayId(),y=g!==void 0?g.email||g.id||g.ip_address:void 0;let A;try{A=l.getScopeData().contexts.profile.profile_id}catch{}const S=pu(n.target),_=Er({release:o.release,environment:o.environment,transaction:p,[T5]:e.value,[Fn]:"auto.http.browser.inp",user:y||void 0,profile_id:A||void 0,replay_id:b||void 0,"user_agent.original":Ke.navigator&&Ke.navigator.userAgent}),x=jo({name:S,op:`ui.interaction.${i}`,attributes:_,startTime:s,experimental:{standalone:!0}});x.addEvent("inp",{[C_]:"millisecond",[T_]:e.value}),x.end(s+a)})}function Z7(e){const t=({entries:n})=>{const r=li(),i=r&&$r(r);n.forEach(o=>{if(!x7(o)||!i)return;const s=o.interactionId;if(s!=null&&!bg.has(s)){if(mv.length>10){const a=mv.shift();bg.delete(a)}mv.push(s),bg.set(s,i)}})};jf("event",t),jf("first-input",t)}function e9(e,t=K7("fetch")){let n=0,r=0;function i(o){const s=o.body.length;n+=s,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return T2("fetch"),am("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return T2("fetch"),n-=s,r--,am(l)}}return nz(e,i)}const t9=30,n9=50;function W1(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?jl:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const r9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,i9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o9=/\((\S*)(?::(\d+))(?::(\d+))\)/,s9=e=>{const t=r9.exec(e);if(t){const[,r,i,o]=t;return W1(r,jl,+i,+o)}const n=i9.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=o9.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,o]=u3(n[1]||jl,n[2]);return W1(o,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},a9=[t9,s9],l9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u9=e=>{const t=l9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=c9.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],i=t[1]||jl;return[i,r]=u3(i,r),W1(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},d9=[n9,u9],f9=[a9,d9],h9=h5(...f9),u3=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:jl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},yp=1024,p9="Breadcrumbs",g9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:p9,setup(n){t.console&&Y$(A9(n)),t.dom&&z7(v9(n,t.dom)),t.xhr&&c3(b9(n)),t.fetch&&m5(S9(n)),t.history&&L_(_9(n)),t.sentry&&n.on("beforeSendEvent",y9(n))}}},m9=g9;function y9(e){return function(n){jt()===e&&Vl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:ra(n)},{event:n})}}function v9(e,t){return function(r){if(jt()!==e)return;let i,o,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>yp&&(ti&&ge.warn(`\`dom.maxStringLength\` cannot exceed ${yp}, but a value of ${a} was configured. Sentry will use ${yp} instead.`),a=yp),typeof s=="string"&&(s=[s]);try{const c=r.event,u=x9(c)?c.target:c;i=pu(u,{keyAttrs:s,maxStringLength:a}),o=a5(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};o&&(l.data={"ui.component_name":o}),Vl(l,{event:r.event,name:r.name,global:r.global})}}function A9(e){return function(n){if(jt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:h6(n.level),message:$k(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${$k(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Vl(r,{input:n.args,level:n.level})}}function b9(e){return function(n){if(jt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[Tc];if(!r||!i||!o)return;const{method:s,url:a,status_code:l,body:c}=o,u={method:s,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};Vl({category:"xhr",data:u,type:"http"},d)}}function S9(e){return function(n){if(jt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Vl({category:"fetch",data:o,level:"error",type:"http"},s)}else{const o=n.response,s={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:i};Vl({category:"fetch",data:s,type:"http"},a)}}}function _9(e){return function(n){if(jt()!==e)return;let r=n.from,i=n.to;const o=_l(He.location.href);let s=r?_l(r):void 0;const a=_l(i);(!s||!s.path)&&(s=o),o.protocol===a.protocol&&o.host===a.host&&(i=a.relative),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),Vl({category:"navigation",data:{from:r,to:i}})}}function x9(e){return!!e&&!!e.target}const w9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],E9="BrowserApiErrors",k9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:E9,setupOnce(){t.setTimeout&&fr(He,"setTimeout",R2),t.setInterval&&fr(He,"setInterval",R2),t.requestAnimationFrame&&fr(He,"requestAnimationFrame",T9),t.XMLHttpRequest&&"XMLHttpRequest"in He&&fr(XMLHttpRequest.prototype,"send",I9);const n=t.eventTarget;n&&(Array.isArray(n)?n:w9).forEach(R9)}}},C9=k9;function R2(e){return function(...t){const n=t[0];return t[0]=yu(n,{mechanism:{data:{function:Ls(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function T9(e){return function(t){return e.apply(this,[yu(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ls(e)},handled:!1,type:"instrument"}})])}}function I9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&fr(n,i,function(o){const s={mechanism:{data:{function:i,handler:Ls(o)},handled:!1,type:"instrument"}},a=x_(o);return a&&(s.mechanism.data.handler=Ls(a)),yu(o,s)})}),e.apply(this,t)}}function R9(e){const t=He,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(fr(n,"addEventListener",function(r){return function(i,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=yu(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ls(o),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,yu(o,{mechanism:{data:{function:"addEventListener",handler:Ls(o),target:e},handled:!1,type:"instrument"}}),s])}}),fr(n,"removeEventListener",function(r){return function(i,o,s){const a=o;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,s)}catch{}return r.call(this,i,a,s)}}))}const P9="GlobalHandlers",M9=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:P9,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(O9(n),P2("onerror")),t.onunhandledrejection&&(V9(n),P2("onunhandledrejection"))}}},j9=M9;function O9(e){v5(t=>{const{stackParser:n,attachStacktrace:r}=d3();if(jt()!==e||Z5())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=B9(j_(n,l||i,void 0,r,!1),o,s,a);c.level="error",U5(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function V9(e){A5(t=>{const{stackParser:n,attachStacktrace:r}=d3();if(jt()!==e||Z5())return;const i=L9(t),o=S_(i)?N9(i):j_(n,i,void 0,r,!0);o.level="error",U5(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function L9(e){if(S_(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function N9(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function B9(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ps(t)&&t.length>0?t:L$();return l.length===0&&l.push({colno:c,filename:d,function:jl,in_app:!0,lineno:u}),e}function P2(e){ti&&ge.log(`Global Handler attached: ${e}`)}function d3(){const e=jt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const D9=()=>({name:"HttpContext",preprocessEvent(e){if(!He.navigator&&!He.location&&!He.document)return;const t=e.request&&e.request.url||He.location&&He.location.href,{referrer:n}=He.document||{},{userAgent:r}=He.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),F9="cause",$9=5,z9="LinkedErrors",U9=(e={})=>{const t=e.limit||$9,n=e.key||F9;return{name:z9,preprocessEvent(r,i,o){const s=o.getOptions();M$(P_,s.stackParser,s.maxValueLength,n,t,r,i)}}},H9=U9;function G9(e){return[uz(),sz(),C9(),m9(),j9(),H9(),xz(),D9()]}function q9(e={}){const t={defaultIntegrations:G9(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:He.SENTRY_RELEASE&&He.SENTRY_RELEASE.id?He.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function W9(){const e=typeof He.window<"u"&&He;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=He.location&&He.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:"],s=!!r&&He===He.top&&o.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!s&&!a}function K9(e={}){const t=q9(e);if(W9()){bh(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ti&&(p5()||ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:W$(t.stackParser||h9),integrations:K8(t),transport:t.transport||e9},r=Z8(Hz,n);return t.autoSessionTracking&&Y9(),r}function M2(e={}){if(!He.document){ti&&ge.error("Global document not defined in showReportDialog call");return}const t=hn(),n=t.getClient(),r=n&&n.getDsn();if(!r){ti&&ge.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=$8();a&&(e.eventId=a)}const i=He.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=q8(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const a=l=>{if(l.data==="__sentry_reportdialog_closed__")try{o()}finally{He.removeEventListener("message",a)}};He.addEventListener("message",a)}const s=He.document.head||He.document.body;s?s.appendChild(i):ti&&ge.error("Not injecting report dialog. No injection point found in HTML")}function Y9(){if(typeof He.document>"u"){ti&&ge.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}h2({ignoreDuration:!0}),p2(),L_(({from:e,to:t})=>{e!==void 0&&e!==t&&(h2({ignoreDuration:!0}),p2())})}const j2=new WeakMap,yv=new Map,K1={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function Q9(e,t){const{traceFetch:n,traceXHR:r,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:s}={traceFetch:K1.traceFetch,traceXHR:K1.traceXHR,...t},a=typeof i=="function"?i:u=>!0,l=u=>eU(u,s),c={};n&&(e.addEventProcessor(u=>(u.type==="transaction"&&u.spans&&u.spans.forEach(d=>{if(d.op==="http.client"){const h=yv.get(d.span_id);h&&(d.timestamp=h/1e3,yv.delete(d.span_id))}}),u)),Z$(u=>{if(u.response){const d=j2.get(u.response);d&&u.endTimestamp&&yv.set(d,u.endTimestamp)}}),m5(u=>{const d=Cz(u,a,l,c);if(u.response&&u.fetchData.__span&&j2.set(u.response,u.fetchData.__span),d){const h=f3(u.fetchData.url),p=h?_l(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}o&&d&&O2(d)})),r&&c3(u=>{const d=tU(u,a,l,c);o&&d&&O2(d)})}function J9(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function O2(e){const{url:t}=bt(e).data||{};if(!t||typeof t!="string")return;const n=jf("resource",({entries:r})=>{r.forEach(i=>{J9(i)&&i.name.endsWith(t)&&(Z9(i).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function X9(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Ho(e=0){return((xi||performance.timeOrigin)+e)/1e3}function Z9(e){const{name:t,version:n}=X9(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),xi?[...r,["http.request.redirect_start",Ho(e.redirectStart)],["http.request.fetch_start",Ho(e.fetchStart)],["http.request.domain_lookup_start",Ho(e.domainLookupStart)],["http.request.domain_lookup_end",Ho(e.domainLookupEnd)],["http.request.connect_start",Ho(e.connectStart)],["http.request.secure_connection_start",Ho(e.secureConnectionStart)],["http.request.connection_end",Ho(e.connectEnd)],["http.request.request_start",Ho(e.requestStart)],["http.request.response_start",Ho(e.responseStart)],["http.request.response_end",Ho(e.responseEnd)]]:r}function eU(e,t){const n=He.location&&He.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const o=r.origin===i;return t?bl(r.toString(),t)||o&&bl(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?bl(e,t):r}}function tU(e,t,n,r){const i=e.xhr,o=i&&i[Tc];if(!i||i.__sentry_own_request__||!o)return;const s=Ra()&&t(o.url);if(e.endTimestamp&&s){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&o.status_code!==void 0&&(R5(p,o.status_code),p.end(),delete r[h]);return}const a=f3(o.url),l=a?_l(a).host:void 0,c=!!li(),u=s&&c?jo({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":l,[Fn]:"auto.http.browser",[Pf]:"http.client"}}):new Uu;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=jt();return i.setRequestHeader&&n(o.url)&&d&&nU(i,d,Ra()&&c?u:void 0),u}function nU(e,t,n){const r=hn(),i=co(),{traceId:o,spanId:s,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&Ra()?j5(n):w_(o,s,a),u=E5(l||(n?Ql(n):k0(o,t)));rU(e,c,u)}function rU(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(j1,n)}catch{}}function f3(e){try{return new URL(e,He.location.origin).href}catch{return}}function iU(){He&&He.document?He.document.addEventListener("visibilitychange",()=>{const e=li();if(!e)return;const t=$r(e);if(He.document.hidden&&t){const n="cancelled",{op:r,status:i}=bt(t);ti&&ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Qn,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ti&&ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const oU="BrowserTracing",sU={...vg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...K1},aU=(e={})=>{t8();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i},beforeStartSpan:o,idleTimeout:s,finalTimeout:a,childSpanTimeout:l,markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,instrumentPageLoad:g,instrumentNavigation:m}={...sU,...e},b=E7();t&&J7(),r&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?C7():n&&k7(),i&&T7();const y={name:void 0,source:void 0};function A(S,_){const x=_.op==="pageload",w=o?o(_):_,k=w.attributes||{};_.name!==w.name&&(k[fa]="custom",w.attributes=k),y.name=w.name,y.source=k[fa];const C=z5(w,{idleTimeout:s,finalTimeout:a,childSpanTimeout:l,disableAutoFinish:x,beforeSpanEnd:P=>{b(),j7(P)}});function E(){["interactive","complete"].includes(He.document.readyState)&&S.emit("idleSpanEnableAutoFinish",C)}return x&&He.document&&(He.document.addEventListener("readystatechange",()=>{E()}),E()),C}return{name:oU,afterAllSetup(S){let _,x=He.location&&He.location.href;S.on("startNavigationSpan",w=>{jt()===S&&(_&&!bt(_).timestamp&&(ti&&ge.log(`[Tracing] Finishing current root span with op: ${bt(_).op}`),_.end()),_=A(S,{op:"navigation",...w}))}),S.on("startPageLoadSpan",(w,k={})=>{if(jt()!==S)return;_&&!bt(_).timestamp&&(ti&&ge.log(`[Tracing] Finishing current root span with op: ${bt(_).op}`),_.end());const C=k.sentryTrace||V2("sentry-trace"),E=k.baggage||V2("baggage"),P=b6(C,E);hn().setPropagationContext(P),_=A(S,{op:"pageload",...w})}),S.on("spanEnd",w=>{const k=bt(w).op;if(w!==$r(w)||k!=="navigation"&&k!=="pageload")return;const C=hn(),E=C.getPropagationContext();C.setPropagationContext({...E,sampled:E.sampled!==void 0?E.sampled:Yl(w),dsc:E.dsc||Ql(w)})}),He.location&&(g&&lU(S,{name:He.location.pathname,startTime:xi?xi/1e3:void 0,attributes:{[fa]:"url",[Fn]:"auto.pageload.browser"}}),m&&L_(({to:w,from:k})=>{if(k===void 0&&x&&x.indexOf(w)!==-1){x=void 0;return}k!==w&&(x=void 0,cU(S,{name:He.location.pathname,attributes:{[fa]:"url",[Fn]:"auto.navigation.browser"}}))})),c&&iU(),i&&uU(s,a,l,y),t&&Z7(),Q9(S,{traceFetch:u,traceXHR:d,tracePropagationTargets:S.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:p})}}};function lU(e,t,n){e.emit("startPageLoadSpan",t,n),hn().setTransactionName(t.name);const r=li();return(r&&bt(r).op)==="pageload"?r:void 0}function cU(e,t){co().setPropagationContext(lm()),hn().setPropagationContext(lm()),e.emit("startNavigationSpan",t),hn().setTransactionName(t.name);const n=li();return(n&&bt(n).op)==="navigation"?n:void 0}function V2(e){const t=N$(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function uU(e,t,n,r){let i;const o=()=>{const s="ui.action.click",a=li(),l=a&&$r(a);if(l){const c=bt(l).op;if(["navigation","pageload"].includes(c)){ti&&ge.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(N1,"interactionInterrupted"),i.end(),i=void 0),!r.name){ti&&ge.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}i=z5({name:r.name,op:s,attributes:{[fa]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};He.document&&addEventListener("click",o,{once:!1,capture:!0})}function dU(e){const t={...e};return Q5(t,"react"),D8("react",{version:v.version}),K9(t)}function fU(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function hU(e,t){const n=new WeakSet;function r(i,o){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,o);i.cause=o}}r(e,t)}function pU(e,{componentStack:t},n){if(fU(v.version)&&_0(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,hU(e,r)}return Lo(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var h3={exports:{}},Ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rr=typeof Symbol=="function"&&Symbol.for,N_=rr?Symbol.for("react.element"):60103,B_=rr?Symbol.for("react.portal"):60106,R0=rr?Symbol.for("react.fragment"):60107,P0=rr?Symbol.for("react.strict_mode"):60108,M0=rr?Symbol.for("react.profiler"):60114,j0=rr?Symbol.for("react.provider"):60109,O0=rr?Symbol.for("react.context"):60110,D_=rr?Symbol.for("react.async_mode"):60111,V0=rr?Symbol.for("react.concurrent_mode"):60111,L0=rr?Symbol.for("react.forward_ref"):60112,N0=rr?Symbol.for("react.suspense"):60113,gU=rr?Symbol.for("react.suspense_list"):60120,B0=rr?Symbol.for("react.memo"):60115,D0=rr?Symbol.for("react.lazy"):60116,mU=rr?Symbol.for("react.block"):60121,yU=rr?Symbol.for("react.fundamental"):60117,vU=rr?Symbol.for("react.responder"):60118,AU=rr?Symbol.for("react.scope"):60119;function Ci(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case N_:switch(e=e.type,e){case D_:case V0:case R0:case M0:case P0:case N0:return e;default:switch(e=e&&e.$$typeof,e){case O0:case L0:case D0:case B0:case j0:return e;default:return t}}case B_:return t}}}function p3(e){return Ci(e)===V0}Ot.AsyncMode=D_;Ot.ConcurrentMode=V0;Ot.ContextConsumer=O0;Ot.ContextProvider=j0;Ot.Element=N_;Ot.ForwardRef=L0;Ot.Fragment=R0;Ot.Lazy=D0;Ot.Memo=B0;Ot.Portal=B_;Ot.Profiler=M0;Ot.StrictMode=P0;Ot.Suspense=N0;Ot.isAsyncMode=function(e){return p3(e)||Ci(e)===D_};Ot.isConcurrentMode=p3;Ot.isContextConsumer=function(e){return Ci(e)===O0};Ot.isContextProvider=function(e){return Ci(e)===j0};Ot.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===N_};Ot.isForwardRef=function(e){return Ci(e)===L0};Ot.isFragment=function(e){return Ci(e)===R0};Ot.isLazy=function(e){return Ci(e)===D0};Ot.isMemo=function(e){return Ci(e)===B0};Ot.isPortal=function(e){return Ci(e)===B_};Ot.isProfiler=function(e){return Ci(e)===M0};Ot.isStrictMode=function(e){return Ci(e)===P0};Ot.isSuspense=function(e){return Ci(e)===N0};Ot.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===R0||e===V0||e===M0||e===P0||e===N0||e===gU||typeof e=="object"&&e!==null&&(e.$$typeof===D0||e.$$typeof===B0||e.$$typeof===j0||e.$$typeof===O0||e.$$typeof===L0||e.$$typeof===yU||e.$$typeof===vU||e.$$typeof===AU||e.$$typeof===mU)};Ot.typeOf=Ci;h3.exports=Ot;var bU=h3.exports,F_=bU,SU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_U={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$_={};$_[F_.ForwardRef]=xU;$_[F_.Memo]=g3;function L2(e){return F_.isMemo(e)?g3:$_[e.$$typeof]||SU}var wU=Object.defineProperty,EU=Object.getOwnPropertyNames,N2=Object.getOwnPropertySymbols,kU=Object.getOwnPropertyDescriptor,CU=Object.getPrototypeOf,B2=Object.prototype;function m3(e,t,n){if(typeof t!="string"){if(B2){var r=CU(t);r&&r!==B2&&m3(e,r,n)}var i=EU(t);N2&&(i=i.concat(N2(t)));for(var o=L2(e),s=L2(t),a=0;a<i.length;++a){var l=i[a];if(!_U[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=kU(t,l);try{wU(e,l,c)}catch{}}}}return e}var TU=m3;const IU=mr(TU),RU="ui.react.render",PU="ui.react.update",MU="ui.react.mount",jU="unknown";class y3 extends v.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=jo({name:`<${n}>`,onlyIfParent:!0,op:MU,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=hr();this._updateSpan=um(this._mountSpan,()=>jo({name:`<${this.props.name}>`,onlyIfParent:!0,op:PU,startTime:i,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=hr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=bt(this._mountSpan).timestamp;um(this._mountSpan,()=>{const o=jo({onlyIfParent:!0,name:`<${n}>`,op:RU,startTime:i,attributes:{[Fn]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}y3.__initStatic();function OU(e,t){const n=t&&t.name||e.displayName||e.name||jU,r=i=>v.createElement(y3,{...t,name:n,updateProps:i},v.createElement(e,{...i}));return r.displayName=`profiler(${n})`,IU(r,e),r}const VU=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,D2={componentStack:null,error:null,eventId:null};class z_ extends v.Component{constructor(t){super(t),z_.prototype.__init.call(this),this.state=D2,this._openFallbackReportDialog=!0;const n=jt();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&M2({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:o,onError:s,showDialog:a,dialogOptions:l}=this.props;E0(c=>{o&&o(c,t,i);const u=pU(t,n,{mechanism:{handled:!!this.props.fallback}});s&&s(t,i,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&M2({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(D2)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=v.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,v.isValidElement(i)?i:(t&&VU&&ge.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const LU="modulepreload",NU=function(e){return"/prs/338/"+e},F2={},Wu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=NU(l),l in F2)return;F2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=o.length-1;p>=0;p--){const g=o[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":LU,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};class v3{constructor(){this.init=async(t,n)=>{const r=await Wu(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class BU extends $o{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Aa=new BU;let A3=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Aa.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100;const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100,i.connect(o,0),i.connect(s,1);const a=new v3;await a.init(this.context,o.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(o.fftSize),c=new Float32Array(s.fftSize);o.getFloatTimeDomainData(l),s.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/o.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Lo(r),console.error(r)}}catch(r){Lo(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new A3;class DU{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new A3),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const FU=new DU;class $U{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=nt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=nt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=nt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=nt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const zU=new $U;function No(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var b3=typeof global=="object"&&global&&global.Object===Object&&global,UU=typeof self=="object"&&self&&self.Object===Object&&self,zo=b3||UU||Function("return this")(),vv=function(){return zo.Date.now()},HU=/\s/;function GU(e){for(var t=e.length;t--&&HU.test(e.charAt(t)););return t}var qU=/^\s+/;function WU(e){return e&&e.slice(0,GU(e)+1).replace(qU,"")}var to=zo.Symbol,S3=Object.prototype,KU=S3.hasOwnProperty,YU=S3.toString,pd=to?to.toStringTag:void 0;function QU(e){var t=KU.call(e,pd),n=e[pd];try{e[pd]=void 0;var r=!0}catch{}var i=YU.call(e);return r&&(t?e[pd]=n:delete e[pd]),i}var JU=Object.prototype,XU=JU.toString;function ZU(e){return XU.call(e)}var eH="[object Null]",tH="[object Undefined]",$2=to?to.toStringTag:void 0;function Xl(e){return e==null?e===void 0?tH:eH:$2&&$2 in Object(e)?QU(e):ZU(e)}function Ns(e){return e!=null&&typeof e=="object"}var nH="[object Symbol]";function F0(e){return typeof e=="symbol"||Ns(e)&&Xl(e)==nH}var z2=NaN,rH=/^[-+]0x[0-9a-f]+$/i,iH=/^0b[01]+$/i,oH=/^0o[0-7]+$/i,sH=parseInt;function Y1(e){if(typeof e=="number")return e;if(F0(e))return z2;if(No(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=No(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=WU(e);var n=iH.test(e);return n||oH.test(e)?sH(e.slice(2),n?2:8):rH.test(e)?z2:+e}var aH="Expected a function",lH=Math.max,cH=Math.min;function _3(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(aH);t=Y1(t)||0,No(n)&&(u=!!n.leading,d="maxWait"in n,o=d?lH(Y1(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function p(w){var k=r,C=i;return r=i=void 0,c=w,s=e.apply(C,k),s}function g(w){return c=w,a=setTimeout(y,t),u?p(w):s}function m(w){var k=w-l,C=w-c,E=t-k;return d?cH(E,o-C):E}function b(w){var k=w-l,C=w-c;return l===void 0||k>=t||k<0||d&&C>=o}function y(){var w=vv();if(b(w))return A(w);a=setTimeout(y,m(w))}function A(w){return a=void 0,h&&r?p(w):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function _(){return a===void 0?s:A(vv())}function x(){var w=vv(),k=b(w);if(r=arguments,i=this,l=w,k){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(y,t),p(l)}return a===void 0&&(a=setTimeout(y,t)),s}return x.cancel=S,x.flush=_,x}const Nr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},of=["freestyle","rap"],x3=[],w3=440,E3=69,U_=20;var uH="[object AsyncFunction]",dH="[object Function]",fH="[object GeneratorFunction]",hH="[object Proxy]";function k3(e){if(!No(e))return!1;var t=Xl(e);return t==dH||t==fH||t==uH||t==hH}var Av=zo["__core-js_shared__"],U2=function(){var e=/[^.]+$/.exec(Av&&Av.keys&&Av.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pH(e){return!!U2&&U2 in e}var gH=Function.prototype,mH=gH.toString;function Zl(e){if(e!=null){try{return mH.call(e)}catch{}try{return e+""}catch{}}return""}var yH=/[\\^$.*+?()[\]{}|]/g,vH=/^\[object .+?Constructor\]$/,AH=Function.prototype,bH=Object.prototype,SH=AH.toString,_H=bH.hasOwnProperty,xH=RegExp("^"+SH.call(_H).replace(yH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wH(e){if(!No(e)||pH(e))return!1;var t=k3(e)?xH:vH;return t.test(Zl(e))}function EH(e,t){return e==null?void 0:e[t]}function ec(e,t){var n=EH(e,t);return wH(n)?n:void 0}var Of=ec(Object,"create");function kH(){this.__data__=Of?Of(null):{},this.size=0}function CH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var TH="__lodash_hash_undefined__",IH=Object.prototype,RH=IH.hasOwnProperty;function PH(e){var t=this.__data__;if(Of){var n=t[e];return n===TH?void 0:n}return RH.call(t,e)?t[e]:void 0}var MH=Object.prototype,jH=MH.hasOwnProperty;function OH(e){var t=this.__data__;return Of?t[e]!==void 0:jH.call(t,e)}var VH="__lodash_hash_undefined__";function LH(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Of&&t===void 0?VH:t,this}function Ll(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ll.prototype.clear=kH;Ll.prototype.delete=CH;Ll.prototype.get=PH;Ll.prototype.has=OH;Ll.prototype.set=LH;function NH(){this.__data__=[],this.size=0}function $0(e,t){return e===t||e!==e&&t!==t}function z0(e,t){for(var n=e.length;n--;)if($0(e[n][0],t))return n;return-1}var BH=Array.prototype,DH=BH.splice;function FH(e){var t=this.__data__,n=z0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():DH.call(t,n,1),--this.size,!0}function $H(e){var t=this.__data__,n=z0(t,e);return n<0?void 0:t[n][1]}function zH(e){return z0(this.__data__,e)>-1}function UH(e,t){var n=this.__data__,r=z0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function qs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qs.prototype.clear=NH;qs.prototype.delete=FH;qs.prototype.get=$H;qs.prototype.has=zH;qs.prototype.set=UH;var Vf=ec(zo,"Map");function HH(){this.size=0,this.__data__={hash:new Ll,map:new(Vf||qs),string:new Ll}}function GH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function U0(e,t){var n=e.__data__;return GH(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qH(e){var t=U0(this,e).delete(e);return this.size-=t?1:0,t}function WH(e){return U0(this,e).get(e)}function KH(e){return U0(this,e).has(e)}function YH(e,t){var n=U0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ws(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ws.prototype.clear=HH;Ws.prototype.delete=qH;Ws.prototype.get=WH;Ws.prototype.has=KH;Ws.prototype.set=YH;var QH="Expected a function";function H0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(QH);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(H0.Cache||Ws),n}H0.Cache=Ws;function pm(e){return of.includes(e.note.type)?0:e.distance}function Pt(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const JH=35e5,el={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},H2=e=>({freestyle:e.freestyle*el.freestyle,rap:e.rap*el.rap,rapstar:e.rapstar*el.rapstar,star:e.star*el.star,normal:e.normal*el.normal,perfect:e.perfect*el.perfect,vibrato:e.vibrato*el.vibrato}),H_=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,vp=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),G2=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),q2=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),W2=H0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Pt).forEach(r=>{r.notes.filter(o=>!x3.includes(o.type)).forEach(o=>{n[o.type]=n[o.type]+o.length,n.perfect=n.perfect+o.length,n.vibrato=n.vibrato+o.length})}),n}));function C3(e,t,n){const r=W2(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const o=H2(W2(t)[n]),s=JH/H_(o);for(let a=0;a<e.length;a++){const l=e[a];x3.includes(l.note.type)||pm(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[s,H2(i),o]}function XH(e,t,n){const[r,i]=C3(e,t,n);return H_(i)*r}function ZH(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function eG(e){return w3*Math.pow(2,(e-E3)/12)}const tG=e=>Math.round(12*(Math.log(e/w3)/Math.log(2)))+E3,nG=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),rG=(e,t,n)=>{const r=eG(e),i=nG(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},iG=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},oG=(e,t)=>{const n=ze.getTolerance(),r=tG(e);let i=-1;const o=iG(r,t,n);return o===0&&(i=rG(t,e,n)),{distance:o,preciseDistance:i}},K2=6;function sG(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const o=t.at(-1);o.change!==i&&t.push({...e[r],interval:e[r].timestamp-o.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-K2;r++){const o=n.slice(r,r+K2-1).map(c=>c.interval),s=Math.max(...o),a=Math.min(...o),l=o.reduce((c,u)=>c+u,0)/o.length;if(s<l*1.75&&a>l/1.75)return!0}return!1}const aG=100;function lG(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...oG(t.frequency,n.pitch)},o=e.at(-1),s=aG/r,a=n.start+n.length,l=!o||o.note.start!==n.start,c=!o||o.distance!==i.distance&&!of.includes(n.type);if(l||c||i.beat-(o.start+o.length)>s){const u=i.beat-s<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),o&&n.start!==o.note.start){const d=o.start+o.length,h=o.note.start+o.note.length,p=d+s>h?h:d;o.length=Math.max(0,p-o.start)}}else o.length=Math.max(0,Math.min(i.beat,n.start+n.length)-o.start),o.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),o.isPerfect=o.distance===0&&Math.abs(o.length-o.note.length)<.5,o.vibrato=o.distance===0&&sG(o.frequencyRecords)}const cG=e=>e.notes[0],Pa=e=>{const t=e.find(Pt);return t?cG(t).start:1/0},Lf=e=>{const n=e.filter(Pt).at(-1);return n?Nf(n):0},Nf=e=>{const t=e.notes.at(-1);return t.start+t.length},Y2=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class uG{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=Sn.getPlayerFrequency(this.number),o=r-Sn.getPlayerInputLag(this.number);if(Array.isArray(i)){const s=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(s==null?void 0:s.timestamp)??0,l=(o-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),Sn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(o,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const o={timestamp:r,frequency:i};this.frequencyRecords.push(o);const s=o.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(s);if(Pt(a)){const l=Y2(a,s,0)??Y2(a,s,.5);l&&lG(this.playerNotes,o,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,o,s)=>r<0?!0:r<i.start?!1:o===s.length-1?!0:s[o+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Pt(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>XH(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>C3(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Pt).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function dG(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Pt).at(-1);return n?Nf(n):0}))}function G_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);const s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(G_.Cache||Map),n}G_.Cache=Map;const Ku=G_(function(t){return 60/t.bpm/(t.bar??4)*1e3});class fG{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Ku(this.song),this.getCurrentBeat=()=>ZH(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new uG(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Nr.CO_OP?this.getPlayers().reduce((o,s)=>o+s.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Nr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...o]=r.map(([a,l,c])=>[vp(l,a),vp(c,a)]),s=o.reduce((a,l)=>[G2(a[0],l[0]),G2(a[1],l[1])],i);return[q2(s[0],this.getPlayerCount()),q2(s[1],this.getPlayerCount())]}else{const[r,i,o]=this.getPlayer(t).getDetailedScore();return[vp(i,r),vp(o,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/dG(this.getSong()))),this.startInputMonitoring=async()=>Sn.startMonitoring(),this.stopInputMonitoring=()=>Sn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const ze=new fG,T3="wss://allkaraoke-partykit.asvarox.partykit.dev";class hG extends $o{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Fr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Fr(),(t=this.connection)==null||t.send(Qi({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Fr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Fr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${T3}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,o;(i=this.connection)==null||i.send(Qi({t:"register-room",id:t})),n(),this.ping(),(o=this.connection)==null||o.addEventListener("message",s=>{var l;const a=Nu(s.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new pG(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Qi({t:"remove-player",id:t}))}}let pG=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Qi(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,o=>{const s=Nu(o.data);if(s.t==="forward"){const{sender:a,payload:l}=s;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const o=this.callbacksMap.get(i);this.socket.removeEventListener("message",o),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var xP;const gG=(xP=global==null?void 0:global.sessionStorage)==null?void 0:xP.getItem("isE2E");function no(){var t,n;if(gG)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const mG=no()?{host:"localhost",port:3001,path:"/"}:{},I3={...mG};var yG=Object.create,G0=Object.defineProperty,vG=Object.defineProperties,AG=Object.getOwnPropertyDescriptor,bG=Object.getOwnPropertyDescriptors,R3=Object.getOwnPropertyNames,Q2=Object.getOwnPropertySymbols,SG=Object.getPrototypeOf,P3=Object.prototype.hasOwnProperty,_G=Object.prototype.propertyIsEnumerable,J2=(e,t,n)=>t in e?G0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q_=(e,t)=>{for(var n in t||(t={}))P3.call(t,n)&&J2(e,n,t[n]);if(Q2)for(var n of Q2(t))_G.call(t,n)&&J2(e,n,t[n]);return e},M3=(e,t)=>vG(e,bG(t)),xG=e=>G0(e,"__esModule",{value:!0}),W_=(e,t)=>function(){return t||(0,e[R3(e)[0]])((t={exports:{}}).exports,t),t.exports},wG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of R3(t))!P3.call(e,i)&&(n||i!=="default")&&G0(e,i,{get:()=>t[i],enumerable:!(r=AG(t,i))||r.enumerable});return e},kh=(e,t)=>wG(xG(G0(e!=null?yG(SG(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Ic=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())}),X2=W_({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(o){typeof o=="number"?this._pieces.push(o):(this.flush(),this._parts.push(o))},i.prototype.flush=function(){if(this._pieces.length>0){var o=new Uint8Array(this._pieces);n.useArrayBufferView||(o=o.buffer),this._parts.push(o),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var o=new r,s=0,a=this._parts.length;s<a;s++)o.append(this._parts[s]);return o.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),EG=W_({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=X2().BufferBuilder,r=X2().binaryFeatures,i={unpack:function(c){var u=new o(c);return u.unpack()},pack:function(c){var u=new s;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function o(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}o.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},o.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},o.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},o.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},o.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},o.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},o.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},o.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},o.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},o.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},o.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},o.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},o.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},o.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},o.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},o.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function s(){this.bufferBuilder=new n}s.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},s.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},s.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},s.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},s.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},s.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},s.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,b=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(b)},s.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},s.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},s.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},s.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},s.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},s.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),q0=W_({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function o(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new o(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],A=arguments.length,S,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),A){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,g),!0;case 6:return y.fn.call(y.context,d,h,p,g,m),!0}for(_=1,S=new Array(A-1);_<A;_++)S[_-1]=arguments[_];y.fn.apply(y.context,S)}else{var x=y.length,w;for(_=0;_<x;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),A){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,h);break;case 4:y[_].fn.call(y[_].context,d,h,p);break;default:if(!S)for(w=1,S=new Array(A-1);w<A;w++)S[w-1]=arguments[w];y[_].fn.apply(y[_].context,S)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var b=0,y=[],A=m.length;b<A;b++)(m[b].fn!==d||p&&!m[b].once||h&&m[b].context!==h)&&y.push(m[b]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),Z2=kh(EG()),kG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},ln=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=kG,this.pack=Z2.pack,this.unpack=Z2.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/ln.chunkedMTU);let i=0,o=0;for(;o<n;){const s=Math.min(n,o+ln.chunkedMTU),a=e.slice(o,s),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),o=s,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},CG=kh(q0()),TG="PeerJS: ",IG=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[TG,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},ke=new IG,RG=kh(q0()),PG=class extends RG.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:o=5e3,polyfills:s}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=o;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=s==null?void 0:s.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),ke.log("Server message received:",i)}catch{ke.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(ke.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(ke.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){ke.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&ke.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function MG(){}var j3=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ke.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;ke.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(ke.log(`Received ICE candidates for ${t}:`,o.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:o.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ke.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":ke.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":ke.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":ke.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":ke.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=MG;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=o=>{ke.log("Received data channel");const s=o.channel;i.getConnection(t,n).initialize(s)},e.ontrack=o=>{ke.log("Received remote stream");const s=o.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(s,l)}}}cleanup(){ke.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Ic(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;ke.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),ke.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=M3(q_({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),ke.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),ke.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Ic(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;ke.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),ke.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),ke.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),ke.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Ic(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;ke.log("Setting remote description",t);const o=this;try{yield r.setRemoteDescription(t),ke.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield o._makeAnswer())}catch(s){i.emitError("webrtc",s),ke.log("Failed to setRemoteDescription, ",s)}})}handleCandidate(e){return Ic(this,null,function*(){ke.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,o=this.connection.provider;try{const s=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new s({sdpMid:r,sdpMLineIndex:n,candidate:t})),ke.log(`Added ICE candidate for:${this.connection.peer}`)}catch(s){o.emitError("webrtc",s),ke.log("Failed to handleCandidate, ",s)}})}_addTracksToConnection(e,t){if(ke.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return ke.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){ke.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},jG=kh(q0()),O3=class extends jG.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},V3=class extends O3{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||V3.ID_PREFIX+ln.randomToken(),this._negotiator=new j3(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){ke.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:ke.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){ke.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(M3(q_({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},Q1=V3;Q1.ID_PREFIX="mc_";var OG=kh(q0()),VG=class extends OG.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{ke.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},J1=class extends O3{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||J1.ID_PREFIX+ln.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new VG(new this.FileReaderCtr),this._encodingQueue.on("done",o=>{this._bufferedSend(o)}),this._encodingQueue.on("error",()=>{ke.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new j3(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{ke.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{ke.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{ke.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){ln.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const o=ln.unpack(i);this.emit("data",o)});return}else if(t===ArrayBuffer)r=ln.unpack(e);else if(t===String){const i=ln.binaryStringToArrayBuffer(e);r=ln.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=ln.pack(e);if(!t&&n.size>ln.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>J1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return ke.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=ln.chunk(e);ke.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:ke.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},gm=J1;gm.ID_PREFIX="dc_";gm.MAX_BUFFERED_AMOUNT=8*1024*1024;var LG=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Ic(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){ke.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==ln.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Ic(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===ln.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw ke.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},NG={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},rl=class extends CG.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=q_({debug:0,host:ln.CLOUD_HOST,port:ln.CLOUD_PORT,path:"/",key:rl.DEFAULT_KEY,token:ln.randomToken(),config:ln.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ln.CLOUD_HOST?this._options.secure=ln.isSecure():this._options.host==ln.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ke.setLogFunction(this._options.logFunction),ke.logLevel=this._options.debug||0,this._api=new LG(t),this._socket=this._createServerConnection(),this.features=rl.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!ln.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new PG(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":ke.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let o=this.getConnection(r,i);if(o&&(o.close(),ke.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")o=new Q1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,o),this.emit("call",o);else if(n.type==="data")o=new gm(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,o),this.emit("connection",o);else{ke.warn(`Received malformed connection type:${n.type}`);return}const s=this._getMessages(i);for(let a of s)o.handleMessage(a);break}default:{if(!n){ke.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,o=this.getConnection(r,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):ke.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new gm(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){ke.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new Q1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){ke.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){ke.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){ke.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(ke.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;ke.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ke.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ke.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),rl._features||(rl._features=rl.checkFeatures(e)),rl._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(ln.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=NG.isUnifiedPlanSupported(e),t}},W0=rl;W0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=W0);class BG extends $o{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new W0(`allkaraoke-party-room-${t}`,I3),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",o=>{this.onUpdate(o,i)}),i.on("error",o=>console.warn("error",o)),i.on("iceStateChanged",o=>{(o==="disconnected"||o==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],nt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const L3="wss://backend.allkaraoke.party";class DG extends $o{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Fr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Fr(),(t=this.connection)==null||t.send(Qi({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Fr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Fr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(L3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,o;(i=this.connection)==null||i.send(Qi({t:"register-room",id:t})),n(),this.ping(),(o=this.connection)==null||o.addEventListener("message",s=>{var l;const a=Nu(s.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new FG(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Qi({t:"remove-player",id:t}))}}class FG{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Qi(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,o=>{const s=Nu(o.data);if(s.t==="forward"){const{sender:a,payload:l}=s;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const o=this.callbacksMap.get(i);this.socket.removeEventListener("message",o),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var N3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ca,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var M=["th","st","nd","rd"],T=V%100;return"["+V+(M[(T-20)%10]||M[T]||M[0])+"]"}},S=function(V,M,T){var D=String(V);return!D||D.length>=M?V:""+Array(M+1-D.length).join(T)+V},_={s:S,z:function(V){var M=-V.utcOffset(),T=Math.abs(M),D=Math.floor(T/60),L=T%60;return(M<=0?"+":"-")+S(D,2,"0")+":"+S(L,2,"0")},m:function V(M,T){if(M.date()<T.date())return-V(T,M);var D=12*(T.year()-M.year())+(T.month()-M.month()),L=M.clone().add(D,d),F=T-L<0,$=M.clone().add(D+(F?-1:1),d);return+(-(D+(T-L)/(F?L-$:$-L))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s,ms:o,Q:h}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},x="en",w={};w[x]=A;var k="$isDayjsObject",C=function(V){return V instanceof z||!(!V||!V[k])},E=function V(M,T,D){var L;if(!M)return x;if(typeof M=="string"){var F=M.toLowerCase();w[F]&&(L=F),T&&(w[F]=T,L=F);var $=M.split("-");if(!L&&$.length>1)return V($[0])}else{var G=M.name;w[G]=M,L=G}return!D&&L&&(x=L),L||!D&&x},P=function(V,M){if(C(V))return V.clone();var T=typeof M=="object"?M:{};return T.date=V,T.args=arguments,new z(T)},N=_;N.l=E,N.i=C,N.w=function(V,M){return P(V,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var z=function(){function V(T){this.$L=E(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[k]=!0}var M=V.prototype;return M.parse=function(T){this.$d=function(D){var L=D.date,F=D.utc;if(L===null)return new Date(NaN);if(N.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var $=L.match(b);if($){var G=$[2]-1||0,U=($[7]||"0").substring(0,3);return F?new Date(Date.UTC($[1],G,$[3]||1,$[4]||0,$[5]||0,$[6]||0,U)):new Date($[1],G,$[3]||1,$[4]||0,$[5]||0,$[6]||0,U)}}return new Date(L)}(T),this.init()},M.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},M.$utils=function(){return N},M.isValid=function(){return this.$d.toString()!==m},M.isSame=function(T,D){var L=P(T);return this.startOf(D)<=L&&L<=this.endOf(D)},M.isAfter=function(T,D){return P(T)<this.startOf(D)},M.isBefore=function(T,D){return this.endOf(D)<P(T)},M.$g=function(T,D,L){return N.u(T)?this[D]:this.set(L,T)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(T,D){var L=this,F=!!N.u(D)||D,$=N.p(T),G=function(xe,le){var Ae=N.w(L.$u?Date.UTC(L.$y,le,xe):new Date(L.$y,le,xe),L);return F?Ae:Ae.endOf(c)},U=function(xe,le){return N.w(L.toDate()[xe].apply(L.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(le)),L)},ne=this.$W,B=this.$M,fe=this.$D,Z="set"+(this.$u?"UTC":"");switch($){case p:return F?G(1,0):G(31,11);case d:return F?G(1,B):G(0,B+1);case u:var ae=this.$locale().weekStart||0,Me=(ne<ae?ne+7:ne)-ae;return G(F?fe-Me:fe+(6-Me),B);case c:case g:return U(Z+"Hours",0);case l:return U(Z+"Minutes",1);case a:return U(Z+"Seconds",2);case s:return U(Z+"Milliseconds",3);default:return this.clone()}},M.endOf=function(T){return this.startOf(T,!1)},M.$set=function(T,D){var L,F=N.p(T),$="set"+(this.$u?"UTC":""),G=(L={},L[c]=$+"Date",L[g]=$+"Date",L[d]=$+"Month",L[p]=$+"FullYear",L[l]=$+"Hours",L[a]=$+"Minutes",L[s]=$+"Seconds",L[o]=$+"Milliseconds",L)[F],U=F===c?this.$D+(D-this.$W):D;if(F===d||F===p){var ne=this.clone().set(g,1);ne.$d[G](U),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](U);return this.init(),this},M.set=function(T,D){return this.clone().$set(T,D)},M.get=function(T){return this[N.p(T)]()},M.add=function(T,D){var L,F=this;T=Number(T);var $=N.p(D),G=function(B){var fe=P(F);return N.w(fe.date(fe.date()+Math.round(B*T)),F)};if($===d)return this.set(d,this.$M+T);if($===p)return this.set(p,this.$y+T);if($===c)return G(1);if($===u)return G(7);var U=(L={},L[a]=r,L[l]=i,L[s]=n,L)[$]||1,ne=this.$d.getTime()+T*U;return N.w(ne,this)},M.subtract=function(T,D){return this.add(-1*T,D)},M.format=function(T){var D=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var F=T||"YYYY-MM-DDTHH:mm:ssZ",$=N.z(this),G=this.$H,U=this.$m,ne=this.$M,B=L.weekdays,fe=L.months,Z=L.meridiem,ae=function(le,Ae,Le,Te){return le&&(le[Ae]||le(D,F))||Le[Ae].slice(0,Te)},Me=function(le){return N.s(G%12||12,le,"0")},xe=Z||function(le,Ae,Le){var Te=le<12?"AM":"PM";return Le?Te.toLowerCase():Te};return F.replace(y,function(le,Ae){return Ae||function(Le){switch(Le){case"YY":return String(D.$y).slice(-2);case"YYYY":return N.s(D.$y,4,"0");case"M":return ne+1;case"MM":return N.s(ne+1,2,"0");case"MMM":return ae(L.monthsShort,ne,fe,3);case"MMMM":return ae(fe,ne);case"D":return D.$D;case"DD":return N.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return ae(L.weekdaysMin,D.$W,B,2);case"ddd":return ae(L.weekdaysShort,D.$W,B,3);case"dddd":return B[D.$W];case"H":return String(G);case"HH":return N.s(G,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return xe(G,U,!0);case"A":return xe(G,U,!1);case"m":return String(U);case"mm":return N.s(U,2,"0");case"s":return String(D.$s);case"ss":return N.s(D.$s,2,"0");case"SSS":return N.s(D.$ms,3,"0");case"Z":return $}return null}(le)||$.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(T,D,L){var F,$=this,G=N.p(D),U=P(T),ne=(U.utcOffset()-this.utcOffset())*r,B=this-U,fe=function(){return N.m($,U)};switch(G){case p:F=fe()/12;break;case d:F=fe();break;case h:F=fe()/3;break;case u:F=(B-ne)/6048e5;break;case c:F=(B-ne)/864e5;break;case l:F=B/i;break;case a:F=B/r;break;case s:F=B/n;break;default:F=B}return L?F:N.a(F)},M.daysInMonth=function(){return this.endOf(d).$D},M.$locale=function(){return w[this.$L]},M.locale=function(T,D){if(!T)return this.$L;var L=this.clone(),F=E(T,D,!0);return F&&(L.$L=F),L},M.clone=function(){return N.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},V}(),j=z.prototype;return P.prototype=j,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(V){j[V[1]]=function(M){return this.$g(M,V[0],V[1])}}),P.extend=function(V,M){return V.$i||(V(M,z,P),V.$i=!0),P},P.locale=E,P.isDayjs=C,P.unix=function(V){return P(1e3*V)},P.en=w[x],P.Ls=w,P.p={},P})})(N3);var $G=N3.exports;const Io=mr($G);function X1(e){return!!e}function zG(e){return[...Array(e).keys()]}const UG=250,bv=(e,t=0,n=1/0)=>e.filter(Pt).filter(r=>Pa([r])>=t).filter(r=>Lf([r])<=n).reduce((r,i)=>r+i.notes.reduce((o,s)=>o+s.length,0),0),HG=(e,t)=>{const[n,...r]=e.filter(Pt),i=[[n]];return r.forEach(o=>{const s=i.at(-1),a=Lf(s);(Pa([o])-a)*t>UG?i.push([o]):s.push(o)}),i},B3=(e,t)=>e+t,eC=e=>{const t=e.map(n=>n.reduce(B3,0));return Math.max(...t)-Math.min(...t)},GG=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=o=>{if(n[o-1].length<2)return;const s=n[o-1].pop();n[o].push(s)},i=o=>{var l;if(((l=n[o+1])==null?void 0:l.length)<2)return;const[s,...a]=n[o+1];n[o].push(s),n[o+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},qG=e=>e.reduce(B3,0);function K_(e,t){const r=Ku(t);if(e.sections.length<9)return[];const i=HG(e.sections,r);let o=[],s=[bv(i[0])];for(let a=0;a<i.length-2;a++){const l=i[o.flat().length-1]??[],u=bv(e.sections,Lf(l)??0)/(10-o.length),d=bv(i[a+1]),h=qG(s);h+d<u?s=[...s,d]:u-h<h+d-u?(o.push(s),s=[d]):(o.push([...s,d]),s=[])}for(let a=0;a<100;a++){const l=eC(o),c=zG((o.length-2)*2+2).map(p=>GG(o,p)),u=c.map(eC),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);o=c[h]}return o.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>Lf(i[a-1]))}var D3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ca,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})})(D3);var WG=D3.exports;const KG=mr(WG),YG=/[^0-9a-z]/gi;function Nl(e){return Y_(e).toLowerCase().normalize("NFKD").replace(YG,"")}function Y_(e){return KG(e)}function F3(e){return Y_(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function Q_(e){return e.id?e.id:F3(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const tC=(e,t,n)=>n>=e&&n<=t,nC=e=>e.notes.map(t=>t.lyrics).join(""),rC=e=>new Set(Nl(e)).size,QG=(e,t)=>{const n=e.reduce((i,o)=>`${i}${nC(o)}`,""),r=nC(t);return rC(n)/rC(r)<.5},JG=(e,t)=>{const n=t.start,r=Nf(t),i=e.filter(s=>{const a=s.start,l=Nf(s);return tC(n,r,a)||tC(n,r,l)||a<=n&&l>=r}),o=QG(i,t);return{section:t,shouldReplace:i.length===0||o,sectionsToRemove:i}};function $3(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(s=>s.sections.filter(Pt)),r=n[1].map(s=>JG(n[0],s));let i=[...n[0]];r.forEach((s,a)=>{s.shouldReplace&&(i=i.filter(l=>!s.sectionsToRemove.some(c=>c.start===l.start)),i.push(s.section))});const o={...e[0],sections:i.sort((s,a)=>s.start-a.start),changes:[]};return o.changes=K_(o,t),o}const iC={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},XG={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},ZG=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function eq(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!ZG.includes(t.substring(1).split(":")[0]))}function Ut(e,t,n="string"){const r=i=>{var a;const o=new RegExp(`#${i}\\:(.*)`),s=(a=e.match(o))==null?void 0:a[1];if(s!==void 0)return n==="number"?Number(s.replace(",","."))??0:n==="array"?s.split(", "):s};return t.map(r).filter(X1).at(0)}function tq(e){var r;const t=Ut(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const nq=/- -?\d+ -?\d+/;function oC(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function rq(e,t){try{return JSON.parse(e)}catch{return t}}function iq(e){const t=Ut(e,["P1"]),n=Ut(e,["P2"]);return t||n?[t,n]:rq(Ut(e,["TRACKNAMES"]),[])}function oq(e,t,n,r,i){var p,g;const o=iq(e),s={year:Ut(e,["YEAR"]),artistOrigin:Ut(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Ut(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Ut(e,["EDITION"]),genre:Ut(e,["GENRE"]),videoGap:Ut(e,["VIDEOGAP"],"number"),realBpm:Ut(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Ut(e,["PREVIEWSTART"],"number"),previewEnd:Ut(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Ut(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Ut(e,["CREATOR"])??n,authorUrl:Ut(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Ut(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};s.videoGap&&(s.videoGap=Math.floor(s.videoGap));const a=Ut(e,["TITLE"])??"",l=Ut(e,["ARTIST"])??"",c=Ut(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??oC(Ut(e,["AUDIOURL"])??"")??oC(Ut(e,["VIDEOURL"])??"")??tq(e)??"",u={id:Ut(e,["ALLKARAOKE_ID","ID"])??Q_({title:a,artist:l}),title:a,artist:l,video:c,language:Ut(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Ut(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Ut(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...s,tracks:[],unsupportedProps:eq(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const b=m.split(" ");if(Number(b[1])<h*.75&&d.length&&(o[u.tracks.length]?u.tracks.push({sections:d,name:o[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),nq.test(m)){const[,y,A]=b;d.push({start:Number(y),end:Number(A),type:"pause"}),d.push({start:Number(A),type:"notes",notes:[]}),h=Number(A)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(iC).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const y=d[d.length-1],[A,S,_,x,...w]=b;y.notes.push({type:iC[A]??"normal",start:Number(S),length:Number(_),pitch:Number(x),lyrics:w.join(" ")}),h=Number(b[1])}}),o[u.tracks.length]?u.tracks.push({sections:d,name:o[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(b=>b.type==="pause"||b.notes.length),changes:[]})).map(m=>({...m,changes:K_(m,u)})),u.mergedTrack=$3(u.tracks,u),u}const z3="CURRENT_VISIT_KEY",U3="LAST_VISIT_KEY",sq=3*60*60*1e3,K0=Date.now();var wP;const Sv=Number(((wP=Be.local)==null?void 0:wP.getItem(z3))??K0);var EP;const H3=((EP=Be.local)==null?void 0:EP.getItem("posthog-user-id"))===null,aq=H3?K0:1673642382501;var kP;let G3=Number(((kP=Be.local)==null?void 0:kP.getItem(U3))??aq);var CP;(H3||K0-Sv>sq)&&((CP=Be.local)==null||CP.setItem(U3,String(Sv)),G3=Sv);var TP;(TP=Be.local)==null||TP.setItem(z3,String(K0));const lq=e=>Nl(`${e.artist}${e.title}`),cq=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:Q_(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:o,sections:s})=>({name:o,start:Pa(s)})),search:lq(r),local:i});let gd=null;async function Xs(){if(!gd)if("localStorage"in globalThis)try{gd=Wu(()=>Promise.resolve().then(()=>tj),void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),gd=Promise.resolve(Be.memory)}else gd=Promise.resolve(Be.memory);return gd}const Ap="DELETED_SONGS_V2";class uq{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Xs())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>{const n=await this.getLocal(t);return n?!!n:!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(oq).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Xs())==null?void 0:n.getItem(Ap))??[]},this.generateSongFile=t=>Q_(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=Io(G3),o=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Io(a.lastUpdate??0).isAfter(Io(l.lastUpdate??0)):!0}),s=o.map(a=>a.id);n.forEach(async a=>{s.includes(a.id)||(await Xs()).removeItem(a.id)}),this.indexWithDeletedSongs=[...o,...t.filter(a=>!s.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Io(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await Xs()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Xs()).setItem(Ap,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Xs()).setItem(Ap,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Xs())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:$3(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:K_(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return cq(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Ap];return(await(await Xs()).keys()).filter(n=>!t.includes(n))}}}const ro=new uq,q3="room_id_key",sf=5,W3=e=>{Be.session.setItem(q3,e)};class dq{constructor(){var t;if(this.gameCode=Be.session.getItem(q3),this.started=!1,this.start=()=>{if(!this.transport){const n=om.get();this.transport=n==="WebSockets"?new DG:n==="PartyKit"?new hG:new BG}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),W3(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var o,s;const i=n.t;if(i==="register")nt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")nt.removeRemoteMic(r.peer);else if(i==="subscribe-event")nt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")nt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(o=nt.getRemoteMicById(r.peer))==null||o.onPong();else if(i==="request-songlist")Promise.all([ro.getLocalIndex(),ro.getDeletedSongsList()]).then(([a,l])=>{r.send({t:"songlist",custom:a.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:l})});else if(i==="get-microphone-lag-request"){const a=nt.getRemoteMicById(r.peer);a&&r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const a=nt.getRemoteMicById(r.peer);a&&(a.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()}))}else nt.getPermission(r.peer)==="write"&&(i==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?te.remoteSongSearch.dispatch(n.search):i==="select-song"?te.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:tf.get()}):i==="remove-player"?(s=this.transport)==null||s.removePlayer(n.id):i==="set-game-input-lag-request"&&(tf.set(n.value),r.send({t:"get-game-input-lag-response",value:tf.get()})))}),te.micServerStarted.dispatch()},()=>{te.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=om.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<sf-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;nt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const El=new dq,Bl=e=>`${e.deviceId};${e.channel}`,sC=[{channels:2,channel:1,label:"Drawing Test Input",id:Bl({deviceId:"default",channel:1}),deviceId:"default"}],ul=class ul{};ul.inputName="DrawingTest",ul.getDefault=()=>sC[0],ul.getInputs=async()=>sC,ul.subscribeToListChange=t=>{},ul.unsubscribeToListChange=t=>{};let Z1=ul;const aC=[{channels:2,channel:0,label:"Dummy Input 1",id:Bl({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:Bl({deviceId:"default",channel:1}),deviceId:"default"}],dl=class dl{};dl.inputName="Dummy",dl.getDefault=()=>aC[0],dl.getInputs=async()=>aC,dl.subscribeToListChange=t=>{},dl.unsubscribeToListChange=t=>{};let mm=dl;var fq=Math.ceil,hq=Math.max;function pq(e,t,n,r){for(var i=-1,o=hq(fq((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}var gq=9007199254740991;function J_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gq}function X_(e){return e!=null&&J_(e.length)&&!k3(e)}var mq=9007199254740991,yq=/^(?:0|[1-9]\d*)$/;function Z_(e,t){var n=typeof e;return t=t??mq,!!t&&(n=="number"||n!="symbol"&&yq.test(e))&&e>-1&&e%1==0&&e<t}function K3(e,t,n){if(!No(n))return!1;var r=typeof t;return(r=="number"?X_(n)&&Z_(t,n.length):r=="string"&&t in n)?$0(n[t],e):!1}var lC=1/0,vq=17976931348623157e292;function Sg(e){if(!e)return e===0?e:0;if(e=Y1(e),e===lC||e===-lC){var t=e<0?-1:1;return t*vq}return e===e?e:0}function Aq(e){return function(t,n,r){return r&&typeof r!="number"&&K3(t,n,r)&&(n=r=void 0),t=Sg(t),n===void 0?(n=t,t=0):n=Sg(n),r=r===void 0?t<n?1:-1:Sg(r),pq(t,n,r,e)}}var bq=Aq();const eb={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},tb={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},nb={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},Sq=(...[e,t,n])=>tb.test(e,t,n)||eb.test(e,t,n)||nb.test(e,t,n)?t:void 0,_q=(e,t,n)=>eb.test(e,t,n)?eb.map(e,t):tb.test(e,t,n)?tb.map(e,t):nb.test(e,t,n)?nb.map(e,t):n>1?`${e} (ch ${t+1})`:e,Vi=class Vi{};Vi.inputList=[],Vi.inputName="Microphone",Vi.getDefault=()=>Vi.inputList.find(t=>t.id===Bl({deviceId:"default",channel:0}))??Vi.inputList[0]??null,Vi.getInputs=async()=>{let t=[];try{await Aa.getUserMedia({audio:!0,video:!1}),t=await Aa.enumerateDevices()}catch(r){Lo(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Aa.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(o){console.warn(o)}return bq(0,i).map(o=>({label:_q(r.label,o,i),channel:o,channels:i,deviceId:r.deviceId,id:Bl({deviceId:r.deviceId,channel:o}),preferred:Sq(r.label,o,i)}))}));return Vi.inputList=n.flat(),Vi.inputList},Vi.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Vi.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let Ms=Vi;const cC=e=>({label:`${e.name}`,id:Bl({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),fl=class fl{};fl.inputName="Remote Microphone",fl.getDefault=()=>nt.getRemoteMics().map(cC)[0]??null,fl.getInputs=async()=>nt.getRemoteMics().map(cC),fl.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},fl.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let Bs=fl;const xq=e=>`${e.deviceId};${e.channel}`;class wq{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(Ms))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===xq(t))??(n?r.getDefault():null)},this.inputList={[Ms.inputName]:this.initialiseInputSource(Ms,!0),[mm.inputName]:this.initialiseInputSource(mm),[Bs.inputName]:this.initialiseInputSource(Bs)}}}const Ds=new wq,uC="playerselectedinputs",ym=4,h0=class h0{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,o=0,s)=>{let a=null;Sn.monitoringStarted()&&(a=Sn.stopMonitoring());const l={source:i,deviceId:s,channel:o},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(Sn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const o=this.name;this.name=i,te.playerNameChanged.dispatch(this.number,o)}}};h0.fromJSON=t=>new h0(t.number,t.input,t.name);let Rc=h0;class Eq{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Be.session.setItem(uC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(o=>o.input.source==="Remote Microphone").some(o=>Ds.getInputForPlayerSelected(o.input,!1)===null)&&(await Promise.all(this.getPlayers().map(o=>Sn.sourceNameToInput(o.input.source).requestReadiness(o.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(o.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(ze.isPlaying()||this.getPlayer(n))return;const r=new Rc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(ze.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(ym).fill(0).find((i,o)=>!this.players.find(s=>s.number===o))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Be.session.getItem(uC)??[];t.length?(this.players=t.map(Rc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&Ds.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&El.start()):this.players=[new Rc(0,{source:"Dummy",deviceId:"default",channel:0}),new Rc(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,i)=>{const o=this.getPlayer(n);if(!(!i||!o)){if(i.source==="Remote Microphone"){const s=nt.getRemoteMicById(i.deviceId);s&&(o.nameOverride=s.name)}else o.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(_3(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Ne=new Eq;class kq{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Ne.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Ne.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Ne.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Ne.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Ne.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Ne.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Ne.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===Ms.inputName?FU:t===Z1.inputName?w$:t===Bs.inputName?zU:k$,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const Sn=new kq;function Y3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Y3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ha(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Y3(e))&&(r&&(r+=" "),r+=t);return r}const af=e=>typeof e=="number"&&!isNaN(e),Dl=e=>typeof e=="string",Xr=e=>typeof e=="function",_g=e=>Dl(e)||Xr(e)?e:null,_v=e=>v.isValidElement(e)||Dl(e)||Xr(e)||af(e);function Cq(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Y0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=s;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=v.useRef(0);return v.useLayoutEffect(()=>{const b=d.current,y=p.split(" "),A=S=>{S.target===d.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),m.current===0&&S.type!=="animationcancel"&&b.classList.remove(...y))};b.classList.add(...y),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),v.useEffect(()=>{const b=d.current,y=()=>{b.removeEventListener("animationend",y),i?Cq(b,u,o):u()};h||(c?y():(m.current=1,b.className+=` ${g}`,b.addEventListener("animationend",y)))},[h]),Ie.createElement(Ie.Fragment,null,a)}}function dC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ni={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},bp=e=>{let{theme:t,type:n,...r}=e;return Ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},xv={info:function(e){return Ie.createElement(bp,{...e},Ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ie.createElement(bp,{...e},Ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ie.createElement(bp,{...e},Ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ie.createElement(bp,{...e},Ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ie.createElement("div",{className:"Toastify__spinner"})}};function Tq(e){const[,t]=v.useReducer(p=>p+1,0),[n,r]=v.useState([]),i=v.useRef(null),o=v.useRef(new Map).current,s=p=>n.indexOf(p)!==-1,a=v.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:p=>o.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:b,...y}=g;if(!_v(p)||function(z){return!i.current||a.props.enableMultiContainer&&z.containerId!==a.props.containerId||o.has(z.toastId)&&z.updateId==null}(y))return;const{toastId:A,updateId:S,data:_}=y,{props:x}=a,w=()=>c(A),k=S==null;k&&a.count++;const C={...x,style:x.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(y).filter(z=>{let[j,V]=z;return V!=null})),toastId:A,updateId:S,data:_,closeToast:w,isIn:!1,className:_g(y.className||x.toastClassName),bodyClassName:_g(y.bodyClassName||x.bodyClassName),progressClassName:_g(y.progressClassName||x.progressClassName),autoClose:!y.isLoading&&(E=y.autoClose,P=x.autoClose,E===!1||af(E)&&E>0?E:P),deleteToast(){const z=dC(o.get(A),"removed");o.delete(A),Ni.emit(4,z);const j=a.queue.length;if(a.count=A==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),j>0){const V=A==null?a.props.limit:1;if(j===1||V===1)a.displayedToast++,u();else{const M=V>j?j:V;a.displayedToast=M;for(let T=0;T<M;T++)u()}}else t()}};var E,P;C.iconOut=function(z){let{theme:j,type:V,isLoading:M,icon:T}=z,D=null;const L={theme:j,type:V};return T===!1||(Xr(T)?D=T(L):v.isValidElement(T)?D=v.cloneElement(T,L):Dl(T)||af(T)?D=T:M?D=xv.spinner():(F=>F in xv)(V)&&(D=xv[V](L))),D}(C),Xr(y.onOpen)&&(C.onOpen=y.onOpen),Xr(y.onClose)&&(C.onClose=y.onClose),C.closeButton=x.closeButton,y.closeButton===!1||_v(y.closeButton)?C.closeButton=y.closeButton:y.closeButton===!0&&(C.closeButton=!_v(x.closeButton)||x.closeButton);let N=p;v.isValidElement(p)&&!Dl(p.type)?N=v.cloneElement(p,{closeToast:w,toastProps:C,data:_}):Xr(p)&&(N=p({closeToast:w,toastProps:C,data:_})),x.limit&&x.limit>0&&a.count>x.limit&&k?a.queue.push({toastContent:N,toastProps:C,staleId:b}):af(m)?setTimeout(()=>{h(N,C,b)},m):h(N,C,b)}function h(p,g,m){const{toastId:b}=g;m&&o.delete(m);const y={content:p,props:g};o.set(b,y),r(A=>[...A,b].filter(S=>S!==m)),Ni.emit(4,dC(y,y.props.updateId==null?"added":"updated"))}return v.useEffect(()=>(a.containerId=e.containerId,Ni.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{o.clear(),Ni.emit(3,a)}),[]),v.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(o.values());return e.newestOnTop&&m.reverse(),m.forEach(b=>{const{position:y}=b.props;g.has(y)||g.set(y,[]),g.get(y).push(b)}),Array.from(g,b=>p(b[0],b[1]))},containerRef:i,isToastActive:s}}function fC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function hC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Iq(e){const[t,n]=v.useState(!1),[r,i]=v.useState(!1),o=v.useRef(null),s=v.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=v.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(_){if(e.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",A),document.addEventListener("touchmove",y),document.addEventListener("touchend",A);const x=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=x.getBoundingClientRect(),x.style.transition="",s.x=fC(_.nativeEvent),s.y=hC(_.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(_){if(s.boundingRect){const{top:x,bottom:w,left:k,right:C}=s.boundingRect;_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=k&&s.x<=C&&s.y>=x&&s.y<=w?b():m()}}function m(){n(!0)}function b(){n(!1)}function y(_){const x=o.current;s.canDrag&&x&&(s.didMove=!0,t&&b(),s.x=fC(_),s.y=hC(_),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),x.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,x.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function A(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",A);const _=o.current;if(s.canDrag&&s.didMove&&_){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${e.draggableDirection}(0)`,_.style.opacity="1"}}v.useEffect(()=>{a.current=e}),v.useEffect(()=>(o.current&&o.current.addEventListener("d",m,{once:!0}),Xr(e.onOpen)&&e.onOpen(v.isValidElement(e.children)&&e.children.props),()=>{const _=a.current;Xr(_.onClose)&&_.onClose(v.isValidElement(_.children)&&_.children.props)}),[]),v.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);const S={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(S.onMouseEnter=b,S.onMouseLeave=m),h&&(S.onClick=_=>{d&&d(_),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:b,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:S}}function Q3(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Rq(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=o||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=ha("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),b=Xr(s)?s({rtl:u,type:i,defaultClassName:m}):ha(m,s);return Ie.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const Pq=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=Iq(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:b,bodyStyle:y,progressClassName:A,progressStyle:S,updateId:_,role:x,progress:w,rtl:k,toastId:C,deleteToast:E,isIn:P,isLoading:N,iconOut:z,closeOnClick:j,theme:V}=e,M=ha("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":j}),T=Xr(g)?g({rtl:k,position:p,type:c,defaultClassName:M}):ha(M,g),D=!!w||!a,L={closeToast:d,type:c,theme:V};let F=null;return o===!1||(F=Xr(o)?o(L):v.isValidElement(o)?v.cloneElement(o,L):Q3(L)),Ie.createElement(h,{isIn:P,done:E,position:p,preventExitTransition:n,nodeRef:r},Ie.createElement("div",{id:C,onClick:l,className:T,...i,style:m,ref:r},Ie.createElement("div",{...P&&{role:x},className:Xr(b)?b({type:c}):ha("Toastify__toast-body",b),style:y},z!=null&&Ie.createElement("div",{className:ha("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},z),Ie.createElement("div",null,s)),F,Ie.createElement(Rq,{..._&&!D?{key:`pb-${_}`}:{},rtl:k,theme:V,delay:a,isRunning:t,isIn:P,closeToast:d,hide:u,type:c,style:S,className:A,controlledProgress:D,progress:w||0})))},Q0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Mq=Y0(Q0("bounce",!0));Y0(Q0("slide",!0));Y0(Q0("zoom"));Y0(Q0("flip"));const rb=v.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=Tq(e),{className:o,style:s,rtl:a,containerId:l}=e;function c(u){const d=ha("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Xr(o)?o({position:u,rtl:a,defaultClassName:d}):ha(d,_g(o))}return v.useEffect(()=>{t&&(t.current=r.current)},[]),Ie.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...s}:{...s,pointerEvents:"none"};return Ie.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:b}=p;return Ie.createElement(Pq,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":g+1,"--len":d.length},key:`toast-${b.key}`},m)}))}))});rb.displayName="ToastContainer",rb.defaultProps={position:"top-right",transition:Mq,autoClose:5e3,closeButton:Q3,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let wv,il=new Map,Nd=[],jq=1;function J3(){return""+jq++}function Oq(e){return e&&(Dl(e.toastId)||af(e.toastId))?e.toastId:J3()}function lf(e,t){return il.size>0?Ni.emit(0,e,t):Nd.push({content:e,options:t}),t.toastId}function vm(e,t){return{...t,type:t&&t.type||e,toastId:Oq(t)}}function Sp(e){return(t,n)=>lf(t,vm(e,n))}function zt(e,t){return lf(e,vm("default",t))}zt.loading=(e,t)=>lf(e,vm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),zt.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=Dl(i)?zt.loading(i,n):zt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void zt.dismiss(r);const p={type:u,...a,...n,data:h},g=Dl(d)?{render:d}:d;return r?zt.update(r,{...p,...g}):zt(g.render,{...p,...g}),h},c=Xr(e)?e():e;return c.then(u=>l("success",s,u)).catch(u=>l("error",o,u)),c},zt.success=Sp("success"),zt.info=Sp("info"),zt.error=Sp("error"),zt.warning=Sp("warning"),zt.warn=zt.warning,zt.dark=(e,t)=>lf(e,vm("default",{theme:"dark",...t})),zt.dismiss=e=>{il.size>0?Ni.emit(1,e):Nd=Nd.filter(t=>e!=null&&t.options.toastId!==e)},zt.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ni.emit(5,e)},zt.isActive=e=>{let t=!1;return il.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},zt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=il.get(o||wv);return s&&s.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:J3()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,lf(s,o)}},0)},zt.done=e=>{zt.update(e,{progress:1})},zt.onChange=e=>(Ni.on(4,e),()=>{Ni.off(4,e)}),zt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},zt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ni.on(2,e=>{wv=e.containerId||e,il.set(wv,e),Nd.forEach(t=>{Ni.emit(0,t.content,t.options)}),Nd=[]}).on(3,e=>{il.delete(e.containerId||e),il.size===0&&Ni.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===Bs.inputName){const t=nt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===Bs.inputName){const i=(r=Ne.getPlayers().find(s=>s.input.source==="Remote Microphone"&&s.input.deviceId===t.deviceId))==null?void 0:r.number,o=nt.getRemoteMicById(t.deviceId);o==null||o.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=nt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Ne.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=nt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),Sn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Ne.getPlayers().find(i=>i.input.deviceId===e);if(n&&Ne.removePlayer(n.number),t!==null){const i=Ne.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Ne.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||zt.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});te.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||zt.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const ex=()=>{const e=nt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Ne.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});nt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(ex);te.playerInputChanged.subscribe(ex);te.remoteMicSubscribed.subscribe(ex);const X3=e=>({artist:t,title:n,id:r,lastUpdate:i},o,s=[],a)=>{var u;const l=s.length>1&&s.every(d=>d.score===s[0].score),c={};if(Ne.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=ze.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>pm(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var b,y;return[p[0]-(((b=m[g-1])==null?void 0:b[0])??0),p[1]-(((y=m[g-1])==null?void 0:y[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=XM(d);console.log("compressed",h)}catch(d){Lo(d)}Pn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:o.mode,tolerance:o.tolerance,players:o.players.length,tracks:o.players.map(d=>d.track),progress:a??null,singId:o.id,sameScores:l,mobilePhoneMode:!!yr.get(),...c,...s.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...o.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(X3("songStarted"));te.songEnded.subscribe(X3("songEnded"));function _p(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Z3={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof _p=="function"&&_p;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return s(m||g)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof _p=="function"&&_p,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,c=new s(g),u=o.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var b=o.document.createElement("script");b.onreadystatechange=function(){g(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var b,y,A=p.length;A;){for(y=p,p=[],b=-1;++b<A;)y[b]();A=p.length}h=!1}r.exports=m;function m(b){p.push(b)===1&&!h&&a()}}).call(this,typeof ca<"u"?ca:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==s&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,w){if(typeof x!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var k=new this.constructor(s);if(this.state!==u){var C=this.state===c?x:w;p(k,C,this.outcome)}else this.queue.push(new h(k,x,w));return k};function h(x,w,k){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){a.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)};function p(x,w,k){o(function(){var C;try{C=w(k)}catch(E){return a.reject(x,E)}C===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,C)})}a.resolve=function(x,w){var k=b(g,w);if(k.status==="error")return a.reject(x,k.value);var C=k.value;if(C)m(x,C);else{x.state=c,x.outcome=w;for(var E=-1,P=x.queue.length;++E<P;)x.queue[E].callFulfilled(w)}return x},a.reject=function(x,w){x.state=l,x.outcome=w;for(var k=-1,C=x.queue.length;++k<C;)x.queue[k].callRejected(w);return x};function g(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function m(x,w){var k=!1;function C(z){k||(k=!0,a.reject(x,z))}function E(z){k||(k=!0,a.resolve(x,z))}function P(){w(E,C)}var N=b(P);N.status==="error"&&C(N.value)}function b(x,w){var k={};try{k.value=x(w),k.status="success"}catch(C){k.status="error",k.value=C}return k}d.resolve=y;function y(x){return x instanceof this?x:a.resolve(new this(s),x)}d.reject=A;function A(x){var w=new this(s);return a.reject(w,x)}d.all=S;function S(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=x.length,C=!1;if(!k)return this.resolve([]);for(var E=new Array(k),P=0,N=-1,z=new this(s);++N<k;)j(x[N],N);return z;function j(V,M){w.resolve(V).then(T,function(D){C||(C=!0,a.reject(z,D))});function T(D){E[M]=D,++P===k&&!C&&(C=!0,a.resolve(z,E))}}}d.race=_;function _(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=x.length,C=!1;if(!k)return this.resolve([]);for(var E=-1,P=new this(s);++E<k;)N(x[E]);return P;function N(z){w.resolve(z).then(function(j){C||(C=!0,a.resolve(P,j))},function(j){C||(C=!0,a.reject(P,j))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof ca<"u"?ca:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function s(I,H){if(!(I instanceof H))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),H=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||H)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(I,H){I=I||[],H=H||{};try{return new Blob(I,H)}catch(q){if(q.name!=="TypeError")throw q;for(var O=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new O,Q=0;Q<I.length;Q+=1)W.append(I[Q]);return W.getBlob(H.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(I,H){H&&I.then(function(O){H(null,O)},function(O){H(O)})}function p(I,H,O){typeof H=="function"&&I.then(H),typeof O=="function"&&I.catch(O)}function g(I){return typeof I!="string"&&(console.warn(I+" used as a key, but it is not a string."),I=String(I)),I}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",y=void 0,A={},S=Object.prototype.toString,_="readonly",x="readwrite";function w(I){for(var H=I.length,O=new ArrayBuffer(H),W=new Uint8Array(O),Q=0;Q<H;Q++)W[Q]=I.charCodeAt(Q);return O}function k(I){return new d(function(H){var O=I.transaction(b,x),W=u([""]);O.objectStore(b).put(W,"key"),O.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),H(!1)},O.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);H(q||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})}function C(I){return typeof y=="boolean"?d.resolve(y):k(I).then(function(H){return y=H,y})}function E(I){var H=A[I.name],O={};O.promise=new d(function(W,Q){O.resolve=W,O.reject=Q}),H.deferredOperations.push(O),H.dbReady?H.dbReady=H.dbReady.then(function(){return O.promise}):H.dbReady=O.promise}function P(I){var H=A[I.name],O=H.deferredOperations.pop();if(O)return O.resolve(),O.promise}function N(I,H){var O=A[I.name],W=O.deferredOperations.pop();if(W)return W.reject(H),W.promise}function z(I,H){return new d(function(O,W){if(A[I.name]=A[I.name]||U(),I.db)if(H)E(I),I.db.close();else return O(I.db);var Q=[I.name];H&&Q.push(I.version);var q=l.open.apply(l,Q);H&&(q.onupgradeneeded=function(ie){var se=q.result;try{se.createObjectStore(I.storeName),ie.oldVersion<=1&&se.createObjectStore(b)}catch(ue){if(ue.name==="ConstraintError")console.warn('The database "'+I.name+'" has been upgraded from version '+ie.oldVersion+" to version "+ie.newVersion+', but the storage "'+I.storeName+'" already exists.');else throw ue}}),q.onerror=function(ie){ie.preventDefault(),W(q.error)},q.onsuccess=function(){var ie=q.result;ie.onversionchange=function(se){se.target.close()},O(ie),P(I)}})}function j(I){return z(I,!1)}function V(I){return z(I,!0)}function M(I,H){if(!I.db)return!0;var O=!I.db.objectStoreNames.contains(I.storeName),W=I.version<I.db.version,Q=I.version>I.db.version;if(W&&(I.version!==H&&console.warn('The database "'+I.name+`" can't be downgraded from version `+I.db.version+" to version "+I.version+"."),I.version=I.db.version),Q||O){if(O){var q=I.db.version+1;q>I.version&&(I.version=q)}return!0}return!1}function T(I){return new d(function(H,O){var W=new FileReader;W.onerror=O,W.onloadend=function(Q){var q=btoa(Q.target.result||"");H({__local_forage_encoded_blob:!0,data:q,type:I.type})},W.readAsBinaryString(I)})}function D(I){var H=w(atob(I.data));return u([H],{type:I.type})}function L(I){return I&&I.__local_forage_encoded_blob}function F(I){var H=this,O=H._initReady().then(function(){var W=A[H._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return p(O,I,I),O}function $(I){E(I);for(var H=A[I.name],O=H.forages,W=0;W<O.length;W++){var Q=O[W];Q._dbInfo.db&&(Q._dbInfo.db.close(),Q._dbInfo.db=null)}return I.db=null,j(I).then(function(q){return I.db=q,M(I)?V(I):q}).then(function(q){I.db=H.db=q;for(var ie=0;ie<O.length;ie++)O[ie]._dbInfo.db=q}).catch(function(q){throw N(I,q),q})}function G(I,H,O,W){W===void 0&&(W=1);try{var Q=I.db.transaction(I.storeName,H);O(null,Q)}catch(q){if(W>0&&(!I.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!I.db||q.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),V(I)}).then(function(){return $(I).then(function(){G(I,H,O,W-1)})}).catch(O);O(q)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(I){var H=this,O={db:null};if(I)for(var W in I)O[W]=I[W];var Q=A[O.name];Q||(Q=U(),A[O.name]=Q),Q.forages.push(H),H._initReady||(H._initReady=H.ready,H.ready=F);var q=[];function ie(){return d.resolve()}for(var se=0;se<Q.forages.length;se++){var ue=Q.forages[se];ue!==H&&q.push(ue._initReady().catch(ie))}var de=Q.forages.slice(0);return d.all(q).then(function(){return O.db=Q.db,j(O)}).then(function(me){return O.db=me,M(O,H._defaultConfig.version)?V(O):me}).then(function(me){O.db=Q.db=me,H._dbInfo=O;for(var Pe=0;Pe<de.length;Pe++){var rt=de[Pe];rt!==H&&(rt._dbInfo.db=O.db,rt._dbInfo.version=O.version)}})}function B(I,H){var O=this;I=g(I);var W=new d(function(Q,q){O.ready().then(function(){G(O._dbInfo,_,function(ie,se){if(ie)return q(ie);try{var ue=se.objectStore(O._dbInfo.storeName),de=ue.get(I);de.onsuccess=function(){var me=de.result;me===void 0&&(me=null),L(me)&&(me=D(me)),Q(me)},de.onerror=function(){q(de.error)}}catch(me){q(me)}})}).catch(q)});return h(W,H),W}function fe(I,H){var O=this,W=new d(function(Q,q){O.ready().then(function(){G(O._dbInfo,_,function(ie,se){if(ie)return q(ie);try{var ue=se.objectStore(O._dbInfo.storeName),de=ue.openCursor(),me=1;de.onsuccess=function(){var Pe=de.result;if(Pe){var rt=Pe.value;L(rt)&&(rt=D(rt));var Et=I(rt,Pe.key,me++);Et!==void 0?Q(Et):Pe.continue()}else Q()},de.onerror=function(){q(de.error)}}catch(Pe){q(Pe)}})}).catch(q)});return h(W,H),W}function Z(I,H,O){var W=this;I=g(I);var Q=new d(function(q,ie){var se;W.ready().then(function(){return se=W._dbInfo,S.call(H)==="[object Blob]"?C(se.db).then(function(ue){return ue?H:T(H)}):H}).then(function(ue){G(W._dbInfo,x,function(de,me){if(de)return ie(de);try{var Pe=me.objectStore(W._dbInfo.storeName);ue===null&&(ue=void 0);var rt=Pe.put(ue,I);me.oncomplete=function(){ue===void 0&&(ue=null),q(ue)},me.onabort=me.onerror=function(){var Et=rt.error?rt.error:rt.transaction.error;ie(Et)}}catch(Et){ie(Et)}})}).catch(ie)});return h(Q,O),Q}function ae(I,H){var O=this;I=g(I);var W=new d(function(Q,q){O.ready().then(function(){G(O._dbInfo,x,function(ie,se){if(ie)return q(ie);try{var ue=se.objectStore(O._dbInfo.storeName),de=ue.delete(I);se.oncomplete=function(){Q()},se.onerror=function(){q(de.error)},se.onabort=function(){var me=de.error?de.error:de.transaction.error;q(me)}}catch(me){q(me)}})}).catch(q)});return h(W,H),W}function Me(I){var H=this,O=new d(function(W,Q){H.ready().then(function(){G(H._dbInfo,x,function(q,ie){if(q)return Q(q);try{var se=ie.objectStore(H._dbInfo.storeName),ue=se.clear();ie.oncomplete=function(){W()},ie.onabort=ie.onerror=function(){var de=ue.error?ue.error:ue.transaction.error;Q(de)}}catch(de){Q(de)}})}).catch(Q)});return h(O,I),O}function xe(I){var H=this,O=new d(function(W,Q){H.ready().then(function(){G(H._dbInfo,_,function(q,ie){if(q)return Q(q);try{var se=ie.objectStore(H._dbInfo.storeName),ue=se.count();ue.onsuccess=function(){W(ue.result)},ue.onerror=function(){Q(ue.error)}}catch(de){Q(de)}})}).catch(Q)});return h(O,I),O}function le(I,H){var O=this,W=new d(function(Q,q){if(I<0){Q(null);return}O.ready().then(function(){G(O._dbInfo,_,function(ie,se){if(ie)return q(ie);try{var ue=se.objectStore(O._dbInfo.storeName),de=!1,me=ue.openKeyCursor();me.onsuccess=function(){var Pe=me.result;if(!Pe){Q(null);return}I===0||de?Q(Pe.key):(de=!0,Pe.advance(I))},me.onerror=function(){q(me.error)}}catch(Pe){q(Pe)}})}).catch(q)});return h(W,H),W}function Ae(I){var H=this,O=new d(function(W,Q){H.ready().then(function(){G(H._dbInfo,_,function(q,ie){if(q)return Q(q);try{var se=ie.objectStore(H._dbInfo.storeName),ue=se.openKeyCursor(),de=[];ue.onsuccess=function(){var me=ue.result;if(!me){W(de);return}de.push(me.key),me.continue()},ue.onerror=function(){Q(ue.error)}}catch(me){Q(me)}})}).catch(Q)});return h(O,I),O}function Le(I,H){H=m.apply(this,arguments);var O=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||O.name,I.storeName=I.storeName||O.storeName);var W=this,Q;if(!I.name)Q=d.reject("Invalid arguments");else{var q=I.name===O.name&&W._dbInfo.db,ie=q?d.resolve(W._dbInfo.db):j(I).then(function(se){var ue=A[I.name],de=ue.forages;ue.db=se;for(var me=0;me<de.length;me++)de[me]._dbInfo.db=se;return se});I.storeName?Q=ie.then(function(se){if(se.objectStoreNames.contains(I.storeName)){var ue=se.version+1;E(I);var de=A[I.name],me=de.forages;se.close();for(var Pe=0;Pe<me.length;Pe++){var rt=me[Pe];rt._dbInfo.db=null,rt._dbInfo.version=ue}var Et=new d(function(Rt,On){var En=l.open(I.name,ue);En.onerror=function(Mi){var sd=En.result;sd.close(),On(Mi)},En.onupgradeneeded=function(){var Mi=En.result;Mi.deleteObjectStore(I.storeName)},En.onsuccess=function(){var Mi=En.result;Mi.close(),Rt(Mi)}});return Et.then(function(Rt){de.db=Rt;for(var On=0;On<me.length;On++){var En=me[On];En._dbInfo.db=Rt,P(En._dbInfo)}}).catch(function(Rt){throw(N(I,Rt)||d.resolve()).catch(function(){}),Rt})}}):Q=ie.then(function(se){E(I);var ue=A[I.name],de=ue.forages;se.close();for(var me=0;me<de.length;me++){var Pe=de[me];Pe._dbInfo.db=null}var rt=new d(function(Et,Rt){var On=l.deleteDatabase(I.name);On.onerror=function(){var En=On.result;En&&En.close(),Rt(On.error)},On.onblocked=function(){console.warn('dropInstance blocked for database "'+I.name+'" until all open connections are closed')},On.onsuccess=function(){var En=On.result;En&&En.close(),Et(En)}});return rt.then(function(Et){ue.db=Et;for(var Rt=0;Rt<de.length;Rt++){var On=de[Rt];P(On._dbInfo)}}).catch(function(Et){throw(N(I,Et)||d.resolve()).catch(function(){}),Et})})}return h(Q,H),Q}var Te={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:fe,getItem:B,setItem:Z,removeItem:ae,clear:Me,length:xe,key:le,keys:Ae,dropInstance:Le};function Se(){return typeof openDatabase=="function"}var we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De="~~local_forage_type~",Ge=/^~~local_forage_type~([^~]+)~/,Re="__lfsc__:",Xe=Re.length,kt="arbf",Wt="blob",Ct="si08",Ee="ui08",lt="uic8",Vt="si16",We="si32",je="ur16",Tt="ui32",ct="fl32",it="fl64",_n=Xe+kt.length,wt=Object.prototype.toString;function ut(I){var H=I.length*.75,O=I.length,W,Q=0,q,ie,se,ue;I[I.length-1]==="="&&(H--,I[I.length-2]==="="&&H--);var de=new ArrayBuffer(H),me=new Uint8Array(de);for(W=0;W<O;W+=4)q=we.indexOf(I[W]),ie=we.indexOf(I[W+1]),se=we.indexOf(I[W+2]),ue=we.indexOf(I[W+3]),me[Q++]=q<<2|ie>>4,me[Q++]=(ie&15)<<4|se>>2,me[Q++]=(se&3)<<6|ue&63;return de}function sn(I){var H=new Uint8Array(I),O="",W;for(W=0;W<H.length;W+=3)O+=we[H[W]>>2],O+=we[(H[W]&3)<<4|H[W+1]>>4],O+=we[(H[W+1]&15)<<2|H[W+2]>>6],O+=we[H[W+2]&63];return H.length%3===2?O=O.substring(0,O.length-1)+"=":H.length%3===1&&(O=O.substring(0,O.length-2)+"=="),O}function gn(I,H){var O="";if(I&&(O=wt.call(I)),I&&(O==="[object ArrayBuffer]"||I.buffer&&wt.call(I.buffer)==="[object ArrayBuffer]")){var W,Q=Re;I instanceof ArrayBuffer?(W=I,Q+=kt):(W=I.buffer,O==="[object Int8Array]"?Q+=Ct:O==="[object Uint8Array]"?Q+=Ee:O==="[object Uint8ClampedArray]"?Q+=lt:O==="[object Int16Array]"?Q+=Vt:O==="[object Uint16Array]"?Q+=je:O==="[object Int32Array]"?Q+=We:O==="[object Uint32Array]"?Q+=Tt:O==="[object Float32Array]"?Q+=ct:O==="[object Float64Array]"?Q+=it:H(new Error("Failed to get type for BinaryArray"))),H(Q+sn(W))}else if(O==="[object Blob]"){var q=new FileReader;q.onload=function(){var ie=De+I.type+"~"+sn(this.result);H(Re+Wt+ie)},q.readAsArrayBuffer(I)}else try{H(JSON.stringify(I))}catch(ie){console.error("Couldn't convert value into a JSON string: ",I),H(null,ie)}}function Zt(I){if(I.substring(0,Xe)!==Re)return JSON.parse(I);var H=I.substring(_n),O=I.substring(Xe,_n),W;if(O===Wt&&Ge.test(H)){var Q=H.match(Ge);W=Q[1],H=H.substring(Q[0].length)}var q=ut(H);switch(O){case kt:return q;case Wt:return u([q],{type:W});case Ct:return new Int8Array(q);case Ee:return new Uint8Array(q);case lt:return new Uint8ClampedArray(q);case Vt:return new Int16Array(q);case je:return new Uint16Array(q);case We:return new Int32Array(q);case Tt:return new Uint32Array(q);case ct:return new Float32Array(q);case it:return new Float64Array(q);default:throw new Error("Unkown type: "+O)}}var mt={serialize:gn,deserialize:Zt,stringToBuffer:ut,bufferToString:sn};function $n(I,H,O,W){I.executeSql("CREATE TABLE IF NOT EXISTS "+H.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],O,W)}function vr(I){var H=this,O={db:null};if(I)for(var W in I)O[W]=typeof I[W]!="string"?I[W].toString():I[W];var Q=new d(function(q,ie){try{O.db=openDatabase(O.name,String(O.version),O.description,O.size)}catch(se){return ie(se)}O.db.transaction(function(se){$n(se,O,function(){H._dbInfo=O,q()},function(ue,de){ie(de)})},ie)});return O.serializer=mt,Q}function xn(I,H,O,W,Q,q){I.executeSql(O,W,Q,function(ie,se){se.code===se.SYNTAX_ERR?ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[H.storeName],function(ue,de){de.rows.length?q(ue,se):$n(ue,H,function(){ue.executeSql(O,W,Q,q)},q)},q):q(ie,se)},q)}function Ri(I,H){var O=this;I=g(I);var W=new d(function(Q,q){O.ready().then(function(){var ie=O._dbInfo;ie.db.transaction(function(se){xn(se,ie,"SELECT * FROM "+ie.storeName+" WHERE key = ? LIMIT 1",[I],function(ue,de){var me=de.rows.length?de.rows.item(0).value:null;me&&(me=ie.serializer.deserialize(me)),Q(me)},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function ui(I,H){var O=this,W=new d(function(Q,q){O.ready().then(function(){var ie=O._dbInfo;ie.db.transaction(function(se){xn(se,ie,"SELECT * FROM "+ie.storeName,[],function(ue,de){for(var me=de.rows,Pe=me.length,rt=0;rt<Pe;rt++){var Et=me.item(rt),Rt=Et.value;if(Rt&&(Rt=ie.serializer.deserialize(Rt)),Rt=I(Rt,Et.key,rt+1),Rt!==void 0){Q(Rt);return}}Q()},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function It(I,H,O,W){var Q=this;I=g(I);var q=new d(function(ie,se){Q.ready().then(function(){H===void 0&&(H=null);var ue=H,de=Q._dbInfo;de.serializer.serialize(H,function(me,Pe){Pe?se(Pe):de.db.transaction(function(rt){xn(rt,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[I,me],function(){ie(ue)},function(Et,Rt){se(Rt)})},function(rt){if(rt.code===rt.QUOTA_ERR){if(W>0){ie(It.apply(Q,[I,ue,O,W-1]));return}se(rt)}})})}).catch(se)});return h(q,O),q}function wn(I,H,O){return It.apply(this,[I,H,O,1])}function $e(I,H){var O=this;I=g(I);var W=new d(function(Q,q){O.ready().then(function(){var ie=O._dbInfo;ie.db.transaction(function(se){xn(se,ie,"DELETE FROM "+ie.storeName+" WHERE key = ?",[I],function(){Q()},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function tt(I){var H=this,O=new d(function(W,Q){H.ready().then(function(){var q=H._dbInfo;q.db.transaction(function(ie){xn(ie,q,"DELETE FROM "+q.storeName,[],function(){W()},function(se,ue){Q(ue)})})}).catch(Q)});return h(O,I),O}function Wn(I){var H=this,O=new d(function(W,Q){H.ready().then(function(){var q=H._dbInfo;q.db.transaction(function(ie){xn(ie,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(se,ue){var de=ue.rows.item(0).c;W(de)},function(se,ue){Q(ue)})})}).catch(Q)});return h(O,I),O}function di(I,H){var O=this,W=new d(function(Q,q){O.ready().then(function(){var ie=O._dbInfo;ie.db.transaction(function(se){xn(se,ie,"SELECT key FROM "+ie.storeName+" WHERE id = ? LIMIT 1",[I+1],function(ue,de){var me=de.rows.length?de.rows.item(0).key:null;Q(me)},function(ue,de){q(de)})})}).catch(q)});return h(W,H),W}function ve(I){var H=this,O=new d(function(W,Q){H.ready().then(function(){var q=H._dbInfo;q.db.transaction(function(ie){xn(ie,q,"SELECT key FROM "+q.storeName,[],function(se,ue){for(var de=[],me=0;me<ue.rows.length;me++)de.push(ue.rows.item(me).key);W(de)},function(se,ue){Q(ue)})})}).catch(Q)});return h(O,I),O}function Ue(I){return new d(function(H,O){I.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Q,q){for(var ie=[],se=0;se<q.rows.length;se++)ie.push(q.rows.item(se).name);H({db:I,storeNames:ie})},function(Q,q){O(q)})},function(W){O(W)})})}function Ye(I,H){H=m.apply(this,arguments);var O=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||O.name,I.storeName=I.storeName||O.storeName);var W=this,Q;return I.name?Q=new d(function(q){var ie;I.name===O.name?ie=W._dbInfo.db:ie=openDatabase(I.name,"","",0),I.storeName?q({db:ie,storeNames:[I.storeName]}):q(Ue(ie))}).then(function(q){return new d(function(ie,se){q.db.transaction(function(ue){function de(Et){return new d(function(Rt,On){ue.executeSql("DROP TABLE IF EXISTS "+Et,[],function(){Rt()},function(En,Mi){On(Mi)})})}for(var me=[],Pe=0,rt=q.storeNames.length;Pe<rt;Pe++)me.push(de(q.storeNames[Pe]));d.all(me).then(function(){ie()}).catch(function(Et){se(Et)})},function(ue){se(ue)})})}):Q=d.reject("Invalid arguments"),h(Q,H),Q}var jn={_driver:"webSQLStorage",_initStorage:vr,_support:Se(),iterate:ui,getItem:Ri,setItem:wn,removeItem:$e,clear:tt,length:Wn,key:di,keys:ve,dropInstance:Ye};function Kn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function fi(I,H){var O=I.name+"/";return I.storeName!==H.storeName&&(O+=I.storeName+"/"),O}function Pi(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function ir(){return!Pi()||localStorage.length>0}function qr(I){var H=this,O={};if(I)for(var W in I)O[W]=I[W];return O.keyPrefix=fi(I,H._defaultConfig),ir()?(H._dbInfo=O,O.serializer=mt,d.resolve()):d.reject()}function $t(I){var H=this,O=H.ready().then(function(){for(var W=H._dbInfo.keyPrefix,Q=localStorage.length-1;Q>=0;Q--){var q=localStorage.key(Q);q.indexOf(W)===0&&localStorage.removeItem(q)}});return h(O,I),O}function Ka(I,H){var O=this;I=g(I);var W=O.ready().then(function(){var Q=O._dbInfo,q=localStorage.getItem(Q.keyPrefix+I);return q&&(q=Q.serializer.deserialize(q)),q});return h(W,H),W}function qy(I,H){var O=this,W=O.ready().then(function(){for(var Q=O._dbInfo,q=Q.keyPrefix,ie=q.length,se=localStorage.length,ue=1,de=0;de<se;de++){var me=localStorage.key(de);if(me.indexOf(q)===0){var Pe=localStorage.getItem(me);if(Pe&&(Pe=Q.serializer.deserialize(Pe)),Pe=I(Pe,me.substring(ie),ue++),Pe!==void 0)return Pe}}});return h(W,H),W}function Wh(I,H){var O=this,W=O.ready().then(function(){var Q=O._dbInfo,q;try{q=localStorage.key(I)}catch{q=null}return q&&(q=q.substring(Q.keyPrefix.length)),q});return h(W,H),W}function Kh(I){var H=this,O=H.ready().then(function(){for(var W=H._dbInfo,Q=localStorage.length,q=[],ie=0;ie<Q;ie++){var se=localStorage.key(ie);se.indexOf(W.keyPrefix)===0&&q.push(se.substring(W.keyPrefix.length))}return q});return h(O,I),O}function Yh(I){var H=this,O=H.keys().then(function(W){return W.length});return h(O,I),O}function Qh(I,H){var O=this;I=g(I);var W=O.ready().then(function(){var Q=O._dbInfo;localStorage.removeItem(Q.keyPrefix+I)});return h(W,H),W}function Lt(I,H,O){var W=this;I=g(I);var Q=W.ready().then(function(){H===void 0&&(H=null);var q=H;return new d(function(ie,se){var ue=W._dbInfo;ue.serializer.serialize(H,function(de,me){if(me)se(me);else try{localStorage.setItem(ue.keyPrefix+I,de),ie(q)}catch(Pe){(Pe.name==="QuotaExceededError"||Pe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(Pe),se(Pe)}})})});return h(Q,O),Q}function po(I,H){if(H=m.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var O=this.config();I.name=I.name||O.name,I.storeName=I.storeName||O.storeName}var W=this,Q;return I.name?Q=new d(function(q){I.storeName?q(fi(I,W._defaultConfig)):q(I.name+"/")}).then(function(q){for(var ie=localStorage.length-1;ie>=0;ie--){var se=localStorage.key(ie);se.indexOf(q)===0&&localStorage.removeItem(se)}}):Q=d.reject("Invalid arguments"),h(Q,H),Q}var id={_driver:"localStorageWrapper",_initStorage:qr,_support:Kn(),iterate:qy,getItem:Ka,setItem:Lt,removeItem:Qh,clear:$t,length:Yh,key:Wh,keys:Kh,dropInstance:po},Ya=function(H,O){return H===O||typeof H=="number"&&typeof O=="number"&&isNaN(H)&&isNaN(O)},Wy=function(H,O){for(var W=H.length,Q=0;Q<W;){if(Ya(H[Q],O))return!0;Q++}return!1},lc=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},od={},yE={},cc={INDEXEDDB:Te,WEBSQL:jn,LOCALSTORAGE:id},iB=[cc.INDEXEDDB._driver,cc.WEBSQL._driver,cc.LOCALSTORAGE._driver],Jh=["dropInstance"],Ky=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Jh),oB={description:"",driver:iB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function sB(I,H){I[H]=function(){var O=arguments;return I.ready().then(function(){return I[H].apply(I,O)})}}function Yy(){for(var I=1;I<arguments.length;I++){var H=arguments[I];if(H)for(var O in H)H.hasOwnProperty(O)&&(lc(H[O])?arguments[0][O]=H[O].slice():arguments[0][O]=H[O])}return arguments[0]}var aB=function(){function I(H){s(this,I);for(var O in cc)if(cc.hasOwnProperty(O)){var W=cc[O],Q=W._driver;this[O]=Q,od[Q]||this.defineDriver(W)}this._defaultConfig=Yy({},oB),this._config=Yy({},this._defaultConfig,H),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function(O){if((typeof O>"u"?"undefined":o(O))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in O){if(W==="storeName"&&(O[W]=O[W].replace(/\W/g,"_")),W==="version"&&typeof O[W]!="number")return new Error("Database version must be a number.");this._config[W]=O[W]}return"driver"in O&&O.driver?this.setDriver(this._config.driver):!0}else return typeof O=="string"?this._config[O]:this._config},I.prototype.defineDriver=function(O,W,Q){var q=new d(function(ie,se){try{var ue=O._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!O._driver){se(de);return}for(var me=Ky.concat("_initStorage"),Pe=0,rt=me.length;Pe<rt;Pe++){var Et=me[Pe],Rt=!Wy(Jh,Et);if((Rt||O[Et])&&typeof O[Et]!="function"){se(de);return}}var On=function(){for(var sd=function(uB){return function(){var dB=new Error("Method "+uB+" is not implemented by the current driver"),vE=d.reject(dB);return h(vE,arguments[arguments.length-1]),vE}},Qy=0,cB=Jh.length;Qy<cB;Qy++){var Jy=Jh[Qy];O[Jy]||(O[Jy]=sd(Jy))}};On();var En=function(sd){od[ue]&&console.info("Redefining LocalForage driver: "+ue),od[ue]=O,yE[ue]=sd,ie()};"_support"in O?O._support&&typeof O._support=="function"?O._support().then(En,se):En(!!O._support):En(!0)}catch(Mi){se(Mi)}});return p(q,W,Q),q},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function(O,W,Q){var q=od[O]?d.resolve(od[O]):d.reject(new Error("Driver not found."));return p(q,W,Q),q},I.prototype.getSerializer=function(O){var W=d.resolve(mt);return p(W,O),W},I.prototype.ready=function(O){var W=this,Q=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return p(Q,O,O),Q},I.prototype.setDriver=function(O,W,Q){var q=this;lc(O)||(O=[O]);var ie=this._getSupportedDrivers(O);function se(){q._config.driver=q.driver()}function ue(Pe){return q._extend(Pe),se(),q._ready=q._initStorage(q._config),q._ready}function de(Pe){return function(){var rt=0;function Et(){for(;rt<Pe.length;){var Rt=Pe[rt];return rt++,q._dbInfo=null,q._ready=null,q.getDriver(Rt).then(ue).catch(Et)}se();var On=new Error("No available storage method found.");return q._driverSet=d.reject(On),q._driverSet}return Et()}}var me=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=me.then(function(){var Pe=ie[0];return q._dbInfo=null,q._ready=null,q.getDriver(Pe).then(function(rt){q._driver=rt._driver,se(),q._wrapLibraryMethodsWithReady(),q._initDriver=de(ie)})}).catch(function(){se();var Pe=new Error("No available storage method found.");return q._driverSet=d.reject(Pe),q._driverSet}),p(this._driverSet,W,Q),this._driverSet},I.prototype.supports=function(O){return!!yE[O]},I.prototype._extend=function(O){Yy(this,O)},I.prototype._getSupportedDrivers=function(O){for(var W=[],Q=0,q=O.length;Q<q;Q++){var ie=O[Q];this.supports(ie)&&W.push(ie)}return W},I.prototype._wrapLibraryMethodsWithReady=function(){for(var O=0,W=Ky.length;O<W;O++)sB(this,Ky[O])},I.prototype.createInstance=function(O){return new I(O)},I}(),lB=new aB;r.exports=lB},{3:3}]},{},[4])(4)})})(Z3);var ej=Z3.exports;const cf=mr(ej),tj=VP({__proto__:null,default:cf},[ej]);let md=null;async function Am(){if(!md)if("localStorage"in globalThis)try{md=Wu(()=>Promise.resolve().then(()=>tj),void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),md=Promise.resolve(Be.memory)}else md=Promise.resolve(Be.memory);return md}const Au=e=>ro.generateSongFile(e),nj=async e=>{var n;const t=Au(e);return await((n=await Am())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},rj=async(e,t)=>{var n;await((n=await Am())==null?void 0:n.setItem(Au(e),t))},Vq=async()=>{var n;const e=await((n=await Am())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await Am())==null?void 0:i.getItem(r))})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(s=>s.score===0))return;let i=await(cf==null?void 0:cf.getItem(Au(e)));const o={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],o],i.plays=i.scores.length):i={plays:1,scores:[o]},await rj(e,i),te.songStatStored.dispatch(Au(e),i)});const bu="session-player-names",Lq="previous-player-names";function Nq(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse(Be.session.getItem(bu))||[];const r=t.players.map(({number:o})=>Ne.getPlayer(o)).filter(Nq).map(o=>o.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Be.session.setItem(bu,JSON.stringify(n)),Be.session.setItem(Lq,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Be.session.getItem(bu))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Be.session.setItem(bu,JSON.stringify(r))});function Bq(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return Bq(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var Dq="Expected a function";function Zc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Dq);return No(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_3(e,t,{leading:r,maxWait:t,trailing:i})}class Fq extends $o{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Aa.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const o=new v3;await o.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(i.fftSize);i.getFloatTimeDomainData(s);const a=await o.getFrequency(s),l=this.calculateVolume(s);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Lo(r),console.error(r)}}catch(r){Lo(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const So=new Fq;class $q extends $o{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.roomId=n,this.connection=new WebSocket(`${T3}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var s;(s=this.connection)==null||s.send(Qi({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=s=>{const a=Nu(s.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=s=>{var l;let a="unknown";try{a=(l=JSON.parse(s.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",s)}this.clearAllListeners(),i(a,s)},this.connection.onerror=s=>{this.clearAllListeners(),o("error",s)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Qi({t:"forward",recipients:[this.roomId],payload:t}))}}class zq extends $o{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",o=>{console.log(o),this.onUpdate(o)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new W0(t,{...I3,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",s=>{var a,l;s.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,o)},1750)):(this.unavailableIdRetries=0,console.error(s.type,s),i(s.type,s))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class Uq extends $o{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.roomId=n,this.connection=new WebSocket(L3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var s;(s=this.connection)==null||s.send(Qi({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=s=>{const a=Nu(s.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=s=>{var l;let a="unknown";try{a=(l=JSON.parse(s.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",s)}this.clearAllListeners(),i(a,s)},this.connection.onerror=s=>{this.clearAllListeners(),o("error",s)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Qi({t:"forward",recipients:[this.roomId],payload:t}))}}const pC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let xp;const Hq=new Uint8Array(16);function Gq(){if(!xp&&(xp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xp(Hq)}const sr=[];for(let e=0;e<256;++e)sr.push((e+256).toString(16).slice(1));function qq(e,t=0){return sr[e[t+0]]+sr[e[t+1]]+sr[e[t+2]]+sr[e[t+3]]+"-"+sr[e[t+4]]+sr[e[t+5]]+"-"+sr[e[t+6]]+sr[e[t+7]]+"-"+sr[e[t+8]]+sr[e[t+9]]+"-"+sr[e[t+10]]+sr[e[t+11]]+sr[e[t+12]]+sr[e[t+13]]+sr[e[t+14]]+sr[e[t+15]]}const Wq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gC={randomUUID:Wq};function bm(e,t,n){if(gC.randomUUID&&!t&&!e)return gC.randomUUID();e=e||{};const r=e.random||(e.rng||Gq)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return qq(r)}const ib="MIC_CLIENT_ID";class Kq{constructor(){this.clientId=Be.getItem(ib),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Zc(t=>{const n=this.frequencies.map(r=>pC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,pC(t,4)])},50),this.onFrequencyUpdate=Zc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Be.setItem(ib,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new Uq:i.startsWith("k")?new $q:new zq),this.clientId===null&&this.setClientId(bm()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(o,s)=>{var a;if(o==="unavailable-id"){this.setClientId(bm()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",o),Pn.capture("remote_mic_connection_error",{reason:o,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),So.removeListener(this.onFrequencyUpdate),So.stopMonitoring(),o!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Fr(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Fr(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Zc(t=>Pn.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=Fr()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),Pn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:n5.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(o=>{var a,l;const s=o.t;s==="start-monitor"?(So.removeListener(this.onFrequencyUpdate),So.addListener(this.onFrequencyUpdate),So.startMonitoring(void 0,!0)):s==="stop-monitor"?(So.removeListener(this.onFrequencyUpdate),So.stopMonitoring()):s==="set-player-number"?te.remoteMicPlayerSet.dispatch(o.playerNumber):s==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(o.help):s==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Be.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):s==="request-readiness"?te.remoteReadinessRequested.dispatch():s==="pong"?this.onPong():s==="ping"?this.sendEvent("pong"):s==="set-permissions"?te.remoteMicPermissionsSet.dispatch(o.level):s==="remote-mics-list"?te.remoteMicListUpdated.dispatch(o.list):s==="style-change"&&te.remoteStyleChanged.dispatch(o.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,o)=>{var l;const s=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),o(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(s),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const dn=new Kq,Yq="/prs/338/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",Qq="/prs/338/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",Jq="/prs/338/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",Xq="/prs/338/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",Zq="/prs/338/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",eW="/prs/338/assets/menu_back-CXKu2j7w.mp3",tW="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",nW="/prs/338/assets/menu_navigate-C6GUIZQM.mp3";class $a{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const o=(r=this.sound)==null?void 0:r.cloneNode(!0);await o.play(),o.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(o){return console.warn(o)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const J0=new $a({src:nW}),tx=new $a({src:tW}),nx=new $a({src:eW}),ij=new $a({src:Qq,preload:!0}),rx=new $a({src:Xq,preload:!0,volume:.5}),oj=new $a({src:Zq,volume:.3,loop:!0}),sj=new $a({src:Yq,volume:.25,loop:!0}),xg=new $a({src:Jq,volume:.8}),rW=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:oj,christmasBackgroundMusic:sj,menuBack:nx,menuEnter:tx,menuNavigate:J0,waitFinished:ij,waitForReadinessMusic:xg,woosh:rx},Symbol.toStringTag,{value:"Module"})),iW={RemoteMicClient:dn,RemoteMicServer:El,GameState:ze,GameEvents:te,RemoteMicManager:nt,SongDao:ro,InputManager:Sn,InputSourceManager:Ds,CameraManager:Co,UserMediaService:Aa,PlayersManager:Ne,SoundManager:rW,importSongs:async()=>{await(await Wu(()=>import("./importSongsFromPostHog-DKPF1482.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=iW};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function oW(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function sW(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var aW=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=oW(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),_r="-ms-",Sm="-moz-",yt="-webkit-",aj="comm",ix="rule",ox="decl",lW="@import",lj="@keyframes",cW="@layer",uW=Math.abs,X0=String.fromCharCode,dW=Object.assign;function fW(e,t){return ur(e,0)^45?(((t<<2^ur(e,0))<<2^ur(e,1))<<2^ur(e,2))<<2^ur(e,3):0}function cj(e){return e.trim()}function hW(e,t){return(e=t.exec(e))?e[0]:e}function vt(e,t,n){return e.replace(t,n)}function ob(e,t){return e.indexOf(t)}function ur(e,t){return e.charCodeAt(t)|0}function Bf(e,t,n){return e.slice(t,n)}function Qo(e){return e.length}function sx(e){return e.length}function wp(e,t){return t.push(e),e}function pW(e,t){return e.map(t).join("")}var Z0=1,Su=1,uj=0,ai=0,Bn=0,Yu="";function ey(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Z0,column:Su,length:s,return:""}}function yd(e,t){return dW(ey("",null,null,"",null,null,0),e,{length:-e.length},t)}function gW(){return Bn}function mW(){return Bn=ai>0?ur(Yu,--ai):0,Su--,Bn===10&&(Su=1,Z0--),Bn}function bi(){return Bn=ai<uj?ur(Yu,ai++):0,Su++,Bn===10&&(Su=1,Z0++),Bn}function os(){return ur(Yu,ai)}function wg(){return ai}function Ch(e,t){return Bf(Yu,e,t)}function Df(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dj(e){return Z0=Su=1,uj=Qo(Yu=e),ai=0,[]}function fj(e){return Yu="",e}function Eg(e){return cj(Ch(ai-1,sb(e===91?e+2:e===40?e+1:e)))}function yW(e){for(;(Bn=os())&&Bn<33;)bi();return Df(e)>2||Df(Bn)>3?"":" "}function vW(e,t){for(;--t&&bi()&&!(Bn<48||Bn>102||Bn>57&&Bn<65||Bn>70&&Bn<97););return Ch(e,wg()+(t<6&&os()==32&&bi()==32))}function sb(e){for(;bi();)switch(Bn){case e:return ai;case 34:case 39:e!==34&&e!==39&&sb(Bn);break;case 40:e===41&&sb(e);break;case 92:bi();break}return ai}function AW(e,t){for(;bi()&&e+Bn!==57;)if(e+Bn===84&&os()===47)break;return"/*"+Ch(t,ai-1)+"*"+X0(e===47?e:bi())}function bW(e){for(;!Df(os());)bi();return Ch(e,ai)}function SW(e){return fj(kg("",null,null,null,[""],e=dj(e),0,[0],e))}function kg(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,g=0,m=1,b=1,y=1,A=0,S="",_=i,x=o,w=r,k=S;b;)switch(g=A,A=bi()){case 40:if(g!=108&&ur(k,d-1)==58){ob(k+=vt(Eg(A),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:k+=Eg(A);break;case 9:case 10:case 13:case 32:k+=yW(g);break;case 92:k+=vW(wg()-1,7);continue;case 47:switch(os()){case 42:case 47:wp(_W(AW(bi(),wg()),t,n),l);break;default:k+="/"}break;case 123*m:a[c++]=Qo(k)*y;case 125*m:case 59:case 0:switch(A){case 0:case 125:b=0;case 59+u:y==-1&&(k=vt(k,/\f/g,"")),p>0&&Qo(k)-d&&wp(p>32?yC(k+";",r,n,d-1):yC(vt(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(wp(w=mC(k,t,n,c,u,i,a,S,_=[],x=[],d),o),A===123)if(u===0)kg(k,t,w,w,_,o,d,a,x);else switch(h===99&&ur(k,3)===110?100:h){case 100:case 108:case 109:case 115:kg(e,w,w,r&&wp(mC(e,w,w,0,0,i,a,S,i,_=[],d),x),i,x,d,a,r?_:x);break;default:kg(k,w,w,w,[""],x,0,a,x)}}c=u=p=0,m=y=1,S=k="",d=s;break;case 58:d=1+Qo(k),p=g;default:if(m<1){if(A==123)--m;else if(A==125&&m++==0&&mW()==125)continue}switch(k+=X0(A),A*m){case 38:y=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(Qo(k)-1)*y,y=1;break;case 64:os()===45&&(k+=Eg(bi())),h=os(),u=d=Qo(S=k+=bW(wg())),A++;break;case 45:g===45&&Qo(k)==2&&(m=0)}}return o}function mC(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=i===0?o:[""],p=sx(h),g=0,m=0,b=0;g<r;++g)for(var y=0,A=Bf(e,d+1,d=uW(m=s[g])),S=e;y<p;++y)(S=cj(m>0?h[y]+" "+A:vt(A,/&\f/g,h[y])))&&(l[b++]=S);return ey(e,t,n,i===0?ix:a,l,c,u)}function _W(e,t,n){return ey(e,t,n,aj,X0(gW()),Bf(e,2,-2),0)}function yC(e,t,n,r){return ey(e,t,n,ox,Bf(e,0,r),Bf(e,r+1,-1),r)}function eu(e,t){for(var n="",r=sx(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function xW(e,t,n,r){switch(e.type){case cW:if(e.children.length)break;case lW:case ox:return e.return=e.return||e.value;case aj:return"";case lj:return e.return=e.value+"{"+eu(e.children,r)+"}";case ix:e.value=e.props.join(",")}return Qo(n=eu(e.children,r))?e.return=e.value+"{"+n+"}":""}function wW(e){var t=sx(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function EW(e){return function(t){t.root||(t=t.return)&&e(t)}}function hj(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var kW=function(t,n,r){for(var i=0,o=0;i=o,o=os(),i===38&&o===12&&(n[r]=1),!Df(o);)bi();return Ch(t,ai)},CW=function(t,n){var r=-1,i=44;do switch(Df(i)){case 0:i===38&&os()===12&&(n[r]=1),t[r]+=kW(ai-1,n,r);break;case 2:t[r]+=Eg(i);break;case 4:if(i===44){t[++r]=os()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=X0(i)}while(i=bi());return t},TW=function(t,n){return fj(CW(dj(t),n))},vC=new WeakMap,IW=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!vC.get(r))&&!i){vC.set(t,!0);for(var o=[],s=TW(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},RW=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function pj(e,t){switch(fW(e,t)){case 5103:return yt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yt+e+Sm+e+_r+e+e;case 6828:case 4268:return yt+e+_r+e+e;case 6165:return yt+e+_r+"flex-"+e+e;case 5187:return yt+e+vt(e,/(\w+).+(:[^]+)/,yt+"box-$1$2"+_r+"flex-$1$2")+e;case 5443:return yt+e+_r+"flex-item-"+vt(e,/flex-|-self/,"")+e;case 4675:return yt+e+_r+"flex-line-pack"+vt(e,/align-content|flex-|-self/,"")+e;case 5548:return yt+e+_r+vt(e,"shrink","negative")+e;case 5292:return yt+e+_r+vt(e,"basis","preferred-size")+e;case 6060:return yt+"box-"+vt(e,"-grow","")+yt+e+_r+vt(e,"grow","positive")+e;case 4554:return yt+vt(e,/([^-])(transform)/g,"$1"+yt+"$2")+e;case 6187:return vt(vt(vt(e,/(zoom-|grab)/,yt+"$1"),/(image-set)/,yt+"$1"),e,"")+e;case 5495:case 3959:return vt(e,/(image-set\([^]*)/,yt+"$1$`$1");case 4968:return vt(vt(e,/(.+:)(flex-)?(.*)/,yt+"box-pack:$3"+_r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yt+e+e;case 4095:case 3583:case 4068:case 2532:return vt(e,/(.+)-inline(.+)/,yt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qo(e)-1-t>6)switch(ur(e,t+1)){case 109:if(ur(e,t+4)!==45)break;case 102:return vt(e,/(.+:)(.+)-([^]+)/,"$1"+yt+"$2-$3$1"+Sm+(ur(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ob(e,"stretch")?pj(vt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ur(e,t+1)!==115)break;case 6444:switch(ur(e,Qo(e)-3-(~ob(e,"!important")&&10))){case 107:return vt(e,":",":"+yt)+e;case 101:return vt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yt+(ur(e,14)===45?"inline-":"")+"box$3$1"+yt+"$2$3$1"+_r+"$2box$3")+e}break;case 5936:switch(ur(e,t+11)){case 114:return yt+e+_r+vt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yt+e+_r+vt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yt+e+_r+vt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return yt+e+_r+e+e}return e}var PW=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case ox:t.return=pj(t.value,t.length);break;case lj:return eu([yd(t,{value:vt(t.value,"@","@"+yt)})],i);case ix:if(t.length)return pW(t.props,function(o){switch(hW(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return eu([yd(t,{props:[vt(o,/:(read-\w+)/,":"+Sm+"$1")]})],i);case"::placeholder":return eu([yd(t,{props:[vt(o,/:(plac\w+)/,":"+yt+"input-$1")]}),yd(t,{props:[vt(o,/:(plac\w+)/,":"+Sm+"$1")]}),yd(t,{props:[vt(o,/:(plac\w+)/,_r+"input-$1")]})],i)}return""})}},MW=[PW],gj=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var b=m.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||MW,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var b=m.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)o[b[y]]=!0;a.push(m)});var l,c=[IW,RW];{var u,d=[xW,EW(function(m){u.insert(m)})],h=wW(c.concat(i,d)),p=function(b){return eu(SW(b),h)};l=function(b,y,A,S){u=A,p(b?b+"{"+y.styles+"}":y.styles),S&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new aW({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g};function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}var jW=!0;function OW(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var mj=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||jW===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},yj=function(t,n,r){mj(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function VW(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var LW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},NW=/[A-Z]|^ms/g,BW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vj=function(t){return t.charCodeAt(1)===45},AC=function(t){return t!=null&&typeof t!="boolean"},Ev=hj(function(e){return vj(e)?e:e.replace(NW,"-$&").toLowerCase()}),bC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(BW,function(r,i,o){return Jo={name:i,styles:o,next:Jo},i})}return LW[t]!==1&&!vj(t)&&typeof n=="number"&&n!==0?n+"px":n};function Ff(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Jo={name:n.name,styles:n.styles,next:Jo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Jo={name:r.name,styles:r.styles,next:Jo},r=r.next;var i=n.styles+";";return i}return DW(e,t,n)}case"function":{if(e!==void 0){var o=Jo,s=n(e);return Jo=o,Ff(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function DW(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ff(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":AC(s)&&(r+=Ev(o)+":"+bC(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)AC(s[a])&&(r+=Ev(o)+":"+bC(o,s[a])+";");else{var l=Ff(e,t,s);switch(o){case"animation":case"animationName":{r+=Ev(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var SC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jo,ax=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Jo=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=Ff(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=Ff(r,n,t[a]),i&&(o+=s[a]);SC.lastIndex=0;for(var l="",c;(c=SC.exec(o))!==null;)l+="-"+c[1];var u=VW(o)+l;return{name:u,styles:o,next:Jo}},FW=function(t){return t()},Aj=Gg.useInsertionEffect?Gg.useInsertionEffect:!1,$W=Aj||FW,_C=Aj||v.useLayoutEffect,bj=v.createContext(typeof HTMLElement<"u"?gj({key:"css"}):null),zW=bj.Provider,Sj=function(t){return v.forwardRef(function(n,r){var i=v.useContext(bj);return t(n,i,r)})},ty=v.createContext({}),UW=Sj(function(e,t){var n=e.styles,r=ax([n],void 0,v.useContext(ty)),i=v.useRef();return _C(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),_C(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&yj(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function uo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ax(t)}var tc=function(){var t=uo.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function lx(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function HW(){this.__data__=new qs,this.size=0}function GW(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function qW(e){return this.__data__.get(e)}function WW(e){return this.__data__.has(e)}var KW=200;function YW(e,t){var n=this.__data__;if(n instanceof qs){var r=n.__data__;if(!Vf||r.length<KW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ws(r)}return n.set(e,t),this.size=n.size,this}function ss(e){var t=this.__data__=new qs(e);this.size=t.size}ss.prototype.clear=HW;ss.prototype.delete=GW;ss.prototype.get=qW;ss.prototype.has=WW;ss.prototype.set=YW;function QW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var _m=function(){try{var e=ec(Object,"defineProperty");return e({},"",{}),e}catch{}}();function _j(e,t,n){t=="__proto__"&&_m?_m(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var JW=Object.prototype,XW=JW.hasOwnProperty;function xj(e,t,n){var r=e[t];(!(XW.call(e,t)&&$0(r,n))||n===void 0&&!(t in e))&&_j(e,t,n)}function Th(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?_j(n,a,l):xj(n,a,l)}return n}function ZW(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var eK="[object Arguments]";function xC(e){return Ns(e)&&Xl(e)==eK}var wj=Object.prototype,tK=wj.hasOwnProperty,nK=wj.propertyIsEnumerable,cx=xC(function(){return arguments}())?xC:function(e){return Ns(e)&&tK.call(e,"callee")&&!nK.call(e,"callee")},io=Array.isArray;function rK(){return!1}var Ej=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wC=Ej&&typeof module=="object"&&module&&!module.nodeType&&module,iK=wC&&wC.exports===Ej,EC=iK?zo.Buffer:void 0,oK=EC?EC.isBuffer:void 0,xm=oK||rK,sK="[object Arguments]",aK="[object Array]",lK="[object Boolean]",cK="[object Date]",uK="[object Error]",dK="[object Function]",fK="[object Map]",hK="[object Number]",pK="[object Object]",gK="[object RegExp]",mK="[object Set]",yK="[object String]",vK="[object WeakMap]",AK="[object ArrayBuffer]",bK="[object DataView]",SK="[object Float32Array]",_K="[object Float64Array]",xK="[object Int8Array]",wK="[object Int16Array]",EK="[object Int32Array]",kK="[object Uint8Array]",CK="[object Uint8ClampedArray]",TK="[object Uint16Array]",IK="[object Uint32Array]",Yt={};Yt[SK]=Yt[_K]=Yt[xK]=Yt[wK]=Yt[EK]=Yt[kK]=Yt[CK]=Yt[TK]=Yt[IK]=!0;Yt[sK]=Yt[aK]=Yt[AK]=Yt[lK]=Yt[bK]=Yt[cK]=Yt[uK]=Yt[dK]=Yt[fK]=Yt[hK]=Yt[pK]=Yt[gK]=Yt[mK]=Yt[yK]=Yt[vK]=!1;function RK(e){return Ns(e)&&J_(e.length)&&!!Yt[Xl(e)]}function ux(e){return function(t){return e(t)}}var kj=typeof exports=="object"&&exports&&!exports.nodeType&&exports,uf=kj&&typeof module=="object"&&module&&!module.nodeType&&module,PK=uf&&uf.exports===kj,kv=PK&&b3.process,_u=function(){try{var e=uf&&uf.require&&uf.require("util").types;return e||kv&&kv.binding&&kv.binding("util")}catch{}}(),kC=_u&&_u.isTypedArray,Cj=kC?ux(kC):RK,MK=Object.prototype,jK=MK.hasOwnProperty;function Tj(e,t){var n=io(e),r=!n&&cx(e),i=!n&&!r&&xm(e),o=!n&&!r&&!i&&Cj(e),s=n||r||i||o,a=s?ZW(e.length,String):[],l=a.length;for(var c in e)(t||jK.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Z_(c,l)))&&a.push(c);return a}var OK=Object.prototype;function dx(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||OK;return e===n}function Ij(e,t){return function(n){return e(t(n))}}var VK=Ij(Object.keys,Object),LK=Object.prototype,NK=LK.hasOwnProperty;function BK(e){if(!dx(e))return VK(e);var t=[];for(var n in Object(e))NK.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ih(e){return X_(e)?Tj(e):BK(e)}function DK(e,t){return e&&Th(t,Ih(t),e)}function FK(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var $K=Object.prototype,zK=$K.hasOwnProperty;function UK(e){if(!No(e))return FK(e);var t=dx(e),n=[];for(var r in e)r=="constructor"&&(t||!zK.call(e,r))||n.push(r);return n}function fx(e){return X_(e)?Tj(e,!0):UK(e)}function HK(e,t){return e&&Th(t,fx(t),e)}var Rj=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CC=Rj&&typeof module=="object"&&module&&!module.nodeType&&module,GK=CC&&CC.exports===Rj,TC=GK?zo.Buffer:void 0,IC=TC?TC.allocUnsafe:void 0;function qK(e,t){if(t)return e.slice();var n=e.length,r=IC?IC(n):new e.constructor(n);return e.copy(r),r}function Pj(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function WK(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Mj(){return[]}var KK=Object.prototype,YK=KK.propertyIsEnumerable,RC=Object.getOwnPropertySymbols,hx=RC?function(e){return e==null?[]:(e=Object(e),WK(RC(e),function(t){return YK.call(e,t)}))}:Mj;function QK(e,t){return Th(e,hx(e),t)}function px(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var JK=Ij(Object.getPrototypeOf,Object);const gx=JK;var XK=Object.getOwnPropertySymbols,jj=XK?function(e){for(var t=[];e;)px(t,hx(e)),e=gx(e);return t}:Mj;function ZK(e,t){return Th(e,jj(e),t)}function Oj(e,t,n){var r=t(e);return io(e)?r:px(r,n(e))}function lb(e){return Oj(e,Ih,hx)}function Vj(e){return Oj(e,fx,jj)}var cb=ec(zo,"DataView"),ub=ec(zo,"Promise"),tu=ec(zo,"Set"),db=ec(zo,"WeakMap"),PC="[object Map]",eY="[object Object]",MC="[object Promise]",jC="[object Set]",OC="[object WeakMap]",VC="[object DataView]",tY=Zl(cb),nY=Zl(Vf),rY=Zl(ub),iY=Zl(tu),oY=Zl(db),ol=Xl;(cb&&ol(new cb(new ArrayBuffer(1)))!=VC||Vf&&ol(new Vf)!=PC||ub&&ol(ub.resolve())!=MC||tu&&ol(new tu)!=jC||db&&ol(new db)!=OC)&&(ol=function(e){var t=Xl(e),n=t==eY?e.constructor:void 0,r=n?Zl(n):"";if(r)switch(r){case tY:return VC;case nY:return PC;case rY:return MC;case iY:return jC;case oY:return OC}return t});const $f=ol;var sY=Object.prototype,aY=sY.hasOwnProperty;function lY(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&aY.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var wm=zo.Uint8Array;function mx(e){var t=new e.constructor(e.byteLength);return new wm(t).set(new wm(e)),t}function cY(e,t){var n=t?mx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var uY=/\w*$/;function dY(e){var t=new e.constructor(e.source,uY.exec(e));return t.lastIndex=e.lastIndex,t}var LC=to?to.prototype:void 0,NC=LC?LC.valueOf:void 0;function fY(e){return NC?Object(NC.call(e)):{}}function hY(e,t){var n=t?mx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var pY="[object Boolean]",gY="[object Date]",mY="[object Map]",yY="[object Number]",vY="[object RegExp]",AY="[object Set]",bY="[object String]",SY="[object Symbol]",_Y="[object ArrayBuffer]",xY="[object DataView]",wY="[object Float32Array]",EY="[object Float64Array]",kY="[object Int8Array]",CY="[object Int16Array]",TY="[object Int32Array]",IY="[object Uint8Array]",RY="[object Uint8ClampedArray]",PY="[object Uint16Array]",MY="[object Uint32Array]";function jY(e,t,n){var r=e.constructor;switch(t){case _Y:return mx(e);case pY:case gY:return new r(+e);case xY:return cY(e,n);case wY:case EY:case kY:case CY:case TY:case IY:case RY:case PY:case MY:return hY(e,n);case mY:return new r;case yY:case bY:return new r(e);case vY:return dY(e);case AY:return new r;case SY:return fY(e)}}var BC=Object.create,OY=function(){function e(){}return function(t){if(!No(t))return{};if(BC)return BC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function VY(e){return typeof e.constructor=="function"&&!dx(e)?OY(gx(e)):{}}var LY="[object Map]";function NY(e){return Ns(e)&&$f(e)==LY}var DC=_u&&_u.isMap,BY=DC?ux(DC):NY,DY="[object Set]";function FY(e){return Ns(e)&&$f(e)==DY}var FC=_u&&_u.isSet,$Y=FC?ux(FC):FY,zY=1,UY=2,HY=4,Lj="[object Arguments]",GY="[object Array]",qY="[object Boolean]",WY="[object Date]",KY="[object Error]",Nj="[object Function]",YY="[object GeneratorFunction]",QY="[object Map]",JY="[object Number]",Bj="[object Object]",XY="[object RegExp]",ZY="[object Set]",eQ="[object String]",tQ="[object Symbol]",nQ="[object WeakMap]",rQ="[object ArrayBuffer]",iQ="[object DataView]",oQ="[object Float32Array]",sQ="[object Float64Array]",aQ="[object Int8Array]",lQ="[object Int16Array]",cQ="[object Int32Array]",uQ="[object Uint8Array]",dQ="[object Uint8ClampedArray]",fQ="[object Uint16Array]",hQ="[object Uint32Array]",Ht={};Ht[Lj]=Ht[GY]=Ht[rQ]=Ht[iQ]=Ht[qY]=Ht[WY]=Ht[oQ]=Ht[sQ]=Ht[aQ]=Ht[lQ]=Ht[cQ]=Ht[QY]=Ht[JY]=Ht[Bj]=Ht[XY]=Ht[ZY]=Ht[eQ]=Ht[tQ]=Ht[uQ]=Ht[dQ]=Ht[fQ]=Ht[hQ]=!0;Ht[KY]=Ht[Nj]=Ht[nQ]=!1;function Cg(e,t,n,r,i,o){var s,a=t&zY,l=t&UY,c=t&HY;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!No(e))return e;var u=io(e);if(u){if(s=lY(e),!a)return Pj(e,s)}else{var d=$f(e),h=d==Nj||d==YY;if(xm(e))return qK(e,a);if(d==Bj||d==Lj||h&&!i){if(s=l||h?{}:VY(e),!a)return l?ZK(e,HK(s,e)):QK(e,DK(s,e))}else{if(!Ht[d])return i?e:{};s=jY(e,d,a)}}o||(o=new ss);var p=o.get(e);if(p)return p;o.set(e,s),$Y(e)?e.forEach(function(b){s.add(Cg(b,t,n,b,e,o))}):BY(e)&&e.forEach(function(b,y){s.set(y,Cg(b,t,n,y,e,o))});var g=c?l?Vj:lb:l?fx:Ih,m=u?void 0:g(e);return QW(m||e,function(b,y){m&&(y=b,b=e[y]),xj(s,y,Cg(b,t,n,y,e,o))}),s}var pQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gQ=/^\w*$/;function yx(e,t){if(io(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||F0(e)?!0:gQ.test(e)||!pQ.test(e)||t!=null&&e in Object(t)}var mQ=500;function yQ(e){var t=H0(e,function(r){return n.size===mQ&&n.clear(),r}),n=t.cache;return t}var vQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AQ=/\\(\\)?/g,bQ=yQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vQ,function(n,r,i,o){t.push(i?o.replace(AQ,"$1"):r||n)}),t}),SQ=1/0,$C=to?to.prototype:void 0,zC=$C?$C.toString:void 0;function Dj(e){if(typeof e=="string")return e;if(io(e))return lx(e,Dj)+"";if(F0(e))return zC?zC.call(e):"";var t=e+"";return t=="0"&&1/e==-SQ?"-0":t}function vx(e){return e==null?"":Dj(e)}function ny(e,t){return io(e)?e:yx(e,t)?[e]:bQ(vx(e))}function _Q(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xQ=1/0;function Rh(e){if(typeof e=="string"||F0(e))return e;var t=e+"";return t=="0"&&1/e==-xQ?"-0":t}function Ax(e,t){t=ny(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Rh(t[n++])];return n&&n==r?e:void 0}function bx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function wQ(e,t){return t.length<2?e:Ax(e,bx(t,0,-1))}function EQ(e,t){return t=ny(t,e),e=wQ(e,t),e==null||delete e[Rh(_Q(t))]}var kQ="[object Object]",CQ=Function.prototype,TQ=Object.prototype,Fj=CQ.toString,IQ=TQ.hasOwnProperty,RQ=Fj.call(Object);function PQ(e){if(!Ns(e)||Xl(e)!=kQ)return!1;var t=gx(e);if(t===null)return!0;var n=IQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Fj.call(n)==RQ}function MQ(e){return PQ(e)?void 0:e}var UC=to?to.isConcatSpreadable:void 0;function jQ(e){return io(e)||cx(e)||!!(UC&&e&&e[UC])}function $j(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=jQ),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?$j(a,t-1,n,r,i):px(i,a):r||(i[i.length]=a)}return i}function OQ(e){var t=e==null?0:e.length;return t?$j(e,1):[]}function VQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var HC=Math.max;function LQ(e,t,n){return t=HC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=HC(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),VQ(e,this,a)}}function NQ(e){return function(){return e}}function zj(e){return e}var BQ=_m?function(e,t){return _m(e,"toString",{configurable:!0,enumerable:!1,value:NQ(t),writable:!0})}:zj;const DQ=BQ;var FQ=800,$Q=16,zQ=Date.now;function UQ(e){var t=0,n=0;return function(){var r=zQ(),i=$Q-(r-n);if(n=r,i>0){if(++t>=FQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var HQ=UQ(DQ);function GQ(e){return HQ(LQ(e,void 0,OQ),e+"")}var qQ=1,WQ=2,KQ=4,YQ=GQ(function(e,t){var n={};if(e==null)return n;var r=!1;t=lx(t,function(o){return o=ny(o,e),r||(r=o.length>1),o}),Th(e,Vj(e),n),r&&(n=Cg(n,qQ|WQ|KQ,MQ));for(var i=t.length;i--;)EQ(n,t[i]);return n});function Bo(e,t=!1){const[n,r]=v.useState(null);return v.useEffect(()=>{const i=(...o)=>{r(o)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function kr(e,t,n=[]){const r=Array.isArray(e)?e:[e];v.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function wi(e,t,n=[]){const r=v.useMemo(t,[]),[i,o]=v.useState(r),s=Array.isArray(e)?e:[e];return v.useEffect(()=>{o(t())},n),v.useEffect(()=>{const a=()=>o(t());return s.forEach(l=>l.subscribe(a)),()=>s.forEach(l=>l.unsubscribe(a))},[...s]),i}var QQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JQ=hj(function(e){return QQ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),XQ=JQ,ZQ=function(t){return t!=="theme"},GC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?XQ:ZQ},qC=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},eJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return mj(n,r,i),$W(function(){return yj(n,r,i)}),null},R=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=qC(t,n,r),l=a||GC(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=Sj(function(m,b,y){var A=c&&m.as||i,S="",_=[],x=m;if(m.theme==null){x={};for(var w in m)x[w]=m[w];x.theme=v.useContext(ty)}typeof m.className=="string"?S=OW(b.registered,_,m.className):m.className!=null&&(S=m.className+" ");var k=ax(d.concat(_),b.registered,x);S+=b.key+"-"+k.name,s!==void 0&&(S+=" "+s);var C=c&&a===void 0?GC(A):l,E={};for(var P in m)c&&P==="as"||C(P)&&(E[P]=m[P]);return E.className=S,E.ref=y,v.createElement(v.Fragment,null,v.createElement(eJ,{cache:b,serialized:k,isStringTag:typeof A=="string"}),v.createElement(A,E))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(m,b){return e(m,ab({},n,b,{shouldForwardProp:qC(g,b,!0)})).apply(void 0,d)},g}};const xu={animation:"focusAnimation 1000ms ease-in-out infinite both"},tJ={boxShadow:`inset 0px 0px 0px 4px ${pe.colors.text.active}`},qe={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:pe.colors.text.active}},zf="@media (hover: none)",ry="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";function nJ(){var e=v.useRef(!0);return e.current?(e.current=!1,!0):e.current}var Em=function(){return Em=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Em.apply(this,arguments)};function rJ(){var e=v.useRef(!1),t=v.useCallback(function(){return e.current},[]);return v.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function iJ(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=v.useRef(0),i=rJ(),o=v.useState(n),s=o[0],a=o[1],l=v.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return s.loading||a(function(h){return Em(Em({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[s,l]}function WC(e,t){t===void 0&&(t=[]);var n=iJ(e,t,{loading:!0}),r=n[0],i=n[1];return v.useEffect(function(){i()},[i]),r}function oJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function sJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var aJ=typeof window<"u",lJ=function(e){return(e+1)%1e6};function Uj(){var e=v.useReducer(lJ,0),t=e[1];return t}var cJ=function(e){v.useEffect(e,[])},uJ=aJ?window:null,KC=function(e){return!!e.addEventListener},YC=function(e){return!!e.on},dJ=function(e,t,n,r){n===void 0&&(n=uJ),v.useEffect(function(){if(t&&n)return KC(n)?oJ(n,e,t,r):YC(n)&&n.on(e,t,r),function(){KC(n)?sJ(n,e,t,r):YC(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},Hj=function(e,t){var n=v.useRef(function(){});v.useEffect(function(){n.current=e}),v.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},fJ=function(e){var t=v.useRef(e);t.current=e,cJ(function(){return function(){return t.current()}})};function hJ(e){var t=v.useRef();return v.useEffect(function(){t.current=e}),t.current}var pJ=function(e,t){return e===t};function gJ(e,t){t===void 0&&(t=pJ);var n=v.useRef(),r=v.useRef(e),i=nJ();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function mJ(){const[e,t]=v.useState(null),[n,r]=v.useState(El.isStarted()),[i,o]=v.useState(El.getLatency());Hj(()=>{o(El.getLatency())},1e3),kr(te.micServerStarted,()=>{r(!0)}),kr(te.micServerStopped,()=>{r(!1)});const s=wi([te.remoteMicConnected,te.remoteMicDisconnected],()=>nt.getRemoteMics(),[n]);return v.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(yJ,{children:[f.jsxs(QC,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(QC,{children:[f.jsx("strong",{children:"connected mics"}),": ",s.length]})})]}):null}const yJ=R("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",qe,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),QC=R("div",{target:"eeky7rp0"})("");var Cv=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Tv(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function Gj(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function qj(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function vJ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,o=0;o<n.length;o++)r.indexOf(n[o])===-1&&(i=!1);return i}var Sx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":Cv?173:189,"=":Cv?61:187,";":Cv?59:186,"'":222,"[":219,"]":221,"\\":220},Ma={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},fb={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},cr={16:!1,18:!1,17:!1,91:!1},Ln={};for(var Ep=1;Ep<20;Ep++)Sx["f".concat(Ep)]=111+Ep;var tn=[],JC=!1,Wj="all",Kj=[],iy=function(t){return Sx[t.toLowerCase()]||Ma[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function Yj(e){Wj=e||"all"}function Uf(){return Wj||"all"}function AJ(){return tn.slice(0)}function bJ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function SJ(e){return typeof e=="string"&&(e=iy(e)),tn.indexOf(e)!==-1}function _J(e,t){var n,r;e||(e=Uf());for(var i in Ln)if(Object.prototype.hasOwnProperty.call(Ln,i))for(n=Ln[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Uf()===e&&Yj(t||"all")}function xJ(e){var t=e.keyCode||e.which||e.charCode,n=tn.indexOf(t);if(n>=0&&tn.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&tn.splice(0,tn.length),(t===93||t===224)&&(t=91),t in cr){cr[t]=!1;for(var r in Ma)Ma[r]===t&&(yi[r]=!1)}}function wJ(e){if(typeof e>"u")Object.keys(Ln).forEach(function(s){return delete Ln[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&Iv(s)});else if(typeof e=="object")e.key&&Iv(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];typeof i=="function"&&(o=i,i=""),Iv({key:e,scope:i,method:o,splitKey:"+"})}}var Iv=function(t){var n=t.key,r=t.scope,i=t.method,o=t.splitKey,s=o===void 0?"+":o,a=qj(n);a.forEach(function(l){var c=l.split(s),u=c.length,d=c[u-1],h=d==="*"?"*":iy(d);if(Ln[h]){r||(r=Uf());var p=u>1?Gj(Ma,c):[];Ln[h]=Ln[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&vJ(g.mods,p))})}})};function XC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var o in cr)Object.prototype.hasOwnProperty.call(cr,o)&&(!cr[o]&&t.mods.indexOf(+o)>-1||cr[o]&&t.mods.indexOf(+o)===-1)&&(i=!1);(t.mods.length===0&&!cr[16]&&!cr[18]&&!cr[17]&&!cr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function ZC(e,t){var n=Ln["*"],r=e.keyCode||e.which||e.charCode;if(yi.filter.call(this,e)){if((r===93||r===224)&&(r=91),tn.indexOf(r)===-1&&r!==229&&tn.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=fb[g];e[g]&&tn.indexOf(m)===-1?tn.push(m):!e[g]&&tn.indexOf(m)>-1?tn.splice(tn.indexOf(m),1):g==="metaKey"&&e[g]&&tn.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(tn=tn.slice(tn.indexOf(m))))}),r in cr){cr[r]=!0;for(var i in Ma)Ma[i]===r&&(yi[i]=!0);if(!n)return}for(var o in cr)Object.prototype.hasOwnProperty.call(cr,o)&&(cr[o]=e[fb[o]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(tn.indexOf(17)===-1&&tn.push(17),tn.indexOf(18)===-1&&tn.push(18),cr[17]=!0,cr[18]=!0);var s=Uf();if(n)for(var a=0;a<n.length;a++)n[a].scope===s&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&XC(e,n[a],s,t);if(r in Ln){for(var l=0;l<Ln[r].length;l++)if((e.type==="keydown"&&Ln[r][l].keydown||e.type==="keyup"&&Ln[r][l].keyup)&&Ln[r][l].key){for(var c=Ln[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(iy(d[p]));h.sort().join("")===tn.sort().join("")&&XC(e,c,s,t)}}}}function EJ(e){return Kj.indexOf(e)>-1}function yi(e,t,n){tn=[];var r=qj(e),i=[],o="all",s=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(o=t.scope),t.element&&(s=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(o=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=Gj(Ma,e)),e=e[e.length-1],e=e==="*"?"*":iy(e),e in Ln||(Ln[e]=[]),Ln[e].push({keyup:l,keydown:c,scope:o,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:s});typeof s<"u"&&!EJ(s)&&window&&(Kj.push(s),Tv(s,"keydown",function(h){ZC(h,s)},d),JC||(JC=!0,Tv(window,"focus",function(){tn=[]},d)),Tv(s,"keyup",function(h){ZC(h,s),xJ(h)},d))}function kJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Ln).forEach(function(n){var r=Ln[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var Rv={setScope:Yj,getScope:Uf,deleteScope:_J,getPressedKeyCodes:AJ,isPressed:SJ,filter:bJ,trigger:kJ,unbind:wJ,keyMap:Sx,modifier:Ma,modifierMap:fb};for(var Pv in Rv)Object.prototype.hasOwnProperty.call(Rv,Pv)&&(yi[Pv]=Rv[Pv]);if(typeof window<"u"){var CJ=window.hotkeys;yi.noConflict=function(e){return e&&window.hotkeys===yi&&(window.hotkeys=CJ),yi},window.hotkeys=yi}yi.filter=function(){return!0};var Qj=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},TJ=function(t){return Qj(t,["INPUT","TEXTAREA","SELECT"])};function Or(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},o=i.enableOnTags,s=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=v.useRef(null),b=v.useCallback(function(y,A){var S,_;return s&&!s(y)?!u:TJ(y)&&!Qj(y,o)||(S=y.target)!=null&&S.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(_=m.current)!=null&&_.contains(document.activeElement)?(t(y,A),!0):!1},r?[m,o,s].concat(r):[m,o,s]);return v.useEffect(function(){if(!h){yi.unbind(e,b);return}return a&&l!==!0&&(n.keydown=!1),yi(e,n||{},b),function(){return yi.unbind(e,b)}},[b,e,h]),m}yi.isPressed;const hb="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var IP,ag,RP;try{(RP=(ag=(IP=global==null?void 0:global.navigator)==null?void 0:IP.keyboard)==null?void 0:ag.lock)==null||RP.call(ag,["Escape"])}catch(e){console.warn(e)}var PP,MP;const IJ=!!((MP=(PP=global==null?void 0:global.navigator)==null?void 0:PP.keyboard)!=null&&MP.lock),tl=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function nc(e,t=!0,n){kr(te.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Or("up",tl(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Or("down",tl(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Or("left",tl(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Or("right",tl(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Or("Enter",tl(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Or("Escape,Backspace",tl(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Or("Shift+R",tl(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function RJ({help:e}){const[t]=Je(yr),[n,r]=Je(t5);Or("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,o])=>o!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(BJ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(Xj,{children:"Use indicated keys on your keyboard"}),i.map(([o,s])=>{const{view:a,defaultLabel:l}=NJ[o];return f.jsxs(eT,{children:[f.jsx(nT,{children:s??l}),f.jsx(tT,{children:f.jsx(a,{})})]},o)}),f.jsxs(eT,{children:[f.jsx(nT,{children:"Show/hide this help"}),f.jsx(tT,{children:Jj("h")()})]})]})})})}const _x=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(is,{disabled:!e,children:""}),f.jsx("br",{}),f.jsx(is,{disabled:!t,children:""}),f.jsx(is,{disabled:!e,children:""}),f.jsx(is,{disabled:!t,children:""})]}),PJ=()=>f.jsx(_x,{horizontal:!0}),MJ=()=>f.jsx(_x,{vertical:!0}),jJ=()=>f.jsx(_x,{vertical:!0,horizontal:!0}),OJ=()=>f.jsx(is,{children:"Enter "}),VJ=()=>IJ?f.jsx(is,{children:"Escape"}):f.jsx(is,{children:"Backspace "}),Jj=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(is,{children:"Shift"})," + ",f.jsx(is,{children:e.toUpperCase()})]}),LJ=()=>f.jsx(f.Fragment,{children:f.jsx(is,{children:"start typing"})}),NJ={"horizontal-vertical":{view:jJ,defaultLabel:"Navigate"},horizontal:{view:PJ,defaultLabel:"Navigate"},vertical:{view:MJ,defaultLabel:"Navigate"},accept:{view:OJ,defaultLabel:"Select"},back:{view:VJ,defaultLabel:"Go back"},shiftR:{view:Jj("r"),defaultLabel:"Pick random"},alphanumeric:{view:LJ,defaultLabel:"Search"}},eT=R("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),tT=R("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),nT=R("span",{target:"efq3fs03"})("flex:3;",qe,";font-size:2rem;text-align:right;"),Xj=R("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",qe,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),BJ=R("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",Xj,"{opacity:1;visibility:visible;}}svg{fill:white;}"),is=R("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),xx=v.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),DJ=({children:e})=>{const[t,n]=v.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>YQ(d,[u])),[o,s]=Object.entries(t).at(-1)??[];kr(te.remoteMicConnected,({id:u})=>{var d;(d=nt.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:s})}),v.useEffect(()=>{nt.broadcast({t:"keyboard-layout",help:s})},[o]);const{remote:a,...l}=s??{},c=!!Object.values(l).length;return f.jsxs(xx.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(RJ,{help:l}),f.jsx(mJ,{})]})};var FJ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:$J,mp4:zJ}=FJ,Mv=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,jv=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class UJ{constructor(){if(this.enabled=!1,jv()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else Mv()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",$J),this._addSourceToVideo(this.noSleepVideo,"mp4",zJ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return jv()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):Mv()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){jv()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):Mv()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var HJ=UJ;const GJ=mr(HJ),qJ="/prs/338/assets/eurovisionbg-CvR5q-FP.svg",wx=v.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),za=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=v.useContext(wx);v.useEffect(()=>{n(e)},[e,n]),v.useEffect(()=>{r(t)},[t,r])};function WJ({children:e}){const[t,n]=v.useState(!0),[r,i]=v.useState("regular"),[o]=Je(qi);return f.jsxs(wx.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(tX,{"data-theme":r,"data-graphic-level":o,bgtheme:r,children:r==="eurovision"&&f.jsx(pb,{})}),e]})}const KJ={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},YJ=R("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",qJ,");background-size:100% 50%;height:100%;&[data-animate='true']{",KJ,";}"),pb=()=>{var e;return f.jsx(YJ,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},QJ=uo(`background-image:linear-gradient(
    -45deg,
    `,Ve.christmasGreen.text,`,
    `,Ve.christmasGreen.stroke,`,
    `,Ve.christmasRed.stroke,`,
    `,Ve.christmasRed.stroke,`
  );background-size:400% 400%;`,""),JJ={name:"zjik7",styles:"display:flex"},XJ=uo(`background-image:linear-gradient(
    -45deg,
    `,Ve.red.stroke,`,
    `,Ve.blue.text,`,
    `,Ve.blue.stroke,`,
    `,Ve.red.stroke,`
  );background-size:400% 400%;`,""),ZJ=R("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),eX={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},tX=R(ZJ,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",JJ,";}&[data-theme='christmas']{",QJ,";}&[data-theme='regular']{",XJ,";}background-position:100% 50%;&[data-graphic-level='high']{",eX,";}");function nX({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function oy(e){return v.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const rX=R("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Ve.blue.text,";--player-blue-stroke:",Ve.blue.stroke,";--player-blue-star-fill:",Ve.blue.star.fill,";--player-blue-star-stroke:",Ve.blue.star.stroke,";--player-blue-perfect-fill:",Ve.blue.perfect.fill,";--player-blue-perfect-stroke:",Ve.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Ve.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Ve.blue.starPerfect.stroke,";--player-blue-hit-fill:",Ve.blue.hit.fill,";--player-blue-hit-stroke:",Ve.blue.hit.stroke,";--player-blue-miss-fill:",Ve.blue.miss.fill,";--player-blue-miss-stroke:",Ve.blue.miss.stroke,";}h1{",qe,";margin:0;text-align:center;font-size:4rem;color:",pe.colors.text.active,";}h2{",qe,";margin:0;font-size:2.9rem;}h3{",qe,";margin:0;font-size:2.7rem;strong{color:",pe.colors.text.active,";}}h4{",qe,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",qe,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",qe,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",qe,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",pe.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",qe,";color:",pe.colors.text.active,";text-decoration:underline;}strong{color:",pe.colors.text.active,";}");function ts(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Zj(e){if(!ts(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Zj(e[n])}),t}function ni(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return ts(e)&&ts(t)&&Object.keys(t).forEach(i=>{ts(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&ts(e[i])?r[i]=ni(e[i],t[i],n):n.clone?r[i]=ts(t[i])?Zj(t[i]):t[i]:r[i]=t[i]}),r}var eO={exports:{}},iX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oX=iX,sX=oX;function tO(){}function nO(){}nO.resetWarningCache=tO;var aX=function(){function e(r,i,o,s,a,l){if(l!==sX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nO,resetWarningCache:tO};return n.PropTypes=n,n};eO.exports=aX();var lX=eO.exports;const et=mr(lX);function Fl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function st(e){if(typeof e!="string")throw new Error(Fl(7));return e.charAt(0).toUpperCase()+e.slice(1)}function rT(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function ba(e){return e&&e.ownerDocument||document}function Ex(e){return ba(e).defaultView||window}function gb(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const mb=typeof window<"u"?v.useLayoutEffect:v.useEffect;let iT=0;function cX(e){const[t,n]=v.useState(e),r=e||t;return v.useEffect(()=>{t==null&&(iT+=1,n(`mui-${iT}`))},[t]),r}const uX={...Gg},oT=uX.useId;function dX(e){if(oT!==void 0){const t=oT();return e??t}return cX(e)}function Pc(e){const t=v.useRef(e);return mb(()=>{t.current=e}),v.useRef((...n)=>(0,t.current)(...n)).current}function ja(...e){return v.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{gb(n,t)})},e)}const sT={};function rO(e,t){const n=v.useRef(sT);return n.current===sT&&(n.current=e(t)),n}const fX=[];function hX(e){v.useEffect(e,fX)}class kx{constructor(){ad(this,"currentId",null);ad(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ad(this,"disposeEffect",()=>this.clear)}static create(){return new kx}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function pX(){const e=rO(kx.create).current;return hX(e.disposeEffect),e}function aT(e){try{return e.matches(":focus-visible")}catch{}return!1}function gX(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function km(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],s=t[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=km(o[l],s[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Hr(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const c=o[l];c&&(s+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(s+=" "+n[c]))}r[i]=s}return r}const lT=e=>e,mX=()=>{let e=lT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=lT}}},yX=mX(),vX=yX,AX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Tr(e,t,n="Mui"){const r=AX[t];return r?`${n}-${r}`:`${vX.generate(e)}-${t}`}function Ir(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Tr(e,i,n)}),r}function bX(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function SX(e){return typeof e=="string"}function _X(e,t,n){return e===void 0||SX(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function iO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iO(e))&&(r&&(r+=" "),r+=t);return r}function oO(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function cT(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function xX(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const p=At(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...n,...i,...r};return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const s=oO({...i,...r}),a=cT(r),l=cT(i),c=t(s),u=At(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function wX(e,t,n){return typeof e=="function"?e(t,n):e}function Cx(e){return!e||!v.isValidElement(e)?null:e.props.propertyIsEnumerable("ref")?e.props.ref:e.ref}function df(e,t){return t?ni(e,t,{clone:!1}):e}function EX(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function kX(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function CX(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function TX(e){const t=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>t(e.breakpoints.up(...a),s),o.down=(...a)=>t(e.breakpoints.down(...a),s),o.between=(...a)=>t(e.breakpoints.between(...a),s),o.only=(...a)=>t(e.breakpoints.only(...a),s),o.not=(...a)=>{const l=t(e.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const sy={xs:0,sm:600,md:900,lg:1200,xl:1536},uT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${sy[e]}px)`},IX={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:sy[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Fs(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||uT;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||uT;return Object.keys(t).reduce((s,a)=>{if(kX(o.keys,a)){const l=CX(r.containerQueries?r:IX,a);l&&(s[l]=n(t[a],a))}else if(Object.keys(o.values||sy).includes(a)){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function sO(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function aO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function BAe(e,...t){const n=sO(e),r=[n,...t].reduce((i,o)=>ni(i,o),{});return aO(Object.keys(n),r)}function RX(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function DAe({values:e,breakpoints:t,base:n}){const r=n||RX(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,l)=>(Array.isArray(e)?(s[a]=e[l]!=null?e[l]:e[o],o=l):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function ay(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Cm(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=ay(e,n)||r,t&&(i=t(i,r,e)),i}function Mn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=ay(l,r)||{};return Fs(s,a,d=>{let h=Cm(c,i,d);return d===h&&typeof d=="string"&&(h=Cm(c,i,`${t}${d==="default"?"":st(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[t],o}function PX(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const MX={m:"margin",p:"padding"},jX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},OX=PX(e=>{if(e.length>2)if(dT[e])e=dT[e];else return[e];const[t,n]=e.split(""),r=MX[t],i=jX[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Tx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ix=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Tx,...Ix];function Ph(e,t,n,r){const i=ay(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function Rx(e){return Ph(e,"spacing",8)}function Mh(e,t){return typeof t=="string"||t==null?t:e(t)}function VX(e,t){return n=>e.reduce((r,i)=>(r[i]=Mh(t,n),r),{})}function LX(e,t,n,r){if(!t.includes(n))return null;const i=OX(n),o=VX(i,r),s=e[n];return Fs(e,s,o)}function lO(e,t){const n=Rx(e.theme);return Object.keys(e).map(r=>LX(e,t,r,n)).reduce(df,{})}function yn(e){return lO(e,Tx)}yn.propTypes={};yn.filterProps=Tx;function vn(e){return lO(e,Ix)}vn.propTypes={};vn.filterProps=Ix;function ly(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?df(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function zi(e){return typeof e!="number"?e:`${e}px solid`}function fo(e,t){return Mn({prop:e,themeKey:"borders",transform:t})}const NX=fo("border",zi),BX=fo("borderTop",zi),DX=fo("borderRight",zi),FX=fo("borderBottom",zi),$X=fo("borderLeft",zi),zX=fo("borderColor"),UX=fo("borderTopColor"),HX=fo("borderRightColor"),GX=fo("borderBottomColor"),qX=fo("borderLeftColor"),WX=fo("outline",zi),KX=fo("outlineColor"),cy=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ph(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Mh(t,r)});return Fs(e,e.borderRadius,n)}return null};cy.propTypes={};cy.filterProps=["borderRadius"];ly(NX,BX,DX,FX,$X,zX,UX,HX,GX,qX,cy,WX,KX);const uy=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ph(e.theme,"spacing",8),n=r=>({gap:Mh(t,r)});return Fs(e,e.gap,n)}return null};uy.propTypes={};uy.filterProps=["gap"];const dy=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ph(e.theme,"spacing",8),n=r=>({columnGap:Mh(t,r)});return Fs(e,e.columnGap,n)}return null};dy.propTypes={};dy.filterProps=["columnGap"];const fy=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ph(e.theme,"spacing",8),n=r=>({rowGap:Mh(t,r)});return Fs(e,e.rowGap,n)}return null};fy.propTypes={};fy.filterProps=["rowGap"];const YX=Mn({prop:"gridColumn"}),QX=Mn({prop:"gridRow"}),JX=Mn({prop:"gridAutoFlow"}),XX=Mn({prop:"gridAutoColumns"}),ZX=Mn({prop:"gridAutoRows"}),eZ=Mn({prop:"gridTemplateColumns"}),tZ=Mn({prop:"gridTemplateRows"}),nZ=Mn({prop:"gridTemplateAreas"}),rZ=Mn({prop:"gridArea"});ly(uy,dy,fy,YX,QX,JX,XX,ZX,eZ,tZ,nZ,rZ);function nu(e,t){return t==="grey"?t:e}const iZ=Mn({prop:"color",themeKey:"palette",transform:nu}),oZ=Mn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:nu}),sZ=Mn({prop:"backgroundColor",themeKey:"palette",transform:nu});ly(iZ,oZ,sZ);function gi(e){return e<=1&&e!==0?`${e*100}%`:e}const aZ=Mn({prop:"width",transform:gi}),Px=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,o,s,a,l;const r=((s=(o=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||sy[n];return r?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:gi(n)}};return Fs(e,e.maxWidth,t)}return null};Px.filterProps=["maxWidth"];const lZ=Mn({prop:"minWidth",transform:gi}),cZ=Mn({prop:"height",transform:gi}),uZ=Mn({prop:"maxHeight",transform:gi}),dZ=Mn({prop:"minHeight",transform:gi});Mn({prop:"size",cssProperty:"width",transform:gi});Mn({prop:"size",cssProperty:"height",transform:gi});const fZ=Mn({prop:"boxSizing"});ly(aZ,Px,lZ,cZ,uZ,dZ,fZ);const jh={border:{themeKey:"borders",transform:zi},borderTop:{themeKey:"borders",transform:zi},borderRight:{themeKey:"borders",transform:zi},borderBottom:{themeKey:"borders",transform:zi},borderLeft:{themeKey:"borders",transform:zi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cy},color:{themeKey:"palette",transform:nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:nu},backgroundColor:{themeKey:"palette",transform:nu},p:{style:vn},pt:{style:vn},pr:{style:vn},pb:{style:vn},pl:{style:vn},px:{style:vn},py:{style:vn},padding:{style:vn},paddingTop:{style:vn},paddingRight:{style:vn},paddingBottom:{style:vn},paddingLeft:{style:vn},paddingX:{style:vn},paddingY:{style:vn},paddingInline:{style:vn},paddingInlineStart:{style:vn},paddingInlineEnd:{style:vn},paddingBlock:{style:vn},paddingBlockStart:{style:vn},paddingBlockEnd:{style:vn},m:{style:yn},mt:{style:yn},mr:{style:yn},mb:{style:yn},ml:{style:yn},mx:{style:yn},my:{style:yn},margin:{style:yn},marginTop:{style:yn},marginRight:{style:yn},marginBottom:{style:yn},marginLeft:{style:yn},marginX:{style:yn},marginY:{style:yn},marginInline:{style:yn},marginInlineStart:{style:yn},marginInlineEnd:{style:yn},marginBlock:{style:yn},marginBlockStart:{style:yn},marginBlockEnd:{style:yn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uy},rowGap:{style:fy},columnGap:{style:dy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gi},maxWidth:{style:Px},minWidth:{transform:gi},height:{transform:gi},maxHeight:{transform:gi},minHeight:{transform:gi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function hZ(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function pZ(e,t){return typeof e=="function"?e(t):e}function gZ(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=ay(i,c)||{};return d?d(s):Fs(s,r,g=>{let m=Cm(h,u,g);return g===m&&typeof g=="string"&&(m=Cm(h,u,`${n}${g==="default"?"":st(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??jh;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=sO(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(h=>{const p=pZ(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])d=df(d,e(h,p,i,o));else{const g=Fs({theme:i},p,m=>({[h]:m}));hZ(g,p)?d[h]=t({sx:p,theme:i}):d=df(d,g)}else d=df(d,e(h,p,i,o))}),EX(i,aO(u,d))}return Array.isArray(r)?r.map(s):s(r)}return t}const Qu=gZ();Qu.filterProps=["sx"];const mZ=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??jh;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function yZ(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=mZ(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return ts(a)?{...r,...a}:r}:o={...r,...t},{...i,sx:o}}var vZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],yb=R.bind();vZ.forEach(function(e){yb[e]=yb(e)});function AZ(e){return e==null||Object.keys(e).length===0}function cO(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(AZ(i)?n:i):t;return f.jsx(UW,{styles:r})}/**
 * @mui/styled-engine v6.1.1
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function bZ(e,t){return yb(e,t)}const SZ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},_Z=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function xZ(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=_Z(t),s=Object.keys(o);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=s.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}const wZ={borderRadius:4},EZ=wZ;function uO(e=8,t=Rx({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function kZ(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Mx(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=e,a=xZ(n),l=uO(i);let c=ni({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...EZ,...o}},s);return c=TX(c),c.applyStyles=kZ,c=t.reduce((u,d)=>ni(u,d),c),c.unstable_sxConfig={...jh,...s==null?void 0:s.unstable_sxConfig},c.unstable_sx=function(d){return Qu({sx:d,theme:this})},c}function CZ(e){return Object.keys(e).length===0}function dO(e=null){const t=v.useContext(ty);return!t||CZ(t)?e:t}const TZ=Mx();function fO(e=TZ){return dO(e)}function IZ({styles:e,themeId:t,defaultTheme:n={}}){const r=fO(n),i=typeof e=="function"?e(t&&r[t]||r):e;return f.jsx(cO,{styles:i})}const RZ=Mx();function Ov(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function vb(e,t,n){return jZ(t)?n:t[e]||t}const kp=Symbol("mui.processed_props");function Cp(e,t,n){if(kp in e)return e[kp];const r={...e,theme:vb(t,e.theme,n)};return e[kp]=r,r[kp]=r,r}function PZ(e){return e?(t,n)=>n[e]:null}function Tg(e,t){var r;const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>Tg(i,t));if(Array.isArray(n==null?void 0:n.variants)){const{variants:i,...o}=n;let s=o,a;e:for(let l=0;l<i.length;l+=1){const c=i[l];if(typeof c.props=="function"){if(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),!c.props(a))continue}else for(const u in c.props)if(t[u]!==c.props[u]&&((r=t.ownerState)==null?void 0:r[u])!==c.props[u])continue e;Array.isArray(s)||(s=[s]),typeof c.style=="function"?(a??(a={...t,...t.ownerState,ownerState:t.ownerState}),s.push(c.style(a))):s.push(c.style)}return s}return n}function MZ(e={}){const{themeId:t,defaultTheme:n=RZ,rootShouldForwardProp:r=Ov,slotShouldForwardProp:i=Ov}=e,o=a=>Qu(Cp(a,t,n));return o.__mui_systemSx=!0,(a,l={})=>{SZ(a,w=>w.filter(k=>!(k!=null&&k.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=PZ(VZ(u)),...g}=l,m=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,b=h||!1;let y,A=Ov;u==="Root"||u==="root"?A=r:u?A=i:OZ(a)&&(A=void 0);const S=bZ(a,{shouldForwardProp:A,label:y,...g}),_=w=>typeof w=="function"&&w.__emotion_real!==w||ts(w)?k=>Tg(w,Cp(k,t,n)):w,x=(w,...k)=>{let C=_(w);const E=k?k.map(_):[];c&&p&&E.push(z=>{const j=vb(t,z.theme,n);if(!j.components||!j.components[c]||!j.components[c].styleOverrides)return null;const V=j.components[c].styleOverrides,M={},T=Cp(z,t,n);for(const D in V)M[D]=Tg(V[D],T);return p(z,M)}),c&&!m&&E.push(z=>{var M,T;const j=vb(t,z.theme,n),V=(T=(M=j==null?void 0:j.components)==null?void 0:M[c])==null?void 0:T.variants;return V?Tg({variants:V},Cp(z,t,n)):null}),b||E.push(o);const P=E.length-k.length;if(Array.isArray(w)&&P>0){const z=new Array(P).fill("");C=[...w,...z],C.raw=[...w.raw,...z]}const N=S(C,...E);return a.muiName&&(N.muiName=a.muiName),N};return S.withConfig&&(x.withConfig=S.withConfig),x}}function jZ(e){for(const t in e)return!1;return!0}function OZ(e){return typeof e=="string"&&e.charCodeAt(0)>96}function VZ(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function jx(e,t=0,n=1){return bX(e,t,n)}function LZ(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Oa(e){if(e.type)return e;if(e.charAt(0)==="#")return Oa(LZ(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Fl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Fl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const NZ=e=>{const t=Oa(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Bd=(e,t)=>{try{return NZ(e)}catch{return e}};function hy(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function hO(e){e=Oa(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),hy({type:a,values:l})}function Ab(e){e=Oa(e);let t=e.type==="hsl"||e.type==="hsla"?Oa(hO(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function BZ(e,t){const n=Ab(e),r=Ab(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ko(e,t){return e=Oa(e),t=jx(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,hy(e)}function Tp(e,t,n){try{return ko(e,t)}catch{return e}}function Ox(e,t){if(e=Oa(e),t=jx(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return hy(e)}function Nt(e,t,n){try{return Ox(e,t)}catch{return e}}function Vx(e,t){if(e=Oa(e),t=jx(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return hy(e)}function Bt(e,t,n){try{return Vx(e,t)}catch{return e}}function DZ(e,t=.15){return Ab(e)>.5?Ox(e,t):Vx(e,t)}function Ip(e,t,n){try{return DZ(e,t)}catch{return e}}const FZ=v.createContext(null),pO=FZ;function Lx(){return v.useContext(pO)}const $Z=typeof Symbol=="function"&&Symbol.for,zZ=$Z?Symbol.for("mui.nested"):"__THEME_NESTED__";function UZ(e,t){return typeof t=="function"?t(e):{...e,...t}}function HZ(e){const{children:t,theme:n}=e,r=Lx(),i=v.useMemo(()=>{const o=r===null?{...n}:UZ(r,n);return o!=null&&(o[zZ]=r!==null),o},[n,r]);return f.jsx(pO.Provider,{value:i,children:t})}const gO=v.createContext();function GZ({value:e,...t}){return f.jsx(gO.Provider,{value:e??!0,...t})}const FAe=()=>v.useContext(gO)??!1,mO=v.createContext(void 0);function qZ({value:e,children:t}){return f.jsx(mO.Provider,{value:e,children:t})}function WZ(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?km(i.defaultProps,r):!i.styleOverrides&&!i.variants?km(i,r):r}function KZ({props:e,name:t}){const n=v.useContext(mO);return WZ({props:e,name:t,theme:{components:n}})}const fT={};function hT(e,t,n,r=!1){return v.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?{...t,[e]:o}:o;return r?()=>s:s}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function yO(e){const{children:t,theme:n,themeId:r}=e,i=dO(fT),o=Lx()||fT,s=hT(r,i,n),a=hT(r,o,n,!0),l=s.direction==="rtl";return f.jsx(HZ,{theme:a,children:f.jsx(ty.Provider,{value:s,children:f.jsx(GZ,{value:l,children:f.jsx(qZ,{value:s==null?void 0:s.components,children:t})})})})}const Nx="mode",Bx="color-scheme",YZ="data-color-scheme";function QZ(e){const{defaultLightColorScheme:t="light",defaultDarkColorScheme:n="dark",modeStorageKey:r=Nx,colorSchemeStorageKey:i=Bx,attribute:o=YZ,colorSchemeNode:s="document.documentElement",nonce:a}=e||{};let l="",c=o;if(o==="class"&&(c=".%s"),o==="data"&&(c="[data-%s]"),c.startsWith(".")){const d=c.substring(1);l+=`${s}.classList.remove('${d}'.replace('%s', light), '${d}'.replace('%s', dark));
      ${s}.classList.add('${d}'.replace('%s', colorScheme));`}const u=c.match(/\[([^\]]+)\]/);if(u){const[d,h]=u[1].split("=");h||(l+=`${s}.removeAttribute('${d}'.replace('%s', light));
      ${s}.removeAttribute('${d}'.replace('%s', dark));`),l+=`
      ${s}.setAttribute('${d}'.replace('%s', colorScheme), ${h?`${h}.replace('%s', colorScheme)`:'""'});`}else l+=`${s}.setAttribute('${c}', colorScheme);`;return f.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?a:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || 'system';
  const dark = localStorage.getItem('${i}-dark') || '${n}';
  const light = localStorage.getItem('${i}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${l}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function pT(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function vO(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function JZ(e){return vO(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function Vv(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function XZ(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:o=Nx,colorSchemeStorageKey:s=Bx,storageWindow:a=typeof window>"u"?void 0:window}=e,l=i.join(","),c=i.length>1,[u,d]=v.useState(()=>{const S=Vv(o,t),_=Vv(`${s}-light`,n),x=Vv(`${s}-dark`,r);return{mode:S,systemMode:pT(S),lightColorScheme:_,darkColorScheme:x}}),[,h]=v.useState(!1),p=v.useRef(!1);v.useEffect(()=>{c&&h(!0),p.current=!0},[c]);const g=JZ(u),m=v.useCallback(S=>{d(_=>{if(S===_.mode)return _;const x=S??t;try{localStorage.setItem(o,x)}catch{}return{..._,mode:x,systemMode:pT(x)}})},[o,t]),b=v.useCallback(S=>{S?typeof S=="string"?S&&!l.includes(S)?console.error(`\`${S}\` does not exist in \`theme.colorSchemes\`.`):d(_=>{const x={..._};return vO(_,w=>{try{localStorage.setItem(`${s}-${w}`,S)}catch{}w==="light"&&(x.lightColorScheme=S),w==="dark"&&(x.darkColorScheme=S)}),x}):d(_=>{const x={..._},w=S.light===null?n:S.light,k=S.dark===null?r:S.dark;if(w)if(!l.includes(w))console.error(`\`${w}\` does not exist in \`theme.colorSchemes\`.`);else{x.lightColorScheme=w;try{localStorage.setItem(`${s}-light`,w)}catch{}}if(k)if(!l.includes(k))console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`);else{x.darkColorScheme=k;try{localStorage.setItem(`${s}-dark`,k)}catch{}}return x}):d(_=>{try{localStorage.setItem(`${s}-light`,n),localStorage.setItem(`${s}-dark`,r)}catch{}return{..._,lightColorScheme:n,darkColorScheme:r}})},[l,s,n,r]),y=v.useCallback(S=>{u.mode==="system"&&d(_=>{const x=S!=null&&S.matches?"dark":"light";return _.systemMode===x?_:{..._,systemMode:x}})},[u.mode]),A=v.useRef(y);return A.current=y,v.useEffect(()=>{if(typeof window.matchMedia!="function"||!c)return;const S=(...x)=>A.current(...x),_=window.matchMedia("(prefers-color-scheme: dark)");return _.addListener(S),S(_),()=>{_.removeListener(S)}},[c]),v.useEffect(()=>{if(a&&c){const S=_=>{const x=_.newValue;typeof _.key=="string"&&_.key.startsWith(s)&&(!x||l.match(x))&&(_.key.endsWith("light")&&b({light:x}),_.key.endsWith("dark")&&b({dark:x})),_.key===o&&(!x||["light","dark","system"].includes(x))&&m(x||t)};return a.addEventListener("storage",S),()=>{a.removeEventListener("storage",S)}}},[b,m,o,s,l,t,a,c]),{...u,mode:p.current||!c?u.mode:void 0,systemMode:p.current||!c?u.systemMode:void 0,colorScheme:p.current||!c?g:void 0,setMode:m,setColorScheme:b}}const ZZ="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function eee(e){const{themeId:t,theme:n={},modeStorageKey:r=Nx,colorSchemeStorageKey:i=Bx,disableTransitionOnChange:o=!1,defaultColorScheme:s,resolveTheme:a}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=v.createContext(void 0),u=()=>v.useContext(c)||l;function d(m){var Wt,Ct,Ee,lt,Vt;const{children:b,theme:y,modeStorageKey:A=r,colorSchemeStorageKey:S=i,disableTransitionOnChange:_=o,storageWindow:x=typeof window>"u"?void 0:window,documentNode:w=typeof document>"u"?void 0:document,colorSchemeNode:k=typeof document>"u"?void 0:document.documentElement,disableNestedContext:C=!1,disableStyleSheetGeneration:E=!1}=m,P=v.useRef(!1),N=Lx(),z=v.useContext(c),j=!!z&&!C,V=v.useMemo(()=>y||(typeof n=="function"?n():n),[y]),M=V[t],{colorSchemes:T={},components:D={},cssVarPrefix:L,...F}=M||V,$=Object.keys(T).filter(We=>!!T[We]).join(","),G=v.useMemo(()=>$.split(","),[$]),U=typeof s=="string"?s:s.light,ne=typeof s=="string"?s:s.dark,B=T[U]&&T[ne]?"system":((Ct=(Wt=T[F.defaultColorScheme])==null?void 0:Wt.palette)==null?void 0:Ct.mode)||((Ee=F.palette)==null?void 0:Ee.mode),{mode:fe,setMode:Z,systemMode:ae,lightColorScheme:Me,darkColorScheme:xe,colorScheme:le,setColorScheme:Ae}=XZ({supportedColorSchemes:G,defaultLightColorScheme:U,defaultDarkColorScheme:ne,modeStorageKey:A,colorSchemeStorageKey:S,defaultMode:B,storageWindow:x});let Le=fe,Te=le;j&&(Le=z.mode,Te=z.colorScheme);const Se=Te||F.defaultColorScheme,we=((lt=F.generateThemeVars)==null?void 0:lt.call(F))||F.vars,De={...F,components:D,colorSchemes:T,cssVarPrefix:L,vars:we};if(typeof De.generateSpacing=="function"&&(De.spacing=De.generateSpacing()),Se){const We=T[Se];We&&typeof We=="object"&&Object.keys(We).forEach(je=>{We[je]&&typeof We[je]=="object"?De[je]={...De[je],...We[je]}:De[je]=We[je]})}const Ge=F.colorSchemeSelector;v.useEffect(()=>{if(Te&&k&&Ge&&Ge!=="media"){const We=Ge;let je=Ge;if(We==="class"&&(je=".%s"),We==="data"&&(je="[data-%s]"),We!=null&&We.startsWith("data-")&&!We.includes("%s")&&(je=`[${We}="%s"]`),je.startsWith("."))k.classList.remove(...G.map(Tt=>je.substring(1).replace("%s",Tt))),k.classList.add(je.substring(1).replace("%s",Te));else{const Tt=je.replace("%s",Te).match(/\[([^\]]+)\]/);if(Tt){const[ct,it]=Tt[1].split("=");it||G.forEach(_n=>{k.removeAttribute(ct.replace(Te,_n))}),k.setAttribute(ct,it?it.replace(/"|'/g,""):"")}else k.setAttribute(je,Te)}}},[Te,Ge,k,G]),v.useEffect(()=>{let We;if(_&&P.current&&w){const je=w.createElement("style");je.appendChild(w.createTextNode(ZZ)),w.head.appendChild(je),window.getComputedStyle(w.body),We=setTimeout(()=>{w.head.removeChild(je)},1)}return()=>{clearTimeout(We)}},[Te,_,w]),v.useEffect(()=>(P.current=!0,()=>{P.current=!1}),[]);const Re=v.useMemo(()=>({allColorSchemes:G,colorScheme:Te,darkColorScheme:xe,lightColorScheme:Me,mode:Le,setColorScheme:Ae,setMode:Z,systemMode:ae}),[G,Te,xe,Me,Le,Ae,Z,ae]);let Xe=!0;(E||F.cssVariables===!1||j&&(N==null?void 0:N.cssVarPrefix)===L)&&(Xe=!1);const kt=f.jsxs(v.Fragment,{children:[f.jsx(yO,{themeId:M?t:void 0,theme:a?a(De):De,children:b}),Xe&&f.jsx(cO,{styles:((Vt=De.generateStyleSheets)==null?void 0:Vt.call(De))||[]})]});return j?kt:f.jsx(c.Provider,{value:Re,children:kt})}const h=typeof s=="string"?s:s.light,p=typeof s=="string"?s:s.dark;return{CssVarsProvider:d,useColorScheme:u,getInitColorSchemeScript:m=>QZ({colorSchemeStorageKey:i,defaultLightColorScheme:h,defaultDarkColorScheme:p,modeStorageKey:r,...m})}}function tee(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const gT=(e,t,n,r=[])=>{let i=e;t.forEach((o,s)=>{s===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},nee=(e,t,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):t([...o,a],l,s))})}r(e)},ree=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Lv(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return nee(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=ree(a,l);Object.assign(i,{[u]:d}),gT(o,a,`var(${u})`,c),gT(s,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function iee(e,t={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=Lv(l,t);let h=d;const p={},{[a]:g,...m}=o;if(Object.entries(m||{}).forEach(([S,_])=>{const{vars:x,css:w,varsWithDefaults:k}=Lv(_,t);h=ni(h,k),p[S]={css:w,vars:x}}),g){const{css:S,vars:_,varsWithDefaults:x}=Lv(g,t);h=ni(h,x),p[a]={css:S,vars:_}}function b(S,_){var w,k;let x=i;if(i==="class"&&(x=".%s"),i==="data"&&(x="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(x=`[${i}="%s"]`),S){if(x==="media")return e.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((k=(w=o[S])==null?void 0:w.palette)==null?void 0:k.mode)||S})`]:{":root":_}};if(x)return e.defaultColorScheme===S?`:root, ${x.replace("%s",String(S))}`:x.replace("%s",String(S))}return":root"}return{vars:h,generateThemeVars:()=>{let S={...c};return Object.entries(p).forEach(([,{vars:_}])=>{S=ni(S,_)}),S},generateStyleSheets:()=>{var C,E;const S=[],_=e.defaultColorScheme||"light";function x(P,N){Object.keys(N).length&&S.push(typeof P=="string"?{[P]:{...N}}:P)}x(n(void 0,{...u}),u);const{[_]:w,...k}=p;if(w){const{css:P}=w,N=(E=(C=o[_])==null?void 0:C.palette)==null?void 0:E.mode,z=!r&&N?{colorScheme:N,...P}:{...P};x(n(_,{...z}),z)}return Object.entries(k).forEach(([P,{css:N}])=>{var V,M;const z=(M=(V=o[P])==null?void 0:V.palette)==null?void 0:M.mode,j=!r&&z?{colorScheme:z,...N}:{...N};x(n(P,{...j}),j)}),S}}}function oee(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const Hf={black:"#000",white:"#fff"},see={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},aee=see,lee={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},dc=lee,cee={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},fc=cee,uee={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},vd=uee,dee={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},hc=dee,fee={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},pc=fee,hee={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},gc=hee,mT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hf.white,default:Hf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Nv={text:{primary:Hf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yT(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Vx(e.main,i):t==="dark"&&(e.dark=Ox(e.main,o)))}function pee(e="light"){return e==="dark"?{main:hc[200],light:hc[50],dark:hc[400]}:{main:hc[700],light:hc[400],dark:hc[800]}}function gee(e="light"){return e==="dark"?{main:dc[200],light:dc[50],dark:dc[400]}:{main:dc[500],light:dc[300],dark:dc[700]}}function mee(e="light"){return e==="dark"?{main:fc[500],light:fc[300],dark:fc[700]}:{main:fc[700],light:fc[400],dark:fc[800]}}function yee(e="light"){return e==="dark"?{main:pc[400],light:pc[300],dark:pc[700]}:{main:pc[700],light:pc[500],dark:pc[900]}}function vee(e="light"){return e==="dark"?{main:gc[400],light:gc[300],dark:gc[700]}:{main:gc[800],light:gc[500],dark:gc[900]}}function Aee(e="light"){return e==="dark"?{main:vd[400],light:vd[300],dark:vd[700]}:{main:"#ed6c02",light:vd[500],dark:vd[900]}}function Dx(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||pee(t),s=e.secondary||gee(t),a=e.error||mee(t),l=e.info||yee(t),c=e.success||vee(t),u=e.warning||Aee(t);function d(m){return BZ(m,Nv.text.primary)>=n?Nv.text.primary:mT.text.primary}const h=({color:m,name:b,mainShade:y=500,lightShade:A=300,darkShade:S=700})=>{if(m={...m},!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Fl(11,b?` (${b})`:"",y));if(typeof m.main!="string")throw new Error(Fl(12,b?` (${b})`:"",JSON.stringify(m.main)));return yT(m,"light",A,r),yT(m,"dark",S,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Nv,light:mT};return ni({common:{...Hf},mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:aee,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p[t]},i)}function bee(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function See(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function _ee(e){return Math.round(e*1e5)/1e5}const vT={textTransform:"uppercase"},AT='"Roboto", "Helvetica", "Arial", sans-serif';function AO(e,t){const{fontFamily:n=AT,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,h=r/14,p=u||(b=>`${b/l*h}rem`),g=(b,y,A,S,_)=>({fontFamily:n,fontWeight:b,fontSize:p(y),lineHeight:A,...n===AT?{letterSpacing:`${_ee(S/y)}em`}:{},..._,...c}),m={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(s,14,1.75,.4,vT),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,vT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ni({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...m},d,{clone:!1})}const xee=.2,wee=.14,Eee=.12;function en(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${xee})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${wee})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Eee})`].join(",")}const kee=["none",en(0,2,1,-1,0,1,1,0,0,1,3,0),en(0,3,1,-2,0,2,2,0,0,1,5,0),en(0,3,3,-2,0,3,4,0,0,1,8,0),en(0,2,4,-1,0,4,5,0,0,1,10,0),en(0,3,5,-1,0,5,8,0,0,1,14,0),en(0,3,5,-1,0,6,10,0,0,1,18,0),en(0,4,5,-2,0,7,10,1,0,2,16,1),en(0,5,5,-3,0,8,10,1,0,3,14,2),en(0,5,6,-3,0,9,12,1,0,3,16,2),en(0,6,6,-3,0,10,14,1,0,4,18,3),en(0,6,7,-4,0,11,15,1,0,4,20,3),en(0,7,8,-4,0,12,17,2,0,5,22,4),en(0,7,8,-4,0,13,19,2,0,5,24,4),en(0,7,9,-4,0,14,21,2,0,5,26,4),en(0,8,9,-5,0,15,22,2,0,6,28,5),en(0,8,10,-5,0,16,24,2,0,6,30,5),en(0,8,11,-5,0,17,26,2,0,6,32,5),en(0,9,11,-5,0,18,28,2,0,7,34,6),en(0,9,12,-6,0,19,29,2,0,7,36,6),en(0,10,13,-6,0,20,31,3,0,8,38,7),en(0,10,13,-6,0,21,33,3,0,8,40,7),en(0,10,14,-6,0,22,35,3,0,8,42,7),en(0,11,14,-7,0,23,36,3,0,9,44,8),en(0,11,15,-7,0,24,38,3,0,9,46,8)],Cee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Tee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function bT(e){return`${Math.round(e)}ms`}function Iee(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Ree(e){const t={...Cee,...e.easing},n={...Tee,...e.duration};return{getAutoHeightDuration:Iee,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:bT(s)} ${a} ${typeof l=="string"?l:bT(l)}`).join(",")},...e,easing:t,duration:n}}const Pee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mee=Pee;function bb(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...c}=e;if(e.vars)throw new Error(Fl(20));const u=Dx(o),d=Mx(e);let h=ni(d,{mixins:See(d.breakpoints,r),palette:u,shadows:kee.slice(),typography:AO(u,a),transitions:Ree(s),zIndex:{...Mee}});return h=ni(h,c),h=t.reduce((p,g)=>ni(p,g),h),h.unstable_sxConfig={...jh,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return Qu({sx:g,theme:this})},h}function Sb(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const jee=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Sb(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function bO(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function SO(e){return e==="dark"?jee:[]}function Oee(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=Dx(t);return{palette:o,opacity:{...bO(o.mode),...n},overlays:r||SO(o.mode),...i}}function Vee(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Lee=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Nee=e=>(t,n)=>{const r=e.colorSchemeSelector;let i=r;if(r==="class"&&(i=".%s"),r==="data"&&(i="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(i=`[${r}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return Lee(e.cssVarPrefix).forEach(s=>{o[s]=n[s],delete n[s]}),i==="media"?{":root":n,"@media (prefers-color-scheme: dark)":{":root":o}}:i?{[i.replace("%s",t)]:o,[`:root, ${i.replace("%s",t)}`]:n}:{":root":{...n,...o}}}if(i&&i!=="media")return`:root, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{":root":n}};if(i)return i.replace("%s",String(t))}return":root"};function Bee(e){return ts(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Dee(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!Bee(a)||s.startsWith("unstable_")?delete r[s]:ts(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Fee(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ee(e,t,n){!e[t]&&n&&(e[t]=n)}function Dd(e){return!e||!e.startsWith("hsl")?e:hO(e)}function hs(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Bd(Dd(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function $ee(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Go=e=>{try{return e()}catch{}},zee=(e="mui")=>tee(e);function Bv(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Oee({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:o,...s}=bb({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:o,opacity:{...bO(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||SO(i)},s}function Uee(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=Vee,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,...l}=e,c=Object.keys(n)[0],u=r||(n.light&&c!=="light"?"light":c),d=zee(o),{[u]:h,light:p,dark:g,...m}=n,b={...m};let y=h;if((u==="dark"&&!("dark"in n)||u==="light"&&!("light"in n))&&(y=!0),!y)throw new Error(Fl(21,u));const A=Bv(b,y,l,u);p&&!b.light&&Bv(b,p,void 0,"light"),g&&!b.dark&&Bv(b,g,void 0,"dark");let S={defaultColorScheme:u,...A,cssVarPrefix:o,colorSchemeSelector:a,getCssVar:d,colorSchemes:b,font:{...bee(A.typography),...A.font},spacing:$ee(l.spacing)};Object.keys(S.colorSchemes).forEach(C=>{const E=S.colorSchemes[C].palette,P=N=>{const z=N.split("-"),j=z[1],V=z[2];return d(N,E[j][V])};if(E.mode==="light"&&(ee(E.common,"background","#fff"),ee(E.common,"onBackground","#000")),E.mode==="dark"&&(ee(E.common,"background","#000"),ee(E.common,"onBackground","#fff")),Fee(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){ee(E.Alert,"errorColor",Nt(E.error.light,.6)),ee(E.Alert,"infoColor",Nt(E.info.light,.6)),ee(E.Alert,"successColor",Nt(E.success.light,.6)),ee(E.Alert,"warningColor",Nt(E.warning.light,.6)),ee(E.Alert,"errorFilledBg",P("palette-error-main")),ee(E.Alert,"infoFilledBg",P("palette-info-main")),ee(E.Alert,"successFilledBg",P("palette-success-main")),ee(E.Alert,"warningFilledBg",P("palette-warning-main")),ee(E.Alert,"errorFilledColor",Go(()=>E.getContrastText(E.error.main))),ee(E.Alert,"infoFilledColor",Go(()=>E.getContrastText(E.info.main))),ee(E.Alert,"successFilledColor",Go(()=>E.getContrastText(E.success.main))),ee(E.Alert,"warningFilledColor",Go(()=>E.getContrastText(E.warning.main))),ee(E.Alert,"errorStandardBg",Bt(E.error.light,.9)),ee(E.Alert,"infoStandardBg",Bt(E.info.light,.9)),ee(E.Alert,"successStandardBg",Bt(E.success.light,.9)),ee(E.Alert,"warningStandardBg",Bt(E.warning.light,.9)),ee(E.Alert,"errorIconColor",P("palette-error-main")),ee(E.Alert,"infoIconColor",P("palette-info-main")),ee(E.Alert,"successIconColor",P("palette-success-main")),ee(E.Alert,"warningIconColor",P("palette-warning-main")),ee(E.AppBar,"defaultBg",P("palette-grey-100")),ee(E.Avatar,"defaultBg",P("palette-grey-400")),ee(E.Button,"inheritContainedBg",P("palette-grey-300")),ee(E.Button,"inheritContainedHoverBg",P("palette-grey-A100")),ee(E.Chip,"defaultBorder",P("palette-grey-400")),ee(E.Chip,"defaultAvatarColor",P("palette-grey-700")),ee(E.Chip,"defaultIconColor",P("palette-grey-700")),ee(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ee(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ee(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ee(E.LinearProgress,"primaryBg",Bt(E.primary.main,.62)),ee(E.LinearProgress,"secondaryBg",Bt(E.secondary.main,.62)),ee(E.LinearProgress,"errorBg",Bt(E.error.main,.62)),ee(E.LinearProgress,"infoBg",Bt(E.info.main,.62)),ee(E.LinearProgress,"successBg",Bt(E.success.main,.62)),ee(E.LinearProgress,"warningBg",Bt(E.warning.main,.62)),ee(E.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),ee(E.Slider,"primaryTrack",Bt(E.primary.main,.62)),ee(E.Slider,"secondaryTrack",Bt(E.secondary.main,.62)),ee(E.Slider,"errorTrack",Bt(E.error.main,.62)),ee(E.Slider,"infoTrack",Bt(E.info.main,.62)),ee(E.Slider,"successTrack",Bt(E.success.main,.62)),ee(E.Slider,"warningTrack",Bt(E.warning.main,.62));const N=Ip(E.background.default,.8);ee(E.SnackbarContent,"bg",N),ee(E.SnackbarContent,"color",Go(()=>E.getContrastText(N))),ee(E.SpeedDialAction,"fabHoverBg",Ip(E.background.paper,.15)),ee(E.StepConnector,"border",P("palette-grey-400")),ee(E.StepContent,"border",P("palette-grey-400")),ee(E.Switch,"defaultColor",P("palette-common-white")),ee(E.Switch,"defaultDisabledColor",P("palette-grey-100")),ee(E.Switch,"primaryDisabledColor",Bt(E.primary.main,.62)),ee(E.Switch,"secondaryDisabledColor",Bt(E.secondary.main,.62)),ee(E.Switch,"errorDisabledColor",Bt(E.error.main,.62)),ee(E.Switch,"infoDisabledColor",Bt(E.info.main,.62)),ee(E.Switch,"successDisabledColor",Bt(E.success.main,.62)),ee(E.Switch,"warningDisabledColor",Bt(E.warning.main,.62)),ee(E.TableCell,"border",Bt(Tp(E.divider,1),.88)),ee(E.Tooltip,"bg",Tp(E.grey[700],.92))}if(E.mode==="dark"){ee(E.Alert,"errorColor",Bt(E.error.light,.6)),ee(E.Alert,"infoColor",Bt(E.info.light,.6)),ee(E.Alert,"successColor",Bt(E.success.light,.6)),ee(E.Alert,"warningColor",Bt(E.warning.light,.6)),ee(E.Alert,"errorFilledBg",P("palette-error-dark")),ee(E.Alert,"infoFilledBg",P("palette-info-dark")),ee(E.Alert,"successFilledBg",P("palette-success-dark")),ee(E.Alert,"warningFilledBg",P("palette-warning-dark")),ee(E.Alert,"errorFilledColor",Go(()=>E.getContrastText(E.error.dark))),ee(E.Alert,"infoFilledColor",Go(()=>E.getContrastText(E.info.dark))),ee(E.Alert,"successFilledColor",Go(()=>E.getContrastText(E.success.dark))),ee(E.Alert,"warningFilledColor",Go(()=>E.getContrastText(E.warning.dark))),ee(E.Alert,"errorStandardBg",Nt(E.error.light,.9)),ee(E.Alert,"infoStandardBg",Nt(E.info.light,.9)),ee(E.Alert,"successStandardBg",Nt(E.success.light,.9)),ee(E.Alert,"warningStandardBg",Nt(E.warning.light,.9)),ee(E.Alert,"errorIconColor",P("palette-error-main")),ee(E.Alert,"infoIconColor",P("palette-info-main")),ee(E.Alert,"successIconColor",P("palette-success-main")),ee(E.Alert,"warningIconColor",P("palette-warning-main")),ee(E.AppBar,"defaultBg",P("palette-grey-900")),ee(E.AppBar,"darkBg",P("palette-background-paper")),ee(E.AppBar,"darkColor",P("palette-text-primary")),ee(E.Avatar,"defaultBg",P("palette-grey-600")),ee(E.Button,"inheritContainedBg",P("palette-grey-800")),ee(E.Button,"inheritContainedHoverBg",P("palette-grey-700")),ee(E.Chip,"defaultBorder",P("palette-grey-700")),ee(E.Chip,"defaultAvatarColor",P("palette-grey-300")),ee(E.Chip,"defaultIconColor",P("palette-grey-300")),ee(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ee(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ee(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ee(E.LinearProgress,"primaryBg",Nt(E.primary.main,.5)),ee(E.LinearProgress,"secondaryBg",Nt(E.secondary.main,.5)),ee(E.LinearProgress,"errorBg",Nt(E.error.main,.5)),ee(E.LinearProgress,"infoBg",Nt(E.info.main,.5)),ee(E.LinearProgress,"successBg",Nt(E.success.main,.5)),ee(E.LinearProgress,"warningBg",Nt(E.warning.main,.5)),ee(E.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),ee(E.Slider,"primaryTrack",Nt(E.primary.main,.5)),ee(E.Slider,"secondaryTrack",Nt(E.secondary.main,.5)),ee(E.Slider,"errorTrack",Nt(E.error.main,.5)),ee(E.Slider,"infoTrack",Nt(E.info.main,.5)),ee(E.Slider,"successTrack",Nt(E.success.main,.5)),ee(E.Slider,"warningTrack",Nt(E.warning.main,.5));const N=Ip(E.background.default,.98);ee(E.SnackbarContent,"bg",N),ee(E.SnackbarContent,"color",Go(()=>E.getContrastText(N))),ee(E.SpeedDialAction,"fabHoverBg",Ip(E.background.paper,.15)),ee(E.StepConnector,"border",P("palette-grey-600")),ee(E.StepContent,"border",P("palette-grey-600")),ee(E.Switch,"defaultColor",P("palette-grey-300")),ee(E.Switch,"defaultDisabledColor",P("palette-grey-600")),ee(E.Switch,"primaryDisabledColor",Nt(E.primary.main,.55)),ee(E.Switch,"secondaryDisabledColor",Nt(E.secondary.main,.55)),ee(E.Switch,"errorDisabledColor",Nt(E.error.main,.55)),ee(E.Switch,"infoDisabledColor",Nt(E.info.main,.55)),ee(E.Switch,"successDisabledColor",Nt(E.success.main,.55)),ee(E.Switch,"warningDisabledColor",Nt(E.warning.main,.55)),ee(E.TableCell,"border",Nt(Tp(E.divider,1),.68)),ee(E.Tooltip,"bg",Tp(E.grey[700],.92))}hs(E.background,"default"),hs(E.background,"paper"),hs(E.common,"background"),hs(E.common,"onBackground"),hs(E,"divider"),Object.keys(E).forEach(N=>{const z=E[N];z&&typeof z=="object"&&(z.main&&ee(E[N],"mainChannel",Bd(Dd(z.main))),z.light&&ee(E[N],"lightChannel",Bd(Dd(z.light))),z.dark&&ee(E[N],"darkChannel",Bd(Dd(z.dark))),z.contrastText&&ee(E[N],"contrastTextChannel",Bd(Dd(z.contrastText))),N==="text"&&(hs(E[N],"primary"),hs(E[N],"secondary")),N==="action"&&(z.active&&hs(E[N],"active"),z.selected&&hs(E[N],"selected")))})}),S=t.reduce((C,E)=>ni(C,E),S);const _={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:Nee(S)},{vars:x,generateThemeVars:w,generateStyleSheets:k}=iee(S,_);return S.vars=x,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([C,E])=>{S[C]=E}),S.generateThemeVars=w,S.generateStyleSheets=k,S.generateSpacing=function(){return uO(l.spacing,Rx(this))},S.getColorSchemeSelector=oee(a),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=s,S.unstable_sxConfig={...jh,...l==null?void 0:l.unstable_sxConfig},S.unstable_sx=function(E){return Qu({sx:E,theme:this})},S.toRuntimeSource=Dee,S}function ST(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Dx({...n===!0?{}:n.palette,mode:t})})}function Fx(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=e,a=o||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return bb(e,...t);let u=n;"palette"in e||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=bb({...e,palette:u},...t);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},ST(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},ST(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),Uee({...s,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}const Hee=Fx(),$x=Hee,js="$$material";function zx(){const e=fO($x);return e[js]||e}function Gee(e){return f.jsx(IZ,{...e,defaultTheme:$x,themeId:js})}function qee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ux=e=>qee(e)&&e!=="classes",Xt=MZ({themeId:js,defaultTheme:$x,rootShouldForwardProp:Ux});function $Ae(e){return function(n){return f.jsx(Gee,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function Wee(){return yZ}const _T={theme:void 0};function oo(e){let t,n;return r=>{let i=t;return(i===void 0||r.theme!==n)&&(_T.theme=r.theme,i=e(_T),t=i,n=r.theme),i}}function Rr(e){return KZ(e)}function Kee(e){return Tr("MuiSvgIcon",e)}Ir("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Yee=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${st(t)}`,`fontSize${st(n)}`]};return Hr(i,Kee,r)},Qee=Xt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${st(n.color)}`],t[`fontSize${st(n.fontSize)}`]]}})(oo(({theme:e})=>{var t,n,r,i,o,s,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:m=>!m.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,m])=>m&&m.main).map(([m])=>{var b,y;return{props:{color:m},style:{color:(y=(b=(e.vars??e).palette)==null?void 0:b[m])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(d=(e.vars??e).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Tm=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,g=v.isValidElement(i)&&i.type==="svg",m={...r,color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},b={};u||(b.viewBox=h);const y=Yee(m);return f.jsxs(Qee,{as:a,className:At(y.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...b,...p,...g&&i.props,ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]})});Tm&&(Tm.muiName="SvgIcon");function ht(e,t){function n(r,i){return f.jsx(Tm,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Tm.muiName,v.memo(v.forwardRef(n))}const Jee=ht(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),Xee=ht(f.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),Im=ht(f.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function Zee(e){return typeof e.main=="string"}function ete(e,t=[]){if(!Zee(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Gf(e=[]){return([,t])=>t&&ete(t,e)}class Rm{constructor(){ad(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Rm}static use(){const t=rO(Rm.create).current,[n,r]=v.useState(!1);return t.shouldMount=n,t.setShouldMount=r,v.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=nte(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function tte(){return Rm.use()}function nte(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}function _O(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xb(e,t)}function xO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xb(e,t)}var wO={exports:{}},Ti={},EO={exports:{}},kO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,F){var $=L.length;L.push(F);e:for(;0<$;){var G=$-1>>>1,U=L[G];if(0<i(U,F))L[G]=F,L[$]=U,$=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],$=L.pop();if($!==F){L[0]=$;e:for(var G=0,U=L.length,ne=U>>>1;G<ne;){var B=2*(G+1)-1,fe=L[B],Z=B+1,ae=L[Z];if(0>i(fe,$))Z<U&&0>i(ae,fe)?(L[G]=ae,L[Z]=$,G=Z):(L[G]=fe,L[B]=$,G=B);else if(Z<U&&0>i(ae,$))L[G]=ae,L[Z]=$,G=Z;else break e}}return F}function i(L,F){var $=L.sortIndex-F.sortIndex;return $!==0?$:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=L)r(c),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(c)}}function _(L){if(m=!1,S(L),!g)if(n(l)!==null)g=!0,T(x);else{var F=n(c);F!==null&&D(_,F.startTime-L)}}function x(L,F){g=!1,m&&(m=!1,y(C),C=-1),p=!0;var $=h;try{for(S(F),d=n(l);d!==null&&(!(d.expirationTime>F)||L&&!N());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var U=G(d.expirationTime<=F);F=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),S(F)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var B=n(c);B!==null&&D(_,B.startTime-F),ne=!1}return ne}finally{d=null,h=$,p=!1}}var w=!1,k=null,C=-1,E=5,P=-1;function N(){return!(e.unstable_now()-P<E)}function z(){if(k!==null){var L=e.unstable_now();P=L;var F=!0;try{F=k(!0,L)}finally{F?j():(w=!1,k=null)}}else w=!1}var j;if(typeof A=="function")j=function(){A(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,M=V.port2;V.port1.onmessage=z,j=function(){M.postMessage(null)}}else j=function(){b(z,0)};function T(L){k=L,w||(w=!0,j())}function D(L,F){C=b(function(){L(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(x))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var $=h;h=F;try{return L()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=h;h=L;try{return F()}finally{h=$}},e.unstable_scheduleCallback=function(L,F,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=$+U,L={id:u++,callback:F,priorityLevel:L,startTime:$,expirationTime:U,sortIndex:-1},$>G?(L.sortIndex=$,t(c,L),n(l)===null&&L===n(c)&&(m?(y(C),C=-1):m=!0,D(_,$-G))):(L.sortIndex=U,t(l,L),g||p||(g=!0,T(x))),L},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(L){var F=h;return function(){var $=h;h=F;try{return L.apply(this,arguments)}finally{h=$}}}})(kO);EO.exports=kO;var rte=EO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO=v,Ei=rte;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TO=new Set,qf={};function rc(e,t){wu(e,t),wu(e+"Capture",t)}function wu(e,t){for(qf[e]=t,e=0;e<t.length;e++)TO.add(t[e])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wb=Object.prototype.hasOwnProperty,ite=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xT={},wT={};function ote(e){return wb.call(wT,e)?!0:wb.call(xT,e)?!1:ite.test(e)?wT[e]=!0:(xT[e]=!0,!1)}function ste(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ate(e,t,n,r){if(t===null||typeof t>"u"||ste(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gr[e]=new Gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gr[t]=new Gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gr[e]=new Gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gr[e]=new Gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gr[e]=new Gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gr[e]=new Gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gr[e]=new Gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gr[e]=new Gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gr[e]=new Gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hx=/[\-:]([a-z])/g;function Gx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hx,Gx);gr[t]=new Gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hx,Gx);gr[t]=new Gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hx,Gx);gr[t]=new Gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!1,!1)});gr.xlinkHref=new Gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function qx(e,t,n,r){var i=gr.hasOwnProperty(t)?gr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ate(t,n,i,r)&&(n=null),r||i===null?ote(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ks=CO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rp=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),jc=Symbol.for("react.fragment"),Wx=Symbol.for("react.strict_mode"),Eb=Symbol.for("react.profiler"),IO=Symbol.for("react.provider"),RO=Symbol.for("react.context"),Kx=Symbol.for("react.forward_ref"),kb=Symbol.for("react.suspense"),Cb=Symbol.for("react.suspense_list"),Yx=Symbol.for("react.memo"),oa=Symbol.for("react.lazy"),PO=Symbol.for("react.offscreen"),ET=Symbol.iterator;function Ad(e){return e===null||typeof e!="object"?null:(e=ET&&e[ET]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,Dv;function Fd(e){if(Dv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dv=t&&t[1]||""}return`
`+Dv+e}var Fv=!1;function $v(e,t){if(!e||Fv)return"";Fv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Fv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fd(e):""}function lte(e){switch(e.tag){case 5:return Fd(e.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return e=$v(e.type,!1),e;case 11:return e=$v(e.type.render,!1),e;case 1:return e=$v(e.type,!0),e;default:return""}}function Tb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jc:return"Fragment";case Mc:return"Portal";case Eb:return"Profiler";case Wx:return"StrictMode";case kb:return"Suspense";case Cb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RO:return(e.displayName||"Context")+".Consumer";case IO:return(e._context.displayName||"Context")+".Provider";case Kx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yx:return t=e.displayName||null,t!==null?t:Tb(e.type)||"Memo";case oa:t=e._payload,e=e._init;try{return Tb(e(t))}catch{}}return null}function cte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tb(t);case 8:return t===Wx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Va(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function MO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ute(e){var t=MO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pp(e){e._valueTracker||(e._valueTracker=ute(e))}function jO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=MO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ib(e,t){var n=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Va(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OO(e,t){t=t.checked,t!=null&&qx(e,"checked",t,!1)}function Rb(e,t){OO(e,t);var n=Va(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pb(e,t.type,Va(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pb(e,t,n){(t!=="number"||Pm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $d=Array.isArray;function ru(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Va(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if($d(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Va(n)}}function VO(e,t){var n=Va(t.value),r=Va(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function IT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mp,NO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mp=Mp||document.createElement("div"),Mp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ff={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dte=["Webkit","ms","Moz","O"];Object.keys(ff).forEach(function(e){dte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ff[t]=ff[e]})});function BO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ff.hasOwnProperty(e)&&ff[e]?(""+t).trim():t+"px"}function DO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fte=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ob(e,t){if(t){if(fte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function Vb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lb=null;function Qx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nb=null,iu=null,ou=null;function RT(e){if(e=Lh(e)){if(typeof Nb!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=vy(t),Nb(e.stateNode,e.type,t))}}function FO(e){iu?ou?ou.push(e):ou=[e]:iu=e}function $O(){if(iu){var e=iu,t=ou;if(ou=iu=null,RT(e),t)for(e=0;e<t.length;e++)RT(t[e])}}function zO(e,t){return e(t)}function UO(){}var zv=!1;function HO(e,t,n){if(zv)return e(t,n);zv=!0;try{return zO(e,t,n)}finally{zv=!1,(iu!==null||ou!==null)&&(UO(),$O())}}function Kf(e,t){var n=e.stateNode;if(n===null)return null;var r=vy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var Bb=!1;if($s)try{var bd={};Object.defineProperty(bd,"passive",{get:function(){Bb=!0}}),window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{Bb=!1}function hte(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var hf=!1,Mm=null,jm=!1,Db=null,pte={onError:function(e){hf=!0,Mm=e}};function gte(e,t,n,r,i,o,s,a,l){hf=!1,Mm=null,hte.apply(pte,arguments)}function mte(e,t,n,r,i,o,s,a,l){if(gte.apply(this,arguments),hf){if(hf){var c=Mm;hf=!1,Mm=null}else throw Error(ce(198));jm||(jm=!0,Db=c)}}function ic(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function GO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function PT(e){if(ic(e)!==e)throw Error(ce(188))}function yte(e){var t=e.alternate;if(!t){if(t=ic(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return PT(i),e;if(o===r)return PT(i),t;o=o.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function qO(e){return e=yte(e),e!==null?WO(e):null}function WO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WO(e);if(t!==null)return t;e=e.sibling}return null}var KO=Ei.unstable_scheduleCallback,MT=Ei.unstable_cancelCallback,vte=Ei.unstable_shouldYield,Ate=Ei.unstable_requestPaint,In=Ei.unstable_now,bte=Ei.unstable_getCurrentPriorityLevel,Jx=Ei.unstable_ImmediatePriority,YO=Ei.unstable_UserBlockingPriority,Om=Ei.unstable_NormalPriority,Ste=Ei.unstable_LowPriority,QO=Ei.unstable_IdlePriority,py=null,as=null;function _te(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(py,e,void 0,(e.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:Ete,xte=Math.log,wte=Math.LN2;function Ete(e){return e>>>=0,e===0?32:31-(xte(e)/wte|0)|0}var jp=64,Op=4194304;function zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=zd(a):(o&=s,o!==0&&(r=zd(o)))}else s=n&~i,s!==0?r=zd(s):o!==0&&(r=zd(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Oo(t),i=1<<n,r|=e[n],t&=~i;return r}function kte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cte(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Oo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=kte(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Fb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JO(){var e=jp;return jp<<=1,!(jp&4194240)&&(jp=64),e}function Uv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oo(t),e[t]=n}function Tte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Oo(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Xx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Oo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Mt=0;function XO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZO,Zx,eV,tV,nV,$b=!1,Vp=[],Sa=null,_a=null,xa=null,Yf=new Map,Qf=new Map,aa=[],Ite="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jT(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Yf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qf.delete(t.pointerId)}}function Sd(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Lh(t),t!==null&&Zx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Rte(e,t,n,r,i){switch(t){case"focusin":return Sa=Sd(Sa,e,t,n,r,i),!0;case"dragenter":return _a=Sd(_a,e,t,n,r,i),!0;case"mouseover":return xa=Sd(xa,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yf.set(o,Sd(Yf.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qf.set(o,Sd(Qf.get(o)||null,e,t,n,r,i)),!0}return!1}function rV(e){var t=pl(e.target);if(t!==null){var n=ic(t);if(n!==null){if(t=n.tag,t===13){if(t=GO(n),t!==null){e.blockedOn=t,nV(e.priority,function(){eV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ig(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lb=r,n.target.dispatchEvent(r),Lb=null}else return t=Lh(n),t!==null&&Zx(t),e.blockedOn=n,!1;t.shift()}return!0}function OT(e,t,n){Ig(e)&&n.delete(t)}function Pte(){$b=!1,Sa!==null&&Ig(Sa)&&(Sa=null),_a!==null&&Ig(_a)&&(_a=null),xa!==null&&Ig(xa)&&(xa=null),Yf.forEach(OT),Qf.forEach(OT)}function _d(e,t){e.blockedOn===t&&(e.blockedOn=null,$b||($b=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,Pte)))}function Jf(e){function t(i){return _d(i,e)}if(0<Vp.length){_d(Vp[0],e);for(var n=1;n<Vp.length;n++){var r=Vp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sa!==null&&_d(Sa,e),_a!==null&&_d(_a,e),xa!==null&&_d(xa,e),Yf.forEach(t),Qf.forEach(t),n=0;n<aa.length;n++)r=aa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<aa.length&&(n=aa[0],n.blockedOn===null);)rV(n),n.blockedOn===null&&aa.shift()}var su=Ks.ReactCurrentBatchConfig,Lm=!0;function Mte(e,t,n,r){var i=Mt,o=su.transition;su.transition=null;try{Mt=1,ew(e,t,n,r)}finally{Mt=i,su.transition=o}}function jte(e,t,n,r){var i=Mt,o=su.transition;su.transition=null;try{Mt=4,ew(e,t,n,r)}finally{Mt=i,su.transition=o}}function ew(e,t,n,r){if(Lm){var i=zb(e,t,n,r);if(i===null)Zv(e,t,r,Nm,n),jT(e,r);else if(Rte(i,e,t,n,r))r.stopPropagation();else if(jT(e,r),t&4&&-1<Ite.indexOf(e)){for(;i!==null;){var o=Lh(i);if(o!==null&&ZO(o),o=zb(e,t,n,r),o===null&&Zv(e,t,r,Nm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zv(e,t,r,null,n)}}var Nm=null;function zb(e,t,n,r){if(Nm=null,e=Qx(r),e=pl(e),e!==null)if(t=ic(e),t===null)e=null;else if(n=t.tag,n===13){if(e=GO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nm=e,null}function iV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bte()){case Jx:return 1;case YO:return 4;case Om:case Ste:return 16;case QO:return 536870912;default:return 16}default:return 16}}var pa=null,tw=null,Rg=null;function oV(){if(Rg)return Rg;var e,t=tw,n=t.length,r,i="value"in pa?pa.value:pa.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Rg=i.slice(e,1<r?1-r:void 0)}function Pg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lp(){return!0}function VT(){return!1}function Ii(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Lp:VT,this.isPropagationStopped=VT,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lp)},persist:function(){},isPersistent:Lp}),t}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=Ii(Ju),Vh=pn({},Ju,{view:0,detail:0}),Ote=Ii(Vh),Hv,Gv,xd,gy=pn({},Vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xd&&(xd&&e.type==="mousemove"?(Hv=e.screenX-xd.screenX,Gv=e.screenY-xd.screenY):Gv=Hv=0,xd=e),Hv)},movementY:function(e){return"movementY"in e?e.movementY:Gv}}),LT=Ii(gy),Vte=pn({},gy,{dataTransfer:0}),Lte=Ii(Vte),Nte=pn({},Vh,{relatedTarget:0}),qv=Ii(Nte),Bte=pn({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),Dte=Ii(Bte),Fte=pn({},Ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$te=Ii(Fte),zte=pn({},Ju,{data:0}),NT=Ii(zte),Ute={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gte[e])?!!t[e]:!1}function rw(){return qte}var Wte=pn({},Vh,{key:function(e){if(e.key){var t=Ute[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rw,charCode:function(e){return e.type==="keypress"?Pg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kte=Ii(Wte),Yte=pn({},gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BT=Ii(Yte),Qte=pn({},Vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rw}),Jte=Ii(Qte),Xte=pn({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zte=Ii(Xte),ene=pn({},gy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tne=Ii(ene),nne=[9,13,27,32],iw=$s&&"CompositionEvent"in window,pf=null;$s&&"documentMode"in document&&(pf=document.documentMode);var rne=$s&&"TextEvent"in window&&!pf,sV=$s&&(!iw||pf&&8<pf&&11>=pf),DT=" ",FT=!1;function aV(e,t){switch(e){case"keyup":return nne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oc=!1;function ine(e,t){switch(e){case"compositionend":return lV(t);case"keypress":return t.which!==32?null:(FT=!0,DT);case"textInput":return e=t.data,e===DT&&FT?null:e;default:return null}}function one(e,t){if(Oc)return e==="compositionend"||!iw&&aV(e,t)?(e=oV(),Rg=tw=pa=null,Oc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sV&&t.locale!=="ko"?null:t.data;default:return null}}var sne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $T(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sne[e.type]:t==="textarea"}function cV(e,t,n,r){FO(r),t=Bm(t,"onChange"),0<t.length&&(n=new nw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gf=null,Xf=null;function ane(e){bV(e,0)}function my(e){var t=Nc(e);if(jO(t))return e}function lne(e,t){if(e==="change")return t}var uV=!1;if($s){var Wv;if($s){var Kv="oninput"in document;if(!Kv){var zT=document.createElement("div");zT.setAttribute("oninput","return;"),Kv=typeof zT.oninput=="function"}Wv=Kv}else Wv=!1;uV=Wv&&(!document.documentMode||9<document.documentMode)}function UT(){gf&&(gf.detachEvent("onpropertychange",dV),Xf=gf=null)}function dV(e){if(e.propertyName==="value"&&my(Xf)){var t=[];cV(t,Xf,e,Qx(e)),HO(ane,t)}}function cne(e,t,n){e==="focusin"?(UT(),gf=t,Xf=n,gf.attachEvent("onpropertychange",dV)):e==="focusout"&&UT()}function une(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return my(Xf)}function dne(e,t){if(e==="click")return my(t)}function fne(e,t){if(e==="input"||e==="change")return my(t)}function hne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Do=typeof Object.is=="function"?Object.is:hne;function Zf(e,t){if(Do(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wb.call(t,i)||!Do(e[i],t[i]))return!1}return!0}function HT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function GT(e,t){var n=HT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HT(n)}}function fV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hV(){for(var e=window,t=Pm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pm(e.document)}return t}function ow(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pne(e){var t=hV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fV(n.ownerDocument.documentElement,n)){if(r!==null&&ow(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=GT(n,o);var s=GT(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gne=$s&&"documentMode"in document&&11>=document.documentMode,Vc=null,Ub=null,mf=null,Hb=!1;function qT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hb||Vc==null||Vc!==Pm(r)||(r=Vc,"selectionStart"in r&&ow(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mf&&Zf(mf,r)||(mf=r,r=Bm(Ub,"onSelect"),0<r.length&&(t=new nw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vc)))}function Np(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lc={animationend:Np("Animation","AnimationEnd"),animationiteration:Np("Animation","AnimationIteration"),animationstart:Np("Animation","AnimationStart"),transitionend:Np("Transition","TransitionEnd")},Yv={},pV={};$s&&(pV=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function yy(e){if(Yv[e])return Yv[e];if(!Lc[e])return e;var t=Lc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pV)return Yv[e]=t[n];return e}var gV=yy("animationend"),mV=yy("animationiteration"),yV=yy("animationstart"),vV=yy("transitionend"),AV=new Map,WT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ua(e,t){AV.set(e,t),rc(t,[e])}for(var Qv=0;Qv<WT.length;Qv++){var Jv=WT[Qv],mne=Jv.toLowerCase(),yne=Jv[0].toUpperCase()+Jv.slice(1);Ua(mne,"on"+yne)}Ua(gV,"onAnimationEnd");Ua(mV,"onAnimationIteration");Ua(yV,"onAnimationStart");Ua("dblclick","onDoubleClick");Ua("focusin","onFocus");Ua("focusout","onBlur");Ua(vV,"onTransitionEnd");wu("onMouseEnter",["mouseout","mouseover"]);wu("onMouseLeave",["mouseout","mouseover"]);wu("onPointerEnter",["pointerout","pointerover"]);wu("onPointerLeave",["pointerout","pointerover"]);rc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rc("onBeforeInput",["compositionend","keypress","textInput","paste"]);rc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vne=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ud));function KT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mte(r,t,void 0,e),e.currentTarget=null}function bV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;KT(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;KT(i,a,c),o=l}}}if(jm)throw e=Db,jm=!1,Db=null,e}function Kt(e,t){var n=t[Yb];n===void 0&&(n=t[Yb]=new Set);var r=e+"__bubble";n.has(r)||(SV(t,e,2,!1),n.add(r))}function Xv(e,t,n){var r=0;t&&(r|=4),SV(n,e,r,t)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Bp]){e[Bp]=!0,TO.forEach(function(n){n!=="selectionchange"&&(vne.has(n)||Xv(n,!1,e),Xv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bp]||(t[Bp]=!0,Xv("selectionchange",!1,t))}}function SV(e,t,n,r){switch(iV(t)){case 1:var i=Mte;break;case 4:i=jte;break;default:i=ew}n=i.bind(null,t,n,e),i=void 0,!Bb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zv(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=pl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}HO(function(){var c=o,u=Qx(n),d=[];e:{var h=AV.get(e);if(h!==void 0){var p=nw,g=e;switch(e){case"keypress":if(Pg(n)===0)break e;case"keydown":case"keyup":p=Kte;break;case"focusin":g="focus",p=qv;break;case"focusout":g="blur",p=qv;break;case"beforeblur":case"afterblur":p=qv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=LT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Lte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Jte;break;case gV:case mV:case yV:p=Dte;break;case vV:p=Zte;break;case"scroll":p=Ote;break;case"wheel":p=tne;break;case"copy":case"cut":case"paste":p=$te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=BT}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var A=c,S;A!==null;){S=A;var _=S.stateNode;if(S.tag===5&&_!==null&&(S=_,y!==null&&(_=Kf(A,y),_!=null&&m.push(th(A,_,S)))),b)break;A=A.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Lb&&(g=n.relatedTarget||n.fromElement)&&(pl(g)||g[zs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?pl(g):null,g!==null&&(b=ic(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=LT,_="onMouseLeave",y="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(m=BT,_="onPointerLeave",y="onPointerEnter",A="pointer"),b=p==null?h:Nc(p),S=g==null?h:Nc(g),h=new m(_,A+"leave",p,n,u),h.target=b,h.relatedTarget=S,_=null,pl(u)===c&&(m=new m(y,A+"enter",g,n,u),m.target=S,m.relatedTarget=b,_=m),b=_,p&&g)t:{for(m=p,y=g,A=0,S=m;S;S=mc(S))A++;for(S=0,_=y;_;_=mc(_))S++;for(;0<A-S;)m=mc(m),A--;for(;0<S-A;)y=mc(y),S--;for(;A--;){if(m===y||y!==null&&m===y.alternate)break t;m=mc(m),y=mc(y)}m=null}else m=null;p!==null&&YT(d,h,p,m,!1),g!==null&&b!==null&&YT(d,b,g,m,!0)}}e:{if(h=c?Nc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=lne;else if($T(h))if(uV)x=fne;else{x=une;var w=cne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=dne);if(x&&(x=x(e,c))){cV(d,x,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Pb(h,"number",h.value)}switch(w=c?Nc(c):window,e){case"focusin":($T(w)||w.contentEditable==="true")&&(Vc=w,Ub=c,mf=null);break;case"focusout":mf=Ub=Vc=null;break;case"mousedown":Hb=!0;break;case"contextmenu":case"mouseup":case"dragend":Hb=!1,qT(d,n,u);break;case"selectionchange":if(gne)break;case"keydown":case"keyup":qT(d,n,u)}var k;if(iw)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Oc?aV(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(sV&&n.locale!=="ko"&&(Oc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Oc&&(k=oV()):(pa=u,tw="value"in pa?pa.value:pa.textContent,Oc=!0)),w=Bm(c,C),0<w.length&&(C=new NT(C,e,null,n,u),d.push({event:C,listeners:w}),k?C.data=k:(k=lV(n),k!==null&&(C.data=k)))),(k=rne?ine(e,n):one(e,n))&&(c=Bm(c,"onBeforeInput"),0<c.length&&(u=new NT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}bV(d,t)})}function th(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Kf(e,n),o!=null&&r.unshift(th(e,o,i)),o=Kf(e,t),o!=null&&r.push(th(e,o,i))),e=e.return}return r}function mc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YT(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Kf(n,o),l!=null&&s.unshift(th(n,l,a))):i||(l=Kf(n,o),l!=null&&s.push(th(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ane=/\r\n?/g,bne=/\u0000|\uFFFD/g;function QT(e){return(typeof e=="string"?e:""+e).replace(Ane,`
`).replace(bne,"")}function Dp(e,t,n){if(t=QT(t),QT(e)!==t&&n)throw Error(ce(425))}function Dm(){}var Gb=null,qb=null;function Wb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kb=typeof setTimeout=="function"?setTimeout:void 0,Sne=typeof clearTimeout=="function"?clearTimeout:void 0,JT=typeof Promise=="function"?Promise:void 0,_ne=typeof queueMicrotask=="function"?queueMicrotask:typeof JT<"u"?function(e){return JT.resolve(null).then(e).catch(xne)}:Kb;function xne(e){setTimeout(function(){throw e})}function eA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jf(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xu=Math.random().toString(36).slice(2),ns="__reactFiber$"+Xu,nh="__reactProps$"+Xu,zs="__reactContainer$"+Xu,Yb="__reactEvents$"+Xu,wne="__reactListeners$"+Xu,Ene="__reactHandles$"+Xu;function pl(e){var t=e[ns];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zs]||n[ns]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=XT(e);e!==null;){if(n=e[ns])return n;e=XT(e)}return t}e=n,n=e.parentNode}return null}function Lh(e){return e=e[ns]||e[zs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function vy(e){return e[nh]||null}var Qb=[],Bc=-1;function Ha(e){return{current:e}}function Jt(e){0>Bc||(e.current=Qb[Bc],Qb[Bc]=null,Bc--)}function qt(e,t){Bc++,Qb[Bc]=e.current,e.current=t}var La={},Cr=Ha(La),ri=Ha(!1),$l=La;function Eu(e,t){var n=e.type.contextTypes;if(!n)return La;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ii(e){return e=e.childContextTypes,e!=null}function Fm(){Jt(ri),Jt(Cr)}function ZT(e,t,n){if(Cr.current!==La)throw Error(ce(168));qt(Cr,t),qt(ri,n)}function _V(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ce(108,cte(e)||"Unknown",i));return pn({},n,r)}function $m(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||La,$l=Cr.current,qt(Cr,e),qt(ri,ri.current),!0}function eI(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=_V(e,t,$l),r.__reactInternalMemoizedMergedChildContext=e,Jt(ri),Jt(Cr),qt(Cr,e)):Jt(ri),qt(ri,n)}var _s=null,Ay=!1,tA=!1;function xV(e){_s===null?_s=[e]:_s.push(e)}function kne(e){Ay=!0,xV(e)}function Ga(){if(!tA&&_s!==null){tA=!0;var e=0,t=Mt;try{var n=_s;for(Mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_s=null,Ay=!1}catch(i){throw _s!==null&&(_s=_s.slice(e+1)),KO(Jx,Ga),i}finally{Mt=t,tA=!1}}return null}var Dc=[],Fc=0,zm=null,Um=0,Ui=[],Hi=0,zl=null,ks=1,Cs="";function sl(e,t){Dc[Fc++]=Um,Dc[Fc++]=zm,zm=e,Um=t}function wV(e,t,n){Ui[Hi++]=ks,Ui[Hi++]=Cs,Ui[Hi++]=zl,zl=e;var r=ks;e=Cs;var i=32-Oo(r)-1;r&=~(1<<i),n+=1;var o=32-Oo(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ks=1<<32-Oo(t)+i|n<<i|r,Cs=o+e}else ks=1<<o|n<<i|r,Cs=e}function sw(e){e.return!==null&&(sl(e,1),wV(e,1,0))}function aw(e){for(;e===zm;)zm=Dc[--Fc],Dc[Fc]=null,Um=Dc[--Fc],Dc[Fc]=null;for(;e===zl;)zl=Ui[--Hi],Ui[Hi]=null,Cs=Ui[--Hi],Ui[Hi]=null,ks=Ui[--Hi],Ui[Hi]=null}var Si=null,vi=null,on=!1,xo=null;function EV(e,t){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Si=e,vi=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Si=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zl!==null?{id:ks,overflow:Cs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Si=e,vi=null,!0):!1;default:return!1}}function Jb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xb(e){if(on){var t=vi;if(t){var n=t;if(!tI(e,t)){if(Jb(e))throw Error(ce(418));t=wa(n.nextSibling);var r=Si;t&&tI(e,t)?EV(r,n):(e.flags=e.flags&-4097|2,on=!1,Si=e)}}else{if(Jb(e))throw Error(ce(418));e.flags=e.flags&-4097|2,on=!1,Si=e}}}function nI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Si=e}function Fp(e){if(e!==Si)return!1;if(!on)return nI(e),on=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wb(e.type,e.memoizedProps)),t&&(t=vi)){if(Jb(e))throw kV(),Error(ce(418));for(;t;)EV(e,t),t=wa(t.nextSibling)}if(nI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vi=wa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=Si?wa(e.stateNode.nextSibling):null;return!0}function kV(){for(var e=vi;e;)e=wa(e.nextSibling)}function ku(){vi=Si=null,on=!1}function lw(e){xo===null?xo=[e]:xo.push(e)}var Cne=Ks.ReactCurrentBatchConfig;function Ao(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Hm=Ha(null),Gm=null,$c=null,cw=null;function uw(){cw=$c=Gm=null}function dw(e){var t=Hm.current;Jt(Hm),e._currentValue=t}function Zb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function au(e,t){Gm=e,cw=$c=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zr=!0),e.firstContext=null)}function so(e){var t=e._currentValue;if(cw!==e)if(e={context:e,memoizedValue:t,next:null},$c===null){if(Gm===null)throw Error(ce(308));$c=e,Gm.dependencies={lanes:0,firstContext:e}}else $c=$c.next=e;return t}var gl=null;function fw(e){gl===null?gl=[e]:gl.push(e)}function CV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fw(t)):(n.next=i.next,i.next=n),t.interleaved=n,Us(e,r)}function Us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sa=!1;function hw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Us(e,n)}return i=r.interleaved,i===null?(t.next=t,fw(r)):(t.next=i.next,i.next=t),r.interleaved=t,Us(e,n)}function Mg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xx(e,n)}}function rI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qm(e,t,n,r){var i=e.updateQueue;sa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=pn({},d,h);break e;case 2:sa=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Hl|=s,e.lanes=s,e.memoizedState=d}}function iI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var IV=new CO.Component().refs;function eS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var by={isMounted:function(e){return(e=e._reactInternals)?ic(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Ca(e),o=Os(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ea(e,o,i),t!==null&&(Vo(t,e,i,r),Mg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Ca(e),o=Os(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ea(e,o,i),t!==null&&(Vo(t,e,i,r),Mg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zr(),r=Ca(e),i=Os(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ea(e,i,r),t!==null&&(Vo(t,e,r,n),Mg(t,e,r))}};function oI(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Zf(n,r)||!Zf(i,o):!0}function RV(e,t,n){var r=!1,i=La,o=t.contextType;return typeof o=="object"&&o!==null?o=so(o):(i=ii(t)?$l:Cr.current,r=t.contextTypes,o=(r=r!=null)?Eu(e,i):La),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=by,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function sI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&by.enqueueReplaceState(t,t.state,null)}function tS(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=IV,hw(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=so(o):(o=ii(t)?$l:Cr.current,i.context=Eu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(eS(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&by.enqueueReplaceState(i,i.state,null),qm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===IV&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function $p(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aI(e){var t=e._init;return t(e._payload)}function PV(e){function t(y,A){if(e){var S=y.deletions;S===null?(y.deletions=[A],y.flags|=16):S.push(A)}}function n(y,A){if(!e)return null;for(;A!==null;)t(y,A),A=A.sibling;return null}function r(y,A){for(y=new Map;A!==null;)A.key!==null?y.set(A.key,A):y.set(A.index,A),A=A.sibling;return y}function i(y,A){return y=Ta(y,A),y.index=0,y.sibling=null,y}function o(y,A,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<A?(y.flags|=2,A):S):(y.flags|=2,A)):(y.flags|=1048576,A)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,A,S,_){return A===null||A.tag!==6?(A=lA(S,y.mode,_),A.return=y,A):(A=i(A,S),A.return=y,A)}function l(y,A,S,_){var x=S.type;return x===jc?u(y,A,S.props.children,_,S.key):A!==null&&(A.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===oa&&aI(x)===A.type)?(_=i(A,S.props),_.ref=wd(y,A,S),_.return=y,_):(_=Bg(S.type,S.key,S.props,null,y.mode,_),_.ref=wd(y,A,S),_.return=y,_)}function c(y,A,S,_){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=cA(S,y.mode,_),A.return=y,A):(A=i(A,S.children||[]),A.return=y,A)}function u(y,A,S,_,x){return A===null||A.tag!==7?(A=Cl(S,y.mode,_,x),A.return=y,A):(A=i(A,S),A.return=y,A)}function d(y,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=lA(""+A,y.mode,S),A.return=y,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Rp:return S=Bg(A.type,A.key,A.props,null,y.mode,S),S.ref=wd(y,null,A),S.return=y,S;case Mc:return A=cA(A,y.mode,S),A.return=y,A;case oa:var _=A._init;return d(y,_(A._payload),S)}if($d(A)||Ad(A))return A=Cl(A,y.mode,S,null),A.return=y,A;$p(y,A)}return null}function h(y,A,S,_){var x=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return x!==null?null:a(y,A,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Rp:return S.key===x?l(y,A,S,_):null;case Mc:return S.key===x?c(y,A,S,_):null;case oa:return x=S._init,h(y,A,x(S._payload),_)}if($d(S)||Ad(S))return x!==null?null:u(y,A,S,_,null);$p(y,S)}return null}function p(y,A,S,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(S)||null,a(A,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rp:return y=y.get(_.key===null?S:_.key)||null,l(A,y,_,x);case Mc:return y=y.get(_.key===null?S:_.key)||null,c(A,y,_,x);case oa:var w=_._init;return p(y,A,S,w(_._payload),x)}if($d(_)||Ad(_))return y=y.get(S)||null,u(A,y,_,x,null);$p(A,_)}return null}function g(y,A,S,_){for(var x=null,w=null,k=A,C=A=0,E=null;k!==null&&C<S.length;C++){k.index>C?(E=k,k=null):E=k.sibling;var P=h(y,k,S[C],_);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&t(y,k),A=o(P,A,C),w===null?x=P:w.sibling=P,w=P,k=E}if(C===S.length)return n(y,k),on&&sl(y,C),x;if(k===null){for(;C<S.length;C++)k=d(y,S[C],_),k!==null&&(A=o(k,A,C),w===null?x=k:w.sibling=k,w=k);return on&&sl(y,C),x}for(k=r(y,k);C<S.length;C++)E=p(k,y,C,S[C],_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),A=o(E,A,C),w===null?x=E:w.sibling=E,w=E);return e&&k.forEach(function(N){return t(y,N)}),on&&sl(y,C),x}function m(y,A,S,_){var x=Ad(S);if(typeof x!="function")throw Error(ce(150));if(S=x.call(S),S==null)throw Error(ce(151));for(var w=x=null,k=A,C=A=0,E=null,P=S.next();k!==null&&!P.done;C++,P=S.next()){k.index>C?(E=k,k=null):E=k.sibling;var N=h(y,k,P.value,_);if(N===null){k===null&&(k=E);break}e&&k&&N.alternate===null&&t(y,k),A=o(N,A,C),w===null?x=N:w.sibling=N,w=N,k=E}if(P.done)return n(y,k),on&&sl(y,C),x;if(k===null){for(;!P.done;C++,P=S.next())P=d(y,P.value,_),P!==null&&(A=o(P,A,C),w===null?x=P:w.sibling=P,w=P);return on&&sl(y,C),x}for(k=r(y,k);!P.done;C++,P=S.next())P=p(k,y,C,P.value,_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),A=o(P,A,C),w===null?x=P:w.sibling=P,w=P);return e&&k.forEach(function(z){return t(y,z)}),on&&sl(y,C),x}function b(y,A,S,_){if(typeof S=="object"&&S!==null&&S.type===jc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Rp:e:{for(var x=S.key,w=A;w!==null;){if(w.key===x){if(x=S.type,x===jc){if(w.tag===7){n(y,w.sibling),A=i(w,S.props.children),A.return=y,y=A;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===oa&&aI(x)===w.type){n(y,w.sibling),A=i(w,S.props),A.ref=wd(y,w,S),A.return=y,y=A;break e}n(y,w);break}else t(y,w);w=w.sibling}S.type===jc?(A=Cl(S.props.children,y.mode,_,S.key),A.return=y,y=A):(_=Bg(S.type,S.key,S.props,null,y.mode,_),_.ref=wd(y,A,S),_.return=y,y=_)}return s(y);case Mc:e:{for(w=S.key;A!==null;){if(A.key===w)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){n(y,A.sibling),A=i(A,S.children||[]),A.return=y,y=A;break e}else{n(y,A);break}else t(y,A);A=A.sibling}A=cA(S,y.mode,_),A.return=y,y=A}return s(y);case oa:return w=S._init,b(y,A,w(S._payload),_)}if($d(S))return g(y,A,S,_);if(Ad(S))return m(y,A,S,_);$p(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(n(y,A.sibling),A=i(A,S),A.return=y,y=A):(n(y,A),A=lA(S,y.mode,_),A.return=y,y=A),s(y)):n(y,A)}return b}var Cu=PV(!0),MV=PV(!1),Nh={},ls=Ha(Nh),rh=Ha(Nh),ih=Ha(Nh);function ml(e){if(e===Nh)throw Error(ce(174));return e}function pw(e,t){switch(qt(ih,t),qt(rh,e),qt(ls,Nh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jb(t,e)}Jt(ls),qt(ls,t)}function Tu(){Jt(ls),Jt(rh),Jt(ih)}function jV(e){ml(ih.current);var t=ml(ls.current),n=jb(t,e.type);t!==n&&(qt(rh,e),qt(ls,n))}function gw(e){rh.current===e&&(Jt(ls),Jt(rh))}var cn=Ha(0);function Wm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nA=[];function mw(){for(var e=0;e<nA.length;e++)nA[e]._workInProgressVersionPrimary=null;nA.length=0}var jg=Ks.ReactCurrentDispatcher,rA=Ks.ReactCurrentBatchConfig,Ul=0,fn=null,zn=null,Zn=null,Km=!1,yf=!1,oh=0,Tne=0;function Ar(){throw Error(ce(321))}function yw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Do(e[n],t[n]))return!1;return!0}function vw(e,t,n,r,i,o){if(Ul=o,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jg.current=e===null||e.memoizedState===null?Mne:jne,e=n(r,i),yf){o=0;do{if(yf=!1,oh=0,25<=o)throw Error(ce(301));o+=1,Zn=zn=null,t.updateQueue=null,jg.current=One,e=n(r,i)}while(yf)}if(jg.current=Ym,t=zn!==null&&zn.next!==null,Ul=0,Zn=zn=fn=null,Km=!1,t)throw Error(ce(300));return e}function Aw(){var e=oh!==0;return oh=0,e}function Yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?fn.memoizedState=Zn=e:Zn=Zn.next=e,Zn}function ao(){if(zn===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=zn.next;var t=Zn===null?fn.memoizedState:Zn.next;if(t!==null)Zn=t,zn=e;else{if(e===null)throw Error(ce(310));zn=e,e={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Zn===null?fn.memoizedState=Zn=e:Zn=Zn.next=e}return Zn}function sh(e,t){return typeof t=="function"?t(e):t}function iA(e){var t=ao(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=zn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ul&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,fn.lanes|=u,Hl|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Do(r,t.memoizedState)||(Zr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,fn.lanes|=o,Hl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oA(e){var t=ao(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Do(o,t.memoizedState)||(Zr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function OV(){}function VV(e,t){var n=fn,r=ao(),i=t(),o=!Do(r.memoizedState,i);if(o&&(r.memoizedState=i,Zr=!0),r=r.queue,bw(BV.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,ah(9,NV.bind(null,n,r,i,t),void 0,null),nr===null)throw Error(ce(349));Ul&30||LV(n,t,i)}return i}function LV(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function NV(e,t,n,r){t.value=n,t.getSnapshot=r,DV(t)&&FV(e)}function BV(e,t,n){return n(function(){DV(t)&&FV(e)})}function DV(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Do(e,n)}catch{return!0}}function FV(e){var t=Us(e,1);t!==null&&Vo(t,e,1,-1)}function lI(e){var t=Yo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:e},t.queue=e,e=e.dispatch=Pne.bind(null,fn,e),[t.memoizedState,e]}function ah(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $V(){return ao().memoizedState}function Og(e,t,n,r){var i=Yo();fn.flags|=e,i.memoizedState=ah(1|t,n,void 0,r===void 0?null:r)}function Sy(e,t,n,r){var i=ao();r=r===void 0?null:r;var o=void 0;if(zn!==null){var s=zn.memoizedState;if(o=s.destroy,r!==null&&yw(r,s.deps)){i.memoizedState=ah(t,n,o,r);return}}fn.flags|=e,i.memoizedState=ah(1|t,n,o,r)}function cI(e,t){return Og(8390656,8,e,t)}function bw(e,t){return Sy(2048,8,e,t)}function zV(e,t){return Sy(4,2,e,t)}function UV(e,t){return Sy(4,4,e,t)}function HV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GV(e,t,n){return n=n!=null?n.concat([e]):null,Sy(4,4,HV.bind(null,t,e),n)}function Sw(){}function qV(e,t){var n=ao();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function WV(e,t){var n=ao();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function KV(e,t,n){return Ul&21?(Do(n,t)||(n=JO(),fn.lanes|=n,Hl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zr=!0),e.memoizedState=n)}function Ine(e,t){var n=Mt;Mt=n!==0&&4>n?n:4,e(!0);var r=rA.transition;rA.transition={};try{e(!1),t()}finally{Mt=n,rA.transition=r}}function YV(){return ao().memoizedState}function Rne(e,t,n){var r=Ca(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QV(e))JV(t,n);else if(n=CV(e,t,n,r),n!==null){var i=zr();Vo(n,e,r,i),XV(n,t,r)}}function Pne(e,t,n){var r=Ca(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QV(e))JV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Do(a,s)){var l=t.interleaved;l===null?(i.next=i,fw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=CV(e,t,i,r),n!==null&&(i=zr(),Vo(n,e,r,i),XV(n,t,r))}}function QV(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function JV(e,t){yf=Km=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function XV(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xx(e,n)}}var Ym={readContext:so,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},Mne={readContext:so,useCallback:function(e,t){return Yo().memoizedState=[e,t===void 0?null:t],e},useContext:so,useEffect:cI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Og(4194308,4,HV.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Og(4194308,4,e,t)},useInsertionEffect:function(e,t){return Og(4,2,e,t)},useMemo:function(e,t){var n=Yo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rne.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=Yo();return e={current:e},t.memoizedState=e},useState:lI,useDebugValue:Sw,useDeferredValue:function(e){return Yo().memoizedState=e},useTransition:function(){var e=lI(!1),t=e[0];return e=Ine.bind(null,e[1]),Yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,i=Yo();if(on){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),nr===null)throw Error(ce(349));Ul&30||LV(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,cI(BV.bind(null,r,o,e),[e]),r.flags|=2048,ah(9,NV.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yo(),t=nr.identifierPrefix;if(on){var n=Cs,r=ks;n=(r&~(1<<32-Oo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jne={readContext:so,useCallback:qV,useContext:so,useEffect:bw,useImperativeHandle:GV,useInsertionEffect:zV,useLayoutEffect:UV,useMemo:WV,useReducer:iA,useRef:$V,useState:function(){return iA(sh)},useDebugValue:Sw,useDeferredValue:function(e){var t=ao();return KV(t,zn.memoizedState,e)},useTransition:function(){var e=iA(sh)[0],t=ao().memoizedState;return[e,t]},useMutableSource:OV,useSyncExternalStore:VV,useId:YV,unstable_isNewReconciler:!1},One={readContext:so,useCallback:qV,useContext:so,useEffect:bw,useImperativeHandle:GV,useInsertionEffect:zV,useLayoutEffect:UV,useMemo:WV,useReducer:oA,useRef:$V,useState:function(){return oA(sh)},useDebugValue:Sw,useDeferredValue:function(e){var t=ao();return zn===null?t.memoizedState=e:KV(t,zn.memoizedState,e)},useTransition:function(){var e=oA(sh)[0],t=ao().memoizedState;return[e,t]},useMutableSource:OV,useSyncExternalStore:VV,useId:YV,unstable_isNewReconciler:!1};function Iu(e,t){try{var n="",r=t;do n+=lte(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function sA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vne=typeof WeakMap=="function"?WeakMap:Map;function ZV(e,t,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jm||(Jm=!0,fS=r),nS(e,t)},n}function e4(e,t,n){n=Os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nS(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){nS(e,t),typeof r!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function uI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vne;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Yne.bind(null,e,t,n),t.then(e,e))}function dI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Os(-1,1),t.tag=2,Ea(n,t,1))),n.lanes|=1),e)}var Lne=Ks.ReactCurrentOwner,Zr=!1;function jr(e,t,n,r){t.child=e===null?MV(t,null,n,r):Cu(t,e.child,n,r)}function hI(e,t,n,r,i){n=n.render;var o=t.ref;return au(t,i),r=vw(e,t,n,r,o,i),n=Aw(),e!==null&&!Zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(on&&n&&sw(t),t.flags|=1,jr(e,t,r,i),t.child)}function pI(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Iw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,t4(e,t,o,r,i)):(e=Bg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zf,n(s,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,e=Ta(o,r),e.ref=t.ref,e.return=t,t.child=e}function t4(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Zf(o,r)&&e.ref===t.ref)if(Zr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zr=!0);else return t.lanes=e.lanes,Hs(e,t,i)}return rS(e,t,n,r,i)}function n4(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Uc,pi),pi|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(Uc,pi),pi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qt(Uc,pi),pi|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,qt(Uc,pi),pi|=r;return jr(e,t,i,n),t.child}function r4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rS(e,t,n,r,i){var o=ii(n)?$l:Cr.current;return o=Eu(t,o),au(t,i),n=vw(e,t,n,r,o,i),r=Aw(),e!==null&&!Zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(on&&r&&sw(t),t.flags|=1,jr(e,t,n,i),t.child)}function gI(e,t,n,r,i){if(ii(n)){var o=!0;$m(t)}else o=!1;if(au(t,i),t.stateNode===null)Vg(e,t),RV(t,n,r),tS(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=so(c):(c=ii(n)?$l:Cr.current,c=Eu(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sI(t,s,r,c),sa=!1;var h=t.memoizedState;s.state=h,qm(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ri.current||sa?(typeof u=="function"&&(eS(t,n,u,r),l=t.memoizedState),(a=sa||oI(t,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,TV(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ao(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=so(l):(l=ii(n)?$l:Cr.current,l=Eu(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&sI(t,s,r,l),sa=!1,h=t.memoizedState,s.state=h,qm(t,r,s,i);var g=t.memoizedState;a!==d||h!==g||ri.current||sa?(typeof p=="function"&&(eS(t,n,p,r),g=t.memoizedState),(c=sa||oI(t,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return iS(e,t,n,r,o,i)}function iS(e,t,n,r,i,o){r4(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&eI(t,n,!1),Hs(e,t,o);r=t.stateNode,Lne.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Cu(t,e.child,null,o),t.child=Cu(t,null,a,o)):jr(e,t,a,o),t.memoizedState=r.state,i&&eI(t,n,!0),t.child}function i4(e){var t=e.stateNode;t.pendingContext?ZT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZT(e,t.context,!1),pw(e,t.containerInfo)}function mI(e,t,n,r,i){return ku(),lw(i),t.flags|=256,jr(e,t,n,r),t.child}var oS={dehydrated:null,treeContext:null,retryLane:0};function sS(e){return{baseLanes:e,cachePool:null,transitions:null}}function o4(e,t,n){var r=t.pendingProps,i=cn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qt(cn,i&1),e===null)return Xb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=wy(s,r,0,null),e=Cl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sS(n),t.memoizedState=oS,e):_w(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Nne(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ta(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ta(a,o):(o=Cl(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?sS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=oS,r}return o=e.child,e=o.sibling,r=Ta(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _w(e,t){return t=wy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zp(e,t,n,r){return r!==null&&lw(r),Cu(t,e.child,null,n),e=_w(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nne(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=sA(Error(ce(422))),zp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=wy({mode:"visible",children:r.children},i,0,null),o=Cl(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Cu(t,e.child,null,s),t.child.memoizedState=sS(s),t.memoizedState=oS,o);if(!(t.mode&1))return zp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ce(419)),r=sA(o,r,void 0),zp(e,t,s,r)}if(a=(s&e.childLanes)!==0,Zr||a){if(r=nr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Us(e,i),Vo(r,e,i,-1))}return Tw(),r=sA(Error(ce(421))),zp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Qne.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,vi=wa(i.nextSibling),Si=t,on=!0,xo=null,e!==null&&(Ui[Hi++]=ks,Ui[Hi++]=Cs,Ui[Hi++]=zl,ks=e.id,Cs=e.overflow,zl=t),t=_w(t,r.children),t.flags|=4096,t)}function yI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zb(e.return,t,n)}function aA(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function s4(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(jr(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yI(e,n,t);else if(e.tag===19)yI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qt(cn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aA(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aA(t,!0,n,null,o);break;case"together":aA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=Ta(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ta(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bne(e,t,n){switch(t.tag){case 3:i4(t),ku();break;case 5:jV(t);break;case 1:ii(t.type)&&$m(t);break;case 4:pw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qt(Hm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qt(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?o4(e,t,n):(qt(cn,cn.current&1),e=Hs(e,t,n),e!==null?e.sibling:null);qt(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return s4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,n4(e,t,n)}return Hs(e,t,n)}var a4,aS,l4,c4;a4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aS=function(){};l4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ml(ls.current);var o=null;switch(n){case"input":i=Ib(e,i),r=Ib(e,r),o=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),o=[];break;case"textarea":i=Mb(e,i),r=Mb(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Dm)}Ob(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};c4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ed(e,t){if(!on)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function br(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dne(e,t,n){var r=t.pendingProps;switch(aw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(t),null;case 1:return ii(t.type)&&Fm(),br(t),null;case 3:return r=t.stateNode,Tu(),Jt(ri),Jt(Cr),mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xo!==null&&(gS(xo),xo=null))),aS(e,t),br(t),null;case 5:gw(t);var i=ml(ih.current);if(n=t.type,e!==null&&t.stateNode!=null)l4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ce(166));return br(t),null}if(e=ml(ls.current),Fp(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ns]=t,r[nh]=o,e=(t.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<Ud.length;i++)Kt(Ud[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":kT(r,o),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Kt("invalid",r);break;case"textarea":TT(r,o),Kt("invalid",r)}Ob(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Dp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Dp(r.textContent,a,e),i=["children",""+a]):qf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Pp(r),CT(r,o,!0);break;case"textarea":Pp(r),IT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Dm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ns]=t,e[nh]=r,a4(e,t,!1,!1),t.stateNode=e;e:{switch(s=Vb(n,r),n){case"dialog":Kt("cancel",e),Kt("close",e),i=r;break;case"iframe":case"object":case"embed":Kt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ud.length;i++)Kt(Ud[i],e);i=r;break;case"source":Kt("error",e),i=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),i=r;break;case"details":Kt("toggle",e),i=r;break;case"input":kT(e,r),i=Ib(e,r),Kt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),Kt("invalid",e);break;case"textarea":TT(e,r),i=Mb(e,r),Kt("invalid",e);break;default:i=r}Ob(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?DO(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NO(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wf(e,l):typeof l=="number"&&Wf(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Kt("scroll",e):l!=null&&qx(e,o,l,s))}switch(n){case"input":Pp(e),CT(e,r,!1);break;case"textarea":Pp(e),IT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Va(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ru(e,!!r.multiple,o,!1):r.defaultValue!=null&&ru(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Dm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return br(t),null;case 6:if(e&&t.stateNode!=null)c4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ce(166));if(n=ml(ih.current),ml(ls.current),Fp(t)){if(r=t.stateNode,n=t.memoizedProps,r[ns]=t,(o=r.nodeValue!==n)&&(e=Si,e!==null))switch(e.tag){case 3:Dp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dp(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ns]=t,t.stateNode=r}return br(t),null;case 13:if(Jt(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&vi!==null&&t.mode&1&&!(t.flags&128))kV(),ku(),t.flags|=98560,o=!1;else if(o=Fp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ce(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ce(317));o[ns]=t}else ku(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;br(t),o=!1}else xo!==null&&(gS(xo),xo=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?Gn===0&&(Gn=3):Tw())),t.updateQueue!==null&&(t.flags|=4),br(t),null);case 4:return Tu(),aS(e,t),e===null&&eh(t.stateNode.containerInfo),br(t),null;case 10:return dw(t.type._context),br(t),null;case 17:return ii(t.type)&&Fm(),br(t),null;case 19:if(Jt(cn),o=t.memoizedState,o===null)return br(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ed(o,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Wm(e),s!==null){for(t.flags|=128,Ed(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qt(cn,cn.current&1|2),t.child}e=e.sibling}o.tail!==null&&In()>Ru&&(t.flags|=128,r=!0,Ed(o,!1),t.lanes=4194304)}else{if(!r)if(e=Wm(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ed(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!on)return br(t),null}else 2*In()-o.renderingStartTime>Ru&&n!==1073741824&&(t.flags|=128,r=!0,Ed(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=In(),t.sibling=null,n=cn.current,qt(cn,r?n&1|2:n&1),t):(br(t),null);case 22:case 23:return Cw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pi&1073741824&&(br(t),t.subtreeFlags&6&&(t.flags|=8192)):br(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function Fne(e,t){switch(aw(t),t.tag){case 1:return ii(t.type)&&Fm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tu(),Jt(ri),Jt(Cr),mw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gw(t),null;case 13:if(Jt(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));ku()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(cn),null;case 4:return Tu(),null;case 10:return dw(t.type._context),null;case 22:case 23:return Cw(),null;case 24:return null;default:return null}}var Up=!1,xr=!1,$ne=typeof WeakSet=="function"?WeakSet:Set,_e=null;function zc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){An(e,t,r)}else n.current=null}function lS(e,t,n){try{n()}catch(r){An(e,t,r)}}var vI=!1;function zne(e,t){if(Gb=Lm,e=hV(),ow(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qb={focusedElem:e,selectionRange:n},Lm=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,y=t.stateNode,A=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ao(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(_){An(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return g=vI,vI=!1,g}function vf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&lS(t,n,o)}i=i.next}while(i!==r)}}function _y(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function u4(e){var t=e.alternate;t!==null&&(e.alternate=null,u4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ns],delete t[nh],delete t[Yb],delete t[wne],delete t[Ene])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d4(e){return e.tag===5||e.tag===3||e.tag===4}function AI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dm));else if(r!==4&&(e=e.child,e!==null))for(uS(e,t,n),e=e.sibling;e!==null;)uS(e,t,n),e=e.sibling}function dS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dS(e,t,n),e=e.sibling;e!==null;)dS(e,t,n),e=e.sibling}var ar=null,_o=!1;function Zs(e,t,n){for(n=n.child;n!==null;)f4(e,t,n),n=n.sibling}function f4(e,t,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(py,n)}catch{}switch(n.tag){case 5:xr||zc(n,t);case 6:var r=ar,i=_o;ar=null,Zs(e,t,n),ar=r,_o=i,ar!==null&&(_o?(e=ar,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ar.removeChild(n.stateNode));break;case 18:ar!==null&&(_o?(e=ar,n=n.stateNode,e.nodeType===8?eA(e.parentNode,n):e.nodeType===1&&eA(e,n),Jf(e)):eA(ar,n.stateNode));break;case 4:r=ar,i=_o,ar=n.stateNode.containerInfo,_o=!0,Zs(e,t,n),ar=r,_o=i;break;case 0:case 11:case 14:case 15:if(!xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&lS(n,t,s),i=i.next}while(i!==r)}Zs(e,t,n);break;case 1:if(!xr&&(zc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){An(n,t,a)}Zs(e,t,n);break;case 21:Zs(e,t,n);break;case 22:n.mode&1?(xr=(r=xr)||n.memoizedState!==null,Zs(e,t,n),xr=r):Zs(e,t,n);break;default:Zs(e,t,n)}}function bI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $ne),t.forEach(function(r){var i=Jne.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,_o=!1;break e;case 3:ar=a.stateNode.containerInfo,_o=!0;break e;case 4:ar=a.stateNode.containerInfo,_o=!0;break e}a=a.return}if(ar===null)throw Error(ce(160));f4(o,s,i),ar=null,_o=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){An(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h4(t,e),t=t.sibling}function h4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),qo(e),r&4){try{vf(3,e,e.return),_y(3,e)}catch(m){An(e,e.return,m)}try{vf(5,e,e.return)}catch(m){An(e,e.return,m)}}break;case 1:mo(t,e),qo(e),r&512&&n!==null&&zc(n,n.return);break;case 5:if(mo(t,e),qo(e),r&512&&n!==null&&zc(n,n.return),e.flags&32){var i=e.stateNode;try{Wf(i,"")}catch(m){An(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&OO(i,o),Vb(a,s);var c=Vb(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?DO(i,d):u==="dangerouslySetInnerHTML"?NO(i,d):u==="children"?Wf(i,d):qx(i,u,d,c)}switch(a){case"input":Rb(i,o);break;case"textarea":VO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ru(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ru(i,!!o.multiple,o.defaultValue,!0):ru(i,!!o.multiple,o.multiple?[]:"",!1))}i[nh]=o}catch(m){An(e,e.return,m)}}break;case 6:if(mo(t,e),qo(e),r&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){An(e,e.return,m)}}break;case 3:if(mo(t,e),qo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jf(t.containerInfo)}catch(m){An(e,e.return,m)}break;case 4:mo(t,e),qo(e);break;case 13:mo(t,e),qo(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ew=In())),r&4&&bI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(xr=(c=xr)||u,mo(t,e),xr=c):mo(t,e),qo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(_e=e,u=e.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:vf(4,h,h.return);break;case 1:zc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){An(r,n,m)}}break;case 5:zc(h,h.return);break;case 22:if(h.memoizedState!==null){_I(d);continue}}p!==null?(p.return=h,_e=p):_I(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BO("display",s))}catch(m){An(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){An(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mo(t,e),qo(e),r&4&&bI(e);break;case 21:break;default:mo(t,e),qo(e)}}function qo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(d4(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wf(i,""),r.flags&=-33);var o=AI(e);dS(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=AI(e);uS(e,a,s);break;default:throw Error(ce(161))}}catch(l){An(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Une(e,t,n){_e=e,p4(e)}function p4(e,t,n){for(var r=(e.mode&1)!==0;_e!==null;){var i=_e,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Up;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xr;a=Up;var c=xr;if(Up=s,(xr=l)&&!c)for(_e=i;_e!==null;)s=_e,l=s.child,s.tag===22&&s.memoizedState!==null?xI(i):l!==null?(l.return=s,_e=l):xI(i);for(;o!==null;)_e=o,p4(o),o=o.sibling;_e=i,Up=a,xr=c}SI(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,_e=o):SI(e)}}function SI(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xr||_y(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ao(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&iI(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iI(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Jf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}xr||t.flags&512&&cS(t)}catch(h){An(t,t.return,h)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function _I(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function xI(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_y(4,t)}catch(l){An(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){An(t,i,l)}}var o=t.return;try{cS(t)}catch(l){An(t,o,l)}break;case 5:var s=t.return;try{cS(t)}catch(l){An(t,s,l)}}}catch(l){An(t,t.return,l)}if(t===e){_e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,_e=a;break}_e=t.return}}var Hne=Math.ceil,Qm=Ks.ReactCurrentDispatcher,xw=Ks.ReactCurrentOwner,Xi=Ks.ReactCurrentBatchConfig,pt=0,nr=null,Dn=null,pr=0,pi=0,Uc=Ha(0),Gn=0,lh=null,Hl=0,xy=0,ww=0,Af=null,Qr=null,Ew=0,Ru=1/0,bs=null,Jm=!1,fS=null,ka=null,Hp=!1,ga=null,Xm=0,bf=0,hS=null,Lg=-1,Ng=0;function zr(){return pt&6?In():Lg!==-1?Lg:Lg=In()}function Ca(e){return e.mode&1?pt&2&&pr!==0?pr&-pr:Cne.transition!==null?(Ng===0&&(Ng=JO()),Ng):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:iV(e.type)),e):1}function Vo(e,t,n,r){if(50<bf)throw bf=0,hS=null,Error(ce(185));Oh(e,n,r),(!(pt&2)||e!==nr)&&(e===nr&&(!(pt&2)&&(xy|=n),Gn===4&&la(e,pr)),oi(e,r),n===1&&pt===0&&!(t.mode&1)&&(Ru=In()+500,Ay&&Ga()))}function oi(e,t){var n=e.callbackNode;Cte(e,t);var r=Vm(e,e===nr?pr:0);if(r===0)n!==null&&MT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&MT(n),t===1)e.tag===0?kne(wI.bind(null,e)):xV(wI.bind(null,e)),_ne(function(){!(pt&6)&&Ga()}),n=null;else{switch(XO(r)){case 1:n=Jx;break;case 4:n=YO;break;case 16:n=Om;break;case 536870912:n=QO;break;default:n=Om}n=_4(n,g4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function g4(e,t){if(Lg=-1,Ng=0,pt&6)throw Error(ce(327));var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=Vm(e,e===nr?pr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zm(e,r);else{t=r;var i=pt;pt|=2;var o=y4();(nr!==e||pr!==t)&&(bs=null,Ru=In()+500,kl(e,t));do try{Wne();break}catch(a){m4(e,a)}while(!0);uw(),Qm.current=o,pt=i,Dn!==null?t=0:(nr=null,pr=0,t=Gn)}if(t!==0){if(t===2&&(i=Fb(e),i!==0&&(r=i,t=pS(e,i))),t===1)throw n=lh,kl(e,0),la(e,r),oi(e,In()),n;if(t===6)la(e,r);else{if(i=e.current.alternate,!(r&30)&&!Gne(i)&&(t=Zm(e,r),t===2&&(o=Fb(e),o!==0&&(r=o,t=pS(e,o))),t===1))throw n=lh,kl(e,0),la(e,r),oi(e,In()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:al(e,Qr,bs);break;case 3:if(la(e,r),(r&130023424)===r&&(t=Ew+500-In(),10<t)){if(Vm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kb(al.bind(null,e,Qr,bs),t);break}al(e,Qr,bs);break;case 4:if(la(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Oo(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hne(r/1960))-r,10<r){e.timeoutHandle=Kb(al.bind(null,e,Qr,bs),r);break}al(e,Qr,bs);break;case 5:al(e,Qr,bs);break;default:throw Error(ce(329))}}}return oi(e,In()),e.callbackNode===n?g4.bind(null,e):null}function pS(e,t){var n=Af;return e.current.memoizedState.isDehydrated&&(kl(e,t).flags|=256),e=Zm(e,t),e!==2&&(t=Qr,Qr=n,t!==null&&gS(t)),e}function gS(e){Qr===null?Qr=e:Qr.push.apply(Qr,e)}function Gne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Do(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function la(e,t){for(t&=~ww,t&=~xy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oo(t),r=1<<n;e[n]=-1,t&=~r}}function wI(e){if(pt&6)throw Error(ce(327));lu();var t=Vm(e,0);if(!(t&1))return oi(e,In()),null;var n=Zm(e,t);if(e.tag!==0&&n===2){var r=Fb(e);r!==0&&(t=r,n=pS(e,r))}if(n===1)throw n=lh,kl(e,0),la(e,t),oi(e,In()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,al(e,Qr,bs),oi(e,In()),null}function kw(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(Ru=In()+500,Ay&&Ga())}}function Gl(e){ga!==null&&ga.tag===0&&!(pt&6)&&lu();var t=pt;pt|=1;var n=Xi.transition,r=Mt;try{if(Xi.transition=null,Mt=1,e)return e()}finally{Mt=r,Xi.transition=n,pt=t,!(pt&6)&&Ga()}}function Cw(){pi=Uc.current,Jt(Uc)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sne(n)),Dn!==null)for(n=Dn.return;n!==null;){var r=n;switch(aw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fm();break;case 3:Tu(),Jt(ri),Jt(Cr),mw();break;case 5:gw(r);break;case 4:Tu();break;case 13:Jt(cn);break;case 19:Jt(cn);break;case 10:dw(r.type._context);break;case 22:case 23:Cw()}n=n.return}if(nr=e,Dn=e=Ta(e.current,null),pr=pi=t,Gn=0,lh=null,ww=xy=Hl=0,Qr=Af=null,gl!==null){for(t=0;t<gl.length;t++)if(n=gl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}gl=null}return e}function m4(e,t){do{var n=Dn;try{if(uw(),jg.current=Ym,Km){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Km=!1}if(Ul=0,Zn=zn=fn=null,yf=!1,oh=0,xw.current=null,n===null||n.return===null){Gn=1,lh=t,Dn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=pr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=dI(s);if(p!==null){p.flags&=-257,fI(p,s,a,o,t),p.mode&1&&uI(o,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){uI(o,c,t),Tw();break e}l=Error(ce(426))}}else if(on&&a.mode&1){var b=dI(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fI(b,s,a,o,t),lw(Iu(l,a));break e}}o=l=Iu(l,a),Gn!==4&&(Gn=2),Af===null?Af=[o]:Af.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=ZV(o,l,t);rI(o,y);break e;case 1:a=l;var A=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ka===null||!ka.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=e4(o,a,t);rI(o,_);break e}}o=o.return}while(o!==null)}A4(n)}catch(x){t=x,Dn===n&&n!==null&&(Dn=n=n.return);continue}break}while(!0)}function y4(){var e=Qm.current;return Qm.current=Ym,e===null?Ym:e}function Tw(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),nr===null||!(Hl&268435455)&&!(xy&268435455)||la(nr,pr)}function Zm(e,t){var n=pt;pt|=2;var r=y4();(nr!==e||pr!==t)&&(bs=null,kl(e,t));do try{qne();break}catch(i){m4(e,i)}while(!0);if(uw(),pt=n,Qm.current=r,Dn!==null)throw Error(ce(261));return nr=null,pr=0,Gn}function qne(){for(;Dn!==null;)v4(Dn)}function Wne(){for(;Dn!==null&&!vte();)v4(Dn)}function v4(e){var t=S4(e.alternate,e,pi);e.memoizedProps=e.pendingProps,t===null?A4(e):Dn=t,xw.current=null}function A4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fne(n,t),n!==null){n.flags&=32767,Dn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,Dn=null;return}}else if(n=Dne(n,t,pi),n!==null){Dn=n;return}if(t=t.sibling,t!==null){Dn=t;return}Dn=t=e}while(t!==null);Gn===0&&(Gn=5)}function al(e,t,n){var r=Mt,i=Xi.transition;try{Xi.transition=null,Mt=1,Kne(e,t,n,r)}finally{Xi.transition=i,Mt=r}return null}function Kne(e,t,n,r){do lu();while(ga!==null);if(pt&6)throw Error(ce(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Tte(e,o),e===nr&&(Dn=nr=null,pr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hp||(Hp=!0,_4(Om,function(){return lu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xi.transition,Xi.transition=null;var s=Mt;Mt=1;var a=pt;pt|=4,xw.current=null,zne(e,n),h4(n,e),pne(qb),Lm=!!Gb,qb=Gb=null,e.current=n,Une(n),Ate(),pt=a,Mt=s,Xi.transition=o}else e.current=n;if(Hp&&(Hp=!1,ga=e,Xm=i),o=e.pendingLanes,o===0&&(ka=null),_te(n.stateNode),oi(e,In()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jm)throw Jm=!1,e=fS,fS=null,e;return Xm&1&&e.tag!==0&&lu(),o=e.pendingLanes,o&1?e===hS?bf++:(bf=0,hS=e):bf=0,Ga(),null}function lu(){if(ga!==null){var e=XO(Xm),t=Xi.transition,n=Mt;try{if(Xi.transition=null,Mt=16>e?16:e,ga===null)var r=!1;else{if(e=ga,ga=null,Xm=0,pt&6)throw Error(ce(331));var i=pt;for(pt|=4,_e=e.current;_e!==null;){var o=_e,s=o.child;if(_e.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:vf(8,u,o)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,p=u.return;if(u4(u),u===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}_e=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,_e=s;else e:for(;_e!==null;){if(o=_e,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vf(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,_e=y;break e}_e=o.return}}var A=e.current;for(_e=A;_e!==null;){s=_e;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,_e=S;else e:for(s=A;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_y(9,a)}}catch(x){An(a,a.return,x)}if(a===s){_e=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,_e=_;break e}_e=a.return}}if(pt=i,Ga(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(py,e)}catch{}r=!0}return r}finally{Mt=n,Xi.transition=t}}return!1}function EI(e,t,n){t=Iu(n,t),t=ZV(e,t,1),e=Ea(e,t,1),t=zr(),e!==null&&(Oh(e,1,t),oi(e,t))}function An(e,t,n){if(e.tag===3)EI(e,e,n);else for(;t!==null;){if(t.tag===3){EI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ka===null||!ka.has(r))){e=Iu(n,e),e=e4(t,e,1),t=Ea(t,e,1),e=zr(),t!==null&&(Oh(t,1,e),oi(t,e));break}}t=t.return}}function Yne(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zr(),e.pingedLanes|=e.suspendedLanes&n,nr===e&&(pr&n)===n&&(Gn===4||Gn===3&&(pr&130023424)===pr&&500>In()-Ew?kl(e,0):ww|=n),oi(e,t)}function b4(e,t){t===0&&(e.mode&1?(t=Op,Op<<=1,!(Op&130023424)&&(Op=4194304)):t=1);var n=zr();e=Us(e,t),e!==null&&(Oh(e,t,n),oi(e,n))}function Qne(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),b4(e,n)}function Jne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(t),b4(e,n)}var S4;S4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ri.current)Zr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zr=!1,Bne(e,t,n);Zr=!!(e.flags&131072)}else Zr=!1,on&&t.flags&1048576&&wV(t,Um,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vg(e,t),e=t.pendingProps;var i=Eu(t,Cr.current);au(t,n),i=vw(null,t,r,e,i,n);var o=Aw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ii(r)?(o=!0,$m(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hw(t),i.updater=by,t.stateNode=i,i._reactInternals=t,tS(t,r,e,n),t=iS(null,t,r,!0,o,n)):(t.tag=0,on&&o&&sw(t),jr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Zne(r),e=Ao(r,e),i){case 0:t=rS(null,t,r,e,n);break e;case 1:t=gI(null,t,r,e,n);break e;case 11:t=hI(null,t,r,e,n);break e;case 14:t=pI(null,t,r,Ao(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),rS(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),gI(e,t,r,i,n);case 3:e:{if(i4(t),e===null)throw Error(ce(387));r=t.pendingProps,o=t.memoizedState,i=o.element,TV(e,t),qm(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Iu(Error(ce(423)),t),t=mI(e,t,r,n,i);break e}else if(r!==i){i=Iu(Error(ce(424)),t),t=mI(e,t,r,n,i);break e}else for(vi=wa(t.stateNode.containerInfo.firstChild),Si=t,on=!0,xo=null,n=MV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ku(),r===i){t=Hs(e,t,n);break e}jr(e,t,r,n)}t=t.child}return t;case 5:return jV(t),e===null&&Xb(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Wb(r,i)?s=null:o!==null&&Wb(r,o)&&(t.flags|=32),r4(e,t),jr(e,t,s,n),t.child;case 6:return e===null&&Xb(t),null;case 13:return o4(e,t,n);case 4:return pw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cu(t,null,r,n):jr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),hI(e,t,r,i,n);case 7:return jr(e,t,t.pendingProps,n),t.child;case 8:return jr(e,t,t.pendingProps.children,n),t.child;case 12:return jr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,qt(Hm,r._currentValue),r._currentValue=s,o!==null)if(Do(o.value,s)){if(o.children===i.children&&!ri.current){t=Hs(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Os(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zb(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ce(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zb(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,au(t,n),i=so(i),r=r(i),t.flags|=1,jr(e,t,r,n),t.child;case 14:return r=t.type,i=Ao(r,t.pendingProps),i=Ao(r.type,i),pI(e,t,r,i,n);case 15:return t4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),Vg(e,t),t.tag=1,ii(r)?(e=!0,$m(t)):e=!1,au(t,n),RV(t,r,i),tS(t,r,i,n),iS(null,t,r,!0,e,n);case 19:return s4(e,t,n);case 22:return n4(e,t,n)}throw Error(ce(156,t.tag))};function _4(e,t){return KO(e,t)}function Xne(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(e,t,n,r){return new Xne(e,t,n,r)}function Iw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zne(e){if(typeof e=="function")return Iw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kx)return 11;if(e===Yx)return 14}return 2}function Ta(e,t){var n=e.alternate;return n===null?(n=Wi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Iw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jc:return Cl(n.children,i,o,t);case Wx:s=8,i|=8;break;case Eb:return e=Wi(12,n,t,i|2),e.elementType=Eb,e.lanes=o,e;case kb:return e=Wi(13,n,t,i),e.elementType=kb,e.lanes=o,e;case Cb:return e=Wi(19,n,t,i),e.elementType=Cb,e.lanes=o,e;case PO:return wy(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case IO:s=10;break e;case RO:s=9;break e;case Kx:s=11;break e;case Yx:s=14;break e;case oa:s=16,r=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Wi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Cl(e,t,n,r){return e=Wi(7,e,r,t),e.lanes=n,e}function wy(e,t,n,r){return e=Wi(22,e,r,t),e.elementType=PO,e.lanes=n,e.stateNode={isHidden:!1},e}function lA(e,t,n){return e=Wi(6,e,null,t),e.lanes=n,e}function cA(e,t,n){return t=Wi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ere(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uv(0),this.expirationTimes=Uv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rw(e,t,n,r,i,o,s,a,l){return e=new ere(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(o),e}function tre(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function x4(e){if(!e)return La;e=e._reactInternals;e:{if(ic(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(ii(n))return _V(e,n,t)}return t}function w4(e,t,n,r,i,o,s,a,l){return e=Rw(n,r,!0,e,i,o,s,a,l),e.context=x4(null),n=e.current,r=zr(),i=Ca(n),o=Os(r,i),o.callback=t??null,Ea(n,o,i),e.current.lanes=i,Oh(e,i,r),oi(e,r),e}function Ey(e,t,n,r){var i=t.current,o=zr(),s=Ca(i);return n=x4(n),t.context===null?t.context=n:t.pendingContext=n,t=Os(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ea(i,t,s),e!==null&&(Vo(e,i,s,o),Mg(e,i,s)),s}function e0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pw(e,t){kI(e,t),(e=e.alternate)&&kI(e,t)}function nre(){return null}var E4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mw(e){this._internalRoot=e}ky.prototype.render=Mw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Ey(e,t,null,null)};ky.prototype.unmount=Mw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gl(function(){Ey(null,e,null,null)}),t[zs]=null}};function ky(e){this._internalRoot=e}ky.prototype.unstable_scheduleHydration=function(e){if(e){var t=tV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<aa.length&&t!==0&&t<aa[n].priority;n++);aa.splice(n,0,e),n===0&&rV(e)}};function jw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CI(){}function rre(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=e0(s);o.call(c)}}var s=w4(t,r,e,0,null,!1,!1,"",CI);return e._reactRootContainer=s,e[zs]=s.current,eh(e.nodeType===8?e.parentNode:e),Gl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=e0(l);a.call(c)}}var l=Rw(e,0,!1,null,null,!1,!1,"",CI);return e._reactRootContainer=l,e[zs]=l.current,eh(e.nodeType===8?e.parentNode:e),Gl(function(){Ey(t,l,n,r)}),l}function Ty(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=e0(s);a.call(l)}}Ey(t,s,e,i)}else s=rre(n,t,e,i,r);return e0(s)}ZO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zd(t.pendingLanes);n!==0&&(Xx(t,n|1),oi(t,In()),!(pt&6)&&(Ru=In()+500,Ga()))}break;case 13:Gl(function(){var r=Us(e,1);if(r!==null){var i=zr();Vo(r,e,1,i)}}),Pw(e,1)}};Zx=function(e){if(e.tag===13){var t=Us(e,134217728);if(t!==null){var n=zr();Vo(t,e,134217728,n)}Pw(e,134217728)}};eV=function(e){if(e.tag===13){var t=Ca(e),n=Us(e,t);if(n!==null){var r=zr();Vo(n,e,t,r)}Pw(e,t)}};tV=function(){return Mt};nV=function(e,t){var n=Mt;try{return Mt=e,t()}finally{Mt=n}};Nb=function(e,t,n){switch(t){case"input":if(Rb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vy(r);if(!i)throw Error(ce(90));jO(r),Rb(r,i)}}}break;case"textarea":VO(e,n);break;case"select":t=n.value,t!=null&&ru(e,!!n.multiple,t,!1)}};zO=kw;UO=Gl;var ire={usingClientEntryPoint:!1,Events:[Lh,Nc,vy,FO,$O,kw]},kd={findFiberByHostInstance:pl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ore={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qO(e),e===null?null:e.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||nre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gp.isDisabled&&Gp.supportsFiber)try{py=Gp.inject(ore),as=Gp}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ire;Ti.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jw(t))throw Error(ce(200));return tre(e,t,null,n)};Ti.createRoot=function(e,t){if(!jw(e))throw Error(ce(299));var n=!1,r="",i=E4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rw(e,1,!1,null,null,n,!1,r,i),e[zs]=t.current,eh(e.nodeType===8?e.parentNode:e),new Mw(t)};Ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=qO(t),e=e===null?null:e.stateNode,e};Ti.flushSync=function(e){return Gl(e)};Ti.hydrate=function(e,t,n){if(!Cy(t))throw Error(ce(200));return Ty(null,e,t,!0,n)};Ti.hydrateRoot=function(e,t,n){if(!jw(e))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=E4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=w4(t,null,e,1,n??null,i,!1,o,s),e[zs]=t.current,eh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ky(t)};Ti.render=function(e,t,n){if(!Cy(t))throw Error(ce(200));return Ty(null,e,t,!1,n)};Ti.unmountComponentAtNode=function(e){if(!Cy(e))throw Error(ce(40));return e._reactRootContainer?(Gl(function(){Ty(null,null,e,!1,function(){e._reactRootContainer=null,e[zs]=null})}),!0):!1};Ti.unstable_batchedUpdates=kw;Ti.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cy(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Ty(e,t,n,!1,r)};Ti.version="18.2.0-next-9e3b772b8-20220608";function k4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k4)}catch(e){console.error(e)}}k4(),wO.exports=Ti;var oc=wO.exports;const qp=mr(oc),TI={disabled:!1},t0=Ie.createContext(null);var sre=function(t){return t.scrollTop},Hd="unmounted",ll="exited",cl="entering",xc="entered",mS="exiting",Ys=function(e){xO(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=ll,o.appearStatus=cl):l=xc:r.unmountOnExit||r.mountOnEnter?l=Hd:l=ll,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Hd?{status:ll}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==cl&&s!==xc&&(o=cl):(s===cl||s===xc)&&(o=mS)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===cl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:qp.findDOMNode(this);s&&sre(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ll&&this.setState({status:Hd})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qp.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||TI.disabled){this.safeSetState({status:xc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:cl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:xc},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:qp.findDOMNode(this);if(!o||TI.disabled){this.safeSetState({status:ll},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:mS},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:ll},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:qp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Hd)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=_O(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ie.createElement(t0.Provider,{value:null},typeof s=="function"?s(i,a):Ie.cloneElement(Ie.Children.only(s),a))},t}(Ie.Component);Ys.contextType=t0;Ys.propTypes={};function yc(){}Ys.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yc,onEntering:yc,onEntered:yc,onExit:yc,onExiting:yc,onExited:yc};Ys.UNMOUNTED=Hd;Ys.EXITED=ll;Ys.ENTERING=cl;Ys.ENTERED=xc;Ys.EXITING=mS;const are=Ys;function lre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ow(e,t){var n=function(o){return t&&v.isValidElement(o)?t(o):o},r=Object.create(null);return e&&v.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function cre(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function yl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function ure(e,t){return Ow(e.children,function(n){return v.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:yl(n,"appear",e),enter:yl(n,"enter",e),exit:yl(n,"exit",e)})})}function dre(e,t,n){var r=Ow(e.children),i=cre(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(v.isValidElement(s)){var a=o in t,l=o in r,c=t[o],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=v.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:yl(s,"exit",e),enter:yl(s,"enter",e)}):!l&&a&&!u?i[o]=v.cloneElement(s,{in:!1}):l&&a&&v.isValidElement(c)&&(i[o]=v.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:yl(s,"exit",e),enter:yl(s,"enter",e)}))}}),i}var fre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},hre={component:"div",childFactory:function(t){return t}},Vw=function(e){xO(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(lre(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?ure(i,a):dre(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Ow(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=_b({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=_O(i,["component","childFactory"]),l=this.state.contextValue,c=fre(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Ie.createElement(t0.Provider,{value:l},c):Ie.createElement(t0.Provider,{value:l},Ie.createElement(o,a,c))},t}(Ie.Component);Vw.propTypes={};Vw.defaultProps=hre;const pre=Vw;function gre(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[u,d]=v.useState(!1),h=At(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=At(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),v.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Bi=Ir("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),yS=550,mre=80,yre=tc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,vre=tc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Are=tc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,bre=Xt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Sre=Xt(gre,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Bi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${yre};
    animation-duration: ${yS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Bi.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Bi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Bi.childLeaving} {
    opacity: 0;
    animation-name: ${vre};
    animation-duration: ${yS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Bi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Are};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,_re=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=v.useRef(!1),p=pX(),g=v.useRef(null),m=v.useRef(null),b=v.useCallback(_=>{const{pulsate:x,rippleX:w,rippleY:k,rippleSize:C,cb:E}=_;c(P=>[...P,f.jsx(Sre,{classes:{ripple:At(o.ripple,Bi.ripple),rippleVisible:At(o.rippleVisible,Bi.rippleVisible),ripplePulsate:At(o.ripplePulsate,Bi.ripplePulsate),child:At(o.child,Bi.child),childLeaving:At(o.childLeaving,Bi.childLeaving),childPulsate:At(o.childPulsate,Bi.childPulsate)},timeout:yS,pulsate:x,rippleX:w,rippleY:k,rippleSize:C},u.current)]),u.current+=1,d.current=E},[o]),y=v.useCallback((_={},x={},w=()=>{})=>{const{pulsate:k=!1,center:C=i||x.pulsate,fakeElement:E=!1}=x;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const P=E?null:m.current,N=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,j,V;if(C||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)z=Math.round(N.width/2),j=Math.round(N.height/2);else{const{clientX:M,clientY:T}=_.touches&&_.touches.length>0?_.touches[0]:_;z=Math.round(M-N.left),j=Math.round(T-N.top)}if(C)V=Math.sqrt((2*N.width**2+N.height**2)/3),V%2===0&&(V+=1);else{const M=Math.max(Math.abs((P?P.clientWidth:0)-z),z)*2+2,T=Math.max(Math.abs((P?P.clientHeight:0)-j),j)*2+2;V=Math.sqrt(M**2+T**2)}_!=null&&_.touches?g.current===null&&(g.current=()=>{b({pulsate:k,rippleX:z,rippleY:j,rippleSize:V,cb:w})},p.start(mre,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:k,rippleX:z,rippleY:j,rippleSize:V,cb:w})},[i,b,p]),A=v.useCallback(()=>{y({},{pulsate:!0})},[y]),S=v.useCallback((_,x)=>{if(p.clear(),(_==null?void 0:_.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{S(_,x)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=x},[p]);return v.useImperativeHandle(n,()=>({pulsate:A,start:y,stop:S}),[A,y,S]),f.jsx(bre,{className:At(Bi.root,o.root,s),ref:m,...a,children:f.jsx(pre,{component:null,exit:!0,children:l})})}),xre=_re;function wre(e){return Tr("MuiButtonBase",e)}const Ere=Ir("MuiButtonBase",["root","disabled","focusVisible"]),kre=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Hr({root:["root",t&&"disabled",n&&"focusVisible"]},wre,i);return n&&r&&(s.root+=` ${r}`),s},Cre=Xt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ere.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Tre=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:m,onClick:b,onContextMenu:y,onDragLeave:A,onFocus:S,onFocusVisible:_,onKeyDown:x,onKeyUp:w,onMouseDown:k,onMouseLeave:C,onMouseUp:E,onTouchEnd:P,onTouchMove:N,onTouchStart:z,tabIndex:j=0,TouchRippleProps:V,touchRippleRef:M,type:T,...D}=r,L=v.useRef(null),F=tte(),$=ja(F.ref,M),[G,U]=v.useState(!1);c&&G&&U(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{U(!0),L.current.focus()}}),[]);const ne=F.shouldMount&&!u&&!c;v.useEffect(()=>{G&&h&&!u&&F.pulsate()},[u,h,G,F]);function B(Ee,lt,Vt=d){return Pc(We=>(lt&&lt(We),Vt||F[Ee](We),!0))}const fe=B("start",k),Z=B("stop",y),ae=B("stop",A),Me=B("stop",E),xe=B("stop",Ee=>{G&&Ee.preventDefault(),C&&C(Ee)}),le=B("start",z),Ae=B("stop",P),Le=B("stop",N),Te=B("stop",Ee=>{aT(Ee.target)||U(!1),m&&m(Ee)},!1),Se=Pc(Ee=>{L.current||(L.current=Ee.currentTarget),aT(Ee.target)&&(U(!0),_&&_(Ee)),S&&S(Ee)}),we=()=>{const Ee=L.current;return l&&l!=="button"&&!(Ee.tagName==="A"&&Ee.href)},De=Pc(Ee=>{h&&!Ee.repeat&&G&&Ee.key===" "&&F.stop(Ee,()=>{F.start(Ee)}),Ee.target===Ee.currentTarget&&we()&&Ee.key===" "&&Ee.preventDefault(),x&&x(Ee),Ee.target===Ee.currentTarget&&we()&&Ee.key==="Enter"&&!c&&(Ee.preventDefault(),b&&b(Ee))}),Ge=Pc(Ee=>{h&&Ee.key===" "&&G&&!Ee.defaultPrevented&&F.stop(Ee,()=>{F.pulsate(Ee)}),w&&w(Ee),b&&Ee.target===Ee.currentTarget&&we()&&Ee.key===" "&&!Ee.defaultPrevented&&b(Ee)});let Re=l;Re==="button"&&(D.href||D.to)&&(Re=g);const Xe={};Re==="button"?(Xe.type=T===void 0?"button":T,Xe.disabled=c):(!D.href&&!D.to&&(Xe.role="button"),c&&(Xe["aria-disabled"]=c));const kt=ja(n,L),Wt={...r,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:j,focusVisible:G},Ct=kre(Wt);return f.jsxs(Cre,{as:Re,className:At(Ct.root,a),ownerState:Wt,onBlur:Te,onClick:b,onContextMenu:Z,onFocus:Se,onKeyDown:De,onKeyUp:Ge,onMouseDown:fe,onMouseLeave:xe,onMouseUp:Me,onDragLeave:ae,onTouchEnd:Ae,onTouchMove:Le,onTouchStart:le,ref:kt,tabIndex:c?-1:j,type:T,...Xe,...D,children:[s,ne?f.jsx(xre,{ref:$,center:o,...V}):null]})}),C4=Tre;function Ire(e){return Tr("MuiIconButton",e)}const Rre=Ir("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Pre=Rre,Mre=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${st(r)}`,i&&`edge${st(i)}`,`size${st(o)}`]};return Hr(s,Ire,t)},jre=Xt(C4,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${st(n.color)}`],n.edge&&t[`edge${st(n.edge)}`],t[`size${st(n.size)}`]]}})(oo(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ko(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),oo(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Gf()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Gf()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ko((e.vars||e).palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Pre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),Ore=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,disableRipple:u=!1,size:d="medium",...h}=r,p={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,disableRipple:u,size:d},g=Mre(p);return f.jsx(jre,{className:At(g.root,s),centerRipple:!0,focusRipple:!c,disabled:l,disableRipple:u,ref:n,...h,ownerState:p,children:o})}),Iy=Ore,Pu=Math.min,Tl=Math.max,n0=Math.round,Wp=Math.floor,Na=e=>({x:e,y:e}),Vre={left:"right",right:"left",bottom:"top",top:"bottom"},Lre={start:"end",end:"start"};function vS(e,t,n){return Tl(e,Pu(t,n))}function Bh(e,t){return typeof e=="function"?e(t):e}function ql(e){return e.split("-")[0]}function Dh(e){return e.split("-")[1]}function T4(e){return e==="x"?"y":"x"}function Lw(e){return e==="y"?"height":"width"}function Mu(e){return["top","bottom"].includes(ql(e))?"y":"x"}function Nw(e){return T4(Mu(e))}function Nre(e,t,n){n===void 0&&(n=!1);const r=Dh(e),i=Nw(e),o=Lw(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=r0(s)),[s,r0(s)]}function Bre(e){const t=r0(e);return[AS(e),t,AS(t)]}function AS(e){return e.replace(/start|end/g,t=>Lre[t])}function Dre(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function Fre(e,t,n,r){const i=Dh(e);let o=Dre(ql(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(AS)))),o}function r0(e){return e.replace(/left|right|bottom|top/g,t=>Vre[t])}function $re(e){return{top:0,right:0,bottom:0,left:0,...e}}function I4(e){return typeof e!="number"?$re(e):{top:e,right:e,bottom:e,left:e}}function i0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function II(e,t,n){let{reference:r,floating:i}=e;const o=Mu(t),s=Nw(t),a=Lw(s),l=ql(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Dh(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const zre=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=II(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:y}=a[m],{x:A,y:S,data:_,reset:x}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=A??u,d=S??d,p={...p,[b]:{...p[b],..._}},x&&g<=50&&(g++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(c=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:u,y:d}=II(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function R4(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Bh(t,e),g=I4(p),b=a[h?d==="floating"?"reference":"floating":d],y=i0(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},x=i0(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:S,strategy:l}):A);return{top:(y.top-x.top+g.top)/_.y,bottom:(x.bottom-y.bottom+g.bottom)/_.y,left:(y.left-x.left+g.left)/_.x,right:(x.right-y.right+g.right)/_.x}}const Ure=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Bh(e,t)||{};if(c==null)return{};const d=I4(u),h={x:n,y:r},p=Nw(i),g=Lw(p),m=await s.getDimensions(c),b=p==="y",y=b?"top":"left",A=b?"bottom":"right",S=b?"clientHeight":"clientWidth",_=o.reference[g]+o.reference[p]-h[p]-o.floating[g],x=h[p]-o.reference[p],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let k=w?w[S]:0;(!k||!await(s.isElement==null?void 0:s.isElement(w)))&&(k=a.floating[S]||o.floating[g]);const C=_/2-x/2,E=k/2-m[g]/2-1,P=Pu(d[y],E),N=Pu(d[A],E),z=P,j=k-m[g]-N,V=k/2-m[g]/2+C,M=vS(z,V,j),T=!l.arrow&&Dh(i)!=null&&V!==M&&o.reference[g]/2-(V<z?P:N)-m[g]/2<0,D=T?V<z?V-z:V-j:0;return{[p]:h[p]+D,data:{[p]:M,centerOffset:V-M-D,...T&&{alignmentOffset:D}},reset:T}}}),Hre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=Bh(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=ql(i),A=Mu(a),S=ql(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=h||(S||!m?[r0(a)]:Bre(a)),w=g!=="none";!h&&w&&x.push(...Fre(a,m,g,_));const k=[a,...x],C=await R4(t,b),E=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(C[y]),d){const V=Nre(i,s,_);E.push(C[V[0]],C[V[1]])}if(P=[...P,{placement:i,overflows:E}],!E.every(V=>V<=0)){var N,z;const V=(((N=o.flip)==null?void 0:N.index)||0)+1,M=k[V];if(M)return{data:{index:V,overflows:P},reset:{placement:M}};let T=(z=P.filter(D=>D.overflows[0]<=0).sort((D,L)=>D.overflows[1]-L.overflows[1])[0])==null?void 0:z.placement;if(!T)switch(p){case"bestFit":{var j;const D=(j=P.filter(L=>{if(w){const F=Mu(L.placement);return F===A||F==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(F=>F>0).reduce((F,$)=>F+$,0)]).sort((L,F)=>L[1]-F[1])[0])==null?void 0:j[0];D&&(T=D);break}case"initialPlacement":T=a;break}if(i!==T)return{reset:{placement:T}}}return{}}}};async function Gre(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ql(n),a=Dh(n),l=Mu(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=Bh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const qre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Gre(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Wre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:y,y:A}=b;return{x:y,y:A}}},...l}=Bh(e,t),c={x:n,y:r},u=await R4(t,l),d=Mu(ql(i)),h=T4(d);let p=c[h],g=c[d];if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",A=p+u[b],S=p-u[y];p=vS(A,p,S)}if(s){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",A=g+u[b],S=g-u[y];g=vS(A,g,S)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function Zu(e){return P4(e)?(e.nodeName||"").toLowerCase():"#document"}function _i(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qs(e){var t;return(t=(P4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function P4(e){return e instanceof Node||e instanceof _i(e).Node}function cs(e){return e instanceof Element||e instanceof _i(e).Element}function us(e){return e instanceof HTMLElement||e instanceof _i(e).HTMLElement}function RI(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _i(e).ShadowRoot}function Fh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Kre(e){return["table","td","th"].includes(Zu(e))}function Ry(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Bw(e){const t=Dw(),n=Fo(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Yre(e){let t=Ba(e);for(;us(t)&&!ju(t);){if(Ry(t))return null;if(Bw(t))return t;t=Ba(t)}return null}function Dw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ju(e){return["html","body","#document"].includes(Zu(e))}function Fo(e){return _i(e).getComputedStyle(e)}function Py(e){return cs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ba(e){if(Zu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||RI(e)&&e.host||Qs(e);return RI(t)?t.host:t}function M4(e){const t=Ba(e);return ju(t)?e.ownerDocument?e.ownerDocument.body:e.body:us(t)&&Fh(t)?t:M4(t)}function ch(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=M4(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=_i(i);return o?t.concat(s,s.visualViewport||[],Fh(i)?i:[],s.frameElement&&n?ch(s.frameElement):[]):t.concat(i,ch(i,[],n))}function j4(e){const t=Fo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=us(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=n0(n)!==o||n0(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Fw(e){return cs(e)?e:e.contextElement}function cu(e){const t=Fw(e);if(!us(t))return Na(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=j4(t);let s=(o?n0(n.width):n.width)/r,a=(o?n0(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Qre=Na(0);function O4(e){const t=_i(e);return!Dw()||!t.visualViewport?Qre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Jre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_i(e)?!1:t}function Wl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Fw(e);let s=Na(1);t&&(r?cs(r)&&(s=cu(r)):s=cu(e));const a=Jre(o,n,r)?O4(o):Na(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const h=_i(o),p=r&&cs(r)?_i(r):r;let g=h,m=g.frameElement;for(;m&&r&&p!==g;){const b=cu(m),y=m.getBoundingClientRect(),A=Fo(m),S=y.left+(m.clientLeft+parseFloat(A.paddingLeft))*b.x,_=y.top+(m.clientTop+parseFloat(A.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=S,c+=_,g=_i(m),m=g.frameElement}}return i0({width:u,height:d,x:l,y:c})}function Xre(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Qs(r),a=t?Ry(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Na(1);const u=Na(0),d=us(r);if((d||!d&&!o)&&((Zu(r)!=="body"||Fh(s))&&(l=Py(r)),us(r))){const h=Wl(r);c=cu(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Zre(e){return Array.from(e.getClientRects())}function V4(e){return Wl(Qs(e)).left+Py(e).scrollLeft}function eie(e){const t=Qs(e),n=Py(e),r=e.ownerDocument.body,i=Tl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Tl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+V4(e);const a=-n.scrollTop;return Fo(r).direction==="rtl"&&(s+=Tl(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function tie(e,t){const n=_i(e),r=Qs(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=Dw();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function nie(e,t){const n=Wl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=us(e)?cu(e):Na(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function PI(e,t,n){let r;if(t==="viewport")r=tie(e,n);else if(t==="document")r=eie(Qs(e));else if(cs(t))r=nie(t,n);else{const i=O4(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return i0(r)}function L4(e,t){const n=Ba(e);return n===t||!cs(n)||ju(n)?!1:Fo(n).position==="fixed"||L4(n,t)}function rie(e,t){const n=t.get(e);if(n)return n;let r=ch(e,[],!1).filter(a=>cs(a)&&Zu(a)!=="body"),i=null;const o=Fo(e).position==="fixed";let s=o?Ba(e):e;for(;cs(s)&&!ju(s);){const a=Fo(s),l=Bw(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fh(s)&&!l&&L4(e,s))?r=r.filter(u=>u!==s):i=a,s=Ba(s)}return t.set(e,r),r}function iie(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?Ry(t)?[]:rie(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=PI(t,u,i);return c.top=Tl(d.top,c.top),c.right=Pu(d.right,c.right),c.bottom=Pu(d.bottom,c.bottom),c.left=Tl(d.left,c.left),c},PI(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oie(e){const{width:t,height:n}=j4(e);return{width:t,height:n}}function sie(e,t,n){const r=us(t),i=Qs(t),o=n==="fixed",s=Wl(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Na(0);if(r||!r&&!o)if((Zu(t)!=="body"||Fh(i))&&(a=Py(t)),r){const d=Wl(t,!0,o,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=V4(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function uA(e){return Fo(e).position==="static"}function MI(e,t){return!us(e)||Fo(e).position==="fixed"?null:t?t(e):e.offsetParent}function N4(e,t){const n=_i(e);if(Ry(e))return n;if(!us(e)){let i=Ba(e);for(;i&&!ju(i);){if(cs(i)&&!uA(i))return i;i=Ba(i)}return n}let r=MI(e,t);for(;r&&Kre(r)&&uA(r);)r=MI(r,t);return r&&ju(r)&&uA(r)&&!Bw(r)?n:r||Yre(e)||n}const aie=async function(e){const t=this.getOffsetParent||N4,n=this.getDimensions,r=await n(e.floating);return{reference:sie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lie(e){return Fo(e).direction==="rtl"}const cie={convertOffsetParentRelativeRectToViewportRelativeRect:Xre,getDocumentElement:Qs,getClippingRect:iie,getOffsetParent:N4,getElementRects:aie,getClientRects:Zre,getDimensions:oie,getScale:cu,isElement:cs,isRTL:lie};function uie(e,t){let n=null,r;const i=Qs(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=Wp(u),g=Wp(i.clientWidth-(c+d)),m=Wp(i.clientHeight-(u+h)),b=Wp(c),A={rootMargin:-p+"px "+-g+"px "+-m+"px "+-b+"px",threshold:Tl(0,Pu(1,l))||1};let S=!0;function _(x){const w=x[0].intersectionRatio;if(w!==l){if(!S)return s();w?s(!1,w):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(_,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,A)}n.observe(e)}return s(!0),o}function die(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Fw(e),u=i||o?[...c?ch(c):[],...ch(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=c&&a?uie(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(y=>{let[A]=y;A&&A.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Wl(e):null;l&&b();function b(){const y=Wl(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,g=requestAnimationFrame(b)}return n(),()=>{var y;u.forEach(A=>{i&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const fie=qre,hie=Wre,pie=Hre,gie=Ure,jI=(e,t,n)=>{const r=new Map,i={platform:cie,...n},o={...i.platform,_c:r};return zre(e,t,{...i,platform:o})};var B4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(B4);var mie=B4.exports;const bS=mr(mie);var OI={};const yie="react-tooltip-core-styles",vie="react-tooltip-base-styles",VI={core:!1,base:!1};function LI({css:e,id:t=vie,type:n="base",ref:r}){var i,o;if(!e||typeof document>"u"||VI[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:OI)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:OI)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=yie),r||(r={});const{insertAt:s}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),VI[n]=!0}const NI=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:o="absolute",middlewares:s=[fie(Number(i)),pie({fallbackAxisSideDirection:"start"}),hie({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=s;return n?(l.push(gie({element:n,padding:5})),jI(e,t,{placement:r,strategy:o,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:b,y}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},A=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",S=a&&{borderBottom:a,borderRight:a};let _=0;if(a){const x=`${a}`.match(/(\d+)px/);_=x!=null&&x[1]?Number(x[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:b!=null?`${b}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",...S,[A]:`-${4+_}px`},place:d}})):jI(e,t,{placement:"bottom",strategy:o,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},BI=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),DI=(e,t,n)=>{let r=null;const i=function(...o){const s=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(s,t)),n||(r&&clearTimeout(r),r=setTimeout(s,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},FI=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",SS=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>SS(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!FI(e)||!FI(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>SS(e[i],t[i]))},Aie=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},$I=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Aie(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},bie=typeof window<"u"?v.useLayoutEffect:v.useEffect,Sie="DEFAULT_TOOLTIP_ID",_ie={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},xie=v.createContext({getTooltipData:()=>_ie});function D4(e=Sie){return v.useContext(xie).getTooltipData(e)}var vc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},dA={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const wie=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:o,anchorSelect:s,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:b=!1,hidden:y=!1,noArrow:A=!1,clickable:S=!1,closeOnEsc:_=!1,closeOnScroll:x=!1,closeOnResize:w=!1,openEvents:k,closeEvents:C,globalCloseEvents:E,imperativeModeOnly:P,style:N,position:z,afterShow:j,afterHide:V,content:M,contentWrapperRef:T,isOpen:D,defaultIsOpen:L=!1,setIsOpen:F,activeAnchor:$,setActiveAnchor:G,border:U,opacity:ne,arrowColor:B,role:fe="tooltip"})=>{var Z;const ae=v.useRef(null),Me=v.useRef(null),xe=v.useRef(null),le=v.useRef(null),Ae=v.useRef(null),[Le,Te]=v.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[Se,we]=v.useState(!1),[De,Ge]=v.useState(!1),[Re,Xe]=v.useState(null),kt=v.useRef(!1),Wt=v.useRef(null),{anchorRefs:Ct,setActiveAnchor:Ee}=D4(t),lt=v.useRef(!1),[Vt,We]=v.useState([]),je=v.useRef(!1),Tt=u||c.includes("click"),ct=Tt||(k==null?void 0:k.click)||(k==null?void 0:k.dblclick)||(k==null?void 0:k.mousedown),it=k?{...k}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!k&&Tt&&Object.assign(it,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const _n=C?{...C}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!C&&Tt&&Object.assign(_n,{mouseleave:!1,blur:!1,mouseout:!1});const wt=E?{...E}:{escape:_||!1,scroll:x||!1,resize:w||!1,clickOutsideAnchor:ct||!1};P&&(Object.assign(it,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(_n,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(wt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),bie(()=>(je.current=!0,()=>{je.current=!1}),[]);const ut=ve=>{je.current&&(ve&&Ge(!0),setTimeout(()=>{je.current&&(F==null||F(ve),D===void 0&&we(ve))},10))};v.useEffect(()=>{if(D===void 0)return()=>null;D&&Ge(!0);const ve=setTimeout(()=>{we(D)},10);return()=>{clearTimeout(ve)}},[D]),v.useEffect(()=>{if(Se!==kt.current)if(Ae.current&&clearTimeout(Ae.current),kt.current=Se,Se)j==null||j();else{const ve=(Ue=>{const Ye=Ue.match(/^([\d.]+)(ms|s)$/);if(!Ye)return 0;const[,jn,Kn]=Ye;return Number(jn)*(Kn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Ae.current=setTimeout(()=>{Ge(!1),Xe(null),V==null||V()},ve+25)}},[Se]);const sn=ve=>{Te(Ue=>SS(Ue,ve)?Ue:ve)},gn=(ve=g)=>{xe.current&&clearTimeout(xe.current),De?ut(!0):xe.current=setTimeout(()=>{ut(!0)},ve)},Zt=(ve=m)=>{le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{lt.current||ut(!1)},ve)},mt=ve=>{var Ue;if(!ve)return;const Ye=(Ue=ve.currentTarget)!==null&&Ue!==void 0?Ue:ve.target;if(!(Ye!=null&&Ye.isConnected))return G(null),void Ee({current:null});g?gn():ut(!0),G(Ye),Ee({current:Ye}),le.current&&clearTimeout(le.current)},$n=()=>{S?Zt(m||100):m?Zt():ut(!1),xe.current&&clearTimeout(xe.current)},vr=({x:ve,y:Ue})=>{var Ye;const jn={getBoundingClientRect:()=>({x:ve,y:Ue,width:0,height:0,top:Ue,left:ve,right:ve,bottom:Ue})};NI({place:(Ye=Re==null?void 0:Re.place)!==null&&Ye!==void 0?Ye:a,offset:l,elementReference:jn,tooltipReference:ae.current,tooltipArrowReference:Me.current,strategy:d,middlewares:h,border:U}).then(Kn=>{sn(Kn)})},xn=ve=>{if(!ve)return;const Ue=ve,Ye={x:Ue.clientX,y:Ue.clientY};vr(Ye),Wt.current=Ye},Ri=ve=>{var Ue;if(!Se)return;const Ye=ve.target;Ye.isConnected&&(!((Ue=ae.current)===null||Ue===void 0)&&Ue.contains(Ye)||[document.querySelector(`[id='${o}']`),...Vt].some(jn=>jn==null?void 0:jn.contains(Ye))||(ut(!1),xe.current&&clearTimeout(xe.current)))},ui=DI(mt,50,!0),It=DI($n,50,!0),wn=ve=>{It.cancel(),ui(ve)},$e=()=>{ui.cancel(),It()},tt=v.useCallback(()=>{var ve,Ue;const Ye=(ve=Re==null?void 0:Re.position)!==null&&ve!==void 0?ve:z;Ye?vr(Ye):b?Wt.current&&vr(Wt.current):$!=null&&$.isConnected&&NI({place:(Ue=Re==null?void 0:Re.place)!==null&&Ue!==void 0?Ue:a,offset:l,elementReference:$,tooltipReference:ae.current,tooltipArrowReference:Me.current,strategy:d,middlewares:h,border:U}).then(jn=>{je.current&&sn(jn)})},[Se,$,M,N,a,Re==null?void 0:Re.place,l,d,z,Re==null?void 0:Re.position,b]);v.useEffect(()=>{var ve,Ue;const Ye=new Set(Ct);Vt.forEach(Lt=>{Ye.add({current:Lt})});const jn=document.querySelector(`[id='${o}']`);jn&&Ye.add({current:jn});const Kn=()=>{ut(!1)},fi=$I($),Pi=$I(ae.current);wt.scroll&&(window.addEventListener("scroll",Kn),fi==null||fi.addEventListener("scroll",Kn),Pi==null||Pi.addEventListener("scroll",Kn));let ir=null;wt.resize?window.addEventListener("resize",Kn):$&&ae.current&&(ir=die($,ae.current,tt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const qr=Lt=>{Lt.key==="Escape"&&ut(!1)};wt.escape&&window.addEventListener("keydown",qr),wt.clickOutsideAnchor&&window.addEventListener("click",Ri);const $t=[],Ka=Lt=>{Se&&(Lt==null?void 0:Lt.target)===$||mt(Lt)},qy=Lt=>{Se&&(Lt==null?void 0:Lt.target)===$&&$n()},Wh=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Kh=["click","dblclick","mousedown","mouseup"];Object.entries(it).forEach(([Lt,po])=>{po&&(Wh.includes(Lt)?$t.push({event:Lt,listener:wn}):Kh.includes(Lt)&&$t.push({event:Lt,listener:Ka}))}),Object.entries(_n).forEach(([Lt,po])=>{po&&(Wh.includes(Lt)?$t.push({event:Lt,listener:$e}):Kh.includes(Lt)&&$t.push({event:Lt,listener:qy}))}),b&&$t.push({event:"pointermove",listener:xn});const Yh=()=>{lt.current=!0},Qh=()=>{lt.current=!1,$n()};return S&&!ct&&((ve=ae.current)===null||ve===void 0||ve.addEventListener("mouseenter",Yh),(Ue=ae.current)===null||Ue===void 0||Ue.addEventListener("mouseleave",Qh)),$t.forEach(({event:Lt,listener:po})=>{Ye.forEach(id=>{var Ya;(Ya=id.current)===null||Ya===void 0||Ya.addEventListener(Lt,po)})}),()=>{var Lt,po;wt.scroll&&(window.removeEventListener("scroll",Kn),fi==null||fi.removeEventListener("scroll",Kn),Pi==null||Pi.removeEventListener("scroll",Kn)),wt.resize?window.removeEventListener("resize",Kn):ir==null||ir(),wt.clickOutsideAnchor&&window.removeEventListener("click",Ri),wt.escape&&window.removeEventListener("keydown",qr),S&&!ct&&((Lt=ae.current)===null||Lt===void 0||Lt.removeEventListener("mouseenter",Yh),(po=ae.current)===null||po===void 0||po.removeEventListener("mouseleave",Qh)),$t.forEach(({event:id,listener:Ya})=>{Ye.forEach(Wy=>{var lc;(lc=Wy.current)===null||lc===void 0||lc.removeEventListener(id,Ya)})})}},[$,tt,De,Ct,Vt,k,C,E,Tt,g,m]),v.useEffect(()=>{var ve,Ue;let Ye=(Ue=(ve=Re==null?void 0:Re.anchorSelect)!==null&&ve!==void 0?ve:s)!==null&&Ue!==void 0?Ue:"";!Ye&&t&&(Ye=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const jn=new MutationObserver(Kn=>{const fi=[],Pi=[];Kn.forEach(ir=>{if(ir.type==="attributes"&&ir.attributeName==="data-tooltip-id"&&(ir.target.getAttribute("data-tooltip-id")===t?fi.push(ir.target):ir.oldValue===t&&Pi.push(ir.target)),ir.type==="childList"){if($){const qr=[...ir.removedNodes].filter($t=>$t.nodeType===1);if(Ye)try{Pi.push(...qr.filter($t=>$t.matches(Ye))),Pi.push(...qr.flatMap($t=>[...$t.querySelectorAll(Ye)]))}catch{}qr.some($t=>{var Ka;return!!(!((Ka=$t==null?void 0:$t.contains)===null||Ka===void 0)&&Ka.call($t,$))&&(Ge(!1),ut(!1),G(null),xe.current&&clearTimeout(xe.current),le.current&&clearTimeout(le.current),!0)})}if(Ye)try{const qr=[...ir.addedNodes].filter($t=>$t.nodeType===1);fi.push(...qr.filter($t=>$t.matches(Ye))),fi.push(...qr.flatMap($t=>[...$t.querySelectorAll(Ye)]))}catch{}}}),(fi.length||Pi.length)&&We(ir=>[...ir.filter(qr=>!Pi.includes(qr)),...fi])});return jn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{jn.disconnect()}},[t,s,Re==null?void 0:Re.anchorSelect,$]),v.useEffect(()=>{tt()},[tt]),v.useEffect(()=>{if(!(T!=null&&T.current))return()=>null;const ve=new ResizeObserver(()=>{setTimeout(()=>tt())});return ve.observe(T.current),()=>{ve.disconnect()}},[M,T==null?void 0:T.current]),v.useEffect(()=>{var ve;const Ue=document.querySelector(`[id='${o}']`),Ye=[...Vt,Ue];$&&Ye.includes($)||G((ve=Vt[0])!==null&&ve!==void 0?ve:Ue)},[o,Vt,$]),v.useEffect(()=>(L&&ut(!0),()=>{xe.current&&clearTimeout(xe.current),le.current&&clearTimeout(le.current)}),[]),v.useEffect(()=>{var ve;let Ue=(ve=Re==null?void 0:Re.anchorSelect)!==null&&ve!==void 0?ve:s;if(!Ue&&t&&(Ue=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Ue)try{const Ye=Array.from(document.querySelectorAll(Ue));We(Ye)}catch{We([])}},[t,s,Re==null?void 0:Re.anchorSelect]),v.useEffect(()=>{xe.current&&(clearTimeout(xe.current),gn(g))},[g]);const Wn=(Z=Re==null?void 0:Re.content)!==null&&Z!==void 0?Z:M,di=Se&&Object.keys(Le.tooltipStyles).length>0;return v.useImperativeHandle(e,()=>({open:ve=>{if(ve!=null&&ve.anchorSelect)try{document.querySelector(ve.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ve.anchorSelect}" is not a valid CSS selector`)}Xe(ve??null),ve!=null&&ve.delay?gn(ve.delay):ut(!0)},close:ve=>{ve!=null&&ve.delay?Zt(ve.delay):ut(!1)},activeAnchor:$,place:Le.place,isOpen:!!(De&&!y&&Wn&&di)})),De&&!y&&Wn?Ie.createElement(p,{id:t,role:fe,className:bS("react-tooltip",vc.tooltip,dA.tooltip,dA[i],n,`react-tooltip__place-${Le.place}`,vc[di?"show":"closing"],di?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&vc.fixed,S&&vc.clickable),onTransitionEnd:ve=>{Ae.current&&clearTimeout(Ae.current),Se||ve.propertyName!=="opacity"||(Ge(!1),Xe(null),V==null||V())},style:{...N,...Le.tooltipStyles,opacity:ne!==void 0&&di?ne:void 0},ref:ae},Wn,Ie.createElement(p,{className:bS("react-tooltip-arrow",vc.arrow,dA.arrow,r,A&&vc.noArrow),style:{...Le.tooltipArrowStyles,background:B?`linear-gradient(to right bottom, transparent 50%, ${B} 50%)`:void 0},ref:Me})):null},Eie=({content:e})=>Ie.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),kie=Ie.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:b,delayShow:y=0,delayHide:A=0,float:S=!1,hidden:_=!1,noArrow:x=!1,clickable:w=!1,closeOnEsc:k=!1,closeOnScroll:C=!1,closeOnResize:E=!1,openEvents:P,closeEvents:N,globalCloseEvents:z,imperativeModeOnly:j=!1,style:V,position:M,isOpen:T,defaultIsOpen:D=!1,disableStyleInjection:L=!1,border:F,opacity:$,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:B,role:fe="tooltip"},Z)=>{const[ae,Me]=v.useState(r),[xe,le]=v.useState(i),[Ae,Le]=v.useState(c),[Te,Se]=v.useState(l),[we,De]=v.useState(u),[Ge,Re]=v.useState(y),[Xe,kt]=v.useState(A),[Wt,Ct]=v.useState(S),[Ee,lt]=v.useState(_),[Vt,We]=v.useState(d),[je,Tt]=v.useState(p),[ct,it]=v.useState(m),[_n,wt]=v.useState(null),[ut,sn]=v.useState(null),gn=v.useRef(L),{anchorRefs:Zt,activeAnchor:mt}=D4(e),$n=It=>It==null?void 0:It.getAttributeNames().reduce((wn,$e)=>{var tt;return $e.startsWith("data-tooltip-")&&(wn[$e.replace(/^data-tooltip-/,"")]=(tt=It==null?void 0:It.getAttribute($e))!==null&&tt!==void 0?tt:null),wn},{}),vr=It=>{const wn={place:$e=>{var tt;Le((tt=$e)!==null&&tt!==void 0?tt:c)},content:$e=>{Me($e??r)},html:$e=>{le($e??i)},variant:$e=>{var tt;Se((tt=$e)!==null&&tt!==void 0?tt:l)},offset:$e=>{De($e===null?u:Number($e))},wrapper:$e=>{var tt;We((tt=$e)!==null&&tt!==void 0?tt:d)},events:$e=>{const tt=$e==null?void 0:$e.split(" ");Tt(tt??p)},"position-strategy":$e=>{var tt;it((tt=$e)!==null&&tt!==void 0?tt:m)},"delay-show":$e=>{Re($e===null?y:Number($e))},"delay-hide":$e=>{kt($e===null?A:Number($e))},float:$e=>{Ct($e===null?S:$e==="true")},hidden:$e=>{lt($e===null?_:$e==="true")},"class-name":$e=>{wt($e)}};Object.values(wn).forEach($e=>$e(null)),Object.entries(It).forEach(([$e,tt])=>{var Wn;(Wn=wn[$e])===null||Wn===void 0||Wn.call(wn,tt)})};v.useEffect(()=>{Me(r)},[r]),v.useEffect(()=>{le(i)},[i]),v.useEffect(()=>{Le(c)},[c]),v.useEffect(()=>{Se(l)},[l]),v.useEffect(()=>{De(u)},[u]),v.useEffect(()=>{Re(y)},[y]),v.useEffect(()=>{kt(A)},[A]),v.useEffect(()=>{Ct(S)},[S]),v.useEffect(()=>{lt(_)},[_]),v.useEffect(()=>{it(m)},[m]),v.useEffect(()=>{gn.current!==L&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[L]),v.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:L==="core",disableBase:L}}))},[]),v.useEffect(()=>{var It;const wn=new Set(Zt);let $e=n;if(!$e&&e&&($e=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),$e)try{document.querySelectorAll($e).forEach(Ue=>{wn.add({current:Ue})})}catch{console.warn(`[react-tooltip] "${$e}" is not a valid CSS selector`)}const tt=document.querySelector(`[id='${t}']`);if(tt&&wn.add({current:tt}),!wn.size)return()=>null;const Wn=(It=ut??tt)!==null&&It!==void 0?It:mt.current,di=new MutationObserver(Ue=>{Ue.forEach(Ye=>{var jn;if(!Wn||Ye.type!=="attributes"||!(!((jn=Ye.attributeName)===null||jn===void 0)&&jn.startsWith("data-tooltip-")))return;const Kn=$n(Wn);vr(Kn)})}),ve={attributes:!0,childList:!1,subtree:!1};if(Wn){const Ue=$n(Wn);vr(Ue),di.observe(Wn,ve)}return()=>{di.disconnect()}},[Zt,mt,ut,t,n]),v.useEffect(()=>{V!=null&&V.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),F&&!BI("border",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`border\`.`),V!=null&&V.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),$&&!BI("opacity",`${$}`)&&console.warn(`[react-tooltip] "${$}" is not a valid \`opacity\`.`)},[]);let xn=h;const Ri=v.useRef(null);if(o){const It=o({content:(ut==null?void 0:ut.getAttribute("data-tooltip-content"))||ae||null,activeAnchor:ut});xn=It?Ie.createElement("div",{ref:Ri,className:"react-tooltip-content-wrapper"},It):null}else ae&&(xn=ae);xe&&(xn=Ie.createElement(Eie,{content:xe}));const ui={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:bS(s,_n),classNameArrow:a,content:xn,contentWrapperRef:Ri,place:Ae,variant:Te,offset:we,wrapper:Vt,events:je,openOnClick:g,positionStrategy:ct,middlewares:b,delayShow:Ge,delayHide:Xe,float:Wt,hidden:Ee,noArrow:x,clickable:w,closeOnEsc:k,closeOnScroll:C,closeOnResize:E,openEvents:P,closeEvents:N,globalCloseEvents:z,imperativeModeOnly:j,style:V,position:M,isOpen:T,defaultIsOpen:D,border:F,opacity:$,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:B,activeAnchor:ut,setActiveAnchor:It=>sn(It),role:fe};return Ie.createElement(wie,{...ui})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||LI({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||LI({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Cie=R(kie,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",qe,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",pe.colors.text.active,";}}z-index:10000;"),Ou=({children:e,title:t,open:n,...r})=>{const i=v.useRef(null),o=v.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[oc.createPortal(f.jsx(Cie,{...r,id:o,ref:i,isOpen:n,children:t}),document.body),v.cloneElement(e,{"data-tooltip-id":o})]})},zI=e=>`tooltip_dismissed_${e}`,Tie=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...o})=>{const[s,a]=v.useState(!Be.local.getItem(zI(e))),l=v.useCallback(()=>{Be.local.setItem(zI(e),!0),a(void 0)},[e]);v.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(s===void 0||!s&&!n)&&o.open===void 0;return f.jsx(Ou,{clickable:!0,open:c?o.open:s,hidden:o.open===!1,...o,title:f.jsxs(f.Fragment,{children:[i,s&&f.jsx(Iie,{children:f.jsx(Rie,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Iie=R("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Rie=R("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",pe.colors.text.active,";border-color:",pe.colors.text.active,";}&:active{color:white;background:",pe.colors.text.active,";border-color:none;}"),Pie=ht(f.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Mie=ht(f.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function jie(){const[,e]=Je(A_),[t]=Je(yr),[n,r]=v.useState(document.fullscreenElement!==null);return v.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(Ou,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(Iy,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,o;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((o=(i=global.screen.orientation).lock)==null?void 0:o.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(s){console.info(s)}},children:n?f.jsx(Mie,{}):f.jsx(Pie,{})})})}const F4=uo("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",qe,",;",""),Oie=uo("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",pe.colors.text.active,";",""),Vie=uo("transform:scale(1.05);background:",pe.colors.text.active,";",""),My=no()?Vie:Oie,$4={animation:"focusAnimation 1000ms ease-in-out infinite both"},_S=uo("&:hover{",$4,";}&&&:active{background:",pe.colors.text.active,";}",""),Lie=R("a",{target:"eo7q3x1"})(F4," &&{color:white;text-decoration:none;}&[data-focused='true']{",My,";}&[disabled='false']{",_S,";}"),z4=({focused:e,...t})=>f.jsx(Lie,{...t}),Nie=R("button",{target:"eo7q3x0"})(F4,";&:not(:disabled){",_S,";}&[data-focused='true']{",My,";}&[disabled='false']{",_S,";}"),Uo=({focused:e,...t})=>f.jsx(Nie,{"data-focused":e,...t}),Bie={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},U4=uo("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Bie,";}&[data-size='small']{height:5rem;}",""),Die=R(z4,{target:"e1llc1k62"})(U4,";"),Fie=R(Uo,{target:"e1llc1k61"})(U4,";"),Oe=({size:e,disabled:t,...n})=>{const r="href"in n?Die:Fie;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},ho=R("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function sc({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx($ie,{onClick:t}),f.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto",children:f.jsx("div",{className:"flex items-center justify-center min-h-full",children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const $ie=R("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let zie=0;function ed(e,t){const n=v.useRef(`${String(Math.random())}-${zie++}`),{setKeyboard:r,unsetKeyboard:i}=v.useContext(xx),o=a=>{r(n.current,a)},s=()=>i(n.current);return v.useEffect(()=>(t&&o(e),s),[e,t]),{setHelp:o,clearHelp:s}}function qn(e={},t=!1){var _;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:o="vertical",additionalHelp:s={}}=e,[a,l]=v.useState(null),c=v.useRef([]),u=v.useRef([]),d=v.useRef({}),h=(_=d.current[a])==null?void 0:_.label,p=v.useMemo(()=>({[o]:null,accept:h??null,back:r?i:void 0,...s}),[h,d,i,o]);ed(p,n);const g=()=>{var x;(x=d.current[a])==null||x.callback(),tx.play()},m=()=>{r&&(nx.play(),r())},b=x=>{const w=a?c.current.indexOf(a):0;J0.play(),l(c.current.at((w+x)%c.current.length)??null)};nc({[o==="vertical"?"up":"left"]:()=>b(-1),[o==="vertical"?"down":"right"]:()=>b(1),accept:g,back:m},n,[a,c.current]);let y="";const A=(x,w,k,C=!1,{propName:E="onClick",disabled:P=!1}={})=>{if(P)return{disabled:P,focused:!1};u.current.push(x),w&&(d.current[x]={callback:w,label:k,propName:E}),C&&(y=x);const N=n&&a===x;return{focused:N,[E]:w,keyboardNavigationChangeFocus:b,"data-test":x,...n?{"data-focused":N,"data-e2e-focused":N}:{}}};return v.useEffect(()=>{var x;(x=document.querySelector(`[data-test="${a}"]`))==null||x.scrollIntoView({behavior:"smooth",block:"center"})},[a]),v.useEffect(()=>{let x=u.current.filter(w=>!c.current.includes(w));t&&x.length&&console.log("new elements",x),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||x.includes(y))&&l(y||c.current[0])}),{focusElement:x=>{c.current.includes(x)&&l(x)},focused:a,register:A}}var Uie=Object.defineProperty,o0=Object.getOwnPropertySymbols,H4=Object.prototype.hasOwnProperty,G4=Object.prototype.propertyIsEnumerable,UI=(e,t,n)=>t in e?Uie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uh=(e,t)=>{for(var n in t||(t={}))H4.call(t,n)&&UI(e,n,t[n]);if(o0)for(var n of o0(t))G4.call(t,n)&&UI(e,n,t[n]);return e},$w=(e,t)=>{var n={};for(var r in e)H4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&o0)for(var r of o0(e))t.indexOf(r)<0&&G4.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Kl;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const b=this.getPenaltyScore();b<g&&(d=m,g=b),this.applyMask(m)}}o(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const S=t.getNumDataCodewords(g,c)*8,_=a.getTotalBits(l,g);if(_<=S){m=_;break}if(g>=d)throw new RangeError("Data too long")}for(const S of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,S)*8&&(c=S);let b=[];for(const S of l){r(S.mode.modeBits,4,b),r(S.numChars,S.mode.numCharCountBits(g),b);for(const _ of S.getData())b.push(_)}o(b.length==m);const y=t.getNumDataCodewords(g,c)*8;o(b.length<=y),r(0,Math.min(4,y-b.length),b),r(0,(8-b.length%8)%8,b),o(b.length%8==0);for(let S=236;b.length<y;S^=253)r(S,8,b);let A=[];for(;A.length*8<b.length;)A.push(0);return b.forEach((S,_)=>A[_>>>3]|=S<<7-(_&7)),new t(g,c,A,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;o(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;o(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let b=[];const y=t.reedSolomonComputeDivisor(h);for(let S=0,_=0;S<d;S++){let x=l.slice(_,_+m-h+(S<g?0:1));_+=x.length;const w=t.reedSolomonComputeRemainder(x,y);S<g&&x.push(0),b.push(x.concat(w))}let A=[];for(let S=0;S<b[0].length;S++)b.forEach((_,x)=>{(S!=m-h||x>=g)&&A.push(_[S])});return o(A.length==p),A}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}o(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][b],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[b][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return o(0<=d&&d<=9),l+=d*t.PENALTY_N4,o(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return o(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return o(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];o(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const s=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new s(s.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!s.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new s(s.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!s.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new s(s.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:s.isNumeric(l)?[s.makeNumeric(l)]:s.isAlphanumeric(l)?[s.makeAlphanumeric(l)]:[s.makeBytes(s.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,c)}static isNumeric(l){return s.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return s.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=s;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(Kl||(Kl={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Kl||(Kl={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Kl||(Kl={}));var Hc=Kl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var q4={L:Hc.QrCode.Ecc.LOW,M:Hc.QrCode.Ecc.MEDIUM,Q:Hc.QrCode.Ecc.QUARTILE,H:Hc.QrCode.Ecc.HIGH},W4=128,K4="L",Y4="#FFFFFF",Q4="#000000",J4=!1,zw=4,Hie=.1;function X4(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(s,a){if(!s&&o!==null){n.push(`M${o+t} ${i+t}h${a-o}v1H${o+t}z`),o=null;return}if(a===r.length-1){if(!s)return;o===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${o+t},${i+t} h${a+1-o}v1H${o+t}z`);return}s&&o===null&&(o=a)})}),n.join("")}function Z4(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function eL(e,t,n,r){if(r==null)return null;const i=n?zw:0,o=e.length+i*2,s=Math.floor(t*Hie),a=o/t,l=(r.width||s)*a,c=(r.height||s)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),b=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:b}}return{x:u,y:d,h:c,w:l,excavation:h}}var Gie=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function tL(e){const t=e,{value:n,size:r=W4,level:i=K4,bgColor:o=Y4,fgColor:s=Q4,includeMargin:a=J4,style:l,imageSettings:c}=t,u=$w(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=v.useRef(null),p=v.useRef(null),[g,m]=v.useState(!1);v.useEffect(()=>{if(h.current!=null){const A=h.current,S=A.getContext("2d");if(!S)return;let _=Hc.QrCode.encodeText(n,q4[i]).getModules();const x=a?zw:0,w=_.length+x*2,k=eL(_,r,a,c),C=p.current,E=k!=null&&C!==null&&C.complete&&C.naturalHeight!==0&&C.naturalWidth!==0;E&&k.excavation!=null&&(_=Z4(_,k.excavation));const P=window.devicePixelRatio||1;A.height=A.width=r*P;const N=r/w*P;S.scale(N,N),S.fillStyle=o,S.fillRect(0,0,w,w),S.fillStyle=s,Gie?S.fill(new Path2D(X4(_,x))):_.forEach(function(z,j){z.forEach(function(V,M){V&&S.fillRect(M+x,j+x,1,1)})}),E&&S.drawImage(C,k.x+x,k.y+x,k.w,k.h)}}),v.useEffect(()=>{m(!1)},[d]);const b=uh({height:r,width:r},l);let y=null;return d!=null&&(y=Ie.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Ie.createElement(Ie.Fragment,null,Ie.createElement("canvas",uh({style:b,height:r,width:r,ref:h},u)),y)}function nL(e){const t=e,{value:n,size:r=W4,level:i=K4,bgColor:o=Y4,fgColor:s=Q4,includeMargin:a=J4,imageSettings:l}=t,c=$w(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Hc.QrCode.encodeText(n,q4[i]).getModules();const d=a?zw:0,h=u.length+d*2,p=eL(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=Z4(u,p.excavation)),g=Ie.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=X4(u,d);return Ie.createElement("svg",uh({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Ie.createElement("path",{fill:o,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Ie.createElement("path",{fill:s,d:m,shapeRendering:"crispEdges"}),g)}var qie=e=>{const t=e,{renderAs:n}=t,r=$w(t,["renderAs"]);return n==="svg"?Ie.createElement(nL,uh({},r)):Ie.createElement(tL,uh({},r))};const Wie=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:tL,QRCodeSVG:nL,default:qie},Symbol.toStringTag,{value:"Module"}));var rL={exports:{}},iL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=v;function Kie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yie=typeof Object.is=="function"?Object.is:Kie,Qie=Vu.useState,Jie=Vu.useEffect,Xie=Vu.useLayoutEffect,Zie=Vu.useDebugValue;function eoe(e,t){var n=t(),r=Qie({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Xie(function(){i.value=n,i.getSnapshot=t,fA(i)&&o({inst:i})},[e,n,t]),Jie(function(){return fA(i)&&o({inst:i}),e(function(){fA(i)&&o({inst:i})})},[e]),Zie(n),n}function fA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yie(e,n)}catch{return!0}}function toe(e,t){return t()}var noe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?toe:eoe;iL.useSyncExternalStore=Vu.useSyncExternalStore!==void 0?Vu.useSyncExternalStore:noe;rL.exports=iL;var roe=rL.exports;const{useEffect:ioe,useLayoutEffect:ooe,useRef:soe,useInsertionEffect:aoe}=Gg,loe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",coe=loe?ooe:ioe,oL=aoe||coe,sL=e=>{const t=soe([e,(...n)=>t[0](...n)]).current;return oL(()=>{t[0]=e}),t[1]},uoe=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",doe=(e,t="")=>e[0]==="~"?e.slice(1):t+e,foe="popstate",Uw="pushState",Hw="replaceState",hoe="hashchange",HI=[foe,Uw,Hw,hoe],poe=e=>{for(const t of HI)addEventListener(t,e);return()=>{for(const t of HI)removeEventListener(t,e)}},goe=(e,t)=>roe.useSyncExternalStore(poe,e,t),GI=()=>location.pathname,moe=({ssrPath:e}={})=>goe(GI,e?()=>e:GI),yoe=(e,{replace:t=!1}={})=>history[t?Hw:Uw](null,"",e),voe=(e={})=>[uoe(e.base,moe(e)),sL((t,n)=>yoe(doe(t,e.base),n))];if(typeof history<"u")for(const e of[Uw,Hw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Aoe(e=Soe){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:o,keys:s}=n(r||""),a=o.exec(i);return a?[!0,s.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const qI=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),boe=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Soe=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],o="";for(;(n=t.exec(e))!==null;){const[s,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,o+=qI(h)+boe(c,u,d)}return o+=qI(e.substring(r)),{keys:i,regexp:new RegExp("^"+o+"(?:\\/)?$","i")}},xS={hook:voe,matcher:Aoe(),base:""},aL=v.createContext(xS),jy=()=>v.useContext(aL),Oy=e=>e.hook(e),_oe=()=>Oy(jy()),lL=e=>{const t=jy(),[n]=Oy(t);return t.matcher(e,n)},xoe=v.createContext({params:{}}),woe=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:o})=>{const s=(l,c=i||xS)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=v.useState(()=>s({get base(){return(a.parent||xS).base+a.ownBase}}));return oL(()=>{s(a)}),v.createElement(aL.Provider,{value:a,children:o})},WI=(e,t)=>v.createElement(xoe.Provider,{value:{params:e},children:t}),Sr=({path:e,match:t,component:n,children:r})=>{const i=lL(e),[o,s]=t||i;return o?n?WI(s,v.createElement(n,{params:s})):WI(s,typeof r=="function"?r(s):r):null},Gw=v.forwardRef((e,t)=>{const n=jy(),[,r]=Oy(n),{to:i,href:o=i,children:s,onClick:a}=e,l=sL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||o,e)))}),c={href:o[0]==="~"?o.slice(1):n.base+o,onClick:l,to:null,ref:t},u=v.isValidElement(s)?s:v.createElement("a",e);return v.cloneElement(u,c)}),wS=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===v.Fragment?wS(t.props.children):wS(t))):[e],Eoe=({children:e,location:t})=>{const n=jy(),r=n.matcher,[i]=Oy(n);for(const o of wS(e)){let s=0;if(v.isValidElement(o)&&(s=o.props.path?r(o.props.path,t||i):[!0,{}])[0])return v.cloneElement(o,{match:s})}return null},{QRCodeSVG:koe}=Wie;function hA({gameCode:e,...t}){return f.jsx(Poe,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function qw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=lL("remote-mic"),n=oy("room")??El.getGameCode();e.pathname="/prs/338/remote-mic",e.searchParams.set("room",n);const r=e.href;return v.useEffect(()=>{t||El.start()},[t]),f.jsxs(joe,{children:[f.jsx(Voe,{children:f.jsxs("h1",{children:["Code: ",f.jsx(hA,{gameCode:n})]})}),f.jsx(Ooe,{children:f.jsx(koe,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(Loe,{children:[f.jsxs(Coe,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(hA,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(hA,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(Toe,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Ioe,{children:[f.jsx(Moe,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Roe,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Coe=R("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Toe=R("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Ioe=R("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Roe=R("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",pe.colors.text.active,";",qe,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Poe=R("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",xu,";"),Moe=R("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),joe=R("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Ooe=R("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Voe=R("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Loe=R("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",qe,";color:",pe.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Noe({closeModal:e}){const{register:t}=qn({onBackspace:e});return f.jsx(sc,{onClose:e,children:f.jsxs(ho,{children:[f.jsx(qw,{}),f.jsx(Uo,{...t("quick-connect-close",e),children:"Close"})]})})}function Boe(){const[e,t]=v.useState(!1);Je(yr);const[n,r]=Je(t5),{hasContent:i}=v.useContext(xx),o=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(Noe,{closeModal:o}),f.jsxs(Doe,{children:[i&&f.jsx(Ou,{title:"Toggle help",place:"bottom-end",children:f.jsx(Foe,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(Jee,{}):f.jsx(Xee,{})})}),f.jsx(jie,{}),f.jsx(Ou,{title:"Connect phone",place:"bottom-end",children:f.jsx(Iy,{size:"small",onClick:()=>t(s=>!s),"data-test":"quick-connect-phone",children:f.jsx(Im,{})})})]})]})}const Doe=R("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Foe=R(Iy,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Js({children:e,toolbar:t=!0}){return f.jsxs(rX,{children:[t&&f.jsx(Boe,{}),e]})}const $oe=ht(f.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),zoe=ht(f.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Ww=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),cL=R(Ww,{target:"e1uhpuaa1"})("fill:",pe.colors.players[1].text,";"),ES=R(Ww,{target:"e1uhpuaa0"})("fill:",pe.colors.players[0].text,";");function Uoe({active:e,setActiveTab:t}){return f.jsxs(Hoe,{children:[f.jsxs(pA,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(gA,{children:f.jsx(Ww,{})}),f.jsx(mA,{children:"Microphone"})]}),f.jsxs(pA,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(gA,{children:f.jsx($oe,{})}),f.jsx(mA,{children:"Song list"})]}),f.jsxs(pA,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(gA,{children:f.jsx(zoe,{})}),f.jsx(mA,{children:"Settings"})]})]})}const Hoe=R("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),pA=R("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?pe.colors.text.active:"#cecece",";"),gA=R("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),mA=R("div",{target:"e1c2ys9k0"})(""),td=ht(f.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Kw=()=>{const[e,t]=v.useState(Aa.getStatus());return v.useEffect(()=>Aa.addListener(t),[]),e};function uL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Goe="/prs/338/assets/allow-mic-DleF1-pf.png",qoe="/prs/338/assets/enable-mic-opera-B5FfRj_P.png",Woe="/prs/338/assets/enable-mic-TGG47ucR.png",Koe=()=>uL()?qoe:Woe,$h=({children:e,fallback:t,showImages:n=!0})=>{const r=Kw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(Qoe,{children:f.jsx(Joe,{})}),t,f.jsxs(Yoe,{children:[r==="requested"&&n&&f.jsx("img",{src:Goe,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:Koe(),alt:"how-to-enable"})]}),uL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Yoe=R("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Qoe=R("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Joe=R(td,{target:"e1w9vi9z0"})("color:",pe.colors.text.active,";font-size:3rem;");function Xoe(){return!1}const Dg=ht(f.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function zh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Zoe(e,t,n=1){return zh(e,e.indexOf(t),n)}function Il(e,t,n=1){return e[Zoe(e,t,n)]}const Ki=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:o,children:s,...a})=>f.jsxs(ese,{children:[f.jsxs(tse,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(nse,{children:r}),s??null]}),o&&f.jsx(dL,{children:o})]}),ese=R("div",{target:"e84wjn53"})(""),dL=R("div",{target:"e84wjn52"})(qe,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),tse=R("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",qe,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),nse=R("span",{target:"e84wjn50"})("color:",pe.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),ac=v.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:o,adornment:s,info:a,...l},c)=>{const u=v.useRef(null);return v.useImperativeHandle(c,()=>u.current),Or(hb,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(ise,{"data-focused":e,className:o,children:[f.jsx(ose,{children:t}),f.jsx(sse,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),s&&f.jsx(rse,{children:s})]}),a&&f.jsx(dL,{children:a})]})}),rse=R("span",{target:"et2ce2n3"})(""),ise=R("div",{target:"et2ce2n2"})("background:black;caret:underscore;",qe,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),ose=R("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),sse=R("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",qe,";color:",pe.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function ase(e){return Tr("MuiCircularProgress",e)}Ir("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ea=44,kS=tc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,CS=tc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,lse=typeof kS!="string"?uo`
        animation: ${kS} 1.4s linear infinite;
      `:null,cse=typeof CS!="string"?uo`
        animation: ${CS} 1.4s ease-in-out infinite;
      `:null,use=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${st(r)}`],svg:["svg"],circle:["circle",`circle${st(n)}`,i&&"circleDisableShrink"]};return Hr(o,ase,t)},dse=Xt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${st(n.color)}`]]}})(oo(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:lse||{animation:`${kS} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Gf()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),fse=Xt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),hse=Xt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${st(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(oo(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:cse||{animation:`${CS} 1.4s ease-in-out infinite`}}]}))),pse=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d},g=use(p),m={},b={},y={};if(d==="determinate"){const A=2*Math.PI*((ea-c)/2);m.strokeDasharray=A.toFixed(3),y["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return f.jsx(dse,{className:At(g.root,i),style:{width:a,height:a,...b,...l},ownerState:p,ref:n,role:"progressbar",...y,...h,children:f.jsx(fse,{className:g.svg,ownerState:p,viewBox:`${ea/2} ${ea/2} ${ea} ${ea}`,children:f.jsx(hse,{className:g.circle,style:m,ownerState:p,cx:ea,cy:ea,r:(ea-c)/2,fill:"none",strokeWidth:c})})})}),gse=pse;function Uh(e){return f.jsx(gse,{...e})}function dh(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const s0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,o])=>{o===null?r.delete(i):r.set(i,o)}),`${e}?${r.toString()}`}return e};function ci(){const[,e]=_oe();return(t,n,{smooth:r=!0,...i}={})=>{r?dh(()=>e(s0(t,n),i)):e(s0(t,n),i)}}const fL=ht(f.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),hL=ht(f.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),KI="confirmed-wifi";function mse({onClose:e}){const[t,n]=Ie.useState(Be.session.getItem(KI)??!1),r=()=>{Be.session.setItem(KI,!0),n(!0),e==null||e()};return v.useEffect(()=>{var i,o,s;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(s=(o=navigator==null?void 0:navigator.connection)==null?void 0:o.addEventListener)==null||s.call(o,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(sc,{onClose:r,children:f.jsxs(yse,{children:[f.jsxs(vse,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(Ase,{children:[f.jsx(hL,{}),"...",f.jsx(Dg,{}),"...",f.jsx(fL,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Oe,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const yse=R(ho,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),vse=R("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),Ase=R("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",pe.colors.text.default,";transform:scale(1);}25%{color:",pe.colors.text.active,";transform:scale(1.1);}50%{color:",pe.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function bse(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=v.useRef(),o=r.capture,s=r.passive,a=r.once;v.useEffect(function(){i.current=t},[t]),v.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:o,passive:s,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,o,s,a])}var nl={},Sse=function(e,t,n){return nl[e]||(nl[e]={callbacks:[],value:n}),nl[e].callbacks.push(t),{deregister:function(){var r=nl[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){nl[e].value!==r&&(nl[e].value=r,nl[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Hh(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,o){var s=r.getItem(i);return s==null?typeof o=="function"?o():o:JSON.parse(s)},set:function(i,o){r.setItem(i,JSON.stringify(o))}}}(t);return function(r){return function(i,o,s){var a=s.get,l=s.set,c=v.useRef(null),u=v.useState(function(){return a(o,i)}),d=u[0],h=u[1];bse("storage",function(g){if(g.key===o){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),v.useEffect(function(){return c.current=Sse(o,h,i),function(){c.current.deregister()}},[i,o]);var p=v.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(o,m),h(m),c.current.emit(g)},[d,l,o]);return[d,p]}(r,e,n)}}return v.useState}const _se=Hh("remote_mic_name");function xse({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[o,s]=_se(""),[a,l]=v.useState(!1),c=v.useRef(null),u=v.useRef(null),[d,h]=v.useState(t??""),p=ci(),g=n!=="uninitialised"&&n!=="error";v.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(_=!1)=>{dn.connect(d,o,_),r(_)},b=_=>{var x,w;_.preventDefault(),l(!1),!t&&d.length!==sf?(x=c.current)==null||x.focus():o===""?(w=u.current??c.current)==null||w.focus():m()};v.useEffect(()=>{var _;Pn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(_=c.current)==null||_.focus()},[]),v.useEffect(()=>{Be.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Be.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[y,A]=v.useState(!1);v.useEffect(()=>{if(A(!1),n==="connecting"||n==="reconnecting"){const _=setTimeout(()=>A(!0),2e3);return()=>clearTimeout(_)}},[n]);const S=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&f.jsx(mse,{onClose:()=>{var _;(_=c.current)==null||_.focus()}}),f.jsxs(wse,{onSubmit:b,children:[!g&&f.jsx(kse,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:sf,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:_=>{_.preventDefault();let x=(_.clipboardData||global.clipboardData).getData("text");x=x.replace(/\s/g,""),h(x.slice(0,sf))}}),f.jsx(ac,{maxLength:U_,focused:!1,label:"Your name",placeholder:"Enter your name",value:o,onChange:s,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(Ese,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(Uh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(y||S)&&f.jsxs(f.Fragment,{children:[y&&f.jsx("h3",{children:"If it doesn't connect"}),S&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(td,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Im,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Dg,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access "}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Dg,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Dg,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Im,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const wse=R("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Ese=R(Oe,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),kse=R(ac,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),Cse=ht(f.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Tse=ht(f.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),Ise=ht(f.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),Rse=ht(f.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Pse=ht(f.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),Mse=ht(f.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),jse=ht(f.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),Ose=ht(f.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),Yw=ht(f.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function Qw(e,t){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Vse({onSearchStateChange:e}){const[t,n]=v.useState(""),r=v.useRef(null),i=Qw(t,100),o=hJ(i);return v.useEffect(()=>{o!==i&&dn.searchSong(i.trim())},[o,i]),fJ(()=>e==null?void 0:e(!1)),f.jsx(Lse,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:U_,focused:!1,label:f.jsx(Yw,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Lse=R(ac,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Nse({onSearchStateChange:e}){var o;const[t]=Bo(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=s=>()=>{dn.sendKeyStroke(s)};return t!==void 0?f.jsxs(Bse,{"data-test":"remote-keyboard",children:[((o=t==null?void 0:t.remote)==null?void 0:o.includes("search"))&&f.jsx(Vse,{onSearchStateChange:e}),(n||r)&&f.jsxs(vA,{children:[f.jsx(yA,{children:f.jsx(wc,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(jse,{})})}),f.jsxs(yA,{children:[f.jsx(wc,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(Pse,{})}),f.jsx(wc,{disabled:!0,"data-disabled":!0,children:f.jsx(Ise,{})}),f.jsx(wc,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(Mse,{})})]}),f.jsx(yA,{children:f.jsx(wc,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(Rse,{})})})]}),f.jsxs(vA,{children:[f.jsx(AA,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(Cse,{})," Back"]})}),f.jsx(AA,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(Tse,{})]})})]}),f.jsx(Dse,{}),f.jsx(vA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(AA,{onClick:i("random"),children:[f.jsx(Ose,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Bse=R("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),yA=R("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),vA=R("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Dse=R("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Fse=R("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),wc=R(Fse,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),AA=R(wc,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),Jw=ht(f.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function pL({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Bo(te.remoteStyleChanged,!0)??["regular"],o=a=>{dn.requestPlayerChange(t,a),n()},s=e!==null;return f.jsx(sc,{onClose:n,children:f.jsxs($se,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Oe,{size:"small","data-test":"change-to-player-0",onClick:()=>o(0),disabled:e===0,style:{color:pe.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Oe,{size:"small","data-test":"change-to-player-1",onClick:()=>o(1),disabled:e===1,style:{color:pe.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Oe,{size:"small","data-test":"change-to-player-2",onClick:()=>o(2),disabled:e===2,style:{color:pe.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Oe,{size:"small","data-test":"change-to-player-3",onClick:()=>o(3),disabled:e===3,style:{color:pe.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Oe,{size:"small",onClick:()=>o(null),disabled:!s,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Oe,{size:"small",onClick:()=>dn.removePlayer(t),"data-test":"remove-player",children:"Remove"}),f.jsx(Oe,{onClick:n,size:"small",children:"Close"})]})})}const $se=R(ho,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function gL({number:e,...t}){const[n]=Bo(te.remoteStyleChanged,!0)??["regular"],r=Uj();return v.useEffect(()=>{r()},[n]),f.jsx(zse,{style:{background:e!==null?pe.colors.players[e].perfect.fill:pe.colors.text.inactive},...t})}const zse=R("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Use=v.memo(function({playerNumber:t}){const[n,r]=v.useState(!1),i=()=>r(!1),o=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(Hse,{onClick:()=>r(!0),"data-test":"change-player","data-joined":o,children:[o?f.jsxs(f.Fragment,{children:[f.jsx(gL,{number:t})," Change"]}):"Join game"," ",f.jsx(Jw,{})]}),n&&f.jsx(pL,{id:dn.getClientId(),playerNumber:t,onModalClose:i})]})}),Hse=R("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",qe,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",xu,";}:hover{",xu,";}:active{",My,";}svg{width:2rem;height:2rem;}");function Vy(){const[e]=Bo(te.remoteMicPermissionsSet,!0)??["write"];return e}function Gse({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[o,s]=v.useState(1e-6),a=Vy();v.useEffect(()=>{s(u=>t>u?t:u*.99)},[t]);const l=e!==null?pe.colors.players[e].miss.stroke:pe.colors.lines.normal.fill,c=e!==null?pe.colors.players[e].perfect.fill:pe.colors.lines.normal.fill;return f.jsxs(Kse,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(qse,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Use,{playerNumber:e}),f.jsx(Wse,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/o):1})`}})]})}const qse=R("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Wse=R("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Kse=R("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function YI({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=v.useState(0),[o,s]=v.useState(0),[a]=Bo(te.remoteMicPlayerSet,!0)??[null],l=v.useCallback(Zc((c,u)=>{s(c),i(u)},150),[i,s]);return v.useEffect(()=>(So.startMonitoring(void 0),So.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Gse,{volume:r,frequency:o,playerNumber:a,isMicOn:t,isConnected:n})}):null}function Yse({}){const[e,t]=v.useState(0);return v.useEffect(()=>{const n=setInterval(()=>{const r=Fr();dn.pinging&&r-dn.pingStart>e?t(r-dn.pingStart):t(dn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Qse({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:o,connectionStatus:s}){const a=Vy(),[l,c]=v.useState(!1),[u]=Je(A_),d=async()=>{var g,m;i(!0);try{!Xoe()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(b){console.warn(b)}},h=s==="connected",p=f.jsx(YI,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Jse,{children:f.jsxs($h,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(QI,{collapse:l,children:[f.jsx(YI,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(xse,{roomId:e,isVisible:!0,connectionStatus:s,onConnect:d,connectionError:o})]}),f.jsxs(QI,{children:[a==="write"&&f.jsx(Nse,{onSearchStateChange:c}),a==="read"&&f.jsxs(Xse,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu "," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(JI,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(mL,{onClick:()=>t?So.stopMonitoring():So.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(JI,{children:["Ping: ",f.jsx(Yse,{})]})]})]})})}const Jse=R("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),QI=R("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),mL=R("div",{target:"eakh27i2"})(qe," strong{color:",pe.colors.text.active,";}align-self:flex-end;"),JI=R(mL,{target:"eakh27i1"})(""),Xse=R("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Zse({onConfirm:e}){const[t,n]=v.useState(!1),[r,i]=v.useState(!1);v.useEffect(()=>{Be.session.getItem("reload-mic-request")!==null&&i(!0)},[]),kr(te.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),kr(te.remoteReadinessRequested,()=>{n(!0)});const o=()=>{dn.confirmReadiness(),n(!1),e()};return t?f.jsx(eae,{children:f.jsx(ho,{children:f.jsx(tae,{"data-test":"ready-button",onClick:o,children:"Ready"})})}):null}const eae=R("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),tae=R(Oe,{target:"eusdifu0"})("aspect-ratio:1;",xu,";");function yL({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...o}){return f.jsxs(rae,{...o,children:[f.jsx(XI,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(nae,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(XI,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const XI=R("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",qe,";:disabled{opacity:0.5;}"),nae=R("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),rae=R("div",{target:"e1tear4c0"})(qe,";display:flex;align-items:center;justify-self:center;background:black;");function iae({}){const[e,t]=v.useState(0),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),dn.getGameInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),dn.setGameInputLag(o).then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(yL,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function oae(e){v.useEffect(()=>(dn.subscribe("remote-mics"),()=>{dn.unsubscribe("remote-mics")}),[]);const[t]=Bo(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(sae,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const sae=({mic:e})=>{var r;const[t,n]=v.useState(!1);return nt.getPermission(e.id),f.jsxs(aae,{"data-test":"manage-players",children:[t&&f.jsx(pL,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(lae,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(gL,{number:e.number}),f.jsx(uae,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(cae,{className:"ph-no-capture",isSelf:e.id===dn.getClientId(),children:e.name})]})]})},aae=R("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),lae=R(Oe,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),cae=R("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${pe.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),uae=R("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function ZI(){const[e,t]=Je(n5),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),dn.getMicrophoneInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),dn.setMicrophoneInputLag(s).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},o=()=>{var s;dn.disconnect(),Be.local.removeItem("remote_mic_name"),Be.local.removeItem(ib),(s=global.location)==null||s.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Oe,{onClick:o,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(yL,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function dae(){var r;const e=Vy(),[t,n]=v.useState(e==="write"?null:"microphone");return f.jsxs(fae,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=dn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Oe,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Oe,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(ZI,{}),t!==null&&e==="write"&&f.jsx(sc,{onClose:()=>n(null),children:f.jsxs(ho,{children:[f.jsx(hae,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(ZI,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(oae,{}),f.jsx(iae,{})]}),f.jsx("hr",{}),f.jsx(Oe,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const fae=R("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),hae=R("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var pae="__lodash_hash_undefined__";function gae(e){return this.__data__.set(e,pae),this}function mae(e){return this.__data__.has(e)}function fh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ws;++t<n;)this.add(e[t])}fh.prototype.add=fh.prototype.push=gae;fh.prototype.has=mae;function yae(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function vL(e,t){return e.has(t)}var vae=1,Aae=2;function AL(e,t,n,r,i,o){var s=n&vae,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&Aae?new fh:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var b=s?r(m,g,d,t,e,o):r(g,m,d,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!yae(t,function(y,A){if(!vL(p,A)&&(g===y||i(g,y,n,r,o)))return p.push(A)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}function bae(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Xw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Sae=1,_ae=2,xae="[object Boolean]",wae="[object Date]",Eae="[object Error]",kae="[object Map]",Cae="[object Number]",Tae="[object RegExp]",Iae="[object Set]",Rae="[object String]",Pae="[object Symbol]",Mae="[object ArrayBuffer]",jae="[object DataView]",eR=to?to.prototype:void 0,bA=eR?eR.valueOf:void 0;function Oae(e,t,n,r,i,o,s){switch(n){case jae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Mae:return!(e.byteLength!=t.byteLength||!o(new wm(e),new wm(t)));case xae:case wae:case Cae:return $0(+e,+t);case Eae:return e.name==t.name&&e.message==t.message;case Tae:case Rae:return e==t+"";case kae:var a=bae;case Iae:var l=r&Sae;if(a||(a=Xw),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=_ae,s.set(e,t);var u=AL(a(e),a(t),r,i,o,s);return s.delete(e),u;case Pae:if(bA)return bA.call(e)==bA.call(t)}return!1}var Vae=1,Lae=Object.prototype,Nae=Lae.hasOwnProperty;function Bae(e,t,n,r,i,o){var s=n&Vae,a=lb(e),l=a.length,c=lb(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:Nae.call(t,h)))return!1}var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);for(var b=s;++d<l;){h=a[d];var y=e[h],A=t[h];if(r)var S=s?r(A,y,h,t,e,o):r(y,A,h,e,t,o);if(!(S===void 0?y===A||i(y,A,n,r,o):S)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof x=="function"&&x instanceof x)&&(m=!1)}return o.delete(e),o.delete(t),m}var Dae=1,tR="[object Arguments]",nR="[object Array]",Kp="[object Object]",Fae=Object.prototype,rR=Fae.hasOwnProperty;function $ae(e,t,n,r,i,o){var s=io(e),a=io(t),l=s?nR:$f(e),c=a?nR:$f(t);l=l==tR?Kp:l,c=c==tR?Kp:c;var u=l==Kp,d=c==Kp,h=l==c;if(h&&xm(e)){if(!xm(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new ss),s||Cj(e)?AL(e,t,n,r,i,o):Oae(e,t,l,n,r,i,o);if(!(n&Dae)){var p=u&&rR.call(e,"__wrapped__"),g=d&&rR.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,b=g?t.value():t;return o||(o=new ss),i(m,b,n,r,o)}}return h?(o||(o=new ss),Bae(e,t,n,r,i,o)):!1}function Zw(e,t,n,r,i){return e===t?!0:e==null||t==null||!Ns(e)&&!Ns(t)?e!==e&&t!==t:$ae(e,t,n,r,Zw,i)}var zae=1,Uae=2;function Hae(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new ss;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?Zw(u,c,zae|Uae,r,d):h))return!1}}return!0}function bL(e){return e===e&&!No(e)}function Gae(e){for(var t=Ih(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,bL(i)]}return t}function SL(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function qae(e){var t=Gae(e);return t.length==1&&t[0][2]?SL(t[0][0],t[0][1]):function(n){return n===e||Hae(n,e,t)}}function Wae(e,t,n){var r=e==null?void 0:Ax(e,t);return r===void 0?n:r}function Kae(e,t){return e!=null&&t in Object(e)}function Yae(e,t,n){t=ny(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Rh(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&J_(i)&&Z_(s,i)&&(io(e)||cx(e)))}function Qae(e,t){return e!=null&&Yae(e,t,Kae)}var Jae=1,Xae=2;function Zae(e,t){return yx(e)&&bL(t)?SL(Rh(e),t):function(n){var r=Wae(n,e);return r===void 0&&r===t?Qae(n,e):Zw(t,r,Jae|Xae)}}function ele(e){return function(t){return t==null?void 0:t[e]}}function tle(e){return function(t){return Ax(t,e)}}function nle(e){return yx(e)?ele(Rh(e)):tle(e)}function rle(e){return typeof e=="function"?e:e==null?zj:typeof e=="object"?io(e)?Zae(e[0],e[1]):qae(e):nle(e)}function ile(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function ole(e){return e!==e}function sle(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function ale(e,t,n){return t===t?sle(e,t,n):ile(e,ole,n)}function lle(e,t){var n=e==null?0:e.length;return!!n&&ale(e,t,0)>-1}function cle(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ule(){}var dle=1/0,fle=tu&&1/Xw(new tu([,-0]))[1]==dle?function(e){return new tu(e)}:ule,hle=200;function _L(e,t,n){var r=-1,i=lle,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=cle;else if(o>=hle){var c=t?null:fle(e);if(c)return Xw(c);s=!1,i=vL,l=new fh}else l=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function ple(e,t){return e&&e.length?_L(e,rle(t)):[]}const gle="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function mle(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let o=String.fromCharCode(97+r)+String.fromCharCode(97+i),s=e.of(o);s!==o&&s!==void 0&&(t[s]=o)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const yle=mle();function xL(e){return yle[e]}const vle=Object.assign({"./Flag/flags/cat.svg":gle}),Rl=e=>{var o;const[t,n]=v.useState(null),r="isocode"in e?(o=e.isocode)==null?void 0:o.toLowerCase():xL(Array.isArray(e.language)?e.language[0]:e.language);if(v.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=vle[`./Flag/flags/${r}.svg`];return f.jsx(Ale,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},Ale=R("img",{target:"e1k9lqhf0"})("");function nd(e=!1){const[t,n]=v.useState(ro.getCurrentIndex()),r=v.useRef([]),i=()=>ro.getIndex(e).then(n);return v.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const iR=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function Gh(){const[e,t]=v.useState(iR()),n=v.useCallback(Zc(()=>{t(iR())},1e3),[]);return v.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function wL(){const{width:e,height:t}=Gh();return v.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}function ble(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Sle(...e){return t=>e.forEach(n=>ble(n,t))}var EL=v.forwardRef((e,t)=>{const{children:n,...r}=e,i=v.Children.toArray(n),o=i.find(xle);if(o){const s=o.props.children,a=i.map(l=>l===o?v.Children.count(s)>1?v.Children.only(null):v.isValidElement(s)?s.props.children:null:l);return f.jsx(TS,{...r,ref:t,children:v.isValidElement(s)?v.cloneElement(s,void 0,a):null})}return f.jsx(TS,{...r,ref:t,children:n})});EL.displayName="Slot";var TS=v.forwardRef((e,t)=>{const{children:n,...r}=e;if(v.isValidElement(n)){const i=Ele(n);return v.cloneElement(n,{...wle(r,n.props),ref:t?Sle(t,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});TS.displayName="SlotClone";var _le=({children:e})=>f.jsx(f.Fragment,{children:e});function xle(e){return v.isValidElement(e)&&e.type===_le}function wle(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Ele(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kle(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const o=r[i];t(o)&&(n[o]=e[o])}return n}const Cle=(e={})=>{const t=e.compose||At,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const o=(s,a=n)=>{const l=(c,...u)=>{const d=typeof c=="function",h=!d&&String.raw({raw:c},...u);return v.forwardRef((p,g)=>{const{className:m,asChild:b,...y}=p,A=typeof s=="function"?s(p):s||{},S=kle({...A,...y},a),_=b?EL:i,x=d?c(p):h;return v.createElement(_,{ref:g,className:typeof x=="function"?w=>t(x(w),typeof m=="function"?m(w):m):t(x,m),...S})})};return l.transientProps=c=>o(s,typeof c=="function"?d=>!c(d):d=>!c.includes(d)),s===void 0&&(l.attrs=c=>o(c)),l};return o()};return new Proxy(i=>r(i),{get(i,o){return r(o)}})},rd=Cle(),Fg=ht(f.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),$g=ht(f.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Tle(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ile(e){return parseFloat(e)}function oR({theme:e,...t}){const n=js in e?e[js]:void 0;return f.jsx(yO,{...t,themeId:n?js:void 0,theme:n||e})}const Yp={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Rle,useColorScheme:zAe,getInitColorSchemeScript:UAe}=eee({themeId:js,theme:()=>Fx({cssVariables:!0}),colorSchemeStorageKey:Yp.colorSchemeStorageKey,modeStorageKey:Yp.modeStorageKey,defaultColorScheme:{light:Yp.defaultLightColorScheme,dark:Yp.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:AO(e.palette,e.typography)};return t.unstable_sx=function(r){return Qu({sx:r,theme:this})},t}}),Ple=Rle;function Mle({theme:e,...t}){return typeof e=="function"?f.jsx(oR,{theme:e,...t}):"colorSchemes"in(js in e?e[js]:e)?f.jsx(Ple,{theme:e,...t}):f.jsx(oR,{theme:e,...t})}function jle(e){return Tr("MuiSkeleton",e)}Ir("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Ole=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:s}=e;return Hr({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},jle,t)},IS=tc`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,RS=tc`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Vle=typeof IS!="string"?uo`
        animation: ${IS} 2s ease-in-out 0.5s infinite;
      `:null,Lle=typeof RS!="string"?uo`
        &::after {
          animation: ${RS} 2s linear 0.5s infinite;
        }
      `:null,Nle=Xt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(oo(({theme:e})=>{const t=Tle(e.shape.borderRadius)||"px",n=Ile(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:ko(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Vle||{animation:`${IS} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Lle||{"&::after":{animation:`${RS} 2s linear 0.5s infinite`}}}]}})),Ble=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:c="text",width:u,...d}=r,h={...r,animation:i,component:s,variant:c,hasChildren:!!d.children},p=Ole(h);return f.jsx(Nle,{as:s,ref:n,className:At(p.root,o),ownerState:h,...d,style:{width:u,height:a,...l}})}),Dle=Ble,Fle="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",$le="/prs/338/assets/logo-1e2sNsQM.mp4",zle="/prs/338/assets/logo-CDt7pIML.webm",Ule="/prs/338/assets/pride-CMcO3nTB.png";var jP;(jP=global.location)!=null&&jP.search.includes("pride")&&Be.session.setItem("pride","true");function eE(e){const[t]=Je(yr);return t?null:f.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[Be.session.getItem("pride")==="true"&&f.jsx(sR,{asChild:!0,children:f.jsx("img",{className:"absolute",src:Ule,alt:"AllKaraoke Pride logo part 1"})}),f.jsxs(sR,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:zle,type:"video/webm"}),f.jsx("source",{src:$le,type:"video/mp4"})]}),f.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Fle,alt:"AllKaraoke Pride logo part 2"})]})}const sR=rd.video`w-[66rem] h-[16.4rem]`;function tE(){return"chrome"in window}function Hle(){return f.jsx(f.Fragment,{children:!tE()&&f.jsxs(Gle,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const Gle=R("div",{target:"e95w1v80"})("width:100%;",qe,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",pe.colors.text.active,";}");function kL(){return f.jsx(f.Fragment,{children:f.jsx(qle,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const qle=R("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function qa({children:e,supportedBrowsers:t}){return za(!0),f.jsxs(Js,{children:[f.jsx(kL,{}),f.jsxs(Wle,{children:[f.jsx(eE,{}),t&&f.jsx(Hle,{}),f.jsx(ho,{children:e})]})]})}const Wle=R("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var nE={},a0=function(){return a0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a0.apply(this,arguments)},Kle=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(o){i.startTime||(i.startTime=o);var s=o-i.startTime;i.remaining=i.duration-s,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(s,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(s,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(s/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),s<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(o){var s,a,l,c,u=o<0?"-":"";s=Math.abs(o).toFixed(i.options.decimalPlaces);var d=(s+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(b){return i.options.numerals[+b]}),l=l.replace(/[0-9]/g,function(b){return i.options.numerals[+b]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(o,s,a,l){return a*(1-Math.pow(2,-10*o/l))*1024/1023+s},this.options=a0(a0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(o){return o()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,o=r.top+r.height+window.pageYOffset;o<n&&o>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>o||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Yle=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Kle},Symbol.toStringTag,{value:"Module"})),Qle=pB(Yle);Object.defineProperty(nE,"__esModule",{value:!0});var er=v,Jle=Qle;function Xle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){Zle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zle(e,t,n){return t=sce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PS.apply(this,arguments)}function ece(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CL(e,t){if(e==null)return{};var n=ece(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tce(e,t){return nce(e)||Xle(e,t)||rce(e,t)||ice()}function nce(e){if(Array.isArray(e))return e}function rce(e,t){if(e){if(typeof e=="string")return lR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lR(e,t)}}function lR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ice(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sce(e){var t=oce(e,"string");return typeof t=="symbol"?t:String(t)}var ace=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?er.useLayoutEffect:er.useEffect;function bo(e){var t=er.useRef(e);return ace(function(){t.current=e}),er.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var lce=function(t,n){var r=n.decimal,i=n.decimals,o=n.duration,s=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,b=n.useIndianSeparators,y=n.enableScrollSpy,A=n.scrollSpyDelay,S=n.scrollSpyOnce,_=n.plugin;return new Jle.CountUp(t,a,{startVal:h,duration:o,decimal:r,decimalPlaces:i,easingFn:s,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:_,useEasing:g,useIndianSeparators:b,useGrouping:m,enableScrollSpy:y,scrollSpyDelay:A,scrollSpyOnce:S})},cce=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],uce={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},TL=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(E){var P=tce(E,2),N=P[1];return N!==void 0})),r=er.useMemo(function(){return l0(l0({},uce),n)},[t]),i=r.ref,o=r.startOnMount,s=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=CL(r,cce),g=er.useRef(),m=er.useRef(),b=er.useRef(!1),y=bo(function(){return lce(typeof i=="string"?i:i.current,p)}),A=bo(function(E){var P=g.current;if(P&&!E)return P;var N=y();return g.current=N,N}),S=bo(function(){var E=function(){return A(!0).start(function(){l==null||l({pauseResume:_,reset:x,start:k,update:w})})};a&&a>0?m.current=setTimeout(E,a*1e3):E(),c==null||c({pauseResume:_,reset:x,update:w})}),_=bo(function(){A().pauseResume(),u==null||u({reset:x,start:k,update:w})}),x=bo(function(){A().el&&(m.current&&clearTimeout(m.current),A().reset(),d==null||d({pauseResume:_,start:k,update:w}))}),w=bo(function(E){A().update(E),h==null||h({pauseResume:_,reset:x,start:k})}),k=bo(function(){x(),S()}),C=bo(function(E){o&&(E&&x(),S())});return er.useEffect(function(){b.current?s&&C(!0):(b.current=!0,C())},[s,b,C,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),er.useEffect(function(){return function(){x()}},[x]),{start:k,pauseResume:_,reset:x,update:w,getCountUp:A}},dce=["className","redraw","containerProps","children","style"],fce=function(t){var n=t.className,r=t.redraw,i=t.containerProps,o=t.children,s=t.style,a=CL(t,dce),l=er.useRef(null),c=er.useRef(!1),u=TL(l0(l0({},a),{},{ref:l,startOnMount:typeof o!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,b=bo(function(){d()}),y=bo(function(_){t.preserveValue||h(),p(_)}),A=bo(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});er.useEffect(function(){A()},[A]),er.useEffect(function(){c.current&&y(t.end)},[t.end,y]);var S=r&&t;return er.useEffect(function(){r&&c.current&&b()},[b,r,S]),er.useEffect(function(){!r&&c.current&&b()},[b,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),er.useEffect(function(){c.current=!0},[]),typeof o=="function"?o({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):er.createElement("span",PS({className:n,ref:l,style:s},i),typeof t.start<"u"?m().formattingFn(t.start):"")},rE=nE.default=fce;nE.useCountUp=TL;const iE=e=>v.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(o=>{const s=o.toLowerCase();t[s]||(t[s]={name:o,count:0}),t[s].count=t[s].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),hce=no()?0:10;function IL({onClose:e,closeText:t}){const{register:n}=qn({onBackspace:e}),[r,i]=Je(b0),{data:o,isLoading:s}=nd(),a=iE(o),l=v.useMemo(()=>a.filter(({name:p,count:g})=>xL(p)&&g>=hce),[a]),c=v.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};v.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(b=>{var y;return(y=p.of(b))==null?void 0:y.toLowerCase()}).filter(Boolean),m=l.map(b=>b.name).filter(b=>!g.some(y=>y.includes(b.toLowerCase()))).filter(b=>b!=="English");m.length&&i(m)}},[r,l]);const h=v.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return v.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(qa,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(mce,{children:[s&&new Array(6).fill(0).map((p,g)=>f.jsx(Dle,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(cR,{"data-excluded":!0,focused:!1,children:f.jsx(Rl,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(cR,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(gce,{children:m?f.jsx($g,{}):f.jsx(Fg,{})}),f.jsxs("span",{children:[f.jsx(yce,{children:p})," (",g," songs)"]}),f.jsx(vce,{"data-excluded":m,children:f.jsx(Rl,{language:[p]})})]},p)}),c>0&&f.jsxs(SA,{children:["and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(pce,{children:[f.jsx(Oe,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||s}),children:t}),f.jsxs(SA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(rE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(SA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(td,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const pce=R("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),SA=R("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),gce=R("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),mce=R("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),yce=R("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),vce=R("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),cR=R(Oe,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",qe,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),Ace=no()?0:30;function bce({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,o]=v.useState(!1),s=()=>o(!1),a=t.filter(c=>c.count>Ace);console.log(n);const l=c=>{const u=n.filter(d=>a.find(h=>h.name===d));u.length===0?r(t.filter(d=>d.name!==c).map(d=>d.name)):u.includes(c)?r(n.filter(d=>d!==c)):u.length===a.length-1?r([]):r([...n,c])};return f.jsxs(f.Fragment,{children:[i&&f.jsx(sc,{onClose:s,children:f.jsxs(ho,{"data-test":"languages-container",className:"!gap-1",children:[a.map(({name:c,count:u})=>{const d=n.length&&n.includes(c);return f.jsxs(Oe,{size:"small","data-active":!!n.length&&!n.includes(c),onClick:()=>l(c),"data-test":c,className:`flex !justify-between ${d&&"line-through decoration-white opacity-25"}`,children:[f.jsxs("span",{className:d?"line-through decoration-white":"",children:[c,f.jsxs("small",{className:"text-2xl pl-2",children:["(",u,")"]})]}),f.jsx(Rl,{language:[c],className:" h-full w-32 object-cover"})]},c)}),f.jsx("hr",{}),f.jsx(Oe,{size:"small",onClick:s,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>o(!0)})]})}const Sce=(e,t,n)=>e>=t&&e<n;function _ce(e,t){var S,_,x;const n=v.useMemo(()=>{const w=[];return e.groupSizes.forEach((k,C)=>{var E,P;w.push({index:C,type:"group",bottom:(((E=w.at(-1))==null?void 0:E.bottom)??0)+e.groupHeaderHeight,groupIndex:C});for(let N=0;N<k;N++){const z=e.groupSizes.reduce((j,V,M)=>j+(M<C?V:0),0)+N;w.push({index:z,type:"item",bottom:(((P=w.at(-1))==null?void 0:P.bottom)??0)+e.itemHeight,groupIndex:C})}}),w},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((S=n.at(-1))==null?void 0:S.bottom)??0,i=v.useRef(null),o=((_=i.current)==null?void 0:_.getBoundingClientRect().height)??global.innerHeight,s=v.useCallback(w=>{const k=n.findIndex(E=>E.bottom>w-e.overScan),C=n.findIndex(E=>E.bottom>w+o+e.overScan);return[k,C===-1?n.length:C]},[n,o,e.overScan]),[[a,l],c]=v.useState(s(0));v.useLayoutEffect(()=>{var k;const w=s(((k=i.current)==null?void 0:k.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[s,e.groupSizes,a,l]),v.useEffect(()=>{if(i.current){const w=()=>{var C;const k=s(((C=i.current)==null?void 0:C.scrollTop)??0);(a!==k[0]||l!==k[1])&&c(k)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var k;(k=i.current)==null||k.removeEventListener("scroll",w)}}},[a,l,s,r]);const u=v.useCallback((w,k)=>{var C,E;return(((C=n[k])==null?void 0:C.bottom)??0)-(((E=n[w])==null?void 0:E.bottom)??0)},[n]),d=v.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const k=p[w];k.type==="group"&&g.push([]),(x=g.at(-1))==null||x.push(k)}v.useImperativeHandle(t,()=>({getItemPositionY:w=>{var k;return(((k=n.find(C=>C.type==="item"&&C.index===w))==null?void 0:k.bottom)??-1)-e.itemHeight},scrollTo:w=>{var k;(k=i.current)==null||k.scrollTo({top:w})},scrollToIndex:async(w,k="auto",C="center")=>{var P,N;const E=n.find(z=>z.type==="item"&&z.index===w);if(E){const z=(e.itemHeight+(C==="center"?(P=i.current)==null?void 0:P.clientHeight:0))/2;(N=i.current)==null||N.scrollTo({top:E.bottom-z,behavior:k})}},scrollToGroup:async(w,k="auto",C="top")=>{var P;const E=n.find(N=>N.type==="group"&&N.index===w);E&&((P=i.current)==null||P.scrollTo({top:E.bottom-e.groupHeaderHeight,behavior:k}))}}));const{Header:m,Footer:b,EmptyPlaceholder:y}=e.components??{},A=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsxs(wce,{ref:i,children:[f.jsxs(xce,{style:{height:r,paddingTop:h!==-1?d-e.groupHeaderHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[A]&&!Sce(A,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[A].index,n[A].groupIndex,{style:{width:"100%",position:"absolute",top:n[A].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[A].bottom,"data-virtualized-index":n[A].index})}),g.map((w,k)=>f.jsxs("div",{children:[k===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:C,type:E,bottom:P,groupIndex:N})=>f.jsx(v.Fragment,{children:E==="group"?e.groupContent(C):e.itemContent(C,N,{"data-virtualized-bottom":P,"data-virtualized-index":C})},`${P}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&y&&f.jsx(y,{context:e.context}),b&&f.jsx(b,{context:e.context})]})}const xce=R("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),wce=R("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),RL=v.forwardRef(_ce),Ece=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,MS=1/0,_A=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),uR="eexxaacctt",kce="A-Z",Cce="a-z",Cd=(e,t,n)=>e.replace(kce,t).replace(Cce,n),dR={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:MS,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,MS],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:o,interLft2:s,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||o[h]+s[h]+.5*a[h]-(o[d]+s[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||Ece(t[r[d]],t[r[h]]))}},xA=(e,t)=>t==0?"":t==1?e+"??":t==MS?e+"*?":e+`{0,${t}}?`,fR="(?:\\b|_)";function Ly(e){e=Object.assign({},dR,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:o,intraIns:s,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;s??(s=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),U=m.toLocaleLowerCase();h=Cd(h,G,U),d=Cd(d,G,U),p=Cd(p,G,U),g=Cd(g,G,U),u=Cd(u,G,U)}let b=t?"u":"";const y='".+?"',A=new RegExp(y,"gi"+b),S=new RegExp(`(?:\\s+|^)-(?:${g}+|${y})`,"gi"+b);let{intraRules:_}=e;_==null&&(_=G=>{let U=dR.intraSlice,ne=0,B=0,fe=0,Z=0;if(/[^\d]/.test(G)){let ae=G.length;ae<=4?ae>=3&&(fe=Math.min(l,1),ae==4&&(ne=Math.min(s,1))):(U=o,ne=s,B=a,fe=l,Z=c)}return{intraSlice:U,intraIns:ne,intraSub:B,intraTrn:fe,intraDel:Z}});let x=!!d,w=new RegExp(d,"g"+b),k=new RegExp(h,"g"+b),C=new RegExp("^"+h+"|"+h+"$","g"+b),E=new RegExp(u,"gi"+b);const P=G=>{let U=[];G=G.replace(A,B=>(U.push(B),uR)),G=G.replace(C,"").toLocaleLowerCase(),x&&(G=G.replace(w,B=>B[0]+" "+B[1]));let ne=0;return G.split(k).filter(B=>B!="").map(B=>B===uR?U[ne++]:B)},N=/[^\d]+|\d+/g,z=(G,U=0,ne=!1)=>{let B=P(G);if(B.length==0)return[];let fe=Array(B.length).fill("");B=B.map((le,Ae)=>le.replace(E,Le=>(fe[Ae]=Le,"")));let Z;if(i==1)Z=B.map((le,Ae)=>{if(le[0]==='"')return _A(le.slice(1,-1));let Le="";for(let Te of le.matchAll(N)){let Se=Te[0],{intraSlice:we,intraIns:De,intraSub:Ge,intraTrn:Re,intraDel:Xe}=_(Se);if(De+Ge+Re+Xe==0)Le+=Se+fe[Ae];else{let[kt,Wt]=we,Ct=Se.slice(0,kt),Ee=Se.slice(Wt),lt=Se.slice(kt,Wt);De==1&&Ct.length==1&&Ct!=lt[0]&&(Ct+="(?!"+Ct+")");let Vt=lt.length,We=[Se];if(Ge)for(let je=0;je<Vt;je++)We.push(Ct+lt.slice(0,je)+g+lt.slice(je+1)+Ee);if(Re)for(let je=0;je<Vt-1;je++)lt[je]!=lt[je+1]&&We.push(Ct+lt.slice(0,je)+lt[je+1]+lt[je]+lt.slice(je+2)+Ee);if(Xe)for(let je=0;je<Vt;je++)We.push(Ct+lt.slice(0,je+1)+"?"+lt.slice(je+1)+Ee);if(De){let je=xA(g,1);for(let Tt=0;Tt<Vt;Tt++)We.push(Ct+lt.slice(0,Tt)+je+lt.slice(Tt)+Ee)}Le+="(?:"+We.join("|")+")"+fe[Ae]}}return Le});else{let le=xA(g,s);U==2&&s>0&&(le=")("+le+")("),Z=B.map((Ae,Le)=>Ae[0]==='"'?_A(Ae.slice(1,-1)):Ae.split("").map((Te,Se,we)=>(s==1&&Se==0&&we.length>1&&Te!=we[Se+1]&&(Te+="(?!"+Te+")"),Te)).join(le)+fe[Le])}let ae=n==2?fR:"",Me=r==2?fR:"",xe=Me+xA(e.interChars,e.interIns)+ae;return U>0?ne?Z=ae+"("+Z.join(")"+Me+"|"+ae+"(")+")"+Me:(Z="("+Z.join(")("+xe+")(")+")",Z="(.??"+ae+")"+Z+"("+Me+".*)"):(Z=Z.join(xe),Z=ae+Z+Me),[new RegExp(Z,"i"+b),B,fe]},j=(G,U,ne)=>{let[B]=z(U);if(B==null)return null;let fe=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let ae=ne[Z];B.test(G[ae])&&fe.push(ae)}else for(let Z=0;Z<G.length;Z++)B.test(G[Z])&&fe.push(Z);return fe};let V=!!p,M=new RegExp(h,b),T=new RegExp(p,b);const D=(G,U,ne)=>{let[B,fe,Z]=z(ne,1),[ae]=z(ne,2),Me=fe.length,xe=G.length,le=Array(xe).fill(0),Ae={idx:Array(xe),start:le.slice(),chars:le.slice(),terms:le.slice(),interIns:le.slice(),intraIns:le.slice(),interLft2:le.slice(),interRgt2:le.slice(),interLft1:le.slice(),interRgt1:le.slice(),ranges:Array(xe)},Le=n==1||r==1,Te=0;for(let Se=0;Se<G.length;Se++){let we=U[G[Se]],De=we.match(B),Ge=De.index+De[1].length,Re=Ge,Xe=!1,kt=0,Wt=0,Ct=0,Ee=0,lt=0,Vt=0,We=0,je=0,Tt=[];for(let ct=0,it=2;ct<Me;ct++,it+=2){let _n=De[it].toLocaleLowerCase(),wt=fe[ct],ut=wt[0]=='"'?wt.slice(1,-1):wt+Z[ct],sn=ut.length,gn=_n.length,Zt=_n==ut;if(!Zt&&De[it+1].length>=sn){let mt=De[it+1].toLocaleLowerCase().indexOf(ut);mt>-1&&(Tt.push(Re,gn,mt,sn),Re+=L(De,it,mt,sn),_n=ut,gn=sn,Zt=!0,ct==0&&(Ge=Re))}if(Le||Zt){let mt=Re-1,$n=Re+gn,vr=!1,xn=!1;if(mt==-1||M.test(we[mt]))Zt&&kt++,vr=!0;else{if(n==2){Xe=!0;break}if(V&&T.test(we[mt]+we[mt+1]))Zt&&Wt++,vr=!0;else if(n==1){let Ri=De[it+1],ui=Re+gn;if(Ri.length>=sn){let It=0,wn=!1,$e=new RegExp(ut,"ig"+b),tt;for(;tt=$e.exec(Ri);){It=tt.index;let Wn=ui+It,di=Wn-1;if(di==-1||M.test(we[di])){kt++,wn=!0;break}else if(T.test(we[di]+we[Wn])){Wt++,wn=!0;break}}wn&&(vr=!0,Tt.push(Re,gn,It,sn),Re+=L(De,it,It,sn),_n=ut,gn=sn,Zt=!0,ct==0&&(Ge=Re))}if(!vr){Xe=!0;break}}}if($n==we.length||M.test(we[$n]))Zt&&Ct++,xn=!0;else{if(r==2){Xe=!0;break}if(V&&T.test(we[$n-1]+we[$n]))Zt&&Ee++,xn=!0;else if(r==1){Xe=!0;break}}Zt&&(lt+=sn,vr&&xn&&Vt++)}if(gn>sn&&(je+=gn-sn),ct>0&&(We+=De[it-1].length),!e.intraFilt(ut,_n,Re)){Xe=!0;break}ct<Me-1&&(Re+=gn+De[it+1].length)}if(!Xe){Ae.idx[Te]=G[Se],Ae.interLft2[Te]=kt,Ae.interLft1[Te]=Wt,Ae.interRgt2[Te]=Ct,Ae.interRgt1[Te]=Ee,Ae.chars[Te]=lt,Ae.terms[Te]=Vt,Ae.interIns[Te]=We,Ae.intraIns[Te]=je,Ae.start[Te]=Ge;let ct=we.match(ae),it=ct.index+ct[1].length,_n=Tt.length,wt=_n>0?0:1/0,ut=_n-4;for(let mt=2;mt<ct.length;){let $n=ct[mt].length;if(wt<=ut&&Tt[wt]==it){let vr=Tt[wt+1],xn=Tt[wt+2],Ri=Tt[wt+3],ui=mt,It="";for(let wn=0;wn<vr;ui++)It+=ct[ui],wn+=ct[ui].length;ct.splice(mt,ui-mt,It),it+=L(ct,mt,xn,Ri),wt+=4}else it+=$n,mt++}it=ct.index+ct[1].length;let sn=Ae.ranges[Te]=[],gn=it,Zt=it;for(let mt=2;mt<ct.length;mt++){let $n=ct[mt].length;it+=$n,mt%2==0?Zt=it:$n>0&&(sn.push(gn,Zt),gn=Zt=it)}Zt>gn&&sn.push(gn,Zt),Te++}}if(Te<G.length)for(let Se in Ae)Ae[Se]=Ae[Se].slice(0,Te);return Ae},L=(G,U,ne,B)=>{let fe=G[U]+G[U+1].slice(0,ne);return G[U-1]+=fe,G[U]=G[U+1].slice(ne,ne+B),G[U+1]=G[U+1].slice(ne+B),fe.length},F=5,$=(G,U,ne,B=1e3,fe)=>{ne=ne?ne===!0?F:ne:0;let Z=null,ae=null,Me=[];U=U.replace(S,Se=>{let we=Se.trim().slice(1);return we[0]==='"'&&(we=_A(we.slice(1,-1))),Me.push(we),""});let xe=P(U),le;if(Me.length>0){if(le=new RegExp(Me.join("|"),"i"+b),xe.length==0){let Se=[];for(let we=0;we<G.length;we++)le.test(G[we])||Se.push(we);return[Se,null,null]}}else if(xe.length==0)return[null,null,null];if(ne>0){let Se=P(U);if(Se.length>1){let we=Se.slice().sort((Ge,Re)=>Re.length-Ge.length);for(let Ge=0;Ge<we.length;Ge++){if((fe==null?void 0:fe.length)==0)return[[],null,null];fe=j(G,we[Ge],fe)}if(Se.length>ne)return[fe,null,null];Z=PL(Se).map(Ge=>Ge.join(" ")),ae=[];let De=new Set;for(let Ge=0;Ge<Z.length;Ge++)if(De.size<fe.length){let Re=fe.filter(kt=>!De.has(kt)),Xe=j(G,Z[Ge],Re);for(let kt=0;kt<Xe.length;kt++)De.add(Xe[kt]);ae.push(Xe)}else ae.push([])}}Z==null&&(Z=[U],ae=[(fe==null?void 0:fe.length)>0?fe:j(G,U)]);let Ae=null,Le=null;if(Me.length>0&&(ae=ae.map(Se=>Se.filter(we=>!le.test(G[we])))),ae.reduce((Se,we)=>Se+we.length,0)<=B){Ae={},Le=[];for(let Se=0;Se<ae.length;Se++){let we=ae[Se];if(we==null||we.length==0)continue;let De=Z[Se],Ge=D(we,G,De),Re=e.sort(Ge,G,De);if(Se>0)for(let Xe=0;Xe<Re.length;Xe++)Re[Xe]+=Le.length;for(let Xe in Ge)Ae[Xe]=(Ae[Xe]??[]).concat(Ge[Xe]);Le=Le.concat(Re)}}return[[].concat(...ae),Ae,Le]};return{search:(...G)=>$(...G),split:P,filter:j,info:D,sort:e.sort}}const Tce=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let o in e)e[o].split("").forEach(s=>{n+=s,t.set(s,o)});let r=new RegExp(`[${n}]`,"g"),i=o=>t.get(o);return o=>{if(typeof o=="string")return o.replace(r,i);let s=Array(o.length);for(let a=0;a<o.length;a++)s[a]=o[a].replace(r,i);return s}})();function PL(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,o,s;for(;i<t;)r[i]<i?(o=i%2&&r[i],s=e[i],e[i]=e[o],e[o]=s,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Ice=(e,t)=>t?`<mark>${e}</mark>`:e,Rce=(e,t)=>e+t;function Pce(e,t,n=Ice,r="",i=Rce){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let o=0;o<t.length;o+=2){let s=t[o],a=t[o+1];r=i(r,n(e.substring(s,a),!0))??r,o<t.length-3&&(r=i(r,n(e.substring(t[o+1],t[o+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}Ly.latinize=Tce;Ly.permute=e=>PL([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));Ly.highlight=Pce;const Mce=(e,t,n)=>{const r=iE(e);return v.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(Tie,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:""}),"Selection",f.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},hR=e=>Nl((e==null?void 0:e.search)??"").length>2,pR={},jce=/[^0-9a-z ]/gi,wA=e=>Y_(e).toLowerCase().replace(jce,"");function ML(e,t){const n=Nl(t);if(n.length>0){const r=new Ly({}),[,i,o]=r.search(e.map(s=>`${wA(s.artist)} ${wA(s.title)}`),wA(t));return o&&i?o.map(s=>e[i.idx[s]]):e.filter(s=>s.search.includes(n))}return e}const c0={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||hR(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>ML(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Nl(t).length?e.filter(r=>Nl(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Io().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Io(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>hR(n)?e:e.filter(r=>t.includes(r.id))},gR=(e,t)=>Object.entries(t).filter(n=>n[0]in c0).reduce((n,[r,i])=>c0[r](n,i,t,e),e),Oce=(e,t,n)=>{var g;const[r]=Je(b0),i=v.useMemo(()=>gR(e,{excludeLanguages:r??[]}),[e,r]),o=Mce(i,t,n),[s,a]=v.useState(new URLSearchParams((g=global.location)==null?void 0:g.search).get("playlist")??null),l=m=>{var y;const b=new URL((y=global.location)==null?void 0:y.href);b.searchParams.set("playlist",m),global.history.replaceState(null,"",b.toString()),a(m)},c=o.find(m=>m.name===s)??o[0],[u,d]=v.useState(pR);v.useEffect(()=>{d(pR)},[s]);const h=v.useDeferredValue(u),p=v.useMemo(()=>gR(e,{...(c==null?void 0:c.filters)??{},...h,excludeLanguages:r??[]}),[e,h,r,c]);return{filters:u,filteredList:p,setFilters:d,selectedPlaylist:s,setSelectedPlaylist:l,playlists:o,playlist:c}},Vce=Hh("remote-mic-saved-songs");function Lce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:o,connectionStatus:s}){const[a]=Bo(te.remoteKeyboardLayout,!0)??[],l=Vy(),c=nd(),[u,d]=v.useState();v.useEffect(()=>{s==="connected"&&u===void 0&&dn.getSongList().then(d).catch(console.warn)},[u,s]);const h=v.useMemo(()=>ple(c.data.map(E=>({...E,id:ro.generateSongFile(E)})).filter(E=>!((u==null?void 0:u.deleted)??[]).includes(E.id)).map(E=>({id:E.id,artist:E.artist,title:E.title,video:E.video,language:E.language,search:E.search})).concat(...((u==null?void 0:u.custom)??[]).map(E=>({...E,id:ro.generateSongFile(E)}))),E=>E.id),[c.data,u]),p=iE(h),[g,m]=v.useState(""),[b,y]=v.useState([]),[A,S]=Vce([]),[_,x]=v.useState("list"),w=wL(),k=E=>{x(E),m("")},C=v.useMemo(()=>{if(_==="list"){const E=ML(h,g);return E.length!==h.length?E:h.filter(P=>!P.language.every(N=>b.includes(N)))}else return A.map(E=>h.find(P=>P.id===E)).filter(Boolean)},[g,h,_,A,b]);return f.jsxs(Nce,{children:[f.jsxs(Bce,{children:[f.jsx(ac,{focused:!1,label:f.jsx(Yw,{}),placeholder:"Search for a song",value:g,onChange:E=>m(E),"data-test":"search-input"}),f.jsxs(Dce,{children:[f.jsx(EA,{"data-test":"all-songs-button","data-active":_==="list",onClick:()=>k("list"),children:"All songs"}),f.jsxs(EA,{"data-test":"your-list-button","data-active":_==="queue",onClick:()=>k("queue"),children:["Your list (",A.length,")"]}),f.jsx(bce,{excludedLanguages:b,languageList:p,onListChange:y,children:({open:E})=>f.jsx(EA,{className:"!flex-grow-[0.3]",onClick:E,"data-test":"song-language-filter","data-active":b.length>0&&_==="list"?!0:void 0,children:""})})]})]}),f.jsx(RL,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[C.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:w*7+1,itemContent:(E,P,N)=>{var V;const z=C[E],j=A.includes(z.id);return f.jsxs(Fce,{className:j?"!bg-black !bg-opacity-35":"","data-test":z.id,...N,children:[f.jsx($ce,{children:f.jsx(Rl,{language:z.language})}),f.jsxs(zce,{children:[f.jsx(Hce,{children:z.title}),f.jsx(Uce,{children:z.artist})]}),f.jsxs(Gce,{children:[((V=a==null?void 0:a.remote)==null?void 0:V.includes("select-song"))&&l==="write"&&f.jsx(mR,{onClick:M=>{M.stopPropagation(),dn.selectSong(z.id)},"data-test":"select-song-button",children:"SELECT"}),j?f.jsx(mR,{"data-test":"remove-song-button",onClick:M=>{M.stopPropagation(),S(T=>T.filter(D=>D!==z.id))},children:"-"}):f.jsx(jL,{"data-test":"add-song-button",onClick:M=>{M.stopPropagation(),S(T=>[...T,z.id])},children:"+"})]})]})}})]})}const Nce=R("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),Bce=R("div",{target:"emsrjbt8"})(qe,";font-size:2.5rem;display:flex;flex-direction:column;"),Dce=R("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),EA=R("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",qe,";font-size:2rem;transition:300ms;&[data-active='true']{background:",pe.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Fce=R("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),$ce=R("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),zce=R("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Uce=R("span",{target:"emsrjbt2"})("color:",pe.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),Hce=R("span",{target:"emsrjbt1"})("color:",pe.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),Gce=R("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),jL=rd.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,mR=rd(jL)`text-active`,Qp=new GJ;function qce(){const e=oy("room"),[t]=Bo(te.remoteStyleChanged,!0)??["regular"];v.useLayoutEffect(()=>{DM(t)},[t]),za(!0,t);const[n,r]=v.useState("microphone"),[i,o]=Bo(te.karaokeConnectionStatusChange)??["uninitialised"],[s,a]=v.useState(!1);kr(te.micMonitoringStarted,()=>a(!0)),kr(te.micMonitoringStopped,()=>a(!1));const[l,c]=v.useState(!1),u=async h=>{try{h&&!Qp.isEnabled?await Qp.enable():!h&&Qp.isEnabled&&await Qp.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Js,{children:[f.jsx(Zse,{onConfirm:d}),f.jsx(nX,{size:10}),f.jsx(Kce,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Qse,{roomId:e,monitoringStarted:s,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:o}),n==="song-list"&&f.jsx(Lce,{roomId:e,monitoringStarted:s,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:o}),n==="settings"&&f.jsx(dae,{}),f.jsx(Wce,{}),f.jsx(Uoe,{setActiveTab:r,active:n})]})})]})}const Wce=R("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),Kce=R("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Wa(e){const[t]=Je(S0),n=t==="christmas"?sj:oj;v.useEffect(()=>{e?n.playing()||n.play(!1):n.stop()},[e])}function Yce(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var OL=v,Qce=Yce(OL);function yR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Xce=!!(typeof window<"u"&&window.document&&window.document.createElement);function Zce(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],a;function l(){a=e(s.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){Jce(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,s=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){s.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=s.indexOf(this);s.splice(g,1),l()},h.render=function(){return Qce.createElement(o,this.props)},d}(OL.PureComponent);return yR(c,"displayName","SideEffect("+r(o)+")"),yR(c,"canUseDOM",Xce),c}}var eue=Zce;const tue=mr(eue);var nue=typeof Element<"u",rue=typeof Map=="function",iue=typeof Set=="function",oue=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!zg(e[r],t[r]))return!1;return!0}var o;if(rue&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!zg(r.value[1],t.get(r.value[0])))return!1;return!0}if(iue&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(oue&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(nue&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!zg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var sue=function(t,n){try{return zg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const aue=mr(sue);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vR=Object.getOwnPropertySymbols,lue=Object.prototype.hasOwnProperty,cue=Object.prototype.propertyIsEnumerable;function uue(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function due(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var fue=due()?Object.assign:function(e,t){for(var n,r=uue(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)lue.call(n,s)&&(r[s]=n[s]);if(vR){i=vR(n);for(var a=0;a<i.length;a++)cue.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const hue=mr(fue);var Pl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Qe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Qe).map(function(e){return Qe[e]});var nn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},u0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},pue=Object.keys(u0).reduce(function(e,t){return e[u0[t]]=t,e},{}),gue=[Qe.NOSCRIPT,Qe.SCRIPT,Qe.STYLE],Ro="data-react-helmet",mue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yue=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},vue=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aue=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},AR=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},bue=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},jS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Sue=function(t){var n=uu(t,Qe.TITLE),r=uu(t,hh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=uu(t,hh.DEFAULT_TITLE);return n||i||void 0},_ue=function(t){return uu(t,hh.ON_CHANGE_CLIENT_STATE)||function(){}},kA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Kr({},r,i)},{})},xue=function(t,n){return n.filter(function(r){return typeof r[Qe.BASE]<"u"}).map(function(r){return r[Qe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Td=function(t,n,r){var i={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&Cue("Helmet: "+t+' should be of type "Array". Instead found type "'+mue(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,s){var a={};s.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var b=g[m],y=b.toLowerCase();n.indexOf(y)!==-1&&!(p===nn.REL&&h[p].toLowerCase()==="canonical")&&!(y===nn.REL&&h[y].toLowerCase()==="stylesheet")&&(p=y),n.indexOf(b)!==-1&&(b===nn.INNER_HTML||b===nn.CSS_TEXT||b===nn.ITEM_PROP)&&(p=b)}if(!p||!h[p])return!1;var A=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][A]?!1:(a[p][A]=!0,!0)}).reverse().forEach(function(h){return o.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=hue({},i[u],a[u]);i[u]=d}return o},[]).reverse()},uu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},wue=function(t){return{baseTag:xue([nn.HREF,nn.TARGET],t),bodyAttributes:kA(Pl.BODY,t),defer:uu(t,hh.DEFER),encode:uu(t,hh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:kA(Pl.HTML,t),linkTags:Td(Qe.LINK,[nn.REL,nn.HREF],t),metaTags:Td(Qe.META,[nn.NAME,nn.CHARSET,nn.HTTPEQUIV,nn.PROPERTY,nn.ITEM_PROP],t),noscriptTags:Td(Qe.NOSCRIPT,[nn.INNER_HTML],t),onChangeClientState:_ue(t),scriptTags:Td(Qe.SCRIPT,[nn.SRC,nn.INNER_HTML],t),styleTags:Td(Qe.STYLE,[nn.CSS_TEXT],t),title:Sue(t),titleAttributes:kA(Pl.TITLE,t)}},OS=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){OS(t)},0)}}(),bR=function(t){return clearTimeout(t)},Eue=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||OS:global.requestAnimationFrame||OS,kue=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||bR:global.cancelAnimationFrame||bR,Cue=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Id=null,Tue=function(t){Id&&kue(Id),t.defer?Id=Eue(function(){SR(t,function(){Id=null})}):(SR(t),Id=null)},SR=function(t,n){var r=t.baseTag,i=t.bodyAttributes,o=t.htmlAttributes,s=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;VS(Qe.BODY,i),VS(Qe.HTML,o),Iue(h,p);var g={baseTag:Ac(Qe.BASE,r),linkTags:Ac(Qe.LINK,s),metaTags:Ac(Qe.META,a),noscriptTags:Ac(Qe.NOSCRIPT,l),scriptTags:Ac(Qe.SCRIPT,u),styleTags:Ac(Qe.STYLE,d)},m={},b={};Object.keys(g).forEach(function(y){var A=g[y],S=A.newTags,_=A.oldTags;S.length&&(m[y]=S),_.length&&(b[y]=g[y].oldTags)}),n&&n(),c(t,m,b)},VL=function(t){return Array.isArray(t)?t.join(""):t},Iue=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=VL(t)),VS(Qe.TITLE,n)},VS=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Ro),o=i?i.split(","):[],s=[].concat(o),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),o.indexOf(c)===-1&&o.push(c);var d=s.indexOf(c);d!==-1&&s.splice(d,1)}for(var h=s.length-1;h>=0;h--)r.removeAttribute(s[h]);o.length===s.length?r.removeAttribute(Ro):r.getAttribute(Ro)!==a.join(",")&&r.setAttribute(Ro,a.join(","))}},Ac=function(t,n){var r=document.head||document.querySelector(Qe.HEAD),i=r.querySelectorAll(t+"["+Ro+"]"),o=Array.prototype.slice.call(i),s=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===nn.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===nn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Ro,"true"),o.some(function(h,p){return a=p,c.isEqualNode(h)})?o.splice(a,1):s.push(c)}),o.forEach(function(l){return l.parentNode.removeChild(l)}),s.forEach(function(l){return r.appendChild(l)}),{oldTags:o,newTags:s}},LL=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Rue=function(t,n,r,i){var o=LL(r),s=VL(n);return o?"<"+t+" "+Ro+'="true" '+o+">"+jS(s,i)+"</"+t+">":"<"+t+" "+Ro+'="true">'+jS(s,i)+"</"+t+">"},Pue=function(t,n,r){return n.reduce(function(i,o){var s=Object.keys(o).filter(function(c){return!(c===nn.INNER_HTML||c===nn.CSS_TEXT)}).reduce(function(c,u){var d=typeof o[u]>"u"?u:u+'="'+jS(o[u],r)+'"';return c?c+" "+d:d},""),a=o.innerHTML||o.cssText||"",l=gue.indexOf(t)===-1;return i+"<"+t+" "+Ro+'="true" '+s+(l?"/>":">"+a+"</"+t+">")},"")},NL=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[u0[i]||i]=t[i],r},n)},Mue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[pue[i]||i]=t[i],r},n)},jue=function(t,n,r){var i,o=(i={key:n},i[Ro]=!0,i),s=NL(r,o);return[Ie.createElement(Qe.TITLE,s,n)]},Oue=function(t,n){return n.map(function(r,i){var o,s=(o={key:i},o[Ro]=!0,o);return Object.keys(r).forEach(function(a){var l=u0[a]||a;if(l===nn.INNER_HTML||l===nn.CSS_TEXT){var c=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=r[a]}),Ie.createElement(t,s)})},ps=function(t,n,r){switch(t){case Qe.TITLE:return{toComponent:function(){return jue(t,n.title,n.titleAttributes)},toString:function(){return Rue(t,n.title,n.titleAttributes,r)}};case Pl.BODY:case Pl.HTML:return{toComponent:function(){return NL(n)},toString:function(){return LL(n)}};default:return{toComponent:function(){return Oue(t,n)},toString:function(){return Pue(t,n,r)}}}},BL=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,o=t.htmlAttributes,s=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:ps(Qe.BASE,n,i),bodyAttributes:ps(Pl.BODY,r,i),htmlAttributes:ps(Pl.HTML,o,i),link:ps(Qe.LINK,s,i),meta:ps(Qe.META,a,i),noscript:ps(Qe.NOSCRIPT,l,i),script:ps(Qe.SCRIPT,c,i),style:ps(Qe.STYLE,u,i),title:ps(Qe.TITLE,{title:h,titleAttributes:p},i)}},Vue=function(t){var n,r;return r=n=function(i){Aue(o,i);function o(){return yue(this,o),bue(this,i.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(a){return!aue(this.props,a)},o.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Qe.SCRIPT:case Qe.NOSCRIPT:return{innerHTML:l};case Qe.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Kr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Kr({},d,this.mapNestedChildrenToProps(c,h))]),l))},o.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case Qe.TITLE:return Kr({},d,(l={},l[u.type]=p,l.titleAttributes=Kr({},h),l));case Qe.BODY:return Kr({},d,{bodyAttributes:Kr({},h)});case Qe.HTML:return Kr({},d,{htmlAttributes:Kr({},h)})}return Kr({},d,(c={},c[u.type]=Kr({},h),c))},o.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Kr({},l);return Object.keys(a).forEach(function(u){var d;c=Kr({},c,(d={},d[u]=a[u],d))}),c},o.prototype.warnOnInvalidChildren=function(a,l){return!0},o.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Ie.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=AR(h,["children"]),m=Mue(g);switch(c.warnOnInvalidChildren(d,p),d.type){case Qe.LINK:case Qe.META:case Qe.NOSCRIPT:case Qe.SCRIPT:case Qe.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},o.prototype.render=function(){var a=this.props,l=a.children,c=AR(a,["children"]),u=Kr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Ie.createElement(t,u)},vue(o,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),o}(Ie.Component),n.propTypes={base:et.object,bodyAttributes:et.object,children:et.oneOfType([et.arrayOf(et.node),et.node]),defaultTitle:et.string,defer:et.bool,encodeSpecialCharacters:et.bool,htmlAttributes:et.object,link:et.arrayOf(et.object),meta:et.arrayOf(et.object),noscript:et.arrayOf(et.object),onChangeClientState:et.func,script:et.arrayOf(et.object),style:et.arrayOf(et.object),title:et.string,titleAttributes:et.object,titleTemplate:et.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=BL({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Lue=function(){return null},Nue=tue(wue,Tue,BL)(Lue),ki=Vue(Nue);ki.renderStatic=ki.rewind;const DL=v.forwardRef(({...e},t)=>{const n=v.useRef(null);v.useImperativeHandle(t,()=>n.current);const[r,i]=Je(tf);return f.jsx(Bue,{ref:n,label:"Input lag",value:String(r),onChange:o=>i(+o),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:o=>{var s;o.code==="Enter"&&((s=n.current)==null||s.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Bue=R(ac,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Due(e){Wa(!1);const t=ci(),n=()=>t("menu/"),{register:r}=qn({onBackspace:n}),[i,o]=Je(qi),[s,a]=Je(Al),[l,c]=Je(yr),u=v.useRef(null),[d,h]=v.useState(Co.getPermissionStatus());v.useEffect(()=>Co.addListener(y=>{h(y)}),[]);const[p,g]=v.useState(!1),m=()=>{g(!0),Co.requestPermissions().then(()=>g(!1))};let b="Disabled";return p?b=f.jsx(Uh,{size:"0.9em"}):d===null?b="Click to enable":d&&(b="Enabled"),f.jsxs(qa,{children:[f.jsx(ki,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(Ki,{...r("graphics-level",()=>o(Il(ZM,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(Ki,{...r("fps-count-level",()=>a(Il(e5,s))),label:"FPS Count",value:s}),f.jsx(DL,{ref:u,...r("input-lag",()=>{var y;return(y=u.current)==null?void 0:y.focus()})}),f.jsx("hr",{}),f.jsx(Ki,{...r("camera-access",()=>d?Co.disable():m()),label:"Enable camera mode",value:b,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(Ki,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Oe,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Oe,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Oe,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Oe,{...r("back-button",n),children:"Return To Main Menu"})]})}function Fue(e){return Tr("MuiPaper",e)}Ir("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const $ue=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Hr(o,Fue,i)},zue=Xt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(oo(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Uue=v.forwardRef(function(t,n){var p;const r=Rr({props:t,name:"MuiPaper"}),i=zx(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:s,elevation:a,square:l,variant:c},h=$ue(d);return f.jsx(zue,{as:s,ownerState:d,className:At(h.root,o),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ko("#fff",Sb(a))}, ${ko("#fff",Sb(a))})`}},...u.style}})}),Ny=Uue;function FL(e){return f.jsxs(Hue,{...e,children:[f.jsx($L,{asChild:!0,children:f.jsx(cL,{})}),f.jsx(Gue,{asChild:!0,children:f.jsx(ES,{})})]})}const Hue=rd.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,$L=rd.svg`w-[15rem] h-[15rem] transition-[300ms]`,Gue=rd($L)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function zL(){const[e,t]=v.useState(!1);return v.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(que,{visible:e,children:f.jsx(Wue,{})})}const que=R("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),Wue=R(FL,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),UL=v.lazy(()=>Wu(()=>import("./SongManagement-Dmqw_Uuy.js"),[]).then(e=>({default:e.Convert}))),Kue=e=>f.jsxs(v.Suspense,{fallback:f.jsx(zL,{}),children:[f.jsx(ki,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Ny,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:f.jsx(UL,{...e})})]}),Yue=ht(f.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var HL={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ca,function(){return function(n,r,i){n=n||{};var o=r.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return o.fromToBase(c,u,d,h)}i.en.relativeTime=s,o.fromToBase=function(c,u,d,h,p){for(var g,m,b,y=d.$locale().relativeTime||s,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=A.length,_=0;_<S;_+=1){var x=A[_];x.d&&(g=h?i(c).diff(d,x.d,!0):d.diff(c,x.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(b=g>0,w<=x.r||!x.r){w<=1&&_>0&&(x=A[_-1]);var k=y[x.l];p&&(w=p(""+w)),m=typeof k=="string"?k.replace("%d",w):k(w,u,x.l,b);break}}if(u)return m;var C=b?y.future:y.past;return typeof C=="function"?C(m):C.replace("%s",m)},o.to=function(c,u){return a(c,u,this,!0)},o.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};o.toNow=function(c){return this.to(l(this),c)},o.fromNow=function(c){return this.from(l(this),c)}}})})(HL);var Que=HL.exports;const Jue=mr(Que),GL=1e3,Xue=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),Zue=e=>{const t=e.notes.at(-1);return t.start+t.length},ede=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=Zue(i)}),r},_R=(e,t)=>({...e,sections:ede(Xue(e.sections.filter(Pt)),t)});function tde(e){const t=Ku(e),n=Math.round(GL/t);return{...e,tracks:e.tracks.map(r=>_R(r,n)),mergedTrack:_R(e.mergedTrack,n)}}const nde=(e,t)=>e.map((n,r)=>Pt(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),xR=(e,t)=>({...e,sections:nde(e.sections,t)});function rde(e){const t=Ku(e),n=Math.round(GL/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(o=>xR(o,r)),mergedTrack:xR(e.mergedTrack,r)}}function qL(e,t){return Ku(t)*e}function By(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?Pa(n.sections):n.start));return qL(t,e)+e.gap}function ide(e){const t=By(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const ode=(e,t)=>e.map((n,r)=>Pt(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Pt(n)||n.start-n.end>0),wR=(e,t)=>({...e,sections:ode(e.sections,t)});function sde(e){const t=Ku(e),n=e.tracks.reduce((s,a,l)=>{const c=Pa(e.tracks[s].sections),u=Pa(a.sections);return c>u?l:s},0),r=e.tracks[n].sections.find(Pt);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),o=Math.floor(e.gap+i*t);return{...e,gap:o,tracks:e.tracks.map(s=>wR(s,i)),mergedTrack:wR(e.mergedTrack,i)}}const ade=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),ER=e=>({...e,sections:e.sections.map(t=>Pt(t)?{...t,notes:ade(t.notes)}:t)});function lde(e){return{...e,tracks:e.tracks.map(ER),mergedTrack:ER(e.mergedTrack)}}const cde=e=>{let t=sde(e);return t=rde(t),t=tde(t),t=lde(t),t=ide(t),t};function WL(e){const[t,n]=v.useState(null);return v.useEffect(()=>{ro.get(e).then(r=>n(r&&cde(r)))},[e]),{data:t}}function ude(e){return Tr("MuiButton",e)}const dde=Ir("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),bc=dde,fde=v.createContext({}),hde=fde,pde=v.createContext(void 0),gde=pde,mde=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${st(t)}`,`size${st(i)}`,`${o}Size${st(i)}`,`color${st(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${st(i)}`],endIcon:["icon","endIcon",`iconSize${st(i)}`]},l=Hr(a,ude,s);return{...s,...l}},KL=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],yde=Xt(C4,{shouldForwardProp:e=>Ux(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${st(n.color)}`],t[`size${st(n.size)}`],t[`${n.variant}Size${st(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(oo(({theme:e})=>{var r,i;const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${bc.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${bc.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${bc.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${bc.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Gf(["dark","contrastText"])).map(([o])=>({props:{color:o},style:{"--variant-textColor":(e.vars||e).palette[o].main,"--variant-outlinedColor":(e.vars||e).palette[o].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[o].mainChannel} / 0.5)`:ko(e.palette[o].main,.5),"--variant-containedColor":(e.vars||e).palette[o].contrastText,"--variant-containedBg":(e.vars||e).palette[o].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[o].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ko(e.palette[o].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[o].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ko(e.palette[o].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{"--variant-containedColor":e.vars?e.vars.palette.text.primary:(i=(r=e.palette).getContrastText)==null?void 0:i.call(r,t),"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ko(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ko(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${bc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${bc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),vde=Xt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${st(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...KL]}),Ade=Xt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${st(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...KL]}),bde=v.forwardRef(function(t,n){const r=v.useContext(hde),i=v.useContext(gde),o=km(r,t),s=Rr({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:b=!1,size:y="medium",startIcon:A,type:S,variant:_="text",...x}=s,w={...s,color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:b,size:y,type:S,variant:_},k=mde(w),C=A&&f.jsx(vde,{className:k.startIcon,ownerState:w,children:A}),E=g&&f.jsx(Ade,{className:k.endIcon,ownerState:w,children:g}),P=i||"";return f.jsxs(yde,{ownerState:w,className:At(r.className,k.root,u,P),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:At(k.focusVisible,m),ref:n,type:S,...x,classes:k,children:[C,a,E]})}),kR=bde;function Sde(e){const t=ba(e);return t.body===e?Ex(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Sf(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function CR(e){return parseInt(Ex(e).getComputedStyle(e).paddingRight,10)||0}function _de(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function TR(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=!o.includes(s),l=!_de(s);a&&l&&Sf(s,i)})}function CA(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function xde(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Sde(r)){const s=gX(ba(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${CR(r)+s}px`;const a=ba(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${CR(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ba(r).body;else{const s=r.parentElement,a=Ex(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function wde(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Ede{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Sf(t.modalRef,!1);const i=wde(n);TR(n,t.mount,t.modalRef,i,!0);const o=CA(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=CA(this.containers,o=>o.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=xde(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=CA(this.containers,s=>s.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Sf(t.modalRef,n),TR(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Sf(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const kde=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Cde(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Tde(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Ide(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Tde(e))}function Rde(e){const t=[],n=[];return Array.from(e.querySelectorAll(kde)).forEach((r,i)=>{const o=Cde(r);o===-1||!Ide(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Pde(){return!0}function Mde(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Rde,isEnabled:s=Pde,open:a}=e,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=v.useRef(!1),g=v.useRef(null),m=ja(Cx(t),g),b=v.useRef(null);v.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!g.current)return;const S=ba(g.current);return g.current.contains(S.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),v.useEffect(()=>{if(!a||!g.current)return;const S=ba(g.current),_=k=>{b.current=k,!(r||!s()||k.key!=="Tab")&&S.activeElement===g.current&&k.shiftKey&&(l.current=!0,u.current&&u.current.focus())},x=()=>{var E,P;const k=g.current;if(k===null)return;if(!S.hasFocus()||!s()||l.current){l.current=!1;return}if(k.contains(S.activeElement)||r&&S.activeElement!==c.current&&S.activeElement!==u.current)return;if(S.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let C=[];if((S.activeElement===c.current||S.activeElement===u.current)&&(C=o(g.current)),C.length>0){const N=!!((E=b.current)!=null&&E.shiftKey&&((P=b.current)==null?void 0:P.key)==="Tab"),z=C[0],j=C[C.length-1];typeof z!="string"&&typeof j!="string"&&(N?j.focus():z.focus())}else k.focus()};S.addEventListener("focusin",x),S.addEventListener("keydown",_,!0);const w=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&x()},50);return()=>{clearInterval(w),S.removeEventListener("focusin",x),S.removeEventListener("keydown",_,!0)}},[n,r,i,s,a,o]);const y=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0,h.current=S.target;const _=t.props.onFocus;_&&_(S)},A=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0};return f.jsxs(v.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(t,{ref:m,onFocus:y}),f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:u,"data-testid":"sentinelEnd"})]})}function jde(e){return typeof e=="function"?e():e}const Ode=v.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=v.useState(null),l=ja(Cx(r),n);if(mb(()=>{o||a(jde(i)||document.body)},[i,o]),mb(()=>{if(s&&!o)return gb(n,s),()=>{gb(n,null)}},[n,s,o]),o){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return f.jsx(v.Fragment,{children:r})}return f.jsx(v.Fragment,{children:s&&oc.createPortal(r,s)})}),Vde=Ode;function d0(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=o,p=u[e]||r,g=wX(d[e],i),{props:{component:m,...b},internalRef:y}=xX({className:n,...l,externalForwardedProps:e==="root"?h:void 0,externalSlotProps:g}),A=ja(y,g==null?void 0:g.ref,t.ref),S=s?s(b):{},_={...i,...S},x=e==="root"?m||c:m,w=_X(p,{...e==="root"&&!c&&!u[e]&&a,...e!=="root"&&!u[e]&&a,...b,...x&&{as:x},ref:A},_);return Object.keys(S).forEach(k=>{delete w[k]}),[p,w]}const Lde=e=>e.scrollTop;function IR(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const Nde={entering:{opacity:1},entered:{opacity:1}},Bde=v.forwardRef(function(t,n){const r=zx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:b,timeout:y=i,TransitionComponent:A=are,...S}=t,_=v.useRef(null),x=ja(_,Cx(a),n),w=V=>M=>{if(V){const T=_.current;M===void 0?V(T):V(T,M)}},k=w(h),C=w((V,M)=>{Lde(V);const T=IR({style:b,timeout:y,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",T),V.style.transition=r.transitions.create("opacity",T),u&&u(V,M)}),E=w(d),P=w(m),N=w(V=>{const M=IR({style:b,timeout:y,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",M),V.style.transition=r.transitions.create("opacity",M),p&&p(V)}),z=w(g),j=V=>{o&&o(_.current,V)};return f.jsx(A,{appear:s,in:c,nodeRef:_,onEnter:C,onEntered:E,onEntering:k,onExit:N,onExited:z,onExiting:P,addEndListener:j,timeout:y,...S,children:(V,M)=>v.cloneElement(a,{style:{opacity:0,visibility:V==="exited"&&!c?"hidden":void 0,...Nde[V],...b,...a.props.style},ref:x,...M})})}),YL=Bde;function Dde(e){return Tr("MuiBackdrop",e)}Ir("MuiBackdrop",["root","invisible"]);const Fde=e=>{const{ownerState:t,...n}=e;return n},$de=e=>{const{classes:t,invisible:n}=e;return Hr({root:["root",n&&"invisible"]},Dde,t)},zde=Xt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Ude=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:g,...m}=r,b={...r,component:s,invisible:a},y=$de(b),A={transition:p,root:c.Root,...h},S={...u,...d},_={slots:A,slotProps:S},[x,w]=d0("root",{elementType:zde,externalForwardedProps:_,className:At(y.root,o),ownerState:b}),[k,C]=d0("transition",{elementType:YL,externalForwardedProps:_,ownerState:b}),E=Fde(C);return f.jsx(k,{in:l,timeout:g,...m,...E,children:f.jsx(x,{"aria-hidden":!0,...w,classes:y,ref:n,children:i})})}),QL=Ude;function Hde(e){return typeof e=="function"?e():e}function Gde(e){return e?e.props.hasOwnProperty("in"):!1}const qde=new Ede;function Wde(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=qde,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=e,h=v.useRef({}),p=v.useRef(null),g=v.useRef(null),m=ja(g,d),[b,y]=v.useState(!u),A=Gde(l);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const _=()=>ba(p.current),x=()=>(h.current.modalRef=g.current,h.current.mount=p.current,h.current),w=()=>{i.mount(x(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},k=Pc(()=>{const T=Hde(t)||_().body;i.add(x(),T),g.current&&w()}),C=v.useCallback(()=>i.isTopModal(x()),[i]),E=Pc(T=>{p.current=T,T&&(u&&C()?w():g.current&&Sf(g.current,S))}),P=v.useCallback(()=>{i.remove(x(),S)},[S,i]);v.useEffect(()=>()=>{P()},[P]),v.useEffect(()=>{u?k():(!A||!o)&&P()},[u,P,A,o,k]);const N=T=>D=>{var L;(L=T.onKeyDown)==null||L.call(T,D),!(D.key!=="Escape"||D.which===229||!C())&&(n||(D.stopPropagation(),c&&c(D,"escapeKeyDown")))},z=T=>D=>{var L;(L=T.onClick)==null||L.call(T,D),D.target===D.currentTarget&&c&&c(D,"backdropClick")};return{getRootProps:(T={})=>{const D=oO(e);delete D.onTransitionEnter,delete D.onTransitionExited;const L={...D,...T};return{role:"presentation",...L,onKeyDown:N(L),ref:m}},getBackdropProps:(T={})=>{const D=T;return{"aria-hidden":!0,...D,onClick:z(D),open:u}},getTransitionProps:()=>{const T=()=>{y(!1),s&&s()},D=()=>{y(!0),a&&a(),o&&P()};return{onEnter:rT(T,l==null?void 0:l.props.onEnter),onExited:rT(D,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:E,isTopModal:C,exited:b,hasTransition:A}}function Kde(e){return Tr("MuiModal",e)}Ir("MuiModal",["root","hidden","backdrop"]);const Yde=e=>{const{open:t,exited:n,classes:r}=e;return Hr({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Kde,r)},Qde=Xt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(oo(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Jde=Xt(QL,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Xde=v.forwardRef(function(t,n){const r=Rr({name:"MuiModal",props:t}),{BackdropComponent:i=Jde,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:b=!1,disablePortal:y=!1,disableRestoreFocus:A=!1,disableScrollLock:S=!1,hideBackdrop:_=!1,keepMounted:x=!1,onBackdropClick:w,onClose:k,onTransitionEnter:C,onTransitionExited:E,open:P,slotProps:N={},slots:z={},theme:j,...V}=r,M={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:m,disableEscapeKeyDown:b,disablePortal:y,disableRestoreFocus:A,disableScrollLock:S,hideBackdrop:_,keepMounted:x},{getRootProps:T,getBackdropProps:D,getTransitionProps:L,portalRef:F,isTopModal:$,exited:G,hasTransition:U}=Wde({...M,rootRef:n}),ne={...M,exited:G},B=Yde(ne),fe={};if(c.props.tabIndex===void 0&&(fe.tabIndex="-1"),U){const{onEnter:Le,onExited:Te}=L();fe.onEnter=Le,fe.onExited=Te}const Z={...V,slots:{root:h.Root,backdrop:h.Backdrop,...z},slotProps:{...p,...N}},[ae,Me]=d0("root",{elementType:Qde,externalForwardedProps:Z,getSlotProps:T,additionalProps:{ref:n,as:d},ownerState:ne,className:At(a,B==null?void 0:B.root,!ne.open&&ne.exited&&(B==null?void 0:B.hidden))}),[xe,le]=d0("backdrop",{elementType:i,externalForwardedProps:Z,additionalProps:o,getSlotProps:Le=>D({...Le,onClick:Te=>{w&&w(Te),Le!=null&&Le.onClick&&Le.onClick(Te)}}),className:At(o==null?void 0:o.className,B==null?void 0:B.backdrop),ownerState:ne}),Ae=ja(o==null?void 0:o.ref,le.ref);return!x&&!P&&(!U||G)?null:f.jsx(Vde,{ref:F,container:u,disablePortal:y,children:f.jsxs(ae,{...Me,children:[!_&&i?f.jsx(xe,{...le,ref:Ae}):null,f.jsx(Mde,{disableEnforceFocus:m,disableAutoFocus:g,disableRestoreFocus:A,isEnabled:$,open:P,children:v.cloneElement(c,fe)})]})})}),Zde=Xde;function efe(e){return Tr("MuiDialog",e)}const tfe=Ir("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),TA=tfe,nfe=v.createContext({}),JL=nfe,rfe=Xt(QL,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ife=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${st(n)}`],paper:["paper",`paperScroll${st(n)}`,`paperWidth${st(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Hr(s,efe,t)},ofe=Xt(Zde,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),sfe=Xt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${st(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),afe=Xt(Ny,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${st(n.scroll)}`],t[`paperWidth${st(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(oo(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${TA.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${TA.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${TA.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),lfe=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiDialog"}),i=zx(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:m="sm",onBackdropClick:b,onClick:y,onClose:A,open:S,PaperComponent:_=Ny,PaperProps:x={},scroll:w="paper",TransitionComponent:k=YL,transitionDuration:C=o,TransitionProps:E,...P}=r,N={...r,disableEscapeKeyDown:h,fullScreen:p,fullWidth:g,maxWidth:m,scroll:w},z=ife(N),j=v.useRef(),V=L=>{j.current=L.target===L.currentTarget},M=L=>{y&&y(L),j.current&&(j.current=null,b&&b(L),A&&A(L,"backdropClick"))},T=dX(a),D=v.useMemo(()=>({titleId:T}),[T]);return f.jsx(ofe,{className:At(z.root,d),closeAfterTransition:!0,components:{Backdrop:rfe},componentsProps:{backdrop:{transitionDuration:C,as:l,...c}},disableEscapeKeyDown:h,onClose:A,open:S,ref:n,onClick:M,ownerState:N,...P,children:f.jsx(k,{appear:!0,in:S,timeout:C,role:"presentation",...E,children:f.jsx(sfe,{className:At(z.container),onMouseDown:V,ownerState:N,children:f.jsx(afe,{as:_,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":T,...x,className:At(z.paper,x.className),ownerState:N,children:f.jsx(JL.Provider,{value:D,children:u})})})})})}),cfe=lfe;function ufe(e){return Tr("MuiDialogActions",e)}Ir("MuiDialogActions",["root","spacing"]);const dfe=e=>{const{classes:t,disableSpacing:n}=e;return Hr({root:["root",!n&&"spacing"]},ufe,t)},ffe=Xt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),hfe=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=dfe(a);return f.jsx(ffe,{className:At(l.root,i),ownerState:a,ref:n,...s})}),pfe=hfe;function gfe(e){return Tr("MuiDialogContent",e)}Ir("MuiDialogContent",["root","dividers"]);function mfe(e){return Tr("MuiDialogTitle",e)}const yfe=Ir("MuiDialogTitle",["root"]),vfe=yfe,Afe=e=>{const{classes:t,dividers:n}=e;return Hr({root:["root",n&&"dividers"]},gfe,t)},bfe=Xt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(oo(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${vfe.root} + &`]:{paddingTop:0}}}]}))),Sfe=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=Afe(a);return f.jsx(bfe,{className:At(l.root,i),ownerState:a,ref:n,...s})}),_fe=Sfe;function xfe(e){return Tr("MuiTypography",e)}const HAe=Ir("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),wfe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Efe=Wee(),kfe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${st(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Hr(a,xfe,s)},Cfe=Xt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${st(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(oo(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Gf()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${st(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),RR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Tfe=v.forwardRef(function(t,n){const{color:r,...i}=Rr({props:t,name:"MuiTypography"}),o=!wfe[r],s=Efe({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=RR,...m}=s,b={...s,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:g},y=c||(h?"p":g[p]||RR[p])||"span",A=kfe(b);return f.jsx(Cfe,{as:y,ref:n,className:At(A.root,l),...m,ownerState:b,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...m.style}})}),XL=Tfe;function Ife(e){return Tr("MuiDialogContentText",e)}Ir("MuiDialogContentText",["root"]);const Rfe=e=>{const{classes:t}=e,r=Hr({root:["root"]},Ife,t);return{...t,...r}},Pfe=Xt(XL,{shouldForwardProp:e=>Ux(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mfe=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiDialogContentText"}),{children:i,className:o,...s}=r,a=Rfe(s);return f.jsx(Pfe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:s,className:At(a.root,o),...r,classes:a})}),jfe=Mfe,Ofe=e=>{const{classes:t}=e;return Hr({root:["root"]},mfe,t)},Vfe=Xt(XL,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Lfe=v.forwardRef(function(t,n){const r=Rr({props:t,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=Ofe(a),{titleId:c=o}=v.useContext(JL);return f.jsx(Vfe,{component:"h2",className:At(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c,...s})}),Nfe=Lfe;function mn(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.join(", "):t}`}const PR=e=>e.map(t=>`${XG[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),MR=e=>e.split(":")[0];function Bfe(e){const t={artist:mn("ARTIST",e.artist),title:mn("TITLE",e.title),author:mn("CREATOR",e.author),bpm:mn("BPM",e.bpm),year:mn("YEAR",e.year),previewStart:mn("PREVIEWSTART",e.previewStart),video:mn("VIDEO",`v=${e.video}`),videoGap:mn("VIDEOGAP",e.videoGap),genre:mn("GENRE",e.genre),language:mn("LANGUAGE",e.language),gap:mn("GAP",e.gap),edition:mn("EDITION",e.edition),id:mn("ALLKARAOKE_ID",e.id),lastUpdate:mn("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:mn("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:mn("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:mn("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:mn("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:mn("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:mn("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(a=>a.name??null),r=[];e.tracks.map(a=>a.sections).forEach(([a,...l])=>{r.push(Pt(a)?PR(a.notes):`- ${a.start} ${a.end}`),l.forEach(c=>r.push(Pt(c)?`- ${c.start}
${PR(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?mn("P1",n[0]):void 0).concat(n[1]?mn("P2",n[1]):void 0).filter(X1),o=i.map(MR),s=(e.unsupportedProps??[]).filter(a=>!o.includes(MR(a)));return i.concat(...s).concat(r).concat("E").filter(X1).join(`
`)}const ZL="share-songs",eN=Hh(ZL),Dfe=async e=>{try{if(!Be.getItem(ZL))return;const n=await ro.get(e);n&&Pn.capture("share-song",{song:Bfe(n)})}catch(t){console.error(t),Lo(t)}};function GAe(e){const[t,n]=eN(null),[r,i]=v.useState(!!e.id&&t===null),o=()=>{i(!1)},s=a=>{n(a),a&&e.id&&Dfe(e.id),o()};return f.jsxs(cfe,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[f.jsx(Nfe,{children:"Share songs?"}),f.jsx(_fe,{children:f.jsx(jfe,{children:f.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play ",f.jsx("br",{}),f.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),f.jsxs(pfe,{children:[f.jsx(kR,{onClick:()=>s(!1),"data-test":"share-songs-disagree",children:"Disagree"}),f.jsx(kR,{onClick:()=>s(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}Io.extend(Jue);function Ffe(){const{data:e}=nd(!0),[t]=eN(null),n=oy("song");Wa(!1);const r=WL(n??"");return r.data?f.jsxs(Ny,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[f.jsx(ki,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs($fe,{children:[f.jsx(Gw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&f.jsx(Iy,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await ro.deleteSong(r.data.id),t&&e.some(o=>o.id===r.data.id)&&Pn.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:f.jsx(Yue,{})})]}),f.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:r.data.lastUpdate?Io(r.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(UL,{song:r.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const $fe=R("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var zfe=Math.floor,Ufe=Math.random;function Hfe(e,t){return e+zfe(Ufe()*(t-e+1))}function tN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var o=Hfe(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}function Gfe(e){return tN(Pj(e))}function qfe(e,t){return lx(t,function(n){return e[n]})}function Wfe(e){return e==null?[]:qfe(e,Ih(e))}function Kfe(e){return tN(Wfe(e))}function Yfe(e){var t=io(e)?Gfe:Kfe;return t(e)}var OP;const Qfe=!((OP=document.getElementById("root"))!=null&&OP.hasChildNodes()),nN=Qfe;function oE(e){return nN?null:e.children}function Br(e){const t=ci(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(Gw,{...e,onClick:n})}function Jfe(e,t){v.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var Xfe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const Zfe=mr(Xfe);var LS={exports:{}},rN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/rN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],o;if(i)for(o=i.length;o--;)i[o].handler(r)},e};var ehe=rN,NS={exports:{}},the=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async="async"in n?!!n.async:!0,o.src=t,n.attrs&&nhe(o,n.attrs),n.text&&(o.text=""+n.text);var s="onload"in o?jR:rhe;s(o,r),o.onload||jR(o,r),i.appendChild(o)};function nhe(e,t){for(var n in t)e.setAttribute(n,t[n])}function jR(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function rhe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=the,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=function(o){var s=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&o.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return s},e.exports=t.default})(NS,NS.exports);var ihe=NS.exports,BS={exports:{}},DS={exports:{}},FS={exports:{}},ph=1e3,gh=ph*60,mh=gh*60,yh=mh*24,ohe=yh*365.25,she=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return ahe(e);if(n==="number"&&isNaN(e)===!1)return t.long?che(e):lhe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ahe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*ohe;case"days":case"day":case"d":return n*yh;case"hours":case"hour":case"hrs":case"hr":case"h":return n*mh;case"minutes":case"minute":case"mins":case"min":case"m":return n*gh;case"seconds":case"second":case"secs":case"sec":case"s":return n*ph;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function lhe(e){return e>=yh?Math.round(e/yh)+"d":e>=mh?Math.round(e/mh)+"h":e>=gh?Math.round(e/gh)+"m":e>=ph?Math.round(e/ph)+"s":e+"ms"}function che(e){return Jp(e,yh,"day")||Jp(e,mh,"hour")||Jp(e,gh,"minute")||Jp(e,ph,"second")||e+" ms"}function Jp(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=s,t.enable=o,t.enabled=a,t.humanize=she,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(A,S){if(A==="%%")return A;b++;var _=t.formatters[S];if(typeof _=="function"){var x=g[b];A=_.call(d,x),g.splice(b,1),b--}return A}),t.formatArgs.call(d,g);var y=u.log||t.log||console.log.bind(console);y.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function o(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function s(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(FS,FS.exports);var uhe=FS.exports;(function(e,t){var n={};t=e.exports=uhe,t.log=o,t.formatArgs=i,t.save=s,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(DS,DS.exports);var dhe=DS.exports,$S={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})($S,$S.exports);var fhe=$S.exports,zS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(zS,zS.exports);var hhe=zS.exports,US={exports:{}},HS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(HS,HS.exports);var phe=HS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=phe,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(US,US.exports);var ghe=US.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=dhe,r=u(n),i=fhe,o=u(i),s=hhe,a=u(s),l=ghe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(k){var C="on"+k.slice(0,1).toUpperCase()+k.slice(1);g[C]=function(E){d('event "%s"',C,E),p.trigger(k,E)}},b=!0,y=!1,A=void 0;try{for(var S=a.default[Symbol.iterator](),_;!(b=(_=S.next()).done);b=!0){var x=_.value;m(x)}}catch(w){y=!0,A=w}finally{try{!b&&S.return&&S.return()}finally{if(y)throw A}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},b=function(C){g&&c.default[C]?m[C]=function(){for(var E=arguments.length,P=Array(E),N=0;N<E;N++)P[N]=arguments[N];return p.then(function(z){var j=c.default[C],V=z.getPlayerState(),M=z[C].apply(z,P);return j.stateChangeRequired||Array.isArray(j.acceptableStates)&&j.acceptableStates.indexOf(V)===-1?new Promise(function(T){var D=function L(){var F=z.getPlayerState(),$=void 0;typeof j.timeout=="number"&&($=setTimeout(function(){z.removeEventListener("onStateChange",L),T()},j.timeout)),Array.isArray(j.acceptableStates)&&j.acceptableStates.indexOf(F)!==-1&&(z.removeEventListener("onStateChange",L),clearTimeout($),T())};z.addEventListener("onStateChange",D)}).then(function(){return M}):M})}:m[C]=function(){for(var E=arguments.length,P=Array(E),N=0;N<E;N++)P[N]=arguments[N];return p.then(function(z){return z[C].apply(z,P)})}},y=!0,A=!1,S=void 0;try{for(var _=o.default[Symbol.iterator](),x;!(y=(x=_.next()).done);y=!0){var w=x.value;b(w)}}catch(k){A=!0,S=k}finally{try{!y&&_.return&&_.return()}finally{if(A)throw S}}return m},t.default=h,e.exports=t.default})(BS,BS.exports);var mhe=BS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=ehe,i=c(r),o=ihe,s=c(o),a=mhe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,s.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(y){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var A=d;y(A)}else u.then(function(S){var _=new S.Player(d,h);return g.on("ready",function(){y(_)}),null})}),b=l.default.promisifyPlayer(m,p);return b.on=g.on,b.off=g.off,b},e.exports=t.default})(LS,LS.exports);var yhe=LS.exports;const vhe=mr(yhe);var Ahe=Object.defineProperty,bhe=Object.defineProperties,She=Object.getOwnPropertyDescriptors,OR=Object.getOwnPropertySymbols,_he=Object.prototype.hasOwnProperty,xhe=Object.prototype.propertyIsEnumerable,VR=(e,t,n)=>t in e?Ahe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GS=(e,t)=>{for(var n in t||(t={}))_he.call(t,n)&&VR(e,n,t[n]);if(OR)for(var n of OR(t))xhe.call(t,n)&&VR(e,n,t[n]);return e},qS=(e,t)=>bhe(e,She(t)),whe=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});function Ehe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},o=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==o.start||i.end!==o.end}function LR(e={}){return qS(GS({},e),{height:0,width:0,playerVars:qS(GS({},e.playerVars),{autoplay:0,start:0,end:0})})}function khe(e,t){return e.videoId!==t.videoId||!Zfe(LR(e.opts),LR(t.opts))}function Che(e,t){var n,r,i,o;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((o=t.opts)==null?void 0:o.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var The={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Ihe={videoId:et.string,id:et.string,className:et.string,iframeClassName:et.string,style:et.object,title:et.string,loading:et.oneOf(["lazy","eager"]),opts:et.objectOf(et.any),onReady:et.func,onError:et.func,onPlay:et.func,onPause:et.func,onEnd:et.func,onStateChange:et.func,onPlaybackRateChange:et.func,onPlaybackQualityChange:et.func},Ug=class extends Ie.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,o,s,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Ug.PlayerState.ENDED:(o=(i=this.props).onEnd)==null||o.call(i,t);break;case Ug.PlayerState.PLAYING:(a=(s=this.props).onPlay)==null||a.call(s,t);break;case Ug.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=qS(GS({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=vhe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let o=!1;const s={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(s.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(s.endSeconds=this.props.opts.playerVars.end)),o){(r=this.internalPlayer)==null||r.loadVideoById(s);return}(i=this.internalPlayer)==null||i.cueVideoById(s)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return whe(this,null,function*(){Che(e,this.props)&&this.updatePlayer(),khe(e,this.props)&&(yield this.resetPlayer()),Ehe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Ie.createElement("div",{className:this.props.className,style:this.props.style},Ie.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Dy=Ug;Dy.propTypes=Ihe;Dy.defaultProps=The;Dy.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Xo=Dy;function Rhe(e){const[t,n]=v.useState(1);return v.useEffect(()=>{if(e===Xo.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Phe(e,t){v.useEffect(()=>{if(t===Xo.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,o;if(navigator.onLine){clearInterval(n);const s=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(o=(i=e.current)==null?void 0:i.getInternalPlayer())==null||o.seekTo(Math.max(s-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function Mhe(e,t){return Phe(e,t),Rhe(t)}var Vn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(Vn||{});const jhe={[Xo.PlayerState.UNSTARTED]:"UNSTARTED",[Xo.PlayerState.ENDED]:"ENDED",[Xo.PlayerState.PLAYING]:"PLAYING",[Xo.PlayerState.PAUSED]:"PAUSED",[Xo.PlayerState.BUFFERING]:"BUFFERING",[Xo.PlayerState.CUED]:"CUED"},Ohe=v.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:o,volume:s,width:a,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState(Xo.PlayerState.UNSTARTED),g=Mhe(d,h);return Jfe(d,s),v.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),v.useImperativeHandle(u,()=>({setSize:(m,b)=>{var y;return(y=d.current)==null?void 0:y.getInternalPlayer().setSize(m,b)},seekTo:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(Xo,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:o?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(jhe[m.data])}},`${t}-${g}`)}),Vhe=v.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:o,volume:s,width:a,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState({w:a,h:l}),[g,m]=v.useState(Vn.UNSTARTED);v.useEffect(()=>{const y=w=>()=>m(w),A=d.current,S=y(Vn.PLAYING),_=y(Vn.PAUSED),x=y(Vn.ENDED);return A==null||A.addEventListener("playing",S),A==null||A.addEventListener("pause",_),A==null||A.addEventListener("ended",x),()=>{A==null||A.removeEventListener("playing",S),A==null||A.removeEventListener("pause",_),A==null||A.removeEventListener("ended",x)}},[m]),v.useEffect(()=>{c==null||c(g)},[g,c]);const b=v.useMemo(()=>({setSize:(y,A)=>p({w:y,h:A}),seekTo:y=>(d.current&&(d.current.currentTime=y),y),setPlaybackSpeed:y=>{d.current&&(d.current.playbackRate=y)},setVolume:()=>{},getCurrentTime:()=>{var y;return Promise.resolve(((y=d.current)==null?void 0:y.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var y;return(y=d.current)==null?void 0:y.play()},pauseVideo:()=>{var y;return(y=d.current)==null?void 0:y.pause()},getDuration:()=>{var y;return Promise.resolve(((y=d.current)==null?void 0:y.duration)??0)}}),[d]);return v.useEffect(()=>{b.setSize(a,l)},[a,l,b]),v.useEffect(()=>{r!==void 0&&b.seekTo(r)},[r,b]),v.useImperativeHandle(u,()=>b),f.jsx("video",{style:{width:h.w,height:h.h},autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),Lhe="/prs/338/assets/dummy-video-long-C7qbKeYK.webm",Nhe="/prs/338/assets/dummy-video-9QP_sTy6.webm",Bhe=v.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(Vhe,{ref:i,video:t==="Vueyx9TBEqE"?Lhe:Nhe,controls:!0,...r})});var Dhe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_APP_PARTYKIT_URL:"wss://allkaraoke-partykit.asvarox.partykit.dev",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/338/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const sE=v.forwardRef((e,t)=>Dhe.VITE_APP_OFFLINE||no()?f.jsx(Bhe,{...e,ref:t}):f.jsx(Ohe,{...e,ref:t}));function iN({songData:e,background:t,width:n,height:r,children:i,...o}){return f.jsxs(Fhe,{video:e.video,width:n,height:r,...o,children:[f.jsx(zhe,{video:e.video,blur:!0}),t&&f.jsx(oN,{children:t}),f.jsx(Uhe,{children:f.jsxs(Hhe,{children:[f.jsx(Ghe,{children:e.title}),f.jsx("br",{}),f.jsx(qhe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(Whe,{children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const Fhe=R("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),oN=R("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),$he=R(oN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),zhe=e=>f.jsx($he,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Uhe=R("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Hhe=R("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),Fy=R("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",qe,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Ghe=R(Fy,{target:"e1kx27c2"})("color:",pe.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),qhe=R(Fy,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Whe=R(Fy,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Khe(e){var h;za(!1),Wa(!1);const t=ci(),{width:n,height:r}=Gh(),[i,o]=v.useState(0),s=nd(),[a,l]=v.useState([]),{register:c}=qn({onBackspace:()=>t("menu/")});v.useEffect(()=>s.data&&l(Yfe(s.data)),[s.data]);const u=()=>s.data&&o(p=>(p+1)%s.data.length);if(!a.length||!n||!r)return null;const d=s0("game/",{song:a[i].id,playlist:"All"});return f.jsxs(Js,{children:[f.jsx(ki,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(oE,{children:f.jsxs(iN,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(sE,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===Vn.ENDED&&u()}}),children:[f.jsx(Qhe,{...c("skip-button",u),children:"Skip"}),f.jsx(Br,{to:d,children:f.jsx(Yhe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const Yhe=R(Uo,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Qhe=R(Uo,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Jhe=R("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),Xhe=R("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Zhe=e=>f.jsx(Xhe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Hg=ht([f.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),f.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),f.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),NR=ht(f.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),IA=ht(f.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),epe=ht([f.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),f.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),tpe=ht(f.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),sN=R("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",pe.colors.text.active,";font-size:1.5rem;",qe,";color:",pe.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function npe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Je(yr),{register:o}=qn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(Zp,{...o("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(qd,{children:[f.jsx(hL,{}),f.jsx(IA,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(Gd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(epe,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(tpe,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(sN,{children:"Recommended"}),f.jsxs(Xp,{children:[f.jsx(Hg,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(Zp,{...o("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(qd,{children:[f.jsx(NR,{}),i?f.jsx(IA,{}):f.jsx(fL,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(Gd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(Xp,{children:[f.jsx(NR,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(Zp,{...o("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(qd,{children:[f.jsx(ES,{}),f.jsx(cL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(Gd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(Xp,{children:[f.jsx(Hg,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(Zp,{...o("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(qd,{children:[f.jsx(ES,{}),f.jsx(IA,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(Gd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(Xp,{children:[f.jsx(Hg,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Br,{to:"menu/",onClick:s=>{s==null||s.preventDefault(),e("skip")},children:f.jsx(Oe,{...o("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const Xp=R("div",{target:"eb2r3ii3"})(qe,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Gd=R("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),qd=R("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",pe.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",pe.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),Zp=R(Oe,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",xu,";",Gd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",qd,"{transform:scale(1.75);}}");function aN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const aE=(e,t,n=!0,r=1e3/Al.get())=>{v.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const o=Sn.getPlayerVolume(e)??0,s=Sn.getPlayerFrequency(e)??0;t([o,Array.isArray(s)?s[0]:s])},r);return()=>{clearInterval(i)}},[e,r,t,n])},rpe=(e,t=1e3/Al.get(),n)=>{const[r,i]=v.useState([0,0]);return aE(e,i,!0,t),v.useEffect(()=>{n&&n(r)},[r,n]),r},lN=e=>v.useMemo(()=>{if(!pe.colors.players[e])return"0, 0, 0";const t=he(pe.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),cN=R("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),ipe=v.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,o=lN(t);return Ne.getPlayer(t)?f.jsx(cN,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${o}, 1) 0%, rgba(${o}, 0) 100%)`},ref:r}):null}),lE=({playerNumber:e,...t})=>{const[n,r]=v.useState(),i=v.useCallback(([s])=>{if(n){const a=`${Math.min(1,s*20)}`;n.style.transform=`scaleX(${a})`}},[n]);aE(e,i);const o=lN(e);return f.jsx(cN,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${o}, 1) 0%, rgba(${o}, 0) 100%)`}})};function ope(e,t){const n=Object.keys(t),[r,i]=wi([te.playerInputChanged,te.inputListChanged],()=>{var l;const a=(l=Ne.getPlayer(e))==null?void 0:l.input;return a?[a,Ds.getInputForPlayerSelected(a)]:[null,null]});v.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Ne.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const o=a=>{var u;const l=Il(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Ne.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},s=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=zh(a,l);if(c===0)o(0);else{const d=a[c];(u=Ne.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,o,i,s]}const uN=e=>{const t=e.player,[n,r,i,o]=ope(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(cpe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(lpe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(ape,{...e.readonly?{}:e.register(`player-${t.number}-input`,o),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(spe,{playerNumber:t.number})})]})},spe=R(lE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),ape=R(Ki,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),lpe=R(Ki,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),cpe=R("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function $y(e=!1,t){const n=wi(te.inputListChanged,()=>{const r={...Ds.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return v.useEffect(()=>{e&&Ds.loadMics()},[e]),n}function qh(e,t=ym){v.useEffect(()=>{Ne.setMinPlayerNumber(e);const n=Ne.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Ne.removePlayer(n[r-1].number);else if(n.length<e){const r=Ne.getPlayers().map(o=>o.number),i=Array.from(Array(ym).keys()).filter(o=>!r.includes(o));console.log(i,r);for(let o=n.length;o<e;o++)Ne.addPlayer(i.shift())}},[])}function dN(){const e=v.useRef(0);kr(te.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),Ne.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=Ne.getPlayer(e.current);n?n.changeInput(Bs.inputName,0,t):(r=Ne.addPlayer(e.current))==null||r.changeInput(Bs.inputName,0,t),e.current=(e.current+1)%ym})}function upe(e){qh(2);const t=$y(!0),n=Kw();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),dN();const{register:r}=qn({onBackspace:e.onBack}),o=wi(te.playerInputChanged,()=>Ne.getInputs()).filter(a=>a.source===Ms.inputName),s=wi([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Ne.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs($h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(qw,{}),s.map((a,l)=>f.jsx(uN,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),o.length>1&&tE()&&aN()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Oe,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Oe,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const dpe=ht(f.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),fN=ht(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function cE({names:e}){return f.jsx(fpe,{children:Ne.getPlayers().map(t=>f.jsxs(hpe,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(lE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const fpe=R("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),hpe=R("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function ppe(e){const[t,n]=v.useState(null),r=v.useRef([]),i=v.useRef(0),o=v.useCallback(([s])=>{if(r.current.push(s),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return aE(0,o,t!==!0),v.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function gpe(e){qh(1,1);const{register:t}=qn({onBackspace:e.onBack}),{Microphone:n}=$y(!0,"Microphone"),r=wi([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Ne.getInputs().find(d=>d.source==="Microphone"),c=Ds.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===Bl(l)))==null?void 0:u.label)??"":""}),i=l=>{Ne.getPlayers().forEach(c=>c.changeInput(Ms.inputName,l.channel,l.deviceId))},o=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};v.useEffect(o,[]),kr([te.inputListChanged,te.playerRemoved],o);const s=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[zh(n.list,l)];i(c)}},a=ppe(r);return v.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs($h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(mpe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(Ki,{...t("selected-mic",s),label:"Mic",value:r}),f.jsxs(ype,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(RA,{children:f.jsx(Ape,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(RA,{children:f.jsx(vpe,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(RA,{children:f.jsx(Uh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(cE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Oe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Oe,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const mpe=R("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),ype=R("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),RA=R("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),vpe=R(fN,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),Ape=R(dpe,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function bpe(e){qh(2);const t=$y(!0,"Microphone"),n=Kw();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),v.useEffect(()=>{Ne.getPlayers().forEach(o=>{o.input.source!=="Microphone"&&o.changeInput("Microphone",0)})},[]);const{register:r}=qn({onBackspace:e.onBack}),i=wi([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Ne.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs($h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((o,s)=>f.jsx(uN,{inputs:t,player:o,register:r,readonly:s>1,blockSourceChange:!0},o.number)),f.jsx("hr",{})]}),f.jsx(Oe,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Oe,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Spe(e){const{register:t}=qn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Oe,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Oe,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Oe,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function _pe(e){var o,s;qh(2);const{register:t}=qn({onBackspace:e.onBack});dN();const n=wi([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Ne.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?Ds.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((o=n[0])!=null&&o.label)&&!!((s=n[1])!=null&&s.label);return v.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(qw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(cE,{}),f.jsx(Oe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Oe,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function xpe(e){qh(2);const{register:t}=qn({onBackspace:e.onBack}),{Microphone:n}=$y(!0,"Microphone"),[r,i]=v.useState(!1),o=wi([te.playerInputChanged,te.inputListChanged],()=>{const c=Ne.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=Ds.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});v.useEffect(()=>(o&&Sn.startMonitoring(),()=>{Sn.stopMonitoring()}),[o]);const s=()=>{e.onSave()},[a,l]=v.useState(!1);return kr(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Ne.getPlayer(d.preferred))==null||h.changeInput(Ms.inputName,d.channel,d.deviceId)}),c||l(!0)}),v.useEffect(()=>{e.onSetupComplete(o)},[o]),v.useEffect(()=>{if(o)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[o]),f.jsxs(f.Fragment,{children:[f.jsxs($h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!o&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(Uh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(BR,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),tE()&&aN()&&f.jsxs(BR,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),o&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(cE,{names:["Blue","Red"]})]})]}),f.jsx(Oe,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Oe,{...t("save-button",s,void 0,!0,{disabled:!o}),"data-test":"save-button",children:e.closeButtonText})]})}const BR=R("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function wpe(e){return v.useEffect(()=>{e.onSave()},[]),null}const hN="Previously selected input type",Epe=Be.local.getItem(hN);function uE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:o=!0}){const[s,a]=Je(v_),[l,c]=v.useState(s==="skip"?null:s),[u,d]=v.useState(!1);v.useEffect(()=>{const m=Sn.monitoringStarted();return Sn.startMonitoring(),()=>{!m&&Sn.stopMonitoring()}},[]);const h=(...m)=>{o?dh(()=>{oc.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?s??"skip":m),m&&(Be.local.setItem(hN,m),Pn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{dh(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Jhe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Zhe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(npe,{onPreferenceSelected:h,previouslySelected:Epe,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(_pe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(Spe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(xpe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(bpe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(gpe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(upe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(wpe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function kpe(e){const t=ci();return f.jsxs(qa,{children:[f.jsx(ki,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(uE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const Cpe=({error:e,resetError:t})=>f.jsxs(qa,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(td,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(Tpe,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Oe,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Oe,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Oe,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Be.session.clear(),Be.local.clear(),cf.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Tpe=R("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var Ipe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_APP_PARTYKIT_URL:"wss://allkaraoke-partykit.asvarox.partykit.dev",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/prs/338/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Rpe(e){Wa(!1);const t=nd();return v.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${Ipe.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function Ppe(e){const t=ci(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(ki,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(oE,{children:f.jsx(IL,{onClose:n,closeText:"Return to Main Menu"})})]})}function pN(){const[e]=Je(A_);v.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let PA=0;function gN(){v.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),PA++,()=>{PA--,PA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const Mpe=ht(f.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function jpe({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const o=v.useRef(null),[s,a]=v.useState(!1),l=h=>{e(p=>({...p,search:h}))};Or("down",()=>{var h;(h=o.current)==null||h.blur()},{enabled:s,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Or(hb,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=v.useCallback(h=>{n&&l(h)},[n]);return kr(te.remoteSongSearch,d),Or(hb,h=>{var p;u(h),(p=o.current)==null||p.focus()},{enabled:!s&&n},[t.search]),Or("Backspace",h=>{var p;(p=o.current)==null||p.focus()},{enabled:!s&&n},[t.search]),v.useEffect(()=>{s||i(!!t.search)},[s,t.search,i]),!t.search&&!r?null:f.jsx(Ope,{"data-test":"song-list-search",children:f.jsx(Vpe,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=o.current)==null||p.blur()},children:f.jsx(ac,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:s,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:o,"data-test":"filters-search"})})})})}const Ope=R("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),Vpe=R("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function Lpe({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,o]=v.useState(!1),s=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(Npe,{children:[f.jsx(Ou,{title:"Search",place:"left",children:f.jsx(DR,{onClick:()=>i?s():o(!0),"data-test":"search-song-button",children:f.jsx(Yw,{})})}),f.jsx(Ou,{title:"Pick random",place:"left",children:f.jsx(DR,{onClick:e,"data-test":"random-song-button",children:f.jsx(Mpe,{})})})]}),f.jsx(jpe,{setFilters:t,filters:n,visible:i,setVisible:o,keyboardControl:r})]})}const DR=R(Uo,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",pe.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Npe=R("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function mN({videoId:e,...t}){return f.jsx($pe,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Bpe({videoId:e,...t}){const n=gJ(e)??e,[r,i]=v.useState(!0);v.useLayoutEffect(()=>{i(s=>!s)},[e]);const[o]=Je(qi);return o==="low"?null:f.jsxs(Dpe,{...t,children:[f.jsx(FR,{videoId:r?e:n,visible:r}),f.jsx(FR,{videoId:r?n:e,visible:!r}),f.jsx(Fpe,{videoId:n})]})}const Dpe=R("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Fpe=R(mN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),FR=R(mN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),$pe=R("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function zpe(e,t,n="mousedown",r={}){dJ(n,i=>{const o=i.target;if(!o||!o.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(o)):e.current&&!e.current.contains(o))&&t(i)},void 0,r)}function Upe({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:o,focused:s,focusElement:a}=qn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=v.useRef(null);return zpe(l,()=>{t()}),nc({left:()=>t("left"),right:()=>t("right")},e),v.useEffect(()=>{a(`playlist-${r}`)},[r]),v.useEffect(()=>{if(s){const c=n.find(u=>`playlist-${u.name}`===s);c&&i(c.name)}},[s,n]),f.jsx(Hpe,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(Gpe,{"data-selected":`playlist-${u.name}`===s,"data-active":e,...o(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===s,children:d},u.name):d})})}const Hpe=R("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",qe,";margin:0;}"),Gpe=R(Uo,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",tJ,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),dE=e=>{const[t,n]=v.useState(null),r=Au(e),i=async()=>{n(await nj(e))};return v.useEffect(()=>{i()},[r]),kr(te.songStatStored,i),t},qpe=e=>async(t,n,r,i)=>{const o=Au(e),s=await nj(e),a=s.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...s,scores:a};await rj(e,l),te.songScoreUpdated.dispatch(o,l,i.trim())},Wpe=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Kpe=["US","GB"];function Ype({song:e,forceFlag:t,...n}){const r=e.language[0],i=v.useMemo(()=>{var o;return e.artistOrigin?((o=Wpe[e.artistOrigin.toLowerCase()])==null?void 0:o.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Rl,{isocode:e.artistOrigin,...n}):i&&!Kpe.includes(e.artistOrigin)?f.jsx(Rl,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Rl,{language:e.language,...n}):null})}const Qpe=ht(f.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Jpe=ht(f.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function Xpe(e){return Nl(e.edition??"").startsWith("esc")}const yN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Zpe=e=>f.jsxs(tge,{children:[e.song.tracksCount>1&&f.jsxs(rge,{"data-test":"multitrack-indicator",children:[f.jsx(Hg,{})," Duet"]}),f.jsx(ege,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),ege=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=v.useMemo(()=>c0.recentlyUpdated([e]).length>0,[e]),i=Xpe(e),o=dE(e),s=((c=(l=o==null?void 0:o.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=s&&Io(s).isAfter(Io().subtract(1,"days"));return o!=null&&o.plays?f.jsx(AN,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",o.plays," time",o.plays>1&&"s"]}):o.plays})}):i?f.jsxs(jA,{white:!0,children:[f.jsx(MA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(nge,{src:yN,alt:e.edition})]}):r?f.jsx(jA,{white:!0,children:n?f.jsx(MA,{children:"Added recently"}):f.jsx(Qpe,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(jA,{children:[n&&f.jsx(MA,{children:"Popular"}),f.jsx(Jpe,{})]})}):null},MA=R("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),tge=R("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),vN=R("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),jA=R(vN,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":pe.colors.text.active,";width:2.5rem;height:2.5rem;}"),nge=R("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),AN=R(vN,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),rge=R(AN,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),bN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:o,handleClick:s,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=v.useCallback(()=>s?s(i,o):void 0,[s,i,o]),[p]=Je(qi);return f.jsxs(sge,{...u,onClick:s?h:void 0,children:[l&&f.jsx(age,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(oge,{"data-expanded":d,children:[!d&&f.jsx(Zpe,{song:e,isPopular:a,video:n}),f.jsx(fE,{"data-expanded":d,children:e.artist}),f.jsx(zy,{"data-expanded":d,children:e.title}),f.jsxs(SN,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(xN,{expanded:d,children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(lge,{song:e})]}),!d&&f.jsx(ige,{song:e,forceFlag:c})]})]}),r,n]})},ige=R(Ype,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),SN=R("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),oge=R("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),sge=R("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),age=R("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),_N=R("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",qe,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),fE=R(_N,{target:"e1ornw2x2"})("color:",pe.colors.text.active,";"),zy=R(_N,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),xN=R(zy,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),lge=({song:e})=>{const t=dE(e);return f.jsx(xN,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function cge({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=v.useState([]);return v.useEffect(()=>{const o=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),s=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");o.disconnect(),i([]),a.forEach(l=>{o.observe(l)})});if(n)return s.observe(n,{childList:!0,subtree:!0}),()=>{s.disconnect(),i([]),o.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(uge,{children:e.map(o=>{const s=r.includes(o.name);return f.jsx(dge,{onClick:()=>t(o),"data-active":s,"data-test":`group-navigation-${o.name}`,children:o.displayShort??o.name},o.name)})})})}const uge=R("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),dge=R(Uo,{target:"e131hflw0"})("border:none;cursor:pointer;",qe,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",pe.colors.text.default,";&[data-active='true']{background:",pe.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),$R={[Nr.DUEL]:"Duel",[Nr.PASS_THE_MIC]:"Pass The Mic",[Nr.CO_OP]:"Cooperation"},OA=["Hard","Medium","Easy"],fge=Hh("song_settings-game_mode-v3"),hge=Hh("song_settings-tolerance-v2");function pge({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,o]=fge(null),s=i??(e.tracksCount>1?Nr.CO_OP:Nr.DUEL),[a,l]=hge(1),c=()=>{const p={id:bm(),players:[],mode:s,tolerance:a+1};t(p)},u=()=>{o(Il(Object.values(Nr),s))},d=()=>l(p=>zh(OA,p,-1)),{register:h}=qn({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return f.jsxs(f.Fragment,{children:[f.jsx(zR,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:OA[a],"data-test-value":OA[a]}),f.jsx(zR,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:$R[s],"data-test-value":$R[s]}),f.jsxs(mge,{children:[s===Nr.DUEL&&"Face off against each other - person that earns more points wins.",s===Nr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",s===Nr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(Jw,{})," symbol."]})]}),f.jsx(gge,{...h("next-step-button",c,void 0,!0),children:"Next "})]})}const gge=R(Uo,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),mge=R("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),zR=R(Ki,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function yge(){const t=wi(te.playerInputChanged,()=>Ne.getInputs()).some(s=>s.source==="Microphone"),n=v.useRef([]),r=v.useCallback(s=>{n.current.push(s)},[]);rpe(0,50,r);const[i,o]=v.useState(!1);return v.useEffect(()=>{const s=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;o(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(s)},[i]),f.jsxs(vge,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(td,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const vge=R("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),wN=(e,t=333,n)=>{const[r,i]=v.useState("ok");return v.useEffect(()=>{const o=setInterval(()=>{i(Sn.getInputStatus(e))},t);return()=>{clearInterval(o)}},[e,t,n]),r},EN=e=>{const[t,n]=v.useState(null);return v.useEffect(()=>{const r=setInterval(()=>{const i=nt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function kN({playerNumber:e,...t}){var r,i;const n=EN((i=(r=Ne.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Age,{...t,children:[n,"ms"]}):""})}const Age=R("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function CN({status:e,tooltipPosition:t="end",...n}){return f.jsxs(bge,{...n,children:[e==="ok"?f.jsx(Sge,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(_ge,{"data-test":"status-unavailable"}):f.jsx(xge,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(UR,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(UR,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const bge=R("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Sge=R("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),_ge=R(fN,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),xge=R(td,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),UR=R("div",{target:"etoberq0"})(qe,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function TN({player:e}){const t=wN(e.number);return f.jsxs(wge,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(kN,{playerNumber:e.number}),f.jsx(CN,{status:t}),t!=="unavailable"&&f.jsx(lE,{playerNumber:e.number}),f.jsx(Ege,{className:"ph-no-capture",children:e.getName()})]},e.number)}const wge=R("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Ege=R("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function kge(e){Bo(te.playerNameChanged),v.useEffect(()=>{Sn.startMonitoring()},[]);const n=wi(te.playerInputChanged,()=>Ne.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(Cge,{...e,children:[f.jsxs(Tge,{children:["Microphone Check",n?Ne.getPlayers().map(r=>f.jsx(TN,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(Ige,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(yge,{})]})}const Cge=R("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",qe,";margin-bottom:8.6rem;gap:3.5rem;"),Tge=R("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),Ige=R("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function IN({onClose:e,closeButtonText:t}){return f.jsx(sc,{onClose:e,children:f.jsx(ho,{children:f.jsx(uE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const RN=v.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:o,placeholder:s,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=v.useRef(null);v.useImperativeHandle(d,()=>h.current);const p=v.useRef(null),[g,m]=v.useState(!1),[b,y]=v.useState(-1),A=v.useMemo(()=>e.filter(x=>x.toLowerCase().trim().includes(r.toLowerCase().trim())&&x!==r),[e,r]),S=x=>{var w,k,C;if(x.code==="ArrowUp"||x.code==="ArrowDown")if(A.length){x.preventDefault();const E=zh(A,b,x.code==="ArrowUp"?-1:1);y(E);const P=(w=p.current)==null?void 0:w.querySelector(`[data-index="${E}"]`);P==null||P.scrollIntoView({behavior:"smooth",block:"center"})}else(k=h.current)==null||k.blur(),a==null||a(x.code==="ArrowUp"?-1:1);else if(x.code==="Enter"){const E=A[b];E?(y(-1),i(E)):(C=h.current)==null||C.blur()}},_=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Rge,{className:c,children:[f.jsx(ac,{onFocus:()=>m(!0),onBlur:_,onKeyDown:S,onChange:i,value:r,focused:t,label:n,disabled:o,ref:h,placeholder:s,...u}),g&&!!A.length&&f.jsx(Pge,{ref:p,role:"listbox",children:A.map((x,w)=>f.jsx(Mge,{role:"listitem","data-index":w,"data-focused":w===b,"data-e2e-focused":w===b,focused:w===b,onClick:()=>{var k;i(x),y(-1),(k=h.current)==null||k.blur()},children:x},x))})]})}),Rge=R("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),Pge=R("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),Mge=R("div",{target:"elw4n420"})(qe,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?pe.colors.text.active:"white",";cursor:pointer;"),jge=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function Oge({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:o,setup:s}){const[a,l]=v.useState(!1),c=v.useRef(null);if(Bo(te.playerNameChanged),t===void 0)return null;const u=()=>o({number:t.number,track:(s.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(Vge,{maxLength:U_,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(Lge,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:jge(n.tracks,s.track),"data-test-value":s.track+1})]})}const Vge=R(RN,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Lge=R(Ki,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function Nge({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Je(yr),[o]=Je(v_),s=Ne.getPlayers(),a=!i&&s.length===2&&e.tracksCount>1,l=()=>s.map((_,x)=>({number:_.number,track:a?Math.min(x,e.tracksCount-1):0})),[c,u]=v.useState(l());kr([te.playerAdded,te.playerRemoved],()=>u(l()));const d=s.map((_,x)=>c.find(w=>w.number===_.number)??l()[x]),h=v.useMemo(()=>JSON.parse(Be.session.getItem(bu))??[],[]),p=_=>x=>{u(w=>w.map(k=>k.number===_?x:k))},[g,m]=v.useState(!1);v.useEffect(()=>{g||Sn.startMonitoring()},[g]);const{register:b,focusElement:y}=qn({enabled:n&&!g,onBackspace:r,additionalHelp:{remote:["select-song"]}}),A=()=>{t(d)},S=!!o&&o!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(IN,{closeButtonText:S?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),S&&y("play")}}),d.map((_,x)=>f.jsxs(Bge,{children:[f.jsxs(Dge,{children:["Player ",x+1]}),f.jsx("div",{children:f.jsx(Oge,{multipleTracks:a,player:Ne.getPlayer(_.number),setup:_,onChange:p(_.number),playerNames:h,register:b,songPreview:e})})]},_.number)),S&&f.jsx(HR,{...b("play-song-button",A,void 0,!0),children:"Play"}),f.jsx(HR,{...b("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const Bge=R("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),HR=R(Uo,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Dge=R("span",{target:"e12y59820"})(qe,";padding:1.3rem;font-size:4.5rem;");function Fge({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,o]=v.useState(null),[s,a]=v.useState("song"),l=u=>{o(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs($ge,{children:[f.jsx(kge,{style:s==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(zge,{children:[s==="song"&&f.jsx(pge,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),s==="players"&&f.jsx(Nge,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const $ge=R("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),zge=R("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),Uge=30;function Hge({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:o,onExitKeyboardControl:s,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=v.useState(!1),h=v.useRef(null),{width:p,height:g}=Gh(),m=o;v.useLayoutEffect(()=>{d(!1)},[e.video]);const b=e.previewStart??(e.videoGap??0)+60,y=e.previewEnd??b+Uge,A=v.useMemo(()=>[e.video,b,y,e.volume],[e.video,b,y,e.volume]),[S,_,x,w]=Qw(A,350);v.useEffect(()=>{var P;(P=h.current)==null||P.loadVideoById({videoId:S,startSeconds:_,endSeconds:x})},[S,h,_,x]);const k=m?p:r,C=m?g:i,E=m?Math.min(p/20*9,g*(4/5)):i;return v.useEffect(()=>{var P;(P=h.current)==null||P.setSize(k,C)},[k,C,o]),f.jsxs(f.Fragment,{children:[m&&f.jsx(Wge,{onClick:s}),!m&&u&&f.jsx(Jge,{width:k,height:C,left:n,top:t,song:e}),f.jsx(qge,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(Kge,{"data-show":u,"data-expanded":m,height:E,id:"preview-video-container",children:f.jsx(sE,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:P=>{var N,z;P===Vn.ENDED?((N=h.current)==null||N.seekTo(b),(z=h.current)==null||z.playVideo()):P===Vn.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:k,height:E,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(Yge,{"data-expanded":m,children:m&&f.jsx(Fge,{songPreview:e,onPlay:a,keyboardControl:o,onExitKeyboardControl:s})})})]})}const Gge=R(bN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",fE,"{view-transition-name:song-preview-artist;}",zy,"{view-transition-name:song-preview-title;}",SN,"{view-transition-name:song-preview-expanded-data;}"),qge=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Gge,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Wge=R("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Kge=R("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Yge=R("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),Qge=R("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Jge=e=>{const[t]=Je(qi);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(Qge,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Xge(e){var t=Sg(e),n=t%1;return t===t?n?t-n:t:0}var Zge=Math.ceil,eme=Math.max;function WS(e,t,n){(n?K3(e,t,n):t===void 0)?t=1:t=eme(Xge(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=Array(Zge(r/t));i<r;)s[o++]=bx(e,i,i+=t);return s}function tme(e,t){const n=v.useRef(null),r=v.useMemo(()=>e.groups.map(u=>({group:u,rows:WS(u.songs,e.perRow)})),[e.groups,e.perRow]),i=v.useMemo(()=>r.map(({rows:u})=>u.length),[r]),o=v.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:s,GroupRowWrapper:a}=e,l=v.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=v.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return v.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var y;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(A=>A.index===d),g=r.slice(0,h).reduce((A,{rows:S})=>A+S.length,Math.floor(p/e.perRow)),m=((y=n.current)==null?void 0:y.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,no()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(RL,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(s,{"data-is-new":r[d].group.isNew,...h,children:[o[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&o[u].length<e.perRow&&new Array(e.perRow-o[u].length).fill(null).map((p,g)=>f.jsx(v.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const nme=v.forwardRef(tme),PN=(e,t)=>e+Math.random()*(t-e),Po=(e,t)=>Math.round(PN(e,t)),rme=250,ime=750;function ome(e){const t=WC(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=WC(async()=>Vq(),[]),r=v.useMemo(()=>c0.recentlyUpdated(e),[e]).map(l=>l.id),[i]=Je(b0),o=t.loading||n.loading||!e.length,s=v.useMemo(()=>{if(o)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(rme,ime-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,o,t.value,e,n.value]),a=v.useMemo(()=>({popular:[]}),[]);return{value:s??a,loading:o}}const sme=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function ame(){const e=nd(),{value:{popular:t},loading:n}=ome(e.data),r=e.isLoading||n,{filters:i,filteredList:o,setFilters:s,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=Oce(e.data,t,r);return{groupedSongList:v.useMemo(()=>{var p;if(o.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:o.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...o].sort(u.sortingFn):o).forEach(b=>{try{const{name:y,...A}=((u==null?void 0:u.groupData)??sme)(b);let S=h.find(_=>_.name===y);S||(S={name:y,songs:[],...A},h.push(S)),S.songs.push({index:o.indexOf(b),song:b,isPopular:t.includes(b.id)})}catch(y){console.error(y),Lo(y)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const b=o.filter(y=>y.isNew);b.length&&b.length<50&&m.unshift({name:"New",isNew:!0,songs:b.map(y=>({song:y,index:o.indexOf(y),isPopular:t.includes(y.id)}))})}return m}},[o,i.search,t,u]),songList:o,filters:i,setFilters:s,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function f0(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e},[e]),t.current}const lme=30;function cme(e,t,n=lme){let r;if(t.length<e){const i=[...Array(e).keys()].filter(o=>!t.includes(o));r=i[Po(0,i.length-1)]}else r=Po(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const ume=(e=[],t)=>{var b;const[n,r]=v.useState([0,0]),i=v.useMemo(()=>e.map(({songs:y})=>y.length).join(","),[e]),o=v.useMemo(()=>e.map(({songs:y})=>WS(y.map(A=>A.index),t)).flat(),[i,t]),s=v.useMemo(()=>e.map(({songs:y,name:A})=>WS(y.map(()=>A),t)).flat(),[i,t]),a=f0(o??[]),l=n[0]===((b=o[n[1]])==null?void 0:b.length)-1,c=v.useCallback((y,A)=>{var x;const S=o.findIndex((w,k)=>w.includes(y)&&(!A||A===s[k][0])),_=(x=o[S])==null?void 0:x.indexOf(y);_>=0&&S>=0?r([_??0,S??0]):r([0,0])},[o]),u=([y,A],S,_)=>{var w;if(e.length===0)return _;const x=S[A];return(x==null?void 0:x[y])??(x==null?void 0:x.at(-1))??((w=S==null?void 0:S[0])==null?void 0:w[0])??_},d=([y,A],S=o)=>u([y,A],S,0),h=([y,A],S=s)=>u([y,A],S,"A");v.useEffect(()=>{const y=d(n,a),A=d(n,o);a.length&&y!==A&&c(y)},[n,o,a,l]);const p=(y,A)=>{J0.play(),r(([S,_])=>{let x=S,w=_;if(y==="y")w=_+A;else{if(o[_]===void 0)debugger;const k=o[_].length-1;x=Math.min(S,k)+A,x<0?(w=(o.length+_-1)%o.length,x=o[w].length-1):x>k&&(w=_+1,x=0)}return[x%t,(o.length+w)%o.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},dme=(e,t=[],n,r,i,o)=>{const s=ci(),[a,l]=v.useState([!1,null]),c=f0(a),[u,d]=a,[h,p,g,m,b,y]=ume(t,o),A=g[0]===0,S=()=>{tx.play(),n()},[_,x]=v.useState(!1),w=f0(i.search);v.useLayoutEffect(()=>{if(w&&!i.search){x(!0);const M=setTimeout(()=>x(!1),2e3);return()=>{clearTimeout(M),x(!1)}}},[i.search]);const k=()=>{!_&&!i.search&&(nx.play(),s("menu/"))},C=v.useCallback(Zc((M,T)=>{const D=(t.length+T+M)%t.length;b(t[D].songs[0].index),J0.play()},700,{trailing:!1}),[t]),E=(M,T)=>{if(!(M!=null&&M.repeat))m("y",T);else{const D=t.findIndex(L=>!!L.songs.find(F=>F.index===h));C(T,D)}},P=(M,T=!1)=>{!T&&M===-1&&A&&!u?l([!0,"left"]):m("x",M)},N=v.useRef([]),z=()=>{const M=cme(r,N.current);b(M)};nc({accept:S,down:M=>E(M,1),up:M=>E(M,-1),left:()=>P(-1),right:()=>P(1),back:k,random:z},e&&!u,[t,g,u,i,_]);const j=v.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);ed(j,e);const V=v.useCallback(M=>{l([!1,M??null])},[l,P,t,g]);return v.useLayoutEffect(()=>{const[M,T]=c;M&&!u&&T===d&&P(d==="right"?1:-1,!0)},[u,d,A,y,...g]),[h,p,b,u,V,z]};function fme(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:o,isLoading:s,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=ame(),[u,d]=v.useState(!0),h=w=>{dh(()=>{oc.flushSync(()=>{d(w)})}),rx.play(!1)},[p,g,m,b,y,A]=dme(u,r,()=>h(!1),n.length,o,t),[S,_]=v.useState(!1);v.useEffect(()=>{if(!S&&n.length&&!s){const w=n.findIndex(E=>E.id===e),k=n.findIndex(E=>E.isNew);let C=Po(0,n.length-1);(w>-1||k>-1)&&(C=w),_(!0),m(C)}},[m,S,p,n,e,s]),v.useEffect(()=>{var w;if(S&&n.length&&n[p]&&!s){const k=new URL((w=global.location)==null?void 0:w.href);k.searchParams.set("song",n[p].id),global.history.replaceState(null,"",k.toString())}},[S,p,n,s]);const x=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:x,songList:n??[],filters:o,setFilters:i,showFilters:b,setShowFilters:y,isLoading:s||!S,randomSong:A,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const hme=1.2,GR=4,MN=7,KS=4.5,qR=MN+KS,eg=3.5,pme={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(_me,{}),e&&e.songPreview.songPreview&&f.jsx(Hge,{...e.songPreview})]}),Footer:()=>f.jsxs(mme,{children:["Missing a song? Try"," ",f.jsx(Gw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(bme,{children:"No songs found"})};function gme({onSongSelected:e,preselectedSong:t}){const[n]=Je(yr),r=n?GR-1:GR;Wa(!1),za(!0),gN();const{focusedGroup:i,focusedSong:o,moveToSong:s,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:b,selectedPlaylist:y,setSelectedPlaylist:A,playlists:S,songList:_}=fme(t,r),x=v.useMemo(()=>a.map(U=>U.songs).flat().find(U=>U.song.id===(c==null?void 0:c.id)),[c,a]),w=v.useRef(null),k=wL(),{width:C,handleResize:E}=Gh(),N=(C-(qR+KS)*k-(r-1)*eg*k)/r,z=N*(9/16),j=z/2,V=v.useCallback(()=>u(!1),[u]),M=m||!a||!C,T=y==="Eurovision",D=v.useRef(null);v.useEffect(()=>{const U=ne=>_.findIndex(B=>B.id===ne);return global.__songList={scrollToSong:ne=>{var ae;const[B]=ne.split("-new-group"),fe=ne.endsWith("-new-group"),Z=a.find(Me=>!!Me.isNew===fe&&Me.songs.some(xe=>xe.song.id===B));if(Z){const Me=U(B);return(ae=w.current)==null||ae.scrollToSongInGroup(Z.name,Me,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,_]);const[{previewTop:L,previewLeft:F},$]=v.useState({previewTop:0,previewLeft:0});v.useEffect(()=>{const U=document.querySelector(`[data-song-index="${o}"][data-group="${i}"]`);!m&&U?$({previewTop:U.offsetTop+U.parentNode.offsetTop,previewLeft:U.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[o,i,m,C]),v.useEffect(()=>{var U;E(),m||(U=w.current)==null||U.scrollToSongInGroup(i,o)},[C,o,i,a,m,E]);const G=ci();return Or("Shift + E",()=>G(s0("edit/song/",{playlist:null,step:"metadata"})),[G]),kr(te.remoteSongSelected,async U=>{A("All");const ne=_.findIndex(B=>B.id===U);ne&&(o!==ne?(s(ne),l||u(!0),V()):l&&V())},[_,s,V,A,u,l,o]),f.jsx(Js,{children:f.jsxs(yme,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(j)}px`,"--song-entry-width":`${Math.floor(N)}px`,"--song-entry-height":`${Math.floor(z)}px`,"--song-list-gap":`${Math.floor(eg*k)}px`,"--song-list-padding-left":`${Math.floor(qR*k)}px`,"--song-list-padding-right":`${Math.floor(KS*k)}px`,"--song-sidebar-weight":`${Math.floor(MN*k)}px`},children:[M?f.jsxs(WR,{children:[f.jsx(YR,{children:f.jsx(JR,{children:f.jsx(YS,{children:""})})}),new Array(4).fill(0).map((U,ne)=>f.jsx(QR,{children:new Array(4).fill(0).map((B,fe)=>f.jsx(KR,{},fe))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(vme,{videoId:c.video}),f.jsx(Lpe,{setFilters:d,filters:h,onRandom:b,keyboardControl:l}),f.jsx(cge,{container:D.current,groupedSongList:a,onScrollToGroup:U=>{s(U.songs[0].index),setTimeout(()=>{var ne;return(ne=w.current)==null?void 0:ne.scrollToGroup(U.name)},20)}}),f.jsx(WR,{active:l,dim:g,"data-test":"song-list-container",ref:D,children:f.jsx(nme,{focusedSong:o,focusedGroup:i,ListRowWrapper:QR,GroupRowWrapper:YR,ref:w,groups:a,itemHeight:Math.floor(z)+Math.floor(eg*k),groupHeight:Math.floor(j)+Math.floor(eg*k),components:pme,renderGroup:U=>f.jsx(JR,{"data-highlight":U.name==="New",children:f.jsx(YS,{"data-group-name":U.name,children:U.displayLong??U.name})},U.name),perRow:r,renderItem:(U,ne)=>{const B=U.index===o&&ne.name===i;return v.createElement(Sme,{...g||!l?{"data-unfocusable":!0}:{},isPopular:U.isPopular,key:U.song.id,song:U.song,handleClick:B?V:s,focused:!g&&l&&B,index:U.index,groupLetter:ne.name,"data-song-index":U.index,"data-focused":!g&&l&&U.index===o,"data-test":`song-${U.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:T})},placeholder:f.jsx(KR,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:T,isPopular:!!(x!=null&&x.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:L,left:F,width:Math.floor(N),height:Math.floor(z)}}})})]}),f.jsx(Upe,{selectedPlaylist:y,setSelectedPlaylist:A,playlists:S,active:g,closePlaylist:p})]})})}const mme=R("div",{target:"e13s0pn12"})(qe,";text-align:center;font-size:5rem;padding:10rem 0;"),yme=R("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),vme=e=>{const{theme:t}=v.useContext(wx);return t==="eurovision"?null:f.jsx(Ame,{...e})},Ame=R(Bpe,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),bme=R("div",{target:"e13s0pn9"})(qe,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),YS=R("div",{target:"e13s0pn8"})(qe,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",pe.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),WR=R("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),KR=R("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),Sme=v.memo(R(bN,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",hme,");z-index:2;",xu,";}")),_me=R("div",{target:"e13s0pn4"})(""),jN=R("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),YR=R(jN,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),QR=R(jN,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),JR=R("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",YS,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function xme(e){const[t,n]=Je(b0),[r,i]=v.useState(t===null),o=()=>{n(t??[]),i(!1)};return r?f.jsx(IL,{onClose:o,closeText:"Continue to Song Selection"}):f.jsx(gme,{...e})}const wme=ht(f.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),Rd=e=>new Promise(t=>setTimeout(t,e)),VA=15;function Eme({onFinish:e}){const[t,n]=v.useState(!1),[r,i]=v.useState([]);kr(te.readinessConfirmed,a=>{i(l=>[...l,a])});const o=wi([te.inputListChanged,te.readinessConfirmed],()=>Ne.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));v.useEffect(()=>{(async()=>{let a=!1;const l=Ne.requestReadiness().then(()=>{a=!0,n(!0)}),c=Rd(1500),u=Rd(VA*1e3);await Rd(250),a||await xg.play(),await Promise.race([Promise.all([l,c]),u]),xg.playing()&&ij.play(),await Rd(500),xg.stop(),await Rd(1e3),e()})()},[]);const s=o.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(kme,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(Tme,{children:s.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(Ime,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(Rme,{children:a?f.jsx(wme,{}):f.jsx(Uh,{color:"info",size:"1em"})})," ",f.jsx(TN,{player:c})]},u))}),!t&&f.jsxs(Cme,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(rE,{end:0,start:VA,duration:VA,useEasing:!1})})]})]})})}const kme=R("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",qe,";"),Cme=R("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),Tme=R("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),Ime=R("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),Rme=R("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function Pme({register:e,onExit:t}){const n=v.useRef(null),[r,i]=v.useState(!1),[o,s]=v.useState(!1),[a,l]=v.useState(!1);v.useEffect(()=>{var d;(d=n.current)==null||d.focus()},[n]);const c=()=>{const d=ze.getSong(),h={songId:d==null?void 0:d.id,songLastUpdated:d==null?void 0:d.lastUpdate},p=[];r&&p.push("not-in-sync"),o&&p.push("wrong-volume"),a&&p.push("bad-lyrics"),p.length&&Pn.capture("rate-song",{issues:p,...h}),t()},u=o||r||a;return f.jsx(f.Fragment,{children:f.jsxs(ho,{"data-test":"rate-song-container",children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(LA,{...e("button-not-in-sync",()=>i(d=>!d)),size:"small",children:[f.jsx(NA,{children:r?f.jsx(Fg,{}):f.jsx($g,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(LA,{...e("button-bad-lyrics",()=>l(d=>!d)),size:"small",children:[f.jsx(NA,{children:a?f.jsx(Fg,{}):f.jsx($g,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(LA,{...e("button-wrong-volume",()=>s(d=>!d)),size:"small",children:[f.jsx(NA,{children:o?f.jsx(Fg,{}):f.jsx($g,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Oe,{...e("button-song-ok",c,void 0,!0),ref:n,children:u?"Submit and exit":"All good, exit the song"})]})})}const LA=R(Oe,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),NA=R("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function Mme({onResume:e,onExit:t,onRestart:n}){const r=ci(),i=v.useRef(null),o=v.useRef(null);v.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[s,a]=v.useState(!1),{register:l}=qn({enabled:!s}),[c,u]=v.useState(!1),d=async()=>{const h=ze.getSongCompletionProgress(),p=(await ro.getIndex()).find(g=>{var m;return g.id===((m=ze.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7?u(!0):t()};return f.jsxs(sc,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(ho,{children:[f.jsx(Oe,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Oe,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Oe,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Oe,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(DL,{ref:o,...l("input-lag",()=>{var h;return(h=o.current)==null?void 0:h.focus()})}),f.jsx(Oe,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=ze.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),s&&f.jsx(IN,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(Pme,{onExit:t,register:l})]})}const ON=no()?1e3:8e3;function jme(e){return Math.floor((By(e)-ON)/1e3)}const Ome=2e4;function Vme(e){return By(e)-(e.videoGap??0)*1e3>Ome}function Lme({playerRef:e,isEnabled:t}){const[n]=Je(yr),r=ze.getSong(),i=v.useMemo(()=>Vme(r),[r]),o=v.useMemo(()=>By(r),[r]),s=ze.getCurrentTime(!1)<o-ON*1.2,a=t&&s&&i;nc({accept:()=>{e==null||e.seekTo(jme(r));const{artist:u,title:d}=ze.getSong();Pn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=v.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return ed(c,a),!n&&a?f.jsxs(Nme,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(Bme,{children:"Enter"})," to skip the intro"]}):null}const Nme=R("div",{target:"e167kngm1"})(qe,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Bme=R("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Dme=15e3;function Fme({onSongEnd:e,isEnabled:t}){const[n]=Je(yr),r=ze.getDuration(),i=v.useMemo(()=>Math.max(...ze.getPlayers().map(p=>Nf(p.getLastNotesSection()))),[]),o=v.useMemo(()=>{var g;const p=qL(i,ze.getSong())+(((g=ze.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+Dme},[r,i,t]),[s,a]=v.useState(0),[l,c]=v.useState(!1);Hj(()=>a(ze.getCurrentBeat()),1e3);const u=Qw(o&&s>i,5e3)&&!l;nc({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=ze.getSong();Pn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=v.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return ed(h,u),!n&&o?f.jsxs($me,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(zme,{children:"Enter"})," to skip the outro"]}):null}const $me=R("div",{target:"e1b01y1a1"})(qe,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),zme=R("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Ume=Ie.memo(Fme);function XR(e){return e&&e.length?_L(e):[]}function Hme({players:e}){const t=ze.getCurrentTime(!1),n=ze.getSongBeatLength(),r=ze.getDuration(),i=ze.getSong(),o=v.useMemo(()=>XR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Pa(l)*n+i.gap)),[i,n,e]),s=v.useMemo(()=>XR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Lf(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(hE,{children:[o.map(l=>f.jsx(ZR,{position:l/a},l)),s.map(l=>f.jsx(ZR,{position:l/a},l)),f.jsx(Wme,{fill:t/a})]})}const hE=R("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),Gme=R(hE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",pe.colors.text.active,";opacity:75%;"),ZR=e=>f.jsx(Gme,{style:{left:`${Math.min(e.position*100,100)}%`}}),qme=R(hE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),Wme=e=>f.jsx(qme,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function Kme({player:e,bottom:t=!1,...n}){const r=Sn.getPlayerVolume(e.number),i=wN(e.number);return f.jsxs(Yme,{...n,children:[i!=="unavailable"&&f.jsx(ipe,{playerNumber:e.number,volume:r}),f.jsx(Qme,{status:i,tooltipPosition:"start"}),f.jsx(Jme,{playerNumber:e.number})]})}const Yme=R("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Qme=R(CN,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Jme=R(kN,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function eP({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var _;const i=ze.getPlayer(e.number),[o]=Je(yr),s=pe.colors.players[e.number].text,a=((_=ze.getSingSetup())==null?void 0:_.mode)===Nr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=ze.getCurrentBeat(),h=ze.getSongBeatLength(),p=Math.max(0,...a.filter(x=>x<=((l==null?void 0:l.start)??-1/0))),g=a.find(x=>x>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,b=(g-d)/(g-p),y=m<2500,A=Pt(l),S=A?Pa([l])-l.start:0;return f.jsxs(n0e,{shouldBlink:y,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!o&&n&&f.jsx(Xme,{children:r?ze.getPlayers().map(x=>f.jsx(tP,{player:Ne.getPlayer(x.getNumber())},x.getNumber())):f.jsx(tP,{player:e})}),m<1/0&&f.jsx(l0e,{color:s,progress:b<=1?b*100:0}),A?f.jsx(f.Fragment,{children:f.jsxs(tg,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(Zme,{children:f.jsx(t0e,{color:s,percent:Math.min(2,(d-l.start)/S)})}),l==null?void 0:l.notes.map(x=>{const w=Math.max(0,Math.min(2,(d-x.start)/x.length));return f.jsxs(r0e,{type:x.type,children:[f.jsxs(i0e,{children:[f.jsx(s0e,{fill:w,color:s,children:x.lyrics.trim()}),x.lyrics.endsWith(" ")&&" "]}),x.lyrics]},x.start)}),(c==null?void 0:c.start)===g&&f.jsx(nP,{"data-should-shake":!0})]})}):f.jsx(tg,{effectsEnabled:n,children:""}),Pt(c)?f.jsxs(tg,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(x=>f.jsx(v.Fragment,{children:x.lyrics},x.start)),(u==null?void 0:u.start)===g&&f.jsx(nP,{})]}):f.jsx(tg,{effectsEnabled:n,nextLine:!0,children:""})]})}const tP=R(Kme,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),Xme=R("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Zme=R("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),e0e=R("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),t0e=({percent:e,color:t})=>{const n=v.useMemo(()=>{const r=he(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(e0e,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},n0e=R("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),r0e=R("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),i0e=R("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),o0e=R("span",{target:"e1j3lo7n3"})(""),s0e=({fill:e,color:t,children:n})=>f.jsx(o0e,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),a0e=R("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),l0e=e=>f.jsx(a0e,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),nP=R(Jw,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",pe.colors.text.active,";font-size:4rem;}"),tg=R("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?pe.colors.text.inactive:pe.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),VN=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function QS({score:e}){return f.jsx(f.Fragment,{children:VN.format(e)})}const LN=6,Di=30,Cn=Di+6,c0e=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,o=n-e.paddingVertical*2;return{width:t-i*2,height:o/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*o/e.playerCount}};function rP({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:o,track:s,playerIndex:a,playerCount:l,paddingVertical:c}){var S;const u=s.sections,d=u[t],h=u[t+1],p=c0e({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=Pt(d)?(S=d==null?void 0:d.notes)==null?void 0:S.at(-1):void 0,m=Pt(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,b=d.start*r,y=(m-d.start)*r,A=(p.height-20-Di)/(o-i+LN*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:b,maxTime:y,pitchStepHeight:A}}function NN(e,t,n,r,i){return i&&n?pe.colors.players[t].starPerfect:i?pe.colors.players[t].perfect:n&&r?pe.colors.players[t].star:r?pe.colors.players[t].hit:pe.colors.players[t].miss}function u0e(e,t,n,r){return NN(e,t,r.note.type==="star",n,r.isPerfect)}const BA={},d0e=e=>{if(!BA[e]){const t=he(e);BA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return BA[e]};function JS(e,t,n,r,i,o,s,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=d0e(s);l.addColorStop(0,c[Po(0,c.length-1)]),l.addColorStop(.05,c[Po(0,c.length-1)]),l.addColorStop(.15,d[Po(0,d.length-1)]),l.addColorStop(1,u[Po(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=s,t.globalAlpha=1}function pE(e,t,n,r,i,o,s,a,l=1){i>0&&JS(e,t,n,r,i,o,a,l)}const _f=(e,t)=>e-t+Math.random()*t*2,iP=(e=0)=>Math.sign(e+Math.random()-.5),f0e=500,h0e=100,ng=.2;class p0e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,o,s)=>{const a=1-this.ttl/this.startingTtl,l=this.startingTtl-this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;pE(o,i,d,h,c,u,this.initialAngle+l,this.color,.5*a),this.ttl=this.ttl-s,this.finished=this.ttl<=0},this.startingTtl=this.ttl=_f(f0e,h0e),this.velocityX=ng*Math.random()-ng/2,this.velocityY=ng*Math.random()-ng/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class g0e{constructor(t,n,r,i,o){this.finished=!0,this.tick=(c,u)=>{};const s=pe.colors.players[i].starPerfect.fill,a=he(s).lighten(15).toRgbString(),l=he(s).darken(15).toRgbString();if(Math.random()>.85){const c=Po(0,r/8),u=Math.random();let d=s;u>.66?d=a:u>.33&&(d=l);const h=n+20*(Math.random()-.5);o.add(new p0e(t+c*8,h,d))}}}const m0e=300,y0e=50,rg=1.3;class v0e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,o,s)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;pE(o,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-s,this.finished=this.ttl<=0},this.startingTtl=this.ttl=_f(m0e,y0e),this.velocityX=rg*Math.random()-rg/2,this.velocityY=rg*Math.random()-rg/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const A0e=`
precision mediump float;
`,Uy=A0e.replace(/\n/g,""),b0e=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,BN=b0e.replace(/\n/g,""),S0e=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,Hy=S0e.replace(/\n/g,""),_0e=Uy+BN+Hy+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;_0e.replace(/\n/g,"");const x0e=Uy+Hy+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;x0e.replace(/\n/g,"");const w0e=Uy+BN+Hy+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;w0e.replace(/\n/g,"");const E0e=Uy+Hy+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;E0e.replace(/\n/g,"");function k0e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:bx(e,t,n)}var C0e="\\ud800-\\udfff",T0e="\\u0300-\\u036f",I0e="\\ufe20-\\ufe2f",R0e="\\u20d0-\\u20ff",P0e=T0e+I0e+R0e,M0e="\\ufe0e\\ufe0f",j0e="\\u200d",O0e=RegExp("["+j0e+C0e+P0e+M0e+"]");function DN(e){return O0e.test(e)}function V0e(e){return e.split("")}var FN="\\ud800-\\udfff",L0e="\\u0300-\\u036f",N0e="\\ufe20-\\ufe2f",B0e="\\u20d0-\\u20ff",D0e=L0e+N0e+B0e,F0e="\\ufe0e\\ufe0f",$0e="["+FN+"]",XS="["+D0e+"]",ZS="\\ud83c[\\udffb-\\udfff]",z0e="(?:"+XS+"|"+ZS+")",$N="[^"+FN+"]",zN="(?:\\ud83c[\\udde6-\\uddff]){2}",UN="[\\ud800-\\udbff][\\udc00-\\udfff]",U0e="\\u200d",HN=z0e+"?",GN="["+F0e+"]?",H0e="(?:"+U0e+"(?:"+[$N,zN,UN].join("|")+")"+GN+HN+")*",G0e=GN+HN+H0e,q0e="(?:"+[$N+XS+"?",XS,zN,UN,$0e].join("|")+")",W0e=RegExp(ZS+"(?="+ZS+")|"+q0e+G0e,"g");function K0e(e){return e.match(W0e)||[]}function Y0e(e){return DN(e)?K0e(e):V0e(e)}function Q0e(e){return function(t){t=vx(t);var n=DN(t)?Y0e(t):void 0,r=n?n[0]:t.charAt(0),i=n?k0e(n,1).join(""):t.slice(1);return r[e]()+i}}var J0e=Q0e("toUpperCase");function X0e(e){return J0e(vx(e).toLowerCase())}function oP(e,t,n,r,i,o,s,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,o);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),s&&e.fill(),a&&e.stroke()}function gE(e,t,n,r,i,o,s,a,l=.1){oP(e,t,n,r,i,o,s,a),s&&l>0&&(e.save(),oP(e,t,n,r,i,o,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Wd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function Kd(e,t,n,r,i,o,s){o==="star"?Wd(e,pe.colors.lines.star):o==="freestyle"||o==="rap"?Wd(e,pe.colors.lines.freestyle):o==="rapstar"?Wd(e,{...pe.colors.lines.star,fill:pe.colors.lines.freestyle.fill}):Wd(e,pe.colors.lines.normal),e.shadowBlur=10,e.shadowColor=s!==void 0?pe.colors.players[s].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,gE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Z0e(e,t,n,r,i,o,s,a,l){Wd(e,NN(e,o,l,s,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,gE(e,t,n,r,i,100,!0,!0,s?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Nn=10,eye={start:{x:0,y:0,w:Di/2+Nn,h:Di+Nn*2},middle:{x:Di/2+Nn,y:0,w:1,h:Di+Nn*2},end:{x:Di/2+1+Nn,y:0,w:Di/2+Nn,h:Di+Nn*2}},Gc={start:{x:0,y:0,w:Cn/2+Nn,h:Cn+Nn*2},middle:{x:Cn/2+Nn,y:0,w:1,h:Cn+Nn*2},end:{x:Cn/2+1+Nn,y:0,w:Cn/2+Nn,h:Cn+Nn*2}},Sc=(e,t,n,r,i)=>({draw:(o,s,a,l,c)=>Z0e(o,s,a,l,c,e,t,n,r),width:i?Cn:Di+1,height:i?Cn:Di,padding:Nn,fragments:i?Gc:eye}),ig=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,o)=>Kd(t,n,r,i,o,"normal",e),width:Cn+1,height:Cn,padding:Nn,fragments:Gc},[`p${e}Miss`]:Sc(e,!1,!1,!1,!1),[`p${e}Hit`]:Sc(e,!0,!1,!1,!0),[`p${e}Perfect`]:Sc(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Sc(e,!1,!1,!0,!1),[`p${e}StarHit`]:Sc(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Sc(e,!0,!0,!0,!0)}),ws={...ig(0),...ig(1),...ig(2),...ig(3),noteStar:{draw:(e,t,n,r,i)=>Kd(e,t,n,r,i,"star"),width:Cn+1,height:Cn,padding:Nn,fragments:Gc},noteFreestyle:{draw:(e,t,n,r,i)=>Kd(e,t,n,r,i,"freestyle"),width:Cn+1,height:Cn,padding:Nn,fragments:Gc},noteRap:{draw:(e,t,n,r,i)=>Kd(e,t,n,r,i,"rap"),width:Cn+1,height:Cn,padding:Nn,fragments:Gc},noteRapstar:{draw:(e,t,n,r,i)=>Kd(e,t,n,r,i,"rapstar"),width:Cn+1,height:Cn,padding:Nn,fragments:Gc}};function tye(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const qN=Math.max(...Object.values(ws).map(e=>e.padding*2+e.width)),WN=Object.values(ws).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),KN=tye(qN,WN),e_=KN.getContext("2d");let vl=0;const sP=Object.entries(ws).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:vl,w:t.width+n,h:t.height+n};return vl=vl+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),YN=()=>{e_.clearRect(0,0,qN,WN),vl=0,Object.entries(ws).forEach(([e,t])=>{t.draw(e_,t.padding,vl+t.padding,t.width,t.height),vl=vl+t.padding*2+t.height})};YN();te.songStarted.subscribe(YN);const QN=(e,t)=>({canvas:KN,ctx:e_,x:sP[e].x+ws[e].fragments[t].x,y:sP[e].y+ws[e].fragments[t].y,w:ws[e].fragments[t].w,h:ws[e].fragments[t].h,padding:ws[e].padding}),DA=(e,t,n,r,i,o,s,a=1,l=1)=>{const c=QN(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,b=m*a,y=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-b,i-y,o??d,s??h),e.imageSmoothingEnabled=!0,c};function JN(e,t,n,r,i){const o=QN(t,"start"),s=Math.max(i,(o.h-o.padding*2)/2),a=Math.min(1,s/2/(o.w-o.padding)),l=a*o.w,c=l-o.padding*a,u=s-2*c;DA(e,t,"start",n,r,l,void 0,a),u>0&&DA(e,t,"middle",n+l,r,u,void 0,a),DA(e,t,"end",n+u+l,r,l,void 0,a)}const nye=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${X0e(e)}`;function XN(e,t,n,r,i,o){const s=nye(i.type,o);JN(e,s,t,n,r)}function rye(e,t,n,r,i,o){e.save(),gE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-o.frequencyRecords[0].preciseDistance*i/3);for(let s=1;s<o.frequencyRecords.length;s++)e.lineTo(t+s*(r/(o.frequencyRecords.length-1)),n+i/2-o.frequencyRecords[s].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const iye=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},oye=["star","rapstar"];function sye(e,t,n,r,i,o,s){const a=iye(i,o,s.isPerfect,oye.includes(s.note.type));JN(e,a,t,n,r)}class aye{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(o=>o.tick(t,n,i)),this.particles=this.particles.filter(o=>!o.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const gs=new aye,lye=50/60*1e3,cye=25/60*1e3,uye=60,aP=.3;class dye{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(o,s,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;pE(s,o,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=_f(lye,cye),this.velocityX=_f(.5,aP)*iP(.2),this.velocityY=_f(.4,aP)*iP(),this.width=uye,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class fye{constructor(t,n,r,i,o,s){this.finished=!0,this.tick=(d,h)=>{};const a=o.type==="star"?pe.colors.players[i].star.fill:pe.colors.players[i].perfect.fill,l=he(a).lighten(15).toRgbString(),c=he(a).darken(15).toRgbString(),u=r/9;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);s.add(new dye(t+d*9,g,p,(u-d)/10))}}}const lP=200;class hye{constructor(t,n,r,i,o){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=o,this.finished=!1,this.ttl=lP,this.tick=(s,a,l)=>{const c=this.ttl/lP;s.save(),s.globalAlpha=c,s.translate(0,Cn*(1-c)),XN(s,this.x,this.y,this.width,this.note,this.playerNumber),s.globalAlpha=1,s.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const FA=50/60*1e3,og=.05,pye=200,cP=4,gye=Math.pow;function uP(e){return 1-gye(1-e,2)}class mye{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(o,s,a)=>{const l=this.ttl/FA;let c=uP(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;JS(s,o,this.x,this.y,u,d,"white",c*.35),c=uP(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,b=FA-this.ttl;o.globalAlpha=c*.2,JS(s,o,g+b*this.velocityX,m+b*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=FA,this.velocityX=og*Math.random()-og/2,this.velocityY=og*Math.random()-og/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*cP+(pye-cP))}}const dP=20;class yye{constructor(t,n,r,i,o){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=o,this.finished=!1,this.ttl=2/60*1e3,this.tick=(s,a,l)=>{s.strokeStyle="rgba(255,255,255,.25)",s.lineWidth=2,s.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/dP+this.seed/250);s.lineTo(u,this.y+this.h/2+d)}s.stroke(),s.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/dP+this.seed/250);s.lineTo(u,this.y+this.h/2+d)}s.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const fP=20;function vye(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class Aye{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),o=this.canvas.getContext("2d");if(o){if(ze.isPlaying()&&(o.clearRect(0,0,this.canvas.width,this.canvas.height),Ne.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,o)}),gs.tick(o,this.canvas,this.pauseTime)),Al.get()===30){const s=Date.now(),a=1e3/30,l=s-i>a?a:a-(s-i);this.loop&&setTimeout(this.drawFrame,l,Al.get())}Al.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,o)=>{const s=this.getDrawingData(i),{currentSection:a}=rP(s);if(qi.get()==="high"&&this.setDistortionForce(s),!Pt(a))return;const l=this.calculateDisplacements(a,s);this.drawNotesToSing(o,s,l),this.drawSungNotes(o,s,l),qi.get()==="high"&&(this.drawFlare(o,s,l),this.markGoldNotes(a,s))},this.setDistortionForce=i=>{var s,a,l;const o=i.currentSection;if(!Pt(o))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((s=this.shaders)==null?void 0:s.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-fP),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>pm(m)===0).reduce((m,b)=>m+b.length-Math.max(0,c-b.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/fP,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,o,s)=>{Pt(o.currentSection)&&o.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.pitch,!0,s[a.start]);XN(i,l,c,u,a,o.playerNumber)})},this.drawSungNotes=(i,o,s)=>{Pt(o.currentSection)&&o.currentPlayerNotes.forEach(a=>{const l=pm(a),{x:c,y:u,w:d,h}=this.getNoteCoords(o,a,a.note.pitch+l,l===0,s[a.note.start]);(l>0||d>h/2.5)&&(sye(i,c,u,d,o.playerNumber,l===0,a),a.vibrato&&gs.add(new yye(c,u,d,h,o.currentTime)),l===0&&a.frequencyRecords.length>3&&!of.includes(a.note.type)&&rye(i,c,u,d,h,a))})},this.drawFlare=(i,o,s)=>{var l;if(!Pt(o.currentSection))return;const a=vye(o.currentPlayerNotes,o.currentBeat-185/o.songBeatLength);if(a&&a.distance===0){const c=s[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(o,a,a.note.pitch,!0,c),g=of.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,b=this.getPreciseY(d,p,g);gs.add(new mye(m,b,o.currentTime,1)),gs.add(new v0e(PN(Math.max(u,m-50),m),b,u0e(i,o.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(o.playerNumber,m,b)}},this.onSectionEnd=i=>{if(ze.isPlaying()){const o=this.getDrawingData(i,-1);if(!Pt(o.currentSection))return;this.fadeoutNotes(o.currentSection,o),this.explodeNotes(o.currentSection,o)}},this.fadeoutNotes=(i,o)=>{qi.get()==="high"&&i.notes.forEach(s=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(o,s,s.pitch,!0);gs.add(new hye(a,l,c,s,o.playerNumber))})},this.explodeNotes=(i,o)=>{qi.get()==="high"&&o.playerNotes.filter(a=>(a.distance===0||of.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.note.pitch,!0);gs.add(new fye(l,c+d/2,u,o.playerNumber,a.note,gs))})},this.markGoldNotes=(i,o)=>{i.notes.filter(a=>a.type==="star"||a.type==="rapstar").forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.pitch,!0);gs.add(new g0e(l,c+d/2,u,o.playerNumber,gs))})},this.calculateDisplacements=(i,o)=>{const s={};return qi.get()==="high"?i.notes.forEach(a=>{const l=o.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=o.currentBeat&&h.distance===0).map(h=>h.start+30<o.currentBeat?h.length-(o.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;s[a.start]=[u,d]}):i.notes.forEach(a=>{s[a.start]=[0,0]}),s},this.getDrawingData=(i,o=0)=>{const s=Ne.getPlayers(),a=s.findIndex(m=>m.number===i),l=s.length,c=ze.getPlayer(i),u=c.getCurrentSectionIndex()+o,d=ze.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:ze.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:ze.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:ze.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:o,length:s},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=rP(i),g=Pt(d)?d.notes[0].start:1,m=h.width/(u-g),[b,y]=l?c:[0,0],A=p*(i.maxPitch-a+LN);return{x:Math.floor(h.baseX+m*(o-g)+b),y:Math.floor(h.baseY+10+A+y-(l?3:0)),w:Math.floor(m*s),h:l?Cn:Di}},this.getPreciseY=(i,o,s)=>i+o/2-s*o/3}}const bye=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,Sye=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,_ye=1920,xye=v.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:o,videoPlayerRef:s,isPauseMenuVisible:a},l){var S,_,x;const[c]=Je(qi),[u]=Je(yr),d=v.useRef(null),h=v.useRef(null),p=v.useRef(null),g=_ye,m=g*(n/t),b=m/n;v.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(S=p.current)==null?void 0:S.offsetHeight,b]),v.useEffect(()=>(ze.startInputMonitoring(),()=>{ze.stopInputMonitoring()}),[]),v.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new Aye(d.current,p.current.offsetHeight*b),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(_=p.current)==null?void 0:_.offsetHeight,b]),v.useEffect(()=>{var w,k,C,E;a&&((w=h.current)!=null&&w.isPlaying())?(k=h.current)==null||k.pause():!a&&!((C=h.current)!=null&&C.isPlaying())&&((E=h.current)==null||E.resume())},[a]),v.useEffect(()=>{e===Vn.ENDED&&i&&i()},[e,i]);const y=Ne.getPlayers(),A=!u&&y.length>1;return f.jsxs(wye,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:bye}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:Sye}),f.jsx(kye,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(Eye,{id:"plane",style:o?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),o&&f.jsxs(f.Fragment,{children:[f.jsx(Lme,{playerRef:s,isEnabled:!a}),f.jsx(Ume,{onSongEnd:i,isEnabled:!a})]}),f.jsx(Hme,{players:r}),f.jsx(hP,{children:A&&f.jsx(eP,{player:y[0],effectsEnabled:o,showStatusForAllPlayers:y.length>2})}),f.jsx(Cye,{children:o&&f.jsx(f.Fragment,{children:((x=ze.getSingSetup())==null?void 0:x.mode)===Nr.CO_OP?f.jsx(pP,{"data-test":"players-score","data-score":Math.floor(ze.getPlayerScore(0)),children:f.jsx(QS,{score:ze.getPlayerScore(0)})}):Ne.getPlayers().map(w=>f.jsx(pP,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(ze.getPlayerScore(w.number)),children:f.jsx(QS,{score:ze.getPlayerScore(w.number)})},w.number))})}),f.jsx(hP,{ref:p,children:f.jsx(eP,{showStatusForAllPlayers:y.length>2,player:y.length>2?y[0]:y.at(-1),bottom:!0,effectsEnabled:o})})]})}),hP=R("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),wye=R("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),Eye=R("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),kye=R("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),Cye=R("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),pP=R("span",{target:"el0barv0"})("");function Tye(e,t){const[n,r]=v.useState(0);return v.useEffect(()=>{e.current&&t===Vn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),ze.setDuration(i)})},[n,e,t]),n}function Iye({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:o,onSongEnd:s,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=v.useRef(null),[b,y]=v.useState(0),[A,S]=v.useState(Vn.UNSTARTED),[_]=Je(tf),[x,w]=v.useState(!1);v.useEffect(()=>(ze.setSong(e),ze.setSingSetup(u),()=>{ze.resetSingSetup()}),[e,u]),v.useEffect(()=>{if(m.current&&A===Vn.PLAYING){const M=setInterval(async()=>{if(!m.current)return;const T=Math.max(0,await m.current.getCurrentTime()*1e3-_);y(T),o==null||o(T),ze.setCurrentTime(T),ze.update()},1e3/Al.get());return()=>clearInterval(M)}},[m,o,A,_]);const k=Tye(m,A);v.useImperativeHandle(g,()=>({seekTo:M=>m.current.seekTo(M),setPlaybackSpeed:M=>m.current.setPlaybackSpeed(M),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const C=v.useCallback(M=>{S(M),a==null||a(M)},[S,a]),E=h,P=()=>{var M;w(!0),(M=m.current)==null||M.pauseVideo()},N=()=>{var M;w(!1),(M=m.current)==null||M.playVideo()},z=()=>{x?N():P()},j=f0(A);v.useEffect(()=>{var T;if(!E)return;const M=j!==Vn.PAUSED&&j!==Vn.BUFFERING&&A===Vn.PAUSED;A===Vn.PLAYING&&x?(T=m.current)==null||T.pauseVideo():M&&!x&&w(!0)},[x,A,j,E]),nc({back:z},E,[x]);const V=v.useMemo(()=>({back:"Pause Menu"}),[]);return ed(V,c),f.jsxs(Rye,{...p,children:[x&&f.jsx(Mme,{onExit:s,onResume:N,onRestart:d}),A!==Vn.UNSTARTED&&f.jsx(Pye,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(xye,{isPauseMenuVisible:x,effectsEnabled:c,duration:k,currentStatus:A,song:e,width:t,height:n,onSongEnd:s,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(Mye,{children:[f.jsx(sE,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:C}),A===Vn.PLAYING&&f.jsx(jye,{"data-test":"make-song-go-fast",onClick:()=>{var M;(M=m.current)==null||M.setPlaybackSpeed(2)}})]})]})}const Rye=R("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),Pye=R("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),Mye=R("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),jye=R("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),Oye=v.forwardRef(Iye),gP=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:""})," or ",f.jsx("kbd",{children:""})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(Im,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],Vye=({as:e="h4",...t})=>{const n=v.useRef(Po(0,gP.length-1)),r=e;return f.jsx(r,{...t,children:gP[n.current]})};function Lye({...e}){const[t,n]=v.useState(""),r=v.useRef(null);return v.useEffect(()=>{const i=setTimeout(()=>{n(Co.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),v.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Lo(i)}},[t]),f.jsx(Nye,{...e,children:f.jsx(Bye,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const Nye=R("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),Bye=R("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function Dye(e){return 1-Math.pow(1-e,3)}function Fye(e){return Dye(e)}function sg({color:e,maxScore:t,score:n}){return f.jsx($ye,{style:{border:n===0?0:void 0,width:`${Fye(n/t)*24}%`,backgroundColor:e}})}const $ye=R("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var ZN={exports:{}};(function(e,t){(function(n,r){e.exports=r(v)})(typeof self<"u"?self:ca,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>L});var u=c(4087),d=c.n(u);const h=function(F){return new RegExp(/<[a-z][\s\S]*>/i).test(F)},p=function(F,$){return Math.floor(Math.random()*($-F+1))+F};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",b="REMOVE_ALL",y="REMOVE_LAST_VISIBLE_NODE",A="PAUSE_FOR",S="CALL_FUNCTION",_="ADD_HTML_TAG_ELEMENT",x="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",k="CHANGE_CURSOR",C="PASTE_STRING",E="HTML_TAG";function P(F){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},P(F)}function N(F,$){var G=Object.keys(F);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(F);$&&(U=U.filter(function(ne){return Object.getOwnPropertyDescriptor(F,ne).enumerable})),G.push.apply(G,U)}return G}function z(F){for(var $=1;$<arguments.length;$++){var G=arguments[$]!=null?arguments[$]:{};$%2?N(Object(G),!0).forEach(function(U){T(F,U,G[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(G)):N(Object(G)).forEach(function(U){Object.defineProperty(F,U,Object.getOwnPropertyDescriptor(G,U))})}return F}function j(F){return function($){if(Array.isArray($))return V($)}(F)||function($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}(F)||function($,G){if($){if(typeof $=="string")return V($,G);var U=Object.prototype.toString.call($).slice(8,-1);return U==="Object"&&$.constructor&&(U=$.constructor.name),U==="Map"||U==="Set"?Array.from($):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?V($,G):void 0}}(F)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V(F,$){($==null||$>F.length)&&($=F.length);for(var G=0,U=new Array($);G<$;G++)U[G]=F[G];return U}function M(F,$){for(var G=0;G<$.length;G++){var U=$[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,D(U.key),U)}}function T(F,$,G){return($=D($))in F?Object.defineProperty(F,$,{value:G,enumerable:!0,configurable:!0,writable:!0}):F[$]=G,F}function D(F){var $=function(G,U){if(P(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var B=ne.call(G,"string");if(P(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(F);return P($)==="symbol"?$:String($)}const L=function(){function F(U,ne){var B=this;if(function(Z,ae){if(!(Z instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,F),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){B.state.elements.container&&(B.state.elements.wrapper.className=B.options.wrapperClassName,B.state.elements.cursor.className=B.options.cursorClassName,B.state.elements.cursor.innerHTML=B.options.cursor,B.state.elements.container.innerHTML="",B.state.elements.container.appendChild(B.state.elements.wrapper),B.state.elements.container.appendChild(B.state.elements.cursor))}),T(this,"start",function(){return B.state.eventLoopPaused=!1,B.runEventLoop(),B}),T(this,"pause",function(){return B.state.eventLoopPaused=!0,B}),T(this,"stop",function(){return B.state.eventLoop&&((0,u.cancel)(B.state.eventLoop),B.state.eventLoop=null),B}),T(this,"pauseFor",function(Z){return B.addEventToQueue(A,{ms:Z}),B}),T(this,"typeOutAllStrings",function(){return typeof B.options.strings=="string"?(B.typeString(B.options.strings).pauseFor(B.options.pauseFor),B):(B.options.strings.forEach(function(Z){B.typeString(Z).pauseFor(B.options.pauseFor).deleteAll(B.options.deleteSpeed)}),B)}),T(this,"typeString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return B.typeOutHTMLString(Z,ae);if(Z){var Me=(B.options||{}).stringSplitter,xe=typeof Me=="function"?Me(Z):Z.split("");B.typeCharacters(xe,ae)}return B}),T(this,"pasteString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?B.typeOutHTMLString(Z,ae,!0):(Z&&B.addEventToQueue(C,{character:Z,node:ae}),B)}),T(this,"typeOutHTMLString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Me=arguments.length>2?arguments[2]:void 0,xe=function(Te){var Se=document.createElement("div");return Se.innerHTML=Te,Se.childNodes}(Z);if(xe.length>0)for(var le=0;le<xe.length;le++){var Ae=xe[le],Le=Ae.innerHTML;Ae&&Ae.nodeType!==3?(Ae.innerHTML="",B.addEventToQueue(_,{node:Ae,parentNode:ae}),Me?B.pasteString(Le,Ae):B.typeString(Le,Ae)):Ae.textContent&&(Me?B.pasteString(Ae.textContent,ae):B.typeString(Ae.textContent,ae))}return B}),T(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return B.addEventToQueue(b,{speed:Z}),B}),T(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return B.addEventToQueue(x,{speed:Z}),B}),T(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return B.addEventToQueue(w,{delay:Z}),B}),T(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return B.addEventToQueue(k,{cursor:Z}),B}),T(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var ae=0;ae<Z;ae++)B.addEventToQueue(m);return B}),T(this,"callFunction",function(Z,ae){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return B.addEventToQueue(S,{cb:Z,thisArg:ae}),B}),T(this,"typeCharacters",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(Me){B.addEventToQueue(g,{character:Me,node:ae})}),B}),T(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){B.addEventToQueue(m)}),B}),T(this,"addEventToQueue",function(Z,ae){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return B.addEventToStateProperty(Z,ae,Me,"eventQueue")}),T(this,"addReverseCalledEvent",function(Z,ae){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return B.options.loop?B.addEventToStateProperty(Z,ae,Me,"reverseCalledEvents"):B}),T(this,"addEventToStateProperty",function(Z,ae){var Me=arguments.length>2&&arguments[2]!==void 0&&arguments[2],xe=arguments.length>3?arguments[3]:void 0,le={eventName:Z,eventArgs:ae||{}};return B.state[xe]=Me?[le].concat(j(B.state[xe])):[].concat(j(B.state[xe]),[le]),B}),T(this,"runEventLoop",function(){B.state.lastFrameTime||(B.state.lastFrameTime=Date.now());var Z=Date.now(),ae=Z-B.state.lastFrameTime;if(!B.state.eventQueue.length){if(!B.options.loop)return;B.state.eventQueue=j(B.state.calledEvents),B.state.calledEvents=[],B.options=z({},B.state.initialOptions)}if(B.state.eventLoop=d()(B.runEventLoop),!B.state.eventLoopPaused){if(B.state.pauseUntil){if(Z<B.state.pauseUntil)return;B.state.pauseUntil=null}var Me,xe=j(B.state.eventQueue),le=xe.shift();if(!(ae<=(Me=le.eventName===y||le.eventName===m?B.options.deleteSpeed==="natural"?p(40,80):B.options.deleteSpeed:B.options.delay==="natural"?p(120,160):B.options.delay))){var Ae=le.eventName,Le=le.eventArgs;switch(B.logInDevMode({currentEvent:le,state:B.state,delay:Me}),Ae){case C:case g:var Te=Le.character,Se=Le.node,we=document.createTextNode(Te),De=we;B.options.onCreateTextNode&&typeof B.options.onCreateTextNode=="function"&&(De=B.options.onCreateTextNode(Te,we)),De&&(Se?Se.appendChild(De):B.state.elements.wrapper.appendChild(De)),B.state.visibleNodes=[].concat(j(B.state.visibleNodes),[{type:"TEXT_NODE",character:Te,node:De}]);break;case m:xe.unshift({eventName:y,eventArgs:{removingCharacterNode:!0}});break;case A:var Ge=le.eventArgs.ms;B.state.pauseUntil=Date.now()+parseInt(Ge);break;case S:var Re=le.eventArgs,Xe=Re.cb,kt=Re.thisArg;Xe.call(kt,{elements:B.state.elements});break;case _:var Wt=le.eventArgs,Ct=Wt.node,Ee=Wt.parentNode;Ee?Ee.appendChild(Ct):B.state.elements.wrapper.appendChild(Ct),B.state.visibleNodes=[].concat(j(B.state.visibleNodes),[{type:E,node:Ct,parentNode:Ee||B.state.elements.wrapper}]);break;case b:var lt=B.state.visibleNodes,Vt=Le.speed,We=[];Vt&&We.push({eventName:x,eventArgs:{speed:Vt,temp:!0}});for(var je=0,Tt=lt.length;je<Tt;je++)We.push({eventName:y,eventArgs:{removingCharacterNode:!1}});Vt&&We.push({eventName:x,eventArgs:{speed:B.options.deleteSpeed,temp:!0}}),xe.unshift.apply(xe,We);break;case y:var ct=le.eventArgs.removingCharacterNode;if(B.state.visibleNodes.length){var it=B.state.visibleNodes.pop(),_n=it.type,wt=it.node,ut=it.character;B.options.onRemoveNode&&typeof B.options.onRemoveNode=="function"&&B.options.onRemoveNode({node:wt,character:ut}),wt&&wt.parentNode.removeChild(wt),_n===E&&ct&&xe.unshift({eventName:y,eventArgs:{}})}break;case x:B.options.deleteSpeed=le.eventArgs.speed;break;case w:B.options.delay=le.eventArgs.delay;break;case k:B.options.cursor=le.eventArgs.cursor,B.state.elements.cursor.innerHTML=le.eventArgs.cursor}B.options.loop&&(le.eventName===y||le.eventArgs&&le.eventArgs.temp||(B.state.calledEvents=[].concat(j(B.state.calledEvents),[le]))),B.state.eventQueue=xe,B.state.lastFrameTime=Z}}}),U)if(typeof U=="string"){var fe=document.querySelector(U);if(!fe)throw new Error("Could not find container element");this.state.elements.container=fe}else this.state.elements.container=U;ne&&(this.options=z(z({},this.options),ne)),this.state.initialOptions=z({},this.options),this.init()}var $,G;return $=F,(G=[{key:"init",value:function(){var U,ne;this.setupWrapperElement(),this.addEventToQueue(k,{cursor:this.options.cursor},!0),this.addEventToQueue(b,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(U=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(U)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(U){this.options.devMode&&console.log(U)}}])&&M($.prototype,G),Object.defineProperty($,"prototype",{writable:!1}),F}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var S=b[y];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var S=b[y];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var S=b[y];this.set(S[0],S[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,b=g==null?0:g.length;for(this.__data__=new u;++m<b;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function b(y){var A=this.__data__=new u(y);this.size=A.size}b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=m,a.exports=b},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),b=Object.prototype.hasOwnProperty;a.exports=function(y,A){var S=h(y),_=!S&&d(y),x=!S&&!_&&p(y),w=!S&&!_&&!x&&m(y),k=S||_||x||w,C=k?u(y.length,String):[],E=C.length;for(var P in y)!A&&!b.call(y,P)||k&&(P=="length"||x&&(P=="offset"||P=="parent")||w&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||g(P,E))||C.push(P);return C}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,b,y){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,b,h,y))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),b=c(4144),y=c(6719),A="[object Arguments]",S="[object Array]",_="[object Object]",x=Object.prototype.hasOwnProperty;a.exports=function(w,k,C,E,P,N){var z=m(w),j=m(k),V=z?S:g(w),M=j?S:g(k),T=(V=V==A?_:V)==_,D=(M=M==A?_:M)==_,L=V==M;if(L&&b(w)){if(!b(k))return!1;z=!0,T=!1}if(L&&!T)return N||(N=new u),z||y(w)?d(w,k,C,E,P,N):h(w,k,V,C,E,P,N);if(!(1&C)){var F=T&&x.call(w,"__wrapped__"),$=D&&x.call(k,"__wrapped__");if(F||$){var G=F?w.value():w,U=$?k.value():k;return N||(N=new u),P(G,U,C,E,N)}}return!!L&&(N||(N=new u),p(w,k,C,E,P,N))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,b=Object.prototype,y=m.toString,A=b.hasOwnProperty,S=RegExp("^"+y.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(_){return!(!h(_)||d(_))&&(u(_)?S:g).test(p(_))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,b,y,A){var S=1&m,_=p.length,x=g.length;if(_!=x&&!(S&&x>_))return!1;var w=A.get(p),k=A.get(g);if(w&&k)return w==g&&k==p;var C=-1,E=!0,P=2&m?new u:void 0;for(A.set(p,g),A.set(g,p);++C<_;){var N=p[C],z=g[C];if(b)var j=S?b(z,N,C,g,p,A):b(N,z,C,p,g,A);if(j!==void 0){if(j)continue;E=!1;break}if(P){if(!d(g,function(V,M){if(!h(P,M)&&(N===V||y(N,V,m,b,A)))return P.push(M)})){E=!1;break}}else if(N!==z&&!y(N,z,m,b,A)){E=!1;break}}return A.delete(p),A.delete(g),E}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),b=u?u.prototype:void 0,y=b?b.valueOf:void 0;a.exports=function(A,S,_,x,w,k,C){switch(_){case"[object DataView]":if(A.byteLength!=S.byteLength||A.byteOffset!=S.byteOffset)return!1;A=A.buffer,S=S.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=S.byteLength||!k(new d(A),new d(S)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+A,+S);case"[object Error]":return A.name==S.name&&A.message==S.message;case"[object RegExp]":case"[object String]":return A==S+"";case"[object Map]":var E=g;case"[object Set]":var P=1&x;if(E||(E=m),A.size!=S.size&&!P)return!1;var N=C.get(A);if(N)return N==S;x|=2,C.set(A,S);var z=p(E(A),E(S),x,w,k,C);return C.delete(A),z;case"[object Symbol]":if(y)return y.call(A)==y.call(S)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,b,y){var A=1&g,S=u(h),_=S.length;if(_!=u(p).length&&!A)return!1;for(var x=_;x--;){var w=S[x];if(!(A?w in p:d.call(p,w)))return!1}var k=y.get(h),C=y.get(p);if(k&&C)return k==p&&C==h;var E=!0;y.set(h,p),y.set(p,h);for(var P=A;++x<_;){var N=h[w=S[x]],z=p[w];if(m)var j=A?m(z,N,w,p,h,y):m(N,z,w,h,p,y);if(!(j===void 0?N===z||b(N,z,g,m,y):j)){E=!1;break}P||(P=w=="constructor")}if(E&&!P){var V=h.constructor,M=p.constructor;V==M||!("constructor"in h)||!("constructor"in p)||typeof V=="function"&&V instanceof V&&typeof M=="function"&&M instanceof M||(E=!1)}return y.delete(h),y.delete(p),E}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var b=h.call(m,g),y=m[g];try{m[g]=void 0;var A=!0}catch{}var S=p.call(m);return A&&(b?m[g]=y:delete m[g]),S}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(b){return h.call(m,b)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),b=c(346),y="[object Map]",A="[object Promise]",S="[object Set]",_="[object WeakMap]",x="[object DataView]",w=b(u),k=b(d),C=b(h),E=b(p),P=b(g),N=m;(u&&N(new u(new ArrayBuffer(1)))!=x||d&&N(new d)!=y||h&&N(h.resolve())!=A||p&&N(new p)!=S||g&&N(new g)!=_)&&(N=function(z){var j=m(z),V=j=="[object Object]"?z.constructor:void 0,M=V?b(V):"";if(M)switch(M){case w:return x;case k:return y;case C:return A;case E:return S;case P:return _}return j}),a.exports=N},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var b=m.__data__;if(!d||b.length<199)return b.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(b)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(b){return d(b)&&p.call(b,"callee")&&!g.call(b,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],b=0;!g&&b<h.length;b++)g=d[h[b]+"Request"+p],m=d[h[b]+"Cancel"+p]||d[h[b]+"CancelRequest"+p];if(!g||!m){var y=0,A=0,S=[];g=function(_){if(S.length===0){var x=u(),w=Math.max(0,16.666666666666668-(x-y));y=w+x,setTimeout(function(){var k=S.slice(0);S.length=0;for(var C=0;C<k.length;C++)if(!k[C].cancelled)try{k[C].callback(y)}catch(E){setTimeout(function(){throw E},0)}},Math.round(w))}return S.push({handle:++A,callback:_,cancelled:!1}),A},m=function(_){for(var x=0;x<S.length;x++)S[x].handle===_&&(S[x].cancelled=!0)}}a.exports=function(_){return g.call(d,_)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(_){_||(_=d),_.requestAnimationFrame=g,_.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var c in l)o.o(l,c)&&!o.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var s={};return(()=>{o.d(s,{default:()=>S});var a=o(8156),l=o.n(a),c=o(7403),u=o(8446),d=o.n(u);function h(_){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h(_)}function p(_,x){for(var w=0;w<x.length;w++){var k=x[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,y(k.key),k)}}function g(_,x){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,k){return w.__proto__=k,w},g(_,x)}function m(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function b(_){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},b(_)}function y(_){var x=function(w,k){if(h(w)!=="object"||w===null)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var E=C.call(w,"string");if(h(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(_);return h(x)==="symbol"?x:String(x)}var A=function(_){(function(N,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(z&&z.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),z&&g(N,z)})(P,_);var x,w,k,C,E=(k=P,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,z=b(k);if(C){var j=b(this).constructor;N=Reflect.construct(z,arguments,j)}else N=z.apply(this,arguments);return function(V,M){if(M&&(h(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(V)}(this,N)});function P(){var N,z,j,V;(function(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")})(this,P);for(var M=arguments.length,T=new Array(M),D=0;D<M;D++)T[D]=arguments[D];return z=m(N=E.call.apply(E,[this].concat(T))),V={instance:null},(j=y(j="state"))in z?Object.defineProperty(z,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):z[j]=V,N}return x=P,(w=[{key:"componentDidMount",value:function(){var N=this,z=new c.default(this.typewriter,this.props.options);this.setState({instance:z},function(){var j=N.props.onInit;j&&j(z)})}},{key:"componentDidUpdate",value:function(N){d()(this.props.options,N.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var N=this,z=this.props.component;return l().createElement(z,{ref:function(j){return N.typewriter=j},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(x.prototype,w),Object.defineProperty(x,"prototype",{writable:!1}),P}(a.Component);A.defaultProps={component:"div"};const S=A})(),s.default})())})(ZN);var zye=ZN.exports;const eB=mr(zye);function Uye({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(Hye,{children:[f.jsx(sg,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:pe.colors.players[e].perfect.fill}),f.jsx(sg,{score:n>0?r.perfect:0,maxScore:i.perfect,color:pe.colors.players[e].stroke}),f.jsx(sg,{score:n>1?r.star:0,maxScore:i.star,color:pe.colors.players[e].starPerfect.stroke}),f.jsx(sg,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:pe.colors.players[e].perfect.stroke}),f.jsx(Gye,{children:n<5&&f.jsx(eB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const Hye=R("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),Gye=R("span",{target:"ejw0p7o0"})("position:absolute;",qe,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function qye({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:o=!0,revealHighScore:s,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(Wye,{children:[f.jsx(Qye,{children:f.jsxs(Yye,{"data-win":s&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(Kye,{color:o?pe.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(rE,{preserveValue:!0,end:c,formattingFn:VN.format,duration:a<5?1:.5})]})}),f.jsx(Uye,{playerNumber:e,player:t,segment:a}),f.jsx(Jye,{"data-highscore":s&&u(t.name),children:"High score!"})]})}const Wye=R("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),Kye=R("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),Yye=R(Fy,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",pe.colors.text.active,";}"),Qye=R("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),Jye=R(sN,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",My,";opacity:1;}transition:400ms;");function Xye({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,o]=v.useState(-1);v.useEffect(()=>{if(i<0)o(0);else if(i<4){const p=setInterval(()=>{o(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const s=i>3,a=()=>{s?e():o(5)};nc({accept:a},!0,[i]);const l=v.useMemo(()=>({accept:"Next"}),[]);ed(l,!0);const c=r.mode===Nr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>H_(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(Zye,{children:[f.jsx(eve,{children:u.map((p,g)=>f.jsx(qye,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(tve,{onClick:a,focused:!0,"data-test":s?"highscores-button":"skip-animation-button",children:s?"Next":"Skip"}),Co.getPermissionStatus()&&f.jsx(nve,{})]})}const Zye=R("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),eve=R("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),tve=R(Uo,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),nve=R(Lye,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function rve(){return v.useMemo(()=>JSON.parse(Be.session.getItem(bu))??[],[])}function ive({score:e,register:t,singSetupId:n,onSave:r,index:i}){const o=v.useRef(null),[s,a]=v.useState(""),l=rve(),c=()=>{s.trim().length&&s.trim()!==e.name&&r(n,e.score,e.name,s)};return f.jsx(RN,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:s,label:"",ref:o,...t(`highscore-rename-${i}`,()=>{var u;return(u=o.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function ove({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=qn(),o=qpe(r);return f.jsxs(f.Fragment,{children:[f.jsx(sve,{"data-test":"highscores-container",children:t.map((s,a)=>f.jsxs(ave,{isCurrentSing:s.singSetupId===n.id,children:[f.jsx(lve,{children:a+1}),f.jsx(cve,{className:"ph-no-capture",children:s.singSetupId===n.id?f.jsx(ive,{index:a,score:s,register:i,singSetupId:n.id,onSave:o}):s.name}),f.jsx(uve,{children:f.jsx(QS,{score:s.score})}),f.jsx(dve,{children:Io(s.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(fve,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const sve=R("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),ave=R("div",{target:"e1kq1u2t5"})("position:relative;",qe,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),lve=R("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",pe.colors.text.active,";"),cve=R("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),uve=R("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),dve=R("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),fve=R(Uo,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function hve({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:o,singSetup:s}){const[a]=Je(S0);Wa(!0);const[l,c]=v.useState("results");return f.jsxs(iN,{songData:e,width:t,height:n,children:[f.jsxs(pve,{children:[l==="results"&&f.jsx(Xye,{onNextStep:()=>c("highscores"),players:i,singSetup:s,highScores:o}),l==="highscores"&&f.jsx(ove,{onNextStep:r,singSetup:s,highScores:o,song:e}),f.jsx(gve,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(mve,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const pve=R("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),gve=R(Vye,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),mve=R("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",qe,";");function yve(e){const[t,n,r,i]=vve(e);return Ave(t,n,r,i)()}function vve(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let o=0,s;o<e.length;o++)s=e.charCodeAt(o),t=n^Math.imul(t^s,597399067),n=r^Math.imul(n^s,2869860233),r=i^Math.imul(r^s,951274213),i=t^Math.imul(i^s,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Ave(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const bve=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],mP=new Date("2016-01-01").getTime(),Sve=new Date("2024-01-07").getTime(),$A=5;function _ve(e,t){const n=dE(e);return v.useMemo(()=>{const i=[...bve];return[...Array.from({length:$A},(s,a)=>{const l=yve(e.id+a),c=6e5+14e5/($A-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:no()?c/1e3:c,date:new Date((Sve-mP)*l+mP).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:s})=>s.mode===t.mode&&s.tolerance===t.tolerance).map(s=>s.scores.map(a=>({...a,date:s.date,singSetupId:s.setup.id}))).flat())??[]].sort((s,a)=>a.score-s.score).slice(0,$A)},[e.id,n,t])??[]}function xve({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const o=_ve(e,i),s=v.useMemo(()=>Ne.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:ze.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Js,{children:f.jsx(hve,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:s,highScores:o})})}function wve({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){pN(),gN();const i=v.useRef(null),o=WL(e.id),{width:s,height:a}=Gh(),[l,c]=v.useState(!1),[u,d]=v.useState(!0),[h,p]=v.useState(Vn.UNSTARTED),[g,m]=v.useState(!1);return za(!g),v.useEffect(()=>{u&&o.data&&(g||h!==Vn.UNSTARTED)&&d(!1)},[o.data,g,h,u]),l&&o.data?f.jsx(xve,{width:s,height:a,song:o.data,onClickSongSelection:n,singSetup:t}):f.jsx(Js,{children:f.jsxs(Eve,{children:[f.jsxs(kve,{visible:u,"data-test":"background-container",children:[f.jsx(Tve,{video:e.video,width:s,height:a}),f.jsx(Ive,{"data-test":"song-artist",children:e.artist}),f.jsx(Rve,{"data-test":"song-title",children:e.title}),f.jsx(Eme,{onFinish:()=>{var b;m(!0),(b=i.current)==null||b.play()}})]}),o.data&&f.jsx(Oye,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:o.data,width:s,height:a,autoplay:!1,onSongEnd:()=>{var A;const b=((A=ze.getSingSetup())==null?void 0:A.mode)===Nr.CO_OP?[{name:Ne.getPlayers().map(S=>S.getName()).join(", "),score:ze.getPlayerScore(0)}]:Ne.getPlayers().map(S=>({name:S.getName(),score:ze.getPlayerScore(S.number)})),y=ze.getSongCompletionProgress();te.songEnded.dispatch(o.data,t,b,y),c(!0)},singSetup:t,restartSong:r})]})})}const Eve=R("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),kve=R("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),Cve=R("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),Tve=e=>f.jsx(Cve,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),Ive=R(fE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),Rve=R(zy,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function Pve(){const e=oy("song"),[t,n]=v.useState(null),[r,i]=v.useState(e??null),[o,s]=v.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",dh(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",oc.flushSync(()=>{n(l)})}),rx.play(!1)};return pN(),f.jsxs(f.Fragment,{children:[f.jsx(ki,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(oE,{children:t?f.jsx(wve,{restartSong:()=>{Co.restartRecord(),s(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},o):f.jsx(xme,{onSongSelected:a,preselectedSong:r})})]})}const yP=R("div",{target:"e1x9yhuz2"})({name:"1259b8f",styles:"@media (hover: hover){display:none;}"}),vP=R("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"});var Mve=v.createContext({client:Pn}),jve=function(){var e=v.useContext(Mve).client;return e};function Ove(e){var t=jve(),n=v.useState(),r=n[0],i=n[1];return v.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const Vve="/prs/338/assets/screenshot1-DaCeVKxL.webp",Lve="/prs/338/assets/screenshot2-uopWyjAi.webp",Nve=["Travie McCoy feat. Bruno Mars","Falling In Reverse","Lil Wayne feat. Eminem","Hilary Duff","Noah Kahan","Alesso & Katy Perry","Bellamy Brothers","SZA","Morgan Wallen","Electric Callboy","Chris Brown feat. Rihanna","David Hasselhoff","Katy Perry feat. Migos","Keane","3 Doors Down","The Doors","Portal","Gym Class Heroes feat. Adam Levine","League of Legends","Jennifer Lopez","David Guetta feat. Nicki Minaj & Afrojack","Poets of the Fall","Drake Bell","Guns N' Roses","Mns Zelmerlw","Post Malone","David Guetta feat. Kelly Rowland","deadmau5 feat. Chris James","Sum 41","The Phantom of the Opera","Ben E. King","The Chainsmokers & Coldplay","Cat Stevens","Panic! at the Disco","Bob Marley & The Wailers","Dana International","Lauv feat. BTS","Soulja Boy Tellem feat. Sammie","Eminem feat. Rihanna","Blu Cantrell","Stevie Wonder","Jason Derulo","Placebo","Mamma Mia! (Movie)","GloryHammer","Jamiroquai","Jessica Simpson","Elvis Presley","Xavier Rudd","SEBalter","Sting","Ricky Martin with Christina Aguilera","Richard Marx","Maroon 5 feat. Christina Aguilera","BTS featuring  Desiigner","Ruslana","3OH!3 feat. Ke$ha","Madonna","John Rzeznik ","Nightwish","Katrina And The Waves","Guns N Roses","The Tony Rich Project","Lil Wayne feat. Bruno Mars","Daft Punk feat. Julian Casablancas","ZAYN & Taylor Swift","Benny Blanco, Halsey & Khalid","Disney's Pocahontas","REO Speedwagon","Usher & Alicia Keys","Grta Salme & Jnsi","John Mayer","Baccara","S Club 7","Europe","Little Mix feat. Stormzy","No Secrets","Lady Gaga","Manuel","Madcon","Lipps, Inc.","Fredi and Friends","The Kooks","Wilson Phillips","Andrew Lambrou","Hootie & The Blowfish","Tenacious D","Young The Giant","Mitski","ISAAK","Tom Jones and Mousse T.","Franz Ferdinand","Rag'n'Bone Man","Baldurs Gate 3","Foster The People","Rihanna feat. Drake","Charlie Puth","The Script feat. will.i.am","Dear Evan Hansen","The Calling","David Guetta & Chris Willis feat. Fergie & LMFAO","La Roux","Britney Spears","Drake feat. Rihanna","Drowning Pool","Bradley Cooper & Lady Gaga","Pitbull feat. Ne-Yo, Afrojack & Nayer","M.I.A.","Hunter Hayes","David Archuleta","B52s","Demi Lovato feat. Cher Lloyd","Melanie Martinez","Lyn","James Newton Howard feat. Jennifer Lawrence","Faith Hill","Chris Brown","Sam Ryder","The Weeknd feat. Daft Punk","The Kid LAROI feat. Justin Bieber","Max Coveri","Lenny Kravitz","Keep Shelly in Athens","The Chainsmokers feat. Halsey","Lizzo","Blink 182","The Weeknd","Idina Menzel with Michael Bubl","Ginuwine","Hozier","Tina Turner","BTS","Kid Cudi","Kanye West feat. Dwele","Frank Ocean","Billie Eilish & Khalid","Little Mix","Nickelback","Conchita Wurst","Henry Moodie","Owl City","ZZ Top","Camp Rock 2","Led Zeppelin","Daryl Hall & John Oates","Marina & The Diamonds","Simple Plan","Shakin Stevens","Corey Hart","System of a Down","Rosa Linn","Petula Clark","David Guetta feat. Rihanna","Iggy Pop","Usher feat. Pitbull","Major Lazer feat. Justin Bieber & M","Gwen Stefani","Mili","DJ Snake feat. Justin Bieber","Bambie Thug","NF","Kid Rock feat. Sheryl Crow","Jay-Z feat. Rihanna & Kanye West","Kanye West feat. Young Jeezy","N-Trance feat. Ricardo Da Force","Linkin Park","Dire Straits","Natasha Bedingfield","Dido","Rufus Wainwright","David Guetta feat. Usher","Enrique Iglesias feat. Pitbull","Starship","Simply Red","Flo Rida feat. Ke$ha","Kygo x Whitney Houston","Katy Perry","Crowded House","Kardinal Offishall feat. Akon","Jojo","Pitbull feat. T-Pain","Camila Cabello feat. Daddy Yankee","Poets Of The Fall","Fountains Of Wayne","Boney M.","Marillion","Run DMC","Ed Sheeran and Elton John","Vanessa Williams","LMFAO, Lauren Bennett & Goon Rock","Electric Callboy feat. Sido","Mika","Billy Talent","Malik Harris","Frankie Goes To Hollywood","Marina and the Diamonds","Snow Patrol","Rage Against the Machine","The Smashing Pumpkins","Christina Aguilera feat. Redman","Alesso feat. Tove Lo","Ashlee Simpson","Hera Bjrk","The Pussycat Dolls","The Kid Laroi & Justin Bieber","Glee Cast","La La Land (Ryan Gosling & Emma Stone)","FIFTY FIFTY","Miranda Lambert","Disneys Frozen II","Aram MP3","Smash Mouth","Major Lazer & DJ Snake feat. M","Metallica","Alvvays","Pearl Jam","Finger Eleven","Matchbox Twenty","Alphaville","Yohanna","Thirty Seconds to Mars","Kansas","Nico & Vinz","Grease (John Travolta & Olivia Newton-John)","Cheryl Cole","Coldplay feat. Beyonc","Neon Genesis Evangelion","James Arthur","Take That","Fun. feat. Janelle Mone","Netflix","Neil Young","Toto","SING (Taron Egerton)","Disneys Frozen","Cher","Akon","Stone Temple Pilots","Baby Lasagna","New Kids On The Block","Mariah Carey & Whitney Houston","Glen Hansard And Markta Irglov","The Beach Boys","Soul Asylum","Alice In Chains","David Guetta feat. Kid Cudi","The Greatest Showman","Maroon 5 feat. Wiz Khalifa","Ariana Grande","Westlife","Paula Abdul","Dai og Gagnamagni","Michael Schulte","Disney's Aladin","Meat Loaf","Anna Margaret","Bryce Pinkham","BLACKPINK & Selena Gomez","Jason Paige","Beyonc","Green Day","Olly Murs","Stephen Sanchez","Wicked","Kygo feat. Maty Noyes","Paris Hilton","Beyonc feat. Jay-Z","Spandau Ballet","Freddie Mercury","Zara Larsson","Lord Of The Lost","Florence + the Machine","DNCE","Nicki Minaj feat. Rihanna","The Clash","A Perfect Circle","TLC","Macklemore & Ryan Lewis feat. Ray Dalton","Pink Floyd","Daniel Caesar","Chris Rea","Himesh Patel","John Denver","Mika feat. Ariana Grande","SiM","Mandy Moore","Alan Walker, K-391 & Emelie Hollow","Extreme","David Guetta & Sia","Pointer Sisters","TheFatRat feat. Laura Brehm","Maroon 5","Taylor Swift feat. Post Malone","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Disneys Moana (Dwayne Johnson)","Akon feat. Kardinal Offishall & Colby ODonis","Shawn Mendes","We Are Domi","Disneys High School Musical 3","Avicii","Santana feat. Rob Thomas","Scott McKenzie","Anna Naklab feat. Alle Farben & YouNotUs","Against The Current","Ke$ha","The Weeknd feat. Ariana Grande","Rihanna, Kanye West & Paul McCartney","Slade","Disturbed","The Kelly Family","Teddy Swims","Smokie","Breaking Benjamin","Gina G","Meduza x James Carter feat. Elley Duh + Fast Boy","Alice Merton","Phil Collins","Macklemore & Ryan Lewis feat. Wanz","Hailee Steinfeld","The Darkness","Cutting Crew","Jennifer Lopez & Pitbull","Lifehouse","Billy Joel","Selena Gomez","Glee Cast (Lea Michele & Jake Zyrus)","Utada Hikaru","Carrie Underwood","Josh Groban","Montaigne","Abby Trott","Taylor Swift","Christina Aguilera","Justin Bieber & Benny Blanco","Nemo","Usher feat. will.i.am","Aqua","Bebe Rexha y David Guetta","Ellie Goulding","SIAMS","Jay Sean feat. Sean Paul & Lil Jon","Adele","Loc Nottet","Audioslave","Rage Against The Machine","Fall Out Boy","Arctic Monkeys","Vengaboys","Pat Benatar","LazyTown","Tally Hall","Peter Gabriel","Teya & Salena","Alter Bridge","Cornelia Jakobs","Whitney Houston","Depeche Mode","JoJo","Hazbin Hotel (Black Gryph0n & Baasik)","My Little Pony","Barei","Chris Brown feat. Benny Benassi","Rihanna & Ne-Yo","Benson Boone","Sabrina Carpenter","Sam Smith","David Guetta feat. Justin Bieber","Lindsey Stirling feat. Becky G","George Michael","Lady Gaga feat. Colby O'Donis","We The Kings feat. Demi Lovato","Deadmau5 & Kaskade","The Eagles","The White Stripes","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Daft Punk feat. Pharrell Williams & Nile Rodgers","Alan Walker & Ava Max","Darius Rucker","John Legend","Harry Styles","DJ Sammy & Yanou feat. Do","Rise Against","Eva Rivas","U2","Nena","Jay-Z feat. Alicia Keys","Metro Station","Shania Twain","Mumford & Sons","NCT 127","Manchester Orchestra","Alicia Keys","Flo Rida feat. David Guetta","Lady Gaga feat. Beyonc","Mark Ronson ft  Miley Cyrus","KT Tunstall","Hailee Steinfeld & Grey feat. Zedd","Psychostick","Backstreet Boys","Plain White Ts","Ochman","Disneys Phineas & Ferb (Candace Flynn)","RagnBone Man","Sudden Lights","DJ Jazzy Jeff & The Fresh Prince","Lil Nas X","Hooverphonic","Kim Petras","Britney Spears feat. Tinashe","The Postal Service","Black Sabbath","Beyonc & Shakira","deadmau5 feat. Gerard Way","Ke$ha feat. 3OH!3","Donna Summer","Willie Nelson and Merle Haggard","Def Leppard","Bobby Helms","Justin Timberlake","Destiny","Christina Perri","The Psychedelic Furs","Wiz Khalifa ft. Charlie Puth","Cynthia Harrell","Bring Me The Horizon","New Order","Hole","Tom Odell","Dean Martin","Jason Mraz","Dolly Parton","Marcus & Martinus","Avicii feat. Sandro Cavazza","Justin Bieber & Ludacris","Sophie Ellis-Bextor","Metric","Fetty Wap","Shrek 2","Bad Lip Reading","Sheryl Crow","Khalid x Normani","Patrice Rushen","Radiohead","A Great Big World","LSD","Chappell Roan","Duck Sauce","Avril Lavigne","Shawn Mendes, Camila Cabello","Pitbull feat. Marc Anthony","The Kid Laroi & Miley Cyrus","Sugababes","The Vines","Alice in Chains","will.i.am ","Edward Sharpe And The Magnetic Zeros","The Fray","Margaret Berger","P!nk feat. Nate Ruess","Zedd & Alessia Cara","Symphony X","David Guetta feat. Nicki Minaj","Jay Sean feat. The Rishi Rich Project","Gloria Gaynor","Kylie Minogue","Shakira feat. Rihanna","The Pogues feat. Kirsty MacColl","Vance Joy","Britney Spears / Elton John","The Rasmus","Foreigner","Powerwolf","Awolnation","Calvin Harris feat. Rihanna","Les Fatals Picards","Bridgit Mendler","The Beatles","Hinder","Chris Isaak","Zara Larsson & MNEK","Deorro x Chris Brown","Lena","Gorillaz","Skid Row","Tate McRae","R.E.M.","Martin Solveig & Dragonette","Eleni Foureira","Bowling For Soup","Pretenders","Ba","Morandi","Subwoolfer","Jim Croce","Ike & Tina Turner","3OH!3","DragonForce","Queen & David Bowie","Natasha Farrow","Disney's Moana","Ariana Grande feat. Zedd","Julie and the Phantoms","Frankie Valli","The Ink Spots","Boyz II Men","Jason Derulo feat. 2 Chainz","Dio","ZAYN feat. Sia","Black Veil Brides","Nirvana","Martina McBride","The Rolling Stones","John Waite","K/DA ft. Madison Beer, (G)I-DLE, Jaira Burns","Kygo & Selena Gomez","Robbie Williams","Aerosmith","Creed","Kendrick Lamar","Voyager","Nick Cave & The Bad Seeds + Kylie Minogue","Modest Mouse","Alexis Jordan","Disneys Mulan","David Guetta feat. Chris Willis","Sublime","Shinedown","Amy Winehouse","Gayle","Dave Rodgers","Gustaph","PinkPantheress & Ice Spice","Ren","Ava Max","NCT DREAM","Coolio feat. L.V.","Hanson","KISS","Sia","Yazoo","Muse","Fifth Harmony feat. Kid Ink","Eurythmics","AURORA","Rascal Flatts","Haddaway & Jim Carrey & The Roxbury Guys","Alannah Myles","The 1975","Evanescence","Jet","Anastacia","Kanye West","Alec Benjamin","Arcade Fire","The Temptations","Disneys DuckTales 2017 (Felicia Barton)","The Cinematic Orchestra","Lykke Li","Kings Of Leon","Vampire Weekend","The Offspring","Tove Lo","America","Post Malone & Swae Lee","Parry Gripp & Brianne Drouhard","Usher feat. Lil Jon & Ludacris","Joan Jett","The Bloodhound Gang","Coldplay x BTS","Ariana Grande feat. Future","LE SSERAFIM","Michael Jackson feat. Justin Timberlake","Alice Cooper","Lady Gaga & Ariana Grande","A.R. Rahman & The Pussycat Dolls feat Nicole Scherzinger","Rupert Holmes","Men at Work","Midnight Oil","Silia Kapsis","Slipknot","Silk Sonic - Bruno Mars & Anderson .Paak","Akon feat. Eminem","Borislav Slavov (Baldur's Gate 3)","NewJeans; League of Legends","Netta","Clean Bandit feat. Marina & Luis Fonsi","Sean Kingston","Wheatus","Reba McEntire & Kelly Clarkson","LeAnn Rimes","Marshmello & Anne-Marie","Marshmello x Jonas Brothers","All Time Low feat. Demi Lovato & Blackbear","The Lonely Island feat. Michael Bolton","Alexander Rybak","Kanye West feat. Various Artists","Calum Scott","Vanessa Carlton","Ween","Madcon feat. Ray Dalton","Windows95man","KoRn","The Jacksons","Elton John & RuPaul","The Proclaimers","Miracle Of Sound","Michelle Branch","Disneys The Lion King","Hazbin Hotel","Rihanna feat. Jay-Z","Disneys Phineas & Ferb (Phineas Flynn, Candace Flynn)","Blur","Oasis","Shaggy feat. RikRok","Disneys Encanto ","Joan Jett & The Blackhearts","ABBA","Mariah Carey feat. Jay-Z","Elena Siegman","Kid Rock","LMFAO","Stella Mwangi","Sara Bareilles","Ariana Grande feat. Mac Miller","Empire Of The Sun","Rusted Root","The Baseballs","David Guetta feat. Akon","Steindi","Pharrell Williams","Bryan Adams","The Common Linnets","Jonathan Coulton","Amy MacDonald","Nelly Furtado","Lana Del Rey feat. The Weeknd","Helena Paparizou","Kaleen","Disneys Descendants","The Witcher (Joey Batey)","Bee Gees","Selena Gomez & The Scene","Michael Jackson","Janet Jackson","Cyndi Lauper","Kelly Clarkson","Eric Clapton","N Sync","Jay Sean feat. Lil Wayne","Billy Boyd","One Direction","Wham!","The Black Keys","Spice Girls","Lucy Hale","Paul Simon","Imagine Dragons x JID","blink-182","Chicago","Pixies","Fifth Harmony feat. Ty Dolla $ign","Johnny Logan","Eddie Murphy","Genesis","Katy Perry feat. Nicki Minaj","Roxette","OneRepublic","Shawn Mendes & Camila Cabello","Katy Perry feat. Kanye West","Edward Maya & Vika Jigulina","Ashley Tisdale","Kaiser Chiefs","The Black Eyed Peas Feat. Justin Timberlake","Psy feat. Suga of BTS","Carpenters","Magic!","Interpol","Lil Nas X feat. Billy Ray Cyrus","Victoria Justice & Ariana Grande","Nick Jonas","Rob Zombie","James Morrison feat. Nelly Furtado","The Village People","P!nk feat. Lily Allen","Kings of Leon","Rhapsody","Shakira feat. Carlinhos Brown","Justin Bieber feat. Jaden Smith","will.i.am & Britney Spears","Phantom Planet","Alyona Alyona & Jerry Heil","Ylvis","Vanessa Hudgens","Taylor Swift feat. Brendon Urie","Blackstreet feat. Dr. Dre","Lana Del Rey","Gandalf","Kanye West feat. Pusha T","Roman Lob","Olly Murs feat. Flo-Rida","Kim Wilde","Blanche","Marc Cohn","Dean Lewis","Miley Cyrus","The Smiths","Christina Milian","Heathers","Band Aid","Vitamin C","Clean Bandit featuring  Zara Larsson","Camila Cabello ft. Ed Sheeran","ATeens","Victorious Cast feat. Victoria Justice","Nico Bruno","Usher & Pitbull","Rick Astley","Selena Gomez x Marshmello","Tom Dice","Bill Medley & Jennifer Warnes","Will Ferrell & Rachel McAdams","Dimash Kudaibergen","Cailin Russo & Chrissy Costanza","Babymetal x Electric Callboy","Fools Garden","High School Musical","The Anxiety (Willow & Tyler Cole)","Ariana Grande feat. Iggy Azalea","Jimmy Eat World","Deep Purple","The Strokes","BTS feat. Desiigner","Bad Omens","Kate Bush","Five For Fighting","Lordi","Michael Bubl","Beastie Boys","Imagine Dragons","Barbie (Ryan Gosling)","Rockwell","Teach-In","AC/DC","Selena Gomez feat. Gucci Mane","Zedd feat. Selena Gomez","Ne-Yo","Third Eye Blind","Lulu","Ashley Tisdale (The Little Mermaid)","Red Hot Chili Peppers","Disney's Tangled","Scissor Sisters","Kane Brown","2NE1","B.o.B feat. Bruno Mars","My Chemical Romance","AaRON","John Lennon","Sandie Shaw","David Guetta feat. Zara Larsson","Chumbawamba","Jack White","Benny Cristo","Chingiz","Fun.","Slayyyter","Ed Sheeran","Ray Parker Jr.","Little Big","P!nk","Timbaland presents OneRepublic","Coldplay","Asking Alexandria","Rihanna feat. Calvin Harris","David Bowie","Justin Bieber & Nicki Minaj","Tix","The Blues Brothers","Idina Menzel","Corinne Bailey Rae","Tiffany","Tyler, The Creator","Gotye & Kimbra","Bing Crosby","Srbuk","Rihanna feat. Jeezy","Bella Poarch","Savage Garden","Reba McEntire with Brooks & Dunn","Wiz Khalifa","Rednex"," Kinect Star Wars (Renee Wagner)","Doris Day","Timbaland feat. Keri Hilson","Demi Lovato","Olivia Rodrigo","Dai Freyr","James Blunt","Jack Black","M83 feat. Susanne Sundfr","R. City feat. Adam Levine","Matt Redman","Meatloaf","Destinys Child","Alan Jackson","Sixpence None The Richer","Mtley Cre","Hollywood Undead","Martin Solveig & GTA","Jaymes Young","Phoebe Bridgers","Jon Bellion","Alessandra","Flo Rida feat. T-Pain","Sylver","Creedence Clearwater Revival","Hamilton","Twenty One Pilots","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Serj Tankian","USA for Africa","Rainbow","Nelly feat. Kelly Rowland","Bonnie Tyler","Duncan Laurence","Lady Antebellum","Christina Aguilera, Lil Kim, Mya & P!nk (Moulin Rouge)","Toni Braxton","Lea Salonga and Brad Kane","A Day to Remember","Disneys Hercules","Lily Allen","Mark Ronson feat. Bruno Mars","Chenoa","Avenged Sevenfold","Don McLean","Fifth Harmony","Crush 40","Bon Jovi","Ice Cube","LP","Zedd & Foxes","Marvin Gaye & Tammi Terrell","Daft Punk Feat. Todd Edwards","Electric Light Orchestra","Busted","Ultravox","Kenya Grace","Eminem feat. Juice WRLD","The Little Mermaid","The BossHoss","Sinad OConnor","Pitbull feat. Chris Brown","Taking Back Sunday","Tool","Into the Woods","Eric Saade","Joe Cocker","Train","Tears For Fears","System Of A Down","Charlie Puth & Selena Gomez","Disneys The Jungle Book","Cascada","Jason Derulo feat. Snoop Dogg","The Police","will.i.am feat. Justin Bieber","Texas","Simon & Garfunkel","Kim Petras & Nicki Minaj","Ashanti","Blanka","Flo Rida","Sara Evans","The Ronettes","Fergie","Lynyrd Skynyrd","Passenger","Alessia Cara","Aly & AJ","The Lonely Island feat. Connor4real","Radical Face","Disneys Encanto","Loreen","Jay Sean","Mariah Carey","Remo Forrer","Nathan Evans","Paramore","Hailee Steinfeld feat. DNCE","The Cardigans","David Cook","Secondhand Serenade","ALIKA","Bruno Mars","Jewel","Drake feat. Wizkid & Kyla","Enya","Philip Bailey with Phil Collins","Bryan Adams, Rod Stewart & Sting","Ed Sheeran and Justin Bieber","Justin Bieber feat. Big Sean","twenty ne pilts","RAFA","Inna","Maria Yaremchuk","No Doubt","Ben Doli","The Corrs","Brandy & Monica","O.A.R.","Bucks Fizz","Big Time Rush","Bastille","Carly Rae Jepsen","Katy Perry feat. Snoop Dogg","La Bouche","Set It Off","Paul McCartney & Michael Jackson","Disneys Beauty and the Beast","Sean Kingston / Justin Bieber","TryHardNinja feat. CaptainSparklez","Skunk Anansie","Kay Starr","Placebo feat. David Bowie","Rihanna feat. Mikky Ekko","Will Smith","Brenda Lee","The Neighbourhood","Lionel Richie","Israel Kamakawiwoole","Anitta","Mumford and Sons","Huey Lewis & The News","Mandaryna","Frank Sinatra","Chuck Berry","Nick Cave & The Bad Seeds","Doja Cat feat. SZA","Rasmussen","5 Seconds of Summer","The Beautiful South","Leona Lewis","Mariah Carey & Boyz II Men","The Jackson 5","Doki Doki Literature Club!","Nicki Minaj","3OH!3 feat. Katy Perry","Good Charlotte","Kaleo","Technotronic feat. Felly","Queen","Olsen Brothers","Chris Brown feat. Justin Bieber","Foo Fighters","ZAYN","Lil Dicky","Diana Ross","Steve Lacy","Justin Bieber feat. Usher","Wham","George Ezra","Marilyn Manson","Enrique Iglesias","Flo Rida feat. Sia","Daughtry","The Who","Dami Im","a-ha","Scorpions","Jennette McCurdy","Mneskin","Scooter vs. Marc Acardipane & Dick Rules","2Pac feat. Dr. Dre & Roger Troutman","Adam Lambert","Moulin Rouge","Ricky Martin","Sun Stroke Project & Olia Tira","The Cure","Shakira ft. Freshlyground","TheFatRat","Vanilla Ice","Jagwar Twin","Shakira","Peter Gabriel & Kate Bush","Elton John & Dua Lipa","Olivia Newton-John","Faith No More","Far East Movement feat. The Cataracs & DEV","MELOVIN","t.A.T.u.","Mae Muller","The Script","Mike Posner","The Cranberries","Dead Or Alive","The Killers","Daisuke Ishiwatari","Rob Thomas","Hillsong United","Goo Goo Dolls","Colbie Caillat","Nilsson","The Gregory Brothers feat. Takeo Ischi","Thundercats","Lorde","Three Days Grace","Kid Cudi feat. MGMT & Ratatat","Lady Gaga, Bradley Cooper","Amy Winehouse feat. Mark Ronson","NIKI","Nicki Taylor","Eminem feat. Dido","Joji","Richard Marx & Donna Lewis","Ariana Grande & The Weeknd","Black Eyed Peas, Shakira","Steven Curtis Chapman","Charli XCX","Prince and the Revolution","Hoobastank","Les Misrables","Rihanna","Sabaton","Owl City & Carly Rae Jepsen","Britney Spears & Iggy Azalea","Weezer","Swedish House Mafia & The Weeknd","Getter Jaani","Marshmello & Bastille","The Makemakes","Zoe Wees","Danzel","Journey","Blondie","Brotherhood Of Man","Whitesnake","Rihanna feat. Eminem","Manowar","Jordin Sparks feat. Chris Brown","Alan Walker","Gnarls Barkley","Apocalyptica ft. Adam Gontier","Gwen Stefani & Eve","Sarah McLachlan","Shakira feat. Dizzee Rascal","The Lonely Island feat. Akon","Crusher-P feat. GUMI","will.i.am feat. Eva Simons","Jessie J","Tom Jones","Verka Serduchka","Girls Generation (SNSD)","KEiiNO","Johnny Cash","Tones And I","Cliff Richard","Bikini Kill","Miley Cyrus & Jessie J","Dashboard Confessional","Nelly Furtado feat. Timbaland","Natalie Imbruglia","Jessie J feat. Ariana Grande & Nicki Minaj","Counting Crows","Tracy Chapman","Rod Stewart","Terence Trent DArby","Fleetwood Mac","Soundgarden","Estelle feat. Kanye West","Skillet","Modern Talking","Survivor","RuPaul","The Rembrandts","SMiLE.dk","Lewis Capaldi","Jack Johnson","Jesse McCartney","Bruno Mars & Cardi B","Terri Clark","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Johnny Rivers","David Guetta feat. Flo Rida & Nicki Minaj","B.o.B feat. Hayley Williams","Daniel Powter","The Mamas & The Papas","Myles Smith","Culture Club","Taio Cruz","Martin Garrix feat. Bonn","Disneys Kim Possible (Christina Milian)","Daft Punk","Elton John","The Animals","Grabbitz","Maroon 5 feat. Cardi B","Joy Division","Alanis Morissette","Doja Cat","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Amy Grant","Aretha Franklin & The Blues Brothers Band","Melanie Thornton","The Black Eyed Peas","Cline Dion","Van Halen","Weird Al Yankovic","Smash Into Pieces","Victoria Justice","Post Malone feat. 21 Savage","Dua Lipa","Man With A Mission","Usher","Billie Eilish","Banana minnions family","Shakira feat. Wyclef Jean","Britney Spears feat. Madonna","Drake","Clean Bandit feat. Zara Larsson","Gwen Stefani Feat Akon","Andy Williams","Jimi Jamison","Kodaline","Ghost","SLANDER feat. Dylan Matthews","The Living Tombstone","4 Non Blondes","Eminem","Boney M","Justin Bieber","Melissa Etheridge","Kendrick Lamar feat. Drake","Emmelie de Forest","Bob Seger & The Silver Bullet Band","Kellie Pickler","Jack  (Skrillex & Diplo) with Justin Bieber","Meghan Trainor"],Bve=["Polish","Korean","English","Japanese","Spanish","Estonian","German","Swedish","Indonesian","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian","Chinese"],Dve=3301,Yd={artists:Nve,languages:Bve,songs:Dve},Fve=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function $ve(){const[e]=Je(v_),t=Ove(y_.SkipInitialSetup),n=ci();za(!0);const r=t==="test"&&!no()?"menu/":e===null?"quick-setup/":"menu/";Or("enter",()=>{n(r)},[r]);const[i,o]=v.useState(!1);return v.useEffect(()=>{const s=setTimeout(()=>{o(!0)},4e3);return()=>clearTimeout(s)},[]),f.jsxs(Js,{toolbar:!1,children:[f.jsx(ki,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(kL,{}),f.jsxs(qve,{children:[f.jsx(vP,{children:f.jsxs(zve,{children:[f.jsx(FL,{}),f.jsx(eE,{})]})}),f.jsx(vP,{children:f.jsx(Br,{to:r,children:f.jsx(zA,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(Uve,{children:[f.jsxs(tB,{children:[f.jsxs(Hve,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(Pd,{children:[" ",f.jsx("strong",{children:Fve.format(Yd.songs)})," songs in"," ",f.jsx("strong",{children:Yd.languages.length})," languages",f.jsxs(Md,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(eB,{options:{strings:Yd.artists,autoStart:!0,loop:!0,delay:100}}):Yd.artists.at(-1)})]})]}),f.jsxs(Pd,{children:[" Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(Md,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(Pd,{children:[" Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(Md,{children:"No need to download an app"})]}),f.jsxs(Pd,{children:[" Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(Md,{children:"When using phones as microphones"})]}),f.jsxs(Pd,{children:[" ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(Md,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(Gve,{children:[f.jsx("img",{src:Vve,alt:"Song list screen"}),f.jsx("img",{src:Lve,alt:"In-game screen"})]})]}),f.jsxs(Kve,{children:["Using this device as remote microphone?",f.jsx(Br,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(Wve,{children:[f.jsx(yP,{children:f.jsx(Br,{to:"remote-mic/",children:f.jsx(zA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(yP,{children:f.jsx(Br,{to:"quick-setup/",children:f.jsx(zA,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const zve=R("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),Uve=R("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",zf,"{width:90%;flex-direction:column;font-size:8.5rem;}",ry,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),Hve=R("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",zf,"{font-size:8.5rem;}",ry,"{font-size:4.9rem;}"),Pd=R("div",{target:"e1n22rxp7"})(""),Md=R("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),tB=R("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",qe,";"),Gve=R(tB,{target:"e1n22rxp4"})(ry,"{display:none;}",zf,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",zf,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),qve=R("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",ry,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",pe.colors.text.active,";}"),Wve=R("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),Kve=R("h3",{target:"e1n22rxp1"})(zf,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),zA=R(z4,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",$4,";");function Yve(e){const t=ci(),n=()=>t("menu/"),{register:r}=qn({onBackspace:n});return f.jsxs(qa,{children:[f.jsx(ki,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Br,{to:"exclude-languages/",children:f.jsx(Oe,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Br,{to:"edit/list/",children:f.jsx(Oe,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(Br,{to:"convert/",children:f.jsx(Oe,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Br,{to:"menu/",children:f.jsx(Oe,{...r("back-button",n),children:"Return To Main Menu"})})]})}var Gy={exports:{}};Gy.exports=mE;Gy.exports.isMobile=mE;Gy.exports.default=mE;const Qve=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Jve=/CrOS/,Xve=/android|ipad|playbook|silk/i;function mE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=Qve.test(t)&&!Jve.test(t)||!!e.tablet&&Xve.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var Zve=Gy.exports;const eAe=mr(Zve);function tAe(){const[,e]=Je(yr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Js,{children:f.jsx(nAe,{children:f.jsxs(rAe,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(AP,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(AP,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const AP=R(Oe,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),nAe=R("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),rAe=R(ho,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function iAe(e){const[t]=Je(yr),n=v.useMemo(()=>eAe(),[]),r=ci(),i=async o=>{var s,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(s=global.screen.orientation).lock)==null?void 0:a.call(s,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(ki,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(tAe,{}):f.jsx(qa,{children:f.jsx(uE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function oAe(e){Wa(!1);const t=ci(),n=()=>t("settings/"),{register:r}=qn({onBackspace:n}),[i,o]=Je(om),[s,a]=Je(r5),l=wi(te.inputListChanged,()=>nt.getRemoteMics()),c=Uj();return v.useEffect(()=>nt.addListener(c),[c]),f.jsxs(qa,{children:[f.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===sf-1&&(W3(u),global.location.reload())},children:"Remote Microphone Settings"}),f.jsx(Ki,{...r("connection type",()=>o(Il(S$,i))),label:"Connection type",value:i}),f.jsx("hr",{}),f.jsx(Ki,{...r("default-permission",()=>a(Il(Bk,s))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=nt.getPermission(u.id);return f.jsx(lAe,{...r(`mic-${u.id}`,()=>nt.setPermission(u.id,Il(Bk,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(aAe,{children:[f.jsx(uAe,{children:u.id.slice(-4)}),f.jsx(dAe,{children:f.jsx(sAe,{deviceId:u.id})}),f.jsx(cAe,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Oe,{...r("back-button",n),children:"Return To Settings"})]})}const sAe=({deviceId:e})=>{const t=EN(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},aAe=R("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),lAe=R(Ki,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),cAe=R("span",{target:"expzhs32"})(""),uAe=R("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),dAe=R("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),UA=2500,fAe=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*UA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Ve.eurovisionPink.text},{offset:"25%",color:Ve.eurovisionYellow.text},{offset:"50%",color:Ve.eurovisionPink.text},{offset:"75%",color:Ve.eurovisionOrange.text},{offset:"100%",color:Ve.eurovisionPink.text}];return f.jsxs("svg",{width:UA,height:UA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,o)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},o))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},hAe=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function pAe(){return za(!1),f.jsxs(Js,{children:[f.jsxs(gAe,{children:[f.jsx(mAe,{dangerouslySetInnerHTML:{__html:hAe}}),f.jsx(nB,{children:f.jsx(pb,{})})]}),f.jsxs(vAe,{children:[f.jsx(yAe,{children:f.jsx(pb,{})}),f.jsx(eE,{}),f.jsx(AAe,{src:yN,alt:"Eurovision"})]}),f.jsx(fAe,{})]})}const gAe=R("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),nB=R("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Ve.eurovisionViolet.text,`,
      `,Ve.eurovisionBlue.text,`,
      `,Ve.eurovisionYellow.text,`,
      `,Ve.eurovisionBlue.text,`,
      `,Ve.eurovisionViolet.text,`
    );}`),mAe=R("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Ve.red.text,"!important;}path:nth-of-type(2){fill:",Ve.blue.text,"!important;}"),yAe=R(nB,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Ve.eurovisionPink.text,`,
      `,Ve.eurovisionOrange.text,`,
      `,Ve.eurovisionYellow.text,`,
      `,Ve.eurovisionPink.text,`
    );}`),vAe=R("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Ve.red.stroke,`,
    `,Ve.red.hit.fill,` 49.9%,
    `,Ve.blue.hit.fill,` 50.1%,
    `,Ve.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),AAe=R("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),bAe=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,o])=>`${i}=${String(o)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function SAe(){const[e]=Je(yr),[t,n]=v.useState(!1),[r,i]=v.useState(200),o=v.useCallback(s=>{i(Math.round(s==null?void 0:s.getBoundingClientRect().width)??200)},[]);return v.useEffect(()=>{const s=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(s)}},[]),f.jsxs(_Ae,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:bAe(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:o,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const _Ae=R(ho,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function xAe(){za(!0);const e=ci();Wa(!1);const{register:t}=qn();return f.jsxs(qa,{children:[f.jsxs(ki,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),f.jsxs(wAe,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:[" Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(SAe,{}),f.jsxs(f.Fragment,{children:[f.jsx(Br,{to:"game/",children:f.jsx(Oe,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),f.jsx(Br,{to:"select-input/",children:f.jsx(Oe,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),f.jsx(Br,{to:"settings/",children:f.jsx(Oe,{...t("settings",()=>e("settings/")),children:"Settings"})}),f.jsx(Br,{to:"jukebox/",children:f.jsx(Oe,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),f.jsx(Br,{to:"manage-songs/",children:f.jsx(Oe,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const wAe=R("div",{target:"e1g7uwpd0"})(qe,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Wr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},EAe=v.lazy(()=>Wu(()=>import("./SongManagement-Dmqw_Uuy.js"),[]).then(e=>({default:e.SongList})));function kAe(){Je(yr);const[e]=Je(qi),t=v.useMemo(()=>Fx({graphicSetting:e}),[e]);return f.jsx(Mle,{theme:t,children:f.jsx(z_,{fallback:Cpe,children:f.jsx(WJ,{children:f.jsx(DJ,{children:f.jsx(woe,{base:"/prs/338/",children:f.jsxs(Eoe,{children:[f.jsx(Sr,{path:Wr.QUICK_SETUP,component:iAe}),f.jsx(Sr,{path:Wr.MENU,component:xAe}),f.jsx(Sr,{path:Wr.EXCLUDE_LANGUAGES,component:Ppe}),f.jsx(Sr,{path:Wr.JUKEBOX,component:Khe}),f.jsx(Sr,{path:Wr.GAME,children:f.jsx(Pve,{})}),f.jsx(Sr,{path:Wr.SELECT_INPUT,component:kpe}),f.jsx(Sr,{path:Wr.SETTINGS,component:Due}),f.jsx(Sr,{path:Wr.SETTINGS_REMOTE_MICS,component:oAe}),f.jsx(Sr,{path:Wr.REMOTE_MIC,component:qce}),f.jsx(Sr,{path:Wr.MANAGE_SONGS,component:Yve}),f.jsx(Sr,{path:"social-media-elements",component:pAe}),f.jsx(Sr,{path:Wr.CONVERT,component:()=>f.jsx(Kue,{})}),f.jsx(Sr,{path:Wr.EDIT_SONGS_LIST,component:()=>f.jsx(v.Suspense,{fallback:f.jsx(zL,{}),children:f.jsx(EAe,{})})}),f.jsx(Sr,{path:"edit/get-songs-bpms",component:Rpe}),f.jsx(Sr,{path:Wr.EDIT_SONG,children:f.jsx(Ffe,{})}),f.jsx(Sr,{path:Wr.INDEX,component:$ve})]})})})})})})}const CAe=OU(kAe),TAe=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var rB,bP=oc;rB=bP.createRoot,bP.hydrateRoot;dU({integrations:[aU({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:TAe,tracesSampleRate:no()?0:.01,environment:no()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});no()||Pn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Be.local.getItem("posthog-user-id");t||(t=bm(),Be.local.setItem("posthog-user-id",t)),e.identify(t);let n=Be.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Yd.artists.flatMap(i=>F3(i).split("-")))].filter(i=>i.length<=10);n=new Array(Po(3,5)).fill(0).map(()=>r[Po(0,r.length-1)]).join("-"),Be.local.setItem("posthog-user-name",n),e.alias(n,t)}F8({id:t})}});const IAe=gj({key:"ec",speedy:!nN}),RAe=document.getElementById("root"),PAe=rB(RAe);PAe.render(f.jsxs(zW,{value:IAe,children:[f.jsx(CAe,{}),f.jsx(rb,{position:zt.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{ni as $,X0 as A,os as B,Eg as C,ox as D,Ch as E,ai as F,f as G,zW as H,bZ as I,Qu as J,lj as K,fO as L,Sm as M,yZ as N,At as O,MZ as P,km as Q,ix as R,ro as S,dO as T,mb as U,Gg as V,yt as W,Mx as X,Fs as Y,DAe as Z,Rx as _,wX as a,Cg as a$,BAe as a0,Hr as a1,Tr as a2,Mh as a3,xO as a4,sre as a5,_O as a6,Ie as a7,are as a8,_b as a9,pX as aA,Cx as aB,Lde as aC,IR as aD,Zde as aE,FAe as aF,qee as aG,dX as aH,Vde as aI,ko as aJ,Pc as aK,kx as aL,aT as aM,R as aN,kR as aO,Yw as aP,oC as aQ,Xo as aR,Pt as aS,gb as aT,HAe as aU,bX as aV,oO as aW,ze as aX,Zq as aY,nd as aZ,Rl as a_,$x as aa,js as ab,Ir as ac,ht as ad,Xt as ae,Ny as af,st as ag,oo as ah,Ox as ai,Vx as aj,Gf as ak,Rr as al,d0 as am,Iy as an,XL as ao,zx as ap,Tm as aq,C4 as ar,Fx as as,vX as at,Ex as au,$Ae as av,Fl as aw,Ux as ax,gX as ay,ba as az,_X as b,hde as b0,gde as b1,ZH as b2,Pa as b3,Lf as b4,qL as b5,sde as b6,rde as b7,tde as b8,lde as b9,Nfe as bA,Mie as bB,Pie as bC,eN as bD,s0 as bE,Io as bF,ki as bG,oE as bH,GAe as bI,Bfe as bJ,Pn as bK,Yue as bL,Nr as ba,Ku as bb,Oye as bc,za as bd,ci as be,Wa as bf,oy as bg,nX as bh,Gw as bi,Dfe as bj,oc as bk,Tee as bl,et as bm,YL as bn,Mde as bo,pfe as bp,Ov as bq,pre as br,cfe as bs,TA as bt,_fe as bu,rT as bv,tc as bw,uo as bx,Dle as by,gse as bz,oq as c,wW as d,xW as e,EW as f,Q_ as g,pW as h,hW as i,eu as j,yd as k,vt as l,xX as m,_r as n,SW as o,fj as p,dj as q,v as r,Be as s,fW as t,ja as u,ur as v,Qo as w,ob as x,bi as y,Df as z};
//# sourceMappingURL=index-C7rkGU4B.js.map
