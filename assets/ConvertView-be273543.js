import{r as p,j as o,b7 as $o,b8 as ko,C as Lo,o as Tt,b9 as gt,ba as Po,_ as x,g as xe,a as ge,s as M,l as q,u as ce,b as te,h as V,i as de,I as lo,bb as co,p as he,f as Vt,B as Dt,n as wo,v as uo,bc as po,D as Ht,c as fo,bd as Ro,U as we,H as ho,be as To,bf as xo,bg as go,aY as nt,b5 as mo,bh as Oo,M as bo,bi as Ao,aZ as Et,aW as Bo,bj as Mo,bk as No,bl as Eo,bm as qt,bn as Uo,au as zo,aV as Fo,K as Vo,a2 as Do,L as Go,bo as Wo,S as Ot,bp as _o,O as Ho,P as qo}from"./index-67824073.js";import{u as Ko,r as At,s as Ve,t as Kt,v as Ye,P as vo,w as Yo,x as Xo,C as Jo,y as Zo,z as Qo,L as De,l as Yt,T as ve,E as ea,e as B,B as U,c as J,n as Xt,G as H,m as ta,S as Jt,H as oa,J as aa,A as na,j as ra}from"./ShareSongsModal-dccbb304.js";import{c as sa,e as ia}from"./Player-29484574.js";function la(e){return p.Children.toArray(e).filter(t=>p.isValidElement(t))}let Ut;typeof document=="object"&&(Ut=ko({key:"css",prepend:!0}));function ca(e){const{injectFirst:t,children:a}=e;return t&&Ut?o.jsx($o,{value:Ut,children:a}):a}function Zt(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function da(e={}){const{ignoreAccents:t=!0,ignoreCase:a=!0,limit:n,matchFrom:s="any",stringify:u,trim:r=!1}=e;return(c,{inputValue:d,getOptionLabel:y})=>{let h=r?d.trim():d;a&&(h=h.toLowerCase()),t&&(h=Zt(h));const C=h?c.filter(I=>{let $=(u||y)(I);return a&&($=$.toLowerCase()),t&&($=Zt($)),s==="start"?$.indexOf(h)===0:$.indexOf(h)>-1}):c;return typeof n=="number"?C.slice(0,n):C}}function Bt(e,t){for(let a=0;a<e.length;a+=1)if(t(e[a]))return a;return-1}const ua=da(),Qt=5,pa=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function fa(e){const{unstable_isActiveElementInListbox:t=pa,unstable_classNamePrefix:a="Mui",autoComplete:n=!1,autoHighlight:s=!1,autoSelect:u=!1,blurOnSelect:r=!1,clearOnBlur:c=!e.freeSolo,clearOnEscape:d=!1,componentName:y="useAutocomplete",defaultValue:h=e.multiple?[]:null,disableClearable:C=!1,disableCloseOnSelect:I=!1,disabled:$,disabledItemsFocusable:L=!1,disableListWrap:b=!1,filterOptions:A=ua,filterSelectedOptions:O=!1,freeSolo:P=!1,getOptionDisabled:g,getOptionLabel:m=l=>{var i;return(i=l.label)!=null?i:l},groupBy:v,handleHomeEndKeys:w=!e.freeSolo,id:j,includeInputInList:F=!1,inputValue:W,isOptionEqualToValue:oe=(l,i)=>l===i,multiple:N=!1,onChange:je,onClose:ue,onHighlightChange:Ne,onInputChange:ae,onOpen:Ee,open:Ge,openOnFocus:Ue=!1,options:Re,readOnly:K=!1,selectOnFocus:me=!e.freeSolo,value:Ze}=e,ne=Lo(j);let Q=m;Q=l=>{const i=m(l);return typeof i!="string"?String(i):i};const Qe=p.useRef(!1),et=p.useRef(!0),Y=p.useRef(null),re=p.useRef(null),[We,Ct]=p.useState(null),[ie,_e]=p.useState(-1),it=s?0:-1,ee=p.useRef(it),[k,lt]=Tt({controlled:Ze,default:h,name:y}),[E,Te]=Tt({controlled:W,default:"",name:y,state:"inputValue"}),[Ie,ct]=p.useState(!1),He=p.useCallback((l,i)=>{if(!(N?k.length<i.length:i!==null)&&!c)return;let S;if(N)S="";else if(i==null)S="";else{const T=Q(i);S=typeof T=="string"?T:""}E!==S&&(Te(S),ae&&ae(l,S,"reset"))},[Q,E,N,ae,Te,c,k]),[$e,dt]=Tt({controlled:Ge,default:!1,name:y,state:"open"}),[St,ut]=p.useState(!0),pt=!N&&k!=null&&E===Q(k),se=$e&&!K,z=se?A(Re.filter(l=>!(O&&(N?k:[k]).some(i=>i!==null&&oe(l,i)))),{inputValue:pt&&St?"":E,getOptionLabel:Q}):[],le=Ko({filteredOptions:z,value:k,inputValue:E});p.useEffect(()=>{const l=k!==le.value;Ie&&!l||P&&!l||He(null,k)},[k,He,Ie,le.value,P]);const tt=$e&&z.length>0&&!K,qe=gt(l=>{l===-1?Y.current.focus():We.querySelector(`[data-tag-index="${l}"]`).focus()});p.useEffect(()=>{N&&ie>k.length-1&&(_e(-1),qe(-1))},[k,N,ie,qe]);function jt(l,i){if(!re.current||l<0||l>=z.length)return-1;let f=l;for(;;){const S=re.current.querySelector(`[data-option-index="${f}"]`),T=L?!1:!S||S.disabled||S.getAttribute("aria-disabled")==="true";if(S&&S.hasAttribute("tabindex")&&!T)return f;if(i==="next"?f=(f+1)%z.length:f=(f-1+z.length)%z.length,f===l)return-1}}const pe=gt(({event:l,index:i,reason:f="auto"})=>{if(ee.current=i,i===-1?Y.current.removeAttribute("aria-activedescendant"):Y.current.setAttribute("aria-activedescendant",`${ne}-option-${i}`),Ne&&Ne(l,i===-1?null:z[i],f),!re.current)return;const S=re.current.querySelector(`[role="option"].${a}-focused`);S&&(S.classList.remove(`${a}-focused`),S.classList.remove(`${a}-focusVisible`));let T=re.current;if(re.current.getAttribute("role")!=="listbox"&&(T=re.current.parentElement.querySelector('[role="listbox"]')),!T)return;if(i===-1){T.scrollTop=0;return}const D=re.current.querySelector(`[data-option-index="${i}"]`);if(D&&(D.classList.add(`${a}-focused`),f==="keyboard"&&D.classList.add(`${a}-focusVisible`),T.scrollHeight>T.clientHeight&&f!=="mouse"&&f!=="touch")){const G=D,Se=T.clientHeight+T.scrollTop,_t=G.offsetTop+G.offsetHeight;_t>Se?T.scrollTop=_t-T.clientHeight:G.offsetTop-G.offsetHeight*(v?1.3:0)<T.scrollTop&&(T.scrollTop=G.offsetTop-G.offsetHeight*(v?1.3:0))}}),fe=gt(({event:l,diff:i,direction:f="next",reason:S="auto"})=>{if(!se)return;const D=jt((()=>{const G=z.length-1;if(i==="reset")return it;if(i==="start")return 0;if(i==="end")return G;const Se=ee.current+i;return Se<0?Se===-1&&F?-1:b&&ee.current!==-1||Math.abs(i)>1?0:G:Se>G?Se===G+1&&F?-1:b||Math.abs(i)>1?G:0:Se})(),f);if(pe({index:D,reason:S,event:l}),n&&i!=="reset")if(D===-1)Y.current.value=E;else{const G=Q(z[D]);Y.current.value=G,G.toLowerCase().indexOf(E.toLowerCase())===0&&E.length>0&&Y.current.setSelectionRange(E.length,G.length)}}),It=()=>{const l=(i,f)=>{const S=i?Q(i):"",T=f?Q(f):"";return S===T};if(ee.current!==-1&&le.filteredOptions&&le.filteredOptions.length!==z.length&&le.inputValue===E&&(N?k.length===le.value.length&&le.value.every((i,f)=>Q(k[f])===Q(i)):l(le.value,k))){const i=le.filteredOptions[ee.current];if(i&&z.some(S=>Q(S)===Q(i)))return!0}return!1},Oe=p.useCallback(()=>{if(!se||It())return;const l=N?k[0]:k;if(z.length===0||l==null){fe({diff:"reset"});return}if(re.current){if(l!=null){const i=z[ee.current];if(N&&i&&Bt(k,S=>oe(i,S))!==-1)return;const f=Bt(z,S=>oe(S,l));f===-1?fe({diff:"reset"}):pe({index:f});return}if(ee.current>=z.length-1){pe({index:z.length-1});return}pe({index:ee.current})}},[z.length,N?!1:k,O,fe,pe,se,E,N]),$t=gt(l=>{Po(re,l),l&&Oe()});p.useEffect(()=>{Oe()},[Oe]);const ke=l=>{$e||(dt(!0),ut(!0),Ee&&Ee(l))},ye=(l,i)=>{$e&&(dt(!1),ue&&ue(l,i))},Ce=(l,i,f,S)=>{if(N){if(k.length===i.length&&k.every((T,D)=>T===i[D]))return}else if(k===i)return;je&&je(l,i,f,S),lt(i)},Ae=p.useRef(!1),ze=(l,i,f="selectOption",S="options")=>{let T=f,D=i;if(N){D=Array.isArray(k)?k.slice():[];const G=Bt(D,Se=>oe(i,Se));G===-1?D.push(i):S!=="freeSolo"&&(D.splice(G,1),T="removeOption")}He(l,D),Ce(l,D,T,{option:i}),!I&&(!l||!l.ctrlKey&&!l.metaKey)&&ye(l,T),(r===!0||r==="touch"&&Ae.current||r==="mouse"&&!Ae.current)&&Y.current.blur()};function kt(l,i){if(l===-1)return-1;let f=l;for(;;){if(i==="next"&&f===k.length||i==="previous"&&f===-1)return-1;const S=We.querySelector(`[data-tag-index="${f}"]`);if(!S||!S.hasAttribute("tabindex")||S.disabled||S.getAttribute("aria-disabled")==="true")f+=i==="next"?1:-1;else return f}}const ot=(l,i)=>{if(!N)return;E===""&&ye(l,"toggleInput");let f=ie;ie===-1?E===""&&i==="previous"&&(f=k.length-1):(f+=i==="next"?1:-1,f<0&&(f=0),f===k.length&&(f=-1)),f=kt(f,i),_e(f),qe(f)},ft=l=>{Qe.current=!0,Te(""),ae&&ae(l,"","clear"),Ce(l,N?[]:null,"clear")},Lt=l=>i=>{if(l.onKeyDown&&l.onKeyDown(i),!i.defaultMuiPrevented&&(ie!==-1&&["ArrowLeft","ArrowRight"].indexOf(i.key)===-1&&(_e(-1),qe(-1)),i.which!==229))switch(i.key){case"Home":se&&w&&(i.preventDefault(),fe({diff:"start",direction:"next",reason:"keyboard",event:i}));break;case"End":se&&w&&(i.preventDefault(),fe({diff:"end",direction:"previous",reason:"keyboard",event:i}));break;case"PageUp":i.preventDefault(),fe({diff:-Qt,direction:"previous",reason:"keyboard",event:i}),ke(i);break;case"PageDown":i.preventDefault(),fe({diff:Qt,direction:"next",reason:"keyboard",event:i}),ke(i);break;case"ArrowDown":i.preventDefault(),fe({diff:1,direction:"next",reason:"keyboard",event:i}),ke(i);break;case"ArrowUp":i.preventDefault(),fe({diff:-1,direction:"previous",reason:"keyboard",event:i}),ke(i);break;case"ArrowLeft":ot(i,"previous");break;case"ArrowRight":ot(i,"next");break;case"Enter":if(ee.current!==-1&&se){const f=z[ee.current],S=g?g(f):!1;if(i.preventDefault(),S)return;ze(i,f,"selectOption"),n&&Y.current.setSelectionRange(Y.current.value.length,Y.current.value.length)}else P&&E!==""&&pt===!1&&(N&&i.preventDefault(),ze(i,E,"createOption","freeSolo"));break;case"Escape":se?(i.preventDefault(),i.stopPropagation(),ye(i,"escape")):d&&(E!==""||N&&k.length>0)&&(i.preventDefault(),i.stopPropagation(),ft(i));break;case"Backspace":if(N&&!K&&E===""&&k.length>0){const f=ie===-1?k.length-1:ie,S=k.slice();S.splice(f,1),Ce(i,S,"removeOption",{option:k[f]})}break;case"Delete":if(N&&!K&&E===""&&k.length>0&&ie!==-1){const f=ie,S=k.slice();S.splice(f,1),Ce(i,S,"removeOption",{option:k[f]})}break}},Pt=l=>{ct(!0),Ue&&!Qe.current&&ke(l)},wt=l=>{if(t(re)){Y.current.focus();return}ct(!1),et.current=!0,Qe.current=!1,u&&ee.current!==-1&&se?ze(l,z[ee.current],"blur"):u&&P&&E!==""?ze(l,E,"blur","freeSolo"):c&&He(l,k),ye(l,"blur")},at=l=>{const i=l.target.value;E!==i&&(Te(i),ut(!1),ae&&ae(l,i,"input")),i===""?!C&&!N&&Ce(l,null,"clear"):ke(l)},Z=l=>{const i=Number(l.currentTarget.getAttribute("data-option-index"));ee.current!==i&&pe({event:l,index:i,reason:"mouse"})},_=l=>{pe({event:l,index:Number(l.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ae.current=!0},be=l=>{const i=Number(l.currentTarget.getAttribute("data-option-index"));ze(l,z[i],"selectOption"),Ae.current=!1},Gt=l=>i=>{const f=k.slice();f.splice(l,1),Ce(i,f,"removeOption",{option:k[l]})},ht=l=>{$e?ye(l,"toggleInput"):ke(l)},Wt=l=>{l.currentTarget.contains(l.target)&&l.target.getAttribute("id")!==ne&&l.preventDefault()},Rt=l=>{l.currentTarget.contains(l.target)&&(Y.current.focus(),me&&et.current&&Y.current.selectionEnd-Y.current.selectionStart===0&&Y.current.select(),et.current=!1)},xt=l=>{!$&&(E===""||!$e)&&ht(l)};let Fe=P&&E.length>0;Fe=Fe||(N?k.length>0:k!==null);let Ke=z;return v&&(Ke=z.reduce((l,i,f)=>{const S=v(i);return l.length>0&&l[l.length-1].group===S?l[l.length-1].options.push(i):l.push({key:f,index:f,group:S,options:[i]}),l},[])),$&&Ie&&wt(),{getRootProps:(l={})=>x({"aria-owns":tt?`${ne}-listbox`:null},l,{onKeyDown:Lt(l),onMouseDown:Wt,onClick:Rt}),getInputLabelProps:()=>({id:`${ne}-label`,htmlFor:ne}),getInputProps:()=>({id:ne,value:E,onBlur:wt,onFocus:Pt,onChange:at,onMouseDown:xt,"aria-activedescendant":se?"":null,"aria-autocomplete":n?"both":"list","aria-controls":tt?`${ne}-listbox`:void 0,"aria-expanded":tt,autoComplete:"off",ref:Y,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:$}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ft}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:ht}),getTagProps:({index:l})=>x({key:l,"data-tag-index":l,tabIndex:-1},!K&&{onDelete:Gt(l)}),getListboxProps:()=>({role:"listbox",id:`${ne}-listbox`,"aria-labelledby":`${ne}-label`,ref:$t,onMouseDown:l=>{l.preventDefault()}}),getOptionProps:({index:l,option:i})=>{const f=(N?k:[k]).some(T=>T!=null&&oe(i,T)),S=g?g(i):!1;return{key:Q(i),tabIndex:-1,role:"option",id:`${ne}-option-${l}`,onMouseMove:Z,onClick:be,onTouchStart:_,"data-option-index":l,"aria-disabled":S,"aria-selected":f}},id:ne,inputValue:E,value:k,dirty:Fe,expanded:se&&We,popupOpen:se,focused:Ie||ie!==-1,anchorEl:We,setAnchorEl:Ct,focusedTag:ie,groupedOptions:Ke}}function ha(e){return xe("MuiListSubheader",e)}ge("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const xa=["className","color","component","disableGutters","disableSticky","inset"],ga=e=>{const{classes:t,color:a,disableGutters:n,inset:s,disableSticky:u}=e,r={root:["root",a!=="default"&&`color${q(a)}`,!n&&"gutters",s&&"inset",!u&&"sticky"]};return de(r,ha,t)},ma=M("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.color!=="default"&&t[`color${q(a.color)}`],!a.disableGutters&&t.gutters,a.inset&&t.inset,!a.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>x({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),yo=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiListSubheader"}),{className:s,color:u="default",component:r="li",disableGutters:c=!1,disableSticky:d=!1,inset:y=!1}=n,h=te(n,xa),C=x({},n,{color:u,component:r,disableGutters:c,disableSticky:d,inset:y}),I=ga(C);return o.jsx(ma,x({as:r,className:V(I.root,s),ref:a,ownerState:C},h))});yo.muiSkipListHighlight=!0;const ba=yo;function va(e){return xe("MuiAutocomplete",e)}const ya=ge("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),R=ya;var eo,to;const Ca=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Sa=["ref"],ja=e=>{const{classes:t,disablePortal:a,expanded:n,focused:s,fullWidth:u,hasClearIcon:r,hasPopupIcon:c,inputFocused:d,popupOpen:y,size:h}=e,C={root:["root",n&&"expanded",s&&"focused",u&&"fullWidth",r&&"hasClearIcon",c&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",d&&"inputFocused"],tag:["tag",`tagSize${q(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",y&&"popupIndicatorOpen"],popper:["popper",a&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return de(C,va,t)},Ia=M("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e,{fullWidth:n,hasClearIcon:s,hasPopupIcon:u,inputFocused:r,size:c}=a;return[{[`& .${R.tag}`]:t.tag},{[`& .${R.tag}`]:t[`tagSize${q(c)}`]},{[`& .${R.inputRoot}`]:t.inputRoot},{[`& .${R.input}`]:t.input},{[`& .${R.input}`]:r&&t.inputFocused},t.root,n&&t.fullWidth,u&&t.hasPopupIcon,s&&t.hasClearIcon]}})(({ownerState:e})=>x({[`&.${R.focused} .${R.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${R.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${R.tag}`]:x({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${R.inputRoot}`]:{flexWrap:"wrap",[`.${R.hasPopupIcon}&, .${R.hasClearIcon}&`]:{paddingRight:26+4},[`.${R.hasPopupIcon}.${R.hasClearIcon}&`]:{paddingRight:52+4},[`& .${R.input}`]:{width:0,minWidth:30}},[`& .${At.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${At.root}.${Ve.sizeSmall}`]:{[`& .${At.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Kt.root}`]:{padding:9,[`.${R.hasPopupIcon}&, .${R.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${R.hasPopupIcon}.${R.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${R.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${R.endAdornment}`]:{right:9}},[`& .${Kt.root}.${Ve.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${R.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ye.root}`]:{paddingTop:19,paddingLeft:8,[`.${R.hasPopupIcon}&, .${R.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${R.hasPopupIcon}.${R.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Ye.input}`]:{padding:"7px 4px"},[`& .${R.endAdornment}`]:{right:9}},[`& .${Ye.root}.${Ve.sizeSmall}`]:{paddingBottom:1,[`& .${Ye.input}`]:{padding:"2.5px 4px"}},[`& .${Ve.hiddenLabel}`]:{paddingTop:8},[`& .${Ye.root}.${Ve.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${R.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ye.root}.${Ve.hiddenLabel}.${Ve.sizeSmall}`]:{[`& .${R.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${R.input}`]:x({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),$a=M("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),ka=M(lo,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),La=M(lo,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>x({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>x({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),Pa=M(co,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[{[`& .${R.option}`]:t.option},t.popper,a.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>x({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),wa=M(vo,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>x({},e.typography.body1,{overflow:"auto"})),Ra=M("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Ta=M("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Oa=M("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${R.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${R.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${R.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:he(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${R.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:he(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${R.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:he(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),Aa=M(ba,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Ba=M("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${R.option}`]:{paddingLeft:24}}),Ma=p.forwardRef(function(t,a){var n,s,u,r;const c=ce({props:t,name:"MuiAutocomplete"}),{autoComplete:d=!1,autoHighlight:y=!1,autoSelect:h=!1,blurOnSelect:C=!1,ChipProps:I,className:$,clearIcon:L=eo||(eo=o.jsx(Yo,{fontSize:"small"})),clearOnBlur:b=!c.freeSolo,clearOnEscape:A=!1,clearText:O="Clear",closeText:P="Close",componentsProps:g={},defaultValue:m=c.multiple?[]:null,disableClearable:v=!1,disableCloseOnSelect:w=!1,disabled:j=!1,disabledItemsFocusable:F=!1,disableListWrap:W=!1,disablePortal:oe=!1,filterSelectedOptions:N=!1,forcePopupIcon:je="auto",freeSolo:ue=!1,fullWidth:Ne=!1,getLimitTagsText:ae=f=>`+${f}`,getOptionLabel:Ee,groupBy:Ge,handleHomeEndKeys:Ue=!c.freeSolo,includeInputInList:Re=!1,limitTags:K=-1,ListboxComponent:me="ul",ListboxProps:Ze,loading:ne=!1,loadingText:Q="Loadingâ€¦",multiple:Qe=!1,noOptionsText:et="No options",openOnFocus:Y=!1,openText:re="Open",PaperComponent:We=vo,PopperComponent:Ct=co,popupIcon:ie=to||(to=o.jsx(Xo,{})),readOnly:_e=!1,renderGroup:it,renderInput:ee,renderOption:k,renderTags:lt,selectOnFocus:E=!c.freeSolo,size:Te="medium",slotProps:Ie={}}=c,ct=te(c,Ca),{getRootProps:He,getInputProps:$e,getInputLabelProps:dt,getPopupIndicatorProps:St,getClearProps:ut,getTagProps:pt,getListboxProps:se,getOptionProps:z,value:le,dirty:tt,expanded:qe,id:jt,popupOpen:pe,focused:fe,focusedTag:It,anchorEl:Oe,setAnchorEl:$t,inputValue:ke,groupedOptions:ye}=fa(x({},c,{componentName:"Autocomplete"})),Ce=!v&&!j&&tt&&!_e,Ae=(!ue||je===!0)&&je!==!1,{onMouseDown:ze}=$e(),{ref:kt}=Ze??{},ot=se(),{ref:ft}=ot,Lt=te(ot,Sa),Pt=Vt(ft,kt),at=Ee||(f=>{var S;return(S=f.label)!=null?S:f}),Z=x({},c,{disablePortal:oe,expanded:qe,focused:fe,fullWidth:Ne,getOptionLabel:at,hasClearIcon:Ce,hasPopupIcon:Ae,inputFocused:It===-1,popupOpen:pe,size:Te}),_=ja(Z);let be;if(Qe&&le.length>0){const f=S=>x({className:_.tag,disabled:j},pt(S));lt?be=lt(le,f,Z):be=le.map((S,T)=>o.jsx(Jo,x({label:at(S),size:Te},f({index:T}),I)))}if(K>-1&&Array.isArray(be)){const f=be.length-K;!fe&&f>0&&(be=be.splice(0,K),be.push(o.jsx("span",{className:_.tag,children:ae(f)},be.length)))}const ht=it||(f=>o.jsxs("li",{children:[o.jsx(Aa,{className:_.groupLabel,ownerState:Z,component:"div",children:f.group}),o.jsx(Ba,{className:_.groupUl,ownerState:Z,children:f.children})]},f.key)),Rt=k||((f,S)=>o.jsx("li",x({},f,{children:at(S)}))),xt=(f,S)=>{const T=z({option:f,index:S});return Rt(x({},T,{className:_.option}),f,{selected:T["aria-selected"],index:S,inputValue:ke},Z)},Fe=(n=Ie.clearIndicator)!=null?n:g.clearIndicator,Ke=(s=Ie.paper)!=null?s:g.paper,l=(u=Ie.popper)!=null?u:g.popper,i=(r=Ie.popupIndicator)!=null?r:g.popupIndicator;return o.jsxs(p.Fragment,{children:[o.jsx(Ia,x({ref:a,className:V(_.root,$),ownerState:Z},He(ct),{children:ee({id:jt,disabled:j,fullWidth:!0,size:Te==="small"?"small":void 0,InputLabelProps:dt(),InputProps:x({ref:$t,className:_.inputRoot,startAdornment:be,onClick:f=>{f.target===f.currentTarget&&ze(f)}},(Ce||Ae)&&{endAdornment:o.jsxs($a,{className:_.endAdornment,ownerState:Z,children:[Ce?o.jsx(ka,x({},ut(),{"aria-label":O,title:O,ownerState:Z},Fe,{className:V(_.clearIndicator,Fe==null?void 0:Fe.className),children:L})):null,Ae?o.jsx(La,x({},St(),{disabled:j,"aria-label":pe?P:re,title:pe?P:re,ownerState:Z},i,{className:V(_.popupIndicator,i==null?void 0:i.className),children:ie})):null]})}),inputProps:x({className:_.input,disabled:j,readOnly:_e},$e())})})),Oe?o.jsx(Pa,x({as:Ct,disablePortal:oe,style:{width:Oe?Oe.clientWidth:null},ownerState:Z,role:"presentation",anchorEl:Oe,open:pe},l,{className:V(_.popper,l==null?void 0:l.className),children:o.jsxs(wa,x({ownerState:Z,as:We},Ke,{className:V(_.paper,Ke==null?void 0:Ke.className),children:[ne&&ye.length===0?o.jsx(Ra,{className:_.loading,ownerState:Z,children:Q}):null,ye.length===0&&!ue&&!ne?o.jsx(Ta,{className:_.noOptions,ownerState:Z,role:"presentation",onMouseDown:f=>{f.preventDefault()},children:et}):null,ye.length>0?o.jsx(Oa,x({as:me,className:_.listbox,ownerState:Z},Lt,Ze,{ref:Pt,children:ye.map((f,S)=>Ge?ht({key:f.key,group:f.group,children:f.options.map((T,D)=>xt(T,f.index+D))}):xt(f,S))})):null]}))})):null]})}),oo=Ma;function Na(e){return xe("MuiButtonGroup",e)}const Ea=ge("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),X=Ea,Ua=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],za=(e,t)=>{const{ownerState:a}=e;return[{[`& .${X.grouped}`]:t.grouped},{[`& .${X.grouped}`]:t[`grouped${q(a.orientation)}`]},{[`& .${X.grouped}`]:t[`grouped${q(a.variant)}`]},{[`& .${X.grouped}`]:t[`grouped${q(a.variant)}${q(a.orientation)}`]},{[`& .${X.grouped}`]:t[`grouped${q(a.variant)}${q(a.color)}`]},{[`& .${X.firstButton}`]:t.firstButton},{[`& .${X.lastButton}`]:t.lastButton},{[`& .${X.middleButton}`]:t.middleButton},t.root,t[a.variant],a.disableElevation===!0&&t.disableElevation,a.fullWidth&&t.fullWidth,a.orientation==="vertical"&&t.vertical]},Fa=e=>{const{classes:t,color:a,disabled:n,disableElevation:s,fullWidth:u,orientation:r,variant:c}=e,d={root:["root",c,r==="vertical"&&"vertical",u&&"fullWidth",s&&"disableElevation"],grouped:["grouped",`grouped${q(r)}`,`grouped${q(c)}`,`grouped${q(c)}${q(r)}`,`grouped${q(c)}${q(a)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return de(d,Na,t)},Va=M("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:za})(({theme:e,ownerState:t})=>x({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${X.grouped}`]:x({minWidth:40,"&:hover":x({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${X.firstButton},& .${X.middleButton}`]:x({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${X.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${X.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:he(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${X.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${X.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":x({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${X.lastButton},& .${X.middleButton}`]:x({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Da=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiButtonGroup"}),{children:s,className:u,color:r="primary",component:c="div",disabled:d=!1,disableElevation:y=!1,disableFocusRipple:h=!1,disableRipple:C=!1,fullWidth:I=!1,orientation:$="horizontal",size:L="medium",variant:b="outlined"}=n,A=te(n,Ua),O=x({},n,{color:r,component:c,disabled:d,disableElevation:y,disableFocusRipple:h,disableRipple:C,fullWidth:I,orientation:$,size:L,variant:b}),P=Fa(O),g=p.useMemo(()=>({className:P.grouped,color:r,disabled:d,disableElevation:y,disableFocusRipple:h,disableRipple:C,fullWidth:I,size:L,variant:b}),[r,d,y,h,C,I,L,b,P.grouped]),m=la(s),v=m.length,w=j=>{const F=j===0,W=j===v-1;return F&&W?"":F?P.firstButton:W?P.lastButton:P.middleButton};return o.jsx(Va,x({as:c,role:"group",className:V(P.root,u),ref:a,ownerState:O},A,{children:o.jsx(Zo.Provider,{value:g,children:m.map((j,F)=>o.jsx(Qo.Provider,{value:w(F),children:j},F))})}))}),Me=Da;function Ga(e){return xe("MuiListItem",e)}const Wa=ge("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Xe=Wa;function _a(e){return xe("MuiListItemButton",e)}const Ha=ge("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Je=Ha,qa=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Ka=(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.alignItems==="flex-start"&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters]},Ya=e=>{const{alignItems:t,classes:a,dense:n,disabled:s,disableGutters:u,divider:r,selected:c}=e,y=de({root:["root",n&&"dense",!u&&"gutters",r&&"divider",s&&"disabled",t==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},_a,a);return x({},a,y)},Xa=M(Dt,{shouldForwardProp:e=>wo(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Ka})(({theme:e,ownerState:t})=>x({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Je.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:he(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Je.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:he(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Je.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:he(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:he(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Je.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Je.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),Ja=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiListItemButton"}),{alignItems:s="center",autoFocus:u=!1,component:r="div",children:c,dense:d=!1,disableGutters:y=!1,divider:h=!1,focusVisibleClassName:C,selected:I=!1,className:$}=n,L=te(n,qa),b=p.useContext(De),A=p.useMemo(()=>({dense:d||b.dense||!1,alignItems:s,disableGutters:y}),[s,b.dense,d,y]),O=p.useRef(null);uo(()=>{u&&O.current&&O.current.focus()},[u]);const P=x({},n,{alignItems:s,dense:A.dense,disableGutters:y,divider:h,selected:I}),g=Ya(P),m=Vt(O,a);return o.jsx(De.Provider,{value:A,children:o.jsx(Xa,x({ref:m,href:L.href||L.to,component:(L.href||L.to)&&r==="div"?"button":r,focusVisibleClassName:V(g.focusVisible,C),ownerState:P,className:V(g.root,$)},L,{classes:g,children:c}))})}),Za=Ja;function Qa(e){return xe("MuiListItemSecondaryAction",e)}ge("MuiListItemSecondaryAction",["root","disableGutters"]);const en=["className"],tn=e=>{const{disableGutters:t,classes:a}=e;return de({root:["root",t&&"disableGutters"]},Qa,a)},on=M("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.disableGutters&&t.disableGutters]}})(({ownerState:e})=>x({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Co=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=n,u=te(n,en),r=p.useContext(De),c=x({},n,{disableGutters:r.disableGutters}),d=tn(c);return o.jsx(on,x({className:V(d.root,s),ownerState:c,ref:a},u))});Co.muiName="ListItemSecondaryAction";const an=Co,nn=["className"],rn=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],sn=(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.alignItems==="flex-start"&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.button&&t.button,a.hasSecondaryAction&&t.secondaryAction]},ln=e=>{const{alignItems:t,button:a,classes:n,dense:s,disabled:u,disableGutters:r,disablePadding:c,divider:d,hasSecondaryAction:y,selected:h}=e;return de({root:["root",s&&"dense",!r&&"gutters",!c&&"padding",d&&"divider",u&&"disabled",a&&"button",t==="flex-start"&&"alignItemsFlexStart",y&&"secondaryAction",h&&"selected"],container:["container"]},Ga,n)},cn=M("div",{name:"MuiListItem",slot:"Root",overridesResolver:sn})(({theme:e,ownerState:t})=>x({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&x({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Je.root}`]:{paddingRight:48}},{[`&.${Xe.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xe.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:he(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Xe.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:he(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Xe.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xe.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:he(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:he(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),dn=M("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),un=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:u=!1,button:r=!1,children:c,className:d,component:y,components:h={},componentsProps:C={},ContainerComponent:I="li",ContainerProps:{className:$}={},dense:L=!1,disabled:b=!1,disableGutters:A=!1,disablePadding:O=!1,divider:P=!1,focusVisibleClassName:g,secondaryAction:m,selected:v=!1,slotProps:w={},slots:j={}}=n,F=te(n.ContainerProps,nn),W=te(n,rn),oe=p.useContext(De),N=p.useMemo(()=>({dense:L||oe.dense||!1,alignItems:s,disableGutters:A}),[s,oe.dense,L,A]),je=p.useRef(null);uo(()=>{u&&je.current&&je.current.focus()},[u]);const ue=p.Children.toArray(c),Ne=ue.length&&po(ue[ue.length-1],["ListItemSecondaryAction"]),ae=x({},n,{alignItems:s,autoFocus:u,button:r,dense:N.dense,disabled:b,disableGutters:A,disablePadding:O,divider:P,hasSecondaryAction:Ne,selected:v}),Ee=ln(ae),Ge=Vt(je,a),Ue=j.root||h.Root||cn,Re=w.root||C.root||{},K=x({className:V(Ee.root,Re.className,d),disabled:b},W);let me=y||"li";return r&&(K.component=y||"div",K.focusVisibleClassName=V(Xe.focusVisible,g),me=Dt),Ne?(me=!K.component&&!y?"div":me,I==="li"&&(me==="li"?me="div":K.component==="li"&&(K.component="div")),o.jsx(De.Provider,{value:N,children:o.jsxs(dn,x({as:I,className:V(Ee.container,$),ref:Ge,ownerState:ae},F,{children:[o.jsx(Ue,x({},Re,!Ht(Ue)&&{as:me,ownerState:x({},ae,Re.ownerState)},K,{children:ue})),ue.pop()]}))})):o.jsx(De.Provider,{value:N,children:o.jsxs(Ue,x({},Re,{as:me,ref:Ge},!Ht(Ue)&&{ownerState:x({},ae,Re.ownerState)},K,{children:[ue,m&&o.jsx(an,{children:m})]}))})}),pn=un,fn=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],hn=e=>{const{classes:t,inset:a,primary:n,secondary:s,dense:u}=e;return de({root:["root",a&&"inset",u&&"dense",n&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},ea,t)},xn=M("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[{[`& .${Yt.primary}`]:t.primary},{[`& .${Yt.secondary}`]:t.secondary},t.root,a.inset&&t.inset,a.primary&&a.secondary&&t.multiline,a.dense&&t.dense]}})(({ownerState:e})=>x({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),gn=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiListItemText"}),{children:s,className:u,disableTypography:r=!1,inset:c=!1,primary:d,primaryTypographyProps:y,secondary:h,secondaryTypographyProps:C}=n,I=te(n,fn),{dense:$}=p.useContext(De);let L=d??s,b=h;const A=x({},n,{disableTypography:r,inset:c,primary:!!L,secondary:!!b,dense:$}),O=hn(A);return L!=null&&L.type!==ve&&!r&&(L=o.jsx(ve,x({variant:$?"body2":"body1",className:O.primary,component:y!=null&&y.variant?void 0:"span",display:"block"},y,{children:L}))),b!=null&&b.type!==ve&&!r&&(b=o.jsx(ve,x({variant:"body2",className:O.secondary,color:"text.secondary",display:"block"},C,{children:b}))),o.jsxs(xn,x({className:V(O.root,u),ownerState:A,ref:a},I,{children:[L,b]}))}),mn=gn,bn=p.createContext({}),st=bn,vn=p.createContext({}),yt=vn;function yn(e){return xe("MuiStep",e)}ge("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Cn=["active","children","className","component","completed","disabled","expanded","index","last"],Sn=e=>{const{classes:t,orientation:a,alternativeLabel:n,completed:s}=e;return de({root:["root",a,n&&"alternativeLabel",s&&"completed"]},yn,t)},jn=M("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.orientation],a.alternativeLabel&&t.alternativeLabel,a.completed&&t.completed]}})(({ownerState:e})=>x({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),In=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiStep"}),{active:s,children:u,className:r,component:c="div",completed:d,disabled:y,expanded:h=!1,index:C,last:I}=n,$=te(n,Cn),{activeStep:L,connector:b,alternativeLabel:A,orientation:O,nonLinear:P}=p.useContext(st);let[g=!1,m=!1,v=!1]=[s,d,y];L===C?g=s!==void 0?s:!0:!P&&L>C?m=d!==void 0?d:!0:!P&&L<C&&(v=y!==void 0?y:!0);const w=p.useMemo(()=>({index:C,last:I,expanded:h,icon:C+1,active:g,completed:m,disabled:v}),[C,I,h,g,m,v]),j=x({},n,{active:g,orientation:O,alternativeLabel:A,completed:m,disabled:v,expanded:h,component:c}),F=Sn(j),W=o.jsxs(jn,x({as:c,className:V(F.root,r),ref:a,ownerState:j},$,{children:[b&&A&&C!==0?b:null,u]}));return o.jsx(yt.Provider,{value:w,children:b&&!A&&C!==0?o.jsxs(p.Fragment,{children:[b,W]}):W})}),mt=In,$n=fo(o.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),kn=fo(o.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Ln(e){return xe("MuiStepIcon",e)}const Pn=ge("MuiStepIcon",["root","active","completed","error","text"]),Mt=Pn;var ao;const wn=["active","className","completed","error","icon"],Rn=e=>{const{classes:t,active:a,completed:n,error:s}=e;return de({root:["root",a&&"active",n&&"completed",s&&"error"],text:["text"]},Ln,t)},Nt=M(Ro,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${Mt.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${Mt.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${Mt.error}`]:{color:(e.vars||e).palette.error.main}})),Tn=M("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),On=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiStepIcon"}),{active:s=!1,className:u,completed:r=!1,error:c=!1,icon:d}=n,y=te(n,wn),h=x({},n,{active:s,completed:r,error:c}),C=Rn(h);if(typeof d=="number"||typeof d=="string"){const I=V(u,C.root);return c?o.jsx(Nt,x({as:kn,className:I,ref:a,ownerState:h},y)):r?o.jsx(Nt,x({as:$n,className:I,ref:a,ownerState:h},y)):o.jsxs(Nt,x({className:I,ref:a,ownerState:h},y,{children:[ao||(ao=o.jsx("circle",{cx:"12",cy:"12",r:"12"})),o.jsx(Tn,{className:C.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:h,children:d})]}))}return d}),An=On;function Bn(e){return xe("MuiStepLabel",e)}const Mn=ge("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Be=Mn,Nn=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],En=e=>{const{classes:t,orientation:a,active:n,completed:s,error:u,disabled:r,alternativeLabel:c}=e;return de({root:["root",a,u&&"error",r&&"disabled",c&&"alternativeLabel"],label:["label",n&&"active",s&&"completed",u&&"error",r&&"disabled",c&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",s&&"completed",u&&"error",r&&"disabled",c&&"alternativeLabel"],labelContainer:["labelContainer",c&&"alternativeLabel"]},Bn,t)},Un=M("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.orientation]]}})(({ownerState:e})=>x({display:"flex",alignItems:"center",[`&.${Be.alternativeLabel}`]:{flexDirection:"column"},[`&.${Be.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),zn=M("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>x({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${Be.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Be.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Be.alternativeLabel}`]:{marginTop:16},[`&.${Be.error}`]:{color:(e.vars||e).palette.error.main}})),Fn=M("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${Be.alternativeLabel}`]:{paddingRight:0}})),Vn=M("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${Be.alternativeLabel}`]:{textAlign:"center"}})),So=p.forwardRef(function(t,a){var n;const s=ce({props:t,name:"MuiStepLabel"}),{children:u,className:r,componentsProps:c={},error:d=!1,icon:y,optional:h,slotProps:C={},StepIconComponent:I,StepIconProps:$}=s,L=te(s,Nn),{alternativeLabel:b,orientation:A}=p.useContext(st),{active:O,disabled:P,completed:g,icon:m}=p.useContext(yt),v=y||m;let w=I;v&&!w&&(w=An);const j=x({},s,{active:O,alternativeLabel:b,completed:g,disabled:P,error:d,orientation:A}),F=En(j),W=(n=C.label)!=null?n:c.label;return o.jsxs(Un,x({className:V(F.root,r),ref:a,ownerState:j},L,{children:[v||w?o.jsx(Fn,{className:F.iconContainer,ownerState:j,children:o.jsx(w,x({completed:g,active:O,error:d,icon:v},$))}):null,o.jsxs(Vn,{className:F.labelContainer,ownerState:j,children:[u?o.jsx(zn,x({ownerState:j},W,{className:V(F.label,W==null?void 0:W.className),children:u})):null,h]})]}))});So.muiName="StepLabel";const Dn=So;function Gn(e){return xe("MuiStepButton",e)}const Wn=ge("MuiStepButton",["root","horizontal","vertical","touchRipple"]),no=Wn,_n=["children","className","icon","optional"],Hn=e=>{const{classes:t,orientation:a}=e;return de({root:["root",a],touchRipple:["touchRipple"]},Gn,t)},qn=M(Dt,{name:"MuiStepButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[{[`& .${no.touchRipple}`]:t.touchRipple},t.root,t[a.orientation]]}})(({ownerState:e})=>x({width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},e.orientation==="vertical"&&{justifyContent:"flex-start",padding:"8px",margin:"-8px"},{[`& .${no.touchRipple}`]:{color:"rgba(0, 0, 0, 0.3)"}})),Kn=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiStepButton"}),{children:s,className:u,icon:r,optional:c}=n,d=te(n,_n),{disabled:y,active:h}=p.useContext(yt),{orientation:C}=p.useContext(st),I=x({},n,{orientation:C}),$=Hn(I),L={icon:r,optional:c},b=po(s,["StepLabel"])?p.cloneElement(s,L):o.jsx(Dn,x({},L,{children:s}));return o.jsx(qn,x({focusRipple:!0,disabled:y,TouchRippleProps:{className:$.touchRipple},className:V($.root,u),ref:a,ownerState:I,"aria-current":h?"step":void 0},d,{children:b}))}),bt=Kn;function Yn(e){return xe("MuiStepConnector",e)}ge("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Xn=["className"],Jn=e=>{const{classes:t,orientation:a,alternativeLabel:n,active:s,completed:u,disabled:r}=e,c={root:["root",a,n&&"alternativeLabel",s&&"active",u&&"completed",r&&"disabled"],line:["line",`line${q(a)}`]};return de(c,Yn,t)},Zn=M("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.orientation],a.alternativeLabel&&t.alternativeLabel,a.completed&&t.completed]}})(({ownerState:e})=>x({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),Qn=M("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.line,t[`line${q(a.orientation)}`]]}})(({ownerState:e,theme:t})=>{const a=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return x({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:a},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),er=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiStepConnector"}),{className:s}=n,u=te(n,Xn),{alternativeLabel:r,orientation:c="horizontal"}=p.useContext(st),{active:d,disabled:y,completed:h}=p.useContext(yt),C=x({},n,{alternativeLabel:r,orientation:c,active:d,completed:h,disabled:y}),I=Jn(C);return o.jsx(Zn,x({className:V(I.root,s),ref:a,ownerState:C},u,{children:o.jsx(Qn,{className:I.line,ownerState:C})}))}),tr=er;function or(e){return xe("MuiStepper",e)}ge("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const ar=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],nr=e=>{const{orientation:t,alternativeLabel:a,classes:n}=e;return de({root:["root",t,a&&"alternativeLabel"]},or,n)},rr=M("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.orientation],a.alternativeLabel&&t.alternativeLabel]}})(({ownerState:e})=>x({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),sr=o.jsx(tr,{}),ir=p.forwardRef(function(t,a){const n=ce({props:t,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:u=!1,children:r,className:c,component:d="div",connector:y=sr,nonLinear:h=!1,orientation:C="horizontal"}=n,I=te(n,ar),$=x({},n,{alternativeLabel:u,orientation:C,component:d}),L=nr($),b=p.Children.toArray(r).filter(Boolean),A=b.map((P,g)=>p.cloneElement(P,x({index:g,last:g+1===b.length},P.props))),O=p.useMemo(()=>({activeStep:s,alternativeLabel:u,connector:y,nonLinear:h,orientation:C}),[s,u,y,h,C]);return o.jsx(st.Provider,{value:O,children:o.jsx(rr,x({as:d,ownerState:$,className:V(L.root,c),ref:a},I,{children:A}))})}),lr=ir,vt=we("span",{target:"e1juu05a0"})({name:"1n7r223",styles:"font-family:monospace"}),zt=(e,t,a="Lookup")=>({InputProps:{endAdornment:o.jsx(ho,{title:t?"Open search results for the song":"Artist or title of the song is unknown",children:o.jsx("span",{children:o.jsx(B,{sx:{mr:-1},endIcon:o.jsx(To,{}),color:"secondary",variant:"text",onClick:e,disabled:!t,children:a})})})}});function cr(e){const t=()=>{window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent((e==null?void 0:e.songArtist)+" "+(e==null?void 0:e.songTitle))}`,"_blank")},a=!!e.songTitle&&!!e.songArtist,n=xo(e.data.video);return o.jsxs(U,{sx:{display:"flex",flexWrap:"wrap"},"data-test":"author-and-vid",children:[o.jsx(J,{"data-test":"author-name",sx:{mt:2},value:e.data.author,onChange:s=>e.onChange({...e.data,author:s.target.value}),label:"Author name (optional)",fullWidth:!0,size:"small",helperText:"Nickname of the person that created the .txt file."}),o.jsx(J,{"data-test":"author-url",sx:{mt:2},value:e.data.authorUrl,onChange:s=>e.onChange({...e.data,authorUrl:s.target.value}),label:"Author URL (optional)",helperText:"Link to authors page/profile.",fullWidth:!0,size:"small"}),o.jsx(U,{sx:{display:"flex",flexDirection:"row",mt:2,alignItems:"center",width:"100%"},children:o.jsx(J,{"data-test":"video-url",required:!0,value:e.data.video,onChange:s=>e.onChange({...e.data,video:s.target.value}),label:"YouTube Video URL",placeholder:"https://www.youtube.com/watch?v=",fullWidth:!0,size:"small",helperText:"Link to YouTube video, eg https://www.youtube.com/watch?v=xxxxxxxxx. Click the 'Lookup' button to look for it on YouTube",name:"videoUrl",...zt(t,a)})}),n&&o.jsx(U,{children:o.jsx(go,{videoId:n})})]})}const dr={polish:{Ãˆ:"Ã©",Ã­:"'","Â¥":"'","Â¯":"Å»","Â¹":"Ä…",Ï€:"Ä…",Ãª:"Ä™",Ã:"Ä™",Å’:"Åš",Ã¥:"Åš",Å“:"Å›",Ãº:"Å›",Ã¦:"Ä‡",ÃŠ:"Ä‡","Â¿":"Å¼",Ã¸:"Å¼",Ã˜:"Å»",Ã±:"Å„",Ã’:"Å„","Â³":"Å‚","â‰¥":"Å‚","Â£":"Å",Ã›:"Ã³",Ã¼:"Åº",Å¸:"Åº"},spanish:{Ã¸:"Â¿",Ãˆ:"Ã©",ÃŒ:"Ã­",Ã’:"Ã±",Å„:"Ã±","Â·":"Ã¡",Ã›:"Ã³","Â°":"!","Ë™":"Ãº",Å›:"Ãº"}};function ur(e,t){const a=dr[t];if(a===void 0)return e;let n=e;for(const[s,u]of Object.entries(a))n=n.replaceAll(s,u);return n}function pr(e){const t=e.split(`
`),a=["#TITLE","#ARTIST","#BPM"];let n=!0;return a.forEach(s=>{t.some(u=>u.startsWith(s))||(n=!1)}),t.some(s=>s.startsWith(":"))||(n=!1),n}async function fr(e){const t=new URL(e);if(t.host==="usdb.animux.de")return xr(e,t);if(t.host==="ultrastar-es.org")return hr(e)}async function hr(e){var d,y,h,C;const a=await(await fetch(`https://backend.allkaraoke.party/proxy?url=${encodeURIComponent(e)}`)).text(),n=new DOMParser().parseFromString(a,"text/html"),u=`https://ultrastar-es.org/pl/canciones/descargar/txt/${(d=n.querySelector("ul[data-id]"))==null?void 0:d.getAttribute("data-id")}`;window.location.href=u;const r=(y=n.querySelector("#listado > ul > li > dl > dd:nth-child(6) > a"))==null?void 0:y.getAttribute("href"),c=(h=n.querySelector("#listado > ul > li"))==null?void 0:h.getAttribute("data-id");return{authorUrl:r?"https://ultrastar-es.org"+r:"",author:((C=n.querySelector("#listado > ul > li > dl > dd:nth-child(6)"))==null?void 0:C.textContent)??"",video:c?"https://www.youtube.com/watch?v="+c:""}}async function xr(e,t){var y,h,C,I,$;const n=await(await fetch(`https://backend.allkaraoke.party/proxy?url=${encodeURIComponent(e)}`)).text(),s=new DOMParser().parseFromString(n,"text/html"),u=(y=s.querySelector('a[href^="?link=profil&id="]'))==null?void 0:y.textContent,r=(C=(h=s.querySelector('a[href^="?link=profil&id="]'))==null?void 0:h.getAttribute)==null?void 0:C.call(h,"href"),c=(I=s.querySelector("#tablebg > tbody > tr:nth-child(3) > td > table:nth-child(2) > tbody > tr.list_head > td:nth-child(1)"))==null?void 0:I.textContent,d=($=s.querySelector("#tablebg > tbody > tr:nth-child(3) > td > table:nth-child(2) > tbody > tr.list_head > td:nth-child(2)"))==null?void 0:$.textContent;return window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(c+" "+d)}`,"_blank"),window.open(`http://usdb.animux.de/index.php?link=gettxt&id=${t.searchParams.get("id")}`,"_blank"),{authorUrl:r?"http://usdb.animux.de/index.php"+r:"",author:u??"",video:""}}function gr(e){var u,r;const t=async c=>{if(e.onChange({...e.data,sourceUrl:c.target.value}),e.shouldAutoImport){const d=await fr(c.target.value);d&&e.onAutoImport(d)}},a=c=>{e.onChange({...e.data,txtInput:ur(e.data.txtInput,c)})},s=!p.useMemo(()=>pr(e.data.txtInput),[e.data.txtInput])&&e.data.txtInput.length>0;return o.jsxs(U,{sx:{display:"flex",flexWrap:"wrap"},"data-test":"basic-data",children:[e.isTxtRequired&&o.jsxs("div",{children:[o.jsx("h4",{children:"Where to find songs?"}),o.jsxs("p",{children:["Any UltraStar compatible .txt file will do. You can find many already made songs on"," ",o.jsx("a",{href:"https://usdb.animux.de/",target:"_blank",rel:"noreferrer",children:"usdb.animux.de"})," or ",o.jsx("a",{href:"https://ultrastar-es.org/en",target:"_blank",rel:"noreferrer",children:"ultrastar-es.org"}),".",o.jsx("br",{}),o.jsx("br",{})]}),o.jsx("p",{children:"You don't need audio/video files, you'll be able to search for appropriate YouTube video and synchronise the lyrics to it in subsequent steps."})]}),o.jsx(J,{sx:{mt:2},value:e.data.sourceUrl,onChange:t,label:"Source URL (optional)",fullWidth:!0,size:"small","data-test":"source-url",helperText:"The link to the page from which the .TXT file was downloaded."}),e.isTxtRequired?o.jsxs(o.Fragment,{children:[o.jsx(J,{error:s,helperText:s?"This doesn't look like a valid UltraStar .TXT format":"",required:!0,sx:{mt:2},fullWidth:!0,size:"small",multiline:!0,label:"Song's UltraStar .TXT file contents",onChange:c=>e.onChange({...e.data,txtInput:c.target.value}),value:e.data.txtInput,maxRows:15,minRows:15,InputProps:{inputProps:{"data-test":"input-txt",sx:{fontFamily:"monospace"}}}}),o.jsxs(U,{sx:{display:"flex",gap:1,mt:1},children:[o.jsx(B,{onClick:()=>a("polish"),children:"Fix ðŸ‡µðŸ‡± Polish accents"}),o.jsx(B,{onClick:()=>a("spanish"),children:"Fix ðŸ‡ªðŸ‡¸ Spanish accents"})]})]}):o.jsx(U,{sx:{display:"flex",width:"100%",height:500,overflow:"auto"},children:(r=(u=e.finalSong)==null?void 0:u.tracks)==null?void 0:r.map((c,d)=>o.jsxs(U,{sx:{flex:1},children:[o.jsx("h4",{children:c.name??`Track #${d+1}`}),c.sections.filter(nt).map(y=>o.jsx("p",{children:y.notes.map(h=>h.lyrics).join("")},y.start))]},d))})]})}const jo=e=>{const t=Math.floor(e/1e3/60),a=Math.floor(e/1e3)-t*60,n=Math.floor(e%1e3);return o.jsxs(vt,{children:[String(t).padStart(2,"0"),":",String(a).padStart(2,"0"),".",String(n).padStart(3,"0")]})},mr=e=>"playVideo"in e?{play:()=>e.playVideo(),pause:()=>e.pauseVideo(),seekTo:t=>e.seekTo(t,!0),setPlaybackSpeed:t=>e.setPlaybackRate(t)}:e,rt=(e,t)=>o.jsx(ho,{title:"Click to play the moment just before this time",placement:"top",arrow:!0,children:o.jsx(B,{sx:{py:.15,mb:.5},variant:"contained",size:"small",disabled:!t,onClick:t?()=>{mo.resetPlayerNotes(),mr(t).seekTo((e??0)/1e3-.7)}:void 0,children:jo(e??0)})}),br=jo,ro=10;function vr({data:e,onChange:t,videoId:a,videoGap:n=0}){var P;const s=p.useRef(null),u=p.useRef(null),[r,c]=p.useState(!1);p.useEffect(()=>{(async()=>{var g,m,v,w;e.volume===0?(t({...e,volume:.5}),await((m=(g=s.current)==null?void 0:g.getInternalPlayer())==null?void 0:m.setVolume(50))):await((w=(v=s.current)==null?void 0:v.getInternalPlayer())==null?void 0:w.setVolume(e.volume*100)),c(!0)})()},[]),p.useEffect(()=>{if(!r)return;const g=setInterval(async()=>{var v,w;const m=await((w=(v=s.current)==null?void 0:v.getInternalPlayer())==null?void 0:w.getVolume());m!==void 0&&m!==e.volume*100&&t({...e,volume:m/100})},500);return()=>{clearInterval(g)}},[r,e,t]);const[d,y]=p.useState(!1),[h,C]=p.useState(!1),I=async(g,m)=>{var v,w;await((w=(v=s.current)==null?void 0:v.getInternalPlayer())==null?void 0:w.setVolume(+m*100)),t({...e,volume:+m})},$=e.previewStart??n+60,L=e.previewEnd??$+30,[b,A]=p.useState(null);p.useEffect(()=>{var g,m;(m=(g=s.current)==null?void 0:g.getInternalPlayer())==null||m.getDuration().then(A)},[]);const O=(P=s.current)==null?void 0:P.getInternalPlayer();return o.jsxs(U,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[o.jsxs("h3",{children:["Set song preview (start: ",rt($*1e3,O),", end:"," ",rt(L*1e3,O),")"]}),o.jsx(U,{sx:{display:"flex",gap:5},children:o.jsx(Xt,{"data-test":"song-preview",disabled:b===null,step:1,value:[$,L],max:(b??500)-ro,onChange:(g,m)=>{const[v,w]=m;w-v>ro&&t({...e,previewStart:v,previewEnd:w})}})}),o.jsx("h3",{children:"Adjust volume"}),o.jsxs(U,{sx:{display:"flex",gap:5},children:[o.jsxs(U,{children:[o.jsx("h4",{children:"Song"}),o.jsx(go,{videoId:a,ref:s,onPlay:()=>{var g;y(!0),h&&((g=u.current)==null||g.pause(),setTimeout(()=>C(!0),200))},onPause:()=>{C(!1)}})]}),o.jsxs(U,{children:[o.jsx("h4",{children:"Reference sound"}),o.jsx("p",{children:"Use the slider below to make the video volume roughly the same as this music."}),o.jsx("br",{}),o.jsx("audio",{ref:u,controls:!0,src:Oo,loop:!0,onPlay:g=>{var m,v;g.currentTarget.volume=.5,C(!0),d&&((v=(m=s.current)==null?void 0:m.getInternalPlayer())==null||v.pauseVideo(),setTimeout(()=>y(!0),200))},onPause:()=>{var g,m;C(!1),d&&((m=(g=s.current)==null?void 0:g.getInternalPlayer())==null||m.playVideo())}})]})]}),o.jsxs("h4",{children:["Final Song Volume (",e.volume*100,")"]}),o.jsx(U,{children:o.jsx(Xt,{"data-test":"volume",min:.1,max:1,step:.01,"aria-label":"Volume",value:e.volume,onChange:I})})]})}function yr(e){const t=bo(!0),a=p.useMemo(()=>[...new Set(t.data.map(({language:r})=>Array.isArray(r)?r:[r]).flat().filter(Boolean))],[t.data]),n=p.useMemo(()=>[...new Set(t.data.map(r=>r.genre).filter(Boolean).map(r=>r.toLowerCase().replace(/\b\w/g,c=>c.toUpperCase().trim())))],[t.data]),s=r=>{window.open(`https://www.google.com/search?q=${encodeURIComponent(`${e.songArtist} ${e.songTitle} ${r}`)}`,"_blank")},u=!!e.songTitle&&!!e.songArtist;return o.jsxs(H,{container:!0,spacing:2,sx:{mt:6},children:[o.jsx(H,{item:!0,xs:6,children:o.jsx(J,{value:e.data.artist,onChange:r=>e.onChange({...e.data,artist:r.target.value}),label:"Song artist",size:"small","data-test":"song-artist",required:!0,fullWidth:!0})}),o.jsx(H,{item:!0,xs:6,children:o.jsx(J,{value:e.data.title,onChange:r=>e.onChange({...e.data,title:r.target.value}),label:"Song title",fullWidth:!0,size:"small",required:!0,"data-test":"song-title"})}),o.jsx(H,{item:!0,xs:6,children:o.jsx(oo,{onKeyDown:r=>{r.key==="Enter"&&r.preventDefault()},freeSolo:!0,disableClearable:!0,options:n,value:e.data.genre??"",onChange:(r,c)=>e.onChange({...e.data,genre:c}),renderInput:r=>o.jsx(J,{...r,onBlur:c=>e.onChange({...e.data,genre:c.target.value}),label:"Song genre (optional)",size:"small","data-test":"song-genre",fullWidth:!0})})}),o.jsx(H,{item:!0,xs:6,children:o.jsx(oo,{onKeyDown:r=>{r.key==="Enter"&&r.preventDefault()},multiple:!0,freeSolo:!0,disableClearable:!0,options:a,value:typeof e.data.language=="string"?[e.data.language]:e.data.language,onChange:(r,c)=>{e.onChange({...e.data,language:c?c.filter(Boolean):e.data.language})},renderInput:r=>{var c;return o.jsx(J,{...r,label:"Song language",fullWidth:!0,size:"small",required:!((c=e.data.language)!=null&&c.length),"data-test":"song-language"})}})}),o.jsx(H,{item:!0,xs:6,children:o.jsx(J,{"data-test":"release-year",value:e.data.year,onChange:r=>e.onChange({...e.data,year:r.target.value}),label:"Release year",helperText:"The year the song was released. Click the 'Lookup' button to look for it on Google",fullWidth:!0,size:"small",required:!0,...zt(()=>s("release year"),u)})}),o.jsx(H,{item:!0,xs:6,children:o.jsx(J,{"data-test":"song-bpm",value:e.data.realBpm,onChange:r=>e.onChange({...e.data,realBpm:r.target.value}),label:"Song (real) BPM",helperText:"The actual tempo of the song. Click the 'Lookup' button to look for it on Google",fullWidth:!0,type:"number",size:"small",required:!0,...zt(()=>s("tempo"),u)})}),o.jsx(H,{item:!0,xs:12}),o.jsx(H,{item:!0,xs:12,children:o.jsx(vr,{...e})})]})}function Cr({player:e,currentTime:t,effectsEnabled:a,onEffectsToggle:n}){const s=c=>e.seekTo((t+c)/1e3),[u,r]=p.useState(1);return o.jsxs(o.Fragment,{children:[o.jsxs(U,{sx:{mb:2},children:[o.jsxs(ve,{variant:"h6","data-test":"current-time",children:["Current time: ",br(t)," (",o.jsx(vt,{children:Math.round(t)})," ms)"]}),o.jsxs(U,{sx:{display:"flex",gap:1},children:[o.jsxs(Me,{variant:"contained",sx:{display:"flex",mt:1,flex:1},children:[o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(-1e4),"data-test":"seek-10s",children:"-10"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(-5e3),"data-test":"seek-5s",children:"-5"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(-1e3),"data-test":"seek-1s",children:"-1"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(-500),"data-test":"seek-0.5s",children:"-0.5"})]}),o.jsx(ta,{}),o.jsxs(Me,{variant:"contained",sx:{display:"flex",mt:1,flex:1},children:[o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(500),"data-test":"seek+0.5s",children:"+0.5"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(1e3),"data-test":"seek+1s",children:"+1"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(5e3),"data-test":"seek+5s",children:"+5"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>s(1e4),"data-test":"seek+10s",children:"+10"})]})]})]}),o.jsxs(U,{sx:{mb:2},children:[o.jsxs(ve,{variant:"h6",children:["Playback speed: ",o.jsxs(vt,{"data-test":"current-speed",children:[u*100,"%"]})]}),o.jsx(Me,{variant:"contained",sx:{display:"flex",mt:1},children:[.25,.5,.75,1,1.25,1.5,2].map(c=>o.jsxs(B,{"data-test":`speed-${c}`,sx:{flex:1},onClick:()=>{r(c),e.setPlaybackSpeed(c)},disabled:u===c,children:[c*100,"%"]},c))})]})]})}function Sr(e,t){const a=Math.floor(t);return p.useMemo(()=>e.findIndex((n,s)=>a<0?!0:a<n.start?!1:s===e.length-1||e[s+1].start>a),[a,e])}function jr({song:e,currentTime:t,beatLength:a,player:n,onRecordChange:s,onTrackNameChange:u}){var P;const[r,c]=p.useState(0),[d,y]=p.useState(-1),[h,C]=p.useState([]),I=Ao(t,a,e.gap),$=e.tracks[r].sections.filter(nt),L=Sr($,I),b=g=>{y(g),mo.resetPlayerNotes(),n.seekTo(($[g].start*a+e.gap)/1e3)},A=()=>{C(g=>[...g,{type:"delete",section:d,track:r}]),d===$.length-1&&y(g=>g-1)},O=g=>{C(m=>{const v=m.at(-1);if(v&&v.type==="shift"&&v.track===r&&v.section===d){const w=[...m];return w.at(-1).shift=g,w}return[...m,{type:"shift",section:d,track:r,shift:g}]})};return p.useEffect(()=>{s(h)},[s,h]),o.jsxs(kr,{children:[o.jsxs(Jt,{direction:"row",children:[o.jsxs(ve,{variant:"h6",mb:0,sx:{flex:1},children:["Edit verses",e.tracks.length>1&&o.jsx(Me,{variant:"contained",sx:{ml:2},size:"small",children:e.tracks.map((g,m)=>o.jsxs(B,{onClick:()=>c(m),disabled:r===m,"data-test":`track-${m+1}`,children:["Track ",m+1]},m))})]}),o.jsx(J,{placeholder:"Set track name",sx:{flex:1},size:"small",value:((P=e.tracks[r])==null?void 0:P.name)??"",onChange:g=>u(r,g.target.value),"data-test":"track-name"})]}),o.jsxs(Jt,{direction:"row",spacing:2,sx:{height:"400px"},children:[o.jsx(oa,{sx:{overflowY:"auto"},children:$.map((g,m)=>o.jsx(pn,{disablePadding:!0,"data-test":`section-${m}`,children:o.jsx(Za,{onClick:()=>b(m),selected:d===m,children:o.jsx(mn,{primaryTypographyProps:{fontWeight:m===L?"bold":"normal"},primary:nt(g)?g.notes.map(v=>v.lyrics).join(""):"[pause]"})})},g.start))}),o.jsx(Lr,{children:d>-1&&o.jsxs(o.Fragment,{children:[d===0&&o.jsx("h3",{"data-test":"use-gap-info",children:"Use gap shift to change when this section starts"}),d>0&&o.jsx(o.Fragment,{children:o.jsx(J,{"data-test":"change-start-beat",size:"small",type:"number",onChange:g=>O(+g.target.value),value:Et([$[d]]),label:"Change start beat",InputProps:{inputProps:{step:1}},fullWidth:!0,sx:{mb:2},helperText:o.jsxs(o.Fragment,{children:["Timestamp:"," ",rt(Et([$[d]])*a+e.gap,n)]})})}),o.jsx(B,{variant:"contained",color:"error",onClick:A,fullWidth:!0,"data-test":"delete-section",children:"Delete section"})]})}),o.jsxs(Ir,{children:[o.jsx(U,{sx:{overflowY:"auto",maxHeight:"34rem"},"data-test":"change-list",children:h.map((g,m)=>{let v="",w=so;return g.type==="delete"?(w=so,v="Deleted"):g.type==="shift"&&(w=$r,v=`Start -> ${g.shift}`),o.jsx(w,{children:o.jsxs("strong",{children:["Track: ",g.track+1,", Section: ",g.section+1,", ",v]})},m)})}),h.length>0&&o.jsx(B,{"data-test":"undo-change",variant:"contained",color:"warning",onClick:()=>C(g=>g.filter((m,v)=>v!==g.length-1)),fullWidth:!0,children:"Undo last change"})]})]})]})}const Ir=we("div",{target:"edf68o88"})({name:"82a6rk",styles:"flex:1"}),Io=we("div",{target:"edf68o87"})({name:"m1a2da",styles:"padding:0.5rem"}),so=we(Io,{target:"edf68o86"})({name:"hwfcu5",styles:"color:red"}),$r=we(Io,{target:"edf68o85"})({name:"zzs6wi",styles:"color:#0059ff"}),kr=we("div",{target:"edf68o83"})(""),Lr=we("div",{target:"edf68o82"})({name:"82a6rk",styles:"flex:1"});function Pr({song:e,player:t,beatLength:a}){return o.jsx(o.Fragment,{})}function wr(e,t){var r;const n=(r=t.tracks[0].sections.filter(nt).at(-1))==null?void 0:r.notes.at(-1),s=e-t.gap,u=n.start+n.length;return Number((6e4/(s/u*t.bar)).toFixed(2))}function Rr({current:e,onChange:t,player:a,song:n}){const s=Math.max(...n.tracks.map(d=>Bo(d.sections))),u=Mo(s,n)+n.gap,[r,c]=p.useState(Math.round(u));return o.jsxs(U,{sx:{display:"flex",gap:2,mb:2},children:[o.jsx(J,{"data-test":"desired-end",size:"small",type:"number",value:r,onChange:d=>c(+d.target.value),label:"Desired last note end time (in milliseconds)",sx:{flex:1},helperText:r?o.jsxs(o.Fragment,{children:["Est. proper Tempo (BPM): ",o.jsx(vt,{"data-test":"desired-bpm",children:wr(r,n)})]}):" "}),o.jsx(J,{"data-test":"change-bpm",size:"small",type:"number",value:e,onChange:d=>t(+d.target.value),label:"Tempo (BPM) of the lyrics",sx:{flex:.5},helperText:" ",InputProps:{inputProps:{step:"0.1"}}})]})}function Tr({current:e,onChange:t,player:a,finalGap:n}){return o.jsxs(U,{sx:{flex:1},children:[o.jsxs(ve,{variant:"h6",children:["Gap shift (final: ",rt(n,a),")"]}),o.jsxs(U,{sx:{display:"flex",gap:1,mt:1},children:[o.jsxs(Me,{sx:{flex:1},children:[o.jsx(B,{sx:{flex:1,px:1},onClick:()=>t(e-1e3),"data-test":"shift-gap-1s",children:"-1000"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>t(e-500),"data-test":"shift-gap-0.5s",children:"-500"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>t(e-50),"data-test":"shift-gap-0.05s",children:"-50"})]}),o.jsx(J,{sx:{py:0,flex:1},size:"small",type:"text",value:e,onChange:s=>t(+s.target.value),label:"Miliseconds","data-test":"shift-gap"}),o.jsxs(Me,{sx:{flex:1},children:[o.jsx(B,{sx:{flex:1,px:1},onClick:()=>t(e+50),"data-test":"shift-gap+0.05s",children:"+50"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>t(e+500),"data-test":"shift-gap+0.5s",children:"+500"}),o.jsx(B,{sx:{flex:1,px:1},onClick:()=>t(e+1e3),"data-test":"shift-gap+1s",children:"+1000"})]})]})]})}function Or({current:e,onChange:t,player:a,finalGap:n}){return o.jsxs(U,{sx:{flex:1},children:[o.jsxs(ve,{variant:"h6",children:["Video Gap shift (final: ",rt((n??0)*1e3,a),")"]}),o.jsxs(U,{sx:{display:"flex",gap:1,mt:1},children:[o.jsxs(Me,{sx:{flex:1},children:[o.jsx(B,{sx:{flex:1,px:1.25},onClick:()=>t(e-10),"data-test":"shift-video-gap-10s",children:"-10"}),o.jsx(B,{sx:{flex:1,px:1.25},onClick:()=>t(e-5),"data-test":"shift-video-gap-5s",children:"-5"}),o.jsx(B,{sx:{flex:1,px:1.25},onClick:()=>t(e-1),"data-test":"shift-video-gap-1s",children:"-1"})]}),o.jsx(J,{"data-test":"shift-video-gap",sx:{py:0,flex:1},size:"small",type:"text",value:e,onChange:s=>t(+s.target.value),label:"Seconds"}),o.jsxs(Me,{sx:{flex:1},children:[o.jsx(B,{sx:{flex:1,px:1.25},onClick:()=>t(e+1),"data-test":"shift-video-gap+1s",children:"+1"}),o.jsx(B,{sx:{flex:1,px:1.25},onClick:()=>t(e+5),"data-test":"shift-video-gap+5s",children:"+5"}),o.jsx(B,{sx:{flex:1,px:1.25},onClick:()=>t(e+10),"data-test":"shift-video-gap+10s",children:"+10"})]})]})]})}const Ar=(e,t)=>({...e,gap:e.gap+t}),Br=(e,t)=>({...e,videoGap:(e.videoGap??0)+t}),Mr=(e,t)=>({...e,bpm:t}),Nr=(e,t)=>({...e,tracks:e.tracks.map((a,n)=>{const s=t.filter(r=>r.track===n);let u=[...a.sections].filter(nt);return s.forEach(r=>{if(r.type==="delete")u=u.filter((c,d)=>d!==r.section);else if(r.type==="shift"){const c=r.shift-Et([u[r.section]]);u=u.map((d,y)=>y<r.section?d:{...d,notes:d.notes.map(h=>({...h,start:h.start+c}))})}}),{...a,sections:u}})}),Er=(e,t)=>({...e,tracks:e.tracks.map((a,n)=>({...a,name:t[n]??a.name}))}),Ft=800,io=Ft/16*9;function Ur({song:e,onUpdate:t,visible:a}){const n=p.useRef(null),[s,u]=p.useState(0),[r,c]=p.useState(0),[d,y]=p.useState(0),[h,C]=p.useState(e.bpm),[I,$]=p.useState(0),[L,b]=p.useState([]),[A,O]=p.useState(!1),[P,g]=p.useState(e.tracks.map(j=>j.name??void 0)),m=p.useMemo(()=>{let j=sa(e);return j=No(j),j=Eo(j),j=qt(j),j=Ar(j,r),j=Br(j,d),j=Mr(j,h),j=Nr(j,L),j=Er(j,P),j=qt(j),j=Uo(j),j},[r,d,e,h,L,P]);p.useEffect(()=>{t==null||t(m)},[t,m]);const v=p.useMemo(()=>({id:"test",mode:zo.DUEL,players:[{number:0,track:0},{number:1,track:e.tracks.length-1}],tolerance:6}),[e]);let w;return w=Fo(m),p.useEffect(()=>{var j;a||(j=n.current)==null||j.pause()},[a]),o.jsxs(H,{container:!0,spacing:2,sx:{display:a?void 0:"none"},children:[o.jsx(H,{item:!0,xs:8,"data-test":"player-container",children:o.jsx(U,{sx:{width:Ft,height:io},children:o.jsx(ia,{song:m,showControls:!0,autoplay:!1,width:Ft,height:io,ref:n,onCurrentTimeUpdate:u,players:v.players,effectsEnabled:A,singSetup:v,onSongEnd:()=>{}},I)})}),o.jsxs(H,{item:!0,xs:4,children:[o.jsx(ve,{variant:"h5",mb:2,children:"Playback controls"}),n.current&&o.jsx(Cr,{player:n.current,currentTime:s,effectsEnabled:A,onEffectsToggle:()=>O(j=>!j)}),!n.current&&o.jsx("h2",{children:"Start the song to see the manipulation form"})]}),n.current&&o.jsxs(o.Fragment,{children:[o.jsx(H,{item:!0,xs:8,children:o.jsxs(U,{sx:{display:"flex",gap:5,flex:1},children:[o.jsx(Or,{player:n.current,onChange:j=>{const F=j-d;y(j),c(W=>W+F*1e3)},current:d,finalGap:m.videoGap}),o.jsx(Tr,{player:n.current,onChange:c,current:r,finalGap:m.gap})]})}),o.jsxs(H,{item:!0,xs:4,children:[o.jsxs(Le,{children:["Use ",o.jsx("strong",{children:"Video shift gap"})," to crop the beginning of the video if it starts with an intro."]}),o.jsxs(Le,{children:["Use ",o.jsx("strong",{children:"Shift gap"})," to sync the start of the lyrics to the video. You can lower the"," ",o.jsx("strong",{children:"Playback speed"})," above to make sure you got it just right."]})]}),o.jsxs(H,{item:!0,xs:8,children:[o.jsx(ve,{variant:"h5",mb:2,children:"Advanced"}),o.jsx(Rr,{player:n.current,onChange:C,current:h,song:m},m.gap),o.jsx(Pr,{player:n.current,song:m,beatLength:w})]}),o.jsxs(H,{item:!0,xs:4,children:[o.jsx(Le,{children:"If the lyrics desynchronise over time, probably the tempo (BPM) of the lyrics is wrong."}),o.jsxs(Le,{children:["You can either use ",o.jsx("strong",{children:"Last note end time"})," - enter the millisecond when the last note should end (seek through the video for the moment as ",o.jsx("strong",{children:"Current time"})," panel show the exact millisecond) and a suggested BPM value will appear below."]}),o.jsxs(Le,{children:[o.jsx("strong",{children:"Tempo (BPM)"})," field allows to fine-tune the tempo."]})]}),o.jsx(H,{item:!0,xs:8,children:o.jsx(jr,{song:m,currentTime:s,beatLength:w,player:n.current,onRecordChange:b,onTrackNameChange:(j,F)=>g(W=>{const oe=[...W];return oe[j]=F===""?void 0:F,oe})})}),o.jsxs(H,{item:!0,xs:4,children:[o.jsxs(Le,{children:["If the lyrics there are more lyrics than in the video or there are longer/shorter interludes between verses, you can ",o.jsx("strong",{children:"Edit verses"}),"."]}),o.jsx(Le,{children:"Select a verse by clicking on it."}),o.jsxs(Le,{children:["You can either ",o.jsx("strong",{children:"Change its start beat"}),' (which will "move in time" the verse and all subsequent ones) or ',o.jsx("strong",{children:"Delete it"})," (it won't affect the timing of other verses)."]}),o.jsxs(Le,{children:[o.jsx("strong",{children:"List of changes"})," on the right allows you to see and undo the actions one by one."]})]})]})]})}const Le=we("p",{target:"enb6wj40"})({name:"1tcko1c",styles:"font-size:0.85rem;margin-bottom:1rem;line-height:1.25rem;strong{font-weight:bold;}"});function zr(e){var t,a,n;return o.jsx(U,{"data-test":"sync-lyrics",children:e.data&&e.data.video.length<15&&!!((n=(a=(t=e.data.tracks)==null?void 0:t[0])==null?void 0:a.sections)!=null&&n.length)&&o.jsx(Ur,{song:e.data,onUpdate:e.onChange,visible:e.visible})})}const Pe=["basic-data","author-and-video","sync","metadata"];function Wr({song:e}){const t=!!e,{data:a}=bo(!0);Vo(!1);const n=Do();Go(!1);const[s,u]=p.useState(0),[r,c]=p.useState({sourceUrl:(e==null?void 0:e.sourceUrl)??"",txtInput:""}),[d,y]=p.useState({author:(e==null?void 0:e.author)??"",authorUrl:(e==null?void 0:e.authorUrl)??"",video:e!=null&&e.video?`https://www.youtube.com/watch?v=${e.video}`:""}),[h,C]=p.useState({artist:(e==null?void 0:e.artist)??"",title:(e==null?void 0:e.title)??"",realBpm:e!=null&&e.realBpm?String(e.realBpm):"",year:(e==null?void 0:e.year)??"",language:(e==null?void 0:e.language)??"",volume:(e==null?void 0:e.volume)??0,previewStart:(e==null?void 0:e.previewStart)??void 0,previewEnd:(e==null?void 0:e.previewEnd)??void 0,genre:e==null?void 0:e.genre}),[I,$]=p.useState(e),L=p.useRef(""),b=p.useMemo(()=>{try{return t?{...e,video:xo(d.video)||e.video,author:d.author,authorUrl:d.authorUrl,sourceUrl:r.sourceUrl}:r.txtInput?Wo(r.txtInput,d.video,d.author,d.authorUrl,r.sourceUrl):void 0}catch(v){L.current=v.message,console.error(v)}},[r.txtInput,d.video,d.author,d.authorUrl,r.sourceUrl,e,t]),A=p.useMemo(()=>!t&&b&&(a==null?void 0:a.find(v=>Ot.generateSongFile(v)===Ot.generateSongFile(b))),[a,b,t]);p.useEffect(()=>{b&&(b.video&&!d.video&&y(v=>({...v,video:`https://www.youtube.com/watch?v=${b.video}`})),b.author&&!d.author&&y(v=>({...v,author:v.author||(b==null?void 0:b.author)||"",authorUrl:v.authorUrl||(b==null?void 0:b.authorUrl)||""})),b.sourceUrl&&!r.sourceUrl&&c(v=>({...v,sourceUrl:b.sourceUrl})),["year","language","realBpm","genre","artist","title","volume","previewStart","previewEnd"].forEach(v=>{b[v]&&!h[v]&&C(w=>({...w,[v]:b[v]}))}))},[b,h.year,h.language,h.realBpm,h.genre,h.artist,h.volume,h.title,h.previewStart,h.previewEnd,r.sourceUrl,d.video]);const O=!!r.txtInput||t,P=!!d.video,g=Pe[s]==="author-and-video"?P:!0,m={...I,...h,author:d.author,authorUrl:d.authorUrl,realBpm:+h.realBpm,sourceUrl:r.sourceUrl,id:_o(h)};return o.jsxs(ca,{injectFirst:!0,children:[o.jsx(Ho,{}),o.jsxs(Fr,{children:[!t&&o.jsx("div",{style:{marginBottom:"1rem"},children:o.jsx(qo,{to:"/",children:o.jsx("a",{children:"Return to the main menu"})})}),o.jsxs(lr,{activeStep:s,sx:{mb:2},nonLinear:t,children:[o.jsx(mt,{completed:O,children:o.jsx(bt,{color:"inherit",onClick:()=>u(0),children:"Basic Info"})},0),o.jsx(mt,{completed:P,children:o.jsx(bt,{color:"inherit",onClick:()=>u(1),children:"Author and video data"})},1),o.jsx(mt,{children:o.jsx(bt,{color:"inherit",onClick:()=>u(2),children:"Sync lyrics to video"})},2),o.jsx(mt,{children:o.jsx(bt,{color:"inherit",onClick:()=>u(3),children:"Fill song metadata"})},3)]}),o.jsxs("form",{onSubmit:async v=>{v.preventDefault(),s<Pe.length-1?u(w=>w+1):Pe.at(s)==="metadata"&&(await Ot.store(m),t||aa(m.id),n(`/edit?search=${encodeURIComponent(m.title)}${t?"":`&id=${m.id}`}`))},children:[Pe.at(s)==="basic-data"&&o.jsx(gr,{shouldAutoImport:!P,isTxtRequired:!e,onAutoImport:y,onChange:c,data:r,finalSong:m}),Pe.at(s)==="author-and-video"&&o.jsx(cr,{songArtist:b==null?void 0:b.artist,songTitle:b==null?void 0:b.title,onChange:y,data:d}),b&&o.jsx(zr,{onChange:$,data:b,visible:Pe.at(s)==="sync"}),Pe.at(s)==="metadata"&&o.jsx(yr,{videoGap:I==null?void 0:I.videoGap,onChange:C,data:h,songArtist:b==null?void 0:b.artist,songTitle:b==null?void 0:b.title,videoId:b.video}),A&&o.jsxs(na,{severity:"warning","data-test":"possible-duplicate",children:[o.jsx(ra,{children:"Possible duplicate"}),"There is already a song with similar artist and/or name:"," ",o.jsxs("b",{children:[A.artist," - ",A.title]})]}),o.jsxs(U,{sx:{display:"flex",justifyContent:"flex-end"},children:[o.jsx(B,{"data-test":"previous-button",sx:{mt:2,align:"right"},onClick:()=>u(v=>v-1),disabled:s===0,children:"Previous"}),Pe.at(s)==="metadata"?o.jsx(B,{"data-test":"save-button",sx:{mt:2,align:"right"},type:"submit",variant:"contained",children:"Save"}):o.jsx(B,{"data-test":"next-button",sx:{mt:2,align:"right"},variant:"contained",type:"submit",disabled:!g||s===Pe.length-1,children:"Next"})]})]})]})]})}const Fr=we("div",{target:"e1qxoxak0"})({name:"1ec6m7r",styles:"background:white;margin:30px auto 0;width:1260px;height:100%"});export{Wr as default};
//# sourceMappingURL=ConvertView-be273543.js.map
