function GB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fs(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var OM={exports:{}},c0={},VM={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=Symbol.for("react.element"),qB=Symbol.for("react.portal"),WB=Symbol.for("react.fragment"),KB=Symbol.for("react.strict_mode"),YB=Symbol.for("react.profiler"),QB=Symbol.for("react.provider"),JB=Symbol.for("react.context"),XB=Symbol.for("react.forward_ref"),ZB=Symbol.for("react.suspense"),e$=Symbol.for("react.memo"),t$=Symbol.for("react.lazy"),ik=Symbol.iterator;function n$(e){return e===null||typeof e!="object"?null:(e=ik&&e[ik]||e["@@iterator"],typeof e=="function"?e:null)}var LM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NM=Object.assign,DM={};function Lu(e,t,n){this.props=e,this.context=t,this.refs=DM,this.updater=n||LM}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BM(){}BM.prototype=Lu.prototype;function lx(e,t,n){this.props=e,this.context=t,this.refs=DM,this.updater=n||LM}var cx=lx.prototype=new BM;cx.constructor=lx;NM(cx,Lu.prototype);cx.isPureReactComponent=!0;var ok=Array.isArray,$M=Object.prototype.hasOwnProperty,ux={current:null},FM={key:!0,ref:!0,__self:!0,__source:!0};function zM(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)$M.call(t,r)&&!FM.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vh,type:e,key:o,ref:s,props:i,_owner:ux.current}}function r$(e,t){return{$$typeof:vh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dx(e){return typeof e=="object"&&e!==null&&e.$$typeof===vh}function i$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sk=/\/+/g;function uy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i$(""+e.key):t.toString(36)}function og(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vh:case qB:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+uy(s,0):r,ok(i)?(n="",e!=null&&(n=e.replace(sk,"$&/")+"/"),og(i,t,n,"",function(c){return c})):i!=null&&(dx(i)&&(i=r$(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sk,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ok(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+uy(o,a);s+=og(o,t,n,l,i)}else if(l=n$(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+uy(o,a++),s+=og(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Zh(e,t,n){if(e==null)return e;var r=[],i=0;return og(e,r,"","",function(o){return t.call(n,o,i++)}),r}function o$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hr={current:null},sg={transition:null},s$={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:sg,ReactCurrentOwner:ux};at.Children={map:Zh,forEach:function(e,t,n){Zh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zh(e,function(){t++}),t},toArray:function(e){return Zh(e,function(t){return t})||[]},only:function(e){if(!dx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=Lu;at.Fragment=WB;at.Profiler=YB;at.PureComponent=lx;at.StrictMode=KB;at.Suspense=ZB;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s$;at.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=NM({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ux.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$M.call(t,l)&&!FM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vh,type:e.type,key:i,ref:o,props:r,_owner:s}};at.createContext=function(e){return e={$$typeof:JB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QB,_context:e},e.Consumer=e};at.createElement=zM;at.createFactory=function(e){var t=zM.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:XB,render:e}};at.isValidElement=dx;at.lazy=function(e){return{$$typeof:t$,_payload:{_status:-1,_result:e},_init:o$}};at.memo=function(e,t){return{$$typeof:e$,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=sg.transition;sg.transition={};try{e()}finally{sg.transition=t}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(e,t){return Hr.current.useCallback(e,t)};at.useContext=function(e){return Hr.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return Hr.current.useDeferredValue(e)};at.useEffect=function(e,t){return Hr.current.useEffect(e,t)};at.useId=function(){return Hr.current.useId()};at.useImperativeHandle=function(e,t,n){return Hr.current.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return Hr.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return Hr.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return Hr.current.useMemo(e,t)};at.useReducer=function(e,t,n){return Hr.current.useReducer(e,t,n)};at.useRef=function(e){return Hr.current.useRef(e)};at.useState=function(e){return Hr.current.useState(e)};at.useSyncExternalStore=function(e,t,n){return Hr.current.useSyncExternalStore(e,t,n)};at.useTransition=function(){return Hr.current.useTransition()};at.version="18.2.0";VM.exports=at;var y=VM.exports;const Ce=yr(y),Bg=GB({__proto__:null,default:Ce},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a$=y,l$=Symbol.for("react.element"),c$=Symbol.for("react.fragment"),u$=Object.prototype.hasOwnProperty,d$=a$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f$={key:!0,ref:!0,__self:!0,__source:!0};function UM(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)u$.call(t,r)&&!f$.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:l$,type:e,key:o,ref:s,props:i,_owner:d$.current}}c0.Fragment=c$;c0.jsx=UM;c0.jsxs=UM;OM.exports=c0;var f=OM.exports;class Go{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const n1=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class r1{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const ak=n1((global==null?void 0:global.localStorage)??new r1),Ve={...ak,local:ak,session:n1((global==null?void 0:global.sessionStorage)??new r1),memory:n1(new r1)},i1="CAMERA_GRANT_KEY",lk=Ve.local.getItem(i1);class h$ extends Go{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=lk!==null?JSON.parse(lk):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Ve.local.setItem(i1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Ve.local.setItem(i1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Ro=new h$;function ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(n),!0).forEach(function(r){te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sf(e){return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t,n){return t&&uk(e.prototype,t),n&&uk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p$(e,t){if(e==null)return{};var n,r,i=function(s,a){if(s==null)return{};var l,c,u={},d=Object.keys(s);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=s[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(a.push(o.value),!r||a.length!==r);l=!0);}catch(u){c=!0,s=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw s}}return a}}(e,t)||fx(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Is(e){return function(t){if(Array.isArray(t))return o1(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||fx(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fx(e,t){if(e){if(typeof e=="string")return o1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o1(e,t):void 0}}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ro(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fx(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}var To={DEBUG:!1,LIB_VERSION:"1.155.0"},g$=Array.isArray,HM=Object.prototype,GM=HM.hasOwnProperty,u0=HM.toString,qn=g$||function(e){return u0.call(e)==="[object Array]"},Vo=function(e){return typeof e=="function"},hr=function(e){return e===Object(e)&&!qn(e)},ag=function(e){if(hr(e)){for(var t in e)if(GM.call(e,t))return!1;return!0}return!1},Le=function(e){return e===void 0},kr=function(e){return u0.call(e)=="[object String]"},dk=function(e){return kr(e)&&e.trim().length===0},Ws=function(e){return e===null},ni=function(e){return Le(e)||Ws(e)},Hi=function(e){return u0.call(e)=="[object Number]"},kc=function(e){return u0.call(e)==="[object Boolean]"},m$=function(e){return e instanceof FormData},J=typeof window<"u"?window:void 0,Xr=typeof globalThis<"u"?globalThis:J,qM=Array.prototype,fk=qM.forEach,hk=qM.indexOf,ks=Xr==null?void 0:Xr.navigator,ke=Xr==null?void 0:Xr.document,Qr=Xr==null?void 0:Xr.location,s1=Xr==null?void 0:Xr.fetch,a1=Xr!=null&&Xr.XMLHttpRequest&&"withCredentials"in new Xr.XMLHttpRequest?Xr.XMLHttpRequest:void 0,pk=Xr==null?void 0:Xr.AbortController,Tn=ks==null?void 0:ks.userAgent,bn=J??{},gk="[PostHog.js]",oe={_log:function(e){if(J&&(To.DEBUG||bn.POSTHOG_DEBUG)&&!Le(J.console)&&J.console){for(var t=("__rrweb_original__"in J.console[e])?J.console[e].__rrweb_original__:J.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[gk].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oe._log.apply(oe,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oe._log.apply(oe,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oe._log.apply(oe,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[gk].concat(n))},uninitializedWarning:function(e){oe.error("You must initialize PostHog before calling ".concat(e))}},$g={},d0=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function qc(e,t,n){if(qn(e)){if(fk&&e.forEach===fk)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===$g)return}}}function Nt(e,t,n){if(!ni(e)){if(qn(e))return qc(e,t,n);if(m$(e)){var r,i=ro(e.entries());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.call(n,o[1],o[0])===$g)return}}catch(a){i.e(a)}finally{i.f()}}else for(var s in e)if(GM.call(e,s)&&t.call(n,e[s],s)===$g)return}}var Dr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qc(n,function(i){for(var o in i)i[o]!==void 0&&(e[o]=i[o])}),e};function ct(e,t){return e.indexOf(t)!==-1}function lg(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var WM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},mk=function(e){try{return e()}catch{return}},v$=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){oe.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),oe.critical(i)}}},l1=function(e){var t={};return Nt(e,function(n,r){kr(n)&&n.length>0&&(t[r]=n)}),t},c1=function(e){return e.replace(/^\$/,"")};function y$(e,t){return n=e,r=function(o){return kr(o)&&!Ws(t)?o.slice(0,t):o},i=new Set,function o(s,a){return s!==Object(s)?r?r(s,a):s:i.has(s)?void 0:(i.add(s),qn(s)?(l=[],qc(s,function(c){l.push(o(c))})):(l={},Nt(s,function(c,u){i.has(c)||(l[u]=o(c,u))})),l);var l}(n);var n,r,i}var Io,A$=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),Ws(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},ws=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(l,c,u){return function(d){if(d=d||e(J==null?void 0:J.event)){var h,p=!0;Vo(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else oe.error("No valid element provided to register_event")}}();function KM(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Io||(Io={}));var YM="$people_distinct_id",Pd="__alias",Md="__timers",vk="$autocapture_disabled_server_side",u1="$heatmaps_enabled_server_side",yk="$exception_capture_enabled_server_side",Ak="$exception_capture_endpoint",bk="$web_vitals_enabled_server_side",d1="$session_recording_enabled_server_side",_k="$console_log_recording_enabled_server_side",xk="$session_recording_network_payload_capture",Sk="$session_recording_canvas_recording",wk="$replay_sample_rate",Ek="$replay_minimum_duration",Fg="$sesid",qd="$session_is_sampled",Cc="$enabled_feature_flags",f1="$early_access_features",Tc="$stored_person_properties",ia="$stored_group_properties",h1="$surveys",ep="$surveys_activated",zg="$flag_call_reported",ys="$user_state",p1="$client_session_props",g1="$capture_rate_limit",m1="$initial_campaign_params",v1="$initial_referrer_info",kk="$initial_person_info",Ug="$epp",y1="__POSTHOG_TOOLBAR__",b$=[YM,Pd,"__cmpns",Md,d1,u1,Fg,Cc,ys,f1,ia,Tc,h1,zg,p1,g1,m1,v1,Ug],dy="$active_feature_flags",tp="$override_feature_flags",Ck="$feature_flag_payloads",Tk=function(e){var t,n={},r=ro(lg(e||{}));try{for(r.s();!(t=r.n()).done;){var i=Nr(t.value,2),o=i[0],s=i[1];s&&(n[o]=s)}}catch(a){r.e(a)}finally{r.f()}return n},_$=function(){function e(t){xt(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return St(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(Cc),n=this.instance.get_property(tp);if(!n)return t||{};for(var r=Dr({},t),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this._override_warning||(oe.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Ck)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(Tc),i=this.instance.get_property(ia),o={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:o,compression:this.instance.config.disable_compression?void 0:Io.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(s){var a;t.setReloadingPaused(!1);var l=!0;s.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=s.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],o="".concat(i),s=this.instance.get_property(zg)||{};return(n.send_event||!("send_event"in n))&&(!(t in s)||!s[t].includes(o))&&(qn(s[t])?s[t].push(o):s[t]=[o],(r=this.instance.persistence)===null||r===void 0||r.register(te({},zg,s)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}oe.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);oe.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(o,s){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=o.featureFlags,d=o.featureFlagPayloads;if(u)if(qn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;s&&s.register((te(h={},dy,u),te(h,Cc,p),h))}else{var m=u,b=d;o.errorsWhileComputingFlags&&(m=_e(_e({},l),m),b=_e(_e({},c),b)),s&&s.register((te(a={},dy,Object.keys(Tk(m))),te(a,Cc,m||{}),te(a,Ck,b||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return oe.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(tp);else if(qn(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register(te({},tp,r))}else this.instance.persistence.register(te({},tp,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,o=r.flagVariants;t(i,o)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,o=te({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:o}),this.setPersonPropertiesForFlags(o,!1);var s=_e(_e({},this.getFlagVariants()),{},te({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((te(i={},dy,Object.keys(Tk(s))),te(i,Cc,s),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(f1);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(o){var s;if(o.json){var a=o.json.earlyAccessFeatures;return(s=n.instance.persistence)===null||s===void 0||s.register(te({},f1,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(o){return o(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Tc)||{};this.instance.register(te({},Tc,_e(_e({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Tc)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(ia)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=_e(_e({},r[i]),t[i]),delete t[i]}),this.instance.register(te({},ia,_e(_e({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(ia)||{};this.instance.register(te({},ia,_e(_e({},n),{},te({},t,{}))))}else this.instance.unregister(ia)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Hi(e)&&isFinite(e)&&Math.floor(e)===e});var Ik="0123456789abcdef",x$=function(){function e(t){if(xt(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return St(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+Ik.charAt(this.bytes[n]>>>4)+Ik.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new e(o)}}]),e}(),S$=function(){function e(){xt(this,e),te(this,"timestamp",0),te(this,"counter",0),te(this,"random",new w$)}return St(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(Le(t)){this.timestamp=0;var n=this.generateOrAbort();if(Le(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return x$.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),QM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};J&&!Le(J.crypto)&&crypto.getRandomValues&&(QM=function(e){return crypto.getRandomValues(e)});var Rk,w$=function(){function e(){xt(this,e),te(this,"buffer",new Uint32Array(8)),te(this,"cursor",1/0)}return St(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(QM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),pa=function(){return E$().toString()},E$=function(){return(Rk||(Rk=new S$)).generate()},k$="Thu, 01 Jan 1970 00:00:00 GMT",sd="",C$=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function T$(e,t){if(t){var n=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke;if(sd)return sd;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var s=i.split("."),a=Math.min(s.length,8),l="dmn_chk_"+pa(),c=new RegExp("(^|;)\\s*"+l+"=1");!sd&&a--;){var u=s.slice(a).join("."),d=l+"=1;domain=."+u;o.cookie=d,c.test(o.cookie)&&(o.cookie=d+";expires="+k$,sd=u)}return sd}(e);if(!n){var r=function(i){var o=i.match(C$);return o?o[0]:""}(e);r!==n&&oe.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var ar,Rs={is_supported:function(){return!!ke},error:function(e){oe.error("cookieStore error: "+e)},get:function(e){if(ke){try{for(var t=e+"=",n=ke.cookie.split(";").filter(function(o){return o.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Rs.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(ke)try{var o="",s="",a=T$(ke.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return c.length>3686.4&&oe.warn("cookieStore warning: large cookie, len="+c.length),ke.cookie=c,c}catch{return}},remove:function(e,t){try{Rs.set(e,"",-1,t)}catch{return}}},fy=null,Gn={is_supported:function(){if(!Ws(fy))return fy;var e=!0;if(Le(J))e=!1;else try{var t="__mplssupport__";Gn.set(t,"xyz"),Gn.get(t)!=='"xyz"'&&(e=!1),Gn.remove(t)}catch{e=!1}return e||oe.error("localStorage unsupported; falling back to cookie store"),fy=e,e},error:function(e){oe.error("localStorage error: "+e)},get:function(e){try{return J==null?void 0:J.localStorage.getItem(e)}catch(t){Gn.error(t)}return null},parse:function(e){try{return JSON.parse(Gn.get(e))||{}}catch{}return null},set:function(e,t){try{J==null||J.localStorage.setItem(e,JSON.stringify(t))}catch(n){Gn.error(n)}},remove:function(e){try{J==null||J.localStorage.removeItem(e)}catch(t){Gn.error(t)}}},I$=["distinct_id",Fg,qd,Ug],np=_e(_e({},Gn),{},{parse:function(e){try{var t={};try{t=Rs.parse(e)||{}}catch{}var n=Dr(t,JSON.parse(Gn.get(e)||"{}"));return Gn.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,o){try{Gn.set(e,t,void 0,void 0,o);var s={};I$.forEach(function(a){t[a]&&(s[a]=t[a])}),Object.keys(s).length&&Rs.set(e,s,n,r,i,o)}catch(a){Gn.error(a)}},remove:function(e,t){try{J==null||J.localStorage.removeItem(e),Rs.remove(e,t)}catch(n){Gn.error(n)}}}),rp={},R$={is_supported:function(){return!0},error:function(e){oe.error("memoryStorage error: "+e)},get:function(e){return rp[e]||null},parse:function(e){return rp[e]||null},set:function(e,t){rp[e]=t},remove:function(e){delete rp[e]}},el=null,ur={is_supported:function(){if(!Ws(el))return el;if(el=!0,Le(J))el=!1;else try{var e="__support__";ur.set(e,"xyz"),ur.get(e)!=='"xyz"'&&(el=!1),ur.remove(e)}catch{el=!1}return el},error:function(e){oe.error("sessionStorage error: ",e)},get:function(e){try{return J==null?void 0:J.sessionStorage.getItem(e)}catch(t){ur.error(t)}return null},parse:function(e){try{return JSON.parse(ur.get(e))||null}catch{}return null},set:function(e,t){try{J==null||J.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){ur.error(n)}},remove:function(e){try{J==null||J.sessionStorage.removeItem(e)}catch(t){ur.error(t)}}},P$=["localhost","127.0.0.1"],Wd=function(e){var t=ke==null?void 0:ke.createElement("a");return Le(t)?null:(t.href=e,t)},Hg=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},M$=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Nt(e,function(o,s){Le(o)||Le(s)||s==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(o)?o.name:o.toString()),n=encodeURIComponent(s),i[i.length]=n+"="+t)}),i.join(r)},Pk=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!qn(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch{oe.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},Gg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Xi="Mobile",qg="iOS",os="Android",wf="Tablet",JM=os+" "+wf,XM="iPad",ZM="Apple",e5=ZM+" Watch",Ef="Safari",fu="BlackBerry",t5="Samsung",n5=t5+"Browser",r5=t5+" Internet",_a="Chrome",j$=_a+" OS",i5=_a+" "+qg,hx="Internet Explorer",o5=hx+" "+Xi,px="Opera",O$=px+" Mini",gx="Edge",s5="Microsoft "+gx,Wc="Firefox",a5=Wc+" "+qg,kf="Nintendo",Cf="PlayStation",Kc="Xbox",l5=os+" "+Xi,c5=Xi+" "+Ef,jd="Windows",A1=jd+" Phone",Mk="Nokia",b1="Ouya",u5="Generic",V$=u5+" "+Xi.toLowerCase(),d5=u5+" "+wf.toLowerCase(),_1="Konqueror",Or="(\\d+(\\.\\d+)?)",hy=new RegExp("Version/"+Or),L$=new RegExp(Kc,"i"),N$=new RegExp(Cf+" \\w+","i"),D$=new RegExp(kf+" \\w+","i"),mx=new RegExp(fu+"|PlayBook|BB10","i"),B$={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},$$=function(e,t){return t&&ct(t,ZM)||function(n){return ct(n,Ef)&&!ct(n,_a)&&!ct(n,os)}(e)},jk=function(e,t){return t=t||"",ct(e," OPR/")&&ct(e,"Mini")?O$:ct(e," OPR/")?px:mx.test(e)?fu:ct(e,"IE"+Xi)||ct(e,"WPDesktop")?o5:ct(e,n5)?r5:ct(e,gx)||ct(e,"Edg/")?s5:ct(e,"FBIOS")?"Facebook "+Xi:ct(e,"UCWEB")||ct(e,"UCBrowser")?"UC Browser":ct(e,"CriOS")?i5:ct(e,"CrMo")?_a:ct(e,os)&&ct(e,Ef)?l5:ct(e,_a)?_a:ct(e,"FxiOS")?a5:ct(e.toLowerCase(),_1.toLowerCase())?_1:$$(e,t)?ct(e,Xi)?c5:Ef:ct(e,Wc)?Wc:ct(e,"MSIE")||ct(e,"Trident/")?hx:ct(e,"Gecko")?Wc:""},F$=(te(ar={},o5,[new RegExp("rv:"+Or)]),te(ar,s5,[new RegExp(gx+"?\\/"+Or)]),te(ar,_a,[new RegExp("("+_a+"|CrMo)\\/"+Or)]),te(ar,i5,[new RegExp("CriOS\\/"+Or)]),te(ar,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Or)]),te(ar,Ef,[hy]),te(ar,c5,[hy]),te(ar,px,[new RegExp("(Opera|OPR)\\/"+Or)]),te(ar,Wc,[new RegExp(Wc+"\\/"+Or)]),te(ar,a5,[new RegExp("FxiOS\\/"+Or)]),te(ar,_1,[new RegExp("Konqueror[:/]?"+Or,"i")]),te(ar,fu,[new RegExp(fu+" "+Or),hy]),te(ar,l5,[new RegExp("android\\s"+Or,"i")]),te(ar,r5,[new RegExp(n5+"\\/"+Or)]),te(ar,hx,[new RegExp("(rv:|MSIE )"+Or)]),te(ar,"Mozilla",[new RegExp("rv:"+Or)]),ar),Ok=[[new RegExp(Kc+"; "+Kc+" (.*?)[);]","i"),function(e){return[Kc,e&&e[1]||""]}],[new RegExp(kf,"i"),[kf,""]],[new RegExp(Cf,"i"),[Cf,""]],[mx,[fu,""]],[new RegExp(jd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[A1,""];if(new RegExp(Xi).test(t)&&!/IEMobile\b/.test(t))return[jd+" "+Xi,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=B$[r]||"";return/arm/i.test(t)&&(i="RT"),[jd,i]}return[jd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[qg,t.join(".")]}return[qg,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=Le(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+os+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+os+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[os,t.join(".")]}return[os,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[j$,""]],[/Linux|debian/i,["Linux",""]]],Vk=function(e){return D$.test(e)?kf:N$.test(e)?Cf:L$.test(e)?Kc:new RegExp(b1,"i").test(e)?b1:new RegExp("("+A1+"|WPDesktop)","i").test(e)?A1:/iPad/.test(e)?XM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?e5:mx.test(e)?fu:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(Mk,"i").test(e)?Mk:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Xi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?os:JM:os:new RegExp("(pda|"+Xi+")","i").test(e)?V$:new RegExp(wf,"i").test(e)&&!new RegExp(wf+" pc","i").test(e)?d5:""},ip="https?://(.*)",z$=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],er={campaignParams:function(e){return ke?this._campaignParamsFromUrl(ke.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=z$.concat(t||[]),r={};return Nt(n,function(i){var o=Pk(e,i);o&&(r[i]=o)}),r},_searchEngine:function(e){return e?e.search(ip+"google.([^/?]*)")===0?"google":e.search(ip+"bing.com")===0?"bing":e.search(ip+"yahoo.com")===0?"yahoo":e.search(ip+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=er._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!Ws(t)){r.$search_engine=t;var i=ke?Pk(ke.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=ke==null?void 0:ke.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:jk,browserVersion:function(e,t){var n=jk(e,t),r=F$[n];if(Le(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<Ok.length;t++){var n=Nr(Ok[t],2),r=n[0],i=n[1],o=r.exec(e),s=o&&(Vo(i)?i(o,e):i);if(s)return s}return["",""]},device:Vk,deviceType:function(e){var t=Vk(e);return t===XM||t===JM||t==="Kobo"||t==="Kindle Fire"||t===d5?wf:t===kf||t===Kc||t===Cf||t===b1?"Console":t===e5?"Wearable":t?Xi:"Desktop"},referrer:function(){return(ke==null?void 0:ke.referrer)||"$direct"},referringDomain:function(){var e;return ke!=null&&ke.referrer&&((e=Wd(ke.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:Qr==null?void 0:Qr.href}},initialPersonPropsFromInfo:function(e){var t,n=e.r,r=e.u,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=Wd(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var o=Wd(r);i.$initial_host=o==null?void 0:o.host,i.$initial_pathname=o==null?void 0:o.pathname,Nt(this._campaignParamsFromUrl(r),function(s,a){i["$initial_"+c1(a)]=s})}return n&&Nt(this._searchInfoFromReferrer(n),function(s,a){i["$initial_"+c1(a)]=s}),i},properties:function(){if(!Tn)return{};var e=Nr(er.os(Tn),2),t=e[0],n=e[1];return Dr(l1({$os:t,$os_version:n,$browser:er.browser(Tn,navigator.vendor),$device:er.device(Tn),$device_type:er.deviceType(Tn)}),{$current_url:Qr==null?void 0:Qr.href,$host:Qr==null?void 0:Qr.host,$pathname:Qr==null?void 0:Qr.pathname,$raw_user_agent:Tn.length>1e3?Tn.substring(0,997)+"...":Tn,$browser_version:er.browserVersion(Tn,navigator.vendor),$browser_language:er.browserLanguage(),$screen_height:J==null?void 0:J.screen.height,$screen_width:J==null?void 0:J.screen.width,$viewport_height:J==null?void 0:J.innerHeight,$viewport_width:J==null?void 0:J.innerWidth,$lib:"web",$lib_version:To.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:WM()/1e3})},people_properties:function(){if(!Tn)return{};var e=Nr(er.os(Tn),2),t=e[0],n=e[1];return Dr(l1({$os:t,$os_version:n,$browser:er.browser(Tn,navigator.vendor)}),{$browser_version:er.browserVersion(Tn,navigator.vendor)})}},U$=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],py=function(){function e(t){xt(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),t.debug&&oe.info("Persistence loaded",t.persistence,_e({},this.props)),this.update_config(t,t),this.save()}return St(e,[{key:"buildStorage",value:function(t){U$.indexOf(t.persistence.toLowerCase())===-1&&(oe.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Gn.is_supported()?Gn:n==="localstorage+cookie"&&np.is_supported()?np:n==="sessionstorage"&&ur.is_supported()?ur:n==="memory"?R$:n==="cookie"?Rs:np.is_supported()?np:Rs}},{key:"properties",value:function(){var t={};return Nt(this.props,function(n,r){if(r===Cc&&hr(n))for(var i=Object.keys(n),o=0;o<i.length;o++)t["$feature/".concat(i[o])]=n[i[o]];else a=r,l=!1,(Ws(s=b$)?l:hk&&s.indexOf===hk?s.indexOf(a)!=-1:(Nt(s,function(c){if(l||(l=c===a))return $g}),l))||(t[r]=n);var s,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Dr({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(hr(t)){Le(n)&&(n="None"),this.expire_days=Le(r)?this.default_expiry:r;var o=!1;if(Nt(t,function(s,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=s,o=!0)}),o)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(hr(t)){this.expire_days=Le(n)?this.default_expiry:n;var i=!1;if(Nt(t,function(o,s){t.hasOwnProperty(s)&&r.props[s]!==o&&(r.props[s]=o,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(er.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(er.searchInfo())}},{key:"update_referrer_info",value:function(){this.register_once(er.referrerInfo(),void 0)}},{key:"set_initial_person_info",value:function(){this.props[m1]||this.props[v1]||this.register_once(te({},kk,er.initialPersonInfo()),void 0)}},{key:"get_referrer_info",value:function(){return l1({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};Nt([v1,m1],function(o){var s=t.props[o];s&&Nt(s,function(a,l){n["$initial_"+c1(l)]=a})});var r=this.props[kk];if(r){var i=er.initialPersonPropsFromInfo(r);Dr(n,i)}return n}},{key:"safe_merge",value:function(t){return Nt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[Md]||{};r[t]=n,this.props[Md]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[Md]||{})[t];return Le(n)||(delete this.props[Md][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}();function x1(e){return JSON.stringify(e,(t=[],function(n,r){if(hr(r)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(r)?"[Circular]":(t.push(r),r)}return r})).length;var t}var H$=2,G$=4;function S1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[S1({size:x1(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),S1({size:x1(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(function(o){return o})}return[e]}var cg=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(cg||{}),vs=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(vs||{});function vx(e){return e?d0(e).split(/\s+/):[]}function Lk(e){var t=J==null?void 0:J.location.href;return!!(t&&e&&e.some(function(n){return t.match(n)}))}function Wg(e){var t="";switch(Sf(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return vx(t)}function f5(e){return ni(e)?null:d0(e).split(/(\s+)/).filter(function(t){return Yc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Kg(e){var t="";return E1(e)&&!m5(e)&&e.childNodes&&e.childNodes.length&&Nt(e.childNodes,function(n){var r;h5(n)&&n.textContent&&(t+=(r=f5(n.textContent))!==null&&r!==void 0?r:"")}),d0(t)}function yx(e){return!!e&&e.nodeType===1}function xa(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function h5(e){return!!e&&e.nodeType===3}function p5(e){return!!e&&e.nodeType===11}var w1=["a","button","form","input","select","textarea","label"];function g5(e){var t=e.parentNode;return!(!t||!yx(t))&&t}function q$(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!J||!e||xa(e,"html")||!yx(e)||n!=null&&n.url_allowlist&&!Lk(n.url_allowlist)||n!=null&&n.url_ignorelist&&Lk(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var o=n.dom_event_allowlist;if(o&&!o.some(function(p){return t.type===p}))return!1}for(var s=!1,a=[e],l=!0,c=e;c.parentNode&&!xa(c,"body");)if(p5(c.parentNode))a.push(c.parentNode.host),c=c.parentNode.host;else{if(!(l=g5(c)))break;if(r||w1.indexOf(l.tagName.toLowerCase())>-1)s=!0;else{var u=J.getComputedStyle(l);u&&u.getPropertyValue("cursor")==="pointer"&&(s=!0)}a.push(l),c=l}if(!function(p,g){var m=g==null?void 0:g.element_allowlist;if(Le(m))return!0;var b,v=ro(p);try{var A=function(){var S=b.value;if(m.some(function(x){return S.tagName.toLowerCase()===x}))return{v:!0}};for(v.s();!(b=v.n()).done;){var _=A();if(Sf(_)==="object")return _.v}}catch(S){v.e(S)}finally{v.f()}return!1}(a,n)||!function(p,g){var m=g==null?void 0:g.css_selector_allowlist;if(Le(m))return!0;var b,v=ro(p);try{var A=function(){var S=b.value;if(m.some(function(x){return S.matches(x)}))return{v:!0}};for(v.s();!(b=v.n()).done;){var _=A();if(Sf(_)==="object")return _.v}}catch(S){v.e(S)}finally{v.f()}return!1}(a,n))return!1;var d=J.getComputedStyle(e);if(d&&d.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var h=e.tagName.toLowerCase();switch(h){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return s?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(w1.indexOf(h)>-1||e.getAttribute("contenteditable")==="true")}}function E1(e){for(var t=e;t.parentNode&&!xa(t,"body");t=t.parentNode){var n=Wg(t);if(ct(n,"ph-sensitive")||ct(n,"ph-no-capture"))return!1}if(ct(Wg(e),"ph-include"))return!0;var r=e.type||"";if(kr(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(kr(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function m5(e){return!!(xa(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||xa(e,"select")||xa(e,"textarea")||e.getAttribute("contenteditable")==="true")}var v5="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",W$=new RegExp("^(?:".concat(v5,")$")),K$=new RegExp(v5),y5="\\d{3}-?\\d{2}-?\\d{4}",Y$=new RegExp("^(".concat(y5,")$")),Q$=new RegExp("(".concat(y5,")"));function Yc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(ni(e)||kr(e)&&(e=d0(e),(t?W$:K$).test((e||"").replace(/[- ]/g,""))||(t?Y$:Q$).test(e)))}function Nk(e){var t=Kg(e);return Yc(t="".concat(t," ").concat(A5(e)).trim())?t:""}function A5(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Nt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Kg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(A5(n)).trim())}catch(o){oe.error(o)}}),t}function J$(e){return function(t){var n=t.map(function(r){var i,o,s="";if(r.tag_name&&(s+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=ro(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;s+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=_e(_e(_e(_e({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return lg(u).sort(function(h,p){var g=Nr(h,1)[0],m=Nr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=Nr(h,2),g=p[0],m=p[1];return d[Dk(g.toString())]=Dk(m.toString())}),s+=":",s+=lg(u).map(function(h){var p=Nr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,o={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:X$(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return lg(n).filter(function(s){return Nr(s,1)[0].indexOf("attr__")===0}).forEach(function(s){var a=Nr(s,2),l=a[0],c=a[1];return o.attributes[l]=c}),o})}(e))}function Dk(e){return e.replace(/"|\\"/g,'\\"')}function X$(e){var t=e.attr__class;return t?qn(t)?t:vx(t):void 0}var k1="[SessionRecording]",C1="redacted",op={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},Z$=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],eF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],tF=["/s/","/e/","/i/"];function Bk(e,t,n,r){if(ni(e))return e;var i=(t==null?void 0:t["content-length"])||function(o){return new Blob([o]).size}(e);return kr(i)&&(i=parseInt(i)),i>n?k1+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function $k(e,t){if(ni(e))return e;var n=e;return Yc(n,!1)||(n=k1+" "+t+" body "+C1),Nt(eF,function(r){var i,o;(i=n)!==null&&i!==void 0&&i.length&&((o=n)===null||o===void 0?void 0:o.indexOf(r))!==-1&&(n=k1+" "+t+" body "+C1+" as might contain: "+r)}),n}var As,nF=function(e,t){var n,r,i,o={payloadSizeLimitBytes:op.payloadSizeLimitBytes,performanceEntryTypeToObserve:Is(op.performanceEntryTypeToObserve),payloadHostDenyList:[].concat(Is(t.payloadHostDenyList||[]),Is(op.payloadHostDenyList))},s=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=o,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=Bk(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=Bk(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var b=Wd(m.name);if(!(b&&b.pathname&&tF.some(function(v){return b.pathname.indexOf(v)===0})))return m}((g=(p=h).requestHeaders,ni(g)||Nt(Object.keys(g??{}),function(m){Z$.includes(m.toLowerCase())&&(g[m]=C1)}),p)));var p,g},d=Vo(e.session_recording.maskNetworkRequestFn);return d&&Vo(e.session_recording.maskCapturedNetworkRequestFn)&&oe.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return _e(_e({},h),{},{name:p==null?void 0:p.url})}),o.maskRequestFn=Vo(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,b=u(h);return b&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,b))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!Le(p))return p.requestBody=$k(p.requestBody,"Request"),p.responseBody=$k(p.responseBody,"Response"),p}(u(h))},_e(_e(_e({},op),o),{},{recordHeaders:s,recordBody:a,recordPerformance:l,recordInitialRequests:l})},rF=St(function e(t){var n,r,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};xt(this,e),te(this,"bucketSize",100),te(this,"refillRate",10),te(this,"mutationBuckets",{}),te(this,"loggedTracker",{}),te(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(s){i.mutationBuckets[s]=i.mutationBuckets[s]+i.refillRate,i.mutationBuckets[s]>=i.bucketSize&&delete i.mutationBuckets[s]})}),te(this,"getNodeOrRelevantParent",function(s){var a=i.rrweb.mirror.getNode(s);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[s,a]}),te(this,"numberOfChanges",function(s){var a,l,c,u,d,h,p,g;return((a=(l=s.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=s.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=s.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=s.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),te(this,"throttleMutations",function(s){if(s.type!==3||s.data.source!==0)return s;var a=s.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=Nr(i.getNodeOrRelevantParent(u.id),2),m=g[0],b=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,b))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?s:void 0}),this.rrweb=t,this.options=o,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),iF=3e5,oF=[vs.MouseMove,vs.MouseInteraction,vs.Scroll,vs.ViewportResize,vs.Input,vs.TouchMove,vs.MediaInteraction,vs.Drag],Fk=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},Li="[SessionRecording]",sF=function(){function e(t){var n=this;if(xt(this,e),te(this,"queuedRRWebEvents",[]),te(this,"isIdle",!1),te(this,"_linkedFlagSeen",!1),te(this,"_lastActivityTimestamp",Date.now()),te(this,"_linkedFlag",null),te(this,"_forceAllowLocalhostNetworkCapture",!1),te(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,J==null||J.addEventListener("beforeunload",function(){n._flushBuffer()}),J==null||J.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),J==null||J.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),J==null||J.addEventListener("visibilitychange",function(){if(ke!=null&&ke.visibilityState){var s="window "+ke.visibilityState;n._tryAddCustomEvent(s,{})}}),!this.instance.sessionManager)throw oe.error(Li+" started without valid sessionManager"),new Error(Li+" started without valid sessionManager. This is a bug.");var r=this.sessionManager.checkAndGetSessionAndWindowId(),i=r.sessionId,o=r.windowId;this.sessionId=i,this.windowId=o,this.buffer=this.clearBuffer(),this._setupSampling()}return St(e,[{key:"rrwebRecord",get:function(){var t;return bn==null||(t=bn.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw new Error(Li+" must be started with a valid sessionManager.");return this.instance.sessionManager}},{key:"fullSnapshotIntervalMillis",get:function(){var t;return((t=this.instance.config.session_recording)===null||t===void 0?void 0:t.full_snapshot_interval_millis)||iF}},{key:"isSampled",get:function(){var t=this.instance.get_property(qd);return kc(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(d1),n=!this.instance.config.disable_session_recording;return J&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(_k),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(Sk);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(xk),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},o=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),s=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=hr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,l=!!(kc(a)?a:r!=null&&r.capturePerformance);return o||s||l?{recordHeaders:o,recordBody:s,recordPerformance:l}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(wk);return Hi(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(Ek);return Hi(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?ni(this._linkedFlag)||this._linkedFlagSeen?kc(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),oe.info(Li+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,oe.info(Li+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(Hi(i)){var o,s=this.isSampled,a=r||!kc(s);a?o=Math.random()<i:o=s,!o&&a&&oe.warn(Li+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(te({},qd,o))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(te({},qd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,o=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!ni(this._linkedFlag)){var s=kr(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=kr(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=hr(c)&&s in c,d=a?c[s]===a:u;if(d){var h={linkedFlag:s,linkedVariant:a},p="linked flag matched";oe.info(Li+" "+p,h),o._tryAddCustomEvent(p,h)}o._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;Hi(this.sampleRate)&&Ws(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,o,s,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=ni(h)?null:parseFloat(h),g=(o=t.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;n.register((te(d={},d1,!!t.sessionRecording),te(d,_k,(s=t.sessionRecording)===null||s===void 0?void 0:s.consoleLogRecordingEnabled),te(d,xk,_e({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),te(d,Sk,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),te(d,wk,p),te(d,Ek,Le(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:WM()})}},{key:"_startCapture",value:function(){var t=this;Le(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut()||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():this.instance.requestRouter.loadScript("/static/recorder.js?v=".concat(To.LIB_VERSION),function(n){if(n)return oe.error(Li+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&oF.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0,clearTimeout(this._fullSnapshotTimer),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),o=i.windowId,s=i.sessionId,a=this.sessionId!==s,l=this.windowId!==o;this.windowId=o,this.sessionId=s,(r||[H$,G$].indexOf(t.type)===-1&&(l||a||Le(this._fullSnapshotTimer)))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):oe.warn(Li+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(Fk(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(Fk(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,o=0,s=Object.entries(i||{});o<s.length;o++){var a=Nr(s[o],2),l=a[0],c=a[1];l in r&&(l==="maskInputOptions"?r.maskInputOptions=_e({password:!0},c):r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new rF(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");oe.info(p,{node:h}),n.log(Li+" "+p,"warn")}});var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(_e({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=J?n._maskUrl(J.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h})}}catch(p){oe.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else oe.error(Li+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var n=this.fullSnapshotIntervalMillis;n&&(this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},n))}}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return bn.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(bn.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&Vo(bn.getRecordNetworkPlugin)&&(!P$.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(bn.getRecordNetworkPlugin(nF(this.instance.config,this.networkPayloadCapture))):oe.info(Li+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&hr(t)){if(t.type===cg.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===cg.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&hr(l)&&l.type===6&&hr(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),o=x1(i);if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===cg.Custom){var s={$snapshot_bytes:o,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(s):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&J){var t=this._maskUrl(J.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Is(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt<=2e3&&t._tryRRWebMethod(r)})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=Hi(r)&&r>=0,o=Hi(n)&&i&&r<n;return this.status==="buffering"||o?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&S1(this.buffer).forEach(function(s){t._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings"})}}]),e}(),aF=function(){function e(t){xt(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return St(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Tc),group_properties:this.instance.get_property(ia),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:Io.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)oe.error("Failed to fetch feature flags from PostHog.");else{if(!ke||!ke.body)return oe.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);if(this.instance._afterDecideResponse(t),t.siteApps)if(this.instance.config.opt_in_site_apps){var i,o=ro(t.siteApps);try{var s=function(){var a=i.value,l=a.id,c=a.url,u=n.instance.requestRouter.endpointFor("api",c);bn["__$$ph_site_app_".concat(l)]=n.instance,n.instance.requestRouter.loadScript(u,function(d){if(d)return oe.error("Error while initializing PostHog app with config id ".concat(l),d)})};for(o.s();!(i=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}}else t.siteApps.length>0&&oe.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),lF=J!=null&&J.location?Gg(J.location.hash,"__posthog")||Gg(location.hash,"state"):null,zk="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(As||(As={}));var cF=function(){function e(t){xt(this,e),this.instance=t}return St(e,[{key:"setToolbarState",value:function(t){bn.ph_toolbar_state=t}},{key:"getToolbarState",value:function(){var t;return(t=bn.ph_toolbar_state)!==null&&t!==void 0?t:As.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!J||!ke)return!1;r=(t=r)!==null&&t!==void 0?t:J.location,o=(n=o)!==null&&n!==void 0?n:J.history;try{if(!i){try{J.localStorage.setItem("test","test"),J.localStorage.removeItem("test")}catch{return!1}i=J==null?void 0:J.localStorage}var s,a=lF||Gg(r.hash,"__posthog")||Gg(r.hash,"state"),l=a?mk(function(){return JSON.parse(atob(decodeURIComponent(a)))})||mk(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((s=l).source="url",s&&Object.keys(s).length>0&&(l.desiredHash?r.hash=l.desiredHash:o?o.replaceState(o.state,"",r.pathname+r.search):r.hash="")):((s=JSON.parse(i.getItem(zk)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(bn.ph_load_toolbar||bn.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this,r=!(ke==null||!ke.getElementById(y1));if(!J||r)return!1;var i=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,o=_e(_e({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});if(J.localStorage.setItem(zk,JSON.stringify(_e(_e({},o),{},{source:void 0}))),this.getToolbarState()===As.LOADED)this._callLoadToolbar(o);else if(this.getToolbarState()===As.UNINITIALIZED){this.setToolbarState(As.LOADING);var s=3e5,a=Math.floor(Date.now()/s)*s;this.instance.requestRouter.loadScript("/static/toolbar.js?t=".concat(a),function(l){if(l)return oe.error("Failed to load toolbar",l),void n.setToolbarState(As.UNINITIALIZED);n.setToolbarState(As.LOADED),n._callLoadToolbar(o)}),ws(J,"turbolinks:load",function(){n.setToolbarState(As.UNINITIALIZED),n.loadToolbar(o)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),uF=function(){function e(t){xt(this,e),te(this,"isPaused",!0),te(this,"queue",[]),te(this,"flushTimeoutMs",3e3),this.sendRequest=t}return St(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Is(r.filter(function(i){return i.url.indexOf("/e")===0})),Is(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(_e(_e({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(o){var s=n[o],a=new Date().getTime();s.data&&qn(s.data)&&Nt(s.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(s)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Nt(this.queue,function(n){var r,i=n,o=(i?i.batchKey:null)||i.url;Le(t[o])&&(t[o]=_e(_e({},i),{},{data:[]})),(r=t[o].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),Zi=Uint8Array,Zr=Uint16Array,hu=Uint32Array,Ax=new Zi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bx=new Zi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Uk=new Zi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b5=function(e,t){for(var n=new Zr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new hu(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},_5=b5(Ax,2),dF=_5[0],T1=_5[1];dF[28]=258,T1[258]=28;for(var Hk=b5(bx,0)[1],x5=new Zr(32768),Kt=0;Kt<32768;++Kt){var tl=(43690&Kt)>>>1|(21845&Kt)<<1;tl=(61680&(tl=(52428&tl)>>>2|(13107&tl)<<2))>>>4|(3855&tl)<<4,x5[Kt]=((65280&tl)>>>8|(255&tl)<<8)>>>1}var Kd=function(e,t,n){for(var r=e.length,i=0,o=new Zr(t);i<r;++i)++o[e[i]-1];var s,a=new Zr(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;for(s=new Zr(r),i=0;i<r;++i)s[i]=x5[a[e[i]-1]++]>>>15-e[i];return s},Ol=new Zi(288);for(Kt=0;Kt<144;++Kt)Ol[Kt]=8;for(Kt=144;Kt<256;++Kt)Ol[Kt]=9;for(Kt=256;Kt<280;++Kt)Ol[Kt]=7;for(Kt=280;Kt<288;++Kt)Ol[Kt]=8;var Yg=new Zi(32);for(Kt=0;Kt<32;++Kt)Yg[Kt]=5;var fF=Kd(Ol,9),hF=Kd(Yg,5),S5=function(e){return(e/8>>0)+(7&e&&1)},w5=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Zr?Zr:e instanceof hu?hu:Zi)(n-t);return r.set(e.subarray(t,n)),r},hs=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},ad=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},gy=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new Zi(0),0];if(i==1){var s=new Zi(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort(function(x,w){return x.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new Zr(h+1),g=pF(n[u-1],p,0);if(g>t){r=0;var m=0,b=g-t,v=1<<b;for(o.sort(function(x,w){return p[w.s]-p[x.s]||x.f-w.f});r<i;++r){var A=o[r].s;if(!(p[A]>t))break;m+=v-(1<<g-p[A]),p[A]=t}for(m>>>=b;m>0;){var _=o[r].s;p[_]<t?m-=1<<t-p[_]++-1:++r}for(;r>=0&&m;--r){var S=o[r].s;p[S]==t&&(--p[S],++m)}g=t}return[new Zi(p),g]},pF=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Gk=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Zr(++t),r=0,i=e[0],o=1,s=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},ld=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},I1=function(e,t,n){var r=n.length,i=S5(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},qk=function(e,t,n,r,i,o,s,a,l,c,u){hs(t,u++,n),++i[256];for(var d=gy(i,15),h=d[0],p=d[1],g=gy(o,15),m=g[0],b=g[1],v=Gk(h),A=v[0],_=v[1],S=Gk(m),x=S[0],w=S[1],E=new Zr(19),C=0;C<A.length;++C)E[31&A[C]]++;for(C=0;C<x.length;++C)E[31&x[C]]++;for(var j=gy(E,7),L=j[0],B=j[1],U=19;U>4&&!L[Uk[U-1]];--U);var P,V,R,k,D=c+5<<3,O=ld(i,Ol)+ld(o,Yg)+s,z=ld(i,h)+ld(o,m)+s+14+3*U+ld(E,L)+(2*E[16]+3*E[17]+7*E[18]);if(D<=O&&D<=z)return I1(t,u,e.subarray(l,l+c));if(hs(t,u,1+(z<O)),u+=2,z<O){P=Kd(h,p),V=h,R=Kd(m,b),k=m;var $=Kd(L,B);for(hs(t,u,_-257),hs(t,u+5,w-1),hs(t,u+10,U-4),u+=14,C=0;C<U;++C)hs(t,u+3*C,L[Uk[C]]);u+=3*U;for(var G=[A,x],H=0;H<2;++H){var ne=G[H];for(C=0;C<ne.length;++C){var N=31&ne[C];hs(t,u,$[N]),u+=L[N],N>15&&(hs(t,u,ne[C]>>>5&127),u+=ne[C]>>>12)}}}else P=fF,V=Ol,R=hF,k=Yg;for(C=0;C<a;++C)if(r[C]>255){N=r[C]>>>18&31,ad(t,u,P[N+257]),u+=V[N+257],N>7&&(hs(t,u,r[C]>>>23&31),u+=Ax[N]);var ue=31&r[C];ad(t,u,R[ue]),u+=k[ue],ue>3&&(ad(t,u,r[C]>>>5&8191),u+=bx[ue])}else ad(t,u,P[r[C]]),u+=V[r[C]];return ad(t,u,P[256]),u+V[256]},gF=new hu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mF=function(){for(var e=new hu(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),vF=function(e,t,n,r,i){return function(o,s,a,l,c,u){var d=o.length,h=new Zi(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!s||d<8)for(var m=0;m<=d;m+=65535){var b=m+65535;b<d?g=I1(p,g,o.subarray(m,b)):(p[m]=u,g=I1(p,g,o.subarray(m,d)))}else{for(var v=gF[s-1],A=v>>>13,_=8191&v,S=(1<<a)-1,x=new Zr(32768),w=new Zr(S+1),E=Math.ceil(a/3),C=2*E,j=function(Ye){return(o[Ye]^o[Ye+1]<<E^o[Ye+2]<<C)&S},L=new hu(25e3),B=new Zr(288),U=new Zr(32),P=0,V=0,R=(m=0,0),k=0,D=0;m<d;++m){var O=j(m),z=32767&m,$=w[O];if(x[z]=$,w[O]=z,k<=m){var G=d-m;if((P>7e3||R>24576)&&G>423){g=qk(o,p,0,L,B,U,V,R,D,m-D,g),R=P=V=0,D=m;for(var H=0;H<286;++H)B[H]=0;for(H=0;H<30;++H)U[H]=0}var ne=2,N=0,ue=_,Z=z-$&32767;if(G>2&&O==j(m-Z))for(var ae=Math.min(A,G)-1,Pe=Math.min(32767,m),be=Math.min(258,G);Z<=Pe&&--ue&&z!=$;){if(o[m+ne]==o[m+ne-Z]){for(var le=0;le<be&&o[m+le]==o[m+le-Z];++le);if(le>ne){if(ne=le,N=Z,le>ae)break;var Se=Math.min(Z,le-2),Ue=0;for(H=0;H<Se;++H){var De=m-Z+H+32768&32767,xe=De-x[De]+32768&32767;xe>Ue&&(Ue=xe,$=De)}}}Z+=(z=$)-($=x[z])+32768&32767}if(N){L[R++]=268435456|T1[ne]<<18|Hk[N];var Te=31&T1[ne],Ke=31&Hk[N];V+=Ax[Te]+bx[Ke],++B[257+Te],++U[Ke],k=m+ne,++P}else L[R++]=o[m],++B[o[m]]}}g=qk(o,p,u,L,B,U,V,R,D,m-D,g)}return w5(h,0,l+S5(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},my=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function yF(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=mF[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,o=vF(e,t,10+((i=t).filename&&i.filename.length+1||0),8),s=o.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&my(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(o,t),my(o,s-8,n.d()),my(o,s-4,r),o}var AF=!!a1||!!s1,Wk="text/plain",Qg=function(e,t){var n=Nr(e.split("?"),2),r=n[0],i=n[1],o=_e({},t);i==null||i.split("&").forEach(function(a){var l=Nr(a.split("="),1)[0];delete o[l]});var s=M$(o);return s=s?(i?i+"&":"")+s:i,"".concat(r,"?").concat(s)},bF=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},vy=function(e){var t=e.data,n=e.compression;if(t){if(n===Io.GZipJS){var r=yF(function(o,s){var a=o.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(o);for(var l=new Zi(o.length+(o.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new Zi(c+8+(a-d<<1));h.set(l),l=h}var p=o.charCodeAt(d);p<128||s?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&o.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return w5(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:Wk,body:new Blob([r],{type:Wk})}}if(n===Io.Base64){var i=function(o){var s,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!o)return o;o=A$(o);do s=(u=o.charCodeAt(h++)<<16|o.charCodeAt(h++)<<8|o.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(s)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<o.length);switch(g=m.join(""),o.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:bF(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},Yd=[];a1&&Yd.push({transport:"XHR",method:function(e){var t,n=new a1;n.open(e.method||"GET",e.url,!0);var r=(t=vy(e))!==null&&t!==void 0?t:{},i=r.contentType,o=r.body;Nt(e.headers,function(s,a){n.setRequestHeader(a,s)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var s,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,a)}},n.send(o)}}),s1&&Yd.push({transport:"fetch",method:function(e){var t,n,r=(t=vy(e))!==null&&t!==void 0?t:{},i=r.contentType,o=r.body,s=new Headers;Nt(s,function(u,d){s.append(d,u)}),i&&s.append("Content-Type",i);var a=e.url,l=null;if(pk){var c=new pk;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}s1(a,{method:(e==null?void 0:e.method)||"GET",headers:s,keepalive:e.method==="POST",body:o,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){oe.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;oe.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})}}),ks!=null&&ks.sendBeacon&&Yd.push({transport:"sendBeacon",method:function(e){var t=Qg(e.url,{beacon:"1"});try{var n,r=(n=vy(e))!==null&&n!==void 0?n:{},i=r.contentType,o=r.body,s=typeof o=="string"?new Blob([o],{type:i}):o;ks.sendBeacon(t,s)}catch{}}});var _F=["retriesPerformedSoFar"],ml,xF=function(){function e(t){var n=this;xt(this,e),te(this,"isPolling",!1),te(this,"pollIntervalMs",3e3),te(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!Le(J)&&"onLine"in J.navigator&&(this.areWeOnline=J.navigator.onLine,J.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),J.addEventListener("offline",function(){n.areWeOnline=!1}))}return St(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=p$(t,_F);Hi(r)&&r>0&&(i.url=Qg(i.url,{retry_count:r})),this.instance._send_request(_e(_e({},i),{},{callback:function(o){var s;o.statusCode!==200&&(o.statusCode<400||o.statusCode>=500)&&(r??0)<10?n.enqueue(_e({retriesPerformedSoFar:r},i)):(s=i.callback)===null||s===void 0||s.call(i,o)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(s){var a=3e3*Math.pow(2,s),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var o="Enqueued failed request for retry in ".concat(r);navigator.onLine||(o+=" (Browser is offline)"),oe.warn(o),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,o=ro(r);try{for(o.s();!(i=o.n()).done;){var s=i.value.requestOptions;this.retriableRequest(s)}}catch(a){o.e(a)}finally{o.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=ro(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(_e(_e({},r),{},{transport:"sendBeacon"}))}catch(i){oe.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),sp=1800,SF=function(){function e(t,n,r,i){var o;xt(this,e),te(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||pa,this._windowIdGenerator=i||pa;var s=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||sp;if(Hi(a)?a>sp?oe.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):a<60&&oe.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(oe.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),a=sp),this._sessionTimeoutMs=1e3*Math.min(Math.max(a,60),sp),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var l=ur.parse(this._window_id_storage_key),c=ur.parse(this._primary_window_exists_storage_key);l&&!c?this._windowId=l:ur.remove(this._window_id_storage_key),ur.set(this._primary_window_exists_storage_key,!0)}if((o=this.config.bootstrap)!==null&&o!==void 0&&o.sessionID)try{var u=function(d){var h=d.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)}(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),u)}catch(d){oe.error("Invalid sessionID in bootstrap",d)}this._listenToReloadWindow()}return St(e,[{key:"onSessionId",value:function(t){var n=this;return Le(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&ur.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&ur.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?ur.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(te({},Fg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Fg];return qn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;J==null||J.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&ur.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=Nr(this._getSessionId(),3),i=r[0],o=r[1],s=r[2],a=this._getWindowId(),l=s&&s>0&&Math.abs(n-s)>864e5,c=!1,u=!o,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),oe.info("[SessionId] new session ID generated",{sessionId:o,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),s=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=s===0?new Date().getTime():s;return this._setWindowId(a),this._setSessionId(o,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(o,a)}),{sessionId:o,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(ml||(ml={}));var Kk="i.posthog.com",wF=function(){function e(t){xt(this,e),te(this,"_regionCache",{}),this.instance=t}return St(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n==="https://app.posthog.com"?"https://us.posthog.com":n}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ml.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ml.EU:this._regionCache[this.apiHost]=ml.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(Kk),".posthog.com"))+n;if(this.region===ml.CUSTOM)return this.apiHost+n;var r=Kk+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}},{key:"loadScript",value:function(t,n){if(this.instance.config.disable_external_dependency_loading)return oe.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=t[0]==="/"?this.endpointFor("assets",t):t,i=function(){if(!ke)return n("document not found");var o=ke.createElement("script");o.type="text/javascript",o.src=r,o.onload=function(l){return n(void 0,l)},o.onerror=function(l){return n(l)};var s,a=ke.querySelectorAll("body > script");a.length>0?(s=a[0].parentNode)===null||s===void 0||s.insertBefore(o,a[0]):ke.body.appendChild(o)};ke!=null&&ke.body?i():ke==null||ke.addEventListener("DOMContentLoaded",i)}}]),e}(),R1="/e/",ap="[Exception Capture]",EF=function(){function e(t){var n,r,i=this;xt(this,e),te(this,"originalOnUnhandledRejectionHandler",void 0),te(this,"startCapturing",function(){var o;if(J&&i.isEnabled&&!i.hasHandlers&&((o=J.onerror)===null||o===void 0||!o.__POSTHOG_INSTRUMENTED__)){var s=J.posthogErrorWrappingFunctions.wrapOnError,a=J.posthogErrorWrappingFunctions.wrapUnhandledRejection;if(s&&a)try{i.unwrapOnError=s(i.captureException.bind(i)),i.unwrapUnhandledRejection=a(i.captureException.bind(i))}catch(l){oe.error(ap+" failed to start",l),i.stopCapturing()}else oe.error(ap+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[yk]),this._endpoint=((r=this.instance.persistence)===null||r===void 0?void 0:r.props[Ak])||R1,this.startIfEnabled()}return St(e,[{key:"endpoint",get:function(){return this._endpoint}},{key:"isEnabled",get:function(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}},{key:"isCapturing",get:function(){var t;return!(J==null||(t=J.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}},{key:"hasHandlers",get:function(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this.isCapturing&&(oe.info(ap+" enabled, starting..."),this.loadScript(this.startCapturing))}},{key:"loadScript",value:function(t){this.hasHandlers&&t(),this.instance.requestRouter.loadScript(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js?v=".concat(To.LIB_VERSION)),function(n){if(n)return oe.error(ap+" failed to load script",n);t()})}},{key:"stopCapturing",value:function(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}},{key:"afterDecideResponse",value:function(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this._endpoint=hr(n)&&n.endpoint||R1,this.instance.persistence&&(this.instance.persistence.register(te({},yk,this.remoteEnabled)),this.instance.persistence.register(te({},Ak,this._endpoint))),this.startIfEnabled()}},{key:"captureException",value:function(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.sendExceptionEvent(t)}},{key:"sendExceptionEvent",value:function(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}]),e}(),E5="posthog-js";function k5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.organization,r=t.projectId,i=t.prefix,o=t.severityAllowList,s=o===void 0?["error"]:o;return function(a){var l,c,u,d,h,p;if(!(s==="*"||s.includes(a.level))||!e.__loaded)return a;a.tags||(a.tags={});var g=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));a.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var m=((l=a.exception)===null||l===void 0?void 0:l.values)||[],b={$exception_message:((c=m[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=m[0])===null||u===void 0?void 0:u.type,$exception_personURL:g,$exception_level:a.level,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=m[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=m[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(b.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),e.capture("$exception",b,{_url:((p=e.exceptionObserver)===null||p===void 0?void 0:p.endpoint)||R1}),a}}var kF=St(function e(t,n,r,i,o){xt(this,e),this.name=E5,this.setupOnce=function(s){s(k5(t,{organization:n,projectId:r,prefix:i,severityAllowList:o}))}});function CF(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var o=r.config.segment;if(!o)return i();var s=function(l){var c=function(){return l.anonymousId()||pa()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(ys,"identified")),i()},a=o.user();"then"in a&&Vo(a.then)?a.then(function(l){return s(l)}):s(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||oe.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(o,s){var a;if(!s)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||r.reset(),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:o.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(s,(a=o.event.properties)!==null&&a!==void 0?a:{},new Date);return o.event.properties=Object.assign({},l,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(o){return i(o,o.event.event)},page:function(o){return i(o,"$pageview")},identify:function(o){return i(o,"$identify")},screen:function(o){return i(o,"$screen")}}}(e)).then(function(){t()})})}var Yk,Jg,_o,TF=function(){function e(t){xt(this,e),this._instance=t}return St(e,[{key:"doPageView",value:function(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=J==null?void 0:J.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}},{key:"doPageLeave",value:function(t){return this._previousPageViewProperties(t)}},{key:"_previousPageViewProperties",value:function(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var o={};if(i){var s=i.maxScrollHeight,a=i.lastScrollY,l=i.maxScrollY,c=i.maxContentHeight,u=i.lastContentY,d=i.maxContentY;Le(s)||Le(a)||Le(l)||Le(c)||Le(u)||Le(d)||(s=Math.ceil(s),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),o={$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:s<=1?1:lp(a/s,0,1),$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:s<=1?1:lp(l/s,0,1),$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c<=1?1:lp(u/c,0,1),$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:c<=1?1:lp(d/c,0,1)})}return n&&(o.$prev_pageview_pathname=n),r&&(o.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),o}}]),e}();function lp(e,t,n){return Math.max(t,Math.min(e,n))}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(Yk||(Yk={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(Jg||(Jg={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(_o||(_o={}));var C5=function(){function e(){xt(this,e),te(this,"events",{}),this.events={}}return St(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=ro(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var o,s=ro(this.events["*"]||[]);try{for(s.s();!(o=s.n()).done;)(0,o.value)(t,n)}catch(a){s.e(a)}finally{s.f()}}}]),e}(),IF=function(){function e(t){var n=this;xt(this,e),te(this,"_debugEventEmitter",new C5),te(this,"checkStep",function(r,i){return n.checkStepEvent(r,i)&&n.checkStepUrl(r,i)&&n.checkStepElement(r,i)}),te(this,"checkStepEvent",function(r,i){return i==null||!i.event||(r==null?void 0:r.event)===(i==null?void 0:i.event)}),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}return St(e,[{key:"init",value:function(){var t,n=this;if(!Le((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var r;(r=this.instance)===null||r===void 0||r._addCaptureHook(function(i,o){n.on(i,o)})}}},{key:"register",value:function(t){var n,r,i=this;if(!Le((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(function(a){var l,c;(l=i.actionRegistry)===null||l===void 0||l.add(a),(c=a.steps)===null||c===void 0||c.forEach(function(u){var d;(d=i.actionEvents)===null||d===void 0||d.add((u==null?void 0:u.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var o,s=new Set;t.forEach(function(a){var l;(l=a.steps)===null||l===void 0||l.forEach(function(c){c!=null&&c.selector&&s.add(c==null?void 0:c.selector)})}),(o=this.instance)===null||o===void 0||o.autocapture.setElementSelectors(s)}}},{key:"on",value:function(t,n){var r,i=this;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(function(o){i.checkAction(n,o)&&i._debugEventEmitter.emit("actionCaptured",o.name)})}},{key:"_addActionHook",value:function(t){this.onAction("actionCaptured",function(n){return t(n)})}},{key:"checkAction",value:function(t,n){if((n==null?void 0:n.steps)==null)return!1;var r,i=ro(n.steps);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(this.checkStep(t,o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}},{key:"onAction",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"checkStepUrl",value:function(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!e.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}},{key:"checkStepElement",value:function(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(function(o){return!(n!=null&&n.href&&!e.matchString(o.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||o.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!e.matchString(o.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!e.matchString(o.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))}))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}},{key:"getElementsList",value:function(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}],[{key:"matchString",value:function(t,n,r){switch(r){case"regex":return!!J&&Hg(t,n);case"exact":return n===t;case"contains":var i=e.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return Hg(t,i);default:return!1}}},{key:"escapeStringRegexp",value:function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}]),e}(),P1=function(){function e(t){xt(this,e),this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}return St(e,[{key:"register",value:function(t){var n;Le((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}},{key:"setupActionBasedSurveys",value:function(t){var n=this,r=t.filter(function(i){var o,s,a,l;return((o=i.conditions)===null||o===void 0?void 0:o.actions)&&((s=i.conditions)===null||s===void 0||(a=s.actions)===null||a===void 0||(l=a.values)===null||l===void 0?void 0:l.length)>0});r.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new IF(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(function(i){n.onAction(i)})),r.forEach(function(i){var o,s,a,l,c,u,d,h,p,g;i.conditions&&(o=i.conditions)!==null&&o!==void 0&&o.actions&&(s=i.conditions)!==null&&s!==void 0&&(a=s.actions)!==null&&a!==void 0&&a.values&&((l=i.conditions)===null||l===void 0||(c=l.actions)===null||c===void 0||(u=c.values)===null||u===void 0?void 0:u.length)>0&&((d=n.actionMatcher)===null||d===void 0||d.register(i.conditions.actions.values),(h=i.conditions)===null||h===void 0||(p=h.actions)===null||p===void 0||(g=p.values)===null||g===void 0||g.forEach(function(m){if(m&&m.name){var b=n.actionToSurveys.get(m.name);b&&b.push(i.id),n.actionToSurveys.set(m.name,b||[i.id])}}))}))}},{key:"setupEventBasedSurveys",value:function(t){var n,r=this;t.filter(function(i){var o,s,a,l;return((o=i.conditions)===null||o===void 0?void 0:o.events)&&((s=i.conditions)===null||s===void 0||(a=s.events)===null||a===void 0||(l=a.values)===null||l===void 0?void 0:l.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook(function(i,o){r.onEvent(i,o)}),t.forEach(function(i){var o,s,a;(o=i.conditions)===null||o===void 0||(s=o.events)===null||s===void 0||(a=s.values)===null||a===void 0||a.forEach(function(l){if(l&&l.name){var c=r.eventToSurveys.get(l.name);c&&c.push(i.id),r.eventToSurveys.set(l.name,c||[i.id])}})}))}},{key:"onEvent",value:function(t,n){var r,i,o=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[ep])||[];if(e.SURVEY_SHOWN_EVENT_NAME==t&&n&&o.length>0){var s,a=n==null||(s=n.properties)===null||s===void 0?void 0:s.$survey_id;if(a){var l=o.indexOf(a);l>=0&&(o.splice(l,1),this._updateActivatedSurveys(o))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(o.concat(this.eventToSurveys.get(t)||[]))}},{key:"onAction",value:function(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[ep])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}},{key:"_updateActivatedSurveys",value:function(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register(te({},ep,Is(new Set(t))))}},{key:"getSurveys",value:function(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[ep];return r||[]}},{key:"getEventToSurveys",value:function(){return this.eventToSurveys}},{key:"_getActionMatcher",value:function(){return this.actionMatcher}}]),e}();te(P1,"SURVEY_SHOWN_EVENT_NAME","survey shown");var cd="[Surveys]",RF={icontains:function(e){return!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e){return!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())===-1},regex:function(e){return!!J&&Hg(J.location.href,e)},not_regex:function(e){return!!J&&!Hg(J.location.href,e)},exact:function(e){return(J==null?void 0:J.location.href)===e},is_not:function(e){return(J==null?void 0:J.location.href)!==e}},PF=function(){function e(t){xt(this,e),this.instance=t,this._surveyEventReceiver=null}return St(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=bn==null?void 0:bn.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new P1(this.instance)),this.instance.requestRouter.loadScript("/static/surveys.js",function(r){if(r)return oe.error(cd,"Could not load surveys script",r);t._surveyManager=bn.extendPostHogWithSurveys(t.instance)}))}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new P1(this.instance));var i=this.instance.get_property(h1);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(o){var s;if(o.statusCode!==200||!o.json)return t([]);var a,l=o.json.surveys||[],c=l.filter(function(u){var d,h,p,g,m,b,v,A,_,S,x,w;return((d=u.conditions)===null||d===void 0?void 0:d.events)&&((h=u.conditions)===null||h===void 0||(p=h.events)===null||p===void 0?void 0:p.values)&&((g=u.conditions)===null||g===void 0||(m=g.events)===null||m===void 0||(b=m.values)===null||b===void 0?void 0:b.length)>0||((v=u.conditions)===null||v===void 0?void 0:v.actions)&&((A=u.conditions)===null||A===void 0||(_=A.actions)===null||_===void 0?void 0:_.values)&&((S=u.conditions)===null||S===void 0||(x=S.actions)===null||x===void 0||(w=x.values)===null||w===void 0?void 0:w.length)>0});return c.length>0&&((a=n._surveyEventReceiver)===null||a===void 0||a.register(c)),(s=n.instance.persistence)===null||s===void 0||s.register(te({},h1,l)),t(l)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var o,s=i.filter(function(c){return!(!c.start_date||c.end_date)}).filter(function(c){var u,d,h,p;if(!c.conditions)return!0;var g=(u=c.conditions)===null||u===void 0||!u.url||RF[(d=(h=c.conditions)===null||h===void 0?void 0:h.urlMatchType)!==null&&d!==void 0?d:"icontains"](c.conditions.url),m=(p=c.conditions)===null||p===void 0||!p.selector||(ke==null?void 0:ke.querySelector(c.conditions.selector));return g&&m}),a=(o=n._surveyEventReceiver)===null||o===void 0?void 0:o.getSurveys(),l=s.filter(function(c){var u,d,h,p,g,m,b,v,A,_;if(!c.linked_flag_key&&!c.targeting_flag_key&&!c.internal_targeting_flag_key)return!0;var S=!c.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(c.linked_flag_key),x=!c.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(c.targeting_flag_key),w=((u=c.conditions)===null||u===void 0?void 0:u.events)&&((d=c.conditions)===null||d===void 0||(h=d.events)===null||h===void 0?void 0:h.values)&&((p=c.conditions)===null||p===void 0||(g=p.events)===null||g===void 0?void 0:g.values.length)>0,E=((m=c.conditions)===null||m===void 0?void 0:m.actions)&&((b=c.conditions)===null||b===void 0||(v=b.actions)===null||v===void 0?void 0:v.values)&&((A=c.conditions)===null||A===void 0||(_=A.actions)===null||_===void 0?void 0:_.values.length)>0,C=!w&&!E||(a==null?void 0:a.includes(c.id)),j=n._canActivateRepeatedly(c),L=!(c.internal_targeting_flag_key&&!j)||n.instance.featureFlags.isFeatureEnabled(c.internal_targeting_flag_key);return S&&x&&L&&C});return t(l)},r)}},{key:"getNextSurveyStep",value:function(t,n,r){var i,o=t.questions[n],s=n+1;if((i=o.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?_o.End:s;if(o.branching.type===_o.End)return _o.End;if(o.branching.type===_o.SpecificQuestion){if(Number.isInteger(o.branching.index))return o.branching.index}else if(o.branching.type===_o.ResponseBased){if(o.type===Jg.SingleChoice){var a,l,c=o.choices.indexOf("".concat(r));if((a=o.branching)!==null&&a!==void 0&&(l=a.responseValues)!==null&&l!==void 0&&l.hasOwnProperty(c)){var u=o.branching.responseValues[c];return Number.isInteger(u)?u:u===_o.End?_o.End:s}}else if(o.type===Jg.Rating){var d,h;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var p=function(m,b){if(b===3){if(m<1||m>3)throw new Error("The response must be in range 1-3");return m===1?"negative":m===2?"neutral":"positive"}if(b===5){if(m<1||m>5)throw new Error("The response must be in range 1-5");return m<=2?"negative":m===3?"neutral":"positive"}if(b===10){if(m<0||m>10)throw new Error("The response must be in range 0-10");return m<=6?"detractors":m<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 10")}(r,o.scale);if((d=o.branching)!==null&&d!==void 0&&(h=d.responseValues)!==null&&h!==void 0&&h.hasOwnProperty(p)){var g=o.branching.responseValues[p];return Number.isInteger(g)?g:g===_o.End?_o.End:s}}return s}return oe.warn(cd,"Falling back to next question index due to unexpected branching type"),s}},{key:"_canActivateRepeatedly",value:function(t){return ni(bn.__PosthogExtensions__.canActivateRepeatedly)&&oe.warn(cd,"canActivateRepeatedly is not defined, must init before calling"),bn.__PosthogExtensions__.canActivateRepeatedly(t)}},{key:"canRenderSurvey",value:function(t){var n=this;ni(this._surveyManager)?oe.warn(cd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(r){var i=r.filter(function(o){return o.id===t})[0];n._surveyManager.canRenderSurvey(i)})}},{key:"renderSurvey",value:function(t,n){var r=this;ni(this._surveyManager)?oe.warn(cd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(i){var o=i.filter(function(s){return s.id===t})[0];r._surveyManager.renderSurvey(o,ke==null?void 0:ke.querySelector(n))})}}]),e}(),MF=function(){function e(t){var n,r,i=this;xt(this,e),te(this,"serverLimits",{}),te(this,"lastEventRateLimited",!1),te(this,"checkForLimiting",function(o){var s=o.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(function(a){oe.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void oe.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return St(e,[{key:"clientRateLimitContext",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=new Date().getTime(),s=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(g1))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:o};s.tokens+=(o-s.last)/1e3*this.captureEventsPerSecond,s.last=o,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var a=s.tokens<1;return a||i||(s.tokens=Math.max(0,s.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(g1,s),{isRateLimited:a,remainingTokens:s.tokens}}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),jF=function(){return _e({initialPathName:(Qr==null?void 0:Qr.pathname)||"",referringDomain:er.referringDomain()},er.campaignParams())},OF=function(){function e(t,n,r){var i=this;xt(this,e),te(this,"_onSessionIdCallback",function(o){var s=i._getStoredProps();if(!s||s.sessionId!==o){var a={sessionId:o,props:i._sessionSourceParamGenerator()};i._persistence.register(te({},p1,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||jF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return St(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[p1]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),VF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],Qk=function(e,t){if(!e)return!1;var n=e.toLowerCase();return VF.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},T5=function(){function e(){xt(this,e),this.clicks=[]}return St(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}();function Jk(e){var t;return e.id===y1||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+y1))}var LF=function(){function e(t){var n,r=this;xt(this,e),te(this,"rageclicks",new T5),te(this,"_enabledServerSide",!1),te(this,"_initialized",!1),te(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[u1]),J==null||J.addEventListener("beforeunload",function(){r.flush()})}return St(e,[{key:"flushIntervalMilliseconds",get:function(){var t=5e3;return hr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}},{key:"isEnabled",get:function(){return Le(this.instance.config.capture_heatmaps)?Le(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}},{key:"startIfEnabled",value:function(){if(this.isEnabled){if(this._initialized)return;oe.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),this.getAndClearBuffer()}}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(te({},u1,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;J&&ke&&(ws(ke,"click",function(n){return t._onClick(n||(J==null?void 0:J.event))},!1,!0),ws(ke,"mousemove",function(n){return t._onMouseMove(n||(J==null?void 0:J.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),s=function(a,l,c){for(var u=a;u&&!xa(u,"body");){if(u===c)return!1;if(ct(l,J==null?void 0:J.getComputedStyle(u).position))return!0;u=g5(u)}return!1}(t.target,["fixed","sticky"],o);return{x:t.clientX+(s?0:i),y:t.clientY+(s?0:r),target_fixed:s,type:n}}},{key:"_onClick",value:function(t){var n;if(!Jk(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(_e(_e({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;Jk(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(J){var n=J.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}},{key:"flush",value:function(){this.buffer&&!ag(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}]),e}(),NF=function(){function e(t){var n=this;xt(this,e),te(this,"_updateScrollData",function(){var r,i,o,s;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(o=n.context.maxContentY)!==null&&o!==void 0?o:0),n.context.maxContentHeight=Math.max(d,(s=n.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}return St(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){J==null||J.addEventListener("scroll",this._updateScrollData,!0),J==null||J.addEventListener("scrollend",this._updateScrollData,!0),J==null||J.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return J==null?void 0:J.document.documentElement;var t,n=ro(qn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=J==null?void 0:J.document.querySelector(r);if(i)return i}}catch(o){n.e(o)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return J&&(J.scrollY||J.pageYOffset||J.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return J&&(J.scrollX||J.pageXOffset||J.document.documentElement.scrollLeft)||0}}]),e}(),yy="$copy_autocapture";function Ay(e,t){return t.length>e?t.slice(0,e)+"...":t}var oa,DF=function(){function e(t){xt(this,e),te(this,"_initialized",!1),te(this,"_isDisabledServerSide",null),te(this,"rageclicks",new T5),te(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}return St(e,[{key:"config",get:function(){var t,n,r=hr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(function(i){return new RegExp(i)}),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(function(i){return new RegExp(i)}),r}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(J&&ke){var n=function(i){i=i||(J==null?void 0:J.event);try{t._captureEvent(i)}catch(o){oe.error("Failed to capture event",o)}},r=function(i){i=i||(J==null?void 0:J.event),t._captureEvent(i,yy)};ws(ke,"submit",n,!1,!0),ws(ke,"change",n,!1,!0),ws(ke,"click",n,!1,!0),this.config.capture_copied_text&&(ws(ke,"copy",r,!1,!0),ws(ke,"cut",r,!1,!0))}}else oe.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(te({},vk,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"setElementSelectors",value:function(t){this._elementSelectors=t}},{key:"getElementSelectors",value:function(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(function(i){var o=ke==null?void 0:ke.querySelectorAll(i);o==null||o.forEach(function(s){t===s&&r.push(i)})}),r}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[vk],i=this._isDisabledServerSide;if(Ws(i)&&!kc(r)&&!this.instance.config.advanced_disable_decide)return!1;var o=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!o}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!yx(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!E1(t))return{};var n={};return Nt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),o=r.value;i&&o&&Yc(o)&&(n[i]=o)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,o=t.tagName.toLowerCase(),s={tag_name:o};w1.indexOf(o)>-1&&!r&&(o.toLowerCase()==="a"||o.toLowerCase()==="button"?s.$el_text=Ay(1024,Nk(t)):s.$el_text=Ay(1024,Kg(t)));var a=Wg(t);a.length>0&&(s.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Nt(t.attributes,function(h){var p;if((!m5(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&Yc(h.value)&&(p=h.name,!kr(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=vx(g).join(" ")),s["attr__"+h.name]=Ay(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return s.nth_child=c,s.nth_of_type=u,s}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return Le(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,o=this._getEventTarget(t);h5(o)&&(o=o.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=r===yy;if(o&&q$(o,t,this.config,s,s?["copy","cut"]:void 0)){for(var a,l,c=[o],u=o;u.parentNode&&!xa(u,"body");)p5(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h,p=[],g={},m=!1;if(Nt(c,function(j){var L=E1(j);j.tagName.toLowerCase()==="a"&&(d=j.getAttribute("href"),d=L&&Yc(d)&&d),ct(Wg(j),"ph-no-capture")&&(m=!0),p.push(n._getPropertiesFromElement(j,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var B=n._getAugmentPropertiesFromElement(j);Dr(g,B)}),this.instance.config.mask_all_text||(o.tagName.toLowerCase()==="a"||o.tagName.toLowerCase()==="button"?p[0].$el_text=Nk(o):p[0].$el_text=Kg(o)),d){var b,v;p[0].attr__href=d;var A=(b=Wd(d))===null||b===void 0?void 0:b.host,_=J==null||(v=J.location)===null||v===void 0?void 0:v.host;A&&_&&A!==_&&(h=d)}if(m)return!1;var S=Dr(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:J$(p)}:{$elements:p},(a=p[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=p[0])===null||l===void 0?void 0:l.$el_text}:{},h&&t.type==="click"?{$external_click_url:h}:{},g),x=this.getElementSelectors(o);if(x&&x.length>0&&(S.$element_selectors=x),r===yy){var w,E=f5(J==null||(w=J.getSelection())===null||w===void 0?void 0:w.toString()),C=t.type||"clipboard";if(!E)return!1;S.$selected_content=E,S.$copy_type=C}return this.instance.capture(r,S),!0}}}},{key:"isBrowserSupported",value:function(){return Vo(ke==null?void 0:ke.querySelectorAll)}}]),e}(),BF=function(){function e(t){var n=this;xt(this,e),te(this,"_restoreXHRPatch",void 0),te(this,"_restoreFetchPatch",void 0),te(this,"_startCapturing",function(){Le(n._restoreXHRPatch)&&bn.postHogTracingHeadersPatchFns._patchXHR(n.instance.sessionManager),Le(n._restoreFetchPatch)&&bn.postHogTracingHeadersPatchFns._patchFetch(n.instance.sessionManager)}),this.instance=t}return St(e,[{key:"_loadScript",value:function(t){bn.postHogTracingHeadersPatchFns&&t(),this.instance.requestRouter.loadScript("/static/tracing-headers.js?v=".concat(To.LIB_VERSION),function(n){if(n)return oe.error("[TRACING-HEADERS] failed to load script",n);t()})}},{key:"startIfEnabledOrStop",value:function(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}]),e}();(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(oa||(oa={}));var $F=function(){function e(t){xt(this,e),this.instance=t}return St(e,[{key:"config",get:function(){return this.instance.config}},{key:"consent",get:function(){return this.getDnt()?oa.DENIED:this.storedConsent}},{key:"isOptedOut",value:function(){return this.consent===oa.DENIED||this.consent===oa.PENDING&&this.config.opt_out_capturing_by_default}},{key:"isOptedIn",value:function(){return!this.isOptedOut()}},{key:"optInOut",value:function(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}},{key:"reset",value:function(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}},{key:"storageKey",get:function(){var t=this.instance.config,n=t.token;return(t.opt_out_capturing_cookie_prefix||"__ph_opt_in_out_")+n}},{key:"storedConsent",get:function(){var t=this.storage.get(this.storageKey);return t==="1"?oa.GRANTED:t==="0"?oa.DENIED:oa.PENDING}},{key:"storage",get:function(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?Gn:Rs;var n=t==="localStorage"?Rs:Gn;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}},{key:"getDnt",value:function(){return!!this.config.respect_dnt&&!!KM([ks==null?void 0:ks.doNotTrack,ks==null?void 0:ks.msDoNotTrack,bn.doNotTrack],function(t){return ct([!0,1,"1","yes"],t)})}}]),e}(),Xk=9e5,nl="[Web Vitals]",FF=function(){function e(t){var n,r=this;xt(this,e),te(this,"_enabledServerSide",!1),te(this,"_initialized",!1),te(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),te(this,"_flushToCapture",function(){clearTimeout(r._delayedFlushTimer),r.buffer.metrics.length!==0&&(r.instance.capture("$web_vitals",r.buffer.metrics.reduce(function(i,o){var s;return _e(_e({},i),{},(te(s={},"$web_vitals_".concat(o.name,"_event"),_e({},o)),te(s,"$web_vitals_".concat(o.name,"_value"),o.value),s))},{})),r.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),te(this,"_addToBuffer",function(i){var o,s=(o=r.instance.sessionManager)===null||o===void 0?void 0:o.checkAndGetSessionAndWindowId(!0);if(Le(s))oe.error(nl+"Could not read session ID. Dropping metrics!");else{r.buffer=r.buffer||{};var a=r._currentURL();Le(a)||(ni(i==null?void 0:i.name)||ni(i==null?void 0:i.value)?oe.error(nl+"Invalid metric received",i):r._maxAllowedValue&&i.value>=r._maxAllowedValue?oe.error(nl+"Ignoring metric with value >= "+r._maxAllowedValue,i):(r.buffer.url!==a&&(r._flushToCapture(),r._delayedFlushTimer=setTimeout(r._flushToCapture,8e3)),Le(r.buffer.url)&&(r.buffer.url=a),r.buffer.firstMetricTimestamp=Le(r.buffer.firstMetricTimestamp)?Date.now():r.buffer.firstMetricTimestamp,r.buffer.metrics.push(_e(_e({},i),{},{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),r.buffer.metrics.length===4&&r._flushToCapture()))}}),te(this,"_startCapturing",function(){var i=bn.postHogWebVitalsCallbacks,o=i.onLCP,s=i.onCLS,a=i.onFCP,l=i.onINP;o&&s&&a&&l?(o(r._addToBuffer),s(r._addToBuffer),a(r._addToBuffer),l(r._addToBuffer),r._initialized=!0):oe.error(nl+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[bk]),this.startIfEnabled()}return St(e,[{key:"_maxAllowedValue",get:function(){var t=hr(this.instance.config.capture_performance)&&Hi(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:Xk;return 0<t&&t<=6e4?Xk:t}},{key:"isEnabled",get:function(){var t=hr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return kc(t)?t:this._enabledServerSide}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(oe.info(nl+" enabled, starting..."),this.loadScript(this._startCapturing))}},{key:"afterDecideResponse",value:function(t){var n=hr(t.capturePerformance)&&!!t.capturePerformance.web_vitals;this.instance.persistence&&this.instance.persistence.register(te({},bk,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"loadScript",value:function(t){J.postHogWebVitalsCallbacks&&t(),this.instance.requestRouter.loadScript(this.instance.requestRouter.endpointFor("assets","/static/web-vitals.js?v=".concat(To.LIB_VERSION)),function(n){n?oe.error(nl+" failed to load script",n):t()})}},{key:"_currentURL",value:function(){var t=J?J.location.href:void 0;return t||oe.error(nl+"Could not determine current URL"),t}}]),e}(),Qd={},Zk=function(){},Sc="posthog",I5=!AF&&(Tn==null?void 0:Tn.indexOf("MSIE"))===-1&&(Tn==null?void 0:Tn.indexOf("Mozilla"))===-1,e2=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=ke==null?void 0:ke.location,n=t==null?void 0:t.hostname,!!kr(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:Zk,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Qr&&kr(Qr==null?void 0:Qr.search)&&Qr.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(J==null||(e=J.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;oe.error(i)},get_device_id:function(r){return r},_onCapture:Zk,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always",__add_tracing_headers:!1}},t2=function(e){var t={};Le(e.process_person)||(t.person_profiles=e.process_person),Le(e.xhr_headers)||(t.request_headers=e.xhr_headers),Le(e.cookie_name)||(t.persistence_name=e.cookie_name),Le(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Dr({},t,e);return qn(e.property_blacklist)&&(Le(e.property_denylist)?n.property_denylist=e.property_blacklist:qn(e.property_denylist)?n.property_denylist=[].concat(Is(e.property_blacklist),Is(e.property_denylist)):oe.error("Invalid value for property_denylist config: "+e.property_denylist)),n},zF=function(){function e(){xt(this,e),te(this,"__forceAllowLocalhost",!1)}return St(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){oe.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),R5=function(){function e(){var t=this;xt(this,e),te(this,"webPerformance",new zF),te(this,"_internalEventEmitter",new C5),this.config=e2(),this.decideEndpointWasHit=!1,this.SentryIntegration=kF,this.sentryIntegration=function(n){return function(r,i){var o=k5(r,i);return{name:E5,processEvent:function(s){return o(s)}}}(t,n)},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new _$(this),this.toolbar=new cF(this),this.scrollManager=new NF(this),this.pageViewManager=new TF(this),this.surveys=new PF(this),this.rateLimiter=new MF(this),this.requestRouter=new wF(this),this.consent=new $F(this),this.people={set:function(n,r,i){var o=kr(n)?te({},n,r):n;t.setPersonProperties(o),i==null||i({})},set_once:function(n,r,i){var o=kr(n)?te({},n,r):n;t.setPersonProperties(void 0,o),i==null||i({})}},this.on("eventCaptured",function(n){return oe.info("send",n)})}return St(e,[{key:"init",value:function(t,n,r){if(r&&r!==Sc){var i,o=(i=Qd[r])!==null&&i!==void 0?i:new e;return o._init(t,n,r),Qd[r]=o,Qd[Sc][r]=o,o}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(Le(t)||dk(t))return oe.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return oe.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Dr({},e2(),t2(o),{name:s,token:t})),this.config.on_xhr_error&&oe.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=o.disable_compression?void 0:Io.Base64,this.persistence=new py(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new py(_e(_e({},this.config),{},{persistence:"sessionStorage"}));var a=_e({},this.persistence.props),l=_e({},this.sessionPersistence.props);if(this._requestQueue=new uF(function(A){return i._send_retriable_request(A)}),this._retryQueue=new xF(this),this.__request_queue=[],this.sessionManager=new SF(this.config,this.persistence),this.sessionPropsManager=new OF(this.sessionManager,this.persistence),new BF(this).startIfEnabledOrStop(),this.sessionRecording=new sF(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new DF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new LF(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new FF(this),this.exceptionObserver=new EF(this),this.exceptionObserver.startIfEnabled(),To.DEBUG=To.DEBUG||this.config.debug,To.DEBUG&&oe.info("Starting in debug mode",{this:this,config:o,thisC:_e({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),((n=o.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var c,u,d=this.config.get_device_id(pa()),h=(c=o.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?d:o.bootstrap.distinctID;this.persistence.set_property(ys,(u=o.bootstrap)!==null&&u!==void 0&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:o.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var p,g,m=Object.keys(((p=o.bootstrap)===null||p===void 0?void 0:p.featureFlags)||{}).filter(function(A){var _,S;return!((_=o.bootstrap)===null||_===void 0||(S=_.featureFlags)===null||S===void 0||!S[A])}).reduce(function(A,_){var S,x;return A[_]=((S=o.bootstrap)===null||S===void 0||(x=S.featureFlags)===null||x===void 0?void 0:x[_])||!1,A},{}),b=Object.keys(((g=o.bootstrap)===null||g===void 0?void 0:g.featureFlagPayloads)||{}).filter(function(A){return m[A]}).reduce(function(A,_){var S,x,w,E;return(S=o.bootstrap)!==null&&S!==void 0&&(x=S.featureFlagPayloads)!==null&&x!==void 0&&x[_]&&(A[_]=(w=o.bootstrap)===null||w===void 0||(E=w.featureFlagPayloads)===null||E===void 0?void 0:E[_]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:b})}if(!this.get_distinct_id()){var v=this.config.get_device_id(pa());this.register_once({distinct_id:v,$device_id:v},""),this.persistence.set_property(ys,"anonymous")}return J==null||(r=J.addEventListener)===null||r===void 0||r.call(J,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),o.segment?CF(this,function(){return i._loaded()}):this._loaded(),Vo(this.config._onCapture)&&this.on("eventCaptured",function(A){return i.config._onCapture(A.event,A)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,o,s,a,l;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ct(t.supportedCompression,Io.GZipJS)?Io.GZipJS:ct(t.supportedCompression,Io.Base64)?Io.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(o=this.heatmaps)===null||o===void 0||o.afterDecideResponse(t),(s=this.surveys)===null||s===void 0||s.afterDecideResponse(t),(a=this.webVitalsAutocapture)===null||a===void 0||a.afterDecideResponse(t),(l=this.exceptionObserver)===null||l===void 0||l.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){oe.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){ke&&t.capture("$pageview",{title:ke.title},{send_instantly:!0})},1),n||(new aF(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||qc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(I5?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Qg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i,o,s,a=_e({},r);a.timeout=a.timeout||6e4,a.url=Qg(a.url,{_:new Date().getTime().toString(),ver:To.LIB_VERSION,compression:a.compression});var l=(i=a.transport)!==null&&i!==void 0?i:"XHR",c=(o=(s=KM(Yd,function(u){return u.transport===l}))===null||s===void 0?void 0:s.method)!==null&&o!==void 0?o:Yd[0].method;if(!c)throw new Error("No available transport method");c(a)}(_e(_e({},t),{},{callback:function(r){var i,o,s;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((o=(s=n.config).on_request_error)===null||o===void 0||o.call(s,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],o=[],s=[];qc(t,function(l){l&&(n=l[0],qn(n)?s.push(l):Vo(l)?l.call(r):qn(l)&&n==="alias"?i.push(l):qn(l)&&n.indexOf("capture")!==-1&&Vo(r[n])?s.push(l):o.push(l))});var a=function(l,c){qc(l,function(u){if(qn(u[0])){var d=c;Nt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(o,this),a(s,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return oe.uninitializedWarning("posthog.capture");if(!this.consent.isOptedOut())if(!Le(t)&&kr(t)){if(!Tn||this.config.opt_out_useragent_filter||!Qk(Tn,this.config.custom_blocked_useragents)){var o=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,a=(r==null?void 0:r.timestamp)||s,l={uuid:pa(),event:t,properties:this._calculate_event_properties(t,n||{},a)};o&&(l.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),r!=null&&r.$set&&(l.$set=r==null?void 0:r.$set);var c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(l.$set_once=c),(l=y$(l,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,Le(r==null?void 0:r.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=s);var u=_e(_e({},l.properties.$set),l.$set);ag(u)||this.setPersonPropertiesForFlags(u),this._internalEventEmitter.emit("eventCaptured",l);var d={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(d):this._requestQueue.enqueue(d),l}oe.critical("This capture call is ignored due to client rate limiting.")}}else oe.error("No event name provided to posthog.capture")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event,n)})}},{key:"_calculate_event_properties",value:function(t,n,r){if(!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),o=_e({},n);if(o.token=this.config.token,t==="$snapshot"){var s=_e(_e({},this.persistence.properties()),this.sessionPersistence.properties());return o.distinct_id=s.distinct_id,(!kr(o.distinct_id)&&!Hi(o.distinct_id)||dk(o.distinct_id))&&oe.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var a=er.properties();if(this.sessionManager){var l=this.sessionManager.checkAndGetSessionAndWindowId(),c=l.sessionId,u=l.windowId;o.$session_id=c,o.$window_id=u}if(this.requestRouter.region===ml.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var d=this.sessionPropsManager.getSessionProps();o=Dr(o,d)}if(!this.config.disable_scroll_properties){var h={};t==="$pageview"?h=this.pageViewManager.doPageView(r):t==="$pageleave"&&(h=this.pageViewManager.doPageLeave(r)),o=Dr(o,h)}if(t==="$pageview"&&ke&&(o.title=ke.title),!Le(i)){var p=r.getTime()-i;o.$duration=parseFloat((p/1e3).toFixed(3))}Tn&&this.config.opt_out_useragent_filter&&(o.$browser_type=Qk(Tn,this.config.custom_blocked_useragents)?"bot":"browser"),(o=Dr({},a,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),qn(this.config.property_denylist)?Nt(this.config.property_denylist,function(m){delete o[m]}):oe.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;return g&&(o=g(o,t)),o.$process_person_profile=this._hasPersonProcessing(),o}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Dr({},this.persistence.get_initial_props(),t||{});return ag(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(te({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._internalEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"renderSurvey",value:function(t,n){this.surveys.renderSurvey(t,n)}},{key:"canRenderSurvey",value:function(t){this.surveys.canRenderSurvey(t)}},{key:"getNextSurveyStep",value:function(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return oe.uninitializedWarning("posthog.identify");if(Hi(t)&&(t=t.toString(),oe.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))oe.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(Pd)&&(this.unregister(Pd),this.register({distinct_id:t}));var s=(this.persistence.get_property(ys)||"anonymous")==="anonymous";t!==i&&s?(this.persistence.set_property(ys,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(zg))}}else oe.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:_e(_e({},i),{},te({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(te({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else oe.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,o;if(oe.info("reset"),!this.__loaded)return oe.uninitializedWarning("posthog.reset");var s=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(ys,"anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var a=this.config.get_device_id(pa());this.register_once({distinct_id:a,$device_id:t?a:s},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,o=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var s,a=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!i)return o;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);o+="?t=".concat(l)}return o}},{key:"alias",value:function(t,n){return t===this.get_property(YM)?(oe.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Le(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Pd,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(oe.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,o,s=_e({},this.config);hr(t)&&(Dr(this.config,t2(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new py(_e(_e({},this.config),{},{persistence:"sessionStorage"})),Gn.is_supported()&&Gn.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(To.DEBUG=!0,oe.info("set_config",{config:t,oldConfig:s,newConfig:_e({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(o=this.heatmaps)===null||o===void 0||o.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(te({},qd,!0)),oe.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Sc;return n!==Sc&&(n=Sc+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(ys))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(ys))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&ag(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Pd])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Ug]))}},{key:"_shouldCapturePageleave",value:function(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}},{key:"createPersonProfile",value:function(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(oe.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Ug,!0),!0)}},{key:"_sync_opt_out_with_persistence",value:function(){var t,n,r,i,o=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,a=this.config.disable_persistence||o&&!!s;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==a&&((r=this.persistence)===null||r===void 0||r.set_disabled(a)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==a&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(a))}},{key:"opt_in_capturing",value:function(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(Le(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0})}},{key:"opt_out_capturing",value:function(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}},{key:"has_opted_in_capturing",value:function(){return this.consent.isOptedIn()}},{key:"has_opted_out_capturing",value:function(){return this.consent.isOptedOut()}},{key:"clear_opt_in_out_capturing",value:function(){this.consent.reset(),this._sync_opt_out_with_persistence()}},{key:"debug",value:function(t){t===!1?(J==null||J.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(J==null||J.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=v$(e.prototype[t[n]])})(R5,["identify"]);var n2,_n=(n2=Qd[Sc]=new R5,function(){function e(){e.done||(e.done=!0,I5=!1,Nt(Qd,function(t){t._dom_loaded()}))}ke!=null&&ke.addEventListener&&(ke.readyState==="complete"?e():ke.addEventListener("DOMContentLoaded",e,!1)),J&&ws(J,"load",e,!0)}(),n2);class gt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,o=!1)=>{this.unsubscribe(i),this.subscribers.push(i),o&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(o=>o!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(o=>o(...i)),this.lastParams=i,this.track&&_n.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const ee={sectionChange:new gt("sectionChange",void 0,!1),playerAdded:new gt("playerAdded",!1),playerRemoved:new gt("playerRemoved",!1),songStarted:new gt("songStarted",!1),songEnded:new gt("songEnded",!1),remoteMicConnected:new gt("remoteMicConnected"),remoteMicDisconnected:new gt("remoteMicDisconnected"),playerNameChanged:new gt("playerNameChanged"),playerInputChanged:new gt("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new gt("inputListChanged"),karaokeConnectionStatusChange:new gt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new gt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new gt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new gt("remoteMicMonitoringStopped"),micMonitoringStarted:new gt("micMonitoringStarted"),micMonitoringStopped:new gt("micMonitoringStopped"),playerChangeRequested:new gt("playerChangeRequested",!0),songStatStored:new gt("songStatStored"),songScoreUpdated:new gt("songScoreUpdated",()=>{}),remoteMicSubscribed:new gt("remoteMicSubscribed"),remoteKeyboardPressed:new gt("remoteKeyboardPressed"),remoteSongSearch:new gt("remoteSongSearch",!0),remoteSongSelected:new gt("remoteSongSelected",!0),remoteMicListUpdated:new gt("remoteMicListUpdated"),remoteKeyboardLayout:new gt("remoteKeyboardLayout"),remoteReadinessRequested:new gt("remoteReadinessRequested"),remoteStyleChanged:new gt("remoteStyleChanged"),remoteMicPermissionsSet:new gt("remoteMicPermissionsSet"),readinessConfirmed:new gt("remoteReadinessConfirmed"),minPlayerNumberChanged:new gt("minPlayerNumberChanged"),micServerStarted:new gt("micServerStarted"),micServerStopped:new gt("micServerStopped")};ee.songStarted.subscribe(()=>{Ro.clearData(),Ro.startRecord()});ee.songEnded.subscribe(()=>{Ro.stopRecord()});function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}var UF=/^\s+/,HF=/\s+$/;function he(e,t){if(e=e||"",t=t||{},e instanceof he)return e;if(!(this instanceof he))return new he(e,t);var n=GF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}he.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,s,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(t){return this._a=P5(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=i2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=i2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=r2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=r2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return o2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return YF(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(nn(this._r,255)*100)+"%",g:Math.round(nn(this._g,255)*100)+"%",b:Math.round(nn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(nn(this._r,255)*100)+"%, "+Math.round(nn(this._g,255)*100)+"%, "+Math.round(nn(this._b,255)*100)+"%)":"rgba("+Math.round(nn(this._r,255)*100)+"%, "+Math.round(nn(this._g,255)*100)+"%, "+Math.round(nn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:a6[o2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+s2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=he(t);r="#"+s2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return o?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return he(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(ZF,arguments)},brighten:function(){return this._applyModification(e6,arguments)},darken:function(){return this._applyModification(t6,arguments)},desaturate:function(){return this._applyModification(QF,arguments)},saturate:function(){return this._applyModification(JF,arguments)},greyscale:function(){return this._applyModification(XF,arguments)},spin:function(){return this._applyModification(n6,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(o6,arguments)},complement:function(){return this._applyCombination(r6,arguments)},monochromatic:function(){return this._applyCombination(s6,arguments)},splitcomplement:function(){return this._applyCombination(i6,arguments)},triad:function(){return this._applyCombination(a2,[3])},tetrad:function(){return this._applyCombination(a2,[4])}};he.fromRatio=function(e,t){if(Xg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Od(e[r]));e=n}return he(e,t)};function GF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=d6(e)),Xg(e)=="object"&&(ps(e.r)&&ps(e.g)&&ps(e.b)?(t=qF(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ps(e.h)&&ps(e.s)&&ps(e.v)?(r=Od(e.s),i=Od(e.v),t=KF(e.h,r,i),s=!0,a="hsv"):ps(e.h)&&ps(e.s)&&ps(e.l)&&(r=Od(e.s),o=Od(e.l),t=WF(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=P5(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function qF(e,t,n){return{r:nn(e,255)*255,g:nn(t,255)*255,b:nn(n,255)*255}}function r2(e,t,n){e=nn(e,255),t=nn(t,255),n=nn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,l:a}}function WF(e,t,n){var r,i,o;e=nn(e,360),t=nn(t,100),n=nn(n,100);function s(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function i2(e,t,n){e=nn(e,255),t=nn(t,255),n=nn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,v:a}}function KF(e,t,n){e=nn(e,360)*6,t=nn(t,100),n=nn(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:d*255}}function o2(e,t,n,r){var i=[Po(Math.round(e).toString(16)),Po(Math.round(t).toString(16)),Po(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function YF(e,t,n,r,i){var o=[Po(Math.round(e).toString(16)),Po(Math.round(t).toString(16)),Po(Math.round(n).toString(16)),Po(M5(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function s2(e,t,n,r){var i=[Po(M5(r)),Po(Math.round(e).toString(16)),Po(Math.round(t).toString(16)),Po(Math.round(n).toString(16))];return i.join("")}he.equals=function(e,t){return!e||!t?!1:he(e).toRgbString()==he(t).toRgbString()};he.random=function(){return he.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function QF(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.s-=t/100,n.s=f0(n.s),he(n)}function JF(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.s+=t/100,n.s=f0(n.s),he(n)}function XF(e){return he(e).desaturate(100)}function ZF(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.l+=t/100,n.l=f0(n.l),he(n)}function e6(e,t){t=t===0?0:t||10;var n=he(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),he(n)}function t6(e,t){t=t===0?0:t||10;var n=he(e).toHsl();return n.l-=t/100,n.l=f0(n.l),he(n)}function n6(e,t){var n=he(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,he(n)}function r6(e){var t=he(e).toHsl();return t.h=(t.h+180)%360,he(t)}function a2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=he(e).toHsl(),r=[he(e)],i=360/t,o=1;o<t;o++)r.push(he({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function i6(e){var t=he(e).toHsl(),n=t.h;return[he(e),he({h:(n+72)%360,s:t.s,l:t.l}),he({h:(n+216)%360,s:t.s,l:t.l})]}function o6(e,t,n){t=t||6,n=n||30;var r=he(e).toHsl(),i=360/n,o=[he(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(he(r));return o}function s6(e,t){t=t||6;for(var n=he(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(he({h:r,s:i,v:o})),o=(o+a)%1;return s}he.mix=function(e,t,n){n=n===0?0:n||50;var r=he(e).toRgb(),i=he(t).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return he(s)};he.readability=function(e,t){var n=he(e),r=he(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};he.isReadable=function(e,t,n){var r=he.readability(e,t),i,o;switch(o=!1,i=f6(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};he.mostReadable=function(e,t,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)o=he.readability(e,t[c]),o>i&&(i=o,r=he(t[c]));return he.isReadable(e,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,he.mostReadable(e,["#fff","#000"],n))};var M1=he.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},a6=he.hexNames=l6(M1);function l6(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function P5(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function nn(e,t){c6(e)&&(e="100%");var n=u6(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function f0(e){return Math.min(1,Math.max(0,e))}function pi(e){return parseInt(e,16)}function c6(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function u6(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Po(e){return e.length==1?"0"+e:""+e}function Od(e){return e<=1&&(e=e*100+"%"),e}function M5(e){return Math.round(parseFloat(e)*255).toString(16)}function l2(e){return pi(e)/255}var bo=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ps(e){return!!bo.CSS_UNIT.exec(e)}function d6(e){e=e.replace(UF,"").replace(HF,"").toLowerCase();var t=!1;if(M1[e])e=M1[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=bo.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=bo.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=bo.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=bo.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=bo.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=bo.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=bo.hex8.exec(e))?{r:pi(n[1]),g:pi(n[2]),b:pi(n[3]),a:l2(n[4]),format:t?"name":"hex8"}:(n=bo.hex6.exec(e))?{r:pi(n[1]),g:pi(n[2]),b:pi(n[3]),format:t?"name":"hex"}:(n=bo.hex4.exec(e))?{r:pi(n[1]+""+n[1]),g:pi(n[2]+""+n[2]),b:pi(n[3]+""+n[3]),a:l2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=bo.hex3.exec(e))?{r:pi(n[1]+""+n[1]),g:pi(n[2]+""+n[2]),b:pi(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function f6(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const h6=he("rgb(52, 166, 95)"),p6=he("rgb(15, 138, 95)"),g6=he("rgb(245, 98, 77)"),m6=he("rgb(204, 35, 30)"),j5=he("rgb(245, 220, 21)"),v6=he(j5.toRgbString()).darken(15),O5=he("rgb(255, 70, 223)"),y6=he(O5.toRgbString()).darken(15),V5=he("rgb(255, 119, 20)"),A6=he(V5.toRgbString()).darken(15),L5=he("rgb(31, 192, 223)"),b6=he(L5.toRgbString()).darken(15),N5=he("rgb(102, 44, 182)"),_6=he(N5.toRgbString()).darken(15),x6=he("rgb(0, 153, 255)"),S6=he("rgb(0, 77, 128)"),w6=he("rgb(255, 54, 54)"),E6=he("rgb(117, 25, 25)"),k6=he("rgb(255, 213, 0)"),ug=he("rgb(255, 183, 0)"),Ni=(e,t)=>e.setAlpha(t).toRgbString(),yo=(e,t)=>({text:Ni(e,1),stroke:Ni(t,1),star:{fill:Ni(ug,.5),stroke:Ni(ug,0),lineWidth:1},perfect:{fill:Ni(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Ni(k6,1),stroke:Ni(ug,1),lineWidth:2},hit:{fill:Ni(e,.9),stroke:Ni(t,0),lineWidth:1},miss:{fill:Ni(e,.25),stroke:Ni(t,1),lineWidth:1}}),Me={blue:yo(x6,S6),red:yo(w6,E6),green:yo(he("rgb(0,183,0)"),he("rgb(0,84,0)")),yellow:yo(he("rgb(239,209,0)"),he("rgb(114,84,0)")),christmasGreen:yo(h6,p6),christmasRed:yo(g6,m6),eurovisionYellow:yo(j5,v6),eurovisionPink:yo(O5,y6),eurovisionOrange:yo(V5,A6),eurovisionBlue:yo(L5,b6),eurovisionViolet:yo(N5,_6)};let Qo=[Me.blue,Me.red,Me.green,Me.yellow];const pe={colors:{players:Qo,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Ni(ug,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},D5=e=>{e==="christmas"&&Qo[0]!==Me.christmasGreen?(Qo=[Me.christmasGreen,Me.christmasRed],pe.colors.players=Qo):e==="eurovision"&&Qo[0]!==Me.eurovisionYellow?(Qo=[Me.eurovisionBlue,Me.eurovisionViolet,Me.eurovisionYellow,Me.eurovisionPink],pe.colors.players=Qo):e==="regular"&&Qo[0]!==Me.blue&&(Qo=[Me.blue,Me.red,Me.green,Me.yellow],pe.colors.players=Qo)};function Qc(e,t,n){e==null||e.send({t,...n})}var j1;try{j1=new TextDecoder}catch{}var ve,Yi,K=0,Ht={},ut,ga,Bi=0,ns=0,rr,Ps,ai=[],st,c2={useRecords:!1,mapsAsObjects:!0};class B5{}const $5=new B5;$5.name="MessagePack 0xC1";var Sa=!1,F5=2,u2;try{new Function("")}catch{F5=1/0}class Tf{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ve)return W5(()=>(V1(),this?this.unpack(t,n):Tf.prototype.unpack.call(c2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Yi=n.end||t.length,K=n.start||0):(K=0,Yi=n>-1?n:t.length),ns=0,ga=null,rr=null,ve=t;try{st=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ve=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Tf){if(Ht=this,this.structures)return ut=this.structures,cp(n);(!ut||ut.length>0)&&(ut=[])}else Ht=c2,(!ut||ut.length>0)&&(ut=[]);return cp(n)}unpackMultiple(t,n){let r,i=0;try{Sa=!0;let o=t.length,s=this?this.unpack(t,o):h0.unpack(t,o);if(n){if(n(s,i,K)===!1)return;for(;K<o;)if(i=K,n(cp(),i,K)===!1)return}else{for(r=[s];K<o;)i=K,r.push(cp());return r}}catch(o){throw o.lastPosition=i,o.values=r,o}finally{Sa=!1,V1()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let o=t[r];o&&(o.isShared=!0,r>=32&&(o.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],o=n[r];o&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=o)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function cp(e){try{if(!Ht.trusted&&!Sa){let n=ut.sharedLength||0;n<ut.length&&(ut.length=n)}let t;if(Ht.randomAccessStructure&&ve[K]<64&&ve[K]>=32&&u2?(t=u2(ve,K,Yi,Ht),ve=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),K=Yi):t=Rn(),rr&&(K=rr.postBundlePosition,rr=null),Sa&&(ut.restoreStructures=null),K==Yi)ut&&ut.restoreStructures&&d2(),ut=null,ve=null,Ps&&(Ps=null);else{if(K>Yi)throw new Error("Unexpected end of MessagePack data");if(!Sa){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw ut&&ut.restoreStructures&&d2(),V1(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||K>Yi)&&(t.incomplete=!0),t}}function d2(){for(let e in ut.restoreStructures)ut[e]=ut.restoreStructures[e];ut.restoreStructures=null}function Rn(){let e=ve[K++];if(e<160)if(e<128){if(e<64)return e;{let t=ut[e&63]||Ht.getStructures&&z5()[e&63];return t?(t.read||(t.read=_x(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ht.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=H5();r==="__proto__"&&(r="__proto_"),t[r]=Rn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Rn(),Rn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Rn();return Ht.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(ns>=K)return ga.slice(K-Bi,(K+=t)-Bi);if(ns==0&&Yi<140){let n=t<16?xx(t):U5(t);if(n!=null)return n}return O1(t)}else{let t;switch(e){case 192:return null;case 193:return rr?(t=Rn(),t>0?rr[1].slice(rr.position1,rr.position1+=t):rr[0].slice(rr.position0,rr.position0-=t)):$5;case 194:return!1;case 195:return!0;case 196:if(t=ve[K++],t===void 0)throw new Error("Unexpected end of buffer");return by(t);case 197:return t=st.getUint16(K),K+=2,by(t);case 198:return t=st.getUint32(K),K+=4,by(t);case 199:return rl(ve[K++]);case 200:return t=st.getUint16(K),K+=2,rl(t);case 201:return t=st.getUint32(K),K+=4,rl(t);case 202:if(t=st.getFloat32(K),Ht.useFloat32>2){let n=Sx[(ve[K]&127)<<1|ve[K+1]>>7];return K+=4,(n*t+(t>0?.5:-.5)>>0)/n}return K+=4,t;case 203:return t=st.getFloat64(K),K+=8,t;case 204:return ve[K++];case 205:return t=st.getUint16(K),K+=2,t;case 206:return t=st.getUint32(K),K+=4,t;case 207:return Ht.int64AsType==="number"?(t=st.getUint32(K)*4294967296,t+=st.getUint32(K+4)):Ht.int64AsType==="string"?t=st.getBigUint64(K).toString():Ht.int64AsType==="auto"?(t=st.getBigUint64(K),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=st.getBigUint64(K),K+=8,t;case 208:return st.getInt8(K++);case 209:return t=st.getInt16(K),K+=2,t;case 210:return t=st.getInt32(K),K+=4,t;case 211:return Ht.int64AsType==="number"?(t=st.getInt32(K)*4294967296,t+=st.getUint32(K+4)):Ht.int64AsType==="string"?t=st.getBigInt64(K).toString():Ht.int64AsType==="auto"?(t=st.getBigInt64(K),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=st.getBigInt64(K),K+=8,t;case 212:if(t=ve[K++],t==114)return v2(ve[K++]&63);{let n=ai[t];if(n)return n.read?(K++,n.read(Rn())):n.noBuffer?(K++,n()):n(ve.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=ve[K],t==114?(K++,v2(ve[K++]&63,ve[K++])):rl(2);case 214:return rl(4);case 215:return rl(8);case 216:return rl(16);case 217:return t=ve[K++],ns>=K?ga.slice(K-Bi,(K+=t)-Bi):T6(t);case 218:return t=st.getUint16(K),K+=2,ns>=K?ga.slice(K-Bi,(K+=t)-Bi):I6(t);case 219:return t=st.getUint32(K),K+=4,ns>=K?ga.slice(K-Bi,(K+=t)-Bi):R6(t);case 220:return t=st.getUint16(K),K+=2,h2(t);case 221:return t=st.getUint32(K),K+=4,h2(t);case 222:return t=st.getUint16(K),K+=2,p2(t);case 223:return t=st.getUint32(K),K+=4,p2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const C6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function _x(e,t){function n(){if(n.count++>F5){let i=e.read=new Function("r","return function(){return "+(Ht.freezeData?"Object.freeze":"")+"({"+e.map(o=>o==="__proto__"?"__proto_:r()":C6.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"})}")(Rn);return e.highByte===0&&(e.read=f2(t,e.read)),i()}let r={};for(let i=0,o=e.length;i<o;i++){let s=e[i];s==="__proto__"&&(s="__proto_"),r[s]=Rn()}return Ht.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?f2(t,n):n}const f2=(e,t)=>function(){let n=ve[K++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=ut[r]||z5()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=_x(i,e)),i.read()};function z5(){let e=W5(()=>(ve=null,Ht.getStructures()));return ut=Ht._mergeStructures(e,ut)}var O1=yh,T6=yh,I6=yh,R6=yh;function yh(e){let t;if(e<16&&(t=xx(e)))return t;if(e>64&&j1)return j1.decode(ve.subarray(K,K+=e));const n=K+e,r=[];for(t="";K<n;){const i=ve[K++];if(!(i&128))r.push(i);else if((i&224)===192){const o=ve[K++]&63;r.push((i&31)<<6|o)}else if((i&240)===224){const o=ve[K++]&63,s=ve[K++]&63;r.push((i&31)<<12|o<<6|s)}else if((i&248)===240){const o=ve[K++]&63,s=ve[K++]&63,a=ve[K++]&63;let l=(i&7)<<18|o<<12|s<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Jn.apply(String,r),r.length=0)}return r.length>0&&(t+=Jn.apply(String,r)),t}function h2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Rn();return Ht.freezeData?Object.freeze(t):t}function p2(e){if(Ht.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=H5();r==="__proto__"&&(r="__proto_"),t[r]=Rn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Rn(),Rn());return t}}var Jn=String.fromCharCode;function U5(e){let t=K,n=new Array(e);for(let r=0;r<e;r++){const i=ve[K++];if((i&128)>0){K=t;return}n[r]=i}return Jn.apply(String,n)}function xx(e){if(e<4)if(e<2){if(e===0)return"";{let t=ve[K++];if((t&128)>1){K-=1;return}return Jn(t)}}else{let t=ve[K++],n=ve[K++];if((t&128)>0||(n&128)>0){K-=2;return}if(e<3)return Jn(t,n);let r=ve[K++];if((r&128)>0){K-=3;return}return Jn(t,n,r)}else{let t=ve[K++],n=ve[K++],r=ve[K++],i=ve[K++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){K-=4;return}if(e<6){if(e===4)return Jn(t,n,r,i);{let o=ve[K++];if((o&128)>0){K-=5;return}return Jn(t,n,r,i,o)}}else if(e<8){let o=ve[K++],s=ve[K++];if((o&128)>0||(s&128)>0){K-=6;return}if(e<7)return Jn(t,n,r,i,o,s);let a=ve[K++];if((a&128)>0){K-=7;return}return Jn(t,n,r,i,o,s,a)}else{let o=ve[K++],s=ve[K++],a=ve[K++],l=ve[K++];if((o&128)>0||(s&128)>0||(a&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return Jn(t,n,r,i,o,s,a,l);{let c=ve[K++];if((c&128)>0){K-=9;return}return Jn(t,n,r,i,o,s,a,l,c)}}else if(e<12){let c=ve[K++],u=ve[K++];if((c&128)>0||(u&128)>0){K-=10;return}if(e<11)return Jn(t,n,r,i,o,s,a,l,c,u);let d=ve[K++];if((d&128)>0){K-=11;return}return Jn(t,n,r,i,o,s,a,l,c,u,d)}else{let c=ve[K++],u=ve[K++],d=ve[K++],h=ve[K++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){K-=12;return}if(e<14){if(e===12)return Jn(t,n,r,i,o,s,a,l,c,u,d,h);{let p=ve[K++];if((p&128)>0){K-=13;return}return Jn(t,n,r,i,o,s,a,l,c,u,d,h,p)}}else{let p=ve[K++],g=ve[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return Jn(t,n,r,i,o,s,a,l,c,u,d,h,p,g);let m=ve[K++];if((m&128)>0){K-=15;return}return Jn(t,n,r,i,o,s,a,l,c,u,d,h,p,g,m)}}}}}function g2(){let e=ve[K++],t;if(e<192)t=e-160;else switch(e){case 217:t=ve[K++];break;case 218:t=st.getUint16(K),K+=2;break;case 219:t=st.getUint32(K),K+=4;break;default:throw new Error("Expected string")}return yh(t)}function by(e){return Ht.copyBuffers?Uint8Array.prototype.slice.call(ve,K,K+=e):ve.subarray(K,K+=e)}function rl(e){let t=ve[K++];if(ai[t]){let n;return ai[t](ve.subarray(K,n=K+=e),r=>{K=r;try{return Rn()}finally{K=n}})}else throw new Error("Unknown extension type "+t)}var m2=new Array(4096);function H5(){let e=ve[K++];if(e>=160&&e<192){if(e=e-160,ns>=K)return ga.slice(K-Bi,(K+=e)-Bi);if(!(ns==0&&Yi<180))return O1(e)}else return K--,G5(Rn());let t=(e<<5^(e>1?st.getUint16(K):e>0?ve[K]:0))&4095,n=m2[t],r=K,i=K+e-3,o,s=0;if(n&&n.bytes==e){for(;r<i;){if(o=st.getUint32(r),o!=n[s++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(o=ve[r++],o!=n[s++]){r=1879048192;break}if(r===i)return K=r,n.string;i-=3,r=K}for(n=[],m2[t]=n,n.bytes=e;r<i;)o=st.getUint32(r),n.push(o),r+=4;for(i+=3;r<i;)o=ve[r++],n.push(o);let a=e<16?xx(e):U5(e);return a!=null?n.string=a:n.string=O1(e)}function G5(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const v2=(e,t)=>{let n=Rn().map(G5),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=ut[e];return i&&(i.isShared||Sa)&&((ut.restoreStructures||(ut.restoreStructures=[]))[e]=i),ut[e]=n,n.read=_x(n,r),n.read()};ai[0]=()=>{};ai[0].noBuffer=!0;ai[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let P6={Error,TypeError,ReferenceError};ai[101]=()=>{let e=Rn();return(P6[e[0]]||Error)(e[1])};ai[105]=e=>{if(Ht.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=st.getUint32(K-4);Ps||(Ps=new Map);let n=ve[K],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};Ps.set(t,i);let o=Rn();return i.used?Object.assign(r,o):(i.target=o,o)};ai[112]=e=>{if(Ht.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=st.getUint32(K-4),n=Ps.get(t);return n.used=!0,n.target};ai[115]=()=>new Set(Rn());const q5=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let M6=typeof globalThis=="object"?globalThis:window;ai[116]=e=>{let t=e[0],n=q5[t];if(!n)throw new Error("Could not find typed array for code "+t);return new M6[n](Uint8Array.prototype.slice.call(e,1).buffer)};ai[120]=()=>{let e=Rn();return new RegExp(e[0],e[1])};const j6=[];ai[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=K;return K+=t-e.length,rr=j6,rr=[g2(),g2()],rr.position0=0,rr.position1=0,rr.postBundlePosition=K,K=n,Rn()};ai[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function W5(e){let t=Yi,n=K,r=Bi,i=ns,o=ga,s=Ps,a=rr,l=new Uint8Array(ve.slice(0,Yi)),c=ut,u=ut.slice(0,ut.length),d=Ht,h=Sa,p=e();return Yi=t,K=n,Bi=r,ns=i,ga=o,Ps=s,rr=a,ve=l,Sa=h,ut=c,ut.splice(0,ut.length,...u),Ht=d,st=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),p}function V1(){ve=null,Ps=null,ut=null}const Sx=new Array(147);for(let e=0;e<256;e++)Sx[e]=+("1e"+Math.floor(45.15-e*.30103));var h0=new Tf({useRecords:!1});const O6=h0.unpack;h0.unpackMultiple;h0.unpack;let V6=new Float32Array(1);new Uint8Array(V6.buffer,0,4);let dg;try{dg=new TextEncoder}catch{}let L1,K5;const p0=typeof Buffer<"u",up=p0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,Y5=p0?Buffer:Uint8Array,y2=p0?4294967296:2144337920;let X,ud,Lt,Y=0,jr,an=null,L6;const N6=21760,D6=/[\u0080-\uFFFF]/,fc=Symbol("record-id");class B6 extends Tf{constructor(t){super(t),this.offset=0;let n,r,i,o,s=Y5.prototype.utf8Write?function(P,V){return X.utf8Write(P,V,4294967295)}:dg&&dg.encodeInto?function(P,V){return dg.encodeInto(P,X.subarray(V)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],b=0,v=0;this.pack=this.encode=function(P,V){if(X||(X=new up(8192),Lt=X.dataView||(X.dataView=new DataView(X.buffer,0,8192)),Y=0),jr=X.length-10,jr-Y<2048?(X=new up(X.length),Lt=X.dataView||(X.dataView=new DataView(X.buffer,0,X.length)),jr=X.length-10,Y=0):Y=Y+7&2147483640,n=Y,V&G6&&(Y+=V&255),o=a.structuredClone?new Map:null,a.bundleStrings&&typeof P!="string"?(an=[],an.size=1/0):an=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let k=i.sharedLength||0;if(k>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let D=0;D<k;D++){let O=i[D];if(!O)continue;let z,$=i.transitions;for(let G=0,H=O.length;G<H;G++){let ne=O[G];z=$[ne],z||(z=$[ne]=Object.create(null)),$=z}$[fc]=D+64}this.lastNamedStructuresLength=k}l||(i.nextId=k+64)}r&&(r=!1);let R;try{a.randomAccessStructure&&P&&P.constructor&&P.constructor===Object?U(P):S(P);let k=an;if(an&&_2(n,S,0),o&&o.idsToInsert){let D=o.idsToInsert.sort((G,H)=>G.offset>H.offset?1:-1),O=D.length,z=-1;for(;k&&O>0;){let G=D[--O].offset+n;G<k.stringsPosition+n&&z===-1&&(z=0),G>k.position+n?z>=0&&(z+=6):(z>=0&&(Lt.setUint32(k.position+n,Lt.getUint32(k.position+n)+z),z=-1),k=k.previous,O++)}z>=0&&k&&Lt.setUint32(k.position+n,Lt.getUint32(k.position+n)+z),Y+=D.length*6,Y>jr&&j(Y),a.offset=Y;let $=F6(X.subarray(n,Y),D);return o=null,$}return a.offset=Y,V&U6?(X.start=n,X.end=Y,X):X.subarray(n,Y)}catch(k){throw R=k,k}finally{if(i&&(A(),r&&a.saveStructures)){let k=i.sharedLength||0,D=X.subarray(n,Y),O=z6(i,a);if(!R)return a.saveStructures(O,O.isCompatible)===!1?a.pack(P,V):(a.lastNamedStructuresLength=k,D)}V&H6&&(Y=n)}};const A=()=>{v<10&&v++;let P=i.sharedLength||0;if(i.length>P&&!l&&(i.length=P),b>1e4)i.transitions=null,v=0,b=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let V=0,R=m.length;V<R;V++)m[V][fc]=0;m=[]}},_=P=>{var V=P.length;V<16?X[Y++]=144|V:V<65536?(X[Y++]=220,X[Y++]=V>>8,X[Y++]=V&255):(X[Y++]=221,Lt.setUint32(Y,V),Y+=4);for(let R=0;R<V;R++)S(P[R])},S=P=>{Y>jr&&(X=j(Y));var V=typeof P,R;if(V==="string"){let k=P.length;if(an&&k>=4&&k<4096){if((an.size+=k)>N6){let $,G=(an[0]?an[0].length*3+an[1].length:0)+10;Y+G>jr&&(X=j(Y+G));let H;an.position?(H=an,X[Y]=200,Y+=3,X[Y++]=98,$=Y-n,Y+=4,_2(n,S,0),Lt.setUint16($+n-3,Y-n-$)):(X[Y++]=214,X[Y++]=98,$=Y-n,Y+=4),an=["",""],an.previous=H,an.size=0,an.position=$}let z=D6.test(P);an[z?0:1]+=P,X[Y++]=193,S(z?-k:k);return}let D;k<32?D=1:k<256?D=2:k<65536?D=3:D=5;let O=k*3;if(Y+O>jr&&(X=j(Y+O)),k<64||!s){let z,$,G,H=Y+D;for(z=0;z<k;z++)$=P.charCodeAt(z),$<128?X[H++]=$:$<2048?(X[H++]=$>>6|192,X[H++]=$&63|128):($&64512)===55296&&((G=P.charCodeAt(z+1))&64512)===56320?($=65536+(($&1023)<<10)+(G&1023),z++,X[H++]=$>>18|240,X[H++]=$>>12&63|128,X[H++]=$>>6&63|128,X[H++]=$&63|128):(X[H++]=$>>12|224,X[H++]=$>>6&63|128,X[H++]=$&63|128);R=H-Y-D}else R=s(P,Y+D);R<32?X[Y++]=160|R:R<256?(D<2&&X.copyWithin(Y+2,Y+1,Y+1+R),X[Y++]=217,X[Y++]=R):R<65536?(D<3&&X.copyWithin(Y+3,Y+2,Y+2+R),X[Y++]=218,X[Y++]=R>>8,X[Y++]=R&255):(D<5&&X.copyWithin(Y+5,Y+3,Y+3+R),X[Y++]=219,Lt.setUint32(Y,R),Y+=4),Y+=R}else if(V==="number")if(P>>>0===P)P<32||P<128&&this.useRecords===!1||P<64&&!this.randomAccessStructure?X[Y++]=P:P<256?(X[Y++]=204,X[Y++]=P):P<65536?(X[Y++]=205,X[Y++]=P>>8,X[Y++]=P&255):(X[Y++]=206,Lt.setUint32(Y,P),Y+=4);else if(P>>0===P)P>=-32?X[Y++]=256+P:P>=-128?(X[Y++]=208,X[Y++]=P+256):P>=-32768?(X[Y++]=209,Lt.setInt16(Y,P),Y+=2):(X[Y++]=210,Lt.setInt32(Y,P),Y+=4);else{let k;if((k=this.useFloat32)>0&&P<4294967296&&P>=-2147483648){X[Y++]=202,Lt.setFloat32(Y,P);let D;if(k<4||(D=P*Sx[(X[Y]&127)<<1|X[Y+1]>>7])>>0===D){Y+=4;return}else Y--}X[Y++]=203,Lt.setFloat64(Y,P),Y+=8}else if(V==="object"||V==="function")if(!P)X[Y++]=192;else{if(o){let D=o.get(P);if(D){if(!D.id){let O=o.idsToInsert||(o.idsToInsert=[]);D.id=O.push(D)}X[Y++]=214,X[Y++]=112,Lt.setUint32(Y,D.id),Y+=4;return}else o.set(P,{offset:Y-n})}let k=P.constructor;if(k===Object)C(P,!0);else if(k===Array)_(P);else if(k===Map)if(this.mapAsEmptyObject)X[Y++]=128;else{R=P.size,R<16?X[Y++]=128|R:R<65536?(X[Y++]=222,X[Y++]=R>>8,X[Y++]=R&255):(X[Y++]=223,Lt.setUint32(Y,R),Y+=4);for(let[D,O]of P)S(D),S(O)}else{for(let D=0,O=L1.length;D<O;D++){let z=K5[D];if(P instanceof z){let $=L1[D];if($.write){$.type&&(X[Y++]=212,X[Y++]=$.type,X[Y++]=0);let ue=$.write.call(this,P);ue===P?Array.isArray(P)?_(P):C(P):S(ue);return}let G=X,H=Lt,ne=Y;X=null;let N;try{N=$.pack.call(this,P,ue=>(X=G,G=null,Y+=ue,Y>jr&&j(Y),{target:X,targetView:Lt,position:Y-ue}),S)}finally{G&&(X=G,Lt=H,Y=ne,jr=X.length-10)}N&&(N.length+Y>jr&&j(N.length+Y),Y=$6(N,X,Y,$.type));return}}if(Array.isArray(P))_(P);else{if(P.toJSON){const D=P.toJSON();if(D!==P)return S(D)}if(V==="function")return S(this.writeFunction&&this.writeFunction(P));C(P,!P.hasOwnProperty)}}}else if(V==="boolean")X[Y++]=P?195:194;else if(V==="bigint"){if(P<BigInt(1)<<BigInt(63)&&P>=-(BigInt(1)<<BigInt(63)))X[Y++]=211,Lt.setBigInt64(Y,P);else if(P<BigInt(1)<<BigInt(64)&&P>0)X[Y++]=207,Lt.setBigUint64(Y,P);else if(this.largeBigIntToFloat)X[Y++]=203,Lt.setFloat64(Y,Number(P));else if(this.useBigIntExtension&&P<2n**1023n&&P>-(2n**1023n)){X[Y++]=199,Y++,X[Y++]=66;let k=[],D;do{let O=P&0xffn;D=(O&0x80n)===(P<0n?0x80n:0n),k.push(O),P>>=8n}while(!((P===0n||P===-1n)&&D));X[Y-2]=k.length;for(let O=k.length;O>0;)X[Y++]=Number(k[--O]);return}else throw new RangeError(P+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(V==="undefined")this.encodeUndefinedAsNil?X[Y++]=192:(X[Y++]=212,X[Y++]=0,X[Y++]=0);else throw new Error("Unknown type: "+V)},x=this.variableMapSize||this.coercibleKeyAsNumber?P=>{let V=Object.keys(P),R=V.length;R<16?X[Y++]=128|R:R<65536?(X[Y++]=222,X[Y++]=R>>8,X[Y++]=R&255):(X[Y++]=223,Lt.setUint32(Y,R),Y+=4);let k;if(this.coercibleKeyAsNumber)for(let D=0;D<R;D++){k=V[D];let O=Number(k);S(isNaN(O)?k:O),S(P[k])}else for(let D=0;D<R;D++)S(k=V[D]),S(P[k])}:(P,V)=>{X[Y++]=222;let R=Y-n;Y+=2;let k=0;for(let D in P)(V||P.hasOwnProperty(D))&&(S(D),S(P[D]),k++);X[R+++n]=k>>8,X[R+n]=k&255},w=this.useRecords===!1?x:t.progressiveRecords&&!h?(P,V)=>{let R,k=i.transitions||(i.transitions=Object.create(null)),D=Y++-n,O;for(let z in P)if(V||P.hasOwnProperty(z)){if(R=k[z],R)k=R;else{let $=Object.keys(P),G=k;k=i.transitions;let H=0;for(let ne=0,N=$.length;ne<N;ne++){let ue=$[ne];R=k[ue],R||(R=k[ue]=Object.create(null),H++),k=R}D+n+1==Y?(Y--,L(k,$,H)):B(k,$,D,H),O=!0,k=G[z]}S(P[z])}if(!O){let z=k[fc];z?X[D+n]=z:B(k,Object.keys(P),D,0)}}:(P,V)=>{let R,k=i.transitions||(i.transitions=Object.create(null)),D=0;for(let z in P)(V||P.hasOwnProperty(z))&&(R=k[z],R||(R=k[z]=Object.create(null),D++),k=R);let O=k[fc];O?O>=96&&h?(X[Y++]=((O-=96)&31)+96,X[Y++]=O>>5):X[Y++]=O:L(k,k.__keys__||Object.keys(P),D);for(let z in P)(V||P.hasOwnProperty(z))&&S(P[z])},E=typeof this.useRecords=="function"&&this.useRecords,C=E?(P,V)=>{E(P)?w(P,V):x(P,V)}:w,j=P=>{let V;if(P>16777216){if(P-n>y2)throw new Error("Packed buffer would be larger than maximum buffer size");V=Math.min(y2,Math.round(Math.max((P-n)*(P>67108864?1.25:2),4194304)/4096)*4096)}else V=(Math.max(P-n<<2,X.length-1)>>12)+1<<12;let R=new up(V);return Lt=R.dataView||(R.dataView=new DataView(R.buffer,0,V)),P=Math.min(P,X.length),X.copy?X.copy(R,0,n,P):R.set(X.slice(n,P)),Y-=n,n=0,jr=R.length-10,X=R},L=(P,V,R)=>{let k=i.nextId;k||(k=64),k<p&&this.shouldShareStructure&&!this.shouldShareStructure(V)?(k=i.nextOwnId,k<g||(k=p),i.nextOwnId=k+1):(k>=g&&(k=p),i.nextId=k+1);let D=V.highByte=k>=96&&h?k-96>>5:-1;P[fc]=k,P.__keys__=V,i[k-64]=V,k<p?(V.isShared=!0,i.sharedLength=k-63,r=!0,D>=0?(X[Y++]=(k&31)+96,X[Y++]=D):X[Y++]=k):(D>=0?(X[Y++]=213,X[Y++]=114,X[Y++]=(k&31)+96,X[Y++]=D):(X[Y++]=212,X[Y++]=114,X[Y++]=k),R&&(b+=v*R),m.length>=d&&(m.shift()[fc]=0),m.push(P),S(V))},B=(P,V,R,k)=>{let D=X,O=Y,z=jr,$=n;X=ud,Y=0,n=0,X||(ud=X=new up(8192)),jr=X.length-10,L(P,V,k),ud=X;let G=Y;if(X=D,Y=O,jr=z,n=$,G>1){let H=Y+G-1;H>jr&&j(H);let ne=R+n;X.copyWithin(ne+G,ne+1,Y),X.set(ud.slice(0,G),ne),Y=H}else X[R+n]=ud[0]},U=(P,V)=>{let R=L6(P,X,n,Y,i,j,(k,D,O)=>{if(O)return r=!0;Y=D;let z=X;return S(k),A(),z!==X?{position:Y,targetView:Lt,target:X}:Y},this);if(R===0)return C(P,!0);Y=R}}useBuffer(t){X=t,Lt=new DataView(X.buffer,X.byteOffset,X.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}K5=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,B5];L1=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:o,position:s}=t(6);i[s++]=214,i[s++]=255,o.setUint32(s,r)}else if(r>0&&r<4294967296){let{target:i,targetView:o,position:s}=t(10);i[s++]=215,i[s++]=255,o.setUint32(s,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),o.setUint32(s+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:o,position:s}=t(3);i[s++]=212,i[s++]=255,i[s++]=255}else{let{target:i,targetView:o,position:s}=t(15);i[s++]=199,i[s++]=12,i[s++]=255,o.setUint32(s,e.getMilliseconds()*1e6),o.setBigInt64(s+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:o}=t(this.moreTypes?3:0);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?A2(e,16,t):b2(p0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==Y5&&this.moreTypes?A2(e,q5.indexOf(n.name),t):b2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function A2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:o,position:s}=n(4+i);o[s++]=199,o[s++]=i+1}else if(i+1<65536){var{target:o,position:s}=n(5+i);o[s++]=200,o[s++]=i+1>>8,o[s++]=i+1&255}else{var{target:o,position:s,targetView:a}=n(7+i);o[s++]=201,a.setUint32(s,i+1),s+=4}o[s++]=116,o[s++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function b2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:o}=t(n+5);r[i++]=198,o.setUint32(i,n),i+=4}r.set(e,i)}function $6(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function F6(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let o=n.offset,s=n.id;e.copyWithin(o+r,o,i),r-=6;let a=o+r;e[a++]=214,e[a++]=105,e[a++]=s>>24,e[a++]=s>>16&255,e[a++]=s>>8&255,e[a++]=s&255,i=o}return e}function _2(e,t,n){if(an.length>0){Lt.setUint32(an.position+e,Y+n-an.position-e),an.stringsPosition=Y-e;let r=an;an=null,t(r[0]),t(r[1])}}function z6(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let Q5=new B6({useRecords:!1});const J5=Q5.pack;Q5.pack;const U6=512,H6=1024,G6=2048;function Fr(){return Date.now()}const eo=e=>J5(e),Nu=e=>O6(e);let q6=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=o=>{o.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Qc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Qc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Qc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},W6=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=o=>{Qc(this.connection,"set-player-number",{playerNumber:o})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=o=>{Qc(this.connection,"set-permissions",{level:o})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Fr()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Fr(),this.isPinging=!0,Qc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Fr()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new q6(r,i),this.pingClient()}};const wx={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision",Shrek:"shrek"};class Ii extends Go{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Ve[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Ve[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const X5=["high","low"],K6="graphics-level",Qi=new Ii(K6,X5[0]),Y6=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],Q6="mic-setup-preference",Ex=new Ii(Q6,Y6[0],"session"),Z5=[60,30],Sl=new Ii("fps-count",Z5[0]),g0=new Ii("EXCLUDED_LANGUAGES_KEY_V2",null),Ar=new Ii("MOBILE_PHONE_MODE_KEY",null),ej=new Ii("keyboard-help-visibility",!0);var bM;const x2=(bM=_n.getFeatureFlagPayload)==null?void 0:bM.call(_n,wx.InitialInputLag),Jd=new Ii("INPUT_LAG_V2",typeof x2=="number"?x2:0),tj=new Ii("REMOTE_MIC_INPUT_LAG",0,"session"),S2=["write","read"],nj=new Ii("DefaultRemoteMicPermission","write"),rj=["New","Classic"],kx=new Ii("background-music",rj[0]),m0=new Ii("BackgroundThemeSetting","regular","memory"),Cx=new Ii("AutoEnableFullscreenSetting",!0,"session"),J6=["WebSockets","PeerJS","PartyKit"],Zg=new Ii("RemoteMicConnectionType","WebSockets","session");var _M;(_M=_n.onFeatureFlags)==null||_M.call(_n,()=>{Zg.set(_n.getFeatureFlagPayload(wx.RemoteMicConnectionType)??"WebSockets")});function Ge(e){const[t,n]=y.useState(e.get());return y.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const w2="RememberedAccessesKey",_y="rememberedSubscriptionsKey";class X6 extends Go{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Ve.local)==null?void 0:t.getItem(w2))??{},this.subscriptions=((n=Ve.session)==null?void 0:n.getItem(_y))??{"remote-mics":[]},this.addRemoteMic=(r,i,o,s,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new W6(r,i,o,a)],this.setPermission(r,this.getPermission(r)),ee.remoteMicConnected.dispatch({id:r,name:i,silent:s})},this.removeRemoteMic=(r,i=!1)=>{const o=this.remoteMics.find(s=>s.id===r);this.remoteMics=this.remoteMics.filter(s=>s.id!==r),o&&(o.onDisconnect(),ee.remoteMicDisconnected.dispatch(o,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(o=>{var s;return(s=this.getRemoteMicById(o))==null?void 0:s.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??nj.get(),this.setPermission=(r,i)=>{var o;(o=this.getRemoteMicById(r))==null||o.setPermission(i),this.micAccessMap[r]=i,Ve==null||Ve.setItem(w2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var o;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(o=Ve.session)==null||o.setItem(_y,this.subscriptions),ee.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var o,s;this.subscriptions[i]=((o=this.subscriptions[i])==null?void 0:o.filter(a=>a!==r))??[],(s=Ve.session)==null||s.setItem(_y,this.subscriptions)}}}const et=new X6;m0.addListener(e=>{D5(e),et.broadcast({t:"style-change",style:e})});ee.remoteMicConnected.subscribe(e=>{var t;(t=et.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:m0.get()})});class Z6{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const e8=new Z6;class t8{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const n8=new t8,ij=Object.prototype.toString;function v0(e){switch(ij.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ls(e,Error)}}function Du(e,t){return ij.call(e)===`[object ${t}]`}function oj(e){return Du(e,"ErrorEvent")}function E2(e){return Du(e,"DOMError")}function r8(e){return Du(e,"DOMException")}function Ms(e){return Du(e,"String")}function Tx(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Ix(e){return e===null||Tx(e)||typeof e!="object"&&typeof e!="function"}function pu(e){return Du(e,"Object")}function y0(e){return typeof Event<"u"&&Ls(e,Event)}function i8(e){return typeof Element<"u"&&Ls(e,Element)}function o8(e){return Du(e,"RegExp")}function A0(e){return!!(e&&e.then&&typeof e.then=="function")}function s8(e){return pu(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ls(e,t){try{return e instanceof t}catch{return!1}}function sj(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Jc(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function k2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{sj(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function a8(e,t,n=!1){return Ms(e)?o8(t)?t.test(e):Ms(t)?n?e===t:e.includes(t):!1:!1}function wl(e,t=[],n=!1){return t.some(r=>a8(e,r,n))}function l8(e,t,n=250,r,i,o,s){if(!o.exception||!o.exception.values||!s||!Ls(s.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=c8(N1(e,t,i,s.originalException,r,o.exception.values,a,0),n))}function N1(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(Ls(r[i],Error)){C2(s,a);const c=e(t,r[i]),u=l.length;T2(c,i,u,a),l=N1(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(Ls(c,Error)){C2(s,a);const d=e(t,c),h=l.length;T2(d,`errors[${u}]`,h,a),l=N1(e,t,n,c,i,[d,...l],d,h)}}),l}function C2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function T2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function c8(e,t){return e.map(n=>(n.value&&(n.value=Jc(n.value,t)),n))}const El="8.25.0",_t=globalThis;function Rx(e,t,n){const r=_t,i=r.__SENTRY__=r.__SENTRY__||{},o=i[El]=i[El]||{};return o[e]||(o[e]=t())}const Xc=_t,u8=80;function gu(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||u8;for(;n&&o++<r&&(c=d8(n,u),!(c==="html"||o>1&&s+i.length*l+c.length>=d));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function d8(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Xc.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&Ms(s)){const a=s.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}function f8(){try{return Xc.document.location.href}catch{return""}}function h8(e){return Xc.document&&Xc.document.querySelector?Xc.document.querySelector(e):null}function aj(e){if(!Xc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const Bu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,p8="Sentry Logger ",D1=["debug","info","warn","error","log","assert","trace"],em={};function Ah(e){if(!("console"in _t))return e();const t=_t.console,n={},r=Object.keys(em);r.forEach(i=>{const o=em[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function g8(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Bu?D1.forEach(n=>{t[n]=(...r)=>{e&&Ah(()=>{_t.console[n](`${p8}[${n}]:`,...r)})}}):D1.forEach(n=>{t[n]=()=>{}}),t}const ge=g8(),m8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function v8(e){return e==="http"||e==="https"}function $u(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function y8(e){const t=m8.exec(e);if(!t){Ah(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",o="",s="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return lj({host:o,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function lj(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function A8(e){if(!Bu)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(ge.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?v8(r)?t&&isNaN(parseInt(t,10))?(ge.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(ge.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(ge.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function cj(e){const t=typeof e=="string"?y8(e):lj(e);if(!(!t||!A8(t)))return t}class rs extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function pr(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&uj(i,r),e[t]=i}function io(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Bu&&ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function uj(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,io(e,"__sentry_original__",t)}catch{}}function Px(e){return e.__sentry_original__}function b8(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function dj(e){if(v0(e))return{message:e.message,name:e.name,stack:e.stack,...R2(e)};if(y0(e)){const t={type:e.type,target:I2(e.target),currentTarget:I2(e.currentTarget),...R2(e)};return typeof CustomEvent<"u"&&Ls(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function I2(e){try{return i8(e)?gu(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function R2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function _8(e,t=40){const n=Object.keys(dj(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Jc(r,t);for(let i=n.length;i>0;i--){const o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:Jc(o,t)}return""}function Cr(e){return B1(e,new Map)}function B1(e,t){if(x8(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=B1(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(B1(i,t))}),r}return e}function x8(e){if(!pu(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const fj=50,Vl="?",P2=/\(error: (.*)\)/,M2=/captureMessage|captureException/;function hj(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){const l=s[a];if(l.length>1024)continue;const c=P2.test(l)?l.replace(P2,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){o.push(d);break}}if(o.length>=fj+i)break}}return w8(o.slice(i))}}function S8(e){return Array.isArray(e)?hj(...e):e}function w8(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(dp(t).function||"")&&t.pop(),t.reverse(),M2.test(dp(t).function||"")&&(t.pop(),M2.test(dp(t).function||"")&&t.pop()),t.slice(0,fj).map(n=>({...n,filename:n.filename||dp(t).filename,function:n.function||Vl}))}function dp(e){return e[e.length-1]||{}}const xy="<anonymous>";function Ns(e){try{return!e||typeof e!="function"?xy:e.name||xy}catch{return xy}}function j2(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const fg={},O2={};function Ua(e,t){fg[e]=fg[e]||[],fg[e].push(t)}function Ha(e,t){O2[e]||(t(),O2[e]=!0)}function to(e,t){const n=e&&fg[e];if(n)for(const r of n)try{r(t)}catch(i){Bu&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ns(r)}
Error:`,i)}}function E8(e){const t="console";Ua(t,e),Ha(t,k8)}function k8(){"console"in _t&&D1.forEach(function(e){e in _t.console&&pr(_t.console,e,function(t){return em[e]=t,function(...n){to("console",{args:n,level:e});const i=em[e];i&&i.apply(_t.console,n)}})})}const $1=_t;function pj(){if(!("fetch"in $1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function F1(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function C8(){if(typeof EdgeRuntime=="string")return!0;if(!pj())return!1;if(F1($1.fetch))return!0;let e=!1;const t=$1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=F1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Bu&&ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const gj=1e3;function bh(){return Date.now()/gj}function T8(){const{performance:e}=_t;if(!e||!e.now)return bh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/gj}const gr=T8(),wi=(()=>{const{performance:e}=_t;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,l=typeof s=="number"?Math.abs(s+n-r):t,c=l<t;return o||c?i<=l?e.timeOrigin:s:r})();function mj(e,t){const n="fetch";Ua(n,e),Ha(n,()=>vj(void 0,t))}function I8(e){const t="fetch-body-resolved";Ua(t,e),Ha(t,()=>vj(P8))}function vj(e,t=!1){t&&!C8()||pr(_t,"fetch",function(n){return function(...r){const{method:i,url:o}=M8(r),s={args:r,fetchData:{method:i,url:o},startTimestamp:gr()*1e3};e||to("fetch",{...s});const a=new Error().stack;return n.apply(_t,r).then(async l=>(e?e(l):to("fetch",{...s,endTimestamp:gr()*1e3,response:l}),l),l=>{throw to("fetch",{...s,endTimestamp:gr()*1e3,error:l}),v0(l)&&l.stack===void 0&&(l.stack=a,io(l,"framesToPop",1)),l})}})}async function R8(e,t){if(e&&e.body&&e.body.getReader){const n=e.body.getReader();async function r({done:i}){if(i)return Promise.resolve();try{const o=await Promise.race([n.read(),new Promise(s=>{setTimeout(()=>{s({done:!0})},5e3)})]);await r(o)}catch{}}return n.read().then(r).then(t).catch(()=>{})}}async function P8(e){let t;try{t=e.clone()}catch{return}await R8(t,()=>{to("fetch-body-resolved",{endTimestamp:gr()*1e3,response:e})})}function z1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function V2(e){return typeof e=="string"?e:e?z1(e,"url")?e.url:e.toString?e.toString():"":""}function M8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:V2(n),method:z1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:V2(t),method:z1(t,"method")?String(t.method).toUpperCase():"GET"}}let fp=null;function yj(e){const t="error";Ua(t,e),Ha(t,j8)}function j8(){fp=_t.onerror,_t.onerror=function(e,t,n,r,i){return to("error",{column:r,error:i,line:n,msg:e,url:t}),fp&&!fp.__SENTRY_LOADER__?fp.apply(this,arguments):!1},_t.onerror.__SENTRY_INSTRUMENTED__=!0}let hp=null;function Aj(e){const t="unhandledrejection";Ua(t,e),Ha(t,O8)}function O8(){hp=_t.onunhandledrejection,_t.onunhandledrejection=function(e){return to("unhandledrejection",e),hp&&!hp.__SENTRY_LOADER__?hp.apply(this,arguments):!0},_t.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function V8(){return"npm"}function L8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let o=0;o<t.length;o++)if(t[o]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}return[n,r]}function un(){const e=_t,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function bj(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function sa(e){const{message:t,event_id:n}=e;if(t)return t;const r=bj(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function U1(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function If(e,t){const n=bj(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const o={...i&&i.data,...t.data};n.mechanism.data=o}}function L2(e){if(e&&e.__sentry_captured__)return!0;try{io(e,"__sentry_captured__",!0)}catch{}return!1}function _j(e){return Array.isArray(e)?e:[e]}function aa(e,t=100,n=1/0){try{return H1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function xj(e,t=3,n=100*1024){const r=aa(e,t);return $8(r)>n?xj(e,t-1,n):r}function H1(e,t,n=1/0,r=1/0,i=L8()){const[o,s]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const a=N8(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return H1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=dj(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=H1(p,g,l-1,r,i),d++}return s(t),u}function N8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(sj(t))return"[VueViewModel]";if(s8(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ns(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=D8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function D8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function B8(e){return~-encodeURI(e).split(/%..|./).length}function $8(e){return B8(JSON.stringify(e))}var bs;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(bs||(bs={}));function Ll(e){return new Gi(t=>{t(e)})}function tm(e){return new Gi((t,n)=>{n(e)})}class Gi{constructor(t){Gi.prototype.__init.call(this),Gi.prototype.__init2.call(this),Gi.prototype.__init3.call(this),Gi.prototype.__init4.call(this),this._state=bs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Gi((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(s){i(s)}},o=>{if(!n)i(o);else try{r(n(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Gi((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(bs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(bs.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===bs.PENDING){if(A0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===bs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===bs.RESOLVED&&n[1](this._value),this._state===bs.REJECTED&&n[2](this._value),n[0]=!0)})}}}function F8(e){const t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!n())return tm(new rs("Not adding Promise because buffer limit was reached."));const a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(s){return new Gi((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{Ll(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:o}}function kl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const z8=["fatal","error","warning","log","info","debug"];function U8(e){return e==="warn"?"warning":z8.includes(e)?e:"log"}const G1="baggage",Sj="sentry-",H8=/^sentry-/,G8=8192;function wj(e){const t=q8(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(H8)){const s=i.slice(Sj.length);r[s]=o}return r},{});if(Object.keys(n).length>0)return n}function Ej(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${Sj}${r}`]=i),n),{});return W8(t)}function q8(e){if(!(!e||!Ms(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=N2(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):N2(e)}function N2(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function W8(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=i===0?o:`${t},${o}`;return s.length>G8?(Bu&&ge.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}const K8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Y8(e){if(!e)return;const t=e.match(K8);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Q8(e,t){const n=Y8(e),r=wj(t),{traceId:i,parentSpanId:o,parentSampled:s}=n||{};return n?{traceId:i||un(),parentSpanId:o||un().substring(16),spanId:un().substring(16),sampled:s,dsc:r||{}}:{traceId:i||un(),spanId:un().substring(16)}}function Mx(e=un(),t=un().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Fu(e,t=[]){return[e,t]}function J8(e,t){const[n,r]=e;return[n,[...r,t]]}function D2(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function q1(e){return _t.__SENTRY__&&_t.__SENTRY__.encodePolyfill?_t.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function X8(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[q1(r),o]:r.push(typeof o=="string"?q1(o):o)}for(const o of n){const[s,a]=o;if(i(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(aa(a))}i(l)}}return typeof r=="string"?r:Z8(r)}function Z8(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function ez(e){return[{type:"span"},e]}function tz(e){const t=typeof e.data=="string"?q1(e.data):e.data;return[Cr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const nz={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function B2(e){return nz[e]}function kj(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function rz(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:$u(r)},...i&&{trace:Cr({...i})}}}function iz(e,t,n){const r=[{type:"client_report"},{timestamp:bh(),discarded_events:e}];return Fu(t?{dsn:t}:{},[r])}const oz=60*1e3;function sz(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?oz:r-t}function az(e,t){return e[t]||e.all||0}function lz(e,t,n=Date.now()){return az(e,t)>n}function cz(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else s?i.all=r+sz(s,r):t===429&&(i.all=r+60*1e3);return i}function nm(){return{traceId:un(),spanId:un().substring(16)}}const pp=_t;function uz(){const e=pp.chrome,t=e&&e.app&&e.app.runtime,n="history"in pp&&!!pp.history.pushState&&!!pp.history.replaceState;return!t&&n}const Qe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function zu(){return jx(_t),_t}function jx(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||El,t[El]=t[El]||{}}function dz(e){const t=gr(),n={sid:un(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>hz(n)};return e&&mu(n,e),n}function mu(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||gr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:un()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function fz(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),mu(e,n)}function hz(e){return Cr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const W1="_sentrySpan";function Rf(e,t){t?io(e,W1,t):delete e[W1]}function rm(e){return e[W1]}const pz=100;class Ox{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=nm()}clone(){const t=new Ox;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Rf(t,rm(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&mu(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Oa?[n.getScopeData(),n.getRequestSession()]:pu(n)?[t,t.requestSession]:[],{tags:o,extra:s,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Rf(this,void 0),this._attachments=[],this._propagationContext=nm(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:pz;if(r<=0)return this;const i={timestamp:bh(),...t},o=this._breadcrumbs;return o.push(i),this._breadcrumbs=o.length>r?o.slice(-r):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:rm(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:un();if(!this._client)return ge.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:un();if(!this._client)return ge.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:un();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Oa=Ox;function gz(){return Rx("defaultCurrentScope",()=>new Oa)}function mz(){return Rx("defaultIsolationScope",()=>new Oa)}class vz{constructor(t,n){let r;t?r=t:r=new Oa;let i;n?i=n:i=new Oa,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return A0(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function vu(){const e=zu(),t=jx(e);return t.stack=t.stack||new vz(gz(),mz())}function yz(e){return vu().withScope(e)}function Az(e,t){const n=vu();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function $2(e){return vu().withScope(()=>e(vu().getIsolationScope()))}function bz(){return{withIsolationScope:$2,withScope:yz,withSetScope:Az,withSetIsolationScope:(e,t)=>$2(t),getCurrentScope:()=>vu().getScope(),getIsolationScope:()=>vu().getIsolationScope()}}function _h(e){const t=jx(e);return t.acs?t.acs:bz()}function hn(){const e=zu();return _h(e).getCurrentScope()}function ho(){const e=zu();return _h(e).getIsolationScope()}function _z(){return Rx("globalScope",()=>new Oa)}function b0(...e){const t=zu(),n=_h(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Rt(){return hn().getClient()}const xz="_sentryMetrics";function K1(e){const t=e[xz];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Cr(i));return n}const ma="sentry.source",Cj="sentry.sample_rate",Pf="sentry.op",zn="sentry.origin",Y1="sentry.idle_span_finish_reason",Vx="sentry.measurement_unit",Lx="sentry.measurement_value",Sz="sentry.profile_id",Tj="sentry.exclusive_time",wz=0,Ij=1,Xn=2;function Ez(e){if(e<400&&e>=100)return{code:Ij};if(e>=400&&e<500)switch(e){case 401:return{code:Xn,message:"unauthenticated"};case 403:return{code:Xn,message:"permission_denied"};case 404:return{code:Xn,message:"not_found"};case 409:return{code:Xn,message:"already_exists"};case 413:return{code:Xn,message:"failed_precondition"};case 429:return{code:Xn,message:"resource_exhausted"};case 499:return{code:Xn,message:"cancelled"};default:return{code:Xn,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Xn,message:"unimplemented"};case 503:return{code:Xn,message:"unavailable"};case 504:return{code:Xn,message:"deadline_exceeded"};default:return{code:Xn,message:"internal_error"}}return{code:Xn,message:"unknown_error"}}function Rj(e,t){e.setAttribute("http.response.status_code",t);const n=Ez(t);n.message!=="unknown_error"&&e.setStatus(n)}const Pj=0,Mj=1;function kz(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a}=bt(e);return Cr({parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:s,origin:a})}function Cz(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=bt(e);return Cr({parent_span_id:r,span_id:t,trace_id:n})}function jj(e){const{traceId:t,spanId:n}=e.spanContext(),r=Jl(e);return Mx(t,n,r)}function Cl(e){return typeof e=="number"?F2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?F2(e.getTime()):gr()}function F2(e){return e>9999999999?e/1e3:e}function bt(e){if(Iz(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(Tz(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:l}=e;return Cr({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:Cl(i),timestamp:Cl(s)||void 0,status:Oj(l),op:r[Pf],origin:r[zn],_metrics_summary:K1(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Tz(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Iz(e){return typeof e.getSpanJSON=="function"}function Jl(e){const{traceFlags:t}=e.spanContext();return t===Mj}function Oj(e){if(!(!e||e.code===wz))return e.code===Ij?"ok":e.message||"unknown_error"}const Tl="_sentryChildSpans",Q1="_sentryRootSpan";function Vj(e,t){const n=e[Q1]||e;io(t,Q1,n),e[Tl]?e[Tl].add(t):io(e,Tl,new Set([t]))}function Rz(e,t){e[Tl]&&e[Tl].delete(t)}function hg(e){const t=new Set;function n(r){if(!t.has(r)&&Jl(r)){t.add(r);const i=r[Tl]?Array.from(r[Tl]):[];for(const o of i)n(o)}}return n(e),Array.from(t)}function zr(e){return e[Q1]||e}function ci(){const e=zu(),t=_h(e);return t.getActiveSpan?t.getActiveSpan():rm(hn())}let z2=!1;function Pz(){z2||(z2=!0,yj(J1),Aj(J1))}function J1(){const e=ci(),t=e&&zr(e);if(t){const n="internal_error";Qe&&ge.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:Xn,message:n})}}J1.tag="sentry_tracingErrorCallback";const Lj="_sentryScope",Nj="_sentryIsolationScope";function Mz(e,t,n){e&&(io(e,Nj,n),io(e,Lj,t))}function U2(e){return{scope:e[Lj],isolationScope:e[Nj]}}function Va(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Rt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Uu{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Pj}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const Nx="production",Dj="_frozenDsc";function H2(e,t){io(e,Dj,t)}function _0(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Cr({environment:n.environment||Nx,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function Xl(e){const t=Rt();if(!t)return{};const n=_0(bt(e).trace_id||"",t),r=zr(e),i=r[Dj];if(i)return i;const o=r.spanContext().traceState,s=o&&o.get("sentry.dsc"),a=s&&wj(s);if(a)return a;const l=bt(r),c=l.data||{},u=c[Cj];u!=null&&(n.sample_rate=`${u}`);const d=c[ma],h=l.description;return d!=="url"&&h&&(n.transaction=h),n.sampled=String(Jl(r)),t.emit("createDsc",n,r),n}function jz(e){if(!Qe)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=bt(e),{spanId:i}=e.spanContext(),o=Jl(e),s=zr(e),a=s===e,l=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=bt(s);c.push(`root ID: ${s.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}ge.log(`${l}
  ${c.join(`
  `)}`)}function Oz(e){if(!Qe)return;const{description:t="< unknown name >",op:n="< unknown op >"}=bt(e),{spanId:r}=e.spanContext(),o=zr(e)===e,s=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;ge.log(s)}function Bj(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Qe&&ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Vz(e,t){if(!Va(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=Bj(n);return r===void 0?(Qe&&ge.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Qe&&ge.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Qe&&ge.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function Lz(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Nz(e,t,n,r){const i=kj(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:$u(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Fu(o,[s])}function Dz(e,t,n,r){const i=kj(n),o=e.type&&e.type!=="replay_event"?e.type:"event";Lz(e,n&&n.sdk);const s=rz(e,i,r,t);return delete e.sdkProcessingMetadata,Fu(s,[[{type:o},e]])}function Bz(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=Xl(e[0]),i=t&&t.getDsn(),o=t&&t.getOptions().tunnel,s={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&i&&{dsn:$u(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?u=>a(bt(u)):u=>bt(u),c=[];for(const u of e){const d=l(u);d&&c.push(ez(d))}return Fu(s,c)}function $z(e,t,n){const r=ci(),i=r&&zr(r);i&&i.addEvent(e,{[Lx]:t,[Vx]:n})}function G2(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Vx],o=r[Lx];typeof i=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:i})}),t}const q2=1e3;class Dx{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16),this._startTime=t.startTimestamp||gr(),this._attributes={},this.setAttributes({[zn]:"manual",[Pf]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Mj:Pj}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Cl(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=Cl(t),Oz(this),this._onSpanEnded())}getSpanJSON(){return Cr({data:this._attributes,description:this._name,op:this._attributes[Pf],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Oj(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[zn],_metrics_summary:K1(this),profile_id:this._attributes[Sz],exclusive_time:this._attributes[Tj],measurements:G2(this._events),is_segment:this._isStandaloneSpan&&zr(this)===this||void 0,segment_id:this._isStandaloneSpan?zr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Qe&&ge.log("[Tracing] Adding an event to span:",t);const i=W2(n)?n:r||gr(),o=W2(n)?{}:n||{},s={name:t,time:Cl(i),attributes:o};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Rt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===zr(this)))return;if(this._isStandaloneSpan){this._sampled?zz(Bz([this],t)):(Qe&&ge.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(U2(this).scope||hn()).captureEvent(r)}_convertSpanToTransaction(){if(!K2(bt(this)))return;this._name||(Qe&&ge.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=U2(this),i=(t||hn()).getClient()||Rt();if(this._sampled!==!0){Qe&&ge.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const s=hg(this).filter(d=>d!==this&&!Fz(d)).map(d=>bt(d)).filter(K2),a=this._attributes[ma],l={contexts:{trace:kz(this)},spans:s.length>q2?s.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,q2):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Cr({dynamicSamplingContext:Xl(this)})},_metrics_summary:K1(this),...a&&{transaction_info:{source:a}}},c=G2(this._events);return c&&Object.keys(c).length&&(Qe&&ge.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function W2(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function K2(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Fz(e){return e instanceof Dx&&e.isStandaloneSpan()}function zz(e){const t=Rt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const r=t.getTransport();r&&r.send(e).then(null,i=>{Qe&&ge.error("Error while sending span:",i)})}const $j="__SENTRY_SUPPRESS_TRACING__";function Lo(e){const t=Fj();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Hz(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?s=>b0(e.scope,s):i!==void 0?s=>im(i,s):s=>s())(()=>{const s=hn(),a=qz(s);return e.onlyIfParent&&!a?new Uu:Uz({parentSpan:a,spanArguments:n,forceTransaction:r,scope:s})})}function im(e,t){const n=Fj();return n.withActiveSpan?n.withActiveSpan(e,t):b0(r=>(Rf(r,e||void 0),t(r)))}function Uz({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Va())return new Uu;const i=ho();let o;if(e&&!n)o=Gz(e,r,t),Vj(e,o);else if(e){const s=Xl(e),{traceId:a,spanId:l}=e.spanContext(),c=Jl(e);o=Y2({traceId:a,parentSpanId:l,...t},r,c),H2(o,s)}else{const{traceId:s,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};o=Y2({traceId:s,parentSpanId:l,...t},r,c),a&&H2(o,a)}return jz(o),Mz(o,r,i),o}function Hz(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Cl(e.startTime),delete r.startTime,r}return n}function Fj(){const e=zu();return _h(e)}function Y2(e,t,n){const r=Rt(),i=r&&r.getOptions()||{},{name:o="",attributes:s}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[$j]?[!1]:Vz(i,{name:o,parentSampled:n,attributes:s,transactionContext:{name:o,parentSampled:n}}),c=new Dx({...e,attributes:{[ma]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(Cj,l),r&&r.emit("spanStart",c),c}function Gz(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[$j]?!1:Jl(e),s=o?new Dx({...n,parentSpanId:r,traceId:i,sampled:o}):new Uu({traceId:i});Vj(e,s);const a=Rt();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}function qz(e){const t=rm(e);if(!t)return;const n=Rt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?zr(t):t}const pg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Wz="heartbeatFailed",Kz="idleTimeout",Yz="finalTimeout",Qz="externalFinish";function zj(e,t={}){const n=new Map;let r=!1,i,o=Qz,s=!t.disableAutoFinish;const a=[],{idleTimeout:l=pg.idleTimeout,finalTimeout:c=pg.finalTimeout,childSpanTimeout:u=pg.childSpanTimeout,beforeSpanEnd:d}=t,h=Rt();if(!h||!Va())return new Uu;const p=hn(),g=ci(),m=Jz(e);m.end=new Proxy(m.end,{apply(w,E,C){d&&d(m);const[j,...L]=C,B=j||gr(),U=Cl(B),P=hg(m).filter(O=>O!==m);if(!P.length)return x(U),Reflect.apply(w,E,[U,...L]);const V=P.map(O=>bt(O).timestamp).filter(O=>!!O),R=V.length?Math.max(...V):void 0,k=bt(m).start_timestamp,D=Math.min(k?k+c/1e3:1/0,Math.max(k||-1/0,Math.min(U,R||1/0)));return x(D),Reflect.apply(w,E,[D,...L])}});function b(){i&&(clearTimeout(i),i=void 0)}function v(w){b(),i=setTimeout(()=>{!r&&n.size===0&&s&&(o=Kz,m.end(w))},l)}function A(w){i=setTimeout(()=>{!r&&s&&(o=Wz,m.end(w))},u)}function _(w){b(),n.set(w,!0);const E=gr();A(E+u/1e3)}function S(w){if(n.has(w)&&n.delete(w),n.size===0){const E=gr();v(E+l/1e3)}}function x(w){r=!0,n.clear(),a.forEach(U=>U()),Rf(p,g);const E=bt(m),{start_timestamp:C}=E;if(!C)return;(E.data||{})[Y1]||m.setAttribute(Y1,o),ge.log(`[Tracing] Idle span "${E.op}" finished`);const L=hg(m).filter(U=>U!==m);let B=0;L.forEach(U=>{U.isRecording()&&(U.setStatus({code:Xn,message:"cancelled"}),U.end(w),Qe&&ge.log("[Tracing] Cancelling span since span ended early",JSON.stringify(U,void 0,2)));const P=bt(U),{timestamp:V=0,start_timestamp:R=0}=P,k=R<=w,D=(c+l)/1e3,O=V-R<=D;if(Qe){const z=JSON.stringify(U,void 0,2);k?O||ge.log("[Tracing] Discarding span since it finished after idle span final timeout",z):ge.log("[Tracing] Discarding span since it happened after idle span was finished",z)}(!O||!k)&&(Rz(m,U),B++)}),B>0&&m.setAttribute("sentry.idle_span_discarded_spans",B)}return a.push(h.on("spanStart",w=>{if(r||w===m||bt(w).timestamp)return;hg(m).includes(w)&&_(w.spanContext().spanId)})),a.push(h.on("spanEnd",w=>{r||S(w.spanContext().spanId)})),a.push(h.on("idleSpanEnableAutoFinish",w=>{w===m&&(s=!0,v(),n.size&&A())})),t.disableAutoFinish||v(),setTimeout(()=>{r||(m.setStatus({code:Xn,message:"deadline_exceeded"}),o=Yz,m.end())},c),m}function Jz(e){const t=Lo(e);return Rf(hn(),t),Qe&&ge.log("[Tracing] Started span is an idle span"),t}function X1(e,t,n,r=0){return new Gi((i,o)=>{const s=e[r];if(t===null||typeof s!="function")i(t);else{const a=s({...t},n);Qe&&s.id&&a===null&&ge.log(`Event processor "${s.id}" dropped event`),A0(a)?a.then(l=>X1(e,l,n,r+1).then(i)).then(null,o):X1(e,a,n,r+1).then(i).then(null,o)}})}function Xz(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;Zz(e,t),r&&n9(e,r),r9(e,n),e9(e,i),t9(e,o)}function Q2(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;dd(e,"extra",n),dd(e,"tags",r),dd(e,"user",i),dd(e,"contexts",o),dd(e,"sdkProcessingMetadata",a),s&&(e.level=s),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function dd(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Zz(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=t,l=Cr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Cr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=Cr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Cr(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),s&&(e.level=s),a&&e.type!=="transaction"&&(e.transaction=a)}function e9(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function t9(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function n9(e,t){e.contexts={trace:Cz(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Xl(t),...e.sdkProcessingMetadata};const n=zr(t),r=bt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function r9(e,t){e.fingerprint=e.fingerprint?_j(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function i9(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||un(),timestamp:t.timestamp||bh()},c=n.integrations||e.integrations.map(b=>b.name);o9(l,e),l9(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&s9(l,e.stackParser);const u=u9(r,n.captureContext);n.mechanism&&If(l,n.mechanism);const d=i?i.getEventProcessors():[],h=_z().getScopeData();if(o){const b=o.getScopeData();Q2(h,b)}if(u){const b=u.getScopeData();Q2(h,b)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Xz(l,h);const g=[...d,...h.eventProcessors];return X1(g,l,n).then(b=>(b&&a9(b),typeof s=="number"&&s>0?c9(b,s,a):b))}function o9(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:Nx),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Jc(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Jc(s.value,o));const a=e.request;a&&a.url&&(a.url=Jc(a.url,o))}const J2=new WeakMap;function s9(e,t){const n=_t._sentryDebugIds;if(!n)return;let r;const i=J2.get(t);i?r=i:(r=new Map,J2.set(t,r));const o=Object.entries(n).reduce((s,[a,l])=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){s[h.filename]=l;break}}return s},{});try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})})}catch{}}function a9(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function l9(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function c9(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:aa(i.data,t,n)}}))},...e.user&&{user:aa(e.user,t,n)},...e.contexts&&{contexts:aa(e.contexts,t,n)},...e.extra&&{extra:aa(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=aa(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:aa(i.data,t,n)}}))),r}function u9(e,t){if(!t)return e;const n=e?e.clone():new Oa;return n.update(t),n}function d9(e){if(e)return f9(e)?{captureContext:e}:p9(e)?{captureContext:e}:e}function f9(e){return e instanceof Oa||typeof e=="function"}const h9=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function p9(e){return Object.keys(e).some(t=>h9.includes(t))}function $o(e,t){return hn().captureException(e,d9(t))}function Uj(e,t){return hn().captureEvent(e,t)}function g9(e,t){ho().setContext(e,t)}function m9(e){ho().setUser(e)}function v9(){return ho().lastEventId()}function X2(e){const t=Rt(),n=ho(),r=hn(),{release:i,environment:o=Nx}=t&&t.getOptions()||{},{userAgent:s}=_t.navigator||{},a=dz({release:i,environment:o,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),l=n.getSession();return l&&l.status==="ok"&&mu(l,{status:"exited"}),Hj(),n.setSession(a),r.setSession(a),a}function Hj(){const e=ho(),t=hn(),n=t.getSession()||e.getSession();n&&fz(n),Gj(),e.setSession(),t.setSession()}function Gj(){const e=ho(),t=hn(),n=Rt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function Z2(e=!1){if(e){Hj();return}Gj()}const y9="7";function qj(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function A9(e){return`${qj(e)}${e.projectId}/envelope/`}function b9(e,t){return b8({sentry_key:e.publicKey,sentry_version:y9,...t&&{sentry_client:`${t.name}/${t.version}`}})}function _9(e,t,n){return t||`${A9(e)}?${b9(e,n)}`}function x9(e,t){const n=cj(e);if(!n)return"";const r=`${qj(n)}embed/error-page/`;let i=`dsn=${$u(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const s=t.user;if(!s)continue;s.name&&(i+=`&name=${encodeURIComponent(s.name)}`),s.email&&(i+=`&email=${encodeURIComponent(s.email)}`)}else i+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${i}`}const eC=[];function S9(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function w9(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=_j(n(t)):r=t;const i=S9(r),o=i.findIndex(s=>s.name==="Debug");if(o>-1){const[s]=i.splice(o,1);i.push(s)}return i}function E9(e,t){const n={};return t.forEach(r=>{r&&Wj(e,r,n)}),n}function tC(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Wj(e,t,n){if(n[t.name]){Qe&&ge.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,eC.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),eC.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}Qe&&ge.log(`Integration installed: ${t.name}`)}const nC="Not capturing exception because it's already been captured.";class k9{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=cj(t.dsn):Qe&&ge.warn("No DSN provided, client will not send events."),this._dsn){const n=_9(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=un();if(L2(t))return Qe&&ge.log(nC),i;const o={event_id:i,...n};return this._process(this.eventFromException(t,o).then(s=>this._captureEvent(s,o,r))),o.event_id}captureMessage(t,n,r,i){const o={event_id:un(),...r},s=Tx(t)?t:String(t),a=Ix(t)?this.eventFromMessage(s,n,o):this.eventFromException(t,o);return this._process(a.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(t,n,r){const i=un();if(n&&n.originalException&&L2(n.originalException))return Qe&&ge.log(nC),i;const o={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?Qe&&ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),mu(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Ll(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Wj(this,t,this._integrations),n||tC(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Dz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=J8(r,tz(o));const i=this.sendEnvelope(r);i&&i.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=Nz(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,o=`${t}:${n}`;Qe&&ge.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Qe&&ge.error("Error while sending event:",n),n)):(Qe&&ge.error("Transport disabled"),Ll({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=E9(this,t),tC(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const o=n.exception&&n.exception.values;if(o){i=!0;for(const l of o){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&r)&&(mu(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Gi(n=>{let r=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=i,t&&r>=t&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=ho()){const o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),i9(o,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:Cr({trace_id:u,span_id:d,parent_span_id:h}),...a.contexts};const g=p||_0(u,this);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Qe){const o=i;o.logLevel==="log"?ge.log(o.message):ge.warn(o)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:o}=i,s=Yj(t),a=Kj(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof o>"u"?void 0:Bj(o);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),tm(new rs(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new rs("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const b=T9(this,i,g,n);return C9(b,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),s){const A=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",A)}throw new rs(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!s&&m&&this._updateSessionFromEvent(m,g),s){const v=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,A=g.spans?g.spans.length:0,_=v-A;_>0&&this.recordDroppedEvent("before_send","span",_)}const b=g.transaction_info;if(s&&b&&g.transaction!==t.transaction){const v="custom";g.transaction_info={...b,source:v}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof rs?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new rs(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}_flushOutcomes(){Qe&&ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Qe&&ge.log("No outcomes to send");return}if(!this._dsn){Qe&&ge.log("No dsn provided, will not send outcomes");return}Qe&&ge.log("Sending outcomes:",t);const n=iz(t,this._options.tunnel&&$u(this._dsn));this.sendEnvelope(n)}}function C9(e,t){const n=`${t} must return \`null\` or a valid event.`;if(A0(e))return e.then(r=>{if(!pu(r)&&r!==null)throw new rs(n);return r},r=>{throw new rs(`${t} rejected with ${r}`)});if(!pu(e)&&e!==null)throw new rs(n);return e}function T9(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(Kj(n)&&i)return i(n,r);if(Yj(n)){if(n.spans&&s){const a=[];for(const l of n.spans){const c=s(l);c?a.push(c):e.recordDroppedEvent("before_send","span")}n.spans=a}if(o){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return o(n,r)}}return n}function Kj(e){return e.type===void 0}function Yj(e){return e.type==="transaction"}function I9(e,t){t.debug===!0&&(Qe?ge.enable():Ah(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),hn().update(t.initialScope);const r=new e(t);return R9(r),r.init(),r}function R9(e){hn().setClient(e)}const P9=64;function M9(e,t,n=F8(e.bufferSize||P9)){let r={};const i=s=>n.drain(s);function o(s){const a=[];if(D2(s,(d,h)=>{const p=B2(h);if(lz(r,p)){const g=rC(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Ll({});const l=Fu(s[0],a),c=d=>{D2(l,(h,p)=>{const g=rC(h,p);e.recordDroppedEvent(d,B2(p),g)})},u=()=>t({body:X8(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Qe&&ge.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=cz(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof rs)return Qe&&ge.error("Skipped sending event because buffer is full."),c("queue_overflow"),Ll({});throw d})}return{send:o,flush:i}}function rC(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Qj(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:El})),version:El}),e._metadata=i}const j9=100;function Nl(e,t){const n=Rt(),r=ho();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=j9}=n.getOptions();if(o<=0)return;const a={timestamp:bh(),...e},l=i?Ah(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,o))}let iC;const O9="FunctionToString",oC=new WeakMap,V9=()=>({name:O9,setupOnce(){iC=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Px(this),n=oC.has(Rt())&&t!==void 0?t:this;return iC.apply(n,e)}}catch{}},setup(e){oC.set(e,!0)}}),L9=V9,N9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],D9="InboundFilters",B9=(e={})=>({name:D9,processEvent(t,n,r){const i=r.getOptions(),o=F9(e,i);return z9(t,o)?null:t}}),$9=B9;function F9(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:N9],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function z9(e,t){return t.ignoreInternal&&K9(e)?(Qe&&ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${sa(e)}`),!0):U9(e,t.ignoreErrors)?(Qe&&ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${sa(e)}`),!0):Q9(e)?(Qe&&ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${sa(e)}`),!0):H9(e,t.ignoreTransactions)?(Qe&&ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${sa(e)}`),!0):G9(e,t.denyUrls)?(Qe&&ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${sa(e)}.
Url: ${om(e)}`),!0):q9(e,t.allowUrls)?!1:(Qe&&ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${sa(e)}.
Url: ${om(e)}`),!0)}function U9(e,t){return e.type||!t||!t.length?!1:W9(e).some(n=>wl(n,t))}function H9(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?wl(n,t):!1}function G9(e,t){if(!t||!t.length)return!1;const n=om(e);return n?wl(n,t):!1}function q9(e,t){if(!t||!t.length)return!0;const n=om(e);return n?wl(n,t):!0}function W9(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function K9(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Y9(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function om(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Y9(t):null}catch{return Qe&&ge.error(`Cannot extract url for event ${sa(e)}`),null}}function Q9(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const J9="Dedupe",X9=()=>{let e;return{name:J9,processEvent(t){if(t.type)return t;try{if(e7(t,e))return Qe&&ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Z9=X9;function e7(e,t){return t?!!(t7(e,t)||n7(e,t)):!1}function t7(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Xj(e,t)||!Jj(e,t))}function n7(e,t){const n=sC(t),r=sC(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Xj(e,t)||!Jj(e,t))}function Jj(e,t){let n=j2(e),r=j2(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function Xj(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function sC(e){return e.exception&&e.exception.values&&e.exception.values[0]}function r7(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const o=Va()&&t(e.fetchData.url);if(e.endTimestamp&&o){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(s7(m,e),delete r[g]);return}const s=hn(),a=Rt(),{method:l,url:c}=e.fetchData,u=o7(c),d=u?kl(u).host:void 0,h=!!ci(),p=o&&h?Lo({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[zn]:i,[Pf]:"http.client"}}):new Uu;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=i7(g,a,s,m,Va()&&h?p:void 0)}return p}function i7(e,t,n,r,i){const o=ho(),{traceId:s,spanId:a,sampled:l,dsc:c}={...o.getPropagationContext(),...n.getPropagationContext()},u=i?jj(i):Mx(s,a,l),d=Ej(c||(i?Xl(i):_0(s,t))),h=r.headers||(typeof Request<"u"&&Ls(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&Ls(h,Headers)){const p=new Headers(h);return p.append("sentry-trace",u),d&&p.append(G1,d),p}else if(Array.isArray(h)){const p=[...h,["sentry-trace",u]];return d&&p.push([G1,d]),p}else{const p="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(p)?g.push(...p):p&&g.push(p),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function o7(e){try{return new URL(e).href}catch{return}}function s7(e,t){if(t.response){Rj(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Xn,message:"internal_error"});e.end()}const Fe=_t;let Z1=0;function Zj(){return Z1>0}function a7(){Z1++,setTimeout(()=>{Z1--})}function yu(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Px(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const o=i.map(s=>yu(s,t));return e.apply(this,o)}catch(o){throw a7(),b0(s=>{s.addEventProcessor(a=>(t.mechanism&&(U1(a,void 0),If(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),$o(o)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}uj(r,e),io(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const ri=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Bx(e,t){const n=$x(e,t),r={type:t&&t.name,value:f7(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function l7(e,t,n,r){const i=Rt(),o=i&&i.getOptions().normalizeDepth,s=v7(t),a={__serialized__:xj(t,o)};if(s)return{exception:{values:[Bx(e,s)]},extra:a};const l={exception:{values:[{type:y0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:g7(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=$x(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Sy(e,t){return{exception:{values:[Bx(e,t)]}}}function $x(e,t){const n=t.stacktrace||t.stack||"",r=u7(t),i=d7(t);try{return e(n,r,i)}catch{}return[]}const c7=/Minified React error #\d+;/i;function u7(e){return e&&c7.test(e.message)?1:0}function d7(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function f7(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function h7(e,t,n,r){const i=n&&n.syntheticException||void 0,o=Fx(e,t,i,r);return If(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ll(o)}function p7(e,t,n="info",r,i){const o=r&&r.syntheticException||void 0,s=eb(e,t,o,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Ll(s)}function Fx(e,t,n,r,i){let o;if(oj(t)&&t.error)return Sy(e,t.error);if(E2(t)||r8(t)){const s=t;if("stack"in t)o=Sy(e,t);else{const a=s.name||(E2(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=eb(e,l,n,r),U1(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return v0(t)?Sy(e,t):pu(t)||y0(t)?(o=l7(e,t,n,i),If(o,{synthetic:!0}),o):(o=eb(e,t,n,r),U1(o,`${t}`),If(o,{synthetic:!0}),o)}function eb(e,t,n,r){const i={};if(r&&n){const o=$x(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(Tx(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function g7(e,{isUnhandledRejection:t}){const n=_8(e),r=t?"promise rejection":"exception";return oj(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:y0(e)?`Event \`${m7(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function m7(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function v7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function y7(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:$u(r)}},o=A7(e);return Fu(i,[o])}function A7(e){return[{type:"user_report"},e]}class b7 extends k9{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Fe.SENTRY_SDK_SOURCE||V8();Qj(n,"browser",["browser"],r),super(n),n.sendClientReports&&Fe.document&&Fe.document.addEventListener("visibilitychange",()=>{Fe.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return h7(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return p7(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){ri&&ge.warn("SDK not enabled, will not capture user feedback.");return}const n=y7(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const yi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_7=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Hu=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i||0),(o||i===void 0)&&(i=t.value,t.delta=o,t.rating=_7(t.value,n),e(t)))}},He=_t,x7=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,xh=()=>He.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],x0=()=>{const e=xh();return e&&e.activationStart||0},Gu=(e,t)=>{const n=xh();let r="navigate";return n&&(He.document&&He.document.prerendering||x0()>0?r="prerender":He.document&&He.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:x7(),navigationType:r}},Zl=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},S0=e=>{const t=n=>{(n.type==="pagehide"||He.document&&He.document.visibilityState==="hidden")&&e(n)};He.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},zx=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Mf=-1;const S7=()=>{Mf=He.document.visibilityState==="hidden"&&!He.document.prerendering?0:1/0},sm=e=>{He.document.visibilityState==="hidden"&&Mf>-1&&(Mf=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",sm,!0),removeEventListener("prerenderingchange",sm,!0))},w7=()=>{addEventListener("visibilitychange",sm,!0),addEventListener("prerenderingchange",sm,!0)},w0=()=>(He.document&&Mf<0&&(S7(),w7()),{get firstHiddenTime(){return Mf}}),Sh=e=>{He.document&&He.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},E7=[1800,3e3],k7=(e,t={})=>{Sh(()=>{const n=w0(),r=Gu("FCP");let i;const s=Zl("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(s.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-x0(),0),r.entries.push(l),i(!0)))})});s&&(i=Hu(e,r,E7,t.reportAllChanges))})},C7=[.1,.25],T7=(e,t={})=>{k7(zx(()=>{const n=Gu("CLS",0);let r,i=0,o=[];const s=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=o[0],d=o[o.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,o.push(c)):(i=c.value,o=[c])}}),i>n.value&&(n.value=i,n.entries=o,r())},a=Zl("layout-shift",s);a&&(r=Hu(e,n,C7,t.reportAllChanges),S0(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},I7=[100,300],R7=(e,t={})=>{Sh(()=>{const n=w0(),r=Gu("FID");let i;const o=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},s=l=>{l.forEach(o)},a=Zl("first-input",s);i=Hu(e,r,I7,t.reportAllChanges),a&&S0(zx(()=>{s(a.takeRecords()),a.disconnect()}))})};let e3=0,wy=1/0,gp=0;const P7=e=>{e.forEach(t=>{t.interactionId&&(wy=Math.min(wy,t.interactionId),gp=Math.max(gp,t.interactionId),e3=gp?(gp-wy)/7+1:0)})};let tb;const M7=()=>tb?e3:performance.interactionCount||0,j7=()=>{"interactionCount"in performance||tb||(tb=Zl("event",P7,{type:"event",buffered:!0,durationThreshold:0}))},O7=[200,500],V7=0,t3=()=>M7()-V7,aC=10,xs=[],Ey={},lC=e=>{const t=xs[xs.length-1],n=Ey[e.interactionId];if(n||xs.length<aC||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Ey[r.id]=r,xs.push(r)}xs.sort((r,i)=>i.latency-r.latency),xs.splice(aC).forEach(r=>{delete Ey[r.id]})}},L7=()=>{const e=Math.min(xs.length-1,Math.floor(t3()/50));return xs[e]},N7=(e,t={})=>{Sh(()=>{j7();const n=Gu("INP");let r;const i=s=>{s.forEach(l=>{l.interactionId&&lC(l),l.entryType==="first-input"&&!xs.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&lC(l)});const a=L7();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},o=Zl("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Hu(e,n,O7,t.reportAllChanges),o&&("PerformanceEventTiming"in He&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),S0(()=>{i(o.takeRecords()),n.value<0&&t3()>0&&(n.value=0,n.entries=[]),r(!0)}))})},D7=[2500,4e3],cC={},B7=(e,t={})=>{Sh(()=>{const n=w0(),r=Gu("LCP");let i;const o=a=>{const l=a[a.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-x0(),0),r.entries=[l],i())},s=Zl("largest-contentful-paint",o);if(s){i=Hu(e,r,D7,t.reportAllChanges);const a=zx(()=>{cC[r.id]||(o(s.takeRecords()),s.disconnect(),cC[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{He.document&&addEventListener(l,()=>setTimeout(a,0),!0)}),S0(a)}})},$7=[800,1800],nb=e=>{He.document&&He.document.prerendering?Sh(()=>nb(e)):He.document&&He.document.readyState!=="complete"?addEventListener("load",()=>nb(e),!0):setTimeout(e,0)},F7=(e,t={})=>{const n=Gu("TTFB"),r=Hu(e,n,$7,t.reportAllChanges);nb(()=>{const i=xh();if(i){const o=i.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-x0(),0),n.entries=[i],r(!0)}})},Xd={},am={};let n3,r3,i3,o3,s3;function z7(e,t=!1){return wh("cls",e,W7,n3,t)}function U7(e,t=!1){return wh("lcp",e,Y7,i3,t)}function H7(e){return wh("fid",e,K7,r3)}function G7(e){return wh("ttfb",e,Q7,o3)}function q7(e){return wh("inp",e,J7,s3)}function jf(e,t){return a3(e,t),am[e]||(X7(e),am[e]=!0),l3(e,t)}function qu(e,t){const n=Xd[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){yi&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ns(r)}
Error:`,i)}}function W7(){return T7(e=>{qu("cls",{metric:e}),n3=e},{reportAllChanges:!0})}function K7(){return R7(e=>{qu("fid",{metric:e}),r3=e})}function Y7(){return B7(e=>{qu("lcp",{metric:e}),i3=e},{reportAllChanges:!0})}function Q7(){return F7(e=>{qu("ttfb",{metric:e}),o3=e})}function J7(){return N7(e=>{qu("inp",{metric:e}),s3=e})}function wh(e,t,n,r,i=!1){a3(e,t);let o;return am[e]||(o=n(),am[e]=!0),r&&t({metric:r}),l3(e,t,i?o:void 0)}function X7(e){const t={};e==="event"&&(t.durationThreshold=0),Zl(e,n=>{qu(e,{entries:n})},t)}function a3(e,t){Xd[e]=Xd[e]||[],Xd[e].push(t)}function l3(e,t,n){return()=>{n&&n();const r=Xd[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function Z7(e){return"duration"in e}function ky(e){return typeof e=="number"&&isFinite(e)}function Au(e,t,n,{...r}){const i=bt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),im(e,()=>{const o=Lo({startTime:t,...r});return o&&o.end(n),o})}function Ux(){return He&&He.addEventListener&&He.performance}function Mn(e){return e/1e3}const eU=2147483647;let uC=0,Zn={},Jo,Zd;function tU(){const e=Ux();if(e&&wi){e.mark&&He.performance.mark("sentry-tracing-init");const t=aU(),n=oU(),r=sU(),i=lU();return()=>{t(),n(),r(),i()}}return()=>{}}function nU(){jf("longtask",({entries:e})=>{if(ci())for(const t of e){const n=Mn(wi+t.startTime),r=Mn(t.duration),i=Lo({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[zn]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function rU(){new PerformanceObserver(t=>{if(ci())for(const n of t.getEntries()){if(!n.scripts[0])continue;const r=Mn(wi+n.startTime),i=Mn(n.duration),o={[zn]:"auto.ui.browser.metrics"},s=n.scripts[0],{invoker:a,invokerType:l,sourceURL:c,sourceFunctionName:u,sourceCharPosition:d}=s;o["browser.script.invoker"]=a,o["browser.script.invoker_type"]=l,c&&(o["code.filepath"]=c),u&&(o["code.function"]=u),d!==-1&&(o["browser.script.source_char_position"]=d);const h=Lo({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:o});h&&h.end(r+i)}}).observe({type:"long-animation-frame",buffered:!0})}function iU(){jf("event",({entries:e})=>{if(ci()){for(const t of e)if(t.name==="click"){const n=Mn(wi+t.startTime),r=Mn(t.duration),i={name:gu(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[zn]:"auto.ui.browser.metrics"}},o=aj(t.target);o&&(i.attributes["ui.component_name"]=o);const s=Lo(i);s&&s.end(n+r)}}})}function oU(){return z7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(yi&&ge.log("[Measurements] Adding CLS"),Zn.cls={value:e.value,unit:""},Zd=t)},!0)}function sU(){return U7(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(yi&&ge.log("[Measurements] Adding LCP"),Zn.lcp={value:e.value,unit:"millisecond"},Jo=t)},!0)}function aU(){return H7(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Mn(wi),r=Mn(t.startTime);yi&&ge.log("[Measurements] Adding FID"),Zn.fid={value:e.value,unit:"millisecond"},Zn["mark.fid"]={value:n+r,unit:"second"}})}function lU(){return G7(({metric:e})=>{e.entries[e.entries.length-1]&&(yi&&ge.log("[Measurements] Adding TTFB"),Zn.ttfb={value:e.value,unit:"millisecond"})})}function cU(e){const t=Ux();if(!t||!He.performance.getEntries||!wi)return;yi&&ge.log("[Tracing] Adding & adjusting spans using Performance API");const n=Mn(wi),r=t.getEntries(),{op:i,start_timestamp:o}=bt(e);if(r.slice(uC).forEach(s=>{const a=Mn(s.startTime),l=Mn(Math.max(0,s.duration));if(!(i==="navigation"&&o&&n+a<o))switch(s.entryType){case"navigation":{dU(e,s,n);break}case"mark":case"paint":case"measure":{uU(e,s,a,l,n);const c=w0(),u=s.startTime<c.firstHiddenTime;s.name==="first-paint"&&u&&(yi&&ge.log("[Measurements] Adding FP"),Zn.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&u&&(yi&&ge.log("[Measurements] Adding FCP"),Zn.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{hU(e,s,s.name,a,l,n);break}}}),uC=Math.max(r.length-1,0),pU(e),i==="pageload"){mU(Zn),["fcp","fp","lcp"].forEach(a=>{const l=Zn[a];if(!l||!o||n>=o)return;const c=l.value,u=n+Mn(c),d=Math.abs((u-o)*1e3),h=d-c;yi&&ge.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${h})`),l.value=d});const s=Zn["mark.fid"];s&&Zn.fid&&(Au(e,s.value,s.value+Mn(Zn.fid.value),{name:"first input delay",op:"ui.action",attributes:{[zn]:"auto.ui.browser.metrics"}}),delete Zn["mark.fid"]),"fcp"in Zn||delete Zn.cls,Object.entries(Zn).forEach(([a,l])=>{$z(a,l.value,l.unit)}),gU(e)}Jo=void 0,Zd=void 0,Zn={}}function uU(e,t,n,r,i){const o=xh(),s=Mn(o?o.requestStart:0),a=i+Math.max(n,s),l=i+n,c=l+r,u={[zn]:"auto.resource.browser.metrics"};return a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),Au(e,a,c,{name:t.name,op:t.entryType,attributes:u}),a}function dU(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{mp(e,t,r,n)}),mp(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),mp(e,t,"fetch",n,"cache","domainLookupStart"),mp(e,t,"domainLookup",n,"DNS"),fU(e,t,n)}function mp(e,t,n,r,i,o){const s=o?t[o]:t[`${n}End`],a=t[`${n}Start`];!a||!s||Au(e,r+Mn(a),r+Mn(s),{op:"browser",name:i||n,attributes:{[zn]:"auto.ui.browser.metrics"}})}function fU(e,t,n){const r=n+Mn(t.requestStart),i=n+Mn(t.responseEnd),o=n+Mn(t.responseStart);t.responseEnd&&(Au(e,r,i,{op:"browser",name:"request",attributes:{[zn]:"auto.ui.browser.metrics"}}),Au(e,o,i,{op:"browser",name:"response",attributes:{[zn]:"auto.ui.browser.metrics"}}))}function hU(e,t,n,r,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const s=kl(n),a={[zn]:"auto.resource.browser.metrics"};Cy(a,t,"transferSize","http.response_transfer_size"),Cy(a,t,"encodedBodySize","http.response_content_length"),Cy(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(He.location.origin);const l=o+r,c=l+i;Au(e,l,c,{name:n.replace(He.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function pU(e){const t=He.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),ky(n.rtt)&&(Zn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ky(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),ky(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function gU(e){Jo&&(yi&&ge.log("[Measurements] Adding LCP Data"),Jo.element&&e.setAttribute("lcp.element",gu(Jo.element)),Jo.id&&e.setAttribute("lcp.id",Jo.id),Jo.url&&e.setAttribute("lcp.url",Jo.url.trim().slice(0,200)),e.setAttribute("lcp.size",Jo.size)),Zd&&Zd.sources&&(yi&&ge.log("[Measurements] Adding CLS Data"),Zd.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,gu(t.node))))}function Cy(e,t,n,r){const i=t[n];i!=null&&i<eU&&(e[r]=i)}function mU(e){const t=xh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(yi&&ge.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const vU=1e3;let dC,rb,ib;function yU(e){const t="dom";Ua(t,e),Ha(t,AU)}function AU(){if(!He.document)return;const e=to.bind(null,"dom"),t=fC(e,!0);He.document.addEventListener("click",t,!1),He.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=He[n]&&He[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(pr(r,"addEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[o]=c[o]||{refCount:0};if(!u.handler){const d=fC(e);u.handler=d,i.call(this,o,d,a)}u.refCount++}catch{}return i.call(this,o,s,a)}}),pr(r,"removeEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[o];u&&(u.refCount--,u.refCount<=0&&(i.call(this,o,u.handler,a),u.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,s,a)}}))})}function bU(e){if(e.type!==rb)return!1;try{if(!e.target||e.target._sentryId!==ib)return!1}catch{}return!0}function _U(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function fC(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=xU(n);if(_U(n.type,r))return;io(n,"_sentryCaptured",!0),r&&!r._sentryId&&io(r,"_sentryId",un());const i=n.type==="keypress"?"input":n.type;bU(n)||(e({event:n,name:i,global:t}),rb=n.type,ib=r?r._sentryId:void 0),clearTimeout(dC),dC=He.setTimeout(()=>{ib=void 0,rb=void 0},vU)}}function xU(e){try{return e.target}catch{return null}}let vp;function Hx(e){const t="history";Ua(t,e),Ha(t,SU)}function SU(){if(!uz())return;const e=He.onpopstate;He.onpopstate=function(...n){const r=He.location.href,i=vp;if(vp=r,to("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=vp,s=String(i);vp=s,to("history",{from:o,to:s})}return n.apply(this,r)}}pr(He.history,"pushState",t),pr(He.history,"replaceState",t)}const gg={};function wU(e){const t=gg[e];if(t)return t;let n=He[e];if(F1(n))return gg[e]=n.bind(He);const r=He.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){yi&&ge.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(gg[e]=n.bind(He))}function hC(e){gg[e]=void 0}const Ic="__sentry_xhr_v3__";function c3(e){const t="xhr";Ua(t,e),Ha(t,EU)}function EU(){if(!He.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;pr(e,"open",function(t){return function(...n){const r=gr()*1e3,i=Ms(n[0])?n[0].toUpperCase():void 0,o=kU(n[1]);if(!i||!o)return t.apply(this,n);this[Ic]={method:i,url:o,request_headers:{}},i==="POST"&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const a=this[Ic];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={endTimestamp:gr()*1e3,startTimestamp:r,xhr:this};to("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?pr(this,"onreadystatechange",function(a){return function(...l){return s(),a.apply(this,l)}}):this.addEventListener("readystatechange",s),pr(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[Ic];return d&&Ms(c)&&Ms(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),pr(e,"send",function(t){return function(...n){const r=this[Ic];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={startTimestamp:gr()*1e3,xhr:this};return to("xhr",i),t.apply(this,n)}})}function kU(e){if(Ms(e))return e;try{return e.toString()}catch{}}const Ty=[],mg=new Map;function CU(){if(Ux()&&wi){const t=TU();return()=>{t()}}return()=>{}}const pC={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function TU(){return q7(({metric:e})=>{const t=Rt();if(!t||e.value==null)return;const n=e.entries.find(w=>w.duration===e.value&&pC[w.name]);if(!n)return;const{interactionId:r}=n,i=pC[n.name],o=t.getOptions(),s=Mn(wi+n.startTime),a=Mn(e.value),l=hn(),c=ci(),u=c?zr(c):void 0,h=(r!=null?mg.get(r):void 0)||u,p=h?bt(h).description:l.getScopeData().transactionName,g=l.getUser(),m=t.getIntegrationByName("Replay"),b=m&&m.getReplayId(),v=g!==void 0?g.email||g.id||g.ip_address:void 0;let A;try{A=l.getScopeData().contexts.profile.profile_id}catch{}const _=gu(n.target),S=Cr({release:o.release,environment:o.environment,transaction:p,[Tj]:e.value,[zn]:"auto.http.browser.inp",user:v||void 0,profile_id:A||void 0,replay_id:b||void 0,"user_agent.original":He.navigator&&He.navigator.userAgent}),x=Lo({name:_,op:`ui.interaction.${i}`,attributes:S,startTime:s,experimental:{standalone:!0}});x.addEvent("inp",{[Vx]:"millisecond",[Lx]:e.value}),x.end(s+a)})}function IU(e){const t=({entries:n})=>{const r=ci(),i=r&&zr(r);n.forEach(o=>{if(!Z7(o)||!i)return;const s=o.interactionId;if(s!=null&&!mg.has(s)){if(Ty.length>10){const a=Ty.shift();mg.delete(a)}Ty.push(s),mg.set(s,i)}})};jf("event",t),jf("first-input",t)}function RU(e,t=wU("fetch")){let n=0,r=0;function i(o){const s=o.body.length;n+=s,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return hC("fetch"),tm("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return hC("fetch"),n-=s,r--,tm(l)}}return M9(e,i)}const PU=30,MU=50;function ob(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Vl:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const jU=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,OU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,VU=/\((\S*)(?::(\d+))(?::(\d+))\)/,LU=e=>{const t=jU.exec(e);if(t){const[,r,i,o]=t;return ob(r,Vl,+i,+o)}const n=OU.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=VU.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,o]=u3(n[1]||Vl,n[2]);return ob(o,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},NU=[PU,LU],DU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,BU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$U=e=>{const t=DU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=BU.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],i=t[1]||Vl;return[i,r]=u3(i,r),ob(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},FU=[MU,$U],zU=[NU,FU],UU=hj(...zU),u3=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Vl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},yp=1024,HU="Breadcrumbs",GU=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:HU,setup(n){t.console&&E8(YU(n)),t.dom&&yU(KU(n,t.dom)),t.xhr&&c3(QU(n)),t.fetch&&mj(JU(n)),t.history&&Hx(XU(n)),t.sentry&&n.on("beforeSendEvent",WU(n))}}},qU=GU;function WU(e){return function(n){Rt()===e&&Nl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:sa(n)},{event:n})}}function KU(e,t){return function(r){if(Rt()!==e)return;let i,o,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>yp&&(ri&&ge.warn(`\`dom.maxStringLength\` cannot exceed ${yp}, but a value of ${a} was configured. Sentry will use ${yp} instead.`),a=yp),typeof s=="string"&&(s=[s]);try{const c=r.event,u=ZU(c)?c.target:c;i=gu(u,{keyAttrs:s,maxStringLength:a}),o=aj(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};o&&(l.data={"ui.component_name":o}),Nl(l,{event:r.event,name:r.name,global:r.global})}}function YU(e){return function(n){if(Rt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:U8(n.level),message:k2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${k2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Nl(r,{input:n.args,level:n.level})}}function QU(e){return function(n){if(Rt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[Ic];if(!r||!i||!o)return;const{method:s,url:a,status_code:l,body:c}=o,u={method:s,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};Nl({category:"xhr",data:u,type:"http"},d)}}function JU(e){return function(n){if(Rt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Nl({category:"fetch",data:o,level:"error",type:"http"},s)}else{const o=n.response,s={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:i};Nl({category:"fetch",data:s,type:"http"},a)}}}function XU(e){return function(n){if(Rt()!==e)return;let r=n.from,i=n.to;const o=kl(Fe.location.href);let s=r?kl(r):void 0;const a=kl(i);(!s||!s.path)&&(s=o),o.protocol===a.protocol&&o.host===a.host&&(i=a.relative),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),Nl({category:"navigation",data:{from:r,to:i}})}}function ZU(e){return!!e&&!!e.target}const eH=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],tH="BrowserApiErrors",nH=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:tH,setupOnce(){t.setTimeout&&pr(Fe,"setTimeout",gC),t.setInterval&&pr(Fe,"setInterval",gC),t.requestAnimationFrame&&pr(Fe,"requestAnimationFrame",iH),t.XMLHttpRequest&&"XMLHttpRequest"in Fe&&pr(XMLHttpRequest.prototype,"send",oH);const n=t.eventTarget;n&&(Array.isArray(n)?n:eH).forEach(sH)}}},rH=nH;function gC(e){return function(...t){const n=t[0];return t[0]=yu(n,{mechanism:{data:{function:Ns(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function iH(e){return function(t){return e.apply(this,[yu(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ns(e)},handled:!1,type:"instrument"}})])}}function oH(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&pr(n,i,function(o){const s={mechanism:{data:{function:i,handler:Ns(o)},handled:!1,type:"instrument"}},a=Px(o);return a&&(s.mechanism.data.handler=Ns(a)),yu(o,s)})}),e.apply(this,t)}}function sH(e){const t=Fe,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(pr(n,"addEventListener",function(r){return function(i,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=yu(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ns(o),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,yu(o,{mechanism:{data:{function:"addEventListener",handler:Ns(o),target:e},handled:!1,type:"instrument"}}),s])}}),pr(n,"removeEventListener",function(r){return function(i,o,s){const a=o;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,s)}catch{}return r.call(this,i,a,s)}}))}const aH="GlobalHandlers",lH=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:aH,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(uH(n),mC("onerror")),t.onunhandledrejection&&(dH(n),mC("onunhandledrejection"))}}},cH=lH;function uH(e){yj(t=>{const{stackParser:n,attachStacktrace:r}=d3();if(Rt()!==e||Zj())return;const{msg:i,url:o,line:s,column:a,error:l}=t,c=pH(Fx(n,l||i,void 0,r,!1),o,s,a);c.level="error",Uj(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function dH(e){Aj(t=>{const{stackParser:n,attachStacktrace:r}=d3();if(Rt()!==e||Zj())return;const i=fH(t),o=Ix(i)?hH(i):Fx(n,i,void 0,r,!0);o.level="error",Uj(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function fH(e){if(Ix(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function hH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function pH(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ms(t)&&t.length>0?t:f8();return l.length===0&&l.push({colno:c,filename:d,function:Vl,in_app:!0,lineno:u}),e}function mC(e){ri&&ge.log(`Global Handler attached: ${e}`)}function d3(){const e=Rt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const gH=()=>({name:"HttpContext",preprocessEvent(e){if(!Fe.navigator&&!Fe.location&&!Fe.document)return;const t=e.request&&e.request.url||Fe.location&&Fe.location.href,{referrer:n}=Fe.document||{},{userAgent:r}=Fe.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),mH="cause",vH=5,yH="LinkedErrors",AH=(e={})=>{const t=e.limit||vH,n=e.key||mH;return{name:yH,preprocessEvent(r,i,o){const s=o.getOptions();l8(Bx,s.stackParser,s.maxValueLength,n,t,r,i)}}},bH=AH;function _H(e){return[$9(),L9(),rH(),qU(),cH(),bH(),Z9(),gH()]}function xH(e={}){const t={defaultIntegrations:_H(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Fe.SENTRY_RELEASE&&Fe.SENTRY_RELEASE.id?Fe.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function SH(){const e=typeof Fe.window<"u"&&Fe;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Fe.location&&Fe.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:"],s=!!r&&Fe===Fe.top&&o.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!s&&!a}function wH(e={}){const t=xH(e);if(SH()){Ah(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ri&&(pj()||ge.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:S8(t.stackParser||UU),integrations:w9(t),transport:t.transport||RU},r=I9(b7,n);return t.autoSessionTracking&&EH(),r}function vC(e={}){if(!Fe.document){ri&&ge.error("Global document not defined in showReportDialog call");return}const t=hn(),n=t.getClient(),r=n&&n.getDsn();if(!r){ri&&ge.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=v9();a&&(e.eventId=a)}const i=Fe.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=x9(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const a=l=>{if(l.data==="__sentry_reportdialog_closed__")try{o()}finally{Fe.removeEventListener("message",a)}};Fe.addEventListener("message",a)}const s=Fe.document.head||Fe.document.body;s?s.appendChild(i):ri&&ge.error("Not injecting report dialog. No injection point found in HTML")}function EH(){if(typeof Fe.document>"u"){ri&&ge.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}X2({ignoreDuration:!0}),Z2(),Hx(({from:e,to:t})=>{e!==void 0&&e!==t&&(X2({ignoreDuration:!0}),Z2())})}const yC=new WeakMap,Iy=new Map,sb={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function kH(e,t){const{traceFetch:n,traceXHR:r,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:s}={traceFetch:sb.traceFetch,traceXHR:sb.traceXHR,...t},a=typeof i=="function"?i:u=>!0,l=u=>RH(u,s),c={};n&&(e.addEventProcessor(u=>(u.type==="transaction"&&u.spans&&u.spans.forEach(d=>{if(d.op==="http.client"){const h=Iy.get(d.span_id);h&&(d.timestamp=h/1e3,Iy.delete(d.span_id))}}),u)),I8(u=>{if(u.response){const d=yC.get(u.response);d&&u.endTimestamp&&Iy.set(d,u.endTimestamp)}}),mj(u=>{const d=r7(u,a,l,c);if(u.response&&u.fetchData.__span&&yC.set(u.response,u.fetchData.__span),d){const h=f3(u.fetchData.url),p=h?kl(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}o&&d&&AC(d)})),r&&c3(u=>{const d=PH(u,a,l,c);o&&d&&AC(d)})}function CH(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function AC(e){const{url:t}=bt(e).data||{};if(!t||typeof t!="string")return;const n=jf("resource",({entries:r})=>{r.forEach(i=>{CH(i)&&i.name.endsWith(t)&&(IH(i).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function TH(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Ko(e=0){return((wi||performance.timeOrigin)+e)/1e3}function IH(e){const{name:t,version:n}=TH(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),wi?[...r,["http.request.redirect_start",Ko(e.redirectStart)],["http.request.fetch_start",Ko(e.fetchStart)],["http.request.domain_lookup_start",Ko(e.domainLookupStart)],["http.request.domain_lookup_end",Ko(e.domainLookupEnd)],["http.request.connect_start",Ko(e.connectStart)],["http.request.secure_connection_start",Ko(e.secureConnectionStart)],["http.request.connection_end",Ko(e.connectEnd)],["http.request.request_start",Ko(e.requestStart)],["http.request.response_start",Ko(e.responseStart)],["http.request.response_end",Ko(e.responseEnd)]]:r}function RH(e,t){const n=Fe.location&&Fe.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const o=r.origin===i;return t?wl(r.toString(),t)||o&&wl(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?wl(e,t):r}}function PH(e,t,n,r){const i=e.xhr,o=i&&i[Ic];if(!i||i.__sentry_own_request__||!o)return;const s=Va()&&t(o.url);if(e.endTimestamp&&s){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&o.status_code!==void 0&&(Rj(p,o.status_code),p.end(),delete r[h]);return}const a=f3(o.url),l=a?kl(a).host:void 0,c=!!ci(),u=s&&c?Lo({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":l,[zn]:"auto.http.browser",[Pf]:"http.client"}}):new Uu;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=Rt();return i.setRequestHeader&&n(o.url)&&d&&MH(i,d,Va()&&c?u:void 0),u}function MH(e,t,n){const r=hn(),i=ho(),{traceId:o,spanId:s,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&Va()?jj(n):Mx(o,s,a),u=Ej(l||(n?Xl(n):_0(o,t)));jH(e,c,u)}function jH(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(G1,n)}catch{}}function f3(e){try{return new URL(e,Fe.location.origin).href}catch{return}}function OH(){Fe&&Fe.document?Fe.document.addEventListener("visibilitychange",()=>{const e=ci();if(!e)return;const t=zr(e);if(Fe.document.hidden&&t){const n="cancelled",{op:r,status:i}=bt(t);ri&&ge.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Xn,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ri&&ge.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const VH="BrowserTracing",LH={...pg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...sb},NH=(e={})=>{Pz();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i},beforeStartSpan:o,idleTimeout:s,finalTimeout:a,childSpanTimeout:l,markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,instrumentPageLoad:g,instrumentNavigation:m}={...LH,...e},b=tU();t&&CU(),r&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?rU():n&&nU(),i&&iU();const v={name:void 0,source:void 0};function A(_,S){const x=S.op==="pageload",w=o?o(S):S,E=w.attributes||{};S.name!==w.name&&(E[ma]="custom",w.attributes=E),v.name=w.name,v.source=E[ma];const C=zj(w,{idleTimeout:s,finalTimeout:a,childSpanTimeout:l,disableAutoFinish:x,beforeSpanEnd:L=>{b(),cU(L)}});function j(){["interactive","complete"].includes(Fe.document.readyState)&&_.emit("idleSpanEnableAutoFinish",C)}return x&&Fe.document&&(Fe.document.addEventListener("readystatechange",()=>{j()}),j()),C}return{name:VH,afterAllSetup(_){let S,x=Fe.location&&Fe.location.href;_.on("startNavigationSpan",w=>{Rt()===_&&(S&&!bt(S).timestamp&&(ri&&ge.log(`[Tracing] Finishing current root span with op: ${bt(S).op}`),S.end()),S=A(_,{op:"navigation",...w}))}),_.on("startPageLoadSpan",(w,E={})=>{if(Rt()!==_)return;S&&!bt(S).timestamp&&(ri&&ge.log(`[Tracing] Finishing current root span with op: ${bt(S).op}`),S.end());const C=E.sentryTrace||bC("sentry-trace"),j=E.baggage||bC("baggage"),L=Q8(C,j);hn().setPropagationContext(L),S=A(_,{op:"pageload",...w})}),_.on("spanEnd",w=>{const E=bt(w).op;if(w!==zr(w)||E!=="navigation"&&E!=="pageload")return;const C=hn(),j=C.getPropagationContext();C.setPropagationContext({...j,sampled:j.sampled!==void 0?j.sampled:Jl(w),dsc:j.dsc||Xl(w)})}),Fe.location&&(g&&DH(_,{name:Fe.location.pathname,startTime:wi?wi/1e3:void 0,attributes:{[ma]:"url",[zn]:"auto.pageload.browser"}}),m&&Hx(({to:w,from:E})=>{if(E===void 0&&x&&x.indexOf(w)!==-1){x=void 0;return}E!==w&&(x=void 0,BH(_,{name:Fe.location.pathname,attributes:{[ma]:"url",[zn]:"auto.navigation.browser"}}))})),c&&OH(),i&&$H(s,a,l,v),t&&IU(),kH(_,{traceFetch:u,traceXHR:d,tracePropagationTargets:_.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:p})}}};function DH(e,t,n){e.emit("startPageLoadSpan",t,n),hn().setTransactionName(t.name);const r=ci();return(r&&bt(r).op)==="pageload"?r:void 0}function BH(e,t){ho().setPropagationContext(nm()),hn().setPropagationContext(nm()),e.emit("startNavigationSpan",t),hn().setTransactionName(t.name);const n=ci();return(n&&bt(n).op)==="navigation"?n:void 0}function bC(e){const t=h8(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function $H(e,t,n,r){let i;const o=()=>{const s="ui.action.click",a=ci(),l=a&&zr(a);if(l){const c=bt(l).op;if(["navigation","pageload"].includes(c)){ri&&ge.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Y1,"interactionInterrupted"),i.end(),i=void 0),!r.name){ri&&ge.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}i=zj({name:r.name,op:s,attributes:{[ma]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Fe.document&&addEventListener("click",o,{once:!1,capture:!0})}function FH(e){const t={...e};return Qj(t,"react"),g9("react",{version:y.version}),wH(t)}function zH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function UH(e,t){const n=new WeakSet;function r(i,o){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,o);i.cause=o}}r(e,t)}function HH(e,{componentStack:t},n){if(zH(y.version)&&v0(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,UH(e,r)}return $o(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var h3={exports:{}},Pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=typeof Symbol=="function"&&Symbol.for,Gx=or?Symbol.for("react.element"):60103,qx=or?Symbol.for("react.portal"):60106,E0=or?Symbol.for("react.fragment"):60107,k0=or?Symbol.for("react.strict_mode"):60108,C0=or?Symbol.for("react.profiler"):60114,T0=or?Symbol.for("react.provider"):60109,I0=or?Symbol.for("react.context"):60110,Wx=or?Symbol.for("react.async_mode"):60111,R0=or?Symbol.for("react.concurrent_mode"):60111,P0=or?Symbol.for("react.forward_ref"):60112,M0=or?Symbol.for("react.suspense"):60113,GH=or?Symbol.for("react.suspense_list"):60120,j0=or?Symbol.for("react.memo"):60115,O0=or?Symbol.for("react.lazy"):60116,qH=or?Symbol.for("react.block"):60121,WH=or?Symbol.for("react.fundamental"):60117,KH=or?Symbol.for("react.responder"):60118,YH=or?Symbol.for("react.scope"):60119;function Ri(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gx:switch(e=e.type,e){case Wx:case R0:case E0:case C0:case k0:case M0:return e;default:switch(e=e&&e.$$typeof,e){case I0:case P0:case O0:case j0:case T0:return e;default:return t}}case qx:return t}}}function p3(e){return Ri(e)===R0}Pt.AsyncMode=Wx;Pt.ConcurrentMode=R0;Pt.ContextConsumer=I0;Pt.ContextProvider=T0;Pt.Element=Gx;Pt.ForwardRef=P0;Pt.Fragment=E0;Pt.Lazy=O0;Pt.Memo=j0;Pt.Portal=qx;Pt.Profiler=C0;Pt.StrictMode=k0;Pt.Suspense=M0;Pt.isAsyncMode=function(e){return p3(e)||Ri(e)===Wx};Pt.isConcurrentMode=p3;Pt.isContextConsumer=function(e){return Ri(e)===I0};Pt.isContextProvider=function(e){return Ri(e)===T0};Pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gx};Pt.isForwardRef=function(e){return Ri(e)===P0};Pt.isFragment=function(e){return Ri(e)===E0};Pt.isLazy=function(e){return Ri(e)===O0};Pt.isMemo=function(e){return Ri(e)===j0};Pt.isPortal=function(e){return Ri(e)===qx};Pt.isProfiler=function(e){return Ri(e)===C0};Pt.isStrictMode=function(e){return Ri(e)===k0};Pt.isSuspense=function(e){return Ri(e)===M0};Pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E0||e===R0||e===C0||e===k0||e===M0||e===GH||typeof e=="object"&&e!==null&&(e.$$typeof===O0||e.$$typeof===j0||e.$$typeof===T0||e.$$typeof===I0||e.$$typeof===P0||e.$$typeof===WH||e.$$typeof===KH||e.$$typeof===YH||e.$$typeof===qH)};Pt.typeOf=Ri;h3.exports=Pt;var QH=h3.exports,Kx=QH,JH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Yx={};Yx[Kx.ForwardRef]=ZH;Yx[Kx.Memo]=g3;function _C(e){return Kx.isMemo(e)?g3:Yx[e.$$typeof]||JH}var eG=Object.defineProperty,tG=Object.getOwnPropertyNames,xC=Object.getOwnPropertySymbols,nG=Object.getOwnPropertyDescriptor,rG=Object.getPrototypeOf,SC=Object.prototype;function m3(e,t,n){if(typeof t!="string"){if(SC){var r=rG(t);r&&r!==SC&&m3(e,r,n)}var i=tG(t);xC&&(i=i.concat(xC(t)));for(var o=_C(e),s=_C(t),a=0;a<i.length;++a){var l=i[a];if(!XH[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=nG(t,l);try{eG(e,l,c)}catch{}}}}return e}var iG=m3;const oG=yr(iG),sG="ui.react.render",aG="ui.react.update",lG="ui.react.mount",cG="unknown";class v3 extends y.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Lo({name:`<${n}>`,onlyIfParent:!0,op:lG,attributes:{[zn]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=gr();this._updateSpan=im(this._mountSpan,()=>Lo({name:`<${this.props.name}>`,onlyIfParent:!0,op:aG,startTime:i,attributes:{[zn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=gr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=bt(this._mountSpan).timestamp;im(this._mountSpan,()=>{const o=Lo({onlyIfParent:!0,name:`<${n}>`,op:sG,startTime:i,attributes:{[zn]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}v3.__initStatic();function uG(e,t){const n=e.displayName||e.name||cG,r=i=>y.createElement(v3,{...t,name:n,updateProps:i},y.createElement(e,{...i}));return r.displayName=`profiler(${n})`,oG(r,e),r}const dG=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wC={componentStack:null,error:null,eventId:null};class Qx extends y.Component{constructor(t){super(t),Qx.prototype.__init.call(this),this.state=wC,this._openFallbackReportDialog=!0;const n=Rt();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&vC({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:o,onError:s,showDialog:a,dialogOptions:l}=this.props;b0(c=>{o&&o(c,t,i);const u=HH(t,n,{mechanism:{handled:!!this.props.fallback}});s&&s(t,i,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&vC({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(wC)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=y.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,y.isValidElement(i)?i:(t&&dG&&ge.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const fG="modulepreload",hG=function(e){return"/prs/299/"+e},EC={},Wu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=hG(a),a in EC)return;EC[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":fG,l||(u.as="script",u.crossOrigin=""),u.href=a,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};class y3{constructor(){this.init=async(t,n)=>{const r=await Wu(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class pG extends Go{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const wa=new pG;let A3=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await wa.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100;const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100,i.connect(o,0),i.connect(s,1);const a=new y3;await a.init(this.context,o.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(o.fftSize),c=new Float32Array(s.fftSize);o.getFloatTimeDomainData(l),s.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/o.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){$o(r),console.error(r)}}catch(r){$o(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new A3;class gG{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new A3),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const mG=new gG;class vG{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=et.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=et.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=et.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=et.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=et.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const yG=new vG;function Fo(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var b3=typeof global=="object"&&global&&global.Object===Object&&global,AG=typeof self=="object"&&self&&self.Object===Object&&self,qo=b3||AG||Function("return this")(),Ry=function(){return qo.Date.now()},bG=/\s/;function _G(e){for(var t=e.length;t--&&bG.test(e.charAt(t)););return t}var xG=/^\s+/;function SG(e){return e&&e.slice(0,_G(e)+1).replace(xG,"")}var oo=qo.Symbol,_3=Object.prototype,wG=_3.hasOwnProperty,EG=_3.toString,fd=oo?oo.toStringTag:void 0;function kG(e){var t=wG.call(e,fd),n=e[fd];try{e[fd]=void 0;var r=!0}catch{}var i=EG.call(e);return r&&(t?e[fd]=n:delete e[fd]),i}var CG=Object.prototype,TG=CG.toString;function IG(e){return TG.call(e)}var RG="[object Null]",PG="[object Undefined]",kC=oo?oo.toStringTag:void 0;function ec(e){return e==null?e===void 0?PG:RG:kC&&kC in Object(e)?kG(e):IG(e)}function Ds(e){return e!=null&&typeof e=="object"}var MG="[object Symbol]";function V0(e){return typeof e=="symbol"||Ds(e)&&ec(e)==MG}var CC=NaN,jG=/^[-+]0x[0-9a-f]+$/i,OG=/^0b[01]+$/i,VG=/^0o[0-7]+$/i,LG=parseInt;function ab(e){if(typeof e=="number")return e;if(V0(e))return CC;if(Fo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Fo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SG(e);var n=OG.test(e);return n||VG.test(e)?LG(e.slice(2),n?2:8):jG.test(e)?CC:+e}var NG="Expected a function",DG=Math.max,BG=Math.min;function x3(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(NG);t=ab(t)||0,Fo(n)&&(u=!!n.leading,d="maxWait"in n,o=d?DG(ab(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,C=i;return r=i=void 0,c=w,s=e.apply(C,E),s}function g(w){return c=w,a=setTimeout(v,t),u?p(w):s}function m(w){var E=w-l,C=w-c,j=t-E;return d?BG(j,o-C):j}function b(w){var E=w-l,C=w-c;return l===void 0||E>=t||E<0||d&&C>=o}function v(){var w=Ry();if(b(w))return A(w);a=setTimeout(v,m(w))}function A(w){return a=void 0,h&&r?p(w):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?s:A(Ry())}function x(){var w=Ry(),E=b(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),s}return x.cancel=_,x.flush=S,x}const Br={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},ef=["freestyle","rap"],S3=[],w3=440,E3=69,Jx=20;var $G="[object AsyncFunction]",FG="[object Function]",zG="[object GeneratorFunction]",UG="[object Proxy]";function k3(e){if(!Fo(e))return!1;var t=ec(e);return t==FG||t==zG||t==$G||t==UG}var Py=qo["__core-js_shared__"],TC=function(){var e=/[^.]+$/.exec(Py&&Py.keys&&Py.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function HG(e){return!!TC&&TC in e}var GG=Function.prototype,qG=GG.toString;function tc(e){if(e!=null){try{return qG.call(e)}catch{}try{return e+""}catch{}}return""}var WG=/[\\^$.*+?()[\]{}|]/g,KG=/^\[object .+?Constructor\]$/,YG=Function.prototype,QG=Object.prototype,JG=YG.toString,XG=QG.hasOwnProperty,ZG=RegExp("^"+JG.call(XG).replace(WG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eq(e){if(!Fo(e)||HG(e))return!1;var t=k3(e)?ZG:KG;return t.test(tc(e))}function tq(e,t){return e==null?void 0:e[t]}function nc(e,t){var n=tq(e,t);return eq(n)?n:void 0}var Of=nc(Object,"create");function nq(){this.__data__=Of?Of(null):{},this.size=0}function rq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var iq="__lodash_hash_undefined__",oq=Object.prototype,sq=oq.hasOwnProperty;function aq(e){var t=this.__data__;if(Of){var n=t[e];return n===iq?void 0:n}return sq.call(t,e)?t[e]:void 0}var lq=Object.prototype,cq=lq.hasOwnProperty;function uq(e){var t=this.__data__;return Of?t[e]!==void 0:cq.call(t,e)}var dq="__lodash_hash_undefined__";function fq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Of&&t===void 0?dq:t,this}function Dl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dl.prototype.clear=nq;Dl.prototype.delete=rq;Dl.prototype.get=aq;Dl.prototype.has=uq;Dl.prototype.set=fq;function hq(){this.__data__=[],this.size=0}function L0(e,t){return e===t||e!==e&&t!==t}function N0(e,t){for(var n=e.length;n--;)if(L0(e[n][0],t))return n;return-1}var pq=Array.prototype,gq=pq.splice;function mq(e){var t=this.__data__,n=N0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():gq.call(t,n,1),--this.size,!0}function vq(e){var t=this.__data__,n=N0(t,e);return n<0?void 0:t[n][1]}function yq(e){return N0(this.__data__,e)>-1}function Aq(e,t){var n=this.__data__,r=N0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ks(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ks.prototype.clear=hq;Ks.prototype.delete=mq;Ks.prototype.get=vq;Ks.prototype.has=yq;Ks.prototype.set=Aq;var Vf=nc(qo,"Map");function bq(){this.size=0,this.__data__={hash:new Dl,map:new(Vf||Ks),string:new Dl}}function _q(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function D0(e,t){var n=e.__data__;return _q(t)?n[typeof t=="string"?"string":"hash"]:n.map}function xq(e){var t=D0(this,e).delete(e);return this.size-=t?1:0,t}function Sq(e){return D0(this,e).get(e)}function wq(e){return D0(this,e).has(e)}function Eq(e,t){var n=D0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ys(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ys.prototype.clear=bq;Ys.prototype.delete=xq;Ys.prototype.get=Sq;Ys.prototype.has=wq;Ys.prototype.set=Eq;var kq="Expected a function";function B0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(kq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(B0.Cache||Ys),n}B0.Cache=Ys;function lm(e){return ef.includes(e.note.type)?0:e.distance}function Tt(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const Cq=35e5,il={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},IC=e=>({freestyle:e.freestyle*il.freestyle,rap:e.rap*il.rap,rapstar:e.rapstar*il.rapstar,star:e.star*il.star,normal:e.normal*il.normal,perfect:e.perfect*il.perfect,vibrato:e.vibrato*il.vibrato}),Xx=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Ap=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),RC=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),PC=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),MC=B0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Tt).forEach(r=>{r.notes.filter(o=>!S3.includes(o.type)).forEach(o=>{n[o.type]=n[o.type]+o.length,n.perfect=n.perfect+o.length,n.vibrato=n.vibrato+o.length})}),n}));function C3(e,t,n){const r=MC(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const o=IC(MC(t)[n]),s=Cq/Xx(o);for(let a=0;a<e.length;a++){const l=e[a];S3.includes(l.note.type)||lm(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[s,IC(i),o]}function Tq(e,t,n){const[r,i]=C3(e,t,n);return Xx(i)*r}function Iq(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function Rq(e){return w3*Math.pow(2,(e-E3)/12)}const Pq=e=>Math.round(12*(Math.log(e/w3)/Math.log(2)))+E3,Mq=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),jq=(e,t,n)=>{const r=Rq(e),i=Mq(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},Oq=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},Vq=(e,t)=>{const n=Be.getTolerance(),r=Pq(e);let i=-1;const o=Oq(r,t,n);return o===0&&(i=jq(t,e,n)),{distance:o,preciseDistance:i}},jC=6;function Lq(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const o=t.at(-1);o.change!==i&&t.push({...e[r],interval:e[r].timestamp-o.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-jC;r++){const o=n.slice(r,r+jC-1).map(c=>c.interval),s=Math.max(...o),a=Math.min(...o),l=o.reduce((c,u)=>c+u,0)/o.length;if(s<l*1.75&&a>l/1.75)return!0}return!1}const Nq=100;function Dq(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...Vq(t.frequency,n.pitch)},o=e.at(-1),s=Nq/r,a=n.start+n.length,l=!o||o.note.start!==n.start,c=!o||o.distance!==i.distance&&!ef.includes(n.type);if(l||c||i.beat-(o.start+o.length)>s){const u=i.beat-s<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),o&&n.start!==o.note.start){const d=o.start+o.length,h=o.note.start+o.note.length,p=d+s>h?h:d;o.length=Math.max(0,p-o.start)}}else o.length=Math.max(0,Math.min(i.beat,n.start+n.length)-o.start),o.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),o.isPerfect=o.distance===0&&Math.abs(o.length-o.note.length)<.5,o.vibrato=o.distance===0&&Lq(o.frequencyRecords)}const Bq=e=>e.notes[0],La=e=>{const t=e.find(Tt);return t?Bq(t).start:1/0},Lf=e=>{const n=e.filter(Tt).at(-1);return n?Nf(n):0},Nf=e=>{const t=e.notes.at(-1);return t.start+t.length},OC=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class $q{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=xn.getPlayerFrequency(this.number),o=r-xn.getPlayerInputLag(this.number);if(Array.isArray(i)){const s=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(s==null?void 0:s.timestamp)??0,l=(o-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),xn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(o,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(ee.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const o={timestamp:r,frequency:i};this.frequencyRecords.push(o);const s=o.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(s);if(Tt(a)){const l=OC(a,s,0)??OC(a,s,.5);l&&Dq(this.playerNotes,o,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,o,s)=>r<0?!0:r<i.start?!1:o===s.length-1?!0:s[o+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Tt(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>Tq(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>C3(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Tt).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function Fq(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Tt).at(-1);return n?Nf(n):0}))}function Zx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);const s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Zx.Cache||Map),n}Zx.Cache=Map;const Ku=Zx(function(t){return 60/t.bpm/(t.bar??4)*1e3});class zq{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Ku(this.song),this.getCurrentBeat=()=>Iq(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new $q(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Br.CO_OP?this.getPlayers().reduce((o,s)=>o+s.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Br.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...o]=r.map(([a,l,c])=>[Ap(l,a),Ap(c,a)]),s=o.reduce((a,l)=>[RC(a[0],l[0]),RC(a[1],l[1])],i);return[PC(s[0],this.getPlayerCount()),PC(s[1],this.getPlayerCount())]}else{const[r,i,o]=this.getPlayer(t).getDetailedScore();return[Ap(i,r),Ap(o,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/Fq(this.getSong()))),this.startInputMonitoring=async()=>xn.startMonitoring(),this.stopInputMonitoring=()=>xn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const Be=new zq,T3="wss://allkaraoke-partykit.asvarox.partykit.dev";class Uq extends Go{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Fr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Fr(),(t=this.connection)==null||t.send(eo({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Fr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Fr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${T3}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,o;(i=this.connection)==null||i.send(eo({t:"register-room",id:t})),n(),this.ping(),(o=this.connection)==null||o.addEventListener("message",s=>{var l;const a=Nu(s.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new Hq(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(eo({t:"remove-player",id:t}))}}let Hq=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(eo(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,o=>{const s=Nu(o.data);if(s.t==="forward"){const{sender:a,payload:l}=s;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const o=this.callbacksMap.get(i);this.socket.removeEventListener("message",o),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var xM;const Gq=(xM=global==null?void 0:global.sessionStorage)==null?void 0:xM.getItem("isE2E");function zo(){var t,n;if(Gq)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const qq=zo()?{host:"localhost",port:3001,path:"/"}:{},I3={...qq};var Wq=Object.create,$0=Object.defineProperty,Kq=Object.defineProperties,Yq=Object.getOwnPropertyDescriptor,Qq=Object.getOwnPropertyDescriptors,R3=Object.getOwnPropertyNames,VC=Object.getOwnPropertySymbols,Jq=Object.getPrototypeOf,P3=Object.prototype.hasOwnProperty,Xq=Object.prototype.propertyIsEnumerable,LC=(e,t,n)=>t in e?$0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eS=(e,t)=>{for(var n in t||(t={}))P3.call(t,n)&&LC(e,n,t[n]);if(VC)for(var n of VC(t))Xq.call(t,n)&&LC(e,n,t[n]);return e},M3=(e,t)=>Kq(e,Qq(t)),Zq=e=>$0(e,"__esModule",{value:!0}),tS=(e,t)=>function(){return t||(0,e[R3(e)[0]])((t={exports:{}}).exports,t),t.exports},eW=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of R3(t))!P3.call(e,i)&&i!=="default"&&$0(e,i,{get:()=>t[i],enumerable:!(r=Yq(t,i))||r.enumerable});return e},Eh=(e,t)=>eW(Zq($0(e!=null?Wq(Jq(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Rc=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())}),NC=tS({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(o){typeof o=="number"?this._pieces.push(o):(this.flush(),this._parts.push(o))},i.prototype.flush=function(){if(this._pieces.length>0){var o=new Uint8Array(this._pieces);n.useArrayBufferView||(o=o.buffer),this._parts.push(o),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var o=new r,s=0,a=this._parts.length;s<a;s++)o.append(this._parts[s]);return o.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),tW=tS({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=NC().BufferBuilder,r=NC().binaryFeatures,i={unpack:function(c){var u=new o(c);return u.unpack()},pack:function(c){var u=new s;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function o(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}o.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},o.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},o.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},o.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},o.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},o.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},o.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},o.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},o.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},o.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},o.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},o.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},o.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},o.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},o.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},o.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function s(){this.bufferBuilder=new n}s.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},s.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},s.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},s.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},s.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},s.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},s.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,b=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(b)},s.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},s.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},s.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},s.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},s.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},s.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},s.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),F0=tS({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function o(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new o(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var b=r?r+u:u;if(!this._events[b])return!1;var v=this._events[b],A=arguments.length,_,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),A){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(S=1,_=new Array(A-1);S<A;S++)_[S-1]=arguments[S];v.fn.apply(v.context,_)}else{var x=v.length,w;for(S=0;S<x;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),A){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,h);break;case 4:v[S].fn.call(v[S].context,d,h,p);break;default:if(!_)for(w=1,_=new Array(A-1);w<A;w++)_[w-1]=arguments[w];v[S].fn.apply(v[S].context,_)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var b=0,v=[],A=m.length;b<A;b++)(m[b].fn!==d||p&&!m[b].once||h&&m[b].context!==h)&&v.push(m[b]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),DC=Eh(tW()),nW={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},ln=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=nW,this.pack=DC.pack,this.unpack=DC.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/ln.chunkedMTU);let i=0,o=0;for(;o<n;){const s=Math.min(n,o+ln.chunkedMTU),a=e.slice(o,s),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),o=s,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},rW=Eh(F0()),iW="PeerJS: ",oW=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[iW,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Ee=new oW,sW=Eh(F0()),aW=class extends sW.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:o=5e3,polyfills:s}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=o;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=s==null?void 0:s.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),Ee.log("Server message received:",i)}catch{Ee.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Ee.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Ee.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Ee.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Ee.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function lW(){}var j3=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ee.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;Ee.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(Ee.log(`Received ICE candidates for ${t}:`,o.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:o.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ee.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Ee.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Ee.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Ee.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Ee.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=lW;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=o=>{Ee.log("Received data channel");const s=o.channel;i.getConnection(t,n).initialize(s)},e.ontrack=o=>{Ee.log("Received remote stream");const s=o.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(s,l)}}}cleanup(){Ee.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Rc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Ee.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ee.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=M3(eS({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Ee.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Ee.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Rc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Ee.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ee.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Ee.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Ee.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Rc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;Ee.log("Setting remote description",t);const o=this;try{yield r.setRemoteDescription(t),Ee.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield o._makeAnswer())}catch(s){i.emitError("webrtc",s),Ee.log("Failed to setRemoteDescription, ",s)}})}handleCandidate(e){return Rc(this,null,function*(){Ee.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,o=this.connection.provider;try{const s=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new s({sdpMid:r,sdpMLineIndex:n,candidate:t})),Ee.log(`Added ICE candidate for:${this.connection.peer}`)}catch(s){o.emitError("webrtc",s),Ee.log("Failed to handleCandidate, ",s)}})}_addTracksToConnection(e,t){if(Ee.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ee.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ee.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},cW=Eh(F0()),O3=class extends cW.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},V3=class extends O3{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||V3.ID_PREFIX+ln.randomToken(),this._negotiator=new j3(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Ee.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Ee.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ee.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(M3(eS({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},lb=V3;lb.ID_PREFIX="mc_";var uW=Eh(F0()),dW=class extends uW.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Ee.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},cb=class extends O3{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||cb.ID_PREFIX+ln.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new dW(new this.FileReaderCtr),this._encodingQueue.on("done",o=>{this._bufferedSend(o)}),this._encodingQueue.on("error",()=>{Ee.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new j3(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Ee.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Ee.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Ee.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){ln.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const o=ln.unpack(i);this.emit("data",o)});return}else if(t===ArrayBuffer)r=ln.unpack(e);else if(t===String){const i=ln.binaryStringToArrayBuffer(e);r=ln.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=ln.pack(e);if(!t&&n.size>ln.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>cb.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ee.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=ln.chunk(e);Ee.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Ee.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},cm=cb;cm.ID_PREFIX="dc_";cm.MAX_BUFFERED_AMOUNT=8*1024*1024;var fW=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Rc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ee.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==ln.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Rc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===ln.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ee.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},hW={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},al=class extends rW.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=eS({debug:0,host:ln.CLOUD_HOST,port:ln.CLOUD_PORT,path:"/",key:al.DEFAULT_KEY,token:ln.randomToken(),config:ln.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ln.CLOUD_HOST?this._options.secure=ln.isSecure():this._options.host==ln.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ee.setLogFunction(this._options.logFunction),Ee.logLevel=this._options.debug||0,this._api=new fW(t),this._socket=this._createServerConnection(),this.features=al.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!ln.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new aW(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Ee.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let o=this.getConnection(r,i);if(o&&(o.close(),Ee.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")o=new lb(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,o),this.emit("call",o);else if(n.type==="data")o=new cm(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,o),this.emit("connection",o);else{Ee.warn(`Received malformed connection type:${n.type}`);return}const s=this._getMessages(i);for(let a of s)o.handleMessage(a);break}default:{if(!n){Ee.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,o=this.getConnection(r,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):Ee.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Ee.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new cm(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ee.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ee.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new lb(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Ee.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ee.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Ee.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Ee.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ee.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ee.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ee.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),al._features||(al._features=al.checkFeatures(e)),al._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(ln.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=hW.isUnifiedPlanSupported(e),t}},z0=al;z0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=z0);class pW extends Go{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new z0(`allkaraoke-party-room-${t}`,I3),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",o=>{this.onUpdate(o,i)}),i.on("error",o=>console.warn("error",o)),i.on("iceStateChanged",o=>{(o==="disconnected"||o==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],et.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const L3="wss://backend.allkaraoke.party";class gW extends Go{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Fr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Fr(),(t=this.connection)==null||t.send(eo({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Fr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Fr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(L3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,o;(i=this.connection)==null||i.send(eo({t:"register-room",id:t})),n(),this.ping(),(o=this.connection)==null||o.addEventListener("message",s=>{var l;const a=Nu(s.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new mW(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(eo({t:"remove-player",id:t}))}}class mW{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(eo(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,o=>{const s=Nu(o.data);if(s.t==="forward"){const{sender:a,payload:l}=s;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const o=this.callbacksMap.get(i);this.socket.removeEventListener("message",o),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var N3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ha,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var R=["th","st","nd","rd"],k=V%100;return"["+V+(R[(k-20)%10]||R[k]||R[0])+"]"}},_=function(V,R,k){var D=String(V);return!D||D.length>=R?V:""+Array(R+1-D.length).join(k)+V},S={s:_,z:function(V){var R=-V.utcOffset(),k=Math.abs(R),D=Math.floor(k/60),O=k%60;return(R<=0?"+":"-")+_(D,2,"0")+":"+_(O,2,"0")},m:function V(R,k){if(R.date()<k.date())return-V(k,R);var D=12*(k.year()-R.year())+(k.month()-R.month()),O=R.clone().add(D,d),z=k-O<0,$=R.clone().add(D+(z?-1:1),d);return+(-(D+(k-O)/(z?O-$:$-O))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s,ms:o,Q:h}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},x="en",w={};w[x]=A;var E="$isDayjsObject",C=function(V){return V instanceof U||!(!V||!V[E])},j=function V(R,k,D){var O;if(!R)return x;if(typeof R=="string"){var z=R.toLowerCase();w[z]&&(O=z),k&&(w[z]=k,O=z);var $=R.split("-");if(!O&&$.length>1)return V($[0])}else{var G=R.name;w[G]=R,O=G}return!D&&O&&(x=O),O||!D&&x},L=function(V,R){if(C(V))return V.clone();var k=typeof R=="object"?R:{};return k.date=V,k.args=arguments,new U(k)},B=S;B.l=j,B.i=C,B.w=function(V,R){return L(V,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var U=function(){function V(k){this.$L=j(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[E]=!0}var R=V.prototype;return R.parse=function(k){this.$d=function(D){var O=D.date,z=D.utc;if(O===null)return new Date(NaN);if(B.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var $=O.match(b);if($){var G=$[2]-1||0,H=($[7]||"0").substring(0,3);return z?new Date(Date.UTC($[1],G,$[3]||1,$[4]||0,$[5]||0,$[6]||0,H)):new Date($[1],G,$[3]||1,$[4]||0,$[5]||0,$[6]||0,H)}}return new Date(O)}(k),this.init()},R.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},R.$utils=function(){return B},R.isValid=function(){return this.$d.toString()!==m},R.isSame=function(k,D){var O=L(k);return this.startOf(D)<=O&&O<=this.endOf(D)},R.isAfter=function(k,D){return L(k)<this.startOf(D)},R.isBefore=function(k,D){return this.endOf(D)<L(k)},R.$g=function(k,D,O){return B.u(k)?this[D]:this.set(O,k)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(k,D){var O=this,z=!!B.u(D)||D,$=B.p(k),G=function(be,le){var Se=B.w(O.$u?Date.UTC(O.$y,le,be):new Date(O.$y,le,be),O);return z?Se:Se.endOf(c)},H=function(be,le){return B.w(O.toDate()[be].apply(O.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(le)),O)},ne=this.$W,N=this.$M,ue=this.$D,Z="set"+(this.$u?"UTC":"");switch($){case p:return z?G(1,0):G(31,11);case d:return z?G(1,N):G(0,N+1);case u:var ae=this.$locale().weekStart||0,Pe=(ne<ae?ne+7:ne)-ae;return G(z?ue-Pe:ue+(6-Pe),N);case c:case g:return H(Z+"Hours",0);case l:return H(Z+"Minutes",1);case a:return H(Z+"Seconds",2);case s:return H(Z+"Milliseconds",3);default:return this.clone()}},R.endOf=function(k){return this.startOf(k,!1)},R.$set=function(k,D){var O,z=B.p(k),$="set"+(this.$u?"UTC":""),G=(O={},O[c]=$+"Date",O[g]=$+"Date",O[d]=$+"Month",O[p]=$+"FullYear",O[l]=$+"Hours",O[a]=$+"Minutes",O[s]=$+"Seconds",O[o]=$+"Milliseconds",O)[z],H=z===c?this.$D+(D-this.$W):D;if(z===d||z===p){var ne=this.clone().set(g,1);ne.$d[G](H),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](H);return this.init(),this},R.set=function(k,D){return this.clone().$set(k,D)},R.get=function(k){return this[B.p(k)]()},R.add=function(k,D){var O,z=this;k=Number(k);var $=B.p(D),G=function(N){var ue=L(z);return B.w(ue.date(ue.date()+Math.round(N*k)),z)};if($===d)return this.set(d,this.$M+k);if($===p)return this.set(p,this.$y+k);if($===c)return G(1);if($===u)return G(7);var H=(O={},O[a]=r,O[l]=i,O[s]=n,O)[$]||1,ne=this.$d.getTime()+k*H;return B.w(ne,this)},R.subtract=function(k,D){return this.add(-1*k,D)},R.format=function(k){var D=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var z=k||"YYYY-MM-DDTHH:mm:ssZ",$=B.z(this),G=this.$H,H=this.$m,ne=this.$M,N=O.weekdays,ue=O.months,Z=O.meridiem,ae=function(le,Se,Ue,De){return le&&(le[Se]||le(D,z))||Ue[Se].slice(0,De)},Pe=function(le){return B.s(G%12||12,le,"0")},be=Z||function(le,Se,Ue){var De=le<12?"AM":"PM";return Ue?De.toLowerCase():De};return z.replace(v,function(le,Se){return Se||function(Ue){switch(Ue){case"YY":return String(D.$y).slice(-2);case"YYYY":return B.s(D.$y,4,"0");case"M":return ne+1;case"MM":return B.s(ne+1,2,"0");case"MMM":return ae(O.monthsShort,ne,ue,3);case"MMMM":return ae(ue,ne);case"D":return D.$D;case"DD":return B.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return ae(O.weekdaysMin,D.$W,N,2);case"ddd":return ae(O.weekdaysShort,D.$W,N,3);case"dddd":return N[D.$W];case"H":return String(G);case"HH":return B.s(G,2,"0");case"h":return Pe(1);case"hh":return Pe(2);case"a":return be(G,H,!0);case"A":return be(G,H,!1);case"m":return String(H);case"mm":return B.s(H,2,"0");case"s":return String(D.$s);case"ss":return B.s(D.$s,2,"0");case"SSS":return B.s(D.$ms,3,"0");case"Z":return $}return null}(le)||$.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(k,D,O){var z,$=this,G=B.p(D),H=L(k),ne=(H.utcOffset()-this.utcOffset())*r,N=this-H,ue=function(){return B.m($,H)};switch(G){case p:z=ue()/12;break;case d:z=ue();break;case h:z=ue()/3;break;case u:z=(N-ne)/6048e5;break;case c:z=(N-ne)/864e5;break;case l:z=N/i;break;case a:z=N/r;break;case s:z=N/n;break;default:z=N}return O?z:B.a(z)},R.daysInMonth=function(){return this.endOf(d).$D},R.$locale=function(){return w[this.$L]},R.locale=function(k,D){if(!k)return this.$L;var O=this.clone(),z=j(k,D,!0);return z&&(O.$L=z),O},R.clone=function(){return B.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},V}(),P=U.prototype;return L.prototype=P,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(V){P[V[1]]=function(R){return this.$g(R,V[0],V[1])}}),L.extend=function(V,R){return V.$i||(V(R,U,L),V.$i=!0),L},L.locale=j,L.isDayjs=C,L.unix=function(V){return L(1e3*V)},L.en=w[x],L.Ls=w,L.p={},L})})(N3);var vW=N3.exports;const Mo=yr(vW);function ub(e){return!!e}function yW(e){return[...Array(e).keys()]}const AW=250,My=(e,t=0,n=1/0)=>e.filter(Tt).filter(r=>La([r])>=t).filter(r=>Lf([r])<=n).reduce((r,i)=>r+i.notes.reduce((o,s)=>o+s.length,0),0),bW=(e,t)=>{const[n,...r]=e.filter(Tt),i=[[n]];return r.forEach(o=>{const s=i.at(-1),a=Lf(s);(La([o])-a)*t>AW?i.push([o]):s.push(o)}),i},D3=(e,t)=>e+t,BC=e=>{const t=e.map(n=>n.reduce(D3,0));return Math.max(...t)-Math.min(...t)},_W=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=o=>{if(n[o-1].length<2)return;const s=n[o-1].pop();n[o].push(s)},i=o=>{var l;if(((l=n[o+1])==null?void 0:l.length)<2)return;const[s,...a]=n[o+1];n[o].push(s),n[o+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},xW=e=>e.reduce(D3,0);function nS(e,t){const r=Ku(t);if(e.sections.length<9)return[];const i=bW(e.sections,r);let o=[],s=[My(i[0])];for(let a=0;a<i.length-2;a++){const l=i[o.flat().length-1]??[],u=My(e.sections,Lf(l)??0)/(10-o.length),d=My(i[a+1]),h=xW(s);h+d<u?s=[...s,d]:u-h<h+d-u?(o.push(s),s=[d]):(o.push([...s,d]),s=[])}for(let a=0;a<100;a++){const l=BC(o),c=yW((o.length-2)*2+2).map(p=>_W(o,p)),u=c.map(BC),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);o=c[h]}return o.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>Lf(i[a-1]))}var B3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ha,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})})(B3);var SW=B3.exports;const wW=yr(SW),EW=/[^0-9a-z]/gi;function Bl(e){return rS(e).toLowerCase().normalize("NFKD").replace(EW,"")}function rS(e){return wW(e)}function $3(e){return rS(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function iS(e){return e.id?e.id:$3(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const $C=(e,t,n)=>n>=e&&n<=t,FC=e=>e.notes.map(t=>t.lyrics).join(""),zC=e=>new Set(Bl(e)).size,kW=(e,t)=>{const n=e.reduce((i,o)=>`${i}${FC(o)}`,""),r=FC(t);return zC(n)/zC(r)<.5},CW=(e,t)=>{const n=t.start,r=Nf(t),i=e.filter(s=>{const a=s.start,l=Nf(s);return $C(n,r,a)||$C(n,r,l)||a<=n&&l>=r}),o=kW(i,t);return{section:t,shouldReplace:i.length===0||o,sectionsToRemove:i}};function F3(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(s=>s.sections.filter(Tt)),r=n[1].map(s=>CW(n[0],s));let i=[...n[0]];r.forEach((s,a)=>{s.shouldReplace&&(i=i.filter(l=>!s.sectionsToRemove.some(c=>c.start===l.start)),i.push(s.section))});const o={...e[0],sections:i.sort((s,a)=>s.start-a.start),changes:[]};return o.changes=nS(o,t),o}const UC={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},TW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},IW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function RW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!IW.includes(t.substring(1).split(":")[0]))}function zt(e,t,n="string"){const r=i=>{var a;const o=new RegExp(`#${i}\\:(.*)`),s=(a=e.match(o))==null?void 0:a[1];if(s!==void 0)return n==="number"?Number(s.replace(",","."))??0:n==="array"?s.split(", "):s};return t.map(r).filter(ub).at(0)}function PW(e){var r;const t=zt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const MW=/- -?\d+ -?\d+/;function HC(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function jW(e,t){try{return JSON.parse(e)}catch{return t}}function OW(e){const t=zt(e,["P1"]),n=zt(e,["P2"]);return t||n?[t,n]:jW(zt(e,["TRACKNAMES"]),[])}function VW(e,t,n,r,i){var p,g;const o=OW(e),s={year:zt(e,["YEAR"]),artistOrigin:zt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:zt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:zt(e,["EDITION"]),genre:zt(e,["GENRE"]),videoGap:zt(e,["VIDEOGAP"],"number"),realBpm:zt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:zt(e,["PREVIEWSTART"],"number"),previewEnd:zt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:zt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:zt(e,["CREATOR"])??n,authorUrl:zt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:zt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};s.videoGap&&(s.videoGap=Math.floor(s.videoGap));const a=zt(e,["TITLE"])??"",l=zt(e,["ARTIST"])??"",c=zt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??HC(zt(e,["AUDIOURL"])??"")??HC(zt(e,["VIDEOURL"])??"")??PW(e)??"",u={id:zt(e,["ALLKARAOKE_ID","ID"])??iS({title:a,artist:l}),title:a,artist:l,video:c,language:zt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=zt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=zt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...s,tracks:[],unsupportedProps:RW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const b=m.split(" ");if(Number(b[1])<h*.75&&d.length&&(o[u.tracks.length]?u.tracks.push({sections:d,name:o[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),MW.test(m)){const[,v,A]=b;d.push({start:Number(v),end:Number(A),type:"pause"}),d.push({start:Number(A),type:"notes",notes:[]}),h=Number(A)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(UC).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[A,_,S,x,...w]=b;v.notes.push({type:UC[A]??"normal",start:Number(_),length:Number(S),pitch:Number(x),lyrics:w.join(" ")}),h=Number(b[1])}}),o[u.tracks.length]?u.tracks.push({sections:d,name:o[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(b=>b.type==="pause"||b.notes.length),changes:[]})).map(m=>({...m,changes:nS(m,u)})),u.mergedTrack=F3(u.tracks,u),u}const z3="CURRENT_VISIT_KEY",U3="LAST_VISIT_KEY",LW=3*60*60*1e3,U0=Date.now();var SM;const jy=Number(((SM=Ve.local)==null?void 0:SM.getItem(z3))??U0);var wM;const H3=((wM=Ve.local)==null?void 0:wM.getItem("posthog-user-id"))===null,NW=H3?U0:1673642382501;var EM;let G3=Number(((EM=Ve.local)==null?void 0:EM.getItem(U3))??NW);var kM;(H3||U0-jy>LW)&&((kM=Ve.local)==null||kM.setItem(U3,String(jy)),G3=jy);var CM;(CM=Ve.local)==null||CM.setItem(z3,String(U0));const DW=e=>Bl(`${e.artist}${e.title}`),BW=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:iS(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:o,sections:s})=>({name:o,start:La(s)})),search:DW(r),local:i});let hd=null;async function ta(){if(!hd)if("localStorage"in globalThis)try{hd=Wu(async()=>{const{default:e}=await Promise.resolve().then(()=>Z3);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),hd=Promise.resolve(Ve.memory)}else hd=Promise.resolve(Ve.memory);return hd}const bp="DELETED_SONGS_V2";class $W{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await ta())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>{const n=await this.getLocal(t);return n?!!n:!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(VW).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await ta())==null?void 0:n.getItem(bp))??[]},this.generateSongFile=t=>iS(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=Mo(G3),o=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Mo(a.lastUpdate??0).isAfter(Mo(l.lastUpdate??0)):!0}),s=o.map(a=>a.id);n.forEach(async a=>{s.includes(a.id)||(await ta()).removeItem(a.id)}),this.indexWithDeletedSongs=[...o,...t.filter(a=>!s.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Mo(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await ta()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await ta()).setItem(bp,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await ta()).setItem(bp,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await ta())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:F3(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:nS(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return BW(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[bp];return(await(await ta()).keys()).filter(n=>!t.includes(n))}}}const so=new $W,q3="room_id_key",tf=5,W3=e=>{Ve.session.setItem(q3,e)};class FW{constructor(){var t;if(this.gameCode=Ve.session.getItem(q3),this.started=!1,this.start=()=>{if(!this.transport){const n=Zg.get();this.transport=n==="WebSockets"?new gW:n==="PartyKit"?new Uq:new pW}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),W3(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var o,s;const i=n.t;if(i==="register")et.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")et.removeRemoteMic(r.peer);else if(i==="subscribe-event")et.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")et.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(o=et.getRemoteMicById(r.peer))==null||o.onPong();else if(i==="request-songlist")Promise.all([so.getLocalIndex(),so.getDeletedSongsList()]).then(([a,l])=>{r.send({t:"songlist",custom:a.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:l})});else if(i==="get-microphone-lag-request"){const a=et.getRemoteMicById(r.peer);a&&r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const a=et.getRemoteMicById(r.peer);a&&(a.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()}))}else et.getPermission(r.peer)==="write"&&(i==="keystroke"?ee.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?ee.remoteSongSearch.dispatch(n.search):i==="select-song"?ee.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?ee.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Jd.get()}):i==="remove-player"?(s=this.transport)==null||s.removePlayer(n.id):i==="set-game-input-lag-request"&&(Jd.set(n.value),r.send({t:"get-game-input-lag-response",value:Jd.get()})))}),ee.micServerStarted.dispatch()},()=>{ee.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=Zg.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<tf-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;et.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Il=new FW,$l=e=>`${e.deviceId};${e.channel}`,GC=[{channels:2,channel:1,label:"Drawing Test Input",id:$l({deviceId:"default",channel:1}),deviceId:"default"}],hl=class hl{};hl.inputName="DrawingTest",hl.getDefault=()=>GC[0],hl.getInputs=async()=>GC,hl.subscribeToListChange=t=>{},hl.unsubscribeToListChange=t=>{};let db=hl;const qC=[{channels:2,channel:0,label:"Dummy Input 1",id:$l({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:$l({deviceId:"default",channel:1}),deviceId:"default"}],pl=class pl{};pl.inputName="Dummy",pl.getDefault=()=>qC[0],pl.getInputs=async()=>qC,pl.subscribeToListChange=t=>{},pl.unsubscribeToListChange=t=>{};let um=pl;var zW=Math.ceil,UW=Math.max;function HW(e,t,n,r){for(var i=-1,o=UW(zW((t-e)/(n||1)),0),s=Array(o);o--;)s[++i]=e,e+=n;return s}var GW=9007199254740991;function oS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GW}function sS(e){return e!=null&&oS(e.length)&&!k3(e)}var qW=9007199254740991,WW=/^(?:0|[1-9]\d*)$/;function aS(e,t){var n=typeof e;return t=t??qW,!!t&&(n=="number"||n!="symbol"&&WW.test(e))&&e>-1&&e%1==0&&e<t}function KW(e,t,n){if(!Fo(n))return!1;var r=typeof t;return(r=="number"?sS(n)&&aS(t,n.length):r=="string"&&t in n)?L0(n[t],e):!1}var WC=1/0,YW=17976931348623157e292;function vg(e){if(!e)return e===0?e:0;if(e=ab(e),e===WC||e===-WC){var t=e<0?-1:1;return t*YW}return e===e?e:0}function QW(e){return function(t,n,r){return r&&typeof r!="number"&&KW(t,n,r)&&(n=r=void 0),t=vg(t),n===void 0?(n=t,t=0):n=vg(n),r=r===void 0?t<n?1:-1:vg(r),HW(t,n,r)}}var JW=QW();const fb={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},hb={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},pb={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},XW=(...[e,t,n])=>hb.test(e,t,n)||fb.test(e,t,n)||pb.test(e,t,n)?t:void 0,ZW=(e,t,n)=>fb.test(e,t,n)?fb.map(e,t):hb.test(e,t,n)?hb.map(e,t):pb.test(e,t,n)?pb.map(e,t):n>1?`${e} (ch ${t+1})`:e,Di=class Di{};Di.inputList=[],Di.inputName="Microphone",Di.getDefault=()=>Di.inputList.find(t=>t.id===$l({deviceId:"default",channel:0}))??Di.inputList[0]??null,Di.getInputs=async()=>{let t=[];try{await wa.getUserMedia({audio:!0,video:!1}),t=await wa.enumerateDevices()}catch(r){$o(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await wa.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(o){console.warn(o)}return JW(0,i).map(o=>({label:ZW(r.label,o,i),channel:o,channels:i,deviceId:r.deviceId,id:$l({deviceId:r.deviceId,channel:o}),preferred:XW(r.label,o,i)}))}));return Di.inputList=n.flat(),Di.inputList},Di.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Di.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let js=Di;const KC=e=>({label:`${e.name}`,id:$l({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),gl=class gl{};gl.inputName="Remote Microphone",gl.getDefault=()=>et.getRemoteMics().map(KC)[0]??null,gl.getInputs=async()=>et.getRemoteMics().map(KC),gl.subscribeToListChange=t=>{ee.remoteMicConnected.subscribe(t),ee.remoteMicDisconnected.subscribe(t)},gl.unsubscribeToListChange=t=>{ee.remoteMicConnected.unsubscribe(t),ee.remoteMicDisconnected.unsubscribe(t)};let Bs=gl;const eK=e=>`${e.deviceId};${e.channel}`;class tK{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,ee.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),ee.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(js))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===eK(t))??(n?r.getDefault():null)},this.inputList={[js.inputName]:this.initialiseInputSource(js,!0),[um.inputName]:this.initialiseInputSource(um),[Bs.inputName]:this.initialiseInputSource(Bs)}}}const $s=new tK,YC="playerselectedinputs",dm=4,l0=class l0{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,o=0,s)=>{let a=null;xn.monitoringStarted()&&(a=xn.stopMonitoring());const l={source:i,deviceId:s,channel:o},c=this.input;this.input=l,ee.playerInputChanged.dispatch(this.number,c,l),a&&a.then(xn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const o=this.name;this.name=i,ee.playerNameChanged.dispatch(this.number,o)}}};l0.fromJSON=t=>new l0(t.number,t.input,t.name);let Pc=l0;class nK{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Ve.session.setItem(YC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(o=>o.input.source==="Remote Microphone").some(o=>$s.getInputForPlayerSelected(o.input,!1)===null)&&(await Promise.all(this.getPlayers().map(o=>xn.sourceNameToInput(o.input.source).requestReadiness(o.input.deviceId).then(()=>{ee.readinessConfirmed.dispatch(o.input.deviceId)}))),ee.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};ee.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,ee.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(Be.isPlaying()||this.getPlayer(n))return;const r=new Pc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),ee.playerAdded.dispatch(r.number),ee.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(Be.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(dm).fill(0).find((i,o)=>!this.players.find(s=>s.number===o))),this.storePlayers(),ee.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Ve.session.getItem(YC)??[];t.length?(this.players=t.map(Pc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&$s.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Il.start()):this.players=[new Pc(0,{source:"Dummy",deviceId:"default",channel:0}),new Pc(1,{source:"Dummy",deviceId:"default",channel:1})],ee.playerInputChanged.subscribe((n,r,i)=>{const o=this.getPlayer(n);if(!(!i||!o)){if(i.source==="Remote Microphone"){const s=et.getRemoteMicById(i.deviceId);s&&(o.nameOverride=s.name)}else o.nameOverride="";this.storePlayers()}}),ee.playerNameChanged.subscribe(x3(this.storePlayers,1e3)),ee.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Oe=new nK;class rK{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Oe.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Oe.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Oe.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Oe.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Oe.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Oe.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Oe.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===js.inputName?mG:t===db.inputName?e8:t===Bs.inputName?yG:n8,ee.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const xn=new rK;function K3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=K3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function va(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=K3(e))&&(r&&(r+=" "),r+=t);return r}const nf=e=>typeof e=="number"&&!isNaN(e),Fl=e=>typeof e=="string",ei=e=>typeof e=="function",yg=e=>Fl(e)||ei(e)?e:null,Oy=e=>y.isValidElement(e)||Fl(e)||ei(e)||nf(e);function iK(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function H0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=s;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=y.useRef(0);return y.useLayoutEffect(()=>{const b=d.current,v=p.split(" "),A=_=>{_.target===d.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),m.current===0&&_.type!=="animationcancel"&&b.classList.remove(...v))};b.classList.add(...v),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),y.useEffect(()=>{const b=d.current,v=()=>{b.removeEventListener("animationend",v),i?iK(b,u,o):u()};h||(c?v():(m.current=1,b.className+=` ${g}`,b.addEventListener("animationend",v)))},[h]),Ce.createElement(Ce.Fragment,null,a)}}function QC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Fi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},_p=e=>{let{theme:t,type:n,...r}=e;return Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Vy={info:function(e){return Ce.createElement(_p,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ce.createElement(_p,{...e},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ce.createElement(_p,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ce.createElement(_p,{...e},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ce.createElement("div",{className:"Toastify__spinner"})}};function oK(e){const[,t]=y.useReducer(p=>p+1,0),[n,r]=y.useState([]),i=y.useRef(null),o=y.useRef(new Map).current,s=p=>n.indexOf(p)!==-1,a=y.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:p=>o.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:b,...v}=g;if(!Oy(p)||function(U){return!i.current||a.props.enableMultiContainer&&U.containerId!==a.props.containerId||o.has(U.toastId)&&U.updateId==null}(v))return;const{toastId:A,updateId:_,data:S}=v,{props:x}=a,w=()=>c(A),E=_==null;E&&a.count++;const C={...x,style:x.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(U=>{let[P,V]=U;return V!=null})),toastId:A,updateId:_,data:S,closeToast:w,isIn:!1,className:yg(v.className||x.toastClassName),bodyClassName:yg(v.bodyClassName||x.bodyClassName),progressClassName:yg(v.progressClassName||x.progressClassName),autoClose:!v.isLoading&&(j=v.autoClose,L=x.autoClose,j===!1||nf(j)&&j>0?j:L),deleteToast(){const U=QC(o.get(A),"removed");o.delete(A),Fi.emit(4,U);const P=a.queue.length;if(a.count=A==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),P>0){const V=A==null?a.props.limit:1;if(P===1||V===1)a.displayedToast++,u();else{const R=V>P?P:V;a.displayedToast=R;for(let k=0;k<R;k++)u()}}else t()}};var j,L;C.iconOut=function(U){let{theme:P,type:V,isLoading:R,icon:k}=U,D=null;const O={theme:P,type:V};return k===!1||(ei(k)?D=k(O):y.isValidElement(k)?D=y.cloneElement(k,O):Fl(k)||nf(k)?D=k:R?D=Vy.spinner():(z=>z in Vy)(V)&&(D=Vy[V](O))),D}(C),ei(v.onOpen)&&(C.onOpen=v.onOpen),ei(v.onClose)&&(C.onClose=v.onClose),C.closeButton=x.closeButton,v.closeButton===!1||Oy(v.closeButton)?C.closeButton=v.closeButton:v.closeButton===!0&&(C.closeButton=!Oy(x.closeButton)||x.closeButton);let B=p;y.isValidElement(p)&&!Fl(p.type)?B=y.cloneElement(p,{closeToast:w,toastProps:C,data:S}):ei(p)&&(B=p({closeToast:w,toastProps:C,data:S})),x.limit&&x.limit>0&&a.count>x.limit&&E?a.queue.push({toastContent:B,toastProps:C,staleId:b}):nf(m)?setTimeout(()=>{h(B,C,b)},m):h(B,C,b)}function h(p,g,m){const{toastId:b}=g;m&&o.delete(m);const v={content:p,props:g};o.set(b,v),r(A=>[...A,b].filter(_=>_!==m)),Fi.emit(4,QC(v,v.props.updateId==null?"added":"updated"))}return y.useEffect(()=>(a.containerId=e.containerId,Fi.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{o.clear(),Fi.emit(3,a)}),[]),y.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(o.values());return e.newestOnTop&&m.reverse(),m.forEach(b=>{const{position:v}=b.props;g.has(v)||g.set(v,[]),g.get(v).push(b)}),Array.from(g,b=>p(b[0],b[1]))},containerRef:i,isToastActive:s}}function JC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function XC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function sK(e){const[t,n]=y.useState(!1),[r,i]=y.useState(!1),o=y.useRef(null),s=y.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=y.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(S){if(e.draggable){S.nativeEvent.type==="touchstart"&&S.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",A),document.addEventListener("touchmove",v),document.addEventListener("touchend",A);const x=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=x.getBoundingClientRect(),x.style.transition="",s.x=JC(S.nativeEvent),s.y=XC(S.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(S){if(s.boundingRect){const{top:x,bottom:w,left:E,right:C}=s.boundingRect;S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=E&&s.x<=C&&s.y>=x&&s.y<=w?b():m()}}function m(){n(!0)}function b(){n(!1)}function v(S){const x=o.current;s.canDrag&&x&&(s.didMove=!0,t&&b(),s.x=JC(S),s.y=XC(S),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),x.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,x.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function A(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",A);const S=o.current;if(s.canDrag&&s.didMove&&S){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();S.style.transition="transform 0.2s, opacity 0.2s",S.style.transform=`translate${e.draggableDirection}(0)`,S.style.opacity="1"}}y.useEffect(()=>{a.current=e}),y.useEffect(()=>(o.current&&o.current.addEventListener("d",m,{once:!0}),ei(e.onOpen)&&e.onOpen(y.isValidElement(e.children)&&e.children.props),()=>{const S=a.current;ei(S.onClose)&&S.onClose(y.isValidElement(S.children)&&S.children.props)}),[]),y.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);const _={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(_.onMouseEnter=b,_.onMouseLeave=m),h&&(_.onClick=S=>{d&&d(S),s.canCloseOnClick&&u()}),{playToast:m,pauseToast:b,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:_}}function Y3(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function aK(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=o||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=va("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),b=ei(s)?s({rtl:u,type:i,defaultClassName:m}):va(m,s);return Ce.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const lK=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=sK(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:b,bodyStyle:v,progressClassName:A,progressStyle:_,updateId:S,role:x,progress:w,rtl:E,toastId:C,deleteToast:j,isIn:L,isLoading:B,iconOut:U,closeOnClick:P,theme:V}=e,R=va("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":P}),k=ei(g)?g({rtl:E,position:p,type:c,defaultClassName:R}):va(R,g),D=!!w||!a,O={closeToast:d,type:c,theme:V};let z=null;return o===!1||(z=ei(o)?o(O):y.isValidElement(o)?y.cloneElement(o,O):Y3(O)),Ce.createElement(h,{isIn:L,done:j,position:p,preventExitTransition:n,nodeRef:r},Ce.createElement("div",{id:C,onClick:l,className:k,...i,style:m,ref:r},Ce.createElement("div",{...L&&{role:x},className:ei(b)?b({type:c}):va("Toastify__toast-body",b),style:v},U!=null&&Ce.createElement("div",{className:va("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},U),Ce.createElement("div",null,s)),z,Ce.createElement(aK,{...S&&!D?{key:`pb-${S}`}:{},rtl:E,theme:V,delay:a,isRunning:t,isIn:L,closeToast:d,hide:u,type:c,style:_,className:A,controlledProgress:D,progress:w||0})))},G0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},cK=H0(G0("bounce",!0));H0(G0("slide",!0));H0(G0("zoom"));H0(G0("flip"));const gb=y.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=oK(e),{className:o,style:s,rtl:a,containerId:l}=e;function c(u){const d=va("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return ei(o)?o({position:u,rtl:a,defaultClassName:d}):va(d,yg(o))}return y.useEffect(()=>{t&&(t.current=r.current)},[]),Ce.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...s}:{...s,pointerEvents:"none"};return Ce.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:b}=p;return Ce.createElement(lK,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":g+1,"--len":d.length},key:`toast-${b.key}`},m)}))}))});gb.displayName="ToastContainer",gb.defaultProps={position:"top-right",transition:cK,autoClose:5e3,closeButton:Y3,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Ly,ll=new Map,Vd=[],uK=1;function Q3(){return""+uK++}function dK(e){return e&&(Fl(e.toastId)||nf(e.toastId))?e.toastId:Q3()}function rf(e,t){return ll.size>0?Fi.emit(0,e,t):Vd.push({content:e,options:t}),t.toastId}function fm(e,t){return{...t,type:t&&t.type||e,toastId:dK(t)}}function xp(e){return(t,n)=>rf(t,fm(e,n))}function Ft(e,t){return rf(e,fm("default",t))}Ft.loading=(e,t)=>rf(e,fm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ft.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=Fl(i)?Ft.loading(i,n):Ft.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Ft.dismiss(r);const p={type:u,...a,...n,data:h},g=Fl(d)?{render:d}:d;return r?Ft.update(r,{...p,...g}):Ft(g.render,{...p,...g}),h},c=ei(e)?e():e;return c.then(u=>l("success",s,u)).catch(u=>l("error",o,u)),c},Ft.success=xp("success"),Ft.info=xp("info"),Ft.error=xp("error"),Ft.warning=xp("warning"),Ft.warn=Ft.warning,Ft.dark=(e,t)=>rf(e,fm("default",{theme:"dark",...t})),Ft.dismiss=e=>{ll.size>0?Fi.emit(1,e):Vd=Vd.filter(t=>e!=null&&t.options.toastId!==e)},Ft.clearWaitingQueue=function(e){return e===void 0&&(e={}),Fi.emit(5,e)},Ft.isActive=e=>{let t=!1;return ll.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Ft.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=ll.get(o||Ly);return s&&s.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:Q3()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,rf(s,o)}},0)},Ft.done=e=>{Ft.update(e,{progress:1})},Ft.onChange=e=>(Fi.on(4,e),()=>{Fi.off(4,e)}),Ft.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ft.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Fi.on(2,e=>{Ly=e.containerId||e,ll.set(Ly,e),Vd.forEach(t=>{Fi.emit(0,t.content,t.options)}),Vd=[]}).on(3,e=>{ll.delete(e.containerId||e),ll.size===0&&Fi.off(0).off(1).off(5)});ee.playerRemoved.subscribe(e=>{if(e.input.source===Bs.inputName){const t=et.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});ee.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===Bs.inputName){const i=(r=Oe.getPlayers().find(s=>s.input.source==="Remote Microphone"&&s.input.deviceId===t.deviceId))==null?void 0:r.number,o=et.getRemoteMicById(t.deviceId);o==null||o.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=et.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});ee.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Oe.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=et.getRemoteMicById(e);i==null||i.setPlayerNumber(t),xn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});ee.playerChangeRequested.subscribe((e,t)=>{var r;const n=Oe.getPlayers().find(i=>i.input.deviceId===e);if(n&&Oe.removePlayer(n.number),t!==null){const i=Oe.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Oe.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});ee.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||Ft.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});ee.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||Ft.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const lS=()=>{const e=et.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Oe.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});et.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};ee.inputListChanged.subscribe(lS);ee.playerInputChanged.subscribe(lS);ee.remoteMicSubscribed.subscribe(lS);const J3=e=>({artist:t,title:n,id:r,lastUpdate:i},o,s=[],a)=>{var u;const l=s.length>1&&s.every(d=>d.score===s[0].score),c={};if(Oe.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=Be.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>lm(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var b,v;return[p[0]-(((b=m[g-1])==null?void 0:b[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=J5(d);console.log("compressed",h)}catch(d){$o(d)}_n.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:o.mode,tolerance:o.tolerance,players:o.players.length,tracks:o.players.map(d=>d.track),progress:a??null,singId:o.id,sameScores:l,mobilePhoneMode:!!Ar.get(),...c,...s.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...o.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};ee.songStarted.subscribe(J3("songStarted"));ee.songEnded.subscribe(J3("songEnded"));function Sp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var X3={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof Sp=="function"&&Sp;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return s(m||g)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof Sp=="function"&&Sp,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,c=new s(g),u=o.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var b=o.document.createElement("script");b.onreadystatechange=function(){g(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var b,v,A=p.length;A;){for(v=p,p=[],b=-1;++b<A;)v[b]();A=p.length}h=!1}r.exports=m;function m(b){p.push(b)===1&&!h&&a()}}).call(this,typeof ha<"u"?ha:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==s&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,w){if(typeof x!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(s);if(this.state!==u){var C=this.state===c?x:w;p(E,C,this.outcome)}else this.queue.push(new h(E,x,w));return E};function h(x,w,E){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){a.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)};function p(x,w,E){o(function(){var C;try{C=w(E)}catch(j){return a.reject(x,j)}C===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,C)})}a.resolve=function(x,w){var E=b(g,w);if(E.status==="error")return a.reject(x,E.value);var C=E.value;if(C)m(x,C);else{x.state=c,x.outcome=w;for(var j=-1,L=x.queue.length;++j<L;)x.queue[j].callFulfilled(w)}return x},a.reject=function(x,w){x.state=l,x.outcome=w;for(var E=-1,C=x.queue.length;++E<C;)x.queue[E].callRejected(w);return x};function g(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function m(x,w){var E=!1;function C(U){E||(E=!0,a.reject(x,U))}function j(U){E||(E=!0,a.resolve(x,U))}function L(){w(j,C)}var B=b(L);B.status==="error"&&C(B.value)}function b(x,w){var E={};try{E.value=x(w),E.status="success"}catch(C){E.status="error",E.value=C}return E}d.resolve=v;function v(x){return x instanceof this?x:a.resolve(new this(s),x)}d.reject=A;function A(x){var w=new this(s);return a.reject(w,x)}d.all=_;function _(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,C=!1;if(!E)return this.resolve([]);for(var j=new Array(E),L=0,B=-1,U=new this(s);++B<E;)P(x[B],B);return U;function P(V,R){w.resolve(V).then(k,function(D){C||(C=!0,a.reject(U,D))});function k(D){j[R]=D,++L===E&&!C&&(C=!0,a.resolve(U,j))}}}d.race=S;function S(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,C=!1;if(!E)return this.resolve([]);for(var j=-1,L=new this(s);++j<E;)B(x[j]);return L;function B(U){w.resolve(U).then(function(P){C||(C=!0,a.resolve(L,P))},function(P){C||(C=!0,a.reject(L,P))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof ha<"u"?ha:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function s(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),F=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||F)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(T,F){T=T||[],F=F||{};try{return new Blob(T,F)}catch(q){if(q.name!=="TypeError")throw q;for(var M=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new M,Q=0;Q<T.length;Q+=1)W.append(T[Q]);return W.getBlob(F.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(T,F){F&&T.then(function(M){F(null,M)},function(M){F(M)})}function p(T,F,M){typeof F=="function"&&T.then(F),typeof M=="function"&&T.catch(M)}function g(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",v=void 0,A={},_=Object.prototype.toString,S="readonly",x="readwrite";function w(T){for(var F=T.length,M=new ArrayBuffer(F),W=new Uint8Array(M),Q=0;Q<F;Q++)W[Q]=T.charCodeAt(Q);return M}function E(T){return new d(function(F){var M=T.transaction(b,x),W=u([""]);M.objectStore(b).put(W,"key"),M.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),F(!1)},M.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);F(q||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})}function C(T){return typeof v=="boolean"?d.resolve(v):E(T).then(function(F){return v=F,v})}function j(T){var F=A[T.name],M={};M.promise=new d(function(W,Q){M.resolve=W,M.reject=Q}),F.deferredOperations.push(M),F.dbReady?F.dbReady=F.dbReady.then(function(){return M.promise}):F.dbReady=M.promise}function L(T){var F=A[T.name],M=F.deferredOperations.pop();if(M)return M.resolve(),M.promise}function B(T,F){var M=A[T.name],W=M.deferredOperations.pop();if(W)return W.reject(F),W.promise}function U(T,F){return new d(function(M,W){if(A[T.name]=A[T.name]||H(),T.db)if(F)j(T),T.db.close();else return M(T.db);var Q=[T.name];F&&Q.push(T.version);var q=l.open.apply(l,Q);F&&(q.onupgradeneeded=function(re){var se=q.result;try{se.createObjectStore(T.storeName),re.oldVersion<=1&&se.createObjectStore(b)}catch(de){if(de.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+re.oldVersion+" to version "+re.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw de}}),q.onerror=function(re){re.preventDefault(),W(q.error)},q.onsuccess=function(){var re=q.result;re.onversionchange=function(se){se.target.close()},M(re),L(T)}})}function P(T){return U(T,!1)}function V(T){return U(T,!0)}function R(T,F){if(!T.db)return!0;var M=!T.db.objectStoreNames.contains(T.storeName),W=T.version<T.db.version,Q=T.version>T.db.version;if(W&&(T.version!==F&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),Q||M){if(M){var q=T.db.version+1;q>T.version&&(T.version=q)}return!0}return!1}function k(T){return new d(function(F,M){var W=new FileReader;W.onerror=M,W.onloadend=function(Q){var q=btoa(Q.target.result||"");F({__local_forage_encoded_blob:!0,data:q,type:T.type})},W.readAsBinaryString(T)})}function D(T){var F=w(atob(T.data));return u([F],{type:T.type})}function O(T){return T&&T.__local_forage_encoded_blob}function z(T){var F=this,M=F._initReady().then(function(){var W=A[F._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return p(M,T,T),M}function $(T){j(T);for(var F=A[T.name],M=F.forages,W=0;W<M.length;W++){var Q=M[W];Q._dbInfo.db&&(Q._dbInfo.db.close(),Q._dbInfo.db=null)}return T.db=null,P(T).then(function(q){return T.db=q,R(T)?V(T):q}).then(function(q){T.db=F.db=q;for(var re=0;re<M.length;re++)M[re]._dbInfo.db=q}).catch(function(q){throw B(T,q),q})}function G(T,F,M,W){W===void 0&&(W=1);try{var Q=T.db.transaction(T.storeName,F);M(null,Q)}catch(q){if(W>0&&(!T.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!T.db||q.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),V(T)}).then(function(){return $(T).then(function(){G(T,F,M,W-1)})}).catch(M);M(q)}}function H(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(T){var F=this,M={db:null};if(T)for(var W in T)M[W]=T[W];var Q=A[M.name];Q||(Q=H(),A[M.name]=Q),Q.forages.push(F),F._initReady||(F._initReady=F.ready,F.ready=z);var q=[];function re(){return d.resolve()}for(var se=0;se<Q.forages.length;se++){var de=Q.forages[se];de!==F&&q.push(de._initReady().catch(re))}var fe=Q.forages.slice(0);return d.all(q).then(function(){return M.db=Q.db,P(M)}).then(function(me){return M.db=me,R(M,F._defaultConfig.version)?V(M):me}).then(function(me){M.db=Q.db=me,F._dbInfo=M;for(var Ie=0;Ie<fe.length;Ie++){var tt=fe[Ie];tt!==F&&(tt._dbInfo.db=M.db,tt._dbInfo.version=M.version)}})}function N(T,F){var M=this;T=g(T);var W=new d(function(Q,q){M.ready().then(function(){G(M._dbInfo,S,function(re,se){if(re)return q(re);try{var de=se.objectStore(M._dbInfo.storeName),fe=de.get(T);fe.onsuccess=function(){var me=fe.result;me===void 0&&(me=null),O(me)&&(me=D(me)),Q(me)},fe.onerror=function(){q(fe.error)}}catch(me){q(me)}})}).catch(q)});return h(W,F),W}function ue(T,F){var M=this,W=new d(function(Q,q){M.ready().then(function(){G(M._dbInfo,S,function(re,se){if(re)return q(re);try{var de=se.objectStore(M._dbInfo.storeName),fe=de.openCursor(),me=1;fe.onsuccess=function(){var Ie=fe.result;if(Ie){var tt=Ie.value;O(tt)&&(tt=D(tt));var wt=T(tt,Ie.key,me++);wt!==void 0?Q(wt):Ie.continue()}else Q()},fe.onerror=function(){q(fe.error)}}catch(Ie){q(Ie)}})}).catch(q)});return h(W,F),W}function Z(T,F,M){var W=this;T=g(T);var Q=new d(function(q,re){var se;W.ready().then(function(){return se=W._dbInfo,_.call(F)==="[object Blob]"?C(se.db).then(function(de){return de?F:k(F)}):F}).then(function(de){G(W._dbInfo,x,function(fe,me){if(fe)return re(fe);try{var Ie=me.objectStore(W._dbInfo.storeName);de===null&&(de=void 0);var tt=Ie.put(de,T);me.oncomplete=function(){de===void 0&&(de=null),q(de)},me.onabort=me.onerror=function(){var wt=tt.error?tt.error:tt.transaction.error;re(wt)}}catch(wt){re(wt)}})}).catch(re)});return h(Q,M),Q}function ae(T,F){var M=this;T=g(T);var W=new d(function(Q,q){M.ready().then(function(){G(M._dbInfo,x,function(re,se){if(re)return q(re);try{var de=se.objectStore(M._dbInfo.storeName),fe=de.delete(T);se.oncomplete=function(){Q()},se.onerror=function(){q(fe.error)},se.onabort=function(){var me=fe.error?fe.error:fe.transaction.error;q(me)}}catch(me){q(me)}})}).catch(q)});return h(W,F),W}function Pe(T){var F=this,M=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,x,function(q,re){if(q)return Q(q);try{var se=re.objectStore(F._dbInfo.storeName),de=se.clear();re.oncomplete=function(){W()},re.onabort=re.onerror=function(){var fe=de.error?de.error:de.transaction.error;Q(fe)}}catch(fe){Q(fe)}})}).catch(Q)});return h(M,T),M}function be(T){var F=this,M=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,S,function(q,re){if(q)return Q(q);try{var se=re.objectStore(F._dbInfo.storeName),de=se.count();de.onsuccess=function(){W(de.result)},de.onerror=function(){Q(de.error)}}catch(fe){Q(fe)}})}).catch(Q)});return h(M,T),M}function le(T,F){var M=this,W=new d(function(Q,q){if(T<0){Q(null);return}M.ready().then(function(){G(M._dbInfo,S,function(re,se){if(re)return q(re);try{var de=se.objectStore(M._dbInfo.storeName),fe=!1,me=de.openKeyCursor();me.onsuccess=function(){var Ie=me.result;if(!Ie){Q(null);return}T===0||fe?Q(Ie.key):(fe=!0,Ie.advance(T))},me.onerror=function(){q(me.error)}}catch(Ie){q(Ie)}})}).catch(q)});return h(W,F),W}function Se(T){var F=this,M=new d(function(W,Q){F.ready().then(function(){G(F._dbInfo,S,function(q,re){if(q)return Q(q);try{var se=re.objectStore(F._dbInfo.storeName),de=se.openKeyCursor(),fe=[];de.onsuccess=function(){var me=de.result;if(!me){W(fe);return}fe.push(me.key),me.continue()},de.onerror=function(){Q(de.error)}}catch(me){Q(me)}})}).catch(Q)});return h(M,T),M}function Ue(T,F){F=m.apply(this,arguments);var M=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||M.name,T.storeName=T.storeName||M.storeName);var W=this,Q;if(!T.name)Q=d.reject("Invalid arguments");else{var q=T.name===M.name&&W._dbInfo.db,re=q?d.resolve(W._dbInfo.db):P(T).then(function(se){var de=A[T.name],fe=de.forages;de.db=se;for(var me=0;me<fe.length;me++)fe[me]._dbInfo.db=se;return se});T.storeName?Q=re.then(function(se){if(se.objectStoreNames.contains(T.storeName)){var de=se.version+1;j(T);var fe=A[T.name],me=fe.forages;se.close();for(var Ie=0;Ie<me.length;Ie++){var tt=me[Ie];tt._dbInfo.db=null,tt._dbInfo.version=de}var wt=new d(function(Ct,Ln){var Cn=l.open(T.name,de);Cn.onerror=function(Vi){var od=Cn.result;od.close(),Ln(Vi)},Cn.onupgradeneeded=function(){var Vi=Cn.result;Vi.deleteObjectStore(T.storeName)},Cn.onsuccess=function(){var Vi=Cn.result;Vi.close(),Ct(Vi)}});return wt.then(function(Ct){fe.db=Ct;for(var Ln=0;Ln<me.length;Ln++){var Cn=me[Ln];Cn._dbInfo.db=Ct,L(Cn._dbInfo)}}).catch(function(Ct){throw(B(T,Ct)||d.resolve()).catch(function(){}),Ct})}}):Q=re.then(function(se){j(T);var de=A[T.name],fe=de.forages;se.close();for(var me=0;me<fe.length;me++){var Ie=fe[me];Ie._dbInfo.db=null}var tt=new d(function(wt,Ct){var Ln=l.deleteDatabase(T.name);Ln.onerror=function(){var Cn=Ln.result;Cn&&Cn.close(),Ct(Ln.error)},Ln.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},Ln.onsuccess=function(){var Cn=Ln.result;Cn&&Cn.close(),wt(Cn)}});return tt.then(function(wt){de.db=wt;for(var Ct=0;Ct<fe.length;Ct++){var Ln=fe[Ct];L(Ln._dbInfo)}}).catch(function(wt){throw(B(T,wt)||d.resolve()).catch(function(){}),wt})})}return h(Q,F),Q}var De={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:ue,getItem:N,setItem:Z,removeItem:ae,clear:Pe,length:be,key:le,keys:Se,dropInstance:Ue};function xe(){return typeof openDatabase=="function"}var Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",Ye=/^~~local_forage_type~([^~]+)~/,je="__lfsc__:",lt=je.length,Ot="arbf",on="blob",Dt="si08",Sn="ui08",ft="uic8",Et="si16",Jt="si32",Xe="ur16",Bt="ui32",ye="fl32",it="fl64",wn=lt+Ot.length,ht=Object.prototype.toString;function ot(T){var F=T.length*.75,M=T.length,W,Q=0,q,re,se,de;T[T.length-1]==="="&&(F--,T[T.length-2]==="="&&F--);var fe=new ArrayBuffer(F),me=new Uint8Array(fe);for(W=0;W<M;W+=4)q=Te.indexOf(T[W]),re=Te.indexOf(T[W+1]),se=Te.indexOf(T[W+2]),de=Te.indexOf(T[W+3]),me[Q++]=q<<2|re>>4,me[Q++]=(re&15)<<4|se>>2,me[Q++]=(se&3)<<6|de&63;return fe}function sn(T){var F=new Uint8Array(T),M="",W;for(W=0;W<F.length;W+=3)M+=Te[F[W]>>2],M+=Te[(F[W]&3)<<4|F[W+1]>>4],M+=Te[(F[W+1]&15)<<2|F[W+2]>>6],M+=Te[F[W+2]&63];return F.length%3===2?M=M.substring(0,M.length-1)+"=":F.length%3===1&&(M=M.substring(0,M.length-2)+"=="),M}function gn(T,F){var M="";if(T&&(M=ht.call(T)),T&&(M==="[object ArrayBuffer]"||T.buffer&&ht.call(T.buffer)==="[object ArrayBuffer]")){var W,Q=je;T instanceof ArrayBuffer?(W=T,Q+=Ot):(W=T.buffer,M==="[object Int8Array]"?Q+=Dt:M==="[object Uint8Array]"?Q+=Sn:M==="[object Uint8ClampedArray]"?Q+=ft:M==="[object Int16Array]"?Q+=Et:M==="[object Uint16Array]"?Q+=Xe:M==="[object Int32Array]"?Q+=Jt:M==="[object Uint32Array]"?Q+=Bt:M==="[object Float32Array]"?Q+=ye:M==="[object Float64Array]"?Q+=it:F(new Error("Failed to get type for BinaryArray"))),F(Q+sn(W))}else if(M==="[object Blob]"){var q=new FileReader;q.onload=function(){var re=Ke+T.type+"~"+sn(this.result);F(je+on+re)},q.readAsArrayBuffer(T)}else try{F(JSON.stringify(T))}catch(re){console.error("Couldn't convert value into a JSON string: ",T),F(null,re)}}function Xt(T){if(T.substring(0,lt)!==je)return JSON.parse(T);var F=T.substring(wn),M=T.substring(lt,wn),W;if(M===on&&Ye.test(F)){var Q=F.match(Ye);W=Q[1],F=F.substring(Q[0].length)}var q=ot(F);switch(M){case Ot:return q;case on:return u([q],{type:W});case Dt:return new Int8Array(q);case Sn:return new Uint8Array(q);case ft:return new Uint8ClampedArray(q);case Et:return new Int16Array(q);case Xe:return new Uint16Array(q);case Jt:return new Int32Array(q);case Bt:return new Uint32Array(q);case ye:return new Float32Array(q);case it:return new Float64Array(q);default:throw new Error("Unkown type: "+M)}}var mt={serialize:gn,deserialize:Xt,stringToBuffer:ot,bufferToString:sn};function Un(T,F,M,W){T.executeSql("CREATE TABLE IF NOT EXISTS "+F.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],M,W)}function br(T){var F=this,M={db:null};if(T)for(var W in T)M[W]=typeof T[W]!="string"?T[W].toString():T[W];var Q=new d(function(q,re){try{M.db=openDatabase(M.name,String(M.version),M.description,M.size)}catch(se){return re(se)}M.db.transaction(function(se){Un(se,M,function(){F._dbInfo=M,q()},function(de,fe){re(fe)})},re)});return M.serializer=mt,Q}function En(T,F,M,W,Q,q){T.executeSql(M,W,Q,function(re,se){se.code===se.SYNTAX_ERR?re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[F.storeName],function(de,fe){fe.rows.length?q(de,se):Un(de,F,function(){de.executeSql(M,W,Q,q)},q)},q):q(re,se)},q)}function ji(T,F){var M=this;T=g(T);var W=new d(function(Q,q){M.ready().then(function(){var re=M._dbInfo;re.db.transaction(function(se){En(se,re,"SELECT * FROM "+re.storeName+" WHERE key = ? LIMIT 1",[T],function(de,fe){var me=fe.rows.length?fe.rows.item(0).value:null;me&&(me=re.serializer.deserialize(me)),Q(me)},function(de,fe){q(fe)})})}).catch(q)});return h(W,F),W}function di(T,F){var M=this,W=new d(function(Q,q){M.ready().then(function(){var re=M._dbInfo;re.db.transaction(function(se){En(se,re,"SELECT * FROM "+re.storeName,[],function(de,fe){for(var me=fe.rows,Ie=me.length,tt=0;tt<Ie;tt++){var wt=me.item(tt),Ct=wt.value;if(Ct&&(Ct=re.serializer.deserialize(Ct)),Ct=T(Ct,wt.key,tt+1),Ct!==void 0){Q(Ct);return}}Q()},function(de,fe){q(fe)})})}).catch(q)});return h(W,F),W}function kt(T,F,M,W){var Q=this;T=g(T);var q=new d(function(re,se){Q.ready().then(function(){F===void 0&&(F=null);var de=F,fe=Q._dbInfo;fe.serializer.serialize(F,function(me,Ie){Ie?se(Ie):fe.db.transaction(function(tt){En(tt,fe,"INSERT OR REPLACE INTO "+fe.storeName+" (key, value) VALUES (?, ?)",[T,me],function(){re(de)},function(wt,Ct){se(Ct)})},function(tt){if(tt.code===tt.QUOTA_ERR){if(W>0){re(kt.apply(Q,[T,de,M,W-1]));return}se(tt)}})})}).catch(se)});return h(q,M),q}function kn(T,F,M){return kt.apply(this,[T,F,M,1])}function Ne(T,F){var M=this;T=g(T);var W=new d(function(Q,q){M.ready().then(function(){var re=M._dbInfo;re.db.transaction(function(se){En(se,re,"DELETE FROM "+re.storeName+" WHERE key = ?",[T],function(){Q()},function(de,fe){q(fe)})})}).catch(q)});return h(W,F),W}function Ze(T){var F=this,M=new d(function(W,Q){F.ready().then(function(){var q=F._dbInfo;q.db.transaction(function(re){En(re,q,"DELETE FROM "+q.storeName,[],function(){W()},function(se,de){Q(de)})})}).catch(Q)});return h(M,T),M}function Yn(T){var F=this,M=new d(function(W,Q){F.ready().then(function(){var q=F._dbInfo;q.db.transaction(function(re){En(re,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(se,de){var fe=de.rows.item(0).c;W(fe)},function(se,de){Q(de)})})}).catch(Q)});return h(M,T),M}function fi(T,F){var M=this,W=new d(function(Q,q){M.ready().then(function(){var re=M._dbInfo;re.db.transaction(function(se){En(se,re,"SELECT key FROM "+re.storeName+" WHERE id = ? LIMIT 1",[T+1],function(de,fe){var me=fe.rows.length?fe.rows.item(0).key:null;Q(me)},function(de,fe){q(fe)})})}).catch(q)});return h(W,F),W}function Ae(T){var F=this,M=new d(function(W,Q){F.ready().then(function(){var q=F._dbInfo;q.db.transaction(function(re){En(re,q,"SELECT key FROM "+q.storeName,[],function(se,de){for(var fe=[],me=0;me<de.rows.length;me++)fe.push(de.rows.item(me).key);W(fe)},function(se,de){Q(de)})})}).catch(Q)});return h(M,T),M}function $e(T){return new d(function(F,M){T.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Q,q){for(var re=[],se=0;se<q.rows.length;se++)re.push(q.rows.item(se).name);F({db:T,storeNames:re})},function(Q,q){M(q)})},function(W){M(W)})})}function qe(T,F){F=m.apply(this,arguments);var M=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||M.name,T.storeName=T.storeName||M.storeName);var W=this,Q;return T.name?Q=new d(function(q){var re;T.name===M.name?re=W._dbInfo.db:re=openDatabase(T.name,"","",0),T.storeName?q({db:re,storeNames:[T.storeName]}):q($e(re))}).then(function(q){return new d(function(re,se){q.db.transaction(function(de){function fe(wt){return new d(function(Ct,Ln){de.executeSql("DROP TABLE IF EXISTS "+wt,[],function(){Ct()},function(Cn,Vi){Ln(Vi)})})}for(var me=[],Ie=0,tt=q.storeNames.length;Ie<tt;Ie++)me.push(fe(q.storeNames[Ie]));d.all(me).then(function(){re()}).catch(function(wt){se(wt)})},function(de){se(de)})})}):Q=d.reject("Invalid arguments"),h(Q,F),Q}var Vn={_driver:"webSQLStorage",_initStorage:br,_support:xe(),iterate:di,getItem:ji,setItem:kn,removeItem:Ne,clear:Ze,length:Yn,key:fi,keys:Ae,dropInstance:qe};function Qn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function hi(T,F){var M=T.name+"/";return T.storeName!==F.storeName&&(M+=T.storeName+"/"),M}function Oi(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function sr(){return!Oi()||localStorage.length>0}function Wr(T){var F=this,M={};if(T)for(var W in T)M[W]=T[W];return M.keyPrefix=hi(T,F._defaultConfig),sr()?(F._dbInfo=M,M.serializer=mt,d.resolve()):d.reject()}function $t(T){var F=this,M=F.ready().then(function(){for(var W=F._dbInfo.keyPrefix,Q=localStorage.length-1;Q>=0;Q--){var q=localStorage.key(Q);q.indexOf(W)===0&&localStorage.removeItem(q)}});return h(M,T),M}function Xa(T,F){var M=this;T=g(T);var W=M.ready().then(function(){var Q=M._dbInfo,q=localStorage.getItem(Q.keyPrefix+T);return q&&(q=Q.serializer.deserialize(q)),q});return h(W,F),W}function iy(T,F){var M=this,W=M.ready().then(function(){for(var Q=M._dbInfo,q=Q.keyPrefix,re=q.length,se=localStorage.length,de=1,fe=0;fe<se;fe++){var me=localStorage.key(fe);if(me.indexOf(q)===0){var Ie=localStorage.getItem(me);if(Ie&&(Ie=Q.serializer.deserialize(Ie)),Ie=T(Ie,me.substring(re),de++),Ie!==void 0)return Ie}}});return h(W,F),W}function Kh(T,F){var M=this,W=M.ready().then(function(){var Q=M._dbInfo,q;try{q=localStorage.key(T)}catch{q=null}return q&&(q=q.substring(Q.keyPrefix.length)),q});return h(W,F),W}function Yh(T){var F=this,M=F.ready().then(function(){for(var W=F._dbInfo,Q=localStorage.length,q=[],re=0;re<Q;re++){var se=localStorage.key(re);se.indexOf(W.keyPrefix)===0&&q.push(se.substring(W.keyPrefix.length))}return q});return h(M,T),M}function Qh(T){var F=this,M=F.keys().then(function(W){return W.length});return h(M,T),M}function Jh(T,F){var M=this;T=g(T);var W=M.ready().then(function(){var Q=M._dbInfo;localStorage.removeItem(Q.keyPrefix+T)});return h(W,F),W}function Vt(T,F,M){var W=this;T=g(T);var Q=W.ready().then(function(){F===void 0&&(F=null);var q=F;return new d(function(re,se){var de=W._dbInfo;de.serializer.serialize(F,function(fe,me){if(me)se(me);else try{localStorage.setItem(de.keyPrefix+T,fe),re(q)}catch(Ie){(Ie.name==="QuotaExceededError"||Ie.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(Ie),se(Ie)}})})});return h(Q,M),Q}function vo(T,F){if(F=m.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var M=this.config();T.name=T.name||M.name,T.storeName=T.storeName||M.storeName}var W=this,Q;return T.name?Q=new d(function(q){T.storeName?q(hi(T,W._defaultConfig)):q(T.name+"/")}).then(function(q){for(var re=localStorage.length-1;re>=0;re--){var se=localStorage.key(re);se.indexOf(q)===0&&localStorage.removeItem(se)}}):Q=d.reject("Invalid arguments"),h(Q,F),Q}var rd={_driver:"localStorageWrapper",_initStorage:Wr,_support:Qn(),iterate:iy,getItem:Xa,setItem:Vt,removeItem:Jh,clear:$t,length:Qh,key:Kh,keys:Yh,dropInstance:vo},Za=function(F,M){return F===M||typeof F=="number"&&typeof M=="number"&&isNaN(F)&&isNaN(M)},oy=function(F,M){for(var W=F.length,Q=0;Q<W;){if(Za(F[Q],M))return!0;Q++}return!1},uc=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},id={},nk={},dc={INDEXEDDB:De,WEBSQL:Vn,LOCALSTORAGE:rd},NB=[dc.INDEXEDDB._driver,dc.WEBSQL._driver,dc.LOCALSTORAGE._driver],Xh=["dropInstance"],sy=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Xh),DB={description:"",driver:NB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function BB(T,F){T[F]=function(){var M=arguments;return T.ready().then(function(){return T[F].apply(T,M)})}}function ay(){for(var T=1;T<arguments.length;T++){var F=arguments[T];if(F)for(var M in F)F.hasOwnProperty(M)&&(uc(F[M])?arguments[0][M]=F[M].slice():arguments[0][M]=F[M])}return arguments[0]}var $B=function(){function T(F){s(this,T);for(var M in dc)if(dc.hasOwnProperty(M)){var W=dc[M],Q=W._driver;this[M]=Q,id[Q]||this.defineDriver(W)}this._defaultConfig=ay({},DB),this._config=ay({},this._defaultConfig,F),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(M){if((typeof M>"u"?"undefined":o(M))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in M){if(W==="storeName"&&(M[W]=M[W].replace(/\W/g,"_")),W==="version"&&typeof M[W]!="number")return new Error("Database version must be a number.");this._config[W]=M[W]}return"driver"in M&&M.driver?this.setDriver(this._config.driver):!0}else return typeof M=="string"?this._config[M]:this._config},T.prototype.defineDriver=function(M,W,Q){var q=new d(function(re,se){try{var de=M._driver,fe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!M._driver){se(fe);return}for(var me=sy.concat("_initStorage"),Ie=0,tt=me.length;Ie<tt;Ie++){var wt=me[Ie],Ct=!oy(Xh,wt);if((Ct||M[wt])&&typeof M[wt]!="function"){se(fe);return}}var Ln=function(){for(var od=function(UB){return function(){var HB=new Error("Method "+UB+" is not implemented by the current driver"),rk=d.reject(HB);return h(rk,arguments[arguments.length-1]),rk}},ly=0,zB=Xh.length;ly<zB;ly++){var cy=Xh[ly];M[cy]||(M[cy]=od(cy))}};Ln();var Cn=function(od){id[de]&&console.info("Redefining LocalForage driver: "+de),id[de]=M,nk[de]=od,re()};"_support"in M?M._support&&typeof M._support=="function"?M._support().then(Cn,se):Cn(!!M._support):Cn(!0)}catch(Vi){se(Vi)}});return p(q,W,Q),q},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(M,W,Q){var q=id[M]?d.resolve(id[M]):d.reject(new Error("Driver not found."));return p(q,W,Q),q},T.prototype.getSerializer=function(M){var W=d.resolve(mt);return p(W,M),W},T.prototype.ready=function(M){var W=this,Q=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return p(Q,M,M),Q},T.prototype.setDriver=function(M,W,Q){var q=this;uc(M)||(M=[M]);var re=this._getSupportedDrivers(M);function se(){q._config.driver=q.driver()}function de(Ie){return q._extend(Ie),se(),q._ready=q._initStorage(q._config),q._ready}function fe(Ie){return function(){var tt=0;function wt(){for(;tt<Ie.length;){var Ct=Ie[tt];return tt++,q._dbInfo=null,q._ready=null,q.getDriver(Ct).then(de).catch(wt)}se();var Ln=new Error("No available storage method found.");return q._driverSet=d.reject(Ln),q._driverSet}return wt()}}var me=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=me.then(function(){var Ie=re[0];return q._dbInfo=null,q._ready=null,q.getDriver(Ie).then(function(tt){q._driver=tt._driver,se(),q._wrapLibraryMethodsWithReady(),q._initDriver=fe(re)})}).catch(function(){se();var Ie=new Error("No available storage method found.");return q._driverSet=d.reject(Ie),q._driverSet}),p(this._driverSet,W,Q),this._driverSet},T.prototype.supports=function(M){return!!nk[M]},T.prototype._extend=function(M){ay(this,M)},T.prototype._getSupportedDrivers=function(M){for(var W=[],Q=0,q=M.length;Q<q;Q++){var re=M[Q];this.supports(re)&&W.push(re)}return W},T.prototype._wrapLibraryMethodsWithReady=function(){for(var M=0,W=sy.length;M<W;M++)BB(this,sy[M])},T.prototype.createInstance=function(M){return new T(M)},T}(),FB=new $B;r.exports=FB},{3:3}]},{},[4])(4)})})(X3);var fK=X3.exports;const of=yr(fK),Z3=Object.freeze(Object.defineProperty({__proto__:null,default:of},Symbol.toStringTag,{value:"Module"}));let pd=null;async function hm(){if(!pd)if("localStorage"in globalThis)try{pd=Wu(async()=>{const{default:e}=await Promise.resolve().then(()=>Z3);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),pd=Promise.resolve(Ve.memory)}else pd=Promise.resolve(Ve.memory);return pd}const bu=e=>so.generateSongFile(e),eO=async e=>{var n;const t=bu(e);return await((n=await hm())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},tO=async(e,t)=>{var n;await((n=await hm())==null?void 0:n.setItem(bu(e),t))},hK=async()=>{var n;const e=await((n=await hm())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await hm())==null?void 0:i.getItem(r))})),t};ee.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(s=>s.score===0))return;let i=await(of==null?void 0:of.getItem(bu(e)));const o={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],o],i.plays=i.scores.length):i={plays:1,scores:[o]},await tO(e,i),ee.songStatStored.dispatch(bu(e),i)});const _u="session-player-names",pK="previous-player-names";function gK(e){return e!=null}ee.songStarted.subscribe((e,t)=>{let n=JSON.parse(Ve.session.getItem(_u))||[];const r=t.players.map(({number:o})=>Oe.getPlayer(o)).filter(gK).map(o=>o.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Ve.session.setItem(_u,JSON.stringify(n)),Ve.session.setItem(pK,JSON.stringify(r))});ee.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Ve.session.getItem(_u))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Ve.session.setItem(_u,JSON.stringify(r))});function mK(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return mK(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var vK="Expected a function";function Zc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(vK);return Fo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),x3(e,t,{leading:r,maxWait:t,trailing:i})}class yK extends Go{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await wa.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const o=new y3;await o.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(i.fftSize);i.getFloatTimeDomainData(s);const a=await o.getFrequency(s),l=this.calculateVolume(s);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){$o(r),console.error(r)}}catch(r){$o(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const wo=new yK;class AK extends Go{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.roomId=n,this.connection=new WebSocket(`${T3}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var s;(s=this.connection)==null||s.send(eo({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=s=>{const a=Nu(s.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=s=>{var l;let a="unknown";try{a=(l=JSON.parse(s.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",s)}this.clearAllListeners(),i(a,s)},this.connection.onerror=s=>{this.clearAllListeners(),o("error",s)}}sendEvent(t){var n;(n=this.connection)==null||n.send(eo({t:"forward",recipients:[this.roomId],payload:t}))}}class bK extends Go{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",o=>{console.log(o),this.onUpdate(o)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new z0(t,{...I3,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",s=>{var a,l;s.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,o)},1750)):(this.unavailableIdRetries=0,console.error(s.type,s),i(s.type,s))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class _K extends Go{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,o){this.roomId=n,this.connection=new WebSocket(L3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var s;(s=this.connection)==null||s.send(eo({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=s=>{const a=Nu(s.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=s=>{var l;let a="unknown";try{a=(l=JSON.parse(s.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",s)}this.clearAllListeners(),i(a,s)},this.connection.onerror=s=>{this.clearAllListeners(),o("error",s)}}sendEvent(t){var n;(n=this.connection)==null||n.send(eo({t:"forward",recipients:[this.roomId],payload:t}))}}const ZC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let wp;const xK=new Uint8Array(16);function SK(){if(!wp&&(wp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wp(xK)}const lr=[];for(let e=0;e<256;++e)lr.push((e+256).toString(16).slice(1));function wK(e,t=0){return lr[e[t+0]]+lr[e[t+1]]+lr[e[t+2]]+lr[e[t+3]]+"-"+lr[e[t+4]]+lr[e[t+5]]+"-"+lr[e[t+6]]+lr[e[t+7]]+"-"+lr[e[t+8]]+lr[e[t+9]]+"-"+lr[e[t+10]]+lr[e[t+11]]+lr[e[t+12]]+lr[e[t+13]]+lr[e[t+14]]+lr[e[t+15]]}const EK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eT={randomUUID:EK};function pm(e,t,n){if(eT.randomUUID&&!t&&!e)return eT.randomUUID();e=e||{};const r=e.random||(e.rng||SK)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,wK(r)}const mb="MIC_CLIENT_ID";class kK{constructor(){this.clientId=Ve.getItem(mb),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Zc(t=>{const n=this.frequencies.map(r=>ZC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,ZC(t,4)])},50),this.onFrequencyUpdate=Zc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Ve.setItem(mb,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new _K:i.startsWith("k")?new AK:new bK),this.clientId===null&&this.setClientId(pm()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||ee.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(o,s)=>{var a;if(o==="unavailable-id"){this.setClientId(pm()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?ee.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?ee.karaokeConnectionStatusChange.dispatch("disconnected"):(ee.karaokeConnectionStatusChange.dispatch("error",o),_n.capture("remote_mic_connection_error",{reason:o,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),ee.remoteMicPlayerSet.dispatch(null),ee.remoteKeyboardLayout.dispatch(void 0),wo.removeListener(this.onFrequencyUpdate),wo.stopMonitoring(),o!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Fr(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Fr(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Zc(t=>_n.capture("remote_mic_ping",{ping:t}),3e4),this.onPong=()=>{this.latency=Fr()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,ee.karaokeConnectionStatusChange.dispatch("connected"),_n.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:tj.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(o=>{var a,l;const s=o.t;s==="start-monitor"?(wo.removeListener(this.onFrequencyUpdate),wo.addListener(this.onFrequencyUpdate),wo.startMonitoring(void 0,!0)):s==="stop-monitor"?(wo.removeListener(this.onFrequencyUpdate),wo.stopMonitoring()):s==="set-player-number"?ee.remoteMicPlayerSet.dispatch(o.playerNumber):s==="keyboard-layout"?ee.remoteKeyboardLayout.dispatch(o.help):s==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Ve.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):s==="request-readiness"?ee.remoteReadinessRequested.dispatch():s==="pong"?this.onPong():s==="ping"?this.sendEvent("pong"):s==="set-permissions"?ee.remoteMicPermissionsSet.dispatch(o.level):s==="remote-mics-list"?ee.remoteMicListUpdated.dispatch(o.list):s==="style-change"&&ee.remoteStyleChanged.dispatch(o.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(ee.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,o)=>{var l;const s=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),o(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(s),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const dn=new kK,CK="/prs/299/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",TK="/prs/299/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",IK="/prs/299/assets/421888__b-sean__retro-CErSO5v-.ogg",RK="/prs/299/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",PK="/prs/299/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",MK="/prs/299/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",jK="/prs/299/assets/menu_back-CXKu2j7w.mp3",OK="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",VK="/prs/299/assets/menu_navigate-C6GUIZQM.mp3";class Qs{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const o=(r=this.sound)==null?void 0:r.cloneNode(!0);await o.play(),o.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(o){return console.warn(o)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const q0=new Qs({src:VK}),cS=new Qs({src:OK}),uS=new Qs({src:jK}),nO=new Qs({src:TK,preload:!0}),dS=new Qs({src:PK,preload:!0,volume:.5}),rO=new Qs({src:MK,volume:.3,loop:!0}),iO=new Qs({src:IK,volume:.4,loop:!0}),oO=new Qs({src:CK,volume:.25,loop:!0}),Ag=new Qs({src:RK,volume:.8}),LK=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:rO,christmasBackgroundMusic:oO,classicBackgroundMusic:iO,menuBack:uS,menuEnter:cS,menuNavigate:q0,waitFinished:nO,waitForReadinessMusic:Ag,woosh:dS},Symbol.toStringTag,{value:"Module"})),NK={RemoteMicClient:dn,RemoteMicServer:Il,GameState:Be,GameEvents:ee,RemoteMicManager:et,SongDao:so,InputManager:xn,InputSourceManager:$s,CameraManager:Ro,UserMediaService:wa,PlayersManager:Oe,SoundManager:LK,importSongs:async()=>{await(await Wu(()=>import("./importSongsFromPostHog-D_zPLsX9.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=NK};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function DK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function BK(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $K=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(BK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=DK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),wr="-ms-",gm="-moz-",vt="-webkit-",sO="comm",fS="rule",hS="decl",FK="@import",aO="@keyframes",zK="@layer",UK=Math.abs,W0=String.fromCharCode,HK=Object.assign;function GK(e,t){return fr(e,0)^45?(((t<<2^fr(e,0))<<2^fr(e,1))<<2^fr(e,2))<<2^fr(e,3):0}function lO(e){return e.trim()}function qK(e,t){return(e=t.exec(e))?e[0]:e}function yt(e,t,n){return e.replace(t,n)}function vb(e,t){return e.indexOf(t)}function fr(e,t){return e.charCodeAt(t)|0}function Df(e,t,n){return e.slice(t,n)}function Zo(e){return e.length}function pS(e){return e.length}function Ep(e,t){return t.push(e),e}function WK(e,t){return e.map(t).join("")}var K0=1,xu=1,cO=0,li=0,$n=0,Yu="";function Y0(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:K0,column:xu,length:s,return:""}}function gd(e,t){return HK(Y0("",null,null,"",null,null,0),e,{length:-e.length},t)}function KK(){return $n}function YK(){return $n=li>0?fr(Yu,--li):0,xu--,$n===10&&(xu=1,K0--),$n}function _i(){return $n=li<cO?fr(Yu,li++):0,xu++,$n===10&&(xu=1,K0++),$n}function as(){return fr(Yu,li)}function bg(){return li}function kh(e,t){return Df(Yu,e,t)}function Bf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uO(e){return K0=xu=1,cO=Zo(Yu=e),li=0,[]}function dO(e){return Yu="",e}function _g(e){return lO(kh(li-1,yb(e===91?e+2:e===40?e+1:e)))}function QK(e){for(;($n=as())&&$n<33;)_i();return Bf(e)>2||Bf($n)>3?"":" "}function JK(e,t){for(;--t&&_i()&&!($n<48||$n>102||$n>57&&$n<65||$n>70&&$n<97););return kh(e,bg()+(t<6&&as()==32&&_i()==32))}function yb(e){for(;_i();)switch($n){case e:return li;case 34:case 39:e!==34&&e!==39&&yb($n);break;case 40:e===41&&yb(e);break;case 92:_i();break}return li}function XK(e,t){for(;_i()&&e+$n!==57;)if(e+$n===84&&as()===47)break;return"/*"+kh(t,li-1)+"*"+W0(e===47?e:_i())}function ZK(e){for(;!Bf(as());)_i();return kh(e,li)}function eY(e){return dO(xg("",null,null,null,[""],e=uO(e),0,[0],e))}function xg(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,g=0,m=1,b=1,v=1,A=0,_="",S=i,x=o,w=r,E=_;b;)switch(g=A,A=_i()){case 40:if(g!=108&&fr(E,d-1)==58){vb(E+=yt(_g(A),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=_g(A);break;case 9:case 10:case 13:case 32:E+=QK(g);break;case 92:E+=JK(bg()-1,7);continue;case 47:switch(as()){case 42:case 47:Ep(tY(XK(_i(),bg()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Zo(E)*v;case 125*m:case 59:case 0:switch(A){case 0:case 125:b=0;case 59+u:v==-1&&(E=yt(E,/\f/g,"")),p>0&&Zo(E)-d&&Ep(p>32?nT(E+";",r,n,d-1):nT(yt(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Ep(w=tT(E,t,n,c,u,i,a,_,S=[],x=[],d),o),A===123)if(u===0)xg(E,t,w,w,S,o,d,a,x);else switch(h===99&&fr(E,3)===110?100:h){case 100:case 108:case 109:case 115:xg(e,w,w,r&&Ep(tT(e,w,w,0,0,i,a,_,i,S=[],d),x),i,x,d,a,r?S:x);break;default:xg(E,w,w,w,[""],x,0,a,x)}}c=u=p=0,m=v=1,_=E="",d=s;break;case 58:d=1+Zo(E),p=g;default:if(m<1){if(A==123)--m;else if(A==125&&m++==0&&YK()==125)continue}switch(E+=W0(A),A*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Zo(E)-1)*v,v=1;break;case 64:as()===45&&(E+=_g(_i())),h=as(),u=d=Zo(_=E+=ZK(bg())),A++;break;case 45:g===45&&Zo(E)==2&&(m=0)}}return o}function tT(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=i===0?o:[""],p=pS(h),g=0,m=0,b=0;g<r;++g)for(var v=0,A=Df(e,d+1,d=UK(m=s[g])),_=e;v<p;++v)(_=lO(m>0?h[v]+" "+A:yt(A,/&\f/g,h[v])))&&(l[b++]=_);return Y0(e,t,n,i===0?fS:a,l,c,u)}function tY(e,t,n){return Y0(e,t,n,sO,W0(KK()),Df(e,2,-2),0)}function nT(e,t,n,r){return Y0(e,t,n,hS,Df(e,0,r),Df(e,r+1,-1),r)}function eu(e,t){for(var n="",r=pS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function nY(e,t,n,r){switch(e.type){case zK:if(e.children.length)break;case FK:case hS:return e.return=e.return||e.value;case sO:return"";case aO:return e.return=e.value+"{"+eu(e.children,r)+"}";case fS:e.value=e.props.join(",")}return Zo(n=eu(e.children,r))?e.return=e.value+"{"+n+"}":""}function rY(e){var t=pS(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function iY(e){return function(t){t.root||(t=t.return)&&e(t)}}function fO(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var oY=function(t,n,r){for(var i=0,o=0;i=o,o=as(),i===38&&o===12&&(n[r]=1),!Bf(o);)_i();return kh(t,li)},sY=function(t,n){var r=-1,i=44;do switch(Bf(i)){case 0:i===38&&as()===12&&(n[r]=1),t[r]+=oY(li-1,n,r);break;case 2:t[r]+=_g(i);break;case 4:if(i===44){t[++r]=as()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=W0(i)}while(i=_i());return t},aY=function(t,n){return dO(sY(uO(t),n))},rT=new WeakMap,lY=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!rT.get(r))&&!i){rT.set(t,!0);for(var o=[],s=aY(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},cY=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function hO(e,t){switch(GK(e,t)){case 5103:return vt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+e+gm+e+wr+e+e;case 6828:case 4268:return vt+e+wr+e+e;case 6165:return vt+e+wr+"flex-"+e+e;case 5187:return vt+e+yt(e,/(\w+).+(:[^]+)/,vt+"box-$1$2"+wr+"flex-$1$2")+e;case 5443:return vt+e+wr+"flex-item-"+yt(e,/flex-|-self/,"")+e;case 4675:return vt+e+wr+"flex-line-pack"+yt(e,/align-content|flex-|-self/,"")+e;case 5548:return vt+e+wr+yt(e,"shrink","negative")+e;case 5292:return vt+e+wr+yt(e,"basis","preferred-size")+e;case 6060:return vt+"box-"+yt(e,"-grow","")+vt+e+wr+yt(e,"grow","positive")+e;case 4554:return vt+yt(e,/([^-])(transform)/g,"$1"+vt+"$2")+e;case 6187:return yt(yt(yt(e,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),e,"")+e;case 5495:case 3959:return yt(e,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return yt(yt(e,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+wr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+e+e;case 4095:case 3583:case 4068:case 2532:return yt(e,/(.+)-inline(.+)/,vt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zo(e)-1-t>6)switch(fr(e,t+1)){case 109:if(fr(e,t+4)!==45)break;case 102:return yt(e,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+gm+(fr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~vb(e,"stretch")?hO(yt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(fr(e,t+1)!==115)break;case 6444:switch(fr(e,Zo(e)-3-(~vb(e,"!important")&&10))){case 107:return yt(e,":",":"+vt)+e;case 101:return yt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vt+(fr(e,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+wr+"$2box$3")+e}break;case 5936:switch(fr(e,t+11)){case 114:return vt+e+wr+yt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vt+e+wr+yt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vt+e+wr+yt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return vt+e+wr+e+e}return e}var uY=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case hS:t.return=hO(t.value,t.length);break;case aO:return eu([gd(t,{value:yt(t.value,"@","@"+vt)})],i);case fS:if(t.length)return WK(t.props,function(o){switch(qK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return eu([gd(t,{props:[yt(o,/:(read-\w+)/,":"+gm+"$1")]})],i);case"::placeholder":return eu([gd(t,{props:[yt(o,/:(plac\w+)/,":"+vt+"input-$1")]}),gd(t,{props:[yt(o,/:(plac\w+)/,":"+gm+"$1")]}),gd(t,{props:[yt(o,/:(plac\w+)/,wr+"input-$1")]})],i)}return""})}},dY=[uY],gS=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var b=m.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||dY,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var b=m.getAttribute("data-emotion").split(" "),v=1;v<b.length;v++)o[b[v]]=!0;a.push(m)});var l,c=[lY,cY];{var u,d=[nY,iY(function(m){u.insert(m)})],h=rY(c.concat(i,d)),p=function(b){return eu(eY(b),h)};l=function(b,v,A,_){u=A,p(b?b+"{"+v.styles+"}":v.styles),_&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new $K({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g};function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(this,arguments)}var fY=!0;function hY(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var pO=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||fY===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},gO=function(t,n,r){pO(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function pY(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var gY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mY=/[A-Z]|^ms/g,vY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mO=function(t){return t.charCodeAt(1)===45},iT=function(t){return t!=null&&typeof t!="boolean"},Ny=fO(function(e){return mO(e)?e:e.replace(mY,"-$&").toLowerCase()}),oT=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(vY,function(r,i,o){return es={name:i,styles:o,next:es},i})}return gY[t]!==1&&!mO(t)&&typeof n=="number"&&n!==0?n+"px":n};function $f(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return es={name:n.name,styles:n.styles,next:es},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)es={name:r.name,styles:r.styles,next:es},r=r.next;var i=n.styles+";";return i}return yY(e,t,n)}case"function":{if(e!==void 0){var o=es,s=n(e);return es=o,$f(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function yY(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$f(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":iT(s)&&(r+=Ny(o)+":"+oT(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)iT(s[a])&&(r+=Ny(o)+":"+oT(o,s[a])+";");else{var l=$f(e,t,s);switch(o){case"animation":case"animationName":{r+=Ny(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var sT=/label:\s*([^\s;\n{]+)\s*(;|$)/g,es,mS=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";es=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=$f(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=$f(r,n,t[a]),i&&(o+=s[a]);sT.lastIndex=0;for(var l="",c;(c=sT.exec(o))!==null;)l+="-"+c[1];var u=pY(o)+l;return{name:u,styles:o,next:es}},AY=function(t){return t()},vO=Bg.useInsertionEffect?Bg.useInsertionEffect:!1,bY=vO||AY,aT=vO||y.useLayoutEffect,yO=y.createContext(typeof HTMLElement<"u"?gS({key:"css"}):null),AO=yO.Provider,bO=function(t){return y.forwardRef(function(n,r){var i=y.useContext(yO);return t(n,i,r)})},Ch=y.createContext({}),_Y=bO(function(e,t){var n=e.styles,r=mS([n],void 0,y.useContext(Ch)),i=y.useRef();return aT(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),aT(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&gO(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Ei(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mS(t)}var Ga=function(){var t=Ei.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function vS(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function xY(){this.__data__=new Ks,this.size=0}function SY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function wY(e){return this.__data__.get(e)}function EY(e){return this.__data__.has(e)}var kY=200;function CY(e,t){var n=this.__data__;if(n instanceof Ks){var r=n.__data__;if(!Vf||r.length<kY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ys(r)}return n.set(e,t),this.size=n.size,this}function ls(e){var t=this.__data__=new Ks(e);this.size=t.size}ls.prototype.clear=xY;ls.prototype.delete=SY;ls.prototype.get=wY;ls.prototype.has=EY;ls.prototype.set=CY;function TY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var mm=function(){try{var e=nc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function _O(e,t,n){t=="__proto__"&&mm?mm(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var IY=Object.prototype,RY=IY.hasOwnProperty;function xO(e,t,n){var r=e[t];(!(RY.call(e,t)&&L0(r,n))||n===void 0&&!(t in e))&&_O(e,t,n)}function Th(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=void 0;l===void 0&&(l=e[a]),i?_O(n,a,l):xO(n,a,l)}return n}function PY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var MY="[object Arguments]";function lT(e){return Ds(e)&&ec(e)==MY}var SO=Object.prototype,jY=SO.hasOwnProperty,OY=SO.propertyIsEnumerable,yS=lT(function(){return arguments}())?lT:function(e){return Ds(e)&&jY.call(e,"callee")&&!OY.call(e,"callee")},ao=Array.isArray;function VY(){return!1}var wO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cT=wO&&typeof module=="object"&&module&&!module.nodeType&&module,LY=cT&&cT.exports===wO,uT=LY?qo.Buffer:void 0,NY=uT?uT.isBuffer:void 0,vm=NY||VY,DY="[object Arguments]",BY="[object Array]",$Y="[object Boolean]",FY="[object Date]",zY="[object Error]",UY="[object Function]",HY="[object Map]",GY="[object Number]",qY="[object Object]",WY="[object RegExp]",KY="[object Set]",YY="[object String]",QY="[object WeakMap]",JY="[object ArrayBuffer]",XY="[object DataView]",ZY="[object Float32Array]",eQ="[object Float64Array]",tQ="[object Int8Array]",nQ="[object Int16Array]",rQ="[object Int32Array]",iQ="[object Uint8Array]",oQ="[object Uint8ClampedArray]",sQ="[object Uint16Array]",aQ="[object Uint32Array]",Wt={};Wt[ZY]=Wt[eQ]=Wt[tQ]=Wt[nQ]=Wt[rQ]=Wt[iQ]=Wt[oQ]=Wt[sQ]=Wt[aQ]=!0;Wt[DY]=Wt[BY]=Wt[JY]=Wt[$Y]=Wt[XY]=Wt[FY]=Wt[zY]=Wt[UY]=Wt[HY]=Wt[GY]=Wt[qY]=Wt[WY]=Wt[KY]=Wt[YY]=Wt[QY]=!1;function lQ(e){return Ds(e)&&oS(e.length)&&!!Wt[ec(e)]}function AS(e){return function(t){return e(t)}}var EO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sf=EO&&typeof module=="object"&&module&&!module.nodeType&&module,cQ=sf&&sf.exports===EO,Dy=cQ&&b3.process,Su=function(){try{var e=sf&&sf.require&&sf.require("util").types;return e||Dy&&Dy.binding&&Dy.binding("util")}catch{}}(),dT=Su&&Su.isTypedArray,kO=dT?AS(dT):lQ,uQ=Object.prototype,dQ=uQ.hasOwnProperty;function CO(e,t){var n=ao(e),r=!n&&yS(e),i=!n&&!r&&vm(e),o=!n&&!r&&!i&&kO(e),s=n||r||i||o,a=s?PY(e.length,String):[],l=a.length;for(var c in e)(t||dQ.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||aS(c,l)))&&a.push(c);return a}var fQ=Object.prototype;function bS(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||fQ;return e===n}function TO(e,t){return function(n){return e(t(n))}}var hQ=TO(Object.keys,Object),pQ=Object.prototype,gQ=pQ.hasOwnProperty;function mQ(e){if(!bS(e))return hQ(e);var t=[];for(var n in Object(e))gQ.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ih(e){return sS(e)?CO(e):mQ(e)}function vQ(e,t){return e&&Th(t,Ih(t),e)}function yQ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var AQ=Object.prototype,bQ=AQ.hasOwnProperty;function _Q(e){if(!Fo(e))return yQ(e);var t=bS(e),n=[];for(var r in e)r=="constructor"&&(t||!bQ.call(e,r))||n.push(r);return n}function _S(e){return sS(e)?CO(e,!0):_Q(e)}function xQ(e,t){return e&&Th(t,_S(t),e)}var IO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fT=IO&&typeof module=="object"&&module&&!module.nodeType&&module,SQ=fT&&fT.exports===IO,hT=SQ?qo.Buffer:void 0,pT=hT?hT.allocUnsafe:void 0;function wQ(e,t){if(t)return e.slice();var n=e.length,r=pT?pT(n):new e.constructor(n);return e.copy(r),r}function RO(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function EQ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function PO(){return[]}var kQ=Object.prototype,CQ=kQ.propertyIsEnumerable,gT=Object.getOwnPropertySymbols,xS=gT?function(e){return e==null?[]:(e=Object(e),EQ(gT(e),function(t){return CQ.call(e,t)}))}:PO;function TQ(e,t){return Th(e,xS(e),t)}function SS(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var wS=TO(Object.getPrototypeOf,Object),IQ=Object.getOwnPropertySymbols,MO=IQ?function(e){for(var t=[];e;)SS(t,xS(e)),e=wS(e);return t}:PO;function RQ(e,t){return Th(e,MO(e),t)}function jO(e,t,n){var r=t(e);return ao(e)?r:SS(r,n(e))}function bb(e){return jO(e,Ih,xS)}function OO(e){return jO(e,_S,MO)}var _b=nc(qo,"DataView"),xb=nc(qo,"Promise"),tu=nc(qo,"Set"),Sb=nc(qo,"WeakMap"),mT="[object Map]",PQ="[object Object]",vT="[object Promise]",yT="[object Set]",AT="[object WeakMap]",bT="[object DataView]",MQ=tc(_b),jQ=tc(Vf),OQ=tc(xb),VQ=tc(tu),LQ=tc(Sb),ko=ec;(_b&&ko(new _b(new ArrayBuffer(1)))!=bT||Vf&&ko(new Vf)!=mT||xb&&ko(xb.resolve())!=vT||tu&&ko(new tu)!=yT||Sb&&ko(new Sb)!=AT)&&(ko=function(e){var t=ec(e),n=t==PQ?e.constructor:void 0,r=n?tc(n):"";if(r)switch(r){case MQ:return bT;case jQ:return mT;case OQ:return vT;case VQ:return yT;case LQ:return AT}return t});var NQ=Object.prototype,DQ=NQ.hasOwnProperty;function BQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&DQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ym=qo.Uint8Array;function ES(e){var t=new e.constructor(e.byteLength);return new ym(t).set(new ym(e)),t}function $Q(e,t){var n=t?ES(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var FQ=/\w*$/;function zQ(e){var t=new e.constructor(e.source,FQ.exec(e));return t.lastIndex=e.lastIndex,t}var _T=oo?oo.prototype:void 0,xT=_T?_T.valueOf:void 0;function UQ(e){return xT?Object(xT.call(e)):{}}function HQ(e,t){var n=t?ES(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var GQ="[object Boolean]",qQ="[object Date]",WQ="[object Map]",KQ="[object Number]",YQ="[object RegExp]",QQ="[object Set]",JQ="[object String]",XQ="[object Symbol]",ZQ="[object ArrayBuffer]",eJ="[object DataView]",tJ="[object Float32Array]",nJ="[object Float64Array]",rJ="[object Int8Array]",iJ="[object Int16Array]",oJ="[object Int32Array]",sJ="[object Uint8Array]",aJ="[object Uint8ClampedArray]",lJ="[object Uint16Array]",cJ="[object Uint32Array]";function uJ(e,t,n){var r=e.constructor;switch(t){case ZQ:return ES(e);case GQ:case qQ:return new r(+e);case eJ:return $Q(e,n);case tJ:case nJ:case rJ:case iJ:case oJ:case sJ:case aJ:case lJ:case cJ:return HQ(e,n);case WQ:return new r;case KQ:case JQ:return new r(e);case YQ:return zQ(e);case QQ:return new r;case XQ:return UQ(e)}}var ST=Object.create,dJ=function(){function e(){}return function(t){if(!Fo(t))return{};if(ST)return ST(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function fJ(e){return typeof e.constructor=="function"&&!bS(e)?dJ(wS(e)):{}}var hJ="[object Map]";function pJ(e){return Ds(e)&&ko(e)==hJ}var wT=Su&&Su.isMap,gJ=wT?AS(wT):pJ,mJ="[object Set]";function vJ(e){return Ds(e)&&ko(e)==mJ}var ET=Su&&Su.isSet,yJ=ET?AS(ET):vJ,AJ=1,bJ=2,_J=4,VO="[object Arguments]",xJ="[object Array]",SJ="[object Boolean]",wJ="[object Date]",EJ="[object Error]",LO="[object Function]",kJ="[object GeneratorFunction]",CJ="[object Map]",TJ="[object Number]",NO="[object Object]",IJ="[object RegExp]",RJ="[object Set]",PJ="[object String]",MJ="[object Symbol]",jJ="[object WeakMap]",OJ="[object ArrayBuffer]",VJ="[object DataView]",LJ="[object Float32Array]",NJ="[object Float64Array]",DJ="[object Int8Array]",BJ="[object Int16Array]",$J="[object Int32Array]",FJ="[object Uint8Array]",zJ="[object Uint8ClampedArray]",UJ="[object Uint16Array]",HJ="[object Uint32Array]",Ut={};Ut[VO]=Ut[xJ]=Ut[OJ]=Ut[VJ]=Ut[SJ]=Ut[wJ]=Ut[LJ]=Ut[NJ]=Ut[DJ]=Ut[BJ]=Ut[$J]=Ut[CJ]=Ut[TJ]=Ut[NO]=Ut[IJ]=Ut[RJ]=Ut[PJ]=Ut[MJ]=Ut[FJ]=Ut[zJ]=Ut[UJ]=Ut[HJ]=!0;Ut[EJ]=Ut[LO]=Ut[jJ]=!1;function Sg(e,t,n,r,i,o){var s,a=t&AJ,l=t&bJ,c=t&_J;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!Fo(e))return e;var u=ao(e);if(u){if(s=BQ(e),!a)return RO(e,s)}else{var d=ko(e),h=d==LO||d==kJ;if(vm(e))return wQ(e,a);if(d==NO||d==VO||h&&!i){if(s=l||h?{}:fJ(e),!a)return l?RQ(e,xQ(s,e)):TQ(e,vQ(s,e))}else{if(!Ut[d])return i?e:{};s=uJ(e,d,a)}}o||(o=new ls);var p=o.get(e);if(p)return p;o.set(e,s),yJ(e)?e.forEach(function(b){s.add(Sg(b,t,n,b,e,o))}):gJ(e)&&e.forEach(function(b,v){s.set(v,Sg(b,t,n,v,e,o))});var g=c?l?OO:bb:l?_S:Ih,m=u?void 0:g(e);return TY(m||e,function(b,v){m&&(v=b,b=e[v]),xO(s,v,Sg(b,t,n,v,e,o))}),s}var GJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qJ=/^\w*$/;function kS(e,t){if(ao(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||V0(e)?!0:qJ.test(e)||!GJ.test(e)||t!=null&&e in Object(t)}var WJ=500;function KJ(e){var t=B0(e,function(r){return n.size===WJ&&n.clear(),r}),n=t.cache;return t}var YJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QJ=/\\(\\)?/g,JJ=KJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(YJ,function(n,r,i,o){t.push(i?o.replace(QJ,"$1"):r||n)}),t}),XJ=1/0,kT=oo?oo.prototype:void 0,CT=kT?kT.toString:void 0;function DO(e){if(typeof e=="string")return e;if(ao(e))return vS(e,DO)+"";if(V0(e))return CT?CT.call(e):"";var t=e+"";return t=="0"&&1/e==-XJ?"-0":t}function CS(e){return e==null?"":DO(e)}function Q0(e,t){return ao(e)?e:kS(e,t)?[e]:JJ(CS(e))}function ZJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eX=1/0;function Rh(e){if(typeof e=="string"||V0(e))return e;var t=e+"";return t=="0"&&1/e==-eX?"-0":t}function TS(e,t){t=Q0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Rh(t[n++])];return n&&n==r?e:void 0}function IS(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function tX(e,t){return t.length<2?e:TS(e,IS(t,0,-1))}function nX(e,t){return t=Q0(t,e),e=tX(e,t),e==null||delete e[Rh(ZJ(t))]}var rX="[object Object]",iX=Function.prototype,oX=Object.prototype,BO=iX.toString,sX=oX.hasOwnProperty,aX=BO.call(Object);function lX(e){if(!Ds(e)||ec(e)!=rX)return!1;var t=wS(e);if(t===null)return!0;var n=sX.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&BO.call(n)==aX}function cX(e){return lX(e)?void 0:e}var TT=oo?oo.isConcatSpreadable:void 0;function uX(e){return ao(e)||yS(e)||!!(TT&&e&&e[TT])}function dX(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=uX),i||(i=[]);++o<s;){var a=e[o];n(a)?SS(i,a):i[i.length]=a}return i}function fX(e){var t=e==null?0:e.length;return t?dX(e):[]}function hX(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var IT=Math.max;function pX(e,t,n){return t=IT(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=IT(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),hX(e,this,a)}}function gX(e){return function(){return e}}function $O(e){return e}var mX=mm?function(e,t){return mm(e,"toString",{configurable:!0,enumerable:!1,value:gX(t),writable:!0})}:$O,vX=800,yX=16,AX=Date.now;function bX(e){var t=0,n=0;return function(){var r=AX(),i=yX-(r-n);if(n=r,i>0){if(++t>=vX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _X=bX(mX);function xX(e){return _X(pX(e,void 0,fX),e+"")}var SX=1,wX=2,EX=4,kX=xX(function(e,t){var n={};if(e==null)return n;var r=!1;t=vS(t,function(o){return o=Q0(o,e),r||(r=o.length>1),o}),Th(e,OO(e),n),r&&(n=Sg(n,SX|wX|EX,cX));for(var i=t.length;i--;)nX(n,t[i]);return n});function Uo(e,t=!1){const[n,r]=y.useState(null);return y.useEffect(()=>{const i=(...o)=>{r(o)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Tr(e,t,n=[]){const r=Array.isArray(e)?e:[e];y.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function ki(e,t,n=[]){const r=y.useMemo(t,[]),[i,o]=y.useState(r),s=Array.isArray(e)?e:[e];return y.useEffect(()=>{o(t())},n),y.useEffect(()=>{const a=()=>o(t());return s.forEach(l=>l.subscribe(a)),()=>s.forEach(l=>l.unsubscribe(a))},[...s]),i}var CX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,TX=fO(function(e){return CX.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),IX=TX,RX=function(t){return t!=="theme"},RT=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?IX:RX},PT=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},PX=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return pO(n,r,i),bY(function(){return gO(n,r,i)}),null},I=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=PT(t,n,r),l=a||RT(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=bO(function(m,b,v){var A=c&&m.as||i,_="",S=[],x=m;if(m.theme==null){x={};for(var w in m)x[w]=m[w];x.theme=y.useContext(Ch)}typeof m.className=="string"?_=hY(b.registered,S,m.className):m.className!=null&&(_=m.className+" ");var E=mS(d.concat(S),b.registered,x);_+=b.key+"-"+E.name,s!==void 0&&(_+=" "+s);var C=c&&a===void 0?RT(A):l,j={};for(var L in m)c&&L==="as"||C(L)&&(j[L]=m[L]);return j.className=_,j.ref=v,y.createElement(y.Fragment,null,y.createElement(PX,{cache:b,serialized:E,isStringTag:typeof A=="string"}),y.createElement(A,j))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(m,b){return e(m,Ab({},n,b,{shouldForwardProp:PT(g,b,!0)})).apply(void 0,d)},g}};const wu={animation:"focusAnimation 1000ms ease-in-out infinite both"},MX={boxShadow:`inset 0px 0px 0px 4px ${pe.colors.text.active}`},ze={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:pe.colors.text.active}},Ff="@media (hover: none)",J0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";function jX(){var e=y.useRef(!0);return e.current?(e.current=!1,!0):e.current}var Am=function(){return Am=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Am.apply(this,arguments)};function OX(){var e=y.useRef(!1),t=y.useCallback(function(){return e.current},[]);return y.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function VX(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=y.useRef(0),i=OX(),o=y.useState(n),s=o[0],a=o[1],l=y.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return s.loading||a(function(h){return Am(Am({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[s,l]}function MT(e,t){t===void 0&&(t=[]);var n=VX(e,t,{loading:!0}),r=n[0],i=n[1];return y.useEffect(function(){i()},[i]),r}function LX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function NX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var DX=typeof window<"u",BX=function(e){return(e+1)%1e6};function FO(){var e=y.useReducer(BX,0),t=e[1];return t}var $X=function(e){y.useEffect(e,[])},FX=DX?window:null,jT=function(e){return!!e.addEventListener},OT=function(e){return!!e.on},zX=function(e,t,n,r){n===void 0&&(n=FX),y.useEffect(function(){if(t&&n)return jT(n)?LX(n,e,t,r):OT(n)&&n.on(e,t,r),function(){jT(n)?NX(n,e,t,r):OT(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},zO=function(e,t){var n=y.useRef(function(){});y.useEffect(function(){n.current=e}),y.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},UX=function(e){var t=y.useRef(e);t.current=e,$X(function(){return function(){return t.current()}})};function HX(e){var t=y.useRef();return y.useEffect(function(){t.current=e}),t.current}var GX=function(e,t){return e===t};function qX(e,t){t===void 0&&(t=GX);var n=y.useRef(),r=y.useRef(e),i=jX();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function WX(){const[e,t]=y.useState(null),[n,r]=y.useState(Il.isStarted()),[i,o]=y.useState(Il.getLatency());zO(()=>{o(Il.getLatency())},1e3),Tr(ee.micServerStarted,()=>{r(!0)}),Tr(ee.micServerStopped,()=>{r(!1)});const s=ki([ee.remoteMicConnected,ee.remoteMicDisconnected],()=>et.getRemoteMics(),[n]);return y.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(KX,{children:[f.jsxs(VT,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(VT,{children:[f.jsx("strong",{children:"connected mics"}),": ",s.length]})})]}):null}const KX=I("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",ze,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),VT=I("div",{target:"eeky7rp0"})("");var By=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function $y(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function UO(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function HO(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function YX(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,o=0;o<n.length;o++)r.indexOf(n[o])===-1&&(i=!1);return i}var RS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":By?173:189,"=":By?61:187,";":By?59:186,"'":222,"[":219,"]":221,"\\":220},Na={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},wb={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},dr={16:!1,18:!1,17:!1,91:!1},Dn={};for(var kp=1;kp<20;kp++)RS["f".concat(kp)]=111+kp;var en=[],LT=!1,GO="all",qO=[],X0=function(t){return RS[t.toLowerCase()]||Na[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function WO(e){GO=e||"all"}function zf(){return GO||"all"}function QX(){return en.slice(0)}function JX(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function XX(e){return typeof e=="string"&&(e=X0(e)),en.indexOf(e)!==-1}function ZX(e,t){var n,r;e||(e=zf());for(var i in Dn)if(Object.prototype.hasOwnProperty.call(Dn,i))for(n=Dn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;zf()===e&&WO(t||"all")}function eZ(e){var t=e.keyCode||e.which||e.charCode,n=en.indexOf(t);if(n>=0&&en.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&en.splice(0,en.length),(t===93||t===224)&&(t=91),t in dr){dr[t]=!1;for(var r in Na)Na[r]===t&&(Ai[r]=!1)}}function tZ(e){if(typeof e>"u")Object.keys(Dn).forEach(function(s){return delete Dn[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&Fy(s)});else if(typeof e=="object")e.key&&Fy(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];typeof i=="function"&&(o=i,i=""),Fy({key:e,scope:i,method:o,splitKey:"+"})}}var Fy=function(t){var n=t.key,r=t.scope,i=t.method,o=t.splitKey,s=o===void 0?"+":o,a=HO(n);a.forEach(function(l){var c=l.split(s),u=c.length,d=c[u-1],h=d==="*"?"*":X0(d);if(Dn[h]){r||(r=zf());var p=u>1?UO(Na,c):[];Dn[h]=Dn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&YX(g.mods,p))})}})};function NT(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var o in dr)Object.prototype.hasOwnProperty.call(dr,o)&&(!dr[o]&&t.mods.indexOf(+o)>-1||dr[o]&&t.mods.indexOf(+o)===-1)&&(i=!1);(t.mods.length===0&&!dr[16]&&!dr[18]&&!dr[17]&&!dr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function DT(e,t){var n=Dn["*"],r=e.keyCode||e.which||e.charCode;if(Ai.filter.call(this,e)){if((r===93||r===224)&&(r=91),en.indexOf(r)===-1&&r!==229&&en.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=wb[g];e[g]&&en.indexOf(m)===-1?en.push(m):!e[g]&&en.indexOf(m)>-1?en.splice(en.indexOf(m),1):g==="metaKey"&&e[g]&&en.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(en=en.slice(en.indexOf(m))))}),r in dr){dr[r]=!0;for(var i in Na)Na[i]===r&&(Ai[i]=!0);if(!n)return}for(var o in dr)Object.prototype.hasOwnProperty.call(dr,o)&&(dr[o]=e[wb[o]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(en.indexOf(17)===-1&&en.push(17),en.indexOf(18)===-1&&en.push(18),dr[17]=!0,dr[18]=!0);var s=zf();if(n)for(var a=0;a<n.length;a++)n[a].scope===s&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&NT(e,n[a],s,t);if(r in Dn){for(var l=0;l<Dn[r].length;l++)if((e.type==="keydown"&&Dn[r][l].keydown||e.type==="keyup"&&Dn[r][l].keyup)&&Dn[r][l].key){for(var c=Dn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(X0(d[p]));h.sort().join("")===en.sort().join("")&&NT(e,c,s,t)}}}}function nZ(e){return qO.indexOf(e)>-1}function Ai(e,t,n){en=[];var r=HO(e),i=[],o="all",s=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(o=t.scope),t.element&&(s=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(o=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=UO(Na,e)),e=e[e.length-1],e=e==="*"?"*":X0(e),e in Dn||(Dn[e]=[]),Dn[e].push({keyup:l,keydown:c,scope:o,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:s});typeof s<"u"&&!nZ(s)&&window&&(qO.push(s),$y(s,"keydown",function(h){DT(h,s)},d),LT||(LT=!0,$y(window,"focus",function(){en=[]},d)),$y(s,"keyup",function(h){DT(h,s),eZ(h)},d))}function rZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Dn).forEach(function(n){var r=Dn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var zy={setScope:WO,getScope:zf,deleteScope:ZX,getPressedKeyCodes:QX,isPressed:XX,filter:JX,trigger:rZ,unbind:tZ,keyMap:RS,modifier:Na,modifierMap:wb};for(var Uy in zy)Object.prototype.hasOwnProperty.call(zy,Uy)&&(Ai[Uy]=zy[Uy]);if(typeof window<"u"){var iZ=window.hotkeys;Ai.noConflict=function(e){return e&&window.hotkeys===Ai&&(window.hotkeys=iZ),Ai},window.hotkeys=Ai}Ai.filter=function(){return!0};var KO=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},oZ=function(t){return KO(t,["INPUT","TEXTAREA","SELECT"])};function Lr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},o=i.enableOnTags,s=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=y.useRef(null),b=y.useCallback(function(v,A){var _,S;return s&&!s(v)?!u:oZ(v)&&!KO(v,o)||(_=v.target)!=null&&_.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(S=m.current)!=null&&S.contains(document.activeElement)?(t(v,A),!0):!1},r?[m,o,s].concat(r):[m,o,s]);return y.useEffect(function(){if(!h){Ai.unbind(e,b);return}return a&&l!==!0&&(n.keydown=!1),Ai(e,n||{},b),function(){return Ai.unbind(e,b)}},[b,e,h]),m}Ai.isPressed;const Eb="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var TM,ig,IM;try{(IM=(ig=(TM=global==null?void 0:global.navigator)==null?void 0:TM.keyboard)==null?void 0:ig.lock)==null||IM.call(ig,["Escape"])}catch(e){console.warn(e)}var RM,PM;const sZ=!!((PM=(RM=global==null?void 0:global.navigator)==null?void 0:RM.keyboard)!=null&&PM.lock),ol=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function rc(e,t=!0,n){Tr(ee.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Lr("up",ol(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Lr("down",ol(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Lr("left",ol(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Lr("right",ol(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Lr("Enter",ol(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Lr("Escape,Backspace",ol(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Lr("Shift+R",ol(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function aZ({help:e}){const[t]=Ge(Ar),[n,r]=Ge(ej);Lr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,o])=>o!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(gZ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(QO,{children:"Use indicated keys on your keyboard"}),i.map(([o,s])=>{const{view:a,defaultLabel:l}=pZ[o];return f.jsxs(BT,{children:[f.jsx(FT,{children:s??l}),f.jsx($T,{children:f.jsx(a,{})})]},o)}),f.jsxs(BT,{children:[f.jsx(FT,{children:"Show/hide this help"}),f.jsx($T,{children:YO("h")()})]})]})})})}const PS=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(ss,{disabled:!e,children:""}),f.jsx("br",{}),f.jsx(ss,{disabled:!t,children:""}),f.jsx(ss,{disabled:!e,children:""}),f.jsx(ss,{disabled:!t,children:""})]}),lZ=()=>f.jsx(PS,{horizontal:!0}),cZ=()=>f.jsx(PS,{vertical:!0}),uZ=()=>f.jsx(PS,{vertical:!0,horizontal:!0}),dZ=()=>f.jsx(ss,{children:"Enter "}),fZ=()=>sZ?f.jsx(ss,{children:"Escape"}):f.jsx(ss,{children:"Backspace "}),YO=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(ss,{children:"Shift"})," + ",f.jsx(ss,{children:e.toUpperCase()})]}),hZ=()=>f.jsx(f.Fragment,{children:f.jsx(ss,{children:"start typing"})}),pZ={"horizontal-vertical":{view:uZ,defaultLabel:"Navigate"},horizontal:{view:lZ,defaultLabel:"Navigate"},vertical:{view:cZ,defaultLabel:"Navigate"},accept:{view:dZ,defaultLabel:"Select"},back:{view:fZ,defaultLabel:"Go back"},shiftR:{view:YO("r"),defaultLabel:"Pick random"},alphanumeric:{view:hZ,defaultLabel:"Search"}},BT=I("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),$T=I("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),FT=I("span",{target:"efq3fs03"})("flex:3;",ze,";font-size:2rem;text-align:right;"),QO=I("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",ze,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),gZ=I("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",QO,"{opacity:1;visibility:visible;}}svg{fill:white;}"),ss=I("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),MS=y.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),mZ=({children:e})=>{const[t,n]=y.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>kX(d,[u])),[o,s]=Object.entries(t).at(-1)??[];Tr(ee.remoteMicConnected,({id:u})=>{var d;(d=et.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:s})}),y.useEffect(()=>{et.broadcast({t:"keyboard-layout",help:s})},[o]);const{remote:a,...l}=s??{},c=!!Object.values(l).length;return f.jsxs(MS.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(aZ,{help:l}),f.jsx(WX,{})]})};var vZ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:yZ,mp4:AZ}=vZ,Hy=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Gy=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class bZ{constructor(){if(this.enabled=!1,Gy()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else Hy()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",yZ),this._addSourceToVideo(this.noSleepVideo,"mp4",AZ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return Gy()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):Hy()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){Gy()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):Hy()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var _Z=bZ;const xZ=yr(_Z),SZ="/prs/299/assets/eurovisionbg-CvR5q-FP.svg",jS=y.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),qa=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=y.useContext(jS);y.useEffect(()=>{n(e)},[e,n]),y.useEffect(()=>{r(t)},[t,r])};function wZ({children:e}){const[t,n]=y.useState(!0),[r,i]=y.useState("regular"),[o]=Ge(Qi);return f.jsxs(jS.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(MZ,{"data-theme":r,"data-graphic-level":o,bgtheme:r,children:r==="eurovision"&&f.jsx(kb,{})}),e]})}const EZ={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},kZ=I("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",SZ,");background-size:100% 50%;height:100%;&[data-animate='true']{",EZ,";}"),kb=()=>{var e;return f.jsx(kZ,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},CZ=Ei(`background-image:linear-gradient(
    -45deg,
    `,Me.christmasGreen.text,`,
    `,Me.christmasGreen.stroke,`,
    `,Me.christmasRed.stroke,`,
    `,Me.christmasRed.stroke,`
  );background-size:400% 400%;`,""),TZ={name:"zjik7",styles:"display:flex"},IZ=Ei(`background-image:linear-gradient(
    -45deg,
    `,Me.red.stroke,`,
    `,Me.blue.text,`,
    `,Me.blue.stroke,`,
    `,Me.red.stroke,`
  );background-size:400% 400%;`,""),RZ=I("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),PZ={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},MZ=I(RZ,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",TZ,";}&[data-theme='christmas']{",CZ,";}&[data-theme='regular']{",IZ,";}background-position:100% 50%;&[data-graphic-level='high']{",PZ,";}");function jZ({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function Z0(e){return y.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const OZ=I("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Me.blue.text,";--player-blue-stroke:",Me.blue.stroke,";--player-blue-star-fill:",Me.blue.star.fill,";--player-blue-star-stroke:",Me.blue.star.stroke,";--player-blue-perfect-fill:",Me.blue.perfect.fill,";--player-blue-perfect-stroke:",Me.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Me.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Me.blue.starPerfect.stroke,";--player-blue-hit-fill:",Me.blue.hit.fill,";--player-blue-hit-stroke:",Me.blue.hit.stroke,";--player-blue-miss-fill:",Me.blue.miss.fill,";--player-blue-miss-stroke:",Me.blue.miss.stroke,";}h1{",ze,";margin:0;text-align:center;font-size:4rem;color:",pe.colors.text.active,";}h2{",ze,";margin:0;font-size:2.9rem;}h3{",ze,";margin:0;font-size:2.7rem;strong{color:",pe.colors.text.active,";}}h4{",ze,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",ze,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",ze,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",ze,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",pe.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",ze,";color:",pe.colors.text.active,";text-decoration:underline;}strong{color:",pe.colors.text.active,";}");var OS={},JO={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(JO);var rt=JO.exports,qy={};function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(null,arguments)}function ua(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function XO(e){if(!ua(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=XO(e[n])}),t}function No(e,t,n={clone:!0}){const r=n.clone?ie({},e):e;return ua(e)&&ua(t)&&Object.keys(t).forEach(i=>{ua(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&ua(e[i])?r[i]=No(e[i],t[i],n):n.clone?r[i]=ua(t[i])?XO(t[i]):t[i]:r[i]=t[i]}),r}const VZ=Object.freeze(Object.defineProperty({__proto__:null,default:No,isPlainObject:ua},Symbol.toStringTag,{value:"Module"}));var ZO={exports:{}},LZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NZ=LZ,DZ=NZ;function eV(){}function tV(){}tV.resetWarningCache=eV;var BZ=function(){function e(r,i,o,s,a,l){if(l!==DZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tV,resetWarningCache:eV};return n.PropTypes=n,n};ZO.exports=BZ();var $Z=ZO.exports;const Je=yr($Z);function zl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const FZ=Object.freeze(Object.defineProperty({__proto__:null,default:zl},Symbol.toStringTag,{value:"Module"}));var nV={exports:{}},Mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=Symbol.for("react.element"),LS=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),nv=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),iv=Symbol.for("react.context"),zZ=Symbol.for("react.server_context"),ov=Symbol.for("react.forward_ref"),sv=Symbol.for("react.suspense"),av=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),cv=Symbol.for("react.lazy"),UZ=Symbol.for("react.offscreen"),rV;rV=Symbol.for("react.module.reference");function po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case VS:switch(e=e.type,e){case ev:case nv:case tv:case sv:case av:return e;default:switch(e=e&&e.$$typeof,e){case zZ:case iv:case ov:case cv:case lv:case rv:return e;default:return t}}case LS:return t}}}Mt.ContextConsumer=iv;Mt.ContextProvider=rv;Mt.Element=VS;Mt.ForwardRef=ov;Mt.Fragment=ev;Mt.Lazy=cv;Mt.Memo=lv;Mt.Portal=LS;Mt.Profiler=nv;Mt.StrictMode=tv;Mt.Suspense=sv;Mt.SuspenseList=av;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(e){return po(e)===iv};Mt.isContextProvider=function(e){return po(e)===rv};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===VS};Mt.isForwardRef=function(e){return po(e)===ov};Mt.isFragment=function(e){return po(e)===ev};Mt.isLazy=function(e){return po(e)===cv};Mt.isMemo=function(e){return po(e)===lv};Mt.isPortal=function(e){return po(e)===LS};Mt.isProfiler=function(e){return po(e)===nv};Mt.isStrictMode=function(e){return po(e)===tv};Mt.isSuspense=function(e){return po(e)===sv};Mt.isSuspenseList=function(e){return po(e)===av};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ev||e===nv||e===tv||e===sv||e===av||e===UZ||typeof e=="object"&&e!==null&&(e.$$typeof===cv||e.$$typeof===lv||e.$$typeof===rv||e.$$typeof===iv||e.$$typeof===ov||e.$$typeof===rV||e.getModuleId!==void 0)};Mt.typeOf=po;nV.exports=Mt;var zT=nV.exports;const HZ=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function iV(e){const t=`${e}`.match(HZ);return t&&t[1]||""}function oV(e,t=""){return e.displayName||e.name||iV(e)||t}function UT(e,t,n){const r=oV(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function GZ(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return oV(e,"Component");if(typeof e=="object")switch(e.$$typeof){case zT.ForwardRef:return UT(e,e.render,"ForwardRef");case zT.Memo:return UT(e,e.type,"memo");default:return}}}const qZ=Object.freeze(Object.defineProperty({__proto__:null,default:GZ,getFunctionName:iV},Symbol.toStringTag,{value:"Module"}));function nt(e){if(typeof e!="string")throw new Error(zl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const WZ=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"}));function Cb(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function KZ(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function YZ(e,t){return()=>null}function QZ(e,t){var n,r;return y.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Os(e){return e&&e.ownerDocument||document}function uv(e){return Os(e).defaultView||window}function JZ(e,t){return()=>null}function bm(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const _m=typeof window<"u"?y.useLayoutEffect:y.useEffect;let HT=0;function XZ(e){const[t,n]=y.useState(e),r=e||t;return y.useEffect(()=>{t==null&&(HT+=1,n(`mui-${HT}`))},[t]),r}const GT=Bg.useId;function sV(e){if(GT!==void 0){const t=GT();return e??t}return XZ(e)}function ZZ(e,t,n,r,i){return null}function eee({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=y.useRef(e!==void 0),[o,s]=y.useState(t),a=i?e:o,l=y.useCallback(c=>{i||s(c)},[]);return[a,l]}function vl(e){const t=y.useRef(e);return _m(()=>{t.current=e}),y.useRef((...n)=>(0,t.current)(...n)).current}function Da(...e){return y.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{bm(n,t)})},e)}const qT={};function tee(e,t){const n=y.useRef(qT);return n.current===qT&&(n.current=e(t)),n}const nee=[];function ree(e){y.useEffect(e,nee)}class dv{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new dv}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function iee(){const e=tee(dv.create).current;return ree(e.disposeEffect),e}let fv=!0,Tb=!1;const oee=new dv,see={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function aee(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&see[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function lee(e){e.metaKey||e.altKey||e.ctrlKey||(fv=!0)}function Wy(){fv=!1}function cee(){this.visibilityState==="hidden"&&Tb&&(fv=!0)}function uee(e){e.addEventListener("keydown",lee,!0),e.addEventListener("mousedown",Wy,!0),e.addEventListener("pointerdown",Wy,!0),e.addEventListener("touchstart",Wy,!0),e.addEventListener("visibilitychange",cee,!0)}function dee(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return fv||aee(t)}function aV(){const e=y.useCallback(i=>{i!=null&&uee(i.ownerDocument)},[]),t=y.useRef(!1);function n(){return t.current?(Tb=!0,oee.start(100,()=>{Tb=!1}),t.current=!1,!0):!1}function r(i){return dee(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function fee(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function xm(e,t){const n=ie({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=ie({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=ie({},o),Object.keys(i).forEach(s=>{n[r][s]=xm(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Gr(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const WT=e=>e,hee=()=>{let e=WT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=WT}}},lV=hee(),pee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rr(e,t,n="Mui"){const r=pee[t];return r?`${n}-${r}`:`${lV.generate(e)}-${t}`}function Pr(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Rr(e,i,n)}),r}function cV(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const gee=Object.freeze(Object.defineProperty({__proto__:null,default:cV},Symbol.toStringTag,{value:"Module"}));function jt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=uV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=uV(e))&&(r&&(r+=" "),r+=t);return r}const dV=y.createContext(void 0);function mee({value:e,children:t}){return f.jsx(dV.Provider,{value:e,children:t})}function vee(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?xm(i.defaultProps,r):!i.styleOverrides&&!i.variants?xm(i,r):r}function yee({props:e,name:t}){const n=y.useContext(dV);return vee({props:e,name:t,theme:{components:n}})}function Mr(e){return yee(e)}var Ph={},Ky={exports:{}},KT;function Aee(){return KT||(KT=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ky)),Ky.exports}var Yy={exports:{}},YT;function bee(){return YT||(YT=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)>=0)continue;i[o]=n[o]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Yy)),Yy.exports}var _ee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ib=I.bind();_ee.forEach(function(e){Ib[e]=Ib(e)});let Rb;typeof document=="object"&&(Rb=gS({key:"css",prepend:!0}));function xee(e){const{injectFirst:t,children:n}=e;return t&&Rb?f.jsx(AO,{value:Rb,children:n}):n}function See(e){return e==null||Object.keys(e).length===0}function wee(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(See(i)?n:i):t;return f.jsx(_Y,{styles:r})}function Eee(e,t){return Ib(e,t)}const kee=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Cee=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:wee,StyledEngineProvider:xee,ThemeContext:Ch,css:Ei,default:Eee,internal_processStyles:kee,keyframes:Ga},Symbol.toStringTag,{value:"Module"})),Tee=fs(Cee),Iee=fs(VZ),Ree=fs(WZ),Pee=fs(qZ),Mee=["values","unit","step"],jee=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>ie({},n,{[r.key]:r.val}),{})};function fV(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=jt(e,Mee),o=jee(t),s=Object.keys(o);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=s.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[s[g]]=="number"?t[s[g]]:p)-r/100}${n})`}function u(h){return s.indexOf(h)+1<s.length?c(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return ie({keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const Oee={borderRadius:4};function af(e,t){return t?No(e,t,{clone:!1}):e}const NS={xs:0,sm:600,md:900,lg:1200,xl:1536},QT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${NS[e]}px)`};function Fs(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||QT;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||QT;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||NS).indexOf(a)!==-1){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function hV(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function pV(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function W_e(e,...t){const n=hV(e),r=[n,...t].reduce((i,o)=>No(i,o),{});return pV(Object.keys(n),r)}function Vee(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function K_e({values:e,breakpoints:t,base:n}){const r=n||Vee(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,l)=>(Array.isArray(e)?(s[a]=e[l]!=null?e[l]:e[o],o=l):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function hv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Sm(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=hv(e,n)||r,t&&(i=t(i,r,e)),i}function jn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=hv(l,r)||{};return Fs(s,a,d=>{let h=Sm(c,i,d);return d===h&&typeof d=="string"&&(h=Sm(c,i,`${t}${d==="default"?"":nt(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[t],o}function Lee(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Nee={m:"margin",p:"padding"},Dee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},JT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Bee=Lee(e=>{if(e.length>2)if(JT[e])e=JT[e];else return[e];const[t,n]=e.split(""),r=Nee[t],i=Dee[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),DS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],BS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...DS,...BS];function Mh(e,t,n,r){var i;const o=(i=hv(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function gV(e){return Mh(e,"spacing",8)}function jh(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function $ee(e,t){return n=>e.reduce((r,i)=>(r[i]=jh(t,n),r),{})}function Fee(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=Bee(n),o=$ee(i,r),s=e[n];return Fs(e,s,o)}function mV(e,t){const n=gV(e.theme);return Object.keys(e).map(r=>Fee(e,t,r,n)).reduce(af,{})}function vn(e){return mV(e,DS)}vn.propTypes={};vn.filterProps=DS;function yn(e){return mV(e,BS)}yn.propTypes={};yn.filterProps=BS;function zee(e=8){if(e.mui)return e;const t=gV({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function pv(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?af(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function qi(e){return typeof e!="number"?e:`${e}px solid`}function go(e,t){return jn({prop:e,themeKey:"borders",transform:t})}const Uee=go("border",qi),Hee=go("borderTop",qi),Gee=go("borderRight",qi),qee=go("borderBottom",qi),Wee=go("borderLeft",qi),Kee=go("borderColor"),Yee=go("borderTopColor"),Qee=go("borderRightColor"),Jee=go("borderBottomColor"),Xee=go("borderLeftColor"),Zee=go("outline",qi),ete=go("outlineColor"),gv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Mh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:jh(t,r)});return Fs(e,e.borderRadius,n)}return null};gv.propTypes={};gv.filterProps=["borderRadius"];pv(Uee,Hee,Gee,qee,Wee,Kee,Yee,Qee,Jee,Xee,gv,Zee,ete);const mv=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Mh(e.theme,"spacing",8),n=r=>({gap:jh(t,r)});return Fs(e,e.gap,n)}return null};mv.propTypes={};mv.filterProps=["gap"];const vv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Mh(e.theme,"spacing",8),n=r=>({columnGap:jh(t,r)});return Fs(e,e.columnGap,n)}return null};vv.propTypes={};vv.filterProps=["columnGap"];const yv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Mh(e.theme,"spacing",8),n=r=>({rowGap:jh(t,r)});return Fs(e,e.rowGap,n)}return null};yv.propTypes={};yv.filterProps=["rowGap"];const tte=jn({prop:"gridColumn"}),nte=jn({prop:"gridRow"}),rte=jn({prop:"gridAutoFlow"}),ite=jn({prop:"gridAutoColumns"}),ote=jn({prop:"gridAutoRows"}),ste=jn({prop:"gridTemplateColumns"}),ate=jn({prop:"gridTemplateRows"}),lte=jn({prop:"gridTemplateAreas"}),cte=jn({prop:"gridArea"});pv(mv,vv,yv,tte,nte,rte,ite,ote,ste,ate,lte,cte);function nu(e,t){return t==="grey"?t:e}const ute=jn({prop:"color",themeKey:"palette",transform:nu}),dte=jn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:nu}),fte=jn({prop:"backgroundColor",themeKey:"palette",transform:nu});pv(ute,dte,fte);function mi(e){return e<=1&&e!==0?`${e*100}%`:e}const hte=jn({prop:"width",transform:mi}),$S=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const o=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||NS[n];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:mi(n)}};return Fs(e,e.maxWidth,t)}return null};$S.filterProps=["maxWidth"];const pte=jn({prop:"minWidth",transform:mi}),gte=jn({prop:"height",transform:mi}),mte=jn({prop:"maxHeight",transform:mi}),vte=jn({prop:"minHeight",transform:mi});jn({prop:"size",cssProperty:"width",transform:mi});jn({prop:"size",cssProperty:"height",transform:mi});const yte=jn({prop:"boxSizing"});pv(hte,$S,pte,gte,mte,vte,yte);const Oh={border:{themeKey:"borders",transform:qi},borderTop:{themeKey:"borders",transform:qi},borderRight:{themeKey:"borders",transform:qi},borderBottom:{themeKey:"borders",transform:qi},borderLeft:{themeKey:"borders",transform:qi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:gv},color:{themeKey:"palette",transform:nu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:nu},backgroundColor:{themeKey:"palette",transform:nu},p:{style:yn},pt:{style:yn},pr:{style:yn},pb:{style:yn},pl:{style:yn},px:{style:yn},py:{style:yn},padding:{style:yn},paddingTop:{style:yn},paddingRight:{style:yn},paddingBottom:{style:yn},paddingLeft:{style:yn},paddingX:{style:yn},paddingY:{style:yn},paddingInline:{style:yn},paddingInlineStart:{style:yn},paddingInlineEnd:{style:yn},paddingBlock:{style:yn},paddingBlockStart:{style:yn},paddingBlockEnd:{style:yn},m:{style:vn},mt:{style:vn},mr:{style:vn},mb:{style:vn},ml:{style:vn},mx:{style:vn},my:{style:vn},margin:{style:vn},marginTop:{style:vn},marginRight:{style:vn},marginBottom:{style:vn},marginLeft:{style:vn},marginX:{style:vn},marginY:{style:vn},marginInline:{style:vn},marginInlineStart:{style:vn},marginInlineEnd:{style:vn},marginBlock:{style:vn},marginBlockStart:{style:vn},marginBlockEnd:{style:vn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:mv},rowGap:{style:yv},columnGap:{style:vv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mi},maxWidth:{style:$S},minWidth:{transform:mi},height:{transform:mi},maxHeight:{transform:mi},minHeight:{transform:mi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Ate(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function bte(e,t){return typeof e=="function"?e(t):e}function vV(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=hv(i,c)||{};return d?d(s):Fs(s,r,g=>{let m=Sm(h,u,g);return g===m&&typeof g=="string"&&(m=Sm(h,u,`${n}${g==="default"?"":nt(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:Oh;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=hV(o.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=bte(c[p],o);if(g!=null)if(typeof g=="object")if(s[p])h=af(h,e(p,g,o,s));else{const m=Fs({theme:o},g,b=>({[p]:b}));Ate(m,g)?h[p]=t({sx:g,theme:o}):h=af(h,m)}else h=af(h,e(p,g,o,s))}),pV(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const Av=vV();Av.filterProps=["sx"];function yV(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const _te=["breakpoints","palette","spacing","shape"];function FS(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=jt(e,_te),a=fV(n),l=zee(i);let c=No({breakpoints:a,direction:"ltr",components:{},palette:ie({mode:"light"},r),spacing:l,shape:ie({},Oee,o)},s);return c.applyStyles=yV,c=t.reduce((u,d)=>No(u,d),c),c.unstable_sxConfig=ie({},Oh,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Av({sx:d,theme:this})},c}const xte=Object.freeze(Object.defineProperty({__proto__:null,default:FS,private_createBreakpoints:fV,unstable_applyStyles:yV},Symbol.toStringTag,{value:"Module"})),Ste=fs(xte),wte=["sx"],Ete=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Oh;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function AV(e){const{sx:t}=e,n=jt(e,wte),{systemProps:r,otherProps:i}=Ete(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return ua(a)?ie({},r,a):r}:o=ie({},r,t),ie({},i,{sx:o})}const kte=Object.freeze(Object.defineProperty({__proto__:null,default:Av,extendSxProp:AV,unstable_createStyleFunctionSx:vV,unstable_defaultSxConfig:Oh},Symbol.toStringTag,{value:"Module"})),Cte=fs(kte);var Qu=rt;Object.defineProperty(Ph,"__esModule",{value:!0});var Tte=Ph.default=Fte;Ph.shouldForwardProp=wg;Ph.systemDefaultTheme=void 0;var $i=Qu(Aee()),Pb=Qu(bee()),XT=Vte(Tee),Ite=Iee;Qu(Ree);Qu(Pee);var Rte=Qu(Ste),Pte=Qu(Cte);const Mte=["ownerState"],jte=["variants"],Ote=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bV(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(bV=function(r){return r?n:t})(e)}function Vte(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=bV(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Lte(e){return Object.keys(e).length===0}function Nte(e){return typeof e=="string"&&e.charCodeAt(0)>96}function wg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Dte=Ph.systemDefaultTheme=(0,Rte.default)(),Bte=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Cp({defaultTheme:e,theme:t,themeId:n}){return Lte(t)?e:t[n]||t}function $te(e){return e?(t,n)=>n[e]:null}function Eg(e,t){let{ownerState:n}=t,r=(0,Pb.default)(t,Mte);const i=typeof e=="function"?e((0,$i.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(o=>Eg(o,(0,$i.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,Pb.default)(i,jte);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,$i.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,$i.default)({ownerState:n},r,n)):l.style))}),a}return i}function Fte(e={}){const{themeId:t,defaultTheme:n=Dte,rootShouldForwardProp:r=wg,slotShouldForwardProp:i=wg}=e,o=s=>(0,Pte.default)((0,$i.default)({},s,{theme:Cp((0,$i.default)({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,XT.internal_processStyles)(s,x=>x.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=$te(Bte(c))}=a,p=(0,Pb.default)(a,Ote),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let b,v=wg;c==="Root"||c==="root"?v=r:c?v=i:Nte(s)&&(v=void 0);const A=(0,XT.default)(s,(0,$i.default)({shouldForwardProp:v,label:b},p)),_=x=>typeof x=="function"&&x.__emotion_real!==x||(0,Ite.isPlainObject)(x)?w=>Eg(x,(0,$i.default)({},w,{theme:Cp({theme:w.theme,defaultTheme:n,themeId:t})})):x,S=(x,...w)=>{let E=_(x);const C=w?w.map(_):[];l&&h&&C.push(B=>{const U=Cp((0,$i.default)({},B,{defaultTheme:n,themeId:t}));if(!U.components||!U.components[l]||!U.components[l].styleOverrides)return null;const P=U.components[l].styleOverrides,V={};return Object.entries(P).forEach(([R,k])=>{V[R]=Eg(k,(0,$i.default)({},B,{theme:U}))}),h(B,V)}),l&&!g&&C.push(B=>{var U;const P=Cp((0,$i.default)({},B,{defaultTheme:n,themeId:t})),V=P==null||(U=P.components)==null||(U=U[l])==null?void 0:U.variants;return Eg({variants:V},(0,$i.default)({},B,{theme:P}))}),m||C.push(o);const j=C.length-w.length;if(Array.isArray(x)&&j>0){const B=new Array(j).fill("");E=[...x,...B],E.raw=[...x.raw,...B]}const L=A(E,...C);return s.muiName&&(L.muiName=s.muiName),L};return A.withConfig&&(S.withConfig=A.withConfig),S}}function zte(e,t){return ie({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var On={};const Ute=fs(FZ),Hte=fs(gee);var _V=rt;Object.defineProperty(On,"__esModule",{value:!0});var ya=On.alpha=EV;On.blend=rne;On.colorChannel=void 0;var Gte=On.darken=US;On.decomposeColor=lo;On.emphasize=kV;var qte=On.getContrastRatio=Xte;On.getLuminance=wm;On.hexToRgb=xV;On.hslToRgb=wV;var Wte=On.lighten=HS;On.private_safeAlpha=Zte;On.private_safeColorChannel=void 0;On.private_safeDarken=ene;On.private_safeEmphasize=nne;On.private_safeLighten=tne;On.recomposeColor=Ju;On.rgbToHex=Jte;var ZT=_V(Ute),Kte=_V(Hte);function zS(e,t=0,n=1){return(0,Kte.default)(e,t,n)}function xV(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Yte(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function lo(e){if(e.type)return e;if(e.charAt(0)==="#")return lo(xV(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,ZT.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,ZT.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const SV=e=>{const t=lo(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};On.colorChannel=SV;const Qte=(e,t)=>{try{return SV(e)}catch{return e}};On.private_safeColorChannel=Qte;function Ju(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Jte(e){if(e.indexOf("#")===0)return e;const{values:t}=lo(e);return`#${t.map((n,r)=>Yte(r===3?Math.round(255*n):n)).join("")}`}function wV(e){e=lo(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Ju({type:a,values:l})}function wm(e){e=lo(e);let t=e.type==="hsl"||e.type==="hsla"?lo(wV(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Xte(e,t){const n=wm(e),r=wm(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function EV(e,t){return e=lo(e),t=zS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ju(e)}function Zte(e,t,n){try{return EV(e,t)}catch{return e}}function US(e,t){if(e=lo(e),t=zS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ju(e)}function ene(e,t,n){try{return US(e,t)}catch{return e}}function HS(e,t){if(e=lo(e),t=zS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ju(e)}function tne(e,t,n){try{return HS(e,t)}catch{return e}}function kV(e,t=.15){return wm(e)>.5?US(e,t):HS(e,t)}function nne(e,t,n){try{return kV(e,t)}catch{return e}}function rne(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),o=lo(e),s=lo(t),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return Ju({type:"rgb",values:a})}const Uf={black:"#000",white:"#fff"},ine={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},hc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},pc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},md={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},gc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},mc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},vc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},one=["mode","contrastThreshold","tonalOffset"],eI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Uf.white,default:Uf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qy={text:{primary:Uf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Uf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function tI(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Wte(e.main,i):t==="dark"&&(e.dark=Gte(e.main,o)))}function sne(e="light"){return e==="dark"?{main:gc[200],light:gc[50],dark:gc[400]}:{main:gc[700],light:gc[400],dark:gc[800]}}function ane(e="light"){return e==="dark"?{main:hc[200],light:hc[50],dark:hc[400]}:{main:hc[500],light:hc[300],dark:hc[700]}}function lne(e="light"){return e==="dark"?{main:pc[500],light:pc[300],dark:pc[700]}:{main:pc[700],light:pc[400],dark:pc[800]}}function cne(e="light"){return e==="dark"?{main:mc[400],light:mc[300],dark:mc[700]}:{main:mc[700],light:mc[500],dark:mc[900]}}function une(e="light"){return e==="dark"?{main:vc[400],light:vc[300],dark:vc[700]}:{main:vc[800],light:vc[500],dark:vc[900]}}function dne(e="light"){return e==="dark"?{main:md[400],light:md[300],dark:md[700]}:{main:"#ed6c02",light:md[500],dark:md[900]}}function fne(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=jt(e,one),o=e.primary||sne(t),s=e.secondary||ane(t),a=e.error||lne(t),l=e.info||cne(t),c=e.success||une(t),u=e.warning||dne(t);function d(m){return qte(m,Qy.text.primary)>=n?Qy.text.primary:eI.text.primary}const h=({color:m,name:b,mainShade:v=500,lightShade:A=300,darkShade:_=700})=>{if(m=ie({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(zl(11,b?` (${b})`:"",v));if(typeof m.main!="string")throw new Error(zl(12,b?` (${b})`:"",JSON.stringify(m.main)));return tI(m,"light",A,r),tI(m,"dark",_,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Qy,light:eI};return No(ie({common:ie({},Uf),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:ine,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const hne=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function pne(e){return Math.round(e*1e5)/1e5}const nI={textTransform:"uppercase"},rI='"Roboto", "Helvetica", "Arial", sans-serif';function gne(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=rI,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=jt(n,hne),p=i/14,g=d||(v=>`${v/c*p}rem`),m=(v,A,_,S,x)=>ie({fontFamily:r,fontWeight:v,fontSize:g(A),lineHeight:_},r===rI?{letterSpacing:`${pne(S/A)}em`}:{},x,u),b={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,nI),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,nI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return No(ie({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),h,{clone:!1})}const mne=.2,vne=.14,yne=.12;function Zt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${mne})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${vne})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${yne})`].join(",")}const Ane=["none",Zt(0,2,1,-1,0,1,1,0,0,1,3,0),Zt(0,3,1,-2,0,2,2,0,0,1,5,0),Zt(0,3,3,-2,0,3,4,0,0,1,8,0),Zt(0,2,4,-1,0,4,5,0,0,1,10,0),Zt(0,3,5,-1,0,5,8,0,0,1,14,0),Zt(0,3,5,-1,0,6,10,0,0,1,18,0),Zt(0,4,5,-2,0,7,10,1,0,2,16,1),Zt(0,5,5,-3,0,8,10,1,0,3,14,2),Zt(0,5,6,-3,0,9,12,1,0,3,16,2),Zt(0,6,6,-3,0,10,14,1,0,4,18,3),Zt(0,6,7,-4,0,11,15,1,0,4,20,3),Zt(0,7,8,-4,0,12,17,2,0,5,22,4),Zt(0,7,8,-4,0,13,19,2,0,5,24,4),Zt(0,7,9,-4,0,14,21,2,0,5,26,4),Zt(0,8,9,-5,0,15,22,2,0,6,28,5),Zt(0,8,10,-5,0,16,24,2,0,6,30,5),Zt(0,8,11,-5,0,17,26,2,0,6,32,5),Zt(0,9,11,-5,0,18,28,2,0,7,34,6),Zt(0,9,12,-6,0,19,29,2,0,7,36,6),Zt(0,10,13,-6,0,20,31,3,0,8,38,7),Zt(0,10,13,-6,0,21,33,3,0,8,40,7),Zt(0,10,14,-6,0,22,35,3,0,8,42,7),Zt(0,11,14,-7,0,23,36,3,0,9,44,8),Zt(0,11,15,-7,0,24,38,3,0,9,46,8)],bne=["duration","easing","delay"],_ne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function iI(e){return`${Math.round(e)}ms`}function Sne(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function wne(e){const t=ie({},_ne,e.easing),n=ie({},xne,e.duration);return ie({getAutoHeightDuration:Sne,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0}=o;return jt(o,bne),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:iI(s)} ${a} ${typeof l=="string"?l:iI(l)}`).join(",")}},e,{easing:t,duration:n})}const Ene={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kne=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function CV(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=jt(e,kne);if(e.vars)throw new Error(zl(18));const a=fne(r),l=FS(e);let c=No(l,{mixins:zte(l.breakpoints,n),palette:a,shadows:Ane.slice(),typography:gne(a,o),transitions:wne(i),zIndex:ie({},Ene)});return c=No(c,s),c=t.reduce((u,d)=>No(u,d),c),c.unstable_sxConfig=ie({},Oh,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Av({sx:d,theme:this})},c}const TV=CV(),Em="$$material";function Cne(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const GS=e=>Cne(e)&&e!=="classes",Qt=Tte({themeId:Em,defaultTheme:TV,rootShouldForwardProp:GS});function Tne(e){return Rr("MuiSvgIcon",e)}Pr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ine=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Rne=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${nt(t)}`,`fontSize${nt(n)}`]};return Gr(i,Tne,r)},Pne=Qt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${nt(n.color)}`],t[`fontSize${nt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),Mb=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=jt(r,Ine),g=y.isValidElement(i)&&i.type==="svg",m=ie({},r,{color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),b={};u||(b.viewBox=h);const v=Rne(m);return f.jsxs(Pne,ie({as:a,className:At(v.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},b,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});Mb.muiName="SvgIcon";function Mne(e,t){function n(r,i){return f.jsx(Mb,ie({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=Mb.muiName,y.memo(y.forwardRef(n))}const jne={configure:e=>{lV.configure(e)}},One=Object.freeze(Object.defineProperty({__proto__:null,capitalize:nt,createChainedFunction:Cb,createSvgIcon:Mne,debounce:KZ,deprecatedPropType:YZ,isMuiElement:QZ,ownerDocument:Os,ownerWindow:uv,requirePropFactory:JZ,setRef:bm,unstable_ClassNameGenerator:jne,unstable_useEnhancedEffect:_m,unstable_useId:sV,unsupportedProp:ZZ,useControlled:eee,useEventCallback:vl,useForkRef:Da,useIsFocusVisible:aV},Symbol.toStringTag,{value:"Module"})),Vne=fs(One);var oI;function dt(){return oI||(oI=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Vne}(qy)),qy}var Lne=rt;Object.defineProperty(OS,"__esModule",{value:!0});var IV=OS.default=void 0,Nne=Lne(dt()),Dne=f;IV=OS.default=(0,Nne.default)((0,Dne.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var qS={},Bne=rt;Object.defineProperty(qS,"__esModule",{value:!0});var RV=qS.default=void 0,$ne=Bne(dt()),Fne=f;RV=qS.default=(0,$ne.default)((0,Fne.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var WS={},zne=rt;Object.defineProperty(WS,"__esModule",{value:!0});var Hf=WS.default=void 0,Une=zne(dt()),Hne=f;Hf=WS.default=(0,Une.default)((0,Hne.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function jb(e,t){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jb(e,t)}function PV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jb(e,t)}var MV={exports:{}},Pi={},jV={exports:{}},OV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,z){var $=O.length;O.push(z);e:for(;0<$;){var G=$-1>>>1,H=O[G];if(0<i(H,z))O[G]=z,O[$]=H,$=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],$=O.pop();if($!==z){O[0]=$;e:for(var G=0,H=O.length,ne=H>>>1;G<ne;){var N=2*(G+1)-1,ue=O[N],Z=N+1,ae=O[Z];if(0>i(ue,$))Z<H&&0>i(ae,ue)?(O[G]=ae,O[Z]=$,G=Z):(O[G]=ue,O[N]=$,G=N);else if(Z<H&&0>i(ae,$))O[G]=ae,O[Z]=$,G=Z;else break e}}return z}function i(O,z){var $=O.sortIndex-z.sortIndex;return $!==0?$:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=O)r(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(c)}}function S(O){if(m=!1,_(O),!g)if(n(l)!==null)g=!0,k(x);else{var z=n(c);z!==null&&D(S,z.startTime-O)}}function x(O,z){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var $=h;try{for(_(z),d=n(l);d!==null&&(!(d.expirationTime>z)||O&&!B());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var H=G(d.expirationTime<=z);z=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),_(z)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var N=n(c);N!==null&&D(S,N.startTime-z),ne=!1}return ne}finally{d=null,h=$,p=!1}}var w=!1,E=null,C=-1,j=5,L=-1;function B(){return!(e.unstable_now()-L<j)}function U(){if(E!==null){var O=e.unstable_now();L=O;var z=!0;try{z=E(!0,O)}finally{z?P():(w=!1,E=null)}}else w=!1}var P;if(typeof A=="function")P=function(){A(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,R=V.port2;V.port1.onmessage=U,P=function(){R.postMessage(null)}}else P=function(){b(U,0)};function k(O){E=O,w||(w=!0,P())}function D(O,z){C=b(function(){O(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,k(x))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var $=h;h=z;try{return O()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=h;h=O;try{return z()}finally{h=$}},e.unstable_scheduleCallback=function(O,z,$){var G=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,O={id:u++,callback:z,priorityLevel:O,startTime:$,expirationTime:H,sortIndex:-1},$>G?(O.sortIndex=$,t(c,O),n(l)===null&&O===n(c)&&(m?(v(C),C=-1):m=!0,D(S,$-G))):(O.sortIndex=H,t(l,O),g||p||(g=!0,k(x))),O},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(O){var z=h;return function(){var $=h;h=z;try{return O.apply(this,arguments)}finally{h=$}}}})(OV);jV.exports=OV;var Gne=jV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VV=y,Ci=Gne;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LV=new Set,Gf={};function ic(e,t){Eu(e,t),Eu(e+"Capture",t)}function Eu(e,t){for(Gf[e]=t,e=0;e<t.length;e++)LV.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ob=Object.prototype.hasOwnProperty,qne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sI={},aI={};function Wne(e){return Ob.call(aI,e)?!0:Ob.call(sI,e)?!1:qne.test(e)?aI[e]=!0:(sI[e]=!0,!1)}function Kne(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yne(e,t,n,r){if(t===null||typeof t>"u"||Kne(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new qr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new qr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new qr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new qr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new qr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new qr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new qr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new qr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new qr(e,5,!1,e.toLowerCase(),null,!1,!1)});var KS=/[\-:]([a-z])/g;function YS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(KS,YS);vr[t]=new qr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(KS,YS);vr[t]=new qr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(KS,YS);vr[t]=new qr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new qr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new qr(e,1,!1,e.toLowerCase(),null,!0,!0)});function QS(e,t,n,r){var i=vr.hasOwnProperty(t)?vr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yne(t,n,i,r)&&(n=null),r||i===null?Wne(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Js=VV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tp=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),jc=Symbol.for("react.fragment"),JS=Symbol.for("react.strict_mode"),Vb=Symbol.for("react.profiler"),NV=Symbol.for("react.provider"),DV=Symbol.for("react.context"),XS=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Nb=Symbol.for("react.suspense_list"),ZS=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),BV=Symbol.for("react.offscreen"),lI=Symbol.iterator;function vd(e){return e===null||typeof e!="object"?null:(e=lI&&e[lI]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,Jy;function Ld(e){if(Jy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jy=t&&t[1]||""}return`
`+Jy+e}var Xy=!1;function Zy(e,t){if(!e||Xy)return"";Xy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Xy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ld(e):""}function Qne(e){switch(e.tag){case 5:return Ld(e.type);case 16:return Ld("Lazy");case 13:return Ld("Suspense");case 19:return Ld("SuspenseList");case 0:case 2:case 15:return e=Zy(e.type,!1),e;case 11:return e=Zy(e.type.render,!1),e;case 1:return e=Zy(e.type,!0),e;default:return""}}function Db(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jc:return"Fragment";case Mc:return"Portal";case Vb:return"Profiler";case JS:return"StrictMode";case Lb:return"Suspense";case Nb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DV:return(e.displayName||"Context")+".Consumer";case NV:return(e._context.displayName||"Context")+".Provider";case XS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ZS:return t=e.displayName||null,t!==null?t:Db(e.type)||"Memo";case la:t=e._payload,e=e._init;try{return Db(e(t))}catch{}}return null}function Jne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Db(t);case 8:return t===JS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $V(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xne(e){var t=$V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ip(e){e._valueTracker||(e._valueTracker=Xne(e))}function FV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$V(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function km(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bb(e,t){var n=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ba(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zV(e,t){t=t.checked,t!=null&&QS(e,"checked",t,!1)}function $b(e,t){zV(e,t);var n=Ba(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fb(e,t.type,Ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uI(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fb(e,t,n){(t!=="number"||km(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nd=Array.isArray;function ru(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ba(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(Nd(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ba(n)}}function UV(e,t){var n=Ba(t.value),r=Ba(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function HV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ub(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rp,GV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rp=Rp||document.createElement("div"),Rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zne=["Webkit","ms","Moz","O"];Object.keys(lf).forEach(function(e){Zne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lf[t]=lf[e]})});function qV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lf.hasOwnProperty(e)&&lf[e]?(""+t).trim():t+"px"}function WV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ere=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hb(e,t){if(t){if(ere[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function Gb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=null;function ew(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wb=null,iu=null,ou=null;function hI(e){if(e=Nh(e)){if(typeof Wb!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=wv(t),Wb(e.stateNode,e.type,t))}}function KV(e){iu?ou?ou.push(e):ou=[e]:iu=e}function YV(){if(iu){var e=iu,t=ou;if(ou=iu=null,hI(e),t)for(e=0;e<t.length;e++)hI(t[e])}}function QV(e,t){return e(t)}function JV(){}var eA=!1;function XV(e,t,n){if(eA)return e(t,n);eA=!0;try{return QV(e,t,n)}finally{eA=!1,(iu!==null||ou!==null)&&(JV(),YV())}}function Wf(e,t){var n=e.stateNode;if(n===null)return null;var r=wv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var Kb=!1;if(zs)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){Kb=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Kb=!1}function tre(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var cf=!1,Cm=null,Tm=!1,Yb=null,nre={onError:function(e){cf=!0,Cm=e}};function rre(e,t,n,r,i,o,s,a,l){cf=!1,Cm=null,tre.apply(nre,arguments)}function ire(e,t,n,r,i,o,s,a,l){if(rre.apply(this,arguments),cf){if(cf){var c=Cm;cf=!1,Cm=null}else throw Error(ce(198));Tm||(Tm=!0,Yb=c)}}function oc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ZV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pI(e){if(oc(e)!==e)throw Error(ce(188))}function ore(e){var t=e.alternate;if(!t){if(t=oc(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return pI(i),e;if(o===r)return pI(i),t;o=o.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function e4(e){return e=ore(e),e!==null?t4(e):null}function t4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t4(e);if(t!==null)return t;e=e.sibling}return null}var n4=Ci.unstable_scheduleCallback,gI=Ci.unstable_cancelCallback,sre=Ci.unstable_shouldYield,are=Ci.unstable_requestPaint,Pn=Ci.unstable_now,lre=Ci.unstable_getCurrentPriorityLevel,tw=Ci.unstable_ImmediatePriority,r4=Ci.unstable_UserBlockingPriority,Im=Ci.unstable_NormalPriority,cre=Ci.unstable_LowPriority,i4=Ci.unstable_IdlePriority,bv=null,cs=null;function ure(e){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(bv,e,void 0,(e.current.flags&128)===128)}catch{}}var Do=Math.clz32?Math.clz32:hre,dre=Math.log,fre=Math.LN2;function hre(e){return e>>>=0,e===0?32:31-(dre(e)/fre|0)|0}var Pp=64,Mp=4194304;function Dd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Dd(a):(o&=s,o!==0&&(r=Dd(o)))}else s=n&~i,s!==0?r=Dd(s):o!==0&&(r=Dd(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Do(t),i=1<<n,r|=e[n],t&=~i;return r}function pre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gre(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Do(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=pre(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Qb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o4(){var e=Pp;return Pp<<=1,!(Pp&4194240)&&(Pp=64),e}function tA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Do(t),e[t]=n}function mre(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Do(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function nw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Do(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function s4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var a4,rw,l4,c4,u4,Jb=!1,jp=[],Ea=null,ka=null,Ca=null,Kf=new Map,Yf=new Map,da=[],vre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mI(e,t){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Kf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(t.pointerId)}}function Ad(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Nh(t),t!==null&&rw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yre(e,t,n,r,i){switch(t){case"focusin":return Ea=Ad(Ea,e,t,n,r,i),!0;case"dragenter":return ka=Ad(ka,e,t,n,r,i),!0;case"mouseover":return Ca=Ad(Ca,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Kf.set(o,Ad(Kf.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yf.set(o,Ad(Yf.get(o)||null,e,t,n,r,i)),!0}return!1}function d4(e){var t=yl(e.target);if(t!==null){var n=oc(t);if(n!==null){if(t=n.tag,t===13){if(t=ZV(n),t!==null){e.blockedOn=t,u4(e.priority,function(){l4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qb=r,n.target.dispatchEvent(r),qb=null}else return t=Nh(n),t!==null&&rw(t),e.blockedOn=n,!1;t.shift()}return!0}function vI(e,t,n){kg(e)&&n.delete(t)}function Are(){Jb=!1,Ea!==null&&kg(Ea)&&(Ea=null),ka!==null&&kg(ka)&&(ka=null),Ca!==null&&kg(Ca)&&(Ca=null),Kf.forEach(vI),Yf.forEach(vI)}function bd(e,t){e.blockedOn===t&&(e.blockedOn=null,Jb||(Jb=!0,Ci.unstable_scheduleCallback(Ci.unstable_NormalPriority,Are)))}function Qf(e){function t(i){return bd(i,e)}if(0<jp.length){bd(jp[0],e);for(var n=1;n<jp.length;n++){var r=jp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ea!==null&&bd(Ea,e),ka!==null&&bd(ka,e),Ca!==null&&bd(Ca,e),Kf.forEach(t),Yf.forEach(t),n=0;n<da.length;n++)r=da[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<da.length&&(n=da[0],n.blockedOn===null);)d4(n),n.blockedOn===null&&da.shift()}var su=Js.ReactCurrentBatchConfig,Pm=!0;function bre(e,t,n,r){var i=It,o=su.transition;su.transition=null;try{It=1,iw(e,t,n,r)}finally{It=i,su.transition=o}}function _re(e,t,n,r){var i=It,o=su.transition;su.transition=null;try{It=4,iw(e,t,n,r)}finally{It=i,su.transition=o}}function iw(e,t,n,r){if(Pm){var i=Xb(e,t,n,r);if(i===null)dA(e,t,r,Mm,n),mI(e,r);else if(yre(i,e,t,n,r))r.stopPropagation();else if(mI(e,r),t&4&&-1<vre.indexOf(e)){for(;i!==null;){var o=Nh(i);if(o!==null&&a4(o),o=Xb(e,t,n,r),o===null&&dA(e,t,r,Mm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else dA(e,t,r,null,n)}}var Mm=null;function Xb(e,t,n,r){if(Mm=null,e=ew(r),e=yl(e),e!==null)if(t=oc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ZV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mm=e,null}function f4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lre()){case tw:return 1;case r4:return 4;case Im:case cre:return 16;case i4:return 536870912;default:return 16}default:return 16}}var Aa=null,ow=null,Cg=null;function h4(){if(Cg)return Cg;var e,t=ow,n=t.length,r,i="value"in Aa?Aa.value:Aa.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Cg=i.slice(e,1<r?1-r:void 0)}function Tg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Op(){return!0}function yI(){return!1}function Mi(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Op:yI,this.isPropagationStopped=yI,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Op)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Op)},persist:function(){},isPersistent:Op}),t}var Xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sw=Mi(Xu),Lh=pn({},Xu,{view:0,detail:0}),xre=Mi(Lh),nA,rA,_d,_v=pn({},Lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_d&&(_d&&e.type==="mousemove"?(nA=e.screenX-_d.screenX,rA=e.screenY-_d.screenY):rA=nA=0,_d=e),nA)},movementY:function(e){return"movementY"in e?e.movementY:rA}}),AI=Mi(_v),Sre=pn({},_v,{dataTransfer:0}),wre=Mi(Sre),Ere=pn({},Lh,{relatedTarget:0}),iA=Mi(Ere),kre=pn({},Xu,{animationName:0,elapsedTime:0,pseudoElement:0}),Cre=Mi(kre),Tre=pn({},Xu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ire=Mi(Tre),Rre=pn({},Xu,{data:0}),bI=Mi(Rre),Pre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ore(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jre[e])?!!t[e]:!1}function aw(){return Ore}var Vre=pn({},Lh,{key:function(e){if(e.key){var t=Pre[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aw,charCode:function(e){return e.type==="keypress"?Tg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lre=Mi(Vre),Nre=pn({},_v,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_I=Mi(Nre),Dre=pn({},Lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aw}),Bre=Mi(Dre),$re=pn({},Xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fre=Mi($re),zre=pn({},_v,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ure=Mi(zre),Hre=[9,13,27,32],lw=zs&&"CompositionEvent"in window,uf=null;zs&&"documentMode"in document&&(uf=document.documentMode);var Gre=zs&&"TextEvent"in window&&!uf,p4=zs&&(!lw||uf&&8<uf&&11>=uf),xI=" ",SI=!1;function g4(e,t){switch(e){case"keyup":return Hre.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oc=!1;function qre(e,t){switch(e){case"compositionend":return m4(t);case"keypress":return t.which!==32?null:(SI=!0,xI);case"textInput":return e=t.data,e===xI&&SI?null:e;default:return null}}function Wre(e,t){if(Oc)return e==="compositionend"||!lw&&g4(e,t)?(e=h4(),Cg=ow=Aa=null,Oc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p4&&t.locale!=="ko"?null:t.data;default:return null}}var Kre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kre[e.type]:t==="textarea"}function v4(e,t,n,r){KV(r),t=jm(t,"onChange"),0<t.length&&(n=new sw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var df=null,Jf=null;function Yre(e){T4(e,0)}function xv(e){var t=Nc(e);if(FV(t))return e}function Qre(e,t){if(e==="change")return t}var y4=!1;if(zs){var oA;if(zs){var sA="oninput"in document;if(!sA){var EI=document.createElement("div");EI.setAttribute("oninput","return;"),sA=typeof EI.oninput=="function"}oA=sA}else oA=!1;y4=oA&&(!document.documentMode||9<document.documentMode)}function kI(){df&&(df.detachEvent("onpropertychange",A4),Jf=df=null)}function A4(e){if(e.propertyName==="value"&&xv(Jf)){var t=[];v4(t,Jf,e,ew(e)),XV(Yre,t)}}function Jre(e,t,n){e==="focusin"?(kI(),df=t,Jf=n,df.attachEvent("onpropertychange",A4)):e==="focusout"&&kI()}function Xre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xv(Jf)}function Zre(e,t){if(e==="click")return xv(t)}function eie(e,t){if(e==="input"||e==="change")return xv(t)}function tie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ho=typeof Object.is=="function"?Object.is:tie;function Xf(e,t){if(Ho(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ob.call(t,i)||!Ho(e[i],t[i]))return!1}return!0}function CI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function TI(e,t){var n=CI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CI(n)}}function b4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _4(){for(var e=window,t=km();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=km(e.document)}return t}function cw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nie(e){var t=_4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&b4(n.ownerDocument.documentElement,n)){if(r!==null&&cw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=TI(n,o);var s=TI(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rie=zs&&"documentMode"in document&&11>=document.documentMode,Vc=null,Zb=null,ff=null,e_=!1;function II(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e_||Vc==null||Vc!==km(r)||(r=Vc,"selectionStart"in r&&cw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ff&&Xf(ff,r)||(ff=r,r=jm(Zb,"onSelect"),0<r.length&&(t=new sw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vc)))}function Vp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lc={animationend:Vp("Animation","AnimationEnd"),animationiteration:Vp("Animation","AnimationIteration"),animationstart:Vp("Animation","AnimationStart"),transitionend:Vp("Transition","TransitionEnd")},aA={},x4={};zs&&(x4=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function Sv(e){if(aA[e])return aA[e];if(!Lc[e])return e;var t=Lc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in x4)return aA[e]=t[n];return e}var S4=Sv("animationend"),w4=Sv("animationiteration"),E4=Sv("animationstart"),k4=Sv("transitionend"),C4=new Map,RI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){C4.set(e,t),ic(t,[e])}for(var lA=0;lA<RI.length;lA++){var cA=RI[lA],iie=cA.toLowerCase(),oie=cA[0].toUpperCase()+cA.slice(1);Wa(iie,"on"+oie)}Wa(S4,"onAnimationEnd");Wa(w4,"onAnimationIteration");Wa(E4,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(k4,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sie=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function PI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ire(r,t,void 0,e),e.currentTarget=null}function T4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;PI(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;PI(i,a,c),o=l}}}if(Tm)throw e=Yb,Tm=!1,Yb=null,e}function qt(e,t){var n=t[o_];n===void 0&&(n=t[o_]=new Set);var r=e+"__bubble";n.has(r)||(I4(t,e,2,!1),n.add(r))}function uA(e,t,n){var r=0;t&&(r|=4),I4(n,e,r,t)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[Lp]){e[Lp]=!0,LV.forEach(function(n){n!=="selectionchange"&&(sie.has(n)||uA(n,!1,e),uA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lp]||(t[Lp]=!0,uA("selectionchange",!1,t))}}function I4(e,t,n,r){switch(f4(t)){case 1:var i=bre;break;case 4:i=_re;break;default:i=iw}n=i.bind(null,t,n,e),i=void 0,!Kb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function dA(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=yl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}XV(function(){var c=o,u=ew(n),d=[];e:{var h=C4.get(e);if(h!==void 0){var p=sw,g=e;switch(e){case"keypress":if(Tg(n)===0)break e;case"keydown":case"keyup":p=Lre;break;case"focusin":g="focus",p=iA;break;case"focusout":g="blur",p=iA;break;case"beforeblur":case"afterblur":p=iA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=AI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bre;break;case S4:case w4:case E4:p=Cre;break;case k4:p=Fre;break;case"scroll":p=xre;break;case"wheel":p=Ure;break;case"copy":case"cut":case"paste":p=Ire;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_I}var m=(t&4)!==0,b=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var A=c,_;A!==null;){_=A;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=Wf(A,v),S!=null&&m.push(eh(A,S,_)))),b)break;A=A.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==qb&&(g=n.relatedTarget||n.fromElement)&&(yl(g)||g[Us]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?yl(g):null,g!==null&&(b=oc(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=AI,S="onMouseLeave",v="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(m=_I,S="onPointerLeave",v="onPointerEnter",A="pointer"),b=p==null?h:Nc(p),_=g==null?h:Nc(g),h=new m(S,A+"leave",p,n,u),h.target=b,h.relatedTarget=_,S=null,yl(u)===c&&(m=new m(v,A+"enter",g,n,u),m.target=_,m.relatedTarget=b,S=m),b=S,p&&g)t:{for(m=p,v=g,A=0,_=m;_;_=yc(_))A++;for(_=0,S=v;S;S=yc(S))_++;for(;0<A-_;)m=yc(m),A--;for(;0<_-A;)v=yc(v),_--;for(;A--;){if(m===v||v!==null&&m===v.alternate)break t;m=yc(m),v=yc(v)}m=null}else m=null;p!==null&&MI(d,h,p,m,!1),g!==null&&b!==null&&MI(d,b,g,m,!0)}}e:{if(h=c?Nc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=Qre;else if(wI(h))if(y4)x=eie;else{x=Xre;var w=Jre}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Zre);if(x&&(x=x(e,c))){v4(d,x,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Fb(h,"number",h.value)}switch(w=c?Nc(c):window,e){case"focusin":(wI(w)||w.contentEditable==="true")&&(Vc=w,Zb=c,ff=null);break;case"focusout":ff=Zb=Vc=null;break;case"mousedown":e_=!0;break;case"contextmenu":case"mouseup":case"dragend":e_=!1,II(d,n,u);break;case"selectionchange":if(rie)break;case"keydown":case"keyup":II(d,n,u)}var E;if(lw)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Oc?g4(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(p4&&n.locale!=="ko"&&(Oc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Oc&&(E=h4()):(Aa=u,ow="value"in Aa?Aa.value:Aa.textContent,Oc=!0)),w=jm(c,C),0<w.length&&(C=new bI(C,e,null,n,u),d.push({event:C,listeners:w}),E?C.data=E:(E=m4(n),E!==null&&(C.data=E)))),(E=Gre?qre(e,n):Wre(e,n))&&(c=jm(c,"onBeforeInput"),0<c.length&&(u=new bI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}T4(d,t)})}function eh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wf(e,n),o!=null&&r.unshift(eh(e,o,i)),o=Wf(e,t),o!=null&&r.push(eh(e,o,i))),e=e.return}return r}function yc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function MI(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Wf(n,o),l!=null&&s.unshift(eh(n,l,a))):i||(l=Wf(n,o),l!=null&&s.push(eh(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var aie=/\r\n?/g,lie=/\u0000|\uFFFD/g;function jI(e){return(typeof e=="string"?e:""+e).replace(aie,`
`).replace(lie,"")}function Np(e,t,n){if(t=jI(t),jI(e)!==t&&n)throw Error(ce(425))}function Om(){}var t_=null,n_=null;function r_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i_=typeof setTimeout=="function"?setTimeout:void 0,cie=typeof clearTimeout=="function"?clearTimeout:void 0,OI=typeof Promise=="function"?Promise:void 0,uie=typeof queueMicrotask=="function"?queueMicrotask:typeof OI<"u"?function(e){return OI.resolve(null).then(e).catch(die)}:i_;function die(e){setTimeout(function(){throw e})}function fA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qf(t)}function Ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function VI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zu=Math.random().toString(36).slice(2),is="__reactFiber$"+Zu,th="__reactProps$"+Zu,Us="__reactContainer$"+Zu,o_="__reactEvents$"+Zu,fie="__reactListeners$"+Zu,hie="__reactHandles$"+Zu;function yl(e){var t=e[is];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Us]||n[is]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=VI(e);e!==null;){if(n=e[is])return n;e=VI(e)}return t}e=n,n=e.parentNode}return null}function Nh(e){return e=e[is]||e[Us],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function wv(e){return e[th]||null}var s_=[],Dc=-1;function Ka(e){return{current:e}}function Yt(e){0>Dc||(e.current=s_[Dc],s_[Dc]=null,Dc--)}function Gt(e,t){Dc++,s_[Dc]=e.current,e.current=t}var $a={},Ir=Ka($a),ii=Ka(!1),Ul=$a;function ku(e,t){var n=e.type.contextTypes;if(!n)return $a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function oi(e){return e=e.childContextTypes,e!=null}function Vm(){Yt(ii),Yt(Ir)}function LI(e,t,n){if(Ir.current!==$a)throw Error(ce(168));Gt(Ir,t),Gt(ii,n)}function R4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ce(108,Jne(e)||"Unknown",i));return pn({},n,r)}function Lm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$a,Ul=Ir.current,Gt(Ir,e),Gt(ii,ii.current),!0}function NI(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=R4(e,t,Ul),r.__reactInternalMemoizedMergedChildContext=e,Yt(ii),Yt(Ir),Gt(Ir,e)):Yt(ii),Gt(ii,n)}var Ss=null,Ev=!1,hA=!1;function P4(e){Ss===null?Ss=[e]:Ss.push(e)}function pie(e){Ev=!0,P4(e)}function Ya(){if(!hA&&Ss!==null){hA=!0;var e=0,t=It;try{var n=Ss;for(It=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ss=null,Ev=!1}catch(i){throw Ss!==null&&(Ss=Ss.slice(e+1)),n4(tw,Ya),i}finally{It=t,hA=!1}}return null}var Bc=[],$c=0,Nm=null,Dm=0,Wi=[],Ki=0,Hl=null,Cs=1,Ts="";function cl(e,t){Bc[$c++]=Dm,Bc[$c++]=Nm,Nm=e,Dm=t}function M4(e,t,n){Wi[Ki++]=Cs,Wi[Ki++]=Ts,Wi[Ki++]=Hl,Hl=e;var r=Cs;e=Ts;var i=32-Do(r)-1;r&=~(1<<i),n+=1;var o=32-Do(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cs=1<<32-Do(t)+i|n<<i|r,Ts=o+e}else Cs=1<<o|n<<i|r,Ts=e}function uw(e){e.return!==null&&(cl(e,1),M4(e,1,0))}function dw(e){for(;e===Nm;)Nm=Bc[--$c],Bc[$c]=null,Dm=Bc[--$c],Bc[$c]=null;for(;e===Hl;)Hl=Wi[--Ki],Wi[Ki]=null,Ts=Wi[--Ki],Wi[Ki]=null,Cs=Wi[--Ki],Wi[Ki]=null}var xi=null,bi=null,rn=!1,Co=null;function j4(e,t){var n=Ji(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function DI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,bi=Ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,bi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hl!==null?{id:Cs,overflow:Ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ji(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xi=e,bi=null,!0):!1;default:return!1}}function a_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function l_(e){if(rn){var t=bi;if(t){var n=t;if(!DI(e,t)){if(a_(e))throw Error(ce(418));t=Ta(n.nextSibling);var r=xi;t&&DI(e,t)?j4(r,n):(e.flags=e.flags&-4097|2,rn=!1,xi=e)}}else{if(a_(e))throw Error(ce(418));e.flags=e.flags&-4097|2,rn=!1,xi=e}}}function BI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Dp(e){if(e!==xi)return!1;if(!rn)return BI(e),rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!r_(e.type,e.memoizedProps)),t&&(t=bi)){if(a_(e))throw O4(),Error(ce(418));for(;t;)j4(e,t),t=Ta(t.nextSibling)}if(BI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bi=Ta(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bi=null}}else bi=xi?Ta(e.stateNode.nextSibling):null;return!0}function O4(){for(var e=bi;e;)e=Ta(e.nextSibling)}function Cu(){bi=xi=null,rn=!1}function fw(e){Co===null?Co=[e]:Co.push(e)}var gie=Js.ReactCurrentBatchConfig;function xo(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Bm=Ka(null),$m=null,Fc=null,hw=null;function pw(){hw=Fc=$m=null}function gw(e){var t=Bm.current;Yt(Bm),e._currentValue=t}function c_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function au(e,t){$m=e,hw=Fc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ti=!0),e.firstContext=null)}function co(e){var t=e._currentValue;if(hw!==e)if(e={context:e,memoizedValue:t,next:null},Fc===null){if($m===null)throw Error(ce(308));Fc=e,$m.dependencies={lanes:0,firstContext:e}}else Fc=Fc.next=e;return t}var Al=null;function mw(e){Al===null?Al=[e]:Al.push(e)}function V4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,mw(t)):(n.next=i.next,i.next=n),t.interleaved=n,Hs(e,r)}function Hs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ca=!1;function vw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Hs(e,n)}return i=r.interleaved,i===null?(t.next=t,mw(r)):(t.next=i.next,i.next=t),r.interleaved=t,Hs(e,n)}function Ig(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nw(e,n)}}function $I(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fm(e,t,n,r){var i=e.updateQueue;ca=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=pn({},d,h);break e;case 2:ca=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ql|=s,e.lanes=s,e.memoizedState=d}}function FI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var N4=new VV.Component().refs;function u_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kv={isMounted:function(e){return(e=e._reactInternals)?oc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ur(),i=Pa(e),o=Vs(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ia(e,o,i),t!==null&&(Bo(t,e,i,r),Ig(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ur(),i=Pa(e),o=Vs(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ia(e,o,i),t!==null&&(Bo(t,e,i,r),Ig(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ur(),r=Pa(e),i=Vs(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ia(e,i,r),t!==null&&(Bo(t,e,r,n),Ig(t,e,r))}};function zI(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Xf(n,r)||!Xf(i,o):!0}function D4(e,t,n){var r=!1,i=$a,o=t.contextType;return typeof o=="object"&&o!==null?o=co(o):(i=oi(t)?Ul:Ir.current,r=t.contextTypes,o=(r=r!=null)?ku(e,i):$a),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function UI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kv.enqueueReplaceState(t,t.state,null)}function d_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=N4,vw(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=co(o):(o=oi(t)?Ul:Ir.current,i.context=ku(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(u_(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&kv.enqueueReplaceState(i,i.state,null),Fm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===N4&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function Bp(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function HI(e){var t=e._init;return t(e._payload)}function B4(e){function t(v,A){if(e){var _=v.deletions;_===null?(v.deletions=[A],v.flags|=16):_.push(A)}}function n(v,A){if(!e)return null;for(;A!==null;)t(v,A),A=A.sibling;return null}function r(v,A){for(v=new Map;A!==null;)A.key!==null?v.set(A.key,A):v.set(A.index,A),A=A.sibling;return v}function i(v,A){return v=Ma(v,A),v.index=0,v.sibling=null,v}function o(v,A,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<A?(v.flags|=2,A):_):(v.flags|=2,A)):(v.flags|=1048576,A)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,A,_,S){return A===null||A.tag!==6?(A=bA(_,v.mode,S),A.return=v,A):(A=i(A,_),A.return=v,A)}function l(v,A,_,S){var x=_.type;return x===jc?u(v,A,_.props.children,S,_.key):A!==null&&(A.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===la&&HI(x)===A.type)?(S=i(A,_.props),S.ref=xd(v,A,_),S.return=v,S):(S=Vg(_.type,_.key,_.props,null,v.mode,S),S.ref=xd(v,A,_),S.return=v,S)}function c(v,A,_,S){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=_A(_,v.mode,S),A.return=v,A):(A=i(A,_.children||[]),A.return=v,A)}function u(v,A,_,S,x){return A===null||A.tag!==7?(A=Pl(_,v.mode,S,x),A.return=v,A):(A=i(A,_),A.return=v,A)}function d(v,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return A=bA(""+A,v.mode,_),A.return=v,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Tp:return _=Vg(A.type,A.key,A.props,null,v.mode,_),_.ref=xd(v,null,A),_.return=v,_;case Mc:return A=_A(A,v.mode,_),A.return=v,A;case la:var S=A._init;return d(v,S(A._payload),_)}if(Nd(A)||vd(A))return A=Pl(A,v.mode,_,null),A.return=v,A;Bp(v,A)}return null}function h(v,A,_,S){var x=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(v,A,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tp:return _.key===x?l(v,A,_,S):null;case Mc:return _.key===x?c(v,A,_,S):null;case la:return x=_._init,h(v,A,x(_._payload),S)}if(Nd(_)||vd(_))return x!==null?null:u(v,A,_,S,null);Bp(v,_)}return null}function p(v,A,_,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,a(A,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tp:return v=v.get(S.key===null?_:S.key)||null,l(A,v,S,x);case Mc:return v=v.get(S.key===null?_:S.key)||null,c(A,v,S,x);case la:var w=S._init;return p(v,A,_,w(S._payload),x)}if(Nd(S)||vd(S))return v=v.get(_)||null,u(A,v,S,x,null);Bp(A,S)}return null}function g(v,A,_,S){for(var x=null,w=null,E=A,C=A=0,j=null;E!==null&&C<_.length;C++){E.index>C?(j=E,E=null):j=E.sibling;var L=h(v,E,_[C],S);if(L===null){E===null&&(E=j);break}e&&E&&L.alternate===null&&t(v,E),A=o(L,A,C),w===null?x=L:w.sibling=L,w=L,E=j}if(C===_.length)return n(v,E),rn&&cl(v,C),x;if(E===null){for(;C<_.length;C++)E=d(v,_[C],S),E!==null&&(A=o(E,A,C),w===null?x=E:w.sibling=E,w=E);return rn&&cl(v,C),x}for(E=r(v,E);C<_.length;C++)j=p(E,v,C,_[C],S),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?C:j.key),A=o(j,A,C),w===null?x=j:w.sibling=j,w=j);return e&&E.forEach(function(B){return t(v,B)}),rn&&cl(v,C),x}function m(v,A,_,S){var x=vd(_);if(typeof x!="function")throw Error(ce(150));if(_=x.call(_),_==null)throw Error(ce(151));for(var w=x=null,E=A,C=A=0,j=null,L=_.next();E!==null&&!L.done;C++,L=_.next()){E.index>C?(j=E,E=null):j=E.sibling;var B=h(v,E,L.value,S);if(B===null){E===null&&(E=j);break}e&&E&&B.alternate===null&&t(v,E),A=o(B,A,C),w===null?x=B:w.sibling=B,w=B,E=j}if(L.done)return n(v,E),rn&&cl(v,C),x;if(E===null){for(;!L.done;C++,L=_.next())L=d(v,L.value,S),L!==null&&(A=o(L,A,C),w===null?x=L:w.sibling=L,w=L);return rn&&cl(v,C),x}for(E=r(v,E);!L.done;C++,L=_.next())L=p(E,v,C,L.value,S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?C:L.key),A=o(L,A,C),w===null?x=L:w.sibling=L,w=L);return e&&E.forEach(function(U){return t(v,U)}),rn&&cl(v,C),x}function b(v,A,_,S){if(typeof _=="object"&&_!==null&&_.type===jc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Tp:e:{for(var x=_.key,w=A;w!==null;){if(w.key===x){if(x=_.type,x===jc){if(w.tag===7){n(v,w.sibling),A=i(w,_.props.children),A.return=v,v=A;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===la&&HI(x)===w.type){n(v,w.sibling),A=i(w,_.props),A.ref=xd(v,w,_),A.return=v,v=A;break e}n(v,w);break}else t(v,w);w=w.sibling}_.type===jc?(A=Pl(_.props.children,v.mode,S,_.key),A.return=v,v=A):(S=Vg(_.type,_.key,_.props,null,v.mode,S),S.ref=xd(v,A,_),S.return=v,v=S)}return s(v);case Mc:e:{for(w=_.key;A!==null;){if(A.key===w)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){n(v,A.sibling),A=i(A,_.children||[]),A.return=v,v=A;break e}else{n(v,A);break}else t(v,A);A=A.sibling}A=_A(_,v.mode,S),A.return=v,v=A}return s(v);case la:return w=_._init,b(v,A,w(_._payload),S)}if(Nd(_))return g(v,A,_,S);if(vd(_))return m(v,A,_,S);Bp(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,A!==null&&A.tag===6?(n(v,A.sibling),A=i(A,_),A.return=v,v=A):(n(v,A),A=bA(_,v.mode,S),A.return=v,v=A),s(v)):n(v,A)}return b}var Tu=B4(!0),$4=B4(!1),Dh={},us=Ka(Dh),nh=Ka(Dh),rh=Ka(Dh);function bl(e){if(e===Dh)throw Error(ce(174));return e}function yw(e,t){switch(Gt(rh,t),Gt(nh,e),Gt(us,Dh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ub(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ub(t,e)}Yt(us),Gt(us,t)}function Iu(){Yt(us),Yt(nh),Yt(rh)}function F4(e){bl(rh.current);var t=bl(us.current),n=Ub(t,e.type);t!==n&&(Gt(nh,e),Gt(us,n))}function Aw(e){nh.current===e&&(Yt(us),Yt(nh))}var cn=Ka(0);function zm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pA=[];function bw(){for(var e=0;e<pA.length;e++)pA[e]._workInProgressVersionPrimary=null;pA.length=0}var Rg=Js.ReactCurrentDispatcher,gA=Js.ReactCurrentBatchConfig,Gl=0,fn=null,Hn=null,tr=null,Um=!1,hf=!1,ih=0,mie=0;function _r(){throw Error(ce(321))}function _w(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ho(e[n],t[n]))return!1;return!0}function xw(e,t,n,r,i,o){if(Gl=o,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rg.current=e===null||e.memoizedState===null?bie:_ie,e=n(r,i),hf){o=0;do{if(hf=!1,ih=0,25<=o)throw Error(ce(301));o+=1,tr=Hn=null,t.updateQueue=null,Rg.current=xie,e=n(r,i)}while(hf)}if(Rg.current=Hm,t=Hn!==null&&Hn.next!==null,Gl=0,tr=Hn=fn=null,Um=!1,t)throw Error(ce(300));return e}function Sw(){var e=ih!==0;return ih=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?fn.memoizedState=tr=e:tr=tr.next=e,tr}function uo(){if(Hn===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=Hn.next;var t=tr===null?fn.memoizedState:tr.next;if(t!==null)tr=t,Hn=e;else{if(e===null)throw Error(ce(310));Hn=e,e={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},tr===null?fn.memoizedState=tr=e:tr=tr.next=e}return tr}function oh(e,t){return typeof t=="function"?t(e):t}function mA(e){var t=uo(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=Hn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Gl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,fn.lanes|=u,ql|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Ho(r,t.memoizedState)||(ti=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,fn.lanes|=o,ql|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vA(e){var t=uo(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ho(o,t.memoizedState)||(ti=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function z4(){}function U4(e,t){var n=fn,r=uo(),i=t(),o=!Ho(r.memoizedState,i);if(o&&(r.memoizedState=i,ti=!0),r=r.queue,ww(q4.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||tr!==null&&tr.memoizedState.tag&1){if(n.flags|=2048,sh(9,G4.bind(null,n,r,i,t),void 0,null),ir===null)throw Error(ce(349));Gl&30||H4(n,t,i)}return i}function H4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function G4(e,t,n,r){t.value=n,t.getSnapshot=r,W4(t)&&K4(e)}function q4(e,t,n){return n(function(){W4(t)&&K4(e)})}function W4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ho(e,n)}catch{return!0}}function K4(e){var t=Hs(e,1);t!==null&&Bo(t,e,1,-1)}function GI(e){var t=Xo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oh,lastRenderedState:e},t.queue=e,e=e.dispatch=Aie.bind(null,fn,e),[t.memoizedState,e]}function sh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Y4(){return uo().memoizedState}function Pg(e,t,n,r){var i=Xo();fn.flags|=e,i.memoizedState=sh(1|t,n,void 0,r===void 0?null:r)}function Cv(e,t,n,r){var i=uo();r=r===void 0?null:r;var o=void 0;if(Hn!==null){var s=Hn.memoizedState;if(o=s.destroy,r!==null&&_w(r,s.deps)){i.memoizedState=sh(t,n,o,r);return}}fn.flags|=e,i.memoizedState=sh(1|t,n,o,r)}function qI(e,t){return Pg(8390656,8,e,t)}function ww(e,t){return Cv(2048,8,e,t)}function Q4(e,t){return Cv(4,2,e,t)}function J4(e,t){return Cv(4,4,e,t)}function X4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Z4(e,t,n){return n=n!=null?n.concat([e]):null,Cv(4,4,X4.bind(null,t,e),n)}function Ew(){}function eL(e,t){var n=uo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_w(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tL(e,t){var n=uo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_w(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nL(e,t,n){return Gl&21?(Ho(n,t)||(n=o4(),fn.lanes|=n,ql|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ti=!0),e.memoizedState=n)}function vie(e,t){var n=It;It=n!==0&&4>n?n:4,e(!0);var r=gA.transition;gA.transition={};try{e(!1),t()}finally{It=n,gA.transition=r}}function rL(){return uo().memoizedState}function yie(e,t,n){var r=Pa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iL(e))oL(t,n);else if(n=V4(e,t,n,r),n!==null){var i=Ur();Bo(n,e,r,i),sL(n,t,r)}}function Aie(e,t,n){var r=Pa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iL(e))oL(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ho(a,s)){var l=t.interleaved;l===null?(i.next=i,mw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=V4(e,t,i,r),n!==null&&(i=Ur(),Bo(n,e,r,i),sL(n,t,r))}}function iL(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function oL(e,t){hf=Um=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nw(e,n)}}var Hm={readContext:co,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},bie={readContext:co,useCallback:function(e,t){return Xo().memoizedState=[e,t===void 0?null:t],e},useContext:co,useEffect:qI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pg(4194308,4,X4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pg(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yie.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=Xo();return e={current:e},t.memoizedState=e},useState:GI,useDebugValue:Ew,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=GI(!1),t=e[0];return e=vie.bind(null,e[1]),Xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,i=Xo();if(rn){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),ir===null)throw Error(ce(349));Gl&30||H4(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qI(q4.bind(null,r,o,e),[e]),r.flags|=2048,sh(9,G4.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xo(),t=ir.identifierPrefix;if(rn){var n=Ts,r=Cs;n=(r&~(1<<32-Do(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ih++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mie++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_ie={readContext:co,useCallback:eL,useContext:co,useEffect:ww,useImperativeHandle:Z4,useInsertionEffect:Q4,useLayoutEffect:J4,useMemo:tL,useReducer:mA,useRef:Y4,useState:function(){return mA(oh)},useDebugValue:Ew,useDeferredValue:function(e){var t=uo();return nL(t,Hn.memoizedState,e)},useTransition:function(){var e=mA(oh)[0],t=uo().memoizedState;return[e,t]},useMutableSource:z4,useSyncExternalStore:U4,useId:rL,unstable_isNewReconciler:!1},xie={readContext:co,useCallback:eL,useContext:co,useEffect:ww,useImperativeHandle:Z4,useInsertionEffect:Q4,useLayoutEffect:J4,useMemo:tL,useReducer:vA,useRef:Y4,useState:function(){return vA(oh)},useDebugValue:Ew,useDeferredValue:function(e){var t=uo();return Hn===null?t.memoizedState=e:nL(t,Hn.memoizedState,e)},useTransition:function(){var e=vA(oh)[0],t=uo().memoizedState;return[e,t]},useMutableSource:z4,useSyncExternalStore:U4,useId:rL,unstable_isNewReconciler:!1};function Ru(e,t){try{var n="",r=t;do n+=Qne(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function yA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function f_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sie=typeof WeakMap=="function"?WeakMap:Map;function aL(e,t,n){n=Vs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qm||(qm=!0,x_=r),f_(e,t)},n}function lL(e,t,n){n=Vs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){f_(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){f_(e,t),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function WI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sie;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nie.bind(null,e,t,n),t.then(e,e))}function KI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function YI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vs(-1,1),t.tag=2,Ia(n,t,1))),n.lanes|=1),e)}var wie=Js.ReactCurrentOwner,ti=!1;function Vr(e,t,n,r){t.child=e===null?$4(t,null,n,r):Tu(t,e.child,n,r)}function QI(e,t,n,r,i){n=n.render;var o=t.ref;return au(t,i),r=xw(e,t,n,r,o,i),n=Sw(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i)):(rn&&n&&uw(t),t.flags|=1,Vr(e,t,r,i),t.child)}function JI(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!jw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,cL(e,t,o,r,i)):(e=Vg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xf,n(s,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,e=Ma(o,r),e.ref=t.ref,e.return=t,t.child=e}function cL(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Xf(o,r)&&e.ref===t.ref)if(ti=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ti=!0);else return t.lanes=e.lanes,Gs(e,t,i)}return h_(e,t,n,r,i)}function uL(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Uc,gi),gi|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(Uc,gi),gi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Gt(Uc,gi),gi|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Gt(Uc,gi),gi|=r;return Vr(e,t,i,n),t.child}function dL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function h_(e,t,n,r,i){var o=oi(n)?Ul:Ir.current;return o=ku(t,o),au(t,i),n=xw(e,t,n,r,o,i),r=Sw(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i)):(rn&&r&&uw(t),t.flags|=1,Vr(e,t,n,i),t.child)}function XI(e,t,n,r,i){if(oi(n)){var o=!0;Lm(t)}else o=!1;if(au(t,i),t.stateNode===null)Mg(e,t),D4(t,n,r),d_(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=co(c):(c=oi(n)?Ul:Ir.current,c=ku(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&UI(t,s,r,c),ca=!1;var h=t.memoizedState;s.state=h,Fm(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ii.current||ca?(typeof u=="function"&&(u_(t,n,u,r),l=t.memoizedState),(a=ca||zI(t,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,L4(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:xo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=co(l):(l=oi(n)?Ul:Ir.current,l=ku(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&UI(t,s,r,l),ca=!1,h=t.memoizedState,s.state=h,Fm(t,r,s,i);var g=t.memoizedState;a!==d||h!==g||ii.current||ca?(typeof p=="function"&&(u_(t,n,p,r),g=t.memoizedState),(c=ca||zI(t,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return p_(e,t,n,r,o,i)}function p_(e,t,n,r,i,o){dL(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&NI(t,n,!1),Gs(e,t,o);r=t.stateNode,wie.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Tu(t,e.child,null,o),t.child=Tu(t,null,a,o)):Vr(e,t,a,o),t.memoizedState=r.state,i&&NI(t,n,!0),t.child}function fL(e){var t=e.stateNode;t.pendingContext?LI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&LI(e,t.context,!1),yw(e,t.containerInfo)}function ZI(e,t,n,r,i){return Cu(),fw(i),t.flags|=256,Vr(e,t,n,r),t.child}var g_={dehydrated:null,treeContext:null,retryLane:0};function m_(e){return{baseLanes:e,cachePool:null,transitions:null}}function hL(e,t,n){var r=t.pendingProps,i=cn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Gt(cn,i&1),e===null)return l_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Rv(s,r,0,null),e=Pl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=m_(n),t.memoizedState=g_,e):kw(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Eie(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ma(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ma(a,o):(o=Pl(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?m_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=g_,r}return o=e.child,e=o.sibling,r=Ma(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kw(e,t){return t=Rv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $p(e,t,n,r){return r!==null&&fw(r),Tu(t,e.child,null,n),e=kw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eie(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=yA(Error(ce(422))),$p(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rv({mode:"visible",children:r.children},i,0,null),o=Pl(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Tu(t,e.child,null,s),t.child.memoizedState=m_(s),t.memoizedState=g_,o);if(!(t.mode&1))return $p(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ce(419)),r=yA(o,r,void 0),$p(e,t,s,r)}if(a=(s&e.childLanes)!==0,ti||a){if(r=ir,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hs(e,i),Bo(r,e,i,-1))}return Mw(),r=yA(Error(ce(421))),$p(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Die.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,bi=Ta(i.nextSibling),xi=t,rn=!0,Co=null,e!==null&&(Wi[Ki++]=Cs,Wi[Ki++]=Ts,Wi[Ki++]=Hl,Cs=e.id,Ts=e.overflow,Hl=t),t=kw(t,r.children),t.flags|=4096,t)}function eR(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),c_(e.return,t,n)}function AA(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pL(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Vr(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eR(e,n,t);else if(e.tag===19)eR(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gt(cn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),AA(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}AA(t,!0,n,null,o);break;case"together":AA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=Ma(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ma(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kie(e,t,n){switch(t.tag){case 3:fL(t),Cu();break;case 5:F4(t);break;case 1:oi(t.type)&&Lm(t);break;case 4:yw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Gt(Bm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gt(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?hL(e,t,n):(Gt(cn,cn.current&1),e=Gs(e,t,n),e!==null?e.sibling:null);Gt(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pL(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,uL(e,t,n)}return Gs(e,t,n)}var gL,v_,mL,vL;gL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};v_=function(){};mL=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,bl(us.current);var o=null;switch(n){case"input":i=Bb(e,i),r=Bb(e,r),o=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),o=[];break;case"textarea":i=zb(e,i),r=zb(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Om)}Hb(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};vL=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sd(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cie(e,t,n){var r=t.pendingProps;switch(dw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return oi(t.type)&&Vm(),xr(t),null;case 3:return r=t.stateNode,Iu(),Yt(ii),Yt(Ir),bw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Co!==null&&(E_(Co),Co=null))),v_(e,t),xr(t),null;case 5:Aw(t);var i=bl(rh.current);if(n=t.type,e!==null&&t.stateNode!=null)mL(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ce(166));return xr(t),null}if(e=bl(us.current),Dp(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[is]=t,r[th]=o,e=(t.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<Bd.length;i++)qt(Bd[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":cI(r,o),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qt("invalid",r);break;case"textarea":dI(r,o),qt("invalid",r)}Hb(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Np(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Np(r.textContent,a,e),i=["children",""+a]):Gf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qt("scroll",r)}switch(n){case"input":Ip(r),uI(r,o,!0);break;case"textarea":Ip(r),fI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Om)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=HV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[is]=t,e[th]=r,gL(e,t,!1,!1),t.stateNode=e;e:{switch(s=Gb(n,r),n){case"dialog":qt("cancel",e),qt("close",e),i=r;break;case"iframe":case"object":case"embed":qt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bd.length;i++)qt(Bd[i],e);i=r;break;case"source":qt("error",e),i=r;break;case"img":case"image":case"link":qt("error",e),qt("load",e),i=r;break;case"details":qt("toggle",e),i=r;break;case"input":cI(e,r),i=Bb(e,r),qt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),qt("invalid",e);break;case"textarea":dI(e,r),i=zb(e,r),qt("invalid",e);break;default:i=r}Hb(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?WV(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GV(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qf(e,l):typeof l=="number"&&qf(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gf.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qt("scroll",e):l!=null&&QS(e,o,l,s))}switch(n){case"input":Ip(e),uI(e,r,!1);break;case"textarea":Ip(e),fI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ba(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ru(e,!!r.multiple,o,!1):r.defaultValue!=null&&ru(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Om)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)vL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ce(166));if(n=bl(rh.current),bl(us.current),Dp(t)){if(r=t.stateNode,n=t.memoizedProps,r[is]=t,(o=r.nodeValue!==n)&&(e=xi,e!==null))switch(e.tag){case 3:Np(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Np(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[is]=t,t.stateNode=r}return xr(t),null;case 13:if(Yt(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rn&&bi!==null&&t.mode&1&&!(t.flags&128))O4(),Cu(),t.flags|=98560,o=!1;else if(o=Dp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ce(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ce(317));o[is]=t}else Cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),o=!1}else Co!==null&&(E_(Co),Co=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?Wn===0&&(Wn=3):Mw())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return Iu(),v_(e,t),e===null&&Zf(t.stateNode.containerInfo),xr(t),null;case 10:return gw(t.type._context),xr(t),null;case 17:return oi(t.type)&&Vm(),xr(t),null;case 19:if(Yt(cn),o=t.memoizedState,o===null)return xr(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Sd(o,!1);else{if(Wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zm(e),s!==null){for(t.flags|=128,Sd(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gt(cn,cn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pn()>Pu&&(t.flags|=128,r=!0,Sd(o,!1),t.lanes=4194304)}else{if(!r)if(e=zm(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!rn)return xr(t),null}else 2*Pn()-o.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,r=!0,Sd(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pn(),t.sibling=null,n=cn.current,Gt(cn,r?n&1|2:n&1),t):(xr(t),null);case 22:case 23:return Pw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gi&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function Tie(e,t){switch(dw(t),t.tag){case 1:return oi(t.type)&&Vm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Iu(),Yt(ii),Yt(Ir),bw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Aw(t),null;case 13:if(Yt(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(cn),null;case 4:return Iu(),null;case 10:return gw(t.type._context),null;case 22:case 23:return Pw(),null;case 24:return null;default:return null}}var Fp=!1,Er=!1,Iie=typeof WeakSet=="function"?WeakSet:Set,we=null;function zc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){An(e,t,r)}else n.current=null}function y_(e,t,n){try{n()}catch(r){An(e,t,r)}}var tR=!1;function Rie(e,t){if(t_=Pm,e=_4(),cw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(n_={focusedElem:e,selectionRange:n},Pm=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,v=t.stateNode,A=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:xo(t.type,m),b);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(S){An(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return g=tR,tR=!1,g}function pf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&y_(t,n,o)}i=i.next}while(i!==r)}}function Tv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function A_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yL(e){var t=e.alternate;t!==null&&(e.alternate=null,yL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[is],delete t[th],delete t[o_],delete t[fie],delete t[hie])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AL(e){return e.tag===5||e.tag===3||e.tag===4}function nR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Om));else if(r!==4&&(e=e.child,e!==null))for(b_(e,t,n),e=e.sibling;e!==null;)b_(e,t,n),e=e.sibling}function __(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(__(e,t,n),e=e.sibling;e!==null;)__(e,t,n),e=e.sibling}var cr=null,Eo=!1;function na(e,t,n){for(n=n.child;n!==null;)bL(e,t,n),n=n.sibling}function bL(e,t,n){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(bv,n)}catch{}switch(n.tag){case 5:Er||zc(n,t);case 6:var r=cr,i=Eo;cr=null,na(e,t,n),cr=r,Eo=i,cr!==null&&(Eo?(e=cr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cr.removeChild(n.stateNode));break;case 18:cr!==null&&(Eo?(e=cr,n=n.stateNode,e.nodeType===8?fA(e.parentNode,n):e.nodeType===1&&fA(e,n),Qf(e)):fA(cr,n.stateNode));break;case 4:r=cr,i=Eo,cr=n.stateNode.containerInfo,Eo=!0,na(e,t,n),cr=r,Eo=i;break;case 0:case 11:case 14:case 15:if(!Er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&y_(n,t,s),i=i.next}while(i!==r)}na(e,t,n);break;case 1:if(!Er&&(zc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){An(n,t,a)}na(e,t,n);break;case 21:na(e,t,n);break;case 22:n.mode&1?(Er=(r=Er)||n.memoizedState!==null,na(e,t,n),Er=r):na(e,t,n);break;default:na(e,t,n)}}function rR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Iie),t.forEach(function(r){var i=Bie.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ao(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:cr=a.stateNode,Eo=!1;break e;case 3:cr=a.stateNode.containerInfo,Eo=!0;break e;case 4:cr=a.stateNode.containerInfo,Eo=!0;break e}a=a.return}if(cr===null)throw Error(ce(160));bL(o,s,i),cr=null,Eo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){An(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_L(t,e),t=t.sibling}function _L(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ao(t,e),Yo(e),r&4){try{pf(3,e,e.return),Tv(3,e)}catch(m){An(e,e.return,m)}try{pf(5,e,e.return)}catch(m){An(e,e.return,m)}}break;case 1:Ao(t,e),Yo(e),r&512&&n!==null&&zc(n,n.return);break;case 5:if(Ao(t,e),Yo(e),r&512&&n!==null&&zc(n,n.return),e.flags&32){var i=e.stateNode;try{qf(i,"")}catch(m){An(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&zV(i,o),Gb(a,s);var c=Gb(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?WV(i,d):u==="dangerouslySetInnerHTML"?GV(i,d):u==="children"?qf(i,d):QS(i,u,d,c)}switch(a){case"input":$b(i,o);break;case"textarea":UV(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ru(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ru(i,!!o.multiple,o.defaultValue,!0):ru(i,!!o.multiple,o.multiple?[]:"",!1))}i[th]=o}catch(m){An(e,e.return,m)}}break;case 6:if(Ao(t,e),Yo(e),r&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){An(e,e.return,m)}}break;case 3:if(Ao(t,e),Yo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qf(t.containerInfo)}catch(m){An(e,e.return,m)}break;case 4:Ao(t,e),Yo(e);break;case 13:Ao(t,e),Yo(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Iw=Pn())),r&4&&rR(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Er=(c=Er)||u,Ao(t,e),Er=c):Ao(t,e),Yo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(we=e,u=e.child;u!==null;){for(d=we=u;we!==null;){switch(h=we,p=h.child,h.tag){case 0:case 11:case 14:case 15:pf(4,h,h.return);break;case 1:zc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){An(r,n,m)}}break;case 5:zc(h,h.return);break;case 22:if(h.memoizedState!==null){oR(d);continue}}p!==null?(p.return=h,we=p):oR(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qV("display",s))}catch(m){An(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){An(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ao(t,e),Yo(e),r&4&&rR(e);break;case 21:break;default:Ao(t,e),Yo(e)}}function Yo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AL(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qf(i,""),r.flags&=-33);var o=nR(e);__(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=nR(e);b_(e,a,s);break;default:throw Error(ce(161))}}catch(l){An(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pie(e,t,n){we=e,xL(e)}function xL(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var i=we,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Fp;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Er;a=Fp;var c=Er;if(Fp=s,(Er=l)&&!c)for(we=i;we!==null;)s=we,l=s.child,s.tag===22&&s.memoizedState!==null?sR(i):l!==null?(l.return=s,we=l):sR(i);for(;o!==null;)we=o,xL(o),o=o.sibling;we=i,Fp=a,Er=c}iR(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,we=o):iR(e)}}function iR(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Er||Tv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Er)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&FI(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}FI(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Er||t.flags&512&&A_(t)}catch(h){An(t,t.return,h)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function oR(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function sR(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Tv(4,t)}catch(l){An(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){An(t,i,l)}}var o=t.return;try{A_(t)}catch(l){An(t,o,l)}break;case 5:var s=t.return;try{A_(t)}catch(l){An(t,s,l)}}}catch(l){An(t,t.return,l)}if(t===e){we=null;break}var a=t.sibling;if(a!==null){a.return=t.return,we=a;break}we=t.return}}var Mie=Math.ceil,Gm=Js.ReactCurrentDispatcher,Cw=Js.ReactCurrentOwner,no=Js.ReactCurrentBatchConfig,pt=0,ir=null,Fn=null,mr=0,gi=0,Uc=Ka(0),Wn=0,ah=null,ql=0,Iv=0,Tw=0,gf=null,Jr=null,Iw=0,Pu=1/0,_s=null,qm=!1,x_=null,Ra=null,zp=!1,ba=null,Wm=0,mf=0,S_=null,jg=-1,Og=0;function Ur(){return pt&6?Pn():jg!==-1?jg:jg=Pn()}function Pa(e){return e.mode&1?pt&2&&mr!==0?mr&-mr:gie.transition!==null?(Og===0&&(Og=o4()),Og):(e=It,e!==0||(e=window.event,e=e===void 0?16:f4(e.type)),e):1}function Bo(e,t,n,r){if(50<mf)throw mf=0,S_=null,Error(ce(185));Vh(e,n,r),(!(pt&2)||e!==ir)&&(e===ir&&(!(pt&2)&&(Iv|=n),Wn===4&&fa(e,mr)),si(e,r),n===1&&pt===0&&!(t.mode&1)&&(Pu=Pn()+500,Ev&&Ya()))}function si(e,t){var n=e.callbackNode;gre(e,t);var r=Rm(e,e===ir?mr:0);if(r===0)n!==null&&gI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gI(n),t===1)e.tag===0?pie(aR.bind(null,e)):P4(aR.bind(null,e)),uie(function(){!(pt&6)&&Ya()}),n=null;else{switch(s4(r)){case 1:n=tw;break;case 4:n=r4;break;case 16:n=Im;break;case 536870912:n=i4;break;default:n=Im}n=RL(n,SL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function SL(e,t){if(jg=-1,Og=0,pt&6)throw Error(ce(327));var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=Rm(e,e===ir?mr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Km(e,r);else{t=r;var i=pt;pt|=2;var o=EL();(ir!==e||mr!==t)&&(_s=null,Pu=Pn()+500,Rl(e,t));do try{Vie();break}catch(a){wL(e,a)}while(!0);pw(),Gm.current=o,pt=i,Fn!==null?t=0:(ir=null,mr=0,t=Wn)}if(t!==0){if(t===2&&(i=Qb(e),i!==0&&(r=i,t=w_(e,i))),t===1)throw n=ah,Rl(e,0),fa(e,r),si(e,Pn()),n;if(t===6)fa(e,r);else{if(i=e.current.alternate,!(r&30)&&!jie(i)&&(t=Km(e,r),t===2&&(o=Qb(e),o!==0&&(r=o,t=w_(e,o))),t===1))throw n=ah,Rl(e,0),fa(e,r),si(e,Pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:ul(e,Jr,_s);break;case 3:if(fa(e,r),(r&130023424)===r&&(t=Iw+500-Pn(),10<t)){if(Rm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ur(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=i_(ul.bind(null,e,Jr,_s),t);break}ul(e,Jr,_s);break;case 4:if(fa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Do(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mie(r/1960))-r,10<r){e.timeoutHandle=i_(ul.bind(null,e,Jr,_s),r);break}ul(e,Jr,_s);break;case 5:ul(e,Jr,_s);break;default:throw Error(ce(329))}}}return si(e,Pn()),e.callbackNode===n?SL.bind(null,e):null}function w_(e,t){var n=gf;return e.current.memoizedState.isDehydrated&&(Rl(e,t).flags|=256),e=Km(e,t),e!==2&&(t=Jr,Jr=n,t!==null&&E_(t)),e}function E_(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function jie(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ho(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t){for(t&=~Tw,t&=~Iv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Do(t),r=1<<n;e[n]=-1,t&=~r}}function aR(e){if(pt&6)throw Error(ce(327));lu();var t=Rm(e,0);if(!(t&1))return si(e,Pn()),null;var n=Km(e,t);if(e.tag!==0&&n===2){var r=Qb(e);r!==0&&(t=r,n=w_(e,r))}if(n===1)throw n=ah,Rl(e,0),fa(e,t),si(e,Pn()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ul(e,Jr,_s),si(e,Pn()),null}function Rw(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(Pu=Pn()+500,Ev&&Ya())}}function Wl(e){ba!==null&&ba.tag===0&&!(pt&6)&&lu();var t=pt;pt|=1;var n=no.transition,r=It;try{if(no.transition=null,It=1,e)return e()}finally{It=r,no.transition=n,pt=t,!(pt&6)&&Ya()}}function Pw(){gi=Uc.current,Yt(Uc)}function Rl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cie(n)),Fn!==null)for(n=Fn.return;n!==null;){var r=n;switch(dw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vm();break;case 3:Iu(),Yt(ii),Yt(Ir),bw();break;case 5:Aw(r);break;case 4:Iu();break;case 13:Yt(cn);break;case 19:Yt(cn);break;case 10:gw(r.type._context);break;case 22:case 23:Pw()}n=n.return}if(ir=e,Fn=e=Ma(e.current,null),mr=gi=t,Wn=0,ah=null,Tw=Iv=ql=0,Jr=gf=null,Al!==null){for(t=0;t<Al.length;t++)if(n=Al[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Al=null}return e}function wL(e,t){do{var n=Fn;try{if(pw(),Rg.current=Hm,Um){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Um=!1}if(Gl=0,tr=Hn=fn=null,hf=!1,ih=0,Cw.current=null,n===null||n.return===null){Wn=1,ah=t,Fn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=KI(s);if(p!==null){p.flags&=-257,YI(p,s,a,o,t),p.mode&1&&WI(o,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){WI(o,c,t),Mw();break e}l=Error(ce(426))}}else if(rn&&a.mode&1){var b=KI(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),YI(b,s,a,o,t),fw(Ru(l,a));break e}}o=l=Ru(l,a),Wn!==4&&(Wn=2),gf===null?gf=[o]:gf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=aL(o,l,t);$I(o,v);break e;case 1:a=l;var A=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ra===null||!Ra.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=lL(o,a,t);$I(o,S);break e}}o=o.return}while(o!==null)}CL(n)}catch(x){t=x,Fn===n&&n!==null&&(Fn=n=n.return);continue}break}while(!0)}function EL(){var e=Gm.current;return Gm.current=Hm,e===null?Hm:e}function Mw(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),ir===null||!(ql&268435455)&&!(Iv&268435455)||fa(ir,mr)}function Km(e,t){var n=pt;pt|=2;var r=EL();(ir!==e||mr!==t)&&(_s=null,Rl(e,t));do try{Oie();break}catch(i){wL(e,i)}while(!0);if(pw(),pt=n,Gm.current=r,Fn!==null)throw Error(ce(261));return ir=null,mr=0,Wn}function Oie(){for(;Fn!==null;)kL(Fn)}function Vie(){for(;Fn!==null&&!sre();)kL(Fn)}function kL(e){var t=IL(e.alternate,e,gi);e.memoizedProps=e.pendingProps,t===null?CL(e):Fn=t,Cw.current=null}function CL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tie(n,t),n!==null){n.flags&=32767,Fn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wn=6,Fn=null;return}}else if(n=Cie(n,t,gi),n!==null){Fn=n;return}if(t=t.sibling,t!==null){Fn=t;return}Fn=t=e}while(t!==null);Wn===0&&(Wn=5)}function ul(e,t,n){var r=It,i=no.transition;try{no.transition=null,It=1,Lie(e,t,n,r)}finally{no.transition=i,It=r}return null}function Lie(e,t,n,r){do lu();while(ba!==null);if(pt&6)throw Error(ce(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mre(e,o),e===ir&&(Fn=ir=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zp||(zp=!0,RL(Im,function(){return lu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=no.transition,no.transition=null;var s=It;It=1;var a=pt;pt|=4,Cw.current=null,Rie(e,n),_L(n,e),nie(n_),Pm=!!t_,n_=t_=null,e.current=n,Pie(n),are(),pt=a,It=s,no.transition=o}else e.current=n;if(zp&&(zp=!1,ba=e,Wm=i),o=e.pendingLanes,o===0&&(Ra=null),ure(n.stateNode),si(e,Pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qm)throw qm=!1,e=x_,x_=null,e;return Wm&1&&e.tag!==0&&lu(),o=e.pendingLanes,o&1?e===S_?mf++:(mf=0,S_=e):mf=0,Ya(),null}function lu(){if(ba!==null){var e=s4(Wm),t=no.transition,n=It;try{if(no.transition=null,It=16>e?16:e,ba===null)var r=!1;else{if(e=ba,ba=null,Wm=0,pt&6)throw Error(ce(331));var i=pt;for(pt|=4,we=e.current;we!==null;){var o=we,s=o.child;if(we.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:pf(8,u,o)}var d=u.child;if(d!==null)d.return=u,we=d;else for(;we!==null;){u=we;var h=u.sibling,p=u.return;if(yL(u),u===c){we=null;break}if(h!==null){h.return=p,we=h;break}we=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}we=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,we=s;else e:for(;we!==null;){if(o=we,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pf(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,we=v;break e}we=o.return}}var A=e.current;for(we=A;we!==null;){s=we;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,we=_;else e:for(s=A;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tv(9,a)}}catch(x){An(a,a.return,x)}if(a===s){we=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,we=S;break e}we=a.return}}if(pt=i,Ya(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(bv,e)}catch{}r=!0}return r}finally{It=n,no.transition=t}}return!1}function lR(e,t,n){t=Ru(n,t),t=aL(e,t,1),e=Ia(e,t,1),t=Ur(),e!==null&&(Vh(e,1,t),si(e,t))}function An(e,t,n){if(e.tag===3)lR(e,e,n);else for(;t!==null;){if(t.tag===3){lR(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ra===null||!Ra.has(r))){e=Ru(n,e),e=lL(t,e,1),t=Ia(t,e,1),e=Ur(),t!==null&&(Vh(t,1,e),si(t,e));break}}t=t.return}}function Nie(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ur(),e.pingedLanes|=e.suspendedLanes&n,ir===e&&(mr&n)===n&&(Wn===4||Wn===3&&(mr&130023424)===mr&&500>Pn()-Iw?Rl(e,0):Tw|=n),si(e,t)}function TL(e,t){t===0&&(e.mode&1?(t=Mp,Mp<<=1,!(Mp&130023424)&&(Mp=4194304)):t=1);var n=Ur();e=Hs(e,t),e!==null&&(Vh(e,t,n),si(e,n))}function Die(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),TL(e,n)}function Bie(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(t),TL(e,n)}var IL;IL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ii.current)ti=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ti=!1,kie(e,t,n);ti=!!(e.flags&131072)}else ti=!1,rn&&t.flags&1048576&&M4(t,Dm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mg(e,t),e=t.pendingProps;var i=ku(t,Ir.current);au(t,n),i=xw(null,t,r,e,i,n);var o=Sw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,oi(r)?(o=!0,Lm(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vw(t),i.updater=kv,t.stateNode=i,i._reactInternals=t,d_(t,r,e,n),t=p_(null,t,r,!0,o,n)):(t.tag=0,rn&&o&&uw(t),Vr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Fie(r),e=xo(r,e),i){case 0:t=h_(null,t,r,e,n);break e;case 1:t=XI(null,t,r,e,n);break e;case 11:t=QI(null,t,r,e,n);break e;case 14:t=JI(null,t,r,xo(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),h_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),XI(e,t,r,i,n);case 3:e:{if(fL(t),e===null)throw Error(ce(387));r=t.pendingProps,o=t.memoizedState,i=o.element,L4(e,t),Fm(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ru(Error(ce(423)),t),t=ZI(e,t,r,n,i);break e}else if(r!==i){i=Ru(Error(ce(424)),t),t=ZI(e,t,r,n,i);break e}else for(bi=Ta(t.stateNode.containerInfo.firstChild),xi=t,rn=!0,Co=null,n=$4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cu(),r===i){t=Gs(e,t,n);break e}Vr(e,t,r,n)}t=t.child}return t;case 5:return F4(t),e===null&&l_(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,r_(r,i)?s=null:o!==null&&r_(r,o)&&(t.flags|=32),dL(e,t),Vr(e,t,s,n),t.child;case 6:return e===null&&l_(t),null;case 13:return hL(e,t,n);case 4:return yw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tu(t,null,r,n):Vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),QI(e,t,r,i,n);case 7:return Vr(e,t,t.pendingProps,n),t.child;case 8:return Vr(e,t,t.pendingProps.children,n),t.child;case 12:return Vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Gt(Bm,r._currentValue),r._currentValue=s,o!==null)if(Ho(o.value,s)){if(o.children===i.children&&!ii.current){t=Gs(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Vs(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),c_(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ce(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),c_(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,au(t,n),i=co(i),r=r(i),t.flags|=1,Vr(e,t,r,n),t.child;case 14:return r=t.type,i=xo(r,t.pendingProps),i=xo(r.type,i),JI(e,t,r,i,n);case 15:return cL(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xo(r,i),Mg(e,t),t.tag=1,oi(r)?(e=!0,Lm(t)):e=!1,au(t,n),D4(t,r,i),d_(t,r,i,n),p_(null,t,r,!0,e,n);case 19:return pL(e,t,n);case 22:return uL(e,t,n)}throw Error(ce(156,t.tag))};function RL(e,t){return n4(e,t)}function $ie(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(e,t,n,r){return new $ie(e,t,n,r)}function jw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fie(e){if(typeof e=="function")return jw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===XS)return 11;if(e===ZS)return 14}return 2}function Ma(e,t){var n=e.alternate;return n===null?(n=Ji(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")jw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jc:return Pl(n.children,i,o,t);case JS:s=8,i|=8;break;case Vb:return e=Ji(12,n,t,i|2),e.elementType=Vb,e.lanes=o,e;case Lb:return e=Ji(13,n,t,i),e.elementType=Lb,e.lanes=o,e;case Nb:return e=Ji(19,n,t,i),e.elementType=Nb,e.lanes=o,e;case BV:return Rv(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NV:s=10;break e;case DV:s=9;break e;case XS:s=11;break e;case ZS:s=14;break e;case la:s=16,r=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Ji(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Pl(e,t,n,r){return e=Ji(7,e,r,t),e.lanes=n,e}function Rv(e,t,n,r){return e=Ji(22,e,r,t),e.elementType=BV,e.lanes=n,e.stateNode={isHidden:!1},e}function bA(e,t,n){return e=Ji(6,e,null,t),e.lanes=n,e}function _A(e,t,n){return t=Ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zie(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tA(0),this.expirationTimes=tA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ow(e,t,n,r,i,o,s,a,l){return e=new zie(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ji(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vw(o),e}function Uie(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function PL(e){if(!e)return $a;e=e._reactInternals;e:{if(oc(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(oi(n))return R4(e,n,t)}return t}function ML(e,t,n,r,i,o,s,a,l){return e=Ow(n,r,!0,e,i,o,s,a,l),e.context=PL(null),n=e.current,r=Ur(),i=Pa(n),o=Vs(r,i),o.callback=t??null,Ia(n,o,i),e.current.lanes=i,Vh(e,i,r),si(e,r),e}function Pv(e,t,n,r){var i=t.current,o=Ur(),s=Pa(i);return n=PL(n),t.context===null?t.context=n:t.pendingContext=n,t=Vs(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ia(i,t,s),e!==null&&(Bo(e,i,s,o),Ig(e,i,s)),s}function Ym(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vw(e,t){cR(e,t),(e=e.alternate)&&cR(e,t)}function Hie(){return null}var jL=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lw(e){this._internalRoot=e}Mv.prototype.render=Lw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Pv(e,t,null,null)};Mv.prototype.unmount=Lw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wl(function(){Pv(null,e,null,null)}),t[Us]=null}};function Mv(e){this._internalRoot=e}Mv.prototype.unstable_scheduleHydration=function(e){if(e){var t=c4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<da.length&&t!==0&&t<da[n].priority;n++);da.splice(n,0,e),n===0&&d4(e)}};function Nw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uR(){}function Gie(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ym(s);o.call(c)}}var s=ML(t,r,e,0,null,!1,!1,"",uR);return e._reactRootContainer=s,e[Us]=s.current,Zf(e.nodeType===8?e.parentNode:e),Wl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ym(l);a.call(c)}}var l=Ow(e,0,!1,null,null,!1,!1,"",uR);return e._reactRootContainer=l,e[Us]=l.current,Zf(e.nodeType===8?e.parentNode:e),Wl(function(){Pv(t,l,n,r)}),l}function Ov(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ym(s);a.call(l)}}Pv(t,s,e,i)}else s=Gie(n,t,e,i,r);return Ym(s)}a4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dd(t.pendingLanes);n!==0&&(nw(t,n|1),si(t,Pn()),!(pt&6)&&(Pu=Pn()+500,Ya()))}break;case 13:Wl(function(){var r=Hs(e,1);if(r!==null){var i=Ur();Bo(r,e,1,i)}}),Vw(e,1)}};rw=function(e){if(e.tag===13){var t=Hs(e,134217728);if(t!==null){var n=Ur();Bo(t,e,134217728,n)}Vw(e,134217728)}};l4=function(e){if(e.tag===13){var t=Pa(e),n=Hs(e,t);if(n!==null){var r=Ur();Bo(n,e,t,r)}Vw(e,t)}};c4=function(){return It};u4=function(e,t){var n=It;try{return It=e,t()}finally{It=n}};Wb=function(e,t,n){switch(t){case"input":if($b(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wv(r);if(!i)throw Error(ce(90));FV(r),$b(r,i)}}}break;case"textarea":UV(e,n);break;case"select":t=n.value,t!=null&&ru(e,!!n.multiple,t,!1)}};QV=Rw;JV=Wl;var qie={usingClientEntryPoint:!1,Events:[Nh,Nc,wv,KV,YV,Rw]},wd={findFiberByHostInstance:yl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wie={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e4(e),e===null?null:e.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||Hie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Up.isDisabled&&Up.supportsFiber)try{bv=Up.inject(Wie),cs=Up}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qie;Pi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nw(t))throw Error(ce(200));return Uie(e,t,null,n)};Pi.createRoot=function(e,t){if(!Nw(e))throw Error(ce(299));var n=!1,r="",i=jL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ow(e,1,!1,null,null,n,!1,r,i),e[Us]=t.current,Zf(e.nodeType===8?e.parentNode:e),new Lw(t)};Pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=e4(t),e=e===null?null:e.stateNode,e};Pi.flushSync=function(e){return Wl(e)};Pi.hydrate=function(e,t,n){if(!jv(t))throw Error(ce(200));return Ov(null,e,t,!0,n)};Pi.hydrateRoot=function(e,t,n){if(!Nw(e))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=jL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ML(t,null,e,1,n??null,i,!1,o,s),e[Us]=t.current,Zf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Mv(t)};Pi.render=function(e,t,n){if(!jv(t))throw Error(ce(200));return Ov(null,e,t,!1,n)};Pi.unmountComponentAtNode=function(e){if(!jv(e))throw Error(ce(40));return e._reactRootContainer?(Wl(function(){Ov(null,null,e,!1,function(){e._reactRootContainer=null,e[Us]=null})}),!0):!1};Pi.unstable_batchedUpdates=Rw;Pi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jv(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Ov(e,t,n,!1,r)};Pi.version="18.2.0-next-9e3b772b8-20220608";function OL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OL)}catch(e){console.error(e)}}OL(),MV.exports=Pi;var sc=MV.exports;const Hp=yr(sc),dR={disabled:!1},Qm=Ce.createContext(null);var Kie=function(t){return t.scrollTop},$d="unmounted",dl="exited",fl="entering",wc="entered",k_="exiting",Xs=function(e){PV(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=dl,o.appearStatus=fl):l=wc:r.unmountOnExit||r.mountOnEnter?l=$d:l=dl,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===$d?{status:dl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==fl&&s!==wc&&(o=fl):(s===fl||s===wc)&&(o=k_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===fl){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Hp.findDOMNode(this);s&&Kie(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dl&&this.setState({status:$d})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Hp.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||dR.disabled){this.safeSetState({status:wc},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:fl},function(){o.props.onEntering(c,u),o.onTransitionEnd(h,function(){o.safeSetState({status:wc},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Hp.findDOMNode(this);if(!o||dR.disabled){this.safeSetState({status:dl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:k_},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:dl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Hp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===$d)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=jt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ce.createElement(Qm.Provider,{value:null},typeof s=="function"?s(i,a):Ce.cloneElement(Ce.Children.only(s),a))},t}(Ce.Component);Xs.contextType=Qm;Xs.propTypes={};function Ac(){}Xs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ac,onEntering:Ac,onEntered:Ac,onExit:Ac,onExiting:Ac,onExited:Ac};Xs.UNMOUNTED=$d;Xs.EXITED=dl;Xs.ENTERING=fl;Xs.ENTERED=wc;Xs.EXITING=k_;function Yie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dw(e,t){var n=function(o){return t&&y.isValidElement(o)?t(o):o},r=Object.create(null);return e&&y.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Qie(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function _l(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Jie(e,t){return Dw(e.children,function(n){return y.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:_l(n,"appear",e),enter:_l(n,"enter",e),exit:_l(n,"exit",e)})})}function Xie(e,t,n){var r=Dw(e.children),i=Qie(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(y.isValidElement(s)){var a=o in t,l=o in r,c=t[o],u=y.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=y.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:_l(s,"exit",e),enter:_l(s,"enter",e)}):!l&&a&&!u?i[o]=y.cloneElement(s,{in:!1}):l&&a&&y.isValidElement(c)&&(i[o]=y.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:_l(s,"exit",e),enter:_l(s,"enter",e)}))}}),i}var Zie=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},eoe={component:"div",childFactory:function(t){return t}},Bw=function(e){PV(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Yie(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Jie(i,a):Xie(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Dw(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=ie({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=jt(i,["component","childFactory"]),l=this.state.contextValue,c=Zie(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Ce.createElement(Qm.Provider,{value:l},c):Ce.createElement(Qm.Provider,{value:l},Ce.createElement(o,a,c))},t}(Ce.Component);Bw.propTypes={};Bw.defaultProps=eoe;function toe(e){return Object.keys(e).length===0}function VL(e=null){const t=y.useContext(Ch);return!t||toe(t)?e:t}const noe=FS();function roe(e=noe){return VL(e)}function $w(e,t=0,n=1){return cV(e,t,n)}function ioe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Vv(e){if(e.type)return e;if(e.charAt(0)==="#")return Vv(ioe(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(zl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(zl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function Fw(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function ooe(e,t){return e=Vv(e),t=$w(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Fw(e)}function Y_e(e,t){if(e=Vv(e),t=$w(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Fw(e)}function Q_e(e,t){if(e=Vv(e),t=$w(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Fw(e)}const LL=y.createContext(null);function NL(){return y.useContext(LL)}const soe=typeof Symbol=="function"&&Symbol.for,aoe=soe?Symbol.for("mui.nested"):"__THEME_NESTED__";function loe(e,t){return typeof t=="function"?t(e):ie({},e,t)}function coe(e){const{children:t,theme:n}=e,r=NL(),i=y.useMemo(()=>{const o=r===null?n:loe(r,n);return o!=null&&(o[aoe]=r!==null),o},[n,r]);return f.jsx(LL.Provider,{value:i,children:t})}const uoe=["value"],DL=y.createContext();function doe(e){let{value:t}=e,n=jt(e,uoe);return f.jsx(DL.Provider,ie({value:t??!0},n))}const J_e=()=>{const e=y.useContext(DL);return e??!1},fR={};function hR(e,t,n,r=!1){return y.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?ie({},t,{[e]:o}):o;return r?()=>s:s}return e?ie({},t,{[e]:n}):ie({},t,n)},[e,t,n,r])}function foe(e){const{children:t,theme:n,themeId:r}=e,i=VL(fR),o=NL()||fR,s=hR(r,i,n),a=hR(r,o,n,!0),l=s.direction==="rtl";return f.jsx(coe,{theme:a,children:f.jsx(Ch.Provider,{value:s,children:f.jsx(doe,{value:l,children:f.jsx(mee,{value:s==null?void 0:s.components,children:t})})})})}function hoe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=e,[u,d]=y.useState(!1),h=At(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=At(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),y.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const zi=Pr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),poe=["center","classes","className"];let Lv=e=>e,pR,gR,mR,vR;const C_=550,goe=80,moe=Ga(pR||(pR=Lv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),voe=Ga(gR||(gR=Lv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),yoe=Ga(mR||(mR=Lv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Aoe=Qt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),boe=Qt(hoe,{name:"MuiTouchRipple",slot:"Ripple"})(vR||(vR=Lv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),zi.rippleVisible,moe,C_,({theme:e})=>e.transitions.easing.easeInOut,zi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,zi.child,zi.childLeaving,voe,C_,({theme:e})=>e.transitions.easing.easeInOut,zi.childPulsate,yoe,({theme:e})=>e.transitions.easing.easeInOut),_oe=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=jt(r,poe),[l,c]=y.useState([]),u=y.useRef(0),d=y.useRef(null);y.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=y.useRef(!1),p=iee(),g=y.useRef(null),m=y.useRef(null),b=y.useCallback(S=>{const{pulsate:x,rippleX:w,rippleY:E,rippleSize:C,cb:j}=S;c(L=>[...L,f.jsx(boe,{classes:{ripple:At(o.ripple,zi.ripple),rippleVisible:At(o.rippleVisible,zi.rippleVisible),ripplePulsate:At(o.ripplePulsate,zi.ripplePulsate),child:At(o.child,zi.child),childLeaving:At(o.childLeaving,zi.childLeaving),childPulsate:At(o.childPulsate,zi.childPulsate)},timeout:C_,pulsate:x,rippleX:w,rippleY:E,rippleSize:C},u.current)]),u.current+=1,d.current=j},[o]),v=y.useCallback((S={},x={},w=()=>{})=>{const{pulsate:E=!1,center:C=i||x.pulsate,fakeElement:j=!1}=x;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const L=j?null:m.current,B=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,P,V;if(C||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)U=Math.round(B.width/2),P=Math.round(B.height/2);else{const{clientX:R,clientY:k}=S.touches&&S.touches.length>0?S.touches[0]:S;U=Math.round(R-B.left),P=Math.round(k-B.top)}if(C)V=Math.sqrt((2*B.width**2+B.height**2)/3),V%2===0&&(V+=1);else{const R=Math.max(Math.abs((L?L.clientWidth:0)-U),U)*2+2,k=Math.max(Math.abs((L?L.clientHeight:0)-P),P)*2+2;V=Math.sqrt(R**2+k**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{b({pulsate:E,rippleX:U,rippleY:P,rippleSize:V,cb:w})},p.start(goe,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:E,rippleX:U,rippleY:P,rippleSize:V,cb:w})},[i,b,p]),A=y.useCallback(()=>{v({},{pulsate:!0})},[v]),_=y.useCallback((S,x)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{_(S,x)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=x},[p]);return y.useImperativeHandle(n,()=>({pulsate:A,start:v,stop:_}),[A,v,_]),f.jsx(Aoe,ie({className:At(zi.root,o.root,s),ref:m},a,{children:f.jsx(Bw,{component:null,exit:!0,children:l})}))});function xoe(e){return Rr("MuiButtonBase",e)}const Soe=Pr("MuiButtonBase",["root","disabled","focusVisible"]),woe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Eoe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Gr({root:["root",t&&"disabled",n&&"focusVisible"]},xoe,i);return n&&r&&(s.root+=` ${r}`),s},koe=Qt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Soe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),BL=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:b,onDragLeave:v,onFocus:A,onFocusVisible:_,onKeyDown:S,onKeyUp:x,onMouseDown:w,onMouseLeave:E,onMouseUp:C,onTouchEnd:j,onTouchMove:L,onTouchStart:B,tabIndex:U=0,TouchRippleProps:P,touchRippleRef:V,type:R}=r,k=jt(r,woe),D=y.useRef(null),O=y.useRef(null),z=Da(O,V),{isFocusVisibleRef:$,onFocus:G,onBlur:H,ref:ne}=aV(),[N,ue]=y.useState(!1);c&&N&&ue(!1),y.useImperativeHandle(i,()=>({focusVisible:()=>{ue(!0),D.current.focus()}}),[]);const[Z,ae]=y.useState(!1);y.useEffect(()=>{ae(!0)},[]);const Pe=Z&&!u&&!c;y.useEffect(()=>{N&&h&&!u&&Z&&O.current.pulsate()},[u,h,N,Z]);function be(ye,it,wn=d){return vl(ht=>(it&&it(ht),!wn&&O.current&&O.current[ye](ht),!0))}const le=be("start",w),Se=be("stop",b),Ue=be("stop",v),De=be("stop",C),xe=be("stop",ye=>{N&&ye.preventDefault(),E&&E(ye)}),Te=be("start",B),Ke=be("stop",j),Ye=be("stop",L),je=be("stop",ye=>{H(ye),$.current===!1&&ue(!1),g&&g(ye)},!1),lt=vl(ye=>{D.current||(D.current=ye.currentTarget),G(ye),$.current===!0&&(ue(!0),_&&_(ye)),A&&A(ye)}),Ot=()=>{const ye=D.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},on=y.useRef(!1),Dt=vl(ye=>{h&&!on.current&&N&&O.current&&ye.key===" "&&(on.current=!0,O.current.stop(ye,()=>{O.current.start(ye)})),ye.target===ye.currentTarget&&Ot()&&ye.key===" "&&ye.preventDefault(),S&&S(ye),ye.target===ye.currentTarget&&Ot()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),m&&m(ye))}),Sn=vl(ye=>{h&&ye.key===" "&&O.current&&N&&!ye.defaultPrevented&&(on.current=!1,O.current.stop(ye,()=>{O.current.pulsate(ye)})),x&&x(ye),m&&ye.target===ye.currentTarget&&Ot()&&ye.key===" "&&!ye.defaultPrevented&&m(ye)});let ft=l;ft==="button"&&(k.href||k.to)&&(ft=p);const Et={};ft==="button"?(Et.type=R===void 0?"button":R,Et.disabled=c):(!k.href&&!k.to&&(Et.role="button"),c&&(Et["aria-disabled"]=c));const Jt=Da(n,ne,D),Xe=ie({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:U,focusVisible:N}),Bt=Eoe(Xe);return f.jsxs(koe,ie({as:ft,className:At(Bt.root,a),ownerState:Xe,onBlur:je,onClick:m,onContextMenu:Se,onFocus:lt,onKeyDown:Dt,onKeyUp:Sn,onMouseDown:le,onMouseLeave:xe,onMouseUp:De,onDragLeave:Ue,onTouchEnd:Ke,onTouchMove:Ye,onTouchStart:Te,ref:Jt,tabIndex:c?-1:U,type:R},Et,k,{children:[s,Pe?f.jsx(_oe,ie({ref:z,center:o},P)):null]}))});function Coe(e){return Rr("MuiIconButton",e)}const Toe=Pr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ioe=["edge","children","className","color","disabled","disableFocusRipple","size"],Roe=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled",r!=="default"&&`color${nt(r)}`,i&&`edge${nt(i)}`,`size${nt(o)}`]};return Gr(s,Coe,t)},Poe=Qt(BL,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${nt(n.color)}`],n.edge&&t[`edge${nt(n.edge)}`],t[`size${nt(n.size)}`]]}})(({theme:e,ownerState:t})=>ie({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ya(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return ie({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&ie({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":ie({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ya(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Toe.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Nv=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=jt(r,Ioe),h=ie({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Roe(h);return f.jsx(Poe,ie({className:At(p.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:o}))}),Mu=Math.min,Ml=Math.max,Jm=Math.round,Gp=Math.floor,Fa=e=>({x:e,y:e}),Moe={left:"right",right:"left",bottom:"top",top:"bottom"},joe={start:"end",end:"start"};function T_(e,t,n){return Ml(e,Mu(t,n))}function Bh(e,t){return typeof e=="function"?e(t):e}function Kl(e){return e.split("-")[0]}function $h(e){return e.split("-")[1]}function $L(e){return e==="x"?"y":"x"}function zw(e){return e==="y"?"height":"width"}function Dv(e){return["top","bottom"].includes(Kl(e))?"y":"x"}function Uw(e){return $L(Dv(e))}function Ooe(e,t,n){n===void 0&&(n=!1);const r=$h(e),i=Uw(e),o=zw(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Xm(s)),[s,Xm(s)]}function Voe(e){const t=Xm(e);return[I_(e),t,I_(t)]}function I_(e){return e.replace(/start|end/g,t=>joe[t])}function Loe(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function Noe(e,t,n,r){const i=$h(e);let o=Loe(Kl(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(I_)))),o}function Xm(e){return e.replace(/left|right|bottom|top/g,t=>Moe[t])}function Doe(e){return{top:0,right:0,bottom:0,left:0,...e}}function FL(e){return typeof e!="number"?Doe(e):{top:e,right:e,bottom:e,left:e}}function Zm(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function yR(e,t,n){let{reference:r,floating:i}=e;const o=Dv(t),s=Uw(t),a=zw(s),l=Kl(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch($h(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const Boe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=yR(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:v}=a[m],{x:A,y:_,data:S,reset:x}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=A??u,d=_??d,p={...p,[b]:{...p[b],...S}},x&&g<=50&&(g++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(c=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:u,y:d}=yR(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function zL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Bh(t,e),g=FL(p),b=a[h?d==="floating"?"reference":"floating":d],v=Zm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=d==="floating"?{...s.floating,x:r,y:i}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},x=Zm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:_,strategy:l}):A);return{top:(v.top-x.top+g.top)/S.y,bottom:(x.bottom-v.bottom+g.bottom)/S.y,left:(v.left-x.left+g.left)/S.x,right:(x.right-v.right+g.right)/S.x}}const $oe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Bh(e,t)||{};if(c==null)return{};const d=FL(u),h={x:n,y:r},p=Uw(i),g=zw(p),m=await s.getDimensions(c),b=p==="y",v=b?"top":"left",A=b?"bottom":"right",_=b?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[p]-h[p]-o.floating[g],x=h[p]-o.reference[p],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=w?w[_]:0;(!E||!await(s.isElement==null?void 0:s.isElement(w)))&&(E=a.floating[_]||o.floating[g]);const C=S/2-x/2,j=E/2-m[g]/2-1,L=Mu(d[v],j),B=Mu(d[A],j),U=L,P=E-m[g]-B,V=E/2-m[g]/2+C,R=T_(U,V,P),k=!l.arrow&&$h(i)!=null&&V!==R&&o.reference[g]/2-(V<U?L:B)-m[g]/2<0,D=k?V<U?V-U:V-P:0;return{[p]:h[p]+D,data:{[p]:R,centerOffset:V-R-D,...k&&{alignmentOffset:D}},reset:k}}}),Foe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=Bh(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Kl(i),A=Kl(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(A||!m?[Xm(a)]:Voe(a));!h&&g!=="none"&&S.push(...Noe(a,m,g,_));const x=[a,...S],w=await zL(t,b),E=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[v]),d){const U=Ooe(i,s,_);E.push(w[U[0]],w[U[1]])}if(C=[...C,{placement:i,overflows:E}],!E.every(U=>U<=0)){var j,L;const U=(((j=o.flip)==null?void 0:j.index)||0)+1,P=x[U];if(P)return{data:{index:U,overflows:C},reset:{placement:P}};let V=(L=C.filter(R=>R.overflows[0]<=0).sort((R,k)=>R.overflows[1]-k.overflows[1])[0])==null?void 0:L.placement;if(!V)switch(p){case"bestFit":{var B;const R=(B=C.map(k=>[k.placement,k.overflows.filter(D=>D>0).reduce((D,O)=>D+O,0)]).sort((k,D)=>k[1]-D[1])[0])==null?void 0:B[0];R&&(V=R);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};async function zoe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Kl(n),a=$h(n),l=Dv(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=Bh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Uoe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await zoe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Hoe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:v,y:A}=b;return{x:v,y:A}}},...l}=Bh(e,t),c={x:n,y:r},u=await zL(t,l),d=Dv(Kl(i)),h=$L(d);let p=c[h],g=c[d];if(o){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",A=p+u[b],_=p-u[v];p=T_(A,p,_)}if(s){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",A=g+u[b],_=g-u[v];g=T_(A,g,_)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function za(e){return UL(e)?(e.nodeName||"").toLowerCase():"#document"}function Si(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zs(e){var t;return(t=(UL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function UL(e){return e instanceof Node||e instanceof Si(e).Node}function qs(e){return e instanceof Element||e instanceof Si(e).Element}function ds(e){return e instanceof HTMLElement||e instanceof Si(e).HTMLElement}function AR(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Si(e).ShadowRoot}function Fh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Goe(e){return["table","td","th"].includes(za(e))}function Hw(e){const t=Gw(),n=fo(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function HL(e){let t=ju(e);for(;ds(t)&&!Bv(t);){if(Hw(t))return t;t=ju(t)}return null}function Gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bv(e){return["html","body","#document"].includes(za(e))}function fo(e){return Si(e).getComputedStyle(e)}function $v(e){return qs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ju(e){if(za(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AR(e)&&e.host||Zs(e);return AR(t)?t.host:t}function GL(e){const t=ju(e);return Bv(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&Fh(t)?t:GL(t)}function lh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=GL(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Si(i);return o?t.concat(s,s.visualViewport||[],Fh(i)?i:[],s.frameElement&&n?lh(s.frameElement):[]):t.concat(i,lh(i,[],n))}function qL(e){const t=fo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ds(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Jm(n)!==o||Jm(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function qw(e){return qs(e)?e:e.contextElement}function cu(e){const t=qw(e);if(!ds(t))return Fa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=qL(t);let s=(o?Jm(n.width):n.width)/r,a=(o?Jm(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const qoe=Fa(0);function WL(e){const t=Si(e);return!Gw()||!t.visualViewport?qoe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Woe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Si(e)?!1:t}function Yl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=qw(e);let s=Fa(1);t&&(r?qs(r)&&(s=cu(r)):s=cu(e));const a=Woe(o,n,r)?WL(o):Fa(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const h=Si(o),p=r&&qs(r)?Si(r):r;let g=h.frameElement;for(;g&&r&&p!==h;){const m=cu(g),b=g.getBoundingClientRect(),v=fo(g),A=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,_=b.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=A,c+=_,g=Si(g).frameElement}}return Zm({width:u,height:d,x:l,y:c})}const Koe=[":popover-open",":modal"];function KL(e){let t=!1,n=0,r=0;function i(o){try{t=t||e.matches(o)}catch{}}if(Koe.forEach(o=>{i(o)}),t){const o=HL(e);if(o){const s=o.getBoundingClientRect();n=s.x,r=s.y}}return[t,n,r]}function Yoe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=Zs(r),[s]=t?KL(t.floating):[!1];if(r===o||s)return n;let a={scrollLeft:0,scrollTop:0},l=Fa(1);const c=Fa(0),u=ds(r);if((u||!u&&i!=="fixed")&&((za(r)!=="body"||Fh(o))&&(a=$v(r)),ds(r))){const d=Yl(r);l=cu(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}}function Qoe(e){return Array.from(e.getClientRects())}function YL(e){return Yl(Zs(e)).left+$v(e).scrollLeft}function Joe(e){const t=Zs(e),n=$v(e),r=e.ownerDocument.body,i=Ml(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ml(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+YL(e);const a=-n.scrollTop;return fo(r).direction==="rtl"&&(s+=Ml(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Xoe(e,t){const n=Si(e),r=Zs(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=Gw();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Zoe(e,t){const n=Yl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=ds(e)?cu(e):Fa(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function bR(e,t,n){let r;if(t==="viewport")r=Xoe(e,n);else if(t==="document")r=Joe(Zs(e));else if(qs(t))r=Zoe(t,n);else{const i=WL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Zm(r)}function QL(e,t){const n=ju(e);return n===t||!qs(n)||Bv(n)?!1:fo(n).position==="fixed"||QL(n,t)}function ese(e,t){const n=t.get(e);if(n)return n;let r=lh(e,[],!1).filter(a=>qs(a)&&za(a)!=="body"),i=null;const o=fo(e).position==="fixed";let s=o?ju(e):e;for(;qs(s)&&!Bv(s);){const a=fo(s),l=Hw(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fh(s)&&!l&&QL(e,s))?r=r.filter(u=>u!==s):i=a,s=ju(s)}return t.set(e,r),r}function tse(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?ese(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=bR(t,u,i);return c.top=Ml(d.top,c.top),c.right=Mu(d.right,c.right),c.bottom=Mu(d.bottom,c.bottom),c.left=Ml(d.left,c.left),c},bR(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nse(e){const{width:t,height:n}=qL(e);return{width:t,height:n}}function rse(e,t,n,r){const i=ds(t),o=Zs(t),s=n==="fixed",a=Yl(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Fa(0);if(i||!i&&!s)if((za(t)!=="body"||Fh(o))&&(l=$v(t)),i){const m=Yl(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else o&&(c.x=YL(o));let u=a.left+l.scrollLeft-c.x,d=a.top+l.scrollTop-c.y;const[h,p,g]=KL(r);return h&&(u+=p,d+=g,i&&(u+=t.clientLeft,d+=t.clientTop)),{x:u,y:d,width:a.width,height:a.height}}function _R(e,t){return!ds(e)||fo(e).position==="fixed"?null:t?t(e):e.offsetParent}function JL(e,t){const n=Si(e);if(!ds(e))return n;let r=_R(e,t);for(;r&&Goe(r)&&fo(r).position==="static";)r=_R(r,t);return r&&(za(r)==="html"||za(r)==="body"&&fo(r).position==="static"&&!Hw(r))?n:r||HL(e)||n}const ise=async function(e){const t=this.getOffsetParent||JL,n=this.getDimensions;return{reference:rse(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function ose(e){return fo(e).direction==="rtl"}const sse={convertOffsetParentRelativeRectToViewportRelativeRect:Yoe,getDocumentElement:Zs,getClippingRect:tse,getOffsetParent:JL,getElementRects:ise,getClientRects:Qoe,getDimensions:nse,getScale:cu,isElement:qs,isRTL:ose};function ase(e,t){let n=null,r;const i=Zs(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=Gp(u),g=Gp(i.clientWidth-(c+d)),m=Gp(i.clientHeight-(u+h)),b=Gp(c),A={rootMargin:-p+"px "+-g+"px "+-m+"px "+-b+"px",threshold:Ml(0,Mu(1,l))||1};let _=!0;function S(x){const w=x[0].intersectionRatio;if(w!==l){if(!_)return s();w?s(!1,w):r=setTimeout(()=>{s(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(S,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,A)}n.observe(e)}return s(!0),o}function lse(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=qw(e),u=i||o?[...c?lh(c):[],...lh(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=c&&a?ase(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[A]=v;A&&A.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Yl(e):null;l&&b();function b(){const v=Yl(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(b)}return n(),()=>{var v;u.forEach(A=>{i&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const cse=Hoe,use=Foe,dse=$oe,xR=(e,t,n)=>{const r=new Map,i={platform:sse,...n},o={...i.platform,_c:r};return Boe(e,t,{...i,platform:o})};var XL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(XL);var fse=XL.exports;const R_=yr(fse);var SR={};const hse="react-tooltip-core-styles",pse="react-tooltip-base-styles",wR={core:!1,base:!1};function ER({css:e,id:t=pse,type:n="base",ref:r}){var i,o;if(!e||typeof document>"u"||wR[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:SR)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:SR)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=hse),r||(r={});const{insertAt:s}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),wR[n]=!0}const kR=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:o="absolute",middlewares:s=[Uoe(Number(i)),use({fallbackAxisSideDirection:"start"}),cse({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=s;return n?(l.push(dse({element:n,padding:5})),xR(e,t,{placement:r,strategy:o,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:b,y:v}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},A=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",_=a&&{borderBottom:a,borderRight:a};let S=0;if(a){const x=`${a}`.match(/(\d+)px/);S=x!=null&&x[1]?Number(x[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:b!=null?`${b}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",..._,[A]:`-${4+S}px`},place:d}})):xR(e,t,{placement:"bottom",strategy:o,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},CR=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),TR=(e,t,n)=>{let r=null;const i=function(...o){const s=()=>{r=null};!r&&(e.apply(this,o),r=setTimeout(s,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},IR=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",P_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>P_(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!IR(e)||!IR(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>P_(e[i],t[i]))},gse=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},RR=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(gse(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},mse=typeof window<"u"?y.useLayoutEffect:y.useEffect,vse="DEFAULT_TOOLTIP_ID",yse={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Ase=y.createContext({getTooltipData:()=>yse});function ZL(e=vse){return y.useContext(Ase).getTooltipData(e)}var bc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},xA={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const bse=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:o,anchorSelect:s,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:b=!1,hidden:v=!1,noArrow:A=!1,clickable:_=!1,closeOnEsc:S=!1,closeOnScroll:x=!1,closeOnResize:w=!1,openEvents:E,closeEvents:C,globalCloseEvents:j,imperativeModeOnly:L,style:B,position:U,afterShow:P,afterHide:V,content:R,contentWrapperRef:k,isOpen:D,defaultIsOpen:O=!1,setIsOpen:z,activeAnchor:$,setActiveAnchor:G,border:H,opacity:ne,arrowColor:N,role:ue="tooltip"})=>{var Z;const ae=y.useRef(null),Pe=y.useRef(null),be=y.useRef(null),le=y.useRef(null),Se=y.useRef(null),[Ue,De]=y.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[xe,Te]=y.useState(!1),[Ke,Ye]=y.useState(!1),[je,lt]=y.useState(null),Ot=y.useRef(!1),on=y.useRef(null),{anchorRefs:Dt,setActiveAnchor:Sn}=ZL(t),ft=y.useRef(!1),[Et,Jt]=y.useState([]),Xe=y.useRef(!1),Bt=u||c.includes("click"),ye=Bt||(E==null?void 0:E.click)||(E==null?void 0:E.dblclick)||(E==null?void 0:E.mousedown),it=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&Bt&&Object.assign(it,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const wn=C?{...C}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!C&&Bt&&Object.assign(wn,{mouseleave:!1,blur:!1,mouseout:!1});const ht=j?{...j}:{escape:S||!1,scroll:x||!1,resize:w||!1,clickOutsideAnchor:ye||!1};L&&(Object.assign(it,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(wn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ht,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),mse(()=>(Xe.current=!0,()=>{Xe.current=!1}),[]);const ot=Ae=>{Xe.current&&(Ae&&Ye(!0),setTimeout(()=>{Xe.current&&(z==null||z(Ae),D===void 0&&Te(Ae))},10))};y.useEffect(()=>{if(D===void 0)return()=>null;D&&Ye(!0);const Ae=setTimeout(()=>{Te(D)},10);return()=>{clearTimeout(Ae)}},[D]),y.useEffect(()=>{if(xe!==Ot.current)if(Se.current&&clearTimeout(Se.current),Ot.current=xe,xe)P==null||P();else{const Ae=($e=>{const qe=$e.match(/^([\d.]+)(ms|s)$/);if(!qe)return 0;const[,Vn,Qn]=qe;return Number(Vn)*(Qn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Se.current=setTimeout(()=>{Ye(!1),lt(null),V==null||V()},Ae+25)}},[xe]);const sn=Ae=>{De($e=>P_($e,Ae)?$e:Ae)},gn=(Ae=g)=>{be.current&&clearTimeout(be.current),Ke?ot(!0):be.current=setTimeout(()=>{ot(!0)},Ae)},Xt=(Ae=m)=>{le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{ft.current||ot(!1)},Ae)},mt=Ae=>{var $e;if(!Ae)return;const qe=($e=Ae.currentTarget)!==null&&$e!==void 0?$e:Ae.target;if(!(qe!=null&&qe.isConnected))return G(null),void Sn({current:null});g?gn():ot(!0),G(qe),Sn({current:qe}),le.current&&clearTimeout(le.current)},Un=()=>{_?Xt(m||100):m?Xt():ot(!1),be.current&&clearTimeout(be.current)},br=({x:Ae,y:$e})=>{var qe;const Vn={getBoundingClientRect:()=>({x:Ae,y:$e,width:0,height:0,top:$e,left:Ae,right:Ae,bottom:$e})};kR({place:(qe=je==null?void 0:je.place)!==null&&qe!==void 0?qe:a,offset:l,elementReference:Vn,tooltipReference:ae.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:H}).then(Qn=>{sn(Qn)})},En=Ae=>{if(!Ae)return;const $e=Ae,qe={x:$e.clientX,y:$e.clientY};br(qe),on.current=qe},ji=Ae=>{var $e;if(!xe)return;const qe=Ae.target;qe.isConnected&&(!(($e=ae.current)===null||$e===void 0)&&$e.contains(qe)||[document.querySelector(`[id='${o}']`),...Et].some(Vn=>Vn==null?void 0:Vn.contains(qe))||(ot(!1),be.current&&clearTimeout(be.current)))},di=TR(mt,50),kt=TR(Un,50),kn=Ae=>{kt.cancel(),di(Ae)},Ne=()=>{di.cancel(),kt()},Ze=y.useCallback(()=>{var Ae,$e;const qe=(Ae=je==null?void 0:je.position)!==null&&Ae!==void 0?Ae:U;qe?br(qe):b?on.current&&br(on.current):$!=null&&$.isConnected&&kR({place:($e=je==null?void 0:je.place)!==null&&$e!==void 0?$e:a,offset:l,elementReference:$,tooltipReference:ae.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:H}).then(Vn=>{Xe.current&&sn(Vn)})},[xe,$,R,B,a,je==null?void 0:je.place,l,d,U,je==null?void 0:je.position,b]);y.useEffect(()=>{var Ae,$e;const qe=new Set(Dt);Et.forEach(Vt=>{qe.add({current:Vt})});const Vn=document.querySelector(`[id='${o}']`);Vn&&qe.add({current:Vn});const Qn=()=>{ot(!1)},hi=RR($),Oi=RR(ae.current);ht.scroll&&(window.addEventListener("scroll",Qn),hi==null||hi.addEventListener("scroll",Qn),Oi==null||Oi.addEventListener("scroll",Qn));let sr=null;ht.resize?window.addEventListener("resize",Qn):$&&ae.current&&(sr=lse($,ae.current,Ze,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Wr=Vt=>{Vt.key==="Escape"&&ot(!1)};ht.escape&&window.addEventListener("keydown",Wr),ht.clickOutsideAnchor&&window.addEventListener("click",ji);const $t=[],Xa=Vt=>{xe&&(Vt==null?void 0:Vt.target)===$||mt(Vt)},iy=Vt=>{xe&&(Vt==null?void 0:Vt.target)===$&&Un()},Kh=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Yh=["click","dblclick","mousedown","mouseup"];Object.entries(it).forEach(([Vt,vo])=>{vo&&(Kh.includes(Vt)?$t.push({event:Vt,listener:kn}):Yh.includes(Vt)&&$t.push({event:Vt,listener:Xa}))}),Object.entries(wn).forEach(([Vt,vo])=>{vo&&(Kh.includes(Vt)?$t.push({event:Vt,listener:Ne}):Yh.includes(Vt)&&$t.push({event:Vt,listener:iy}))}),b&&$t.push({event:"pointermove",listener:En});const Qh=()=>{ft.current=!0},Jh=()=>{ft.current=!1,Un()};return _&&!ye&&((Ae=ae.current)===null||Ae===void 0||Ae.addEventListener("mouseenter",Qh),($e=ae.current)===null||$e===void 0||$e.addEventListener("mouseleave",Jh)),$t.forEach(({event:Vt,listener:vo})=>{qe.forEach(rd=>{var Za;(Za=rd.current)===null||Za===void 0||Za.addEventListener(Vt,vo)})}),()=>{var Vt,vo;ht.scroll&&(window.removeEventListener("scroll",Qn),hi==null||hi.removeEventListener("scroll",Qn),Oi==null||Oi.removeEventListener("scroll",Qn)),ht.resize?window.removeEventListener("resize",Qn):sr==null||sr(),ht.clickOutsideAnchor&&window.removeEventListener("click",ji),ht.escape&&window.removeEventListener("keydown",Wr),_&&!ye&&((Vt=ae.current)===null||Vt===void 0||Vt.removeEventListener("mouseenter",Qh),(vo=ae.current)===null||vo===void 0||vo.removeEventListener("mouseleave",Jh)),$t.forEach(({event:rd,listener:Za})=>{qe.forEach(oy=>{var uc;(uc=oy.current)===null||uc===void 0||uc.removeEventListener(rd,Za)})})}},[$,Ze,Ke,Dt,Et,E,C,j,Bt,g,m]),y.useEffect(()=>{var Ae,$e;let qe=($e=(Ae=je==null?void 0:je.anchorSelect)!==null&&Ae!==void 0?Ae:s)!==null&&$e!==void 0?$e:"";!qe&&t&&(qe=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Vn=new MutationObserver(Qn=>{const hi=[],Oi=[];Qn.forEach(sr=>{if(sr.type==="attributes"&&sr.attributeName==="data-tooltip-id"&&(sr.target.getAttribute("data-tooltip-id")===t?hi.push(sr.target):sr.oldValue===t&&Oi.push(sr.target)),sr.type==="childList"){if($){const Wr=[...sr.removedNodes].filter($t=>$t.nodeType===1);if(qe)try{Oi.push(...Wr.filter($t=>$t.matches(qe))),Oi.push(...Wr.flatMap($t=>[...$t.querySelectorAll(qe)]))}catch{}Wr.some($t=>{var Xa;return!!(!((Xa=$t==null?void 0:$t.contains)===null||Xa===void 0)&&Xa.call($t,$))&&(Ye(!1),ot(!1),G(null),be.current&&clearTimeout(be.current),le.current&&clearTimeout(le.current),!0)})}if(qe)try{const Wr=[...sr.addedNodes].filter($t=>$t.nodeType===1);hi.push(...Wr.filter($t=>$t.matches(qe))),hi.push(...Wr.flatMap($t=>[...$t.querySelectorAll(qe)]))}catch{}}}),(hi.length||Oi.length)&&Jt(sr=>[...sr.filter(Wr=>!Oi.includes(Wr)),...hi])});return Vn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Vn.disconnect()}},[t,s,je==null?void 0:je.anchorSelect,$]),y.useEffect(()=>{Ze()},[Ze]),y.useEffect(()=>{if(!(k!=null&&k.current))return()=>null;const Ae=new ResizeObserver(()=>{setTimeout(()=>Ze())});return Ae.observe(k.current),()=>{Ae.disconnect()}},[R,k==null?void 0:k.current]),y.useEffect(()=>{var Ae;const $e=document.querySelector(`[id='${o}']`),qe=[...Et,$e];$&&qe.includes($)||G((Ae=Et[0])!==null&&Ae!==void 0?Ae:$e)},[o,Et,$]),y.useEffect(()=>(O&&ot(!0),()=>{be.current&&clearTimeout(be.current),le.current&&clearTimeout(le.current)}),[]),y.useEffect(()=>{var Ae;let $e=(Ae=je==null?void 0:je.anchorSelect)!==null&&Ae!==void 0?Ae:s;if(!$e&&t&&($e=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),$e)try{const qe=Array.from(document.querySelectorAll($e));Jt(qe)}catch{Jt([])}},[t,s,je==null?void 0:je.anchorSelect]),y.useEffect(()=>{be.current&&(clearTimeout(be.current),gn(g))},[g]);const Yn=(Z=je==null?void 0:je.content)!==null&&Z!==void 0?Z:R,fi=xe&&Object.keys(Ue.tooltipStyles).length>0;return y.useImperativeHandle(e,()=>({open:Ae=>{if(Ae!=null&&Ae.anchorSelect)try{document.querySelector(Ae.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ae.anchorSelect}" is not a valid CSS selector`)}lt(Ae??null),Ae!=null&&Ae.delay?gn(Ae.delay):ot(!0)},close:Ae=>{Ae!=null&&Ae.delay?Xt(Ae.delay):ot(!1)},activeAnchor:$,place:Ue.place,isOpen:!!(Ke&&!v&&Yn&&fi)})),Ke&&!v&&Yn?Ce.createElement(p,{id:t,role:ue,className:R_("react-tooltip",bc.tooltip,xA.tooltip,xA[i],n,`react-tooltip__place-${Ue.place}`,bc[fi?"show":"closing"],fi?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&bc.fixed,_&&bc.clickable),onTransitionEnd:Ae=>{Se.current&&clearTimeout(Se.current),xe||Ae.propertyName!=="opacity"||(Ye(!1),lt(null),V==null||V())},style:{...B,...Ue.tooltipStyles,opacity:ne!==void 0&&fi?ne:void 0},ref:ae},Yn,Ce.createElement(p,{className:R_("react-tooltip-arrow",bc.arrow,xA.arrow,r,A&&bc.noArrow),style:{...Ue.tooltipArrowStyles,background:N?`linear-gradient(to right bottom, transparent 50%, ${N} 50%)`:void 0},ref:Pe})):null},_se=({content:e})=>Ce.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),xse=Ce.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:b,delayShow:v=0,delayHide:A=0,float:_=!1,hidden:S=!1,noArrow:x=!1,clickable:w=!1,closeOnEsc:E=!1,closeOnScroll:C=!1,closeOnResize:j=!1,openEvents:L,closeEvents:B,globalCloseEvents:U,imperativeModeOnly:P=!1,style:V,position:R,isOpen:k,defaultIsOpen:D=!1,disableStyleInjection:O=!1,border:z,opacity:$,arrowColor:G,setIsOpen:H,afterShow:ne,afterHide:N,role:ue="tooltip"},Z)=>{const[ae,Pe]=y.useState(r),[be,le]=y.useState(i),[Se,Ue]=y.useState(c),[De,xe]=y.useState(l),[Te,Ke]=y.useState(u),[Ye,je]=y.useState(v),[lt,Ot]=y.useState(A),[on,Dt]=y.useState(_),[Sn,ft]=y.useState(S),[Et,Jt]=y.useState(d),[Xe,Bt]=y.useState(p),[ye,it]=y.useState(m),[wn,ht]=y.useState(null),[ot,sn]=y.useState(null),gn=y.useRef(O),{anchorRefs:Xt,activeAnchor:mt}=ZL(e),Un=kt=>kt==null?void 0:kt.getAttributeNames().reduce((kn,Ne)=>{var Ze;return Ne.startsWith("data-tooltip-")&&(kn[Ne.replace(/^data-tooltip-/,"")]=(Ze=kt==null?void 0:kt.getAttribute(Ne))!==null&&Ze!==void 0?Ze:null),kn},{}),br=kt=>{const kn={place:Ne=>{var Ze;Ue((Ze=Ne)!==null&&Ze!==void 0?Ze:c)},content:Ne=>{Pe(Ne??r)},html:Ne=>{le(Ne??i)},variant:Ne=>{var Ze;xe((Ze=Ne)!==null&&Ze!==void 0?Ze:l)},offset:Ne=>{Ke(Ne===null?u:Number(Ne))},wrapper:Ne=>{var Ze;Jt((Ze=Ne)!==null&&Ze!==void 0?Ze:d)},events:Ne=>{const Ze=Ne==null?void 0:Ne.split(" ");Bt(Ze??p)},"position-strategy":Ne=>{var Ze;it((Ze=Ne)!==null&&Ze!==void 0?Ze:m)},"delay-show":Ne=>{je(Ne===null?v:Number(Ne))},"delay-hide":Ne=>{Ot(Ne===null?A:Number(Ne))},float:Ne=>{Dt(Ne===null?_:Ne==="true")},hidden:Ne=>{ft(Ne===null?S:Ne==="true")},"class-name":Ne=>{ht(Ne)}};Object.values(kn).forEach(Ne=>Ne(null)),Object.entries(kt).forEach(([Ne,Ze])=>{var Yn;(Yn=kn[Ne])===null||Yn===void 0||Yn.call(kn,Ze)})};y.useEffect(()=>{Pe(r)},[r]),y.useEffect(()=>{le(i)},[i]),y.useEffect(()=>{Ue(c)},[c]),y.useEffect(()=>{xe(l)},[l]),y.useEffect(()=>{Ke(u)},[u]),y.useEffect(()=>{je(v)},[v]),y.useEffect(()=>{Ot(A)},[A]),y.useEffect(()=>{Dt(_)},[_]),y.useEffect(()=>{ft(S)},[S]),y.useEffect(()=>{it(m)},[m]),y.useEffect(()=>{gn.current!==O&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[O]),y.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:O==="core",disableBase:O}}))},[]),y.useEffect(()=>{var kt;const kn=new Set(Xt);let Ne=n;if(!Ne&&e&&(Ne=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Ne)try{document.querySelectorAll(Ne).forEach($e=>{kn.add({current:$e})})}catch{console.warn(`[react-tooltip] "${Ne}" is not a valid CSS selector`)}const Ze=document.querySelector(`[id='${t}']`);if(Ze&&kn.add({current:Ze}),!kn.size)return()=>null;const Yn=(kt=ot??Ze)!==null&&kt!==void 0?kt:mt.current,fi=new MutationObserver($e=>{$e.forEach(qe=>{var Vn;if(!Yn||qe.type!=="attributes"||!(!((Vn=qe.attributeName)===null||Vn===void 0)&&Vn.startsWith("data-tooltip-")))return;const Qn=Un(Yn);br(Qn)})}),Ae={attributes:!0,childList:!1,subtree:!1};if(Yn){const $e=Un(Yn);br($e),fi.observe(Yn,Ae)}return()=>{fi.disconnect()}},[Xt,mt,ot,t,n]),y.useEffect(()=>{V!=null&&V.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),z&&!CR("border",`${z}`)&&console.warn(`[react-tooltip] "${z}" is not a valid \`border\`.`),V!=null&&V.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),$&&!CR("opacity",`${$}`)&&console.warn(`[react-tooltip] "${$}" is not a valid \`opacity\`.`)},[]);let En=h;const ji=y.useRef(null);if(o){const kt=o({content:(ot==null?void 0:ot.getAttribute("data-tooltip-content"))||ae||null,activeAnchor:ot});En=kt?Ce.createElement("div",{ref:ji,className:"react-tooltip-content-wrapper"},kt):null}else ae&&(En=ae);be&&(En=Ce.createElement(_se,{content:be}));const di={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:R_(s,wn),classNameArrow:a,content:En,contentWrapperRef:ji,place:Se,variant:De,offset:Te,wrapper:Et,events:Xe,openOnClick:g,positionStrategy:ye,middlewares:b,delayShow:Ye,delayHide:lt,float:on,hidden:Sn,noArrow:x,clickable:w,closeOnEsc:E,closeOnScroll:C,closeOnResize:j,openEvents:L,closeEvents:B,globalCloseEvents:U,imperativeModeOnly:P,style:V,position:R,isOpen:k,defaultIsOpen:D,border:z,opacity:$,arrowColor:G,setIsOpen:H,afterShow:ne,afterHide:N,activeAnchor:ot,setActiveAnchor:kt=>sn(kt),role:ue};return Ce.createElement(bse,{...di})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||ER({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||ER({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Sse=I(xse,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",ze,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",pe.colors.text.active,";}}z-index:10000;"),Ou=({children:e,title:t,open:n,...r})=>{const i=y.useRef(null),o=y.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[sc.createPortal(f.jsx(Sse,{...r,id:o,ref:i,isOpen:n,children:t}),document.body),y.cloneElement(e,{"data-tooltip-id":o})]})},PR=e=>`tooltip_dismissed_${e}`,wse=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...o})=>{const[s,a]=y.useState(!Ve.local.getItem(PR(e))),l=y.useCallback(()=>{Ve.local.setItem(PR(e),!0),a(void 0)},[e]);y.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(s===void 0||!s&&!n)&&o.open===void 0;return f.jsx(Ou,{clickable:!0,open:c?o.open:s,hidden:o.open===!1,...o,title:f.jsxs(f.Fragment,{children:[i,s&&f.jsx(Ese,{children:f.jsx(kse,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Ese=I("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),kse=I("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",pe.colors.text.active,";border-color:",pe.colors.text.active,";}&:active{color:white;background:",pe.colors.text.active,";border-color:none;}");var Ww={},Cse=rt;Object.defineProperty(Ww,"__esModule",{value:!0});var eN=Ww.default=void 0,Tse=Cse(dt()),Ise=f;eN=Ww.default=(0,Tse.default)((0,Ise.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var Kw={},Rse=rt;Object.defineProperty(Kw,"__esModule",{value:!0});var tN=Kw.default=void 0,Pse=Rse(dt()),Mse=f;tN=Kw.default=(0,Pse.default)((0,Mse.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function jse(){const[,e]=Ge(Cx),[t]=Ge(Ar),[n,r]=y.useState(document.fullscreenElement!==null);return y.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(Ou,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(Nv,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,o;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((o=(i=global.screen.orientation).lock)==null?void 0:o.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(s){console.info(s)}},children:n?f.jsx(tN,{}):f.jsx(eN,{})})})}const nN=Ei("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",ze,",;",""),Ose=Ei("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",pe.colors.text.active,";",""),Vse=Ei("transform:scale(1.05);background:",pe.colors.text.active,";",""),Fv=zo()?Vse:Ose,rN={animation:"focusAnimation 1000ms ease-in-out infinite both"},M_=Ei("&:hover{",rN,";}&&&:active{background:",pe.colors.text.active,";}",""),Lse=I("a",{target:"eo7q3x1"})(nN," &&{color:white;text-decoration:none;}&[data-focused='true']{",Fv,";}&[disabled='false']{",M_,";}"),iN=({focused:e,...t})=>f.jsx(Lse,{...t}),Nse=I("button",{target:"eo7q3x0"})(nN,";&:not(:disabled){",M_,";}&[data-focused='true']{",Fv,";}&[disabled='false']{",M_,";}"),Wo=({focused:e,...t})=>f.jsx(Nse,{"data-focused":e,...t}),Dse={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},oN=Ei("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Dse,";}&[data-size='small']{height:5rem;}",""),Bse=I(iN,{target:"e1llc1k62"})(oN,";"),$se=I(Wo,{target:"e1llc1k61"})(oN,";"),Re=({size:e,disabled:t,...n})=>{const r="href"in n?Bse:$se;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},mo=I("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function ac({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(zse,{onClick:t}),f.jsx(Fse,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const Fse=I("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),zse=I("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Use=0;function ed(e,t){const n=y.useRef(`${String(Math.random())}-${Use++}`),{setKeyboard:r,unsetKeyboard:i}=y.useContext(MS),o=a=>{r(n.current,a)},s=()=>i(n.current);return y.useEffect(()=>(t&&o(e),s),[e,t]),{setHelp:o,clearHelp:s}}function Kn(e={},t=!1){var S;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:o="vertical",additionalHelp:s={}}=e,[a,l]=y.useState(null),c=y.useRef([]),u=y.useRef([]),d=y.useRef({}),h=(S=d.current[a])==null?void 0:S.label,p=y.useMemo(()=>({[o]:null,accept:h??null,back:r?i:void 0,...s}),[h,d,i,o]);ed(p,n);const g=()=>{var x;(x=d.current[a])==null||x.callback(),cS.play()},m=()=>{r&&(uS.play(),r())},b=x=>{const w=a?c.current.indexOf(a):0;q0.play(),l(c.current.at((w+x)%c.current.length)??null)};rc({[o==="vertical"?"up":"left"]:()=>b(-1),[o==="vertical"?"down":"right"]:()=>b(1),accept:g,back:m},n,[a,c.current]);let v="";const A=(x,w,E,C=!1,{propName:j="onClick",disabled:L=!1}={})=>{if(L)return{disabled:L,focused:!1};u.current.push(x),w&&(d.current[x]={callback:w,label:E,propName:j}),C&&(v=x);const B=n&&a===x;return{focused:B,[j]:w,keyboardNavigationChangeFocus:b,"data-test":x,...n?{"data-focused":B,"data-e2e-focused":B}:{}}};return y.useEffect(()=>{var x;(x=document.querySelector(`[data-test="${a}"]`))==null||x.scrollIntoView({behavior:"smooth",block:"center"})},[a]),y.useEffect(()=>{let x=u.current.filter(w=>!c.current.includes(w));t&&x.length&&console.log("new elements",x),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||x.includes(v))&&l(v||c.current[0])}),{focusElement:x=>{c.current.includes(x)&&l(x)},focused:a,register:A}}var Hse=Object.defineProperty,e0=Object.getOwnPropertySymbols,sN=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,MR=(e,t,n)=>t in e?Hse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ch=(e,t)=>{for(var n in t||(t={}))sN.call(t,n)&&MR(e,n,t[n]);if(e0)for(var n of e0(t))aN.call(t,n)&&MR(e,n,t[n]);return e},Yw=(e,t)=>{var n={};for(var r in e)sN.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&e0)for(var r of e0(e))t.indexOf(r)<0&&aN.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ql;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const b=this.getPenaltyScore();b<g&&(d=m,g=b),this.applyMask(m)}}o(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const _=t.getNumDataCodewords(g,c)*8,S=a.getTotalBits(l,g);if(S<=_){m=S;break}if(g>=d)throw new RangeError("Data too long")}for(const _ of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,_)*8&&(c=_);let b=[];for(const _ of l){r(_.mode.modeBits,4,b),r(_.numChars,_.mode.numCharCountBits(g),b);for(const S of _.getData())b.push(S)}o(b.length==m);const v=t.getNumDataCodewords(g,c)*8;o(b.length<=v),r(0,Math.min(4,v-b.length),b),r(0,(8-b.length%8)%8,b),o(b.length%8==0);for(let _=236;b.length<v;_^=253)r(_,8,b);let A=[];for(;A.length*8<b.length;)A.push(0);return b.forEach((_,S)=>A[S>>>3]|=_<<7-(S&7)),new t(g,c,A,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;o(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;o(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let b=[];const v=t.reedSolomonComputeDivisor(h);for(let _=0,S=0;_<d;_++){let x=l.slice(S,S+m-h+(_<g?0:1));S+=x.length;const w=t.reedSolomonComputeRemainder(x,v);_<g&&x.push(0),b.push(x.concat(w))}let A=[];for(let _=0;_<b[0].length;_++)b.forEach((S,x)=>{(_!=m-h||x>=g)&&A.push(S[_])});return o(A.length==p),A}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}o(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][b],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[b][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return o(0<=d&&d<=9),l+=d*t.PENALTY_N4,o(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return o(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return o(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];o(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const s=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new s(s.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!s.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new s(s.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!s.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new s(s.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:s.isNumeric(l)?[s.makeNumeric(l)]:s.isAlphanumeric(l)?[s.makeAlphanumeric(l)]:[s.makeBytes(s.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,c)}static isNumeric(l){return s.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return s.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=s;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(Ql||(Ql={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Ql||(Ql={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Ql||(Ql={}));var Hc=Ql;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var lN={L:Hc.QrCode.Ecc.LOW,M:Hc.QrCode.Ecc.MEDIUM,Q:Hc.QrCode.Ecc.QUARTILE,H:Hc.QrCode.Ecc.HIGH},cN=128,uN="L",dN="#FFFFFF",fN="#000000",hN=!1,Qw=4,Gse=.1;function pN(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(s,a){if(!s&&o!==null){n.push(`M${o+t} ${i+t}h${a-o}v1H${o+t}z`),o=null;return}if(a===r.length-1){if(!s)return;o===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${o+t},${i+t} h${a+1-o}v1H${o+t}z`);return}s&&o===null&&(o=a)})}),n.join("")}function gN(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function mN(e,t,n,r){if(r==null)return null;const i=n?Qw:0,o=e.length+i*2,s=Math.floor(t*Gse),a=o/t,l=(r.width||s)*a,c=(r.height||s)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),b=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:b}}return{x:u,y:d,h:c,w:l,excavation:h}}var qse=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function vN(e){const t=e,{value:n,size:r=cN,level:i=uN,bgColor:o=dN,fgColor:s=fN,includeMargin:a=hN,style:l,imageSettings:c}=t,u=Yw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=y.useRef(null),p=y.useRef(null),[g,m]=y.useState(!1);y.useEffect(()=>{if(h.current!=null){const A=h.current,_=A.getContext("2d");if(!_)return;let S=Hc.QrCode.encodeText(n,lN[i]).getModules();const x=a?Qw:0,w=S.length+x*2,E=mN(S,r,a,c),C=p.current,j=E!=null&&C!==null&&C.complete&&C.naturalHeight!==0&&C.naturalWidth!==0;j&&E.excavation!=null&&(S=gN(S,E.excavation));const L=window.devicePixelRatio||1;A.height=A.width=r*L;const B=r/w*L;_.scale(B,B),_.fillStyle=o,_.fillRect(0,0,w,w),_.fillStyle=s,qse?_.fill(new Path2D(pN(S,x))):S.forEach(function(U,P){U.forEach(function(V,R){V&&_.fillRect(R+x,P+x,1,1)})}),j&&_.drawImage(C,E.x+x,E.y+x,E.w,E.h)}}),y.useEffect(()=>{m(!1)},[d]);const b=ch({height:r,width:r},l);let v=null;return d!=null&&(v=Ce.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Ce.createElement(Ce.Fragment,null,Ce.createElement("canvas",ch({style:b,height:r,width:r,ref:h},u)),v)}function yN(e){const t=e,{value:n,size:r=cN,level:i=uN,bgColor:o=dN,fgColor:s=fN,includeMargin:a=hN,imageSettings:l}=t,c=Yw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Hc.QrCode.encodeText(n,lN[i]).getModules();const d=a?Qw:0,h=u.length+d*2,p=mN(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=gN(u,p.excavation)),g=Ce.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=pN(u,d);return Ce.createElement("svg",ch({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Ce.createElement("path",{fill:o,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Ce.createElement("path",{fill:s,d:m,shapeRendering:"crispEdges"}),g)}var Wse=e=>{const t=e,{renderAs:n}=t,r=Yw(t,["renderAs"]);return n==="svg"?Ce.createElement(yN,ch({},r)):Ce.createElement(vN,ch({},r))};const Kse=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:vN,QRCodeSVG:yN,default:Wse},Symbol.toStringTag,{value:"Module"}));var AN={exports:{}},bN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=y;function Yse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qse=typeof Object.is=="function"?Object.is:Yse,Jse=Vu.useState,Xse=Vu.useEffect,Zse=Vu.useLayoutEffect,eae=Vu.useDebugValue;function tae(e,t){var n=t(),r=Jse({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Zse(function(){i.value=n,i.getSnapshot=t,SA(i)&&o({inst:i})},[e,n,t]),Xse(function(){return SA(i)&&o({inst:i}),e(function(){SA(i)&&o({inst:i})})},[e]),eae(n),n}function SA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qse(e,n)}catch{return!0}}function nae(e,t){return t()}var rae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nae:tae;bN.useSyncExternalStore=Vu.useSyncExternalStore!==void 0?Vu.useSyncExternalStore:rae;AN.exports=bN;var iae=AN.exports;const{useEffect:oae,useLayoutEffect:sae,useRef:aae,useInsertionEffect:lae}=Bg,cae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uae=cae?sae:oae,_N=lae||uae,xN=e=>{const t=aae([e,(...n)=>t[0](...n)]).current;return _N(()=>{t[0]=e}),t[1]},dae=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",fae=(e,t="")=>e[0]==="~"?e.slice(1):t+e,hae="popstate",Jw="pushState",Xw="replaceState",pae="hashchange",jR=[hae,Jw,Xw,pae],gae=e=>{for(const t of jR)addEventListener(t,e);return()=>{for(const t of jR)removeEventListener(t,e)}},mae=(e,t)=>iae.useSyncExternalStore(gae,e,t),OR=()=>location.pathname,vae=({ssrPath:e}={})=>mae(OR,e?()=>e:OR),yae=(e,{replace:t=!1}={})=>history[t?Xw:Jw](null,"",e),Aae=(e={})=>[dae(e.base,vae(e)),xN((t,n)=>yae(fae(t,e.base),n))];if(typeof history<"u")for(const e of[Jw,Xw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function bae(e=xae){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:o,keys:s}=n(r||""),a=o.exec(i);return a?[!0,s.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const VR=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_ae=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},xae=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],o="";for(;(n=t.exec(e))!==null;){const[s,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,o+=VR(h)+_ae(c,u,d)}return o+=VR(e.substring(r)),{keys:i,regexp:new RegExp("^"+o+"(?:\\/)?$","i")}},j_={hook:Aae,matcher:bae(),base:""},SN=y.createContext(j_),zv=()=>y.useContext(SN),Uv=e=>e.hook(e),Sae=()=>Uv(zv()),wN=e=>{const t=zv(),[n]=Uv(t);return t.matcher(e,n)},wae=y.createContext({params:{}}),Eae=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:o})=>{const s=(l,c=i||j_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=y.useState(()=>s({get base(){return(a.parent||j_).base+a.ownBase}}));return _N(()=>{s(a)}),y.createElement(SN.Provider,{value:a,children:o})},LR=(e,t)=>y.createElement(wae.Provider,{value:{params:e},children:t}),Sr=({path:e,match:t,component:n,children:r})=>{const i=wN(e),[o,s]=t||i;return o?n?LR(s,y.createElement(n,{params:s})):LR(s,typeof r=="function"?r(s):r):null},Zw=y.forwardRef((e,t)=>{const n=zv(),[,r]=Uv(n),{to:i,href:o=i,children:s,onClick:a}=e,l=xN(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||o,e)))}),c={href:o[0]==="~"?o.slice(1):n.base+o,onClick:l,to:null,ref:t},u=y.isValidElement(s)?s:y.createElement("a",e);return y.cloneElement(u,c)}),O_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===y.Fragment?O_(t.props.children):O_(t))):[e],kae=({children:e,location:t})=>{const n=zv(),r=n.matcher,[i]=Uv(n);for(const o of O_(e)){let s=0;if(y.isValidElement(o)&&(s=o.props.path?r(o.props.path,t||i):[!0,{}])[0])return y.cloneElement(o,{match:s})}return null},{QRCodeSVG:Cae}=Kse;function wA({gameCode:e,...t}){return f.jsx(Mae,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function eE(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=wN("remote-mic"),n=Z0("room")??Il.getGameCode();e.pathname="/prs/299/remote-mic",e.searchParams.set("room",n);const r=e.href;return y.useEffect(()=>{t||Il.start()},[t]),f.jsxs(Oae,{children:[f.jsx(Lae,{children:f.jsxs("h1",{children:["Code: ",f.jsx(wA,{gameCode:n})]})}),f.jsx(Vae,{children:f.jsx(Cae,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(Nae,{children:[f.jsxs(Tae,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(wA,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(wA,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(Iae,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Rae,{children:[f.jsx(jae,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Pae,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Tae=I("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),Iae=I("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Rae=I("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Pae=I("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",pe.colors.text.active,";",ze,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Mae=I("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",wu,";"),jae=I("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Oae=I("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Vae=I("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Lae=I("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Nae=I("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",ze,";color:",pe.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Dae({closeModal:e}){const{register:t}=Kn({onBackspace:e});return f.jsx(ac,{onClose:e,children:f.jsxs(mo,{children:[f.jsx(eE,{}),f.jsx(Wo,{...t("quick-connect-close",e),children:"Close"})]})})}function Bae(){const[e,t]=y.useState(!1);Ge(Ar);const[n,r]=Ge(ej),{hasContent:i}=y.useContext(MS),o=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(Dae,{closeModal:o}),f.jsxs($ae,{children:[i&&f.jsx(Ou,{title:"Toggle help",place:"bottom-end",children:f.jsx(Fae,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(IV,{}):f.jsx(RV,{})})}),f.jsx(jse,{}),f.jsx(Ou,{title:"Connect phone",place:"bottom-end",children:f.jsx(Nv,{size:"small",onClick:()=>t(s=>!s),"data-test":"quick-connect-phone",children:f.jsx(Hf,{})})})]})]})}const $ae=I("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Fae=I(Nv,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function ea({children:e,toolbar:t=!0}){return f.jsxs(OZ,{children:[t&&f.jsx(Bae,{}),e]})}var tE={},zae=rt;Object.defineProperty(tE,"__esModule",{value:!0});var EN=tE.default=void 0,Uae=zae(dt()),Hae=f;EN=tE.default=(0,Uae.default)((0,Hae.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var nE={},Gae=rt;Object.defineProperty(nE,"__esModule",{value:!0});var kN=nE.default=void 0,qae=Gae(dt()),Wae=f;kN=nE.default=(0,qae.default)((0,Wae.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const rE=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),CN=I(rE,{target:"e1uhpuaa1"})("fill:",pe.colors.players[1].text,";"),V_=I(rE,{target:"e1uhpuaa0"})("fill:",pe.colors.players[0].text,";");function Kae({active:e,setActiveTab:t}){return f.jsxs(Yae,{children:[f.jsxs(EA,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(kA,{children:f.jsx(rE,{})}),f.jsx(CA,{children:"Microphone"})]}),f.jsxs(EA,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(kA,{children:f.jsx(EN,{})}),f.jsx(CA,{children:"Song list"})]}),f.jsxs(EA,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(kA,{children:f.jsx(kN,{})}),f.jsx(CA,{children:"Settings"})]})]})}const Yae=I("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),EA=I("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?pe.colors.text.active:"#cecece",";"),kA=I("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),CA=I("div",{target:"e1c2ys9k0"})("");var iE={},Qae=rt;Object.defineProperty(iE,"__esModule",{value:!0});var lc=iE.default=void 0,Jae=Qae(dt()),Xae=f;lc=iE.default=(0,Jae.default)((0,Xae.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const oE=()=>{const[e,t]=y.useState(wa.getStatus());return y.useEffect(()=>wa.addListener(t),[]),e};function TN(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Zae="/prs/299/assets/allow-mic-DleF1-pf.png",ele="/prs/299/assets/enable-mic-opera-B5FfRj_P.png",tle="/prs/299/assets/enable-mic-TGG47ucR.png",nle=()=>TN()?ele:tle,zh=({children:e,fallback:t,showImages:n=!0})=>{const r=oE();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(ile,{children:f.jsx(ole,{})}),t,f.jsxs(rle,{children:[r==="requested"&&n&&f.jsx("img",{src:Zae,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:nle(),alt:"how-to-enable"})]}),TN()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},rle=I("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),ile=I("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),ole=I(lc,{target:"e1w9vi9z0"})("color:",pe.colors.text.active,";font-size:3rem;");function sle(){return!1}var sE={},ale=rt;Object.defineProperty(sE,"__esModule",{value:!0});var vf=sE.default=void 0,lle=ale(dt()),cle=f;vf=sE.default=(0,lle.default)((0,cle.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function Uh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function ule(e,t,n=1){return Uh(e,e.indexOf(t),n)}function ja(e,t,n=1){return e[ule(e,t,n)]}const vi=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:o,children:s,...a})=>f.jsxs(dle,{children:[f.jsxs(fle,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(hle,{children:r}),s??null]}),o&&f.jsx(IN,{children:o})]}),dle=I("div",{target:"e84wjn53"})(""),IN=I("div",{target:"e84wjn52"})(ze,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),fle=I("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",ze,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),hle=I("span",{target:"e84wjn50"})("color:",pe.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),cc=y.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:o,adornment:s,info:a,...l},c)=>{const u=y.useRef(null);return y.useImperativeHandle(c,()=>u.current),Lr(Eb,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(gle,{"data-focused":e,className:o,children:[f.jsx(mle,{children:t}),f.jsx(vle,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),s&&f.jsx(ple,{children:s})]}),a&&f.jsx(IN,{children:a})]})}),ple=I("span",{target:"et2ce2n3"})(""),gle=I("div",{target:"et2ce2n2"})("background:black;caret:underscore;",ze,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),mle=I("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),vle=I("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",ze,";color:",pe.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function yle(e){return Rr("MuiCircularProgress",e)}Pr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ale=["className","color","disableShrink","size","style","thickness","value","variant"];let Hv=e=>e,NR,DR,BR,$R;const ra=44,ble=Ga(NR||(NR=Hv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),_le=Ga(DR||(DR=Hv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),xle=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${nt(r)}`],svg:["svg"],circle:["circle",`circle${nt(n)}`,i&&"circleDisableShrink"]};return Gr(o,yle,t)},Sle=Qt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${nt(n.color)}`]]}})(({ownerState:e,theme:t})=>ie({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Ei(BR||(BR=Hv`
      animation: ${0} 1.4s linear infinite;
    `),ble)),wle=Qt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Ele=Qt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${nt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>ie({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Ei($R||($R=Hv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),_le)),kle=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=jt(r,Ale),p=ie({},r,{color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d}),g=xle(p),m={},b={},v={};if(d==="determinate"){const A=2*Math.PI*((ra-c)/2);m.strokeDasharray=A.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return f.jsx(Sle,ie({className:At(g.root,i),style:ie({width:a,height:a},b,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(wle,{className:g.svg,ownerState:p,viewBox:`${ra/2} ${ra/2} ${ra} ${ra}`,children:f.jsx(Ele,{className:g.circle,style:m,ownerState:p,cx:ra,cy:ra,r:(ra-c)/2,fill:"none",strokeWidth:c})})}))});function Hh(e){return f.jsx(kle,{...e})}function uh(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const t0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,o])=>{o===null?r.delete(i):r.set(i,o)}),`${e}?${r.toString()}`}return e};function ui(){const[,e]=Sae();return(t,n,{smooth:r=!0,...i}={})=>{r?uh(()=>e(t0(t,n),i)):e(t0(t,n),i)}}var aE={},Cle=rt;Object.defineProperty(aE,"__esModule",{value:!0});var lE=aE.default=void 0,Tle=Cle(dt()),Ile=f;lE=aE.default=(0,Tle.default)((0,Ile.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var cE={},Rle=rt;Object.defineProperty(cE,"__esModule",{value:!0});var uE=cE.default=void 0,Ple=Rle(dt()),Mle=f;uE=cE.default=(0,Ple.default)((0,Mle.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const FR="confirmed-wifi";function jle({onClose:e}){const[t,n]=Ce.useState(Ve.session.getItem(FR)??!1),r=()=>{Ve.session.setItem(FR,!0),n(!0),e==null||e()};return y.useEffect(()=>{var i,o,s;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(s=(o=navigator==null?void 0:navigator.connection)==null?void 0:o.addEventListener)==null||s.call(o,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(ac,{onClose:r,children:f.jsxs(Ole,{children:[f.jsxs(Vle,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(Lle,{children:[f.jsx(uE,{}),"...",f.jsx(vf,{}),"...",f.jsx(lE,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Re,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const Ole=I(mo,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),Vle=I("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),Lle=I("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",pe.colors.text.default,";transform:scale(1);}25%{color:",pe.colors.text.active,";transform:scale(1.1);}50%{color:",pe.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function Nle(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=y.useRef(),o=r.capture,s=r.passive,a=r.once;y.useEffect(function(){i.current=t},[t]),y.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:o,passive:s,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,o,s,a])}var sl={},Dle=function(e,t,n){return sl[e]||(sl[e]={callbacks:[],value:n}),sl[e].callbacks.push(t),{deregister:function(){var r=sl[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){sl[e].value!==r&&(sl[e].value=r,sl[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Gh(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,o){var s=r.getItem(i);return s==null?typeof o=="function"?o():o:JSON.parse(s)},set:function(i,o){r.setItem(i,JSON.stringify(o))}}}(t);return function(r){return function(i,o,s){var a=s.get,l=s.set,c=y.useRef(null),u=y.useState(function(){return a(o,i)}),d=u[0],h=u[1];Nle("storage",function(g){if(g.key===o){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),y.useEffect(function(){return c.current=Dle(o,h,i),function(){c.current.deregister()}},[i,o]);var p=y.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(o,m),h(m),c.current.emit(g)},[d,l,o]);return[d,p]}(r,e,n)}}return y.useState}const Ble=Gh("remote_mic_name");function $le({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[o,s]=Ble(""),[a,l]=y.useState(!1),c=y.useRef(null),u=y.useRef(null),[d,h]=y.useState(t??""),p=ui(),g=n!=="uninitialised"&&n!=="error";y.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(S=!1)=>{dn.connect(d,o,S),r(S)},b=S=>{var x,w;S.preventDefault(),l(!1),!t&&d.length!==tf?(x=c.current)==null||x.focus():o===""?(w=u.current??c.current)==null||w.focus():m()};y.useEffect(()=>{var S;_n.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(S=c.current)==null||S.focus()},[]),y.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Ve.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,A]=y.useState(!1);y.useEffect(()=>{if(A(!1),n==="connecting"||n==="reconnecting"){const S=setTimeout(()=>A(!0),2e3);return()=>clearTimeout(S)}},[n]);const _=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&f.jsx(jle,{onClose:()=>{var S;(S=c.current)==null||S.focus()}}),f.jsxs(Fle,{onSubmit:b,children:[!g&&f.jsx(Ule,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:tf,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:S=>{S.preventDefault();let x=(S.clipboardData||global.clipboardData).getData("text");x=x.replace(/\s/g,""),h(x.slice(0,tf))}}),f.jsx(cc,{maxLength:Jx,focused:!1,label:"Your name",placeholder:"Enter your name",value:o,onChange:s,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(zle,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(Hh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||_)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),_&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(lc,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Hf,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(vf,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access "}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(vf,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(vf,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Hf,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const Fle=I("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),zle=I(Re,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),Ule=I(cc,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var dE={},Hle=rt;Object.defineProperty(dE,"__esModule",{value:!0});var RN=dE.default=void 0,Gle=Hle(dt()),qle=f;RN=dE.default=(0,Gle.default)((0,qle.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var fE={},Wle=rt;Object.defineProperty(fE,"__esModule",{value:!0});var PN=fE.default=void 0,Kle=Wle(dt()),Yle=f;PN=fE.default=(0,Kle.default)((0,Yle.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var hE={},Qle=rt;Object.defineProperty(hE,"__esModule",{value:!0});var MN=hE.default=void 0,Jle=Qle(dt()),Xle=f;MN=hE.default=(0,Jle.default)((0,Xle.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var pE={},Zle=rt;Object.defineProperty(pE,"__esModule",{value:!0});var jN=pE.default=void 0,ece=Zle(dt()),tce=f;jN=pE.default=(0,ece.default)((0,tce.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var gE={},nce=rt;Object.defineProperty(gE,"__esModule",{value:!0});var ON=gE.default=void 0,rce=nce(dt()),ice=f;ON=gE.default=(0,rce.default)((0,ice.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var mE={},oce=rt;Object.defineProperty(mE,"__esModule",{value:!0});var VN=mE.default=void 0,sce=oce(dt()),ace=f;VN=mE.default=(0,sce.default)((0,ace.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var vE={},lce=rt;Object.defineProperty(vE,"__esModule",{value:!0});var LN=vE.default=void 0,cce=lce(dt()),uce=f;LN=vE.default=(0,cce.default)((0,uce.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var yE={},dce=rt;Object.defineProperty(yE,"__esModule",{value:!0});var NN=yE.default=void 0,fce=dce(dt()),hce=f;NN=yE.default=(0,fce.default)((0,hce.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var AE={},pce=rt;Object.defineProperty(AE,"__esModule",{value:!0});var Gv=AE.default=void 0,gce=pce(dt()),mce=f;Gv=AE.default=(0,gce.default)((0,mce.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function bE(e,t){const[n,r]=y.useState(e);return y.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function vce({onSearchStateChange:e}){const[t,n]=y.useState(""),r=y.useRef(null),i=bE(t,100),o=HX(i);return y.useEffect(()=>{o!==i&&dn.searchSong(i.trim())},[o,i]),UX(()=>e==null?void 0:e(!1)),f.jsx(yce,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:Jx,focused:!1,label:f.jsx(Gv,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const yce=I(cc,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Ace({onSearchStateChange:e}){var o;const[t]=Uo(ee.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=s=>()=>{dn.sendKeyStroke(s)};return t!==void 0?f.jsxs(bce,{"data-test":"remote-keyboard",children:[((o=t==null?void 0:t.remote)==null?void 0:o.includes("search"))&&f.jsx(vce,{onSearchStateChange:e}),(n||r)&&f.jsxs(IA,{children:[f.jsx(TA,{children:f.jsx(Ec,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(LN,{})})}),f.jsxs(TA,{children:[f.jsx(Ec,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(ON,{})}),f.jsx(Ec,{disabled:!0,"data-disabled":!0,children:f.jsx(MN,{})}),f.jsx(Ec,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(VN,{})})]}),f.jsx(TA,{children:f.jsx(Ec,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(jN,{})})})]}),f.jsxs(IA,{children:[f.jsx(RA,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(RN,{})," Back"]})}),f.jsx(RA,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(PN,{})]})})]}),f.jsx(_ce,{}),f.jsx(IA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(RA,{onClick:i("random"),children:[f.jsx(NN,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const bce=I("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),TA=I("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),IA=I("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),_ce=I("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),xce=I("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),Ec=I(xce,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),RA=I(Ec,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var _E={},Sce=rt;Object.defineProperty(_E,"__esModule",{value:!0});var qv=_E.default=void 0,wce=Sce(dt()),Ece=f;qv=_E.default=(0,wce.default)((0,Ece.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function DN({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Uo(ee.remoteStyleChanged,!0)??["regular"],o=a=>{dn.requestPlayerChange(t,a),n()},s=e!==null;return f.jsx(ac,{onClose:n,children:f.jsxs(kce,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Re,{size:"small","data-test":"change-to-player-0",onClick:()=>o(0),disabled:e===0,style:{color:pe.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Re,{size:"small","data-test":"change-to-player-1",onClick:()=>o(1),disabled:e===1,style:{color:pe.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Re,{size:"small","data-test":"change-to-player-2",onClick:()=>o(2),disabled:e===2,style:{color:pe.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Re,{size:"small","data-test":"change-to-player-3",onClick:()=>o(3),disabled:e===3,style:{color:pe.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Re,{size:"small",onClick:()=>o(null),disabled:!s,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Re,{size:"small",onClick:()=>dn.removePlayer(t),"data-test":"remove-player",children:"Remove"}),f.jsx(Re,{onClick:n,size:"small",children:"Close"})]})})}const kce=I(mo,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function BN({number:e,...t}){const[n]=Uo(ee.remoteStyleChanged,!0)??["regular"],r=FO();return y.useEffect(()=>{r()},[n]),f.jsx(Cce,{style:{background:e!==null?pe.colors.players[e].perfect.fill:pe.colors.text.inactive},...t})}const Cce=I("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Tce=y.memo(function({playerNumber:t}){const[n,r]=y.useState(!1),i=()=>r(!1),o=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(Ice,{onClick:()=>r(!0),"data-test":"change-player","data-joined":o,children:[o?f.jsxs(f.Fragment,{children:[f.jsx(BN,{number:t})," Change"]}):"Join game"," ",f.jsx(qv,{})]}),n&&f.jsx(DN,{id:dn.getClientId(),playerNumber:t,onModalClose:i})]})}),Ice=I("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",ze,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",wu,";}:hover{",wu,";}:active{",Fv,";}svg{width:2rem;height:2rem;}");function Wv(){const[e]=Uo(ee.remoteMicPermissionsSet,!0)??["write"];return e}function Rce({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[o,s]=y.useState(1e-6),a=Wv();y.useEffect(()=>{s(u=>t>u?t:u*.99)},[t]);const l=e!==null?pe.colors.players[e].miss.stroke:pe.colors.lines.normal.fill,c=e!==null?pe.colors.players[e].perfect.fill:pe.colors.lines.normal.fill;return f.jsxs(jce,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Pce,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Tce,{playerNumber:e}),f.jsx(Mce,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/o):1})`}})]})}const Pce=I("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Mce=I("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),jce=I("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function zR({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=y.useState(0),[o,s]=y.useState(0),[a]=Uo(ee.remoteMicPlayerSet,!0)??[null],l=y.useCallback(Zc((c,u)=>{s(c),i(u)},150),[i,s]);return y.useEffect(()=>(wo.startMonitoring(void 0),wo.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Rce,{volume:r,frequency:o,playerNumber:a,isMicOn:t,isConnected:n})}):null}function Oce({}){const[e,t]=y.useState(0);return y.useEffect(()=>{const n=setInterval(()=>{const r=Fr();dn.pinging&&r-dn.pingStart>e?t(r-dn.pingStart):t(dn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Vce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:o,connectionStatus:s}){const a=Wv(),[l,c]=y.useState(!1),[u]=Ge(Cx),d=async()=>{var g,m;i(!0);try{!sle()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(b){console.warn(b)}},h=s==="connected",p=f.jsx(zR,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Lce,{children:f.jsxs(zh,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(UR,{collapse:l,children:[f.jsx(zR,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx($le,{roomId:e,isVisible:!0,connectionStatus:s,onConnect:d,connectionError:o})]}),f.jsxs(UR,{children:[a==="write"&&f.jsx(Ace,{onSearchStateChange:c}),a==="read"&&f.jsxs(Nce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu "," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(HR,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs($N,{onClick:()=>t?wo.stopMonitoring():wo.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(HR,{children:["Ping: ",f.jsx(Oce,{})]})]})]})})}const Lce=I("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),UR=I("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),$N=I("div",{target:"eakh27i2"})(ze," strong{color:",pe.colors.text.active,";}align-self:flex-end;"),HR=I($N,{target:"eakh27i1"})(""),Nce=I("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Dce({onConfirm:e}){const[t,n]=y.useState(!1),[r,i]=y.useState(!1);y.useEffect(()=>{Ve.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Tr(ee.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Tr(ee.remoteReadinessRequested,()=>{n(!0)});const o=()=>{dn.confirmReadiness(),n(!1),e()};return t?f.jsx(Bce,{children:f.jsx(mo,{children:f.jsx($ce,{"data-test":"ready-button",onClick:o,children:"Ready"})})}):null}const Bce=I("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),$ce=I(Re,{target:"eusdifu0"})("aspect-ratio:1;",wu,";");function FN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...o}){return f.jsxs(zce,{...o,children:[f.jsx(GR,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Fce,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(GR,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const GR=I("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",ze,";:disabled{opacity:0.5;}"),Fce=I("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),zce=I("div",{target:"e1tear4c0"})(ze,";display:flex;align-items:center;justify-self:center;background:black;");function Uce({}){const[e,t]=y.useState(0),[n,r]=y.useState(!1);y.useEffect(()=>{r(!0),dn.getGameInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),dn.setGameInputLag(o).then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(FN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Hce(e){y.useEffect(()=>(dn.subscribe("remote-mics"),()=>{dn.unsubscribe("remote-mics")}),[]);const[t]=Uo(ee.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(Gce,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const Gce=({mic:e})=>{var r;const[t,n]=y.useState(!1);return et.getPermission(e.id),f.jsxs(qce,{"data-test":"manage-players",children:[t&&f.jsx(DN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(Wce,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(BN,{number:e.number}),f.jsx(Yce,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(Kce,{className:"ph-no-capture",isSelf:e.id===dn.getClientId(),children:e.name})]})]})},qce=I("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Wce=I(Re,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),Kce=I("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${pe.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),Yce=I("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function qR(){const[e,t]=Ge(tj),[n,r]=y.useState(!1);y.useEffect(()=>{r(!0),dn.getMicrophoneInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),dn.setMicrophoneInputLag(s).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},o=()=>{var s;dn.disconnect(),Ve.local.removeItem("remote_mic_name"),Ve.local.removeItem(mb),(s=global.location)==null||s.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:o,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(FN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function Qce(){var r;const e=Wv(),[t,n]=y.useState(e==="write"?null:"microphone");return f.jsxs(Jce,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=dn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Re,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(qR,{}),t!==null&&e==="write"&&f.jsx(ac,{onClose:()=>n(null),children:f.jsxs(mo,{children:[f.jsx(Xce,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(qR,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Hce,{}),f.jsx(Uce,{})]}),f.jsx("hr",{}),f.jsx(Re,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const Jce=I("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),Xce=I("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var Zce="__lodash_hash_undefined__";function eue(e){return this.__data__.set(e,Zce),this}function tue(e){return this.__data__.has(e)}function dh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ys;++t<n;)this.add(e[t])}dh.prototype.add=dh.prototype.push=eue;dh.prototype.has=tue;function nue(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function zN(e,t){return e.has(t)}var rue=1,iue=2;function UN(e,t,n,r,i,o){var s=n&rue,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&iue?new dh:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var b=s?r(m,g,d,t,e,o):r(g,m,d,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!nue(t,function(v,A){if(!zN(p,A)&&(g===v||i(g,v,n,r,o)))return p.push(A)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}function oue(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function xE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var sue=1,aue=2,lue="[object Boolean]",cue="[object Date]",uue="[object Error]",due="[object Map]",fue="[object Number]",hue="[object RegExp]",pue="[object Set]",gue="[object String]",mue="[object Symbol]",vue="[object ArrayBuffer]",yue="[object DataView]",WR=oo?oo.prototype:void 0,PA=WR?WR.valueOf:void 0;function Aue(e,t,n,r,i,o,s){switch(n){case yue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vue:return!(e.byteLength!=t.byteLength||!o(new ym(e),new ym(t)));case lue:case cue:case fue:return L0(+e,+t);case uue:return e.name==t.name&&e.message==t.message;case hue:case gue:return e==t+"";case due:var a=oue;case pue:var l=r&sue;if(a||(a=xE),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=aue,s.set(e,t);var u=UN(a(e),a(t),r,i,o,s);return s.delete(e),u;case mue:if(PA)return PA.call(e)==PA.call(t)}return!1}var bue=1,_ue=Object.prototype,xue=_ue.hasOwnProperty;function Sue(e,t,n,r,i,o){var s=n&bue,a=bb(e),l=a.length,c=bb(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:xue.call(t,h)))return!1}var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);for(var b=s;++d<l;){h=a[d];var v=e[h],A=t[h];if(r)var _=s?r(A,v,h,t,e,o):r(v,A,h,e,t,o);if(!(_===void 0?v===A||i(v,A,n,r,o):_)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var S=e.constructor,x=t.constructor;S!=x&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(m=!1)}return o.delete(e),o.delete(t),m}var wue=1,KR="[object Arguments]",YR="[object Array]",qp="[object Object]",Eue=Object.prototype,QR=Eue.hasOwnProperty;function kue(e,t,n,r,i,o){var s=ao(e),a=ao(t),l=s?YR:ko(e),c=a?YR:ko(t);l=l==KR?qp:l,c=c==KR?qp:c;var u=l==qp,d=c==qp,h=l==c;if(h&&vm(e)){if(!vm(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new ls),s||kO(e)?UN(e,t,n,r,i,o):Aue(e,t,l,n,r,i,o);if(!(n&wue)){var p=u&&QR.call(e,"__wrapped__"),g=d&&QR.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,b=g?t.value():t;return o||(o=new ls),i(m,b,n,r,o)}}return h?(o||(o=new ls),Sue(e,t,n,r,i,o)):!1}function SE(e,t,n,r,i){return e===t?!0:e==null||t==null||!Ds(e)&&!Ds(t)?e!==e&&t!==t:kue(e,t,n,r,SE,i)}var Cue=1,Tue=2;function Iue(e,t,n,r){var i=n.length,o=i;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var a=s[0],l=e[a],c=s[1];if(s[2]){if(l===void 0&&!(a in e))return!1}else{var u=new ls,d;if(!(d===void 0?SE(c,l,Cue|Tue,r,u):d))return!1}}return!0}function HN(e){return e===e&&!Fo(e)}function Rue(e){for(var t=Ih(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,HN(i)]}return t}function GN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Pue(e){var t=Rue(e);return t.length==1&&t[0][2]?GN(t[0][0],t[0][1]):function(n){return n===e||Iue(n,e,t)}}function Mue(e,t,n){var r=e==null?void 0:TS(e,t);return r===void 0?n:r}function jue(e,t){return e!=null&&t in Object(e)}function Oue(e,t,n){t=Q0(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Rh(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&oS(i)&&aS(s,i)&&(ao(e)||yS(e)))}function Vue(e,t){return e!=null&&Oue(e,t,jue)}var Lue=1,Nue=2;function Due(e,t){return kS(e)&&HN(t)?GN(Rh(e),t):function(n){var r=Mue(n,e);return r===void 0&&r===t?Vue(n,e):SE(t,r,Lue|Nue)}}function Bue(e){return function(t){return t==null?void 0:t[e]}}function $ue(e){return function(t){return TS(t,e)}}function Fue(e){return kS(e)?Bue(Rh(e)):$ue(e)}function zue(e){return typeof e=="function"?e:e==null?$O:typeof e=="object"?ao(e)?Due(e[0],e[1]):Pue(e):Fue(e)}function Uue(e,t,n,r){for(var i=e.length,o=n+-1;++o<i;)if(t(e[o],o,e))return o;return-1}function Hue(e){return e!==e}function Gue(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function que(e,t,n){return t===t?Gue(e,t,n):Uue(e,Hue,n)}function Wue(e,t){var n=e==null?0:e.length;return!!n&&que(e,t,0)>-1}function Kue(){}var Yue=1/0,Que=tu&&1/xE(new tu([,-0]))[1]==Yue?function(e){return new tu(e)}:Kue,Jue=200;function qN(e,t,n){var r=-1,i=Wue,o=e.length,s=!0,a=[],l=a;if(o>=Jue){var c=t?null:Que(e);if(c)return xE(c);s=!1,i=zN,l=new dh}else l=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function Xue(e,t){return e&&e.length?qN(e,zue(t)):[]}const Zue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function ede(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let o=String.fromCharCode(97+r)+String.fromCharCode(97+i),s=e.of(o);s!==o&&s!==void 0&&(t[s]=o)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const tde=ede();function WN(e){return tde[e]}const nde=Object.assign({"./Flag/flags/cat.svg":Zue}),uu=e=>{var o;const[t,n]=y.useState(null),r="isocode"in e?(o=e.isocode)==null?void 0:o.toLowerCase():WN(Array.isArray(e.language)?e.language[0]:e.language);if(y.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=nde[`./Flag/flags/${r}.svg`];return f.jsx(rde,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},rde=I("img",{target:"e1k9lqhf0"})("");function td(e=!1){const[t,n]=y.useState(so.getCurrentIndex()),r=y.useRef([]),i=()=>so.getIndex(e).then(n);return y.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const JR=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function qh(){const[e,t]=y.useState(JR()),n=y.useCallback(Zc(()=>{t(JR())},1e3),[]);return y.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function KN(){const{width:e,height:t}=qh();return y.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}function ide(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ode(...e){return t=>e.forEach(n=>ide(n,t))}var YN=y.forwardRef((e,t)=>{const{children:n,...r}=e,i=y.Children.toArray(n),o=i.find(ade);if(o){const s=o.props.children,a=i.map(l=>l===o?y.Children.count(s)>1?y.Children.only(null):y.isValidElement(s)?s.props.children:null:l);return f.jsx(L_,{...r,ref:t,children:y.isValidElement(s)?y.cloneElement(s,void 0,a):null})}return f.jsx(L_,{...r,ref:t,children:n})});YN.displayName="Slot";var L_=y.forwardRef((e,t)=>{const{children:n,...r}=e;if(y.isValidElement(n)){const i=cde(n);return y.cloneElement(n,{...lde(r,n.props),ref:t?ode(t,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});L_.displayName="SlotClone";var sde=({children:e})=>f.jsx(f.Fragment,{children:e});function ade(e){return y.isValidElement(e)&&e.type===sde}function lde(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function cde(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ude(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const o=r[i];t(o)&&(n[o]=e[o])}return n}const dde=(e={})=>{const t=e.compose||At,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const o=(s,a=n)=>{const l=(c,...u)=>{const d=typeof c=="function",h=!d&&String.raw({raw:c},...u);return y.forwardRef((p,g)=>{const{className:m,asChild:b,...v}=p,A=typeof s=="function"?s(p):s||{},_=ude({...A,...v},a),S=b?YN:i,x=d?c(p):h;return y.createElement(S,{ref:g,className:typeof x=="function"?w=>t(x(w),typeof m=="function"?m(w):m):t(x,m),..._})})};return l.transientProps=c=>o(s,typeof c=="function"?d=>!c(d):d=>!c.includes(d)),s===void 0&&(l.attrs=c=>o(c)),l};return o()};return new Proxy(i=>r(i),{get(i,o){return r(o)}})},nd=dde();var wE={},fde=rt;Object.defineProperty(wE,"__esModule",{value:!0});var yf=wE.default=void 0,hde=fde(dt()),pde=f;yf=wE.default=(0,hde.default)((0,pde.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var EE={},gde=rt;Object.defineProperty(EE,"__esModule",{value:!0});var Af=EE.default=void 0,mde=gde(dt()),vde=f;Af=EE.default=(0,mde.default)((0,vde.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function yde(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ade(e){return parseFloat(e)}function QN(){const e=roe(TV);return e[Em]||e}const bde=["theme"];function _de(e){let{theme:t}=e,n=jt(e,bde);const r=t[Em];return f.jsx(foe,ie({},n,{themeId:r?Em:void 0,theme:r||t}))}const XR=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function xde(e){return Rr("MuiSkeleton",e)}Pr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Sde=["animation","className","component","height","style","variant","width"];let n0=e=>e,ZR,eP,tP,nP;const wde=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:s}=e;return Gr({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},xde,t)},Ede=Ga(ZR||(ZR=n0`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),kde=Ga(eP||(eP=n0`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Cde=Qt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=yde(e.shape.borderRadius)||"px",r=Ade(e.shape.borderRadius);return ie({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:ooe(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Ei(tP||(tP=n0`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Ede),({ownerState:e,theme:t})=>e.animation==="wave"&&Ei(nP||(nP=n0`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),kde,(t.vars||t).palette.action.hover)),Tde=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:c="text",width:u}=r,d=jt(r,Sde),h=ie({},r,{animation:i,component:s,variant:c,hasChildren:!!d.children}),p=wde(h);return f.jsx(Cde,ie({as:s,ref:n,className:At(p.root,o),ownerState:h},d,{style:ie({width:u,height:a},l)}))}),Ide="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Rde="/prs/299/assets/logo-1e2sNsQM.mp4",Pde="/prs/299/assets/logo-CDt7pIML.webm",Mde="/prs/299/assets/pride-CMcO3nTB.png";var MM;(MM=global.location)!=null&&MM.search.includes("pride")&&Ve.session.setItem("pride","true");function kE(e){const[t]=Ge(Ar);return t?null:f.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[Ve.session.getItem("pride")==="true"&&f.jsx(rP,{asChild:!0,children:f.jsx("img",{className:"absolute",src:Mde,alt:"AllKaraoke Pride logo part 1"})}),f.jsxs(rP,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:Pde,type:"video/webm"}),f.jsx("source",{src:Rde,type:"video/mp4"})]}),f.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Ide,alt:"AllKaraoke Pride logo part 2"})]})}const rP=nd.video`w-[66rem] h-[16.4rem]`;function CE(){return"chrome"in window}function jde(){return f.jsx(f.Fragment,{children:!CE()&&f.jsxs(Ode,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const Ode=I("div",{target:"e95w1v80"})("width:100%;",ze,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",pe.colors.text.active,";}");function JN(){return f.jsx(f.Fragment,{children:f.jsx(Vde,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const Vde=I("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function Qa({children:e,supportedBrowsers:t}){return qa(!0),f.jsxs(ea,{children:[f.jsx(JN,{}),f.jsxs(Lde,{children:[f.jsx(kE,{}),t&&f.jsx(jde,{}),f.jsx(mo,{children:e})]})]})}const Lde=I("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var TE={},r0=function(){return r0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r0.apply(this,arguments)},Nde=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(o){i.startTime||(i.startTime=o);var s=o-i.startTime;i.remaining=i.duration-s,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(s,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(s,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(s/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),s<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(o){var s,a,l,c,u=o<0?"-":"";s=Math.abs(o).toFixed(i.options.decimalPlaces);var d=(s+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(b){return i.options.numerals[+b]}),l=l.replace(/[0-9]/g,function(b){return i.options.numerals[+b]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(o,s,a,l){return a*(1-Math.pow(2,-10*o/l))*1024/1023+s},this.options=r0(r0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(o){return o()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,o=r.top+r.height+window.pageYOffset;o<n&&o>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>o||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Dde=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Nde},Symbol.toStringTag,{value:"Module"})),Bde=fs(Dde);Object.defineProperty(TE,"__esModule",{value:!0});var nr=y,$de=Bde;function Fde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){zde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zde(e,t,n){return t=Yde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N_.apply(this,arguments)}function Ude(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function XN(e,t){if(e==null)return{};var n=Ude(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hde(e,t){return Gde(e)||Fde(e,t)||qde(e,t)||Wde()}function Gde(e){if(Array.isArray(e))return e}function qde(e,t){if(e){if(typeof e=="string")return oP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(e,t)}}function oP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yde(e){var t=Kde(e,"string");return typeof t=="symbol"?t:String(t)}var Qde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?nr.useLayoutEffect:nr.useEffect;function So(e){var t=nr.useRef(e);return Qde(function(){t.current=e}),nr.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var Jde=function(t,n){var r=n.decimal,i=n.decimals,o=n.duration,s=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,b=n.useIndianSeparators,v=n.enableScrollSpy,A=n.scrollSpyDelay,_=n.scrollSpyOnce,S=n.plugin;return new $de.CountUp(t,a,{startVal:h,duration:o,decimal:r,decimalPlaces:i,easingFn:s,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:S,useEasing:g,useIndianSeparators:b,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:A,scrollSpyOnce:_})},Xde=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Zde={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},ZN=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(j){var L=Hde(j,2),B=L[1];return B!==void 0})),r=nr.useMemo(function(){return i0(i0({},Zde),n)},[t]),i=r.ref,o=r.startOnMount,s=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=XN(r,Xde),g=nr.useRef(),m=nr.useRef(),b=nr.useRef(!1),v=So(function(){return Jde(typeof i=="string"?i:i.current,p)}),A=So(function(j){var L=g.current;if(L&&!j)return L;var B=v();return g.current=B,B}),_=So(function(){var j=function(){return A(!0).start(function(){l==null||l({pauseResume:S,reset:x,start:E,update:w})})};a&&a>0?m.current=setTimeout(j,a*1e3):j(),c==null||c({pauseResume:S,reset:x,update:w})}),S=So(function(){A().pauseResume(),u==null||u({reset:x,start:E,update:w})}),x=So(function(){A().el&&(m.current&&clearTimeout(m.current),A().reset(),d==null||d({pauseResume:S,start:E,update:w}))}),w=So(function(j){A().update(j),h==null||h({pauseResume:S,reset:x,start:E})}),E=So(function(){x(),_()}),C=So(function(j){o&&(j&&x(),_())});return nr.useEffect(function(){b.current?s&&C(!0):(b.current=!0,C())},[s,b,C,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),nr.useEffect(function(){return function(){x()}},[x]),{start:E,pauseResume:S,reset:x,update:w,getCountUp:A}},efe=["className","redraw","containerProps","children","style"],tfe=function(t){var n=t.className,r=t.redraw,i=t.containerProps,o=t.children,s=t.style,a=XN(t,efe),l=nr.useRef(null),c=nr.useRef(!1),u=ZN(i0(i0({},a),{},{ref:l,startOnMount:typeof o!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,b=So(function(){d()}),v=So(function(S){t.preserveValue||h(),p(S)}),A=So(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});nr.useEffect(function(){A()},[A]),nr.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var _=r&&t;return nr.useEffect(function(){r&&c.current&&b()},[b,r,_]),nr.useEffect(function(){!r&&c.current&&b()},[b,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),nr.useEffect(function(){c.current=!0},[]),typeof o=="function"?o({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):nr.createElement("span",N_({className:n,ref:l,style:s},i),typeof t.start<"u"?m().formattingFn(t.start):"")},IE=TE.default=tfe;TE.useCountUp=ZN;const RE=e=>y.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(o=>{const s=o.toLowerCase();t[s]||(t[s]={name:o,count:0}),t[s].count=t[s].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),nfe=zo()?0:10;function eD({onClose:e,closeText:t}){const{register:n}=Kn({onBackspace:e}),[r,i]=Ge(g0),{data:o,isLoading:s}=td(),a=RE(o),l=y.useMemo(()=>a.filter(({name:p,count:g})=>WN(p)&&g>=nfe),[a]),c=y.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};y.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(b=>{var v;return(v=p.of(b))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(b=>b.name).filter(b=>!g.some(v=>v.includes(b.toLowerCase()))).filter(b=>b!=="English");m.length&&i(m)}},[r,l]);const h=y.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return y.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(Qa,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(ofe,{children:[s&&new Array(6).fill(0).map((p,g)=>f.jsx(Tde,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(sP,{"data-excluded":!0,focused:!1,children:f.jsx(uu,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(sP,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(ife,{children:m?f.jsx(Af,{}):f.jsx(yf,{})}),f.jsxs("span",{children:[f.jsx(sfe,{children:p})," (",g," songs)"]}),f.jsx(afe,{"data-excluded":m,children:f.jsx(uu,{language:[p]})})]},p)}),c>0&&f.jsxs(MA,{children:["and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(rfe,{children:[f.jsx(Re,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||s}),children:t}),f.jsxs(MA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(IE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(MA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(lc,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const rfe=I("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),MA=I("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),ife=I("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),ofe=I("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),sfe=I("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),afe=I("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),sP=I(Re,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",ze,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),lfe=zo()?0:30;function cfe({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,o]=y.useState(!1),s=a=>{n.length===0?r(t.filter(l=>l.name!==a).map(l=>l.name)):n.includes(a)?r(n.filter(l=>l!==a)):n.length===t.length-1?r([]):r([...n,a])};return f.jsxs(f.Fragment,{children:[i&&f.jsx(ac,{onClose:()=>o(!1),children:f.jsx(mo,{className:"!gap-1",children:t.filter(a=>a.count>lfe).map(({name:a,count:l})=>f.jsxs(Re,{size:"small",onClick:()=>s(a),children:[f.jsx("span",{className:n.length&&!n.includes(a)?"text-active":"",children:a})," ",f.jsxs("small",{className:"text-2xl pl-2",children:["(",l,")"]})]},a))})}),e({open:()=>o(!0)})]})}const ufe=(e,t,n)=>e>=t&&e<n;function dfe(e,t){var _,S,x;const n=y.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,C)=>{var j,L;w.push({index:C,type:"group",bottom:(((j=w.at(-1))==null?void 0:j.bottom)??0)+e.groupHeaderHeight,groupIndex:C});for(let B=0;B<E;B++){const U=e.groupSizes.reduce((P,V,R)=>P+(R<C?V:0),0)+B;w.push({index:U,type:"item",bottom:(((L=w.at(-1))==null?void 0:L.bottom)??0)+e.itemHeight,groupIndex:C})}}),w},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((_=n.at(-1))==null?void 0:_.bottom)??0,i=y.useRef(null),o=((S=i.current)==null?void 0:S.getBoundingClientRect().height)??global.innerHeight,s=y.useCallback(w=>{const E=n.findIndex(j=>j.bottom>w-e.overScan),C=n.findIndex(j=>j.bottom>w+o+e.overScan);return[E,C===-1?n.length:C]},[n,o,e.overScan]),[[a,l],c]=y.useState(s(0));y.useLayoutEffect(()=>{var E;const w=s(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[s,e.groupSizes,a,l]),y.useEffect(()=>{if(i.current){const w=()=>{var C;const E=s(((C=i.current)==null?void 0:C.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,s,r]);const u=y.useCallback((w,E)=>{var C,j;return(((C=n[E])==null?void 0:C.bottom)??0)-(((j=n[w])==null?void 0:j.bottom)??0)},[n]),d=y.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(x=g.at(-1))==null||x.push(E)}y.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(C=>C.type==="item"&&C.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",C="center")=>{var L,B;const j=n.find(U=>U.type==="item"&&U.index===w);if(j){const U=(e.itemHeight+(C==="center"?(L=i.current)==null?void 0:L.clientHeight:0))/2;(B=i.current)==null||B.scrollTo({top:j.bottom-U,behavior:E})}},scrollToGroup:async(w,E="auto",C="top")=>{var L;const j=n.find(B=>B.type==="group"&&B.index===w);j&&((L=i.current)==null||L.scrollTo({top:j.bottom-e.groupHeaderHeight,behavior:E}))}}));const{Header:m,Footer:b,EmptyPlaceholder:v}=e.components??{},A=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsxs(hfe,{ref:i,children:[f.jsxs(ffe,{style:{height:r,paddingTop:h!==-1?d-e.groupHeaderHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[A]&&!ufe(A,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[A].index,n[A].groupIndex,{style:{width:"100%",position:"absolute",top:n[A].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[A].bottom,"data-virtualized-index":n[A].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:C,type:j,bottom:L,groupIndex:B})=>f.jsx(y.Fragment,{children:j==="group"?e.groupContent(C):e.itemContent(C,B,{"data-virtualized-bottom":L,"data-virtualized-index":C})},`${L}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),b&&f.jsx(b,{context:e.context})]})}const ffe=I("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),hfe=I("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),tD=y.forwardRef(dfe),pfe=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,D_=1/0,jA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),aP="eexxaacctt",gfe="A-Z",mfe="a-z",Ed=(e,t,n)=>e.replace(gfe,t).replace(mfe,n),lP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:D_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,D_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:o,interLft2:s,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||o[h]+s[h]+.5*a[h]-(o[d]+s[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||pfe(t[r[d]],t[r[h]]))}},OA=(e,t)=>t==0?"":t==1?e+"??":t==D_?e+"*?":e+`{0,${t}}?`,cP="(?:\\b|_)";function Kv(e){e=Object.assign({},lP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:o,intraIns:s,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;s??(s=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),H=m.toLocaleLowerCase();h=Ed(h,G,H),d=Ed(d,G,H),p=Ed(p,G,H),g=Ed(g,G,H),u=Ed(u,G,H)}let b=t?"u":"";const v='".+?"',A=new RegExp(v,"gi"+b),_=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+b);let{intraRules:S}=e;S==null&&(S=G=>{let H=lP.intraSlice,ne=0,N=0,ue=0,Z=0;if(/[^\d]/.test(G)){let ae=G.length;ae<=4?ae>=3&&(ue=Math.min(l,1),ae==4&&(ne=Math.min(s,1))):(H=o,ne=s,N=a,ue=l,Z=c)}return{intraSlice:H,intraIns:ne,intraSub:N,intraTrn:ue,intraDel:Z}});let x=!!d,w=new RegExp(d,"g"+b),E=new RegExp(h,"g"+b),C=new RegExp("^"+h+"|"+h+"$","g"+b),j=new RegExp(u,"gi"+b);const L=G=>{let H=[];G=G.replace(A,N=>(H.push(N),aP)),G=G.replace(C,"").toLocaleLowerCase(),x&&(G=G.replace(w,N=>N[0]+" "+N[1]));let ne=0;return G.split(E).filter(N=>N!="").map(N=>N===aP?H[ne++]:N)},B=/[^\d]+|\d+/g,U=(G,H=0,ne=!1)=>{let N=L(G);if(N.length==0)return[];let ue=Array(N.length).fill("");N=N.map((le,Se)=>le.replace(j,Ue=>(ue[Se]=Ue,"")));let Z;if(i==1)Z=N.map((le,Se)=>{if(le[0]==='"')return jA(le.slice(1,-1));let Ue="";for(let De of le.matchAll(B)){let xe=De[0],{intraSlice:Te,intraIns:Ke,intraSub:Ye,intraTrn:je,intraDel:lt}=S(xe);if(Ke+Ye+je+lt==0)Ue+=xe+ue[Se];else{let[Ot,on]=Te,Dt=xe.slice(0,Ot),Sn=xe.slice(on),ft=xe.slice(Ot,on);Ke==1&&Dt.length==1&&Dt!=ft[0]&&(Dt+="(?!"+Dt+")");let Et=ft.length,Jt=[xe];if(Ye)for(let Xe=0;Xe<Et;Xe++)Jt.push(Dt+ft.slice(0,Xe)+g+ft.slice(Xe+1)+Sn);if(je)for(let Xe=0;Xe<Et-1;Xe++)ft[Xe]!=ft[Xe+1]&&Jt.push(Dt+ft.slice(0,Xe)+ft[Xe+1]+ft[Xe]+ft.slice(Xe+2)+Sn);if(lt)for(let Xe=0;Xe<Et;Xe++)Jt.push(Dt+ft.slice(0,Xe+1)+"?"+ft.slice(Xe+1)+Sn);if(Ke){let Xe=OA(g,1);for(let Bt=0;Bt<Et;Bt++)Jt.push(Dt+ft.slice(0,Bt)+Xe+ft.slice(Bt)+Sn)}Ue+="(?:"+Jt.join("|")+")"+ue[Se]}}return Ue});else{let le=OA(g,s);H==2&&s>0&&(le=")("+le+")("),Z=N.map((Se,Ue)=>Se[0]==='"'?jA(Se.slice(1,-1)):Se.split("").map((De,xe,Te)=>(s==1&&xe==0&&Te.length>1&&De!=Te[xe+1]&&(De+="(?!"+De+")"),De)).join(le)+ue[Ue])}let ae=n==2?cP:"",Pe=r==2?cP:"",be=Pe+OA(e.interChars,e.interIns)+ae;return H>0?ne?Z=ae+"("+Z.join(")"+Pe+"|"+ae+"(")+")"+Pe:(Z="("+Z.join(")("+be+")(")+")",Z="(.??"+ae+")"+Z+"("+Pe+".*)"):(Z=Z.join(be),Z=ae+Z+Pe),[new RegExp(Z,"i"+b),N,ue]},P=(G,H,ne)=>{let[N]=U(H);if(N==null)return null;let ue=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let ae=ne[Z];N.test(G[ae])&&ue.push(ae)}else for(let Z=0;Z<G.length;Z++)N.test(G[Z])&&ue.push(Z);return ue};let V=!!p,R=new RegExp(h,b),k=new RegExp(p,b);const D=(G,H,ne)=>{let[N,ue,Z]=U(ne,1),[ae]=U(ne,2),Pe=ue.length,be=G.length,le=Array(be).fill(0),Se={idx:Array(be),start:le.slice(),chars:le.slice(),terms:le.slice(),interIns:le.slice(),intraIns:le.slice(),interLft2:le.slice(),interRgt2:le.slice(),interLft1:le.slice(),interRgt1:le.slice(),ranges:Array(be)},Ue=n==1||r==1,De=0;for(let xe=0;xe<G.length;xe++){let Te=H[G[xe]],Ke=Te.match(N),Ye=Ke.index+Ke[1].length,je=Ye,lt=!1,Ot=0,on=0,Dt=0,Sn=0,ft=0,Et=0,Jt=0,Xe=0,Bt=[];for(let ye=0,it=2;ye<Pe;ye++,it+=2){let wn=Ke[it].toLocaleLowerCase(),ht=ue[ye],ot=ht[0]=='"'?ht.slice(1,-1):ht+Z[ye],sn=ot.length,gn=wn.length,Xt=wn==ot;if(!Xt&&Ke[it+1].length>=sn){let mt=Ke[it+1].toLocaleLowerCase().indexOf(ot);mt>-1&&(Bt.push(je,gn,mt,sn),je+=O(Ke,it,mt,sn),wn=ot,gn=sn,Xt=!0,ye==0&&(Ye=je))}if(Ue||Xt){let mt=je-1,Un=je+gn,br=!1,En=!1;if(mt==-1||R.test(Te[mt]))Xt&&Ot++,br=!0;else{if(n==2){lt=!0;break}if(V&&k.test(Te[mt]+Te[mt+1]))Xt&&on++,br=!0;else if(n==1){let ji=Ke[it+1],di=je+gn;if(ji.length>=sn){let kt=0,kn=!1,Ne=new RegExp(ot,"ig"+b),Ze;for(;Ze=Ne.exec(ji);){kt=Ze.index;let Yn=di+kt,fi=Yn-1;if(fi==-1||R.test(Te[fi])){Ot++,kn=!0;break}else if(k.test(Te[fi]+Te[Yn])){on++,kn=!0;break}}kn&&(br=!0,Bt.push(je,gn,kt,sn),je+=O(Ke,it,kt,sn),wn=ot,gn=sn,Xt=!0,ye==0&&(Ye=je))}if(!br){lt=!0;break}}}if(Un==Te.length||R.test(Te[Un]))Xt&&Dt++,En=!0;else{if(r==2){lt=!0;break}if(V&&k.test(Te[Un-1]+Te[Un]))Xt&&Sn++,En=!0;else if(r==1){lt=!0;break}}Xt&&(ft+=sn,br&&En&&Et++)}if(gn>sn&&(Xe+=gn-sn),ye>0&&(Jt+=Ke[it-1].length),!e.intraFilt(ot,wn,je)){lt=!0;break}ye<Pe-1&&(je+=gn+Ke[it+1].length)}if(!lt){Se.idx[De]=G[xe],Se.interLft2[De]=Ot,Se.interLft1[De]=on,Se.interRgt2[De]=Dt,Se.interRgt1[De]=Sn,Se.chars[De]=ft,Se.terms[De]=Et,Se.interIns[De]=Jt,Se.intraIns[De]=Xe,Se.start[De]=Ye;let ye=Te.match(ae),it=ye.index+ye[1].length,wn=Bt.length,ht=wn>0?0:1/0,ot=wn-4;for(let mt=2;mt<ye.length;){let Un=ye[mt].length;if(ht<=ot&&Bt[ht]==it){let br=Bt[ht+1],En=Bt[ht+2],ji=Bt[ht+3],di=mt,kt="";for(let kn=0;kn<br;di++)kt+=ye[di],kn+=ye[di].length;ye.splice(mt,di-mt,kt),it+=O(ye,mt,En,ji),ht+=4}else it+=Un,mt++}it=ye.index+ye[1].length;let sn=Se.ranges[De]=[],gn=it,Xt=it;for(let mt=2;mt<ye.length;mt++){let Un=ye[mt].length;it+=Un,mt%2==0?Xt=it:Un>0&&(sn.push(gn,Xt),gn=Xt=it)}Xt>gn&&sn.push(gn,Xt),De++}}if(De<G.length)for(let xe in Se)Se[xe]=Se[xe].slice(0,De);return Se},O=(G,H,ne,N)=>{let ue=G[H]+G[H+1].slice(0,ne);return G[H-1]+=ue,G[H]=G[H+1].slice(ne,ne+N),G[H+1]=G[H+1].slice(ne+N),ue.length},z=5,$=(G,H,ne,N=1e3,ue)=>{ne=ne?ne===!0?z:ne:0;let Z=null,ae=null,Pe=[];H=H.replace(_,xe=>{let Te=xe.trim().slice(1);return Te[0]==='"'&&(Te=jA(Te.slice(1,-1))),Pe.push(Te),""});let be=L(H),le;if(Pe.length>0){if(le=new RegExp(Pe.join("|"),"i"+b),be.length==0){let xe=[];for(let Te=0;Te<G.length;Te++)le.test(G[Te])||xe.push(Te);return[xe,null,null]}}else if(be.length==0)return[null,null,null];if(ne>0){let xe=L(H);if(xe.length>1){let Te=xe.slice().sort((Ye,je)=>je.length-Ye.length);for(let Ye=0;Ye<Te.length;Ye++){if((ue==null?void 0:ue.length)==0)return[[],null,null];ue=P(G,Te[Ye],ue)}if(xe.length>ne)return[ue,null,null];Z=nD(xe).map(Ye=>Ye.join(" ")),ae=[];let Ke=new Set;for(let Ye=0;Ye<Z.length;Ye++)if(Ke.size<ue.length){let je=ue.filter(Ot=>!Ke.has(Ot)),lt=P(G,Z[Ye],je);for(let Ot=0;Ot<lt.length;Ot++)Ke.add(lt[Ot]);ae.push(lt)}else ae.push([])}}Z==null&&(Z=[H],ae=[(ue==null?void 0:ue.length)>0?ue:P(G,H)]);let Se=null,Ue=null;if(Pe.length>0&&(ae=ae.map(xe=>xe.filter(Te=>!le.test(G[Te])))),ae.reduce((xe,Te)=>xe+Te.length,0)<=N){Se={},Ue=[];for(let xe=0;xe<ae.length;xe++){let Te=ae[xe];if(Te==null||Te.length==0)continue;let Ke=Z[xe],Ye=D(Te,G,Ke),je=e.sort(Ye,G,Ke);if(xe>0)for(let lt=0;lt<je.length;lt++)je[lt]+=Ue.length;for(let lt in Ye)Se[lt]=(Se[lt]??[]).concat(Ye[lt]);Ue=Ue.concat(je)}}return[[].concat(...ae),Se,Ue]};return{search:(...G)=>$(...G),split:L,filter:P,info:D,sort:e.sort}}const vfe=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let o in e)e[o].split("").forEach(s=>{n+=s,t.set(s,o)});let r=new RegExp(`[${n}]`,"g"),i=o=>t.get(o);return o=>{if(typeof o=="string")return o.replace(r,i);let s=Array(o.length);for(let a=0;a<o.length;a++)s[a]=o[a].replace(r,i);return s}})();function nD(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,o,s;for(;i<t;)r[i]<i?(o=i%2&&r[i],s=e[i],e[i]=e[o],e[o]=s,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const yfe=(e,t)=>t?`<mark>${e}</mark>`:e,Afe=(e,t)=>e+t;function bfe(e,t,n=yfe,r="",i=Afe){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let o=0;o<t.length;o+=2){let s=t[o],a=t[o+1];r=i(r,n(e.substring(s,a),!0))??r,o<t.length-3&&(r=i(r,n(e.substring(t[o+1],t[o+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}Kv.latinize=vfe;Kv.permute=e=>nD([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));Kv.highlight=bfe;const _fe=(e,t,n)=>{const r=RE(e);return y.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(wse,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:""}),"Selection",f.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},uP=e=>Bl((e==null?void 0:e.search)??"").length>2,dP={},xfe=/[^0-9a-z ]/gi,VA=e=>rS(e).toLowerCase().replace(xfe,"");function rD(e,t){const n=Bl(t);if(n.length>0){const r=new Kv({}),[,i,o]=r.search(e.map(s=>`${VA(s.artist)} ${VA(s.title)}`),VA(t));return o&&i?o.map(s=>e[i.idx[s]]):e.filter(s=>s.search.includes(n))}return e}const o0={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||uP(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>rD(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Bl(t).length?e.filter(r=>Bl(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Mo().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Mo(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>uP(n)?e:e.filter(r=>t.includes(r.id))},fP=(e,t)=>Object.entries(t).filter(n=>n[0]in o0).reduce((n,[r,i])=>o0[r](n,i,t,e),e),Sfe=(e,t,n)=>{var g;const[r]=Ge(g0),i=y.useMemo(()=>fP(e,{excludeLanguages:r??[]}),[e,r]),o=_fe(i,t,n),[s,a]=y.useState(new URLSearchParams((g=global.location)==null?void 0:g.search).get("playlist")??null),l=m=>{var v;const b=new URL((v=global.location)==null?void 0:v.href);b.searchParams.set("playlist",m),global.history.replaceState(null,"",b.toString()),a(m)},c=o.find(m=>m.name===s)??o[0],[u,d]=y.useState(dP);y.useEffect(()=>{d(dP)},[s]);const h=y.useDeferredValue(u),p=y.useMemo(()=>fP(e,{...(c==null?void 0:c.filters)??{},...h,excludeLanguages:r??[]}),[e,h,r,c]);return{filters:u,filteredList:p,setFilters:d,selectedPlaylist:s,setSelectedPlaylist:l,playlists:o,playlist:c}},wfe=Gh("remote-mic-saved-songs");function Efe({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:o,connectionStatus:s}){const[a]=Uo(ee.remoteKeyboardLayout,!0)??[],l=Wv(),c=td(),[u,d]=y.useState();y.useEffect(()=>{s==="connected"&&u===void 0&&dn.getSongList().then(d).catch(console.warn)},[u,s]);const h=y.useMemo(()=>Xue(c.data.map(j=>({...j,id:so.generateSongFile(j)})).filter(j=>!((u==null?void 0:u.deleted)??[]).includes(j.id)).map(j=>({id:j.id,artist:j.artist,title:j.title,video:j.video,language:j.language,search:j.search})).concat(...((u==null?void 0:u.custom)??[]).map(j=>({...j,id:so.generateSongFile(j)}))),j=>j.id),[c.data,u]),p=RE(h),[g,m]=y.useState(""),[b,v]=y.useState([]),[A,_]=wfe([]),[S,x]=y.useState("list"),w=KN(),E=j=>{x(j),m("")},C=y.useMemo(()=>{if(S==="list"){const j=rD(h,g);return j.length!==h.length?j:h.filter(L=>!L.language.every(B=>b.includes(B)))}else return A.map(j=>h.find(L=>L.id===j)).filter(Boolean)},[g,h,S,A,b]);return f.jsxs(kfe,{children:[f.jsxs(Cfe,{children:[f.jsx(cc,{focused:!1,label:f.jsx(Gv,{}),placeholder:"Search for a song",value:g,onChange:j=>m(j),"data-test":"search-input"}),f.jsxs(Tfe,{children:[f.jsx(LA,{"data-active":S==="list",onClick:()=>E("list"),children:"All songs"}),f.jsxs(LA,{"data-active":S==="queue",onClick:()=>E("queue"),children:["Your list (",A.length,")"]}),f.jsx(cfe,{excludedLanguages:b,languageList:p,onListChange:v,children:({open:j})=>f.jsx(LA,{className:"!flex-grow-[0.3]",onClick:j,"data-active":b.length>0&&S==="list"?!0:void 0,children:""})})]})]}),f.jsx(tD,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[C.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:w*7+1,itemContent:(j,L,B)=>{var V;const U=C[j],P=A.includes(U.id);return f.jsxs(Ife,{className:P?"!bg-black !bg-opacity-35":"","data-test":U.id,...B,children:[f.jsx(Rfe,{children:f.jsx(uu,{language:U.language})}),f.jsxs(Pfe,{children:[f.jsx(jfe,{children:U.title}),f.jsx(Mfe,{children:U.artist})]}),f.jsxs(Ofe,{children:[((V=a==null?void 0:a.remote)==null?void 0:V.includes("select-song"))&&l==="write"&&f.jsx(hP,{onClick:R=>{R.stopPropagation(),dn.selectSong(U.id)},children:"SELECT"}),P?f.jsx(hP,{onClick:R=>{R.stopPropagation(),_(k=>k.filter(D=>D!==U.id))},children:"-"}):f.jsx(iD,{onClick:R=>{R.stopPropagation(),_(k=>[...k,U.id])},children:"+"})]})]})}})]})}const kfe=I("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),Cfe=I("div",{target:"emsrjbt8"})(ze,";font-size:2.5rem;display:flex;flex-direction:column;"),Tfe=I("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),LA=I("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",ze,";font-size:2rem;transition:300ms;&[data-active='true']{background:",pe.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Ife=I("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),Rfe=I("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Pfe=I("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Mfe=I("span",{target:"emsrjbt2"})("color:",pe.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),jfe=I("span",{target:"emsrjbt1"})("color:",pe.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),Ofe=I("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),iD=nd.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,hP=nd(iD)`text-active`,NA=new xZ;function Vfe(){const e=Z0("room"),[t]=Uo(ee.remoteStyleChanged,!0)??["regular"];y.useLayoutEffect(()=>{D5(t)},[t]),qa(!0,t);const[n,r]=y.useState("microphone"),[i,o]=Uo(ee.karaokeConnectionStatusChange)??["uninitialised"],[s,a]=y.useState(!1);Tr(ee.micMonitoringStarted,()=>a(!0)),Tr(ee.micMonitoringStopped,()=>a(!1));const[l,c]=y.useState(!1),u=async h=>{try{h&&!NA.isEnabled?await NA.enable():!h&&NA.isEnabled,c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(ea,{children:[f.jsx(Dce,{onConfirm:d}),f.jsx(jZ,{size:10}),f.jsx(Nfe,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Vce,{roomId:e,monitoringStarted:s,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:o}),n==="song-list"&&f.jsx(Efe,{roomId:e,monitoringStarted:s,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:o}),n==="settings"&&f.jsx(Qce,{}),f.jsx(Lfe,{}),f.jsx(Kae,{setActiveTab:r,active:n})]})})]})}const Lfe=I("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),Nfe=I("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function Ja(e){const[t]=Ge(m0),[n]=Ge(kx),r=t==="christmas"?oO:n==="Classic"?iO:rO;y.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function Dfe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var oD=y,Bfe=Dfe(oD);function pP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $fe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ffe=!!(typeof window<"u"&&window.document&&window.document.createElement);function zfe(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],a;function l(){a=e(s.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){$fe(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,s=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){s.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=s.indexOf(this);s.splice(g,1),l()},h.render=function(){return Bfe.createElement(o,this.props)},d}(oD.PureComponent);return pP(c,"displayName","SideEffect("+r(o)+")"),pP(c,"canUseDOM",Ffe),c}}var Ufe=zfe;const Hfe=yr(Ufe);var Gfe=typeof Element<"u",qfe=typeof Map=="function",Wfe=typeof Set=="function",Kfe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Lg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Lg(e[r],t[r]))return!1;return!0}var o;if(qfe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Lg(r.value[1],t.get(r.value[0])))return!1;return!0}if(Wfe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Kfe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Gfe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Lg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Yfe=function(t,n){try{return Lg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Qfe=yr(Yfe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gP=Object.getOwnPropertySymbols,Jfe=Object.prototype.hasOwnProperty,Xfe=Object.prototype.propertyIsEnumerable;function Zfe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ehe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var the=ehe()?Object.assign:function(e,t){for(var n,r=Zfe(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)Jfe.call(n,s)&&(r[s]=n[s]);if(gP){i=gP(n);for(var a=0;a<i.length;a++)Xfe.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const nhe=yr(the);var jl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},We={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(We).map(function(e){return We[e]});var tn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},s0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},rhe=Object.keys(s0).reduce(function(e,t){return e[s0[t]]=t,e},{}),ihe=[We.NOSCRIPT,We.SCRIPT,We.STYLE],jo="data-react-helmet",ohe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},she=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ahe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lhe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},mP=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},che=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},B_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},uhe=function(t){var n=du(t,We.TITLE),r=du(t,fh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=du(t,fh.DEFAULT_TITLE);return n||i||void 0},dhe=function(t){return du(t,fh.ON_CHANGE_CLIENT_STATE)||function(){}},DA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Yr({},r,i)},{})},fhe=function(t,n){return n.filter(function(r){return typeof r[We.BASE]<"u"}).map(function(r){return r[We.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},kd=function(t,n,r){var i={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&mhe("Helmet: "+t+' should be of type "Array". Instead found type "'+ohe(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,s){var a={};s.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var b=g[m],v=b.toLowerCase();n.indexOf(v)!==-1&&!(p===tn.REL&&h[p].toLowerCase()==="canonical")&&!(v===tn.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(b)!==-1&&(b===tn.INNER_HTML||b===tn.CSS_TEXT||b===tn.ITEM_PROP)&&(p=b)}if(!p||!h[p])return!1;var A=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][A]?!1:(a[p][A]=!0,!0)}).reverse().forEach(function(h){return o.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=nhe({},i[u],a[u]);i[u]=d}return o},[]).reverse()},du=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},hhe=function(t){return{baseTag:fhe([tn.HREF,tn.TARGET],t),bodyAttributes:DA(jl.BODY,t),defer:du(t,fh.DEFER),encode:du(t,fh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:DA(jl.HTML,t),linkTags:kd(We.LINK,[tn.REL,tn.HREF],t),metaTags:kd(We.META,[tn.NAME,tn.CHARSET,tn.HTTPEQUIV,tn.PROPERTY,tn.ITEM_PROP],t),noscriptTags:kd(We.NOSCRIPT,[tn.INNER_HTML],t),onChangeClientState:dhe(t),scriptTags:kd(We.SCRIPT,[tn.SRC,tn.INNER_HTML],t),styleTags:kd(We.STYLE,[tn.CSS_TEXT],t),title:uhe(t),titleAttributes:DA(jl.TITLE,t)}},$_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){$_(t)},0)}}(),vP=function(t){return clearTimeout(t)},phe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||$_:global.requestAnimationFrame||$_,ghe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||vP:global.cancelAnimationFrame||vP,mhe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Cd=null,vhe=function(t){Cd&&ghe(Cd),t.defer?Cd=phe(function(){yP(t,function(){Cd=null})}):(yP(t),Cd=null)},yP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,o=t.htmlAttributes,s=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;F_(We.BODY,i),F_(We.HTML,o),yhe(h,p);var g={baseTag:_c(We.BASE,r),linkTags:_c(We.LINK,s),metaTags:_c(We.META,a),noscriptTags:_c(We.NOSCRIPT,l),scriptTags:_c(We.SCRIPT,u),styleTags:_c(We.STYLE,d)},m={},b={};Object.keys(g).forEach(function(v){var A=g[v],_=A.newTags,S=A.oldTags;_.length&&(m[v]=_),S.length&&(b[v]=g[v].oldTags)}),n&&n(),c(t,m,b)},sD=function(t){return Array.isArray(t)?t.join(""):t},yhe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=sD(t)),F_(We.TITLE,n)},F_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(jo),o=i?i.split(","):[],s=[].concat(o),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),o.indexOf(c)===-1&&o.push(c);var d=s.indexOf(c);d!==-1&&s.splice(d,1)}for(var h=s.length-1;h>=0;h--)r.removeAttribute(s[h]);o.length===s.length?r.removeAttribute(jo):r.getAttribute(jo)!==a.join(",")&&r.setAttribute(jo,a.join(","))}},_c=function(t,n){var r=document.head||document.querySelector(We.HEAD),i=r.querySelectorAll(t+"["+jo+"]"),o=Array.prototype.slice.call(i),s=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===tn.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===tn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(jo,"true"),o.some(function(h,p){return a=p,c.isEqualNode(h)})?o.splice(a,1):s.push(c)}),o.forEach(function(l){return l.parentNode.removeChild(l)}),s.forEach(function(l){return r.appendChild(l)}),{oldTags:o,newTags:s}},aD=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Ahe=function(t,n,r,i){var o=aD(r),s=sD(n);return o?"<"+t+" "+jo+'="true" '+o+">"+B_(s,i)+"</"+t+">":"<"+t+" "+jo+'="true">'+B_(s,i)+"</"+t+">"},bhe=function(t,n,r){return n.reduce(function(i,o){var s=Object.keys(o).filter(function(c){return!(c===tn.INNER_HTML||c===tn.CSS_TEXT)}).reduce(function(c,u){var d=typeof o[u]>"u"?u:u+'="'+B_(o[u],r)+'"';return c?c+" "+d:d},""),a=o.innerHTML||o.cssText||"",l=ihe.indexOf(t)===-1;return i+"<"+t+" "+jo+'="true" '+s+(l?"/>":">"+a+"</"+t+">")},"")},lD=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[s0[i]||i]=t[i],r},n)},_he=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[rhe[i]||i]=t[i],r},n)},xhe=function(t,n,r){var i,o=(i={key:n},i[jo]=!0,i),s=lD(r,o);return[Ce.createElement(We.TITLE,s,n)]},She=function(t,n){return n.map(function(r,i){var o,s=(o={key:i},o[jo]=!0,o);return Object.keys(r).forEach(function(a){var l=s0[a]||a;if(l===tn.INNER_HTML||l===tn.CSS_TEXT){var c=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=r[a]}),Ce.createElement(t,s)})},gs=function(t,n,r){switch(t){case We.TITLE:return{toComponent:function(){return xhe(t,n.title,n.titleAttributes)},toString:function(){return Ahe(t,n.title,n.titleAttributes,r)}};case jl.BODY:case jl.HTML:return{toComponent:function(){return lD(n)},toString:function(){return aD(n)}};default:return{toComponent:function(){return She(t,n)},toString:function(){return bhe(t,n,r)}}}},cD=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,o=t.htmlAttributes,s=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:gs(We.BASE,n,i),bodyAttributes:gs(jl.BODY,r,i),htmlAttributes:gs(jl.HTML,o,i),link:gs(We.LINK,s,i),meta:gs(We.META,a,i),noscript:gs(We.NOSCRIPT,l,i),script:gs(We.SCRIPT,c,i),style:gs(We.STYLE,u,i),title:gs(We.TITLE,{title:h,titleAttributes:p},i)}},whe=function(t){var n,r;return r=n=function(i){lhe(o,i);function o(){return she(this,o),che(this,i.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(a){return!Qfe(this.props,a)},o.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case We.SCRIPT:case We.NOSCRIPT:return{innerHTML:l};case We.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Yr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Yr({},d,this.mapNestedChildrenToProps(c,h))]),l))},o.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case We.TITLE:return Yr({},d,(l={},l[u.type]=p,l.titleAttributes=Yr({},h),l));case We.BODY:return Yr({},d,{bodyAttributes:Yr({},h)});case We.HTML:return Yr({},d,{htmlAttributes:Yr({},h)})}return Yr({},d,(c={},c[u.type]=Yr({},h),c))},o.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Yr({},l);return Object.keys(a).forEach(function(u){var d;c=Yr({},c,(d={},d[u]=a[u],d))}),c},o.prototype.warnOnInvalidChildren=function(a,l){return!0},o.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Ce.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=mP(h,["children"]),m=_he(g);switch(c.warnOnInvalidChildren(d,p),d.type){case We.LINK:case We.META:case We.NOSCRIPT:case We.SCRIPT:case We.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},o.prototype.render=function(){var a=this.props,l=a.children,c=mP(a,["children"]),u=Yr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Ce.createElement(t,u)},ahe(o,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),o}(Ce.Component),n.propTypes={base:Je.object,bodyAttributes:Je.object,children:Je.oneOfType([Je.arrayOf(Je.node),Je.node]),defaultTitle:Je.string,defer:Je.bool,encodeSpecialCharacters:Je.bool,htmlAttributes:Je.object,link:Je.arrayOf(Je.object),meta:Je.arrayOf(Je.object),noscript:Je.arrayOf(Je.object),onChangeClientState:Je.func,script:Je.arrayOf(Je.object),style:Je.arrayOf(Je.object),title:Je.string,titleAttributes:Je.object,titleTemplate:Je.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=cD({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Ehe=function(){return null},khe=Hfe(hhe,vhe,cD)(Ehe),Ti=whe(khe);Ti.renderStatic=Ti.rewind;const uD=y.forwardRef(({...e},t)=>{const n=y.useRef(null);y.useImperativeHandle(t,()=>n.current);const[r,i]=Ge(Jd);return f.jsx(Che,{ref:n,label:"Input lag",value:String(r),onChange:o=>i(+o),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:o=>{var s;o.code==="Enter"&&((s=n.current)==null||s.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Che=I(cc,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function The(e){Ja(!1);const t=ui(),n=()=>t("menu/"),{register:r}=Kn({onBackspace:n}),[i,o]=Ge(Qi),[s,a]=Ge(Sl),[l,c]=Ge(Ar),[u,d]=Ge(kx),h=y.useRef(null),[p,g]=y.useState(Ro.getPermissionStatus());y.useEffect(()=>Ro.addListener(_=>{g(_)}),[]);const[m,b]=y.useState(!1),v=()=>{b(!0),Ro.requestPermissions().then(()=>b(!1))};let A="Disabled";return m?A=f.jsx(Hh,{size:"0.9em"}):p===null?A="Click to enable":p&&(A="Enabled"),f.jsxs(Qa,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(vi,{...r("graphics-level",()=>o(ja(X5,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(vi,{...r("fps-count-level",()=>a(ja(Z5,s))),label:"FPS Count",value:s}),f.jsx(vi,{...r("background-music-selection",()=>d(ja(rj,u))),label:"Background Music",value:u}),f.jsx(uD,{ref:h,...r("input-lag",()=>{var _;return(_=h.current)==null?void 0:_.focus()})}),f.jsx("hr",{}),f.jsx(vi,{...r("camera-access",()=>p?Ro.disable():v()),label:"Enable camera mode",value:A,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(vi,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Re,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Re,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Re,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})]})}function Ihe(e){return Rr("MuiPaper",e)}Pr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Rhe=["className","component","elevation","square","variant"],Phe=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Gr(o,Ihe,i)},Mhe=Qt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return ie({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&ie({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ya("#fff",XR(t.elevation))}, ${ya("#fff",XR(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Yv=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=jt(r,Rhe),u=ie({},r,{component:o,elevation:s,square:a,variant:l}),d=Phe(u);return f.jsx(Mhe,ie({as:o,ownerState:u,className:At(d.root,i),ref:n},c))});function dD(e){return f.jsxs(jhe,{...e,children:[f.jsx(fD,{asChild:!0,children:f.jsx(CN,{})}),f.jsx(Ohe,{asChild:!0,children:f.jsx(V_,{})})]})}const jhe=nd.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,fD=nd.svg`w-[15rem] h-[15rem] transition-[300ms]`,Ohe=nd(fD)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function hD(){const[e,t]=y.useState(!1);return y.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Vhe,{visible:e,children:f.jsx(Lhe,{})})}const Vhe=I("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),Lhe=I(dD,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),pD=y.lazy(()=>Wu(()=>import("./SongManagement-DNdTd8ue.js"),[]).then(e=>({default:e.Convert}))),Nhe=e=>f.jsxs(y.Suspense,{fallback:f.jsx(hD,{}),children:[f.jsx(Ti,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Yv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:f.jsx(pD,{...e})})]});var PE={},Dhe=rt;Object.defineProperty(PE,"__esModule",{value:!0});var gD=PE.default=void 0,Bhe=Dhe(dt()),$he=f;gD=PE.default=(0,Bhe.default)((0,$he.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var mD={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ha,function(){return function(n,r,i){n=n||{};var o=r.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return o.fromToBase(c,u,d,h)}i.en.relativeTime=s,o.fromToBase=function(c,u,d,h,p){for(var g,m,b,v=d.$locale().relativeTime||s,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=A.length,S=0;S<_;S+=1){var x=A[S];x.d&&(g=h?i(c).diff(d,x.d,!0):d.diff(c,x.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(b=g>0,w<=x.r||!x.r){w<=1&&S>0&&(x=A[S-1]);var E=v[x.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,x.l,b);break}}if(u)return m;var C=b?v.future:v.past;return typeof C=="function"?C(m):C.replace("%s",m)},o.to=function(c,u){return a(c,u,this,!0)},o.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};o.toNow=function(c){return this.to(l(this),c)},o.fromNow=function(c){return this.from(l(this),c)}}})})(mD);var Fhe=mD.exports;const zhe=yr(Fhe),vD=1e3,Uhe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),Hhe=e=>{const t=e.notes.at(-1);return t.start+t.length},Ghe=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=Hhe(i)}),r},AP=(e,t)=>({...e,sections:Ghe(Uhe(e.sections.filter(Tt)),t)});function qhe(e){const t=Ku(e),n=Math.round(vD/t);return{...e,tracks:e.tracks.map(r=>AP(r,n)),mergedTrack:AP(e.mergedTrack,n)}}const Whe=(e,t)=>e.map((n,r)=>Tt(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),bP=(e,t)=>({...e,sections:Whe(e.sections,t)});function Khe(e){const t=Ku(e),n=Math.round(vD/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(o=>bP(o,r)),mergedTrack:bP(e.mergedTrack,r)}}function yD(e,t){return Ku(t)*e}function Qv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?La(n.sections):n.start));return yD(t,e)+e.gap}function Yhe(e){const t=Qv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Qhe=(e,t)=>e.map((n,r)=>Tt(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Tt(n)||n.start-n.end>0),_P=(e,t)=>({...e,sections:Qhe(e.sections,t)});function Jhe(e){const t=Ku(e),n=e.tracks.reduce((s,a,l)=>{const c=La(e.tracks[s].sections),u=La(a.sections);return c>u?l:s},0),r=e.tracks[n].sections.find(Tt);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),o=Math.floor(e.gap+i*t);return{...e,gap:o,tracks:e.tracks.map(s=>_P(s,i)),mergedTrack:_P(e.mergedTrack,i)}}const Xhe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),xP=e=>({...e,sections:e.sections.map(t=>Tt(t)?{...t,notes:Xhe(t.notes)}:t)});function Zhe(e){return{...e,tracks:e.tracks.map(xP),mergedTrack:xP(e.mergedTrack)}}const epe=e=>{let t=Jhe(e);return t=Khe(t),t=qhe(t),t=Zhe(t),t=Yhe(t),t};function AD(e){const[t,n]=y.useState(null);return y.useEffect(()=>{so.get(e).then(r=>n(r&&epe(r)))},[e]),{data:t}}function tpe(e){return Rr("MuiButton",e)}const Wp=Pr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),npe=y.createContext({}),rpe=y.createContext(void 0),ipe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ope=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${nt(t)}`,`size${nt(i)}`,`${o}Size${nt(i)}`,`color${nt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${nt(i)}`],endIcon:["icon","endIcon",`iconSize${nt(i)}`]},l=Gr(a,tpe,s);return ie({},s,l)},bD=e=>ie({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),spe=Qt(BL,{shouldForwardProp:e=>GS(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${nt(n.color)}`],t[`size${nt(n.size)}`],t[`${n.variant}Size${nt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return ie({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":ie({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ya(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ya(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ya(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":ie({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Wp.focusVisible}`]:ie({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Wp.disabled}`]:ie({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${ya(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Wp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Wp.disabled}`]:{boxShadow:"none"}}),ape=Qt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${nt(n.size)}`]]}})(({ownerState:e})=>ie({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},bD(e))),lpe=Qt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${nt(n.size)}`]]}})(({ownerState:e})=>ie({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},bD(e))),SP=y.forwardRef(function(t,n){const r=y.useContext(npe),i=y.useContext(rpe),o=xm(r,t),s=Mr({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:b=!1,size:v="medium",startIcon:A,type:_,variant:S="text"}=s,x=jt(s,ipe),w=ie({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:b,size:v,type:_,variant:S}),E=ope(w),C=A&&f.jsx(ape,{className:E.startIcon,ownerState:w,children:A}),j=g&&f.jsx(lpe,{className:E.endIcon,ownerState:w,children:g}),L=i||"";return f.jsxs(spe,ie({ownerState:w,className:At(r.className,E.root,u,L),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:At(E.focusVisible,m),ref:n,type:_},x,{classes:E,children:[C,a,j]}))});function cpe(e){return typeof e=="string"}function upe(e,t,n){return e===void 0||cpe(e)?t:ie({},t,{ownerState:ie({},t.ownerState,n)})}function _D(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function dpe(e,t,n){return typeof e=="function"?e(t,n):e}function wP(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function fpe(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const p=At(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=ie({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=ie({},n,i,r);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const s=_D(ie({},i,r)),a=wP(r),l=wP(i),c=t(s),u=At(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=ie({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=ie({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const hpe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function EP(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=jt(e,hpe),a=o?{}:dpe(r,i),{props:l,internalRef:c}=fpe(ie({},s,{externalSlotProps:a})),u=Da(c,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return upe(n,ie({},l,{ref:u}),i)}function ppe(e){const t=Os(e);return t.body===e?uv(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function bf(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function kP(e){return parseInt(uv(e).getComputedStyle(e).paddingRight,10)||0}function gpe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function CP(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=o.indexOf(s)===-1,l=!gpe(s);a&&l&&bf(s,i)})}function BA(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function mpe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(ppe(r)){const s=fee(Os(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${kP(r)+s}px`;const a=Os(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${kP(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Os(r).body;else{const s=r.parentElement,a=uv(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function vpe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class ype{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&bf(t.modalRef,!1);const i=vpe(n);CP(n,t.mount,t.modalRef,i,!0);const o=BA(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=BA(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=mpe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=BA(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&bf(t.modalRef,n),CP(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&bf(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function Ape(e){return typeof e=="function"?e():e}function bpe(e){return e?e.props.hasOwnProperty("in"):!1}const _pe=new ype;function xpe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=_pe,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=e,h=y.useRef({}),p=y.useRef(null),g=y.useRef(null),m=Da(g,d),[b,v]=y.useState(!u),A=bpe(l);let _=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(_=!1);const S=()=>Os(p.current),x=()=>(h.current.modalRef=g.current,h.current.mount=p.current,h.current),w=()=>{i.mount(x(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},E=vl(()=>{const k=Ape(t)||S().body;i.add(x(),k),g.current&&w()}),C=y.useCallback(()=>i.isTopModal(x()),[i]),j=vl(k=>{p.current=k,k&&(u&&C()?w():g.current&&bf(g.current,_))}),L=y.useCallback(()=>{i.remove(x(),_)},[_,i]);y.useEffect(()=>()=>{L()},[L]),y.useEffect(()=>{u?E():(!A||!o)&&L()},[u,L,A,o,E]);const B=k=>D=>{var O;(O=k.onKeyDown)==null||O.call(k,D),!(D.key!=="Escape"||D.which===229||!C())&&(n||(D.stopPropagation(),c&&c(D,"escapeKeyDown")))},U=k=>D=>{var O;(O=k.onClick)==null||O.call(k,D),D.target===D.currentTarget&&c&&c(D,"backdropClick")};return{getRootProps:(k={})=>{const D=_D(e);delete D.onTransitionEnter,delete D.onTransitionExited;const O=ie({},D,k);return ie({role:"presentation"},O,{onKeyDown:B(O),ref:m})},getBackdropProps:(k={})=>{const D=k;return ie({"aria-hidden":!0},D,{onClick:U(D),open:u})},getTransitionProps:()=>{const k=()=>{v(!1),s&&s()},D=()=>{v(!0),a&&a(),o&&L()};return{onEnter:Cb(k,l==null?void 0:l.props.onEnter),onExited:Cb(D,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:j,isTopModal:C,exited:b,hasTransition:A}}const Spe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function wpe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Epe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function kpe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Epe(e))}function Cpe(e){const t=[],n=[];return Array.from(e.querySelectorAll(Spe)).forEach((r,i)=>{const o=wpe(r);o===-1||!kpe(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Tpe(){return!0}function Ipe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Cpe,isEnabled:s=Tpe,open:a}=e,l=y.useRef(!1),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=y.useRef(!1),g=y.useRef(null),m=Da(t.ref,g),b=y.useRef(null);y.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),y.useEffect(()=>{if(!a||!g.current)return;const _=Os(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),y.useEffect(()=>{if(!a||!g.current)return;const _=Os(g.current),S=E=>{b.current=E,!(r||!s()||E.key!=="Tab")&&_.activeElement===g.current&&E.shiftKey&&(l.current=!0,u.current&&u.current.focus())},x=()=>{const E=g.current;if(E===null)return;if(!_.hasFocus()||!s()||l.current){l.current=!1;return}if(E.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let C=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(C=o(g.current)),C.length>0){var j,L;const B=!!((j=b.current)!=null&&j.shiftKey&&((L=b.current)==null?void 0:L.key)==="Tab"),U=C[0],P=C[C.length-1];typeof U!="string"&&typeof P!="string"&&(B?P.focus():U.focus())}else E.focus()};_.addEventListener("focusin",x),_.addEventListener("keydown",S,!0);const w=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&x()},50);return()=>{clearInterval(w),_.removeEventListener("focusin",x),_.removeEventListener("keydown",S,!0)}},[n,r,i,s,a,o]);const v=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,h.current=_.target;const S=t.props.onFocus;S&&S(_)},A=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return f.jsxs(y.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:c,"data-testid":"sentinelStart"}),y.cloneElement(t,{ref:m,onFocus:v}),f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:u,"data-testid":"sentinelEnd"})]})}function Rpe(e){return typeof e=="function"?e():e}const Ppe=y.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=y.useState(null),l=Da(y.isValidElement(r)?r.ref:null,n);if(_m(()=>{o||a(Rpe(i)||document.body)},[i,o]),_m(()=>{if(s&&!o)return bm(n,s),()=>{bm(n,null)}},[n,s,o]),o){if(y.isValidElement(r)){const c={ref:l};return y.cloneElement(r,c)}return f.jsx(y.Fragment,{children:r})}return f.jsx(y.Fragment,{children:s&&sc.createPortal(r,s)})}),Mpe=e=>e.scrollTop;function TP(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}const jpe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ope={entering:{opacity:1},entered:{opacity:1}},xD=y.forwardRef(function(t,n){const r=QN(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:b,timeout:v=i,TransitionComponent:A=Xs}=t,_=jt(t,jpe),S=y.useRef(null),x=Da(S,a.ref,n),w=V=>R=>{if(V){const k=S.current;R===void 0?V(k):V(k,R)}},E=w(h),C=w((V,R)=>{Mpe(V);const k=TP({style:b,timeout:v,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",k),V.style.transition=r.transitions.create("opacity",k),u&&u(V,R)}),j=w(d),L=w(m),B=w(V=>{const R=TP({style:b,timeout:v,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",R),V.style.transition=r.transitions.create("opacity",R),p&&p(V)}),U=w(g),P=V=>{o&&o(S.current,V)};return f.jsx(A,ie({appear:s,in:c,nodeRef:S,onEnter:C,onEntered:j,onEntering:E,onExit:B,onExited:U,onExiting:L,addEndListener:P,timeout:v},_,{children:(V,R)=>y.cloneElement(a,ie({style:ie({opacity:0,visibility:V==="exited"&&!c?"hidden":void 0},Ope[V],b,a.props.style),ref:x},R))}))});function Vpe(e){return Rr("MuiBackdrop",e)}Pr("MuiBackdrop",["root","invisible"]);const Lpe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Npe=e=>{const{classes:t,invisible:n}=e;return Gr({root:["root",n&&"invisible"]},Vpe,t)},Dpe=Qt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>ie({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),SD=y.forwardRef(function(t,n){var r,i,o;const s=Mr({props:t,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:g={},slots:m={},TransitionComponent:b=xD,transitionDuration:v}=s,A=jt(s,Lpe),_=ie({},s,{component:c,invisible:h}),S=Npe(_),x=(r=g.root)!=null?r:d.root;return f.jsx(b,ie({in:p,timeout:v},A,{children:f.jsx(Dpe,ie({"aria-hidden":!0},x,{as:(i=(o=m.root)!=null?o:u.Root)!=null?i:c,className:At(S.root,l,x==null?void 0:x.className),ownerState:ie({},_,x==null?void 0:x.ownerState),classes:S,ref:n,children:a}))}))});function Bpe(e){return Rr("MuiModal",e)}Pr("MuiModal",["root","hidden","backdrop"]);const $pe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Fpe=e=>{const{open:t,exited:n,classes:r}=e;return Gr({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Bpe,r)},zpe=Qt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>ie({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Upe=Qt(SD,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Hpe=y.forwardRef(function(t,n){var r,i,o,s,a,l;const c=Mr({name:"MuiModal",props:t}),{BackdropComponent:u=Upe,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:g,container:m,component:b,components:v={},componentsProps:A={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:x=!1,disablePortal:w=!1,disableRestoreFocus:E=!1,disableScrollLock:C=!1,hideBackdrop:j=!1,keepMounted:L=!1,onBackdropClick:B,open:U,slotProps:P,slots:V}=c,R=jt(c,$pe),k=ie({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:x,disablePortal:w,disableRestoreFocus:E,disableScrollLock:C,hideBackdrop:j,keepMounted:L}),{getRootProps:D,getBackdropProps:O,getTransitionProps:z,portalRef:$,isTopModal:G,exited:H,hasTransition:ne}=xpe(ie({},k,{rootRef:n})),N=ie({},k,{exited:H}),ue=Fpe(N),Z={};if(g.props.tabIndex===void 0&&(Z.tabIndex="-1"),ne){const{onEnter:De,onExited:xe}=z();Z.onEnter=De,Z.onExited=xe}const ae=(r=(i=V==null?void 0:V.root)!=null?i:v.Root)!=null?r:zpe,Pe=(o=(s=V==null?void 0:V.backdrop)!=null?s:v.Backdrop)!=null?o:u,be=(a=P==null?void 0:P.root)!=null?a:A.root,le=(l=P==null?void 0:P.backdrop)!=null?l:A.backdrop,Se=EP({elementType:ae,externalSlotProps:be,externalForwardedProps:R,getSlotProps:D,additionalProps:{ref:n,as:b},ownerState:N,className:At(h,be==null?void 0:be.className,ue==null?void 0:ue.root,!N.open&&N.exited&&(ue==null?void 0:ue.hidden))}),Ue=EP({elementType:Pe,externalSlotProps:le,additionalProps:d,getSlotProps:De=>O(ie({},De,{onClick:xe=>{B&&B(xe),De!=null&&De.onClick&&De.onClick(xe)}})),className:At(le==null?void 0:le.className,d==null?void 0:d.className,ue==null?void 0:ue.backdrop),ownerState:N});return!L&&!U&&(!ne||H)?null:f.jsx(Ppe,{ref:$,container:m,disablePortal:w,children:f.jsxs(ae,ie({},Se,{children:[!j&&u?f.jsx(Pe,ie({},Ue)):null,f.jsx(Ipe,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:E,isEnabled:G,open:U,children:y.cloneElement(g,Z)})]}))})});function Gpe(e){return Rr("MuiDialog",e)}const $A=Pr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),wD=y.createContext({}),qpe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Wpe=Qt(SD,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Kpe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${nt(n)}`],paper:["paper",`paperScroll${nt(n)}`,`paperWidth${nt(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Gr(s,Gpe,t)},Ype=Qt(Hpe,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Qpe=Qt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${nt(n.scroll)}`]]}})(({ownerState:e})=>ie({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Jpe=Qt(Yv,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${nt(n.scroll)}`],t[`paperWidth${nt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>ie({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${$A.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${$A.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${$A.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Xpe=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialog"}),i=QN(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:m="sm",onBackdropClick:b,onClick:v,onClose:A,open:_,PaperComponent:S=Yv,PaperProps:x={},scroll:w="paper",TransitionComponent:E=xD,transitionDuration:C=o,TransitionProps:j}=r,L=jt(r,qpe),B=ie({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:g,maxWidth:m,scroll:w}),U=Kpe(B),P=y.useRef(),V=O=>{P.current=O.target===O.currentTarget},R=O=>{v&&v(O),P.current&&(P.current=null,b&&b(O),A&&A(O,"backdropClick"))},k=sV(a),D=y.useMemo(()=>({titleId:k}),[k]);return f.jsx(Ype,ie({className:At(U.root,d),closeAfterTransition:!0,components:{Backdrop:Wpe},componentsProps:{backdrop:ie({transitionDuration:C,as:l},c)},disableEscapeKeyDown:h,onClose:A,open:_,ref:n,onClick:R,ownerState:B},L,{children:f.jsx(E,ie({appear:!0,in:_,timeout:C,role:"presentation"},j,{children:f.jsx(Qpe,{className:At(U.container),onMouseDown:V,ownerState:B,children:f.jsx(Jpe,ie({as:S,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":k},x,{className:At(U.paper,x.className),ownerState:B,children:f.jsx(wD.Provider,{value:D,children:u})}))})}))}))});function Zpe(e){return Rr("MuiDialogActions",e)}Pr("MuiDialogActions",["root","spacing"]);const ege=["className","disableSpacing"],tge=e=>{const{classes:t,disableSpacing:n}=e;return Gr({root:["root",!n&&"spacing"]},Zpe,t)},nge=Qt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>ie({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),rge=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,s=jt(r,ege),a=ie({},r,{disableSpacing:o}),l=tge(a);return f.jsx(nge,ie({className:At(l.root,i),ownerState:a,ref:n},s))});function ige(e){return Rr("MuiDialogContent",e)}Pr("MuiDialogContent",["root","dividers"]);function oge(e){return Rr("MuiDialogTitle",e)}const sge=Pr("MuiDialogTitle",["root"]),age=["className","dividers"],lge=e=>{const{classes:t,dividers:n}=e;return Gr({root:["root",n&&"dividers"]},ige,t)},cge=Qt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>ie({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${sge.root} + &`]:{paddingTop:0}})),uge=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,s=jt(r,age),a=ie({},r,{dividers:o}),l=lge(a);return f.jsx(cge,ie({className:At(l.root,i),ownerState:a,ref:n},s))});function dge(e){return Rr("MuiTypography",e)}Pr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const fge=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],hge=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${nt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Gr(a,dge,s)},pge=Qt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${nt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>ie({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),IP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},gge={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},mge=e=>gge[e]||e,ED=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiTypography"}),i=mge(r.color),o=AV(ie({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=IP}=o,g=jt(o,fge),m=ie({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),b=l||(d?"p":p[h]||IP[h])||"span",v=hge(m);return f.jsx(pge,ie({as:b,ref:n,ownerState:m,className:At(v.root,a)},g))});function vge(e){return Rr("MuiDialogContentText",e)}Pr("MuiDialogContentText",["root"]);const yge=["children","className"],Age=e=>{const{classes:t}=e,r=Gr({root:["root"]},vge,t);return ie({},t,r)},bge=Qt(ED,{shouldForwardProp:e=>GS(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_ge=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogContentText"}),{className:i}=r,o=jt(r,yge),s=Age(o);return f.jsx(bge,ie({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:o,className:At(s.root,i)},r,{classes:s}))}),xge=["className","id"],Sge=e=>{const{classes:t}=e;return Gr({root:["root"]},oge,t)},wge=Qt(ED,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Ege=y.forwardRef(function(t,n){const r=Mr({props:t,name:"MuiDialogTitle"}),{className:i,id:o}=r,s=jt(r,xge),a=r,l=Sge(a),{titleId:c=o}=y.useContext(wD);return f.jsx(wge,ie({component:"h2",className:At(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c},s))});function mn(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.join(", "):t}`}const RP=e=>e.map(t=>`${TW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),PP=e=>e.split(":")[0];function kge(e){const t={artist:mn("ARTIST",e.artist),title:mn("TITLE",e.title),author:mn("CREATOR",e.author),bpm:mn("BPM",e.bpm),year:mn("YEAR",e.year),previewStart:mn("PREVIEWSTART",e.previewStart),video:mn("VIDEO",`v=${e.video}`),videoGap:mn("VIDEOGAP",e.videoGap),genre:mn("GENRE",e.genre),language:mn("LANGUAGE",e.language),gap:mn("GAP",e.gap),edition:mn("EDITION",e.edition),id:mn("ALLKARAOKE_ID",e.id),lastUpdate:mn("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:mn("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:mn("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:mn("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:mn("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:mn("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:mn("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(a=>a.name??null),r=[];e.tracks.map(a=>a.sections).forEach(([a,...l])=>{r.push(Tt(a)?RP(a.notes):`- ${a.start} ${a.end}`),l.forEach(c=>r.push(Tt(c)?`- ${c.start}
${RP(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?mn("P1",n[0]):void 0).concat(n[1]?mn("P2",n[1]):void 0).filter(ub),o=i.map(PP),s=(e.unsupportedProps??[]).filter(a=>!o.includes(PP(a)));return i.concat(...s).concat(r).concat("E").filter(ub).join(`
`)}const kD="share-songs",CD=Gh(kD),Cge=async e=>{try{if(!Ve.getItem(kD))return;const n=await so.get(e);n&&_n.capture("share-song",{song:kge(n)})}catch(t){console.error(t),$o(t)}};function X_e(e){const[t,n]=CD(null),[r,i]=y.useState(!!e.id&&t===null),o=()=>{i(!1)},s=a=>{n(a),a&&e.id&&Cge(e.id),o()};return f.jsxs(Xpe,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[f.jsx(Ege,{children:"Share songs?"}),f.jsx(uge,{children:f.jsx(_ge,{children:f.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play ",f.jsx("br",{}),f.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),f.jsxs(rge,{children:[f.jsx(SP,{onClick:()=>s(!1),"data-test":"share-songs-disagree",children:"Disagree"}),f.jsx(SP,{onClick:()=>s(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}Mo.extend(zhe);function Tge(){const{data:e}=td(!0),[t]=CD(null),n=Z0("song");Ja(!1);const r=AD(n??"");return r.data?f.jsxs(Yv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[f.jsx(Ti,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(Ige,{children:[f.jsx(Zw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&f.jsx(Nv,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await so.deleteSong(r.data.id),t&&e.some(o=>o.id===r.data.id)&&_n.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:f.jsx(gD,{})})]}),f.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:r.data.lastUpdate?Mo(r.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(pD,{song:r.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const Ige=I("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var Rge=Math.floor,Pge=Math.random;function Mge(e,t){return e+Rge(Pge()*(t-e+1))}function TD(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var o=Mge(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}function jge(e){return TD(RO(e))}function Oge(e,t){return vS(t,function(n){return e[n]})}function Vge(e){return e==null?[]:Oge(e,Ih(e))}function Lge(e){return TD(Vge(e))}function Nge(e){var t=ao(e)?jge:Lge;return t(e)}var jM;const Dge=!((jM=document.getElementById("root"))!=null&&jM.hasChildNodes()),ID=Dge;function ME(e){return ID?null:e.children}function $r(e){const t=ui(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(Zw,{...e,onClick:n})}function Bge(e,t){y.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var $ge=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const Fge=yr($ge);var z_={exports:{}},RD;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/RD=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],o;if(i)for(o=i.length;o--;)i[o].handler(r)},e};var zge=RD,U_={exports:{}},Uge=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async="async"in n?!!n.async:!0,o.src=t,n.attrs&&Hge(o,n.attrs),n.text&&(o.text=""+n.text);var s="onload"in o?MP:Gge;s(o,r),o.onload||MP(o,r),i.appendChild(o)};function Hge(e,t){for(var n in t)e.setAttribute(n,t[n])}function MP(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Gge(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Uge,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=function(o){var s=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&o.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return s},e.exports=t.default})(U_,U_.exports);var qge=U_.exports,H_={exports:{}},G_={exports:{}},q_={exports:{}},hh=1e3,ph=hh*60,gh=ph*60,mh=gh*24,Wge=mh*365.25,Kge=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Yge(e);if(n==="number"&&isNaN(e)===!1)return t.long?Jge(e):Qge(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Yge(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Wge;case"days":case"day":case"d":return n*mh;case"hours":case"hour":case"hrs":case"hr":case"h":return n*gh;case"minutes":case"minute":case"mins":case"min":case"m":return n*ph;case"seconds":case"second":case"secs":case"sec":case"s":return n*hh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Qge(e){return e>=mh?Math.round(e/mh)+"d":e>=gh?Math.round(e/gh)+"h":e>=ph?Math.round(e/ph)+"m":e>=hh?Math.round(e/hh)+"s":e+"ms"}function Jge(e){return Kp(e,mh,"day")||Kp(e,gh,"hour")||Kp(e,ph,"minute")||Kp(e,hh,"second")||e+" ms"}function Kp(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=s,t.enable=o,t.enabled=a,t.humanize=Kge,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(A,_){if(A==="%%")return A;b++;var S=t.formatters[_];if(typeof S=="function"){var x=g[b];A=S.call(d,x),g.splice(b,1),b--}return A}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function o(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function s(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(q_,q_.exports);var Xge=q_.exports;(function(e,t){var n={};t=e.exports=Xge,t.log=o,t.formatArgs=i,t.save=s,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(G_,G_.exports);var Zge=G_.exports,W_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(W_,W_.exports);var eme=W_.exports,K_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(K_,K_.exports);var tme=K_.exports,Y_={exports:{}},Q_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(Q_,Q_.exports);var nme=Q_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=nme,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(Y_,Y_.exports);var rme=Y_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Zge,r=u(n),i=eme,o=u(i),s=tme,a=u(s),l=rme,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var C="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[C]=function(j){d('event "%s"',C,j),p.trigger(E,j)}},b=!0,v=!1,A=void 0;try{for(var _=a.default[Symbol.iterator](),S;!(b=(S=_.next()).done);b=!0){var x=S.value;m(x)}}catch(w){v=!0,A=w}finally{try{!b&&_.return&&_.return()}finally{if(v)throw A}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},b=function(C){g&&c.default[C]?m[C]=function(){for(var j=arguments.length,L=Array(j),B=0;B<j;B++)L[B]=arguments[B];return p.then(function(U){var P=c.default[C],V=U.getPlayerState(),R=U[C].apply(U,L);return P.stateChangeRequired||Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(V)===-1?new Promise(function(k){var D=function O(){var z=U.getPlayerState(),$=void 0;typeof P.timeout=="number"&&($=setTimeout(function(){U.removeEventListener("onStateChange",O),k()},P.timeout)),Array.isArray(P.acceptableStates)&&P.acceptableStates.indexOf(z)!==-1&&(U.removeEventListener("onStateChange",O),clearTimeout($),k())};U.addEventListener("onStateChange",D)}).then(function(){return R}):R})}:m[C]=function(){for(var j=arguments.length,L=Array(j),B=0;B<j;B++)L[B]=arguments[B];return p.then(function(U){return U[C].apply(U,L)})}},v=!0,A=!1,_=void 0;try{for(var S=o.default[Symbol.iterator](),x;!(v=(x=S.next()).done);v=!0){var w=x.value;b(w)}}catch(E){A=!0,_=E}finally{try{!v&&S.return&&S.return()}finally{if(A)throw _}}return m},t.default=h,e.exports=t.default})(H_,H_.exports);var ime=H_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=zge,i=c(r),o=qge,s=c(o),a=ime,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,s.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var A=d;v(A)}else u.then(function(_){var S=new _.Player(d,h);return g.on("ready",function(){v(S)}),null})}),b=l.default.promisifyPlayer(m,p);return b.on=g.on,b.off=g.off,b},e.exports=t.default})(z_,z_.exports);var ome=z_.exports;const sme=yr(ome);var ame=Object.defineProperty,lme=Object.defineProperties,cme=Object.getOwnPropertyDescriptors,jP=Object.getOwnPropertySymbols,ume=Object.prototype.hasOwnProperty,dme=Object.prototype.propertyIsEnumerable,OP=(e,t,n)=>t in e?ame(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J_=(e,t)=>{for(var n in t||(t={}))ume.call(t,n)&&OP(e,n,t[n]);if(jP)for(var n of jP(t))dme.call(t,n)&&OP(e,n,t[n]);return e},X_=(e,t)=>lme(e,cme(t)),fme=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())});function hme(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},o=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==o.start||i.end!==o.end}function VP(e={}){return X_(J_({},e),{height:0,width:0,playerVars:X_(J_({},e.playerVars),{autoplay:0,start:0,end:0})})}function pme(e,t){return e.videoId!==t.videoId||!Fge(VP(e.opts),VP(t.opts))}function gme(e,t){var n,r,i,o;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((o=t.opts)==null?void 0:o.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var mme={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},vme={videoId:Je.string,id:Je.string,className:Je.string,iframeClassName:Je.string,style:Je.object,title:Je.string,loading:Je.oneOf(["lazy","eager"]),opts:Je.objectOf(Je.any),onReady:Je.func,onError:Je.func,onPlay:Je.func,onPause:Je.func,onEnd:Je.func,onStateChange:Je.func,onPlaybackRateChange:Je.func,onPlaybackQualityChange:Je.func},Ng=class extends Ce.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,o,s,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Ng.PlayerState.ENDED:(o=(i=this.props).onEnd)==null||o.call(i,t);break;case Ng.PlayerState.PLAYING:(a=(s=this.props).onPlay)==null||a.call(s,t);break;case Ng.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=X_(J_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=sme(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let o=!1;const s={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(s.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(s.endSeconds=this.props.opts.playerVars.end)),o){(r=this.internalPlayer)==null||r.loadVideoById(s);return}(i=this.internalPlayer)==null||i.cueVideoById(s)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return fme(this,null,function*(){gme(e,this.props)&&this.updatePlayer(),pme(e,this.props)&&(yield this.resetPlayer()),hme(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Ce.createElement("div",{className:this.props.className,style:this.props.style},Ce.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Jv=Ng;Jv.propTypes=vme;Jv.defaultProps=mme;Jv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var ts=Jv;function yme(e){const[t,n]=y.useState(1);return y.useEffect(()=>{if(e===ts.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Ame(e,t){y.useEffect(()=>{if(t===ts.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,o;if(navigator.onLine){clearInterval(n);const s=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(o=(i=e.current)==null?void 0:i.getInternalPlayer())==null||o.seekTo(Math.max(s-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function bme(e,t){return Ame(e,t),yme(t)}var Nn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(Nn||{});const _me={[ts.PlayerState.UNSTARTED]:"UNSTARTED",[ts.PlayerState.ENDED]:"ENDED",[ts.PlayerState.PLAYING]:"PLAYING",[ts.PlayerState.PAUSED]:"PAUSED",[ts.PlayerState.BUFFERING]:"BUFFERING",[ts.PlayerState.CUED]:"CUED"},xme=y.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:o,volume:s,width:a,height:l,onStateChange:c},u){const d=y.useRef(null),[h,p]=y.useState(ts.PlayerState.UNSTARTED),g=bme(d,h);return Bge(d,s),y.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),y.useImperativeHandle(u,()=>({setSize:(m,b)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,b)},seekTo:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(ts,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:o?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(_me[m.data])}},`${t}-${g}`)}),Sme=y.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:o,volume:s,width:a,height:l,onStateChange:c},u){const d=y.useRef(null),[h,p]=y.useState({w:a,h:l}),[g,m]=y.useState(Nn.UNSTARTED);y.useEffect(()=>{const v=w=>()=>m(w),A=d.current,_=v(Nn.PLAYING),S=v(Nn.PAUSED),x=v(Nn.ENDED);return A==null||A.addEventListener("playing",_),A==null||A.addEventListener("pause",S),A==null||A.addEventListener("ended",x),()=>{A==null||A.removeEventListener("playing",_),A==null||A.removeEventListener("pause",S),A==null||A.removeEventListener("ended",x)}},[d.current,m]),y.useEffect(()=>{c==null||c(g)},[g,c]);const b=y.useMemo(()=>({setSize:(v,A)=>p({w:v,h:A}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return y.useEffect(()=>{b.setSize(a,l)},[a,l,b]),y.useEffect(()=>{r!==void 0&&b.seekTo(r)},[r,b]),y.useImperativeHandle(u,()=>b),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),wme="/prs/299/assets/dummy-BNC13ZxI.mp4";y.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(Sme,{ref:i,video:wme,controls:!0,...r})});const jE=y.forwardRef((e,t)=>f.jsx(xme,{...e,ref:t}));function PD({songData:e,background:t,width:n,height:r,children:i,...o}){return f.jsxs(Eme,{video:e.video,width:n,height:r,...o,children:[f.jsx(Cme,{video:e.video,blur:!0}),t&&f.jsx(MD,{children:t}),f.jsx(Tme,{children:f.jsxs(Ime,{children:[f.jsx(Rme,{children:e.title}),f.jsx("br",{}),f.jsx(Pme,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(Mme,{children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const Eme=I("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),MD=I("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),kme=I(MD,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),Cme=e=>f.jsx(kme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Tme=I("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Ime=I("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),Xv=I("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",ze,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Rme=I(Xv,{target:"e1kx27c2"})("color:",pe.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Pme=I(Xv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Mme=I(Xv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function jme(e){var h;qa(!1),Ja(!1);const t=ui(),{width:n,height:r}=qh(),[i,o]=y.useState(0),s=td(),[a,l]=y.useState([]),{register:c}=Kn({onBackspace:()=>t("menu/")});y.useEffect(()=>s.data&&l(Nge(s.data)),[s.data]);const u=()=>s.data&&o(p=>(p+1)%s.data.length);if(!a.length||!n||!r)return null;const d=t0("game/",{song:a[i].id,playlist:"All"});return f.jsxs(ea,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(ME,{children:f.jsxs(PD,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(jE,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===Nn.ENDED&&u()}}),children:[f.jsx(Vme,{...c("skip-button",u),children:"Skip"}),f.jsx($r,{to:d,children:f.jsx(Ome,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const Ome=I(Wo,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Vme=I(Wo,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Lme=I("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),Nme=I("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Dme=e=>f.jsx(Nme,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var OE={},Bme=rt;Object.defineProperty(OE,"__esModule",{value:!0});var _f=OE.default=void 0,$me=Bme(dt()),FA=f;_f=OE.default=(0,$me.default)([(0,FA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,FA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,FA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var VE={},Fme=rt;Object.defineProperty(VE,"__esModule",{value:!0});var Z_=VE.default=void 0,zme=Fme(dt()),Ume=f;Z_=VE.default=(0,zme.default)((0,Ume.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var LE={},Hme=rt;Object.defineProperty(LE,"__esModule",{value:!0});var Dg=LE.default=void 0,Gme=Hme(dt()),qme=f;Dg=LE.default=(0,Gme.default)((0,qme.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var NE={},Wme=rt;Object.defineProperty(NE,"__esModule",{value:!0});var jD=NE.default=void 0,Kme=Wme(dt()),LP=f;jD=NE.default=(0,Kme.default)([(0,LP.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,LP.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var DE={},Yme=rt;Object.defineProperty(DE,"__esModule",{value:!0});var OD=DE.default=void 0,Qme=Yme(dt()),Jme=f;OD=DE.default=(0,Qme.default)((0,Jme.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const VD=I("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",pe.colors.text.active,";font-size:1.5rem;",ze,";color:",pe.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function Xme({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Ge(Ar),{register:o}=Kn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(Qp,{...o("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(zd,{children:[f.jsx(uE,{}),f.jsx(Dg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(Fd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(jD,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(OD,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(VD,{children:"Recommended"}),f.jsxs(Yp,{children:[f.jsx(_f,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(Qp,{...o("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(zd,{children:[f.jsx(Z_,{}),i?f.jsx(Dg,{}):f.jsx(lE,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(Fd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(Yp,{children:[f.jsx(Z_,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(Qp,{...o("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(zd,{children:[f.jsx(V_,{}),f.jsx(CN,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(Fd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(Yp,{children:[f.jsx(_f,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(Qp,{...o("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(zd,{children:[f.jsx(V_,{}),f.jsx(Dg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(Fd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(Yp,{children:[f.jsx(_f,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx($r,{to:"menu/",onClick:s=>{s==null||s.preventDefault(),e("skip")},children:f.jsx(Re,{...o("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const Yp=I("div",{target:"eb2r3ii3"})(ze,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Fd=I("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),zd=I("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",pe.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",pe.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),Qp=I(Re,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",wu,";",Fd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",zd,"{transform:scale(1.75);}}");function LD(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const BE=(e,t,n=!0,r=1e3/Sl.get())=>{y.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const o=xn.getPlayerVolume(e)??0,s=xn.getPlayerFrequency(e)??0;t([o,Array.isArray(s)?s[0]:s])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Zme=(e,t=1e3/Sl.get(),n)=>{const[r,i]=y.useState([0,0]);return BE(e,i,!0,t),y.useEffect(()=>{n&&n(r)},[r,n]),r},ND=e=>y.useMemo(()=>{if(!pe.colors.players[e])return"0, 0, 0";const t=he(pe.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),DD=I("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),e0e=y.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,o=ND(t);return Oe.getPlayer(t)?f.jsx(DD,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${o}, 1) 0%, rgba(${o}, 0) 100%)`},ref:r}):null}),$E=({playerNumber:e,...t})=>{const[n,r]=y.useState(),i=y.useCallback(([s])=>{if(n){const a=`${Math.min(1,s*20)}`;n.style.transform=`scaleX(${a})`}},[n]);BE(e,i);const o=ND(e);return f.jsx(DD,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${o}, 1) 0%, rgba(${o}, 0) 100%)`}})};function t0e(e,t){const n=Object.keys(t),[r,i]=ki([ee.playerInputChanged,ee.inputListChanged],()=>{var l;const a=(l=Oe.getPlayer(e))==null?void 0:l.input;return a?[a,$s.getInputForPlayerSelected(a)]:[null,null]});y.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Oe.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const o=a=>{var u;const l=ja(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Oe.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},s=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=Uh(a,l);if(c===0)o(0);else{const d=a[c];(u=Oe.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,o,i,s]}const BD=e=>{const t=e.player,[n,r,i,o]=t0e(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(o0e,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(i0e,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(r0e,{...e.readonly?{}:e.register(`player-${t.number}-input`,o),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(n0e,{playerNumber:t.number})})]})},n0e=I($E,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),r0e=I(vi,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),i0e=I(vi,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),o0e=I("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function Zv(e=!1,t){const n=ki(ee.inputListChanged,()=>{const r={...$s.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return y.useEffect(()=>{e&&$s.loadMics()},[e]),n}function Wh(e,t=dm){y.useEffect(()=>{Oe.setMinPlayerNumber(e);const n=Oe.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Oe.removePlayer(n[r-1].number);else if(n.length<e){const r=Oe.getPlayers().map(o=>o.number),i=Array.from(Array(dm).keys()).filter(o=>!r.includes(o));console.log(i,r);for(let o=n.length;o<e;o++)Oe.addPlayer(i.shift())}},[])}function $D(){const e=y.useRef(0);Tr(ee.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),Oe.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=Oe.getPlayer(e.current);n?n.changeInput(Bs.inputName,0,t):(r=Oe.addPlayer(e.current))==null||r.changeInput(Bs.inputName,0,t),e.current=(e.current+1)%dm})}function s0e(e){Wh(2);const t=Zv(!0),n=oE();y.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),$D();const{register:r}=Kn({onBackspace:e.onBack}),o=ki(ee.playerInputChanged,()=>Oe.getInputs()).filter(a=>a.source===js.inputName),s=ki([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Oe.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(zh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(eE,{}),s.map((a,l)=>f.jsx(BD,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),o.length>1&&CE()&&LD()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var FE={},a0e=rt;Object.defineProperty(FE,"__esModule",{value:!0});var FD=FE.default=void 0,l0e=a0e(dt()),c0e=f;FD=FE.default=(0,l0e.default)((0,c0e.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var zE={},u0e=rt;Object.defineProperty(zE,"__esModule",{value:!0});var UE=zE.default=void 0,d0e=u0e(dt()),f0e=f;UE=zE.default=(0,d0e.default)((0,f0e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function HE({names:e}){return f.jsx(h0e,{children:Oe.getPlayers().map(t=>f.jsxs(p0e,{"data-test":`mic-check-p${t.number}`,children:[f.jsx($E,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const h0e=I("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),p0e=I("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function g0e(e){const[t,n]=y.useState(null),r=y.useRef([]),i=y.useRef(0),o=y.useCallback(([s])=>{if(r.current.push(s),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return BE(0,o,t!==!0),y.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function m0e(e){Wh(1,1);const{register:t}=Kn({onBackspace:e.onBack}),{Microphone:n}=Zv(!0,"Microphone"),r=ki([ee.playerInputChanged,ee.inputListChanged],()=>{var u;const l=Oe.getInputs().find(d=>d.source==="Microphone"),c=$s.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===$l(l)))==null?void 0:u.label)??"":""}),i=l=>{Oe.getPlayers().forEach(c=>c.changeInput(js.inputName,l.channel,l.deviceId))},o=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};y.useEffect(o,[]),Tr([ee.inputListChanged,ee.playerRemoved],o);const s=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[Uh(n.list,l)];i(c)}},a=g0e(r);return y.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(zh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(v0e,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(vi,{...t("selected-mic",s),label:"Mic",value:r}),f.jsxs(y0e,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(zA,{children:f.jsx(b0e,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(zA,{children:f.jsx(A0e,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(zA,{children:f.jsx(Hh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(HE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const v0e=I("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),y0e=I("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),zA=I("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),A0e=I(UE,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),b0e=I(FD,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function _0e(e){Wh(2);const t=Zv(!0,"Microphone"),n=oE();y.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),y.useEffect(()=>{Oe.getPlayers().forEach(o=>{o.input.source!=="Microphone"&&o.changeInput("Microphone",0)})},[]);const{register:r}=Kn({onBackspace:e.onBack}),i=ki([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Oe.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(zh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((o,s)=>f.jsx(BD,{inputs:t,player:o,register:r,readonly:s>1,blockSourceChange:!0},o.number)),f.jsx("hr",{})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function x0e(e){const{register:t}=Kn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Re,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Re,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function S0e(e){var o,s;Wh(2);const{register:t}=Kn({onBackspace:e.onBack});$D();const n=ki([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>Oe.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?$s.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((o=n[0])!=null&&o.label)&&!!((s=n[1])!=null&&s.label);return y.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(eE,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(HE,{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function w0e(e){Wh(2);const{register:t}=Kn({onBackspace:e.onBack}),{Microphone:n}=Zv(!0,"Microphone"),[r,i]=y.useState(!1),o=ki([ee.playerInputChanged,ee.inputListChanged],()=>{const c=Oe.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=$s.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});y.useEffect(()=>(o&&xn.startMonitoring(),()=>{xn.stopMonitoring()}),[o]);const s=()=>{e.onSave()},[a,l]=y.useState(!1);return Tr(ee.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Oe.getPlayer(d.preferred))==null||h.changeInput(js.inputName,d.channel,d.deviceId)}),c||l(!0)}),y.useEffect(()=>{e.onSetupComplete(o)},[o]),y.useEffect(()=>{if(o)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[o]),f.jsxs(f.Fragment,{children:[f.jsxs(zh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!o&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(Hh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(NP,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),CE()&&LD()&&f.jsxs(NP,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),o&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(HE,{names:["Blue","Red"]})]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",s,void 0,!0,{disabled:!o}),"data-test":"save-button",children:e.closeButtonText})]})}const NP=I("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function E0e(e){return y.useEffect(()=>{e.onSave()},[]),null}const zD="Previously selected input type",k0e=Ve.local.getItem(zD);function GE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:o=!0}){const[s,a]=Ge(Ex),[l,c]=y.useState(s==="skip"?null:s),[u,d]=y.useState(!1);y.useEffect(()=>{const m=xn.monitoringStarted();return xn.startMonitoring(),()=>{!m&&xn.stopMonitoring()}},[]);const h=(...m)=>{o?uh(()=>{sc.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?s??"skip":m),m&&(Ve.local.setItem(zD,m),_n.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{uh(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Lme,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Dme,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Xme,{onPreferenceSelected:h,previouslySelected:k0e,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(S0e,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(x0e,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(w0e,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(_0e,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(m0e,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(s0e,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(E0e,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function C0e(e){const t=ui();return f.jsxs(Qa,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(GE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const T0e=({error:e,resetError:t})=>f.jsxs(Qa,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(lc,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(I0e,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Re,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Ve.session.clear(),Ve.local.clear(),of.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),I0e=I("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function R0e(e){Ja(!1);const t=td();return y.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function P0e(e){const t=ui(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(ME,{children:f.jsx(eD,{onClose:n,closeText:"Return to Main Menu"})})]})}function UD(){const[e]=Ge(Cx);y.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let UA=0;function HD(){y.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),UA++,()=>{UA--,UA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var qE={},M0e=rt;Object.defineProperty(qE,"__esModule",{value:!0});var GD=qE.default=void 0,j0e=M0e(dt()),O0e=f;GD=qE.default=(0,j0e.default)((0,O0e.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function V0e({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const o=y.useRef(null),[s,a]=y.useState(!1),l=h=>{e(p=>({...p,search:h}))};Lr("down",()=>{var h;(h=o.current)==null||h.blur()},{enabled:s,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Lr(Eb,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=y.useCallback(h=>{n&&l(h)},[n]);return Tr(ee.remoteSongSearch,d),Lr(Eb,h=>{var p;u(h),(p=o.current)==null||p.focus()},{enabled:!s&&n},[t.search]),Lr("Backspace",h=>{var p;(p=o.current)==null||p.focus()},{enabled:!s&&n},[t.search]),y.useEffect(()=>{s||i(!!t.search)},[s,t.search,i]),!t.search&&!r?null:f.jsx(L0e,{"data-test":"song-list-search",children:f.jsx(N0e,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=o.current)==null||p.blur()},children:f.jsx(cc,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:s,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:o,"data-test":"filters-search"})})})})}const L0e=I("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),N0e=I("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function D0e({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,o]=y.useState(!1),s=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(B0e,{children:[f.jsx(Ou,{title:"Search",place:"left",children:f.jsx(DP,{onClick:()=>i?s():o(!0),"data-test":"search-song-button",children:f.jsx(Gv,{})})}),f.jsx(Ou,{title:"Pick random",place:"left",children:f.jsx(DP,{onClick:e,"data-test":"random-song-button",children:f.jsx(GD,{})})})]}),f.jsx(V0e,{setFilters:t,filters:n,visible:i,setVisible:o,keyboardControl:r})]})}const DP=I(Wo,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",pe.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),B0e=I("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function qD({videoId:e,...t}){return f.jsx(U0e,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function $0e({videoId:e,...t}){const n=qX(e)??e,[r,i]=y.useState(!0);y.useLayoutEffect(()=>{i(s=>!s)},[e]);const[o]=Ge(Qi);return o==="low"?null:f.jsxs(F0e,{...t,children:[f.jsx(BP,{videoId:r?e:n,visible:r}),f.jsx(BP,{videoId:r?n:e,visible:!r}),f.jsx(z0e,{videoId:n})]})}const F0e=I("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),z0e=I(qD,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),BP=I(qD,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),U0e=I("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function H0e(e,t,n="mousedown",r={}){zX(n,i=>{const o=i.target;if(!o||!o.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(o)):e.current&&!e.current.contains(o))&&t(i)},void 0,r)}function G0e({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:o,focused:s,focusElement:a}=Kn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=y.useRef(null);return H0e(l,()=>{t()}),rc({left:()=>t("left"),right:()=>t("right")},e),y.useEffect(()=>{a(`playlist-${r}`)},[r]),y.useEffect(()=>{if(s){const c=n.find(u=>`playlist-${u.name}`===s);c&&i(c.name)}},[s,n]),f.jsx(q0e,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(W0e,{"data-selected":`playlist-${u.name}`===s,"data-active":e,...o(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===s,children:d},u.name):d})})}const q0e=I("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",ze,";margin:0;}"),W0e=I(Wo,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",MX,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),WE=e=>{const[t,n]=y.useState(null),r=bu(e),i=async()=>{n(await eO(e))};return y.useEffect(()=>{i()},[r]),Tr(ee.songStatStored,i),t},K0e=e=>async(t,n,r,i)=>{const o=bu(e),s=await eO(e),a=s.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...s,scores:a};await tO(e,l),ee.songScoreUpdated.dispatch(o,l,i.trim())},Y0e=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Q0e=["US","GB"];function J0e({song:e,forceFlag:t,...n}){const r=e.language[0],i=y.useMemo(()=>{var o;return e.artistOrigin?((o=Y0e[e.artistOrigin.toLowerCase()])==null?void 0:o.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(uu,{isocode:e.artistOrigin,...n}):i&&!Q0e.includes(e.artistOrigin)?f.jsx(uu,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(uu,{language:e.language,...n}):null})}var KE={},X0e=rt;Object.defineProperty(KE,"__esModule",{value:!0});var WD=KE.default=void 0,Z0e=X0e(dt()),eve=f;WD=KE.default=(0,Z0e.default)((0,eve.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var YE={},tve=rt;Object.defineProperty(YE,"__esModule",{value:!0});var KD=YE.default=void 0,nve=tve(dt()),rve=f;KD=YE.default=(0,nve.default)((0,rve.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function ive(e){return Bl(e.edition??"").startsWith("esc")}const YD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",ove=e=>f.jsxs(ave,{children:[e.song.tracksCount>1&&f.jsxs(cve,{"data-test":"multitrack-indicator",children:[f.jsx(_f,{})," Duet"]}),f.jsx(sve,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),sve=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=y.useMemo(()=>o0.recentlyUpdated([e]).length>0,[e]),i=ive(e),o=WE(e),s=((c=(l=o==null?void 0:o.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=s&&Mo(s).isAfter(Mo().subtract(1,"days"));return o!=null&&o.plays?f.jsx(JD,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",o.plays," time",o.plays>1&&"s"]}):o.plays})}):i?f.jsxs(GA,{white:!0,children:[f.jsx(HA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(lve,{src:YD,alt:e.edition})]}):r?f.jsx(GA,{white:!0,children:n?f.jsx(HA,{children:"Added recently"}):f.jsx(WD,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(GA,{children:[n&&f.jsx(HA,{children:"Popular"}),f.jsx(KD,{})]})}):null},HA=I("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),ave=I("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),QD=I("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),GA=I(QD,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":pe.colors.text.active,";width:2.5rem;height:2.5rem;}"),lve=I("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),JD=I(QD,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),cve=I(JD,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),XD=({song:e,focused:t,video:n,children:r,index:i,groupLetter:o,handleClick:s,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=y.useCallback(()=>s?s(i,o):void 0,[s,i,o]),[p]=Ge(Qi);return f.jsxs(fve,{...u,onClick:s?h:void 0,children:[l&&f.jsx(hve,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(dve,{"data-expanded":d,children:[!d&&f.jsx(ove,{song:e,isPopular:a,video:n}),f.jsx(QE,{"data-expanded":d,children:e.artist}),f.jsx(ey,{"data-expanded":d,children:e.title}),f.jsxs(ZD,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(tB,{expanded:d,children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(pve,{song:e})]}),!d&&f.jsx(uve,{song:e,forceFlag:c})]})]}),r,n]})},uve=I(J0e,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),ZD=I("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),dve=I("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),fve=I("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),hve=I("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),eB=I("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",ze,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),QE=I(eB,{target:"e1ornw2x2"})("color:",pe.colors.text.active,";"),ey=I(eB,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),tB=I(ey,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),pve=({song:e})=>{const t=WE(e);return f.jsx(tB,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function gve({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=y.useState([]);return y.useEffect(()=>{const o=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),s=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");o.disconnect(),i([]),a.forEach(l=>{o.observe(l)})});if(n)return s.observe(n,{childList:!0,subtree:!0}),()=>{s.disconnect(),i([]),o.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(mve,{children:e.map(o=>{const s=r.includes(o.name);return f.jsx(vve,{onClick:()=>t(o),"data-active":s,"data-test":`group-navigation-${o.name}`,children:o.displayShort??o.name},o.name)})})})}const mve=I("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),vve=I(Wo,{target:"e131hflw0"})("border:none;cursor:pointer;",ze,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",pe.colors.text.default,";&[data-active='true']{background:",pe.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),$P={[Br.DUEL]:"Duel",[Br.PASS_THE_MIC]:"Pass The Mic",[Br.CO_OP]:"Cooperation"},qA=["Hard","Medium","Easy"],yve=Gh("song_settings-game_mode-v3"),Ave=Gh("song_settings-tolerance-v2");function bve({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,o]=yve(null),s=i??(e.tracksCount>1?Br.CO_OP:Br.DUEL),[a,l]=Ave(1),c=()=>{const p={id:pm(),players:[],mode:s,tolerance:a+1};t(p)},u=()=>{o(ja(Object.values(Br),s))},d=()=>l(p=>Uh(qA,p,-1)),{register:h}=Kn({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return f.jsxs(f.Fragment,{children:[f.jsx(FP,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:qA[a],"data-test-value":qA[a]}),f.jsx(FP,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:$P[s],"data-test-value":$P[s]}),f.jsxs(xve,{children:[s===Br.DUEL&&"Face off against each other - person that earns more points wins.",s===Br.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",s===Br.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(qv,{})," symbol."]})]}),f.jsx(_ve,{...h("next-step-button",c,void 0,!0),children:"Next "})]})}const _ve=I(Wo,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),xve=I("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),FP=I(vi,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Sve(){const t=ki(ee.playerInputChanged,()=>Oe.getInputs()).some(s=>s.source==="Microphone"),n=y.useRef([]),r=y.useCallback(s=>{n.current.push(s)},[]);Zme(0,50,r);const[i,o]=y.useState(!1);return y.useEffect(()=>{const s=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;o(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(s)},[i]),f.jsxs(wve,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(lc,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const wve=I("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),nB=(e,t=333,n)=>{const[r,i]=y.useState("ok");return y.useEffect(()=>{const o=setInterval(()=>{i(xn.getInputStatus(e))},t);return()=>{clearInterval(o)}},[e,t,n]),r},rB=e=>{const[t,n]=y.useState(null);return y.useEffect(()=>{const r=setInterval(()=>{const i=et.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function iB({playerNumber:e,...t}){var r,i;const n=rB((i=(r=Oe.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Eve,{...t,children:[n,"ms"]}):""})}const Eve=I("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function oB({status:e,tooltipPosition:t="end",...n}){return f.jsxs(kve,{...n,children:[e==="ok"?f.jsx(Cve,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Tve,{"data-test":"status-unavailable"}):f.jsx(Ive,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(zP,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(zP,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const kve=I("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Cve=I("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),Tve=I(UE,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),Ive=I(lc,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),zP=I("div",{target:"etoberq0"})(ze,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function sB({player:e}){const t=nB(e.number);return f.jsxs(Rve,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(iB,{playerNumber:e.number}),f.jsx(oB,{status:t}),t!=="unavailable"&&f.jsx($E,{playerNumber:e.number}),f.jsx(Pve,{className:"ph-no-capture",children:e.getName()})]},e.number)}const Rve=I("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Pve=I("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function Mve(e){Uo(ee.playerNameChanged),y.useEffect(()=>{xn.startMonitoring()},[]);const n=ki(ee.playerInputChanged,()=>Oe.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(jve,{...e,children:[f.jsxs(Ove,{children:["Microphone Check",n?Oe.getPlayers().map(r=>f.jsx(sB,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(Vve,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Sve,{})]})}const jve=I("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",ze,";margin-bottom:8.6rem;gap:3.5rem;"),Ove=I("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),Vve=I("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function aB({onClose:e,closeButtonText:t}){return f.jsx(ac,{onClose:e,children:f.jsx(mo,{children:f.jsx(GE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const lB=y.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:o,placeholder:s,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=y.useRef(null);y.useImperativeHandle(d,()=>h.current);const p=y.useRef(null),[g,m]=y.useState(!1),[b,v]=y.useState(-1),A=y.useMemo(()=>e.filter(x=>x.toLowerCase().trim().includes(r.toLowerCase().trim())&&x!==r),[e,r]),_=x=>{var w,E,C;if(x.code==="ArrowUp"||x.code==="ArrowDown")if(A.length){x.preventDefault();const j=Uh(A,b,x.code==="ArrowUp"?-1:1);v(j);const L=(w=p.current)==null?void 0:w.querySelector(`[data-index="${j}"]`);L==null||L.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(x.code==="ArrowUp"?-1:1);else if(x.code==="Enter"){const j=A[b];j?(v(-1),i(j)):(C=h.current)==null||C.blur()}},S=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Lve,{className:c,children:[f.jsx(cc,{onFocus:()=>m(!0),onBlur:S,onKeyDown:_,onChange:i,value:r,focused:t,label:n,disabled:o,ref:h,placeholder:s,...u}),g&&!!A.length&&f.jsx(Nve,{ref:p,role:"listbox",children:A.map((x,w)=>f.jsx(Dve,{role:"listitem","data-index":w,"data-focused":w===b,"data-e2e-focused":w===b,focused:w===b,onClick:()=>{var E;i(x),v(-1),(E=h.current)==null||E.blur()},children:x},x))})]})}),Lve=I("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),Nve=I("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),Dve=I("div",{target:"elw4n420"})(ze,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?pe.colors.text.active:"white",";cursor:pointer;"),Bve=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function $ve({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:o,setup:s}){const[a,l]=y.useState(!1),c=y.useRef(null);if(Uo(ee.playerNameChanged),t===void 0)return null;const u=()=>o({number:t.number,track:(s.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(Fve,{maxLength:Jx,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(zve,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:Bve(n.tracks,s.track),"data-test-value":s.track+1})]})}const Fve=I(lB,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),zve=I(vi,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function Uve({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Ge(Ar),[o]=Ge(Ex),s=Oe.getPlayers(),a=!i&&s.length===2&&e.tracksCount>1,l=()=>s.map((S,x)=>({number:S.number,track:a?Math.min(x,e.tracksCount-1):0})),[c,u]=y.useState(l());Tr([ee.playerAdded,ee.playerRemoved],()=>u(l()));const d=s.map((S,x)=>c.find(w=>w.number===S.number)??l()[x]),h=y.useMemo(()=>JSON.parse(Ve.session.getItem(_u))??[],[]),p=S=>x=>{u(w=>w.map(E=>E.number===S?x:E))},[g,m]=y.useState(!1);y.useEffect(()=>{g||xn.startMonitoring()},[g]);const{register:b,focusElement:v}=Kn({enabled:n&&!g,onBackspace:r,additionalHelp:{remote:["select-song"]}}),A=()=>{t(d)},_=!!o&&o!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(aB,{closeButtonText:_?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),_&&v("play")}}),d.map((S,x)=>f.jsxs(Hve,{children:[f.jsxs(Gve,{children:["Player ",x+1]}),f.jsx("div",{children:f.jsx($ve,{multipleTracks:a,player:Oe.getPlayer(S.number),setup:S,onChange:p(S.number),playerNames:h,register:b,songPreview:e})})]},S.number)),_&&f.jsx(UP,{...b("play-song-button",A,void 0,!0),children:"Play"}),f.jsx(UP,{...b("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const Hve=I("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),UP=I(Wo,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Gve=I("span",{target:"e12y59820"})(ze,";padding:1.3rem;font-size:4.5rem;");function qve({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,o]=y.useState(null),[s,a]=y.useState("song"),l=u=>{o(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};ee.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(Wve,{children:[f.jsx(Mve,{style:s==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(Kve,{children:[s==="song"&&f.jsx(bve,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),s==="players"&&f.jsx(Uve,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const Wve=I("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Kve=I("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),Yve=30;function Qve({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:o,onExitKeyboardControl:s,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=y.useState(!1),h=y.useRef(null),{width:p,height:g}=qh(),m=o;y.useLayoutEffect(()=>{d(!1)},[e.video]);const b=e.previewStart??(e.videoGap??0)+60,v=e.previewEnd??b+Yve,A=y.useMemo(()=>[e.video,b,v,e.volume],[e.video,b,v,e.volume]),[_,S,x,w]=bE(A,350);y.useEffect(()=>{var L;(L=h.current)==null||L.loadVideoById({videoId:_,startSeconds:S,endSeconds:x})},[_,h,S,x]);const E=m?p:r,C=m?g:i,j=m?Math.min(p/20*9,g*(4/5)):i;return y.useEffect(()=>{var L;(L=h.current)==null||L.setSize(E,C)},[E,C,o]),f.jsxs(f.Fragment,{children:[m&&f.jsx(Zve,{onClick:s}),!m&&u&&f.jsx(rye,{width:E,height:C,left:n,top:t,song:e}),f.jsx(Xve,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(eye,{"data-show":u,"data-expanded":m,height:j,id:"preview-video-container",children:f.jsx(jE,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:L=>{var B,U;L===Nn.ENDED?((B=h.current)==null||B.seekTo(b),(U=h.current)==null||U.playVideo()):L===Nn.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:j,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(tye,{"data-expanded":m,children:m&&f.jsx(qve,{songPreview:e,onPlay:a,keyboardControl:o,onExitKeyboardControl:s})})})]})}const Jve=I(XD,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",QE,"{view-transition-name:song-preview-artist;}",ey,"{view-transition-name:song-preview-title;}",ZD,"{view-transition-name:song-preview-expanded-data;}"),Xve=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Jve,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Zve=I("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),eye=I("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),tye=I("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),nye=I("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),rye=e=>{const[t]=Ge(Qi);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(nye,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function iye(e){var t=vg(e),n=t%1;return t===t?n?t-n:t:0}var oye=Math.ceil,sye=Math.max;function ex(e,t,n){t===void 0?t=1:t=sye(iye(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=Array(oye(r/t));i<r;)s[o++]=IS(e,i,i+=t);return s}function aye(e,t){const n=y.useRef(null),r=y.useMemo(()=>e.groups.map(u=>({group:u,rows:ex(u.songs,e.perRow)})),[e.groups,e.perRow]),i=y.useMemo(()=>r.map(({rows:u})=>u.length),[r]),o=y.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:s,GroupRowWrapper:a}=e,l=y.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=y.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return y.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(A=>A.index===d),g=r.slice(0,h).reduce((A,{rows:_})=>A+_.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,zo()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(tD,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(s,{"data-is-new":r[d].group.isNew,...h,children:[o[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&o[u].length<e.perRow&&new Array(e.perRow-o[u].length).fill(null).map((p,g)=>f.jsx(y.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const lye=y.forwardRef(aye),cB=(e,t)=>e+Math.random()*(t-e),Oo=(e,t)=>Math.round(cB(e,t)),cye=250,uye=750;function dye(e){const t=MT(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=MT(async()=>hK(),[]),r=y.useMemo(()=>o0.recentlyUpdated(e),[e]).map(l=>l.id),[i]=Ge(g0),o=t.loading||n.loading||!e.length,s=y.useMemo(()=>{if(o)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(cye,uye-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,o,t.value,e,n.value]),a=y.useMemo(()=>({popular:[]}),[]);return{value:s??a,loading:o}}const fye=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function hye(){const e=td(),{value:{popular:t},loading:n}=dye(e.data),r=e.isLoading||n,{filters:i,filteredList:o,setFilters:s,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=Sfe(e.data,t,r);return{groupedSongList:y.useMemo(()=>{var p;if(o.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:o.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...o].sort(u.sortingFn):o).forEach(b=>{try{const{name:v,...A}=((u==null?void 0:u.groupData)??fye)(b);let _=h.find(S=>S.name===v);_||(_={name:v,songs:[],...A},h.push(_)),_.songs.push({index:o.indexOf(b),song:b,isPopular:t.includes(b.id)})}catch(v){console.error(v),$o(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const b=o.filter(v=>v.isNew);b.length&&b.length<50&&m.unshift({name:"New",isNew:!0,songs:b.map(v=>({song:v,index:o.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[o,i.search,t,u]),songList:o,filters:i,setFilters:s,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function a0(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e},[e]),t.current}const pye=30;function gye(e,t,n=pye){let r;if(t.length<e){const i=[...Array(e).keys()].filter(o=>!t.includes(o));r=i[Oo(0,i.length-1)]}else r=Oo(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const mye=(e=[],t)=>{var b;const[n,r]=y.useState([0,0]),i=y.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),o=y.useMemo(()=>e.map(({songs:v})=>ex(v.map(A=>A.index),t)).flat(),[i,t]),s=y.useMemo(()=>e.map(({songs:v,name:A})=>ex(v.map(()=>A),t)).flat(),[i,t]),a=a0(o??[]),l=n[0]===((b=o[n[1]])==null?void 0:b.length)-1,c=y.useCallback((v,A)=>{var x;const _=o.findIndex((w,E)=>w.includes(v)&&(!A||A===s[E][0])),S=(x=o[_])==null?void 0:x.indexOf(v);S>=0&&_>=0?r([S??0,_??0]):r([0,0])},[o]),u=([v,A],_,S)=>{var w;if(e.length===0)return S;const x=_[A];return(x==null?void 0:x[v])??(x==null?void 0:x.at(-1))??((w=_==null?void 0:_[0])==null?void 0:w[0])??S},d=([v,A],_=o)=>u([v,A],_,0),h=([v,A],_=s)=>u([v,A],_,"A");y.useEffect(()=>{const v=d(n,a),A=d(n,o);a.length&&v!==A&&c(v)},[n,o,a,l]);const p=(v,A)=>{q0.play(),r(([_,S])=>{let x=_,w=S;if(v==="y")w=S+A;else{if(o[S]===void 0)debugger;const E=o[S].length-1;x=Math.min(_,E)+A,x<0?(w=(o.length+S-1)%o.length,x=o[w].length-1):x>E&&(w=S+1,x=0)}return[x%t,(o.length+w)%o.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},vye=(e,t=[],n,r,i,o)=>{const s=ui(),[a,l]=y.useState([!1,null]),c=a0(a),[u,d]=a,[h,p,g,m,b,v]=mye(t,o),A=g[0]===0,_=()=>{cS.play(),n()},[S,x]=y.useState(!1),w=a0(i.search);y.useLayoutEffect(()=>{if(w&&!i.search){x(!0);const R=setTimeout(()=>x(!1),2e3);return()=>{clearTimeout(R),x(!1)}}},[i.search]);const E=()=>{!S&&!i.search&&(uS.play(),s("menu/"))},C=y.useCallback(Zc((R,k)=>{const D=(t.length+k+R)%t.length;b(t[D].songs[0].index),q0.play()},700,{trailing:!1}),[t]),j=(R,k)=>{if(!(R!=null&&R.repeat))m("y",k);else{const D=t.findIndex(O=>!!O.songs.find(z=>z.index===h));C(k,D)}},L=(R,k=!1)=>{!k&&R===-1&&A&&!u?l([!0,"left"]):m("x",R)},B=y.useRef([]),U=()=>{const R=gye(r,B.current);b(R)};rc({accept:_,down:R=>j(R,1),up:R=>j(R,-1),left:()=>L(-1),right:()=>L(1),back:E,random:U},e&&!u,[t,g,u,i,S]);const P=y.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);ed(P,e);const V=y.useCallback(R=>{l([!1,R??null])},[l,L,t,g]);return y.useLayoutEffect(()=>{const[R,k]=c;R&&!u&&k===d&&L(d==="right"?1:-1,!0)},[u,d,A,v,...g]),[h,p,b,u,V,U]};function yye(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:o,isLoading:s,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=hye(),[u,d]=y.useState(!0),h=w=>{uh(()=>{sc.flushSync(()=>{d(w)})}),dS.play(!1)},[p,g,m,b,v,A]=vye(u,r,()=>h(!1),n.length,o,t),[_,S]=y.useState(!1);y.useEffect(()=>{if(!_&&n.length&&!s){const w=n.findIndex(j=>j.id===e),E=n.findIndex(j=>j.isNew);let C=Oo(0,n.length-1);(w>-1||E>-1)&&(C=w),S(!0),m(C)}},[m,_,p,n,e,s]),y.useEffect(()=>{var w;if(_&&n.length&&n[p]&&!s){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[_,p,n,s]);const x=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:x,songList:n??[],filters:o,setFilters:i,showFilters:b,setShowFilters:v,isLoading:s||!_,randomSong:A,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const Aye=1.2,HP=4,uB=7,tx=4.5,GP=uB+tx,Jp=3.5,bye={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(Tye,{}),e&&e.songPreview.songPreview&&f.jsx(Qve,{...e.songPreview})]}),Footer:()=>f.jsxs(xye,{children:["Missing a song? Try"," ",f.jsx(Zw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(kye,{children:"No songs found"})};function _ye({onSongSelected:e,preselectedSong:t}){const[n]=Ge(Ar),r=n?HP-1:HP;Ja(!1),qa(!0),HD();const{focusedGroup:i,focusedSong:o,moveToSong:s,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:b,selectedPlaylist:v,setSelectedPlaylist:A,playlists:_,songList:S}=yye(t,r),x=y.useMemo(()=>a.map(H=>H.songs).flat().find(H=>H.song.id===(c==null?void 0:c.id)),[c,a]),w=y.useRef(null),E=KN(),{width:C,handleResize:j}=qh(),B=(C-(GP+tx)*E-(r-1)*Jp*E)/r,U=B*(9/16),P=U/2,V=y.useCallback(()=>u(!1),[u]),R=m||!a||!C,k=v==="Eurovision",D=y.useRef(null);y.useEffect(()=>{const H=ne=>S.findIndex(N=>N.id===ne);return global.__songList={scrollToSong:ne=>{var ae;const[N]=ne.split("-new-group"),ue=ne.endsWith("-new-group"),Z=a.find(Pe=>!!Pe.isNew===ue&&Pe.songs.some(be=>be.song.id===N));if(Z){const Pe=H(N);return(ae=w.current)==null||ae.scrollToSongInGroup(Z.name,Pe,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,S]);const[{previewTop:O,previewLeft:z},$]=y.useState({previewTop:0,previewLeft:0});y.useEffect(()=>{const H=document.querySelector(`[data-song-index="${o}"][data-group="${i}"]`);!m&&H?$({previewTop:H.offsetTop+H.parentNode.offsetTop,previewLeft:H.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[o,i,m,C]),y.useEffect(()=>{var H;j(),m||(H=w.current)==null||H.scrollToSongInGroup(i,o)},[C,o,i,a,m,j]);const G=ui();return Lr("Shift + E",()=>G(t0("edit/song/",{playlist:null,step:"metadata"})),[G]),Tr(ee.remoteSongSelected,async H=>{A("All");const ne=S.findIndex(N=>N.id===H);ne&&(o!==ne?(s(ne),l||u(!0),V()):l&&V())},[S,s,V,A,u,l,o]),f.jsx(ea,{children:f.jsxs(Sye,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(P)}px`,"--song-entry-width":`${Math.floor(B)}px`,"--song-entry-height":`${Math.floor(U)}px`,"--song-list-gap":`${Math.floor(Jp*E)}px`,"--song-list-padding-left":`${Math.floor(GP*E)}px`,"--song-list-padding-right":`${Math.floor(tx*E)}px`,"--song-sidebar-weight":`${Math.floor(uB*E)}px`},children:[R?f.jsxs(qP,{children:[f.jsx(KP,{children:f.jsx(QP,{children:f.jsx(nx,{children:""})})}),new Array(4).fill(0).map((H,ne)=>f.jsx(YP,{children:new Array(4).fill(0).map((N,ue)=>f.jsx(WP,{},ue))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(wye,{videoId:c.video}),f.jsx(D0e,{setFilters:d,filters:h,onRandom:b,keyboardControl:l}),f.jsx(gve,{container:D.current,groupedSongList:a,onScrollToGroup:H=>{s(H.songs[0].index),setTimeout(()=>{var ne;return(ne=w.current)==null?void 0:ne.scrollToGroup(H.name)},20)}}),f.jsx(qP,{active:l,dim:g,"data-test":"song-list-container",ref:D,children:f.jsx(lye,{focusedSong:o,focusedGroup:i,ListRowWrapper:YP,GroupRowWrapper:KP,ref:w,groups:a,itemHeight:Math.floor(U)+Math.floor(Jp*E),groupHeight:Math.floor(P)+Math.floor(Jp*E),components:bye,renderGroup:H=>f.jsx(QP,{"data-highlight":H.name==="New",children:f.jsx(nx,{"data-group-name":H.name,children:H.displayLong??H.name})},H.name),perRow:r,renderItem:(H,ne)=>{const N=H.index===o&&ne.name===i;return y.createElement(Cye,{...g||!l?{"data-unfocusable":!0}:{},isPopular:H.isPopular,key:H.song.id,song:H.song,handleClick:N?V:s,focused:!g&&l&&N,index:H.index,groupLetter:ne.name,"data-song-index":H.index,"data-focused":!g&&l&&H.index===o,"data-test":`song-${H.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:k})},placeholder:f.jsx(WP,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:k,isPopular:!!(x!=null&&x.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:O,left:z,width:Math.floor(B),height:Math.floor(U)}}})})]}),f.jsx(G0e,{selectedPlaylist:v,setSelectedPlaylist:A,playlists:_,active:g,closePlaylist:p})]})})}const xye=I("div",{target:"e13s0pn12"})(ze,";text-align:center;font-size:5rem;padding:10rem 0;"),Sye=I("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),wye=e=>{const{theme:t}=y.useContext(jS);return t==="eurovision"?null:f.jsx(Eye,{...e})},Eye=I($0e,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),kye=I("div",{target:"e13s0pn9"})(ze,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),nx=I("div",{target:"e13s0pn8"})(ze,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",pe.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),qP=I("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),WP=I("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),Cye=y.memo(I(XD,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",Aye,");z-index:2;",wu,";}")),Tye=I("div",{target:"e13s0pn4"})(""),dB=I("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),KP=I(dB,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),YP=I(dB,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),QP=I("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",nx,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function Iye(e){const[t,n]=Ge(g0),[r,i]=y.useState(t===null),o=()=>{n(t??[]),i(!1)};return r?f.jsx(eD,{onClose:o,closeText:"Continue to Song Selection"}):f.jsx(_ye,{...e})}var JE={},Rye=rt;Object.defineProperty(JE,"__esModule",{value:!0});var fB=JE.default=void 0,Pye=Rye(dt()),Mye=f;fB=JE.default=(0,Pye.default)((0,Mye.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const Td=e=>new Promise(t=>setTimeout(t,e)),WA=15;function jye({onFinish:e}){const[t,n]=y.useState(!1),[r,i]=y.useState([]);Tr(ee.readinessConfirmed,a=>{i(l=>[...l,a])});const o=ki([ee.inputListChanged,ee.readinessConfirmed],()=>Oe.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));y.useEffect(()=>{(async()=>{let a=!1;const l=Oe.requestReadiness().then(()=>{a=!0,n(!0)}),c=Td(1500),u=Td(WA*1e3);await Td(250),a||await Ag.play(),await Promise.race([Promise.all([l,c]),u]),Ag.playing()&&nO.play(),await Td(500),Ag.stop(),await Td(1e3),e()})()},[]);const s=o.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(Oye,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(Lye,{children:s.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(Nye,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(Dye,{children:a?f.jsx(fB,{}):f.jsx(Hh,{color:"info",size:"1em"})})," ",f.jsx(sB,{player:c})]},u))}),!t&&f.jsxs(Vye,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(IE,{end:0,start:WA,duration:WA,useEasing:!1})})]})]})})}const Oye=I("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",ze,";"),Vye=I("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),Lye=I("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),Nye=I("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),Dye=I("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function Bye({register:e,onExit:t}){const n=y.useRef(null),[r,i]=y.useState(!1),[o,s]=y.useState(!1),[a,l]=y.useState(!1);y.useEffect(()=>{var u;(u=n.current)==null||u.focus()},[n]);const c=()=>{const u=Be.getSong(),d={songId:u==null?void 0:u.id,songLastUpdated:u==null?void 0:u.lastUpdate},h=[];r&&h.push("not-in-sync"),o&&h.push("wrong-volume"),a&&h.push("bad-lyrics"),h.length&&_n.capture("rate-song",{issues:h,...d}),t()};return f.jsx(f.Fragment,{children:f.jsxs(mo,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(KA,{...e("button-not-in-sync",()=>i(u=>!u)),size:"small",children:[f.jsx(YA,{children:r?f.jsx(yf,{}):f.jsx(Af,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(KA,{...e("button-bad-lyrics",()=>l(u=>!u)),size:"small",children:[f.jsx(YA,{children:a?f.jsx(yf,{}):f.jsx(Af,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(KA,{...e("button-wrong-volume",()=>s(u=>!u)),size:"small",children:[f.jsx(YA,{children:o?f.jsx(yf,{}):f.jsx(Af,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Re,{...e("button-song-ok",c,void 0,!0),ref:n,children:o||r?"Submit and exit":"All good, exit the song"})]})})}const KA=I(Re,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),YA=I("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function $ye({onResume:e,onExit:t,onRestart:n}){const r=ui(),i=y.useRef(null),o=y.useRef(null);y.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[s,a]=y.useState(!1),{register:l}=Kn({enabled:!s}),[c,u]=y.useState(!1),d=async()=>{const h=Be.getSongCompletionProgress(),p=(await so.getIndex()).find(g=>{var m;return g.id===((m=Be.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!zo()?u(!0):t()};return f.jsxs(ac,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(mo,{children:[f.jsx(Re,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Re,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Re,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Re,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(uD,{ref:o,...l("input-lag",()=>{var h;return(h=o.current)==null?void 0:h.focus()})}),f.jsx(Re,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=Be.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),s&&f.jsx(aB,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(Bye,{onExit:t,register:l})]})}const hB=zo()?1e3:8e3;function Fye(e){return Math.floor((Qv(e)-hB)/1e3)}const zye=2e4;function Uye(e){return Qv(e)-(e.videoGap??0)*1e3>zye}function Hye({playerRef:e,isEnabled:t}){const[n]=Ge(Ar),r=Be.getSong(),i=y.useMemo(()=>Uye(r),[r]),o=y.useMemo(()=>Qv(r),[r]),s=Be.getCurrentTime(!1)<o-hB*1.2,a=t&&s&&i;rc({accept:()=>{e==null||e.seekTo(Fye(r));const{artist:u,title:d}=Be.getSong();_n.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=y.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return ed(c,a),!n&&a?f.jsxs(Gye,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(qye,{children:"Enter"})," to skip the intro"]}):null}const Gye=I("div",{target:"e167kngm1"})(ze,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),qye=I("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Wye=15e3;function Kye({onSongEnd:e,isEnabled:t}){const[n]=Ge(Ar),r=Be.getDuration(),i=y.useMemo(()=>Math.max(...Be.getPlayers().map(p=>Nf(p.getLastNotesSection()))),[]),o=y.useMemo(()=>{var g;const p=yD(i,Be.getSong())+(((g=Be.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+Wye},[r,i,t]),[s,a]=y.useState(0),[l,c]=y.useState(!1);zO(()=>a(Be.getCurrentBeat()),1e3);const u=bE(o&&s>i,5e3)&&!l;rc({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=Be.getSong();_n.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=y.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return ed(h,u),!n&&o?f.jsxs(Yye,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(Qye,{children:"Enter"})," to skip the outro"]}):null}const Yye=I("div",{target:"e1b01y1a1"})(ze,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Qye=I("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Jye=Ce.memo(Kye);function JP(e){return e&&e.length?qN(e):[]}function Xye({players:e}){const t=Be.getCurrentTime(!1),n=Be.getSongBeatLength(),r=Be.getDuration(),i=Be.getSong(),o=y.useMemo(()=>JP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>La(l)*n+i.gap)),[i,n,e]),s=y.useMemo(()=>JP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Lf(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(XE,{children:[o.map(l=>f.jsx(XP,{position:l/a},l)),s.map(l=>f.jsx(XP,{position:l/a},l)),f.jsx(tAe,{fill:t/a})]})}const XE=I("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),Zye=I(XE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",pe.colors.text.active,";opacity:75%;"),XP=e=>f.jsx(Zye,{style:{left:`${Math.min(e.position*100,100)}%`}}),eAe=I(XE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),tAe=e=>f.jsx(eAe,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function nAe({player:e,bottom:t=!1,...n}){const r=xn.getPlayerVolume(e.number),i=nB(e.number);return f.jsxs(rAe,{...n,children:[i!=="unavailable"&&f.jsx(e0e,{playerNumber:e.number,volume:r}),f.jsx(iAe,{status:i,tooltipPosition:"start"}),f.jsx(oAe,{playerNumber:e.number})]})}const rAe=I("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),iAe=I(oB,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),oAe=I(iB,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function ZP({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var S;const i=Be.getPlayer(e.number),[o]=Ge(Ar),s=pe.colors.players[e.number].text,a=((S=Be.getSingSetup())==null?void 0:S.mode)===Br.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=Be.getCurrentBeat(),h=Be.getSongBeatLength(),p=Math.max(0,...a.filter(x=>x<=((l==null?void 0:l.start)??-1/0))),g=a.find(x=>x>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,b=(g-d)/(g-p),v=m<2500,A=Tt(l),_=A?La([l])-l.start:0;return f.jsxs(uAe,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!o&&n&&f.jsx(sAe,{children:r?f.jsx(eM,{player:e}):Be.getPlayers().map(x=>f.jsx(eM,{player:Oe.getPlayer(x.getNumber())},x.getNumber()))}),m<1/0&&f.jsx(mAe,{color:s,progress:b<=1?b*100:0}),A?f.jsx(f.Fragment,{children:f.jsxs(Xp,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(aAe,{children:f.jsx(cAe,{color:s,percent:Math.min(2,(d-l.start)/_)})}),l==null?void 0:l.notes.map(x=>{const w=Math.max(0,Math.min(2,(d-x.start)/x.length));return f.jsxs(dAe,{type:x.type,children:[f.jsxs(fAe,{children:[f.jsx(pAe,{fill:w,color:s,children:x.lyrics.trim()}),x.lyrics.endsWith(" ")&&" "]}),x.lyrics]},x.start)}),(c==null?void 0:c.start)===g&&f.jsx(tM,{"data-should-shake":!0})]})}):f.jsx(Xp,{effectsEnabled:n,children:""}),Tt(c)?f.jsxs(Xp,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(x=>f.jsx(y.Fragment,{children:x.lyrics},x.start)),(u==null?void 0:u.start)===g&&f.jsx(tM,{})]}):f.jsx(Xp,{effectsEnabled:n,nextLine:!0,children:""})]})}const eM=I(nAe,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),sAe=I("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),aAe=I("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),lAe=I("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),cAe=({percent:e,color:t})=>{const n=y.useMemo(()=>{const r=he(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(lAe,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},uAe=I("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),dAe=I("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),fAe=I("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),hAe=I("span",{target:"e1j3lo7n3"})(""),pAe=({fill:e,color:t,children:n})=>f.jsx(hAe,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),gAe=I("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),mAe=e=>f.jsx(gAe,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),tM=I(qv,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",pe.colors.text.active,";font-size:4rem;}"),Xp=I("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?pe.colors.text.inactive:pe.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),pB=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function rx({score:e}){return f.jsx(f.Fragment,{children:pB.format(e)})}const gB=6,Ui=30,In=Ui+6,vAe=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,o=n-e.paddingVertical*2;return{width:t-i*2,height:o/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*o/e.playerCount}};function nM({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:o,track:s,playerIndex:a,playerCount:l,paddingVertical:c}){var _;const u=s.sections,d=u[t],h=u[t+1],p=vAe({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=Tt(d)?(_=d==null?void 0:d.notes)==null?void 0:_.at(-1):void 0,m=Tt(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,b=d.start*r,v=(m-d.start)*r,A=(p.height-20-Ui)/(o-i+gB*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:b,maxTime:v,pitchStepHeight:A}}function mB(e,t,n,r,i){return i&&n?pe.colors.players[t].starPerfect:i?pe.colors.players[t].perfect:n&&r?pe.colors.players[t].star:r?pe.colors.players[t].hit:pe.colors.players[t].miss}function yAe(e,t,n,r){return mB(e,t,r.note.type==="star",n,r.isPerfect)}const QA={},AAe=e=>{if(!QA[e]){const t=he(e);QA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return QA[e]};function ix(e,t,n,r,i,o,s,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=AAe(s);l.addColorStop(0,c[Oo(0,c.length-1)]),l.addColorStop(.05,c[Oo(0,c.length-1)]),l.addColorStop(.15,d[Oo(0,d.length-1)]),l.addColorStop(1,u[Oo(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=s,t.globalAlpha=1}function ZE(e,t,n,r,i,o,s,a,l=1){i>0&&ix(e,t,n,r,i,o,a,l)}const xf=(e,t)=>e-t+Math.random()*t*2,rM=(e=0)=>Math.sign(e+Math.random()-.5),bAe=500,_Ae=100,Zp=.2;class xAe{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,o,s)=>{const a=1-this.ttl/this.startingTtl,l=this.startingTtl-this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;ZE(o,i,d,h,c,u,this.initialAngle+l,this.color,.5*a),this.ttl=this.ttl-s,this.finished=this.ttl<=0},this.startingTtl=this.ttl=xf(bAe,_Ae),this.velocityX=Zp*Math.random()-Zp/2,this.velocityY=Zp*Math.random()-Zp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class SAe{constructor(t,n,r,i,o){this.finished=!0,this.tick=(c,u)=>{};const s=pe.colors.players[i].starPerfect.fill,a=he(s).lighten(15).toRgbString(),l=he(s).darken(15).toRgbString();if(Math.random()>.85){const c=Oo(0,r/8),u=Math.random();let d=s;u>.66?d=a:u>.33&&(d=l);const h=n+20*(Math.random()-.5);o.add(new xAe(t+c*8,h,d))}}}const wAe=300,EAe=50,eg=1.3;class kAe{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,o,s)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;ZE(o,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-s,this.finished=this.ttl<=0},this.startingTtl=this.ttl=xf(wAe,EAe),this.velocityX=eg*Math.random()-eg/2,this.velocityY=eg*Math.random()-eg/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const CAe=`
precision mediump float;
`,ty=CAe.replace(/\n/g,""),TAe=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,vB=TAe.replace(/\n/g,""),IAe=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,ny=IAe.replace(/\n/g,""),RAe=ty+vB+ny+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;RAe.replace(/\n/g,"");const PAe=ty+ny+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;PAe.replace(/\n/g,"");const MAe=ty+vB+ny+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;MAe.replace(/\n/g,"");const jAe=ty+ny+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;jAe.replace(/\n/g,"");function OAe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:IS(e,t,n)}var VAe="\\ud800-\\udfff",LAe="\\u0300-\\u036f",NAe="\\ufe20-\\ufe2f",DAe="\\u20d0-\\u20ff",BAe=LAe+NAe+DAe,$Ae="\\ufe0e\\ufe0f",FAe="\\u200d",zAe=RegExp("["+FAe+VAe+BAe+$Ae+"]");function yB(e){return zAe.test(e)}function UAe(e){return e.split("")}var AB="\\ud800-\\udfff",HAe="\\u0300-\\u036f",GAe="\\ufe20-\\ufe2f",qAe="\\u20d0-\\u20ff",WAe=HAe+GAe+qAe,KAe="\\ufe0e\\ufe0f",YAe="["+AB+"]",ox="["+WAe+"]",sx="\\ud83c[\\udffb-\\udfff]",QAe="(?:"+ox+"|"+sx+")",bB="[^"+AB+"]",_B="(?:\\ud83c[\\udde6-\\uddff]){2}",xB="[\\ud800-\\udbff][\\udc00-\\udfff]",JAe="\\u200d",SB=QAe+"?",wB="["+KAe+"]?",XAe="(?:"+JAe+"(?:"+[bB,_B,xB].join("|")+")"+wB+SB+")*",ZAe=wB+SB+XAe,e1e="(?:"+[bB+ox+"?",ox,_B,xB,YAe].join("|")+")",t1e=RegExp(sx+"(?="+sx+")|"+e1e+ZAe,"g");function n1e(e){return e.match(t1e)||[]}function r1e(e){return yB(e)?n1e(e):UAe(e)}function i1e(e){return function(t){t=CS(t);var n=yB(t)?r1e(t):void 0,r=n?n[0]:t.charAt(0),i=n?OAe(n,1).join(""):t.slice(1);return r[e]()+i}}var o1e=i1e("toUpperCase");function s1e(e){return o1e(CS(e).toLowerCase())}function iM(e,t,n,r,i,o,s,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,o);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),s&&e.fill(),a&&e.stroke()}function ek(e,t,n,r,i,o,s,a,l=.1){iM(e,t,n,r,i,o,s,a),s&&l>0&&(e.save(),iM(e,t,n,r,i,o,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Ud(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function Hd(e,t,n,r,i,o,s){o==="star"?Ud(e,pe.colors.lines.star):o==="freestyle"||o==="rap"?Ud(e,pe.colors.lines.freestyle):o==="rapstar"?Ud(e,{...pe.colors.lines.star,fill:pe.colors.lines.freestyle.fill}):Ud(e,pe.colors.lines.normal),e.shadowBlur=10,e.shadowColor=s!==void 0?pe.colors.players[s].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,ek(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function a1e(e,t,n,r,i,o,s,a,l){Ud(e,mB(e,o,l,s,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,ek(e,t,n,r,i,100,!0,!0,s?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Bn=10,l1e={start:{x:0,y:0,w:Ui/2+Bn,h:Ui+Bn*2},middle:{x:Ui/2+Bn,y:0,w:1,h:Ui+Bn*2},end:{x:Ui/2+1+Bn,y:0,w:Ui/2+Bn,h:Ui+Bn*2}},Gc={start:{x:0,y:0,w:In/2+Bn,h:In+Bn*2},middle:{x:In/2+Bn,y:0,w:1,h:In+Bn*2},end:{x:In/2+1+Bn,y:0,w:In/2+Bn,h:In+Bn*2}},xc=(e,t,n,r,i)=>({draw:(o,s,a,l,c)=>a1e(o,s,a,l,c,e,t,n,r),width:i?In:Ui+1,height:i?In:Ui,padding:Bn,fragments:i?Gc:l1e}),tg=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,o)=>Hd(t,n,r,i,o,"normal",e),width:In+1,height:In,padding:Bn,fragments:Gc},[`p${e}Miss`]:xc(e,!1,!1,!1,!1),[`p${e}Hit`]:xc(e,!0,!1,!1,!0),[`p${e}Perfect`]:xc(e,!0,!0,!1,!0),[`p${e}StarMiss`]:xc(e,!1,!1,!0,!1),[`p${e}StarHit`]:xc(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:xc(e,!0,!0,!0,!0)}),Es={...tg(0),...tg(1),...tg(2),...tg(3),noteStar:{draw:(e,t,n,r,i)=>Hd(e,t,n,r,i,"star"),width:In+1,height:In,padding:Bn,fragments:Gc},noteFreestyle:{draw:(e,t,n,r,i)=>Hd(e,t,n,r,i,"freestyle"),width:In+1,height:In,padding:Bn,fragments:Gc},noteRap:{draw:(e,t,n,r,i)=>Hd(e,t,n,r,i,"rap"),width:In+1,height:In,padding:Bn,fragments:Gc},noteRapstar:{draw:(e,t,n,r,i)=>Hd(e,t,n,r,i,"rapstar"),width:In+1,height:In,padding:Bn,fragments:Gc}};function c1e(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const EB=Math.max(...Object.values(Es).map(e=>e.padding*2+e.width)),kB=Object.values(Es).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),CB=c1e(EB,kB),ax=CB.getContext("2d");let xl=0;const oM=Object.entries(Es).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:xl,w:t.width+n,h:t.height+n};return xl=xl+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),TB=()=>{ax.clearRect(0,0,EB,kB),xl=0,Object.entries(Es).forEach(([e,t])=>{t.draw(ax,t.padding,xl+t.padding,t.width,t.height),xl=xl+t.padding*2+t.height})};TB();ee.songStarted.subscribe(TB);const IB=(e,t)=>({canvas:CB,ctx:ax,x:oM[e].x+Es[e].fragments[t].x,y:oM[e].y+Es[e].fragments[t].y,w:Es[e].fragments[t].w,h:Es[e].fragments[t].h,padding:Es[e].padding}),JA=(e,t,n,r,i,o,s,a=1,l=1)=>{const c=IB(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,b=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-b,i-v,o??d,h),e.imageSmoothingEnabled=!0,c};function RB(e,t,n,r,i){const o=IB(t,"start"),s=Math.max(i,(o.h-o.padding*2)/2),a=Math.min(1,s/2/(o.w-o.padding)),l=a*o.w,c=l-o.padding*a,u=s-2*c;JA(e,t,"start",n,r,l,void 0,a),u>0&&JA(e,t,"middle",n+l,r,u,void 0,a),JA(e,t,"end",n+u+l,r,l,void 0,a)}const u1e=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${s1e(e)}`;function PB(e,t,n,r,i,o){const s=u1e(i.type,o);RB(e,s,t,n,r)}function d1e(e,t,n,r,i,o){e.save(),ek(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-o.frequencyRecords[0].preciseDistance*i/3);for(let s=1;s<o.frequencyRecords.length;s++)e.lineTo(t+s*(r/(o.frequencyRecords.length-1)),n+i/2-o.frequencyRecords[s].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const f1e=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},h1e=["star","rapstar"];function p1e(e,t,n,r,i,o,s){const a=f1e(i,o,s.isPerfect,h1e.includes(s.note.type));RB(e,a,t,n,r)}class g1e{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(o=>o.tick(t,n,i)),this.particles=this.particles.filter(o=>!o.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const ms=new g1e,m1e=50/60*1e3,v1e=25/60*1e3,y1e=60,sM=.3;class A1e{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(o,s,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;ZE(s,o,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=xf(m1e,v1e),this.velocityX=xf(.5,sM)*rM(.2),this.velocityY=xf(.4,sM)*rM(),this.width=y1e,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class b1e{constructor(t,n,r,i,o,s){this.finished=!0,this.tick=(d,h)=>{};const a=o.type==="star"?pe.colors.players[i].star.fill:pe.colors.players[i].perfect.fill,l=he(a).lighten(15).toRgbString(),c=he(a).darken(15).toRgbString(),u=r/9;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);s.add(new A1e(t+d*9,g,p,(u-d)/10))}}}const aM=200;class _1e{constructor(t,n,r,i,o){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=o,this.finished=!1,this.ttl=aM,this.tick=(s,a,l)=>{const c=this.ttl/aM;s.save(),s.globalAlpha=c,s.translate(0,In*(1-c)),PB(s,this.x,this.y,this.width,this.note,this.playerNumber),s.globalAlpha=1,s.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const XA=50/60*1e3,ng=.05,x1e=200,lM=4,S1e=Math.pow;function cM(e){return 1-S1e(1-e,2)}class w1e{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(o,s,a)=>{const l=this.ttl/XA;let c=cM(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;ix(s,o,this.x,this.y,u,d,"white",c*.35),c=cM(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,b=XA-this.ttl;o.globalAlpha=c*.2,ix(s,o,g+b*this.velocityX,m+b*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=XA,this.velocityX=ng*Math.random()-ng/2,this.velocityY=ng*Math.random()-ng/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*lM+(x1e-lM))}}const uM=20;class E1e{constructor(t,n,r,i,o){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=o,this.finished=!1,this.ttl=2/60*1e3,this.tick=(s,a,l)=>{s.strokeStyle="rgba(255,255,255,.25)",s.lineWidth=2,s.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/uM+this.seed/250);s.lineTo(u,this.y+this.h/2+d)}s.stroke(),s.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/uM+this.seed/250);s.lineTo(u,this.y+this.h/2+d)}s.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const dM=20;function k1e(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class C1e{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{ee.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),ee.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),o=this.canvas.getContext("2d");if(o){if(Be.isPlaying()&&(o.clearRect(0,0,this.canvas.width,this.canvas.height),Oe.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,o)}),ms.tick(o,this.canvas,this.pauseTime)),Sl.get()===30){const s=Date.now(),a=1e3/30,l=s-i>a?a:a-(s-i);this.loop&&setTimeout(this.drawFrame,l,Sl.get())}Sl.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,o)=>{const s=this.getDrawingData(i),{currentSection:a}=nM(s);if(Qi.get()==="high"&&this.setDistortionForce(s),!Tt(a))return;const l=this.calculateDisplacements(a,s);this.drawNotesToSing(o,s,l),this.drawSungNotes(o,s,l),Qi.get()==="high"&&(this.drawFlare(o,s,l),this.markGoldNotes(a,s))},this.setDistortionForce=i=>{var s,a,l;const o=i.currentSection;if(!Tt(o))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((s=this.shaders)==null?void 0:s.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-dM),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>lm(m)===0).reduce((m,b)=>m+b.length-Math.max(0,c-b.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/dM,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,o,s)=>{Tt(o.currentSection)&&o.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.pitch,!0,s[a.start]);PB(i,l,c,u,a,o.playerNumber)})},this.drawSungNotes=(i,o,s)=>{Tt(o.currentSection)&&o.currentPlayerNotes.forEach(a=>{const l=lm(a),{x:c,y:u,w:d,h}=this.getNoteCoords(o,a,a.note.pitch+l,l===0,s[a.note.start]);(l>0||d>h/2.5)&&(p1e(i,c,u,d,o.playerNumber,l===0,a),a.vibrato&&ms.add(new E1e(c,u,d,h,o.currentTime)),l===0&&a.frequencyRecords.length>3&&!ef.includes(a.note.type)&&d1e(i,c,u,d,h,a))})},this.drawFlare=(i,o,s)=>{var l;if(!Tt(o.currentSection))return;const a=k1e(o.currentPlayerNotes,o.currentBeat-185/o.songBeatLength);if(a&&a.distance===0){const c=s[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(o,a,a.note.pitch,!0,c),g=ef.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,b=this.getPreciseY(d,p,g);ms.add(new w1e(m,b,o.currentTime,1)),ms.add(new kAe(cB(Math.max(u,m-50),m),b,yAe(i,o.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(o.playerNumber,m,b)}},this.onSectionEnd=i=>{if(Be.isPlaying()){const o=this.getDrawingData(i,-1);if(!Tt(o.currentSection))return;this.fadeoutNotes(o.currentSection,o),this.explodeNotes(o.currentSection,o)}},this.fadeoutNotes=(i,o)=>{Qi.get()==="high"&&i.notes.forEach(s=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(o,s,s.pitch,!0);ms.add(new _1e(a,l,c,s,o.playerNumber))})},this.explodeNotes=(i,o)=>{Qi.get()==="high"&&o.playerNotes.filter(a=>(a.distance===0||ef.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.note.pitch,!0);ms.add(new b1e(l,c+d/2,u,o.playerNumber,a.note,ms))})},this.markGoldNotes=(i,o)=>{i.notes.filter(a=>a.type==="star"||a.type==="rapstar").forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(o,a,a.pitch,!0);ms.add(new SAe(l,c+d/2,u,o.playerNumber,ms))})},this.calculateDisplacements=(i,o)=>{const s={};return Qi.get()==="high"?i.notes.forEach(a=>{const l=o.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=o.currentBeat&&h.distance===0).map(h=>h.start+30<o.currentBeat?h.length-(o.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;s[a.start]=[u,d]}):i.notes.forEach(a=>{s[a.start]=[0,0]}),s},this.getDrawingData=(i,o=0)=>{const s=Oe.getPlayers(),a=s.findIndex(m=>m.number===i),l=s.length,c=Be.getPlayer(i),u=c.getCurrentSectionIndex()+o,d=Be.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:Be.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:Be.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:Be.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:o,length:s},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=nM(i),g=Tt(d)?d.notes[0].start:1,m=h.width/(u-g),[b,v]=l?c:[0,0],A=p*(i.maxPitch-a+gB);return{x:Math.floor(h.baseX+m*(o-g)+b),y:Math.floor(h.baseY+10+A+v-(l?3:0)),w:Math.floor(m*s),h:l?In:Ui}},this.getPreciseY=(i,o,s)=>i+o/2-s*o/3}}const T1e=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,I1e=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,R1e=1920,P1e=y.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:o,videoPlayerRef:s,isPauseMenuVisible:a},l){var _,S,x;const[c]=Ge(Qi),[u]=Ge(Ar),d=y.useRef(null),h=y.useRef(null),p=y.useRef(null),g=R1e,m=g*(n/t),b=m/n;y.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(_=p.current)==null?void 0:_.offsetHeight,b]),y.useEffect(()=>(Be.startInputMonitoring(),()=>{Be.stopInputMonitoring()}),[]),y.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new C1e(d.current,p.current.offsetHeight*b),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(S=p.current)==null?void 0:S.offsetHeight,b]),y.useEffect(()=>{var w,E,C,j;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((C=h.current)!=null&&C.isPlaying())&&((j=h.current)==null||j.resume())},[a]),y.useEffect(()=>{e===Nn.ENDED&&i&&i()},[e,i]);const v=Oe.getPlayers(),A=!u&&v.length===2;return f.jsxs(M1e,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:T1e}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:I1e}),f.jsx(O1e,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(j1e,{id:"plane",style:o?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),o&&f.jsxs(f.Fragment,{children:[f.jsx(Hye,{playerRef:s,isEnabled:!a}),f.jsx(Jye,{onSongEnd:i,isEnabled:!a})]}),f.jsx(Xye,{players:r}),f.jsx(fM,{children:A&&f.jsx(ZP,{player:v[0],effectsEnabled:o,showMultipleLines:A})}),f.jsx(V1e,{children:o&&f.jsx(f.Fragment,{children:((x=Be.getSingSetup())==null?void 0:x.mode)===Br.CO_OP?f.jsx(hM,{"data-test":"players-score","data-score":Math.floor(Be.getPlayerScore(0)),children:f.jsx(rx,{score:Be.getPlayerScore(0)})}):Oe.getPlayers().map(w=>f.jsx(hM,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(Be.getPlayerScore(w.number)),children:f.jsx(rx,{score:Be.getPlayerScore(w.number)})},w.number))})}),f.jsx(fM,{ref:p,children:f.jsx(ZP,{showMultipleLines:A,player:v[A?1:0],bottom:!0,effectsEnabled:o})})]})}),fM=I("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),M1e=I("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),j1e=I("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),O1e=I("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),V1e=I("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),hM=I("span",{target:"el0barv0"})("");function L1e(e,t){const[n,r]=y.useState(0);return y.useEffect(()=>{e.current&&t===Nn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),Be.setDuration(i)})},[n,e,t]),n}function N1e({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:o,onSongEnd:s,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=y.useRef(null),[b,v]=y.useState(0),[A,_]=y.useState(Nn.UNSTARTED),[S]=Ge(Jd),[x,w]=y.useState(!1);y.useEffect(()=>(Be.setSong(e),Be.setSingSetup(u),()=>{Be.resetSingSetup()}),[e,u]),y.useEffect(()=>{if(m.current&&A===Nn.PLAYING){const R=setInterval(async()=>{if(!m.current)return;const k=Math.max(0,await m.current.getCurrentTime()*1e3-S);v(k),o==null||o(k),Be.setCurrentTime(k),Be.update()},1e3/Sl.get());return()=>clearInterval(R)}},[m,o,A,S]);const E=L1e(m,A);y.useImperativeHandle(g,()=>({seekTo:R=>m.current.seekTo(R),setPlaybackSpeed:R=>m.current.setPlaybackSpeed(R),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const C=y.useCallback(R=>{_(R),a==null||a(R)},[_,a]),j=h,L=()=>{var R;w(!0),(R=m.current)==null||R.pauseVideo()},B=()=>{var R;w(!1),(R=m.current)==null||R.playVideo()},U=()=>{x?B():L()},P=a0(A);y.useEffect(()=>{var k;if(!j)return;const R=P!==Nn.PAUSED&&P!==Nn.BUFFERING&&A===Nn.PAUSED;A===Nn.PLAYING&&x?(k=m.current)==null||k.pauseVideo():R&&!x&&w(!0)},[x,A,P,j]),rc({back:U},j,[x]);const V=y.useMemo(()=>({back:"Pause Menu"}),[]);return ed(V,c),f.jsxs(D1e,{...p,children:[x&&f.jsx($ye,{onExit:s,onResume:B,onRestart:d}),A!==Nn.UNSTARTED&&f.jsx(B1e,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(P1e,{isPauseMenuVisible:x,effectsEnabled:c,duration:E,currentStatus:A,song:e,width:t,height:n,onSongEnd:s,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs($1e,{children:[f.jsx(jE,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:C}),A===Nn.PLAYING&&f.jsx(F1e,{"data-test":"make-song-go-fast",onClick:()=>{var R;(R=m.current)==null||R.setPlaybackSpeed(2)}})]})]})}const D1e=I("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),B1e=I("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),$1e=I("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),F1e=I("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),z1e=y.forwardRef(N1e),pM=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:""})," or ",f.jsx("kbd",{children:""})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(Hf,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],U1e=({as:e="h4",...t})=>{const n=y.useRef(Oo(0,pM.length-1)),r=e;return f.jsx(r,{...t,children:pM[n.current]})};function H1e({...e}){const[t,n]=y.useState(""),r=y.useRef(null);return y.useEffect(()=>{const i=setTimeout(()=>{n(Ro.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),y.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){$o(i)}},[t]),f.jsx(G1e,{...e,children:f.jsx(q1e,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const G1e=I("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),q1e=I("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function W1e(e){return 1-Math.pow(1-e,3)}function K1e(e){return W1e(e)}function rg({color:e,maxScore:t,score:n}){return f.jsx(Y1e,{style:{border:n===0?0:void 0,width:`${K1e(n/t)*24}%`,backgroundColor:e}})}const Y1e=I("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var MB={exports:{}};(function(e,t){(function(n,r){e.exports=r(y)})(typeof self<"u"?self:ha,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>O});var u=c(4087),d=c.n(u);const h=function(z){return new RegExp(/<[a-z][\s\S]*>/i).test(z)},p=function(z,$){return Math.floor(Math.random()*($-z+1))+z};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",b="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",A="PAUSE_FOR",_="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",x="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",C="PASTE_STRING",j="HTML_TAG";function L(z){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},L(z)}function B(z,$){var G=Object.keys(z);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(z);$&&(H=H.filter(function(ne){return Object.getOwnPropertyDescriptor(z,ne).enumerable})),G.push.apply(G,H)}return G}function U(z){for(var $=1;$<arguments.length;$++){var G=arguments[$]!=null?arguments[$]:{};$%2?B(Object(G),!0).forEach(function(H){k(z,H,G[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(G)):B(Object(G)).forEach(function(H){Object.defineProperty(z,H,Object.getOwnPropertyDescriptor(G,H))})}return z}function P(z){return function($){if(Array.isArray($))return V($)}(z)||function($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}(z)||function($,G){if($){if(typeof $=="string")return V($,G);var H=Object.prototype.toString.call($).slice(8,-1);return H==="Object"&&$.constructor&&(H=$.constructor.name),H==="Map"||H==="Set"?Array.from($):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?V($,G):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V(z,$){($==null||$>z.length)&&($=z.length);for(var G=0,H=new Array($);G<$;G++)H[G]=z[G];return H}function R(z,$){for(var G=0;G<$.length;G++){var H=$[G];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(z,D(H.key),H)}}function k(z,$,G){return($=D($))in z?Object.defineProperty(z,$,{value:G,enumerable:!0,configurable:!0,writable:!0}):z[$]=G,z}function D(z){var $=function(G,H){if(L(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var N=ne.call(G,"string");if(L(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(z);return L($)==="symbol"?$:String($)}const O=function(){function z(H,ne){var N=this;if(function(Z,ae){if(!(Z instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,z),k(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),k(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),k(this,"setupWrapperElement",function(){N.state.elements.container&&(N.state.elements.wrapper.className=N.options.wrapperClassName,N.state.elements.cursor.className=N.options.cursorClassName,N.state.elements.cursor.innerHTML=N.options.cursor,N.state.elements.container.innerHTML="",N.state.elements.container.appendChild(N.state.elements.wrapper),N.state.elements.container.appendChild(N.state.elements.cursor))}),k(this,"start",function(){return N.state.eventLoopPaused=!1,N.runEventLoop(),N}),k(this,"pause",function(){return N.state.eventLoopPaused=!0,N}),k(this,"stop",function(){return N.state.eventLoop&&((0,u.cancel)(N.state.eventLoop),N.state.eventLoop=null),N}),k(this,"pauseFor",function(Z){return N.addEventToQueue(A,{ms:Z}),N}),k(this,"typeOutAllStrings",function(){return typeof N.options.strings=="string"?(N.typeString(N.options.strings).pauseFor(N.options.pauseFor),N):(N.options.strings.forEach(function(Z){N.typeString(Z).pauseFor(N.options.pauseFor).deleteAll(N.options.deleteSpeed)}),N)}),k(this,"typeString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return N.typeOutHTMLString(Z,ae);if(Z){var Pe=(N.options||{}).stringSplitter,be=typeof Pe=="function"?Pe(Z):Z.split("");N.typeCharacters(be,ae)}return N}),k(this,"pasteString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?N.typeOutHTMLString(Z,ae,!0):(Z&&N.addEventToQueue(C,{character:Z,node:ae}),N)}),k(this,"typeOutHTMLString",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Pe=arguments.length>2?arguments[2]:void 0,be=function(De){var xe=document.createElement("div");return xe.innerHTML=De,xe.childNodes}(Z);if(be.length>0)for(var le=0;le<be.length;le++){var Se=be[le],Ue=Se.innerHTML;Se&&Se.nodeType!==3?(Se.innerHTML="",N.addEventToQueue(S,{node:Se,parentNode:ae}),Pe?N.pasteString(Ue,Se):N.typeString(Ue,Se)):Se.textContent&&(Pe?N.pasteString(Se.textContent,ae):N.typeString(Se.textContent,ae))}return N}),k(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return N.addEventToQueue(b,{speed:Z}),N}),k(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return N.addEventToQueue(x,{speed:Z}),N}),k(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return N.addEventToQueue(w,{delay:Z}),N}),k(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return N.addEventToQueue(E,{cursor:Z}),N}),k(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var ae=0;ae<Z;ae++)N.addEventToQueue(m);return N}),k(this,"callFunction",function(Z,ae){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return N.addEventToQueue(_,{cb:Z,thisArg:ae}),N}),k(this,"typeCharacters",function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(Pe){N.addEventToQueue(g,{character:Pe,node:ae})}),N}),k(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){N.addEventToQueue(m)}),N}),k(this,"addEventToQueue",function(Z,ae){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return N.addEventToStateProperty(Z,ae,Pe,"eventQueue")}),k(this,"addReverseCalledEvent",function(Z,ae){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return N.options.loop?N.addEventToStateProperty(Z,ae,Pe,"reverseCalledEvents"):N}),k(this,"addEventToStateProperty",function(Z,ae){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],be=arguments.length>3?arguments[3]:void 0,le={eventName:Z,eventArgs:ae||{}};return N.state[be]=Pe?[le].concat(P(N.state[be])):[].concat(P(N.state[be]),[le]),N}),k(this,"runEventLoop",function(){N.state.lastFrameTime||(N.state.lastFrameTime=Date.now());var Z=Date.now(),ae=Z-N.state.lastFrameTime;if(!N.state.eventQueue.length){if(!N.options.loop)return;N.state.eventQueue=P(N.state.calledEvents),N.state.calledEvents=[],N.options=U({},N.state.initialOptions)}if(N.state.eventLoop=d()(N.runEventLoop),!N.state.eventLoopPaused){if(N.state.pauseUntil){if(Z<N.state.pauseUntil)return;N.state.pauseUntil=null}var Pe,be=P(N.state.eventQueue),le=be.shift();if(!(ae<=(Pe=le.eventName===v||le.eventName===m?N.options.deleteSpeed==="natural"?p(40,80):N.options.deleteSpeed:N.options.delay==="natural"?p(120,160):N.options.delay))){var Se=le.eventName,Ue=le.eventArgs;switch(N.logInDevMode({currentEvent:le,state:N.state,delay:Pe}),Se){case C:case g:var De=Ue.character,xe=Ue.node,Te=document.createTextNode(De),Ke=Te;N.options.onCreateTextNode&&typeof N.options.onCreateTextNode=="function"&&(Ke=N.options.onCreateTextNode(De,Te)),Ke&&(xe?xe.appendChild(Ke):N.state.elements.wrapper.appendChild(Ke)),N.state.visibleNodes=[].concat(P(N.state.visibleNodes),[{type:"TEXT_NODE",character:De,node:Ke}]);break;case m:be.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case A:var Ye=le.eventArgs.ms;N.state.pauseUntil=Date.now()+parseInt(Ye);break;case _:var je=le.eventArgs,lt=je.cb,Ot=je.thisArg;lt.call(Ot,{elements:N.state.elements});break;case S:var on=le.eventArgs,Dt=on.node,Sn=on.parentNode;Sn?Sn.appendChild(Dt):N.state.elements.wrapper.appendChild(Dt),N.state.visibleNodes=[].concat(P(N.state.visibleNodes),[{type:j,node:Dt,parentNode:Sn||N.state.elements.wrapper}]);break;case b:var ft=N.state.visibleNodes,Et=Ue.speed,Jt=[];Et&&Jt.push({eventName:x,eventArgs:{speed:Et,temp:!0}});for(var Xe=0,Bt=ft.length;Xe<Bt;Xe++)Jt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});Et&&Jt.push({eventName:x,eventArgs:{speed:N.options.deleteSpeed,temp:!0}}),be.unshift.apply(be,Jt);break;case v:var ye=le.eventArgs.removingCharacterNode;if(N.state.visibleNodes.length){var it=N.state.visibleNodes.pop(),wn=it.type,ht=it.node,ot=it.character;N.options.onRemoveNode&&typeof N.options.onRemoveNode=="function"&&N.options.onRemoveNode({node:ht,character:ot}),ht&&ht.parentNode.removeChild(ht),wn===j&&ye&&be.unshift({eventName:v,eventArgs:{}})}break;case x:N.options.deleteSpeed=le.eventArgs.speed;break;case w:N.options.delay=le.eventArgs.delay;break;case E:N.options.cursor=le.eventArgs.cursor,N.state.elements.cursor.innerHTML=le.eventArgs.cursor}N.options.loop&&(le.eventName===v||le.eventArgs&&le.eventArgs.temp||(N.state.calledEvents=[].concat(P(N.state.calledEvents),[le]))),N.state.eventQueue=be,N.state.lastFrameTime=Z}}}),H)if(typeof H=="string"){var ue=document.querySelector(H);if(!ue)throw new Error("Could not find container element");this.state.elements.container=ue}else this.state.elements.container=H;ne&&(this.options=U(U({},this.options),ne)),this.state.initialOptions=U({},this.options),this.init()}var $,G;return $=z,(G=[{key:"init",value:function(){var H,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(b,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(H=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(H)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(H){this.options.devMode&&console.log(H)}}])&&R($.prototype,G),Object.defineProperty($,"prototype",{writable:!1}),z}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(b){var v=-1,A=b==null?0:b.length;for(this.clear();++v<A;){var _=b[v];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(b){var v=-1,A=b==null?0:b.length;for(this.clear();++v<A;){var _=b[v];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(b){var v=-1,A=b==null?0:b.length;for(this.clear();++v<A;){var _=b[v];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,b=g==null?0:g.length;for(this.__data__=new u;++m<b;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function b(v){var A=this.__data__=new u(v);this.size=A.size}b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=m,a.exports=b},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),b=Object.prototype.hasOwnProperty;a.exports=function(v,A){var _=h(v),S=!_&&d(v),x=!_&&!S&&p(v),w=!_&&!S&&!x&&m(v),E=_||S||x||w,C=E?u(v.length,String):[],j=C.length;for(var L in v)!A&&!b.call(v,L)||E&&(L=="length"||x&&(L=="offset"||L=="parent")||w&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||g(L,j))||C.push(L);return C}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,b,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,b,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),b=c(4144),v=c(6719),A="[object Arguments]",_="[object Array]",S="[object Object]",x=Object.prototype.hasOwnProperty;a.exports=function(w,E,C,j,L,B){var U=m(w),P=m(E),V=U?_:g(w),R=P?_:g(E),k=(V=V==A?S:V)==S,D=(R=R==A?S:R)==S,O=V==R;if(O&&b(w)){if(!b(E))return!1;U=!0,k=!1}if(O&&!k)return B||(B=new u),U||v(w)?d(w,E,C,j,L,B):h(w,E,V,C,j,L,B);if(!(1&C)){var z=k&&x.call(w,"__wrapped__"),$=D&&x.call(E,"__wrapped__");if(z||$){var G=z?w.value():w,H=$?E.value():E;return B||(B=new u),L(G,H,C,j,B)}}return!!O&&(B||(B=new u),p(w,E,C,j,L,B))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,b=Object.prototype,v=m.toString,A=b.hasOwnProperty,_=RegExp("^"+v.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(S){return!(!h(S)||d(S))&&(u(S)?_:g).test(p(S))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,b,v,A){var _=1&m,S=p.length,x=g.length;if(S!=x&&!(_&&x>S))return!1;var w=A.get(p),E=A.get(g);if(w&&E)return w==g&&E==p;var C=-1,j=!0,L=2&m?new u:void 0;for(A.set(p,g),A.set(g,p);++C<S;){var B=p[C],U=g[C];if(b)var P=_?b(U,B,C,g,p,A):b(B,U,C,p,g,A);if(P!==void 0){if(P)continue;j=!1;break}if(L){if(!d(g,function(V,R){if(!h(L,R)&&(B===V||v(B,V,m,b,A)))return L.push(R)})){j=!1;break}}else if(B!==U&&!v(B,U,m,b,A)){j=!1;break}}return A.delete(p),A.delete(g),j}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),b=u?u.prototype:void 0,v=b?b.valueOf:void 0;a.exports=function(A,_,S,x,w,E,C){switch(S){case"[object DataView]":if(A.byteLength!=_.byteLength||A.byteOffset!=_.byteOffset)return!1;A=A.buffer,_=_.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=_.byteLength||!E(new d(A),new d(_)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+A,+_);case"[object Error]":return A.name==_.name&&A.message==_.message;case"[object RegExp]":case"[object String]":return A==_+"";case"[object Map]":var j=g;case"[object Set]":var L=1&x;if(j||(j=m),A.size!=_.size&&!L)return!1;var B=C.get(A);if(B)return B==_;x|=2,C.set(A,_);var U=p(j(A),j(_),x,w,E,C);return C.delete(A),U;case"[object Symbol]":if(v)return v.call(A)==v.call(_)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,b,v){var A=1&g,_=u(h),S=_.length;if(S!=u(p).length&&!A)return!1;for(var x=S;x--;){var w=_[x];if(!(A?w in p:d.call(p,w)))return!1}var E=v.get(h),C=v.get(p);if(E&&C)return E==p&&C==h;var j=!0;v.set(h,p),v.set(p,h);for(var L=A;++x<S;){var B=h[w=_[x]],U=p[w];if(m)var P=A?m(U,B,w,p,h,v):m(B,U,w,h,p,v);if(!(P===void 0?B===U||b(B,U,g,m,v):P)){j=!1;break}L||(L=w=="constructor")}if(j&&!L){var V=h.constructor,R=p.constructor;V==R||!("constructor"in h)||!("constructor"in p)||typeof V=="function"&&V instanceof V&&typeof R=="function"&&R instanceof R||(j=!1)}return v.delete(h),v.delete(p),j}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var b=h.call(m,g),v=m[g];try{m[g]=void 0;var A=!0}catch{}var _=p.call(m);return A&&(b?m[g]=v:delete m[g]),_}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(b){return h.call(m,b)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),b=c(346),v="[object Map]",A="[object Promise]",_="[object Set]",S="[object WeakMap]",x="[object DataView]",w=b(u),E=b(d),C=b(h),j=b(p),L=b(g),B=m;(u&&B(new u(new ArrayBuffer(1)))!=x||d&&B(new d)!=v||h&&B(h.resolve())!=A||p&&B(new p)!=_||g&&B(new g)!=S)&&(B=function(U){var P=m(U),V=P=="[object Object]"?U.constructor:void 0,R=V?b(V):"";if(R)switch(R){case w:return x;case E:return v;case C:return A;case j:return _;case L:return S}return P}),a.exports=B},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var b=m.__data__;if(!d||b.length<199)return b.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(b)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(b){return d(b)&&p.call(b,"callee")&&!g.call(b,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],b=0;!g&&b<h.length;b++)g=d[h[b]+"Request"+p],m=d[h[b]+"Cancel"+p]||d[h[b]+"CancelRequest"+p];if(!g||!m){var v=0,A=0,_=[];g=function(S){if(_.length===0){var x=u(),w=Math.max(0,16.666666666666668-(x-v));v=w+x,setTimeout(function(){var E=_.slice(0);_.length=0;for(var C=0;C<E.length;C++)if(!E[C].cancelled)try{E[C].callback(v)}catch(j){setTimeout(function(){throw j},0)}},Math.round(w))}return _.push({handle:++A,callback:S,cancelled:!1}),A},m=function(S){for(var x=0;x<_.length;x++)_[x].handle===S&&(_[x].cancelled=!0)}}a.exports=function(S){return g.call(d,S)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}o.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return o.d(l,{a:l}),l},o.d=(a,l)=>{for(var c in l)o.o(l,c)&&!o.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var s={};return(()=>{o.d(s,{default:()=>_});var a=o(8156),l=o.n(a),c=o(7403),u=o(8446),d=o.n(u);function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h(S)}function p(S,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,v(E.key),E)}}function g(S,x){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(S,x)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function b(S){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},b(S)}function v(S){var x=function(w,E){if(h(w)!=="object"||w===null)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var j=C.call(w,"string");if(h(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(S);return h(x)==="symbol"?x:String(x)}var A=function(S){(function(B,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(U&&U.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),U&&g(B,U)})(L,S);var x,w,E,C,j=(E=L,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var B,U=b(E);if(C){var P=b(this).constructor;B=Reflect.construct(U,arguments,P)}else B=U.apply(this,arguments);return function(V,R){if(R&&(h(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(V)}(this,B)});function L(){var B,U,P,V;(function(O,z){if(!(O instanceof z))throw new TypeError("Cannot call a class as a function")})(this,L);for(var R=arguments.length,k=new Array(R),D=0;D<R;D++)k[D]=arguments[D];return U=m(B=j.call.apply(j,[this].concat(k))),V={instance:null},(P=v(P="state"))in U?Object.defineProperty(U,P,{value:V,enumerable:!0,configurable:!0,writable:!0}):U[P]=V,B}return x=L,(w=[{key:"componentDidMount",value:function(){var B=this,U=new c.default(this.typewriter,this.props.options);this.setState({instance:U},function(){var P=B.props.onInit;P&&P(U)})}},{key:"componentDidUpdate",value:function(B){d()(this.props.options,B.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var B=this,U=this.props.component;return l().createElement(U,{ref:function(P){return B.typewriter=P},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(x.prototype,w),Object.defineProperty(x,"prototype",{writable:!1}),L}(a.Component);A.defaultProps={component:"div"};const _=A})(),s.default})())})(MB);var Q1e=MB.exports;const jB=yr(Q1e);function J1e({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(X1e,{children:[f.jsx(rg,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:pe.colors.players[e].perfect.fill}),f.jsx(rg,{score:n>0?r.perfect:0,maxScore:i.perfect,color:pe.colors.players[e].stroke}),f.jsx(rg,{score:n>1?r.star:0,maxScore:i.star,color:pe.colors.players[e].starPerfect.stroke}),f.jsx(rg,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:pe.colors.players[e].perfect.stroke}),f.jsx(Z1e,{children:n<5&&f.jsx(jB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const X1e=I("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),Z1e=I("span",{target:"ejw0p7o0"})("position:absolute;",ze,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function ebe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:o=!0,revealHighScore:s,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(tbe,{children:[f.jsx(ibe,{children:f.jsxs(rbe,{"data-win":s&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(nbe,{color:o?pe.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(IE,{preserveValue:!0,end:c,formattingFn:pB.format,duration:a<5?1:.5})]})}),f.jsx(J1e,{playerNumber:e,player:t,segment:a}),f.jsx(obe,{"data-highscore":s&&u(t.name),children:"High score!"})]})}const tbe=I("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),nbe=I("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),rbe=I(Xv,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",pe.colors.text.active,";}"),ibe=I("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),obe=I(VD,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",Fv,";opacity:1;}transition:400ms;");function sbe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,o]=y.useState(-1);y.useEffect(()=>{if(i<0)o(0);else if(i<4){const p=setInterval(()=>{o(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const s=i>3,a=()=>{s?e():(_n.capture("animation_skipped"),o(5))};rc({accept:a},!0,[i]);const l=y.useMemo(()=>({accept:"Next"}),[]);ed(l,!0);const c=r.mode===Br.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>Xx(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(abe,{children:[f.jsx(lbe,{children:u.map((p,g)=>f.jsx(ebe,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(cbe,{onClick:a,focused:!0,"data-test":s?"highscores-button":"skip-animation-button",children:s?"Next":"Skip"}),Ro.getPermissionStatus()&&f.jsx(ube,{})]})}const abe=I("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),lbe=I("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),cbe=I(Wo,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),ube=I(H1e,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function dbe(){return y.useMemo(()=>JSON.parse(Ve.session.getItem(_u))??[],[])}function fbe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const o=y.useRef(null),[s,a]=y.useState(""),l=dbe(),c=()=>{s.trim().length&&s.trim()!==e.name&&r(n,e.score,e.name,s)};return f.jsx(lB,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:s,label:"",ref:o,...t(`highscore-rename-${i}`,()=>{var u;return(u=o.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function hbe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Kn(),o=K0e(r);return f.jsxs(f.Fragment,{children:[f.jsx(pbe,{"data-test":"highscores-container",children:t.map((s,a)=>f.jsxs(gbe,{isCurrentSing:s.singSetupId===n.id,children:[f.jsx(mbe,{children:a+1}),f.jsx(vbe,{className:"ph-no-capture",children:s.singSetupId===n.id?f.jsx(fbe,{index:a,score:s,register:i,singSetupId:n.id,onSave:o}):s.name}),f.jsx(ybe,{children:f.jsx(rx,{score:s.score})}),f.jsx(Abe,{children:Mo(s.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(bbe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const pbe=I("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),gbe=I("div",{target:"e1kq1u2t5"})("position:relative;",ze,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),mbe=I("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",pe.colors.text.active,";"),vbe=I("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),ybe=I("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),Abe=I("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),bbe=I(Wo,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function _be({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:o,singSetup:s}){const[a]=Ge(m0);Ja(!0);const[l,c]=y.useState("results");return f.jsxs(PD,{songData:e,width:t,height:n,children:[f.jsxs(xbe,{children:[l==="results"&&f.jsx(sbe,{onNextStep:()=>c("highscores"),players:i,singSetup:s,highScores:o}),l==="highscores"&&f.jsx(hbe,{onNextStep:r,singSetup:s,highScores:o,song:e}),f.jsx(Sbe,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(wbe,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const xbe=I("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),Sbe=I(U1e,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),wbe=I("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",ze,";");function Ebe(e){const[t,n,r,i]=kbe(e);return Cbe(t,n,r,i)()}function kbe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let o=0,s;o<e.length;o++)s=e.charCodeAt(o),t=n^Math.imul(t^s,597399067),n=r^Math.imul(n^s,2869860233),r=i^Math.imul(r^s,951274213),i=t^Math.imul(i^s,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Cbe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const Tbe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],gM=new Date("2016-01-01").getTime(),Ibe=new Date("2024-01-07").getTime(),ZA=5;function Rbe(e,t){const n=WE(e);return y.useMemo(()=>{const i=[...Tbe];return[...Array.from({length:ZA},(s,a)=>{const l=Ebe(e.id+a),c=6e5+14e5/(ZA-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:zo()?c/1e3:c,date:new Date((Ibe-gM)*l+gM).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:s})=>s.mode===t.mode&&s.tolerance===t.tolerance).map(s=>s.scores.map(a=>({...a,date:s.date,singSetupId:s.setup.id}))).flat())??[]].sort((s,a)=>a.score-s.score).slice(0,ZA)},[e.id,n,t])??[]}function Pbe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const o=Rbe(e,i),s=y.useMemo(()=>Oe.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:Be.getPlayerDetailedScore(a.number)})),[]);return f.jsx(ea,{children:f.jsx(_be,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:s,highScores:o})})}function Mbe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){UD(),HD();const i=y.useRef(null),o=AD(e.id),{width:s,height:a}=qh(),[l,c]=y.useState(!1),[u,d]=y.useState(!0),[h,p]=y.useState(Nn.UNSTARTED),[g,m]=y.useState(!1);return qa(!g),y.useEffect(()=>{u&&o.data&&(g||h!==Nn.UNSTARTED)&&d(!1)},[o.data,g,h,u]),l&&o.data?f.jsx(Pbe,{width:s,height:a,song:o.data,onClickSongSelection:n,singSetup:t}):f.jsx(ea,{children:f.jsxs(jbe,{children:[f.jsxs(Obe,{visible:u,"data-test":"background-container",children:[f.jsx(Lbe,{video:e.video,width:s,height:a}),f.jsx(Nbe,{"data-test":"song-artist",children:e.artist}),f.jsx(Dbe,{"data-test":"song-title",children:e.title}),f.jsx(jye,{onFinish:()=>{var b;m(!0),(b=i.current)==null||b.play()}})]}),o.data&&f.jsx(z1e,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:o.data,width:s,height:a,autoplay:!1,onSongEnd:()=>{var A;const b=((A=Be.getSingSetup())==null?void 0:A.mode)===Br.CO_OP?[{name:Oe.getPlayers().map(_=>_.getName()).join(", "),score:Be.getPlayerScore(0)}]:Oe.getPlayers().map(_=>({name:_.getName(),score:Be.getPlayerScore(_.number)})),v=Be.getSongCompletionProgress();ee.songEnded.dispatch(o.data,t,b,v),c(!0)},singSetup:t,restartSong:r})]})})}const jbe=I("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),Obe=I("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),Vbe=I("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),Lbe=e=>f.jsx(Vbe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),Nbe=I(QE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),Dbe=I(ey,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function Bbe(){const e=Z0("song"),[t,n]=y.useState(null),[r,i]=y.useState(e??null),[o,s]=y.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",uh(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",sc.flushSync(()=>{n(l)})}),dS.play(!1)};return UD(),f.jsxs(f.Fragment,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(ME,{children:t?f.jsx(Mbe,{restartSong:()=>{Ro.restartRecord(),s(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},o):f.jsx(Iye,{onSongSelected:a,preselectedSong:r})})]})}const mM=I("div",{target:"e1x9yhuz2"})({name:"1259b8f",styles:"@media (hover: hover){display:none;}"}),vM=I("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"});var $be=y.createContext({client:_n}),Fbe=function(){var e=y.useContext($be).client;return e};function zbe(e){var t=Fbe(),n=y.useState(),r=n[0],i=n[1];return y.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const Ube="/prs/299/assets/screenshot1-DaCeVKxL.webp",Hbe="/prs/299/assets/screenshot2-BGzMpznM.webp",Gbe="/prs/299/assets/screenshot3-uopWyjAi.webp",qbe=["3-uPAP30NuU","K8PpV3yK5iA","54PHdAEmJkM","z-52QAImb_A","hmE9f-TEutc","94Rq2TX0wj4","1uHNygqhBCs","qDc_5zpBj7s","KUmZp8pR1uc","VoPzP-MwcLI","PkzJgGZBFDg","CocEMWdc7Ck","erssX76HEws","VV1XWJN3nJo","kQDw88hEr2c","dvgZkm1xWPE","2uQhdDtdXg0","vdrqA93sW-8","XS088Opj9o0","UAsTlnjvetI","JjGf5193UZg","ILW7KHIXKO0","b-RQIN3wo5U","L3wKzyIN1yk","s5XBxlO0EF0","dyRsYk0LyA8","tjA7nAHOAww","3JWTaaS7LdU","eQWG8BVeryU","tbneQDc2H3I","eVli-tstM5E","UKp2CrfmVfw","pB-5XG-DbAA","vUqYEh5gJ_c","CD-E-LDc384","QtTR-_Klcq8","iAP9AF6DCu4","qIt6KCwlFPw","GTyN-DB_v5M","mxkHG08weUk","bdOXnTbyk0g","pXRviuL6vMY","N5EnGwXV_Pg","CA8YyvoGdJc","31crA53Dgu0","kjWG0oNpWog","azdwsXLmrHE","c_5AbgHmFqk","ygneL83Adu4","TkPbJIlEXow","ijnTVc-Lg0w","DCCJCILiX3o","DTmEmsJgh0I","URKEvZxdgZQ","2p_7338B5ow","Lq6-e8X_c_k","Fn1h3AQk_TQ","a58T9tXnsfQ","oNjQXmoxiQ8","cE6wxDqdOV0","ewRjZoRtu0Y","By_JYrhx-WY","sRxrwjOtIag","S_E2EHVxNAE","ScNNfyq3d_w","E2N6UahtzK4","YyahxJAYYfY","wTZ7A-h8yTs","a01QQZyl-_I","EqQuihD0hoI","k6jqx9kZgPM","HcVv9R1ZR84","ViP87WipSm0","g8Ezl7xucCU","l0vcJ4Tb8FM","GDEDQ8TCzW8","kIDWgqDBNXA","L8eRzOYhLuw","Rbm6GXllBiw","WM07EUKlXyA","Zz-DJr1Qs54","p6wfblmbeds","Oa_RSwwpPaA","YTYh3rbXDlY","CAL4WMpBNs0","4JkIs37a2JE","0saw1cGIl1A","Y4nEEZwckuU","fc15NK89NjI","acIU7yxzJ70","HZwMX6T5Jhk","47Fbo4kU2AU","cddQn1mZRfI","qaZ0oAh4evU","kWRhdN2XusA","0CGVgAYJyjk","zBG-sEGlULs","qrO4YZeyl0I","uBwk106e3es","FGBhQbmPwH8","KEI4qSrkPAs","-0skjm-uJSs","jY48iTyLrmk","2lvs2FzF64o","5NPBIwQyPWE","rog8ou-ZepE","zAB5AC9yhY0","5W6Is98o510","mvFWDUhzrSo","vPzDTfIb0DU","PHzOOQfhPFg","EDnIEWyVIlE","BLmypIo-wFY","e8X3ACToii0","ffxKSjUwKdU","kmg8EAD-Kjw","zABLecsR5UE","8Ty9o6r-gXM","kV2CURXYKy4","X9YMU0WeBwU","z_aC5xPQ2f4","qq09UkPRdFY","GKlpL4FhzUs","6Whgn_iE5uc","DPMjsfJwUow","X0lkrxFuGr8","mU3vgXUKeFM","ZJL4UGSbeFg","WXR-bCF5dbM","XsX3ATc3FbA","y-jC3H_8Dk4","0G3_kG5FFfQ","WrcwRt6J32o","bn_p95HbHoQ","tR-qQcNT_fY","t_jHrUE5IOk","OMHHUsQRmvo","OE2qEpkWWoQ","KBwPhW2sNdM","6M6samPEMpM","8bbTtPL1jRs","LkIWmsP3c_s","1G4isv_Fylg","4-43lLKaqBQ","zlmRGWNJE3c","wCQfkEkePx8","xLYiIBCN9ec","PDSkFeMVNFs","uF9mRDW6Gg8","liwCttfeJ7E","XTPGpBBwt1w","0J3vgcE5i2o","AcMUULoT_jk","ZnDmmiiFSUU","08PszRp2cBg","oxPWVX-qSrQ","nYnLVWXmRm8","vIhQ9zya2-g","zRIbf6JqkNc","fJ9rUzIMcZQ","ukW82Ico4U0","KluzKnEapkA","0Fe5ZlMOf7s","xxfkLWaHeZY","F90Cw4l-8NY","fWNaR-rxAic","IvN5h9BE444","Ho32Oh6b4jc","tkzY_VwNIek","tt2k8PGm-TI","vx2u5uUu3DE","9rlNpWYQunY","ff0oWESdmH0","iKBCVZqqooY","NUTGr5t3MoY","iS1g8G_njx8","E_jWcIDqXq0","1xJbdY9B3A8","RSNmgE6L8AU","8BYKpQ_6GbM","-5Ri8GY57SI","FJfFZqTlWrQ","iyZJ_aMw5hY","ruyaKdPfTN4","XeraDSzu0nw","t5Sd5c4o9UM","G8CFuZ9MseQ","-YoK0rosR2I","WICybxYndzA","L4-5uWCcTWA","Iz8GGGrH5s4","zUwEIt9ez7M","WbsDPbr8qoM","eVG4Ix9GgFg","bnzymu58Gn4","3zkECb2QqXU","XpWnh5ETW2w","2mVZvFZSCy4","k-t4vqd534Y","9WbCfHutDSE"],Wbe=["Sarah McLachlan","Vitamin C","Ed Sheeran and Justin Bieber","Awolnation","Grease (John Travolta & Olivia Newton-John)","Shakira feat. Carlinhos Brown","Marina & The Diamonds","Placebo","Les Misrables","Against The Current","Kendrick Lamar feat. Drake","Jonathan Coulton","Mitski","Janet Jackson","3OH!3 feat. Ke$ha","Sinad OConnor","Paris Hilton","Bryce Pinkham","Kings Of Leon","OneRepublic","Melanie Thornton","Culture Club","R. City feat. Adam Levine","Shania Twain","The Cranberries","Dean Martin","Panic! at the Disco","Jet","Arctic Monkeys","Simon & Garfunkel","The Anxiety (Willow & Tyler Cole)","NewJeans; League of Legends","Lady Antebellum","Sara Bareilles","3 Doors Down","Alphaville","Hollywood Undead","Katy Perry","Mtley Cre","Anna Naklab feat. Alle Farben & YouNotUs","Doja Cat feat. SZA","Imagine Dragons x JID","The Animals","The Police","Mika","Chris Brown","Paula Abdul","Fetty Wap","Jack White","Cynthia Harrell","Danzel","Bowling For Soup","Jessie J feat. Ariana Grande & Nicki Minaj","Banana minnions family","Lordi","Elena Siegman","LMFAO, Lauren Bennett & Goon Rock","The Bloodhound Gang","Hailee Steinfeld","System Of A Down","David Guetta feat. Zara Larsson","P!nk feat. Nate Ruess","Darius Rucker","Clean Bandit feat. Marina & Luis Fonsi","The Living Tombstone","Serj Tankian","LP","Alyona Alyona & Jerry Heil","Tones And I","Eddie Murphy","Michelle Branch","Dai og Gagnamagni","Whitesnake","Macklemore & Ryan Lewis feat. Ray Dalton","Nicki Taylor","David Guetta feat. Flo Rida & Nicki Minaj","AURORA","Queen","Black Sabbath","Adam Lambert","Smash Into Pieces","Michael Jackson feat. Justin Timberlake","Neon Genesis Evangelion","Bebe Rexha y David Guetta","Guns N' Roses","Netta","Travie McCoy feat. Bruno Mars","Tom Jones and Mousse T.","Wiz Khalifa ft. Charlie Puth","Major Lazer & DJ Snake feat. M","Leona Lewis","Sting","The Baseballs","Van Halen","Martin Solveig & Dragonette","Deep Purple","Amy Winehouse feat. Mark Ronson","Three Days Grace","Bill Medley & Jennifer Warnes","The Weeknd","Tix","Eminem feat. Rihanna","Faith Hill","Joan Jett","K/DA ft. Madison Beer, (G)I-DLE, Jaira Burns","Hunter Hayes","Paul McCartney & Michael Jackson","Swedish House Mafia & The Weeknd","Dai Freyr","David Guetta & Chris Willis feat. Fergie & LMFAO","Stevie Wonder","Roman Lob","Lulu","John Lennon","Maroon 5 feat. Wiz Khalifa","B.o.B feat. Bruno Mars","Philip Bailey with Phil Collins","LSD","Fall Out Boy","Goo Goo Dolls","Lil Nas X","Tool","The Strokes","Chicago","Kim Petras","Kim Petras & Nicki Minaj","Cher","Anna Margaret","Dana International","twenty ne pilts","Crush 40","Marilyn Manson","Jack  (Skrillex & Diplo) with Justin Bieber","Estelle feat. Kanye West","Jimi Jamison","Bambie Thug","Roxette","Owl City & Carly Rae Jepsen","Justin Bieber","Harry Styles","Chris Brown feat. Benny Benassi","Beyonc","Deorro x Chris Brown","Nicki Minaj feat. Rihanna","Justin Timberlake","Gayle","2Pac feat. Dr. Dre & Roger Troutman","Haddaway & Jim Carrey & The Roxbury Guys","High School Musical","Rob Zombie","Marina and the Diamonds","Meduza x James Carter feat. Elley Duh + Fast Boy","The Kid LAROI feat. Justin Bieber","The Pogues feat. Kirsty MacColl","Poets Of The Fall","Pixies","The White Stripes","Disneys Phineas & Ferb (Candace Flynn)","NF","Christina Perri","Nemo","Dami Im","Stephen Sanchez","Natalie Imbruglia","Skid Row","Rihanna feat. Calvin Harris","Glen Hansard And Markta Irglov","Zedd & Foxes","Disneys Hercules","Wiz Khalifa","Britney Spears feat. Madonna","Disneys Frozen","Zara Larsson & MNEK","Bella Poarch","Shawn Mendes & Camila Cabello","Sean Kingston / Justin Bieber","Symphony X","Shakira","Eleni Foureira","Doris Day","Michael Jackson","The Smiths","Will Smith","All Time Low feat. Demi Lovato & Blackbear","Kid Cudi","Band Aid","Pitbull feat. Chris Brown","Psy feat. Suga of BTS","Dua Lipa","Petula Clark","Zara Larsson","The Vines","S Club 7","Tom Dice","Christina Aguilera feat. Redman","Jamiroquai","Radiohead","Lily Allen","Nico & Vinz","SEBalter","David Guetta feat. Kelly Rowland","Sum 41","Doja Cat","Alan Walker & Ava Max","2NE1","will.i.am feat. Eva Simons","David Guetta feat. Kid Cudi","Blackstreet feat. Dr. Dre","New Kids On The Block","Starship","Kane Brown","Man With A Mission","Disneys Mulan","Electric Callboy feat. Sido","David Guetta feat. Nicki Minaj","SZA","The Pussycat Dolls","Henry Moodie","Tom Odell","Edward Sharpe And The Magnetic Zeros","Sublime","Tracy Chapman","Nico Bruno","Phantom Planet","Cline Dion","Bad Omens","Jay Sean feat. Lil Wayne","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Barbie (Ryan Gosling)","Mumford & Sons","Rihanna feat. Mikky Ekko","Kanye West feat. Pusha T","Modern Talking","Victorious Cast feat. Victoria Justice","Alesso & Katy Perry","Sylver","Sam Ryder","Voyager","Lil Nas X feat. Billy Ray Cyrus","Kid Rock feat. Sheryl Crow","Alice Merton","Finger Eleven","Rob Thomas","Falling In Reverse","Jon Bellion","Lord Of The Lost","Ricky Martin","MELOVIN","Gym Class Heroes feat. Adam Levine","Dashboard Confessional","Daniel Caesar","Richard Marx","Sixpence None The Richer","Chris Isaak","Peter Gabriel","Alexander Rybak","Alter Bridge","Natasha Farrow","Freddie Mercury","Crusher-P feat. GUMI","Alice Cooper","Sandie Shaw","Disney's Pocahontas","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Israel Kamakawiwoole","Evanescence","O.A.R.","Mariah Carey & Whitney Houston","Tom Jones","Usher & Alicia Keys","Crowded House","Daft Punk","Alvvays","La Bouche","Hooverphonic","ZAYN feat. Sia","Hazbin Hotel","NCT 127","Ochman","The Script feat. will.i.am","Destinys Child","Rockwell","Ke$ha feat. 3OH!3","Eminem feat. Dido","Maroon 5","Teya & Salena","Slade","Sudden Lights","Grta Salme & Jnsi","Bryan Adams","Keane","Peter Gabriel & Kate Bush","Faith No More","The Rembrandts","Flo Rida feat. Sia","Men at Work","Pitbull feat. Marc Anthony","Andy Williams","Jennifer Lopez & Pitbull","Billy Joel","Little Mix feat. Stormzy","DNCE","Scissor Sisters","Ween","Eminem","Sia","The Doors","Europe","America","Manuel","Smokie","3OH!3","TheFatRat feat. Laura Brehm","Alice in Chains","League of Legends","Led Zeppelin","Olly Murs","Flo Rida feat. T-Pain","The Psychedelic Furs","LE SSERAFIM","David Guetta feat. Akon","Shakin Stevens","Disneys Descendants","Jessica Simpson","Wicked","Ellie Goulding","Fun. feat. Janelle Mone","Jordin Sparks feat. Chris Brown","Disneys Encanto","Kid Cudi feat. MGMT & Ratatat","Wham!","Powerwolf","Chenoa","Ariana Grande","Kardinal Offishall feat. Akon","Twenty One Pilots","Poets of the Fall","Britney Spears & Iggy Azalea","Disneys DuckTales 2017 (Felicia Barton)","Baby Lasagna","Amy MacDonald","Ashley Tisdale","Sophie Ellis-Bextor","Foreigner","Doki Doki Literature Club!","Christina Aguilera","Blu Cantrell","Selena Gomez & The Scene","Wheatus","Hilary Duff","Idina Menzel","KEiiNO","Spandau Ballet","Lady Gaga feat. Beyonc","Jack Black","Placebo feat. David Bowie","La La Land (Ryan Gosling & Emma Stone)","Cat Stevens","Kid Rock","R.E.M.","Selena Gomez","Pointer Sisters","The Greatest Showman","Disneys Encanto ","Hozier","Chris Rea","Florence + the Machine","Zedd feat. Selena Gomez","Toto","Disneys The Lion King","Victoria Justice & Ariana Grande","Pretenders","Netflix","Rod Stewart","AC/DC","Green Day","Iggy Pop","ATeens","Marshmello x Jonas Brothers","Olivia Newton-John","Edward Maya & Vika Jigulina","Aqua","Chris Brown feat. Rihanna","Journey","M.I.A.","Usher feat. Lil Jon & Ludacris","Lorde","Counting Crows","Joe Cocker","B.o.B feat. Hayley Williams","Rihanna","Lyn","Loc Nottet","Disneys Frozen II","SIAMS","Black Eyed Peas, Shakira","Jessie J","Brenda Lee","Slayyyter","will.i.am & Britney Spears","Daft Punk feat. Julian Casablancas","Paramore","U2","Bridgit Mendler","Mili","Madonna","Metallica","Jason Paige","Glee Cast","NCT DREAM","Ariana Grande feat. Iggy Azalea","The Cure","Blanka","Mariah Carey feat. Jay-Z","Bonnie Tyler","Timbaland feat. Keri Hilson","Tate McRae","Sun Stroke Project & Olia Tira","Texas","Carrie Underwood","Elton John","The Black Keys","Bring Me The Horizon","Ginuwine","Nickelback","The Beatles","Justin Bieber feat. Jaden Smith","Drake Bell","Anastacia","Aly & AJ","Flo Rida feat. Ke$ha","Melissa Etheridge","Brotherhood Of Man","Linkin Park","Robbie Williams","Red Hot Chili Peppers","Toni Braxton","Santana feat. Rob Thomas","Nick Jonas","Pitbull feat. Ne-Yo, Afrojack & Nayer","Taylor Swift feat. Post Malone","Interpol","Run DMC","Frankie Goes To Hollywood","Ultravox","Hazbin Hotel (Black Gryph0n & Baasik)","No Doubt","The Blues Brothers","Portal","Mumford and Sons","Girls Generation (SNSD)","Noah Kahan","Martin Garrix feat. Bonn","Disneys Phineas & Ferb (Phineas Flynn, Candace Flynn)","Lipps, Inc.","Josh Groban","BLACKPINK & Selena Gomez","Remo Forrer","Hootie & The Blowfish","Avril Lavigne","Reba McEntire with Brooks & Dunn","KISS","George Ezra","The Rolling Stones","Jagwar Twin","Kenya Grace","Good Charlotte","Whitney Houston","Frankie Valli","Gustaph","Shakira feat. Dizzee Rascal","Enrique Iglesias feat. Pitbull","The Neighbourhood","Miley Cyrus","Lizzo","Neil Young","Empire Of The Sun","Billy Talent","Ruslana","Hera Bjrk","Ben Doli","Coolio feat. L.V.","Dio","Pink Floyd","Shaggy feat. RikRok","Corinne Bailey Rae","The Ronettes","Michael Schulte","The Killers","Amy Winehouse","The Calling","The Postal Service","Silk Sonic - Bruno Mars & Anderson .Paak","Marshmello & Bastille","Rainbow","The Proclaimers","P!nk","TLC","Vanessa Hudgens","Tiffany","Mika feat. Ariana Grande","Little Big","Himesh Patel","Kaleen","Meatloaf","3OH!3 feat. Katy Perry","Phil Collins","Bryan Adams, Rod Stewart & Sting","Getter Jaani","Bee Gees","Sabaton","SING (Taron Egerton)","4 Non Blondes","Martina McBride","Maroon 5 feat. Christina Aguilera","Tina Turner","Coldplay","Scorpions","Gwen Stefani Feat Akon","RuPaul","Pharrell Williams","Loreen","Ghost","Cliff Richard","Teach-In","Bucks Fizz","Slipknot","Tove Lo","Rihanna feat. Drake","Olsen Brothers","Vanilla Ice","Hillsong United","Ben E. King","Flo Rida","Benny Cristo","Spice Girls","Tyler, The Creator","Gina G","Rag'n'Bone Man","Billy Boyd","Jason Mraz","Johnny Logan","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Drake feat. Wizkid & Kyla","Cheryl Cole","Secondhand Serenade","Mark Ronson ft  Miley Cyrus","Third Eye Blind","Beyonc feat. Jay-Z","Bob Marley & The Wailers","Asking Alexandria","Snow Patrol","Rasmussen","Corey Hart","Lana Del Rey feat. The Weeknd","Michael Bubl","Arcade Fire","Marillion","James Morrison feat. Nelly Furtado","Coldplay feat. Beyonc","Don McLean","Stella Mwangi","Mariah Carey","Jimmy Eat World","Guns N Roses","Rhapsody","Gandalf","Frank Sinatra","Nelly Furtado","Cornelia Jakobs","Miley Cyrus & Jessie J","Christina Milian","Julie and the Phantoms","Disneys Kim Possible (Christina Milian)","Lykke Li","Adele","Vanessa Williams","Soundgarden","Rise Against","Barei","Nightwish","Mark Ronson feat. Bruno Mars","Ren","Usher feat. Pitbull","Jay-Z feat. Rihanna & Kanye West","Britney Spears feat. Tinashe","Patrice Rushen","Sara Evans","Backstreet Boys","Rosa Linn","Ike & Tina Turner","Olivia Rodrigo","Into the Woods","AaRON","Selena Gomez x Marshmello","The Rasmus","Boyz II Men","Dolly Parton","NIKI","Cailin Russo & Chrissy Costanza","Elton John & Dua Lipa","Subwoolfer","Beyonc & Shakira","Ice Cube","Electric Light Orchestra","Kaiser Chiefs","Disturbed","Nicki Minaj","Far East Movement feat. The Cataracs & DEV","Ariana Grande feat. Zedd","JoJo","PinkPantheress & Ice Spice","Parry Gripp & Brianne Drouhard","Daisuke Ishiwatari","Nirvana","Steven Curtis Chapman","The Jacksons","Zoe Wees","ABBA","SiM","Jennifer Lopez","Demi Lovato feat. Cher Lloyd","Justin Bieber & Nicki Minaj","Hailee Steinfeld feat. DNCE","Nelly Furtado feat. Timbaland","Disneys High School Musical 3","Rihanna, Kanye West & Paul McCartney","Manowar","Daughtry","Stone Temple Pilots","Kim Wilde","Xavier Rudd","Lady Gaga feat. Colby O'Donis","A Great Big World","Justin Bieber & Ludacris","Prince and the Revolution","Johnny Cash","LeAnn Rimes","Kanye West feat. Young Jeezy","Aram MP3","Britney Spears","New Order","Genesis","Disney's Moana","The Offspring","Maria Yaremchuk","Disneys Moana (Dwayne Johnson)","Ashanti","Shawn Mendes","Post Malone","Kanye West feat. Various Artists","FIFTY FIFTY","Baccara","Rick Astley","Montaigne","Hole","Nick Cave & The Bad Seeds + Kylie Minogue","Ava Max","Metro Station","David Guetta feat. Justin Bieber","Enrique Iglesias","Katrina And The Waves","Dave Rodgers","Kate Bush","Soulja Boy Tellem feat. Sammie","Kay Starr","Vengaboys","Les Fatals Picards","Ashlee Simpson","Katy Perry feat. Nicki Minaj","Yohanna","The Kelly Family","Will Ferrell & Rachel McAdams","The Cardigans","A Perfect Circle","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","The Temptations","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Camp Rock 2","Matt Redman","Jim Croce","Cyndi Lauper","Lana Del Rey","will.i.am feat. Justin Bieber","Wham","LazyTown","Silia Kapsis","David Archuleta","Nathan Evans","Willie Nelson and Merle Haggard","Fountains Of Wayne","Sabrina Carpenter","Ne-Yo","Depeche Mode","Magic!","DragonForce","Gotye & Kimbra","Morandi","Katy Perry feat. Kanye West","Ray Parker Jr.","The Jackson 5","Margaret Berger","David Guetta & Sia","Olly Murs feat. Flo-Rida","Miracle Of Sound","Reba McEntire & Kelly Clarkson","Wilson Phillips","Tears For Fears","The Makemakes","Meghan Trainor","Set It Off","Chumbawamba","Dido","Survivor","Mariah Carey & Boyz II Men","Hailee Steinfeld & Grey feat. Zedd","Inna","Elton John & RuPaul","Rihanna & Ne-Yo","Alec Benjamin","Radical Face","Blur","Alannah Myles","Take That","One Direction","Joy Division","Breaking Benjamin","Bikini Kill","A Day to Remember","Shinedown","Akon","Eric Saade","Coldplay x BTS","Kaleo","Jojo","Diana Ross","Rusted Root","David Guetta feat. Usher","Scooter vs. Marc Acardipane & Dick Rules","Jay-Z feat. Alicia Keys","Tenacious D","Matchbox Twenty","Conchita Wurst","Huey Lewis & The News","Malik Harris","USA for Africa","Madcon","REO Speedwagon","The BossHoss","Fleetwood Mac","Lea Salonga and Brad Kane","Jay Sean feat. The Rishi Rich Project","Rihanna feat. Jay-Z","Jason Derulo","Fredi and Friends","Foster The People","Chappell Roan","Big Time Rush","Martin Solveig & GTA","Shakira feat. Wyclef Jean","Avicii","Bob Seger & The Silver Bullet Band","Aerosmith","Electric Callboy","Akon feat. Kardinal Offishall & Colby ODonis","Mandaryna","John Waite","The Chainsmokers & Coldplay","Midnight Oil","Extreme","blink-182","Katy Perry feat. Migos","The Who","Bruno Mars","Lady Gaga & Ariana Grande","Chris Brown feat. Justin Bieber","Hamilton","Mae Muller","Abby Trott","Avicii feat. Sandro Cavazza","Kings of Leon","Justin Bieber feat. Usher","Deadmau5 & Kaskade","Usher & Pitbull","Ricky Martin with Christina Aguilera","The Darkness","Ariana Grande feat. Future","Taylor Swift","Chuck Berry","Drake","Marvin Gaye & Tammi Terrell","Verka Serduchka","Srbuk","My Little Pony","Bradley Cooper & Lady Gaga","Foo Fighters","Boney M","Lionel Richie","John Mayer","Owl City","Yazoo","BTS","Jay Sean feat. Sean Paul & Lil Jon","Alessandra","Camila Cabello ft. Ed Sheeran","David Guetta feat. Nicki Minaj & Afrojack","Jay Sean","Amy Grant","Ariana Grande feat. Mac Miller","Hoobastank","Steindi","Young The Giant","Natasha Bedingfield","Rage Against The Machine","Simply Red","The Common Linnets","Sam Smith","Gloria Gaynor","The Kid Laroi & Justin Bieber","P!nk feat. Lily Allen","N Sync","Joan Jett & The Blackhearts","Drowning Pool","Lindsey Stirling feat. Becky G","David Bowie","Kylie Minogue","Bobby Helms","Max Coveri","Sugababes","Tally Hall","Lucy Hale","The Black Eyed Peas","Justin Bieber feat. Big Sean","Alessia Cara","Lenny Kravitz","Britney Spears / Elton John","My Chemical Romance","Terence Trent DArby","No Secrets","Billie Eilish","Little Mix","Clean Bandit feat. Zara Larsson","Elvis Presley","Marshmello & Anne-Marie","Christina Aguilera, Lil Kim, Mya & P!nk (Moulin Rouge)","Calum Scott","Rupert Holmes","Cutting Crew","Plain White Ts","Beastie Boys","Lifehouse","Richard Marx & Donna Lewis","Fergie","Jesse McCartney","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Aretha Franklin & The Blues Brothers Band","Smash Mouth","Fun.","Fools Garden","Oasis","Justin Bieber & Benny Blanco","Cascada","Andrew Lambrou","James Blunt","Manchester Orchestra","Joji","RAFA","B52s","deadmau5 feat. Chris James","Emmelie de Forest","Lil Dicky","Bruno Mars & Cardi B","KoRn","Alanis Morissette","Flo Rida feat. David Guetta","Rage Against the Machine","Colbie Caillat","Brandy & Monica","Kendrick Lamar","Charlie Puth","Jennette McCurdy","Kelly Clarkson","Ashley Tisdale (The Little Mermaid)","Ba","The Village People","The Mamas & The Papas","Bing Crosby","Sean Kingston","Enya","Katy Perry feat. Snoop Dogg","Timbaland presents OneRepublic","5 Seconds of Summer","Phoebe Bridgers","Ed Sheeran and Elton John","Gwen Stefani & Eve","Kellie Pickler","Duncan Laurence","M83 feat. Susanne Sundfr","Franz Ferdinand","Post Malone & Swae Lee","Eurythmics","Ylvis","We Are Domi","BTS feat. Desiigner","ZZ Top","Moulin Rouge","Meat Loaf","Vampire Weekend","Audioslave","Simple Plan","Charlie Puth & Selena Gomez","Bon Jovi","Gorillaz","Hanson","Destiny","Camila Cabello feat. Daddy Yankee","Dean Lewis","Marcus & Martinus","Benson Boone","Passenger","Anitta","Helena Paparizou","Marc Cohn","deadmau5 feat. Gerard Way","Rascal Flatts","Babymetal x Electric Callboy","Paul Simon","Daryl Hall & John Oates","The Tony Rich Project","KT Tunstall","Melanie Martinez","Duck Sauce","Vanessa Carlton","The Little Mermaid","RagnBone Man","La Roux","The Smashing Pumpkins","Chingiz","Lady Gaga","Alan Walker","Pitbull feat. T-Pain","Rufus Wainwright","Macklemore & Ryan Lewis feat. Wanz","Billie Eilish & Khalid","Ed Sheeran","Miranda Lambert","Muse","Dead Or Alive","Kanye West feat. Dwele","Drake feat. Rihanna","The Cinematic Orchestra","Daft Punk feat. Pharrell Williams & Nile Rodgers","Utada Hikaru","Borislav Slavov (Baldur's Gate 3)","Rednex","Imagine Dragons","Savage Garden","David Guetta feat. Rihanna","Psychostick","Shakira feat. Rihanna","Disney's Aladin","ALIKA","Akon feat. Eminem","Rihanna feat. Eminem","Taio Cruz","Alicia Keys","SMiLE.dk","LMFAO","Queen & David Bowie","The Black Eyed Peas Feat. Justin Timberlake","System of a Down","Mns Zelmerlw","Usher","The Clash","Lewis Capaldi","Bastille","Daft Punk Feat. Todd Edwards","Morgan Wallen","Teddy Swims","Ariana Grande & The Weeknd","Mneskin","Dire Straits","Demi Lovato","The Script","Creed","Blink 182","David Cook","Skillet","The Weeknd feat. Daft Punk","Shawn Mendes, Camila Cabello","Soul Asylum","We The Kings feat. Demi Lovato","Boney M.","Metric","George Michael","Technotronic feat. Felly","The Eagles","Thirty Seconds to Mars","Terri Clark","Westlife","Blondie","Mamma Mia! (Movie)","Carly Rae Jepsen","The Kid Laroi & Miley Cyrus","Daniel Powter","Pearl Jam","Creedence Clearwater Revival","James Newton Howard feat. Jennifer Lawrence","Rihanna feat. Jeezy","Weezer","Eva Rivas","Calvin Harris feat. Rihanna","Bellamy Brothers","Madcon feat. Ray Dalton","David Guetta feat. Chris Willis","Five For Fighting","Post Malone feat. 21 Savage","Victoria Justice","Blanche","SLANDER feat. Dylan Matthews","The Chainsmokers feat. Halsey","Lena","Shakira ft. Freshlyground","Windows95man","John Legend","Eric Clapton","a-ha","Kanye West","Alice In Chains","Disney's Tangled","TheFatRat","Mandy Moore","Jewel","ISAAK","The Kooks","The Fray","Avenged Sevenfold","Sheryl Crow","Idina Menzel with Michael Bubl","The Weeknd feat. Ariana Grande","Donna Summer","Lynyrd Skynyrd","Ke$ha","Usher feat. will.i.am"],Kbe=["Polish","Korean","English","Japanese","Spanish","Estonian","Swedish","Indonesian","French","German","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","Armenian","Romanian","Lithuanian","Latvian","Chinese"],Ybe=3006,Gd={videoIds:qbe,artists:Wbe,languages:Kbe,songs:Ybe},Qbe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Jbe(){const[e]=Ge(Ex),t=ui(),n=zbe(wx.Shrek);qa(!0);const r=e===null?"quick-setup/":"menu/";Lr("enter",()=>{t(r)},[r]);const[i,o]=y.useState(!1);return y.useEffect(()=>{const s=setTimeout(()=>{o(!0)},4e3);return()=>clearTimeout(s)},[]),f.jsxs(ea,{toolbar:!1,children:[f.jsx(Ti,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(JN,{}),f.jsxs(n_e,{children:[f.jsx(vM,{children:f.jsxs(Xbe,{children:[f.jsx(dD,{}),f.jsx(kE,{})]})}),f.jsx(vM,{children:f.jsx($r,{to:r,children:f.jsx(e1,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(Zbe,{children:[f.jsxs(OB,{children:[f.jsxs(e_e,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(Id,{children:[" ",f.jsx("strong",{children:Qbe.format(Gd.songs)})," songs in"," ",f.jsx("strong",{children:Gd.languages.length})," languages",f.jsxs(Rd,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(jB,{options:{strings:Gd.artists,autoStart:!0,loop:!0,delay:100}}):Gd.artists.at(-1)})]})]}),f.jsxs(Id,{children:[" Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(Rd,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(Id,{children:[" Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(Rd,{children:"No need to download an app"})]}),f.jsxs(Id,{children:[" Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(Rd,{children:"When using phones as microphones"})]}),f.jsxs(Id,{children:[" ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(Rd,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(t_e,{children:[f.jsx("img",{src:Ube,alt:"Song list screen"}),n==="test"?f.jsx("img",{src:Hbe,alt:"In-game screen"}):f.jsx("img",{src:Gbe,alt:"In-game screen"})]})]}),f.jsxs(i_e,{children:["Using this device as remote microphone?",f.jsx($r,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(r_e,{children:[f.jsx(mM,{children:f.jsx($r,{to:"remote-mic/",children:f.jsx(e1,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(mM,{children:f.jsx($r,{to:"quick-setup/",children:f.jsx(e1,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const Xbe=I("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),Zbe=I("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",Ff,"{width:90%;flex-direction:column;font-size:8.5rem;}",J0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),e_e=I("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",Ff,"{font-size:8.5rem;}",J0,"{font-size:4.9rem;}"),Id=I("div",{target:"e1n22rxp7"})(""),Rd=I("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),OB=I("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",ze,";"),t_e=I(OB,{target:"e1n22rxp4"})(J0,"{display:none;}",Ff,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",Ff,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),n_e=I("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",J0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",pe.colors.text.active,";}"),r_e=I("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),i_e=I("h3",{target:"e1n22rxp1"})(Ff,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),e1=I(iN,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",rN,";");function o_e(e){const t=ui(),n=()=>t("menu/"),{register:r}=Kn({onBackspace:n});return f.jsxs(Qa,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx($r,{to:"exclude-languages/",children:f.jsx(Re,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx($r,{to:"edit/list/",children:f.jsx(Re,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx($r,{to:"convert/",children:f.jsx(Re,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx($r,{to:"menu/",children:f.jsx(Re,{...r("back-button",n),children:"Return To Main Menu"})})]})}var ry={exports:{}};ry.exports=tk;ry.exports.isMobile=tk;ry.exports.default=tk;const s_e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a_e=/CrOS/,l_e=/android|ipad|playbook|silk/i;function tk(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=s_e.test(t)&&!a_e.test(t)||!!e.tablet&&l_e.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var c_e=ry.exports;const u_e=yr(c_e);function d_e(){const[,e]=Ge(Ar),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(ea,{children:f.jsx(f_e,{children:f.jsxs(h_e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(yM,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(yM,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const yM=I(Re,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),f_e=I("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),h_e=I(mo,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function p_e(e){const[t]=Ge(Ar),n=y.useMemo(()=>u_e(),[]),r=ui(),i=async o=>{var s,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(s=global.screen.orientation).lock)==null?void 0:a.call(s,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(d_e,{}):f.jsx(Qa,{children:f.jsx(GE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function g_e(e){Ja(!1);const t=ui(),n=()=>t("settings/"),{register:r}=Kn({onBackspace:n}),[i,o]=Ge(Zg),[s,a]=Ge(nj),l=ki(ee.inputListChanged,()=>et.getRemoteMics()),c=FO();return y.useEffect(()=>et.addListener(c),[c]),f.jsxs(Qa,{children:[f.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===tf-1&&(W3(u),global.location.reload())},children:"Remote Microphone Settings"}),f.jsx(vi,{...r("connection type",()=>o(ja(J6,i))),label:"Connection type",value:i}),f.jsx("hr",{}),f.jsx(vi,{...r("default-permission",()=>a(ja(S2,s))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=et.getPermission(u.id);return f.jsx(y_e,{...r(`mic-${u.id}`,()=>et.setPermission(u.id,ja(S2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(v_e,{children:[f.jsx(b_e,{children:u.id.slice(-4)}),f.jsx(__e,{children:f.jsx(m_e,{deviceId:u.id})}),f.jsx(A_e,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Re,{...r("back-button",n),children:"Return To Settings"})]})}const m_e=({deviceId:e})=>{const t=rB(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},v_e=I("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),y_e=I(vi,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),A_e=I("span",{target:"expzhs32"})(""),b_e=I("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),__e=I("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),t1=2500,x_e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*t1)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Me.eurovisionPink.text},{offset:"25%",color:Me.eurovisionYellow.text},{offset:"50%",color:Me.eurovisionPink.text},{offset:"75%",color:Me.eurovisionOrange.text},{offset:"100%",color:Me.eurovisionPink.text}];return f.jsxs("svg",{width:t1,height:t1,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,o)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},o))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},S_e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function w_e(){return qa(!1),f.jsxs(ea,{children:[f.jsxs(E_e,{children:[f.jsx(k_e,{dangerouslySetInnerHTML:{__html:S_e}}),f.jsx(VB,{children:f.jsx(kb,{})})]}),f.jsxs(T_e,{children:[f.jsx(C_e,{children:f.jsx(kb,{})}),f.jsx(kE,{}),f.jsx(I_e,{src:YD,alt:"Eurovision"})]}),f.jsx(x_e,{})]})}const E_e=I("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),VB=I("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Me.eurovisionViolet.text,`,
      `,Me.eurovisionBlue.text,`,
      `,Me.eurovisionYellow.text,`,
      `,Me.eurovisionBlue.text,`,
      `,Me.eurovisionViolet.text,`
    );}`),k_e=I("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Me.red.text,"!important;}path:nth-of-type(2){fill:",Me.blue.text,"!important;}"),C_e=I(VB,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Me.eurovisionPink.text,`,
      `,Me.eurovisionOrange.text,`,
      `,Me.eurovisionYellow.text,`,
      `,Me.eurovisionPink.text,`
    );}`),T_e=I("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Me.red.stroke,`,
    `,Me.red.hit.fill,` 49.9%,
    `,Me.blue.hit.fill,` 50.1%,
    `,Me.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),I_e=I("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),R_e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,o])=>`${i}=${String(o)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function P_e(){const[e]=Ge(Ar),[t,n]=y.useState(!1),[r,i]=y.useState(200),o=y.useCallback(s=>{i(Math.round(s==null?void 0:s.getBoundingClientRect().width)??200)},[]);return y.useEffect(()=>{const s=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(s)}},[]),f.jsxs(M_e,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:R_e(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:o,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const M_e=I(mo,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function j_e(){const[e]=Ge(kx);qa(!0);const t=ui();Ja(!1);const{register:n}=Kn();return f.jsxs(Qa,{children:[f.jsxs(Ti,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(O_e,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:[" Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(P_e,{}),f.jsxs(f.Fragment,{children:[f.jsx($r,{to:"game/",children:f.jsx(Re,{...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx($r,{to:"select-input/",children:f.jsx(Re,{...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx($r,{to:"settings/",children:f.jsx(Re,{...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx($r,{to:"jukebox/",children:f.jsx(Re,{...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx($r,{to:"manage-songs/",children:f.jsx(Re,{...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const O_e=I("div",{target:"e1g7uwpd0"})(ze,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Kr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},V_e=y.lazy(()=>Wu(()=>import("./SongManagement-DNdTd8ue.js"),[]).then(e=>({default:e.SongList})));function L_e(){Ge(Ar);const[e]=Ge(Qi),t=y.useMemo(()=>CV({graphicSetting:e}),[e]);return f.jsx(_de,{theme:t,children:f.jsx(Qx,{fallback:T0e,children:f.jsx(wZ,{children:f.jsx(mZ,{children:f.jsx(Eae,{base:"/prs/299/",children:f.jsxs(kae,{children:[f.jsx(Sr,{path:Kr.QUICK_SETUP,component:p_e}),f.jsx(Sr,{path:Kr.MENU,component:j_e}),f.jsx(Sr,{path:Kr.EXCLUDE_LANGUAGES,component:P0e}),f.jsx(Sr,{path:Kr.JUKEBOX,component:jme}),f.jsx(Sr,{path:Kr.GAME,children:f.jsx(Bbe,{})}),f.jsx(Sr,{path:Kr.SELECT_INPUT,component:C0e}),f.jsx(Sr,{path:Kr.SETTINGS,component:The}),f.jsx(Sr,{path:Kr.SETTINGS_REMOTE_MICS,component:g_e}),f.jsx(Sr,{path:Kr.REMOTE_MIC,component:Vfe}),f.jsx(Sr,{path:Kr.MANAGE_SONGS,component:o_e}),f.jsx(Sr,{path:"social-media-elements",component:w_e}),f.jsx(Sr,{path:Kr.CONVERT,component:()=>f.jsx(Nhe,{})}),f.jsx(Sr,{path:Kr.EDIT_SONGS_LIST,component:()=>f.jsx(y.Suspense,{fallback:f.jsx(hD,{}),children:f.jsx(V_e,{})})}),f.jsx(Sr,{path:"edit/get-songs-bpms",component:R0e}),f.jsx(Sr,{path:Kr.EDIT_SONG,children:f.jsx(Tge,{})}),f.jsx(Sr,{path:Kr.INDEX,component:Jbe})]})})})})})})}const N_e=uG(L_e),D_e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var LB,AM=sc;LB=AM.createRoot,AM.hydrateRoot;FH({integrations:[NH({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:D_e,tracesSampleRate:zo()?0:.01,environment:zo()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});zo()||_n.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Ve.local.getItem("posthog-user-id");t||(t=pm(),Ve.local.setItem("posthog-user-id",t)),e.identify(t);let n=Ve.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Gd.artists.flatMap(i=>$3(i).split("-")))].filter(i=>i.length<=10);n=new Array(Oo(3,5)).fill(0).map(()=>r[Oo(0,r.length-1)]).join("-"),Ve.local.setItem("posthog-user-name",n),e.alias(n,t)}m9({id:t})}});const B_e=gS({key:"ec",speedy:!ID}),$_e=document.getElementById("root"),F_e=LB($_e);F_e.render(f.jsxs(AO,{value:B_e,children:[f.jsx(N_e,{}),f.jsx(gb,{position:Ft.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{CV as $,jh as A,TV as B,Em as C,dpe as D,fpe as E,Da as F,wee as G,upe as H,Pr as I,Mne as J,Qt as K,Yv as L,nt as M,Gte as N,Wte as O,Je as P,Mr as Q,Ce as R,so as S,Xs as T,Nv as U,ED as V,QN as W,Mb as X,BL as Y,QZ as Z,PV as _,jt as a,xD as a$,lV as a0,pee as a1,Os as a2,Ppe as a3,EP as a4,eee as a5,cV as a6,aV as a7,vl as a8,_D as a9,uu as aA,Sg as aB,npe as aC,rpe as aD,Iq as aE,La as aF,Lf as aG,yD as aH,Jhe as aI,Khe as aJ,qhe as aK,Zhe as aL,Br as aM,Ku as aN,z1e as aO,qa as aP,ui as aQ,Ja as aR,Z0 as aS,xee as aT,jZ as aU,Zw as aV,Cge as aW,dt as aX,rt as aY,sc as aZ,xne as a_,uv as aa,KZ as ab,sV as ac,bm as ad,cpe as ae,zl as af,GS as ag,fee as ah,iee as ai,Mpe as aj,TP as ak,Hpe as al,J_e as am,Cne as an,Tee as ao,ya as ap,dv as aq,I as ar,SP as as,Gv as at,HC as au,ts as av,Tt as aw,Be as ax,MK as ay,td as az,ie as b,Ipe as b0,rge as b1,Bw as b2,ooe as b3,Xpe as b4,$A as b5,uge as b6,Cb as b7,Ga as b8,Ei as b9,Tde as ba,Q_e as bb,Y_e as bc,kle as bd,Ege as be,tN as bf,eN as bg,CD as bh,t0 as bi,Mo as bj,Ti as bk,ME as bl,X_e as bm,kge as bn,_n as bo,gD as bp,VW as c,Eee as d,Av as e,Kie as f,iS as g,AV as h,At as i,f as j,kee as k,FS as l,ua as m,xm as n,VL as o,_m as p,Fs as q,y as r,Ve as s,K_e as t,roe as u,gV as v,No as w,W_e as x,Gr as y,Rr as z};
//# sourceMappingURL=index-DkCjH8tA.js.map
