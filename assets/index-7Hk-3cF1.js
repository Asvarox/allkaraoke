var QB=Object.defineProperty;var JB=(e,t,n)=>t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>JB(e,typeof t!="symbol"?t+"":t,n);function XB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var cR={exports:{}},k0={},uR={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=Symbol.for("react.element"),eD=Symbol.for("react.portal"),tD=Symbol.for("react.fragment"),nD=Symbol.for("react.strict_mode"),rD=Symbol.for("react.profiler"),iD=Symbol.for("react.provider"),sD=Symbol.for("react.context"),oD=Symbol.for("react.forward_ref"),aD=Symbol.for("react.suspense"),lD=Symbol.for("react.memo"),cD=Symbol.for("react.lazy"),BE=Symbol.iterator;function uD(e){return e===null||typeof e!="object"?null:(e=BE&&e[BE]||e["@@iterator"],typeof e=="function"?e:null)}var dR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fR=Object.assign,hR={};function Hu(e,t,n){this.props=e,this.context=t,this.refs=hR,this.updater=n||dR}Hu.prototype.isReactComponent={};Hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pR(){}pR.prototype=Hu.prototype;function yS(e,t,n){this.props=e,this.context=t,this.refs=hR,this.updater=n||dR}var vS=yS.prototype=new pR;vS.constructor=yS;fR(vS,Hu.prototype);vS.isPureReactComponent=!0;var DE=Array.isArray,gR=Object.prototype.hasOwnProperty,AS={current:null},mR={key:!0,ref:!0,__self:!0,__source:!0};function yR(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)gR.call(t,r)&&!mR.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_h,type:e,key:s,ref:o,props:i,_owner:AS.current}}function dD(e,t){return{$$typeof:_h,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bS(e){return typeof e=="object"&&e!==null&&e.$$typeof===_h}function fD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $E=/\/+/g;function yv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fD(""+e.key):t.toString(36)}function pg(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _h:case eD:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+yv(o,0):r,DE(i)?(n="",e!=null&&(n=e.replace($E,"$&/")+"/"),pg(i,t,n,"",function(c){return c})):i!=null&&(bS(i)&&(i=dD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($E,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",DE(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+yv(s,a);o+=pg(s,t,n,l,i)}else if(l=uD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+yv(s,a++),o+=pg(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function np(e,t,n){if(e==null)return e;var r=[],i=0;return pg(e,r,"","",function(s){return t.call(n,s,i++)}),r}function hD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fr={current:null},gg={transition:null},pD={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:gg,ReactCurrentOwner:AS};lt.Children={map:np,forEach:function(e,t,n){np(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return np(e,function(){t++}),t},toArray:function(e){return np(e,function(t){return t})||[]},only:function(e){if(!bS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=Hu;lt.Fragment=tD;lt.Profiler=rD;lt.PureComponent=yS;lt.StrictMode=nD;lt.Suspense=aD;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fR({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=AS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)gR.call(t,l)&&!mR.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_h,type:e.type,key:i,ref:s,props:r,_owner:o}};lt.createContext=function(e){return e={$$typeof:sD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iD,_context:e},e.Consumer=e};lt.createElement=yR;lt.createFactory=function(e){var t=yR.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:oD,render:e}};lt.isValidElement=bS;lt.lazy=function(e){return{$$typeof:cD,_payload:{_status:-1,_result:e},_init:hD}};lt.memo=function(e,t){return{$$typeof:lD,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=gg.transition;gg.transition={};try{e()}finally{gg.transition=t}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(e,t){return Fr.current.useCallback(e,t)};lt.useContext=function(e){return Fr.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return Fr.current.useDeferredValue(e)};lt.useEffect=function(e,t){return Fr.current.useEffect(e,t)};lt.useId=function(){return Fr.current.useId()};lt.useImperativeHandle=function(e,t,n){return Fr.current.useImperativeHandle(e,t,n)};lt.useInsertionEffect=function(e,t){return Fr.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return Fr.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return Fr.current.useMemo(e,t)};lt.useReducer=function(e,t,n){return Fr.current.useReducer(e,t,n)};lt.useRef=function(e){return Fr.current.useRef(e)};lt.useState=function(e){return Fr.current.useState(e)};lt.useSyncExternalStore=function(e,t,n){return Fr.current.useSyncExternalStore(e,t,n)};lt.useTransition=function(){return Fr.current.useTransition()};lt.version="18.2.0";uR.exports=lt;var v=uR.exports;const Te=gr(v),Xg=XB({__proto__:null,default:Te},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=v,mD=Symbol.for("react.element"),yD=Symbol.for("react.fragment"),vD=Object.prototype.hasOwnProperty,AD=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bD={key:!0,ref:!0,__self:!0,__source:!0};function vR(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vD.call(t,r)&&!bD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mD,type:e,key:s,ref:o,props:i,_owner:AD.current}}k0.Fragment=yD;k0.jsx=vR;k0.jsxs=vR;cR.exports=k0;var f=cR.exports;class Ds{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const l1=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class c1{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const FE=l1((global==null?void 0:global.localStorage)??new c1),Ne={...FE,local:FE,session:l1((global==null?void 0:global.sessionStorage)??new c1),memory:l1(new c1)},u1="CAMERA_GRANT_KEY",zE=Ne.local.getItem(u1);class _D extends Ds{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=zE!==null?JSON.parse(zE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Ne.local.setItem(u1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Ne.local.setItem(u1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Cs=new _D,J=typeof window<"u"?window:void 0,Qr=typeof globalThis<"u"?globalThis:J,AR=Array.prototype,UE=AR.forEach,HE=AR.indexOf,mi=Qr==null?void 0:Qr.navigator,we=Qr==null?void 0:Qr.document,Kr=Qr==null?void 0:Qr.location,_S=Qr==null?void 0:Qr.fetch,SS=Qr!=null&&Qr.XMLHttpRequest&&"withCredentials"in new Qr.XMLHttpRequest?Qr.XMLHttpRequest:void 0,GE=Qr==null?void 0:Qr.AbortController,Jn=mi==null?void 0:mi.userAgent,et=J??{},Xo={DEBUG:!1,LIB_VERSION:"1.180.1"},SD=Array.isArray,bR=Object.prototype,_R=bR.hasOwnProperty,T0=bR.toString,Hn=SD||function(e){return T0.call(e)==="[object Array]"},qi=function(e){return typeof e=="function"},Tn=function(e){return e===Object(e)&&!Hn(e)},nf=function(e){if(Tn(e)){for(const t in e)if(_R.call(e,t))return!1;return!0}return!1},Oe=function(e){return e===void 0},xr=function(e){return T0.call(e)=="[object String]"},WE=function(e){return xr(e)&&e.trim().length===0},Ba=function(e){return e===null},An=function(e){return Oe(e)||Ba(e)},pi=function(e){return T0.call(e)=="[object Number]"},ca=function(e){return T0.call(e)==="[object Boolean]"},xD=e=>e instanceof FormData,qE="[PostHog.js]",ie={_log:function(e){if(J&&(Xo.DEBUG||et.POSTHOG_DEBUG)&&!Oe(J.console)&&J.console){const i="__rrweb_original__"in J.console[e]?J.console[e].__rrweb_original__:J.console[e];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i(qE,...n)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie._log("error",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(qE,...t)},uninitializedWarning:e=>{ie.error(`You must initialize PostHog before calling ${e}`)}},KE=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return ie.warn(`${t} was requested but loading of external scripts is disabled.`),n("Loading of external scripts is disabled");const r=()=>{if(!we)return n("document not found");const i=we.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=a=>n(void 0,a),i.onerror=a=>n(a);const s=we.querySelectorAll("body > script");var o;s.length>0?(o=s[0].parentNode)===null||o===void 0||o.insertBefore(i,s[0]):we.body.appendChild(i)};we!=null&&we.body?r():we==null||we.addEventListener("DOMContentLoaded",r)};et.__PosthogExtensions__=et.__PosthogExtensions__||{},et.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{let r=`/static/${t}.js?v=${e.version}`;t==="toolbar"&&(r=`${r}&t=${Math.floor(Date.now()/3e5)*3e5}`);const i=e.requestRouter.endpointFor("assets",r);KE(e,i,n)},et.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{const r=e.requestRouter.endpointFor("api",t);KE(e,r,n)};const Zg={},I0=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Xc(e,t,n){if(Hn(e)){if(UE&&e.forEach===UE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(let r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Zg)return}}}function Bt(e,t,n){if(!An(e)){if(Hn(e))return Xc(e,t,n);if(xD(e)){for(const r of e.entries())if(t.call(n,r[1],r[0])===Zg)return}else for(const r in e)if(_R.call(e,r)&&t.call(n,e[r],r)===Zg)return}}const Lr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xc(n,function(i){for(const s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function dt(e,t){return e.indexOf(t)!==-1}function mg(e){const t=Object.keys(e);let n=t.length;const r=new Array(n);for(;n--;)r[n]=[t[n],e[t[n]]];return r}const YE=function(e){try{return e()}catch{return}},wD=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){ie.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ie.critical(i)}}},em=function(e){const t={};return Bt(e,function(n,r){xr(n)&&n.length>0&&(t[r]=n)}),t},d1=function(e){return e.replace(/^\$/,"")};function ED(e,t){return function(n,r){const i=new Set;return function s(o,a){if(o!==Object(o))return r?r(o,a):o;if(i.has(o))return;let l;return i.add(o),Hn(o)?(l=[],Xc(o,c=>{l.push(s(c))})):(l={},Bt(o,(c,u)=>{i.has(c)||(l[u]=s(c,u))})),l}(n)}(e,n=>xr(n)&&!Ba(t)?n.slice(0,t):n)}const CD=function(e){let t,n,r,i="",s=0;for(t=n=0,s=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,r=0;r<s;r++){const o=e.charCodeAt(r);let a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Ba(a)||(n>t&&(i+=e.substring(t,n)),i+=a,t=n=r+1)}return n>t&&(i+=e.substring(t,e.length)),i},_o=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{const o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(!(d=d||e(J==null?void 0:J.event)))return;let h,p=!0;qi(u)&&(h=u(d));const g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}(t,r,a)}else ie.error("No valid element provided to register_event")}}();function kD(e){const t=e==null?void 0:e.hostname;return!!xr(t)&&t.split(".").slice(-2).join(".")!=="herokuapp.com"}function SR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n]}let ws;(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(ws||(ws={}));const xR="$people_distinct_id",Bd="__alias",Dd="__timers",QE="$autocapture_disabled_server_side",f1="$heatmaps_enabled_server_side",JE="$exception_capture_enabled_server_side",XE="$exception_capture_endpoint_suffix",ZE="$web_vitals_enabled_server_side",eC="$dead_clicks_enabled_server_side",tC="$web_vitals_allowed_metrics",h1="$session_recording_enabled_server_side",nC="$console_log_recording_enabled_server_side",rC="$session_recording_network_payload_capture",iC="$session_recording_canvas_recording",sC="$replay_sample_rate",oC="$replay_minimum_duration",tm="$sesid",$d="$session_is_sampled",rp="$session_recording_url_trigger_activated_session",ip="$session_recording_url_trigger_status",Rc="$enabled_feature_flags",p1="$early_access_features",jc="$stored_person_properties",Zo="$stored_group_properties",g1="$surveys",sp="$surveys_activated",nm="$flag_call_reported",go="$user_state",m1="$client_session_props",y1="$capture_rate_limit",v1="$initial_campaign_params",A1="$initial_referrer_info",aC="$initial_person_info",rm="$epp",b1="__POSTHOG_TOOLBAR__",TD=[xR,Bd,"__cmpns",Dd,h1,f1,tm,Rc,go,p1,Zo,jc,g1,nm,m1,y1,v1,A1,rm],vv="$active_feature_flags",op="$override_feature_flags",lC="$feature_flag_payloads",cC=e=>{const t={};for(const[n,r]of mg(e||{}))r&&(t[n]=r);return t};let ID=class{constructor(t){this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){const t=this.instance.get_property(Rc),n=this.instance.get_property(op);if(!n)return t||{};const r=Lr({},t),i=Object.keys(n);for(let s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(ie.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(lC)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.reloadFeatureFlagsInAction=t}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(this.instance.config.advanced_disable_feature_flags)return;this.setReloadingPaused(!0);const t=this.instance.config.token,n=this.instance.get_property(jc),r=this.instance.get_property(Zo),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:ws.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var o;this.setReloadingPaused(!1);let a=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,a=!1),this.receivedFeatureFlags((o=s.json)!==null&&o!==void 0?o:{},a),this._startReloadTimer()}})}getFeatureFlag(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0))return void ie.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`);const r=this.getFlagVariants()[t],i=`${r}`,s=this.instance.get_property(nm)||{};var o;return!n.send_event&&"send_event"in n||t in s&&s[t].includes(i)||(Hn(s[t])?s[t].push(i):s[t]=[i],(o=this.instance.persistence)===null||o===void 0||o.register({[nm]:s}),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:r})),r}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}isFeatureEnabled(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);ie.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(!this.instance.persistence)return;this.instance.decideEndpointWasHit=!0;const r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=s.featureFlags,u=s.featureFlagPayloads;if(!c)return;if(Hn(c)){const p={};if(c)for(let g=0;g<c.length;g++)p[c[g]]=!0;return void(o&&o.register({[vv]:c,[Rc]:p}))}let d=c,h=u;s.errorsWhileComputingFlags&&(d={...a,...d},h={...l,...h}),o&&o.register({[vv]:Object.keys(cC(d)),[Rc]:d||{},[lC]:h||{}})})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}override(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return ie.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(op);else if(Hn(t)){const r={};for(let i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register({[op]:r})}else this.instance.persistence.register({[op]:t})}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){const{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r;const i={[`$feature_enrollment/${t}`]:n};this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);const s={...this.getFlagVariants(),[t]:n};(r=this.instance.persistence)===null||r===void 0||r.register({[vv]:Object.keys(cC(s)),[Rc]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.instance.get_property(p1);if(r&&!n)return t(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api",`/api/early_access_features/?token=${this.instance.config.token}`),method:"GET",callback:i=>{var s;if(!i.json)return;const o=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[p1]:o}),t(o)}})}_prepareFeatureFlagsForCallbacks(){const t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}_fireFeatureFlagsCallbacks(t){const{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this.instance.get_property(jc)||{};this.instance.register({[jc]:{...r,...t}}),n&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(jc)}setGroupPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const r=this.instance.get_property(Zo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]={...r[i],...t[i]},delete t[i]}),this.instance.register({[Zo]:{...r,...t}}),n&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){const n=this.instance.get_property(Zo)||{};this.instance.register({[Zo]:{...n,[t]:{}}})}else this.instance.unregister(Zo)}};/**
 * uuidv7: An experimental implementation of the proposed UUID Version 7
 *
 * @license Apache-2.0
 * @copyright 2021-2023 LiosK
 * @packageDocumentation
 *
 * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts
 */Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return pi(e)&&isFinite(e)&&Math.floor(e)===e});const uC="0123456789abcdef";let PD=class _1{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");const s=new Uint8Array(16);return s[0]=t/2**40,s[1]=t/2**32,s[2]=t/2**24,s[3]=t/65536,s[4]=t/256,s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new _1(s)}toString(){let t="";for(let n=0;n<this.bytes.length;n++)t=t+uC.charAt(this.bytes[n]>>>4)+uC.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new _1(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(let n=0;n<16;n++){const r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}},MD=class{constructor(){ve(this,"timestamp",0);ve(this,"counter",0);ve(this,"random",new RD)}generate(){const t=this.generateOrAbort();if(Oe(t)){this.timestamp=0;const n=this.generateOrAbort();if(Oe(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){const t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return PD.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}},dC,wR=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};J&&!Oe(J.crypto)&&crypto.getRandomValues&&(wR=e=>crypto.getRandomValues(e));let RD=class{constructor(){ve(this,"buffer",new Uint32Array(8));ve(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(wR(this.buffer),this.cursor=0),this.buffer[this.cursor++]}};const ua=()=>jD().toString(),jD=()=>(dC||(dC=new MD)).generate(),OD="Thu, 01 Jan 1970 00:00:00 GMT";let pd="";const VD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function LD(e,t){if(t){let n=function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;if(pd)return pd;if(!i||["localhost","127.0.0.1"].includes(r))return"";const s=r.split(".");let o=Math.min(s.length,8);const a="dmn_chk_"+ua(),l=new RegExp("(^|;)\\s*"+a+"=1");for(;!pd&&o--;){const c=s.slice(o).join("."),u=a+"=1;domain=."+c;i.cookie=u,l.test(i.cookie)&&(i.cookie=u+";expires="+OD,pd=c)}return pd}(e);if(!n){const r=(i=>{const s=i.match(VD);return s?s[0]:""})(e);r!==n&&ie.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}const ko={is_supported:()=>!!we,error:function(e){ie.error("cookieStore error: "+e)},get:function(e){if(we){try{const t=e+"=",n=we.cookie.split(";").filter(r=>r.length);for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){let t;try{t=JSON.parse(ko.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(we)try{let s="",o="";const a=LD(we.location.hostname,r);if(n){const c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3),s="; expires="+c.toUTCString()}i&&(o="; secure");const l=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return l.length>3686.4&&ie.warn("cookieStore warning: large cookie, len="+l.length),we.cookie=l,l}catch{return}},remove:function(e,t){try{ko.set(e,"",-1,t)}catch{return}}};let Av=null;const Un={is_supported:function(){if(!Ba(Av))return Av;let e=!0;if(Oe(J))e=!1;else try{const t="__mplssupport__";Un.set(t,"xyz"),Un.get(t)!=='"xyz"'&&(e=!1),Un.remove(t)}catch{e=!1}return e||ie.error("localStorage unsupported; falling back to cookie store"),Av=e,e},error:function(e){ie.error("localStorage error: "+e)},get:function(e){try{return J==null?void 0:J.localStorage.getItem(e)}catch(t){Un.error(t)}return null},parse:function(e){try{return JSON.parse(Un.get(e))||{}}catch{}return null},set:function(e,t){try{J==null||J.localStorage.setItem(e,JSON.stringify(t))}catch(n){Un.error(n)}},remove:function(e){try{J==null||J.localStorage.removeItem(e)}catch(t){Un.error(t)}}},ND=["distinct_id",tm,$d,rm],ap={...Un,parse:function(e){try{let t={};try{t=ko.parse(e)||{}}catch{}const n=Lr(t,JSON.parse(Un.get(e)||"{}"));return Un.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{Un.set(e,t,void 0,void 0,s);const o={};ND.forEach(a=>{t[a]&&(o[a]=t[a])}),Object.keys(o).length&&ko.set(e,o,n,r,i,s)}catch(o){Un.error(o)}},remove:function(e,t){try{J==null||J.localStorage.removeItem(e),ko.remove(e,t)}catch(n){Un.error(n)}}},lp={},BD={is_supported:function(){return!0},error:function(e){ie.error("memoryStorage error: "+e)},get:function(e){return lp[e]||null},parse:function(e){return lp[e]||null},set:function(e,t){lp[e]=t},remove:function(e){delete lp[e]}};let Qa=null;const lr={is_supported:function(){if(!Ba(Qa))return Qa;if(Qa=!0,Oe(J))Qa=!1;else try{const e="__support__";lr.set(e,"xyz"),lr.get(e)!=='"xyz"'&&(Qa=!1),lr.remove(e)}catch{Qa=!1}return Qa},error:function(e){ie.error("sessionStorage error: ",e)},get:function(e){try{return J==null?void 0:J.sessionStorage.getItem(e)}catch(t){lr.error(t)}return null},parse:function(e){try{return JSON.parse(lr.get(e))||null}catch{}return null},set:function(e,t){try{J==null||J.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){lr.error(n)}},remove:function(e){try{J==null||J.sessionStorage.removeItem(e)}catch(t){lr.error(t)}}},DD=["localhost","127.0.0.1"],rf=e=>{const t=we==null?void 0:we.createElement("a");return Oe(t)?null:(t.href=e,t)},mu=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},$D=function(e){let t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";const i=[];return Bt(e,function(s,o){Oe(s)||Oe(o)||o==="undefined"||(t=encodeURIComponent((a=>a instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},im=function(e,t){const n=((e.split("#")[0]||"").split("?")[1]||"").split("&");let r;for(let i=0;i<n.length;i++){const s=n[i].split("=");if(s[0]===t){r=s;break}}if(!Hn(r)||r.length<2)return"";{let i=r[1];try{i=decodeURIComponent(i)}catch{ie.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")}},sm=function(e,t){const n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Qi="Mobile",om="iOS",eo="Android",If="Tablet",ER=eo+" "+If,CR="iPad",kR="Apple",TR=kR+" Watch",Pf="Safari",yu="BlackBerry",IR="Samsung",PR=IR+"Browser",MR=IR+" Internet",ya="Chrome",FD=ya+" OS",RR=ya+" "+om,xS="Internet Explorer",jR=xS+" "+Qi,wS="Opera",zD=wS+" Mini",ES="Edge",OR="Microsoft "+ES,Zc="Firefox",VR=Zc+" "+om,Mf="Nintendo",Rf="PlayStation",eu="Xbox",LR=eo+" "+Qi,NR=Qi+" "+Pf,Fd="Windows",S1=Fd+" Phone",fC="Nokia",x1="Ouya",BR="Generic",UD=BR+" "+Qi.toLowerCase(),DR=BR+" "+If.toLowerCase(),w1="Konqueror",jr="(\\d+(\\.\\d+)?)",bv=new RegExp("Version/"+jr),HD=new RegExp(eu,"i"),GD=new RegExp(Rf+" \\w+","i"),WD=new RegExp(Mf+" \\w+","i"),CS=new RegExp(yu+"|PlayBook|BB10","i"),qD={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},KD=(e,t)=>t&&dt(t,kR)||function(n){return dt(n,Pf)&&!dt(n,ya)&&!dt(n,eo)}(e),hC=function(e,t){return t=t||"",dt(e," OPR/")&&dt(e,"Mini")?zD:dt(e," OPR/")?wS:CS.test(e)?yu:dt(e,"IE"+Qi)||dt(e,"WPDesktop")?jR:dt(e,PR)?MR:dt(e,ES)||dt(e,"Edg/")?OR:dt(e,"FBIOS")?"Facebook "+Qi:dt(e,"UCWEB")||dt(e,"UCBrowser")?"UC Browser":dt(e,"CriOS")?RR:dt(e,"CrMo")?ya:dt(e,eo)&&dt(e,Pf)?LR:dt(e,ya)?ya:dt(e,"FxiOS")?VR:dt(e.toLowerCase(),w1.toLowerCase())?w1:KD(e,t)?dt(e,Qi)?NR:Pf:dt(e,Zc)?Zc:dt(e,"MSIE")||dt(e,"Trident/")?xS:dt(e,"Gecko")?Zc:""},YD={[jR]:[new RegExp("rv:"+jr)],[OR]:[new RegExp(ES+"?\\/"+jr)],[ya]:[new RegExp("("+ya+"|CrMo)\\/"+jr)],[RR]:[new RegExp("CriOS\\/"+jr)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+jr)],[Pf]:[bv],[NR]:[bv],[wS]:[new RegExp("(Opera|OPR)\\/"+jr)],[Zc]:[new RegExp(Zc+"\\/"+jr)],[VR]:[new RegExp("FxiOS\\/"+jr)],[w1]:[new RegExp("Konqueror[:/]?"+jr,"i")],[yu]:[new RegExp(yu+" "+jr),bv],[LR]:[new RegExp("android\\s"+jr,"i")],[MR]:[new RegExp(PR+"\\/"+jr)],[xS]:[new RegExp("(rv:|MSIE )"+jr)],Mozilla:[new RegExp("rv:"+jr)]},pC=[[new RegExp(eu+"; "+eu+" (.*?)[);]","i"),e=>[eu,e&&e[1]||""]],[new RegExp(Mf,"i"),[Mf,""]],[new RegExp(Rf,"i"),[Rf,""]],[CS,[yu,""]],[new RegExp(Fd,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[S1,""];if(new RegExp(Qi).test(t)&&!/IEMobile\b/.test(t))return[Fd+" "+Qi,""];const n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){const r=n[1];let i=qD[r]||"";return/arm/i.test(t)&&(i="RT"),[Fd,i]}return[Fd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){const t=[e[3],e[4],e[5]||"0"];return[om,t.join(".")]}return[om,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{let t="";return e&&e.length>=3&&(t=Oe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+eo+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+eo+")","i"),e=>{if(e&&e[2]){const t=[e[2],e[3],e[4]||"0"];return[eo,t.join(".")]}return[eo,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{const t=["Mac OS X",""];if(e&&e[1]){const n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[FD,""]],[/Linux|debian/i,["Linux",""]]],gC=function(e){return WD.test(e)?Mf:GD.test(e)?Rf:HD.test(e)?eu:new RegExp(x1,"i").test(e)?x1:new RegExp("("+S1+"|WPDesktop)","i").test(e)?S1:/iPad/.test(e)?CR:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?TR:CS.test(e)?yu:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(fC,"i").test(e)?fC:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Qi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?eo:ER:eo:new RegExp("(pda|"+Qi+")","i").test(e)?UD:new RegExp(If,"i").test(e)&&!new RegExp(If+" pc","i").test(e)?DR:""},cp="https?://(.*)",QD=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],En={campaignParams:function(e){return we?this._campaignParamsFromUrl(we.URL,e):{}},_campaignParamsFromUrl:function(e,t){const n=QD.concat(t||[]),r={};return Bt(n,function(i){const s=im(e,i);r[i]=s||null}),r},_searchEngine:function(e){return e?e.search(cp+"google.([^/?]*)")===0?"google":e.search(cp+"bing.com")===0?"bing":e.search(cp+"yahoo.com")===0?"yahoo":e.search(cp+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){const t=En._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!Ba(t)){r.$search_engine=t;const i=we?im(we.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){const e=we==null?void 0:we.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:hC,browserVersion:function(e,t){const n=hC(e,t),r=YD[n];if(Oe(r))return null;for(let i=0;i<r.length;i++){const s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(let t=0;t<pC.length;t++){const[n,r]=pC[t],i=n.exec(e),s=i&&(qi(r)?r(i,e):r);if(s)return s}return["",""]},device:gC,deviceType:function(e){const t=gC(e);return t===CR||t===ER||t==="Kobo"||t==="Kindle Fire"||t===DR?If:t===Mf||t===eu||t===Rf||t===x1?"Console":t===TR?"Wearable":t?Qi:"Desktop"},referrer:function(){return(we==null?void 0:we.referrer)||"$direct"},referringDomain:function(){var e;return we!=null&&we.referrer&&((e=rf(we.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:Kr==null?void 0:Kr.href}},initialPersonPropsFromInfo:function(e){var t;const{r:n,u:r}=e,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=rf(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;const s=rf(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,Bt(this._campaignParamsFromUrl(r),function(o,a){i["$initial_"+d1(a)]=o})}return n&&Bt(this._searchInfoFromReferrer(n),function(s,o){i["$initial_"+d1(o)]=s}),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},properties:function(){if(!Jn)return{};const[e,t]=En.os(Jn);return Lr(em({$os:e,$os_version:t,$browser:En.browser(Jn,navigator.vendor),$device:En.device(Jn),$device_type:En.deviceType(Jn),$timezone:En.timezone()}),{$current_url:Kr==null?void 0:Kr.href,$host:Kr==null?void 0:Kr.host,$pathname:Kr==null?void 0:Kr.pathname,$raw_user_agent:Jn.length>1e3?Jn.substring(0,997)+"...":Jn,$browser_version:En.browserVersion(Jn,navigator.vendor),$browser_language:En.browserLanguage(),$screen_height:J==null?void 0:J.screen.height,$screen_width:J==null?void 0:J.screen.width,$viewport_height:J==null?void 0:J.innerHeight,$viewport_width:J==null?void 0:J.innerWidth,$lib:"web",$lib_version:Xo.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!Jn)return{};const[e,t]=En.os(Jn);return Lr(em({$os:e,$os_version:t,$browser:En.browser(Jn,navigator.vendor)}),{$browser_version:En.browserVersion(Jn,navigator.vendor)})}},JD=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];let _v=class{constructor(t){this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n=>{let r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.storage=this.buildStorage(t),this.load(),t.debug&&ie.info("Persistence loaded",t.persistence,{...this.props}),this.update_config(t,t),this.save()}buildStorage(t){let n;JD.indexOf(t.persistence.toLowerCase())===-1&&(ie.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");const r=t.persistence.toLowerCase();return n=r==="localstorage"&&Un.is_supported()?Un:r==="localstorage+cookie"&&ap.is_supported()?ap:r==="sessionstorage"&&lr.is_supported()?lr:r==="memory"?BD:r==="cookie"?ko:ap.is_supported()?ap:ko,n}properties(){const t={};return Bt(this.props,function(n,r){if(r===Rc&&Tn(n)){const i=Object.keys(n);for(let s=0;s<i.length;s++)t[`$feature/${i[s]}`]=n[i[s]]}else(function(i,s){let o=!1;return Ba(i)?o:HE&&i.indexOf===HE?i.indexOf(s)!=-1:(Bt(i,function(a){if(o||(o=a===s))return Zg}),o)})(TD,r)||(t[r]=n)}),t}load(){if(this.disabled)return;const t=this.storage.parse(this.name);t&&(this.props=Lr({},t))}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(Tn(t)){Oe(n)&&(n="None"),this.expire_days=Oe(r)?this.default_expiry:r;let i=!1;if(Bt(t,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==n||(this.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(Tn(t)){this.expire_days=Oe(n)?this.default_expiry:n;let r=!1;if(Bt(t,(i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.campaign_params_saved){const t=En.campaignParams(this.config.custom_campaign_params);nf(em(t))||this.register(En.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0}}update_search_keyword(){this.register(En.searchInfo())}update_referrer_info(){this.register_once(En.referrerInfo(),void 0)}set_initial_person_info(){this.props[v1]||this.props[A1]||this.register_once({[aC]:En.initialPersonInfo()},void 0)}get_referrer_info(){return em({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){const t={};Bt([A1,v1],r=>{const i=this.props[r];i&&Bt(i,function(s,o){t["$initial_"+d1(o)]=s})});const n=this.props[aC];if(n){const r=En.initialPersonPropsFromInfo(n);Lr(t,r)}return t}safe_merge(t){return Bt(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){const r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(t){this.disabled=t,this.disabled?this.remove():this.save()}set_cross_subdomain(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}set_event_timer(t,n){const r=this.props[Dd]||{};r[t]=n,this.props[Dd]=r,this.save()}remove_event_timer(t){const n=(this.props[Dd]||{})[t];return Oe(n)||(delete this.props[Dd][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}};function am(e){var t;return((t=JSON.stringify(e,function(){const n=[];return function(r,i){if(Tn(i)){for(;n.length>0&&n.at(-1)!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i}}()))===null||t===void 0?void 0:t.length)||0}function E1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){const n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[E1({size:am(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),E1({size:am(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(s=>s)}return[e]}var ea=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ea||{}),ys=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(ys||{});function mC(e){var t;return e.id===b1||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+b1))}function P0(e){return!!e&&e.nodeType===1}function va(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function $R(e){return!!e&&e.nodeType===3}function FR(e){return!!e&&e.nodeType===11}function kS(e){return e?I0(e).split(/\s+/):[]}function yC(e){const t=J==null?void 0:J.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function lm(e){let t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return kS(t)}function zR(e){return An(e)?null:I0(e).split(/(\s+)/).filter(t=>vu(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function M0(e){let t="";return k1(e)&&!GR(e)&&e.childNodes&&e.childNodes.length&&Bt(e.childNodes,function(n){var r;$R(n)&&n.textContent&&(t+=(r=zR(n.textContent))!==null&&r!==void 0?r:"")}),I0(t)}function UR(e){return Oe(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}const C1=["a","button","form","input","select","textarea","label"];function HR(e){const t=e.parentNode;return!(!t||!P0(t))&&t}function XD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!J||!e||va(e,"html")||!P0(e)||n!=null&&n.url_allowlist&&!yC(n.url_allowlist)||n!=null&&n.url_ignorelist&&yC(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){const d=n.dom_event_allowlist;if(d&&!d.some(h=>t.type===h))return!1}let s=!1;const o=[e];let a=!0,l=e;for(;l.parentNode&&!va(l,"body");)if(FR(l.parentNode))o.push(l.parentNode.host),l=l.parentNode.host;else{if(a=HR(l),!a)break;if(r||C1.indexOf(a.tagName.toLowerCase())>-1)s=!0;else{const d=J.getComputedStyle(a);d&&d.getPropertyValue("cursor")==="pointer"&&(s=!0)}o.push(a),l=a}if(!function(d,h){const p=h==null?void 0:h.element_allowlist;if(Oe(p))return!0;for(const g of d)if(p.some(m=>g.tagName.toLowerCase()===m))return!0;return!1}(o,n)||!function(d,h){const p=h==null?void 0:h.css_selector_allowlist;if(Oe(p))return!0;for(const g of d)if(p.some(m=>g.matches(m)))return!0;return!1}(o,n))return!1;const c=J.getComputedStyle(e);if(c&&c.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;const u=e.tagName.toLowerCase();switch(u){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return s?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(C1.indexOf(u)>-1||e.getAttribute("contenteditable")==="true")}}function k1(e){for(let r=e;r.parentNode&&!va(r,"body");r=r.parentNode){const i=lm(r);if(dt(i,"ph-sensitive")||dt(i,"ph-no-capture"))return!1}if(dt(lm(e),"ph-include"))return!0;const t=e.type||"";if(xr(t))switch(t.toLowerCase()){case"hidden":case"password":return!1}const n=e.name||e.id||"";return!(xr(n)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(n.replace(/[^a-zA-Z0-9]/g,"")))}function GR(e){return!!(va(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||va(e,"select")||va(e,"textarea")||e.getAttribute("contenteditable")==="true")}const WR="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",ZD=new RegExp(`^(?:${WR})$`),e$=new RegExp(WR),qR="\\d{3}-?\\d{2}-?\\d{4}",t$=new RegExp(`^(${qR})$`),n$=new RegExp(`(${qR})`);function vu(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(An(e)||xr(e)&&(e=I0(e),(t?ZD:e$).test((e||"").replace(/[- ]/g,""))||(t?t$:n$).test(e)))}function KR(e){let t=M0(e);return t=`${t} ${YR(e)}`.trim(),vu(t)?t:""}function YR(e){let t="";return e&&e.childNodes&&e.childNodes.length&&Bt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{const i=M0(n);t=`${t} ${i}`.trim(),n.childNodes&&n.childNodes.length&&(t=`${t} ${YR(n)}`.trim())}catch(i){ie.error(i)}}),t}function r$(e){return function(t){return t.map(r=>{var i,s;let o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();for(const c of r.attr_class)o+=`.${c.replace(/"/g,"")}`}const a={...r.text?{text:r.text}:{},"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0,...r.href?{href:r.href}:{},...r.attr_id?{attr_id:r.attr_id}:{},...r.attributes},l={};return mg(a).sort((c,u)=>{let[d]=c,[h]=u;return d.localeCompare(h)}).forEach(c=>{let[u,d]=c;return l[vC(u.toString())]=vC(d.toString())}),o+=":",o+=mg(a).map(c=>{let[u,d]=c;return`${u}="${d}"`}).join(""),o}).join(";")}(function(t){return t.map(n=>{var r,i;const s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:i$(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return mg(n).filter(o=>{let[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{let[a,l]=o;return s.attributes[a]=l}),s})}(e))}function vC(e){return e.replace(/"|\\"/g,'\\"')}function i$(e){const t=e.attr__class;return t?Hn(t)?t:kS(t):void 0}const T1="[SessionRecording]",I1="redacted",up={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},s$=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],o$=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],a$=["/s/","/e/","/i/"];function AC(e,t,n,r){if(An(e))return e;let i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return xr(i)&&(i=parseInt(i)),i>n?T1+` ${r} body too large to record (${i} bytes)`:e}function bC(e,t){if(An(e))return e;let n=e;return vu(n,!1)||(n=T1+" "+t+" body "+I1),Bt(o$,r=>{var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=T1+" "+t+" body "+I1+" as might contain: "+r)}),n}const l$=(e,t)=>{const n={payloadSizeLimitBytes:up.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...up.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...up.payloadHostDenyList]},r=e.session_recording.recordHeaders!==!1&&t.recordHeaders,i=e.session_recording.recordBody!==!1&&t.recordBody,s=e.capture_performance!==!1&&t.recordPerformance,o=(c=>{var u;const d=Math.min(1e6,(u=c.payloadSizeLimitBytes)!==null&&u!==void 0?u:1e6);return h=>(h!=null&&h.requestBody&&(h.requestBody=AC(h.requestBody,h.requestHeaders,d,"Request")),h!=null&&h.responseBody&&(h.responseBody=AC(h.responseBody,h.responseHeaders,d,"Response")),h)})(n),a=c=>o((u=>{const d=rf(u.name);if(!(d&&d.pathname&&a$.some(h=>d.pathname.indexOf(h)===0)))return u})((u=>{const d=u.requestHeaders;return An(d)||Bt(Object.keys(d??{}),h=>{s$.includes(h.toLowerCase())&&(d[h]=I1)}),u})(c))),l=qi(e.session_recording.maskNetworkRequestFn);return l&&qi(e.session_recording.maskCapturedNetworkRequestFn)&&ie.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),l&&(e.session_recording.maskCapturedNetworkRequestFn=c=>{const u=e.session_recording.maskNetworkRequestFn({url:c.name});return{...c,name:u==null?void 0:u.url}}),n.maskRequestFn=qi(e.session_recording.maskCapturedNetworkRequestFn)?c=>{var u,d,h;const p=a(c);return p&&(u=(d=(h=e.session_recording).maskCapturedNetworkRequestFn)===null||d===void 0?void 0:d.call(h,p))!==null&&u!==void 0?u:void 0}:c=>function(u){if(!Oe(u))return u.requestBody=bC(u.requestBody,"Request"),u.responseBody=bC(u.responseBody,"Response"),u}(a(c)),{...up,...n,recordHeaders:r,recordBody:i,recordPerformance:s,recordInitialRequests:s}};function wo(e,t,n,r){return t>n&&(ie.warn("min cannot be greater than max."),t=n),pi(e)?e>n?(r&&ie.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&ie.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&ie.warn(r+" must be a number. Defaulting to max value:"+n),n)}let c$=class{constructor(t){ve(this,"bucketSize",100);ve(this,"refillRate",10);ve(this,"mutationBuckets",{});ve(this,"loggedTracker",{});ve(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(t=>{this.mutationBuckets[t]=this.mutationBuckets[t]+this.refillRate,this.mutationBuckets[t]>=this.bucketSize&&delete this.mutationBuckets[t]})});ve(this,"getNodeOrRelevantParent",t=>{const n=this.rrweb.mirror.getNode(t);if((n==null?void 0:n.nodeName)!=="svg"&&n instanceof Element){const r=n.closest("svg");if(r)return[this.rrweb.mirror.getId(r),r]}return[t,n]});ve(this,"numberOfChanges",t=>{var n,r,i,s,o,a,l,c;return((n=(r=t.removes)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)+((i=(s=t.attributes)===null||s===void 0?void 0:s.length)!==null&&i!==void 0?i:0)+((o=(a=t.texts)===null||a===void 0?void 0:a.length)!==null&&o!==void 0?o:0)+((l=(c=t.adds)===null||c===void 0?void 0:c.length)!==null&&l!==void 0?l:0)});ve(this,"throttleMutations",t=>{if(t.type!==3||t.data.source!==0)return t;const n=t.data,r=this.numberOfChanges(n);n.attributes&&(n.attributes=n.attributes.filter(s=>{var o;const[a,l]=this.getNodeOrRelevantParent(s.id);if(this.mutationBuckets[a]===0)return!1;var c,u;return this.mutationBuckets[a]=(o=this.mutationBuckets[a])!==null&&o!==void 0?o:this.bucketSize,this.mutationBuckets[a]=Math.max(this.mutationBuckets[a]-1,0),this.mutationBuckets[a]===0&&(this.loggedTracker[a]||(this.loggedTracker[a]=!0,(c=(u=this.options).onBlockedNode)===null||c===void 0||c.call(u,a,l))),s}));const i=this.numberOfChanges(n);return i!==0||r===i?t:void 0});var n,r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.rrweb=t,this.options=i,this.refillRate=wo((n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,0,100,"mutation throttling refill rate"),this.bucketSize=wo((r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,0,100,"mutation throttling bucket size"),setInterval(()=>{this.refillBuckets()},1e3)}};var Ji=Uint8Array,Jr=Uint16Array,Au=Uint32Array,TS=new Ji([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),IS=new Ji([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_C=new Ji([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QR=function(e,t){for(var n=new Jr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Au(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},JR=QR(TS,2),u$=JR[0],P1=JR[1];u$[28]=258,P1[258]=28;for(var SC=QR(IS,0)[1],XR=new Jr(32768),Kt=0;Kt<32768;++Kt){var Ja=(43690&Kt)>>>1|(21845&Kt)<<1;Ja=(61680&(Ja=(52428&Ja)>>>2|(13107&Ja)<<2))>>>4|(3855&Ja)<<4,XR[Kt]=((65280&Ja)>>>8|(255&Ja)<<8)>>>1}var sf=function(e,t,n){for(var r=e.length,i=0,s=new Jr(t);i<r;++i)++s[e[i]-1];var o,a=new Jr(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;for(o=new Jr(r),i=0;i<r;++i)o[i]=XR[a[e[i]-1]++]>>>15-e[i];return o},Ol=new Ji(288);for(Kt=0;Kt<144;++Kt)Ol[Kt]=8;for(Kt=144;Kt<256;++Kt)Ol[Kt]=9;for(Kt=256;Kt<280;++Kt)Ol[Kt]=7;for(Kt=280;Kt<288;++Kt)Ol[Kt]=8;var cm=new Ji(32);for(Kt=0;Kt<32;++Kt)cm[Kt]=5;var d$=sf(Ol,9),f$=sf(cm,5),ZR=function(e){return(e/8>>0)+(7&e&&1)},e5=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Jr?Jr:e instanceof Au?Au:Ji)(n-t);return r.set(e.subarray(t,n)),r},co=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},gd=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Sv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new Ji(0),0];if(i==1){var o=new Ji(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(S,E){return S.f-E.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new Jr(h+1),g=M1(n[u-1],p,0);if(g>t){r=0;var m=0,b=g-t,y=1<<b;for(s.sort(function(S,E){return p[E.s]-p[S.s]||S.f-E.f});r<i;++r){var A=s[r].s;if(!(p[A]>t))break;m+=y-(1<<g-p[A]),p[A]=t}for(m>>>=b;m>0;){var _=s[r].s;p[_]<t?m-=1<<t-p[_]++-1:++r}for(;r>=0&&m;--r){var x=s[r].s;p[x]==t&&(--p[x],++m)}g=t}return[new Ji(p),g]},M1=function(e,t,n){return e.s==-1?Math.max(M1(e.l,t,n+1),M1(e.r,t,n+1)):t[e.s]=n},xC=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Jr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},md=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},R1=function(e,t,n){var r=n.length,i=ZR(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},wC=function(e,t,n,r,i,s,o,a,l,c,u){co(t,u++,n),++i[256];for(var d=Sv(i,15),h=d[0],p=d[1],g=Sv(s,15),m=g[0],b=g[1],y=xC(h),A=y[0],_=y[1],x=xC(m),S=x[0],E=x[1],C=new Jr(19),k=0;k<A.length;++k)C[31&A[k]]++;for(k=0;k<S.length;++k)C[31&S[k]]++;for(var V=Sv(C,7),w=V[0],j=V[1],z=19;z>4&&!w[_C[z-1]];--z);var R,L,P,T,$=c+5<<3,N=md(i,Ol)+md(s,cm)+o,F=md(i,h)+md(s,m)+o+14+3*z+md(C,w)+(2*C[16]+3*C[17]+7*C[18]);if($<=N&&$<=F)return R1(t,u,e.subarray(l,l+c));if(co(t,u,1+(F<N)),u+=2,F<N){R=sf(h,p),L=h,P=sf(m,b),T=m;var D=sf(w,j);for(co(t,u,_-257),co(t,u+5,E-1),co(t,u+10,z-4),u+=14,k=0;k<z;++k)co(t,u+3*k,w[_C[k]]);u+=3*z;for(var G=[A,S],U=0;U<2;++U){var ne=G[U];for(k=0;k<ne.length;++k){var B=31&ne[k];co(t,u,D[B]),u+=w[B],B>15&&(co(t,u,ne[k]>>>5&127),u+=ne[k]>>>12)}}}else R=d$,L=Ol,P=f$,T=cm;for(k=0;k<a;++k)if(r[k]>255){B=r[k]>>>18&31,gd(t,u,R[B+257]),u+=L[B+257],B>7&&(co(t,u,r[k]>>>23&31),u+=TS[B]);var fe=31&r[k];gd(t,u,P[fe]),u+=T[fe],fe>3&&(gd(t,u,r[k]>>>5&8191),u+=IS[fe])}else gd(t,u,R[r[k]]),u+=L[r[k]];return gd(t,u,R[256]),u+L[256]},h$=new Au([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),p$=function(){for(var e=new Au(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),g$=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=p$[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},m$=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new Ji(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var b=m+65535;b<d?g=R1(p,g,s.subarray(m,b)):(p[m]=u,g=R1(p,g,s.subarray(m,d)))}else{for(var y=h$[o-1],A=y>>>13,_=8191&y,x=(1<<a)-1,S=new Jr(32768),E=new Jr(x+1),C=Math.ceil(a/3),k=2*C,V=function(De){return(s[De]^s[De+1]<<C^s[De+2]<<k)&x},w=new Au(25e3),j=new Jr(288),z=new Jr(32),R=0,L=0,P=(m=0,0),T=0,$=0;m<d;++m){var N=V(m),F=32767&m,D=E[N];if(S[F]=D,E[N]=F,T<=m){var G=d-m;if((R>7e3||P>24576)&&G>423){g=wC(s,p,0,w,j,z,L,P,$,m-$,g),P=R=L=0,$=m;for(var U=0;U<286;++U)j[U]=0;for(U=0;U<30;++U)z[U]=0}var ne=2,B=0,fe=_,Z=F-D&32767;if(G>2&&N==V(m-Z))for(var oe=Math.min(A,G)-1,Pe=Math.min(32767,m),Ee=Math.min(258,G);Z<=Pe&&--fe&&F!=D;){if(s[m+ne]==s[m+ne-Z]){for(var ae=0;ae<Ee&&s[m+ae]==s[m+ae-Z];++ae);if(ae>ne){if(ne=ae,B=Z,ae>oe)break;var be=Math.min(Z,ae-2),Le=0;for(U=0;U<be;++U){var Be=m-Z+U+32768&32767,ye=Be-S[Be]+32768&32767;ye>Le&&(Le=ye,D=Be)}}}Z+=(F=D)-(D=S[F])+32768&32767}if(B){w[P++]=268435456|P1[ne]<<18|SC[B];var Se=31&P1[ne],Ke=31&SC[B];L+=TS[Se]+IS[Ke],++j[257+Se],++z[Ke],T=m+ne,++R}else w[P++]=s[m],++j[s[m]]}}g=wC(s,p,u,w,j,z,L,P,$,m-$,g)}return e5(h,0,l+ZR(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},j1=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},y$=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&j1(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},v$=function(e){return 10+(e.filename&&e.filename.length+1||0)};function t5(e,t){t===void 0&&(t={});var n=g$(),r=e.length;n.p(e);var i=m$(e,t,v$(t),8),s=i.length;return y$(i,t),j1(i,s-8,n.d()),j1(i,s-4,r),i}function n5(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new Ji(e.length+(e.length>>>1)),i=0,s=function(c){r[i++]=c},o=0;o<n;++o){if(i+5>r.length){var a=new Ji(i+8+(n-o<<1));a.set(r),r=a}var l=e.charCodeAt(o);l<128||t?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return e5(r,0,i)}const A$=3e5,b$=[ys.MouseMove,ys.MouseInteraction,ys.Scroll,ys.ViewportResize,ys.Input,ys.TouchMove,ys.MediaInteraction,ys.Drag],_$=["trigger_activated","trigger_pending","trigger_disabled"],EC=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),Pr="[SessionRecording]";function Xa(e){return function(t,n){for(var r="",i=0;i<t.length;){var s=t[i++];s<128||n?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&t[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&t[i++])<<6|63&t[i++]):(s=((15&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(t5(n5(JSON.stringify(e))),!0)}function CC(e){return e.type===ea.Custom&&e.data.tag==="sessionIdle"}class S${constructor(t){ve(this,"queuedRRWebEvents",[]);ve(this,"isIdle",!1);ve(this,"_linkedFlagSeen",!1);ve(this,"_lastActivityTimestamp",Date.now());ve(this,"_linkedFlag",null);ve(this,"_removePageViewCaptureHook");ve(this,"_onSessionIdListener");ve(this,"_persistDecideOnSessionListener");ve(this,"_samplingSessionListener");ve(this,"_urlTriggers",[]);ve(this,"_forceAllowLocalhostNetworkCapture",!1);ve(this,"_onBeforeUnload",()=>{this._flushBuffer()});ve(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})});ve(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})});ve(this,"_onVisibilityChange",()=>{if(we!=null&&we.visibilityState){const t="window "+we.visibilityState;this._tryAddCustomEvent(t,{})}});if(this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw ie.error(Pr+" started without valid sessionManager"),new Error(Pr+" started without valid sessionManager. This is a bug.");const{sessionId:n,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=n,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&ie.warn(Pr+` session_idle_threshold_ms (${this.sessionIdleThresholdMilliseconds}) is greater than the session timeout (${this.sessionManager.sessionTimeoutMs}). Session will never be detected as idle`)}get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var t,n;return et==null||(t=et.__PosthogExtensions__)===null||t===void 0||(n=t.rrweb)===null||n===void 0?void 0:n.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(Pr+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var t,n;return this.urlTriggerStatus==="trigger_pending"?6e4:(t=(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:A$}get isSampled(){const t=this.instance.get_property($d);return ca(t)?t:null}get sessionDuration(){var t,n;const r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){const t=!!this.instance.get_property(h1),n=!this.instance.config.disable_session_recording;return J&&t&&n}get isConsoleLogCaptureEnabled(){const t=!!this.instance.get_property(nC),n=this.instance.config.enable_recording_console_log;return n??t}get canvasRecording(){var t,n,r,i,s,o;const a=this.instance.config.session_recording.captureCanvas,l=this.instance.get_property(iC),c=(t=(n=a==null?void 0:a.recordCanvas)!==null&&n!==void 0?n:l==null?void 0:l.enabled)!==null&&t!==void 0&&t,u=(r=(i=a==null?void 0:a.canvasFps)!==null&&i!==void 0?i:l==null?void 0:l.fps)!==null&&r!==void 0?r:0,d=(s=(o=a==null?void 0:a.canvasQuality)!==null&&o!==void 0?o:l==null?void 0:l.quality)!==null&&s!==void 0?s:0;return{enabled:c,fps:wo(u,0,12,"canvas recording fps"),quality:wo(d,0,1,"canvas recording quality")}}get networkPayloadCapture(){var t,n;const r=this.instance.get_property(rC),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=Tn(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,l=!!(ca(a)?a:r!=null&&r.capturePerformance);return s||o||l?{recordHeaders:s,recordBody:o,recordPerformance:l}:void 0}get sampleRate(){const t=this.instance.get_property(sC);return pi(t)?t:null}get minimumDuration(){const t=this.instance.get_property(oC);return pi(t)?t:null}get status(){return this.receivedDecide?this.isRecordingEnabled?An(this._linkedFlag)||this._linkedFlagSeen?this.urlTriggerStatus==="trigger_pending"?"buffering":ca(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var t,n;if(this.receivedDecide&&this._urlTriggers.length===0)return"trigger_disabled";const r=(t=this.instance)===null||t===void 0?void 0:t.get_property(ip);var i,s,o,a;return((n=this.instance)===null||n===void 0?void 0:n.get_property(rp))!==this.sessionId?((i=this.instance)===null||i===void 0||(s=i.persistence)===null||s===void 0||s.unregister(rp),(o=this.instance)===null||o===void 0||(a=o.persistence)===null||a===void 0||a.unregister(ip),"trigger_pending"):_$.includes(r)?r:"trigger_pending"}set urlTriggerStatus(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[rp]:this.sessionId,[ip]:t})}startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),J==null||J.addEventListener("beforeunload",this._onBeforeUnload),J==null||J.addEventListener("offline",this._onOffline),J==null||J.addEventListener("online",this._onOnline),J==null||J.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),An(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance._addCaptureHook(n=>{try{if(n==="$pageview"){const r=J?this._maskUrl(J.location.href):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(r){ie.error("Could not add $pageview to rrweb session",r)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((n,r,i)=>{var s,o,a,l;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(o=s.persistence)===null||o===void 0||o.unregister(rp),(a=this.instance)===null||a===void 0||(l=a.persistence)===null||l===void 0||l.unregister(ip))}))):this.stopRecording()}stopRecording(){var t,n,r;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,J==null||J.removeEventListener("beforeunload",this._onBeforeUnload),J==null||J.removeEventListener("offline",this._onOffline),J==null||J.removeEventListener("online",this._onOnline),J==null||J.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(t=this._removePageViewCaptureHook)===null||t===void 0||t.call(this),this._removePageViewCaptureHook=void 0,(n=this._onSessionIdListener)===null||n===void 0||n.call(this),this._onSessionIdListener=void 0,(r=this._samplingSessionListener)===null||r===void 0||r.call(this),this._samplingSessionListener=void 0,ie.info(Pr+" stopped"))}makeSamplingDecision(t){var n;const r=this.sessionId!==t,i=this.sampleRate;var s;if(!pi(i))return void((s=this.instance.persistence)===null||s===void 0||s.register({[$d]:null}));const o=this.isSampled;let a;const l=r||!ca(o);l?a=Math.random()<i:a=o,l&&(a?this._reportStarted("sampling"):ie.warn(Pr+` Sample rate (${i}) has determined that this sessionId (${t}) will not be sent to the server.`),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:a})),(n=this.instance.persistence)===null||n===void 0||n.register({[$d]:a})}afterDecideResponse(t){var n,r,i,s;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(s=t.sessionRecording)===null||s===void 0?void 0:s.endpoint),this._setupSampling(),!An(this._linkedFlag)&&!this._linkedFlagSeen){const o=xr(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=xr(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((l,c)=>{const u=Tn(c)&&o in c,d=a?c[o]===a:u;if(d){const h={linkedFlag:o,linkedVariant:a},p="linked flag matched";ie.info(Pr+" "+p,h),this._tryAddCustomEvent(p,h),this._reportStarted("linked_flag_match")}this._linkedFlagSeen=d})}(i=t.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=t.sessionRecording.urlTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){pi(this.sampleRate)&&An(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(t=>{this.makeSamplingDecision(t)}))}_persistDecideResponse(t){if(this.instance.persistence){var n;const r=this.instance.persistence,i=()=>{var s,o,a,l,c,u,d;const h=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,p=An(h)?null:parseFloat(h),g=(o=t.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;r.register({[h1]:!!t.sessionRecording,[nC]:(a=t.sessionRecording)===null||a===void 0?void 0:a.consoleLogRecordingEnabled,[rC]:{capturePerformance:t.capturePerformance,...(l=t.sessionRecording)===null||l===void 0?void 0:l.networkPayloadCapture},[iC]:{enabled:(c=t.sessionRecording)===null||c===void 0?void 0:c.recordCanvas,fps:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasFps,quality:(d=t.sessionRecording)===null||d===void 0?void 0:d.canvasQuality},[sC]:p,[oC]:Oe(g)?null:g})};i(),(n=this._persistDecideOnSessionListener)===null||n===void 0||n.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(t){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}_startCapture(t){if(!Oe(Object.assign)&&!Oe(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var n,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(n=et.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"recorder",i=>{if(i)return ie.error(Pr+" could not load recorder",i);this._onScriptLoaded()}),ie.info(Pr+" starting"),this.status==="active"&&this._reportStarted(t||"recording_initialized")}}isInteractiveEvent(t){var n;return t.type===3&&b$.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}_updateWindowAndSessionIds(t){const n=this.isInteractiveEvent(t);!n&&!this.isIdle&&t.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());let r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),this.isIdle)return;const{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),o=this.sessionId!==s,a=this.windowId!==i;this.windowId=i,this.sessionId=s,o||a?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}_tryRRWebMethod(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ie.warn(Pr+" could not emit queued rrweb event.",n,t),!1}}_tryAddCustomEvent(t,n){return this._tryRRWebMethod(EC(()=>this.rrwebRecord.addCustomEvent(t,n)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(EC(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var t;const n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(const[s,o]of Object.entries(r||{}))s in n&&(s==="maskInputOptions"?n.maskInputOptions={password:!0,...o}:n[s]=o);if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),!this.rrwebRecord)return void ie.error(Pr+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.");this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new c$(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(s,o)=>{const a=`Too many mutations on node '${s}'. Rate limiting. This could be due to SVG animations or something similar`;ie.info(a,{node:o}),this.log(Pr+" "+a,"warn")}});const i=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord({emit:s=>{this.onRRwebEmit(s)},plugins:i,...n}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:i.map(s=>s==null?void 0:s.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this.isIdle)return;const t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},t))}_gatherRRWebPlugins(){var t,n,r,i;const s=[],o=(t=et.__PosthogExtensions__)===null||t===void 0||(n=t.rrwebPlugins)===null||n===void 0?void 0:n.getRecordConsolePlugin;o&&this.isConsoleLogCaptureEnabled&&s.push(o());const a=(r=et.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&qi(a)&&(!DD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(a(l$(this.instance.config,this.networkPayloadCapture))):ie.info(Pr+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(t){var n;if(this._processQueuedEvents(),!t||!Tn(t))return;if(t.type===ea.Meta){const a=this._maskUrl(t.data.href);if(this._lastHref=a,!a)return;t.data.href=a}else this._pageViewFallBack();this._checkUrlTrigger(),t.type===ea.FullSnapshot&&this._scheduleFullSnapshot(),t.type===ea.FullSnapshot&&this.urlTriggerStatus==="trigger_pending"&&this.clearBuffer();const r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(!r)return;const i=function(a){const l=a;if(l&&Tn(l)&&l.type===6&&Tn(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));const c=[];for(let u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r);if(this._updateWindowAndSessionIds(i),this.isIdle&&!CC(i))return;if(CC(i)){const a=i.data.payload;if(a){const l=a.lastActivityTimestamp,c=a.threshold;i.timestamp=l+c}}const s=(n=this.instance.config.session_recording.compress_events)===null||n===void 0||n?function(a){if(am(a)<1024)return a;try{if(a.type===ea.FullSnapshot)return{...a,data:Xa(a.data),cv:"2024-10"};if(a.type===ea.IncrementalSnapshot&&a.data.source===ys.Mutation)return{...a,cv:"2024-10",data:{...a.data,texts:Xa(a.data.texts),attributes:Xa(a.data.attributes),removes:Xa(a.data.removes),adds:Xa(a.data.adds)}};if(a.type===ea.IncrementalSnapshot&&a.data.source===ys.StyleSheetRule)return{...a,cv:"2024-10",data:{...a.data,adds:Xa(a.data.adds),removes:Xa(a.data.removes)}}}catch(l){ie.error(Pr+" could not compress event - will use uncompressed event",l)}return a}(i):i,o={$snapshot_bytes:am(s),$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}_pageViewFallBack(){if(this.instance.config.capture_pageview||!J)return;const t=this._maskUrl(J.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}_processQueuedEvents(){if(this.queuedRRWebEvents.length){const t=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this._tryRRWebMethod(n)})}}_maskUrl(t){const n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r;let i={url:t};return i=n.maskNetworkRequestFn(i),(r=i)===null||r===void 0?void 0:r.url}return t}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);const t=this.minimumDuration,n=this.sessionDuration,r=pi(n)&&n>=0,i=pi(t)&&r&&n<t;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&E1(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(t){var n;const r=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);!this.isIdle&&(this.buffer.size+t.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTrigger(){if(J===void 0||!J.location.href)return;const t=J.location.href;this._urlTriggers.some(n=>n.matching==="regex"&&new RegExp(n.url).test(t))&&this._activateUrlTrigger()}_activateUrlTrigger(){this.urlTriggerStatus==="trigger_pending"&&(this.urlTriggerStatus="trigger_activated",this._tryAddCustomEvent("url trigger activated",{}),this._flushBuffer(),ie.info(Pr+" recording triggered by URL pattern match"))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_override")}overrideSampling(){var t;(t=this.instance.persistence)===null||t===void 0||t.register({[$d]:!0}),this._reportStarted("sampling_override")}_reportStarted(t){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!0)()&&this.instance.register_for_session({$session_recording_start_reason:t})}}class x${constructor(t){this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){const t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(jc),group_properties:this.instance.get_property(Zo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:ws.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:n=>this.parseDecideResponse(n.json)})}parseDecideResponse(t){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();const n=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},n),n)ie.error("Failed to fetch feature flags from PostHog.");else{if(!we||!we.body)return ie.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(t)},500);if(this.instance._afterDecideResponse(t),t.siteApps)if(this.instance.config.opt_in_site_apps)for(const{id:o,url:a}of t.siteApps){var r,i,s;et[`__$$ph_site_app_${o}`]=this.instance,(r=et.__PosthogExtensions__)===null||r===void 0||(i=(s=r).loadSiteApp)===null||i===void 0||i.call(s,this.instance,a,l=>{if(l)return ie.error(`Error while initializing PostHog app with config id ${o}`,l)})}else t.siteApps.length>0&&ie.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}const w$=J!=null&&J.location?sm(J.location.hash,"__posthog")||sm(location.hash,"state"):null,kC="_postHogToolbarParams";var mo;(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(mo||(mo={}));class E${constructor(t){this.instance=t}setToolbarState(t){et.ph_toolbar_state=t}getToolbarState(){var t;return(t=et.ph_toolbar_state)!==null&&t!==void 0?t:mo.UNINITIALIZED}maybeLoadToolbar(){var t,n;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!J||!we)return!1;r=(t=r)!==null&&t!==void 0?t:J.location,s=(n=s)!==null&&n!==void 0?n:J.history;try{if(!i){try{J.localStorage.setItem("test","test"),J.localStorage.removeItem("test")}catch{return!1}i=J==null?void 0:J.localStorage}const o=w$||sm(r.hash,"__posthog")||sm(r.hash,"state");let a;const l=o?YE(()=>JSON.parse(atob(decodeURIComponent(o))))||YE(()=>JSON.parse(decodeURIComponent(o))):null;return l&&l.action==="ph_authorize"?(a=l,a.source="url",a&&Object.keys(a).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):(a=JSON.parse(i.getItem(kC)||"{}"),a.source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}_callLoadToolbar(t){(et.ph_load_toolbar||et.ph_load_editor)(t,this.instance)}loadToolbar(t){const n=!(we==null||!we.getElementById(b1));if(!J||n)return!1;const r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i={token:this.instance.config.token,...t,apiURL:this.instance.requestRouter.endpointFor("ui"),...r?{instrument:!1}:{}};if(J.localStorage.setItem(kC,JSON.stringify({...i,source:void 0})),this.getToolbarState()===mo.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===mo.UNINITIALIZED){var s,o;this.setToolbarState(mo.LOADING),(s=et.__PosthogExtensions__)===null||s===void 0||(o=s.loadExternalDependency)===null||o===void 0||o.call(s,this.instance,"toolbar",a=>{if(a)return ie.error("Failed to load toolbar",a),void this.setToolbarState(mo.UNINITIALIZED);this.setToolbarState(mo.LOADED),this._callLoadToolbar(i)}),_o(J,"turbolinks:load",()=>{this.setToolbarState(mo.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(t){return this.loadToolbar(t)}maybeLoadEditor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}class C${constructor(t){ve(this,"isPaused",!0);ve(this,"queue",[]);ve(this,"flushTimeoutMs",3e3);this.sendRequest=t}enqueue(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();const t=this.queue.length>0?this.formatQueue():{},n=Object.values(t);[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)].map(i=>{this.sendRequest({...i,transport:"sendBeacon"})})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){const t=this.formatQueue();for(const n in t){const r=t[n],i=new Date().getTime();r.data&&Hn(r.data)&&Bt(r.data,s=>{s.offset=Math.abs(s.timestamp-i),delete s.timestamp}),this.sendRequest(r)}}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){const t={};return Bt(this.queue,n=>{var r;const i=n,s=(i?i.batchKey:null)||i.url;Oe(t[s])&&(t[s]={...i,data:[]}),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}const k$=!!SS||!!_S,TC="text/plain",um=(e,t)=>{const[n,r]=e.split("?"),i={...t};r==null||r.split("&").forEach(o=>{const[a]=o.split("=");delete i[a]});let s=$D(i);return s=s?(r?r+"&":"")+s:r,`${n}?${s}`},PS=e=>{let{data:t,compression:n}=e;if(!t)return;if(n===ws.GZipJS){const i=t5(n5(JSON.stringify(t)),{mtime:0}),s=new Blob([i],{type:TC});return{contentType:TC,body:s,estimatedSize:s.size}}if(n===ws.Base64){const i=function(o){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let l,c,u,d,h,p,g,m,b=0,y=0,A="";const _=[];if(!o)return o;o=CD(o);do l=o.charCodeAt(b++),c=o.charCodeAt(b++),u=o.charCodeAt(b++),m=l<<16|c<<8|u,d=m>>18&63,h=m>>12&63,p=m>>6&63,g=63&m,_[y++]=a.charAt(d)+a.charAt(h)+a.charAt(p)+a.charAt(g);while(b<o.length);switch(A=_.join(""),o.length%3){case 1:A=A.slice(0,-2)+"==";break;case 2:A=A.slice(0,-1)+"="}return A}(JSON.stringify(t)),s=(o=>"data="+encodeURIComponent(typeof o=="string"?o:JSON.stringify(o)))(i);return{contentType:"application/x-www-form-urlencoded",body:s,estimatedSize:new Blob([s]).size}}const r=JSON.stringify(t);return{contentType:"application/json",body:r,estimatedSize:new Blob([r]).size}},T$=e=>{var t;const n=new SS;n.open(e.method||"GET",e.url,!0);const{contentType:r,body:i}=(t=PS(e))!==null&&t!==void 0?t:{};Bt(e.headers,function(s,o){n.setRequestHeader(o,s)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s;const o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,o)}},n.send(i)},I$=e=>{var t,n;const{contentType:r,body:i,estimatedSize:s}=(t=PS(e))!==null&&t!==void 0?t:{},o=new Headers;Bt(e.headers,function(c,u){o.append(u,c)}),r&&o.append("Content-Type",r);const a=e.url;let l=null;if(GE){const c=new GE;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),e.timeout)}}_S(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(c=>c.text().then(u=>{var d;const h={statusCode:c.status,text:u};if(c.status===200)try{h.json=JSON.parse(u)}catch(p){ie.error(p)}(d=e.callback)===null||d===void 0||d.call(e,h)})).catch(c=>{var u;ie.error(c),(u=e.callback)===null||u===void 0||u.call(e,{statusCode:0,text:c})}).finally(()=>l?clearTimeout(l.timeout):null)},P$=e=>{const t=um(e.url,{beacon:"1"});try{var n;const{contentType:r,body:i}=(n=PS(e))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;mi.sendBeacon(t,s)}catch{}},of=[];SS&&of.push({transport:"XHR",method:T$}),_S&&of.push({transport:"fetch",method:I$}),mi!=null&&mi.sendBeacon&&of.push({transport:"sendBeacon",method:P$});class M${constructor(t){ve(this,"isPolling",!1);ve(this,"pollIntervalMs",3e3);ve(this,"queue",[]);this.instance=t,this.queue=[],this.areWeOnline=!0,!Oe(J)&&"onLine"in J.navigator&&(this.areWeOnline=J.navigator.onLine,J.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),J.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(t){let{retriesPerformedSoFar:n,...r}=t;pi(n)&&n>0&&(r.url=um(r.url,{retry_count:n})),this.instance._send_request({...r,callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.enqueue({retriesPerformedSoFar:n,...r}):(s=r.callback)===null||s===void 0||s.call(r,i)}})}enqueue(t){const n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;const r=function(o){const a=3e3*2**o,l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});let s=`Enqueued failed request for retry in ${r}`;navigator.onLine||(s+=" (Browser is offline)"),ie.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){const t=Date.now(),n=[],r=this.queue.filter(i=>i.retryAt<t||(n.push(i),!1));if(this.queue=n,r.length>0)for(const{requestOptions:i}of r)this.retriableRequest(i)}unload(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);for(const{requestOptions:t}of this.queue)try{this.instance._send_request({...t,transport:"sendBeacon"})}catch(n){ie.error(n)}this.queue=[]}}class R${constructor(t,n,r,i){ve(this,"_sessionIdChangedHandlers",[]);var s;this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||ua,this._windowIdGenerator=i||ua;const o=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*wo(a,60,1800,"session_idle_timeout_seconds"),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){const l=lr.parse(this._window_id_storage_key),c=lr.parse(this._primary_window_exists_storage_key);l&&!c?this._windowId=l:lr.remove(this._window_id_storage_key),lr.set(this._primary_window_exists_storage_key,!0)}if((s=this.config.bootstrap)!==null&&s!==void 0&&s.sessionID)try{const l=(c=>{const u=c.replace(/-/g,"");if(u.length!==32)throw new Error("Not a valid UUID");if(u[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(u.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),l)}catch(l){ie.error("Invalid sessionID in bootstrap",l)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Oe(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(n=>n!==t)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&lr.is_supported()}_setWindowId(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&lr.set(this._window_id_storage_key,t))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?lr.parse(this._window_id_storage_key):null}_setSessionId(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register({[tm]:[n,t,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];const t=this.persistence.props[tm];return Hn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){J==null||J.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&lr.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime();let[r,i,s]=this._getSessionId(),o=this._getWindowId();const a=pi(s)&&s>0&&Math.abs(n-s)>864e5;let l=!1;const c=!i,u=!t&&Math.abs(n-r)>this.sessionTimeoutMs;c||u||a?(i=this._sessionIdGenerator(),o=this._windowIdGenerator(),ie.info("[SessionId] new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}}),s=n,l=!0):o||(o=this._windowIdGenerator(),l=!0);const d=r===0||!t||a?n:r,h=s===0?new Date().getTime():s;return this._setWindowId(o),this._setSessionId(i,d,h),l&&this._sessionIdChangedHandlers.forEach(p=>p(i,o,l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0)),{sessionId:i,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}}let gl;(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(gl||(gl={}));const IC="i.posthog.com";class j${constructor(t){ve(this,"_regionCache",{});this.instance=t}get apiHost(){const t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t;let n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace(`.${IC}`,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=gl.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=gl.EU:this._regionCache[this.apiHost]=gl.CUSTOM),this._regionCache[this.apiHost]}endpointFor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:`/${n}`),t==="ui")return this.uiHost+n;if(this.region===gl.CUSTOM)return this.apiHost+n;const r=IC+n;switch(t){case"assets":return`https://${this.region}-assets.${r}`;case"api":return`https://${this.region}.${r}`}}}const r5="posthog-js";function i5(e){let{organization:t,projectId:n,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var o,a,l,c,u;if(!(i==="*"||i.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});const d=e.requestRouter.endpointFor("ui",`/project/${e.config.token}/person/${e.get_distinct_id()}`);s.tags["PostHog Person URL"]=d,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));const h=((o=s.exception)===null||o===void 0?void 0:o.values)||[],p={$exception_message:((a=h[0])===null||a===void 0?void 0:a.value)||s.message,$exception_type:(l=h[0])===null||l===void 0?void 0:l.type,$exception_personURL:d,$exception_level:s.level,$exception_list:h,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((c=h[0])===null||c===void 0?void 0:c.value)||s.message,$sentry_exception_type:(u=h[0])===null||u===void 0?void 0:u.type,$sentry_tags:s.tags,$level:s.level};return t&&n&&(p.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+s.event_id),e.exceptions.sendExceptionEvent(p),s}}class O${constructor(t,n,r,i,s){this.name=r5,this.setupOnce=function(o){o(i5(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}function V$(e,t){const n=e.config.segment;if(!n)return t();(function(r,i){const s=r.config.segment;if(!s)return i();const o=l=>{const c=()=>l.anonymousId()||ua();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(go,"identified")),i()},a=s.user();"then"in a&&qi(a.then)?a.then(l=>o(l)):o(a)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||ie.warn("This browser does not have Promise support, and can not use the segment integration");const i=(s,o)=>{var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(ie.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(ie.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));const l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{},new Date);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then(()=>{t()})})}class L${constructor(t){this._instance=t}doPageView(t){var n;const r=this._previousPageViewProperties(t);return this._currentPath=(n=J==null?void 0:J.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}doPageLeave(t){return this._previousPageViewProperties(t)}_previousPageViewProperties(t){const n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};let s={};if(i){let{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:d}=i;Oe(o)||Oe(a)||Oe(l)||Oe(c)||Oe(u)||Oe(d)||(o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),s={$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:o<=1?1:wo(a/o,0,1),$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:o<=1?1:wo(l/o,0,1),$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c<=1?1:wo(u/c,0,1),$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:c<=1?1:wo(d/c,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}let PC,dm,ms;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(PC||(PC={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(dm||(dm={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(ms||(ms={}));class s5{constructor(){ve(this,"events",{});this.events={}}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),()=>{this.events[t]=this.events[t].filter(r=>r!==n)}}emit(t,n){for(const r of this.events[t]||[])r(n);for(const r of this.events["*"]||[])r(t,n)}}class ul{constructor(t){ve(this,"_debugEventEmitter",new s5);ve(this,"checkStep",(t,n)=>this.checkStepEvent(t,n)&&this.checkStepUrl(t,n)&&this.checkStepElement(t,n));ve(this,"checkStepEvent",(t,n)=>n==null||!n.event||(t==null?void 0:t.event)===(n==null?void 0:n.event));this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var t;if(!Oe((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var n;const r=(i,s)=>{this.on(i,s)};(n=this.instance)===null||n===void 0||n._addCaptureHook(r)}}register(t){var n,r;if(!Oe((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(s=>{var o,a;(o=this.actionRegistry)===null||o===void 0||o.add(s),(a=s.steps)===null||a===void 0||a.forEach(l=>{var c;(c=this.actionEvents)===null||c===void 0||c.add((l==null?void 0:l.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i;const s=new Set;t.forEach(o=>{var a;(a=o.steps)===null||a===void 0||a.forEach(l=>{l!=null&&l.selector&&s.add(l==null?void 0:l.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(t,n){var r;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(n,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(t){this.onAction("actionCaptured",n=>t(n))}checkAction(t,n){if((n==null?void 0:n.steps)==null)return!1;for(const r of n.steps)if(this.checkStep(t,r))return!0;return!1}onAction(t,n){return this._debugEventEmitter.on(t,n)}checkStepUrl(t,n){if(n!=null&&n.url){var r;const i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!ul.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static matchString(t,n,r){switch(r){case"regex":return!!J&&mu(t,n);case"exact":return n===t;case"contains":const i=ul.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return mu(t,i);default:return!1}}static escapeStringRegexp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(i=>!(n!=null&&n.href&&!ul.matchString(i.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||i.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!ul.matchString(i.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!ul.matchString(i.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r;const i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}getElementsList(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}const E0=class E0{constructor(t){this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(t){var n;Oe((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}setupActionBasedSurveys(t){const n=t.filter(r=>{var i,s,o,a;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(o=s.actions)===null||o===void 0||(a=o.values)===null||a===void 0?void 0:a.length)>0});if(n.length!==0){if(this.actionMatcher==null){this.actionMatcher=new ul(this.instance),this.actionMatcher.init();const r=i=>{this.onAction(i)};this.actionMatcher._addActionHook(r)}n.forEach(r=>{var i,s,o,a,l,c,u,d,h,p;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(o=s.actions)!==null&&o!==void 0&&o.values&&((a=r.conditions)===null||a===void 0||(l=a.actions)===null||l===void 0||(c=l.values)===null||c===void 0?void 0:c.length)>0&&((u=this.actionMatcher)===null||u===void 0||u.register(r.conditions.actions.values),(d=r.conditions)===null||d===void 0||(h=d.actions)===null||h===void 0||(p=h.values)===null||p===void 0||p.forEach(g=>{if(g&&g.name){const m=this.actionToSurveys.get(g.name);m&&m.push(r.id),this.actionToSurveys.set(g.name,m||[r.id])}}))})}}setupEventBasedSurveys(t){var n;t.filter(r=>{var i,s,o,a;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(o=s.events)===null||o===void 0||(a=o.values)===null||a===void 0?void 0:a.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,s,o;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(o=s.values)===null||o===void 0||o.forEach(a=>{if(a&&a.name){const l=this.eventToSurveys.get(a.name);l&&l.push(r.id),this.eventToSurveys.set(a.name,l||[r.id])}})}))}onEvent(t,n){var r,i;const s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[sp])||[];if(E0.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var o;const a=n==null||(o=n.properties)===null||o===void 0?void 0:o.$survey_id;if(a){const l=s.indexOf(a);l>=0&&(s.splice(l,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}onAction(t){var n,r;const i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[sp])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}_updateActivatedSurveys(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[sp]:[...new Set(t)]})}getSurveys(){var t,n;return((t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[sp])||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}};ve(E0,"SURVEY_SHOWN_EVENT_NAME","survey shown");let fm=E0;var o5,bn,a5,dl,MC,l5,O1,c5,V1={},u5=[],N$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,MS=Array.isArray;function da(e,t){for(var n in t)e[n]=t[n];return e}function d5(e){var t=e.parentNode;t&&t.removeChild(e)}function xv(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++a5,__i:-1,__u:0};return i==null&&bn.vnode!=null&&bn.vnode(s),s}function RS(e){return e.children}function yg(e,t){this.props=e,this.context=t}function bu(e,t){if(t==null)return e.__?bu(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?bu(e):null}function f5(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return f5(e)}}function L1(e){(!e.__d&&(e.__d=!0)&&dl.push(e)&&!hm.__r++||MC!==bn.debounceRendering)&&((MC=bn.debounceRendering)||l5)(hm)}function hm(){var e,t,n,r,i,s,o,a,l;for(dl.sort(O1);e=dl.shift();)e.__d&&(t=dl.length,r=void 0,s=(i=(n=e).__v).__e,a=[],l=[],(o=n.__P)&&((r=da({},i)).__v=i.__v+1,bn.vnode&&bn.vnode(r),g5(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s??bu(i),!!(32&i.__u),l),r.__.__k[r.__i]=r,$$(a,r,l),r.__e!=s&&f5(r)),dl.length>t&&dl.sort(O1));hm.__r=0}function h5(e,t,n,r,i,s,o,a,l,c,u){var d,h,p,g,m,b=r&&r.__k||u5,y=t.length;for(n.__d=l,B$(n,t,b),l=n.__d,d=0;d<y;d++)(p=n.__k[d])!=null&&typeof p!="boolean"&&typeof p!="function"&&(h=p.__i===-1?V1:b[p.__i]||V1,p.__i=d,g5(e,p,h,i,s,o,a,l,c,u),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&jS(h.ref,null,p),u.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),65536&p.__u||h.__k===p.__k?l=p5(p,l,e):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:g&&(l=g.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=m}function B$(e,t,n){var r,i,s,o,a,l=t.length,c=n.length,u=c,d=0;for(e.__k=[],r=0;r<l;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?xv(null,i,null,null,i):MS(i)?xv(RS,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?xv(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,a=D$(i,n,o=r+d,u),i.__i=a,s=null,a!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?d++:a>o?u>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==r+d&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=bu(s)),N1(s,s,!1),n[r]=null,u--);if(u)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=bu(s)),N1(s,s))}function p5(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=p5(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function D$(e,t,n,r){var i=e.key,s=e.type,o=n-1,a=n+1,l=t[n];if(l===null||l&&i==l.key&&s===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function RC(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||N$.test(t)?n:n+"px"}function dp(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||RC(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||RC(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?OC:jC,s)):e.removeEventListener(t,s?OC:jC,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function jC(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(bn.event?bn.event(e):e)}function OC(e){return this.l[e.type+!0](bn.event?bn.event(e):e)}function g5(e,t,n,r,i,s,o,a,l,c){var u,d,h,p,g,m,b,y,A,_,x,S,E,C,k,V=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=t.__e=n.__e]),(u=bn.__b)&&u(t);e:if(typeof V=="function")try{if(y=t.props,A=(u=V.contextType)&&r[u.__c],_=u?A?A.props.value:u.__:r,n.__c?b=(d=t.__c=n.__c).__=d.__E:("prototype"in V&&V.prototype.render?t.__c=d=new V(y,_):(t.__c=d=new yg(y,_),d.constructor=V,d.render=z$),A&&A.sub(d),d.props=y,d.state||(d.state={}),d.context=_,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),V.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=da({},d.__s)),da(d.__s,V.getDerivedStateFromProps(y,d.__s))),p=d.props,g=d.state,d.__v=t,h)V.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(V.getDerivedStateFromProps==null&&y!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,_),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,_)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(w){w&&(w.__=t)}),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,_),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,g,m)})}if(d.context=_,d.props=y,d.__P=e,d.__e=!1,S=bn.__r,E=0,"prototype"in V&&V.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(t),u=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do d.__d=!1,S&&S(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25);d.state=d.__s,d.getChildContext!=null&&(r=da(da({},r),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(p,g)),h5(e,MS(k=u!=null&&u.type===RS&&u.key==null?u.props.children:u)?k:[k],t,n,r,i,s,o,a,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),b&&(d.__E=d.__=null)}catch(w){t.__v=null,l||s!=null?(t.__e=a,t.__u|=l?160:32,s[s.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),bn.__e(w,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=F$(n.__e,t,n,r,i,s,o,l,c);(u=bn.diffed)&&u(t)}function $$(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)jS(n[r],n[++r],n[++r]);bn.__c&&bn.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){bn.__e(s,i.__v)}})}function F$(e,t,n,r,i,s,o,a,l){var c,u,d,h,p,g,m,b=n.props,y=t.props,A=t.type;if(A==="svg"&&(i=!0),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!A&&(A?p.localName===A:p.nodeType===3)){e=p,s[c]=null;break}}if(e==null){if(A===null)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,y.is&&y),s=null,a=!1}if(A===null)b===y||a&&e.data===y||(e.data=y);else{if(s=s&&o5.call(e.childNodes),b=n.props||V1,!a&&s!=null)for(b={},c=0;c<e.attributes.length;c++)b[(p=e.attributes[c]).name]=p.value;for(c in b)p=b[c],c=="children"||(c=="dangerouslySetInnerHTML"?d=p:c==="key"||c in y||dp(e,c,null,p,i));for(c in y)p=y[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?g=p:c=="checked"?m=p:c==="key"||a&&typeof p!="function"||b[c]===p||dp(e,c,p,b[c],i);if(u)a||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),h5(e,MS(h)?h:[h],t,n,r,i&&A!=="foreignObject",s,o,s?s[0]:n.__k&&bu(n,0),a,l),s!=null)for(c=s.length;c--;)s[c]!=null&&d5(s[c]);a||(c="value",g!==void 0&&(g!==e[c]||A==="progress"&&!g||A==="option"&&g!==b[c])&&dp(e,c,g,b[c],!1),c="checked",m!==void 0&&m!==e[c]&&dp(e,c,m,b[c],!1))}return e}function jS(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){bn.__e(r,n)}}function N1(e,t,n){var r,i;if(bn.unmount&&bn.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||jS(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){bn.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&N1(r[i],t,n||typeof e.type!="function");n||e.__e==null||d5(e.__e),e.__=e.__e=e.__d=void 0}function z$(e,t,n){return this.constructor(e,n)}o5=u5.slice,bn={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(a){e=a}throw e}},a5=0,yg.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=da({},this.state),typeof e=="function"&&(e=e(da({},n),this.props)),e&&da(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),L1(this))},yg.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),L1(this))},yg.prototype.render=RS,dl=[],l5=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,O1=function(e,t){return e.__v.__b-t.__v.__b},hm.__r=0,c5=0;(function(e,t){var n={__c:t="__cC"+c5++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,L1(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};n.Provider.__=n.Consumer.contextType=n})({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});const yd="[Surveys]",U$={icontains:e=>!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:e=>!!J&&J.location.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:e=>!!J&&mu(J.location.href,e),not_regex:e=>!!J&&!mu(J.location.href,e),exact:e=>(J==null?void 0:J.location.href)===e,is_not:e=>(J==null?void 0:J.location.href)!==e};class H${constructor(t){this.instance=t,this._surveyEventReceiver=null}afterDecideResponse(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate"),(()=>{const n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);i!=null&&i.startsWith("seenSurvey_")&&n.push(i)}return n})().forEach(n=>localStorage.removeItem(n))}loadIfEnabled(){var t;const n=et==null||(t=et.__PosthogExtensions__)===null||t===void 0?void 0:t.generateSurveys;var r,i;this.instance.config.disable_surveys||!this._decideServerResponse||n||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new fm(this.instance)),(r=et.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"surveys",s=>{var o,a;if(s)return ie.error(yd,"Could not load surveys script",s);this._surveyManager=(o=et.__PosthogExtensions__)===null||o===void 0||(a=o.generateSurveys)===null||a===void 0?void 0:a.call(o,this.instance)}))}getSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new fm(this.instance));const r=this.instance.get_property(g1);if(r&&!n)return t(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api",`/api/surveys/?token=${this.instance.config.token}`),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return t([]);const o=i.json.surveys||[],a=o.filter(c=>{var u,d,h,p,g,m,b,y,A,_,x,S;return((u=c.conditions)===null||u===void 0?void 0:u.events)&&((d=c.conditions)===null||d===void 0||(h=d.events)===null||h===void 0?void 0:h.values)&&((p=c.conditions)===null||p===void 0||(g=p.events)===null||g===void 0||(m=g.values)===null||m===void 0?void 0:m.length)>0||((b=c.conditions)===null||b===void 0?void 0:b.actions)&&((y=c.conditions)===null||y===void 0||(A=y.actions)===null||A===void 0?void 0:A.values)&&((_=c.conditions)===null||_===void 0||(x=_.actions)===null||x===void 0||(S=x.values)===null||S===void 0?void 0:S.length)>0});var l;return a.length>0&&((l=this._surveyEventReceiver)===null||l===void 0||l.register(a)),(s=this.instance.persistence)===null||s===void 0||s.register({[g1]:o}),t(o)}})}getActiveMatchingSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i;const s=r.filter(l=>!(!l.start_date||l.end_date)).filter(l=>{var c,u,d,h;if(!l.conditions)return!0;const p=(c=l.conditions)===null||c===void 0||!c.url||U$[(u=(d=l.conditions)===null||d===void 0?void 0:d.urlMatchType)!==null&&u!==void 0?u:"icontains"](l.conditions.url),g=(h=l.conditions)===null||h===void 0||!h.selector||(we==null?void 0:we.querySelector(l.conditions.selector));return p&&g}),o=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),a=s.filter(l=>{var c,u,d,h,p,g,m,b,y,A;if(!l.linked_flag_key&&!l.targeting_flag_key&&!l.internal_targeting_flag_key)return!0;const _=!l.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(l.linked_flag_key),x=!l.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(l.targeting_flag_key),S=((c=l.conditions)===null||c===void 0?void 0:c.events)&&((u=l.conditions)===null||u===void 0||(d=u.events)===null||d===void 0?void 0:d.values)&&((h=l.conditions)===null||h===void 0||(p=h.events)===null||p===void 0?void 0:p.values.length)>0,E=((g=l.conditions)===null||g===void 0?void 0:g.actions)&&((m=l.conditions)===null||m===void 0||(b=m.actions)===null||b===void 0?void 0:b.values)&&((y=l.conditions)===null||y===void 0||(A=y.actions)===null||A===void 0?void 0:A.values.length)>0,C=!S&&!E||(o==null?void 0:o.includes(l.id)),k=this._canActivateRepeatedly(l),V=!(l.internal_targeting_flag_key&&!k)||this.instance.featureFlags.isFeatureEnabled(l.internal_targeting_flag_key);return _&&x&&V&&C});return t(a)},n)}getNextSurveyStep(t,n,r){var i;const s=t.questions[n],o=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?ms.End:o;if(s.branching.type===ms.End)return ms.End;if(s.branching.type===ms.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===ms.ResponseBased){if(s.type===dm.SingleChoice){var a,l;const d=s.choices.indexOf(`${r}`);if((a=s.branching)!==null&&a!==void 0&&(l=a.responseValues)!==null&&l!==void 0&&l.hasOwnProperty(d)){const h=s.branching.responseValues[d];return Number.isInteger(h)?h:h===ms.End?ms.End:o}}else if(s.type===dm.Rating){var c,u;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");const d=function(h,p){if(p===3){if(h<1||h>3)throw new Error("The response must be in range 1-3");return h===1?"negative":h===2?"neutral":"positive"}if(p===5){if(h<1||h>5)throw new Error("The response must be in range 1-5");return h<=2?"negative":h===3?"neutral":"positive"}if(p===7){if(h<1||h>7)throw new Error("The response must be in range 1-7");return h<=3?"negative":h===4?"neutral":"positive"}if(p===10){if(h<0||h>10)throw new Error("The response must be in range 0-10");return h<=6?"detractors":h<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((c=s.branching)!==null&&c!==void 0&&(u=c.responseValues)!==null&&u!==void 0&&u.hasOwnProperty(d)){const h=s.branching.responseValues[d];return Number.isInteger(h)?h:h===ms.End?ms.End:o}}return o}return ie.warn(yd,"Falling back to next question index due to unexpected branching type"),o}_canActivateRepeatedly(t){var n;return An((n=et.__PosthogExtensions__)===null||n===void 0?void 0:n.canActivateRepeatedly)?(ie.warn(yd,"canActivateRepeatedly is not defined, must init before calling"),!1):et.__PosthogExtensions__.canActivateRepeatedly(t)}canRenderSurvey(t){An(this._surveyManager)?ie.warn(yd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(n=>{const r=n.filter(i=>i.id===t)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(t,n){An(this._surveyManager)?ie.warn(yd,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{const i=r.filter(s=>s.id===t)[0];this._surveyManager.renderSurvey(i,we==null?void 0:we.querySelector(n))})}}class G${constructor(t){ve(this,"serverLimits",{});ve(this,"lastEventRateLimited",!1);ve(this,"checkForLimiting",t=>{const n=t.text;if(n&&n.length)try{(JSON.parse(n).quota_limited||[]).forEach(i=>{ie.info(`[RateLimiter] ${i||"events"} is quota limited.`),this.serverLimits[i]=new Date().getTime()+6e4})}catch(r){return void ie.warn(`[RateLimiter] could not rate limit - continuing. Error: "${r==null?void 0:r.message}"`,{text:n})}});var n,r;this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var t,n,r;let i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(y1))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);const a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:`posthog-js client rate limited. Config is set to ${this.captureEventsPerSecond} events per second and ${this.captureEventsBurstLimit} events burst limit.`},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(y1,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(t){const n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}const W$=()=>({initialPathName:(Kr==null?void 0:Kr.pathname)||"",referringDomain:En.referringDomain(),...En.campaignParams()});class q${constructor(t,n,r){ve(this,"_onSessionIdCallback",t=>{const n=this._getStoredProps();if(n&&n.sessionId===t)return;const r={sessionId:t,props:this._sessionSourceParamGenerator()};this._persistence.register({[m1]:r})});this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||W$,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[m1]}getSessionProps(){var t;const n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}const K$=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],VC=function(e,t){if(!e)return!1;const n=e.toLowerCase();return K$.concat(t||[]).some(r=>{const i=r.toLowerCase();return n.indexOf(i)!==-1})},m5=function(e,t){if(!e)return!1;const n=e.userAgent;if(n&&VC(n,t))return!0;try{const r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>VC(i==null?void 0:i.brand,t)))return!0}catch{}return!!e.webdriver};class y5{constructor(){this.clicks=[]}isRageClick(t,n,r){const i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}class Y${constructor(t){ve(this,"rageclicks",new y5);ve(this,"_enabledServerSide",!1);ve(this,"_initialized",!1);ve(this,"_flushInterval",null);var n;this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[f1]),J==null||J.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){let t=5e3;return Tn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Oe(this.instance.config.capture_heatmaps)?Oe(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;ie.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),this.getAndClearBuffer()}}afterDecideResponse(t){const n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[f1]:n}),this._enabledServerSide=n,this.startIfEnabled()}getAndClearBuffer(){const t=this.buffer;return this.buffer=void 0,t}_setupListeners(){J&&we&&(_o(we,"click",t=>this._onClick(t||(J==null?void 0:J.event)),!1,!0),_o(we,"mousemove",t=>this._onMouseMove(t||(J==null?void 0:J.event)),!1,!0),this._initialized=!0)}_getProperties(t,n){const r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){let u=a;for(;u&&P0(u)&&!va(u,"body");){if(u===c)return!1;if(dt(l,J==null?void 0:J.getComputedStyle(u).position))return!0;u=HR(u)}return!1}(UR(t),["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}_onClick(t){var n;if(mC(t.target))return;const r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture({...r,type:"rageclick"}),this._capture(r)}_onMouseMove(t){mC(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(t,"mousemove"))},500))}_capture(t){if(!J)return;const n=J.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}flush(){this.buffer&&!nf(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Q${constructor(t){ve(this,"_updateScrollData",()=>{var t,n,r,i;this.context||(this.context={});const s=this.scrollElement(),o=this.scrollY(),a=s?Math.max(0,s.scrollHeight-s.clientHeight):0,l=o+((s==null?void 0:s.clientHeight)||0),c=(s==null?void 0:s.scrollHeight)||0;this.context.lastScrollY=Math.ceil(o),this.context.maxScrollY=Math.max(o,(t=this.context.maxScrollY)!==null&&t!==void 0?t:0),this.context.maxScrollHeight=Math.max(a,(n=this.context.maxScrollHeight)!==null&&n!==void 0?n:0),this.context.lastContentY=l,this.context.maxContentY=Math.max(l,(r=this.context.maxContentY)!==null&&r!==void 0?r:0),this.context.maxContentHeight=Math.max(c,(i=this.context.maxContentHeight)!==null&&i!==void 0?i:0)});this.instance=t}getContext(){return this.context}resetContext(){const t=this.context;return setTimeout(this._updateScrollData,0),t}startMeasuringScrollPosition(){J==null||J.addEventListener("scroll",this._updateScrollData,!0),J==null||J.addEventListener("scrollend",this._updateScrollData,!0),J==null||J.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return J==null?void 0:J.document.documentElement;{const t=Hn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(const n of t){const r=J==null?void 0:J.document.querySelector(n);if(r)return r}}}scrollY(){if(this.instance.config.scroll_root_selector){const t=this.scrollElement();return t&&t.scrollTop||0}return J&&(J.scrollY||J.pageYOffset||J.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){const t=this.scrollElement();return t&&t.scrollLeft||0}return J&&(J.scrollX||J.pageXOffset||J.document.documentElement.scrollLeft)||0}}const wv="$copy_autocapture";function Ev(e,t){return t.length>e?t.slice(0,e)+"...":t}function J$(e){if(e.previousElementSibling)return e.previousElementSibling;let t=e;do t=t.previousSibling;while(t&&!P0(t));return t}function X$(e,t,n,r){const i=e.tagName.toLowerCase(),s={tag_name:i};C1.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=Ev(1024,KR(e)):s.$el_text=Ev(1024,M0(e)));const o=lm(e);o.length>0&&(s.classes=o.filter(function(u){return u!==""})),Bt(e.attributes,function(u){var d;if((!GR(e)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(r==null||!r.includes(u.name))&&!t&&vu(u.value)&&(d=u.name,!xr(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){let h=u.value;u.name==="class"&&(h=kS(h).join(" ")),s["attr__"+u.name]=Ev(1024,h)}});let a=1,l=1,c=e;for(;c=J$(c);)a++,c.tagName===e.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}function Z$(e,t){var n,r;let{e:i,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=t;const c=[e];let u=e;for(;u.parentNode&&!va(u,"body");)FR(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);const d=[],h={};let p,g=!1,m=!1;if(Bt(c,A=>{const _=k1(A);A.tagName.toLowerCase()==="a"&&(g=A.getAttribute("href"),g=_&&g&&vu(g)&&g),dt(lm(A),"ph-no-capture")&&(m=!0),d.push(X$(A,s,o,a));const x=function(S){if(!k1(S))return{};const E={};return Bt(S.attributes,function(C){if(C.name&&C.name.indexOf("data-ph-capture-attribute")===0){const k=C.name.replace("data-ph-capture-attribute-",""),V=C.value;k&&V&&vu(V)&&(E[k]=V)}}),E}(A);Lr(h,x)}),m)return{props:{},explicitNoCapture:m};if(o||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?d[0].$el_text=KR(e):d[0].$el_text=M0(e)),g){var b,y;d[0].attr__href=g;const A=(b=rf(g))===null||b===void 0?void 0:b.host,_=J==null||(y=J.location)===null||y===void 0?void 0:y.host;A&&_&&A!==_&&(p=g)}return{props:Lr({$event_type:i.type,$ce_version:1},l?{$elements_chain:r$(d)}:{$elements:d},(n=d[0])!==null&&n!==void 0&&n.$el_text?{$el_text:(r=d[0])===null||r===void 0?void 0:r.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},h)}}class eF{constructor(t){ve(this,"_initialized",!1);ve(this,"_isDisabledServerSide",null);ve(this,"rageclicks",new y5);ve(this,"_elementsChainAsString",!1);this.instance=t,this._elementSelectors=null}get config(){var t,n;const r=Tn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(!this.isBrowserSupported())return void ie.info("Disabling Automatic Event Collection because this browser is not supported");if(!J||!we)return;const t=r=>{r=r||(J==null?void 0:J.event);try{this._captureEvent(r)}catch(i){ie.error("Failed to capture event",i)}},n=r=>{r=r||(J==null?void 0:J.event),this._captureEvent(r,wv)};_o(we,"submit",t,!1,!0),_o(we,"change",t,!1,!0),_o(we,"click",t,!1,!0),this.config.capture_copied_text&&(_o(we,"copy",n,!1,!0),_o(we,"cut",n,!1,!0))}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[QE]:!!t.autocapture_opt_out}),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this._elementSelectors=t}getElementSelectors(t){var n;const r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(i=>{const s=we==null?void 0:we.querySelectorAll(i);s==null||s.forEach(o=>{t===o&&r.push(i)})}),r}get isEnabled(){var t,n;const r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[QE],i=this._isDisabledServerSide;if(Ba(i)&&!ca(r)&&!this.instance.config.advanced_disable_decide)return!1;const s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}_captureEvent(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(!this.isEnabled)return;let r=UR(t);var i;$R(r)&&(r=r.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");const s=n===wv;if(r&&XD(r,t,this.config,s,s?["copy","cut"]:void 0)){const{props:a,explicitNoCapture:l}=Z$(r,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(l)return!1;const c=this.getElementSelectors(r);if(c&&c.length>0&&(a.$element_selectors=c),n===wv){var o;const u=zR(J==null||(o=J.getSelection())===null||o===void 0?void 0:o.toString()),d=t.type||"clipboard";if(!u)return!1;a.$selected_content=u,a.$copy_type=d}return this.instance.capture(n,a),!0}}isBrowserSupported(){return qi(we==null?void 0:we.querySelectorAll)}}class tF{constructor(t){ve(this,"_restoreXHRPatch");ve(this,"_restoreFetchPatch");ve(this,"_startCapturing",()=>{var t,n,r,i;Oe(this._restoreXHRPatch)&&((t=et.__PosthogExtensions__)===null||t===void 0||(n=t.tracingHeadersPatchFns)===null||n===void 0||n._patchXHR(this.instance.sessionManager)),Oe(this._restoreFetchPatch)&&((r=et.__PosthogExtensions__)===null||r===void 0||(i=r.tracingHeadersPatchFns)===null||i===void 0||i._patchFetch(this.instance.sessionManager))});this.instance=t}_loadScript(t){var n,r,i;(n=et.__PosthogExtensions__)!==null&&n!==void 0&&n.tracingHeadersPatchFns&&t(),(r=et.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return ie.error("[TRACING-HEADERS] failed to load script",s);t()})}startIfEnabledOrStop(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}let ta;(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(ta||(ta={}));class nF{constructor(t){this.instance=t}get config(){return this.instance.config}get consent(){return this.getDnt()?ta.DENIED:this.storedConsent}isOptedOut(){return this.consent===ta.DENIED||this.consent===ta.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){const{token:t,opt_out_capturing_cookie_prefix:n}=this.instance.config;return(n||"__ph_opt_in_out_")+t}get storedConsent(){const t=this.storage.get(this.storageKey);return t==="1"?ta.GRANTED:t==="0"?ta.DENIED:ta.PENDING}get storage(){if(!this._storage){const t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?Un:ko;const n=t==="localStorage"?ko:Un;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!SR([mi==null?void 0:mi.doNotTrack,mi==null?void 0:mi.msDoNotTrack,et.doNotTrack],t=>dt([!0,1,"1","yes"],t))}}const fp="[Exception Autocapture]";class rF{constructor(t){ve(this,"originalOnUnhandledRejectionHandler");ve(this,"startCapturing",()=>{var t,n,r,i;if(!J||!this.isEnabled||this.hasHandlers||this.isCapturing)return;const s=(t=et.__PosthogExtensions__)===null||t===void 0||(n=t.errorWrappingFunctions)===null||n===void 0?void 0:n.wrapOnError,o=(r=et.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapUnhandledRejection;if(s&&o)try{this.unwrapOnError=s(this.captureException.bind(this)),this.unwrapUnhandledRejection=o(this.captureException.bind(this))}catch(a){ie.error(fp+" failed to start",a),this.stopCapturing()}else ie.error(fp+" failed to load error wrapping functions - cannot start")});var n;this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[JE]),this.startIfEnabled()}get isEnabled(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}get isCapturing(){var t;return!(J==null||(t=J.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(ie.info(fp+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(t){var n,r;this.hasHandlers&&t(),(n=et.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"exception-autocapture",i=>{if(i)return ie.error(fp+" failed to load script",i);t()})}stopCapturing(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}afterDecideResponse(t){const n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this.instance.persistence&&this.instance.persistence.register({[JE]:this.remoteEnabled}),this.startIfEnabled()}captureException(t){const n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL=`${n}/project/${this.instance.config.token}/person/${this.instance.get_distinct_id()}`,this.instance.exceptions.sendExceptionEvent(t)}}const LC=9e5,Za="[Web Vitals]";class iF{constructor(t){ve(this,"_enabledServerSide",!1);ve(this,"_initialized",!1);ve(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0});ve(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((t,n)=>({...t,[`$web_vitals_${n.name}_event`]:{...n},[`$web_vitals_${n.name}_value`]:n.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})});ve(this,"_addToBuffer",t=>{var n;const r=(n=this.instance.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0);if(Oe(r))return void ie.error(Za+"Could not read session ID. Dropping metrics!");this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};const i=this._currentURL();if(!Oe(i)){if(An(t==null?void 0:t.name)||An(t==null?void 0:t.value))return void ie.error(Za+"Invalid metric received",t);if(this._maxAllowedValue&&t.value>=this._maxAllowedValue)return void ie.error(Za+"Ignoring metric with value >= "+this._maxAllowedValue,t);this.buffer.url!==i&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),Oe(this.buffer.url)&&(this.buffer.url=i),this.buffer.firstMetricTimestamp=Oe(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.buffer.metrics.push({...t,$current_url:i,$session_id:r.sessionId,$window_id:r.windowId,timestamp:Date.now()}),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}});ve(this,"_startCapturing",()=>{let t,n,r,i;const s=et.__PosthogExtensions__;Oe(s)||Oe(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:n,onFCP:r,onINP:i}=s.postHogWebVitalsCallbacks),t&&n&&r&&i?(this.allowedMetrics.indexOf("LCP")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&n(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this._addToBuffer.bind(this)),this._initialized=!0):ie.error(Za+"web vitals callbacks not loaded - not starting")});var n;this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[ZE]),this.startIfEnabled()}get allowedMetrics(){var t,n;const r=Tn(this.instance.config.capture_performance)?(t=this.instance.config.capture_performance)===null||t===void 0?void 0:t.web_vitals_allowed_metrics:void 0;return Oe(r)?((n=this.instance.persistence)===null||n===void 0?void 0:n.props[tC])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Tn(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){const t=Tn(this.instance.config.capture_performance)&&pi(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:LC;return 0<t&&t<=6e4?LC:t}get isEnabled(){const t=Tn(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return ca(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(ie.info(Za+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(t){const n=Tn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=Tn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[ZE]:n}),this.instance.persistence.register({[tC]:r})),this._enabledServerSide=n,this.startIfEnabled()}loadScript(t){var n,r,i;(n=et.__PosthogExtensions__)!==null&&n!==void 0&&n.postHogWebVitalsCallbacks&&t(),(r=et.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?ie.error(Za+" failed to load script",s):t()})}_currentURL(){const t=J?J.location.href:void 0;return t||ie.error(Za+"Could not determine current URL"),t}}const sF={icontains:(e,t)=>!!J&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!J&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!J&&mu(t.href,e),not_regex:(e,t)=>!!J&&!mu(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Yn{constructor(t){ve(this,"getWebExperimentsAndEvaluateDisplayLogic",(()=>{var t=this;return function(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];t.getWebExperiments(r=>{Yn.logInfo("retrieved web experiments from the server"),t._flagToExperiments=new Map,r.forEach(i=>{if(i.feature_flag_key&&t._featureFlags&&t._featureFlags[i.feature_flag_key]){var s;t._flagToExperiments&&(Yn.logInfo("setting flag key ",i.feature_flag_key," to web experiment ",i),(s=t._flagToExperiments)===null||s===void 0||s.set(i.feature_flag_key,i));const o=t._featureFlags[i.feature_flag_key];o&&i.variants[o]&&t.applyTransforms(i.name,o,i.variants[o].transforms)}else if(i.variants)for(const o in i.variants){const a=i.variants[o];Yn.matchesTestVariant(a)&&t.applyTransforms(i.name,o,a.transforms)}})},n)}})());this.instance=t;const n=r=>{this.applyFeatureFlagChanges(r)};this.instance.onFeatureFlags&&this.instance.onFeatureFlags(n),this._flagToExperiments=new Map}applyFeatureFlagChanges(t){An(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Yn.logInfo("applying feature flags",t),t.forEach(n=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(n)){var i;const s=this.instance.getFeatureFlag(n),o=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(n);s&&o!=null&&o.variants[s]&&this.applyTransforms(o.name,s,o.variants[s].transforms)}}))}afterDecideResponse(t){this._is_bot()?Yn.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=t.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){const t=Yn.getWindowLocation();if(t!=null&&t.search){const n=im(t==null?void 0:t.search,"__experiment_id"),r=im(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Yn.logInfo(`previewing web experiments ${n} && ${r}`),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this.instance.config.disable_web_experiments&&!r)return t([]);const i=this.instance.get_property("$web_experiments");if(i&&!n)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api",`/api/web_experiments/?token=${this.instance.config.token}`),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);const o=s.json.experiments||[];return t(o)}})}showPreviewWebExperiment(t,n,r){const i=r.filter(s=>s.id===t);i&&i.length>0&&(Yn.logInfo(`Previewing web experiment [${i[0].name}] with variant [${n}]`),this.applyTransforms(i[0].name,n,i[0].variants[n].transforms,!0))}static matchesTestVariant(t){return!An(t.conditions)&&Yn.matchUrlConditions(t)&&Yn.matchUTMConditions(t)}static matchUrlConditions(t){var n;if(An(t.conditions)||An((n=t.conditions)===null||n===void 0?void 0:n.url))return!0;const r=Yn.getWindowLocation();if(r){var i,s,o;return(i=t.conditions)===null||i===void 0||!i.url||sF[(s=(o=t.conditions)===null||o===void 0?void 0:o.urlMatchType)!==null&&s!==void 0?s:"icontains"](t.conditions.url,r)}return!1}static getWindowLocation(){return J==null?void 0:J.location}static matchUTMConditions(t){var n;if(An(t.conditions)||An((n=t.conditions)===null||n===void 0?void 0:n.utm))return!0;const r=En.campaignParams();if(r.utm_source){var i,s,o,a,l,c,u,d,h,p,g,m,b,y,A,_;const x=(i=t.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((o=t.conditions)===null||o===void 0||(a=o.utm)===null||a===void 0?void 0:a.utm_campaign)==r.utm_campaign,S=(l=t.conditions)===null||l===void 0||(c=l.utm)===null||c===void 0||!c.utm_source||((u=t.conditions)===null||u===void 0||(d=u.utm)===null||d===void 0?void 0:d.utm_source)==r.utm_source,E=(h=t.conditions)===null||h===void 0||(p=h.utm)===null||p===void 0||!p.utm_medium||((g=t.conditions)===null||g===void 0||(m=g.utm)===null||m===void 0?void 0:m.utm_medium)==r.utm_medium,C=(b=t.conditions)===null||b===void 0||(y=b.utm)===null||y===void 0||!y.utm_term||((A=t.conditions)===null||A===void 0||(_=A.utm)===null||_===void 0?void 0:_.utm_term)==r.utm_term;return x&&E&&C&&S}return!1}static logInfo(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ie.info(`[WebExperiments] ${t}`,r)}applyTransforms(t,n,r,i){var s;this._is_bot()?Yn.logInfo("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(o=>{if(o.selector){var a;Yn.logInfo(`applying transform of variant ${n} for experiment ${t} `,o);let c=0;const u=(a=document)===null||a===void 0?void 0:a.querySelectorAll(o.selector);var l;u==null||u.forEach(d=>{const h=d;c+=1,o.attributes&&o.attributes.forEach(p=>{switch(p.name){case"text":h.innerText=p.value;break;case"html":h.innerHTML=p.value;break;case"cssClass":h.className=p.value;break;default:h.setAttribute(p.name,p.value)}}),o.text&&(h.innerText=o.text),o.html&&(h.parentElement?h.parentElement.innerHTML=o.html:h.innerHTML=o.html),o.css&&h.setAttribute("style",o.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_variant:n,$web_experiment_preview:i,$web_experiment_document_url:(l=Yn.getWindowLocation())===null||l===void 0?void 0:l.href,$web_experiment_elements_modified:c})}}):(Yn.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_preview:i,$web_experiment_variant:n,$web_experiment_document_url:(s=Yn.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return mi&&this.instance?m5(mi,this.instance.config.custom_blocked_useragents):void 0}}const NC="/e/";class oF{constructor(t){var n;this.instance=t,this._endpointSuffix=((n=this.instance.persistence)===null||n===void 0?void 0:n.props[XE])||NC}get endpoint(){return this.instance.requestRouter.endpointFor("api",this._endpointSuffix)}afterDecideResponse(t){const n=t.autocaptureExceptions;this._endpointSuffix=Tn(n)&&n.endpoint||NC,this.instance.persistence&&this.instance.persistence.register({[XE]:this._endpointSuffix})}sendExceptionEvent(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}const hp="[Dead Clicks]";class aF{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(t){this.instance=t,this.startIfEnabled()}get isRemoteEnabled(){var t;return!((t=this.instance.persistence)===null||t===void 0||!t.get_property(eC))}get isEnabled(){const t=this.instance.config.capture_dead_clicks;return ca(t)?t:this.isRemoteEnabled}afterDecideResponse(t){this.instance.persistence&&this.instance.persistence.register({[eC]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled&&this.loadScript(this.start.bind(this))}loadScript(t){var n,r,i;(n=et.__PosthogExtensions__)!==null&&n!==void 0&&n.initDeadClicksAutocapture&&t(),(r=et.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"dead-clicks-autocapture",s=>{s?ie.error(hp+" failed to load script",s):t()})}start(){var t;we?!this._lazyLoadedDeadClicksAutocapture&&(t=et.__PosthogExtensions__)!==null&&t!==void 0&&t.initDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture=et.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,Tn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:void 0),this._lazyLoadedDeadClicksAutocapture.start(we),ie.info(`${hp} starting...`)):ie.error(hp+" `document` not found. Cannot start.")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,ie.info(`${hp} stopping...`))}}const af={},BC=()=>{},kc="posthog";let v5=!k$&&(Jn==null?void 0:Jn.indexOf("MSIE"))===-1&&(Jn==null?void 0:Jn.indexOf("Mozilla"))===-1;const DC=()=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:kD(we==null?void 0:we.location),persistence:"localStorage+cookie",persistence_name:"",loaded:BC,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Kr&&xr(Kr==null?void 0:Kr.search)&&Kr.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(J==null||(e=J.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:t=>{const n="Bad HTTP status: "+t.statusCode+" "+t.text;ie.error(n)},get_device_id:t=>t,_onCapture:BC,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1}},$C=e=>{const t={};Oe(e.process_person)||(t.person_profiles=e.process_person),Oe(e.xhr_headers)||(t.request_headers=e.xhr_headers),Oe(e.cookie_name)||(t.persistence_name=e.cookie_name),Oe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);const n=Lr({},t,e);return Hn(e.property_blacklist)&&(Oe(e.property_denylist)?n.property_denylist=e.property_blacklist:Hn(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:ie.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class lF{constructor(){ve(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(t){ie.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class R0{constructor(){ve(this,"webPerformance",new lF);ve(this,"version",Xo.LIB_VERSION);ve(this,"_internalEventEmitter",new s5);this.config=DC(),this.decideEndpointWasHit=!1,this.SentryIntegration=O$,this.sentryIntegration=t=>function(n,r){const i=i5(n,r);return{name:r5,processEvent:s=>i(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new ID(this),this.toolbar=new E$(this),this.scrollManager=new Q$(this),this.pageViewManager=new L$(this),this.surveys=new H$(this),this.experiments=new Yn(this),this.exceptions=new oF(this),this.rateLimiter=new G$(this),this.requestRouter=new j$(this),this.consent=new nF(this),this.people={set:(t,n,r)=>{const i=xr(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{const i=xr(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>ie.info(`send "${t==null?void 0:t.event}"`,t))}init(t,n,r){if(r&&r!==kc){var i;const s=(i=af[r])!==null&&i!==void 0?i:new R0;return s._init(t,n,r),af[r]=s,af[kc][r]=s,s}return this._init(t,n,r)}_init(t){var n,r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(Oe(t)||WE(t))return ie.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ie.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],i.person_profiles&&(this._initialPersonProfilesConfig=i.person_profiles),this.set_config(Lr({},DC(),$C(i),{name:s,token:t})),this.config.on_xhr_error&&ie.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=i.disable_compression?void 0:ws.GZipJS,this.persistence=new _v(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new _v({...this.config,persistence:"sessionStorage"});const o={...this.persistence.props},a={...this.sessionPersistence.props};if(this._requestQueue=new C$(h=>this._send_retriable_request(h)),this._retryQueue=new M$(this),this.__request_queue=[],this.sessionManager=new R$(this.config,this.persistence),this.sessionPropsManager=new q$(this.sessionManager,this.persistence),new tF(this).startIfEnabledOrStop(),this.sessionRecording=new S$(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new eF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Y$(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new iF(this),this.exceptionObserver=new rF(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new aF(this),this.deadClicksAutocapture.startIfEnabled(),Xo.DEBUG=Xo.DEBUG||this.config.debug,Xo.DEBUG&&ie.info("Starting in debug mode",{this:this,config:i,thisC:{...this.config},p:o,s:a}),this._sync_opt_out_with_persistence(),((n=i.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var l,c;const h=this.config.get_device_id(ua()),p=(l=i.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?h:i.bootstrap.distinctID;this.persistence.set_property(go,(c=i.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:p})}if(this._hasBootstrappedFeatureFlags()){var u,d;const h=Object.keys(((u=i.bootstrap)===null||u===void 0?void 0:u.featureFlags)||{}).filter(g=>{var m,b;return!((m=i.bootstrap)===null||m===void 0||(b=m.featureFlags)===null||b===void 0||!b[g])}).reduce((g,m)=>{var b,y;return g[m]=((b=i.bootstrap)===null||b===void 0||(y=b.featureFlags)===null||y===void 0?void 0:y[m])||!1,g},{}),p=Object.keys(((d=i.bootstrap)===null||d===void 0?void 0:d.featureFlagPayloads)||{}).filter(g=>h[g]).reduce((g,m)=>{var b,y,A,_;return(b=i.bootstrap)!==null&&b!==void 0&&(y=b.featureFlagPayloads)!==null&&y!==void 0&&y[m]&&(g[m]=(A=i.bootstrap)===null||A===void 0||(_=A.featureFlagPayloads)===null||_===void 0?void 0:_[m]),g},{});this.featureFlags.receivedFeatureFlags({featureFlags:h,featureFlagPayloads:p})}if(!this.get_distinct_id()){const h=this.config.get_device_id(ua());this.register_once({distinct_id:h,$device_id:h},""),this.persistence.set_property(go,"anonymous")}return J==null||(r=J.addEventListener)===null||r===void 0||r.call(J,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),i.segment?V$(this,()=>this._loaded()):this._loaded(),qi(this.config._onCapture)&&this.on("eventCaptured",h=>this.config._onCapture(h.event,h)),this}_afterDecideResponse(t){var n,r,i,s,o,a,l,c,u,d;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=dt(t.supportedCompression,ws.GZipJS)?ws.GZipJS:dt(t.supportedCompression,ws.Base64)?ws.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:t.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.experiments)===null||o===void 0||o.afterDecideResponse(t),(a=this.surveys)===null||a===void 0||a.afterDecideResponse(t),(l=this.webVitalsAutocapture)===null||l===void 0||l.afterDecideResponse(t),(c=this.exceptions)===null||c===void 0||c.afterDecideResponse(t),(u=this.exceptionObserver)===null||u===void 0||u.afterDecideResponse(t),(d=this.deadClicksAutocapture)===null||d===void 0||d.afterDecideResponse(t)}_loaded(){const t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){ie.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),t||(new x$(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||Xc(this.__request_queue,t=>this._send_retriable_request(t)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(v5?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=um(t.url,{ip:this.config.ip?1:0}),t.headers={...this.config.request_headers},t.compression=t.compression==="best-available"?this.compression:t.compression,(n=>{var r,i,s;const o={...n};o.timeout=o.timeout||6e4,o.url=um(o.url,{_:new Date().getTime().toString(),ver:Xo.LIB_VERSION,compression:o.compression});const a=(r=o.transport)!==null&&r!==void 0?r:"XHR",l=(i=(s=SR(of,c=>c.transport===a))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:of[0].method;if(!l)throw new Error("No available transport method");l(o)})({...t,callback:n=>{var r,i,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,n)),(r=t.callback)===null||r===void 0||r.call(t,n)}})))}_send_retriable_request(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}_execute_array(t){let n;const r=[],i=[],s=[];Xc(t,a=>{a&&(n=a[0],Hn(n)?s.push(a):qi(a)?a.call(this):Hn(a)&&n==="alias"?r.push(a):Hn(a)&&n.indexOf("capture")!==-1&&qi(this[n])?s.push(a):i.push(a))});const o=function(a,l){Xc(a,function(c){if(Hn(c[0])){let u=l;Bt(c,function(d){u=u[d[0]].apply(u,d.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};o(r,this),o(i,this),o(s,this)}_hasBootstrappedFeatureFlags(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return void ie.uninitializedWarning("posthog.capture");if(this.consent.isOptedOut())return;if(Oe(t)||!xr(t))return void ie.error("No event name provided to posthog.capture");if(!this.config.opt_out_useragent_filter&&this._is_bot())return;const s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s!=null&&s.isRateLimited)return void ie.critical("This capture call is ignored due to client rate limiting.");this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();const o=new Date,a=(r==null?void 0:r.timestamp)||o;let l={uuid:ua(),event:t,properties:this._calculate_event_properties(t,n||{},a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(l.$set=r==null?void 0:r.$set);const c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(l.$set_once=c),l=ED(l,r!=null&&r._noTruncate?null:this.config.properties_string_max_length),l.timestamp=a,Oe(r==null?void 0:r.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=o);const u={...l.properties.$set,...l.$set};nf(u)||this.setPersonPropertiesForFlags(u),this._internalEventEmitter.emit("eventCaptured",l);const d={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(d):this._requestQueue.enqueue(d),l}_addCaptureHook(t){return this.on("eventCaptured",n=>t(n.event,n))}_calculate_event_properties(t,n,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;const i=this.persistence.remove_event_timer(t);let s={...n};if(s.token=this.config.token,t==="$snapshot"){const c={...this.persistence.properties(),...this.sessionPersistence.properties()};return s.distinct_id=c.distinct_id,(!xr(s.distinct_id)&&!pi(s.distinct_id)||WE(s.distinct_id))&&ie.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}const o=En.properties();if(this.sessionManager){const{sessionId:c,windowId:u}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=c,s.$window_id=u}if(this.requestRouter.region===gl.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){const c=this.sessionPropsManager.getSessionProps();s=Lr(s,c)}if(!this.config.disable_scroll_properties){let c={};t==="$pageview"?c=this.pageViewManager.doPageView(r):t==="$pageleave"&&(c=this.pageViewManager.doPageLeave(r)),s=Lr(s,c)}if(t==="$pageview"&&we&&(s.title=we.title),!Oe(i)){const c=r.getTime()-i;s.$duration=parseFloat((c/1e3).toFixed(3))}Jn&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),s=Lr({},o,this.persistence.properties(),this.sessionPersistence.properties(),s),s.$is_identified=this._isIdentified(),Hn(this.config.property_denylist)?Bt(this.config.property_denylist,function(c){delete s[c]}):ie.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);const a=this.config.sanitize_properties;a&&(s=a(s,t));const l=this._hasPersonProcessing();return s.$process_person_profile=l,l&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(t){if(!this.persistence||!this._hasPersonProcessing())return t;let n=Lr({},this.persistence.get_initial_props(),t||{});const r=this.config.sanitize_properties;return r&&(n=r(n,"$set_once")),nf(n)?void 0:n}register(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}unregister(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}_register_single(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){const n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}on(t,n){return this._internalEventEmitter.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){this.surveys.canRenderSurvey(t)}getNextSurveyStep(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}identify(t,n,r){if(!this.__loaded||!this.persistence)return ie.uninitializedWarning("posthog.identify");if(pi(t)&&(t=t.toString(),ie.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),!t)return void ie.error("Unique user id has not been set in posthog.identify");if(["distinct_id","distinctid"].includes(t.toLowerCase()))return void ie.critical(`The string "${t}" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.`);if(!this._requirePersonProcessing("posthog.identify"))return;const i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){const o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(Bd)&&(this.unregister(Bd),this.register({distinct_id:t}));const s=(this.persistence.get_property(go)||"anonymous")==="anonymous";t!==i&&s?(this.persistence.set_property(go,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(nm))}setPersonProperties(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}group(t,n,r){if(!t||!n)return void ie.error("posthog.group requires a group type and group key");if(!this._requirePersonProcessing("posthog.group"))return;const i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:{...i,[t]:n}}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,s,o;if(ie.info("reset"),!this.__loaded)return ie.uninitializedWarning("posthog.reset");const a=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.surveys)===null||i===void 0||i.reset(),(s=this.persistence)===null||s===void 0||s.set_property(go,"anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();const l=this.config.get_device_id(ua());this.register_once({distinct_id:l,$device_id:t?l:a},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";const{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0);let i=this.requestRouter.endpointFor("ui",`/project/${this.config.token}/replay/${n}`);if(t!=null&&t.withTimestamp&&r){var s;const o=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;i+=`?t=${Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}`}return i}alias(t,n){return t===this.get_property(xR)?(ie.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Oe(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(Bd,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(ie.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){const n={...this.config};var r,i,s,o;Tn(t)&&(Lr(this.config,$C(t)),(r=this.persistence)===null||r===void 0||r.update_config(this.config,n),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new _v({...this.config,persistence:"sessionStorage"}),Un.is_supported()&&Un.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Xo.DEBUG=!0,ie.info("set_config",{config:t,oldConfig:n,newConfig:{...this.config}})),(i=this.sessionRecording)===null||i===void 0||i.startIfEnabledOrStop(),(s=this.autocapture)===null||s===void 0||s.startIfEnabled(),(o=this.heatmaps)===null||o===void 0||o.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(t){const n=ca(t)&&t;if(n||t!=null&&t.sampling||t!=null&&t.linked_flag){var r;const o=(r=this.sessionManager)===null||r===void 0?void 0:r.checkAndGetSessionAndWindowId();var i,s;(n||t!=null&&t.sampling)&&((i=this.sessionRecording)===null||i===void 0||i.overrideSampling(),ie.info("Session recording started with sampling override for session: ",o==null?void 0:o.sessionId)),(n||t!=null&&t.linked_flag)&&((s=this.sessionRecording)===null||s===void 0||s.overrideLinkedFlag(),ie.info("Session recording started with linked_flags override"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}captureException(t,n){var r;const i=new Error("PostHog syntheticException"),s=qi((r=et.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?et.__PosthogExtensions__.parseErrorAsProperties([t.message,void 0,void 0,void 0,t],{syntheticException:i}):{$exception_level:"error",$exception_list:[{type:t.name,value:t.message,mechanism:{handled:!0,synthetic:!1}}],...n};this.exceptions.sendExceptionEvent(s)}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}toString(){var t;let n=(t=this.config.name)!==null&&t!==void 0?t:kc;return n!==kc&&(n=kc+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(go))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(go))==="identified"}_hasPersonProcessing(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&nf(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[Bd])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[rm]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(t){return this.config.person_profiles==="never"?(ie.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(rm,!0),!0)}_sync_opt_out_with_persistence(){var t,n;const r=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default,s=this.config.disable_persistence||r&&!!i;var o,a;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==s&&((o=this.persistence)===null||o===void 0||o.set_disabled(s)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==s&&((a=this.sessionPersistence)===null||a===void 0||a.set_disabled(s))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(Oe(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return mi?m5(mi,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){we&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:we.title},{send_instantly:!0}))}debug(t){t===!1?(J==null||J.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(J==null||J.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}(function(e,t){for(let n=0;n<t.length;n++)e.prototype[t[n]]=wD(e.prototype[t[n]])})(R0,["identify"]);const Mn=function(){const e=af[kc]=new R0;return function(){function t(){t.done||(t.done=!0,v5=!1,Bt(af,function(n){n._dom_loaded()}))}we!=null&&we.addEventListener&&(we.readyState==="complete"?t():we.addEventListener("DOMContentLoaded",t,!1)),J&&_o(J,"load",t,!0)}(),e}();class mt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&Mn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const te={sectionChange:new mt("sectionChange",!1,!1),playerAdded:new mt("playerAdded",!1),playerRemoved:new mt("playerRemoved",!1),songStarted:new mt("songStarted",!1),songEnded:new mt("songEnded",!1),remoteMicConnected:new mt("remoteMicConnected"),remoteMicDisconnected:new mt("remoteMicDisconnected"),playerNameChanged:new mt("playerNameChanged"),playerInputChanged:new mt("playerInputChanged"),inputListChanged:new mt("inputListChanged"),karaokeConnectionStatusChange:new mt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new mt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new mt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new mt("remoteMicMonitoringStopped"),micMonitoringStarted:new mt("micMonitoringStarted"),micMonitoringStopped:new mt("micMonitoringStopped"),playerChangeRequested:new mt("playerChangeRequested",!0),songStatStored:new mt("songStatStored"),songScoreUpdated:new mt("songScoreUpdated",()=>{}),remoteMicSubscribed:new mt("remoteMicSubscribed"),remoteKeyboardPressed:new mt("remoteKeyboardPressed"),remoteSongSearch:new mt("remoteSongSearch"),remoteSongSelected:new mt("remoteSongSelected",!0),remoteMicListUpdated:new mt("remoteMicListUpdated"),remoteKeyboardLayout:new mt("remoteKeyboardLayout"),remoteReadinessRequested:new mt("remoteReadinessRequested"),remoteStyleChanged:new mt("remoteStyleChanged"),remoteMicPermissionsSet:new mt("remoteMicPermissionsSet"),readinessConfirmed:new mt("remoteReadinessConfirmed"),minPlayerNumberChanged:new mt("minPlayerNumberChanged"),micServerStarted:new mt("micServerStarted"),micServerStopped:new mt("micServerStopped")};te.songStarted.subscribe(()=>{Cs.clearData(),Cs.startRecord()});te.songEnded.subscribe(()=>{Cs.stopRecord()});function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}var cF=/^\s+/,uF=/\s+$/;function le(e,t){if(e=e||"",t=t||{},e instanceof le)return e;if(!(this instanceof le))return new le(e,t);var n=dF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}le.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=A5(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=zC(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=zC(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=FC(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=FC(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return UC(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return gF(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(nn(this._r,255)*100)+"%",g:Math.round(nn(this._g,255)*100)+"%",b:Math.round(nn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(nn(this._r,255)*100)+"%, "+Math.round(nn(this._g,255)*100)+"%, "+Math.round(nn(this._b,255)*100)+"%)":"rgba("+Math.round(nn(this._r,255)*100)+"%, "+Math.round(nn(this._g,255)*100)+"%, "+Math.round(nn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:kF[UC(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+HC(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=le(t);r="#"+HC(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return le(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(AF,arguments)},brighten:function(){return this._applyModification(bF,arguments)},darken:function(){return this._applyModification(_F,arguments)},desaturate:function(){return this._applyModification(mF,arguments)},saturate:function(){return this._applyModification(yF,arguments)},greyscale:function(){return this._applyModification(vF,arguments)},spin:function(){return this._applyModification(SF,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(EF,arguments)},complement:function(){return this._applyCombination(xF,arguments)},monochromatic:function(){return this._applyCombination(CF,arguments)},splitcomplement:function(){return this._applyCombination(wF,arguments)},triad:function(){return this._applyCombination(GC,[3])},tetrad:function(){return this._applyCombination(GC,[4])}};le.fromRatio=function(e,t){if(pm(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=zd(e[r]));e=n}return le(e,t)};function dF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=MF(e)),pm(e)=="object"&&(uo(e.r)&&uo(e.g)&&uo(e.b)?(t=fF(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):uo(e.h)&&uo(e.s)&&uo(e.v)?(r=zd(e.s),i=zd(e.v),t=pF(e.h,r,i),o=!0,a="hsv"):uo(e.h)&&uo(e.s)&&uo(e.l)&&(r=zd(e.s),s=zd(e.l),t=hF(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=A5(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function fF(e,t,n){return{r:nn(e,255)*255,g:nn(t,255)*255,b:nn(n,255)*255}}function FC(e,t,n){e=nn(e,255),t=nn(t,255),n=nn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function hF(e,t,n){var r,i,s;e=nn(e,360),t=nn(t,100),n=nn(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function zC(e,t,n){e=nn(e,255),t=nn(t,255),n=nn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function pF(e,t,n){e=nn(e,360)*6,t=nn(t,100),n=nn(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function UC(e,t,n,r){var i=[ks(Math.round(e).toString(16)),ks(Math.round(t).toString(16)),ks(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function gF(e,t,n,r,i){var s=[ks(Math.round(e).toString(16)),ks(Math.round(t).toString(16)),ks(Math.round(n).toString(16)),ks(b5(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function HC(e,t,n,r){var i=[ks(b5(r)),ks(Math.round(e).toString(16)),ks(Math.round(t).toString(16)),ks(Math.round(n).toString(16))];return i.join("")}le.equals=function(e,t){return!e||!t?!1:le(e).toRgbString()==le(t).toRgbString()};le.random=function(){return le.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function mF(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.s-=t/100,n.s=j0(n.s),le(n)}function yF(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.s+=t/100,n.s=j0(n.s),le(n)}function vF(e){return le(e).desaturate(100)}function AF(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.l+=t/100,n.l=j0(n.l),le(n)}function bF(e,t){t=t===0?0:t||10;var n=le(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),le(n)}function _F(e,t){t=t===0?0:t||10;var n=le(e).toHsl();return n.l-=t/100,n.l=j0(n.l),le(n)}function SF(e,t){var n=le(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,le(n)}function xF(e){var t=le(e).toHsl();return t.h=(t.h+180)%360,le(t)}function GC(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=le(e).toHsl(),r=[le(e)],i=360/t,s=1;s<t;s++)r.push(le({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function wF(e){var t=le(e).toHsl(),n=t.h;return[le(e),le({h:(n+72)%360,s:t.s,l:t.l}),le({h:(n+216)%360,s:t.s,l:t.l})]}function EF(e,t,n){t=t||6,n=n||30;var r=le(e).toHsl(),i=360/n,s=[le(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(le(r));return s}function CF(e,t){t=t||6;for(var n=le(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(le({h:r,s:i,v:s})),s=(s+a)%1;return o}le.mix=function(e,t,n){n=n===0?0:n||50;var r=le(e).toRgb(),i=le(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return le(o)};le.readability=function(e,t){var n=le(e),r=le(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};le.isReadable=function(e,t,n){var r=le.readability(e,t),i,s;switch(s=!1,i=RF(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};le.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=le.readability(e,t[c]),s>i&&(i=s,r=le(t[c]));return le.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,le.mostReadable(e,["#fff","#000"],n))};var B1=le.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},kF=le.hexNames=TF(B1);function TF(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function A5(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function nn(e,t){IF(e)&&(e="100%");var n=PF(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function j0(e){return Math.min(1,Math.max(0,e))}function fi(e){return parseInt(e,16)}function IF(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function PF(e){return typeof e=="string"&&e.indexOf("%")!=-1}function ks(e){return e.length==1?"0"+e:""+e}function zd(e){return e<=1&&(e=e*100+"%"),e}function b5(e){return Math.round(parseFloat(e)*255).toString(16)}function WC(e){return fi(e)/255}var gs=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function uo(e){return!!gs.CSS_UNIT.exec(e)}function MF(e){e=e.replace(cF,"").replace(uF,"").toLowerCase();var t=!1;if(B1[e])e=B1[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=gs.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=gs.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=gs.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=gs.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=gs.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=gs.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=gs.hex8.exec(e))?{r:fi(n[1]),g:fi(n[2]),b:fi(n[3]),a:WC(n[4]),format:t?"name":"hex8"}:(n=gs.hex6.exec(e))?{r:fi(n[1]),g:fi(n[2]),b:fi(n[3]),format:t?"name":"hex"}:(n=gs.hex4.exec(e))?{r:fi(n[1]+""+n[1]),g:fi(n[2]+""+n[2]),b:fi(n[3]+""+n[3]),a:WC(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=gs.hex3.exec(e))?{r:fi(n[1]+""+n[1]),g:fi(n[2]+""+n[2]),b:fi(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function RF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const jF=le("rgb(52, 166, 95)"),OF=le("rgb(15, 138, 95)"),VF=le("rgb(245, 98, 77)"),LF=le("rgb(204, 35, 30)"),_5=le("rgb(245, 220, 21)"),NF=le(_5.toRgbString()).darken(15),S5=le("rgb(255, 70, 223)"),BF=le(S5.toRgbString()).darken(15),x5=le("rgb(255, 119, 20)"),DF=le(x5.toRgbString()).darken(15),w5=le("rgb(31, 192, 223)"),$F=le(w5.toRgbString()).darken(15),E5=le("rgb(102, 44, 182)"),FF=le(E5.toRgbString()).darken(15),zF=le("rgb(0, 153, 255)"),UF=le("rgb(0, 77, 128)"),qC=le("rgb(255, 54, 54)"),KC=le("rgb(117, 25, 25)"),HF=le("rgb(255, 213, 0)"),vg=le("rgb(255, 183, 0)"),Vi=(e,t)=>e.setAlpha(t).toRgbString(),Mr=(e,t)=>({text:Vi(e,1),stroke:Vi(t,1),star:{fill:Vi(vg,.5),stroke:Vi(vg,0),lineWidth:1},perfect:{fill:Vi(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Vi(HF,1),stroke:Vi(vg,1),lineWidth:2},hit:{fill:Vi(e,.9),stroke:Vi(t,0),lineWidth:1},miss:{fill:Vi(e,.25),stroke:Vi(t,1),lineWidth:1}}),je={blue:Mr(zF,UF),red:Mr(qC,KC),green:Mr(le("rgb(0,183,0)"),le("rgb(0,84,0)")),yellow:Mr(le("rgb(239,209,0)"),le("rgb(114,84,0)")),christmasGreen:Mr(jF,OF),christmasRed:Mr(VF,LF),halloweenOrange:Mr(le("#fd9702"),le("#ff7100")),halloweenViolet:Mr(le("#e102ff"),le("#ae03ff")),halloweenRed:Mr(qC,KC),halloweenGreen:Mr(le("rgb(0,183,0)"),le("rgb(0,84,0)")),eurovisionYellow:Mr(_5,NF),eurovisionPink:Mr(S5,BF),eurovisionOrange:Mr(x5,DF),eurovisionBlue:Mr(w5,$F),eurovisionViolet:Mr(E5,FF)};let Ag=[je.blue,je.red,je.green,je.yellow];const ge={colors:{players:Ag,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Vi(vg,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},YC={christmas:[je.christmasGreen,je.christmasRed],eurovision:[je.eurovisionBlue,je.eurovisionViolet,je.eurovisionYellow,je.eurovisionPink],halloween:[je.halloweenOrange,je.halloweenViolet,je.halloweenRed,je.halloweenGreen],regular:[je.blue,je.red,je.green,je.yellow]},C5=e=>{Ag[0]!==YC[e][0]&&(Ag=YC[e],ge.colors.players=Ag)};function tu(e,t,n){e==null||e.send({t,...n})}var D1;try{D1=new TextDecoder}catch{}var me,Gi,K=0,Ut={},ft,fa,Ni=0,Qs=0,tr,To,si=[],ot,QC={useRecords:!1,mapsAsObjects:!0};class k5{}const T5=new k5;T5.name="MessagePack 0xC1";var Aa=!1,I5=2,JC;try{new Function("")}catch{I5=1/0}class jf{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(me)return V5(()=>(F1(),this?this.unpack(t,n):jf.prototype.unpack.call(QC,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Gi=n.end||t.length,K=n.start||0):(K=0,Gi=n>-1?n:t.length),Qs=0,fa=null,tr=null,me=t;try{ot=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw me=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof jf){if(Ut=this,this.structures)return ft=this.structures,pp(n);(!ft||ft.length>0)&&(ft=[])}else Ut=QC,(!ft||ft.length>0)&&(ft=[]);return pp(n)}unpackMultiple(t,n){let r,i=0;try{Aa=!0;let s=t.length,o=this?this.unpack(t,s):O0.unpack(t,s);if(n){if(n(o,i,K)===!1)return;for(;K<s;)if(i=K,n(pp(),i,K)===!1)return}else{for(r=[o];K<s;)i=K,r.push(pp());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{Aa=!1,F1()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function pp(e){try{if(!Ut.trusted&&!Aa){let n=ft.sharedLength||0;n<ft.length&&(ft.length=n)}let t;if(Ut.randomAccessStructure&&me[K]<64&&me[K]>=32&&JC?(t=JC(me,K,Gi,Ut),me=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),K=Gi):t=In(),tr&&(K=tr.postBundlePosition,tr=null),Aa&&(ft.restoreStructures=null),K==Gi)ft&&ft.restoreStructures&&XC(),ft=null,me=null,To&&(To=null);else{if(K>Gi)throw new Error("Unexpected end of MessagePack data");if(!Aa){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw ft&&ft.restoreStructures&&XC(),F1(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||K>Gi)&&(t.incomplete=!0),t}}function XC(){for(let e in ft.restoreStructures)ft[e]=ft.restoreStructures[e];ft.restoreStructures=null}function In(){let e=me[K++];if(e<160)if(e<128){if(e<64)return e;{let t=ft[e&63]||Ut.getStructures&&P5()[e&63];return t?(t.read||(t.read=OS(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ut.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=R5();r==="__proto__"&&(r="__proto_"),t[r]=In()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(In(),In());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=In();return Ut.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Qs>=K)return fa.slice(K-Ni,(K+=t)-Ni);if(Qs==0&&Gi<140){let n=t<16?VS(t):M5(t);if(n!=null)return n}return $1(t)}else{let t;switch(e){case 192:return null;case 193:return tr?(t=In(),t>0?tr[1].slice(tr.position1,tr.position1+=t):tr[0].slice(tr.position0,tr.position0-=t)):T5;case 194:return!1;case 195:return!0;case 196:if(t=me[K++],t===void 0)throw new Error("Unexpected end of buffer");return Cv(t);case 197:return t=ot.getUint16(K),K+=2,Cv(t);case 198:return t=ot.getUint32(K),K+=4,Cv(t);case 199:return el(me[K++]);case 200:return t=ot.getUint16(K),K+=2,el(t);case 201:return t=ot.getUint32(K),K+=4,el(t);case 202:if(t=ot.getFloat32(K),Ut.useFloat32>2){let n=LS[(me[K]&127)<<1|me[K+1]>>7];return K+=4,(n*t+(t>0?.5:-.5)>>0)/n}return K+=4,t;case 203:return t=ot.getFloat64(K),K+=8,t;case 204:return me[K++];case 205:return t=ot.getUint16(K),K+=2,t;case 206:return t=ot.getUint32(K),K+=4,t;case 207:return Ut.int64AsType==="number"?(t=ot.getUint32(K)*4294967296,t+=ot.getUint32(K+4)):Ut.int64AsType==="string"?t=ot.getBigUint64(K).toString():Ut.int64AsType==="auto"?(t=ot.getBigUint64(K),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=ot.getBigUint64(K),K+=8,t;case 208:return ot.getInt8(K++);case 209:return t=ot.getInt16(K),K+=2,t;case 210:return t=ot.getInt32(K),K+=4,t;case 211:return Ut.int64AsType==="number"?(t=ot.getInt32(K)*4294967296,t+=ot.getUint32(K+4)):Ut.int64AsType==="string"?t=ot.getBigInt64(K).toString():Ut.int64AsType==="auto"?(t=ot.getBigInt64(K),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=ot.getBigInt64(K),K+=8,t;case 212:if(t=me[K++],t==114)return i2(me[K++]&63);{let n=si[t];if(n)return n.read?(K++,n.read(In())):n.noBuffer?(K++,n()):n(me.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=me[K],t==114?(K++,i2(me[K++]&63,me[K++])):el(2);case 214:return el(4);case 215:return el(8);case 216:return el(16);case 217:return t=me[K++],Qs>=K?fa.slice(K-Ni,(K+=t)-Ni):WF(t);case 218:return t=ot.getUint16(K),K+=2,Qs>=K?fa.slice(K-Ni,(K+=t)-Ni):qF(t);case 219:return t=ot.getUint32(K),K+=4,Qs>=K?fa.slice(K-Ni,(K+=t)-Ni):KF(t);case 220:return t=ot.getUint16(K),K+=2,e2(t);case 221:return t=ot.getUint32(K),K+=4,e2(t);case 222:return t=ot.getUint16(K),K+=2,t2(t);case 223:return t=ot.getUint32(K),K+=4,t2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const GF=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function OS(e,t){function n(){if(n.count++>I5){let i=e.read=new Function("r","return function(){return "+(Ut.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":GF.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(In);return e.highByte===0&&(e.read=ZC(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=In()}return Ut.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?ZC(t,n):n}const ZC=(e,t)=>function(){let n=me[K++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=ft[r]||P5()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=OS(i,e)),i.read()};function P5(){let e=V5(()=>(me=null,Ut.getStructures()));return ft=Ut._mergeStructures(e,ft)}var $1=Sh,WF=Sh,qF=Sh,KF=Sh;function Sh(e){let t;if(e<16&&(t=VS(e)))return t;if(e>64&&D1)return D1.decode(me.subarray(K,K+=e));const n=K+e,r=[];for(t="";K<n;){const i=me[K++];if(!(i&128))r.push(i);else if((i&224)===192){const s=me[K++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=me[K++]&63,o=me[K++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=me[K++]&63,o=me[K++]&63,a=me[K++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Qn.apply(String,r),r.length=0)}return r.length>0&&(t+=Qn.apply(String,r)),t}function e2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=In();return Ut.freezeData?Object.freeze(t):t}function t2(e){if(Ut.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=R5();r==="__proto__"&&(r="__proto_"),t[r]=In()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(In(),In());return t}}var Qn=String.fromCharCode;function M5(e){let t=K,n=new Array(e);for(let r=0;r<e;r++){const i=me[K++];if((i&128)>0){K=t;return}n[r]=i}return Qn.apply(String,n)}function VS(e){if(e<4)if(e<2){if(e===0)return"";{let t=me[K++];if((t&128)>1){K-=1;return}return Qn(t)}}else{let t=me[K++],n=me[K++];if((t&128)>0||(n&128)>0){K-=2;return}if(e<3)return Qn(t,n);let r=me[K++];if((r&128)>0){K-=3;return}return Qn(t,n,r)}else{let t=me[K++],n=me[K++],r=me[K++],i=me[K++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){K-=4;return}if(e<6){if(e===4)return Qn(t,n,r,i);{let s=me[K++];if((s&128)>0){K-=5;return}return Qn(t,n,r,i,s)}}else if(e<8){let s=me[K++],o=me[K++];if((s&128)>0||(o&128)>0){K-=6;return}if(e<7)return Qn(t,n,r,i,s,o);let a=me[K++];if((a&128)>0){K-=7;return}return Qn(t,n,r,i,s,o,a)}else{let s=me[K++],o=me[K++],a=me[K++],l=me[K++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return Qn(t,n,r,i,s,o,a,l);{let c=me[K++];if((c&128)>0){K-=9;return}return Qn(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=me[K++],u=me[K++];if((c&128)>0||(u&128)>0){K-=10;return}if(e<11)return Qn(t,n,r,i,s,o,a,l,c,u);let d=me[K++];if((d&128)>0){K-=11;return}return Qn(t,n,r,i,s,o,a,l,c,u,d)}else{let c=me[K++],u=me[K++],d=me[K++],h=me[K++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){K-=12;return}if(e<14){if(e===12)return Qn(t,n,r,i,s,o,a,l,c,u,d,h);{let p=me[K++];if((p&128)>0){K-=13;return}return Qn(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=me[K++],g=me[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return Qn(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=me[K++];if((m&128)>0){K-=15;return}return Qn(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function n2(){let e=me[K++],t;if(e<192)t=e-160;else switch(e){case 217:t=me[K++];break;case 218:t=ot.getUint16(K),K+=2;break;case 219:t=ot.getUint32(K),K+=4;break;default:throw new Error("Expected string")}return Sh(t)}function Cv(e){return Ut.copyBuffers?Uint8Array.prototype.slice.call(me,K,K+=e):me.subarray(K,K+=e)}function el(e){let t=me[K++];if(si[t]){let n;return si[t](me.subarray(K,n=K+=e),r=>{K=r;try{return In()}finally{K=n}})}else throw new Error("Unknown extension type "+t)}var r2=new Array(4096);function R5(){let e=me[K++];if(e>=160&&e<192){if(e=e-160,Qs>=K)return fa.slice(K-Ni,(K+=e)-Ni);if(!(Qs==0&&Gi<180))return $1(e)}else return K--,j5(In());let t=(e<<5^(e>1?ot.getUint16(K):e>0?me[K]:0))&4095,n=r2[t],r=K,i=K+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=ot.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=me[r++],s!=n[o++]){r=1879048192;break}if(r===i)return K=r,n.string;i-=3,r=K}for(n=[],r2[t]=n,n.bytes=e;r<i;)s=ot.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=me[r++],n.push(s);let a=e<16?VS(e):M5(e);return a!=null?n.string=a:n.string=$1(e)}function j5(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const i2=(e,t)=>{let n=In().map(j5),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=ft[e];return i&&(i.isShared||Aa)&&((ft.restoreStructures||(ft.restoreStructures=[]))[e]=i),ft[e]=n,n.read=OS(n,r),n.read()};si[0]=()=>{};si[0].noBuffer=!0;si[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let YF={Error,TypeError,ReferenceError};si[101]=()=>{let e=In();return(YF[e[0]]||Error)(e[1])};si[105]=e=>{if(Ut.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=ot.getUint32(K-4);To||(To=new Map);let n=me[K],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};To.set(t,i);let s=In();return i.used?Object.assign(r,s):(i.target=s,s)};si[112]=e=>{if(Ut.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=ot.getUint32(K-4),n=To.get(t);return n.used=!0,n.target};si[115]=()=>new Set(In());const O5=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let QF=typeof globalThis=="object"?globalThis:window;si[116]=e=>{let t=e[0],n=O5[t];if(!n)throw new Error("Could not find typed array for code "+t);return new QF[n](Uint8Array.prototype.slice.call(e,1).buffer)};si[120]=()=>{let e=In();return new RegExp(e[0],e[1])};const JF=[];si[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=K;return K+=t-e.length,tr=JF,tr=[n2(),n2()],tr.position0=0,tr.position1=0,tr.postBundlePosition=K,K=n,In()};si[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function V5(e){let t=Gi,n=K,r=Ni,i=Qs,s=fa,o=To,a=tr,l=new Uint8Array(me.slice(0,Gi)),c=ft,u=ft.slice(0,ft.length),d=Ut,h=Aa,p=e();return Gi=t,K=n,Ni=r,Qs=i,fa=s,To=o,tr=a,me=l,Aa=h,ft=c,ft.splice(0,ft.length,...u),Ut=d,ot=new DataView(me.buffer,me.byteOffset,me.byteLength),p}function F1(){me=null,To=null,ft=null}const LS=new Array(147);for(let e=0;e<256;e++)LS[e]=+("1e"+Math.floor(45.15-e*.30103));var O0=new jf({useRecords:!1});const XF=O0.unpack;O0.unpackMultiple;O0.unpack;let ZF=new Float32Array(1);new Uint8Array(ZF.buffer,0,4);let bg;try{bg=new TextEncoder}catch{}let z1,L5;const V0=typeof Buffer<"u",gp=V0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,N5=V0?Buffer:Uint8Array,s2=V0?4294967296:2144337920;let X,vd,Nt,Y=0,Rr,an=null,e6;const t6=21760,n6=/[\u0080-\uFFFF]/,gc=Symbol("record-id");class r6 extends jf{constructor(t){super(t),this.offset=0;let n,r,i,s,o=N5.prototype.utf8Write?function(R,L){return X.utf8Write(R,L,4294967295)}:bg&&bg.encodeInto?function(R,L){return bg.encodeInto(R,X.subarray(L)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],b=0,y=0;this.pack=this.encode=function(R,L){if(X||(X=new gp(8192),Nt=X.dataView||(X.dataView=new DataView(X.buffer,0,8192)),Y=0),Rr=X.length-10,Rr-Y<2048?(X=new gp(X.length),Nt=X.dataView||(X.dataView=new DataView(X.buffer,0,X.length)),Rr=X.length-10,Y=0):Y=Y+7&2147483640,n=Y,L&c6&&(Y+=L&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof R!="string"?(an=[],an.size=1/0):an=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let T=i.sharedLength||0;if(T>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let $=0;$<T;$++){let N=i[$];if(!N)continue;let F,D=i.transitions;for(let G=0,U=N.length;G<U;G++){let ne=N[G];F=D[ne],F||(F=D[ne]=Object.create(null)),D=F}D[gc]=$+64}this.lastNamedStructuresLength=T}l||(i.nextId=T+64)}r&&(r=!1);let P;try{a.randomAccessStructure&&R&&R.constructor&&R.constructor===Object?z(R):x(R);let T=an;if(an&&l2(n,x,0),s&&s.idsToInsert){let $=s.idsToInsert.sort((G,U)=>G.offset>U.offset?1:-1),N=$.length,F=-1;for(;T&&N>0;){let G=$[--N].offset+n;G<T.stringsPosition+n&&F===-1&&(F=0),G>T.position+n?F>=0&&(F+=6):(F>=0&&(Nt.setUint32(T.position+n,Nt.getUint32(T.position+n)+F),F=-1),T=T.previous,N++)}F>=0&&T&&Nt.setUint32(T.position+n,Nt.getUint32(T.position+n)+F),Y+=$.length*6,Y>Rr&&V(Y),a.offset=Y;let D=s6(X.subarray(n,Y),$);return s=null,D}return a.offset=Y,L&a6?(X.start=n,X.end=Y,X):X.subarray(n,Y)}catch(T){throw P=T,T}finally{if(i&&(A(),r&&a.saveStructures)){let T=i.sharedLength||0,$=X.subarray(n,Y),N=o6(i,a);if(!P)return a.saveStructures(N,N.isCompatible)===!1?a.pack(R,L):(a.lastNamedStructuresLength=T,$)}L&l6&&(Y=n)}};const A=()=>{y<10&&y++;let R=i.sharedLength||0;if(i.length>R&&!l&&(i.length=R),b>1e4)i.transitions=null,y=0,b=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let L=0,P=m.length;L<P;L++)m[L][gc]=0;m=[]}},_=R=>{var L=R.length;L<16?X[Y++]=144|L:L<65536?(X[Y++]=220,X[Y++]=L>>8,X[Y++]=L&255):(X[Y++]=221,Nt.setUint32(Y,L),Y+=4);for(let P=0;P<L;P++)x(R[P])},x=R=>{Y>Rr&&(X=V(Y));var L=typeof R,P;if(L==="string"){let T=R.length;if(an&&T>=4&&T<4096){if((an.size+=T)>t6){let D,G=(an[0]?an[0].length*3+an[1].length:0)+10;Y+G>Rr&&(X=V(Y+G));let U;an.position?(U=an,X[Y]=200,Y+=3,X[Y++]=98,D=Y-n,Y+=4,l2(n,x,0),Nt.setUint16(D+n-3,Y-n-D)):(X[Y++]=214,X[Y++]=98,D=Y-n,Y+=4),an=["",""],an.previous=U,an.size=0,an.position=D}let F=n6.test(R);an[F?0:1]+=R,X[Y++]=193,x(F?-T:T);return}let $;T<32?$=1:T<256?$=2:T<65536?$=3:$=5;let N=T*3;if(Y+N>Rr&&(X=V(Y+N)),T<64||!o){let F,D,G,U=Y+$;for(F=0;F<T;F++)D=R.charCodeAt(F),D<128?X[U++]=D:D<2048?(X[U++]=D>>6|192,X[U++]=D&63|128):(D&64512)===55296&&((G=R.charCodeAt(F+1))&64512)===56320?(D=65536+((D&1023)<<10)+(G&1023),F++,X[U++]=D>>18|240,X[U++]=D>>12&63|128,X[U++]=D>>6&63|128,X[U++]=D&63|128):(X[U++]=D>>12|224,X[U++]=D>>6&63|128,X[U++]=D&63|128);P=U-Y-$}else P=o(R,Y+$);P<32?X[Y++]=160|P:P<256?($<2&&X.copyWithin(Y+2,Y+1,Y+1+P),X[Y++]=217,X[Y++]=P):P<65536?($<3&&X.copyWithin(Y+3,Y+2,Y+2+P),X[Y++]=218,X[Y++]=P>>8,X[Y++]=P&255):($<5&&X.copyWithin(Y+5,Y+3,Y+3+P),X[Y++]=219,Nt.setUint32(Y,P),Y+=4),Y+=P}else if(L==="number")if(R>>>0===R)R<32||R<128&&this.useRecords===!1||R<64&&!this.randomAccessStructure?X[Y++]=R:R<256?(X[Y++]=204,X[Y++]=R):R<65536?(X[Y++]=205,X[Y++]=R>>8,X[Y++]=R&255):(X[Y++]=206,Nt.setUint32(Y,R),Y+=4);else if(R>>0===R)R>=-32?X[Y++]=256+R:R>=-128?(X[Y++]=208,X[Y++]=R+256):R>=-32768?(X[Y++]=209,Nt.setInt16(Y,R),Y+=2):(X[Y++]=210,Nt.setInt32(Y,R),Y+=4);else{let T;if((T=this.useFloat32)>0&&R<4294967296&&R>=-2147483648){X[Y++]=202,Nt.setFloat32(Y,R);let $;if(T<4||($=R*LS[(X[Y]&127)<<1|X[Y+1]>>7])>>0===$){Y+=4;return}else Y--}X[Y++]=203,Nt.setFloat64(Y,R),Y+=8}else if(L==="object"||L==="function")if(!R)X[Y++]=192;else{if(s){let $=s.get(R);if($){if(!$.id){let N=s.idsToInsert||(s.idsToInsert=[]);$.id=N.push($)}X[Y++]=214,X[Y++]=112,Nt.setUint32(Y,$.id),Y+=4;return}else s.set(R,{offset:Y-n})}let T=R.constructor;if(T===Object)k(R,!0);else if(T===Array)_(R);else if(T===Map)if(this.mapAsEmptyObject)X[Y++]=128;else{P=R.size,P<16?X[Y++]=128|P:P<65536?(X[Y++]=222,X[Y++]=P>>8,X[Y++]=P&255):(X[Y++]=223,Nt.setUint32(Y,P),Y+=4);for(let[$,N]of R)x($),x(N)}else{for(let $=0,N=z1.length;$<N;$++){let F=L5[$];if(R instanceof F){let D=z1[$];if(D.write){D.type&&(X[Y++]=212,X[Y++]=D.type,X[Y++]=0);let fe=D.write.call(this,R);fe===R?Array.isArray(R)?_(R):k(R):x(fe);return}let G=X,U=Nt,ne=Y;X=null;let B;try{B=D.pack.call(this,R,fe=>(X=G,G=null,Y+=fe,Y>Rr&&V(Y),{target:X,targetView:Nt,position:Y-fe}),x)}finally{G&&(X=G,Nt=U,Y=ne,Rr=X.length-10)}B&&(B.length+Y>Rr&&V(B.length+Y),Y=i6(B,X,Y,D.type));return}}if(Array.isArray(R))_(R);else{if(R.toJSON){const $=R.toJSON();if($!==R)return x($)}if(L==="function")return x(this.writeFunction&&this.writeFunction(R));k(R,!R.hasOwnProperty)}}}else if(L==="boolean")X[Y++]=R?195:194;else if(L==="bigint"){if(R<BigInt(1)<<BigInt(63)&&R>=-(BigInt(1)<<BigInt(63)))X[Y++]=211,Nt.setBigInt64(Y,R);else if(R<BigInt(1)<<BigInt(64)&&R>0)X[Y++]=207,Nt.setBigUint64(Y,R);else if(this.largeBigIntToFloat)X[Y++]=203,Nt.setFloat64(Y,Number(R));else if(this.useBigIntExtension&&R<2n**1023n&&R>-(2n**1023n)){X[Y++]=199,Y++,X[Y++]=66;let T=[],$;do{let N=R&0xffn;$=(N&0x80n)===(R<0n?0x80n:0n),T.push(N),R>>=8n}while(!((R===0n||R===-1n)&&$));X[Y-2]=T.length;for(let N=T.length;N>0;)X[Y++]=Number(T[--N]);return}else throw new RangeError(R+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(L==="undefined")this.encodeUndefinedAsNil?X[Y++]=192:(X[Y++]=212,X[Y++]=0,X[Y++]=0);else throw new Error("Unknown type: "+L)},S=this.variableMapSize||this.coercibleKeyAsNumber?R=>{let L=Object.keys(R),P=L.length;P<16?X[Y++]=128|P:P<65536?(X[Y++]=222,X[Y++]=P>>8,X[Y++]=P&255):(X[Y++]=223,Nt.setUint32(Y,P),Y+=4);let T;if(this.coercibleKeyAsNumber)for(let $=0;$<P;$++){T=L[$];let N=Number(T);x(isNaN(N)?T:N),x(R[T])}else for(let $=0;$<P;$++)x(T=L[$]),x(R[T])}:(R,L)=>{X[Y++]=222;let P=Y-n;Y+=2;let T=0;for(let $ in R)(L||R.hasOwnProperty($))&&(x($),x(R[$]),T++);X[P+++n]=T>>8,X[P+n]=T&255},E=this.useRecords===!1?S:t.progressiveRecords&&!h?(R,L)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),$=Y++-n,N;for(let F in R)if(L||R.hasOwnProperty(F)){if(P=T[F],P)T=P;else{let D=Object.keys(R),G=T;T=i.transitions;let U=0;for(let ne=0,B=D.length;ne<B;ne++){let fe=D[ne];P=T[fe],P||(P=T[fe]=Object.create(null),U++),T=P}$+n+1==Y?(Y--,w(T,D,U)):j(T,D,$,U),N=!0,T=G[F]}x(R[F])}if(!N){let F=T[gc];F?X[$+n]=F:j(T,Object.keys(R),$,0)}}:(R,L)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),$=0;for(let F in R)(L||R.hasOwnProperty(F))&&(P=T[F],P||(P=T[F]=Object.create(null),$++),T=P);let N=T[gc];N?N>=96&&h?(X[Y++]=((N-=96)&31)+96,X[Y++]=N>>5):X[Y++]=N:w(T,T.__keys__||Object.keys(R),$);for(let F in R)(L||R.hasOwnProperty(F))&&x(R[F])},C=typeof this.useRecords=="function"&&this.useRecords,k=C?(R,L)=>{C(R)?E(R,L):S(R,L)}:E,V=R=>{let L;if(R>16777216){if(R-n>s2)throw new Error("Packed buffer would be larger than maximum buffer size");L=Math.min(s2,Math.round(Math.max((R-n)*(R>67108864?1.25:2),4194304)/4096)*4096)}else L=(Math.max(R-n<<2,X.length-1)>>12)+1<<12;let P=new gp(L);return Nt=P.dataView||(P.dataView=new DataView(P.buffer,0,L)),R=Math.min(R,X.length),X.copy?X.copy(P,0,n,R):P.set(X.slice(n,R)),Y-=n,n=0,Rr=P.length-10,X=P},w=(R,L,P)=>{let T=i.nextId;T||(T=64),T<p&&this.shouldShareStructure&&!this.shouldShareStructure(L)?(T=i.nextOwnId,T<g||(T=p),i.nextOwnId=T+1):(T>=g&&(T=p),i.nextId=T+1);let $=L.highByte=T>=96&&h?T-96>>5:-1;R[gc]=T,R.__keys__=L,i[T-64]=L,T<p?(L.isShared=!0,i.sharedLength=T-63,r=!0,$>=0?(X[Y++]=(T&31)+96,X[Y++]=$):X[Y++]=T):($>=0?(X[Y++]=213,X[Y++]=114,X[Y++]=(T&31)+96,X[Y++]=$):(X[Y++]=212,X[Y++]=114,X[Y++]=T),P&&(b+=y*P),m.length>=d&&(m.shift()[gc]=0),m.push(R),x(L))},j=(R,L,P,T)=>{let $=X,N=Y,F=Rr,D=n;X=vd,Y=0,n=0,X||(vd=X=new gp(8192)),Rr=X.length-10,w(R,L,T),vd=X;let G=Y;if(X=$,Y=N,Rr=F,n=D,G>1){let U=Y+G-1;U>Rr&&V(U);let ne=P+n;X.copyWithin(ne+G,ne+1,Y),X.set(vd.slice(0,G),ne),Y=U}else X[P+n]=vd[0]},z=(R,L)=>{let P=e6(R,X,n,Y,i,V,(T,$,N)=>{if(N)return r=!0;Y=$;let F=X;return x(T),A(),F!==X?{position:Y,targetView:Nt,target:X}:Y},this);if(P===0)return k(R,!0);Y=P}}useBuffer(t){X=t,Nt=new DataView(X.buffer,X.byteOffset,X.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}L5=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,k5];z1=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?o2(e,16,t):a2(V0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==N5&&this.moreTypes?o2(e,O5.indexOf(n.name),t):a2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function o2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function a2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function i6(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function s6(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function l2(e,t,n){if(an.length>0){Nt.setUint32(an.position+e,Y+n-an.position-e),an.stringsPosition=Y-e;let r=an;an=null,t(r[0]),t(r[1])}}function o6(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let B5=new r6({useRecords:!1});const D5=B5.pack;B5.pack;const a6=512,l6=1024,c6=2048;function Dr(){return Date.now()}const Xi=e=>D5(e),Gu=e=>XF(e);let u6=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),tu(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),tu(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;tu(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},d6=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{tu(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{tu(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Dr()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Dr(),this.isPinging=!0,tu(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Dr()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new u6(r,i),this.pingClient()}};const NS={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",Eurovision:"eurovision",Halloween:"halloween",SkipInitialSetup:"skip_initial_setup"};class ls extends Ds{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Ne[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Ne[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const $5=["high","low"],f6="graphics-level",Wi=new ls(f6,$5[0]),h6=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],p6="mic-setup-preference",BS=new ls(p6,h6[0],"session"),F5=[60,30],_l=new ls("fps-count",F5[0]),L0=new ls("EXCLUDED_LANGUAGES_KEY_V2",null),mr=new ls("MOBILE_PHONE_MODE_KEY",null),z5=new ls("keyboard-help-visibility",!0);var YM;const c2=(YM=Mn.getFeatureFlagPayload)==null?void 0:YM.call(Mn,NS.InitialInputLag),lf=new ls("INPUT_LAG_V2",typeof c2=="number"?c2:0),U5=new ls("REMOTE_MIC_INPUT_LAG",0,"session"),u2=["write","read"],H5=new ls("DefaultRemoteMicPermission","write"),N0=new ls("BackgroundThemeSetting","regular","memory"),DS=new ls("AutoEnableFullscreenSetting",!0,"session"),g6=["WebSockets","PeerJS","PartyKit"],gm=new ls("RemoteMicConnectionType","WebSockets","session");var QM;(QM=Mn.onFeatureFlags)==null||QM.call(Mn,()=>{gm.set(Mn.getFeatureFlagPayload(NS.RemoteMicConnectionType)??"WebSockets")});function Qe(e){const[t,n]=v.useState(e.get());return v.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const d2="RememberedAccessesKey",kv="rememberedSubscriptionsKey";class m6 extends Ds{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Ne.local)==null?void 0:t.getItem(d2))??{},this.subscriptions=((n=Ne.session)==null?void 0:n.getItem(kv))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,o,a)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new d6(r,i,s,a)],this.setPermission(r,this.getPermission(r)),te.remoteMicConnected.dispatch({id:r,name:i,silent:o})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(o=>o.id===r);this.remoteMics=this.remoteMics.filter(o=>o.id!==r),s&&(s.onDisconnect(),te.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var o;return(o=this.getRemoteMicById(s))==null?void 0:o.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??H5.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,Ne==null||Ne.setItem(d2,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=Ne.session)==null||s.setItem(kv,this.subscriptions),te.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,o;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(a=>a!==r))??[],(o=Ne.session)==null||o.setItem(kv,this.subscriptions)}}}const nt=new m6;N0.addListener(e=>{C5(e),nt.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=nt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:N0.get()})});class y6{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const v6=new y6;class A6{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const b6=new A6,G5=Object.prototype.toString;function B0(e){switch(G5.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return jo(e,Error)}}function Wu(e,t){return G5.call(e)===`[object ${t}]`}function W5(e){return Wu(e,"ErrorEvent")}function f2(e){return Wu(e,"DOMError")}function _6(e){return Wu(e,"DOMException")}function Io(e){return Wu(e,"String")}function $S(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function FS(e){return e===null||$S(e)||typeof e!="object"&&typeof e!="function"}function _u(e){return Wu(e,"Object")}function D0(e){return typeof Event<"u"&&jo(e,Event)}function S6(e){return typeof Element<"u"&&jo(e,Element)}function x6(e){return Wu(e,"RegExp")}function $0(e){return!!(e&&e.then&&typeof e.then=="function")}function w6(e){return _u(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function jo(e,t){try{return e instanceof t}catch{return!1}}function q5(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function nu(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function h2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{q5(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function E6(e,t,n=!1){return Io(e)?x6(t)?t.test(e):Io(t)?n?e===t:e.includes(t):!1:!1}function Sl(e,t=[],n=!1){return t.some(r=>E6(e,r,n))}function C6(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!jo(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=k6(U1(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function U1(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(jo(r[i],Error)){p2(o,a);const c=e(t,r[i]),u=l.length;g2(c,i,u,a),l=U1(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(jo(c,Error)){p2(o,a);const d=e(t,c),h=l.length;g2(d,`errors[${u}]`,h,a),l=U1(e,t,n,c,i,[d,...l],d,h)}}),l}function p2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function g2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function k6(e,t){return e.map(n=>(n.value&&(n.value=nu(n.value,t)),n))}function K5(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const xl="8.36.0",vt=globalThis;function F0(e,t,n){const r=vt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[xl]=i[xl]||{};return s[e]||(s[e]=t())}const ru=vt,T6=80;function Vl(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||T6;for(;n&&s++<r&&(c=I6(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function I6(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(ru.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Io(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function P6(){try{return ru.document.location.href}catch{return""}}function M6(e){return ru.document&&ru.document.querySelector?ru.document.querySelector(e):null}function Y5(e){if(!ru.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const qu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,R6="Sentry Logger ",H1=["debug","info","warn","error","log","assert","trace"],mm={};function xh(e){if(!("console"in vt))return e();const t=vt.console,n={},r=Object.keys(mm);r.forEach(i=>{const s=mm[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function j6(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return qu?H1.forEach(n=>{t[n]=(...r)=>{e&&xh(()=>{vt.console[n](`${R6}[${n}]:`,...r)})}}):H1.forEach(n=>{t[n]=()=>{}}),t}const pe=F0("logger",j6),O6=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function V6(e){return e==="http"||e==="https"}function Ku(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function L6(e){const t=O6.exec(e);if(!t){xh(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return Q5({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function Q5(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function N6(e){if(!qu)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(pe.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?V6(r)?t&&isNaN(parseInt(t,10))?(pe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(pe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(pe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function J5(e){const t=typeof e=="string"?L6(e):Q5(e);if(!(!t||!N6(t)))return t}class Js extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function yi(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&X5(i,r),e[t]=i}function ts(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{qu&&pe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function X5(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ts(e,"__sentry_original__",t)}catch{}}function zS(e){return e.__sentry_original__}function B6(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Z5(e){if(B0(e))return{message:e.message,name:e.name,stack:e.stack,...y2(e)};if(D0(e)){const t={type:e.type,target:m2(e.target),currentTarget:m2(e.currentTarget),...y2(e)};return typeof CustomEvent<"u"&&jo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function m2(e){try{return S6(e)?Vl(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function y2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function D6(e,t=40){const n=Object.keys(Z5(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return nu(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:nu(s,t)}return""}function dr(e){return G1(e,new Map)}function G1(e,t){if($6(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=G1(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(G1(i,t))}),r}return e}function $6(e){if(!_u(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const e3=50,Ll="?",v2=/\(error: (.*)\)/,A2=/captureMessage|captureException/;function t3(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=v2.test(l)?l.replace(v2,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=e3+i)break}}return z6(s.slice(i))}}function F6(e){return Array.isArray(e)?t3(...e):e}function z6(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(mp(t).function||"")&&t.pop(),t.reverse(),A2.test(mp(t).function||"")&&(t.pop(),A2.test(mp(t).function||"")&&t.pop()),t.slice(0,e3).map(n=>({...n,filename:n.filename||mp(t).filename,function:n.function||Ll}))}function mp(e){return e[e.length-1]||{}}const Tv="<anonymous>";function Oo(e){try{return!e||typeof e!="function"?Tv:e.name||Tv}catch{return Tv}}function b2(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const _g={},_2={};function Da(e,t){_g[e]=_g[e]||[],_g[e].push(t)}function $a(e,t){_2[e]||(t(),_2[e]=!0)}function Zi(e,t){const n=e&&_g[e];if(n)for(const r of n)try{r(t)}catch(i){qu&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Oo(r)}
Error:`,i)}}function U6(e){const t="console";Da(t,e),$a(t,H6)}function H6(){"console"in vt&&H1.forEach(function(e){e in vt.console&&yi(vt.console,e,function(t){return mm[e]=t,function(...n){Zi("console",{args:n,level:e});const i=mm[e];i&&i.apply(vt.console,n)}})})}const W1=vt;function n3(){if(!("fetch"in W1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function q1(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function G6(){if(typeof EdgeRuntime=="string")return!0;if(!n3())return!1;if(q1(W1.fetch))return!0;let e=!1;const t=W1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=q1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){qu&&pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const r3=1e3;function wh(){return Date.now()/r3}function W6(){const{performance:e}=vt;if(!e||!e.now)return wh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/r3}const fr=W6(),oi=(()=>{const{performance:e}=vt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})();function i3(e,t){const n="fetch";Da(n,e),$a(n,()=>s3(void 0,t))}function q6(e){const t="fetch-body-resolved";Da(t,e),$a(t,()=>s3(Y6))}function s3(e,t=!1){t&&!G6()||yi(vt,"fetch",function(n){return function(...r){const{method:i,url:s}=Q6(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:fr()*1e3};e||Zi("fetch",{...o});const a=new Error().stack;return n.apply(vt,r).then(async l=>(e?e(l):Zi("fetch",{...o,endTimestamp:fr()*1e3,response:l}),l),l=>{throw Zi("fetch",{...o,endTimestamp:fr()*1e3,error:l}),B0(l)&&l.stack===void 0&&(l.stack=a,ts(l,"framesToPop",1)),l})}})}async function K6(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function Y6(e){let t;try{t=e.clone()}catch{return}K6(t,()=>{Zi("fetch-body-resolved",{endTimestamp:fr()*1e3,response:e})})}function K1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function S2(e){return typeof e=="string"?e:e?K1(e,"url")?e.url:e.toString?e.toString():"":""}function Q6(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:S2(n),method:K1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:S2(t),method:K1(t,"method")?String(t.method).toUpperCase():"GET"}}let yp=null;function o3(e){const t="error";Da(t,e),$a(t,J6)}function J6(){yp=vt.onerror,vt.onerror=function(e,t,n,r,i){return Zi("error",{column:r,error:i,line:n,msg:e,url:t}),yp&&!yp.__SENTRY_LOADER__?yp.apply(this,arguments):!1},vt.onerror.__SENTRY_INSTRUMENTED__=!0}let vp=null;function a3(e){const t="unhandledrejection";Da(t,e),$a(t,X6)}function X6(){vp=vt.onunhandledrejection,vt.onunhandledrejection=function(e){return Zi("unhandledrejection",e),vp&&!vp.__SENTRY_LOADER__?vp.apply(this,arguments):!0},vt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Z6(){return"npm"}function e8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function un(){const e=vt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function l3(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function na(e){const{message:t,event_id:n}=e;if(t)return t;const r=l3(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Y1(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Of(e,t){const n=l3(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function x2(e){if(e&&e.__sentry_captured__)return!0;try{ts(e,"__sentry_captured__",!0)}catch{}return!1}function c3(e){return Array.isArray(e)?e:[e]}function ra(e,t=100,n=1/0){try{return Q1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function u3(e,t=3,n=100*1024){const r=ra(e,t);return i8(r)>n?u3(e,t-1,n):r}function Q1(e,t,n=1/0,r=1/0,i=e8()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=t8(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return Q1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=Z5(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=Q1(p,g,l-1,r,i),d++}return o(t),u}function t8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(q5(t))return"[VueViewModel]";if(w6(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Oo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=n8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function n8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function r8(e){return~-encodeURI(e).split(/%..|./).length}function i8(e){return r8(JSON.stringify(e))}var yo;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(yo||(yo={}));function Nl(e){return new Fi(t=>{t(e)})}function ym(e){return new Fi((t,n)=>{n(e)})}class Fi{constructor(t){Fi.prototype.__init.call(this),Fi.prototype.__init2.call(this),Fi.prototype.__init3.call(this),Fi.prototype.__init4.call(this),this._state=yo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Fi((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Fi((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(yo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(yo.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===yo.PENDING){if($0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===yo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===yo.RESOLVED&&n[1](this._value),this._state===yo.REJECTED&&n[2](this._value),n[0]=!0)})}}}function s8(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return ym(new Js("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Fi((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Nl(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function wl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const o8=["fatal","error","warning","log","info","debug"];function a8(e){return e==="warn"?"warning":o8.includes(e)?e:"log"}const Tc="baggage",US="sentry-",l8=/^sentry-/,c8=8192;function d3(e){const t=u8(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(l8)){const o=i.slice(US.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function f3(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${US}${r}`]=i),n),{});return d8(t)}function u8(e){if(!(!e||!Io(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=w2(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):w2(e)}function w2(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function d8(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>c8?(qu&&pe.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const f8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function h8(e){if(!e)return;const t=e.match(f8);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function p8(e,t){const n=h8(e),r=d3(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||un(),parentSpanId:s||un().substring(16),spanId:un().substring(16),sampled:o,dsc:r||{}}:{traceId:i||un(),spanId:un().substring(16)}}function HS(e=un(),t=un().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Yu(e,t=[]){return[e,t]}function g8(e,t){const[n,r]=e;return[n,[...r,t]]}function E2(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function J1(e){return vt.__SENTRY__&&vt.__SENTRY__.encodePolyfill?vt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function m8(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[J1(r),s]:r.push(typeof s=="string"?J1(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ra(a))}i(l)}}return typeof r=="string"?r:y8(r)}function y8(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function v8(e){return[{type:"span"},e]}function A8(e){const t=typeof e.data=="string"?J1(e.data):e.data;return[dr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const b8={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function C2(e){return b8[e]}function h3(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function _8(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Ku(r)},...i&&{trace:dr({...i})}}}function S8(e,t,n){const r=[{type:"client_report"},{timestamp:wh(),discarded_events:e}];return Yu(t?{dsn:t}:{},[r])}const x8=60*1e3;function w8(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?x8:r-t}function E8(e,t){return e[t]||e.all||0}function C8(e,t,n=Date.now()){return E8(e,t)>n}function k8(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+w8(o,r):t===429&&(i.all=r+60*1e3);return i}function So(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function vm(){return{traceId:un(),spanId:un().substring(16)}}const Ap=vt;function T8(){const e=Ap.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ap&&!!Ap.history.pushState&&!!Ap.history.replaceState;return!t&&n}const Ze=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Qu(){return GS(vt),vt}function GS(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||xl,t[xl]=t[xl]||{}}function I8(e){const t=fr(),n={sid:un(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>M8(n)};return e&&Su(n,e),n}function Su(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||fr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:un()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function P8(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Su(e,n)}function M8(e){return dr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const X1="_sentrySpan";function Vf(e,t){t?ts(e,X1,t):delete e[X1]}function Am(e){return e[X1]}const R8=100;class WS{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=vm()}clone(){const t=new WS;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Vf(t,Am(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Su(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Ia?[n.getScopeData(),n.getRequestSession()]:_u(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Vf(this,void 0),this._attachments=[],this._propagationContext=vm(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:R8;if(r<=0)return this;const i={timestamp:wh(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Am(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:un();if(!this._client)return pe.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:un();if(!this._client)return pe.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:un();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(pe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Ia=WS;function j8(){return F0("defaultCurrentScope",()=>new Ia)}function O8(){return F0("defaultIsolationScope",()=>new Ia)}class V8{constructor(t,n){let r;t?r=t:r=new Ia;let i;n?i=n:i=new Ia,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return $0(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function xu(){const e=Qu(),t=GS(e);return t.stack=t.stack||new V8(j8(),O8())}function L8(e){return xu().withScope(e)}function N8(e,t){const n=xu();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function k2(e){return xu().withScope(()=>e(xu().getIsolationScope()))}function B8(){return{withIsolationScope:k2,withScope:L8,withSetScope:N8,withSetIsolationScope:(e,t)=>k2(t),getCurrentScope:()=>xu().getScope(),getIsolationScope:()=>xu().getIsolationScope()}}function Eh(e){const t=GS(e);return t.acs?t.acs:B8()}function Qt(){const e=Qu();return Eh(e).getCurrentScope()}function cs(){const e=Qu();return Eh(e).getIsolationScope()}function D8(){return F0("globalScope",()=>new Ia)}function z0(...e){const t=Qu(),n=Eh(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function wt(){return Qt().getClient()}const $8="_sentryMetrics";function Z1(e){const t=e[$8];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(dr(i));return n}const ha="sentry.source",p3="sentry.sample_rate",Bl="sentry.op",jn="sentry.origin",eb="sentry.idle_span_finish_reason",U0="sentry.measurement_unit",H0="sentry.measurement_value",F8="sentry.profile_id",qS="sentry.exclusive_time",z8=0,g3=1,Xn=2;function U8(e){if(e<400&&e>=100)return{code:g3};if(e>=400&&e<500)switch(e){case 401:return{code:Xn,message:"unauthenticated"};case 403:return{code:Xn,message:"permission_denied"};case 404:return{code:Xn,message:"not_found"};case 409:return{code:Xn,message:"already_exists"};case 413:return{code:Xn,message:"failed_precondition"};case 429:return{code:Xn,message:"resource_exhausted"};case 499:return{code:Xn,message:"cancelled"};default:return{code:Xn,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Xn,message:"unimplemented"};case 503:return{code:Xn,message:"unavailable"};case 504:return{code:Xn,message:"deadline_exceeded"};default:return{code:Xn,message:"internal_error"}}return{code:Xn,message:"unknown_error"}}function m3(e,t){e.setAttribute("http.response.status_code",t);const n=U8(t);n.message!=="unknown_error"&&e.setStatus(n)}const y3=0,v3=1;function H8(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a}=yt(e);return dr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a})}function G8(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=yt(e);return dr({parent_span_id:r,span_id:t,trace_id:n})}function A3(e){const{traceId:t,spanId:n}=e.spanContext(),r=ec(e);return HS(t,n,r)}function El(e){return typeof e=="number"?T2(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?T2(e.getTime()):fr()}function T2(e){return e>9999999999?e/1e3:e}function yt(e){if(q8(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(W8(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return dr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:El(i),timestamp:El(o)||void 0,status:b3(l),op:r[Bl],origin:r[jn],_metrics_summary:Z1(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function W8(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function q8(e){return typeof e.getSpanJSON=="function"}function ec(e){const{traceFlags:t}=e.spanContext();return t===v3}function b3(e){if(!(!e||e.code===z8))return e.code===g3?"ok":e.message||"unknown_error"}const Cl="_sentryChildSpans",tb="_sentryRootSpan";function _3(e,t){const n=e[tb]||e;ts(t,tb,n),e[Cl]?e[Cl].add(t):ts(e,Cl,new Set([t]))}function K8(e,t){e[Cl]&&e[Cl].delete(t)}function Sg(e){const t=new Set;function n(r){if(!t.has(r)&&ec(r)){t.add(r);const i=r[Cl]?Array.from(r[Cl]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function wr(e){return e[tb]||e}function zr(){const e=Qu(),t=Eh(e);return t.getActiveSpan?t.getActiveSpan():Am(Qt())}let I2=!1;function Y8(){I2||(I2=!0,o3(nb),a3(nb))}function nb(){const e=zr(),t=e&&wr(e);if(t){const n="internal_error";Ze&&pe.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:Xn,message:n})}}nb.tag="sentry_tracingErrorCallback";const S3="_sentryScope",x3="_sentryIsolationScope";function Q8(e,t,n){e&&(ts(e,x3,n),ts(e,S3,t))}function P2(e){return{scope:e[S3],isolationScope:e[x3]}}function Vo(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=wt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Ju{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:y3}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const KS="production",w3="_frozenDsc";function M2(e,t){ts(e,w3,t)}function G0(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=dr({environment:n.environment||KS,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function tc(e){const t=wt();if(!t)return{};const n=G0(yt(e).trace_id||"",t),r=wr(e),i=r[w3];if(i)return i;const s=r.spanContext().traceState,o=s&&s.get("sentry.dsc"),a=o&&d3(o);if(a)return a;const l=yt(r),c=l.data||{},u=c[p3];u!=null&&(n.sample_rate=`${u}`);const d=c[ha],h=l.description;return d!=="url"&&h&&(n.transaction=h),Vo()&&(n.sampled=String(ec(r))),t.emit("createDsc",n,r),n}function J8(e){if(!Ze)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=yt(e),{spanId:i}=e.spanContext(),s=ec(e),o=wr(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=yt(o);c.push(`root ID: ${o.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}pe.log(`${l}
  ${c.join(`
  `)}`)}function X8(e){if(!Ze)return;const{description:t="< unknown name >",op:n="< unknown op >"}=yt(e),{spanId:r}=e.spanContext(),s=wr(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;pe.log(o)}function E3(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Ze&&pe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Z8(e,t){if(!Vo(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=E3(n);return r===void 0?(Ze&&pe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Ze&&pe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Ze&&pe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function ez(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function tz(e,t,n,r){const i=h3(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Ku(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Yu(s,[o])}function nz(e,t,n,r){const i=h3(n),s=e.type&&e.type!=="replay_event"?e.type:"event";ez(e,n&&n.sdk);const o=_8(e,i,r,t);return delete e.sdkProcessingMetadata,Yu(o,[[{type:s},e]])}function rz(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=tc(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Ku(i)}},a=t&&t.getOptions().beforeSendSpan,l=a?u=>a(yt(u)):u=>yt(u),c=[];for(const u of e){const d=l(u);d&&c.push(v8(d))}return Yu(o,c)}function iz(e,t,n,r=zr()){const i=r&&wr(r);i&&i.addEvent(e,{[H0]:t,[U0]:n})}function R2(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[U0],s=r[H0];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const j2=1e3;class YS{constructor(t={}){this._traceId=t.traceId||un(),this._spanId=t.spanId||un().substring(16),this._startTime=t.startTimestamp||fr(),this._attributes={},this.setAttributes({[jn]:"manual",[Bl]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?v3:y3}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=El(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=El(t),X8(this),this._onSpanEnded())}getSpanJSON(){return dr({data:this._attributes,description:this._name,op:this._attributes[Bl],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:b3(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[jn],_metrics_summary:Z1(this),profile_id:this._attributes[F8],exclusive_time:this._attributes[qS],measurements:R2(this._events),is_segment:this._isStandaloneSpan&&wr(this)===this||void 0,segment_id:this._isStandaloneSpan?wr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Ze&&pe.log("[Tracing] Adding an event to span:",t);const i=O2(n)?n:r||fr(),s=O2(n)?{}:n||{},o={name:t,time:El(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=wt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===wr(this)))return;if(this._isStandaloneSpan){this._sampled?oz(rz([this],t)):(Ze&&pe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(P2(this).scope||Qt()).captureEvent(r)}_convertSpanToTransaction(){if(!V2(yt(this)))return;this._name||(Ze&&pe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=P2(this),i=(t||Qt()).getClient()||wt();if(this._sampled!==!0){Ze&&pe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=Sg(this).filter(d=>d!==this&&!sz(d)).map(d=>yt(d)).filter(V2),a=this._attributes[ha],l={contexts:{trace:H8(this)},spans:o.length>j2?o.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,j2):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...dr({dynamicSamplingContext:tc(this)})},_metrics_summary:Z1(this),...a&&{transaction_info:{source:a}}},c=R2(this._events);return c&&Object.keys(c).length&&(Ze&&pe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function O2(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function V2(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function sz(e){return e instanceof YS&&e.isStandaloneSpan()}function oz(e){const t=wt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const C3="__SENTRY_SUPPRESS_TRACING__";function Ms(e){const t=k3();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=lz(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>z0(e.scope,o):i!==void 0?o=>bm(i,o):o=>o())(()=>{const o=Qt(),a=uz(o);return e.onlyIfParent&&!a?new Ju:az({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function bm(e,t){const n=k3();return n.withActiveSpan?n.withActiveSpan(e,t):z0(r=>(Vf(r,e||void 0),t(r)))}function az({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Vo())return new Ju;const i=cs();let s;if(e&&!n)s=cz(e,r,t),_3(e,s);else if(e){const o=tc(e),{traceId:a,spanId:l}=e.spanContext(),c=ec(e);s=L2({traceId:a,parentSpanId:l,...t},r,c),M2(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=L2({traceId:o,parentSpanId:l,...t},r,c),a&&M2(s,a)}return J8(s),Q8(s,r,i),s}function lz(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=El(e.startTime),delete r.startTime,r}return n}function k3(){const e=Qu();return Eh(e)}function L2(e,t,n){const r=wt(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[a,l]=t.getScopeData().sdkProcessingMetadata[C3]?[!1]:Z8(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new YS({...e,attributes:{[ha]:"custom",...e.attributes},sampled:a});return l!==void 0&&c.setAttribute(p3,l),r&&r.emit("spanStart",c),c}function cz(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[C3]?!1:ec(e),o=s?new YS({...n,parentSpanId:r,traceId:i,sampled:s}):new Ju({traceId:i});_3(e,o);const a=wt();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function uz(e){const t=Am(e);if(!t)return;const n=wt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?wr(t):t}const xg={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},dz="heartbeatFailed",fz="idleTimeout",hz="finalTimeout",pz="externalFinish";function T3(e,t={}){const n=new Map;let r=!1,i,s=pz,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=xg.idleTimeout,finalTimeout:c=xg.finalTimeout,childSpanTimeout:u=xg.childSpanTimeout,beforeSpanEnd:d}=t,h=wt();if(!h||!Vo())return new Ju;const p=Qt(),g=zr(),m=gz(e);m.end=new Proxy(m.end,{apply(E,C,k){d&&d(m);const[V,...w]=k,j=V||fr(),z=El(j),R=Sg(m).filter(N=>N!==m);if(!R.length)return S(z),Reflect.apply(E,C,[z,...w]);const L=R.map(N=>yt(N).timestamp).filter(N=>!!N),P=L.length?Math.max(...L):void 0,T=yt(m).start_timestamp,$=Math.min(T?T+c/1e3:1/0,Math.max(T||-1/0,Math.min(z,P||1/0)));return S($),Reflect.apply(E,C,[$,...w])}});function b(){i&&(clearTimeout(i),i=void 0)}function y(E){b(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=fz,m.end(E))},l)}function A(E){i=setTimeout(()=>{!r&&o&&(s=dz,m.end(E))},u)}function _(E){b(),n.set(E,!0);const C=fr();A(C+u/1e3)}function x(E){if(n.has(E)&&n.delete(E),n.size===0){const C=fr();y(C+l/1e3)}}function S(E){r=!0,n.clear(),a.forEach(z=>z()),Vf(p,g);const C=yt(m),{start_timestamp:k}=C;if(!k)return;(C.data||{})[eb]||m.setAttribute(eb,s),pe.log(`[Tracing] Idle span "${C.op}" finished`);const w=Sg(m).filter(z=>z!==m);let j=0;w.forEach(z=>{z.isRecording()&&(z.setStatus({code:Xn,message:"cancelled"}),z.end(E),Ze&&pe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(z,void 0,2)));const R=yt(z),{timestamp:L=0,start_timestamp:P=0}=R,T=P<=E,$=(c+l)/1e3,N=L-P<=$;if(Ze){const F=JSON.stringify(z,void 0,2);T?N||pe.log("[Tracing] Discarding span since it finished after idle span final timeout",F):pe.log("[Tracing] Discarding span since it happened after idle span was finished",F)}(!N||!T)&&(K8(m,z),j++)}),j>0&&m.setAttribute("sentry.idle_span_discarded_spans",j)}return a.push(h.on("spanStart",E=>{if(r||E===m||yt(E).timestamp)return;Sg(m).includes(E)&&_(E.spanContext().spanId)})),a.push(h.on("spanEnd",E=>{r||x(E.spanContext().spanId)})),a.push(h.on("idleSpanEnableAutoFinish",E=>{E===m&&(o=!0,y(),n.size&&A())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:Xn,message:"deadline_exceeded"}),s=hz,m.end())},c),m}function gz(e){const t=Ms(e);return Vf(Qt(),t),Ze&&pe.log("[Tracing] Started span is an idle span"),t}function rb(e,t,n,r=0){return new Fi((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);Ze&&o.id&&a===null&&pe.log(`Event processor "${o.id}" dropped event`),$0(a)?a.then(l=>rb(e,l,n,r+1).then(i)).then(null,s):rb(e,a,n,r+1).then(i).then(null,s)}})}function mz(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;yz(e,t),r&&bz(e,r),_z(e,n),vz(e,i),Az(e,s)}function N2(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;Ad(e,"extra",n),Ad(e,"tags",r),Ad(e,"user",i),Ad(e,"contexts",s),Ad(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Ad(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function yz(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=dr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=dr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=dr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=dr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function vz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Az(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function bz(e,t){e.contexts={trace:G8(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:tc(t),...e.sdkProcessingMetadata};const n=wr(t),r=yt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function _z(e,t){e.fingerprint=e.fingerprint?c3(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Sz(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||un(),timestamp:t.timestamp||wh()},c=n.integrations||e.integrations.map(b=>b.name);xz(l,e),Cz(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&wz(l,e.stackParser);const u=Tz(r,n.captureContext);n.mechanism&&Of(l,n.mechanism);const d=i?i.getEventProcessors():[],h=D8().getScopeData();if(s){const b=s.getScopeData();N2(h,b)}if(u){const b=u.getScopeData();N2(h,b)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),mz(l,h);const g=[...d,...h.eventProcessors];return rb(g,l,n).then(b=>(b&&Ez(b),typeof o=="number"&&o>0?kz(b,o,a):b))}function xz(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:KS),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=nu(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=nu(o.value,s));const a=e.request;a&&a.url&&(a.url=nu(a.url,s))}const B2=new WeakMap;function wz(e,t){const n=vt._sentryDebugIds;if(!n)return;let r;const i=B2.get(t);i?r=i:(r=new Map,B2.set(t,r));const s=Object.entries(n).reduce((o,[a,l])=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){o[h.filename]=l;break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function Ez(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Cz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function kz(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:ra(i.data,t,n)}}))},...e.user&&{user:ra(e.user,t,n)},...e.contexts&&{contexts:ra(e.contexts,t,n)},...e.extra&&{extra:ra(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ra(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:ra(i.data,t,n)}}))),r}function Tz(e,t){if(!t)return e;const n=e?e.clone():new Ia;return n.update(t),n}function Iz(e){if(e)return Pz(e)?{captureContext:e}:Rz(e)?{captureContext:e}:e}function Pz(e){return e instanceof Ia||typeof e=="function"}const Mz=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Rz(e){return Object.keys(e).some(t=>Mz.includes(t))}function Os(e,t){return Qt().captureException(e,Iz(t))}function I3(e,t){return Qt().captureEvent(e,t)}function jz(e,t){cs().setContext(e,t)}function Oz(e){cs().setUser(e)}function Vz(){return cs().lastEventId()}function D2(e){const t=wt(),n=cs(),r=Qt(),{release:i,environment:s=KS}=t&&t.getOptions()||{},{userAgent:o}=vt.navigator||{},a=I8({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Su(l,{status:"exited"}),P3(),n.setSession(a),r.setSession(a),a}function P3(){const e=cs(),t=Qt(),n=t.getSession()||e.getSession();n&&P8(n),M3(),e.setSession(),t.setSession()}function M3(){const e=cs(),t=Qt(),n=wt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function $2(e=!1){if(e){P3();return}M3()}const Lz="7";function R3(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Nz(e){return`${R3(e)}${e.projectId}/envelope/`}function Bz(e,t){return B6({sentry_key:e.publicKey,sentry_version:Lz,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Dz(e,t,n){return t||`${Nz(e)}?${Bz(e,n)}`}function $z(e,t){const n=J5(e);if(!n)return"";const r=`${R3(n)}embed/error-page/`;let i=`dsn=${Ku(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const F2=[];function Fz(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function zz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=c3(n(t)):r=t;const i=Fz(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function Uz(e,t){const n={};return t.forEach(r=>{r&&j3(e,r,n)}),n}function z2(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function j3(e,t,n){if(n[t.name]){Ze&&pe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,F2.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),F2.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Ze&&pe.log(`Integration installed: ${t.name}`)}const U2="Not capturing exception because it's already been captured.";class Hz{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=J5(t.dsn):Ze&&pe.warn("No DSN provided, client will not send events."),this._dsn){const n=Dz(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=un();if(x2(t))return Ze&&pe.log(U2),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:un(),...r},o=$S(t)?t:String(t),a=FS(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=un();if(n&&n.originalException&&x2(n.originalException))return Ze&&pe.log(U2),i;const s={event_id:i,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?Ze&&pe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Su(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Nl(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];j3(this,t,this._integrations),n||z2(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=nz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=g8(r,A8(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=tz(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Ze&&pe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Ze&&pe.error("Error while sending envelope:",n),n)):(Ze&&pe.error("Transport disabled"),Nl({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Uz(this,t),z2(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Su(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Fi(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=cs()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),Sz(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:dr({trace_id:u,span_id:d,parent_span_id:h}),...a.contexts};const g=p||G0(u,this);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Ze){const s=i;s.logLevel==="log"?pe.log(s.message):pe.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=V3(t),a=O3(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof s>"u"?void 0:E3(s);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),ym(new Js(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new Js("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const b=Wz(this,i,g,n);return Gz(b,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),o){const A=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",A)}throw new Js(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!o&&m&&this._updateSessionFromEvent(m,g),o){const y=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,A=g.spans?g.spans.length:0,_=y-A;_>0&&this.recordDroppedEvent("before_send","span",_)}const b=g.transaction_info;if(o&&b&&g.transaction!==t.transaction){const y="custom";g.transaction_info={...b,source:y}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof Js?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new Js(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Ze&&pe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Ze&&pe.log("No outcomes to send");return}if(!this._dsn){Ze&&pe.log("No dsn provided, will not send outcomes");return}Ze&&pe.log("Sending outcomes:",t);const n=S8(t,this._options.tunnel&&Ku(this._dsn));this.sendEnvelope(n)}}function Gz(e,t){const n=`${t} must return \`null\` or a valid event.`;if($0(e))return e.then(r=>{if(!_u(r)&&r!==null)throw new Js(n);return r},r=>{throw new Js(`${t} rejected with ${r}`)});if(!_u(e)&&e!==null)throw new Js(n);return e}function Wz(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(O3(n)&&i)return i(n,r);if(V3(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):e.recordDroppedEvent("before_send","span")}n.spans=a}if(s){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(n,r)}}return n}function O3(e){return e.type===void 0}function V3(e){return e.type==="transaction"}function qz(e,t){t.debug===!0&&(Ze?pe.enable():xh(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Qt().update(t.initialScope);const r=new e(t);return Kz(r),r.init(),r}function Kz(e){Qt().setClient(e)}const Yz=64;function Qz(e,t,n=s8(e.bufferSize||Yz)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(E2(o,(d,h)=>{const p=C2(h);if(C8(r,p)){const g=H2(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Nl({});const l=Yu(o[0],a),c=d=>{E2(l,(h,p)=>{const g=H2(h,p);e.recordDroppedEvent(d,C2(p),g)})},u=()=>t({body:m8(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Ze&&pe.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=k8(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof Js)return Ze&&pe.error("Skipped sending event because buffer is full."),c("queue_overflow"),Nl({});throw d})}return{send:s,flush:i}}function H2(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function L3(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:xl})),version:xl}),e._metadata=i}const Jz=100;function Dl(e,t){const n=wt(),r=cs();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Jz}=n.getOptions();if(s<=0)return;const a={timestamp:wh(),...e},l=i?xh(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let G2;const Xz="FunctionToString",W2=new WeakMap,Zz=()=>({name:Xz,setupOnce(){G2=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=zS(this),n=W2.has(wt())&&t!==void 0?t:this;return G2.apply(n,e)}}catch{}},setup(e){W2.set(e,!0)}}),e7=Zz,t7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],n7="InboundFilters",r7=(e={})=>({name:n7,processEvent(t,n,r){const i=r.getOptions(),s=s7(e,i);return o7(t,s)?null:t}}),i7=r7;function s7(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:t7],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function o7(e,t){return t.ignoreInternal&&f7(e)?(Ze&&pe.warn(`Event dropped due to being internal Sentry Error.
Event: ${na(e)}`),!0):a7(e,t.ignoreErrors)?(Ze&&pe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${na(e)}`),!0):p7(e)?(Ze&&pe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${na(e)}`),!0):l7(e,t.ignoreTransactions)?(Ze&&pe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${na(e)}`),!0):c7(e,t.denyUrls)?(Ze&&pe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${na(e)}.
Url: ${_m(e)}`),!0):u7(e,t.allowUrls)?!1:(Ze&&pe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${na(e)}.
Url: ${_m(e)}`),!0)}function a7(e,t){return e.type||!t||!t.length?!1:d7(e).some(n=>Sl(n,t))}function l7(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Sl(n,t):!1}function c7(e,t){if(!t||!t.length)return!1;const n=_m(e);return n?Sl(n,t):!1}function u7(e,t){if(!t||!t.length)return!0;const n=_m(e);return n?Sl(n,t):!0}function d7(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function f7(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function h7(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _m(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?h7(t):null}catch{return Ze&&pe.error(`Cannot extract url for event ${na(e)}`),null}}function p7(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const g7="Dedupe",m7=()=>{let e;return{name:g7,processEvent(t){if(t.type)return t;try{if(v7(t,e))return Ze&&pe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},y7=m7;function v7(e,t){return t?!!(A7(e,t)||b7(e,t)):!1}function A7(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!B3(e,t)||!N3(e,t))}function b7(e,t){const n=q2(t),r=q2(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!B3(e,t)||!N3(e,t))}function N3(e,t){let n=b2(e),r=b2(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function B3(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function q2(e){return e.exception&&e.exception.values&&e.exception.values[0]}function _7(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=Vo()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(w7(m,e),delete r[g]);return}const o=Qt(),a=wt(),{method:l,url:c}=e.fetchData,u=x7(c),d=u?wl(u).host:void 0,h=!!zr(),p=s&&h?Ms({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[jn]:i,[Bl]:"http.client"}}):new Ju;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=S7(g,a,o,m,Vo()&&h?p:void 0)}return p}function S7(e,t,n,r,i){const s=cs(),{traceId:o,spanId:a,sampled:l,dsc:c}={...s.getPropagationContext(),...n.getPropagationContext()},u=i?A3(i):HS(o,a,l),d=f3(c||(i?tc(i):G0(o,t))),h=r.headers||(typeof Request<"u"&&jo(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&jo(h,Headers)){const p=new Headers(h);if(p.set("sentry-trace",u),d){const g=p.get(Tc);if(g){const m=bp(g);p.set(Tc,m?`${m},${d}`:d)}else p.set(Tc,d)}return p}else if(Array.isArray(h)){const p=[...h.filter(g=>!(Array.isArray(g)&&g[0]==="sentry-trace")).map(g=>{if(Array.isArray(g)&&g[0]===Tc&&typeof g[1]=="string"){const[m,b,...y]=g;return[m,bp(b),...y]}else return g}),["sentry-trace",u]];return d&&p.push([Tc,d]),p}else{const p="baggage"in h?h.baggage:void 0;let g=[];return Array.isArray(p)?g=p.map(m=>typeof m=="string"?bp(m):m).filter(m=>m===""):p&&g.push(bp(p)),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function x7(e){try{return new URL(e).href}catch{return}}function w7(e,t){if(t.response){m3(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Xn,message:"internal_error"});e.end()}function bp(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(US)).join(",")}const Ue=vt;let ib=0;function D3(){return ib>0}function E7(){ib++,setTimeout(()=>{ib--})}function wu(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(zS(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(o=>wu(o,t));return e.apply(this,s)}catch(s){throw E7(),z0(o=>{o.addEventProcessor(a=>(t.mechanism&&(Y1(a,void 0),Of(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Os(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}X5(r,e),ts(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const ei=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function QS(e,t){const n=JS(e,t),r={type:P7(t),value:M7(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function C7(e,t,n,r){const i=wt(),s=i&&i.getOptions().normalizeDepth,o=L7(t),a={__serialized__:u3(t,s)};if(o)return{exception:{values:[QS(e,o)]},extra:a};const l={exception:{values:[{type:D0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:O7(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=JS(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Iv(e,t){return{exception:{values:[QS(e,t)]}}}function JS(e,t){const n=t.stacktrace||t.stack||"",r=T7(t),i=I7(t);try{return e(n,r,i)}catch{}return[]}const k7=/Minified React error #\d+;/i;function T7(e){return e&&k7.test(e.message)?1:0}function I7(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function $3(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function P7(e){const t=e&&e.name;return!t&&$3(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function M7(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:$3(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function R7(e,t,n,r){const i=n&&n.syntheticException||void 0,s=XS(e,t,i,r);return Of(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Nl(s)}function j7(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=sb(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Nl(o)}function XS(e,t,n,r,i){let s;if(W5(t)&&t.error)return Iv(e,t.error);if(f2(t)||_6(t)){const o=t;if("stack"in t)s=Iv(e,t);else{const a=o.name||(f2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=sb(e,l,n,r),Y1(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return B0(t)?Iv(e,t):_u(t)||D0(t)?(s=C7(e,t,n,i),Of(s,{synthetic:!0}),s):(s=sb(e,t,n,r),Y1(s,`${t}`),Of(s,{synthetic:!0}),s)}function sb(e,t,n,r){const i={};if(r&&n){const s=JS(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if($S(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function O7(e,{isUnhandledRejection:t}){const n=D6(e),r=t?"promise rejection":"exception";return W5(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:D0(e)?`Event \`${V7(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function V7(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function L7(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function N7(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Ku(r)}},s=B7(e);return Yu(i,[s])}function B7(e){return[{type:"user_report"},e]}class D7 extends Hz{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Ue.SENTRY_SDK_SOURCE||Z6();L3(n,"browser",["browser"],r),super(n),n.sendClientReports&&Ue.document&&Ue.document.addEventListener("visibilitychange",()=>{Ue.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return R7(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return j7(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){ei&&pe.warn("SDK not enabled, will not capture user feedback.");return}const n=N7(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const bi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$7=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Xu=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=$7(t.value,n),e(t)))}},Ge=vt,F7=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Ch=()=>Ge.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],kh=()=>{const e=Ch();return e&&e.activationStart||0},Zu=(e,t)=>{const n=Ch();let r="navigate";return n&&(Ge.document&&Ge.document.prerendering||kh()>0?r="prerender":Ge.document&&Ge.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:F7(),navigationType:r}},nc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Th=e=>{const t=n=>{(n.type==="pagehide"||Ge.document&&Ge.document.visibilityState==="hidden")&&e(n)};Ge.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},ZS=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Lf=-1;const z7=()=>{Lf=Ge.document.visibilityState==="hidden"&&!Ge.document.prerendering?0:1/0},Sm=e=>{Ge.document.visibilityState==="hidden"&&Lf>-1&&(Lf=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",Sm,!0),removeEventListener("prerenderingchange",Sm,!0))},U7=()=>{addEventListener("visibilitychange",Sm,!0),addEventListener("prerenderingchange",Sm,!0)},W0=()=>(Ge.document&&Lf<0&&(z7(),U7()),{get firstHiddenTime(){return Lf}}),Ih=e=>{Ge.document&&Ge.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},H7=[1800,3e3],G7=(e,t={})=>{Ih(()=>{const n=W0(),r=Zu("FCP");let i;const o=nc("paint",a=>{a.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-kh(),0),r.entries.push(l),i(!0)))})});o&&(i=Xu(e,r,H7,t.reportAllChanges))})},W7=[.1,.25],q7=(e,t={})=>{G7(ZS(()=>{const n=Zu("CLS",0);let r,i=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},a=nc("layout-shift",o);a&&(r=Xu(e,n,W7,t.reportAllChanges),Th(()=>{o(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},K7=[100,300],Y7=(e,t={})=>{Ih(()=>{const n=W0(),r=Zu("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},o=l=>{l.forEach(s)},a=nc("first-input",o);i=Xu(e,r,K7,t.reportAllChanges),a&&Th(ZS(()=>{o(a.takeRecords()),a.disconnect()}))})};let F3=0,Pv=1/0,_p=0;const Q7=e=>{e.forEach(t=>{t.interactionId&&(Pv=Math.min(Pv,t.interactionId),_p=Math.max(_p,t.interactionId),F3=_p?(_p-Pv)/7+1:0)})};let ob;const J7=()=>ob?F3:performance.interactionCount||0,X7=()=>{"interactionCount"in performance||ob||(ob=nc("event",Q7,{type:"event",buffered:!0,durationThreshold:0}))},Z7=[200,500],e9=0,z3=()=>J7()-e9,K2=10,Ao=[],Mv={},Y2=e=>{const t=Ao[Ao.length-1],n=Mv[e.interactionId];if(n||Ao.length<K2||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Mv[r.id]=r,Ao.push(r)}Ao.sort((r,i)=>i.latency-r.latency),Ao.splice(K2).forEach(r=>{delete Mv[r.id]})}},t9=()=>{const e=Math.min(Ao.length-1,Math.floor(z3()/50));return Ao[e]},n9=(e,t={})=>{Ih(()=>{X7();const n=Zu("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&Y2(l),l.entryType==="first-input"&&!Ao.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&Y2(l)});const a=t9();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=nc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Xu(e,n,Z7,t.reportAllChanges),s&&("PerformanceEventTiming"in Ge&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Th(()=>{i(s.takeRecords()),n.value<0&&z3()>0&&(n.value=0,n.entries=[]),r(!0)}))})},r9=[2500,4e3],Q2={},i9=(e,t={})=>{Ih(()=>{const n=W0(),r=Zu("LCP");let i;const s=a=>{const l=a[a.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-kh(),0),r.entries=[l],i())},o=nc("largest-contentful-paint",s);if(o){i=Xu(e,r,r9,t.reportAllChanges);const a=ZS(()=>{Q2[r.id]||(s(o.takeRecords()),o.disconnect(),Q2[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ge.document&&addEventListener(l,()=>setTimeout(a,0),!0)}),Th(a)}})},s9=[800,1800],ab=e=>{Ge.document&&Ge.document.prerendering?Ih(()=>ab(e)):Ge.document&&Ge.document.readyState!=="complete"?addEventListener("load",()=>ab(e),!0):setTimeout(e,0)},o9=(e,t={})=>{const n=Zu("TTFB"),r=Xu(e,n,s9,t.reportAllChanges);ab(()=>{const i=Ch();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-kh(),0),n.entries=[i],r(!0)}})},cf={},xm={};let U3,H3,G3,W3,q3;function K3(e,t=!1){return Ph("cls",e,d9,U3,t)}function a9(e,t=!1){return Ph("lcp",e,h9,G3,t)}function l9(e){return Ph("fid",e,f9,H3)}function c9(e){return Ph("ttfb",e,p9,W3)}function u9(e){return Ph("inp",e,g9,q3)}function Nf(e,t){return Y3(e,t),xm[e]||(m9(e),xm[e]=!0),Q3(e,t)}function ed(e,t){const n=cf[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){bi&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Oo(r)}
Error:`,i)}}function d9(){return q7(e=>{ed("cls",{metric:e}),U3=e},{reportAllChanges:!0})}function f9(){return Y7(e=>{ed("fid",{metric:e}),H3=e})}function h9(){return i9(e=>{ed("lcp",{metric:e}),G3=e},{reportAllChanges:!0})}function p9(){return o9(e=>{ed("ttfb",{metric:e}),W3=e})}function g9(){return n9(e=>{ed("inp",{metric:e}),q3=e})}function Ph(e,t,n,r,i=!1){Y3(e,t);let s;return xm[e]||(s=n(),xm[e]=!0),r&&t({metric:r}),Q3(e,t,i?s:void 0)}function m9(e){const t={};e==="event"&&(t.durationThreshold=0),nc(e,n=>{ed(e,{entries:n})},t)}function Y3(e,t){cf[e]=cf[e]||[],cf[e].push(t)}function Q3(e,t,n){return()=>{n&&n();const r=cf[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function y9(e){return"duration"in e}function Rv(e){return typeof e=="number"&&isFinite(e)}function Eu(e,t,n,{...r}){const i=yt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),bm(e,()=>{const s=Ms({startTime:t,...r});return s&&s.end(n),s})}function J3(e){const t=wt();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a}=t.getOptions(),l=t.getIntegrationByName("Replay"),c=l&&l.getReplayId(),u=Qt(),d=u.getUser(),h=d!==void 0?d.email||d.id||d.ip_address:void 0;let p;try{p=u.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:h||void 0,profile_id:p||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":Ge.navigator&&Ge.navigator.userAgent,...i};return Ms({name:n,attributes:g,startTime:s,experimental:{standalone:!0}})}function ex(){return Ge&&Ge.addEventListener&&Ge.performance}function Rn(e){return e/1e3}function v9(){let e=0,t,n;if(!b9())return;let r=!1;function i(){r||(r=!0,n&&A9(e,t,n),s())}const s=K3(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);Th(()=>{i()}),setTimeout(()=>{const o=wt(),a=So([o,"optionalAccess",d=>d.on,"call",d=>d("startNavigationSpan",()=>{i(),a&&a()})]),l=zr(),c=l&&wr(l),u=c&&yt(c);u&&u.op==="pageload"&&(n=c.spanContext().spanId)},0)}function A9(e,t,n){bi&&pe.log(`Sending CLS span (${e})`);const r=Rn((oi||0)+(So([t,"optionalAccess",l=>l.startTime])||0)),i=Qt().getScopeData().transactionName,s=t?Vl(So([t,"access",l=>l.sources,"access",l=>l[0],"optionalAccess",l=>l.node])):"Layout shift",o=dr({[jn]:"auto.http.browser.cls",[Bl]:"ui.webvital.cls",[qS]:So([t,"optionalAccess",l=>l.duration])||0,"sentry.pageload.span_id":n}),a=J3({name:s,transaction:i,attributes:o,startTime:r});So([a,"optionalAccess",l=>l.addEvent,"call",l=>l("cls",{[U0]:"",[H0]:e})]),So([a,"optionalAccess",l=>l.end,"call",l=>l(r)])}function b9(){try{return So([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")])}catch{return!1}}const _9=2147483647;let J2=0,ar={},Gs,uf;function S9({recordClsStandaloneSpans:e}){const t=ex();if(t&&oi){t.mark&&Ge.performance.mark("sentry-tracing-init");const n=T9(),r=k9(),i=I9(),s=e?v9():C9();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function x9(){Nf("longtask",({entries:e})=>{if(zr())for(const t of e){const n=Rn(oi+t.startTime),r=Rn(t.duration),i=Ms({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[jn]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function w9(){new PerformanceObserver(t=>{if(zr())for(const n of t.getEntries()){if(!n.scripts[0])continue;const r=Rn(oi+n.startTime),i=Rn(n.duration),s={[jn]:"auto.ui.browser.metrics"},o=n.scripts[0],{invoker:a,invokerType:l,sourceURL:c,sourceFunctionName:u,sourceCharPosition:d}=o;s["browser.script.invoker"]=a,s["browser.script.invoker_type"]=l,c&&(s["code.filepath"]=c),u&&(s["code.function"]=u),d!==-1&&(s["browser.script.source_char_position"]=d);const h=Ms({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:s});h&&h.end(r+i)}}).observe({type:"long-animation-frame",buffered:!0})}function E9(){Nf("event",({entries:e})=>{if(zr()){for(const t of e)if(t.name==="click"){const n=Rn(oi+t.startTime),r=Rn(t.duration),i={name:Vl(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[jn]:"auto.ui.browser.metrics"}},s=Y5(t.target);s&&(i.attributes["ui.component_name"]=s);const o=Ms(i);o&&o.end(n+r)}}})}function C9(){return K3(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(bi&&pe.log(`[Measurements] Adding CLS ${e.value}`),ar.cls={value:e.value,unit:""},uf=t)},!0)}function k9(){return a9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(bi&&pe.log("[Measurements] Adding LCP"),ar.lcp={value:e.value,unit:"millisecond"},Gs=t)},!0)}function T9(){return l9(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Rn(oi),r=Rn(t.startTime);bi&&pe.log("[Measurements] Adding FID"),ar.fid={value:e.value,unit:"millisecond"},ar["mark.fid"]={value:n+r,unit:"second"}})}function I9(){return c9(({metric:e})=>{e.entries[e.entries.length-1]&&(bi&&pe.log("[Measurements] Adding TTFB"),ar.ttfb={value:e.value,unit:"millisecond"})})}function P9(e,t){const n=ex();if(!n||!Ge.performance.getEntries||!oi)return;bi&&pe.log("[Tracing] Adding & adjusting spans using Performance API");const r=Rn(oi),i=n.getEntries(),{op:s,start_timestamp:o}=yt(e);if(i.slice(J2).forEach(a=>{const l=Rn(a.startTime),c=Rn(Math.max(0,a.duration));if(!(s==="navigation"&&o&&r+l<o))switch(a.entryType){case"navigation":{R9(e,a,r);break}case"mark":case"paint":case"measure":{M9(e,a,l,c,r);const u=W0(),d=a.startTime<u.firstHiddenTime;a.name==="first-paint"&&d&&(bi&&pe.log("[Measurements] Adding FP"),ar.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&d&&(bi&&pe.log("[Measurements] Adding FCP"),ar.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{O9(e,a,a.name,l,c,r);break}}}),J2=Math.max(i.length-1,0),V9(e),s==="pageload"){N9(ar);const a=ar["mark.fid"];a&&ar.fid&&(Eu(e,a.value,a.value+Rn(ar.fid.value),{name:"first input delay",op:"ui.action",attributes:{[jn]:"auto.ui.browser.metrics"}}),delete ar["mark.fid"]),(!("fcp"in ar)||!t.recordClsOnPageloadSpan)&&delete ar.cls,Object.entries(ar).forEach(([l,c])=>{iz(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",kh()),L9(e)}Gs=void 0,uf=void 0,ar={}}function M9(e,t,n,r,i){const s=Ch(),o=Rn(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,u={[jn]:"auto.resource.browser.metrics"};return a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a),Eu(e,a,c,{name:t.name,op:t.entryType,attributes:u}),a}function R9(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Sp(e,t,r,n)}),Sp(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Sp(e,t,"fetch",n,"cache","domainLookupStart"),Sp(e,t,"domainLookup",n,"DNS"),j9(e,t,n)}function Sp(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Eu(e,r+Rn(a),r+Rn(o),{op:`browser.${i||n}`,name:t.name,attributes:{[jn]:"auto.ui.browser.metrics"}})}function j9(e,t,n){const r=n+Rn(t.requestStart),i=n+Rn(t.responseEnd),s=n+Rn(t.responseStart);t.responseEnd&&(Eu(e,r,i,{op:"browser.request",name:t.name,attributes:{[jn]:"auto.ui.browser.metrics"}}),Eu(e,s,i,{op:"browser.response",name:t.name,attributes:{[jn]:"auto.ui.browser.metrics"}}))}function O9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=wl(n),a={[jn]:"auto.resource.browser.metrics"};jv(a,t,"transferSize","http.response_transfer_size"),jv(a,t,"encodedBodySize","http.response_content_length"),jv(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(Ge.location.origin);const l=s+r,c=l+i;Eu(e,l,c,{name:n.replace(Ge.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function V9(e){const t=Ge.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Rv(n.rtt)&&(ar["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Rv(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Rv(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function L9(e){Gs&&(bi&&pe.log("[Measurements] Adding LCP Data"),Gs.element&&e.setAttribute("lcp.element",Vl(Gs.element)),Gs.id&&e.setAttribute("lcp.id",Gs.id),Gs.url&&e.setAttribute("lcp.url",Gs.url.trim().slice(0,200)),e.setAttribute("lcp.size",Gs.size)),uf&&uf.sources&&(bi&&pe.log("[Measurements] Adding CLS Data"),uf.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Vl(t.node))))}function jv(e,t,n,r){const i=t[n];i!=null&&i<_9&&(e[r]=i)}function N9(e){const t=Ch();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(bi&&pe.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const B9=1e3;let X2,lb,cb;function D9(e){const t="dom";Da(t,e),$a(t,$9)}function $9(){if(!Ge.document)return;const e=Zi.bind(null,"dom"),t=Z2(e,!0);Ge.document.addEventListener("click",t,!1),Ge.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Ge[n]&&Ge[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(yi(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=Z2(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),yi(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function F9(e){if(e.type!==lb)return!1;try{if(!e.target||e.target._sentryId!==cb)return!1}catch{}return!0}function z9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Z2(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=U9(n);if(z9(n.type,r))return;ts(n,"_sentryCaptured",!0),r&&!r._sentryId&&ts(r,"_sentryId",un());const i=n.type==="keypress"?"input":n.type;F9(n)||(e({event:n,name:i,global:t}),lb=n.type,cb=r?r._sentryId:void 0),clearTimeout(X2),X2=Ge.setTimeout(()=>{cb=void 0,lb=void 0},B9)}}function U9(e){try{return e.target}catch{return null}}let xp;function tx(e){const t="history";Da(t,e),$a(t,H9)}function H9(){if(!T8())return;const e=Ge.onpopstate;Ge.onpopstate=function(...n){const r=Ge.location.href,i=xp;if(xp=r,Zi("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=xp,o=String(i);xp=o,Zi("history",{from:s,to:o})}return n.apply(this,r)}}yi(Ge.history,"pushState",t),yi(Ge.history,"replaceState",t)}const wg={};function G9(e){const t=wg[e];if(t)return t;let n=Ge[e];if(q1(n))return wg[e]=n.bind(Ge);const r=Ge.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){bi&&pe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(wg[e]=n.bind(Ge))}function ek(e){wg[e]=void 0}const Oc="__sentry_xhr_v3__";function X3(e){const t="xhr";Da(t,e),$a(t,W9)}function W9(){if(!Ge.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=fr()*1e3,s=Io(r[0])?r[0].toUpperCase():void 0,o=q9(r[1]);if(!s||!o)return t.apply(n,r);n[Oc]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=()=>{const l=n[Oc];if(l&&n.readyState===4){try{l.status_code=n.status}catch{}const c={endTimestamp:fr()*1e3,startTimestamp:i,xhr:n};Zi("xhr",c)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(l,c,u){return a(),l.apply(c,u)}}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(l,c,u){const[d,h]=u,p=c[Oc];return p&&Io(d)&&Io(h)&&(p.request_headers[d.toLowerCase()]=h),l.apply(c,u)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Oc];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:fr()*1e3,xhr:n};return Zi("xhr",s),t.apply(n,r)}})}function q9(e){if(Io(e))return e;try{return e.toString()}catch{}}const Ov=[],Eg=new Map;function K9(){if(ex()&&oi){const t=Y9();return()=>{t()}}return()=>{}}const tk={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Y9(){return u9(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(g=>g.duration===e.value&&tk[g.name]);if(!t)return;const{interactionId:n}=t,r=tk[t.name],i=Rn(oi+t.startTime),s=Rn(e.value),o=zr(),a=o?wr(o):void 0,c=(n!=null?Eg.get(n):void 0)||a,u=c?yt(c).description:Qt().getScopeData().transactionName,d=Vl(t.target),h=dr({[jn]:"auto.http.browser.inp",[Bl]:`ui.interaction.${r}`,[qS]:t.duration}),p=J3({name:d,transaction:u,attributes:h,startTime:i});So([p,"optionalAccess",g=>g.addEvent,"call",g=>g("inp",{[U0]:"millisecond",[H0]:e.value})]),So([p,"optionalAccess",g=>g.end,"call",g=>g(i+s)])})}function Q9(e){const t=({entries:n})=>{const r=zr(),i=r&&wr(r);n.forEach(s=>{if(!y9(s)||!i)return;const o=s.interactionId;if(o!=null&&!Eg.has(o)){if(Ov.length>10){const a=Ov.shift();Eg.delete(a)}Ov.push(o),Eg.set(o,i)}})};Nf("event",t),Nf("first-input",t)}function J9(e,t=G9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return ek("fetch"),ym("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return ek("fetch"),n-=o,r--,ym(l)}}return Qz(e,i)}const X9=30,Z9=50;function ub(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Ll:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const eU=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nU=/\((\S*)(?::(\d+))(?::(\d+))\)/,rU=e=>{const t=eU.exec(e);if(t){const[,r,i,s]=t;return ub(r,Ll,+i,+s)}const n=tU.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=nU.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=Z3(n[1]||Ll,n[2]);return ub(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},iU=[X9,rU],sU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,oU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,aU=e=>{const t=sU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=oU.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Ll;return[i,r]=Z3(i,r),ub(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},lU=[Z9,aU],cU=[iU,lU],uU=t3(...cU),Z3=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ll,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},wp=1024,dU="Breadcrumbs",fU=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:dU,setup(n){t.console&&U6(mU(n)),t.dom&&D9(gU(n,t.dom)),t.xhr&&X3(yU(n)),t.fetch&&i3(vU(n)),t.history&&tx(AU(n)),t.sentry&&n.on("beforeSendEvent",pU(n))}}},hU=fU;function pU(e){return function(n){wt()===e&&Dl({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:na(n)},{event:n})}}function gU(e,t){return function(r){if(wt()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>wp&&(ei&&pe.warn(`\`dom.maxStringLength\` cannot exceed ${wp}, but a value of ${a} was configured. Sentry will use ${wp} instead.`),a=wp),typeof o=="string"&&(o=[o]);try{const c=r.event,u=bU(c)?c.target:c;i=Vl(u,{keyAttrs:o,maxStringLength:a}),s=Y5(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),Dl(l,{event:r.event,name:r.name,global:r.global})}}function mU(e){return function(n){if(wt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:a8(n.level),message:h2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${h2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Dl(r,{input:n.args,level:n.level})}}function yU(e){return function(n){if(wt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Oc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},h=K5(l);Dl({category:"xhr",data:u,type:"http",level:h},d)}}function vU(e){return function(n){if(wt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Dl({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l=K5(o.status_code);Dl({category:"fetch",data:o,type:"http",level:l},a)}}}function AU(e){return function(n){if(wt()!==e)return;let r=n.from,i=n.to;const s=wl(Ue.location.href);let o=r?wl(r):void 0;const a=wl(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Dl({category:"navigation",data:{from:r,to:i}})}}function bU(e){return!!e&&!!e.target}const _U=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],SU="BrowserApiErrors",xU=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:SU,setupOnce(){t.setTimeout&&yi(Ue,"setTimeout",nk),t.setInterval&&yi(Ue,"setInterval",nk),t.requestAnimationFrame&&yi(Ue,"requestAnimationFrame",EU),t.XMLHttpRequest&&"XMLHttpRequest"in Ue&&yi(XMLHttpRequest.prototype,"send",CU);const n=t.eventTarget;n&&(Array.isArray(n)?n:_U).forEach(kU)}}},wU=xU;function nk(e){return function(...t){const n=t[0];return t[0]=wu(n,{mechanism:{data:{function:Oo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function EU(e){return function(t){return e.apply(this,[wu(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Oo(e)},handled:!1,type:"instrument"}})])}}function CU(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&yi(n,i,function(s){const o={mechanism:{data:{function:i,handler:Oo(s)},handled:!1,type:"instrument"}},a=zS(s);return a&&(o.mechanism.data.handler=Oo(a)),wu(s,o)})}),e.apply(this,t)}}function kU(e){const t=Ue,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(yi(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=wu(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Oo(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,wu(s,{mechanism:{data:{function:"addEventListener",handler:Oo(s),target:e},handled:!1,type:"instrument"}}),o])}}),yi(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const TU="GlobalHandlers",IU=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:TU,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(MU(n),rk("onerror")),t.onunhandledrejection&&(RU(n),rk("onunhandledrejection"))}}},PU=IU;function MU(e){o3(t=>{const{stackParser:n,attachStacktrace:r}=ej();if(wt()!==e||D3())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=VU(XS(n,l||i,void 0,r,!1),s,o,a);c.level="error",I3(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function RU(e){a3(t=>{const{stackParser:n,attachStacktrace:r}=ej();if(wt()!==e||D3())return;const i=jU(t),s=FS(i)?OU(i):XS(n,i,void 0,r,!0);s.level="error",I3(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function jU(e){if(FS(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function OU(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function VU(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Io(t)&&t.length>0?t:P6();return l.length===0&&l.push({colno:c,filename:d,function:Ll,in_app:!0,lineno:u}),e}function rk(e){ei&&pe.log(`Global Handler attached: ${e}`)}function ej(){const e=wt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const LU=()=>({name:"HttpContext",preprocessEvent(e){if(!Ue.navigator&&!Ue.location&&!Ue.document)return;const t=e.request&&e.request.url||Ue.location&&Ue.location.href,{referrer:n}=Ue.document||{},{userAgent:r}=Ue.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),NU="cause",BU=5,DU="LinkedErrors",$U=(e={})=>{const t=e.limit||BU,n=e.key||NU;return{name:DU,preprocessEvent(r,i,s){const o=s.getOptions();C6(QS,o.stackParser,o.maxValueLength,n,t,r,i)}}},FU=$U;function zU(e){return[i7(),e7(),wU(),hU(),PU(),FU(),y7(),LU()]}function UU(e={}){const t={defaultIntegrations:zU(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Ue.SENTRY_RELEASE&&Ue.SENTRY_RELEASE.id?Ue.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function HU(){const e=typeof Ue.window<"u"&&Ue;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Ue.location&&Ue.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&Ue===Ue.top&&s.some(l=>i.startsWith(`${l}//`)),a=typeof e.nw<"u";return!!r&&!o&&!a}function GU(e={}){const t=UU(e);if(HU()){xh(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}ei&&(n3()||pe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:F6(t.stackParser||uU),integrations:zz(t),transport:t.transport||J9},r=qz(D7,n);return t.autoSessionTracking&&WU(),r}function ik(e={}){if(!Ue.document){ei&&pe.error("Global document not defined in showReportDialog call");return}const t=Qt(),n=t.getClient(),r=n&&n.getDsn();if(!r){ei&&pe.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=Vz();a&&(e.eventId=a)}const i=Ue.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=$z(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const a=l=>{if(l.data==="__sentry_reportdialog_closed__")try{s()}finally{Ue.removeEventListener("message",a)}};Ue.addEventListener("message",a)}const o=Ue.document.head||Ue.document.body;o?o.appendChild(i):ei&&pe.error("Not injecting report dialog. No injection point found in HTML")}function WU(){if(typeof Ue.document>"u"){ei&&pe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}D2({ignoreDuration:!0}),$2(),tx(({from:e,to:t})=>{e!==void 0&&e!==t&&(D2({ignoreDuration:!0}),$2())})}const sk=new WeakMap,Vv=new Map,Cg={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function qU(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:Cg.traceFetch,traceXHR:Cg.traceXHR,trackFetchStreamPerformance:Cg.trackFetchStreamPerformance,...t},l=typeof s=="function"?s:d=>!0,c=d=>JU(d,a),u={};n&&(e.addEventProcessor(d=>(d.type==="transaction"&&d.spans&&d.spans.forEach(h=>{if(h.op==="http.client"){const p=Vv.get(h.span_id);p&&(h.timestamp=p/1e3,Vv.delete(h.span_id))}}),d)),i&&q6(d=>{if(d.response){const h=sk.get(d.response);h&&d.endTimestamp&&Vv.set(h,d.endTimestamp)}}),i3(d=>{const h=_7(d,l,c,u);if(d.response&&d.fetchData.__span&&sk.set(d.response,d.fetchData.__span),h){const p=tj(d.fetchData.url),g=p?wl(p).host:void 0;h.setAttributes({"http.url":p,"server.address":g})}o&&h&&ok(h)})),r&&X3(d=>{const h=XU(d,l,c,u);o&&h&&ok(h)})}function KU(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ok(e){const{url:t}=yt(e).data||{};if(!t||typeof t!="string")return;const n=Nf("resource",({entries:r})=>{r.forEach(i=>{KU(i)&&i.name.endsWith(t)&&(QU(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function YU(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function zs(e=0){return((oi||performance.timeOrigin)+e)/1e3}function QU(e){const{name:t,version:n}=YU(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),oi?[...r,["http.request.redirect_start",zs(e.redirectStart)],["http.request.fetch_start",zs(e.fetchStart)],["http.request.domain_lookup_start",zs(e.domainLookupStart)],["http.request.domain_lookup_end",zs(e.domainLookupEnd)],["http.request.connect_start",zs(e.connectStart)],["http.request.secure_connection_start",zs(e.secureConnectionStart)],["http.request.connection_end",zs(e.connectEnd)],["http.request.request_start",zs(e.requestStart)],["http.request.response_start",zs(e.responseStart)],["http.request.response_end",zs(e.responseEnd)]]:r}function JU(e,t){const n=Ue.location&&Ue.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?Sl(r.toString(),t)||s&&Sl(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?Sl(e,t):r}}function XU(e,t,n,r){const i=e.xhr,s=i&&i[Oc];if(!i||i.__sentry_own_request__||!s)return;const o=Vo()&&t(s.url);if(e.endTimestamp&&o){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&s.status_code!==void 0&&(m3(p,s.status_code),p.end(),delete r[h]);return}const a=tj(s.url),l=a?wl(a).host:void 0,c=!!zr(),u=o&&c?Ms({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":a,url:s.url,"server.address":l,[jn]:"auto.http.browser",[Bl]:"http.client"}}):new Ju;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=wt();return i.setRequestHeader&&n(s.url)&&d&&ZU(i,d,Vo()&&c?u:void 0),u}function ZU(e,t,n){const r=Qt(),i=cs(),{traceId:s,spanId:o,sampled:a,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&Vo()?A3(n):HS(s,o,a),u=f3(l||(n?tc(n):G0(s,t)));eH(e,c,u)}function eH(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Tc,n)}catch{}}function tj(e){try{return new URL(e,Ue.location.origin).href}catch{return}}function tH(){Ue&&Ue.document?Ue.document.addEventListener("visibilitychange",()=>{const e=zr();if(!e)return;const t=wr(e);if(Ue.document.hidden&&t){const n="cancelled",{op:r,status:i}=yt(t);ei&&pe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Xn,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ei&&pe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const nH="BrowserTracing",rH={...xg,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Cg},iH=(e={})=>{Y8();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:a,finalTimeout:l,childSpanTimeout:c,markBackgroundSpan:u,traceFetch:d,traceXHR:h,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:g,enableHTTPTimings:m,instrumentPageLoad:b,instrumentNavigation:y}={...rH,...e},A=S9({recordClsStandaloneSpans:s||!1});t&&K9(),r&&vt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?w9():n&&x9(),i&&E9();const _={name:void 0,source:void 0};function x(S,E){const C=E.op==="pageload",k=o?o(E):E,V=k.attributes||{};E.name!==k.name&&(V[ha]="custom",k.attributes=V),_.name=k.name,_.source=V[ha];const w=T3(k,{idleTimeout:a,finalTimeout:l,childSpanTimeout:c,disableAutoFinish:C,beforeSpanEnd:z=>{A(),P9(z,{recordClsOnPageloadSpan:!s})}});function j(){["interactive","complete"].includes(Ue.document.readyState)&&S.emit("idleSpanEnableAutoFinish",w)}return C&&Ue.document&&(Ue.document.addEventListener("readystatechange",()=>{j()}),j()),w}return{name:nH,afterAllSetup(S){let E,C=Ue.location&&Ue.location.href;S.on("startNavigationSpan",k=>{wt()===S&&(E&&!yt(E).timestamp&&(ei&&pe.log(`[Tracing] Finishing current root span with op: ${yt(E).op}`),E.end()),E=x(S,{op:"navigation",...k}))}),S.on("startPageLoadSpan",(k,V={})=>{if(wt()!==S)return;E&&!yt(E).timestamp&&(ei&&pe.log(`[Tracing] Finishing current root span with op: ${yt(E).op}`),E.end());const w=V.sentryTrace||ak("sentry-trace"),j=V.baggage||ak("baggage"),z=p8(w,j);Qt().setPropagationContext(z),E=x(S,{op:"pageload",...k})}),S.on("spanEnd",k=>{const V=yt(k).op;if(k!==wr(k)||V!=="navigation"&&V!=="pageload")return;const w=Qt(),j=w.getPropagationContext();w.setPropagationContext({...j,sampled:j.sampled!==void 0?j.sampled:ec(k),dsc:j.dsc||tc(k)})}),Ue.location&&(b&&sH(S,{name:Ue.location.pathname,startTime:oi?oi/1e3:void 0,attributes:{[ha]:"url",[jn]:"auto.pageload.browser"}}),y&&tx(({to:k,from:V})=>{if(V===void 0&&C&&C.indexOf(k)!==-1){C=void 0;return}V!==k&&(C=void 0,oH(S,{name:Ue.location.pathname,attributes:{[ha]:"url",[jn]:"auto.navigation.browser"}}))})),u&&tH(),i&&aH(a,l,c,_),t&&Q9(),qU(S,{traceFetch:d,traceXHR:h,trackFetchStreamPerformance:p,tracePropagationTargets:S.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:g,enableHTTPTimings:m})}}};function sH(e,t,n){e.emit("startPageLoadSpan",t,n),Qt().setTransactionName(t.name);const r=zr();return(r&&yt(r).op)==="pageload"?r:void 0}function oH(e,t){cs().setPropagationContext(vm()),Qt().setPropagationContext(vm()),e.emit("startNavigationSpan",t),Qt().setTransactionName(t.name);const n=zr();return(n&&yt(n).op)==="navigation"?n:void 0}function ak(e){const t=M6(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function aH(e,t,n,r){let i;const s=()=>{const o="ui.action.click",a=zr(),l=a&&wr(a);if(l){const c=yt(l).op;if(["navigation","pageload"].includes(c)){ei&&pe.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(eb,"interactionInterrupted"),i.end(),i=void 0),!r.name){ei&&pe.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=T3({name:r.name,op:o,attributes:{[ha]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Ue.document&&addEventListener("click",s,{once:!1,capture:!0})}function lH(e){const t={...e};return L3(t,"react"),jz("react",{version:v.version}),GU(t)}function cH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function uH(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function dH(e,{componentStack:t},n){if(cH(v.version)&&B0(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,uH(e,r)}return Os(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var nj={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rr=typeof Symbol=="function"&&Symbol.for,nx=rr?Symbol.for("react.element"):60103,rx=rr?Symbol.for("react.portal"):60106,q0=rr?Symbol.for("react.fragment"):60107,K0=rr?Symbol.for("react.strict_mode"):60108,Y0=rr?Symbol.for("react.profiler"):60114,Q0=rr?Symbol.for("react.provider"):60109,J0=rr?Symbol.for("react.context"):60110,ix=rr?Symbol.for("react.async_mode"):60111,X0=rr?Symbol.for("react.concurrent_mode"):60111,Z0=rr?Symbol.for("react.forward_ref"):60112,ey=rr?Symbol.for("react.suspense"):60113,fH=rr?Symbol.for("react.suspense_list"):60120,ty=rr?Symbol.for("react.memo"):60115,ny=rr?Symbol.for("react.lazy"):60116,hH=rr?Symbol.for("react.block"):60121,pH=rr?Symbol.for("react.fundamental"):60117,gH=rr?Symbol.for("react.responder"):60118,mH=rr?Symbol.for("react.scope"):60119;function Ii(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nx:switch(e=e.type,e){case ix:case X0:case q0:case Y0:case K0:case ey:return e;default:switch(e=e&&e.$$typeof,e){case J0:case Z0:case ny:case ty:case Q0:return e;default:return t}}case rx:return t}}}function rj(e){return Ii(e)===X0}Mt.AsyncMode=ix;Mt.ConcurrentMode=X0;Mt.ContextConsumer=J0;Mt.ContextProvider=Q0;Mt.Element=nx;Mt.ForwardRef=Z0;Mt.Fragment=q0;Mt.Lazy=ny;Mt.Memo=ty;Mt.Portal=rx;Mt.Profiler=Y0;Mt.StrictMode=K0;Mt.Suspense=ey;Mt.isAsyncMode=function(e){return rj(e)||Ii(e)===ix};Mt.isConcurrentMode=rj;Mt.isContextConsumer=function(e){return Ii(e)===J0};Mt.isContextProvider=function(e){return Ii(e)===Q0};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nx};Mt.isForwardRef=function(e){return Ii(e)===Z0};Mt.isFragment=function(e){return Ii(e)===q0};Mt.isLazy=function(e){return Ii(e)===ny};Mt.isMemo=function(e){return Ii(e)===ty};Mt.isPortal=function(e){return Ii(e)===rx};Mt.isProfiler=function(e){return Ii(e)===Y0};Mt.isStrictMode=function(e){return Ii(e)===K0};Mt.isSuspense=function(e){return Ii(e)===ey};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===q0||e===X0||e===Y0||e===K0||e===ey||e===fH||typeof e=="object"&&e!==null&&(e.$$typeof===ny||e.$$typeof===ty||e.$$typeof===Q0||e.$$typeof===J0||e.$$typeof===Z0||e.$$typeof===pH||e.$$typeof===gH||e.$$typeof===mH||e.$$typeof===hH)};Mt.typeOf=Ii;nj.exports=Mt;var yH=nj.exports,sx=yH,vH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},AH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ij={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ox={};ox[sx.ForwardRef]=bH;ox[sx.Memo]=ij;function lk(e){return sx.isMemo(e)?ij:ox[e.$$typeof]||vH}var _H=Object.defineProperty,SH=Object.getOwnPropertyNames,ck=Object.getOwnPropertySymbols,xH=Object.getOwnPropertyDescriptor,wH=Object.getPrototypeOf,uk=Object.prototype;function sj(e,t,n){if(typeof t!="string"){if(uk){var r=wH(t);r&&r!==uk&&sj(e,r,n)}var i=SH(t);ck&&(i=i.concat(ck(t)));for(var s=lk(e),o=lk(t),a=0;a<i.length;++a){var l=i[a];if(!AH[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=xH(t,l);try{_H(e,l,c)}catch{}}}}return e}var EH=sj;const CH=gr(EH),kH="ui.react.render",TH="ui.react.update",IH="ui.react.mount",PH="unknown";class oj extends v.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Ms({name:`<${n}>`,onlyIfParent:!0,op:IH,attributes:{[jn]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=fr();this._updateSpan=bm(this._mountSpan,()=>Ms({name:`<${this.props.name}>`,onlyIfParent:!0,op:TH,startTime:i,attributes:{[jn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=fr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=yt(this._mountSpan).timestamp;bm(this._mountSpan,()=>{const s=Ms({onlyIfParent:!0,name:`<${n}>`,op:kH,startTime:i,attributes:{[jn]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}oj.__initStatic();function MH(e,t){const n=e.displayName||e.name||PH,r=i=>v.createElement(oj,{...t,name:n,updateProps:i},v.createElement(e,{...i}));return r.displayName=`profiler(${n})`,CH(r,e),r}const RH=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,dk={componentStack:null,error:null,eventId:null};class ax extends v.Component{constructor(t){super(t),ax.prototype.__init.call(this),this.state=dk,this._openFallbackReportDialog=!0;const n=wt();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&ik({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:o,showDialog:a,dialogOptions:l}=this.props;z0(c=>{s&&s(c,t,i);const u=dH(t,n,{mechanism:{handled:!!this.props.fallback}});o&&o(t,i,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&ik({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(dk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=v.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,v.isValidElement(i)?i:(t&&RH&&pe.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const jH="modulepreload",OH=function(e){return"/"+e},fk={},td=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=OH(l),l in fk)return;fk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":jH,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};class aj{constructor(){this.init=async(t,n)=>{const r=await td(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class VH extends Ds{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const ba=new VH;let db=class{constructor(t=2){this.channels=t,this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async n=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await ba.getUserMedia({audio:{...n?{deviceId:n,exact:!0}:{},echoCancellation:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=Array.from({length:this.channels},()=>{const o=this.context.createAnalyser();return o.fftSize=2048,o.minDecibels=-100,o});if(this.channels>1){const o=this.context.createChannelSplitter(2);r.connect(o),i.forEach((a,l)=>{o.connect(a,l)})}else r.connect(i[0]);console.log(this.channels);const s=new aj;await s.init(this.context,i[0].fftSize),this.interval=setInterval(async()=>{const o=i.map(a=>new Float32Array(a.fftSize));i.forEach((a,l)=>{a.getFloatTimeDomainData(o[l])}),this.frequencies=await Promise.all(o.map(a=>s.getFrequency(a))),this.volumes=o.map(a=>this.calculateVolume(a))},this.context.sampleRate/i[0].fftSize),te.micMonitoringStarted.dispatch()}catch(r){Os(r),console.error(r)}}catch(r){Os(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=n=>{},this.stopMonitoring=async()=>{var n,r;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(n=this.stream)==null||n.getTracks().forEach(function(i){i.stop()});try{await((r=this.context)==null?void 0:r.close())}catch(i){console.log("MicInput.stoMonitoring error",i)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new db;const LH=(e=[],t)=>{const n=e.filter(r=>r.deviceId===t).map(r=>r.channel);return n.some(r=>n[0]!==r)};class NH{constructor(){this.devices={},this.startMonitoring=async(t,n)=>{console.log(this.devices),t&&(this.devices[t]||(this.devices[t]=LH(n,t)?new db(2):new db(1)),await this.devices[t].startMonitoring(t))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{await Promise.all(Object.values(this.devices).map(t=>t.stopMonitoring())),this.devices={}},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const BH=new NH;class DH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=nt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=nt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=nt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=nt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=nt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const $H=new DH;function Vs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lj=typeof global=="object"&&global&&global.Object===Object&&global,FH=typeof self=="object"&&self&&self.Object===Object&&self,$s=lj||FH||Function("return this")(),Lv=function(){return $s.Date.now()},zH=/\s/;function UH(e){for(var t=e.length;t--&&zH.test(e.charAt(t)););return t}var HH=/^\s+/;function GH(e){return e&&e.slice(0,UH(e)+1).replace(HH,"")}var ns=$s.Symbol,cj=Object.prototype,WH=cj.hasOwnProperty,qH=cj.toString,bd=ns?ns.toStringTag:void 0;function KH(e){var t=WH.call(e,bd),n=e[bd];try{e[bd]=void 0;var r=!0}catch{}var i=qH.call(e);return r&&(t?e[bd]=n:delete e[bd]),i}var YH=Object.prototype,QH=YH.toString;function JH(e){return QH.call(e)}var XH="[object Null]",ZH="[object Undefined]",hk=ns?ns.toStringTag:void 0;function rc(e){return e==null?e===void 0?ZH:XH:hk&&hk in Object(e)?KH(e):JH(e)}function Lo(e){return e!=null&&typeof e=="object"}var eG="[object Symbol]";function ry(e){return typeof e=="symbol"||Lo(e)&&rc(e)==eG}var pk=NaN,tG=/^[-+]0x[0-9a-f]+$/i,nG=/^0b[01]+$/i,rG=/^0o[0-7]+$/i,iG=parseInt;function fb(e){if(typeof e=="number")return e;if(ry(e))return pk;if(Vs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=GH(e);var n=nG.test(e);return n||rG.test(e)?iG(e.slice(2),n?2:8):tG.test(e)?pk:+e}var sG="Expected a function",oG=Math.max,aG=Math.min;function uj(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(sG);t=fb(t)||0,Vs(n)&&(u=!!n.leading,d="maxWait"in n,s=d?oG(fb(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(E){var C=r,k=i;return r=i=void 0,c=E,o=e.apply(k,C),o}function g(E){return c=E,a=setTimeout(y,t),u?p(E):o}function m(E){var C=E-l,k=E-c,V=t-C;return d?aG(V,s-k):V}function b(E){var C=E-l,k=E-c;return l===void 0||C>=t||C<0||d&&k>=s}function y(){var E=Lv();if(b(E))return A(E);a=setTimeout(y,m(E))}function A(E){return a=void 0,h&&r?p(E):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?o:A(Lv())}function S(){var E=Lv(),C=b(E);if(r=arguments,i=this,l=E,C){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(y,t),p(l)}return a===void 0&&(a=setTimeout(y,t)),o}return S.cancel=_,S.flush=x,S}const Nr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},df=["freestyle","rap"],dj=[],fj=440,hj=69,lx=20;var lG="[object AsyncFunction]",cG="[object Function]",uG="[object GeneratorFunction]",dG="[object Proxy]";function pj(e){if(!Vs(e))return!1;var t=rc(e);return t==cG||t==uG||t==lG||t==dG}var Nv=$s["__core-js_shared__"],gk=function(){var e=/[^.]+$/.exec(Nv&&Nv.keys&&Nv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fG(e){return!!gk&&gk in e}var hG=Function.prototype,pG=hG.toString;function ic(e){if(e!=null){try{return pG.call(e)}catch{}try{return e+""}catch{}}return""}var gG=/[\\^$.*+?()[\]{}|]/g,mG=/^\[object .+?Constructor\]$/,yG=Function.prototype,vG=Object.prototype,AG=yG.toString,bG=vG.hasOwnProperty,_G=RegExp("^"+AG.call(bG).replace(gG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SG(e){if(!Vs(e)||fG(e))return!1;var t=pj(e)?_G:mG;return t.test(ic(e))}function xG(e,t){return e==null?void 0:e[t]}function sc(e,t){var n=xG(e,t);return SG(n)?n:void 0}var Bf=sc(Object,"create");function wG(){this.__data__=Bf?Bf(null):{},this.size=0}function EG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var CG="__lodash_hash_undefined__",kG=Object.prototype,TG=kG.hasOwnProperty;function IG(e){var t=this.__data__;if(Bf){var n=t[e];return n===CG?void 0:n}return TG.call(t,e)?t[e]:void 0}var PG=Object.prototype,MG=PG.hasOwnProperty;function RG(e){var t=this.__data__;return Bf?t[e]!==void 0:MG.call(t,e)}var jG="__lodash_hash_undefined__";function OG(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Bf&&t===void 0?jG:t,this}function $l(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$l.prototype.clear=wG;$l.prototype.delete=EG;$l.prototype.get=IG;$l.prototype.has=RG;$l.prototype.set=OG;function VG(){this.__data__=[],this.size=0}function iy(e,t){return e===t||e!==e&&t!==t}function sy(e,t){for(var n=e.length;n--;)if(iy(e[n][0],t))return n;return-1}var LG=Array.prototype,NG=LG.splice;function BG(e){var t=this.__data__,n=sy(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():NG.call(t,n,1),--this.size,!0}function DG(e){var t=this.__data__,n=sy(t,e);return n<0?void 0:t[n][1]}function $G(e){return sy(this.__data__,e)>-1}function FG(e,t){var n=this.__data__,r=sy(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Uo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uo.prototype.clear=VG;Uo.prototype.delete=BG;Uo.prototype.get=DG;Uo.prototype.has=$G;Uo.prototype.set=FG;var Df=sc($s,"Map");function zG(){this.size=0,this.__data__={hash:new $l,map:new(Df||Uo),string:new $l}}function UG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function oy(e,t){var n=e.__data__;return UG(t)?n[typeof t=="string"?"string":"hash"]:n.map}function HG(e){var t=oy(this,e).delete(e);return this.size-=t?1:0,t}function GG(e){return oy(this,e).get(e)}function WG(e){return oy(this,e).has(e)}function qG(e,t){var n=oy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ho(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ho.prototype.clear=zG;Ho.prototype.delete=HG;Ho.prototype.get=GG;Ho.prototype.has=WG;Ho.prototype.set=qG;var KG="Expected a function";function ay(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(KG);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ay.Cache||Ho),n}ay.Cache=Ho;function wm(e){return df.includes(e.note.type)?0:e.distance}function It(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const YG=35e5,tl={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},mk=e=>({freestyle:e.freestyle*tl.freestyle,rap:e.rap*tl.rap,rapstar:e.rapstar*tl.rapstar,star:e.star*tl.star,normal:e.normal*tl.normal,perfect:e.perfect*tl.perfect,vibrato:e.vibrato*tl.vibrato}),cx=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Ep=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),yk=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),vk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Ak=ay(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(It).forEach(r=>{r.notes.filter(s=>!dj.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function gj(e,t,n){const r=Ak(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=mk(Ak(t)[n]),o=YG/cx(s);for(let a=0;a<e.length;a++){const l=e[a];dj.includes(l.note.type)||wm(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,mk(i),s]}function QG(e,t,n){const[r,i]=gj(e,t,n);return cx(i)*r}function JG(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function XG(e){return fj*Math.pow(2,(e-hj)/12)}const ZG=e=>Math.round(12*(Math.log(e/fj)/Math.log(2)))+hj,eW=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),tW=(e,t,n)=>{const r=XG(e),i=eW(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},nW=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},rW=(e,t)=>{const n=Fe.getTolerance(),r=ZG(e);let i=-1;const s=nW(r,t,n);return s===0&&(i=tW(t,e,n)),{distance:s,preciseDistance:i}},bk=6;function iW(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-bk;r++){const s=n.slice(r,r+bk-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const sW=100;function oW(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...rW(t.frequency,n.pitch)},s=e.at(-1),o=sW/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!df.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&iW(s.frequencyRecords)}const aW=e=>e.notes[0],Pa=e=>{const t=e.find(It);return t?aW(t).start:1/0},$f=e=>{const n=e.filter(It).at(-1);return n?Ff(n):0},Ff=e=>{const t=e.notes.at(-1);return t.start+t.length},_k=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class lW{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=_n.getPlayerFrequency(this.number),s=r-_n.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),_n.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(It(a)){const l=_k(a,o,0)??_k(a,o,.5);l&&oW(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return It(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>QG(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>gj(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(It).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function cW(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(It).at(-1);return n?Ff(n):0}))}function ux(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ux.Cache||Map),n}ux.Cache=Map;const nd=ux(function(t){return 60/t.bpm/(t.bar??4)*1e3});class uW{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>nd(this.song),this.getCurrentBeat=()=>JG(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new lW(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Nr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Nr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Ep(l,a),Ep(c,a)]),o=s.reduce((a,l)=>[yk(a[0],l[0]),yk(a[1],l[1])],i);return[vk(o[0],this.getPlayerCount()),vk(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Ep(i,r),Ep(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/cW(this.getSong()))),this.startInputMonitoring=async()=>_n.startMonitoring(),this.stopInputMonitoring=()=>_n.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const Fe=new uW,mj="wss://allkaraoke-partykit.asvarox.partykit.dev";class dW extends Ds{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Dr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Dr(),(t=this.connection)==null||t.send(Xi({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Dr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Dr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${mj}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Xi({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=Gu(o.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new fW(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Xi({t:"remove-player",id:t}))}}let fW=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Xi(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=Gu(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var JM;const hW=(JM=global==null?void 0:global.sessionStorage)==null?void 0:JM.getItem("isE2E");function rs(){var t,n;if(hW)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const pW=rs()?{host:"localhost",port:3001,path:"/"}:{},yj={...pW};var gW=Object.create,ly=Object.defineProperty,mW=Object.defineProperties,yW=Object.getOwnPropertyDescriptor,vW=Object.getOwnPropertyDescriptors,vj=Object.getOwnPropertyNames,Sk=Object.getOwnPropertySymbols,AW=Object.getPrototypeOf,Aj=Object.prototype.hasOwnProperty,bW=Object.prototype.propertyIsEnumerable,xk=(e,t,n)=>t in e?ly(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dx=(e,t)=>{for(var n in t||(t={}))Aj.call(t,n)&&xk(e,n,t[n]);if(Sk)for(var n of Sk(t))bW.call(t,n)&&xk(e,n,t[n]);return e},bj=(e,t)=>mW(e,vW(t)),_W=e=>ly(e,"__esModule",{value:!0}),fx=(e,t)=>function(){return t||(0,e[vj(e)[0]])((t={exports:{}}).exports,t),t.exports},SW=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vj(t))!Aj.call(e,i)&&i!=="default"&&ly(e,i,{get:()=>t[i],enumerable:!(r=yW(t,i))||r.enumerable});return e},Mh=(e,t)=>SW(_W(ly(e!=null?gW(AW(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Vc=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),wk=fx({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),xW=fx({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=wk().BufferBuilder,r=wk().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,b=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(b)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),cy=fx({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],A=arguments.length,_,x;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),A){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,g),!0;case 6:return y.fn.call(y.context,d,h,p,g,m),!0}for(x=1,_=new Array(A-1);x<A;x++)_[x-1]=arguments[x];y.fn.apply(y.context,_)}else{var S=y.length,E;for(x=0;x<S;x++)switch(y[x].once&&this.removeListener(u,y[x].fn,void 0,!0),A){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,d);break;case 3:y[x].fn.call(y[x].context,d,h);break;case 4:y[x].fn.call(y[x].context,d,h,p);break;default:if(!_)for(E=1,_=new Array(A-1);E<A;E++)_[E-1]=arguments[E];y[x].fn.apply(y[x].context,_)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var b=0,y=[],A=m.length;b<A;b++)(m[b].fn!==d||p&&!m[b].once||h&&m[b].context!==h)&&y.push(m[b]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),Ek=Mh(xW()),wW={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},ln=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=wW,this.pack=Ek.pack,this.unpack=Ek.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/ln.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+ln.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},EW=Mh(cy()),CW="PeerJS: ",kW=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[CW,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},ke=new kW,TW=Mh(cy()),IW=class extends TW.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),ke.log("Server message received:",i)}catch{ke.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(ke.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(ke.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){ke.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&ke.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function PW(){}var _j=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ke.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;ke.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(ke.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ke.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":ke.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":ke.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":ke.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":ke.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=PW;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{ke.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{ke.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){ke.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Vc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;ke.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),ke.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=bj(dx({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),ke.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),ke.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Vc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;ke.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),ke.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),ke.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),ke.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Vc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;ke.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),ke.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),ke.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return Vc(this,null,function*(){ke.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),ke.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),ke.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(ke.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return ke.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){ke.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},MW=Mh(cy()),Sj=class extends MW.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},xj=class extends Sj{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||xj.ID_PREFIX+ln.randomToken(),this._negotiator=new _j(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){ke.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:ke.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){ke.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(bj(dx({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},hb=xj;hb.ID_PREFIX="mc_";var RW=Mh(cy()),jW=class extends RW.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{ke.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},pb=class extends Sj{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||pb.ID_PREFIX+ln.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new jW(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{ke.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new _j(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{ke.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{ke.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{ke.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){ln.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=ln.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=ln.unpack(e);else if(t===String){const i=ln.binaryStringToArrayBuffer(e);r=ln.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=ln.pack(e);if(!t&&n.size>ln.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>pb.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return ke.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=ln.chunk(e);ke.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:ke.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},Em=pb;Em.ID_PREFIX="dc_";Em.MAX_BUFFERED_AMOUNT=8*1024*1024;var OW=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Vc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){ke.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==ln.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Vc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===ln.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw ke.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},VW={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},il=class extends EW.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=dx({debug:0,host:ln.CLOUD_HOST,port:ln.CLOUD_PORT,path:"/",key:il.DEFAULT_KEY,token:ln.randomToken(),config:ln.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ln.CLOUD_HOST?this._options.secure=ln.isSecure():this._options.host==ln.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ke.setLogFunction(this._options.logFunction),ke.logLevel=this._options.debug||0,this._api=new OW(t),this._socket=this._createServerConnection(),this.features=il.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!ln.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new IW(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":ke.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),ke.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new hb(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new Em(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{ke.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){ke.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):ke.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new Em(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){ke.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){ke.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new hb(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){ke.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){ke.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){ke.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(ke.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;ke.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ke.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ke.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),il._features||(il._features=il.checkFeatures(e)),il._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(ln.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=VW.isUnifiedPlanSupported(e),t}},uy=il;uy.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=uy);class LW extends Ds{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new uy(`allkaraoke-party-room-${t}`,yj),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],nt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const wj="wss://backend.allkaraoke.party";class NW extends Ds{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Dr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Dr(),(t=this.connection)==null||t.send(Xi({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Dr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Dr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(wj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Xi({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=Gu(o.data);if(a.t==="forward"){["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a);const{sender:c,payload:u}=a,d=new BW(c,this.connection);this.onUpdate(u,d)}else a.t==="pong"?this.onPong():console.warn("Unknown message type",a)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Xi({t:"remove-player",id:t}))}}class BW{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Xi(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=Gu(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Ej={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(la,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var P=["th","st","nd","rd"],T=L%100;return"["+L+(P[(T-20)%10]||P[T]||P[0])+"]"}},_=function(L,P,T){var $=String(L);return!$||$.length>=P?L:""+Array(P+1-$.length).join(T)+L},x={s:_,z:function(L){var P=-L.utcOffset(),T=Math.abs(P),$=Math.floor(T/60),N=T%60;return(P<=0?"+":"-")+_($,2,"0")+":"+_(N,2,"0")},m:function L(P,T){if(P.date()<T.date())return-L(T,P);var $=12*(T.year()-P.year())+(T.month()-P.month()),N=P.clone().add($,d),F=T-N<0,D=P.clone().add($+(F?-1:1),d);return+(-($+(T-N)/(F?N-D:D-N))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},S="en",E={};E[S]=A;var C="$isDayjsObject",k=function(L){return L instanceof z||!(!L||!L[C])},V=function L(P,T,$){var N;if(!P)return S;if(typeof P=="string"){var F=P.toLowerCase();E[F]&&(N=F),T&&(E[F]=T,N=F);var D=P.split("-");if(!N&&D.length>1)return L(D[0])}else{var G=P.name;E[G]=P,N=G}return!$&&N&&(S=N),N||!$&&S},w=function(L,P){if(k(L))return L.clone();var T=typeof P=="object"?P:{};return T.date=L,T.args=arguments,new z(T)},j=x;j.l=V,j.i=k,j.w=function(L,P){return w(L,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var z=function(){function L(T){this.$L=V(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[C]=!0}var P=L.prototype;return P.parse=function(T){this.$d=function($){var N=$.date,F=$.utc;if(N===null)return new Date(NaN);if(j.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var D=N.match(b);if(D){var G=D[2]-1||0,U=(D[7]||"0").substring(0,3);return F?new Date(Date.UTC(D[1],G,D[3]||1,D[4]||0,D[5]||0,D[6]||0,U)):new Date(D[1],G,D[3]||1,D[4]||0,D[5]||0,D[6]||0,U)}}return new Date(N)}(T),this.init()},P.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},P.$utils=function(){return j},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(T,$){var N=w(T);return this.startOf($)<=N&&N<=this.endOf($)},P.isAfter=function(T,$){return w(T)<this.startOf($)},P.isBefore=function(T,$){return this.endOf($)<w(T)},P.$g=function(T,$,N){return j.u(T)?this[$]:this.set(N,T)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(T,$){var N=this,F=!!j.u($)||$,D=j.p(T),G=function(Ee,ae){var be=j.w(N.$u?Date.UTC(N.$y,ae,Ee):new Date(N.$y,ae,Ee),N);return F?be:be.endOf(c)},U=function(Ee,ae){return j.w(N.toDate()[Ee].apply(N.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(ae)),N)},ne=this.$W,B=this.$M,fe=this.$D,Z="set"+(this.$u?"UTC":"");switch(D){case p:return F?G(1,0):G(31,11);case d:return F?G(1,B):G(0,B+1);case u:var oe=this.$locale().weekStart||0,Pe=(ne<oe?ne+7:ne)-oe;return G(F?fe-Pe:fe+(6-Pe),B);case c:case g:return U(Z+"Hours",0);case l:return U(Z+"Minutes",1);case a:return U(Z+"Seconds",2);case o:return U(Z+"Milliseconds",3);default:return this.clone()}},P.endOf=function(T){return this.startOf(T,!1)},P.$set=function(T,$){var N,F=j.p(T),D="set"+(this.$u?"UTC":""),G=(N={},N[c]=D+"Date",N[g]=D+"Date",N[d]=D+"Month",N[p]=D+"FullYear",N[l]=D+"Hours",N[a]=D+"Minutes",N[o]=D+"Seconds",N[s]=D+"Milliseconds",N)[F],U=F===c?this.$D+($-this.$W):$;if(F===d||F===p){var ne=this.clone().set(g,1);ne.$d[G](U),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](U);return this.init(),this},P.set=function(T,$){return this.clone().$set(T,$)},P.get=function(T){return this[j.p(T)]()},P.add=function(T,$){var N,F=this;T=Number(T);var D=j.p($),G=function(B){var fe=w(F);return j.w(fe.date(fe.date()+Math.round(B*T)),F)};if(D===d)return this.set(d,this.$M+T);if(D===p)return this.set(p,this.$y+T);if(D===c)return G(1);if(D===u)return G(7);var U=(N={},N[a]=r,N[l]=i,N[o]=n,N)[D]||1,ne=this.$d.getTime()+T*U;return j.w(ne,this)},P.subtract=function(T,$){return this.add(-1*T,$)},P.format=function(T){var $=this,N=this.$locale();if(!this.isValid())return N.invalidDate||m;var F=T||"YYYY-MM-DDTHH:mm:ssZ",D=j.z(this),G=this.$H,U=this.$m,ne=this.$M,B=N.weekdays,fe=N.months,Z=N.meridiem,oe=function(ae,be,Le,Be){return ae&&(ae[be]||ae($,F))||Le[be].slice(0,Be)},Pe=function(ae){return j.s(G%12||12,ae,"0")},Ee=Z||function(ae,be,Le){var Be=ae<12?"AM":"PM";return Le?Be.toLowerCase():Be};return F.replace(y,function(ae,be){return be||function(Le){switch(Le){case"YY":return String($.$y).slice(-2);case"YYYY":return j.s($.$y,4,"0");case"M":return ne+1;case"MM":return j.s(ne+1,2,"0");case"MMM":return oe(N.monthsShort,ne,fe,3);case"MMMM":return oe(fe,ne);case"D":return $.$D;case"DD":return j.s($.$D,2,"0");case"d":return String($.$W);case"dd":return oe(N.weekdaysMin,$.$W,B,2);case"ddd":return oe(N.weekdaysShort,$.$W,B,3);case"dddd":return B[$.$W];case"H":return String(G);case"HH":return j.s(G,2,"0");case"h":return Pe(1);case"hh":return Pe(2);case"a":return Ee(G,U,!0);case"A":return Ee(G,U,!1);case"m":return String(U);case"mm":return j.s(U,2,"0");case"s":return String($.$s);case"ss":return j.s($.$s,2,"0");case"SSS":return j.s($.$ms,3,"0");case"Z":return D}return null}(ae)||D.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(T,$,N){var F,D=this,G=j.p($),U=w(T),ne=(U.utcOffset()-this.utcOffset())*r,B=this-U,fe=function(){return j.m(D,U)};switch(G){case p:F=fe()/12;break;case d:F=fe();break;case h:F=fe()/3;break;case u:F=(B-ne)/6048e5;break;case c:F=(B-ne)/864e5;break;case l:F=B/i;break;case a:F=B/r;break;case o:F=B/n;break;default:F=B}return N?F:j.a(F)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return E[this.$L]},P.locale=function(T,$){if(!T)return this.$L;var N=this.clone(),F=V(T,$,!0);return F&&(N.$L=F),N},P.clone=function(){return j.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},L}(),R=z.prototype;return w.prototype=R,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(L){R[L[1]]=function(P){return this.$g(P,L[0],L[1])}}),w.extend=function(L,P){return L.$i||(L(P,z,w),L.$i=!0),w},w.locale=V,w.isDayjs=k,w.unix=function(L){return w(1e3*L)},w.en=E[S],w.Ls=E,w.p={},w})})(Ej);var DW=Ej.exports;const Ts=gr(DW);function gb(e){return!!e}function $W(e){return[...Array(e).keys()]}const FW=250,Bv=(e,t=0,n=1/0)=>e.filter(It).filter(r=>Pa([r])>=t).filter(r=>$f([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),zW=(e,t)=>{const[n,...r]=e.filter(It),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=$f(o);(Pa([s])-a)*t>FW?i.push([s]):o.push(s)}),i},Cj=(e,t)=>e+t,Ck=e=>{const t=e.map(n=>n.reduce(Cj,0));return Math.max(...t)-Math.min(...t)},UW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},HW=e=>e.reduce(Cj,0);function hx(e,t){const r=nd(t);if(e.sections.length<9)return[];const i=zW(e.sections,r);let s=[],o=[Bv(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=Bv(e.sections,$f(l)??0)/(10-s.length),d=Bv(i[a+1]),h=HW(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=Ck(s),c=$W((s.length-2)*2+2).map(p=>UW(s,p)),u=c.map(Ck),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>$f(i[a-1]))}var kj={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(la,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:"A",Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:"A",Ǻ:"A",Ḁ:"A","Ⱥ":"A",Ã:"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C","Ȼ":"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ð:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E","Ɇ":"E",Ẽ:"E",Ḛ:"E","Ꝫ":"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H","Ⱨ":"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",І:"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS",Ĵ:"J","Ɉ":"J",Ḱ:"K",Ǩ:"K",Ķ:"K","Ⱪ":"K","Ꝃ":"K",Ḳ:"K",Ƙ:"K",Ḵ:"K","Ꝁ":"K","Ꝅ":"K",Ĺ:"L","Ƚ":"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L","Ⱡ":"L","Ꝉ":"L",Ḻ:"L",Ŀ:"L","Ɫ":"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N","Ƞ":"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:"O",Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O","Ꝋ":"O","Ꝍ":"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI","Ꝏ":"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P","Ꝓ":"P",Ƥ:"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",ß:"ss",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T","Ⱦ":"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T","Ɐ":"A","Ꞁ":"L",Ɯ:"M","Ʌ":"V","Ꜩ":"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:"U",Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U","Ꝟ":"V",Ṿ:"V",Ʋ:"V",Ṽ:"V","Ꝡ":"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W","Ⱳ":"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y","Ỿ":"Y",Ȳ:"Y","Ɏ":"Y",Ỹ:"Y",Ї:"YI",Ź:"Z",Ž:"Z",Ẑ:"Z","Ⱬ":"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Þ:"TH",Ĳ:"IJ",Œ:"OE","ᴀ":"A","ᴁ":"AE",ʙ:"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R","ᴊ":"J","ᴋ":"K",ʟ:"L","ᴌ":"L","ᴍ":"M",ɴ:"N","ᴏ":"O",ɶ:"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P",ʀ:"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W",ʏ:"Y","ᴢ":"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:"a",ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a","ᶏ":"a",ẚ:"a",å:"a",ǻ:"a",ḁ:"a","ⱥ":"a",ã:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b","ᵬ":"b","ᶀ":"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c","ȼ":"c",ď:"d",ḑ:"d",ḓ:"d","ȡ":"d",ḋ:"d",ḍ:"d",ɗ:"d","ᶑ":"d",ḏ:"d","ᵭ":"d","ᶁ":"d",đ:"d",ɖ:"d",ƌ:"d",ð:"d",ı:"i","ȷ":"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e","ⱸ":"e",ę:"e","ᶒ":"e","ɇ":"e",ẽ:"e",ḛ:"e","ꝫ":"et",ḟ:"f",ƒ:"f","ᵮ":"f","ᶂ":"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g","ᶃ":"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h","ⱨ":"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i","ᶖ":"i",ɨ:"i",ĩ:"i",ḭ:"i",і:"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is",ǰ:"j",ĵ:"j",ʝ:"j","ɉ":"j",ḱ:"k",ǩ:"k",ķ:"k","ⱪ":"k","ꝃ":"k",ḳ:"k",ƙ:"k",ḵ:"k","ᶄ":"k","ꝁ":"k","ꝅ":"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l","ȴ":"l",ḷ:"l",ḹ:"l","ⱡ":"l","ꝉ":"l",ḻ:"l",ŀ:"l",ɫ:"l","ᶅ":"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s","ẜ":"s",ẛ:"s","ẝ":"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m","ᵯ":"m","ᶆ":"m",ń:"n",ň:"n",ņ:"n",ṋ:"n","ȵ":"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n","ᵰ":"n","ᶇ":"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:"o",ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o","ꝋ":"o","ꝍ":"o","ⱺ":"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi","ꝏ":"oo",ɛ:"e","ᶓ":"e",ɔ:"o","ᶗ":"o",ȣ:"ou",ṕ:"p",ṗ:"p","ꝓ":"p",ƥ:"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q",ʠ:"q","ɋ":"q","ꝗ":"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r","ᵳ":"r",ȓ:"r",ṟ:"r",ɼ:"r","ᵲ":"r","ᶉ":"r","ɍ":"r",ɽ:"r","ↄ":"c","ꜿ":"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s","ᵴ":"s","ᶊ":"s","ȿ":"s",ɡ:"g","ᴑ":"o","ᴓ":"o","ᴝ":"u",ť:"t",ţ:"t",ṱ:"t",ț:"t","ȶ":"t",ẗ:"t","ⱦ":"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t","ᵵ":"t",ƫ:"t",ʈ:"t",ŧ:"t","ᵺ":"th",ɐ:"a","ᴂ":"ae",ǝ:"e","ᵷ":"g",ɥ:"h","ʮ":"h","ʯ":"h","ᴉ":"i",ʞ:"k","ꞁ":"l",ɯ:"m",ɰ:"m","ᴔ":"oe",ɹ:"r",ɻ:"r",ɺ:"r","ⱹ":"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y","ꜩ":"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u","ᶙ":"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v",ṿ:"v",ʋ:"v","ᶌ":"v","ⱱ":"v",ṽ:"v","ꝡ":"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w","ⱳ":"w",ẘ:"w",ẍ:"x",ẋ:"x","ᶍ":"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y","ỿ":"y",ȳ:"y",ẙ:"y","ɏ":"y",ỹ:"y",ї:"yi",ź:"z",ž:"z",ẑ:"z",ʑ:"z","ⱬ":"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z","ᵶ":"z","ᶎ":"z",ʐ:"z",ƶ:"z","ɀ":"z",þ:"th",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x",Ё:"YO",Й:"I",Ц:"TS",У:"U",К:"K",Е:"E",Н:"N",Г:"G",Ґ:"G",Ш:"SH",Щ:"SCH",З:"Z",Х:"H",Ъ:"'",ё:"yo",й:"i",ц:"ts",у:"u",к:"k",е:"e",н:"n",г:"g",ґ:"g",ш:"sh",щ:"sch",з:"z",х:"h",ъ:"'",Ф:"F",Ы:"I",В:"V",А:"a",П:"P",Р:"R",О:"O",Л:"L",Д:"D",Ж:"ZH",Э:"E",ф:"f",ы:"i",в:"v",а:"a",п:"p",р:"r",о:"o",л:"l",д:"d",ж:"zh",э:"e",Я:"Ya",Ч:"CH",С:"S",М:"M",И:"I",Т:"T",Ь:"'",Б:"B",Ю:"YU",я:"ya",ч:"ch",с:"s",м:"m",и:"i",т:"t",ь:"'",б:"b",ю:"yu"},n})})(kj);var GW=kj.exports;const WW=gr(GW),qW=/[^0-9a-z]/gi;function Cu(e){return px(e).toLowerCase().normalize("NFKD").replace(qW,"")}function px(e){return WW(e)}function Tj(e){return px(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function gx(e){return e.id?e.id:Tj(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const kk=(e,t,n)=>n>=e&&n<=t,Tk=e=>e.notes.map(t=>t.lyrics).join(""),Ik=e=>new Set(Cu(e)).size,KW=(e,t)=>{const n=e.reduce((i,s)=>`${i}${Tk(s)}`,""),r=Tk(t);return Ik(n)/Ik(r)<.5},YW=(e,t)=>{const n=t.start,r=Ff(t),i=e.filter(o=>{const a=o.start,l=Ff(o);return kk(n,r,a)||kk(n,r,l)||a<=n&&l>=r}),s=KW(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function Ij(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(It)),r=n[1].map(o=>YW(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=hx(s,t),s}const Pk={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},QW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},JW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function XW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!JW.includes(t.substring(1).split(":")[0]))}function Ft(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(gb).at(0)}function ZW(e){var r;const t=Ft(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const eq=/- -?\d+ -?\d+/;function Mk(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function tq(e,t){try{return JSON.parse(e)}catch{return t}}function nq(e){const t=Ft(e,["P1"]),n=Ft(e,["P2"]);return t||n?[t,n]:tq(Ft(e,["TRACKNAMES"]),[])}function rq(e,t,n,r,i){var p,g;const s=nq(e),o={year:Ft(e,["YEAR"]),artistOrigin:Ft(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Ft(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Ft(e,["EDITION"]),genre:Ft(e,["GENRE"]),videoGap:Ft(e,["VIDEOGAP"],"number"),realBpm:Ft(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Ft(e,["PREVIEWSTART"],"number"),previewEnd:Ft(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Ft(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Ft(e,["CREATOR"])??n,authorUrl:Ft(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Ft(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=Ft(e,["TITLE"])??"",l=Ft(e,["ARTIST"])??"",c=Ft(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??Mk(Ft(e,["AUDIOURL"])??"")??Mk(Ft(e,["VIDEOURL"])??"")??ZW(e)??"",u={id:Ft(e,["ALLKARAOKE_ID","ID"])??gx({title:a,artist:l}),title:a,artist:l,video:c,language:Ft(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Ft(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Ft(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:XW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const b=m.split(" ");if(Number(b[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),eq.test(m)){const[,y,A]=b;d.push({start:Number(y),end:Number(A),type:"pause"}),d.push({start:Number(A),type:"notes",notes:[]}),h=Number(A)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(Pk).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const y=d[d.length-1],[A,_,x,S,...E]=b;y.notes.push({type:Pk[A]??"normal",start:Number(_),length:Number(x),pitch:Number(S),lyrics:E.join(" ")}),h=Number(b[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(b=>b.type==="pause"||b.notes.length),changes:[]})).map(m=>({...m,changes:hx(m,u)})),u.mergedTrack=Ij(u.tracks,u),u}const Pj="CURRENT_VISIT_KEY",Mj="LAST_VISIT_KEY",iq=3*60*60*1e3,dy=Date.now();var XM;const Dv=Number(((XM=Ne.local)==null?void 0:XM.getItem(Pj))??dy);var ZM;const Rj=((ZM=Ne.local)==null?void 0:ZM.getItem("posthog-user-id"))===null,sq=Rj?dy:1673642382501;var eR;let jj=Number(((eR=Ne.local)==null?void 0:eR.getItem(Mj))??sq);var tR;(Rj||dy-Dv>iq)&&((tR=Ne.local)==null||tR.setItem(Mj,String(Dv)),jj=Dv);var nR;(nR=Ne.local)==null||nR.setItem(Pj,String(dy));const oq=e=>Cu(`${e.artist}${e.title}`),aq=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:gx(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:Pa(o)})),search:oq(r),local:i});let _d=null;async function Yo(){if(!_d)if("localStorage"in globalThis)try{_d=td(async()=>{const{default:e}=await Promise.resolve().then(()=>Fj);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),_d=Promise.resolve(Ne.memory)}else _d=Promise.resolve(Ne.memory);return _d}const Cp="DELETED_SONGS_V2";class lq{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Yo())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(rq).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Yo())==null?void 0:n.getItem(Cp))??[]},this.generateSongFile=t=>gx(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=Ts(jj),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Ts(a.lastUpdate??0).isAfter(Ts(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(async a=>{o.includes(a.id)||(await Yo()).removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Ts(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await(await Yo()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Yo()).setItem(Cp,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Yo()).setItem(Cp,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Yo())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:Ij(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:hx(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return aq(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Cp];return(await(await Yo()).keys()).filter(n=>!t.includes(n))}}}const Ei=new lq,Oj="room_id_key",ff=5,Vj=e=>{Ne.session.setItem(Oj,e)};class cq{constructor(){var t;if(this.gameCode=Ne.session.getItem(Oj),this.started=!1,this.start=()=>{if(!this.transport){const n=gm.get();this.transport=n==="WebSockets"?new NW:n==="PartyKit"?new dW:new LW}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),Vj(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,o;const i=n.t;if(i==="register")nt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")nt.removeRemoteMic(r.peer);else if(i==="subscribe-event")nt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")nt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=nt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([Ei.getLocalIndex(),Ei.getDeletedSongsList()]).then(([a,l])=>{r.send({t:"songlist",custom:a.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:l})});else if(i==="get-microphone-lag-request"){const a=nt.getRemoteMicById(r.peer);a&&r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const a=nt.getRemoteMicById(r.peer);a&&(a.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:a.getInput().getInputLag()}))}else nt.getPermission(r.peer)==="write"&&(i==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?te.remoteSongSearch.dispatch(n.search):i==="select-song"?te.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:lf.get()}):i==="remove-player"?(o=this.transport)==null||o.removePlayer(n.id):i==="set-game-input-lag-request"&&(lf.set(n.value),r.send({t:"get-game-input-lag-response",value:lf.get()})))}),te.micServerStarted.dispatch()},()=>{te.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=gm.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<ff-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;nt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const kl=new cq,Fl=e=>`${e.deviceId};${e.channel}`,Rk=[{channels:2,channel:1,label:"Drawing Test Input",id:Fl({deviceId:"default",channel:1}),deviceId:"default"}],fl=class fl{};fl.inputName="DrawingTest",fl.getDefault=()=>Rk[0],fl.getInputs=async()=>Rk,fl.subscribeToListChange=t=>{},fl.unsubscribeToListChange=t=>{};let mb=fl;const jk=[{channels:2,channel:0,label:"Dummy Input 1",id:Fl({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:Fl({deviceId:"default",channel:1}),deviceId:"default"}],hl=class hl{};hl.inputName="Dummy",hl.getDefault=()=>jk[0],hl.getInputs=async()=>jk,hl.subscribeToListChange=t=>{},hl.unsubscribeToListChange=t=>{};let Cm=hl;var uq=Math.ceil,dq=Math.max;function fq(e,t,n,r){for(var i=-1,s=dq(uq((t-e)/(n||1)),0),o=Array(s);s--;)o[++i]=e,e+=n;return o}var hq=9007199254740991;function mx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hq}function yx(e){return e!=null&&mx(e.length)&&!pj(e)}var pq=9007199254740991,gq=/^(?:0|[1-9]\d*)$/;function vx(e,t){var n=typeof e;return t=t??pq,!!t&&(n=="number"||n!="symbol"&&gq.test(e))&&e>-1&&e%1==0&&e<t}function mq(e,t,n){if(!Vs(n))return!1;var r=typeof t;return(r=="number"?yx(n)&&vx(t,n.length):r=="string"&&t in n)?iy(n[t],e):!1}var Ok=1/0,yq=17976931348623157e292;function kg(e){if(!e)return e===0?e:0;if(e=fb(e),e===Ok||e===-Ok){var t=e<0?-1:1;return t*yq}return e===e?e:0}function vq(e){return function(t,n,r){return r&&typeof r!="number"&&mq(t,n,r)&&(n=r=void 0),t=kg(t),n===void 0?(n=t,t=0):n=kg(n),r=r===void 0?t<n?1:-1:kg(r),fq(t,n,r)}}var Aq=vq();const yb={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},vb={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},Ab={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},bq=(...[e,t,n])=>vb.test(e,t,n)||yb.test(e,t,n)||Ab.test(e,t,n)?t:void 0,_q=(e,t,n)=>yb.test(e,t,n)?yb.map(e,t):vb.test(e,t,n)?vb.map(e,t):Ab.test(e,t,n)?Ab.map(e,t):n>1?`${e} (ch ${t+1})`:e,Li=class Li{};Li.inputList=[],Li.inputName="Microphone",Li.getDefault=()=>Li.inputList.find(t=>t.id===Fl({deviceId:"default",channel:0}))??Li.inputList[0]??null,Li.getInputs=async()=>{let t=[];try{await ba.getUserMedia({audio:!0,video:!1}),t=await ba.enumerateDevices()}catch(r){Os(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await ba.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return Aq(0,i).map(s=>({label:_q(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:Fl({deviceId:r.deviceId,channel:s}),preferred:bq(r.label,s,i)}))}));return Li.inputList=n.flat(),Li.inputList},Li.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),Li.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let Po=Li;const Vk=e=>({label:`📱${e.name}`,id:Fl({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),pl=class pl{};pl.inputName="Remote Microphone",pl.getDefault=()=>nt.getRemoteMics().map(Vk)[0]??null,pl.getInputs=async()=>nt.getRemoteMics().map(Vk),pl.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},pl.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let No=pl;const Sq=e=>`${e.deviceId};${e.channel}`;class xq{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,this.inputList[t.inputName].initialised=!0,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault,initialised:!1}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(Po))},this.getInputList=()=>this.inputList,this.isPlayerInputInitialised=t=>this.inputList[t.source].initialised,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===Sq(t))??(n?r.getDefault():null)},this.inputList={[Po.inputName]:this.initialiseInputSource(Po,!0),[Cm.inputName]:this.initialiseInputSource(Cm),[No.inputName]:this.initialiseInputSource(No)}}}const oo=new xq,Lk="playerselectedinputs",km=4,C0=class C0{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;_n.monitoringStarted()&&(a=_n.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(_n.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,te.playerNameChanged.dispatch(this.number,s)}}};C0.fromJSON=t=>new C0(t.number,t.input,t.name);let Lc=C0;class wq{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Ne.session.setItem(Lk,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>oo.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>_n.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(s.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(Fe.isPlaying()||this.getPlayer(n))return;const r=new Lc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(Fe.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(km).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Ne.session.getItem(Lk)??[];t.length?(this.players=t.map(Lc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&oo.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&kl.start()):this.players=[new Lc(0,{source:"Dummy",deviceId:"default",channel:0}),new Lc(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=nt.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(uj(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Ve=new wq;class Eq{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Ve.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Ve.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Ve.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Ve.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Ve.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{const t=Ve.getPlayers().map(n=>n.input);await Promise.all(t.map(n=>this.sourceNameToInput(n.source).startMonitoring(n.deviceId,t))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Ve.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===Po.inputName?BH:t===mb.inputName?v6:t===No.inputName?$H:b6,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const _n=new Eq;function Lj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Lj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function pa(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Lj(e))&&(r&&(r+=" "),r+=t);return r}const hf=e=>typeof e=="number"&&!isNaN(e),zl=e=>typeof e=="string",Xr=e=>typeof e=="function",Tg=e=>zl(e)||Xr(e)?e:null,$v=e=>v.isValidElement(e)||zl(e)||Xr(e)||hf(e);function Cq(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function fy(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=v.useRef(0);return v.useLayoutEffect(()=>{const b=d.current,y=p.split(" "),A=_=>{_.target===d.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),m.current===0&&_.type!=="animationcancel"&&b.classList.remove(...y))};b.classList.add(...y),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),v.useEffect(()=>{const b=d.current,y=()=>{b.removeEventListener("animationend",y),i?Cq(b,u,s):u()};h||(c?y():(m.current=1,b.className+=` ${g}`,b.addEventListener("animationend",y)))},[h]),Te.createElement(Te.Fragment,null,a)}}function Nk(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Bi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},kp=e=>{let{theme:t,type:n,...r}=e;return Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Fv={info:function(e){return Te.createElement(kp,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Te.createElement(kp,{...e},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Te.createElement(kp,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Te.createElement(kp,{...e},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Te.createElement("div",{className:"Toastify__spinner"})}};function kq(e){const[,t]=v.useReducer(p=>p+1,0),[n,r]=v.useState([]),i=v.useRef(null),s=v.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=v.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:b,...y}=g;if(!$v(p)||function(z){return!i.current||a.props.enableMultiContainer&&z.containerId!==a.props.containerId||s.has(z.toastId)&&z.updateId==null}(y))return;const{toastId:A,updateId:_,data:x}=y,{props:S}=a,E=()=>c(A),C=_==null;C&&a.count++;const k={...S,style:S.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(y).filter(z=>{let[R,L]=z;return L!=null})),toastId:A,updateId:_,data:x,closeToast:E,isIn:!1,className:Tg(y.className||S.toastClassName),bodyClassName:Tg(y.bodyClassName||S.bodyClassName),progressClassName:Tg(y.progressClassName||S.progressClassName),autoClose:!y.isLoading&&(V=y.autoClose,w=S.autoClose,V===!1||hf(V)&&V>0?V:w),deleteToast(){const z=Nk(s.get(A),"removed");s.delete(A),Bi.emit(4,z);const R=a.queue.length;if(a.count=A==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),R>0){const L=A==null?a.props.limit:1;if(R===1||L===1)a.displayedToast++,u();else{const P=L>R?R:L;a.displayedToast=P;for(let T=0;T<P;T++)u()}}else t()}};var V,w;k.iconOut=function(z){let{theme:R,type:L,isLoading:P,icon:T}=z,$=null;const N={theme:R,type:L};return T===!1||(Xr(T)?$=T(N):v.isValidElement(T)?$=v.cloneElement(T,N):zl(T)||hf(T)?$=T:P?$=Fv.spinner():(F=>F in Fv)(L)&&($=Fv[L](N))),$}(k),Xr(y.onOpen)&&(k.onOpen=y.onOpen),Xr(y.onClose)&&(k.onClose=y.onClose),k.closeButton=S.closeButton,y.closeButton===!1||$v(y.closeButton)?k.closeButton=y.closeButton:y.closeButton===!0&&(k.closeButton=!$v(S.closeButton)||S.closeButton);let j=p;v.isValidElement(p)&&!zl(p.type)?j=v.cloneElement(p,{closeToast:E,toastProps:k,data:x}):Xr(p)&&(j=p({closeToast:E,toastProps:k,data:x})),S.limit&&S.limit>0&&a.count>S.limit&&C?a.queue.push({toastContent:j,toastProps:k,staleId:b}):hf(m)?setTimeout(()=>{h(j,k,b)},m):h(j,k,b)}function h(p,g,m){const{toastId:b}=g;m&&s.delete(m);const y={content:p,props:g};s.set(b,y),r(A=>[...A,b].filter(_=>_!==m)),Bi.emit(4,Nk(y,y.props.updateId==null?"added":"updated"))}return v.useEffect(()=>(a.containerId=e.containerId,Bi.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),Bi.emit(3,a)}),[]),v.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(b=>{const{position:y}=b.props;g.has(y)||g.set(y,[]),g.get(y).push(b)}),Array.from(g,b=>p(b[0],b[1]))},containerRef:i,isToastActive:o}}function Bk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Dk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Tq(e){const[t,n]=v.useState(!1),[r,i]=v.useState(!1),s=v.useRef(null),o=v.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=v.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(x){if(e.draggable){x.nativeEvent.type==="touchstart"&&x.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",A),document.addEventListener("touchmove",y),document.addEventListener("touchend",A);const S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=Bk(x.nativeEvent),o.y=Dk(x.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(x){if(o.boundingRect){const{top:S,bottom:E,left:C,right:k}=o.boundingRect;x.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=C&&o.x<=k&&o.y>=S&&o.y<=E?b():m()}}function m(){n(!0)}function b(){n(!1)}function y(x){const S=s.current;o.canDrag&&S&&(o.didMove=!0,t&&b(),o.x=Bk(x),o.y=Dk(x),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function A(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",A),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",A);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();x.style.transition="transform 0.2s, opacity 0.2s",x.style.transform=`translate${e.draggableDirection}(0)`,x.style.opacity="1"}}v.useEffect(()=>{a.current=e}),v.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),Xr(e.onOpen)&&e.onOpen(v.isValidElement(e.children)&&e.children.props),()=>{const x=a.current;Xr(x.onClose)&&x.onClose(v.isValidElement(x.children)&&x.children.props)}),[]),v.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);const _={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(_.onMouseEnter=b,_.onMouseLeave=m),h&&(_.onClick=x=>{d&&d(x),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:b,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:_}}function Nj(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Iq(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=pa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),b=Xr(o)?o({rtl:u,type:i,defaultClassName:m}):pa(m,o);return Te.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const Pq=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=Tq(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:b,bodyStyle:y,progressClassName:A,progressStyle:_,updateId:x,role:S,progress:E,rtl:C,toastId:k,deleteToast:V,isIn:w,isLoading:j,iconOut:z,closeOnClick:R,theme:L}=e,P=pa("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":R}),T=Xr(g)?g({rtl:C,position:p,type:c,defaultClassName:P}):pa(P,g),$=!!E||!a,N={closeToast:d,type:c,theme:L};let F=null;return s===!1||(F=Xr(s)?s(N):v.isValidElement(s)?v.cloneElement(s,N):Nj(N)),Te.createElement(h,{isIn:w,done:V,position:p,preventExitTransition:n,nodeRef:r},Te.createElement("div",{id:k,onClick:l,className:T,...i,style:m,ref:r},Te.createElement("div",{...w&&{role:S},className:Xr(b)?b({type:c}):pa("Toastify__toast-body",b),style:y},z!=null&&Te.createElement("div",{className:pa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},z),Te.createElement("div",null,o)),F,Te.createElement(Iq,{...x&&!$?{key:`pb-${x}`}:{},rtl:C,theme:L,delay:a,isRunning:t,isIn:w,closeToast:d,hide:u,type:c,style:_,className:A,controlledProgress:$,progress:E||0})))},hy=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Mq=fy(hy("bounce",!0));fy(hy("slide",!0));fy(hy("zoom"));fy(hy("flip"));const bb=v.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=kq(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=pa("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Xr(s)?s({position:u,rtl:a,defaultClassName:d}):pa(d,Tg(s))}return v.useEffect(()=>{t&&(t.current=r.current)},[]),Te.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Te.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:b}=p;return Te.createElement(Pq,{...b,isIn:i(b.toastId),style:{...b.style,"--nth":g+1,"--len":d.length},key:`toast-${b.key}`},m)}))}))});bb.displayName="ToastContainer",bb.defaultProps={position:"top-right",transition:Mq,autoClose:5e3,closeButton:Nj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let zv,sl=new Map,Ud=[],Rq=1;function Bj(){return""+Rq++}function jq(e){return e&&(zl(e.toastId)||hf(e.toastId))?e.toastId:Bj()}function pf(e,t){return sl.size>0?Bi.emit(0,e,t):Ud.push({content:e,options:t}),t.toastId}function Tm(e,t){return{...t,type:t&&t.type||e,toastId:jq(t)}}function Tp(e){return(t,n)=>pf(t,Tm(e,n))}function $t(e,t){return pf(e,Tm("default",t))}$t.loading=(e,t)=>pf(e,Tm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),$t.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=zl(i)?$t.loading(i,n):$t.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void $t.dismiss(r);const p={type:u,...a,...n,data:h},g=zl(d)?{render:d}:d;return r?$t.update(r,{...p,...g}):$t(g.render,{...p,...g}),h},c=Xr(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},$t.success=Tp("success"),$t.info=Tp("info"),$t.error=Tp("error"),$t.warning=Tp("warning"),$t.warn=$t.warning,$t.dark=(e,t)=>pf(e,Tm("default",{theme:"dark",...t})),$t.dismiss=e=>{sl.size>0?Bi.emit(1,e):Ud=Ud.filter(t=>e!=null&&t.options.toastId!==e)},$t.clearWaitingQueue=function(e){return e===void 0&&(e={}),Bi.emit(5,e)},$t.isActive=e=>{let t=!1;return sl.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},$t.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=sl.get(s||zv);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Bj()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,pf(o,s)}},0)},$t.done=e=>{$t.update(e,{progress:1})},$t.onChange=e=>(Bi.on(4,e),()=>{Bi.off(4,e)}),$t.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$t.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Bi.on(2,e=>{zv=e.containerId||e,sl.set(zv,e),Ud.forEach(t=>{Bi.emit(0,t.content,t.options)}),Ud=[]}).on(3,e=>{sl.delete(e.containerId||e),sl.size===0&&Bi.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===No.inputName){const t=nt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===No.inputName){const i=(r=Ve.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=nt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=nt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Ve.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=nt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),_n.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Ve.getPlayers().find(i=>i.input.deviceId===e);if(n&&Ve.removePlayer(n.number),t!==null){const i=Ve.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Ve.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||$t.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});te.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||$t.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const Ax=()=>{const e=nt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Ve.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});nt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(Ax);te.playerInputChanged.subscribe(Ax);te.remoteMicSubscribed.subscribe(Ax);const Dj=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Ve.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=Fe.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>wm(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var b,y;return[p[0]-(((b=m[g-1])==null?void 0:b[0])??0),p[1]-(((y=m[g-1])==null?void 0:y[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=D5(d);console.log("compressed",h)}catch(d){Os(d)}Mn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!mr.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(Dj("songStarted"));te.songEnded.subscribe(Dj("songEnded"));function Ip(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $j={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof Ip=="function"&&Ip;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Ip=="function"&&Ip,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var b=s.document.createElement("script");b.onreadystatechange=function(){g(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var b,y,A=p.length;A;){for(y=p,p=[],b=-1;++b<A;)y[b]();A=p.length}h=!1}r.exports=m;function m(b){p.push(b)===1&&!h&&a()}}).call(this,typeof la<"u"?la:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,S!==o&&m(this,S)}d.prototype.catch=function(S){return this.then(null,S)},d.prototype.then=function(S,E){if(typeof S!="function"&&this.state===c||typeof E!="function"&&this.state===l)return this;var C=new this.constructor(o);if(this.state!==u){var k=this.state===c?S:E;p(C,k,this.outcome)}else this.queue.push(new h(C,S,E));return C};function h(S,E,C){this.promise=S,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},h.prototype.otherCallFulfilled=function(S){p(this.promise,this.onFulfilled,S)},h.prototype.callRejected=function(S){a.reject(this.promise,S)},h.prototype.otherCallRejected=function(S){p(this.promise,this.onRejected,S)};function p(S,E,C){s(function(){var k;try{k=E(C)}catch(V){return a.reject(S,V)}k===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,k)})}a.resolve=function(S,E){var C=b(g,E);if(C.status==="error")return a.reject(S,C.value);var k=C.value;if(k)m(S,k);else{S.state=c,S.outcome=E;for(var V=-1,w=S.queue.length;++V<w;)S.queue[V].callFulfilled(E)}return S},a.reject=function(S,E){S.state=l,S.outcome=E;for(var C=-1,k=S.queue.length;++C<k;)S.queue[C].callRejected(E);return S};function g(S){var E=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof E=="function")return function(){E.apply(S,arguments)}}function m(S,E){var C=!1;function k(z){C||(C=!0,a.reject(S,z))}function V(z){C||(C=!0,a.resolve(S,z))}function w(){E(V,k)}var j=b(w);j.status==="error"&&k(j.value)}function b(S,E){var C={};try{C.value=S(E),C.status="success"}catch(k){C.status="error",C.value=k}return C}d.resolve=y;function y(S){return S instanceof this?S:a.resolve(new this(o),S)}d.reject=A;function A(S){var E=new this(o);return a.reject(E,S)}d.all=_;function _(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,k=!1;if(!C)return this.resolve([]);for(var V=new Array(C),w=0,j=-1,z=new this(o);++j<C;)R(S[j],j);return z;function R(L,P){E.resolve(L).then(T,function($){k||(k=!0,a.reject(z,$))});function T($){V[P]=$,++w===C&&!k&&(k=!0,a.resolve(z,V))}}}d.race=x;function x(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=S.length,k=!1;if(!C)return this.resolve([]);for(var V=-1,w=new this(o);++V<C;)j(S[V]);return w;function j(z){E.resolve(z).then(function(R){k||(k=!0,a.resolve(w,R))},function(R){k||(k=!0,a.reject(w,R))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof la<"u"?la:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function o(I,H){if(!(I instanceof H))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),H=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||H)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(I,H){I=I||[],H=H||{};try{return new Blob(I,H)}catch(W){if(W.name!=="TypeError")throw W;for(var O=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new O,Q=0;Q<I.length;Q+=1)q.append(I[Q]);return q.getBlob(H.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(I,H){H&&I.then(function(O){H(null,O)},function(O){H(O)})}function p(I,H,O){typeof H=="function"&&I.then(H),typeof O=="function"&&I.catch(O)}function g(I){return typeof I!="string"&&(console.warn(I+" used as a key, but it is not a string."),I=String(I)),I}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",y=void 0,A={},_=Object.prototype.toString,x="readonly",S="readwrite";function E(I){for(var H=I.length,O=new ArrayBuffer(H),q=new Uint8Array(O),Q=0;Q<H;Q++)q[Q]=I.charCodeAt(Q);return O}function C(I){return new d(function(H){var O=I.transaction(b,S),q=u([""]);O.objectStore(b).put(q,"key"),O.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),H(!1)},O.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),W=navigator.userAgent.match(/Edge\//);H(W||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})}function k(I){return typeof y=="boolean"?d.resolve(y):C(I).then(function(H){return y=H,y})}function V(I){var H=A[I.name],O={};O.promise=new d(function(q,Q){O.resolve=q,O.reject=Q}),H.deferredOperations.push(O),H.dbReady?H.dbReady=H.dbReady.then(function(){return O.promise}):H.dbReady=O.promise}function w(I){var H=A[I.name],O=H.deferredOperations.pop();if(O)return O.resolve(),O.promise}function j(I,H){var O=A[I.name],q=O.deferredOperations.pop();if(q)return q.reject(H),q.promise}function z(I,H){return new d(function(O,q){if(A[I.name]=A[I.name]||U(),I.db)if(H)V(I),I.db.close();else return O(I.db);var Q=[I.name];H&&Q.push(I.version);var W=l.open.apply(l,Q);H&&(W.onupgradeneeded=function(re){var se=W.result;try{se.createObjectStore(I.storeName),re.oldVersion<=1&&se.createObjectStore(b)}catch(ue){if(ue.name==="ConstraintError")console.warn('The database "'+I.name+'" has been upgraded from version '+re.oldVersion+" to version "+re.newVersion+', but the storage "'+I.storeName+'" already exists.');else throw ue}}),W.onerror=function(re){re.preventDefault(),q(W.error)},W.onsuccess=function(){var re=W.result;re.onversionchange=function(se){se.target.close()},O(re),w(I)}})}function R(I){return z(I,!1)}function L(I){return z(I,!0)}function P(I,H){if(!I.db)return!0;var O=!I.db.objectStoreNames.contains(I.storeName),q=I.version<I.db.version,Q=I.version>I.db.version;if(q&&(I.version!==H&&console.warn('The database "'+I.name+`" can't be downgraded from version `+I.db.version+" to version "+I.version+"."),I.version=I.db.version),Q||O){if(O){var W=I.db.version+1;W>I.version&&(I.version=W)}return!0}return!1}function T(I){return new d(function(H,O){var q=new FileReader;q.onerror=O,q.onloadend=function(Q){var W=btoa(Q.target.result||"");H({__local_forage_encoded_blob:!0,data:W,type:I.type})},q.readAsBinaryString(I)})}function $(I){var H=E(atob(I.data));return u([H],{type:I.type})}function N(I){return I&&I.__local_forage_encoded_blob}function F(I){var H=this,O=H._initReady().then(function(){var q=A[H._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return p(O,I,I),O}function D(I){V(I);for(var H=A[I.name],O=H.forages,q=0;q<O.length;q++){var Q=O[q];Q._dbInfo.db&&(Q._dbInfo.db.close(),Q._dbInfo.db=null)}return I.db=null,R(I).then(function(W){return I.db=W,P(I)?L(I):W}).then(function(W){I.db=H.db=W;for(var re=0;re<O.length;re++)O[re]._dbInfo.db=W}).catch(function(W){throw j(I,W),W})}function G(I,H,O,q){q===void 0&&(q=1);try{var Q=I.db.transaction(I.storeName,H);O(null,Q)}catch(W){if(q>0&&(!I.db||W.name==="InvalidStateError"||W.name==="NotFoundError"))return d.resolve().then(function(){if(!I.db||W.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),L(I)}).then(function(){return D(I).then(function(){G(I,H,O,q-1)})}).catch(O);O(W)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(I){var H=this,O={db:null};if(I)for(var q in I)O[q]=I[q];var Q=A[O.name];Q||(Q=U(),A[O.name]=Q),Q.forages.push(H),H._initReady||(H._initReady=H.ready,H.ready=F);var W=[];function re(){return d.resolve()}for(var se=0;se<Q.forages.length;se++){var ue=Q.forages[se];ue!==H&&W.push(ue._initReady().catch(re))}var de=Q.forages.slice(0);return d.all(W).then(function(){return O.db=Q.db,R(O)}).then(function(he){return O.db=he,P(O,H._defaultConfig.version)?L(O):he}).then(function(he){O.db=Q.db=he,H._dbInfo=O;for(var Ie=0;Ie<de.length;Ie++){var rt=de[Ie];rt!==H&&(rt._dbInfo.db=O.db,rt._dbInfo.version=O.version)}})}function B(I,H){var O=this;I=g(I);var q=new d(function(Q,W){O.ready().then(function(){G(O._dbInfo,x,function(re,se){if(re)return W(re);try{var ue=se.objectStore(O._dbInfo.storeName),de=ue.get(I);de.onsuccess=function(){var he=de.result;he===void 0&&(he=null),N(he)&&(he=$(he)),Q(he)},de.onerror=function(){W(de.error)}}catch(he){W(he)}})}).catch(W)});return h(q,H),q}function fe(I,H){var O=this,q=new d(function(Q,W){O.ready().then(function(){G(O._dbInfo,x,function(re,se){if(re)return W(re);try{var ue=se.objectStore(O._dbInfo.storeName),de=ue.openCursor(),he=1;de.onsuccess=function(){var Ie=de.result;if(Ie){var rt=Ie.value;N(rt)&&(rt=$(rt));var xt=I(rt,Ie.key,he++);xt!==void 0?Q(xt):Ie.continue()}else Q()},de.onerror=function(){W(de.error)}}catch(Ie){W(Ie)}})}).catch(W)});return h(q,H),q}function Z(I,H,O){var q=this;I=g(I);var Q=new d(function(W,re){var se;q.ready().then(function(){return se=q._dbInfo,_.call(H)==="[object Blob]"?k(se.db).then(function(ue){return ue?H:T(H)}):H}).then(function(ue){G(q._dbInfo,S,function(de,he){if(de)return re(de);try{var Ie=he.objectStore(q._dbInfo.storeName);ue===null&&(ue=void 0);var rt=Ie.put(ue,I);he.oncomplete=function(){ue===void 0&&(ue=null),W(ue)},he.onabort=he.onerror=function(){var xt=rt.error?rt.error:rt.transaction.error;re(xt)}}catch(xt){re(xt)}})}).catch(re)});return h(Q,O),Q}function oe(I,H){var O=this;I=g(I);var q=new d(function(Q,W){O.ready().then(function(){G(O._dbInfo,S,function(re,se){if(re)return W(re);try{var ue=se.objectStore(O._dbInfo.storeName),de=ue.delete(I);se.oncomplete=function(){Q()},se.onerror=function(){W(de.error)},se.onabort=function(){var he=de.error?de.error:de.transaction.error;W(he)}}catch(he){W(he)}})}).catch(W)});return h(q,H),q}function Pe(I){var H=this,O=new d(function(q,Q){H.ready().then(function(){G(H._dbInfo,S,function(W,re){if(W)return Q(W);try{var se=re.objectStore(H._dbInfo.storeName),ue=se.clear();re.oncomplete=function(){q()},re.onabort=re.onerror=function(){var de=ue.error?ue.error:ue.transaction.error;Q(de)}}catch(de){Q(de)}})}).catch(Q)});return h(O,I),O}function Ee(I){var H=this,O=new d(function(q,Q){H.ready().then(function(){G(H._dbInfo,x,function(W,re){if(W)return Q(W);try{var se=re.objectStore(H._dbInfo.storeName),ue=se.count();ue.onsuccess=function(){q(ue.result)},ue.onerror=function(){Q(ue.error)}}catch(de){Q(de)}})}).catch(Q)});return h(O,I),O}function ae(I,H){var O=this,q=new d(function(Q,W){if(I<0){Q(null);return}O.ready().then(function(){G(O._dbInfo,x,function(re,se){if(re)return W(re);try{var ue=se.objectStore(O._dbInfo.storeName),de=!1,he=ue.openKeyCursor();he.onsuccess=function(){var Ie=he.result;if(!Ie){Q(null);return}I===0||de?Q(Ie.key):(de=!0,Ie.advance(I))},he.onerror=function(){W(he.error)}}catch(Ie){W(Ie)}})}).catch(W)});return h(q,H),q}function be(I){var H=this,O=new d(function(q,Q){H.ready().then(function(){G(H._dbInfo,x,function(W,re){if(W)return Q(W);try{var se=re.objectStore(H._dbInfo.storeName),ue=se.openKeyCursor(),de=[];ue.onsuccess=function(){var he=ue.result;if(!he){q(de);return}de.push(he.key),he.continue()},ue.onerror=function(){Q(ue.error)}}catch(he){Q(he)}})}).catch(Q)});return h(O,I),O}function Le(I,H){H=m.apply(this,arguments);var O=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||O.name,I.storeName=I.storeName||O.storeName);var q=this,Q;if(!I.name)Q=d.reject("Invalid arguments");else{var W=I.name===O.name&&q._dbInfo.db,re=W?d.resolve(q._dbInfo.db):R(I).then(function(se){var ue=A[I.name],de=ue.forages;ue.db=se;for(var he=0;he<de.length;he++)de[he]._dbInfo.db=se;return se});I.storeName?Q=re.then(function(se){if(se.objectStoreNames.contains(I.storeName)){var ue=se.version+1;V(I);var de=A[I.name],he=de.forages;se.close();for(var Ie=0;Ie<he.length;Ie++){var rt=he[Ie];rt._dbInfo.db=null,rt._dbInfo.version=ue}var xt=new d(function(Tt,Ln){var wn=l.open(I.name,ue);wn.onerror=function(Oi){var hd=wn.result;hd.close(),Ln(Oi)},wn.onupgradeneeded=function(){var Oi=wn.result;Oi.deleteObjectStore(I.storeName)},wn.onsuccess=function(){var Oi=wn.result;Oi.close(),Tt(Oi)}});return xt.then(function(Tt){de.db=Tt;for(var Ln=0;Ln<he.length;Ln++){var wn=he[Ln];wn._dbInfo.db=Tt,w(wn._dbInfo)}}).catch(function(Tt){throw(j(I,Tt)||d.resolve()).catch(function(){}),Tt})}}):Q=re.then(function(se){V(I);var ue=A[I.name],de=ue.forages;se.close();for(var he=0;he<de.length;he++){var Ie=de[he];Ie._dbInfo.db=null}var rt=new d(function(xt,Tt){var Ln=l.deleteDatabase(I.name);Ln.onerror=function(){var wn=Ln.result;wn&&wn.close(),Tt(Ln.error)},Ln.onblocked=function(){console.warn('dropInstance blocked for database "'+I.name+'" until all open connections are closed')},Ln.onsuccess=function(){var wn=Ln.result;wn&&wn.close(),xt(wn)}});return rt.then(function(xt){ue.db=xt;for(var Tt=0;Tt<de.length;Tt++){var Ln=de[Tt];w(Ln._dbInfo)}}).catch(function(xt){throw(j(I,xt)||d.resolve()).catch(function(){}),xt})})}return h(Q,H),Q}var Be={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:fe,getItem:B,setItem:Z,removeItem:oe,clear:Pe,length:Ee,key:ae,keys:be,dropInstance:Le};function ye(){return typeof openDatabase=="function"}var Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke="~~local_forage_type~",De=/^~~local_forage_type~([^~]+)~/,xe="__lfsc__:",Je=xe.length,Et="arbf",Gt="blob",Ct="si08",Ce="ui08",ct="uic8",Rt="si16",jt="si32",Me="ur16",We="ui32",it="fl32",st="fl64",sn=Je+Et.length,gt=Object.prototype.toString;function ut(I){var H=I.length*.75,O=I.length,q,Q=0,W,re,se,ue;I[I.length-1]==="="&&(H--,I[I.length-2]==="="&&H--);var de=new ArrayBuffer(H),he=new Uint8Array(de);for(q=0;q<O;q+=4)W=Se.indexOf(I[q]),re=Se.indexOf(I[q+1]),se=Se.indexOf(I[q+2]),ue=Se.indexOf(I[q+3]),he[Q++]=W<<2|re>>4,he[Q++]=(re&15)<<4|se>>2,he[Q++]=(se&3)<<6|ue&63;return de}function on(I){var H=new Uint8Array(I),O="",q;for(q=0;q<H.length;q+=3)O+=Se[H[q]>>2],O+=Se[(H[q]&3)<<4|H[q+1]>>4],O+=Se[(H[q+1]&15)<<2|H[q+2]>>6],O+=Se[H[q+2]&63];return H.length%3===2?O=O.substring(0,O.length-1)+"=":H.length%3===1&&(O=O.substring(0,O.length-2)+"=="),O}function pn(I,H){var O="";if(I&&(O=gt.call(I)),I&&(O==="[object ArrayBuffer]"||I.buffer&&gt.call(I.buffer)==="[object ArrayBuffer]")){var q,Q=xe;I instanceof ArrayBuffer?(q=I,Q+=Et):(q=I.buffer,O==="[object Int8Array]"?Q+=Ct:O==="[object Uint8Array]"?Q+=Ce:O==="[object Uint8ClampedArray]"?Q+=ct:O==="[object Int16Array]"?Q+=Rt:O==="[object Uint16Array]"?Q+=Me:O==="[object Int32Array]"?Q+=jt:O==="[object Uint32Array]"?Q+=We:O==="[object Float32Array]"?Q+=it:O==="[object Float64Array]"?Q+=st:H(new Error("Failed to get type for BinaryArray"))),H(Q+on(q))}else if(O==="[object Blob]"){var W=new FileReader;W.onload=function(){var re=Ke+I.type+"~"+on(this.result);H(xe+Gt+re)},W.readAsArrayBuffer(I)}else try{H(JSON.stringify(I))}catch(re){console.error("Couldn't convert value into a JSON string: ",I),H(null,re)}}function Xt(I){if(I.substring(0,Je)!==xe)return JSON.parse(I);var H=I.substring(sn),O=I.substring(Je,sn),q;if(O===Gt&&De.test(H)){var Q=H.match(De);q=Q[1],H=H.substring(Q[0].length)}var W=ut(H);switch(O){case Et:return W;case Gt:return u([W],{type:q});case Ct:return new Int8Array(W);case Ce:return new Uint8Array(W);case ct:return new Uint8ClampedArray(W);case Rt:return new Int16Array(W);case Me:return new Uint16Array(W);case jt:return new Int32Array(W);case We:return new Uint32Array(W);case it:return new Float32Array(W);case st:return new Float64Array(W);default:throw new Error("Unkown type: "+O)}}var At={serialize:pn,deserialize:Xt,stringToBuffer:ut,bufferToString:on};function Fn(I,H,O,q){I.executeSql("CREATE TABLE IF NOT EXISTS "+H.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],O,q)}function yr(I){var H=this,O={db:null};if(I)for(var q in I)O[q]=typeof I[q]!="string"?I[q].toString():I[q];var Q=new d(function(W,re){try{O.db=openDatabase(O.name,String(O.version),O.description,O.size)}catch(se){return re(se)}O.db.transaction(function(se){Fn(se,O,function(){H._dbInfo=O,W()},function(ue,de){re(de)})},re)});return O.serializer=At,Q}function Sn(I,H,O,q,Q,W){I.executeSql(O,q,Q,function(re,se){se.code===se.SYNTAX_ERR?re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[H.storeName],function(ue,de){de.rows.length?W(ue,se):Fn(ue,H,function(){ue.executeSql(O,q,Q,W)},W)},W):W(re,se)},W)}function Ri(I,H){var O=this;I=g(I);var q=new d(function(Q,W){O.ready().then(function(){var re=O._dbInfo;re.db.transaction(function(se){Sn(se,re,"SELECT * FROM "+re.storeName+" WHERE key = ? LIMIT 1",[I],function(ue,de){var he=de.rows.length?de.rows.item(0).value:null;he&&(he=re.serializer.deserialize(he)),Q(he)},function(ue,de){W(de)})})}).catch(W)});return h(q,H),q}function ci(I,H){var O=this,q=new d(function(Q,W){O.ready().then(function(){var re=O._dbInfo;re.db.transaction(function(se){Sn(se,re,"SELECT * FROM "+re.storeName,[],function(ue,de){for(var he=de.rows,Ie=he.length,rt=0;rt<Ie;rt++){var xt=he.item(rt),Tt=xt.value;if(Tt&&(Tt=re.serializer.deserialize(Tt)),Tt=I(Tt,xt.key,rt+1),Tt!==void 0){Q(Tt);return}}Q()},function(ue,de){W(de)})})}).catch(W)});return h(q,H),q}function kt(I,H,O,q){var Q=this;I=g(I);var W=new d(function(re,se){Q.ready().then(function(){H===void 0&&(H=null);var ue=H,de=Q._dbInfo;de.serializer.serialize(H,function(he,Ie){Ie?se(Ie):de.db.transaction(function(rt){Sn(rt,de,"INSERT OR REPLACE INTO "+de.storeName+" (key, value) VALUES (?, ?)",[I,he],function(){re(ue)},function(xt,Tt){se(Tt)})},function(rt){if(rt.code===rt.QUOTA_ERR){if(q>0){re(kt.apply(Q,[I,ue,O,q-1]));return}se(rt)}})})}).catch(se)});return h(W,O),W}function xn(I,H,O){return kt.apply(this,[I,H,O,1])}function $e(I,H){var O=this;I=g(I);var q=new d(function(Q,W){O.ready().then(function(){var re=O._dbInfo;re.db.transaction(function(se){Sn(se,re,"DELETE FROM "+re.storeName+" WHERE key = ?",[I],function(){Q()},function(ue,de){W(de)})})}).catch(W)});return h(q,H),q}function tt(I){var H=this,O=new d(function(q,Q){H.ready().then(function(){var W=H._dbInfo;W.db.transaction(function(re){Sn(re,W,"DELETE FROM "+W.storeName,[],function(){q()},function(se,ue){Q(ue)})})}).catch(Q)});return h(O,I),O}function qn(I){var H=this,O=new d(function(q,Q){H.ready().then(function(){var W=H._dbInfo;W.db.transaction(function(re){Sn(re,W,"SELECT COUNT(key) as c FROM "+W.storeName,[],function(se,ue){var de=ue.rows.item(0).c;q(de)},function(se,ue){Q(ue)})})}).catch(Q)});return h(O,I),O}function ui(I,H){var O=this,q=new d(function(Q,W){O.ready().then(function(){var re=O._dbInfo;re.db.transaction(function(se){Sn(se,re,"SELECT key FROM "+re.storeName+" WHERE id = ? LIMIT 1",[I+1],function(ue,de){var he=de.rows.length?de.rows.item(0).key:null;Q(he)},function(ue,de){W(de)})})}).catch(W)});return h(q,H),q}function Ae(I){var H=this,O=new d(function(q,Q){H.ready().then(function(){var W=H._dbInfo;W.db.transaction(function(re){Sn(re,W,"SELECT key FROM "+W.storeName,[],function(se,ue){for(var de=[],he=0;he<ue.rows.length;he++)de.push(ue.rows.item(he).key);q(de)},function(se,ue){Q(ue)})})}).catch(Q)});return h(O,I),O}function ze(I){return new d(function(H,O){I.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Q,W){for(var re=[],se=0;se<W.rows.length;se++)re.push(W.rows.item(se).name);H({db:I,storeNames:re})},function(Q,W){O(W)})},function(q){O(q)})})}function qe(I,H){H=m.apply(this,arguments);var O=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||O.name,I.storeName=I.storeName||O.storeName);var q=this,Q;return I.name?Q=new d(function(W){var re;I.name===O.name?re=q._dbInfo.db:re=openDatabase(I.name,"","",0),I.storeName?W({db:re,storeNames:[I.storeName]}):W(ze(re))}).then(function(W){return new d(function(re,se){W.db.transaction(function(ue){function de(xt){return new d(function(Tt,Ln){ue.executeSql("DROP TABLE IF EXISTS "+xt,[],function(){Tt()},function(wn,Oi){Ln(Oi)})})}for(var he=[],Ie=0,rt=W.storeNames.length;Ie<rt;Ie++)he.push(de(W.storeNames[Ie]));d.all(he).then(function(){re()}).catch(function(xt){se(xt)})},function(ue){se(ue)})})}):Q=d.reject("Invalid arguments"),h(Q,H),Q}var Vn={_driver:"webSQLStorage",_initStorage:yr,_support:ye(),iterate:ci,getItem:Ri,setItem:xn,removeItem:$e,clear:tt,length:qn,key:ui,keys:Ae,dropInstance:qe};function Kn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function di(I,H){var O=I.name+"/";return I.storeName!==H.storeName&&(O+=I.storeName+"/"),O}function ji(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function ir(){return!ji()||localStorage.length>0}function Gr(I){var H=this,O={};if(I)for(var q in I)O[q]=I[q];return O.keyPrefix=di(I,H._defaultConfig),ir()?(H._dbInfo=O,O.serializer=At,d.resolve()):d.reject()}function Dt(I){var H=this,O=H.ready().then(function(){for(var q=H._dbInfo.keyPrefix,Q=localStorage.length-1;Q>=0;Q--){var W=localStorage.key(Q);W.indexOf(q)===0&&localStorage.removeItem(W)}});return h(O,I),O}function Ka(I,H){var O=this;I=g(I);var q=O.ready().then(function(){var Q=O._dbInfo,W=localStorage.getItem(Q.keyPrefix+I);return W&&(W=Q.serializer.deserialize(W)),W});return h(q,H),q}function dv(I,H){var O=this,q=O.ready().then(function(){for(var Q=O._dbInfo,W=Q.keyPrefix,re=W.length,se=localStorage.length,ue=1,de=0;de<se;de++){var he=localStorage.key(de);if(he.indexOf(W)===0){var Ie=localStorage.getItem(he);if(Ie&&(Ie=Q.serializer.deserialize(Ie)),Ie=I(Ie,he.substring(re),ue++),Ie!==void 0)return Ie}}});return h(q,H),q}function Jh(I,H){var O=this,q=O.ready().then(function(){var Q=O._dbInfo,W;try{W=localStorage.key(I)}catch{W=null}return W&&(W=W.substring(Q.keyPrefix.length)),W});return h(q,H),q}function Xh(I){var H=this,O=H.ready().then(function(){for(var q=H._dbInfo,Q=localStorage.length,W=[],re=0;re<Q;re++){var se=localStorage.key(re);se.indexOf(q.keyPrefix)===0&&W.push(se.substring(q.keyPrefix.length))}return W});return h(O,I),O}function Zh(I){var H=this,O=H.keys().then(function(q){return q.length});return h(O,I),O}function ep(I,H){var O=this;I=g(I);var q=O.ready().then(function(){var Q=O._dbInfo;localStorage.removeItem(Q.keyPrefix+I)});return h(q,H),q}function Ot(I,H,O){var q=this;I=g(I);var Q=q.ready().then(function(){H===void 0&&(H=null);var W=H;return new d(function(re,se){var ue=q._dbInfo;ue.serializer.serialize(H,function(de,he){if(he)se(he);else try{localStorage.setItem(ue.keyPrefix+I,de),re(W)}catch(Ie){(Ie.name==="QuotaExceededError"||Ie.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(Ie),se(Ie)}})})});return h(Q,O),Q}function hs(I,H){if(H=m.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var O=this.config();I.name=I.name||O.name,I.storeName=I.storeName||O.storeName}var q=this,Q;return I.name?Q=new d(function(W){I.storeName?W(di(I,q._defaultConfig)):W(I.name+"/")}).then(function(W){for(var re=localStorage.length-1;re>=0;re--){var se=localStorage.key(re);se.indexOf(W)===0&&localStorage.removeItem(se)}}):Q=d.reject("Invalid arguments"),h(Q,H),Q}var dd={_driver:"localStorageWrapper",_initStorage:Gr,_support:Kn(),iterate:dv,getItem:Ka,setItem:Ot,removeItem:ep,clear:Dt,length:Zh,key:Jh,keys:Xh,dropInstance:hs},Ya=function(H,O){return H===O||typeof H=="number"&&typeof O=="number"&&isNaN(H)&&isNaN(O)},fv=function(H,O){for(var q=H.length,Q=0;Q<q;){if(Ya(H[Q],O))return!0;Q++}return!1},hc=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},fd={},LE={},pc={INDEXEDDB:Be,WEBSQL:Vn,LOCALSTORAGE:dd},zB=[pc.INDEXEDDB._driver,pc.WEBSQL._driver,pc.LOCALSTORAGE._driver],tp=["dropInstance"],hv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tp),UB={description:"",driver:zB.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function HB(I,H){I[H]=function(){var O=arguments;return I.ready().then(function(){return I[H].apply(I,O)})}}function pv(){for(var I=1;I<arguments.length;I++){var H=arguments[I];if(H)for(var O in H)H.hasOwnProperty(O)&&(hc(H[O])?arguments[0][O]=H[O].slice():arguments[0][O]=H[O])}return arguments[0]}var GB=function(){function I(H){o(this,I);for(var O in pc)if(pc.hasOwnProperty(O)){var q=pc[O],Q=q._driver;this[O]=Q,fd[Q]||this.defineDriver(q)}this._defaultConfig=pv({},UB),this._config=pv({},this._defaultConfig,H),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function(O){if((typeof O>"u"?"undefined":s(O))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in O){if(q==="storeName"&&(O[q]=O[q].replace(/\W/g,"_")),q==="version"&&typeof O[q]!="number")return new Error("Database version must be a number.");this._config[q]=O[q]}return"driver"in O&&O.driver?this.setDriver(this._config.driver):!0}else return typeof O=="string"?this._config[O]:this._config},I.prototype.defineDriver=function(O,q,Q){var W=new d(function(re,se){try{var ue=O._driver,de=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!O._driver){se(de);return}for(var he=hv.concat("_initStorage"),Ie=0,rt=he.length;Ie<rt;Ie++){var xt=he[Ie],Tt=!fv(tp,xt);if((Tt||O[xt])&&typeof O[xt]!="function"){se(de);return}}var Ln=function(){for(var hd=function(KB){return function(){var YB=new Error("Method "+KB+" is not implemented by the current driver"),NE=d.reject(YB);return h(NE,arguments[arguments.length-1]),NE}},gv=0,qB=tp.length;gv<qB;gv++){var mv=tp[gv];O[mv]||(O[mv]=hd(mv))}};Ln();var wn=function(hd){fd[ue]&&console.info("Redefining LocalForage driver: "+ue),fd[ue]=O,LE[ue]=hd,re()};"_support"in O?O._support&&typeof O._support=="function"?O._support().then(wn,se):wn(!!O._support):wn(!0)}catch(Oi){se(Oi)}});return p(W,q,Q),W},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function(O,q,Q){var W=fd[O]?d.resolve(fd[O]):d.reject(new Error("Driver not found."));return p(W,q,Q),W},I.prototype.getSerializer=function(O){var q=d.resolve(At);return p(q,O),q},I.prototype.ready=function(O){var q=this,Q=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return p(Q,O,O),Q},I.prototype.setDriver=function(O,q,Q){var W=this;hc(O)||(O=[O]);var re=this._getSupportedDrivers(O);function se(){W._config.driver=W.driver()}function ue(Ie){return W._extend(Ie),se(),W._ready=W._initStorage(W._config),W._ready}function de(Ie){return function(){var rt=0;function xt(){for(;rt<Ie.length;){var Tt=Ie[rt];return rt++,W._dbInfo=null,W._ready=null,W.getDriver(Tt).then(ue).catch(xt)}se();var Ln=new Error("No available storage method found.");return W._driverSet=d.reject(Ln),W._driverSet}return xt()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=he.then(function(){var Ie=re[0];return W._dbInfo=null,W._ready=null,W.getDriver(Ie).then(function(rt){W._driver=rt._driver,se(),W._wrapLibraryMethodsWithReady(),W._initDriver=de(re)})}).catch(function(){se();var Ie=new Error("No available storage method found.");return W._driverSet=d.reject(Ie),W._driverSet}),p(this._driverSet,q,Q),this._driverSet},I.prototype.supports=function(O){return!!LE[O]},I.prototype._extend=function(O){pv(this,O)},I.prototype._getSupportedDrivers=function(O){for(var q=[],Q=0,W=O.length;Q<W;Q++){var re=O[Q];this.supports(re)&&q.push(re)}return q},I.prototype._wrapLibraryMethodsWithReady=function(){for(var O=0,q=hv.length;O<q;O++)HB(this,hv[O])},I.prototype.createInstance=function(O){return new I(O)},I}(),WB=new GB;r.exports=WB},{3:3}]},{},[4])(4)})})($j);var Oq=$j.exports;const gf=gr(Oq),Fj=Object.freeze(Object.defineProperty({__proto__:null,default:gf},Symbol.toStringTag,{value:"Module"}));let Sd=null;async function Im(){if(!Sd)if("localStorage"in globalThis)try{Sd=td(async()=>{const{default:e}=await Promise.resolve().then(()=>Fj);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Sd=Promise.resolve(Ne.memory)}else Sd=Promise.resolve(Ne.memory);return Sd}const ku=e=>Ei.generateSongFile(e),zj=async e=>{var n;const t=ku(e);return await((n=await Im())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},Uj=async(e,t)=>{var n;await((n=await Im())==null?void 0:n.setItem(ku(e),t))},Vq=async()=>{var n;const e=await((n=await Im())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await Im())==null?void 0:i.getItem(r))})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await(gf==null?void 0:gf.getItem(ku(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await Uj(e,i),te.songStatStored.dispatch(ku(e),i)});const Tu="session-player-names",Lq="previous-player-names";function Nq(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse(Ne.session.getItem(Tu))||[];const r=t.players.map(({number:s})=>Ve.getPlayer(s)).filter(Nq).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Ne.session.setItem(Tu,JSON.stringify(n)),Ne.session.setItem(Lq,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Ne.session.getItem(Tu))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Ne.session.setItem(Tu,JSON.stringify(r))});function Bq(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return Bq(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var Dq="Expected a function";function iu(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Dq);return Vs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),uj(e,t,{leading:r,maxWait:t,trailing:i})}class $q extends Ds{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async t=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await ba.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const n=this.context.createMediaStreamSource(this.stream),r=this.context.createAnalyser();r.fftSize=2048,r.minDecibels=-100,n.connect(r);const i=new aj;await i.init(this.context,r.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(r.fftSize);r.getFloatTimeDomainData(s);const o=await i.getFrequency(s),a=this.calculateVolume(s);this.frequencies=[o,o],this.volumes=[a,a],this.onUpdate(o,a)},this.context.sampleRate/r.fftSize),te.micMonitoringStarted.dispatch()}catch(n){Os(n),console.error(n)}}catch(n){Os(n,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(n)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const bs=new $q;class Fq extends Ds{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${mj}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Xi({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=Gu(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Xi({t:"forward",recipients:[this.roomId],payload:t}))}}class zq extends Ds{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new uy(t,{...yj,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class Uq extends Ds{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(wj),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Xi({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=Gu(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Xi({t:"forward",recipients:[this.roomId],payload:t}))}}const $k=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Pp;const Hq=new Uint8Array(16);function Gq(){if(!Pp&&(Pp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pp(Hq)}const sr=[];for(let e=0;e<256;++e)sr.push((e+256).toString(16).slice(1));function Wq(e,t=0){return sr[e[t+0]]+sr[e[t+1]]+sr[e[t+2]]+sr[e[t+3]]+"-"+sr[e[t+4]]+sr[e[t+5]]+"-"+sr[e[t+6]]+sr[e[t+7]]+"-"+sr[e[t+8]]+sr[e[t+9]]+"-"+sr[e[t+10]]+sr[e[t+11]]+sr[e[t+12]]+sr[e[t+13]]+sr[e[t+14]]+sr[e[t+15]]}const qq=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fk={randomUUID:qq};function Pm(e,t,n){if(Fk.randomUUID&&!t&&!e)return Fk.randomUUID();e=e||{};const r=e.random||(e.rng||Gq)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Wq(r)}const _b="MIC_CLIENT_ID";class Kq{constructor(){this.clientId=Ne.getItem(_b),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=iu(t=>{const n=this.frequencies.map(r=>$k(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,$k(t,4)])},50),this.onFrequencyUpdate=iu((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Ne.setItem(_b,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new Uq:i.startsWith("k")?new Fq:new zq),this.clientId===null&&this.setClientId(Pm()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId(Pm()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",s),Mn.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),bs.removeListener(this.onFrequencyUpdate),bs.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Dr(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Dr(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=iu(t=>Mn.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=Dr()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),Mn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:U5.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(bs.removeListener(this.onFrequencyUpdate),bs.addListener(this.onFrequencyUpdate),bs.startMonitoring(void 0)):o==="stop-monitor"?(bs.removeListener(this.onFrequencyUpdate),bs.stopMonitoring()):o==="set-player-number"?te.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Ne.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?te.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?te.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?te.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&te.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const dn=new Kq,Yq="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",Qq="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",Jq="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",Xq="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",Zq="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",eK="/assets/boo-and-laugh-7060-BidOOj5I.mp3",tK="/assets/croworraven1-6749-Ce48aK2E.mp3",nK="/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",rK="/assets/halloween-impact-05-93808-BCpJmIL8.mp3",iK="/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",sK="/assets/menu_back-CXKu2j7w.mp3",oK="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",aK="/assets/menu_navigate-C6GUIZQM.mp3";class _i{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class py{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=N0.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const gy=new _i({src:aK}),bx=new _i({src:oK}),_x=new _i({src:sK}),Sx=new py(new _i({src:Xq,preload:!0,volume:.5}),{halloween:new _i({src:tK,preload:!0,volume:.7})}),Ig=new py(new _i({src:Zq,volume:.3,loop:!0}),{christmas:new _i({src:Yq,volume:.25,loop:!0}),halloween:new _i({src:nK,volume:.3,loop:!0})}),Hj=new py(new _i({src:Qq,preload:!0}),{halloween:new _i({src:eK,preload:!0,volume:.4})}),Pg=new py(new _i({src:Jq,volume:.8}),{halloween:new _i({src:iK,volume:.2})}),lK=new _i({src:rK,preload:!0,volume:.5}),cK=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:Ig,menuBack:_x,menuEnter:bx,menuNavigate:gy,selectHalloweenSong:lK,waitFinished:Hj,waitForReadinessMusic:Pg,woosh:Sx},Symbol.toStringTag,{value:"Module"})),uK={RemoteMicClient:dn,RemoteMicServer:kl,GameState:Fe,GameEvents:te,RemoteMicManager:nt,SongDao:Ei,InputManager:_n,InputSourceManager:oo,CameraManager:Cs,UserMediaService:ba,PlayersManager:Ve,SoundManager:cK,importSongs:async()=>{await(await td(()=>import("./importSongsFromPostHog-CRZin9oI.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=uK};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");var dK=!1;function fK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function hK(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var pK=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!dK:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=fK(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),_r="-ms-",Mm="-moz-",bt="-webkit-",Gj="comm",xx="rule",wx="decl",gK="@import",Wj="@keyframes",mK="@layer",yK=Math.abs,my=String.fromCharCode,vK=Object.assign;function AK(e,t){return ur(e,0)^45?(((t<<2^ur(e,0))<<2^ur(e,1))<<2^ur(e,2))<<2^ur(e,3):0}function qj(e){return e.trim()}function bK(e,t){return(e=t.exec(e))?e[0]:e}function _t(e,t,n){return e.replace(t,n)}function Sb(e,t){return e.indexOf(t)}function ur(e,t){return e.charCodeAt(t)|0}function zf(e,t,n){return e.slice(t,n)}function qs(e){return e.length}function Ex(e){return e.length}function Mp(e,t){return t.push(e),e}function _K(e,t){return e.map(t).join("")}var yy=1,Iu=1,Kj=0,ai=0,Dn=0,rd="";function vy(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:yy,column:Iu,length:o,return:""}}function xd(e,t){return vK(vy("",null,null,"",null,null,0),e,{length:-e.length},t)}function SK(){return Dn}function xK(){return Dn=ai>0?ur(rd,--ai):0,Iu--,Dn===10&&(Iu=1,yy--),Dn}function Si(){return Dn=ai<Kj?ur(rd,ai++):0,Iu++,Dn===10&&(Iu=1,yy++),Dn}function no(){return ur(rd,ai)}function Mg(){return ai}function Rh(e,t){return zf(rd,e,t)}function Uf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yj(e){return yy=Iu=1,Kj=qs(rd=e),ai=0,[]}function Qj(e){return rd="",e}function Rg(e){return qj(Rh(ai-1,xb(e===91?e+2:e===40?e+1:e)))}function wK(e){for(;(Dn=no())&&Dn<33;)Si();return Uf(e)>2||Uf(Dn)>3?"":" "}function EK(e,t){for(;--t&&Si()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return Rh(e,Mg()+(t<6&&no()==32&&Si()==32))}function xb(e){for(;Si();)switch(Dn){case e:return ai;case 34:case 39:e!==34&&e!==39&&xb(Dn);break;case 40:e===41&&xb(e);break;case 92:Si();break}return ai}function CK(e,t){for(;Si()&&e+Dn!==57;)if(e+Dn===84&&no()===47)break;return"/*"+Rh(t,ai-1)+"*"+my(e===47?e:Si())}function kK(e){for(;!Uf(no());)Si();return Rh(e,ai)}function TK(e){return Qj(jg("",null,null,null,[""],e=Yj(e),0,[0],e))}function jg(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,b=1,y=1,A=0,_="",x=i,S=s,E=r,C=_;b;)switch(g=A,A=Si()){case 40:if(g!=108&&ur(C,d-1)==58){Sb(C+=_t(Rg(A),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:C+=Rg(A);break;case 9:case 10:case 13:case 32:C+=wK(g);break;case 92:C+=EK(Mg()-1,7);continue;case 47:switch(no()){case 42:case 47:Mp(IK(CK(Si(),Mg()),t,n),l);break;default:C+="/"}break;case 123*m:a[c++]=qs(C)*y;case 125*m:case 59:case 0:switch(A){case 0:case 125:b=0;case 59+u:y==-1&&(C=_t(C,/\f/g,"")),p>0&&qs(C)-d&&Mp(p>32?Uk(C+";",r,n,d-1):Uk(_t(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(Mp(E=zk(C,t,n,c,u,i,a,_,x=[],S=[],d),s),A===123)if(u===0)jg(C,t,E,E,x,s,d,a,S);else switch(h===99&&ur(C,3)===110?100:h){case 100:case 108:case 109:case 115:jg(e,E,E,r&&Mp(zk(e,E,E,0,0,i,a,_,i,x=[],d),S),i,S,d,a,r?x:S);break;default:jg(C,E,E,E,[""],S,0,a,S)}}c=u=p=0,m=y=1,_=C="",d=o;break;case 58:d=1+qs(C),p=g;default:if(m<1){if(A==123)--m;else if(A==125&&m++==0&&xK()==125)continue}switch(C+=my(A),A*m){case 38:y=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(qs(C)-1)*y,y=1;break;case 64:no()===45&&(C+=Rg(Si())),h=no(),u=d=qs(_=C+=kK(Mg())),A++;break;case 45:g===45&&qs(C)==2&&(m=0)}}return s}function zk(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=Ex(h),g=0,m=0,b=0;g<r;++g)for(var y=0,A=zf(e,d+1,d=yK(m=o[g])),_=e;y<p;++y)(_=qj(m>0?h[y]+" "+A:_t(A,/&\f/g,h[y])))&&(l[b++]=_);return vy(e,t,n,i===0?xx:a,l,c,u)}function IK(e,t,n){return vy(e,t,n,Gj,my(SK()),zf(e,2,-2),0)}function Uk(e,t,n,r){return vy(e,t,n,wx,zf(e,0,r),zf(e,r+1,-1),r)}function su(e,t){for(var n="",r=Ex(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function PK(e,t,n,r){switch(e.type){case mK:if(e.children.length)break;case gK:case wx:return e.return=e.return||e.value;case Gj:return"";case Wj:return e.return=e.value+"{"+su(e.children,r)+"}";case xx:e.value=e.props.join(",")}return qs(n=su(e.children,r))?e.return=e.value+"{"+n+"}":""}function MK(e){var t=Ex(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function RK(e){return function(t){t.root||(t=t.return)&&e(t)}}function jK(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var OK=function(t,n,r){for(var i=0,s=0;i=s,s=no(),i===38&&s===12&&(n[r]=1),!Uf(s);)Si();return Rh(t,ai)},VK=function(t,n){var r=-1,i=44;do switch(Uf(i)){case 0:i===38&&no()===12&&(n[r]=1),t[r]+=OK(ai-1,n,r);break;case 2:t[r]+=Rg(i);break;case 4:if(i===44){t[++r]=no()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=my(i)}while(i=Si());return t},LK=function(t,n){return Qj(VK(Yj(t),n))},Hk=new WeakMap,NK=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Hk.get(r))&&!i){Hk.set(t,!0);for(var s=[],o=LK(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},BK=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Jj(e,t){switch(AK(e,t)){case 5103:return bt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+e+Mm+e+_r+e+e;case 6828:case 4268:return bt+e+_r+e+e;case 6165:return bt+e+_r+"flex-"+e+e;case 5187:return bt+e+_t(e,/(\w+).+(:[^]+)/,bt+"box-$1$2"+_r+"flex-$1$2")+e;case 5443:return bt+e+_r+"flex-item-"+_t(e,/flex-|-self/,"")+e;case 4675:return bt+e+_r+"flex-line-pack"+_t(e,/align-content|flex-|-self/,"")+e;case 5548:return bt+e+_r+_t(e,"shrink","negative")+e;case 5292:return bt+e+_r+_t(e,"basis","preferred-size")+e;case 6060:return bt+"box-"+_t(e,"-grow","")+bt+e+_r+_t(e,"grow","positive")+e;case 4554:return bt+_t(e,/([^-])(transform)/g,"$1"+bt+"$2")+e;case 6187:return _t(_t(_t(e,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),e,"")+e;case 5495:case 3959:return _t(e,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return _t(_t(e,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+_r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+e+e;case 4095:case 3583:case 4068:case 2532:return _t(e,/(.+)-inline(.+)/,bt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qs(e)-1-t>6)switch(ur(e,t+1)){case 109:if(ur(e,t+4)!==45)break;case 102:return _t(e,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Mm+(ur(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Sb(e,"stretch")?Jj(_t(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ur(e,t+1)!==115)break;case 6444:switch(ur(e,qs(e)-3-(~Sb(e,"!important")&&10))){case 107:return _t(e,":",":"+bt)+e;case 101:return _t(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bt+(ur(e,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+_r+"$2box$3")+e}break;case 5936:switch(ur(e,t+11)){case 114:return bt+e+_r+_t(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bt+e+_r+_t(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bt+e+_r+_t(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return bt+e+_r+e+e}return e}var DK=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case wx:t.return=Jj(t.value,t.length);break;case Wj:return su([xd(t,{value:_t(t.value,"@","@"+bt)})],i);case xx:if(t.length)return _K(t.props,function(s){switch(bK(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return su([xd(t,{props:[_t(s,/:(read-\w+)/,":"+Mm+"$1")]})],i);case"::placeholder":return su([xd(t,{props:[_t(s,/:(plac\w+)/,":"+bt+"input-$1")]}),xd(t,{props:[_t(s,/:(plac\w+)/,":"+Mm+"$1")]}),xd(t,{props:[_t(s,/:(plac\w+)/,_r+"input-$1")]})],i)}return""})}},$K=[DK],Xj=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var b=m.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||$K,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var b=m.getAttribute("data-emotion").split(" "),y=1;y<b.length;y++)s[b[y]]=!0;a.push(m)});var l,c=[NK,BK];{var u,d=[PK,RK(function(m){u.insert(m)})],h=MK(c.concat(i,d)),p=function(b){return su(TK(b),h)};l=function(b,y,A,_){u=A,p(b?b+"{"+y.styles+"}":y.styles),_&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new pK({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rm.apply(null,arguments)}var FK=!0;function zK(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var Zj=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||FK===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},eO=function(t,n,r){Zj(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function UK(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var HK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},GK=!1,WK=/[A-Z]|^ms/g,qK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tO=function(t){return t.charCodeAt(1)===45},Gk=function(t){return t!=null&&typeof t!="boolean"},Uv=jK(function(e){return tO(e)?e:e.replace(WK,"-$&").toLowerCase()}),Wk=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(qK,function(r,i,s){return Ks={name:i,styles:s,next:Ks},i})}return HK[t]!==1&&!tO(t)&&typeof n=="number"&&n!==0?n+"px":n},KK="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Hf(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ks={name:i.name,styles:i.styles,next:Ks},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Ks={name:o.name,styles:o.styles,next:Ks},o=o.next;var a=s.styles+";";return a}return YK(e,t,n)}case"function":{if(e!==void 0){var l=Ks,c=n(e);return Ks=l,Hf(e,t,c)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function YK(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Hf(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;t!=null&&t[a]!==void 0?r+=s+"{"+t[a]+"}":Gk(a)&&(r+=Uv(s)+":"+Wk(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&GK)throw new Error(KK);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)Gk(o[l])&&(r+=Uv(s)+":"+Wk(s,o[l])+";");else{var c=Hf(e,t,o);switch(s){case"animation":case"animationName":{r+=Uv(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var qk=/label:\s*([^\s;{]+)\s*(;|$)/g,Ks;function Ay(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Ks=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=Hf(n,t,s);else{var o=s;i+=o[0]}for(var a=1;a<e.length;a++)if(i+=Hf(n,t,e[a]),r){var l=s;i+=l[a]}qk.lastIndex=0;for(var c="",u;(u=qk.exec(i))!==null;)c+="-"+u[1];var d=UK(i)+c;return{name:d,styles:i,next:Ks}}var QK=function(t){return t()},nO=Xg.useInsertionEffect?Xg.useInsertionEffect:!1,JK=nO||QK,Kk=nO||v.useLayoutEffect,rO=v.createContext(typeof HTMLElement<"u"?Xj({key:"css"}):null),XK=rO.Provider,iO=function(t){return v.forwardRef(function(n,r){var i=v.useContext(rO);return t(n,i,r)})},by=v.createContext({}),ZK=iO(function(e,t){var n=e.styles,r=Ay([n],void 0,v.useContext(by)),i=v.useRef();return Kk(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),Kk(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&eO(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function us(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ay(t)}var oc=function(){var t=us.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Cx(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function eY(){this.__data__=new Uo,this.size=0}function tY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function nY(e){return this.__data__.get(e)}function rY(e){return this.__data__.has(e)}var iY=200;function sY(e,t){var n=this.__data__;if(n instanceof Uo){var r=n.__data__;if(!Df||r.length<iY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ho(r)}return n.set(e,t),this.size=n.size,this}function ro(e){var t=this.__data__=new Uo(e);this.size=t.size}ro.prototype.clear=eY;ro.prototype.delete=tY;ro.prototype.get=nY;ro.prototype.has=rY;ro.prototype.set=sY;function oY(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var jm=function(){try{var e=sc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function sO(e,t,n){t=="__proto__"&&jm?jm(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var aY=Object.prototype,lY=aY.hasOwnProperty;function oO(e,t,n){var r=e[t];(!(lY.call(e,t)&&iy(r,n))||n===void 0&&!(t in e))&&sO(e,t,n)}function jh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=void 0;l===void 0&&(l=e[a]),i?sO(n,a,l):oO(n,a,l)}return n}function cY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var uY="[object Arguments]";function Yk(e){return Lo(e)&&rc(e)==uY}var aO=Object.prototype,dY=aO.hasOwnProperty,fY=aO.propertyIsEnumerable,kx=Yk(function(){return arguments}())?Yk:function(e){return Lo(e)&&dY.call(e,"callee")&&!fY.call(e,"callee")},is=Array.isArray;function hY(){return!1}var lO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qk=lO&&typeof module=="object"&&module&&!module.nodeType&&module,pY=Qk&&Qk.exports===lO,Jk=pY?$s.Buffer:void 0,gY=Jk?Jk.isBuffer:void 0,Om=gY||hY,mY="[object Arguments]",yY="[object Array]",vY="[object Boolean]",AY="[object Date]",bY="[object Error]",_Y="[object Function]",SY="[object Map]",xY="[object Number]",wY="[object Object]",EY="[object RegExp]",CY="[object Set]",kY="[object String]",TY="[object WeakMap]",IY="[object ArrayBuffer]",PY="[object DataView]",MY="[object Float32Array]",RY="[object Float64Array]",jY="[object Int8Array]",OY="[object Int16Array]",VY="[object Int32Array]",LY="[object Uint8Array]",NY="[object Uint8ClampedArray]",BY="[object Uint16Array]",DY="[object Uint32Array]",qt={};qt[MY]=qt[RY]=qt[jY]=qt[OY]=qt[VY]=qt[LY]=qt[NY]=qt[BY]=qt[DY]=!0;qt[mY]=qt[yY]=qt[IY]=qt[vY]=qt[PY]=qt[AY]=qt[bY]=qt[_Y]=qt[SY]=qt[xY]=qt[wY]=qt[EY]=qt[CY]=qt[kY]=qt[TY]=!1;function $Y(e){return Lo(e)&&mx(e.length)&&!!qt[rc(e)]}function Tx(e){return function(t){return e(t)}}var cO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mf=cO&&typeof module=="object"&&module&&!module.nodeType&&module,FY=mf&&mf.exports===cO,Hv=FY&&lj.process,Pu=function(){try{var e=mf&&mf.require&&mf.require("util").types;return e||Hv&&Hv.binding&&Hv.binding("util")}catch{}}(),Xk=Pu&&Pu.isTypedArray,uO=Xk?Tx(Xk):$Y,zY=Object.prototype,UY=zY.hasOwnProperty;function dO(e,t){var n=is(e),r=!n&&kx(e),i=!n&&!r&&Om(e),s=!n&&!r&&!i&&uO(e),o=n||r||i||s,a=o?cY(e.length,String):[],l=a.length;for(var c in e)(t||UY.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||vx(c,l)))&&a.push(c);return a}var HY=Object.prototype;function Ix(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||HY;return e===n}function fO(e,t){return function(n){return e(t(n))}}var GY=fO(Object.keys,Object),WY=Object.prototype,qY=WY.hasOwnProperty;function KY(e){if(!Ix(e))return GY(e);var t=[];for(var n in Object(e))qY.call(e,n)&&n!="constructor"&&t.push(n);return t}function Oh(e){return yx(e)?dO(e):KY(e)}function YY(e,t){return e&&jh(t,Oh(t),e)}function QY(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var JY=Object.prototype,XY=JY.hasOwnProperty;function ZY(e){if(!Vs(e))return QY(e);var t=Ix(e),n=[];for(var r in e)r=="constructor"&&(t||!XY.call(e,r))||n.push(r);return n}function Px(e){return yx(e)?dO(e,!0):ZY(e)}function eQ(e,t){return e&&jh(t,Px(t),e)}var hO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zk=hO&&typeof module=="object"&&module&&!module.nodeType&&module,tQ=Zk&&Zk.exports===hO,eT=tQ?$s.Buffer:void 0,tT=eT?eT.allocUnsafe:void 0;function nQ(e,t){if(t)return e.slice();var n=e.length,r=tT?tT(n):new e.constructor(n);return e.copy(r),r}function pO(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function rQ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function gO(){return[]}var iQ=Object.prototype,sQ=iQ.propertyIsEnumerable,nT=Object.getOwnPropertySymbols,Mx=nT?function(e){return e==null?[]:(e=Object(e),rQ(nT(e),function(t){return sQ.call(e,t)}))}:gO;function oQ(e,t){return jh(e,Mx(e),t)}function Rx(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var jx=fO(Object.getPrototypeOf,Object),aQ=Object.getOwnPropertySymbols,mO=aQ?function(e){for(var t=[];e;)Rx(t,Mx(e)),e=jx(e);return t}:gO;function lQ(e,t){return jh(e,mO(e),t)}function yO(e,t,n){var r=t(e);return is(e)?r:Rx(r,n(e))}function wb(e){return yO(e,Oh,Mx)}function vO(e){return yO(e,Px,mO)}var Eb=sc($s,"DataView"),Cb=sc($s,"Promise"),ou=sc($s,"Set"),kb=sc($s,"WeakMap"),rT="[object Map]",cQ="[object Object]",iT="[object Promise]",sT="[object Set]",oT="[object WeakMap]",aT="[object DataView]",uQ=ic(Eb),dQ=ic(Df),fQ=ic(Cb),hQ=ic(ou),pQ=ic(kb),Ss=rc;(Eb&&Ss(new Eb(new ArrayBuffer(1)))!=aT||Df&&Ss(new Df)!=rT||Cb&&Ss(Cb.resolve())!=iT||ou&&Ss(new ou)!=sT||kb&&Ss(new kb)!=oT)&&(Ss=function(e){var t=rc(e),n=t==cQ?e.constructor:void 0,r=n?ic(n):"";if(r)switch(r){case uQ:return aT;case dQ:return rT;case fQ:return iT;case hQ:return sT;case pQ:return oT}return t});var gQ=Object.prototype,mQ=gQ.hasOwnProperty;function yQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&mQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Vm=$s.Uint8Array;function Ox(e){var t=new e.constructor(e.byteLength);return new Vm(t).set(new Vm(e)),t}function vQ(e,t){var n=t?Ox(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var AQ=/\w*$/;function bQ(e){var t=new e.constructor(e.source,AQ.exec(e));return t.lastIndex=e.lastIndex,t}var lT=ns?ns.prototype:void 0,cT=lT?lT.valueOf:void 0;function _Q(e){return cT?Object(cT.call(e)):{}}function SQ(e,t){var n=t?Ox(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var xQ="[object Boolean]",wQ="[object Date]",EQ="[object Map]",CQ="[object Number]",kQ="[object RegExp]",TQ="[object Set]",IQ="[object String]",PQ="[object Symbol]",MQ="[object ArrayBuffer]",RQ="[object DataView]",jQ="[object Float32Array]",OQ="[object Float64Array]",VQ="[object Int8Array]",LQ="[object Int16Array]",NQ="[object Int32Array]",BQ="[object Uint8Array]",DQ="[object Uint8ClampedArray]",$Q="[object Uint16Array]",FQ="[object Uint32Array]";function zQ(e,t,n){var r=e.constructor;switch(t){case MQ:return Ox(e);case xQ:case wQ:return new r(+e);case RQ:return vQ(e,n);case jQ:case OQ:case VQ:case LQ:case NQ:case BQ:case DQ:case $Q:case FQ:return SQ(e,n);case EQ:return new r;case CQ:case IQ:return new r(e);case kQ:return bQ(e);case TQ:return new r;case PQ:return _Q(e)}}var uT=Object.create,UQ=function(){function e(){}return function(t){if(!Vs(t))return{};if(uT)return uT(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function HQ(e){return typeof e.constructor=="function"&&!Ix(e)?UQ(jx(e)):{}}var GQ="[object Map]";function WQ(e){return Lo(e)&&Ss(e)==GQ}var dT=Pu&&Pu.isMap,qQ=dT?Tx(dT):WQ,KQ="[object Set]";function YQ(e){return Lo(e)&&Ss(e)==KQ}var fT=Pu&&Pu.isSet,QQ=fT?Tx(fT):YQ,JQ=1,XQ=2,ZQ=4,AO="[object Arguments]",eJ="[object Array]",tJ="[object Boolean]",nJ="[object Date]",rJ="[object Error]",bO="[object Function]",iJ="[object GeneratorFunction]",sJ="[object Map]",oJ="[object Number]",_O="[object Object]",aJ="[object RegExp]",lJ="[object Set]",cJ="[object String]",uJ="[object Symbol]",dJ="[object WeakMap]",fJ="[object ArrayBuffer]",hJ="[object DataView]",pJ="[object Float32Array]",gJ="[object Float64Array]",mJ="[object Int8Array]",yJ="[object Int16Array]",vJ="[object Int32Array]",AJ="[object Uint8Array]",bJ="[object Uint8ClampedArray]",_J="[object Uint16Array]",SJ="[object Uint32Array]",zt={};zt[AO]=zt[eJ]=zt[fJ]=zt[hJ]=zt[tJ]=zt[nJ]=zt[pJ]=zt[gJ]=zt[mJ]=zt[yJ]=zt[vJ]=zt[sJ]=zt[oJ]=zt[_O]=zt[aJ]=zt[lJ]=zt[cJ]=zt[uJ]=zt[AJ]=zt[bJ]=zt[_J]=zt[SJ]=!0;zt[rJ]=zt[bO]=zt[dJ]=!1;function Og(e,t,n,r,i,s){var o,a=t&JQ,l=t&XQ,c=t&ZQ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!Vs(e))return e;var u=is(e);if(u){if(o=yQ(e),!a)return pO(e,o)}else{var d=Ss(e),h=d==bO||d==iJ;if(Om(e))return nQ(e,a);if(d==_O||d==AO||h&&!i){if(o=l||h?{}:HQ(e),!a)return l?lQ(e,eQ(o,e)):oQ(e,YY(o,e))}else{if(!zt[d])return i?e:{};o=zQ(e,d,a)}}s||(s=new ro);var p=s.get(e);if(p)return p;s.set(e,o),QQ(e)?e.forEach(function(b){o.add(Og(b,t,n,b,e,s))}):qQ(e)&&e.forEach(function(b,y){o.set(y,Og(b,t,n,y,e,s))});var g=c?l?vO:wb:l?Px:Oh,m=u?void 0:g(e);return oY(m||e,function(b,y){m&&(y=b,b=e[y]),oO(o,y,Og(b,t,n,y,e,s))}),o}var xJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wJ=/^\w*$/;function Vx(e,t){if(is(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ry(e)?!0:wJ.test(e)||!xJ.test(e)||t!=null&&e in Object(t)}var EJ=500;function CJ(e){var t=ay(e,function(r){return n.size===EJ&&n.clear(),r}),n=t.cache;return t}var kJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TJ=/\\(\\)?/g,IJ=CJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kJ,function(n,r,i,s){t.push(i?s.replace(TJ,"$1"):r||n)}),t}),PJ=1/0,hT=ns?ns.prototype:void 0,pT=hT?hT.toString:void 0;function SO(e){if(typeof e=="string")return e;if(is(e))return Cx(e,SO)+"";if(ry(e))return pT?pT.call(e):"";var t=e+"";return t=="0"&&1/e==-PJ?"-0":t}function Lx(e){return e==null?"":SO(e)}function _y(e,t){return is(e)?e:Vx(e,t)?[e]:IJ(Lx(e))}function MJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var RJ=1/0;function Vh(e){if(typeof e=="string"||ry(e))return e;var t=e+"";return t=="0"&&1/e==-RJ?"-0":t}function Nx(e,t){t=_y(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Vh(t[n++])];return n&&n==r?e:void 0}function Bx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function jJ(e,t){return t.length<2?e:Nx(e,Bx(t,0,-1))}function OJ(e,t){return t=_y(t,e),e=jJ(e,t),e==null||delete e[Vh(MJ(t))]}var VJ="[object Object]",LJ=Function.prototype,NJ=Object.prototype,xO=LJ.toString,BJ=NJ.hasOwnProperty,DJ=xO.call(Object);function $J(e){if(!Lo(e)||rc(e)!=VJ)return!1;var t=jx(e);if(t===null)return!0;var n=BJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&xO.call(n)==DJ}function FJ(e){return $J(e)?void 0:e}var gT=ns?ns.isConcatSpreadable:void 0;function zJ(e){return is(e)||kx(e)||!!(gT&&e&&e[gT])}function UJ(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=zJ),i||(i=[]);++s<o;){var a=e[s];n(a)?Rx(i,a):i[i.length]=a}return i}function HJ(e){var t=e==null?0:e.length;return t?UJ(e):[]}function GJ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var mT=Math.max;function WJ(e,t,n){return t=mT(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=mT(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),GJ(e,this,a)}}function qJ(e){return function(){return e}}function wO(e){return e}var KJ=jm?function(e,t){return jm(e,"toString",{configurable:!0,enumerable:!1,value:qJ(t),writable:!0})}:wO,YJ=800,QJ=16,JJ=Date.now;function XJ(e){var t=0,n=0;return function(){var r=JJ(),i=QJ-(r-n);if(n=r,i>0){if(++t>=YJ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ZJ=XJ(KJ);function eX(e){return ZJ(WJ(e,void 0,HJ),e+"")}var tX=1,nX=2,rX=4,iX=eX(function(e,t){var n={};if(e==null)return n;var r=!1;t=Cx(t,function(s){return s=_y(s,e),r||(r=s.length>1),s}),jh(e,vO(e),n),r&&(n=Og(n,tX|nX|rX,FJ));for(var i=t.length;i--;)OJ(n,t[i]);return n});function Ls(e,t=!1){const[n,r]=v.useState(null);return v.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Er(e,t,n=[]){const r=Array.isArray(e)?e:[e];v.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function Ci(e,t,n=[]){const r=v.useMemo(t,[]),[i,s]=v.useState(r),o=Array.isArray(e)?e:[e];return v.useEffect(()=>{s(t())},n),v.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}function sX(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var oX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aX=sX(function(e){return oX.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),lX=aX,cX=function(t){return t!=="theme"},yT=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?lX:cX},vT=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},uX=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return Zj(n,r,i),JK(function(){return eO(n,r,i)}),null},M=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=vT(t,n,r),l=a||yT(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=iO(function(m,b,y){var A=c&&m.as||i,_="",x=[],S=m;if(m.theme==null){S={};for(var E in m)S[E]=m[E];S.theme=v.useContext(by)}typeof m.className=="string"?_=zK(b.registered,x,m.className):m.className!=null&&(_=m.className+" ");var C=Ay(d.concat(x),b.registered,S);_+=b.key+"-"+C.name,o!==void 0&&(_+=" "+o);var k=c&&a===void 0?yT(A):l,V={};for(var w in m)c&&w==="as"||k(w)&&(V[w]=m[w]);return V.className=_,V.ref=y,v.createElement(v.Fragment,null,v.createElement(uX,{cache:b,serialized:C,isStringTag:typeof A=="string"}),v.createElement(A,V))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,b){return e(m,Rm({},n,b,{shouldForwardProp:vT(g,b,!0)})).apply(void 0,d)},g}};const Mu={animation:"focusAnimation 1000ms ease-in-out infinite both"},dX={boxShadow:`inset 0px 0px 0px 4px ${ge.colors.text.active}`},He={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:ge.colors.text.active}},Gf="@media (hover: none)",Sy="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";function fX(){var e=v.useRef(!0);return e.current?(e.current=!1,!0):e.current}var Lm=function(){return Lm=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Lm.apply(this,arguments)};function hX(){var e=v.useRef(!1),t=v.useCallback(function(){return e.current},[]);return v.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function pX(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=v.useRef(0),i=hX(),s=v.useState(n),o=s[0],a=s[1],l=v.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return Lm(Lm({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function AT(e,t){t===void 0&&(t=[]);var n=pX(e,t,{loading:!0}),r=n[0],i=n[1];return v.useEffect(function(){i()},[i]),r}function gX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function mX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var yX=typeof window<"u",vX=function(e){return(e+1)%1e6};function EO(){var e=v.useReducer(vX,0),t=e[1];return t}var AX=function(e){v.useEffect(e,[])},bX=yX?window:null,bT=function(e){return!!e.addEventListener},_T=function(e){return!!e.on},_X=function(e,t,n,r){n===void 0&&(n=bX),v.useEffect(function(){if(t&&n)return bT(n)?gX(n,e,t,r):_T(n)&&n.on(e,t,r),function(){bT(n)?mX(n,e,t,r):_T(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},CO=function(e,t){var n=v.useRef(function(){});v.useEffect(function(){n.current=e}),v.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},SX=function(e){var t=v.useRef(e);t.current=e,AX(function(){return function(){return t.current()}})};function xX(e){var t=v.useRef();return v.useEffect(function(){t.current=e}),t.current}var wX=function(e,t){return e===t};function EX(e,t){t===void 0&&(t=wX);var n=v.useRef(),r=v.useRef(e),i=fX();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function CX(){const[e,t]=v.useState(null),[n,r]=v.useState(kl.isStarted()),[i,s]=v.useState(kl.getLatency());CO(()=>{s(kl.getLatency())},1e3),Er(te.micServerStarted,()=>{r(!0)}),Er(te.micServerStopped,()=>{r(!1)});const o=Ci([te.remoteMicConnected,te.remoteMicDisconnected],()=>nt.getRemoteMics(),[n]);return v.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(kX,{children:[f.jsxs(ST,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(ST,{children:[f.jsx("strong",{children:"connected mics"}),": ",o.length]})})]}):null}const kX=M("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",He,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),ST=M("div",{target:"eeky7rp0"})("");var Gv=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Wv(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function kO(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function TO(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function TX(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var Dx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Gv?173:189,"=":Gv?61:187,";":Gv?59:186,"'":222,"[":219,"]":221,"\\":220},Ma={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Tb={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},cr={16:!1,18:!1,17:!1,91:!1},Nn={};for(var Rp=1;Rp<20;Rp++)Dx["f".concat(Rp)]=111+Rp;var en=[],xT=!1,IO="all",PO=[],xy=function(t){return Dx[t.toLowerCase()]||Ma[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function MO(e){IO=e||"all"}function Wf(){return IO||"all"}function IX(){return en.slice(0)}function PX(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function MX(e){return typeof e=="string"&&(e=xy(e)),en.indexOf(e)!==-1}function RX(e,t){var n,r;e||(e=Wf());for(var i in Nn)if(Object.prototype.hasOwnProperty.call(Nn,i))for(n=Nn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Wf()===e&&MO(t||"all")}function jX(e){var t=e.keyCode||e.which||e.charCode,n=en.indexOf(t);if(n>=0&&en.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&en.splice(0,en.length),(t===93||t===224)&&(t=91),t in cr){cr[t]=!1;for(var r in Ma)Ma[r]===t&&(vi[r]=!1)}}function OX(e){if(typeof e>"u")Object.keys(Nn).forEach(function(o){return delete Nn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&qv(o)});else if(typeof e=="object")e.key&&qv(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),qv({key:e,scope:i,method:s,splitKey:"+"})}}var qv=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=TO(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":xy(d);if(Nn[h]){r||(r=Wf());var p=u>1?kO(Ma,c):[];Nn[h]=Nn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&TX(g.mods,p))})}})};function wT(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in cr)Object.prototype.hasOwnProperty.call(cr,s)&&(!cr[s]&&t.mods.indexOf(+s)>-1||cr[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!cr[16]&&!cr[18]&&!cr[17]&&!cr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function ET(e,t){var n=Nn["*"],r=e.keyCode||e.which||e.charCode;if(vi.filter.call(this,e)){if((r===93||r===224)&&(r=91),en.indexOf(r)===-1&&r!==229&&en.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=Tb[g];e[g]&&en.indexOf(m)===-1?en.push(m):!e[g]&&en.indexOf(m)>-1?en.splice(en.indexOf(m),1):g==="metaKey"&&e[g]&&en.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(en=en.slice(en.indexOf(m))))}),r in cr){cr[r]=!0;for(var i in Ma)Ma[i]===r&&(vi[i]=!0);if(!n)return}for(var s in cr)Object.prototype.hasOwnProperty.call(cr,s)&&(cr[s]=e[Tb[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(en.indexOf(17)===-1&&en.push(17),en.indexOf(18)===-1&&en.push(18),cr[17]=!0,cr[18]=!0);var o=Wf();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&wT(e,n[a],o,t);if(r in Nn){for(var l=0;l<Nn[r].length;l++)if((e.type==="keydown"&&Nn[r][l].keydown||e.type==="keyup"&&Nn[r][l].keyup)&&Nn[r][l].key){for(var c=Nn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(xy(d[p]));h.sort().join("")===en.sort().join("")&&wT(e,c,o,t)}}}}function VX(e){return PO.indexOf(e)>-1}function vi(e,t,n){en=[];var r=TO(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=kO(Ma,e)),e=e[e.length-1],e=e==="*"?"*":xy(e),e in Nn||(Nn[e]=[]),Nn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!VX(o)&&window&&(PO.push(o),Wv(o,"keydown",function(h){ET(h,o)},d),xT||(xT=!0,Wv(window,"focus",function(){en=[]},d)),Wv(o,"keyup",function(h){ET(h,o),jX(h)},d))}function LX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Nn).forEach(function(n){var r=Nn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var Kv={setScope:MO,getScope:Wf,deleteScope:RX,getPressedKeyCodes:IX,isPressed:MX,filter:PX,trigger:LX,unbind:OX,keyMap:Dx,modifier:Ma,modifierMap:Tb};for(var Yv in Kv)Object.prototype.hasOwnProperty.call(Kv,Yv)&&(vi[Yv]=Kv[Yv]);if(typeof window<"u"){var NX=window.hotkeys;vi.noConflict=function(e){return e&&window.hotkeys===vi&&(window.hotkeys=NX),vi},window.hotkeys=vi}vi.filter=function(){return!0};var RO=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},BX=function(t){return RO(t,["INPUT","TEXTAREA","SELECT"])};function Vr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=v.useRef(null),b=v.useCallback(function(y,A){var _,x;return o&&!o(y)?!u:BX(y)&&!RO(y,s)||(_=y.target)!=null&&_.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(x=m.current)!=null&&x.contains(document.activeElement)?(t(y,A),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return v.useEffect(function(){if(!h){vi.unbind(e,b);return}return a&&l!==!0&&(n.keydown=!1),vi(e,n||{},b),function(){return vi.unbind(e,b)}},[b,e,h]),m}vi.isPressed;const Ib="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var rR,hg,iR;try{(iR=(hg=(rR=global==null?void 0:global.navigator)==null?void 0:rR.keyboard)==null?void 0:hg.lock)==null||iR.call(hg,["Escape"])}catch(e){console.warn(e)}var sR,oR;const DX=!!((oR=(sR=global==null?void 0:global.navigator)==null?void 0:sR.keyboard)!=null&&oR.lock),nl=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function ac(e,t=!0,n){Er(te.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Vr("up",nl(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Vr("down",nl(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Vr("left",nl(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Vr("right",nl(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Vr("Enter",nl(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Vr("Escape,Backspace",nl(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Vr("Shift+R",nl(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function $X({help:e}){const[t]=Qe(mr),[n,r]=Qe(z5);Vr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(KX,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(OO,{children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=qX[s];return f.jsxs(CT,{children:[f.jsx(TT,{children:o??l}),f.jsx(kT,{children:f.jsx(a,{})})]},s)}),f.jsxs(CT,{children:[f.jsx(TT,{children:"Show/hide this help"}),f.jsx(kT,{children:jO("h")()})]})]})})})}const $x=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(to,{disabled:!e,children:"↑"}),f.jsx("br",{}),f.jsx(to,{disabled:!t,children:"←"}),f.jsx(to,{disabled:!e,children:"↓"}),f.jsx(to,{disabled:!t,children:"→"})]}),FX=()=>f.jsx($x,{horizontal:!0}),zX=()=>f.jsx($x,{vertical:!0}),UX=()=>f.jsx($x,{vertical:!0,horizontal:!0}),HX=()=>f.jsx(to,{children:"Enter ⏎"}),GX=()=>DX?f.jsx(to,{children:"Escape"}):f.jsx(to,{children:"Backspace ⌫"}),jO=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(to,{children:"Shift"})," + ",f.jsx(to,{children:e.toUpperCase()})]}),WX=()=>f.jsx(f.Fragment,{children:f.jsx(to,{children:"start typing"})}),qX={"horizontal-vertical":{view:UX,defaultLabel:"Navigate"},horizontal:{view:FX,defaultLabel:"Navigate"},vertical:{view:zX,defaultLabel:"Navigate"},accept:{view:HX,defaultLabel:"Select"},back:{view:GX,defaultLabel:"Go back"},shiftR:{view:jO("r"),defaultLabel:"Pick random"},alphanumeric:{view:WX,defaultLabel:"Search"}},CT=M("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),kT=M("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),TT=M("span",{target:"efq3fs03"})("flex:3;",He,";font-size:2rem;text-align:right;"),OO=M("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",He,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),KX=M("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",OO,"{opacity:1;visibility:visible;}}svg{fill:white;}"),to=M("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),Fx=v.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),YX=({children:e})=>{const[t,n]=v.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>iX(d,[u])),[s,o]=Object.entries(t).at(-1)??[];Er(te.remoteMicConnected,({id:u})=>{var d;(d=nt.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),v.useEffect(()=>{nt.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(Fx.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx($X,{help:l}),f.jsx(CX,{})]})};var QX={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:JX,mp4:XX}=QX,Qv=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Jv=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class ZX{constructor(){if(this.enabled=!1,Jv()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else Qv()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",JX),this._addSourceToVideo(this.noSleepVideo,"mp4",XX),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return Jv()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):Qv()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){Jv()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):Qv()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var eZ=ZX;const tZ=gr(eZ),nZ="/assets/eurovisionbg-CvR5q-FP.svg",zx=v.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),Fa=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=v.useContext(zx);v.useEffect(()=>{n(e)},[e,n]),v.useEffect(()=>{r(t)},[t,r])};function rZ({children:e}){const[t,n]=v.useState(!0),[r,i]=v.useState("regular"),[s]=Qe(Wi);return f.jsxs(zx.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(fZ,{"data-theme":r,"data-graphic-level":s,bgtheme:r,children:r==="eurovision"&&f.jsx(Pb,{})}),e]})}const iZ={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},sZ=M("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",nZ,");background-size:100% 50%;height:100%;&[data-animate='true']{",iZ,";}"),Pb=()=>{var e;return f.jsx(sZ,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},oZ=us(`background-image:linear-gradient(
    -45deg,
    `,je.christmasGreen.text,`,
    `,je.christmasGreen.stroke,`,
    `,je.christmasRed.stroke,`,
    `,je.christmasRed.stroke,`
  );background-size:400% 400%;`,""),aZ={name:"zjik7",styles:"display:flex"},lZ={name:"j7x51j",styles:"background:black"},cZ=us(`background-image:linear-gradient(
    -45deg,
    `,je.red.stroke,`,
    `,je.blue.text,`,
    `,je.blue.stroke,`,
    `,je.red.stroke,`
  );background-size:400% 400%;`,""),uZ=M("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),dZ={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},fZ=M(uZ,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",aZ,";}&[data-theme='christmas']{",oZ,";}&[data-theme='regular']{",cZ,";}&[data-theme='halloween']{",lZ,";}background-position:100% 50%;&[data-graphic-level='high']{",dZ,";}");function hZ({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function wy(e){return v.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const pZ=M("div",{target:"e1py91zd0"})(":root{--player-blue-text:",je.blue.text,";--player-blue-stroke:",je.blue.stroke,";--player-blue-star-fill:",je.blue.star.fill,";--player-blue-star-stroke:",je.blue.star.stroke,";--player-blue-perfect-fill:",je.blue.perfect.fill,";--player-blue-perfect-stroke:",je.blue.perfect.stroke,";--player-blue-starPerfect-fill:",je.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",je.blue.starPerfect.stroke,";--player-blue-hit-fill:",je.blue.hit.fill,";--player-blue-hit-stroke:",je.blue.hit.stroke,";--player-blue-miss-fill:",je.blue.miss.fill,";--player-blue-miss-stroke:",je.blue.miss.stroke,";}h1{",He,";margin:0;text-align:center;font-size:4rem;color:",ge.colors.text.active,";}h2{",He,";margin:0;font-size:2.9rem;}h3{",He,";margin:0;font-size:2.7rem;strong{color:",ge.colors.text.active,";}}h4{",He,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",He,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",He,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",He,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",ge.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",He,";color:",ge.colors.text.active,";text-decoration:underline;}strong{color:",ge.colors.text.active,";}");function Xs(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function VO(e){if(!Xs(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=VO(e[n])}),t}function ti(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Xs(e)&&Xs(t)&&Object.keys(t).forEach(i=>{Xs(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Xs(e[i])?r[i]=ti(e[i],t[i],n):n.clone?r[i]=Xs(t[i])?VO(t[i]):t[i]:r[i]=t[i]}),r}var LO={exports:{}},gZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mZ=gZ,yZ=mZ;function NO(){}function BO(){}BO.resetWarningCache=NO;var vZ=function(){function e(r,i,s,o,a,l){if(l!==yZ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:BO,resetWarningCache:NO};return n.PropTypes=n,n};LO.exports=vZ();var AZ=LO.exports;const Xe=gr(AZ);function Ul(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function at(e){if(typeof e!="string")throw new Error(Ul(7));return e.charAt(0).toUpperCase()+e.slice(1)}function IT(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Hl(e){return e&&e.ownerDocument||document}function Nm(e){return Hl(e).defaultView||window}function Mb(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Rb=typeof window<"u"?v.useLayoutEffect:v.useEffect;let PT=0;function bZ(e){const[t,n]=v.useState(e),r=e||t;return v.useEffect(()=>{t==null&&(PT+=1,n(`mui-${PT}`))},[t]),r}const _Z={...Xg},MT=_Z.useId;function SZ(e){if(MT!==void 0){const t=MT();return e??t}return bZ(e)}function Nc(e){const t=v.useRef(e);return Rb(()=>{t.current=e}),v.useRef((...n)=>(0,t.current)(...n)).current}function Ra(...e){return v.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Mb(n,t)})},e)}const RT={};function DO(e,t){const n=v.useRef(RT);return n.current===RT&&(n.current=e(t)),n}const xZ=[];function wZ(e){v.useEffect(e,xZ)}class Ux{constructor(){ve(this,"currentId",null);ve(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ve(this,"disposeEffect",()=>this.clear)}static create(){return new Ux}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function EZ(){const e=DO(Ux.create).current;return wZ(e.disposeEffect),e}function jT(e){try{return e.matches(":focus-visible")}catch{}return!1}function CZ(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Bm(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],o=t[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Bm(s[l],o[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Ur(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}const OT=e=>e,kZ=()=>{let e=OT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=OT}}},TZ=kZ(),IZ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function kr(e,t,n="Mui"){const r=IZ[t];return r?`${n}-${r}`:`${TZ.generate(e)}-${t}`}function Tr(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=kr(e,i,n)}),r}function PZ(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function MZ(e){return typeof e=="string"}function RZ(e,t,n){return e===void 0||MZ(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function $O(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$O(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$O(e))&&(r&&(r+=" "),r+=t);return r}function FO(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function VT(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function jZ(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const p=St(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...n,...i,...r};return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const o=FO({...i,...r}),a=VT(r),l=VT(i),c=t(o),u=St(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function OZ(e,t,n){return typeof e=="function"?e(t,n):e}function Hx(e){var t;return parseInt(v.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function yf(e,t){return t?ti(e,t,{clone:!1}):e}function VZ(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function LZ(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function NZ(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function BZ(e){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>t(e.breakpoints.up(...a),o),s.down=(...a)=>t(e.breakpoints.down(...a),o),s.between=(...a)=>t(e.breakpoints.between(...a),o),s.only=(...a)=>t(e.breakpoints.only(...a),o),s.not=(...a)=>{const l=t(e.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Ey={xs:0,sm:600,md:900,lg:1200,xl:1536},LT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Ey[e]}px)`},DZ={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Ey[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Bo(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||LT;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||LT;return Object.keys(t).reduce((o,a)=>{if(LZ(s.keys,a)){const l=NZ(r.containerQueries?r:DZ,a);l&&(o[l]=n(t[a],a))}else if(Object.keys(s.values||Ey).includes(a)){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function zO(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function UO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function y1e(e,...t){const n=zO(e),r=[n,...t].reduce((i,s)=>ti(i,s),{});return UO(Object.keys(n),r)}function $Z(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function v1e({values:e,breakpoints:t,base:n}){const r=n||$Z(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function Cy(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Dm(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Cy(e,n)||r,t&&(i=t(i,r,e)),i}function On(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=Cy(l,r)||{};return Bo(o,a,d=>{let h=Dm(c,i,d);return d===h&&typeof d=="string"&&(h=Dm(c,i,`${t}${d==="default"?"":at(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function FZ(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const zZ={m:"margin",p:"padding"},UZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},HZ=FZ(e=>{if(e.length>2)if(NT[e])e=NT[e];else return[e];const[t,n]=e.split(""),r=zZ[t],i=UZ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Gx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Wx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Gx,...Wx];function Lh(e,t,n,r){const i=Cy(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function qx(e){return Lh(e,"spacing",8)}function Nh(e,t){return typeof t=="string"||t==null?t:e(t)}function GZ(e,t){return n=>e.reduce((r,i)=>(r[i]=Nh(t,n),r),{})}function WZ(e,t,n,r){if(!t.includes(n))return null;const i=HZ(n),s=GZ(i,r),o=e[n];return Bo(e,o,s)}function HO(e,t){const n=qx(e.theme);return Object.keys(e).map(r=>WZ(e,t,r,n)).reduce(yf,{})}function mn(e){return HO(e,Gx)}mn.propTypes={};mn.filterProps=Gx;function yn(e){return HO(e,Wx)}yn.propTypes={};yn.filterProps=Wx;function ky(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?yf(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function zi(e){return typeof e!="number"?e:`${e}px solid`}function ds(e,t){return On({prop:e,themeKey:"borders",transform:t})}const qZ=ds("border",zi),KZ=ds("borderTop",zi),YZ=ds("borderRight",zi),QZ=ds("borderBottom",zi),JZ=ds("borderLeft",zi),XZ=ds("borderColor"),ZZ=ds("borderTopColor"),eee=ds("borderRightColor"),tee=ds("borderBottomColor"),nee=ds("borderLeftColor"),ree=ds("outline",zi),iee=ds("outlineColor"),Ty=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Lh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Nh(t,r)});return Bo(e,e.borderRadius,n)}return null};Ty.propTypes={};Ty.filterProps=["borderRadius"];ky(qZ,KZ,YZ,QZ,JZ,XZ,ZZ,eee,tee,nee,Ty,ree,iee);const Iy=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Lh(e.theme,"spacing",8),n=r=>({gap:Nh(t,r)});return Bo(e,e.gap,n)}return null};Iy.propTypes={};Iy.filterProps=["gap"];const Py=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Lh(e.theme,"spacing",8),n=r=>({columnGap:Nh(t,r)});return Bo(e,e.columnGap,n)}return null};Py.propTypes={};Py.filterProps=["columnGap"];const My=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Lh(e.theme,"spacing",8),n=r=>({rowGap:Nh(t,r)});return Bo(e,e.rowGap,n)}return null};My.propTypes={};My.filterProps=["rowGap"];const see=On({prop:"gridColumn"}),oee=On({prop:"gridRow"}),aee=On({prop:"gridAutoFlow"}),lee=On({prop:"gridAutoColumns"}),cee=On({prop:"gridAutoRows"}),uee=On({prop:"gridTemplateColumns"}),dee=On({prop:"gridTemplateRows"}),fee=On({prop:"gridTemplateAreas"}),hee=On({prop:"gridArea"});ky(Iy,Py,My,see,oee,aee,lee,cee,uee,dee,fee,hee);function au(e,t){return t==="grey"?t:e}const pee=On({prop:"color",themeKey:"palette",transform:au}),gee=On({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:au}),mee=On({prop:"backgroundColor",themeKey:"palette",transform:au});ky(pee,gee,mee);function gi(e){return e<=1&&e!==0?`${e*100}%`:e}const yee=On({prop:"width",transform:gi}),Kx=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,o,a,l;const r=((o=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Ey[n];return r?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:gi(n)}};return Bo(e,e.maxWidth,t)}return null};Kx.filterProps=["maxWidth"];const vee=On({prop:"minWidth",transform:gi}),Aee=On({prop:"height",transform:gi}),bee=On({prop:"maxHeight",transform:gi}),_ee=On({prop:"minHeight",transform:gi});On({prop:"size",cssProperty:"width",transform:gi});On({prop:"size",cssProperty:"height",transform:gi});const See=On({prop:"boxSizing"});ky(yee,Kx,vee,Aee,bee,_ee,See);const Bh={border:{themeKey:"borders",transform:zi},borderTop:{themeKey:"borders",transform:zi},borderRight:{themeKey:"borders",transform:zi},borderBottom:{themeKey:"borders",transform:zi},borderLeft:{themeKey:"borders",transform:zi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ty},color:{themeKey:"palette",transform:au},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:au},backgroundColor:{themeKey:"palette",transform:au},p:{style:yn},pt:{style:yn},pr:{style:yn},pb:{style:yn},pl:{style:yn},px:{style:yn},py:{style:yn},padding:{style:yn},paddingTop:{style:yn},paddingRight:{style:yn},paddingBottom:{style:yn},paddingLeft:{style:yn},paddingX:{style:yn},paddingY:{style:yn},paddingInline:{style:yn},paddingInlineStart:{style:yn},paddingInlineEnd:{style:yn},paddingBlock:{style:yn},paddingBlockStart:{style:yn},paddingBlockEnd:{style:yn},m:{style:mn},mt:{style:mn},mr:{style:mn},mb:{style:mn},ml:{style:mn},mx:{style:mn},my:{style:mn},margin:{style:mn},marginTop:{style:mn},marginRight:{style:mn},marginBottom:{style:mn},marginLeft:{style:mn},marginX:{style:mn},marginY:{style:mn},marginInline:{style:mn},marginInlineStart:{style:mn},marginInlineEnd:{style:mn},marginBlock:{style:mn},marginBlockStart:{style:mn},marginBlockEnd:{style:mn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Iy},rowGap:{style:My},columnGap:{style:Py},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gi},maxWidth:{style:Kx},minWidth:{transform:gi},height:{transform:gi},maxHeight:{transform:gi},minHeight:{transform:gi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function xee(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function wee(e,t){return typeof e=="function"?e(t):e}function Eee(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=Cy(i,c)||{};return d?d(o):Bo(o,r,g=>{let m=Dm(h,u,g);return g===m&&typeof g=="string"&&(m=Dm(h,u,`${n}${g==="default"?"":at(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Bh;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=zO(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(h=>{const p=wee(l[h],i);if(p!=null)if(typeof p=="object")if(s[h])d=yf(d,e(h,p,i,s));else{const g=Bo({theme:i},p,m=>({[h]:m}));xee(g,p)?d[h]=t({sx:p,theme:i}):d=yf(d,g)}else d=yf(d,e(h,p,i,s))}),VZ(i,UO(u,d))}return Array.isArray(r)?r.map(o):o(r)}return t}const Gl=Eee();Gl.filterProps=["sx"];const Cee=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Bh;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function kee(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Cee(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return Xs(a)?{...r,...a}:r}:s={...r,...t},{...i,sx:s}}var Tee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],jb=M.bind();Tee.forEach(function(e){jb[e]=jb(e)});function Iee(e){return e==null||Object.keys(e).length===0}function GO(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Iee(i)?n:i):t;return f.jsx(ZK,{styles:r})}/**
 * @mui/styled-engine v6.1.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Pee(e,t){return jb(e,t)}function Mee(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const BT=[];function DT(e){return BT[0]=e,Ay(BT)}const Ree=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function jee(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Ree(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}const Oee={borderRadius:4};function WO(e=8,t=qx({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Vee(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Yx(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=e,a=jee(n),l=WO(i);let c=ti({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Oee,...s}},o);return c=BZ(c),c.applyStyles=Vee,c=t.reduce((u,d)=>ti(u,d),c),c.unstable_sxConfig={...Bh,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(d){return Gl({sx:d,theme:this})},c}function Lee(e){return Object.keys(e).length===0}function qO(e=null){const t=v.useContext(by);return!t||Lee(t)?e:t}const Nee=Yx();function KO(e=Nee){return qO(e)}function Bee({styles:e,themeId:t,defaultTheme:n={}}){const r=KO(n),i=typeof e=="function"?e(t&&r[t]||r):e;return f.jsx(GO,{styles:i})}function YO(e){const{variants:t,...n}=e,r={variants:t,style:DT(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=DT(i.style))}),r}const Dee=Yx();function Xv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function $ee(e){return e?(t,n)=>n[e]:null}function Fee(e,t,n){e.theme=Hee(e.theme)?n:e.theme[t]||e.theme}function Vg(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>Vg(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return QO(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function QO(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const o=t[s];if(typeof o.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(r))continue}else for(const a in o.props)if(e[a]!==o.props[a]&&((i=e.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function zee(e={}){const{themeId:t,defaultTheme:n=Dee,rootShouldForwardProp:r=Xv,slotShouldForwardProp:i=Xv}=e;function s(a){Fee(a,t,n)}return(a,l={})=>{Mee(a,S=>S.filter(E=>E!==Gl));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=$ee(Wee(u)),...g}=l,m=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,b=h||!1;let y=Xv;u==="Root"||u==="root"?y=r:u?y=i:Gee(a)&&(y=void 0);const A=Pee(a,{shouldForwardProp:y,label:Uee(),...g}),_=S=>{if(typeof S=="function"&&S.__emotion_real!==S)return function(C){return Vg(C,S)};if(Xs(S)){const E=YO(S);return E.variants?function(k){return Vg(k,E)}:E.style}return S},x=(...S)=>{const E=[],C=S.map(_),k=[];if(E.push(s),c&&p&&k.push(function(z){var T,$;const L=($=(T=z.theme.components)==null?void 0:T[c])==null?void 0:$.styleOverrides;if(!L)return null;const P={};for(const N in L)P[N]=Vg(z,L[N]);return p(z,P)}),c&&!m&&k.push(function(z){var P,T;const R=z.theme,L=(T=(P=R==null?void 0:R.components)==null?void 0:P[c])==null?void 0:T.variants;return L?QO(z,L):null}),b||k.push(Gl),Array.isArray(C[0])){const j=C.shift(),z=new Array(E.length).fill(""),R=new Array(k.length).fill("");let L;L=[...z,...j,...R],L.raw=[...z,...j.raw,...R],E.unshift(L)}const V=[...E,...C,...k],w=A(...V);return a.muiName&&(w.muiName=a.muiName),w};return A.withConfig&&(x.withConfig=A.withConfig),x}}function Uee(e,t){return void 0}function Hee(e){for(const t in e)return!1;return!0}function Gee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Wee(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Qx(e,t=0,n=1){return PZ(e,t,n)}function qee(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ja(e){if(e.type)return e;if(e.charAt(0)==="#")return ja(qee(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ul(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ul(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Kee=e=>{const t=ja(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Hd=(e,t)=>{try{return Kee(e)}catch{return e}};function Ry(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function JO(e){e=ja(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Ry({type:a,values:l})}function Ob(e){e=ja(e);let t=e.type==="hsl"||e.type==="hsla"?ja(JO(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Yee(e,t){const n=Ob(e),r=Ob(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Es(e,t){return e=ja(e),t=Qx(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ry(e)}function jp(e,t,n){try{return Es(e,t)}catch{return e}}function Jx(e,t){if(e=ja(e),t=Qx(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Ry(e)}function Vt(e,t,n){try{return Jx(e,t)}catch{return e}}function Xx(e,t){if(e=ja(e),t=Qx(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Ry(e)}function Lt(e,t,n){try{return Xx(e,t)}catch{return e}}function Qee(e,t=.15){return Ob(e)>.5?Jx(e,t):Xx(e,t)}function Op(e,t,n){try{return Qee(e,t)}catch{return e}}const XO=v.createContext(null);function Zx(){return v.useContext(XO)}const Jee=typeof Symbol=="function"&&Symbol.for,Xee=Jee?Symbol.for("mui.nested"):"__THEME_NESTED__";function Zee(e,t){return typeof t=="function"?t(e):{...e,...t}}function ete(e){const{children:t,theme:n}=e,r=Zx(),i=v.useMemo(()=>{const s=r===null?{...n}:Zee(r,n);return s!=null&&(s[Xee]=r!==null),s},[n,r]);return f.jsx(XO.Provider,{value:i,children:t})}const ZO=v.createContext();function tte({value:e,...t}){return f.jsx(ZO.Provider,{value:e??!0,...t})}const A1e=()=>v.useContext(ZO)??!1,eV=v.createContext(void 0);function nte({value:e,children:t}){return f.jsx(eV.Provider,{value:e,children:t})}function rte(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Bm(i.defaultProps,r):!i.styleOverrides&&!i.variants?Bm(i,r):r}function ite({props:e,name:t}){const n=v.useContext(eV);return rte({props:e,name:t,theme:{components:n}})}const $T={};function FT(e,t,n,r=!1){return v.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?{...t,[e]:s}:s;return r?()=>o:o}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function tV(e){const{children:t,theme:n,themeId:r}=e,i=qO($T),s=Zx()||$T,o=FT(r,i,n),a=FT(r,s,n,!0),l=o.direction==="rtl";return f.jsx(ete,{theme:a,children:f.jsx(by.Provider,{value:o,children:f.jsx(tte,{value:l,children:f.jsx(nte,{value:o==null?void 0:o.components,children:t})})})})}const zT={theme:void 0};function ste(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(zT.theme=i.theme,s=YO(e(zT)),t=s,n=i.theme),s}}const ew="mode",tw="color-scheme",ote="data-color-scheme";function ate(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=ew,colorSchemeStorageKey:s=tw,attribute:o=ote,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};let c="",u=o;if(o==="class"&&(u=".%s"),o==="data"&&(u="[data-%s]"),u.startsWith(".")){const h=u.substring(1);c+=`${a}.classList.remove('${h}'.replace('%s', light), '${h}'.replace('%s', dark));
      ${a}.classList.add('${h}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[h,p]=d[1].split("=");p||(c+=`${a}.removeAttribute('${h}'.replace('%s', light));
      ${a}.removeAttribute('${h}'.replace('%s', dark));`),c+=`
      ${a}.setAttribute('${h}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else c+=`${a}.setAttribute('${u}', colorScheme);`;return f.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function UT(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function nV(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function lte(e){return nV(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function Zv(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function cte(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=ew,colorSchemeStorageKey:o=tw,storageWindow:a=typeof window>"u"?void 0:window}=e,l=i.join(","),c=i.length>1,[u,d]=v.useState(()=>{const _=Zv(s,t),x=Zv(`${o}-light`,n),S=Zv(`${o}-dark`,r);return{mode:_,systemMode:UT(_),lightColorScheme:x,darkColorScheme:S}}),[,h]=v.useState(!1),p=v.useRef(!1);v.useEffect(()=>{c&&h(!0),p.current=!0},[c]);const g=lte(u),m=v.useCallback(_=>{d(x=>{if(_===x.mode)return x;const S=_??t;try{localStorage.setItem(s,S)}catch{}return{...x,mode:S,systemMode:UT(S)}})},[s,t]),b=v.useCallback(_=>{_?typeof _=="string"?_&&!l.includes(_)?console.error(`\`${_}\` does not exist in \`theme.colorSchemes\`.`):d(x=>{const S={...x};return nV(x,E=>{try{localStorage.setItem(`${o}-${E}`,_)}catch{}E==="light"&&(S.lightColorScheme=_),E==="dark"&&(S.darkColorScheme=_)}),S}):d(x=>{const S={...x},E=_.light===null?n:_.light,C=_.dark===null?r:_.dark;if(E)if(!l.includes(E))console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`);else{S.lightColorScheme=E;try{localStorage.setItem(`${o}-light`,E)}catch{}}if(C)if(!l.includes(C))console.error(`\`${C}\` does not exist in \`theme.colorSchemes\`.`);else{S.darkColorScheme=C;try{localStorage.setItem(`${o}-dark`,C)}catch{}}return S}):d(x=>{try{localStorage.setItem(`${o}-light`,n),localStorage.setItem(`${o}-dark`,r)}catch{}return{...x,lightColorScheme:n,darkColorScheme:r}})},[l,o,n,r]),y=v.useCallback(_=>{u.mode==="system"&&d(x=>{const S=_!=null&&_.matches?"dark":"light";return x.systemMode===S?x:{...x,systemMode:S}})},[u.mode]),A=v.useRef(y);return A.current=y,v.useEffect(()=>{if(typeof window.matchMedia!="function"||!c)return;const _=(...S)=>A.current(...S),x=window.matchMedia("(prefers-color-scheme: dark)");return x.addListener(_),_(x),()=>{x.removeListener(_)}},[c]),v.useEffect(()=>{if(a&&c){const _=x=>{const S=x.newValue;typeof x.key=="string"&&x.key.startsWith(o)&&(!S||l.match(S))&&(x.key.endsWith("light")&&b({light:S}),x.key.endsWith("dark")&&b({dark:S})),x.key===s&&(!S||["light","dark","system"].includes(S))&&m(S||t)};return a.addEventListener("storage",_),()=>{a.removeEventListener("storage",_)}}},[b,m,s,o,l,t,a,c]),{...u,mode:p.current||!c?u.mode:void 0,systemMode:p.current||!c?u.systemMode:void 0,colorScheme:p.current||!c?g:void 0,setMode:m,setColorScheme:b}}const ute="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function dte(e){const{themeId:t,theme:n={},modeStorageKey:r=ew,colorSchemeStorageKey:i=tw,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:a}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=v.createContext(void 0),u=()=>v.useContext(c)||l;function d(m){var Ct,Ce,ct,Rt,jt;const{children:b,theme:y,modeStorageKey:A=r,colorSchemeStorageKey:_=i,disableTransitionOnChange:x=s,storageWindow:S=typeof window>"u"?void 0:window,documentNode:E=typeof document>"u"?void 0:document,colorSchemeNode:C=typeof document>"u"?void 0:document.documentElement,disableNestedContext:k=!1,disableStyleSheetGeneration:V=!1,defaultMode:w="system"}=m,j=v.useRef(!1),z=Zx(),R=v.useContext(c),L=!!R&&!k,P=v.useMemo(()=>y||(typeof n=="function"?n():n),[y]),T=P[t],{colorSchemes:$={},components:N={},cssVarPrefix:F,...D}=T||P,G=Object.keys($).filter(Me=>!!$[Me]).join(","),U=v.useMemo(()=>G.split(","),[G]),ne=typeof o=="string"?o:o.light,B=typeof o=="string"?o:o.dark,fe=$[ne]&&$[B]?w:((Ce=(Ct=$[D.defaultColorScheme])==null?void 0:Ct.palette)==null?void 0:Ce.mode)||((ct=D.palette)==null?void 0:ct.mode),{mode:Z,setMode:oe,systemMode:Pe,lightColorScheme:Ee,darkColorScheme:ae,colorScheme:be,setColorScheme:Le}=cte({supportedColorSchemes:U,defaultLightColorScheme:ne,defaultDarkColorScheme:B,modeStorageKey:A,colorSchemeStorageKey:_,defaultMode:fe,storageWindow:S});let Be=Z,ye=be;L&&(Be=R.mode,ye=R.colorScheme);const Se=ye||D.defaultColorScheme,Ke=((Rt=D.generateThemeVars)==null?void 0:Rt.call(D))||D.vars,De={...D,components:N,colorSchemes:$,cssVarPrefix:F,vars:Ke};if(typeof De.generateSpacing=="function"&&(De.spacing=De.generateSpacing()),Se){const Me=$[Se];Me&&typeof Me=="object"&&Object.keys(Me).forEach(We=>{Me[We]&&typeof Me[We]=="object"?De[We]={...De[We],...Me[We]}:De[We]=Me[We]})}const xe=D.colorSchemeSelector;v.useEffect(()=>{if(ye&&C&&xe&&xe!=="media"){const Me=xe;let We=xe;if(Me==="class"&&(We=".%s"),Me==="data"&&(We="[data-%s]"),Me!=null&&Me.startsWith("data-")&&!Me.includes("%s")&&(We=`[${Me}="%s"]`),We.startsWith("."))C.classList.remove(...U.map(it=>We.substring(1).replace("%s",it))),C.classList.add(We.substring(1).replace("%s",ye));else{const it=We.replace("%s",ye).match(/\[([^\]]+)\]/);if(it){const[st,sn]=it[1].split("=");sn||U.forEach(gt=>{C.removeAttribute(st.replace(ye,gt))}),C.setAttribute(st,sn?sn.replace(/"|'/g,""):"")}else C.setAttribute(We,ye)}}},[ye,xe,C,U]),v.useEffect(()=>{let Me;if(x&&j.current&&E){const We=E.createElement("style");We.appendChild(E.createTextNode(ute)),E.head.appendChild(We),window.getComputedStyle(E.body),Me=setTimeout(()=>{E.head.removeChild(We)},1)}return()=>{clearTimeout(Me)}},[ye,x,E]),v.useEffect(()=>(j.current=!0,()=>{j.current=!1}),[]);const Je=v.useMemo(()=>({allColorSchemes:U,colorScheme:ye,darkColorScheme:ae,lightColorScheme:Ee,mode:Be,setColorScheme:Le,setMode:oe,systemMode:Pe}),[U,ye,ae,Ee,Be,Le,oe,Pe]);let Et=!0;(V||D.cssVariables===!1||L&&(z==null?void 0:z.cssVarPrefix)===F)&&(Et=!1);const Gt=f.jsxs(v.Fragment,{children:[f.jsx(tV,{themeId:T?t:void 0,theme:a?a(De):De,children:b}),Et&&f.jsx(GO,{styles:((jt=De.generateStyleSheets)==null?void 0:jt.call(De))||[]})]});return L?Gt:f.jsx(c.Provider,{value:Je,children:Gt})}const h=typeof o=="string"?o:o.light,p=typeof o=="string"?o:o.dark;return{CssVarsProvider:d,useColorScheme:u,getInitColorSchemeScript:m=>ate({colorSchemeStorageKey:i,defaultLightColorScheme:h,defaultDarkColorScheme:p,modeStorageKey:r,...m})}}function fte(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const HT=(e,t,n,r=[])=>{let i=e;t.forEach((s,o)=>{o===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},hte=(e,t,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):t([...s,a],l,o))})}r(e)},pte=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function eA(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},o={};return hte(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=pte(a,l);Object.assign(i,{[u]:d}),HT(s,a,`var(${u})`,c),HT(o,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function gte(e,t={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=eA(l,t);let h=d;const p={},{[a]:g,...m}=s;if(Object.entries(m||{}).forEach(([_,x])=>{const{vars:S,css:E,varsWithDefaults:C}=eA(x,t);h=ti(h,C),p[_]={css:E,vars:S}}),g){const{css:_,vars:x,varsWithDefaults:S}=eA(g,t);h=ti(h,S),p[a]={css:_,vars:x}}function b(_,x){var E,C;let S=i;if(i==="class"&&(S=".%s"),i==="data"&&(S="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(S=`[${i}="%s"]`),_){if(S==="media")return e.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((C=(E=s[_])==null?void 0:E.palette)==null?void 0:C.mode)||_})`]:{":root":x}};if(S)return e.defaultColorScheme===_?`:root, ${S.replace("%s",String(_))}`:S.replace("%s",String(_))}return":root"}return{vars:h,generateThemeVars:()=>{let _={...c};return Object.entries(p).forEach(([,{vars:x}])=>{_=ti(_,x)}),_},generateStyleSheets:()=>{var k,V;const _=[],x=e.defaultColorScheme||"light";function S(w,j){Object.keys(j).length&&_.push(typeof w=="string"?{[w]:{...j}}:w)}S(n(void 0,{...u}),u);const{[x]:E,...C}=p;if(E){const{css:w}=E,j=(V=(k=s[x])==null?void 0:k.palette)==null?void 0:V.mode,z=!r&&j?{colorScheme:j,...w}:{...w};S(n(x,{...z}),z)}return Object.entries(C).forEach(([w,{css:j}])=>{var L,P;const z=(P=(L=s[w])==null?void 0:L.palette)==null?void 0:P.mode,R=!r&&z?{colorScheme:z,...j}:{...j};S(n(w,{...R}),R)}),_}}}function mte(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const qf={black:"#000",white:"#fff"},yte={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},mc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wd={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},vc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ac={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function rV(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qf.white,default:qf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vte=rV();function iV(){return{text:{primary:qf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const GT=iV();function WT(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Xx(e.main,i):t==="dark"&&(e.dark=Jx(e.main,s)))}function Ate(e="light"){return e==="dark"?{main:vc[200],light:vc[50],dark:vc[400]}:{main:vc[700],light:vc[400],dark:vc[800]}}function bte(e="light"){return e==="dark"?{main:mc[200],light:mc[50],dark:mc[400]}:{main:mc[500],light:mc[300],dark:mc[700]}}function _te(e="light"){return e==="dark"?{main:yc[500],light:yc[300],dark:yc[700]}:{main:yc[700],light:yc[400],dark:yc[800]}}function Ste(e="light"){return e==="dark"?{main:Ac[400],light:Ac[300],dark:Ac[700]}:{main:Ac[700],light:Ac[500],dark:Ac[900]}}function xte(e="light"){return e==="dark"?{main:bc[400],light:bc[300],dark:bc[700]}:{main:bc[800],light:bc[500],dark:bc[900]}}function wte(e="light"){return e==="dark"?{main:wd[400],light:wd[300],dark:wd[700]}:{main:"#ed6c02",light:wd[500],dark:wd[900]}}function nw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||Ate(t),o=e.secondary||bte(t),a=e.error||_te(t),l=e.info||Ste(t),c=e.success||xte(t),u=e.warning||wte(t);function d(m){return Yee(m,GT.text.primary)>=n?GT.text.primary:vte.text.primary}const h=({color:m,name:b,mainShade:y=500,lightShade:A=300,darkShade:_=700})=>{if(m={...m},!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Ul(11,b?` (${b})`:"",y));if(typeof m.main!="string")throw new Error(Ul(12,b?` (${b})`:"",JSON.stringify(m.main)));return WT(m,"light",A,r),WT(m,"dark",_,r),m.contrastText||(m.contrastText=d(m.main)),m};let p;return t==="light"?p=rV():t==="dark"&&(p=iV()),ti({common:{...qf},mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:yte,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function Ete(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Cte(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function kte(e){return Math.round(e*1e5)/1e5}const qT={textTransform:"uppercase"},KT='"Roboto", "Helvetica", "Arial", sans-serif';function sV(e,t){const{fontFamily:n=KT,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,h=r/14,p=u||(b=>`${b/l*h}rem`),g=(b,y,A,_,x)=>({fontFamily:n,fontWeight:b,fontSize:p(y),lineHeight:A,...n===KT?{letterSpacing:`${kte(_/y)}em`}:{},...x,...c}),m={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(o,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(o,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(o,14,1.75,.4,qT),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,qT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ti({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...m},d,{clone:!1})}const Tte=.2,Ite=.14,Pte=.12;function Zt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Tte})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Ite})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Pte})`].join(",")}const Mte=["none",Zt(0,2,1,-1,0,1,1,0,0,1,3,0),Zt(0,3,1,-2,0,2,2,0,0,1,5,0),Zt(0,3,3,-2,0,3,4,0,0,1,8,0),Zt(0,2,4,-1,0,4,5,0,0,1,10,0),Zt(0,3,5,-1,0,5,8,0,0,1,14,0),Zt(0,3,5,-1,0,6,10,0,0,1,18,0),Zt(0,4,5,-2,0,7,10,1,0,2,16,1),Zt(0,5,5,-3,0,8,10,1,0,3,14,2),Zt(0,5,6,-3,0,9,12,1,0,3,16,2),Zt(0,6,6,-3,0,10,14,1,0,4,18,3),Zt(0,6,7,-4,0,11,15,1,0,4,20,3),Zt(0,7,8,-4,0,12,17,2,0,5,22,4),Zt(0,7,8,-4,0,13,19,2,0,5,24,4),Zt(0,7,9,-4,0,14,21,2,0,5,26,4),Zt(0,8,9,-5,0,15,22,2,0,6,28,5),Zt(0,8,10,-5,0,16,24,2,0,6,30,5),Zt(0,8,11,-5,0,17,26,2,0,6,32,5),Zt(0,9,11,-5,0,18,28,2,0,7,34,6),Zt(0,9,12,-6,0,19,29,2,0,7,36,6),Zt(0,10,13,-6,0,20,31,3,0,8,38,7),Zt(0,10,13,-6,0,21,33,3,0,8,40,7),Zt(0,10,14,-6,0,22,35,3,0,8,42,7),Zt(0,11,14,-7,0,23,36,3,0,9,44,8),Zt(0,11,15,-7,0,24,38,3,0,9,46,8)],Rte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},jte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function YT(e){return`${Math.round(e)}ms`}function Ote(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Vte(e){const t={...Rte,...e.easing},n={...jte,...e.duration};return{getAutoHeightDuration:Ote,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:YT(o)} ${a} ${typeof l=="string"?l:YT(l)}`).join(",")},...e,easing:t,duration:n}}const Lte={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Nte(e){return Xs(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function oV(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!Nte(a)||o.startsWith("unstable_")?delete r[o]:Xs(a)&&(r[o]={...a},n(r[o]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Vb(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=e;if(e.vars)throw new Error(Ul(20));const u=nw(s),d=Yx(e);let h=ti(d,{mixins:Cte(d.breakpoints,r),palette:u,shadows:Mte.slice(),typography:sV(u,a),transitions:Vte(o),zIndex:{...Lte}});return h=ti(h,c),h=t.reduce((p,g)=>ti(p,g),h),h.unstable_sxConfig={...Bh,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return Gl({sx:g,theme:this})},h.toRuntimeSource=oV,h}function Lb(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Bte=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Lb(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function aV(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function lV(e){return e==="dark"?Bte:[]}function Dte(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=nw(t);return{palette:s,opacity:{...aV(s.mode),...n},overlays:r||lV(s.mode),...i}}function $te(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Fte=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],zte=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return Fte(e.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",t)]:o,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function Ute(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ee(e,t,n){!e[t]&&n&&(e[t]=n)}function Gd(e){return!e||!e.startsWith("hsl")?e:JO(e)}function fo(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Hd(Gd(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Hte(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Us=e=>{try{return e()}catch{}},Gte=(e="mui")=>fte(e);function tA(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Dte({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...o}=Vb({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...aV(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||lV(i)},o}function Wte(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=$te,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=e,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),h=Gte(s),{[d]:p,light:g,dark:m,...b}=n,y={...b};let A=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(A=!0),!A)throw new Error(Ul(21,d));const _=tA(y,A,c,d);g&&!y.light&&tA(y,g,void 0,"light"),m&&!y.dark&&tA(y,m,void 0,"dark");let x={defaultColorScheme:d,..._,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:y,font:{...Ete(_.typography),..._.font},spacing:Hte(c.spacing)};Object.keys(x.colorSchemes).forEach(V=>{const w=x.colorSchemes[V].palette,j=z=>{const R=z.split("-"),L=R[1],P=R[2];return h(z,w[L][P])};if(w.mode==="light"&&(ee(w.common,"background","#fff"),ee(w.common,"onBackground","#000")),w.mode==="dark"&&(ee(w.common,"background","#000"),ee(w.common,"onBackground","#fff")),Ute(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){ee(w.Alert,"errorColor",Vt(w.error.light,.6)),ee(w.Alert,"infoColor",Vt(w.info.light,.6)),ee(w.Alert,"successColor",Vt(w.success.light,.6)),ee(w.Alert,"warningColor",Vt(w.warning.light,.6)),ee(w.Alert,"errorFilledBg",j("palette-error-main")),ee(w.Alert,"infoFilledBg",j("palette-info-main")),ee(w.Alert,"successFilledBg",j("palette-success-main")),ee(w.Alert,"warningFilledBg",j("palette-warning-main")),ee(w.Alert,"errorFilledColor",Us(()=>w.getContrastText(w.error.main))),ee(w.Alert,"infoFilledColor",Us(()=>w.getContrastText(w.info.main))),ee(w.Alert,"successFilledColor",Us(()=>w.getContrastText(w.success.main))),ee(w.Alert,"warningFilledColor",Us(()=>w.getContrastText(w.warning.main))),ee(w.Alert,"errorStandardBg",Lt(w.error.light,.9)),ee(w.Alert,"infoStandardBg",Lt(w.info.light,.9)),ee(w.Alert,"successStandardBg",Lt(w.success.light,.9)),ee(w.Alert,"warningStandardBg",Lt(w.warning.light,.9)),ee(w.Alert,"errorIconColor",j("palette-error-main")),ee(w.Alert,"infoIconColor",j("palette-info-main")),ee(w.Alert,"successIconColor",j("palette-success-main")),ee(w.Alert,"warningIconColor",j("palette-warning-main")),ee(w.AppBar,"defaultBg",j("palette-grey-100")),ee(w.Avatar,"defaultBg",j("palette-grey-400")),ee(w.Button,"inheritContainedBg",j("palette-grey-300")),ee(w.Button,"inheritContainedHoverBg",j("palette-grey-A100")),ee(w.Chip,"defaultBorder",j("palette-grey-400")),ee(w.Chip,"defaultAvatarColor",j("palette-grey-700")),ee(w.Chip,"defaultIconColor",j("palette-grey-700")),ee(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ee(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ee(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ee(w.LinearProgress,"primaryBg",Lt(w.primary.main,.62)),ee(w.LinearProgress,"secondaryBg",Lt(w.secondary.main,.62)),ee(w.LinearProgress,"errorBg",Lt(w.error.main,.62)),ee(w.LinearProgress,"infoBg",Lt(w.info.main,.62)),ee(w.LinearProgress,"successBg",Lt(w.success.main,.62)),ee(w.LinearProgress,"warningBg",Lt(w.warning.main,.62)),ee(w.Skeleton,"bg",`rgba(${j("palette-text-primaryChannel")} / 0.11)`),ee(w.Slider,"primaryTrack",Lt(w.primary.main,.62)),ee(w.Slider,"secondaryTrack",Lt(w.secondary.main,.62)),ee(w.Slider,"errorTrack",Lt(w.error.main,.62)),ee(w.Slider,"infoTrack",Lt(w.info.main,.62)),ee(w.Slider,"successTrack",Lt(w.success.main,.62)),ee(w.Slider,"warningTrack",Lt(w.warning.main,.62));const z=Op(w.background.default,.8);ee(w.SnackbarContent,"bg",z),ee(w.SnackbarContent,"color",Us(()=>w.getContrastText(z))),ee(w.SpeedDialAction,"fabHoverBg",Op(w.background.paper,.15)),ee(w.StepConnector,"border",j("palette-grey-400")),ee(w.StepContent,"border",j("palette-grey-400")),ee(w.Switch,"defaultColor",j("palette-common-white")),ee(w.Switch,"defaultDisabledColor",j("palette-grey-100")),ee(w.Switch,"primaryDisabledColor",Lt(w.primary.main,.62)),ee(w.Switch,"secondaryDisabledColor",Lt(w.secondary.main,.62)),ee(w.Switch,"errorDisabledColor",Lt(w.error.main,.62)),ee(w.Switch,"infoDisabledColor",Lt(w.info.main,.62)),ee(w.Switch,"successDisabledColor",Lt(w.success.main,.62)),ee(w.Switch,"warningDisabledColor",Lt(w.warning.main,.62)),ee(w.TableCell,"border",Lt(jp(w.divider,1),.88)),ee(w.Tooltip,"bg",jp(w.grey[700],.92))}if(w.mode==="dark"){ee(w.Alert,"errorColor",Lt(w.error.light,.6)),ee(w.Alert,"infoColor",Lt(w.info.light,.6)),ee(w.Alert,"successColor",Lt(w.success.light,.6)),ee(w.Alert,"warningColor",Lt(w.warning.light,.6)),ee(w.Alert,"errorFilledBg",j("palette-error-dark")),ee(w.Alert,"infoFilledBg",j("palette-info-dark")),ee(w.Alert,"successFilledBg",j("palette-success-dark")),ee(w.Alert,"warningFilledBg",j("palette-warning-dark")),ee(w.Alert,"errorFilledColor",Us(()=>w.getContrastText(w.error.dark))),ee(w.Alert,"infoFilledColor",Us(()=>w.getContrastText(w.info.dark))),ee(w.Alert,"successFilledColor",Us(()=>w.getContrastText(w.success.dark))),ee(w.Alert,"warningFilledColor",Us(()=>w.getContrastText(w.warning.dark))),ee(w.Alert,"errorStandardBg",Vt(w.error.light,.9)),ee(w.Alert,"infoStandardBg",Vt(w.info.light,.9)),ee(w.Alert,"successStandardBg",Vt(w.success.light,.9)),ee(w.Alert,"warningStandardBg",Vt(w.warning.light,.9)),ee(w.Alert,"errorIconColor",j("palette-error-main")),ee(w.Alert,"infoIconColor",j("palette-info-main")),ee(w.Alert,"successIconColor",j("palette-success-main")),ee(w.Alert,"warningIconColor",j("palette-warning-main")),ee(w.AppBar,"defaultBg",j("palette-grey-900")),ee(w.AppBar,"darkBg",j("palette-background-paper")),ee(w.AppBar,"darkColor",j("palette-text-primary")),ee(w.Avatar,"defaultBg",j("palette-grey-600")),ee(w.Button,"inheritContainedBg",j("palette-grey-800")),ee(w.Button,"inheritContainedHoverBg",j("palette-grey-700")),ee(w.Chip,"defaultBorder",j("palette-grey-700")),ee(w.Chip,"defaultAvatarColor",j("palette-grey-300")),ee(w.Chip,"defaultIconColor",j("palette-grey-300")),ee(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ee(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ee(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ee(w.LinearProgress,"primaryBg",Vt(w.primary.main,.5)),ee(w.LinearProgress,"secondaryBg",Vt(w.secondary.main,.5)),ee(w.LinearProgress,"errorBg",Vt(w.error.main,.5)),ee(w.LinearProgress,"infoBg",Vt(w.info.main,.5)),ee(w.LinearProgress,"successBg",Vt(w.success.main,.5)),ee(w.LinearProgress,"warningBg",Vt(w.warning.main,.5)),ee(w.Skeleton,"bg",`rgba(${j("palette-text-primaryChannel")} / 0.13)`),ee(w.Slider,"primaryTrack",Vt(w.primary.main,.5)),ee(w.Slider,"secondaryTrack",Vt(w.secondary.main,.5)),ee(w.Slider,"errorTrack",Vt(w.error.main,.5)),ee(w.Slider,"infoTrack",Vt(w.info.main,.5)),ee(w.Slider,"successTrack",Vt(w.success.main,.5)),ee(w.Slider,"warningTrack",Vt(w.warning.main,.5));const z=Op(w.background.default,.98);ee(w.SnackbarContent,"bg",z),ee(w.SnackbarContent,"color",Us(()=>w.getContrastText(z))),ee(w.SpeedDialAction,"fabHoverBg",Op(w.background.paper,.15)),ee(w.StepConnector,"border",j("palette-grey-600")),ee(w.StepContent,"border",j("palette-grey-600")),ee(w.Switch,"defaultColor",j("palette-grey-300")),ee(w.Switch,"defaultDisabledColor",j("palette-grey-600")),ee(w.Switch,"primaryDisabledColor",Vt(w.primary.main,.55)),ee(w.Switch,"secondaryDisabledColor",Vt(w.secondary.main,.55)),ee(w.Switch,"errorDisabledColor",Vt(w.error.main,.55)),ee(w.Switch,"infoDisabledColor",Vt(w.info.main,.55)),ee(w.Switch,"successDisabledColor",Vt(w.success.main,.55)),ee(w.Switch,"warningDisabledColor",Vt(w.warning.main,.55)),ee(w.TableCell,"border",Vt(jp(w.divider,1),.68)),ee(w.Tooltip,"bg",jp(w.grey[700],.92))}fo(w.background,"default"),fo(w.background,"paper"),fo(w.common,"background"),fo(w.common,"onBackground"),fo(w,"divider"),Object.keys(w).forEach(z=>{const R=w[z];R&&typeof R=="object"&&(R.main&&ee(w[z],"mainChannel",Hd(Gd(R.main))),R.light&&ee(w[z],"lightChannel",Hd(Gd(R.light))),R.dark&&ee(w[z],"darkChannel",Hd(Gd(R.dark))),R.contrastText&&ee(w[z],"contrastTextChannel",Hd(Gd(R.contrastText))),z==="text"&&(fo(w[z],"primary"),fo(w[z],"secondary")),z==="action"&&(R.active&&fo(w[z],"active"),R.selected&&fo(w[z],"selected")))})}),x=t.reduce((V,w)=>ti(V,w),x);const S={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:zte(x)},{vars:E,generateThemeVars:C,generateStyleSheets:k}=gte(x,S);return x.vars=E,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(([V,w])=>{x[V]=w}),x.generateThemeVars=C,x.generateStyleSheets=k,x.generateSpacing=function(){return WO(c.spacing,qx(this))},x.getColorSchemeSelector=mte(a),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=o,x.unstable_sxConfig={...Bh,...c==null?void 0:c.unstable_sxConfig},x.unstable_sx=function(w){return Gl({sx:w,theme:this})},x.toRuntimeSource=oV,x}function QT(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:nw({...n===!0?{}:n.palette,mode:t})})}function rw(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=e,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Vb(e,...t);let u=n;"palette"in e||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=Vb({...e,palette:u},...t);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},QT(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},QT(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),Wte({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}const iw=rw(),Mo="$$material";function sw(){const e=KO(iw);return e[Mo]||e}function qte(e){return f.jsx(Bee,{...e,defaultTheme:iw,themeId:Mo})}function Kte(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const ow=e=>Kte(e)&&e!=="classes",Jt=zee({themeId:Mo,defaultTheme:iw,rootShouldForwardProp:ow});function b1e(e){return function(n){return f.jsx(qte,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function Yte(){return kee}const ss=ste;function Ir(e){return ite(e)}function Qte(e){return kr("MuiSvgIcon",e)}Tr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Jte=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${at(t)}`,`fontSize${at(n)}`]};return Ur(i,Qte,r)},Xte=Jt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${at(n.color)}`],t[`fontSize${at(n.fontSize)}`]]}})(ss(({theme:e})=>{var t,n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:m=>!m.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,m])=>m&&m.main).map(([m])=>{var b,y;return{props:{color:m},style:{color:(y=(b=(e.vars??e).palette)==null?void 0:b[m])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(d=(e.vars??e).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),$m=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,g=v.isValidElement(i)&&i.type==="svg",m={...r,color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},b={};u||(b.viewBox=h);const y=Jte(m);return f.jsxs(Xte,{as:a,className:St(y.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...b,...p,...g&&i.props,ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]})});$m&&($m.muiName="SvgIcon");function ht(e,t){function n(r,i){return f.jsx($m,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=$m.muiName,v.memo(v.forwardRef(n))}const Zte=ht(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),ene=ht(f.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),Fm=ht(f.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function tne(e){return typeof e.main=="string"}function nne(e,t=[]){if(!tne(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Kf(e=[]){return([,t])=>t&&nne(t,e)}class zm{constructor(){ve(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new zm}static use(){const t=DO(zm.create).current,[n,r]=v.useState(!1);return t.shouldMount=n,t.setShouldMount=r,v.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=ine(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function rne(){return zm.use()}function ine(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function cV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Nb(e,t){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Nb(e,t)}function uV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Nb(e,t)}var dV={exports:{}},Pi={},fV={exports:{}},hV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,F){var D=N.length;N.push(F);e:for(;0<D;){var G=D-1>>>1,U=N[G];if(0<i(U,F))N[G]=F,N[D]=U,D=G;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var F=N[0],D=N.pop();if(D!==F){N[0]=D;e:for(var G=0,U=N.length,ne=U>>>1;G<ne;){var B=2*(G+1)-1,fe=N[B],Z=B+1,oe=N[Z];if(0>i(fe,D))Z<U&&0>i(oe,fe)?(N[G]=oe,N[Z]=D,G=Z):(N[G]=fe,N[B]=D,G=B);else if(Z<U&&0>i(oe,D))N[G]=oe,N[Z]=D,G=Z;else break e}}return F}function i(N,F){var D=N.sortIndex-F.sortIndex;return D!==0?D:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=N)r(c),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(c)}}function x(N){if(m=!1,_(N),!g)if(n(l)!==null)g=!0,T(S);else{var F=n(c);F!==null&&$(x,F.startTime-N)}}function S(N,F){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var D=h;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||N&&!j());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var U=G(d.expirationTime<=F);F=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var B=n(c);B!==null&&$(x,B.startTime-F),ne=!1}return ne}finally{d=null,h=D,p=!1}}var E=!1,C=null,k=-1,V=5,w=-1;function j(){return!(e.unstable_now()-w<V)}function z(){if(C!==null){var N=e.unstable_now();w=N;var F=!0;try{F=C(!0,N)}finally{F?R():(E=!1,C=null)}}else E=!1}var R;if(typeof A=="function")R=function(){A(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,P=L.port2;L.port1.onmessage=z,R=function(){P.postMessage(null)}}else R=function(){b(z,0)};function T(N){C=N,E||(E=!0,R())}function $(N,F){k=b(function(){N(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var D=h;h=F;try{return N()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var D=h;h=N;try{return F()}finally{h=D}},e.unstable_scheduleCallback=function(N,F,D){var G=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=D+U,N={id:u++,callback:F,priorityLevel:N,startTime:D,expirationTime:U,sortIndex:-1},D>G?(N.sortIndex=D,t(c,N),n(l)===null&&N===n(c)&&(m?(y(k),k=-1):m=!0,$(x,D-G))):(N.sortIndex=U,t(l,N),g||p||(g=!0,T(S))),N},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(N){var F=h;return function(){var D=h;h=F;try{return N.apply(this,arguments)}finally{h=D}}}})(hV);fV.exports=hV;var sne=fV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pV=v,ki=sne;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gV=new Set,Yf={};function lc(e,t){Ru(e,t),Ru(e+"Capture",t)}function Ru(e,t){for(Yf[e]=t,e=0;e<t.length;e++)gV.add(t[e])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bb=Object.prototype.hasOwnProperty,one=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JT={},XT={};function ane(e){return Bb.call(XT,e)?!0:Bb.call(JT,e)?!1:one.test(e)?XT[e]=!0:(JT[e]=!0,!1)}function lne(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cne(e,t,n,r){if(t===null||typeof t>"u"||lne(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new Hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pr[t]=new Hr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new Hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new Hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new Hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new Hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new Hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new Hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new Hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var aw=/[\-:]([a-z])/g;function lw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aw,lw);pr[t]=new Hr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aw,lw);pr[t]=new Hr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aw,lw);pr[t]=new Hr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new Hr(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new Hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function cw(e,t,n,r){var i=pr.hasOwnProperty(t)?pr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cne(t,n,i,r)&&(n=null),r||i===null?ane(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Go=pV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vp=Symbol.for("react.element"),Bc=Symbol.for("react.portal"),Dc=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),mV=Symbol.for("react.provider"),yV=Symbol.for("react.context"),dw=Symbol.for("react.forward_ref"),$b=Symbol.for("react.suspense"),Fb=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),ia=Symbol.for("react.lazy"),vV=Symbol.for("react.offscreen"),ZT=Symbol.iterator;function Ed(e){return e===null||typeof e!="object"?null:(e=ZT&&e[ZT]||e["@@iterator"],typeof e=="function"?e:null)}var hn=Object.assign,nA;function Wd(e){if(nA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nA=t&&t[1]||""}return`
`+nA+e}var rA=!1;function iA(e,t){if(!e||rA)return"";rA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{rA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wd(e):""}function une(e){switch(e.tag){case 5:return Wd(e.type);case 16:return Wd("Lazy");case 13:return Wd("Suspense");case 19:return Wd("SuspenseList");case 0:case 2:case 15:return e=iA(e.type,!1),e;case 11:return e=iA(e.type.render,!1),e;case 1:return e=iA(e.type,!0),e;default:return""}}function zb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dc:return"Fragment";case Bc:return"Portal";case Db:return"Profiler";case uw:return"StrictMode";case $b:return"Suspense";case Fb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yV:return(e.displayName||"Context")+".Consumer";case mV:return(e._context.displayName||"Context")+".Provider";case dw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fw:return t=e.displayName||null,t!==null?t:zb(e.type)||"Memo";case ia:t=e._payload,e=e._init;try{return zb(e(t))}catch{}}return null}function dne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zb(t);case 8:return t===uw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function AV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fne(e){var t=AV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lp(e){e._valueTracker||(e._valueTracker=fne(e))}function bV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=AV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Um(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ub(e,t){var n=t.checked;return hn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _V(e,t){t=t.checked,t!=null&&cw(e,"checked",t,!1)}function Hb(e,t){_V(e,t);var n=Oa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gb(e,t.type,Oa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tI(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gb(e,t,n){(t!=="number"||Um(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qd=Array.isArray;function lu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return hn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(qd(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oa(n)}}function SV(e,t){var n=Oa(t.value),r=Oa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Np,wV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Np=Np||document.createElement("div"),Np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hne=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(e){hne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vf[t]=vf[e]})});function EV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vf.hasOwnProperty(e)&&vf[e]?(""+t).trim():t+"px"}function CV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var pne=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kb(e,t){if(t){if(pne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function Yb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qb=null;function hw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jb=null,cu=null,uu=null;function iI(e){if(e=Fh(e)){if(typeof Jb!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Ny(t),Jb(e.stateNode,e.type,t))}}function kV(e){cu?uu?uu.push(e):uu=[e]:cu=e}function TV(){if(cu){var e=cu,t=uu;if(uu=cu=null,iI(e),t)for(e=0;e<t.length;e++)iI(t[e])}}function IV(e,t){return e(t)}function PV(){}var sA=!1;function MV(e,t,n){if(sA)return e(t,n);sA=!0;try{return IV(e,t,n)}finally{sA=!1,(cu!==null||uu!==null)&&(PV(),TV())}}function Jf(e,t){var n=e.stateNode;if(n===null)return null;var r=Ny(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var Xb=!1;if(Do)try{var Cd={};Object.defineProperty(Cd,"passive",{get:function(){Xb=!0}}),window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{Xb=!1}function gne(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Af=!1,Hm=null,Gm=!1,Zb=null,mne={onError:function(e){Af=!0,Hm=e}};function yne(e,t,n,r,i,s,o,a,l){Af=!1,Hm=null,gne.apply(mne,arguments)}function vne(e,t,n,r,i,s,o,a,l){if(yne.apply(this,arguments),Af){if(Af){var c=Hm;Af=!1,Hm=null}else throw Error(ce(198));Gm||(Gm=!0,Zb=c)}}function cc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sI(e){if(cc(e)!==e)throw Error(ce(188))}function Ane(e){var t=e.alternate;if(!t){if(t=cc(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sI(i),e;if(s===r)return sI(i),t;s=s.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function jV(e){return e=Ane(e),e!==null?OV(e):null}function OV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OV(e);if(t!==null)return t;e=e.sibling}return null}var VV=ki.unstable_scheduleCallback,oI=ki.unstable_cancelCallback,bne=ki.unstable_shouldYield,_ne=ki.unstable_requestPaint,Pn=ki.unstable_now,Sne=ki.unstable_getCurrentPriorityLevel,pw=ki.unstable_ImmediatePriority,LV=ki.unstable_UserBlockingPriority,Wm=ki.unstable_NormalPriority,xne=ki.unstable_LowPriority,NV=ki.unstable_IdlePriority,jy=null,io=null;function wne(e){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(jy,e,void 0,(e.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:kne,Ene=Math.log,Cne=Math.LN2;function kne(e){return e>>>=0,e===0?32:31-(Ene(e)/Cne|0)|0}var Bp=64,Dp=4194304;function Kd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kd(a):(s&=o,s!==0&&(r=Kd(s)))}else o=n&~i,o!==0?r=Kd(o):s!==0&&(r=Kd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rs(t),i=1<<n,r|=e[n],t&=~i;return r}function Tne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ine(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Rs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Tne(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function e_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BV(){var e=Bp;return Bp<<=1,!(Bp&4194240)&&(Bp=64),e}function oA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rs(t),e[t]=n}function Pne(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Rs(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function gw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pt=0;function DV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $V,mw,FV,zV,UV,t_=!1,$p=[],_a=null,Sa=null,xa=null,Xf=new Map,Zf=new Map,oa=[],Mne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aI(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Xf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zf.delete(t.pointerId)}}function kd(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Fh(t),t!==null&&mw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Rne(e,t,n,r,i){switch(t){case"focusin":return _a=kd(_a,e,t,n,r,i),!0;case"dragenter":return Sa=kd(Sa,e,t,n,r,i),!0;case"mouseover":return xa=kd(xa,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xf.set(s,kd(Xf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zf.set(s,kd(Zf.get(s)||null,e,t,n,r,i)),!0}return!1}function HV(e){var t=ml(e.target);if(t!==null){var n=cc(t);if(n!==null){if(t=n.tag,t===13){if(t=RV(n),t!==null){e.blockedOn=t,UV(e.priority,function(){FV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=n_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qb=r,n.target.dispatchEvent(r),Qb=null}else return t=Fh(n),t!==null&&mw(t),e.blockedOn=n,!1;t.shift()}return!0}function lI(e,t,n){Lg(e)&&n.delete(t)}function jne(){t_=!1,_a!==null&&Lg(_a)&&(_a=null),Sa!==null&&Lg(Sa)&&(Sa=null),xa!==null&&Lg(xa)&&(xa=null),Xf.forEach(lI),Zf.forEach(lI)}function Td(e,t){e.blockedOn===t&&(e.blockedOn=null,t_||(t_=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,jne)))}function eh(e){function t(i){return Td(i,e)}if(0<$p.length){Td($p[0],e);for(var n=1;n<$p.length;n++){var r=$p[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_a!==null&&Td(_a,e),Sa!==null&&Td(Sa,e),xa!==null&&Td(xa,e),Xf.forEach(t),Zf.forEach(t),n=0;n<oa.length;n++)r=oa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<oa.length&&(n=oa[0],n.blockedOn===null);)HV(n),n.blockedOn===null&&oa.shift()}var du=Go.ReactCurrentBatchConfig,Km=!0;function One(e,t,n,r){var i=Pt,s=du.transition;du.transition=null;try{Pt=1,yw(e,t,n,r)}finally{Pt=i,du.transition=s}}function Vne(e,t,n,r){var i=Pt,s=du.transition;du.transition=null;try{Pt=4,yw(e,t,n,r)}finally{Pt=i,du.transition=s}}function yw(e,t,n,r){if(Km){var i=n_(e,t,n,r);if(i===null)mA(e,t,r,Ym,n),aI(e,r);else if(Rne(i,e,t,n,r))r.stopPropagation();else if(aI(e,r),t&4&&-1<Mne.indexOf(e)){for(;i!==null;){var s=Fh(i);if(s!==null&&$V(s),s=n_(e,t,n,r),s===null&&mA(e,t,r,Ym,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mA(e,t,r,null,n)}}var Ym=null;function n_(e,t,n,r){if(Ym=null,e=hw(r),e=ml(e),e!==null)if(t=cc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=RV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ym=e,null}function GV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sne()){case pw:return 1;case LV:return 4;case Wm:case xne:return 16;case NV:return 536870912;default:return 16}default:return 16}}var ga=null,vw=null,Ng=null;function WV(){if(Ng)return Ng;var e,t=vw,n=t.length,r,i="value"in ga?ga.value:ga.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ng=i.slice(e,1<r?1-r:void 0)}function Bg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fp(){return!0}function cI(){return!1}function Mi(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fp:cI,this.isPropagationStopped=cI,this}return hn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),t}var id={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aw=Mi(id),$h=hn({},id,{view:0,detail:0}),Lne=Mi($h),aA,lA,Id,Oy=hn({},$h,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Id&&(Id&&e.type==="mousemove"?(aA=e.screenX-Id.screenX,lA=e.screenY-Id.screenY):lA=aA=0,Id=e),aA)},movementY:function(e){return"movementY"in e?e.movementY:lA}}),uI=Mi(Oy),Nne=hn({},Oy,{dataTransfer:0}),Bne=Mi(Nne),Dne=hn({},$h,{relatedTarget:0}),cA=Mi(Dne),$ne=hn({},id,{animationName:0,elapsedTime:0,pseudoElement:0}),Fne=Mi($ne),zne=hn({},id,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Une=Mi(zne),Hne=hn({},id,{data:0}),dI=Mi(Hne),Gne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qne[e])?!!t[e]:!1}function bw(){return Kne}var Yne=hn({},$h,{key:function(e){if(e.key){var t=Gne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bw,charCode:function(e){return e.type==="keypress"?Bg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qne=Mi(Yne),Jne=hn({},Oy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fI=Mi(Jne),Xne=hn({},$h,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bw}),Zne=Mi(Xne),ere=hn({},id,{propertyName:0,elapsedTime:0,pseudoElement:0}),tre=Mi(ere),nre=hn({},Oy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rre=Mi(nre),ire=[9,13,27,32],_w=Do&&"CompositionEvent"in window,bf=null;Do&&"documentMode"in document&&(bf=document.documentMode);var sre=Do&&"TextEvent"in window&&!bf,qV=Do&&(!_w||bf&&8<bf&&11>=bf),hI=" ",pI=!1;function KV(e,t){switch(e){case"keyup":return ire.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $c=!1;function ore(e,t){switch(e){case"compositionend":return YV(t);case"keypress":return t.which!==32?null:(pI=!0,hI);case"textInput":return e=t.data,e===hI&&pI?null:e;default:return null}}function are(e,t){if($c)return e==="compositionend"||!_w&&KV(e,t)?(e=WV(),Ng=vw=ga=null,$c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qV&&t.locale!=="ko"?null:t.data;default:return null}}var lre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lre[e.type]:t==="textarea"}function QV(e,t,n,r){kV(r),t=Qm(t,"onChange"),0<t.length&&(n=new Aw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _f=null,th=null;function cre(e){aL(e,0)}function Vy(e){var t=Uc(e);if(bV(t))return e}function ure(e,t){if(e==="change")return t}var JV=!1;if(Do){var uA;if(Do){var dA="oninput"in document;if(!dA){var mI=document.createElement("div");mI.setAttribute("oninput","return;"),dA=typeof mI.oninput=="function"}uA=dA}else uA=!1;JV=uA&&(!document.documentMode||9<document.documentMode)}function yI(){_f&&(_f.detachEvent("onpropertychange",XV),th=_f=null)}function XV(e){if(e.propertyName==="value"&&Vy(th)){var t=[];QV(t,th,e,hw(e)),MV(cre,t)}}function dre(e,t,n){e==="focusin"?(yI(),_f=t,th=n,_f.attachEvent("onpropertychange",XV)):e==="focusout"&&yI()}function fre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vy(th)}function hre(e,t){if(e==="click")return Vy(t)}function pre(e,t){if(e==="input"||e==="change")return Vy(t)}function gre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ns=typeof Object.is=="function"?Object.is:gre;function nh(e,t){if(Ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bb.call(t,i)||!Ns(e[i],t[i]))return!1}return!0}function vI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AI(e,t){var n=vI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vI(n)}}function ZV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eL(){for(var e=window,t=Um();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Um(e.document)}return t}function Sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mre(e){var t=eL(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ZV(n.ownerDocument.documentElement,n)){if(r!==null&&Sw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=AI(n,s);var o=AI(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yre=Do&&"documentMode"in document&&11>=document.documentMode,Fc=null,r_=null,Sf=null,i_=!1;function bI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;i_||Fc==null||Fc!==Um(r)||(r=Fc,"selectionStart"in r&&Sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sf&&nh(Sf,r)||(Sf=r,r=Qm(r_,"onSelect"),0<r.length&&(t=new Aw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fc)))}function zp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zc={animationend:zp("Animation","AnimationEnd"),animationiteration:zp("Animation","AnimationIteration"),animationstart:zp("Animation","AnimationStart"),transitionend:zp("Transition","TransitionEnd")},fA={},tL={};Do&&(tL=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Ly(e){if(fA[e])return fA[e];if(!zc[e])return e;var t=zc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tL)return fA[e]=t[n];return e}var nL=Ly("animationend"),rL=Ly("animationiteration"),iL=Ly("animationstart"),sL=Ly("transitionend"),oL=new Map,_I="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(e,t){oL.set(e,t),lc(t,[e])}for(var hA=0;hA<_I.length;hA++){var pA=_I[hA],vre=pA.toLowerCase(),Are=pA[0].toUpperCase()+pA.slice(1);za(vre,"on"+Are)}za(nL,"onAnimationEnd");za(rL,"onAnimationIteration");za(iL,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(sL,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);lc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lc("onBeforeInput",["compositionend","keypress","textInput","paste"]);lc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bre=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yd));function SI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vne(r,t,void 0,e),e.currentTarget=null}function aL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;SI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;SI(i,a,c),s=l}}}if(Gm)throw e=Zb,Gm=!1,Zb=null,e}function Wt(e,t){var n=t[c_];n===void 0&&(n=t[c_]=new Set);var r=e+"__bubble";n.has(r)||(lL(t,e,2,!1),n.add(r))}function gA(e,t,n){var r=0;t&&(r|=4),lL(n,e,r,t)}var Up="_reactListening"+Math.random().toString(36).slice(2);function rh(e){if(!e[Up]){e[Up]=!0,gV.forEach(function(n){n!=="selectionchange"&&(bre.has(n)||gA(n,!1,e),gA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Up]||(t[Up]=!0,gA("selectionchange",!1,t))}}function lL(e,t,n,r){switch(GV(t)){case 1:var i=One;break;case 4:i=Vne;break;default:i=yw}n=i.bind(null,t,n,e),i=void 0,!Xb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mA(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ml(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}MV(function(){var c=s,u=hw(n),d=[];e:{var h=oL.get(e);if(h!==void 0){var p=Aw,g=e;switch(e){case"keypress":if(Bg(n)===0)break e;case"keydown":case"keyup":p=Qne;break;case"focusin":g="focus",p=cA;break;case"focusout":g="blur",p=cA;break;case"beforeblur":case"afterblur":p=cA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Zne;break;case nL:case rL:case iL:p=Fne;break;case sL:p=tre;break;case"scroll":p=Lne;break;case"wheel":p=rre;break;case"copy":case"cut":case"paste":p=Une;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fI}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var A=c,_;A!==null;){_=A;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,y!==null&&(x=Jf(A,y),x!=null&&m.push(ih(A,x,_)))),b)break;A=A.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Qb&&(g=n.relatedTarget||n.fromElement)&&(ml(g)||g[$o]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?ml(g):null,g!==null&&(b=cc(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=uI,x="onMouseLeave",y="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(m=fI,x="onPointerLeave",y="onPointerEnter",A="pointer"),b=p==null?h:Uc(p),_=g==null?h:Uc(g),h=new m(x,A+"leave",p,n,u),h.target=b,h.relatedTarget=_,x=null,ml(u)===c&&(m=new m(y,A+"enter",g,n,u),m.target=_,m.relatedTarget=b,x=m),b=x,p&&g)t:{for(m=p,y=g,A=0,_=m;_;_=_c(_))A++;for(_=0,x=y;x;x=_c(x))_++;for(;0<A-_;)m=_c(m),A--;for(;0<_-A;)y=_c(y),_--;for(;A--;){if(m===y||y!==null&&m===y.alternate)break t;m=_c(m),y=_c(y)}m=null}else m=null;p!==null&&xI(d,h,p,m,!1),g!==null&&b!==null&&xI(d,b,g,m,!0)}}e:{if(h=c?Uc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=ure;else if(gI(h))if(JV)S=pre;else{S=fre;var E=dre}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=hre);if(S&&(S=S(e,c))){QV(d,S,n,u);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Gb(h,"number",h.value)}switch(E=c?Uc(c):window,e){case"focusin":(gI(E)||E.contentEditable==="true")&&(Fc=E,r_=c,Sf=null);break;case"focusout":Sf=r_=Fc=null;break;case"mousedown":i_=!0;break;case"contextmenu":case"mouseup":case"dragend":i_=!1,bI(d,n,u);break;case"selectionchange":if(yre)break;case"keydown":case"keyup":bI(d,n,u)}var C;if(_w)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else $c?KV(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(qV&&n.locale!=="ko"&&($c||k!=="onCompositionStart"?k==="onCompositionEnd"&&$c&&(C=WV()):(ga=u,vw="value"in ga?ga.value:ga.textContent,$c=!0)),E=Qm(c,k),0<E.length&&(k=new dI(k,e,null,n,u),d.push({event:k,listeners:E}),C?k.data=C:(C=YV(n),C!==null&&(k.data=C)))),(C=sre?ore(e,n):are(e,n))&&(c=Qm(c,"onBeforeInput"),0<c.length&&(u=new dI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}aL(d,t)})}function ih(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jf(e,n),s!=null&&r.unshift(ih(e,s,i)),s=Jf(e,t),s!=null&&r.push(ih(e,s,i))),e=e.return}return r}function _c(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xI(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Jf(n,s),l!=null&&o.unshift(ih(n,l,a))):i||(l=Jf(n,s),l!=null&&o.push(ih(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _re=/\r\n?/g,Sre=/\u0000|\uFFFD/g;function wI(e){return(typeof e=="string"?e:""+e).replace(_re,`
`).replace(Sre,"")}function Hp(e,t,n){if(t=wI(t),wI(e)!==t&&n)throw Error(ce(425))}function Jm(){}var s_=null,o_=null;function a_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var l_=typeof setTimeout=="function"?setTimeout:void 0,xre=typeof clearTimeout=="function"?clearTimeout:void 0,EI=typeof Promise=="function"?Promise:void 0,wre=typeof queueMicrotask=="function"?queueMicrotask:typeof EI<"u"?function(e){return EI.resolve(null).then(e).catch(Ere)}:l_;function Ere(e){setTimeout(function(){throw e})}function yA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),eh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eh(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sd=Math.random().toString(36).slice(2),Zs="__reactFiber$"+sd,sh="__reactProps$"+sd,$o="__reactContainer$"+sd,c_="__reactEvents$"+sd,Cre="__reactListeners$"+sd,kre="__reactHandles$"+sd;function ml(e){var t=e[Zs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$o]||n[Zs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=CI(e);e!==null;){if(n=e[Zs])return n;e=CI(e)}return t}e=n,n=e.parentNode}return null}function Fh(e){return e=e[Zs]||e[$o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Ny(e){return e[sh]||null}var u_=[],Hc=-1;function Ua(e){return{current:e}}function Yt(e){0>Hc||(e.current=u_[Hc],u_[Hc]=null,Hc--)}function Ht(e,t){Hc++,u_[Hc]=e.current,e.current=t}var Va={},Cr=Ua(Va),ni=Ua(!1),Wl=Va;function ju(e,t){var n=e.type.contextTypes;if(!n)return Va;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ri(e){return e=e.childContextTypes,e!=null}function Xm(){Yt(ni),Yt(Cr)}function kI(e,t,n){if(Cr.current!==Va)throw Error(ce(168));Ht(Cr,t),Ht(ni,n)}function cL(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ce(108,dne(e)||"Unknown",i));return hn({},n,r)}function Zm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Va,Wl=Cr.current,Ht(Cr,e),Ht(ni,ni.current),!0}function TI(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=cL(e,t,Wl),r.__reactInternalMemoizedMergedChildContext=e,Yt(ni),Yt(Cr),Ht(Cr,e)):Yt(ni),Ht(ni,n)}var bo=null,By=!1,vA=!1;function uL(e){bo===null?bo=[e]:bo.push(e)}function Tre(e){By=!0,uL(e)}function Ha(){if(!vA&&bo!==null){vA=!0;var e=0,t=Pt;try{var n=bo;for(Pt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bo=null,By=!1}catch(i){throw bo!==null&&(bo=bo.slice(e+1)),VV(pw,Ha),i}finally{Pt=t,vA=!1}}return null}var Gc=[],Wc=0,e0=null,t0=0,Ui=[],Hi=0,ql=null,Eo=1,Co="";function ol(e,t){Gc[Wc++]=t0,Gc[Wc++]=e0,e0=e,t0=t}function dL(e,t,n){Ui[Hi++]=Eo,Ui[Hi++]=Co,Ui[Hi++]=ql,ql=e;var r=Eo;e=Co;var i=32-Rs(r)-1;r&=~(1<<i),n+=1;var s=32-Rs(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Eo=1<<32-Rs(t)+i|n<<i|r,Co=s+e}else Eo=1<<s|n<<i|r,Co=e}function xw(e){e.return!==null&&(ol(e,1),dL(e,1,0))}function ww(e){for(;e===e0;)e0=Gc[--Wc],Gc[Wc]=null,t0=Gc[--Wc],Gc[Wc]=null;for(;e===ql;)ql=Ui[--Hi],Ui[Hi]=null,Co=Ui[--Hi],Ui[Hi]=null,Eo=Ui[--Hi],Ui[Hi]=null}var xi=null,Ai=null,rn=!1,xs=null;function fL(e,t){var n=Ki(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function II(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,Ai=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,Ai=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ql!==null?{id:Eo,overflow:Co}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ki(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xi=e,Ai=null,!0):!1;default:return!1}}function d_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function f_(e){if(rn){var t=Ai;if(t){var n=t;if(!II(e,t)){if(d_(e))throw Error(ce(418));t=wa(n.nextSibling);var r=xi;t&&II(e,t)?fL(r,n):(e.flags=e.flags&-4097|2,rn=!1,xi=e)}}else{if(d_(e))throw Error(ce(418));e.flags=e.flags&-4097|2,rn=!1,xi=e}}}function PI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Gp(e){if(e!==xi)return!1;if(!rn)return PI(e),rn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!a_(e.type,e.memoizedProps)),t&&(t=Ai)){if(d_(e))throw hL(),Error(ce(418));for(;t;)fL(e,t),t=wa(t.nextSibling)}if(PI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ai=wa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ai=null}}else Ai=xi?wa(e.stateNode.nextSibling):null;return!0}function hL(){for(var e=Ai;e;)e=wa(e.nextSibling)}function Ou(){Ai=xi=null,rn=!1}function Ew(e){xs===null?xs=[e]:xs.push(e)}var Ire=Go.ReactCurrentBatchConfig;function vs(e,t){if(e&&e.defaultProps){t=hn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var n0=Ua(null),r0=null,qc=null,Cw=null;function kw(){Cw=qc=r0=null}function Tw(e){var t=n0.current;Yt(n0),e._currentValue=t}function h_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fu(e,t){r0=e,Cw=qc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zr=!0),e.firstContext=null)}function os(e){var t=e._currentValue;if(Cw!==e)if(e={context:e,memoizedValue:t,next:null},qc===null){if(r0===null)throw Error(ce(308));qc=e,r0.dependencies={lanes:0,firstContext:e}}else qc=qc.next=e;return t}var yl=null;function Iw(e){yl===null?yl=[e]:yl.push(e)}function pL(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Iw(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fo(e,r)}function Fo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sa=!1;function Pw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fo(e,n)}return i=r.interleaved,i===null?(t.next=t,Iw(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fo(e,n)}function Dg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gw(e,n)}}function MI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function i0(e,t,n,r){var i=e.updateQueue;sa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=hn({},d,h);break e;case 2:sa=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Yl|=o,e.lanes=o,e.memoizedState=d}}function RI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var mL=new pV.Component().refs;function p_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:hn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dy={isMounted:function(e){return(e=e._reactInternals)?cc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$r(),i=ka(e),s=Ro(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ea(e,s,i),t!==null&&(js(t,e,i,r),Dg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$r(),i=ka(e),s=Ro(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ea(e,s,i),t!==null&&(js(t,e,i,r),Dg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$r(),r=ka(e),i=Ro(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ea(e,i,r),t!==null&&(js(t,e,r,n),Dg(t,e,r))}};function jI(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!nh(n,r)||!nh(i,s):!0}function yL(e,t,n){var r=!1,i=Va,s=t.contextType;return typeof s=="object"&&s!==null?s=os(s):(i=ri(t)?Wl:Cr.current,r=t.contextTypes,s=(r=r!=null)?ju(e,i):Va),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function OI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dy.enqueueReplaceState(t,t.state,null)}function g_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mL,Pw(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=os(s):(s=ri(t)?Wl:Cr.current,i.context=ju(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(p_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dy.enqueueReplaceState(i,i.state,null),i0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Pd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===mL&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function Wp(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function VI(e){var t=e._init;return t(e._payload)}function vL(e){function t(y,A){if(e){var _=y.deletions;_===null?(y.deletions=[A],y.flags|=16):_.push(A)}}function n(y,A){if(!e)return null;for(;A!==null;)t(y,A),A=A.sibling;return null}function r(y,A){for(y=new Map;A!==null;)A.key!==null?y.set(A.key,A):y.set(A.index,A),A=A.sibling;return y}function i(y,A){return y=Ta(y,A),y.index=0,y.sibling=null,y}function s(y,A,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<A?(y.flags|=2,A):_):(y.flags|=2,A)):(y.flags|=1048576,A)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,A,_,x){return A===null||A.tag!==6?(A=EA(_,y.mode,x),A.return=y,A):(A=i(A,_),A.return=y,A)}function l(y,A,_,x){var S=_.type;return S===Dc?u(y,A,_.props.children,x,_.key):A!==null&&(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ia&&VI(S)===A.type)?(x=i(A,_.props),x.ref=Pd(y,A,_),x.return=y,x):(x=Gg(_.type,_.key,_.props,null,y.mode,x),x.ref=Pd(y,A,_),x.return=y,x)}function c(y,A,_,x){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=CA(_,y.mode,x),A.return=y,A):(A=i(A,_.children||[]),A.return=y,A)}function u(y,A,_,x,S){return A===null||A.tag!==7?(A=Il(_,y.mode,x,S),A.return=y,A):(A=i(A,_),A.return=y,A)}function d(y,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return A=EA(""+A,y.mode,_),A.return=y,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vp:return _=Gg(A.type,A.key,A.props,null,y.mode,_),_.ref=Pd(y,null,A),_.return=y,_;case Bc:return A=CA(A,y.mode,_),A.return=y,A;case ia:var x=A._init;return d(y,x(A._payload),_)}if(qd(A)||Ed(A))return A=Il(A,y.mode,_,null),A.return=y,A;Wp(y,A)}return null}function h(y,A,_,x){var S=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(y,A,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vp:return _.key===S?l(y,A,_,x):null;case Bc:return _.key===S?c(y,A,_,x):null;case ia:return S=_._init,h(y,A,S(_._payload),x)}if(qd(_)||Ed(_))return S!==null?null:u(y,A,_,x,null);Wp(y,_)}return null}function p(y,A,_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(_)||null,a(A,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vp:return y=y.get(x.key===null?_:x.key)||null,l(A,y,x,S);case Bc:return y=y.get(x.key===null?_:x.key)||null,c(A,y,x,S);case ia:var E=x._init;return p(y,A,_,E(x._payload),S)}if(qd(x)||Ed(x))return y=y.get(_)||null,u(A,y,x,S,null);Wp(A,x)}return null}function g(y,A,_,x){for(var S=null,E=null,C=A,k=A=0,V=null;C!==null&&k<_.length;k++){C.index>k?(V=C,C=null):V=C.sibling;var w=h(y,C,_[k],x);if(w===null){C===null&&(C=V);break}e&&C&&w.alternate===null&&t(y,C),A=s(w,A,k),E===null?S=w:E.sibling=w,E=w,C=V}if(k===_.length)return n(y,C),rn&&ol(y,k),S;if(C===null){for(;k<_.length;k++)C=d(y,_[k],x),C!==null&&(A=s(C,A,k),E===null?S=C:E.sibling=C,E=C);return rn&&ol(y,k),S}for(C=r(y,C);k<_.length;k++)V=p(C,y,k,_[k],x),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?k:V.key),A=s(V,A,k),E===null?S=V:E.sibling=V,E=V);return e&&C.forEach(function(j){return t(y,j)}),rn&&ol(y,k),S}function m(y,A,_,x){var S=Ed(_);if(typeof S!="function")throw Error(ce(150));if(_=S.call(_),_==null)throw Error(ce(151));for(var E=S=null,C=A,k=A=0,V=null,w=_.next();C!==null&&!w.done;k++,w=_.next()){C.index>k?(V=C,C=null):V=C.sibling;var j=h(y,C,w.value,x);if(j===null){C===null&&(C=V);break}e&&C&&j.alternate===null&&t(y,C),A=s(j,A,k),E===null?S=j:E.sibling=j,E=j,C=V}if(w.done)return n(y,C),rn&&ol(y,k),S;if(C===null){for(;!w.done;k++,w=_.next())w=d(y,w.value,x),w!==null&&(A=s(w,A,k),E===null?S=w:E.sibling=w,E=w);return rn&&ol(y,k),S}for(C=r(y,C);!w.done;k++,w=_.next())w=p(C,y,k,w.value,x),w!==null&&(e&&w.alternate!==null&&C.delete(w.key===null?k:w.key),A=s(w,A,k),E===null?S=w:E.sibling=w,E=w);return e&&C.forEach(function(z){return t(y,z)}),rn&&ol(y,k),S}function b(y,A,_,x){if(typeof _=="object"&&_!==null&&_.type===Dc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Vp:e:{for(var S=_.key,E=A;E!==null;){if(E.key===S){if(S=_.type,S===Dc){if(E.tag===7){n(y,E.sibling),A=i(E,_.props.children),A.return=y,y=A;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ia&&VI(S)===E.type){n(y,E.sibling),A=i(E,_.props),A.ref=Pd(y,E,_),A.return=y,y=A;break e}n(y,E);break}else t(y,E);E=E.sibling}_.type===Dc?(A=Il(_.props.children,y.mode,x,_.key),A.return=y,y=A):(x=Gg(_.type,_.key,_.props,null,y.mode,x),x.ref=Pd(y,A,_),x.return=y,y=x)}return o(y);case Bc:e:{for(E=_.key;A!==null;){if(A.key===E)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){n(y,A.sibling),A=i(A,_.children||[]),A.return=y,y=A;break e}else{n(y,A);break}else t(y,A);A=A.sibling}A=CA(_,y.mode,x),A.return=y,y=A}return o(y);case ia:return E=_._init,b(y,A,E(_._payload),x)}if(qd(_))return g(y,A,_,x);if(Ed(_))return m(y,A,_,x);Wp(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,A!==null&&A.tag===6?(n(y,A.sibling),A=i(A,_),A.return=y,y=A):(n(y,A),A=EA(_,y.mode,x),A.return=y,y=A),o(y)):n(y,A)}return b}var Vu=vL(!0),AL=vL(!1),zh={},so=Ua(zh),oh=Ua(zh),ah=Ua(zh);function vl(e){if(e===zh)throw Error(ce(174));return e}function Mw(e,t){switch(Ht(ah,t),Ht(oh,e),Ht(so,zh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qb(t,e)}Yt(so),Ht(so,t)}function Lu(){Yt(so),Yt(oh),Yt(ah)}function bL(e){vl(ah.current);var t=vl(so.current),n=qb(t,e.type);t!==n&&(Ht(oh,e),Ht(so,n))}function Rw(e){oh.current===e&&(Yt(so),Yt(oh))}var cn=Ua(0);function s0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var AA=[];function jw(){for(var e=0;e<AA.length;e++)AA[e]._workInProgressVersionPrimary=null;AA.length=0}var $g=Go.ReactCurrentDispatcher,bA=Go.ReactCurrentBatchConfig,Kl=0,fn=null,zn=null,Zn=null,o0=!1,xf=!1,lh=0,Pre=0;function vr(){throw Error(ce(321))}function Ow(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ns(e[n],t[n]))return!1;return!0}function Vw(e,t,n,r,i,s){if(Kl=s,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$g.current=e===null||e.memoizedState===null?Ore:Vre,e=n(r,i),xf){s=0;do{if(xf=!1,lh=0,25<=s)throw Error(ce(301));s+=1,Zn=zn=null,t.updateQueue=null,$g.current=Lre,e=n(r,i)}while(xf)}if($g.current=a0,t=zn!==null&&zn.next!==null,Kl=0,Zn=zn=fn=null,o0=!1,t)throw Error(ce(300));return e}function Lw(){var e=lh!==0;return lh=0,e}function Ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?fn.memoizedState=Zn=e:Zn=Zn.next=e,Zn}function as(){if(zn===null){var e=fn.alternate;e=e!==null?e.memoizedState:null}else e=zn.next;var t=Zn===null?fn.memoizedState:Zn.next;if(t!==null)Zn=t,zn=e;else{if(e===null)throw Error(ce(310));zn=e,e={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Zn===null?fn.memoizedState=Zn=e:Zn=Zn.next=e}return Zn}function ch(e,t){return typeof t=="function"?t(e):t}function _A(e){var t=as(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=zn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Kl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,fn.lanes|=u,Yl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ns(r,t.memoizedState)||(Zr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,fn.lanes|=s,Yl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function SA(e){var t=as(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ns(s,t.memoizedState)||(Zr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _L(){}function SL(e,t){var n=fn,r=as(),i=t(),s=!Ns(r.memoizedState,i);if(s&&(r.memoizedState=i,Zr=!0),r=r.queue,Nw(EL.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,uh(9,wL.bind(null,n,r,i,t),void 0,null),nr===null)throw Error(ce(349));Kl&30||xL(n,t,i)}return i}function xL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wL(e,t,n,r){t.value=n,t.getSnapshot=r,CL(t)&&kL(e)}function EL(e,t,n){return n(function(){CL(t)&&kL(e)})}function CL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ns(e,n)}catch{return!0}}function kL(e){var t=Fo(e,1);t!==null&&js(t,e,1,-1)}function LI(e){var t=Ws();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:e},t.queue=e,e=e.dispatch=jre.bind(null,fn,e),[t.memoizedState,e]}function uh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function TL(){return as().memoizedState}function Fg(e,t,n,r){var i=Ws();fn.flags|=e,i.memoizedState=uh(1|t,n,void 0,r===void 0?null:r)}function $y(e,t,n,r){var i=as();r=r===void 0?null:r;var s=void 0;if(zn!==null){var o=zn.memoizedState;if(s=o.destroy,r!==null&&Ow(r,o.deps)){i.memoizedState=uh(t,n,s,r);return}}fn.flags|=e,i.memoizedState=uh(1|t,n,s,r)}function NI(e,t){return Fg(8390656,8,e,t)}function Nw(e,t){return $y(2048,8,e,t)}function IL(e,t){return $y(4,2,e,t)}function PL(e,t){return $y(4,4,e,t)}function ML(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RL(e,t,n){return n=n!=null?n.concat([e]):null,$y(4,4,ML.bind(null,t,e),n)}function Bw(){}function jL(e,t){var n=as();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ow(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function OL(e,t){var n=as();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ow(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VL(e,t,n){return Kl&21?(Ns(n,t)||(n=BV(),fn.lanes|=n,Yl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zr=!0),e.memoizedState=n)}function Mre(e,t){var n=Pt;Pt=n!==0&&4>n?n:4,e(!0);var r=bA.transition;bA.transition={};try{e(!1),t()}finally{Pt=n,bA.transition=r}}function LL(){return as().memoizedState}function Rre(e,t,n){var r=ka(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NL(e))BL(t,n);else if(n=pL(e,t,n,r),n!==null){var i=$r();js(n,e,r,i),DL(n,t,r)}}function jre(e,t,n){var r=ka(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NL(e))BL(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ns(a,o)){var l=t.interleaved;l===null?(i.next=i,Iw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=pL(e,t,i,r),n!==null&&(i=$r(),js(n,e,r,i),DL(n,t,r))}}function NL(e){var t=e.alternate;return e===fn||t!==null&&t===fn}function BL(e,t){xf=o0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function DL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gw(e,n)}}var a0={readContext:os,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},Ore={readContext:os,useCallback:function(e,t){return Ws().memoizedState=[e,t===void 0?null:t],e},useContext:os,useEffect:NI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fg(4194308,4,ML.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fg(4,2,e,t)},useMemo:function(e,t){var n=Ws();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ws();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rre.bind(null,fn,e),[r.memoizedState,e]},useRef:function(e){var t=Ws();return e={current:e},t.memoizedState=e},useState:LI,useDebugValue:Bw,useDeferredValue:function(e){return Ws().memoizedState=e},useTransition:function(){var e=LI(!1),t=e[0];return e=Mre.bind(null,e[1]),Ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fn,i=Ws();if(rn){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),nr===null)throw Error(ce(349));Kl&30||xL(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,NI(EL.bind(null,r,s,e),[e]),r.flags|=2048,uh(9,wL.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ws(),t=nr.identifierPrefix;if(rn){var n=Co,r=Eo;n=(r&~(1<<32-Rs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=lh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pre++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vre={readContext:os,useCallback:jL,useContext:os,useEffect:Nw,useImperativeHandle:RL,useInsertionEffect:IL,useLayoutEffect:PL,useMemo:OL,useReducer:_A,useRef:TL,useState:function(){return _A(ch)},useDebugValue:Bw,useDeferredValue:function(e){var t=as();return VL(t,zn.memoizedState,e)},useTransition:function(){var e=_A(ch)[0],t=as().memoizedState;return[e,t]},useMutableSource:_L,useSyncExternalStore:SL,useId:LL,unstable_isNewReconciler:!1},Lre={readContext:os,useCallback:jL,useContext:os,useEffect:Nw,useImperativeHandle:RL,useInsertionEffect:IL,useLayoutEffect:PL,useMemo:OL,useReducer:SA,useRef:TL,useState:function(){return SA(ch)},useDebugValue:Bw,useDeferredValue:function(e){var t=as();return zn===null?t.memoizedState=e:VL(t,zn.memoizedState,e)},useTransition:function(){var e=SA(ch)[0],t=as().memoizedState;return[e,t]},useMutableSource:_L,useSyncExternalStore:SL,useId:LL,unstable_isNewReconciler:!1};function Nu(e,t){try{var n="",r=t;do n+=une(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function xA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function m_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nre=typeof WeakMap=="function"?WeakMap:Map;function $L(e,t,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){c0||(c0=!0,C_=r),m_(e,t)},n}function FL(e,t,n){n=Ro(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){m_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){m_(e,t),typeof r!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function BI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Nre;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Jre.bind(null,e,t,n),t.then(e,e))}function DI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $I(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ro(-1,1),t.tag=2,Ea(n,t,1))),n.lanes|=1),e)}var Bre=Go.ReactCurrentOwner,Zr=!1;function Or(e,t,n,r){t.child=e===null?AL(t,null,n,r):Vu(t,e.child,n,r)}function FI(e,t,n,r,i){n=n.render;var s=t.ref;return fu(t,i),r=Vw(e,t,n,r,s,i),n=Lw(),e!==null&&!Zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zo(e,t,i)):(rn&&n&&xw(t),t.flags|=1,Or(e,t,r,i),t.child)}function zI(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ww(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,zL(e,t,s,r,i)):(e=Gg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nh,n(o,r)&&e.ref===t.ref)return zo(e,t,i)}return t.flags|=1,e=Ta(s,r),e.ref=t.ref,e.return=t,t.child=e}function zL(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(nh(s,r)&&e.ref===t.ref)if(Zr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Zr=!0);else return t.lanes=e.lanes,zo(e,t,i)}return y_(e,t,n,r,i)}function UL(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Yc,hi),hi|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ht(Yc,hi),hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ht(Yc,hi),hi|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ht(Yc,hi),hi|=r;return Or(e,t,i,n),t.child}function HL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function y_(e,t,n,r,i){var s=ri(n)?Wl:Cr.current;return s=ju(t,s),fu(t,i),n=Vw(e,t,n,r,s,i),r=Lw(),e!==null&&!Zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zo(e,t,i)):(rn&&r&&xw(t),t.flags|=1,Or(e,t,n,i),t.child)}function UI(e,t,n,r,i){if(ri(n)){var s=!0;Zm(t)}else s=!1;if(fu(t,i),t.stateNode===null)zg(e,t),yL(t,n,r),g_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=os(c):(c=ri(n)?Wl:Cr.current,c=ju(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&OI(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,i0(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ni.current||sa?(typeof u=="function"&&(p_(t,n,u,r),l=t.memoizedState),(a=sa||jI(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,gL(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vs(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=os(l):(l=ri(n)?Wl:Cr.current,l=ju(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&OI(t,o,r,l),sa=!1,h=t.memoizedState,o.state=h,i0(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||ni.current||sa?(typeof p=="function"&&(p_(t,n,p,r),g=t.memoizedState),(c=sa||jI(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return v_(e,t,n,r,s,i)}function v_(e,t,n,r,i,s){HL(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&TI(t,n,!1),zo(e,t,s);r=t.stateNode,Bre.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vu(t,e.child,null,s),t.child=Vu(t,null,a,s)):Or(e,t,a,s),t.memoizedState=r.state,i&&TI(t,n,!0),t.child}function GL(e){var t=e.stateNode;t.pendingContext?kI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kI(e,t.context,!1),Mw(e,t.containerInfo)}function HI(e,t,n,r,i){return Ou(),Ew(i),t.flags|=256,Or(e,t,n,r),t.child}var A_={dehydrated:null,treeContext:null,retryLane:0};function b_(e){return{baseLanes:e,cachePool:null,transitions:null}}function WL(e,t,n){var r=t.pendingProps,i=cn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ht(cn,i&1),e===null)return f_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Uy(o,r,0,null),e=Il(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=b_(n),t.memoizedState=A_,e):Dw(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Dre(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ta(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ta(a,s):(s=Il(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?b_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=A_,r}return s=e.child,e=s.sibling,r=Ta(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Dw(e,t){return t=Uy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qp(e,t,n,r){return r!==null&&Ew(r),Vu(t,e.child,null,n),e=Dw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dre(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=xA(Error(ce(422))),qp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Uy({mode:"visible",children:r.children},i,0,null),s=Il(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vu(t,e.child,null,o),t.child.memoizedState=b_(o),t.memoizedState=A_,s);if(!(t.mode&1))return qp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ce(419)),r=xA(s,r,void 0),qp(e,t,o,r)}if(a=(o&e.childLanes)!==0,Zr||a){if(r=nr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fo(e,i),js(r,e,i,-1))}return Gw(),r=xA(Error(ce(421))),qp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Xre.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ai=wa(i.nextSibling),xi=t,rn=!0,xs=null,e!==null&&(Ui[Hi++]=Eo,Ui[Hi++]=Co,Ui[Hi++]=ql,Eo=e.id,Co=e.overflow,ql=t),t=Dw(t,r.children),t.flags|=4096,t)}function GI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),h_(e.return,t,n)}function wA(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qL(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Or(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&GI(e,n,t);else if(e.tag===19)GI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ht(cn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&s0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wA(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&s0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wA(t,!0,n,null,s);break;case"together":wA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=Ta(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ta(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $re(e,t,n){switch(t.tag){case 3:GL(t),Ou();break;case 5:bL(t);break;case 1:ri(t.type)&&Zm(t);break;case 4:Mw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ht(n0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ht(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?WL(e,t,n):(Ht(cn,cn.current&1),e=zo(e,t,n),e!==null?e.sibling:null);Ht(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qL(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,UL(e,t,n)}return zo(e,t,n)}var KL,__,YL,QL;KL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};__=function(){};YL=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vl(so.current);var s=null;switch(n){case"input":i=Ub(e,i),r=Ub(e,r),s=[];break;case"select":i=hn({},i,{value:void 0}),r=hn({},r,{value:void 0}),s=[];break;case"textarea":i=Wb(e,i),r=Wb(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jm)}Kb(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};QL=function(e,t,n,r){n!==r&&(t.flags|=4)};function Md(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ar(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fre(e,t,n){var r=t.pendingProps;switch(ww(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(t),null;case 1:return ri(t.type)&&Xm(),Ar(t),null;case 3:return r=t.stateNode,Lu(),Yt(ni),Yt(Cr),jw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xs!==null&&(I_(xs),xs=null))),__(e,t),Ar(t),null;case 5:Rw(t);var i=vl(ah.current);if(n=t.type,e!==null&&t.stateNode!=null)YL(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ce(166));return Ar(t),null}if(e=vl(so.current),Gp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zs]=t,r[sh]=s,e=(t.mode&1)!==0,n){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(i=0;i<Yd.length;i++)Wt(Yd[i],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":eI(r,s),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wt("invalid",r);break;case"textarea":nI(r,s),Wt("invalid",r)}Kb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hp(r.textContent,a,e),i=["children",""+a]):Yf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Wt("scroll",r)}switch(n){case"input":Lp(r),tI(r,s,!0);break;case"textarea":Lp(r),rI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zs]=t,e[sh]=r,KL(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yb(n,r),n){case"dialog":Wt("cancel",e),Wt("close",e),i=r;break;case"iframe":case"object":case"embed":Wt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Yd.length;i++)Wt(Yd[i],e);i=r;break;case"source":Wt("error",e),i=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),i=r;break;case"details":Wt("toggle",e),i=r;break;case"input":eI(e,r),i=Ub(e,r),Wt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=hn({},r,{value:void 0}),Wt("invalid",e);break;case"textarea":nI(e,r),i=Wb(e,r),Wt("invalid",e);break;default:i=r}Kb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?CV(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wV(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qf(e,l):typeof l=="number"&&Qf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Wt("scroll",e):l!=null&&cw(e,s,l,o))}switch(n){case"input":Lp(e),tI(e,r,!1);break;case"textarea":Lp(e),rI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oa(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lu(e,!!r.multiple,s,!1):r.defaultValue!=null&&lu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ar(t),null;case 6:if(e&&t.stateNode!=null)QL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ce(166));if(n=vl(ah.current),vl(so.current),Gp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zs]=t,(s=r.nodeValue!==n)&&(e=xi,e!==null))switch(e.tag){case 3:Hp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zs]=t,t.stateNode=r}return Ar(t),null;case 13:if(Yt(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rn&&Ai!==null&&t.mode&1&&!(t.flags&128))hL(),Ou(),t.flags|=98560,s=!1;else if(s=Gp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ce(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Zs]=t}else Ou(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ar(t),s=!1}else xs!==null&&(I_(xs),xs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?Gn===0&&(Gn=3):Gw())),t.updateQueue!==null&&(t.flags|=4),Ar(t),null);case 4:return Lu(),__(e,t),e===null&&rh(t.stateNode.containerInfo),Ar(t),null;case 10:return Tw(t.type._context),Ar(t),null;case 17:return ri(t.type)&&Xm(),Ar(t),null;case 19:if(Yt(cn),s=t.memoizedState,s===null)return Ar(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Md(s,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=s0(e),o!==null){for(t.flags|=128,Md(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ht(cn,cn.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pn()>Bu&&(t.flags|=128,r=!0,Md(s,!1),t.lanes=4194304)}else{if(!r)if(e=s0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Md(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rn)return Ar(t),null}else 2*Pn()-s.renderingStartTime>Bu&&n!==1073741824&&(t.flags|=128,r=!0,Md(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pn(),t.sibling=null,n=cn.current,Ht(cn,r?n&1|2:n&1),t):(Ar(t),null);case 22:case 23:return Hw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hi&1073741824&&(Ar(t),t.subtreeFlags&6&&(t.flags|=8192)):Ar(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function zre(e,t){switch(ww(t),t.tag){case 1:return ri(t.type)&&Xm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lu(),Yt(ni),Yt(Cr),jw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rw(t),null;case 13:if(Yt(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Ou()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(cn),null;case 4:return Lu(),null;case 10:return Tw(t.type._context),null;case 22:case 23:return Hw(),null;case 24:return null;default:return null}}var Kp=!1,Sr=!1,Ure=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Kc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(e,t,r)}else n.current=null}function S_(e,t,n){try{n()}catch(r){vn(e,t,r)}}var WI=!1;function Hre(e,t){if(s_=Km,e=eL(),Sw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(o_={focusedElem:e,selectionRange:n},Km=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,y=t.stateNode,A=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vs(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(x){vn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return g=WI,WI=!1,g}function wf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&S_(t,n,s)}i=i.next}while(i!==r)}}function Fy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function x_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function JL(e){var t=e.alternate;t!==null&&(e.alternate=null,JL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zs],delete t[sh],delete t[c_],delete t[Cre],delete t[kre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XL(e){return e.tag===5||e.tag===3||e.tag===4}function qI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function w_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jm));else if(r!==4&&(e=e.child,e!==null))for(w_(e,t,n),e=e.sibling;e!==null;)w_(e,t,n),e=e.sibling}function E_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(E_(e,t,n),e=e.sibling;e!==null;)E_(e,t,n),e=e.sibling}var or=null,_s=!1;function Qo(e,t,n){for(n=n.child;n!==null;)ZL(e,t,n),n=n.sibling}function ZL(e,t,n){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(jy,n)}catch{}switch(n.tag){case 5:Sr||Kc(n,t);case 6:var r=or,i=_s;or=null,Qo(e,t,n),or=r,_s=i,or!==null&&(_s?(e=or,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):or.removeChild(n.stateNode));break;case 18:or!==null&&(_s?(e=or,n=n.stateNode,e.nodeType===8?yA(e.parentNode,n):e.nodeType===1&&yA(e,n),eh(e)):yA(or,n.stateNode));break;case 4:r=or,i=_s,or=n.stateNode.containerInfo,_s=!0,Qo(e,t,n),or=r,_s=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&S_(n,t,o),i=i.next}while(i!==r)}Qo(e,t,n);break;case 1:if(!Sr&&(Kc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vn(n,t,a)}Qo(e,t,n);break;case 21:Qo(e,t,n);break;case 22:n.mode&1?(Sr=(r=Sr)||n.memoizedState!==null,Qo(e,t,n),Sr=r):Qo(e,t,n);break;default:Qo(e,t,n)}}function KI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ure),t.forEach(function(r){var i=Zre.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ps(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,_s=!1;break e;case 3:or=a.stateNode.containerInfo,_s=!0;break e;case 4:or=a.stateNode.containerInfo,_s=!0;break e}a=a.return}if(or===null)throw Error(ce(160));ZL(s,o,i),or=null,_s=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e4(t,e),t=t.sibling}function e4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ps(t,e),Hs(e),r&4){try{wf(3,e,e.return),Fy(3,e)}catch(m){vn(e,e.return,m)}try{wf(5,e,e.return)}catch(m){vn(e,e.return,m)}}break;case 1:ps(t,e),Hs(e),r&512&&n!==null&&Kc(n,n.return);break;case 5:if(ps(t,e),Hs(e),r&512&&n!==null&&Kc(n,n.return),e.flags&32){var i=e.stateNode;try{Qf(i,"")}catch(m){vn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_V(i,s),Yb(a,o);var c=Yb(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?CV(i,d):u==="dangerouslySetInnerHTML"?wV(i,d):u==="children"?Qf(i,d):cw(i,u,d,c)}switch(a){case"input":Hb(i,s);break;case"textarea":SV(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?lu(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?lu(i,!!s.multiple,s.defaultValue,!0):lu(i,!!s.multiple,s.multiple?[]:"",!1))}i[sh]=s}catch(m){vn(e,e.return,m)}}break;case 6:if(ps(t,e),Hs(e),r&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){vn(e,e.return,m)}}break;case 3:if(ps(t,e),Hs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eh(t.containerInfo)}catch(m){vn(e,e.return,m)}break;case 4:ps(t,e),Hs(e);break;case 13:ps(t,e),Hs(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zw=Pn())),r&4&&KI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Sr=(c=Sr)||u,ps(t,e),Sr=c):ps(t,e),Hs(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(_e=e,u=e.child;u!==null;){for(d=_e=u;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:wf(4,h,h.return);break;case 1:Kc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){vn(r,n,m)}}break;case 5:Kc(h,h.return);break;case 22:if(h.memoizedState!==null){QI(d);continue}}p!==null?(p.return=h,_e=p):QI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EV("display",o))}catch(m){vn(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){vn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ps(t,e),Hs(e),r&4&&KI(e);break;case 21:break;default:ps(t,e),Hs(e)}}function Hs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(XL(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qf(i,""),r.flags&=-33);var s=qI(e);E_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qI(e);w_(e,a,o);break;default:throw Error(ce(161))}}catch(l){vn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gre(e,t,n){_e=e,t4(e)}function t4(e,t,n){for(var r=(e.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Kp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sr;a=Kp;var c=Sr;if(Kp=o,(Sr=l)&&!c)for(_e=i;_e!==null;)o=_e,l=o.child,o.tag===22&&o.memoizedState!==null?JI(i):l!==null?(l.return=o,_e=l):JI(i);for(;s!==null;)_e=s,t4(s),s=s.sibling;_e=i,Kp=a,Sr=c}YI(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):YI(e)}}function YI(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sr||Fy(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&RI(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}RI(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&eh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Sr||t.flags&512&&x_(t)}catch(h){vn(t,t.return,h)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function QI(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function JI(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fy(4,t)}catch(l){vn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){vn(t,i,l)}}var s=t.return;try{x_(t)}catch(l){vn(t,s,l)}break;case 5:var o=t.return;try{x_(t)}catch(l){vn(t,o,l)}}}catch(l){vn(t,t.return,l)}if(t===e){_e=null;break}var a=t.sibling;if(a!==null){a.return=t.return,_e=a;break}_e=t.return}}var Wre=Math.ceil,l0=Go.ReactCurrentDispatcher,$w=Go.ReactCurrentOwner,es=Go.ReactCurrentBatchConfig,pt=0,nr=null,$n=null,hr=0,hi=0,Yc=Ua(0),Gn=0,dh=null,Yl=0,zy=0,Fw=0,Ef=null,Yr=null,zw=0,Bu=1/0,vo=null,c0=!1,C_=null,Ca=null,Yp=!1,ma=null,u0=0,Cf=0,k_=null,Ug=-1,Hg=0;function $r(){return pt&6?Pn():Ug!==-1?Ug:Ug=Pn()}function ka(e){return e.mode&1?pt&2&&hr!==0?hr&-hr:Ire.transition!==null?(Hg===0&&(Hg=BV()),Hg):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:GV(e.type)),e):1}function js(e,t,n,r){if(50<Cf)throw Cf=0,k_=null,Error(ce(185));Dh(e,n,r),(!(pt&2)||e!==nr)&&(e===nr&&(!(pt&2)&&(zy|=n),Gn===4&&aa(e,hr)),ii(e,r),n===1&&pt===0&&!(t.mode&1)&&(Bu=Pn()+500,By&&Ha()))}function ii(e,t){var n=e.callbackNode;Ine(e,t);var r=qm(e,e===nr?hr:0);if(r===0)n!==null&&oI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&oI(n),t===1)e.tag===0?Tre(XI.bind(null,e)):uL(XI.bind(null,e)),wre(function(){!(pt&6)&&Ha()}),n=null;else{switch(DV(r)){case 1:n=pw;break;case 4:n=LV;break;case 16:n=Wm;break;case 536870912:n=NV;break;default:n=Wm}n=c4(n,n4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function n4(e,t){if(Ug=-1,Hg=0,pt&6)throw Error(ce(327));var n=e.callbackNode;if(hu()&&e.callbackNode!==n)return null;var r=qm(e,e===nr?hr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=d0(e,r);else{t=r;var i=pt;pt|=2;var s=i4();(nr!==e||hr!==t)&&(vo=null,Bu=Pn()+500,Tl(e,t));do try{Yre();break}catch(a){r4(e,a)}while(!0);kw(),l0.current=s,pt=i,$n!==null?t=0:(nr=null,hr=0,t=Gn)}if(t!==0){if(t===2&&(i=e_(e),i!==0&&(r=i,t=T_(e,i))),t===1)throw n=dh,Tl(e,0),aa(e,r),ii(e,Pn()),n;if(t===6)aa(e,r);else{if(i=e.current.alternate,!(r&30)&&!qre(i)&&(t=d0(e,r),t===2&&(s=e_(e),s!==0&&(r=s,t=T_(e,s))),t===1))throw n=dh,Tl(e,0),aa(e,r),ii(e,Pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:al(e,Yr,vo);break;case 3:if(aa(e,r),(r&130023424)===r&&(t=zw+500-Pn(),10<t)){if(qm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$r(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=l_(al.bind(null,e,Yr,vo),t);break}al(e,Yr,vo);break;case 4:if(aa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Rs(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wre(r/1960))-r,10<r){e.timeoutHandle=l_(al.bind(null,e,Yr,vo),r);break}al(e,Yr,vo);break;case 5:al(e,Yr,vo);break;default:throw Error(ce(329))}}}return ii(e,Pn()),e.callbackNode===n?n4.bind(null,e):null}function T_(e,t){var n=Ef;return e.current.memoizedState.isDehydrated&&(Tl(e,t).flags|=256),e=d0(e,t),e!==2&&(t=Yr,Yr=n,t!==null&&I_(t)),e}function I_(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function qre(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ns(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function aa(e,t){for(t&=~Fw,t&=~zy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rs(t),r=1<<n;e[n]=-1,t&=~r}}function XI(e){if(pt&6)throw Error(ce(327));hu();var t=qm(e,0);if(!(t&1))return ii(e,Pn()),null;var n=d0(e,t);if(e.tag!==0&&n===2){var r=e_(e);r!==0&&(t=r,n=T_(e,r))}if(n===1)throw n=dh,Tl(e,0),aa(e,t),ii(e,Pn()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,al(e,Yr,vo),ii(e,Pn()),null}function Uw(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(Bu=Pn()+500,By&&Ha())}}function Ql(e){ma!==null&&ma.tag===0&&!(pt&6)&&hu();var t=pt;pt|=1;var n=es.transition,r=Pt;try{if(es.transition=null,Pt=1,e)return e()}finally{Pt=r,es.transition=n,pt=t,!(pt&6)&&Ha()}}function Hw(){hi=Yc.current,Yt(Yc)}function Tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xre(n)),$n!==null)for(n=$n.return;n!==null;){var r=n;switch(ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xm();break;case 3:Lu(),Yt(ni),Yt(Cr),jw();break;case 5:Rw(r);break;case 4:Lu();break;case 13:Yt(cn);break;case 19:Yt(cn);break;case 10:Tw(r.type._context);break;case 22:case 23:Hw()}n=n.return}if(nr=e,$n=e=Ta(e.current,null),hr=hi=t,Gn=0,dh=null,Fw=zy=Yl=0,Yr=Ef=null,yl!==null){for(t=0;t<yl.length;t++)if(n=yl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yl=null}return e}function r4(e,t){do{var n=$n;try{if(kw(),$g.current=a0,o0){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}o0=!1}if(Kl=0,Zn=zn=fn=null,xf=!1,lh=0,$w.current=null,n===null||n.return===null){Gn=1,dh=t,$n=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=hr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=DI(o);if(p!==null){p.flags&=-257,$I(p,o,a,s,t),p.mode&1&&BI(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){BI(s,c,t),Gw();break e}l=Error(ce(426))}}else if(rn&&a.mode&1){var b=DI(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$I(b,o,a,s,t),Ew(Nu(l,a));break e}}s=l=Nu(l,a),Gn!==4&&(Gn=2),Ef===null?Ef=[s]:Ef.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=$L(s,l,t);MI(s,y);break e;case 1:a=l;var A=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ca===null||!Ca.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=FL(s,a,t);MI(s,x);break e}}s=s.return}while(s!==null)}o4(n)}catch(S){t=S,$n===n&&n!==null&&($n=n=n.return);continue}break}while(!0)}function i4(){var e=l0.current;return l0.current=a0,e===null?a0:e}function Gw(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),nr===null||!(Yl&268435455)&&!(zy&268435455)||aa(nr,hr)}function d0(e,t){var n=pt;pt|=2;var r=i4();(nr!==e||hr!==t)&&(vo=null,Tl(e,t));do try{Kre();break}catch(i){r4(e,i)}while(!0);if(kw(),pt=n,l0.current=r,$n!==null)throw Error(ce(261));return nr=null,hr=0,Gn}function Kre(){for(;$n!==null;)s4($n)}function Yre(){for(;$n!==null&&!bne();)s4($n)}function s4(e){var t=l4(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?o4(e):$n=t,$w.current=null}function o4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zre(n,t),n!==null){n.flags&=32767,$n=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,$n=null;return}}else if(n=Fre(n,t,hi),n!==null){$n=n;return}if(t=t.sibling,t!==null){$n=t;return}$n=t=e}while(t!==null);Gn===0&&(Gn=5)}function al(e,t,n){var r=Pt,i=es.transition;try{es.transition=null,Pt=1,Qre(e,t,n,r)}finally{es.transition=i,Pt=r}return null}function Qre(e,t,n,r){do hu();while(ma!==null);if(pt&6)throw Error(ce(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Pne(e,s),e===nr&&($n=nr=null,hr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yp||(Yp=!0,c4(Wm,function(){return hu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=es.transition,es.transition=null;var o=Pt;Pt=1;var a=pt;pt|=4,$w.current=null,Hre(e,n),e4(n,e),mre(o_),Km=!!s_,o_=s_=null,e.current=n,Gre(n),_ne(),pt=a,Pt=o,es.transition=s}else e.current=n;if(Yp&&(Yp=!1,ma=e,u0=i),s=e.pendingLanes,s===0&&(Ca=null),wne(n.stateNode),ii(e,Pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(c0)throw c0=!1,e=C_,C_=null,e;return u0&1&&e.tag!==0&&hu(),s=e.pendingLanes,s&1?e===k_?Cf++:(Cf=0,k_=e):Cf=0,Ha(),null}function hu(){if(ma!==null){var e=DV(u0),t=es.transition,n=Pt;try{if(es.transition=null,Pt=16>e?16:e,ma===null)var r=!1;else{if(e=ma,ma=null,u0=0,pt&6)throw Error(ce(331));var i=pt;for(pt|=4,_e=e.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:wf(8,u,s)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var h=u.sibling,p=u.return;if(JL(u),u===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,_e=y;break e}_e=s.return}}var A=e.current;for(_e=A;_e!==null;){o=_e;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,_e=_;else e:for(o=A;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fy(9,a)}}catch(S){vn(a,a.return,S)}if(a===o){_e=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,_e=x;break e}_e=a.return}}if(pt=i,Ha(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(jy,e)}catch{}r=!0}return r}finally{Pt=n,es.transition=t}}return!1}function ZI(e,t,n){t=Nu(n,t),t=$L(e,t,1),e=Ea(e,t,1),t=$r(),e!==null&&(Dh(e,1,t),ii(e,t))}function vn(e,t,n){if(e.tag===3)ZI(e,e,n);else for(;t!==null;){if(t.tag===3){ZI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ca===null||!Ca.has(r))){e=Nu(n,e),e=FL(t,e,1),t=Ea(t,e,1),e=$r(),t!==null&&(Dh(t,1,e),ii(t,e));break}}t=t.return}}function Jre(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$r(),e.pingedLanes|=e.suspendedLanes&n,nr===e&&(hr&n)===n&&(Gn===4||Gn===3&&(hr&130023424)===hr&&500>Pn()-zw?Tl(e,0):Fw|=n),ii(e,t)}function a4(e,t){t===0&&(e.mode&1?(t=Dp,Dp<<=1,!(Dp&130023424)&&(Dp=4194304)):t=1);var n=$r();e=Fo(e,t),e!==null&&(Dh(e,t,n),ii(e,n))}function Xre(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a4(e,n)}function Zre(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(t),a4(e,n)}var l4;l4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ni.current)Zr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zr=!1,$re(e,t,n);Zr=!!(e.flags&131072)}else Zr=!1,rn&&t.flags&1048576&&dL(t,t0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zg(e,t),e=t.pendingProps;var i=ju(t,Cr.current);fu(t,n),i=Vw(null,t,r,e,i,n);var s=Lw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ri(r)?(s=!0,Zm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pw(t),i.updater=Dy,t.stateNode=i,i._reactInternals=t,g_(t,r,e,n),t=v_(null,t,r,!0,s,n)):(t.tag=0,rn&&s&&xw(t),Or(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tie(r),e=vs(r,e),i){case 0:t=y_(null,t,r,e,n);break e;case 1:t=UI(null,t,r,e,n);break e;case 11:t=FI(null,t,r,e,n);break e;case 14:t=zI(null,t,r,vs(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vs(r,i),y_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vs(r,i),UI(e,t,r,i,n);case 3:e:{if(GL(t),e===null)throw Error(ce(387));r=t.pendingProps,s=t.memoizedState,i=s.element,gL(e,t),i0(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Nu(Error(ce(423)),t),t=HI(e,t,r,n,i);break e}else if(r!==i){i=Nu(Error(ce(424)),t),t=HI(e,t,r,n,i);break e}else for(Ai=wa(t.stateNode.containerInfo.firstChild),xi=t,rn=!0,xs=null,n=AL(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ou(),r===i){t=zo(e,t,n);break e}Or(e,t,r,n)}t=t.child}return t;case 5:return bL(t),e===null&&f_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,a_(r,i)?o=null:s!==null&&a_(r,s)&&(t.flags|=32),HL(e,t),Or(e,t,o,n),t.child;case 6:return e===null&&f_(t),null;case 13:return WL(e,t,n);case 4:return Mw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vu(t,null,r,n):Or(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vs(r,i),FI(e,t,r,i,n);case 7:return Or(e,t,t.pendingProps,n),t.child;case 8:return Or(e,t,t.pendingProps.children,n),t.child;case 12:return Or(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ht(n0,r._currentValue),r._currentValue=o,s!==null)if(Ns(s.value,o)){if(s.children===i.children&&!ni.current){t=zo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ro(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),h_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),h_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Or(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fu(t,n),i=os(i),r=r(i),t.flags|=1,Or(e,t,r,n),t.child;case 14:return r=t.type,i=vs(r,t.pendingProps),i=vs(r.type,i),zI(e,t,r,i,n);case 15:return zL(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vs(r,i),zg(e,t),t.tag=1,ri(r)?(e=!0,Zm(t)):e=!1,fu(t,n),yL(t,r,i),g_(t,r,i,n),v_(null,t,r,!0,e,n);case 19:return qL(e,t,n);case 22:return UL(e,t,n)}throw Error(ce(156,t.tag))};function c4(e,t){return VV(e,t)}function eie(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(e,t,n,r){return new eie(e,t,n,r)}function Ww(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tie(e){if(typeof e=="function")return Ww(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dw)return 11;if(e===fw)return 14}return 2}function Ta(e,t){var n=e.alternate;return n===null?(n=Ki(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gg(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ww(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dc:return Il(n.children,i,s,t);case uw:o=8,i|=8;break;case Db:return e=Ki(12,n,t,i|2),e.elementType=Db,e.lanes=s,e;case $b:return e=Ki(13,n,t,i),e.elementType=$b,e.lanes=s,e;case Fb:return e=Ki(19,n,t,i),e.elementType=Fb,e.lanes=s,e;case vV:return Uy(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mV:o=10;break e;case yV:o=9;break e;case dw:o=11;break e;case fw:o=14;break e;case ia:o=16,r=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Ki(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Il(e,t,n,r){return e=Ki(7,e,r,t),e.lanes=n,e}function Uy(e,t,n,r){return e=Ki(22,e,r,t),e.elementType=vV,e.lanes=n,e.stateNode={isHidden:!1},e}function EA(e,t,n){return e=Ki(6,e,null,t),e.lanes=n,e}function CA(e,t,n){return t=Ki(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nie(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oA(0),this.expirationTimes=oA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qw(e,t,n,r,i,s,o,a,l){return e=new nie(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ki(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pw(s),e}function rie(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function u4(e){if(!e)return Va;e=e._reactInternals;e:{if(cc(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(ri(n))return cL(e,n,t)}return t}function d4(e,t,n,r,i,s,o,a,l){return e=qw(n,r,!0,e,i,s,o,a,l),e.context=u4(null),n=e.current,r=$r(),i=ka(n),s=Ro(r,i),s.callback=t??null,Ea(n,s,i),e.current.lanes=i,Dh(e,i,r),ii(e,r),e}function Hy(e,t,n,r){var i=t.current,s=$r(),o=ka(i);return n=u4(n),t.context===null?t.context=n:t.pendingContext=n,t=Ro(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ea(i,t,o),e!==null&&(js(e,i,o,s),Dg(e,i,o)),o}function f0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kw(e,t){eP(e,t),(e=e.alternate)&&eP(e,t)}function iie(){return null}var f4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yw(e){this._internalRoot=e}Gy.prototype.render=Yw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Hy(e,t,null,null)};Gy.prototype.unmount=Yw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ql(function(){Hy(null,e,null,null)}),t[$o]=null}};function Gy(e){this._internalRoot=e}Gy.prototype.unstable_scheduleHydration=function(e){if(e){var t=zV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oa.length&&t!==0&&t<oa[n].priority;n++);oa.splice(n,0,e),n===0&&HV(e)}};function Qw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tP(){}function sie(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=f0(o);s.call(c)}}var o=d4(t,r,e,0,null,!1,!1,"",tP);return e._reactRootContainer=o,e[$o]=o.current,rh(e.nodeType===8?e.parentNode:e),Ql(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=f0(l);a.call(c)}}var l=qw(e,0,!1,null,null,!1,!1,"",tP);return e._reactRootContainer=l,e[$o]=l.current,rh(e.nodeType===8?e.parentNode:e),Ql(function(){Hy(t,l,n,r)}),l}function qy(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=f0(o);a.call(l)}}Hy(t,o,e,i)}else o=sie(n,t,e,i,r);return f0(o)}$V=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kd(t.pendingLanes);n!==0&&(gw(t,n|1),ii(t,Pn()),!(pt&6)&&(Bu=Pn()+500,Ha()))}break;case 13:Ql(function(){var r=Fo(e,1);if(r!==null){var i=$r();js(r,e,1,i)}}),Kw(e,1)}};mw=function(e){if(e.tag===13){var t=Fo(e,134217728);if(t!==null){var n=$r();js(t,e,134217728,n)}Kw(e,134217728)}};FV=function(e){if(e.tag===13){var t=ka(e),n=Fo(e,t);if(n!==null){var r=$r();js(n,e,t,r)}Kw(e,t)}};zV=function(){return Pt};UV=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}};Jb=function(e,t,n){switch(t){case"input":if(Hb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ny(r);if(!i)throw Error(ce(90));bV(r),Hb(r,i)}}}break;case"textarea":SV(e,n);break;case"select":t=n.value,t!=null&&lu(e,!!n.multiple,t,!1)}};IV=Uw;PV=Ql;var oie={usingClientEntryPoint:!1,Events:[Fh,Uc,Ny,kV,TV,Uw]},Rd={findFiberByHostInstance:ml,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aie={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Go.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jV(e),e===null?null:e.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||iie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{jy=Qp.inject(aie),io=Qp}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oie;Pi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qw(t))throw Error(ce(200));return rie(e,t,null,n)};Pi.createRoot=function(e,t){if(!Qw(e))throw Error(ce(299));var n=!1,r="",i=f4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qw(e,1,!1,null,null,n,!1,r,i),e[$o]=t.current,rh(e.nodeType===8?e.parentNode:e),new Yw(t)};Pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=jV(t),e=e===null?null:e.stateNode,e};Pi.flushSync=function(e){return Ql(e)};Pi.hydrate=function(e,t,n){if(!Wy(t))throw Error(ce(200));return qy(null,e,t,!0,n)};Pi.hydrateRoot=function(e,t,n){if(!Qw(e))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=f4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=d4(t,null,e,1,n??null,i,!1,s,o),e[$o]=t.current,rh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gy(t)};Pi.render=function(e,t,n){if(!Wy(t))throw Error(ce(200));return qy(null,e,t,!1,n)};Pi.unmountComponentAtNode=function(e){if(!Wy(e))throw Error(ce(40));return e._reactRootContainer?(Ql(function(){qy(null,null,e,!1,function(){e._reactRootContainer=null,e[$o]=null})}),!0):!1};Pi.unstable_batchedUpdates=Uw;Pi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wy(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return qy(e,t,n,!1,r)};Pi.version="18.2.0-next-9e3b772b8-20220608";function h4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h4)}catch(e){console.error(e)}}h4(),dV.exports=Pi;var uc=dV.exports;const Jp=gr(uc),nP={disabled:!1},h0=Te.createContext(null);var lie=function(t){return t.scrollTop},Qd="unmounted",ll="exited",cl="entering",Ic="entered",P_="exiting",Wo=function(e){uV(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ll,s.appearStatus=cl):l=Ic:r.unmountOnExit||r.mountOnEnter?l=Qd:l=ll,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Qd?{status:ll}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==cl&&o!==Ic&&(s=cl):(o===cl||o===Ic)&&(s=P_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===cl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Jp.findDOMNode(this);o&&lie(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ll&&this.setState({status:Qd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Jp.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||nP.disabled){this.safeSetState({status:Ic},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:cl},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:Ic},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Jp.findDOMNode(this);if(!s||nP.disabled){this.safeSetState({status:ll},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:P_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ll},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Jp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Qd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=cV(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Te.createElement(h0.Provider,{value:null},typeof o=="function"?o(i,a):Te.cloneElement(Te.Children.only(o),a))},t}(Te.Component);Wo.contextType=h0;Wo.propTypes={};function Sc(){}Wo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sc,onEntering:Sc,onEntered:Sc,onExit:Sc,onExiting:Sc,onExited:Sc};Wo.UNMOUNTED=Qd;Wo.EXITED=ll;Wo.ENTERING=cl;Wo.ENTERED=Ic;Wo.EXITING=P_;function cie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jw(e,t){var n=function(s){return t&&v.isValidElement(s)?t(s):s},r=Object.create(null);return e&&v.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function uie(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Al(e,t,n){return n[t]!=null?n[t]:e.props[t]}function die(e,t){return Jw(e.children,function(n){return v.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Al(n,"appear",e),enter:Al(n,"enter",e),exit:Al(n,"exit",e)})})}function fie(e,t,n){var r=Jw(e.children),i=uie(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(v.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Al(o,"exit",e),enter:Al(o,"enter",e)}):!l&&a&&!u?i[s]=v.cloneElement(o,{in:!1}):l&&a&&v.isValidElement(c)&&(i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Al(o,"exit",e),enter:Al(o,"enter",e)}))}}),i}var hie=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},pie={component:"div",childFactory:function(t){return t}},Xw=function(e){uV(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(cie(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?die(i,a):fie(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Jw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Rm({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=cV(i,["component","childFactory"]),l=this.state.contextValue,c=hie(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Te.createElement(h0.Provider,{value:l},c):Te.createElement(h0.Provider,{value:l},Te.createElement(s,a,c))},t}(Te.Component);Xw.propTypes={};Xw.defaultProps=pie;function gie(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=v.useState(!1),h=St(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=St(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),v.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Di=Tr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),M_=550,mie=80,yie=oc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,vie=oc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Aie=oc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,bie=Jt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),_ie=Jt(gie,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Di.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${yie};
    animation-duration: ${M_}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Di.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Di.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Di.childLeaving} {
    opacity: 0;
    animation-name: ${vie};
    animation-duration: ${M_}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Di.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Aie};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Sie=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=v.useRef(!1),p=EZ(),g=v.useRef(null),m=v.useRef(null),b=v.useCallback(x=>{const{pulsate:S,rippleX:E,rippleY:C,rippleSize:k,cb:V}=x;c(w=>[...w,f.jsx(_ie,{classes:{ripple:St(s.ripple,Di.ripple),rippleVisible:St(s.rippleVisible,Di.rippleVisible),ripplePulsate:St(s.ripplePulsate,Di.ripplePulsate),child:St(s.child,Di.child),childLeaving:St(s.childLeaving,Di.childLeaving),childPulsate:St(s.childPulsate,Di.childPulsate)},timeout:M_,pulsate:S,rippleX:E,rippleY:C,rippleSize:k},u.current)]),u.current+=1,d.current=V},[s]),y=v.useCallback((x={},S={},E=()=>{})=>{const{pulsate:C=!1,center:k=i||S.pulsate,fakeElement:V=!1}=S;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const w=V?null:m.current,j=w?w.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,R,L;if(k||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)z=Math.round(j.width/2),R=Math.round(j.height/2);else{const{clientX:P,clientY:T}=x.touches&&x.touches.length>0?x.touches[0]:x;z=Math.round(P-j.left),R=Math.round(T-j.top)}if(k)L=Math.sqrt((2*j.width**2+j.height**2)/3),L%2===0&&(L+=1);else{const P=Math.max(Math.abs((w?w.clientWidth:0)-z),z)*2+2,T=Math.max(Math.abs((w?w.clientHeight:0)-R),R)*2+2;L=Math.sqrt(P**2+T**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{b({pulsate:C,rippleX:z,rippleY:R,rippleSize:L,cb:E})},p.start(mie,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:C,rippleX:z,rippleY:R,rippleSize:L,cb:E})},[i,b,p]),A=v.useCallback(()=>{y({},{pulsate:!0})},[y]),_=v.useCallback((x,S)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{_(x,S)});return}g.current=null,c(E=>E.length>0?E.slice(1):E),d.current=S},[p]);return v.useImperativeHandle(n,()=>({pulsate:A,start:y,stop:_}),[A,y,_]),f.jsx(bie,{className:St(Di.root,s.root,o),ref:m,...a,children:f.jsx(Xw,{component:null,exit:!0,children:l})})});function xie(e){return kr("MuiButtonBase",e)}const wie=Tr("MuiButtonBase",["root","disabled","focusVisible"]),Eie=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Ur({root:["root",t&&"disabled",n&&"focusVisible"]},xie,i);return n&&r&&(o.root+=` ${r}`),o},Cie=Jt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${wie.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),p4=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:m,onClick:b,onContextMenu:y,onDragLeave:A,onFocus:_,onFocusVisible:x,onKeyDown:S,onKeyUp:E,onMouseDown:C,onMouseLeave:k,onMouseUp:V,onTouchEnd:w,onTouchMove:j,onTouchStart:z,tabIndex:R=0,TouchRippleProps:L,touchRippleRef:P,type:T,...$}=r,N=v.useRef(null),F=rne(),D=Ra(F.ref,P),[G,U]=v.useState(!1);c&&G&&U(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{U(!0),N.current.focus()}}),[]);const ne=F.shouldMount&&!u&&!c;v.useEffect(()=>{G&&h&&!u&&F.pulsate()},[u,h,G,F]);function B(Ce,ct,Rt=d){return Nc(jt=>(ct&&ct(jt),Rt||F[Ce](jt),!0))}const fe=B("start",C),Z=B("stop",y),oe=B("stop",A),Pe=B("stop",V),Ee=B("stop",Ce=>{G&&Ce.preventDefault(),k&&k(Ce)}),ae=B("start",z),be=B("stop",w),Le=B("stop",j),Be=B("stop",Ce=>{jT(Ce.target)||U(!1),m&&m(Ce)},!1),ye=Nc(Ce=>{N.current||(N.current=Ce.currentTarget),jT(Ce.target)&&(U(!0),x&&x(Ce)),_&&_(Ce)}),Se=()=>{const Ce=N.current;return l&&l!=="button"&&!(Ce.tagName==="A"&&Ce.href)},Ke=Nc(Ce=>{h&&!Ce.repeat&&G&&Ce.key===" "&&F.stop(Ce,()=>{F.start(Ce)}),Ce.target===Ce.currentTarget&&Se()&&Ce.key===" "&&Ce.preventDefault(),S&&S(Ce),Ce.target===Ce.currentTarget&&Se()&&Ce.key==="Enter"&&!c&&(Ce.preventDefault(),b&&b(Ce))}),De=Nc(Ce=>{h&&Ce.key===" "&&G&&!Ce.defaultPrevented&&F.stop(Ce,()=>{F.pulsate(Ce)}),E&&E(Ce),b&&Ce.target===Ce.currentTarget&&Se()&&Ce.key===" "&&!Ce.defaultPrevented&&b(Ce)});let xe=l;xe==="button"&&($.href||$.to)&&(xe=g);const Je={};xe==="button"?(Je.type=T===void 0?"button":T,Je.disabled=c):(!$.href&&!$.to&&(Je.role="button"),c&&(Je["aria-disabled"]=c));const Et=Ra(n,N),Gt={...r,centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:R,focusVisible:G},Ct=Eie(Gt);return f.jsxs(Cie,{as:xe,className:St(Ct.root,a),ownerState:Gt,onBlur:Be,onClick:b,onContextMenu:Z,onFocus:ye,onKeyDown:Ke,onKeyUp:De,onMouseDown:fe,onMouseLeave:Ee,onMouseUp:Pe,onDragLeave:oe,onTouchEnd:be,onTouchMove:Le,onTouchStart:ae,ref:Et,tabIndex:c?-1:R,type:T,...Je,...$,children:[o,ne?f.jsx(Sie,{ref:D,center:s,...L}):null]})});function kie(e){return kr("MuiIconButton",e)}const Tie=Tr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Iie=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${at(r)}`,i&&`edge${at(i)}`,`size${at(s)}`]};return Ur(o,kie,t)},Pie=Jt(p4,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${at(n.color)}`],n.edge&&t[`edge${at(n.edge)}`],t[`size${at(n.size)}`]]}})(ss(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Es(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ss(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Kf()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Kf()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Es((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Tie.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),Ky=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",...d}=r,h={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,size:u},p=Iie(h);return f.jsx(Pie,{className:St(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,...d,ownerState:h,children:s})}),Du=Math.min,Pl=Math.max,p0=Math.round,Xp=Math.floor,La=e=>({x:e,y:e}),Mie={left:"right",right:"left",bottom:"top",top:"bottom"},Rie={start:"end",end:"start"};function R_(e,t,n){return Pl(e,Du(t,n))}function Uh(e,t){return typeof e=="function"?e(t):e}function Jl(e){return e.split("-")[0]}function Hh(e){return e.split("-")[1]}function g4(e){return e==="x"?"y":"x"}function Zw(e){return e==="y"?"height":"width"}function $u(e){return["top","bottom"].includes(Jl(e))?"y":"x"}function eE(e){return g4($u(e))}function jie(e,t,n){n===void 0&&(n=!1);const r=Hh(e),i=eE(e),s=Zw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=g0(o)),[o,g0(o)]}function Oie(e){const t=g0(e);return[j_(e),t,j_(t)]}function j_(e){return e.replace(/start|end/g,t=>Rie[t])}function Vie(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Lie(e,t,n,r){const i=Hh(e);let s=Vie(Jl(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(j_)))),s}function g0(e){return e.replace(/left|right|bottom|top/g,t=>Mie[t])}function Nie(e){return{top:0,right:0,bottom:0,left:0,...e}}function m4(e){return typeof e!="number"?Nie(e):{top:e,right:e,bottom:e,left:e}}function m0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function rP(e,t,n){let{reference:r,floating:i}=e;const s=$u(t),o=eE(t),a=Zw(o),l=Jl(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Hh(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const Bie=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=rP(c,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:y}=a[m],{x:A,y:_,data:x,reset:S}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=A??u,d=_??d,p={...p,[b]:{...p[b],...x}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:d}=rP(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function y4(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Uh(t,e),g=m4(p),b=a[h?d==="floating"?"reference":"floating":d],y=m0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=m0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:_,strategy:l}):A);return{top:(y.top-S.top+g.top)/x.y,bottom:(S.bottom-y.bottom+g.bottom)/x.y,left:(y.left-S.left+g.left)/x.x,right:(S.right-y.right+g.right)/x.x}}const Die=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Uh(e,t)||{};if(c==null)return{};const d=m4(u),h={x:n,y:r},p=eE(i),g=Zw(p),m=await o.getDimensions(c),b=p==="y",y=b?"top":"left",A=b?"bottom":"right",_=b?"clientHeight":"clientWidth",x=s.reference[g]+s.reference[p]-h[p]-s.floating[g],S=h[p]-s.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=E?E[_]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[_]||s.floating[g]);const k=x/2-S/2,V=C/2-m[g]/2-1,w=Du(d[y],V),j=Du(d[A],V),z=w,R=C-m[g]-j,L=C/2-m[g]/2+k,P=R_(z,L,R),T=!l.arrow&&Hh(i)!=null&&L!==P&&s.reference[g]/2-(L<z?w:j)-m[g]/2<0,$=T?L<z?L-z:L-R:0;return{[p]:h[p]+$,data:{[p]:P,centerOffset:L-P-$,...T&&{alignmentOffset:$}},reset:T}}}),$ie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=Uh(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Jl(i),A=$u(a),_=Jl(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(_||!m?[g0(a)]:Oie(a)),E=g!=="none";!h&&E&&S.push(...Lie(a,m,g,x));const C=[a,...S],k=await y4(t,b),V=[];let w=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&V.push(k[y]),d){const L=jie(i,o,x);V.push(k[L[0]],k[L[1]])}if(w=[...w,{placement:i,overflows:V}],!V.every(L=>L<=0)){var j,z;const L=(((j=s.flip)==null?void 0:j.index)||0)+1,P=C[L];if(P)return{data:{index:L,overflows:w},reset:{placement:P}};let T=(z=w.filter($=>$.overflows[0]<=0).sort(($,N)=>$.overflows[1]-N.overflows[1])[0])==null?void 0:z.placement;if(!T)switch(p){case"bestFit":{var R;const $=(R=w.filter(N=>{if(E){const F=$u(N.placement);return F===A||F==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((N,F)=>N[1]-F[1])[0])==null?void 0:R[0];$&&(T=$);break}case"initialPlacement":T=a;break}if(i!==T)return{reset:{placement:T}}}return{}}}};async function Fie(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Jl(n),a=Hh(n),l=$u(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Uh(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const zie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Fie(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Uie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:y,y:A}=b;return{x:y,y:A}}},...l}=Uh(e,t),c={x:n,y:r},u=await y4(t,l),d=$u(Jl(i)),h=g4(d);let p=c[h],g=c[d];if(s){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",A=p+u[b],_=p-u[y];p=R_(A,p,_)}if(o){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",A=g+u[b],_=g-u[y];g=R_(A,g,_)}const m=a.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function od(e){return v4(e)?(e.nodeName||"").toLowerCase():"#document"}function wi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qo(e){var t;return(t=(v4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function v4(e){return e instanceof Node||e instanceof wi(e).Node}function ao(e){return e instanceof Element||e instanceof wi(e).Element}function lo(e){return e instanceof HTMLElement||e instanceof wi(e).HTMLElement}function iP(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wi(e).ShadowRoot}function Gh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Bs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Hie(e){return["table","td","th"].includes(od(e))}function Yy(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function tE(e){const t=nE(),n=Bs(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Gie(e){let t=Na(e);for(;lo(t)&&!Fu(t);){if(Yy(t))return null;if(tE(t))return t;t=Na(t)}return null}function nE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fu(e){return["html","body","#document"].includes(od(e))}function Bs(e){return wi(e).getComputedStyle(e)}function Qy(e){return ao(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Na(e){if(od(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iP(e)&&e.host||qo(e);return iP(t)?t.host:t}function A4(e){const t=Na(e);return Fu(t)?e.ownerDocument?e.ownerDocument.body:e.body:lo(t)&&Gh(t)?t:A4(t)}function fh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=A4(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=wi(i);return s?t.concat(o,o.visualViewport||[],Gh(i)?i:[],o.frameElement&&n?fh(o.frameElement):[]):t.concat(i,fh(i,[],n))}function b4(e){const t=Bs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=lo(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=p0(n)!==s||p0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function rE(e){return ao(e)?e:e.contextElement}function pu(e){const t=rE(e);if(!lo(t))return La(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=b4(t);let o=(s?p0(n.width):n.width)/r,a=(s?p0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Wie=La(0);function _4(e){const t=wi(e);return!nE()||!t.visualViewport?Wie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qie(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wi(e)?!1:t}function Xl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=rE(e);let o=La(1);t&&(r?ao(r)&&(o=pu(r)):o=pu(e));const a=qie(s,n,r)?_4(s):La(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=wi(s),p=r&&ao(r)?wi(r):r;let g=h,m=g.frameElement;for(;m&&r&&p!==g;){const b=pu(m),y=m.getBoundingClientRect(),A=Bs(m),_=y.left+(m.clientLeft+parseFloat(A.paddingLeft))*b.x,x=y.top+(m.clientTop+parseFloat(A.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=_,c+=x,g=wi(m),m=g.frameElement}}return m0({width:u,height:d,x:l,y:c})}function Kie(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=qo(r),a=t?Yy(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=La(1);const u=La(0),d=lo(r);if((d||!d&&!s)&&((od(r)!=="body"||Gh(o))&&(l=Qy(r)),lo(r))){const h=Xl(r);c=pu(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Yie(e){return Array.from(e.getClientRects())}function S4(e){return Xl(qo(e)).left+Qy(e).scrollLeft}function Qie(e){const t=qo(e),n=Qy(e),r=e.ownerDocument.body,i=Pl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Pl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+S4(e);const a=-n.scrollTop;return Bs(r).direction==="rtl"&&(o+=Pl(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Jie(e,t){const n=wi(e),r=qo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=nE();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Xie(e,t){const n=Xl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=lo(e)?pu(e):La(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function sP(e,t,n){let r;if(t==="viewport")r=Jie(e,n);else if(t==="document")r=Qie(qo(e));else if(ao(t))r=Xie(t,n);else{const i=_4(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return m0(r)}function x4(e,t){const n=Na(e);return n===t||!ao(n)||Fu(n)?!1:Bs(n).position==="fixed"||x4(n,t)}function Zie(e,t){const n=t.get(e);if(n)return n;let r=fh(e,[],!1).filter(a=>ao(a)&&od(a)!=="body"),i=null;const s=Bs(e).position==="fixed";let o=s?Na(e):e;for(;ao(o)&&!Fu(o);){const a=Bs(o),l=tE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gh(o)&&!l&&x4(e,o))?r=r.filter(u=>u!==o):i=a,o=Na(o)}return t.set(e,r),r}function ese(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Yy(t)?[]:Zie(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=sP(t,u,i);return c.top=Pl(d.top,c.top),c.right=Du(d.right,c.right),c.bottom=Du(d.bottom,c.bottom),c.left=Pl(d.left,c.left),c},sP(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tse(e){const{width:t,height:n}=b4(e);return{width:t,height:n}}function nse(e,t,n){const r=lo(t),i=qo(t),s=n==="fixed",o=Xl(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=La(0);if(r||!r&&!s)if((od(t)!=="body"||Gh(i))&&(a=Qy(t)),r){const d=Xl(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=S4(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function kA(e){return Bs(e).position==="static"}function oP(e,t){return!lo(e)||Bs(e).position==="fixed"?null:t?t(e):e.offsetParent}function w4(e,t){const n=wi(e);if(Yy(e))return n;if(!lo(e)){let i=Na(e);for(;i&&!Fu(i);){if(ao(i)&&!kA(i))return i;i=Na(i)}return n}let r=oP(e,t);for(;r&&Hie(r)&&kA(r);)r=oP(r,t);return r&&Fu(r)&&kA(r)&&!tE(r)?n:r||Gie(e)||n}const rse=async function(e){const t=this.getOffsetParent||w4,n=this.getDimensions,r=await n(e.floating);return{reference:nse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ise(e){return Bs(e).direction==="rtl"}const sse={convertOffsetParentRelativeRectToViewportRelativeRect:Kie,getDocumentElement:qo,getClippingRect:ese,getOffsetParent:w4,getElementRects:rse,getClientRects:Yie,getDimensions:tse,getScale:pu,isElement:ao,isRTL:ise};function ose(e,t){let n=null,r;const i=qo(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const p=Xp(u),g=Xp(i.clientWidth-(c+d)),m=Xp(i.clientHeight-(u+h)),b=Xp(c),A={rootMargin:-p+"px "+-g+"px "+-m+"px "+-b+"px",threshold:Pl(0,Du(1,l))||1};let _=!0;function x(S){const E=S[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(x,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,A)}n.observe(e)}return o(!0),s}function ase(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=rE(e),u=i||s?[...c?fh(c):[],...fh(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?ose(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[A]=y;A&&A.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Xl(e):null;l&&b();function b(){const y=Xl(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,g=requestAnimationFrame(b)}return n(),()=>{var y;u.forEach(A=>{i&&A.removeEventListener("scroll",n),s&&A.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const lse=zie,cse=Uie,use=$ie,dse=Die,aP=(e,t,n)=>{const r=new Map,i={platform:sse,...n},s={...i.platform,_c:r};return Bie(e,t,{...i,platform:s})};var E4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(E4);var fse=E4.exports;const O_=gr(fse);var lP={};const hse="react-tooltip-core-styles",pse="react-tooltip-base-styles",cP={core:!1,base:!1};function uP({css:e,id:t=pse,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||cP[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:lP)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:lP)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=hse),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",o==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),cP[n]=!0}const dP=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[lse(Number(i)),use({fallbackAxisSideDirection:"start"}),cse({padding:5})],border:a})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push(dse({element:n,padding:5})),aP(e,t,{placement:r,strategy:s,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:a},{x:b,y}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},A=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",_=a&&{borderBottom:a,borderRight:a};let x=0;if(a){const S=`${a}`.match(/(\d+)px/);x=S!=null&&S[1]?Number(S[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:b!=null?`${b}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",..._,[A]:`-${4+x}px`},place:d}})):aP(e,t,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},fP=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),hP=(e,t,n)=>{let r=null;const i=function(...s){const o=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(o,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},pP=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",V_=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>V_(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!pP(e)||!pP(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>V_(e[i],t[i]))},gse=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},gP=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(gse(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},mse=typeof window<"u"?v.useLayoutEffect:v.useEffect,yse="DEFAULT_TOOLTIP_ID",vse={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Ase=v.createContext({getTooltipData:()=>vse});function C4(e=yse){return v.useContext(Ase).getTooltipData(e)}var xc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},TA={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const bse=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:a="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:b=!1,hidden:y=!1,noArrow:A=!1,clickable:_=!1,closeOnEsc:x=!1,closeOnScroll:S=!1,closeOnResize:E=!1,openEvents:C,closeEvents:k,globalCloseEvents:V,imperativeModeOnly:w,style:j,position:z,afterShow:R,afterHide:L,content:P,contentWrapperRef:T,isOpen:$,defaultIsOpen:N=!1,setIsOpen:F,activeAnchor:D,setActiveAnchor:G,border:U,opacity:ne,arrowColor:B,role:fe="tooltip"})=>{var Z;const oe=v.useRef(null),Pe=v.useRef(null),Ee=v.useRef(null),ae=v.useRef(null),be=v.useRef(null),[Le,Be]=v.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[ye,Se]=v.useState(!1),[Ke,De]=v.useState(!1),[xe,Je]=v.useState(null),Et=v.useRef(!1),Gt=v.useRef(null),{anchorRefs:Ct,setActiveAnchor:Ce}=C4(t),ct=v.useRef(!1),[Rt,jt]=v.useState([]),Me=v.useRef(!1),We=u||c.includes("click"),it=We||(C==null?void 0:C.click)||(C==null?void 0:C.dblclick)||(C==null?void 0:C.mousedown),st=C?{...C}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!C&&We&&Object.assign(st,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const sn=k?{...k}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!k&&We&&Object.assign(sn,{mouseleave:!1,blur:!1,mouseout:!1});const gt=V?{...V}:{escape:x||!1,scroll:S||!1,resize:E||!1,clickOutsideAnchor:it||!1};w&&(Object.assign(st,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(sn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(gt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),mse(()=>(Me.current=!0,()=>{Me.current=!1}),[]);const ut=Ae=>{Me.current&&(Ae&&De(!0),setTimeout(()=>{Me.current&&(F==null||F(Ae),$===void 0&&Se(Ae))},10))};v.useEffect(()=>{if($===void 0)return()=>null;$&&De(!0);const Ae=setTimeout(()=>{Se($)},10);return()=>{clearTimeout(Ae)}},[$]),v.useEffect(()=>{if(ye!==Et.current)if(be.current&&clearTimeout(be.current),Et.current=ye,ye)R==null||R();else{const Ae=(ze=>{const qe=ze.match(/^([\d.]+)(ms|s)$/);if(!qe)return 0;const[,Vn,Kn]=qe;return Number(Vn)*(Kn==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));be.current=setTimeout(()=>{De(!1),Je(null),L==null||L()},Ae+25)}},[ye]);const on=Ae=>{Be(ze=>V_(ze,Ae)?ze:Ae)},pn=(Ae=g)=>{Ee.current&&clearTimeout(Ee.current),Ke?ut(!0):Ee.current=setTimeout(()=>{ut(!0)},Ae)},Xt=(Ae=m)=>{ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{ct.current||ut(!1)},Ae)},At=Ae=>{var ze;if(!Ae)return;const qe=(ze=Ae.currentTarget)!==null&&ze!==void 0?ze:Ae.target;if(!(qe!=null&&qe.isConnected))return G(null),void Ce({current:null});g?pn():ut(!0),G(qe),Ce({current:qe}),ae.current&&clearTimeout(ae.current)},Fn=()=>{_?Xt(m||100):m?Xt():ut(!1),Ee.current&&clearTimeout(Ee.current)},yr=({x:Ae,y:ze})=>{var qe;const Vn={getBoundingClientRect:()=>({x:Ae,y:ze,width:0,height:0,top:ze,left:Ae,right:Ae,bottom:ze})};dP({place:(qe=xe==null?void 0:xe.place)!==null&&qe!==void 0?qe:a,offset:l,elementReference:Vn,tooltipReference:oe.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:U}).then(Kn=>{on(Kn)})},Sn=Ae=>{if(!Ae)return;const ze=Ae,qe={x:ze.clientX,y:ze.clientY};yr(qe),Gt.current=qe},Ri=Ae=>{var ze;if(!ye)return;const qe=Ae.target;qe.isConnected&&(!((ze=oe.current)===null||ze===void 0)&&ze.contains(qe)||[document.querySelector(`[id='${s}']`),...Rt].some(Vn=>Vn==null?void 0:Vn.contains(qe))||(ut(!1),Ee.current&&clearTimeout(Ee.current)))},ci=hP(At,50),kt=hP(Fn,50),xn=Ae=>{kt.cancel(),ci(Ae)},$e=()=>{ci.cancel(),kt()},tt=v.useCallback(()=>{var Ae,ze;const qe=(Ae=xe==null?void 0:xe.position)!==null&&Ae!==void 0?Ae:z;qe?yr(qe):b?Gt.current&&yr(Gt.current):D!=null&&D.isConnected&&dP({place:(ze=xe==null?void 0:xe.place)!==null&&ze!==void 0?ze:a,offset:l,elementReference:D,tooltipReference:oe.current,tooltipArrowReference:Pe.current,strategy:d,middlewares:h,border:U}).then(Vn=>{Me.current&&on(Vn)})},[ye,D,P,j,a,xe==null?void 0:xe.place,l,d,z,xe==null?void 0:xe.position,b]);v.useEffect(()=>{var Ae,ze;const qe=new Set(Ct);Rt.forEach(Ot=>{qe.add({current:Ot})});const Vn=document.querySelector(`[id='${s}']`);Vn&&qe.add({current:Vn});const Kn=()=>{ut(!1)},di=gP(D),ji=gP(oe.current);gt.scroll&&(window.addEventListener("scroll",Kn),di==null||di.addEventListener("scroll",Kn),ji==null||ji.addEventListener("scroll",Kn));let ir=null;gt.resize?window.addEventListener("resize",Kn):D&&oe.current&&(ir=ase(D,oe.current,tt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Gr=Ot=>{Ot.key==="Escape"&&ut(!1)};gt.escape&&window.addEventListener("keydown",Gr),gt.clickOutsideAnchor&&window.addEventListener("click",Ri);const Dt=[],Ka=Ot=>{ye&&(Ot==null?void 0:Ot.target)===D||At(Ot)},dv=Ot=>{ye&&(Ot==null?void 0:Ot.target)===D&&Fn()},Jh=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Xh=["click","dblclick","mousedown","mouseup"];Object.entries(st).forEach(([Ot,hs])=>{hs&&(Jh.includes(Ot)?Dt.push({event:Ot,listener:xn}):Xh.includes(Ot)&&Dt.push({event:Ot,listener:Ka}))}),Object.entries(sn).forEach(([Ot,hs])=>{hs&&(Jh.includes(Ot)?Dt.push({event:Ot,listener:$e}):Xh.includes(Ot)&&Dt.push({event:Ot,listener:dv}))}),b&&Dt.push({event:"pointermove",listener:Sn});const Zh=()=>{ct.current=!0},ep=()=>{ct.current=!1,Fn()};return _&&!it&&((Ae=oe.current)===null||Ae===void 0||Ae.addEventListener("mouseenter",Zh),(ze=oe.current)===null||ze===void 0||ze.addEventListener("mouseleave",ep)),Dt.forEach(({event:Ot,listener:hs})=>{qe.forEach(dd=>{var Ya;(Ya=dd.current)===null||Ya===void 0||Ya.addEventListener(Ot,hs)})}),()=>{var Ot,hs;gt.scroll&&(window.removeEventListener("scroll",Kn),di==null||di.removeEventListener("scroll",Kn),ji==null||ji.removeEventListener("scroll",Kn)),gt.resize?window.removeEventListener("resize",Kn):ir==null||ir(),gt.clickOutsideAnchor&&window.removeEventListener("click",Ri),gt.escape&&window.removeEventListener("keydown",Gr),_&&!it&&((Ot=oe.current)===null||Ot===void 0||Ot.removeEventListener("mouseenter",Zh),(hs=oe.current)===null||hs===void 0||hs.removeEventListener("mouseleave",ep)),Dt.forEach(({event:dd,listener:Ya})=>{qe.forEach(fv=>{var hc;(hc=fv.current)===null||hc===void 0||hc.removeEventListener(dd,Ya)})})}},[D,tt,Ke,Ct,Rt,C,k,V,We,g,m]),v.useEffect(()=>{var Ae,ze;let qe=(ze=(Ae=xe==null?void 0:xe.anchorSelect)!==null&&Ae!==void 0?Ae:o)!==null&&ze!==void 0?ze:"";!qe&&t&&(qe=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Vn=new MutationObserver(Kn=>{const di=[],ji=[];Kn.forEach(ir=>{if(ir.type==="attributes"&&ir.attributeName==="data-tooltip-id"&&(ir.target.getAttribute("data-tooltip-id")===t?di.push(ir.target):ir.oldValue===t&&ji.push(ir.target)),ir.type==="childList"){if(D){const Gr=[...ir.removedNodes].filter(Dt=>Dt.nodeType===1);if(qe)try{ji.push(...Gr.filter(Dt=>Dt.matches(qe))),ji.push(...Gr.flatMap(Dt=>[...Dt.querySelectorAll(qe)]))}catch{}Gr.some(Dt=>{var Ka;return!!(!((Ka=Dt==null?void 0:Dt.contains)===null||Ka===void 0)&&Ka.call(Dt,D))&&(De(!1),ut(!1),G(null),Ee.current&&clearTimeout(Ee.current),ae.current&&clearTimeout(ae.current),!0)})}if(qe)try{const Gr=[...ir.addedNodes].filter(Dt=>Dt.nodeType===1);di.push(...Gr.filter(Dt=>Dt.matches(qe))),di.push(...Gr.flatMap(Dt=>[...Dt.querySelectorAll(qe)]))}catch{}}}),(di.length||ji.length)&&jt(ir=>[...ir.filter(Gr=>!ji.includes(Gr)),...di])});return Vn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Vn.disconnect()}},[t,o,xe==null?void 0:xe.anchorSelect,D]),v.useEffect(()=>{tt()},[tt]),v.useEffect(()=>{if(!(T!=null&&T.current))return()=>null;const Ae=new ResizeObserver(()=>{setTimeout(()=>tt())});return Ae.observe(T.current),()=>{Ae.disconnect()}},[P,T==null?void 0:T.current]),v.useEffect(()=>{var Ae;const ze=document.querySelector(`[id='${s}']`),qe=[...Rt,ze];D&&qe.includes(D)||G((Ae=Rt[0])!==null&&Ae!==void 0?Ae:ze)},[s,Rt,D]),v.useEffect(()=>(N&&ut(!0),()=>{Ee.current&&clearTimeout(Ee.current),ae.current&&clearTimeout(ae.current)}),[]),v.useEffect(()=>{var Ae;let ze=(Ae=xe==null?void 0:xe.anchorSelect)!==null&&Ae!==void 0?Ae:o;if(!ze&&t&&(ze=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ze)try{const qe=Array.from(document.querySelectorAll(ze));jt(qe)}catch{jt([])}},[t,o,xe==null?void 0:xe.anchorSelect]),v.useEffect(()=>{Ee.current&&(clearTimeout(Ee.current),pn(g))},[g]);const qn=(Z=xe==null?void 0:xe.content)!==null&&Z!==void 0?Z:P,ui=ye&&Object.keys(Le.tooltipStyles).length>0;return v.useImperativeHandle(e,()=>({open:Ae=>{if(Ae!=null&&Ae.anchorSelect)try{document.querySelector(Ae.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Ae.anchorSelect}" is not a valid CSS selector`)}Je(Ae??null),Ae!=null&&Ae.delay?pn(Ae.delay):ut(!0)},close:Ae=>{Ae!=null&&Ae.delay?Xt(Ae.delay):ut(!1)},activeAnchor:D,place:Le.place,isOpen:!!(Ke&&!y&&qn&&ui)})),Ke&&!y&&qn?Te.createElement(p,{id:t,role:fe,className:O_("react-tooltip",xc.tooltip,TA.tooltip,TA[i],n,`react-tooltip__place-${Le.place}`,xc[ui?"show":"closing"],ui?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&xc.fixed,_&&xc.clickable),onTransitionEnd:Ae=>{be.current&&clearTimeout(be.current),ye||Ae.propertyName!=="opacity"||(De(!1),Je(null),L==null||L())},style:{...j,...Le.tooltipStyles,opacity:ne!==void 0&&ui?ne:void 0},ref:oe},qn,Te.createElement(p,{className:O_("react-tooltip-arrow",xc.arrow,TA.arrow,r,A&&xc.noArrow),style:{...Le.tooltipArrowStyles,background:B?`linear-gradient(to right bottom, transparent 50%, ${B} 50%)`:void 0},ref:Pe})):null},_se=({content:e})=>Te.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Sse=Te.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:a,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:b,delayShow:y=0,delayHide:A=0,float:_=!1,hidden:x=!1,noArrow:S=!1,clickable:E=!1,closeOnEsc:C=!1,closeOnScroll:k=!1,closeOnResize:V=!1,openEvents:w,closeEvents:j,globalCloseEvents:z,imperativeModeOnly:R=!1,style:L,position:P,isOpen:T,defaultIsOpen:$=!1,disableStyleInjection:N=!1,border:F,opacity:D,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:B,role:fe="tooltip"},Z)=>{const[oe,Pe]=v.useState(r),[Ee,ae]=v.useState(i),[be,Le]=v.useState(c),[Be,ye]=v.useState(l),[Se,Ke]=v.useState(u),[De,xe]=v.useState(y),[Je,Et]=v.useState(A),[Gt,Ct]=v.useState(_),[Ce,ct]=v.useState(x),[Rt,jt]=v.useState(d),[Me,We]=v.useState(p),[it,st]=v.useState(m),[sn,gt]=v.useState(null),[ut,on]=v.useState(null),pn=v.useRef(N),{anchorRefs:Xt,activeAnchor:At}=C4(e),Fn=kt=>kt==null?void 0:kt.getAttributeNames().reduce((xn,$e)=>{var tt;return $e.startsWith("data-tooltip-")&&(xn[$e.replace(/^data-tooltip-/,"")]=(tt=kt==null?void 0:kt.getAttribute($e))!==null&&tt!==void 0?tt:null),xn},{}),yr=kt=>{const xn={place:$e=>{var tt;Le((tt=$e)!==null&&tt!==void 0?tt:c)},content:$e=>{Pe($e??r)},html:$e=>{ae($e??i)},variant:$e=>{var tt;ye((tt=$e)!==null&&tt!==void 0?tt:l)},offset:$e=>{Ke($e===null?u:Number($e))},wrapper:$e=>{var tt;jt((tt=$e)!==null&&tt!==void 0?tt:d)},events:$e=>{const tt=$e==null?void 0:$e.split(" ");We(tt??p)},"position-strategy":$e=>{var tt;st((tt=$e)!==null&&tt!==void 0?tt:m)},"delay-show":$e=>{xe($e===null?y:Number($e))},"delay-hide":$e=>{Et($e===null?A:Number($e))},float:$e=>{Ct($e===null?_:$e==="true")},hidden:$e=>{ct($e===null?x:$e==="true")},"class-name":$e=>{gt($e)}};Object.values(xn).forEach($e=>$e(null)),Object.entries(kt).forEach(([$e,tt])=>{var qn;(qn=xn[$e])===null||qn===void 0||qn.call(xn,tt)})};v.useEffect(()=>{Pe(r)},[r]),v.useEffect(()=>{ae(i)},[i]),v.useEffect(()=>{Le(c)},[c]),v.useEffect(()=>{ye(l)},[l]),v.useEffect(()=>{Ke(u)},[u]),v.useEffect(()=>{xe(y)},[y]),v.useEffect(()=>{Et(A)},[A]),v.useEffect(()=>{Ct(_)},[_]),v.useEffect(()=>{ct(x)},[x]),v.useEffect(()=>{st(m)},[m]),v.useEffect(()=>{pn.current!==N&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[N]),v.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:N==="core",disableBase:N}}))},[]),v.useEffect(()=>{var kt;const xn=new Set(Xt);let $e=n;if(!$e&&e&&($e=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),$e)try{document.querySelectorAll($e).forEach(ze=>{xn.add({current:ze})})}catch{console.warn(`[react-tooltip] "${$e}" is not a valid CSS selector`)}const tt=document.querySelector(`[id='${t}']`);if(tt&&xn.add({current:tt}),!xn.size)return()=>null;const qn=(kt=ut??tt)!==null&&kt!==void 0?kt:At.current,ui=new MutationObserver(ze=>{ze.forEach(qe=>{var Vn;if(!qn||qe.type!=="attributes"||!(!((Vn=qe.attributeName)===null||Vn===void 0)&&Vn.startsWith("data-tooltip-")))return;const Kn=Fn(qn);yr(Kn)})}),Ae={attributes:!0,childList:!1,subtree:!1};if(qn){const ze=Fn(qn);yr(ze),ui.observe(qn,Ae)}return()=>{ui.disconnect()}},[Xt,At,ut,t,n]),v.useEffect(()=>{L!=null&&L.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),F&&!fP("border",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`border\`.`),L!=null&&L.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),D&&!fP("opacity",`${D}`)&&console.warn(`[react-tooltip] "${D}" is not a valid \`opacity\`.`)},[]);let Sn=h;const Ri=v.useRef(null);if(s){const kt=s({content:(ut==null?void 0:ut.getAttribute("data-tooltip-content"))||oe||null,activeAnchor:ut});Sn=kt?Te.createElement("div",{ref:Ri,className:"react-tooltip-content-wrapper"},kt):null}else oe&&(Sn=oe);Ee&&(Sn=Te.createElement(_se,{content:Ee}));const ci={forwardRef:Z,id:e,anchorId:t,anchorSelect:n,className:O_(o,sn),classNameArrow:a,content:Sn,contentWrapperRef:Ri,place:be,variant:Be,offset:Se,wrapper:Rt,events:Me,openOnClick:g,positionStrategy:it,middlewares:b,delayShow:De,delayHide:Je,float:Gt,hidden:Ce,noArrow:S,clickable:E,closeOnEsc:C,closeOnScroll:k,closeOnResize:V,openEvents:w,closeEvents:j,globalCloseEvents:z,imperativeModeOnly:R,style:L,position:P,isOpen:T,defaultIsOpen:$,border:F,opacity:D,arrowColor:G,setIsOpen:U,afterShow:ne,afterHide:B,activeAnchor:ut,setActiveAnchor:kt=>on(kt),role:fe};return Te.createElement(bse,{...ci})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||uP({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||uP({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const xse=M(Sse,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",He,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",ge.colors.text.active,";}}z-index:10000;"),zu=({children:e,title:t,open:n,...r})=>{const i=v.useRef(null),s=v.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[uc.createPortal(f.jsx(xse,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),v.cloneElement(e,{"data-tooltip-id":s})]})},mP=e=>`tooltip_dismissed_${e}`,wse=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[o,a]=v.useState(!Ne.local.getItem(mP(e))),l=v.useCallback(()=>{Ne.local.setItem(mP(e),!0),a(void 0)},[e]);v.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(o===void 0||!o&&!n)&&s.open===void 0;return f.jsx(zu,{clickable:!0,open:c?s.open:o,hidden:s.open===!1,...s,title:f.jsxs(f.Fragment,{children:[i,o&&f.jsx(Ese,{children:f.jsx(Cse,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Ese=M("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Cse=M("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",ge.colors.text.active,";border-color:",ge.colors.text.active,";}&:active{color:white;background:",ge.colors.text.active,";border-color:none;}"),kse=ht(f.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Tse=ht(f.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Ise(){const[,e]=Qe(DS),[t]=Qe(mr),[n,r]=v.useState(document.fullscreenElement!==null);return v.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(zu,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(Ky,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(Tse,{}):f.jsx(kse,{})})})}const k4=us("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",He,",;",""),Pse=us("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",ge.colors.text.active,";",""),Mse=us("transform:scale(1.05);background:",ge.colors.text.active,";",""),Jy=rs()?Mse:Pse,T4={animation:"focusAnimation 1000ms ease-in-out infinite both"},L_=us("&:hover{",T4,";}&&&:active{background:",ge.colors.text.active,";}",""),Rse=M("a",{target:"eo7q3x1"})(k4," &&{color:white;text-decoration:none;}&[data-focused='true']{",Jy,";}&[disabled='false']{",L_,";}"),I4=({focused:e,...t})=>f.jsx(Rse,{...t}),jse=M("button",{target:"eo7q3x0"})(k4,";&:not(:disabled){",L_,";}&[data-focused='true']{",Jy,";}&[disabled='false']{",L_,";}"),Fs=({focused:e,...t})=>f.jsx(jse,{"data-focused":e,...t}),Ose={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},P4=us("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Ose,";}&[data-size='small']{height:5rem;}",""),Vse=M(I4,{target:"e1llc1k62"})(P4,";"),Lse=M(Fs,{target:"e1llc1k61"})(P4,";"),Re=({size:e,disabled:t,...n})=>{const r="href"in n?Vse:Lse;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},fs=M("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function dc({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(Nse,{onClick:t}),f.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto",children:f.jsx("div",{className:"flex items-center justify-center min-h-full",children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const Nse=M("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Bse=0;function ad(e,t){const n=v.useRef(`${String(Math.random())}-${Bse++}`),{setKeyboard:r,unsetKeyboard:i}=v.useContext(Fx),s=a=>{r(n.current,a)},o=()=>i(n.current);return v.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function Wn(e={},t=!1){var x;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=v.useState(null),c=v.useRef([]),u=v.useRef([]),d=v.useRef({}),h=(x=d.current[a])==null?void 0:x.label,p=v.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);ad(p,n);const g=()=>{var S;(S=d.current[a])==null||S.callback(),bx.play()},m=()=>{r&&(_x.play(),r())},b=S=>{const E=a?c.current.indexOf(a):0;gy.play(),l(c.current.at((E+S)%c.current.length)??null)};ac({[s==="vertical"?"up":"left"]:()=>b(-1),[s==="vertical"?"down":"right"]:()=>b(1),accept:g,back:m},n,[a,c.current]);let y="";const A=(S,E,C,k=!1,{propName:V="onClick",disabled:w=!1}={})=>{if(w)return{disabled:w,focused:!1};u.current.push(S),E&&(d.current[S]={callback:E,label:C,propName:V}),k&&(y=S);const j=n&&a===S;return{focused:j,[V]:E,keyboardNavigationChangeFocus:b,"data-test":S,...n?{"data-focused":j,"data-e2e-focused":j}:{}}};return v.useEffect(()=>{var S;(S=document.querySelector(`[data-test="${a}"]`))==null||S.scrollIntoView({behavior:"smooth",block:"center"})},[a]),v.useEffect(()=>{const S=u.current.filter(E=>!c.current.includes(E));t&&S.length&&console.log("new elements",S),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||S.includes(y))&&l(y||c.current[0])}),{focusElement:S=>{c.current.includes(S)&&l(S)},focused:a,register:A}}var Dse=Object.defineProperty,y0=Object.getOwnPropertySymbols,M4=Object.prototype.hasOwnProperty,R4=Object.prototype.propertyIsEnumerable,yP=(e,t,n)=>t in e?Dse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hh=(e,t)=>{for(var n in t||(t={}))M4.call(t,n)&&yP(e,n,t[n]);if(y0)for(var n of y0(t))R4.call(t,n)&&yP(e,n,t[n]);return e},iE=(e,t)=>{var n={};for(var r in e)M4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&y0)for(var r of y0(e))t.indexOf(r)<0&&R4.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Zl;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const b=this.getPenaltyScore();b<g&&(d=m,g=b),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const _=t.getNumDataCodewords(g,c)*8,x=a.getTotalBits(l,g);if(x<=_){m=x;break}if(g>=d)throw new RangeError("Data too long")}for(const _ of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,_)*8&&(c=_);let b=[];for(const _ of l){r(_.mode.modeBits,4,b),r(_.numChars,_.mode.numCharCountBits(g),b);for(const x of _.getData())b.push(x)}s(b.length==m);const y=t.getNumDataCodewords(g,c)*8;s(b.length<=y),r(0,Math.min(4,y-b.length),b),r(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let _=236;b.length<y;_^=253)r(_,8,b);let A=[];for(;A.length*8<b.length;)A.push(0);return b.forEach((_,x)=>A[x>>>3]|=_<<7-(x&7)),new t(g,c,A,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let b=[];const y=t.reedSolomonComputeDivisor(h);for(let _=0,x=0;_<d;_++){let S=l.slice(x,x+m-h+(_<g?0:1));x+=S.length;const E=t.reedSolomonComputeRemainder(S,y);_<g&&S.push(0),b.push(S.concat(E))}let A=[];for(let _=0;_<b[0].length;_++)b.forEach((x,S)=>{(_!=m-h||S>=g)&&A.push(x[_])});return s(A.length==p),A}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][b],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[b][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(Zl||(Zl={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Zl||(Zl={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Zl||(Zl={}));var Qc=Zl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var j4={L:Qc.QrCode.Ecc.LOW,M:Qc.QrCode.Ecc.MEDIUM,Q:Qc.QrCode.Ecc.QUARTILE,H:Qc.QrCode.Ecc.HIGH},O4=128,V4="L",L4="#FFFFFF",N4="#000000",B4=!1,sE=4,$se=.1;function D4(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function $4(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function F4(e,t,n,r){if(r==null)return null;const i=n?sE:0,s=e.length+i*2,o=Math.floor(t*$se),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),b=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:b}}return{x:u,y:d,h:c,w:l,excavation:h}}var Fse=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function z4(e){const t=e,{value:n,size:r=O4,level:i=V4,bgColor:s=L4,fgColor:o=N4,includeMargin:a=B4,style:l,imageSettings:c}=t,u=iE(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=v.useRef(null),p=v.useRef(null),[g,m]=v.useState(!1);v.useEffect(()=>{if(h.current!=null){const A=h.current,_=A.getContext("2d");if(!_)return;let x=Qc.QrCode.encodeText(n,j4[i]).getModules();const S=a?sE:0,E=x.length+S*2,C=F4(x,r,a,c),k=p.current,V=C!=null&&k!==null&&k.complete&&k.naturalHeight!==0&&k.naturalWidth!==0;V&&C.excavation!=null&&(x=$4(x,C.excavation));const w=window.devicePixelRatio||1;A.height=A.width=r*w;const j=r/E*w;_.scale(j,j),_.fillStyle=s,_.fillRect(0,0,E,E),_.fillStyle=o,Fse?_.fill(new Path2D(D4(x,S))):x.forEach(function(z,R){z.forEach(function(L,P){L&&_.fillRect(P+S,R+S,1,1)})}),V&&_.drawImage(k,C.x+S,C.y+S,C.w,C.h)}}),v.useEffect(()=>{m(!1)},[d]);const b=hh({height:r,width:r},l);let y=null;return d!=null&&(y=Te.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Te.createElement(Te.Fragment,null,Te.createElement("canvas",hh({style:b,height:r,width:r,ref:h},u)),y)}function U4(e){const t=e,{value:n,size:r=O4,level:i=V4,bgColor:s=L4,fgColor:o=N4,includeMargin:a=B4,imageSettings:l}=t,c=iE(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Qc.QrCode.encodeText(n,j4[i]).getModules();const d=a?sE:0,h=u.length+d*2,p=F4(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=$4(u,p.excavation)),g=Te.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=D4(u,d);return Te.createElement("svg",hh({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Te.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Te.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var zse=e=>{const t=e,{renderAs:n}=t,r=iE(t,["renderAs"]);return n==="svg"?Te.createElement(U4,hh({},r)):Te.createElement(z4,hh({},r))};const Use=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:z4,QRCodeSVG:U4,default:zse},Symbol.toStringTag,{value:"Module"}));var H4={exports:{}},G4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=v;function Hse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gse=typeof Object.is=="function"?Object.is:Hse,Wse=Uu.useState,qse=Uu.useEffect,Kse=Uu.useLayoutEffect,Yse=Uu.useDebugValue;function Qse(e,t){var n=t(),r=Wse({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Kse(function(){i.value=n,i.getSnapshot=t,IA(i)&&s({inst:i})},[e,n,t]),qse(function(){return IA(i)&&s({inst:i}),e(function(){IA(i)&&s({inst:i})})},[e]),Yse(n),n}function IA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gse(e,n)}catch{return!0}}function Jse(e,t){return t()}var Xse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Jse:Qse;G4.useSyncExternalStore=Uu.useSyncExternalStore!==void 0?Uu.useSyncExternalStore:Xse;H4.exports=G4;var Zse=H4.exports;const{useEffect:eoe,useLayoutEffect:toe,useRef:noe,useInsertionEffect:roe}=Xg,ioe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",soe=ioe?toe:eoe,W4=roe||soe,q4=e=>{const t=noe([e,(...n)=>t[0](...n)]).current;return W4(()=>{t[0]=e}),t[1]},ooe=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",aoe=(e,t="")=>e[0]==="~"?e.slice(1):t+e,loe="popstate",oE="pushState",aE="replaceState",coe="hashchange",vP=[loe,oE,aE,coe],uoe=e=>{for(const t of vP)addEventListener(t,e);return()=>{for(const t of vP)removeEventListener(t,e)}},doe=(e,t)=>Zse.useSyncExternalStore(uoe,e,t),AP=()=>location.pathname,foe=({ssrPath:e}={})=>doe(AP,e?()=>e:AP),hoe=(e,{replace:t=!1}={})=>history[t?aE:oE](null,"",e),poe=(e={})=>[ooe(e.base,foe(e)),q4((t,n)=>hoe(aoe(t,e.base),n))];if(typeof history<"u")for(const e of[oE,aE]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function goe(e=yoe){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const bP=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),moe=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},yoe=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=bP(h)+moe(c,u,d)}return s+=bP(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},N_={hook:poe,matcher:goe(),base:""},K4=v.createContext(N_),Xy=()=>v.useContext(K4),Zy=e=>e.hook(e),voe=()=>Zy(Xy()),Y4=e=>{const t=Xy(),[n]=Zy(t);return t.matcher(e,n)},Aoe=v.createContext({params:{}}),boe=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||N_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=v.useState(()=>o({get base(){return(a.parent||N_).base+a.ownBase}}));return W4(()=>{o(a)}),v.createElement(K4.Provider,{value:a,children:s})},_P=(e,t)=>v.createElement(Aoe.Provider,{value:{params:e},children:t}),br=({path:e,match:t,component:n,children:r})=>{const i=Y4(e),[s,o]=t||i;return s?n?_P(o,v.createElement(n,{params:o})):_P(o,typeof r=="function"?r(o):r):null},lE=v.forwardRef((e,t)=>{const n=Xy(),[,r]=Zy(n),{to:i,href:s=i,children:o,onClick:a}=e,l=q4(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=v.isValidElement(o)?o:v.createElement("a",e);return v.cloneElement(u,c)}),B_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===v.Fragment?B_(t.props.children):B_(t))):[e],_oe=({children:e,location:t})=>{const n=Xy(),r=n.matcher,[i]=Zy(n);for(const s of B_(e)){let o=0;if(v.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return v.cloneElement(s,{match:o})}return null},{QRCodeSVG:Soe}=Use;function PA({gameCode:e,...t}){return f.jsx(koe,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function cE(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=Y4("remote-mic"),n=wy("room")??kl.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return v.useEffect(()=>{t||kl.start()},[t]),f.jsxs(Ioe,{children:[f.jsx(Moe,{children:f.jsxs("h1",{children:["Code: ",f.jsx(PA,{gameCode:n})]})}),f.jsx(Poe,{children:f.jsx(Soe,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(Roe,{children:[f.jsxs(xoe,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(PA,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(PA,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(woe,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Eoe,{children:[f.jsx(Toe,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(Coe,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const xoe=M("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),woe=M("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Eoe=M("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Coe=M("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",ge.colors.text.active,";",He,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),koe=M("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",Mu,";"),Toe=M("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Ioe=M("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Poe=M("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Moe=M("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Roe=M("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",He,";color:",ge.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function joe({closeModal:e}){const{register:t}=Wn({onBackspace:e});return f.jsx(dc,{onClose:e,children:f.jsxs(fs,{children:[f.jsx(cE,{}),f.jsx(Fs,{...t("quick-connect-close",e),children:"Close"})]})})}function Ooe(){const[e,t]=v.useState(!1);Qe(mr);const[n,r]=Qe(z5),{hasContent:i}=v.useContext(Fx),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(joe,{closeModal:s}),f.jsxs(Voe,{children:[i&&f.jsx(zu,{title:"Toggle help",place:"bottom-end",children:f.jsx(Loe,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(Zte,{}):f.jsx(ene,{})})}),f.jsx(Ise,{}),f.jsx(zu,{title:"Connect phone",place:"bottom-end",children:f.jsx(Ky,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(Fm,{})})})]})]})}const Voe=M("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Loe=M(Ky,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Ko({children:e,toolbar:t=!0}){return f.jsxs(pZ,{children:[t&&f.jsx(Ooe,{}),e]})}const Noe=ht(f.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),Boe=ht(f.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),uE=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),Q4=M(uE,{target:"e1uhpuaa1"})("fill:",ge.colors.players[1].text,";"),D_=M(uE,{target:"e1uhpuaa0"})("fill:",ge.colors.players[0].text,";");function Doe({active:e,setActiveTab:t}){return f.jsxs($oe,{children:[f.jsxs(MA,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(RA,{children:f.jsx(uE,{})}),f.jsx(jA,{children:"Microphone"})]}),f.jsxs(MA,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(RA,{children:f.jsx(Noe,{})}),f.jsx(jA,{children:"Song list"})]}),f.jsxs(MA,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(RA,{children:f.jsx(Boe,{})}),f.jsx(jA,{children:"Settings"})]})]})}const $oe=M("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),MA=M("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?ge.colors.text.active:"#cecece",";"),RA=M("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),jA=M("div",{target:"e1c2ys9k0"})(""),ld=ht(f.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),dE=()=>{const[e,t]=v.useState(ba.getStatus());return v.useEffect(()=>ba.addListener(t),[]),e};function J4(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Foe="/assets/allow-mic-DleF1-pf.png",zoe="/assets/enable-mic-opera-B5FfRj_P.png",Uoe="/assets/enable-mic-TGG47ucR.png",Hoe=()=>J4()?zoe:Uoe,Wh=({children:e,fallback:t,showImages:n=!0})=>{const r=dE();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(Woe,{children:f.jsx(qoe,{})}),t,f.jsxs(Goe,{children:[r==="requested"&&n&&f.jsx("img",{src:Foe,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:Hoe(),alt:"how-to-enable"})]}),J4()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Goe=M("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Woe=M("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),qoe=M(ld,{target:"e1w9vi9z0"})("color:",ge.colors.text.active,";font-size:3rem;");function Koe(){return!1}const Wg=ht(f.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function qh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Yoe(e,t,n=1){return qh(e,e.indexOf(t),n)}function Ml(e,t,n=1){return e[Yoe(e,t,n)]}const Yi=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs(Qoe,{children:[f.jsxs(Joe,{"data-focused":e,onClick:i,"data-disabled":t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(Xoe,{children:r}),o??null]}),s&&f.jsx(X4,{children:s})]}),Qoe=M("div",{target:"e84wjn53"})(""),X4=M("div",{target:"e84wjn52"})(He,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Joe=M("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",He,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Xoe=M("span",{target:"e84wjn50"})("color:",ge.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),fc=v.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=v.useRef(null);return v.useImperativeHandle(c,()=>u.current),Vr(Ib,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(eae,{"data-focused":e,className:s,children:[f.jsx(tae,{children:t}),f.jsx(nae,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(Zoe,{children:o})]}),a&&f.jsx(X4,{children:a})]})}),Zoe=M("span",{target:"et2ce2n3"})(""),eae=M("div",{target:"et2ce2n2"})("background:black;caret:underscore;",He,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),tae=M("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),nae=M("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",He,";color:",ge.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function rae(e){return kr("MuiCircularProgress",e)}Tr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Jo=44,$_=oc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,F_=oc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,iae=typeof $_!="string"?us`
        animation: ${$_} 1.4s linear infinite;
      `:null,sae=typeof F_!="string"?us`
        animation: ${F_} 1.4s ease-in-out infinite;
      `:null,oae=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${at(r)}`],svg:["svg"],circle:["circle",`circle${at(n)}`,i&&"circleDisableShrink"]};return Ur(s,rae,t)},aae=Jt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${at(n.color)}`]]}})(ss(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:iae||{animation:`${$_} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Kf()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),lae=Jt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),cae=Jt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${at(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(ss(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:sae||{animation:`${F_} 1.4s ease-in-out infinite`}}]}))),uae=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...h}=r,p={...r,color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d},g=oae(p),m={},b={},y={};if(d==="determinate"){const A=2*Math.PI*((Jo-c)/2);m.strokeDasharray=A.toFixed(3),y["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return f.jsx(aae,{className:St(g.root,i),style:{width:a,height:a,...b,...l},ownerState:p,ref:n,role:"progressbar",...y,...h,children:f.jsx(lae,{className:g.svg,ownerState:p,viewBox:`${Jo/2} ${Jo/2} ${Jo} ${Jo}`,children:f.jsx(cae,{className:g.circle,style:m,ownerState:p,cx:Jo,cy:Jo,r:(Jo-c)/2,fill:"none",strokeWidth:c})})})});function Kh(e){return f.jsx(uae,{...e})}function ph(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const v0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function li(){const[,e]=voe();return(t,n,{smooth:r=!0,...i}={})=>{r?ph(()=>e(v0(t,n),i)):e(v0(t,n),i)}}const Z4=ht(f.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),eN=ht(f.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),SP="confirmed-wifi";function dae({onClose:e}){const[t,n]=Te.useState(Ne.session.getItem(SP)??!1),r=()=>{Ne.session.setItem(SP,!0),n(!0),e==null||e()};return v.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(dc,{onClose:r,children:f.jsxs(fae,{children:[f.jsxs(hae,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(pae,{children:[f.jsx(eN,{}),"...",f.jsx(Wg,{}),"...",f.jsx(Z4,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Re,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const fae=M(fs,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),hae=M("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),pae=M("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",ge.colors.text.default,";transform:scale(1);}25%{color:",ge.colors.text.active,";transform:scale(1.1);}50%{color:",ge.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function gae(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=v.useRef(),s=r.capture,o=r.passive,a=r.once;v.useEffect(function(){i.current=t},[t]),v.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var rl={},mae=function(e,t,n){return rl[e]||(rl[e]={callbacks:[],value:n}),rl[e].callbacks.push(t),{deregister:function(){var r=rl[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){rl[e].value!==r&&(rl[e].value=r,rl[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Ga(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=v.useRef(null),u=v.useState(function(){return a(s,i)}),d=u[0],h=u[1];gae("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),v.useEffect(function(){return c.current=mae(s,h,i),function(){c.current.deregister()}},[i,s]);var p=v.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return v.useState}const yae=Ga("remote_mic_name");function vae({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=yae(""),[a,l]=v.useState(!1),c=v.useRef(null),u=v.useRef(null),[d,h]=v.useState(t??""),p=li(),g=n!=="uninitialised"&&n!=="error";v.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(x=!1)=>{dn.connect(d,s,x),r(x)},b=x=>{var S,E;x.preventDefault(),l(!1),!t&&d.length!==ff?(S=c.current)==null||S.focus():s===""?(E=u.current??c.current)==null||E.focus():m()};v.useEffect(()=>{var x;Mn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(x=c.current)==null||x.focus()},[]),v.useEffect(()=>{Ne.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Ne.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[y,A]=v.useState(!1);v.useEffect(()=>{if(A(!1),n==="connecting"||n==="reconnecting"){const x=setTimeout(()=>A(!0),2e3);return()=>clearTimeout(x)}},[n]);const _=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&f.jsx(dae,{onClose:()=>{var x;(x=c.current)==null||x.focus()}}),f.jsxs(Aae,{onSubmit:b,children:[!g&&f.jsx(_ae,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:ff,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:x=>{x.preventDefault();let S=(x.clipboardData||global.clipboardData).getData("text");S=S.replace(/\s/g,""),h(S.slice(0,ff))}}),f.jsx(fc,{maxLength:lx,focused:!1,label:"Your name",placeholder:"Enter your name…",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(bae,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(Kh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(y||_)&&f.jsxs(f.Fragment,{children:[y&&f.jsx("h3",{children:"If it doesn't connect"}),_&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(ld,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found 🤔":"The game seems to be offline 🤔"}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Fm,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Wg,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access 💀"}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Wg,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Wg,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(Fm,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const Aae=M("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),bae=M(Re,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),_ae=M(fc,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),Sae=ht(f.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),xae=ht(f.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),wae=ht(f.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),Eae=ht(f.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Cae=ht(f.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),kae=ht(f.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Tae=ht(f.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),Iae=ht(f.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),fE=ht(f.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function hE(e,t){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Pae({onSearchStateChange:e}){const[t,n]=v.useState(""),r=v.useRef(null),i=hE(t,100),s=xX(i);return v.useEffect(()=>{s!==i&&dn.searchSong(i.trim())},[s,i]),SX(()=>e==null?void 0:e(!1)),f.jsx(Mae,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:lx,focused:!1,label:f.jsx(fE,{}),placeholder:"Search for a song…",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Mae=M(fc,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Rae({onSearchStateChange:e}){var s;const[t]=Ls(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{dn.sendKeyStroke(o)};return t!==void 0?f.jsxs(jae,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(Pae,{onSearchStateChange:e}),(n||r)&&f.jsxs(VA,{children:[f.jsx(OA,{children:f.jsx(Pc,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(Tae,{})})}),f.jsxs(OA,{children:[f.jsx(Pc,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(Cae,{})}),f.jsx(Pc,{disabled:!0,"data-disabled":!0,children:f.jsx(wae,{})}),f.jsx(Pc,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(kae,{})})]}),f.jsx(OA,{children:f.jsx(Pc,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(Eae,{})})})]}),f.jsxs(VA,{children:[f.jsx(LA,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(Sae,{})," Back"]})}),f.jsx(LA,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(xae,{})]})})]}),f.jsx(Oae,{}),f.jsx(VA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(LA,{onClick:i("random"),children:[f.jsx(Iae,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const jae=M("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),OA=M("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),VA=M("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Oae=M("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Vae=M("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),Pc=M(Vae,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),LA=M(Pc,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),pE=ht(f.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Zp={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","?????","?????"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function tN({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Ls(te.remoteStyleChanged,!0)??["regular"],s=a=>{dn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(dc,{onClose:n,children:f.jsxs(Lae,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Re,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:ge.colors.players[0].perfect.fill},children:Zp[i][0]}),f.jsx(Re,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:ge.colors.players[1].perfect.fill},children:Zp[i][1]}),f.jsx(Re,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:ge.colors.players[2].perfect.fill},children:Zp[i][2]}),f.jsx(Re,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:ge.colors.players[3].perfect.fill},children:Zp[i][3]}),f.jsx(Re,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Re,{size:"small",onClick:()=>dn.removePlayer(t),"data-test":"remove-player",children:"Remove"}),f.jsx(Re,{onClick:n,size:"small",children:"Close"})]})})}const Lae=M(fs,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function nN({number:e,...t}){const[n]=Ls(te.remoteStyleChanged,!0)??["regular"],r=EO();return v.useEffect(()=>{r()},[n]),f.jsx(Nae,{style:{background:e!==null?ge.colors.players[e].perfect.fill:ge.colors.text.inactive},...t})}const Nae=M("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Bae=v.memo(function({playerNumber:t}){const[n,r]=v.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(Dae,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(nN,{number:t})," Change"]}):"Join game"," ",f.jsx(pE,{})]}),n&&f.jsx(tN,{id:dn.getClientId(),playerNumber:t,onModalClose:i})]})}),Dae=M("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",He,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",Mu,";}:hover{",Mu,";}:active{",Jy,";}svg{width:2rem;height:2rem;}");function ev(){const[e]=Ls(te.remoteMicPermissionsSet,!0)??["write"];return e}function $ae({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=v.useState(1e-6),a=ev();v.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?ge.colors.players[e].miss.stroke:ge.colors.lines.normal.fill,c=e!==null?ge.colors.players[e].perfect.fill:ge.colors.lines.normal.fill;return f.jsxs(Uae,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Fae,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(Bae,{playerNumber:e}),f.jsx(zae,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Fae=M("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),zae=M("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Uae=M("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function xP({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=v.useState(0),[s,o]=v.useState(0),[a]=Ls(te.remoteMicPlayerSet,!0)??[null],l=v.useCallback(iu((c,u)=>{o(c),i(u)},150),[i,o]);return v.useEffect(()=>(bs.startMonitoring(void 0),bs.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx($ae,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function Hae(){const[e,t]=v.useState(0);return v.useEffect(()=>{const n=setInterval(()=>{const r=Dr();dn.pinging&&r-dn.pingStart>e?t(r-dn.pingStart):t(dn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Gae({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=ev(),[l,c]=v.useState(!1),[u]=Qe(DS),d=async()=>{var g,m;i(!0);try{!Koe()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(b){console.warn(b)}},h=o==="connected",p=f.jsx(xP,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Wae,{children:f.jsxs(Wh,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(wP,{collapse:l,children:[f.jsx(xP,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(vae,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs(wP,{children:[a==="write"&&f.jsx(Rae,{onSearchStateChange:c}),a==="read"&&f.jsxs(qae,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu ➔"," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(EP,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(rN,{onClick:()=>t?bs.stopMonitoring():bs.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(EP,{children:["Ping: ",f.jsx(Hae,{})]})]})]})})}const Wae=M("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),wP=M("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),rN=M("div",{target:"eakh27i2"})(He," strong{color:",ge.colors.text.active,";}align-self:flex-end;"),EP=M(rN,{target:"eakh27i1"})(""),qae=M("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Kae({onConfirm:e}){const[t,n]=v.useState(!1),[r,i]=v.useState(!1);v.useEffect(()=>{Ne.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Er(te.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Er(te.remoteReadinessRequested,()=>{n(!0)});const s=()=>{dn.confirmReadiness(),n(!1),e()};return t?f.jsx(Yae,{children:f.jsx(fs,{children:f.jsx(Qae,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Yae=M("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Qae=M(Re,{target:"eusdifu0"})("aspect-ratio:1;",Mu,";");function iN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(Xae,{...s,children:[f.jsx(CP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Jae,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(CP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const CP=M("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",He,";:disabled{opacity:0.5;}"),Jae=M("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Xae=M("div",{target:"e1tear4c0"})(He,";display:flex;align-items:center;justify-self:center;background:black;");function Zae(){const[e,t]=v.useState(0),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),dn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),dn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(iN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function ele(){v.useEffect(()=>(dn.subscribe("remote-mics"),()=>{dn.unsubscribe("remote-mics")}),[]);const[e]=Ls(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),e.map(t=>f.jsx(tle,{mic:t},t.id)),e.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const tle=({mic:e})=>{var r;const[t,n]=v.useState(!1);return nt.getPermission(e.id),f.jsxs(nle,{"data-test":"manage-players",children:[t&&f.jsx(tN,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(rle,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(nN,{number:e.number}),f.jsx(sle,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(ile,{className:"ph-no-capture",isSelf:e.id===dn.getClientId(),children:e.name})]})]})},nle=M("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),rle=M(Re,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),ile=M("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${ge.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),sle=M("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function kP(){const[e,t]=Qe(U5),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),dn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),dn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;dn.disconnect(),Ne.local.removeItem("remote_mic_name"),Ne.local.removeItem(_b),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{"data-test":"reset-mic-info",children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(iN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function ole(){var r;const e=ev(),[t,n]=v.useState(e==="write"?null:"microphone");return f.jsxs(ale,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=dn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Re,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Re,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(kP,{}),t!==null&&e==="write"&&f.jsx(dc,{onClose:()=>n(null),children:f.jsxs(fs,{children:[f.jsx(lle,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(kP,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(ele,{}),f.jsx(Zae,{})]}),f.jsx("hr",{}),f.jsx(Re,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const ale=M("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),lle=M("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var cle="__lodash_hash_undefined__";function ule(e){return this.__data__.set(e,cle),this}function dle(e){return this.__data__.has(e)}function gh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ho;++t<n;)this.add(e[t])}gh.prototype.add=gh.prototype.push=ule;gh.prototype.has=dle;function fle(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function sN(e,t){return e.has(t)}var hle=1,ple=2;function oN(e,t,n,r,i,s){var o=n&hle,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&ple?new gh:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var b=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!fle(t,function(y,A){if(!sN(p,A)&&(g===y||i(g,y,n,r,s)))return p.push(A)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function gle(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function gE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var mle=1,yle=2,vle="[object Boolean]",Ale="[object Date]",ble="[object Error]",_le="[object Map]",Sle="[object Number]",xle="[object RegExp]",wle="[object Set]",Ele="[object String]",Cle="[object Symbol]",kle="[object ArrayBuffer]",Tle="[object DataView]",TP=ns?ns.prototype:void 0,NA=TP?TP.valueOf:void 0;function Ile(e,t,n,r,i,s,o){switch(n){case Tle:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kle:return!(e.byteLength!=t.byteLength||!s(new Vm(e),new Vm(t)));case vle:case Ale:case Sle:return iy(+e,+t);case ble:return e.name==t.name&&e.message==t.message;case xle:case Ele:return e==t+"";case _le:var a=gle;case wle:var l=r&mle;if(a||(a=gE),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=yle,o.set(e,t);var u=oN(a(e),a(t),r,i,s,o);return o.delete(e),u;case Cle:if(NA)return NA.call(e)==NA.call(t)}return!1}var Ple=1,Mle=Object.prototype,Rle=Mle.hasOwnProperty;function jle(e,t,n,r,i,s){var o=n&Ple,a=wb(e),l=a.length,c=wb(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:Rle.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var b=o;++d<l;){h=a[d];var y=e[h],A=t[h];if(r)var _=o?r(A,y,h,t,e,s):r(y,A,h,e,t,s);if(!(_===void 0?y===A||i(y,A,n,r,s):_)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(e),s.delete(t),m}var Ole=1,IP="[object Arguments]",PP="[object Array]",eg="[object Object]",Vle=Object.prototype,MP=Vle.hasOwnProperty;function Lle(e,t,n,r,i,s){var o=is(e),a=is(t),l=o?PP:Ss(e),c=a?PP:Ss(t);l=l==IP?eg:l,c=c==IP?eg:c;var u=l==eg,d=c==eg,h=l==c;if(h&&Om(e)){if(!Om(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new ro),o||uO(e)?oN(e,t,n,r,i,s):Ile(e,t,l,n,r,i,s);if(!(n&Ole)){var p=u&&MP.call(e,"__wrapped__"),g=d&&MP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,b=g?t.value():t;return s||(s=new ro),i(m,b,n,r,s)}}return h?(s||(s=new ro),jle(e,t,n,r,i,s)):!1}function mE(e,t,n,r,i){return e===t?!0:e==null||t==null||!Lo(e)&&!Lo(t)?e!==e&&t!==t:Lle(e,t,n,r,mE,i)}var Nle=1,Ble=2;function Dle(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var a=o[0],l=e[a],c=o[1];if(o[2]){if(l===void 0&&!(a in e))return!1}else{var u=new ro,d;if(!(d===void 0?mE(c,l,Nle|Ble,r,u):d))return!1}}return!0}function aN(e){return e===e&&!Vs(e)}function $le(e){for(var t=Oh(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,aN(i)]}return t}function lN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Fle(e){var t=$le(e);return t.length==1&&t[0][2]?lN(t[0][0],t[0][1]):function(n){return n===e||Dle(n,e,t)}}function zle(e,t,n){var r=e==null?void 0:Nx(e,t);return r===void 0?n:r}function Ule(e,t){return e!=null&&t in Object(e)}function Hle(e,t,n){t=_y(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=Vh(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&mx(i)&&vx(o,i)&&(is(e)||kx(e)))}function Gle(e,t){return e!=null&&Hle(e,t,Ule)}var Wle=1,qle=2;function Kle(e,t){return Vx(e)&&aN(t)?lN(Vh(e),t):function(n){var r=zle(n,e);return r===void 0&&r===t?Gle(n,e):mE(t,r,Wle|qle)}}function Yle(e){return function(t){return t==null?void 0:t[e]}}function Qle(e){return function(t){return Nx(t,e)}}function Jle(e){return Vx(e)?Yle(Vh(e)):Qle(e)}function Xle(e){return typeof e=="function"?e:e==null?wO:typeof e=="object"?is(e)?Kle(e[0],e[1]):Fle(e):Jle(e)}function Zle(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function ece(e){return e!==e}function tce(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function nce(e,t,n){return t===t?tce(e,t,n):Zle(e,ece,n)}function rce(e,t){var n=e==null?0:e.length;return!!n&&nce(e,t,0)>-1}function ice(){}var sce=1/0,oce=ou&&1/gE(new ou([,-0]))[1]==sce?function(e){return new ou(e)}:ice,ace=200;function cN(e,t,n){var r=-1,i=rce,s=e.length,o=!0,a=[],l=a;if(s>=ace){var c=t?null:oce(e);if(c)return gE(c);o=!1,i=sN,l=new gh}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function lce(e,t){return e&&e.length?cN(e,Xle(t)):[]}const yE=M("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",ge.colors.text.active,";font-size:1.75rem;",He,";color:",ge.colors.text.default,";padding:0.25rem 0.75rem;border-radius:1.5rem;box-shadow:0 0 2px 1px rgba(0, 0, 0, 0.5);"),cce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function uce(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){const s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const dce=uce();function uN(e){return dce[e]}const fce=Object.assign({"./Flag/flags/cat.svg":cce}),Rl=e=>{var s;const[t,n]=v.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():uN(Array.isArray(e.language)?e.language[0]:e.language);if(v.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=fce[`./Flag/flags/${r}.svg`];return f.jsx(hce,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},hce=M("img",{target:"e1k9lqhf0"})("");function cd(e=!1){const[t,n]=v.useState(Ei.getCurrentIndex()),r=v.useRef([]),i=()=>Ei.getIndex(e).then(n);return v.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}const RP=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function Yh(){const[e,t]=v.useState(RP()),n=v.useCallback(iu(()=>{t(RP())},1e3),[]);return v.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function dN(){const{width:e,height:t}=Yh();return v.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}function pce(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function gce(...e){return t=>e.forEach(n=>pce(n,t))}var fN=v.forwardRef((e,t)=>{const{children:n,...r}=e,i=v.Children.toArray(n),s=i.find(yce);if(s){const o=s.props.children,a=i.map(l=>l===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return f.jsx(z_,{...r,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return f.jsx(z_,{...r,ref:t,children:n})});fN.displayName="Slot";var z_=v.forwardRef((e,t)=>{const{children:n,...r}=e;if(v.isValidElement(n)){const i=Ace(n);return v.cloneElement(n,{...vce(r,n.props),ref:t?gce(t,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});z_.displayName="SlotClone";var mce=({children:e})=>f.jsx(f.Fragment,{children:e});function yce(e){return v.isValidElement(e)&&e.type===mce}function vce(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Ace(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bce(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const _ce=(e={})=>{const t=e.compose||St,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(o,a=n)=>{const l=(c,...u)=>{const d=typeof c=="function",h=!d&&String.raw({raw:c},...u);return v.forwardRef((p,g)=>{const{className:m,asChild:b,...y}=p,A=typeof o=="function"?o(p):o||{},_=bce({...A,...y},a),x=b?fN:i,S=d?c(p):h;return v.createElement(x,{ref:g,className:typeof S=="function"?E=>t(S(E),typeof m=="function"?m(E):m):t(S,m),..._})})};return l.transientProps=c=>s(o,typeof c=="function"?d=>!c(d):d=>!c.includes(d)),o===void 0&&(l.attrs=c=>s(c)),l};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},ud=_ce(),qg=ht(f.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),Kg=ht(f.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Sce(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function xce(e){return parseFloat(e)}function jP({theme:e,...t}){const n=Mo in e?e[Mo]:void 0;return f.jsx(tV,{...t,themeId:n?Mo:void 0,theme:n||e})}const tg={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:wce,useColorScheme:_1e,getInitColorSchemeScript:S1e}=dte({themeId:Mo,theme:()=>rw({cssVariables:!0}),colorSchemeStorageKey:tg.colorSchemeStorageKey,modeStorageKey:tg.modeStorageKey,defaultColorScheme:{light:tg.defaultLightColorScheme,dark:tg.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:sV(e.palette,e.typography)};return t.unstable_sx=function(r){return Gl({sx:r,theme:this})},t}}),Ece=wce;function Cce({theme:e,...t}){return typeof e=="function"?f.jsx(jP,{theme:e,...t}):"colorSchemes"in(Mo in e?e[Mo]:e)?f.jsx(Ece,{theme:e,...t}):f.jsx(jP,{theme:e,...t})}function kce(e){return kr("MuiSkeleton",e)}Tr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Tce=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return Ur({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},kce,t)},U_=oc`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,H_=oc`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Ice=typeof U_!="string"?us`
        animation: ${U_} 2s ease-in-out 0.5s infinite;
      `:null,Pce=typeof H_!="string"?us`
        &::after {
          animation: ${H_} 2s linear 0.5s infinite;
        }
      `:null,Mce=Jt("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(ss(({theme:e})=>{const t=Sce(e.shape.borderRadius)||"px",n=xce(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Es(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Ice||{animation:`${U_} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Pce||{"&::after":{animation:`${H_} 2s linear 0.5s infinite`}}}]}})),Rce=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u,...d}=r,h={...r,animation:i,component:o,variant:c,hasChildren:!!d.children},p=Tce(h);return f.jsx(Mce,{as:o,ref:n,className:St(p.root,s),ownerState:h,...d,style:{width:u,height:a,...l}})}),jce="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Oce="/assets/logo-1e2sNsQM.mp4",Vce="/assets/logo-CDt7pIML.webm",Lce="/assets/pride-CMcO3nTB.png";var aR;(aR=global.location)!=null&&aR.search.includes("pride")&&Ne.session.setItem("pride","true");function vE(e){const[t]=Qe(mr);return t?null:f.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[Ne.session.getItem("pride")==="true"&&f.jsx(OP,{asChild:!0,children:f.jsx("img",{className:"absolute",src:Lce,alt:"AllKaraoke Pride logo part 1"})}),f.jsxs(OP,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:Vce,type:"video/webm"}),f.jsx("source",{src:Oce,type:"video/mp4"})]}),f.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:jce,alt:"AllKaraoke Pride logo part 2"})]})}const OP=ud.video`w-[66rem] h-[16.4rem]`;function AE(){return"chrome"in window}function Nce(){return f.jsx(f.Fragment,{children:!AE()&&f.jsxs(Bce,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const Bce=M("div",{target:"e95w1v80"})("width:100%;",He,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",ge.colors.text.active,";}");function hN(){return f.jsx(f.Fragment,{children:f.jsx(Dce,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const Dce=M("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function Wa({children:e,supportedBrowsers:t}){return Fa(!0),f.jsxs(Ko,{children:[f.jsx(hN,{}),f.jsxs($ce,{children:[f.jsx(vE,{}),t&&f.jsx(Nce,{}),f.jsx(fs,{children:e})]})]})}const $ce=M("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var bE={},A0=function(){return A0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A0.apply(this,arguments)},Fce=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(b){return i.options.numerals[+b]}),l=l.replace(/[0-9]/g,function(b){return i.options.numerals[+b]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=A0(A0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const zce=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Fce},Symbol.toStringTag,{value:"Module"})),Uce=ZB(zce);Object.defineProperty(bE,"__esModule",{value:!0});var er=v,Hce=Uce;function Gce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){Wce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wce(e,t,n){return t=Zce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G_.apply(this,arguments)}function qce(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pN(e,t){if(e==null)return{};var n=qce(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kce(e,t){return Yce(e)||Gce(e,t)||Qce(e,t)||Jce()}function Yce(e){if(Array.isArray(e))return e}function Qce(e,t){if(e){if(typeof e=="string")return LP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(e,t)}}function LP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zce(e){var t=Xce(e,"string");return typeof t=="symbol"?t:String(t)}var eue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?er.useLayoutEffect:er.useEffect;function As(e){var t=er.useRef(e);return eue(function(){t.current=e}),er.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var tue=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,b=n.useIndianSeparators,y=n.enableScrollSpy,A=n.scrollSpyDelay,_=n.scrollSpyOnce,x=n.plugin;return new Hce.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:x,useEasing:g,useIndianSeparators:b,useGrouping:m,enableScrollSpy:y,scrollSpyDelay:A,scrollSpyOnce:_})},nue=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],rue={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},gN=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(V){var w=Kce(V,2),j=w[1];return j!==void 0})),r=er.useMemo(function(){return b0(b0({},rue),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=pN(r,nue),g=er.useRef(),m=er.useRef(),b=er.useRef(!1),y=As(function(){return tue(typeof i=="string"?i:i.current,p)}),A=As(function(V){var w=g.current;if(w&&!V)return w;var j=y();return g.current=j,j}),_=As(function(){var V=function(){return A(!0).start(function(){l==null||l({pauseResume:x,reset:S,start:C,update:E})})};a&&a>0?m.current=setTimeout(V,a*1e3):V(),c==null||c({pauseResume:x,reset:S,update:E})}),x=As(function(){A().pauseResume(),u==null||u({reset:S,start:C,update:E})}),S=As(function(){A().el&&(m.current&&clearTimeout(m.current),A().reset(),d==null||d({pauseResume:x,start:C,update:E}))}),E=As(function(V){A().update(V),h==null||h({pauseResume:x,reset:S,start:C})}),C=As(function(){S(),_()}),k=As(function(V){s&&(V&&S(),_())});return er.useEffect(function(){b.current?o&&k(!0):(b.current=!0,k())},[o,b,k,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),er.useEffect(function(){return function(){S()}},[S]),{start:C,pauseResume:x,reset:S,update:E,getCountUp:A}},iue=["className","redraw","containerProps","children","style"],sue=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=pN(t,iue),l=er.useRef(null),c=er.useRef(!1),u=gN(b0(b0({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,b=As(function(){d()}),y=As(function(x){t.preserveValue||h(),p(x)}),A=As(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});er.useEffect(function(){A()},[A]),er.useEffect(function(){c.current&&y(t.end)},[t.end,y]);var _=r&&t;return er.useEffect(function(){r&&c.current&&b()},[b,r,_]),er.useEffect(function(){!r&&c.current&&b()},[b,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),er.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):er.createElement("span",G_({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},_E=bE.default=sue;bE.useCountUp=gN;const SE=e=>v.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),oue=rs()?0:10;function mN({onClose:e,closeText:t}){const{register:n}=Wn({onBackspace:e}),[r,i]=Qe(L0),{data:s,isLoading:o}=cd(),a=SE(s),l=v.useMemo(()=>a.filter(({name:p,count:g})=>uN(p)&&g>=oue),[a]),c=v.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};v.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){const p=new Intl.DisplayNames(["en"],{type:"language"}),g=navigator==null?void 0:navigator.languages.map(b=>{var y;return(y=p.of(b))==null?void 0:y.toLowerCase()}).filter(Boolean),m=l.map(b=>b.name).filter(b=>!g.some(y=>y.includes(b.toLowerCase()))).filter(b=>b!=="English");m.length&&i(m)}},[r,l]);const h=v.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return v.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(Wa,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(cue,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(Rce,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(NP,{"data-excluded":!0,focused:!1,children:f.jsx(Rl,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(NP,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(lue,{children:m?f.jsx(Kg,{}):f.jsx(qg,{})}),f.jsxs("span",{children:[f.jsx(uue,{children:p})," (",g," songs)"]}),f.jsx(due,{"data-excluded":m,children:f.jsx(Rl,{language:[p]})})]},p)}),c>0&&f.jsxs(BA,{children:["…and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(aue,{children:[f.jsx(Re,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(BA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(_E,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(BA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(ld,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const aue=M("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),BA=M("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),lue=M("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),cue=M("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),uue=M("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),due=M("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),NP=M(Re,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",He,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),fue=rs()?0:30;function hue({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=v.useState(!1),o=()=>s(!1),a=t.filter(c=>c.count>fue);console.log(n);const l=c=>{const u=n.filter(d=>a.find(h=>h.name===d));u.length===0?r(t.filter(d=>d.name!==c).map(d=>d.name)):u.includes(c)?r(n.filter(d=>d!==c)):u.length===a.length-1?r([]):r([...n,c])};return f.jsxs(f.Fragment,{children:[i&&f.jsx(dc,{onClose:o,children:f.jsxs(fs,{"data-test":"languages-container",className:"!gap-1",children:[a.map(({name:c,count:u})=>{const d=n.length&&n.includes(c);return f.jsxs(Re,{size:"small","data-active":!!n.length&&!n.includes(c),onClick:()=>l(c),"data-test":c,className:`flex !justify-between ${d&&"line-through decoration-white opacity-25"}`,children:[f.jsxs("span",{className:d?"line-through decoration-white":"",children:[c,f.jsxs("small",{className:"text-2xl pl-2",children:["(",u,")"]})]}),f.jsx(Rl,{language:[c],className:" h-full w-32 object-cover"})]},c)}),f.jsx("hr",{}),f.jsx(Re,{size:"small",onClick:o,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const pue=(e,t,n)=>e>=t&&e<n;function gue(e,t){var _,x,S;const n=v.useMemo(()=>{const E=[];return e.groupSizes.forEach((C,k)=>{var V,w;E.push({index:k,type:"group",bottom:(((V=E.at(-1))==null?void 0:V.bottom)??0)+e.groupHeaderHeight,groupIndex:k});for(let j=0;j<C;j++){const z=e.groupSizes.reduce((R,L,P)=>R+(P<k?L:0),0)+j;E.push({index:z,type:"item",bottom:(((w=E.at(-1))==null?void 0:w.bottom)??0)+e.itemHeight,groupIndex:k})}}),E},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((_=n.at(-1))==null?void 0:_.bottom)??0,i=v.useRef(null),s=((x=i.current)==null?void 0:x.getBoundingClientRect().height)??global.innerHeight,o=v.useCallback(E=>{const C=n.findIndex(V=>V.bottom>E-e.overScan),k=n.findIndex(V=>V.bottom>E+s+e.overScan);return[C,k===-1?n.length:k]},[n,s,e.overScan]),[[a,l],c]=v.useState(o(0));v.useLayoutEffect(()=>{var C;const E=o(((C=i.current)==null?void 0:C.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)},[o,e.groupSizes,a,l]),v.useEffect(()=>{if(i.current){const E=()=>{var k;const C=o(((k=i.current)==null?void 0:k.scrollTop)??0);(a!==C[0]||l!==C[1])&&c(C)};return i.current.addEventListener("scroll",E),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var C;(C=i.current)==null||C.removeEventListener("scroll",E)}}},[a,l,o,r]);const u=v.useCallback((E,C)=>{var k,V;return(((k=n[C])==null?void 0:k.bottom)??0)-(((V=n[E])==null?void 0:V.bottom)??0)},[n]),d=v.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:E})=>E==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let E=0;E<p.length;E++){const C=p[E];C.type==="group"&&g.push([]),(S=g.at(-1))==null||S.push(C)}v.useImperativeHandle(t,()=>({getItemPositionY:E=>{var C;return(((C=n.find(k=>k.type==="item"&&k.index===E))==null?void 0:C.bottom)??-1)-e.itemHeight},scrollTo:E=>{var C;(C=i.current)==null||C.scrollTo({top:E})},scrollToIndex:async(E,C="auto",k="center")=>{var w,j;const V=n.find(z=>z.type==="item"&&z.index===E);if(V){const z=(e.itemHeight+(k==="center"?(w=i.current)==null?void 0:w.clientHeight:0))/2;(j=i.current)==null||j.scrollTo({top:V.bottom-z,behavior:C})}},scrollToGroup:async(E,C="auto",k="top")=>{var w;const V=n.find(j=>j.type==="group"&&j.index===E);V&&((w=i.current)==null||w.scrollTo({top:V.bottom-e.groupHeaderHeight,behavior:C}))}}));const{Header:m,Footer:b,EmptyPlaceholder:y}=e.components??{},A=n.findIndex(E=>E.type==="item"&&E.index===e.forceRenderItem);return f.jsxs(yue,{ref:i,children:[f.jsxs(mue,{style:{height:r,paddingTop:h!==-1?d-e.groupHeaderHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[A]&&!pue(A,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[A].index,n[A].groupIndex,{style:{width:"100%",position:"absolute",top:n[A].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[A].bottom,"data-virtualized-index":n[A].index})}),g.map((E,C)=>f.jsxs("div",{children:[C===0&&h!==-1&&e.groupContent(n[h].index),E.map(({index:k,type:V,bottom:w,groupIndex:j})=>f.jsx(v.Fragment,{children:V==="group"?e.groupContent(k):e.itemContent(k,j,{"data-virtualized-bottom":w,"data-virtualized-index":k})},`${w}`))]},(E[0]??n[h]).groupIndex))]}),g.length===0&&y&&f.jsx(y,{context:e.context}),b&&f.jsx(b,{context:e.context})]})}const mue=M("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),yue=M("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),yN=v.forwardRef(gue),vue=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,W_=1/0,DA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),BP="eexxaacctt",Aue="A-Z",bue="a-z",jd=(e,t,n)=>e.replace(Aue,t).replace(bue,n),DP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:W_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,W_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||vue(t[r[d]],t[r[h]]))}},$A=(e,t)=>t==0?"":t==1?e+"??":t==W_?e+"*?":e+`{0,${t}}?`,$P="(?:\\b|_)";function tv(e){e=Object.assign({},DP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),U=m.toLocaleLowerCase();h=jd(h,G,U),d=jd(d,G,U),p=jd(p,G,U),g=jd(g,G,U),u=jd(u,G,U)}let b=t?"u":"";const y='".+?"',A=new RegExp(y,"gi"+b),_=new RegExp(`(?:\\s+|^)-(?:${g}+|${y})`,"gi"+b);let{intraRules:x}=e;x==null&&(x=G=>{let U=DP.intraSlice,ne=0,B=0,fe=0,Z=0;if(/[^\d]/.test(G)){let oe=G.length;oe<=4?oe>=3&&(fe=Math.min(l,1),oe==4&&(ne=Math.min(o,1))):(U=s,ne=o,B=a,fe=l,Z=c)}return{intraSlice:U,intraIns:ne,intraSub:B,intraTrn:fe,intraDel:Z}});let S=!!d,E=new RegExp(d,"g"+b),C=new RegExp(h,"g"+b),k=new RegExp("^"+h+"|"+h+"$","g"+b),V=new RegExp(u,"gi"+b);const w=G=>{let U=[];G=G.replace(A,B=>(U.push(B),BP)),G=G.replace(k,"").toLocaleLowerCase(),S&&(G=G.replace(E,B=>B[0]+" "+B[1]));let ne=0;return G.split(C).filter(B=>B!="").map(B=>B===BP?U[ne++]:B)},j=/[^\d]+|\d+/g,z=(G,U=0,ne=!1)=>{let B=w(G);if(B.length==0)return[];let fe=Array(B.length).fill("");B=B.map((ae,be)=>ae.replace(V,Le=>(fe[be]=Le,"")));let Z;if(i==1)Z=B.map((ae,be)=>{if(ae[0]==='"')return DA(ae.slice(1,-1));let Le="";for(let Be of ae.matchAll(j)){let ye=Be[0],{intraSlice:Se,intraIns:Ke,intraSub:De,intraTrn:xe,intraDel:Je}=x(ye);if(Ke+De+xe+Je==0)Le+=ye+fe[be];else{let[Et,Gt]=Se,Ct=ye.slice(0,Et),Ce=ye.slice(Gt),ct=ye.slice(Et,Gt);Ke==1&&Ct.length==1&&Ct!=ct[0]&&(Ct+="(?!"+Ct+")");let Rt=ct.length,jt=[ye];if(De)for(let Me=0;Me<Rt;Me++)jt.push(Ct+ct.slice(0,Me)+g+ct.slice(Me+1)+Ce);if(xe)for(let Me=0;Me<Rt-1;Me++)ct[Me]!=ct[Me+1]&&jt.push(Ct+ct.slice(0,Me)+ct[Me+1]+ct[Me]+ct.slice(Me+2)+Ce);if(Je)for(let Me=0;Me<Rt;Me++)jt.push(Ct+ct.slice(0,Me+1)+"?"+ct.slice(Me+1)+Ce);if(Ke){let Me=$A(g,1);for(let We=0;We<Rt;We++)jt.push(Ct+ct.slice(0,We)+Me+ct.slice(We)+Ce)}Le+="(?:"+jt.join("|")+")"+fe[be]}}return Le});else{let ae=$A(g,o);U==2&&o>0&&(ae=")("+ae+")("),Z=B.map((be,Le)=>be[0]==='"'?DA(be.slice(1,-1)):be.split("").map((Be,ye,Se)=>(o==1&&ye==0&&Se.length>1&&Be!=Se[ye+1]&&(Be+="(?!"+Be+")"),Be)).join(ae)+fe[Le])}let oe=n==2?$P:"",Pe=r==2?$P:"",Ee=Pe+$A(e.interChars,e.interIns)+oe;return U>0?ne?Z=oe+"("+Z.join(")"+Pe+"|"+oe+"(")+")"+Pe:(Z="("+Z.join(")("+Ee+")(")+")",Z="(.??"+oe+")"+Z+"("+Pe+".*)"):(Z=Z.join(Ee),Z=oe+Z+Pe),[new RegExp(Z,"i"+b),B,fe]},R=(G,U,ne)=>{let[B]=z(U);if(B==null)return null;let fe=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let oe=ne[Z];B.test(G[oe])&&fe.push(oe)}else for(let Z=0;Z<G.length;Z++)B.test(G[Z])&&fe.push(Z);return fe};let L=!!p,P=new RegExp(h,b),T=new RegExp(p,b);const $=(G,U,ne)=>{let[B,fe,Z]=z(ne,1),[oe]=z(ne,2),Pe=fe.length,Ee=G.length,ae=Array(Ee).fill(0),be={idx:Array(Ee),start:ae.slice(),chars:ae.slice(),terms:ae.slice(),interIns:ae.slice(),intraIns:ae.slice(),interLft2:ae.slice(),interRgt2:ae.slice(),interLft1:ae.slice(),interRgt1:ae.slice(),ranges:Array(Ee)},Le=n==1||r==1,Be=0;for(let ye=0;ye<G.length;ye++){let Se=U[G[ye]],Ke=Se.match(B),De=Ke.index+Ke[1].length,xe=De,Je=!1,Et=0,Gt=0,Ct=0,Ce=0,ct=0,Rt=0,jt=0,Me=0,We=[];for(let it=0,st=2;it<Pe;it++,st+=2){let sn=Ke[st].toLocaleLowerCase(),gt=fe[it],ut=gt[0]=='"'?gt.slice(1,-1):gt+Z[it],on=ut.length,pn=sn.length,Xt=sn==ut;if(!Xt&&Ke[st+1].length>=on){let At=Ke[st+1].toLocaleLowerCase().indexOf(ut);At>-1&&(We.push(xe,pn,At,on),xe+=N(Ke,st,At,on),sn=ut,pn=on,Xt=!0,it==0&&(De=xe))}if(Le||Xt){let At=xe-1,Fn=xe+pn,yr=!1,Sn=!1;if(At==-1||P.test(Se[At]))Xt&&Et++,yr=!0;else{if(n==2){Je=!0;break}if(L&&T.test(Se[At]+Se[At+1]))Xt&&Gt++,yr=!0;else if(n==1){let Ri=Ke[st+1],ci=xe+pn;if(Ri.length>=on){let kt=0,xn=!1,$e=new RegExp(ut,"ig"+b),tt;for(;tt=$e.exec(Ri);){kt=tt.index;let qn=ci+kt,ui=qn-1;if(ui==-1||P.test(Se[ui])){Et++,xn=!0;break}else if(T.test(Se[ui]+Se[qn])){Gt++,xn=!0;break}}xn&&(yr=!0,We.push(xe,pn,kt,on),xe+=N(Ke,st,kt,on),sn=ut,pn=on,Xt=!0,it==0&&(De=xe))}if(!yr){Je=!0;break}}}if(Fn==Se.length||P.test(Se[Fn]))Xt&&Ct++,Sn=!0;else{if(r==2){Je=!0;break}if(L&&T.test(Se[Fn-1]+Se[Fn]))Xt&&Ce++,Sn=!0;else if(r==1){Je=!0;break}}Xt&&(ct+=on,yr&&Sn&&Rt++)}if(pn>on&&(Me+=pn-on),it>0&&(jt+=Ke[st-1].length),!e.intraFilt(ut,sn,xe)){Je=!0;break}it<Pe-1&&(xe+=pn+Ke[st+1].length)}if(!Je){be.idx[Be]=G[ye],be.interLft2[Be]=Et,be.interLft1[Be]=Gt,be.interRgt2[Be]=Ct,be.interRgt1[Be]=Ce,be.chars[Be]=ct,be.terms[Be]=Rt,be.interIns[Be]=jt,be.intraIns[Be]=Me,be.start[Be]=De;let it=Se.match(oe),st=it.index+it[1].length,sn=We.length,gt=sn>0?0:1/0,ut=sn-4;for(let At=2;At<it.length;){let Fn=it[At].length;if(gt<=ut&&We[gt]==st){let yr=We[gt+1],Sn=We[gt+2],Ri=We[gt+3],ci=At,kt="";for(let xn=0;xn<yr;ci++)kt+=it[ci],xn+=it[ci].length;it.splice(At,ci-At,kt),st+=N(it,At,Sn,Ri),gt+=4}else st+=Fn,At++}st=it.index+it[1].length;let on=be.ranges[Be]=[],pn=st,Xt=st;for(let At=2;At<it.length;At++){let Fn=it[At].length;st+=Fn,At%2==0?Xt=st:Fn>0&&(on.push(pn,Xt),pn=Xt=st)}Xt>pn&&on.push(pn,Xt),Be++}}if(Be<G.length)for(let ye in be)be[ye]=be[ye].slice(0,Be);return be},N=(G,U,ne,B)=>{let fe=G[U]+G[U+1].slice(0,ne);return G[U-1]+=fe,G[U]=G[U+1].slice(ne,ne+B),G[U+1]=G[U+1].slice(ne+B),fe.length},F=5,D=(G,U,ne,B=1e3,fe)=>{ne=ne?ne===!0?F:ne:0;let Z=null,oe=null,Pe=[];U=U.replace(_,ye=>{let Se=ye.trim().slice(1);return Se[0]==='"'&&(Se=DA(Se.slice(1,-1))),Pe.push(Se),""});let Ee=w(U),ae;if(Pe.length>0){if(ae=new RegExp(Pe.join("|"),"i"+b),Ee.length==0){let ye=[];for(let Se=0;Se<G.length;Se++)ae.test(G[Se])||ye.push(Se);return[ye,null,null]}}else if(Ee.length==0)return[null,null,null];if(ne>0){let ye=w(U);if(ye.length>1){let Se=ye.slice().sort((De,xe)=>xe.length-De.length);for(let De=0;De<Se.length;De++){if((fe==null?void 0:fe.length)==0)return[[],null,null];fe=R(G,Se[De],fe)}if(ye.length>ne)return[fe,null,null];Z=vN(ye).map(De=>De.join(" ")),oe=[];let Ke=new Set;for(let De=0;De<Z.length;De++)if(Ke.size<fe.length){let xe=fe.filter(Et=>!Ke.has(Et)),Je=R(G,Z[De],xe);for(let Et=0;Et<Je.length;Et++)Ke.add(Je[Et]);oe.push(Je)}else oe.push([])}}Z==null&&(Z=[U],oe=[(fe==null?void 0:fe.length)>0?fe:R(G,U)]);let be=null,Le=null;if(Pe.length>0&&(oe=oe.map(ye=>ye.filter(Se=>!ae.test(G[Se])))),oe.reduce((ye,Se)=>ye+Se.length,0)<=B){be={},Le=[];for(let ye=0;ye<oe.length;ye++){let Se=oe[ye];if(Se==null||Se.length==0)continue;let Ke=Z[ye],De=$(Se,G,Ke),xe=e.sort(De,G,Ke);if(ye>0)for(let Je=0;Je<xe.length;Je++)xe[Je]+=Le.length;for(let Je in De)be[Je]=(be[Je]??[]).concat(De[Je]);Le=Le.concat(xe)}}return[[].concat(...oe),be,Le]};return{search:(...G)=>D(...G),split:w,filter:R,info:$,sort:e.sort}}const _ue=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function vN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Sue=(e,t)=>t?`<mark>${e}</mark>`:e,xue=(e,t)=>e+t;function wue(e,t,n=Sue,r="",i=xue){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}tv.latinize=_ue;tv.permute=e=>vN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));tv.highlight=wue;const Eue=(e,t,n)=>{const r=SE(e);return v.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(wse,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:"★"})," Selection ",f.jsx("strong",{children:"★"})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},FP=e=>Cu((e==null?void 0:e.search)??"").length>2,zP={},Cue=/[^0-9a-z ]/gi,FA=e=>px(e).toLowerCase().replace(Cue,"");function q_(e,t){const n=Cu(t);if(n.length>0){const r=new tv({}),[,i,s]=r.search(e.map(o=>`${FA(o.artist)} ${FA(o.title)}`),FA(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e}const _0={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||FP(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>q_(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Cu(t).length?e.filter(r=>Cu(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Ts().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Ts(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>FP(n)?e:e.filter(r=>t.includes(r.id))},UP=(e,t)=>Object.entries(t).filter(n=>n[0]in _0).reduce((n,[r,i])=>_0[r](n,i,t,e),e),kue=(e,t,n)=>{var g;const[r]=Qe(L0),i=v.useMemo(()=>UP(e,{excludeLanguages:r??[]}),[e,r]),s=Eue(i,t,n),[o,a]=v.useState(new URLSearchParams((g=global.location)==null?void 0:g.search).get("playlist")??null),l=m=>{var y;const b=new URL((y=global.location)==null?void 0:y.href);b.searchParams.set("playlist",m),global.history.replaceState(null,"",b.toString()),a(m)},c=s.find(m=>m.name===o)??s[0],[u,d]=v.useState(zP);v.useEffect(()=>{d(zP)},[o]);const h=v.useDeferredValue(u),p=v.useMemo(()=>UP(e,{...(c==null?void 0:c.filters)??{},...h,excludeLanguages:r??[]}),[e,h,r,c]);return{filters:u,filteredList:p,setFilters:d,selectedPlaylist:o,setSelectedPlaylist:l,playlists:s,playlist:c}},Tue=Ga("remote-mic-saved-songs"),Iue=Ga("remote-mic-excluded-languages"),Pue=Ga("remote-mic-selected-song-list"),Mue=Ga("remote-mic-song-list-search");function Rue({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const[a]=Ls(te.remoteKeyboardLayout,!0)??[],l=ev(),c=cd(),[u,d]=v.useState();v.useEffect(()=>{o==="connected"&&u===void 0&&dn.getSongList().then(d).catch(console.warn)},[u,o]);const h=v.useMemo(()=>lce(c.data.map(w=>({...w,id:Ei.generateSongFile(w)})).filter(w=>!((u==null?void 0:u.deleted)??[]).includes(w.id)).map(w=>({id:w.id,artist:w.artist,title:w.title,video:w.video,language:w.language,search:w.search})).concat(...((u==null?void 0:u.custom)??[]).map(w=>({...w,id:Ei.generateSongFile(w)}))),w=>w.id),[c.data,u]),p=SE(h),[g,m]=Mue(""),[b,y]=Iue([]),[A,_]=Tue([]),[x,S]=Pue("list"),E=dN(),C=w=>{S(w),m("")},k=v.useMemo(()=>{if(x==="list"){const w=q_(h,g);return w.length!==h.length?w:h.filter(j=>!j.language.every(z=>b.includes(z)))}else{const w=A.map(j=>h.find(z=>z.id===j)).filter(Boolean);return q_(w,g)}},[g,h,x,A,b]),V=p.length-b.length;return f.jsxs(jue,{children:[f.jsxs(Oue,{children:[f.jsx(fc,{focused:!1,label:f.jsx(fE,{}),placeholder:"Search for a song…",value:g,onChange:w=>m(w),"data-test":"search-input"}),f.jsxs(Vue,{children:[f.jsx(zA,{"data-test":"all-songs-button","data-active":x==="list",onClick:()=>C("list"),children:"All songs"}),f.jsxs(zA,{"data-test":"your-list-button","data-active":x==="queue",onClick:()=>C("queue"),children:["Your list (",A.length,")"]}),f.jsx(hue,{excludedLanguages:b,languageList:p,onListChange:y,children:({open:w})=>f.jsxs(zA,{className:"!flex-grow-[0.3]",onClick:w,"data-test":"song-language-filter","data-active":b.length>0&&x==="list"?!0:void 0,children:["🇺🇳",V<p.length&&f.jsx(yE,{children:V})]})})]})]}),f.jsx(yN,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[k.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:E*7+1,itemContent:(w,j,z)=>{var P;const R=k[w],L=A.includes(R.id);return f.jsxs(Lue,{className:L?"!bg-black !bg-opacity-35":"","data-test":R.id,...z,children:[f.jsx(Nue,{children:f.jsx(Rl,{language:R.language})}),f.jsxs(Bue,{children:[f.jsx($ue,{children:R.title}),f.jsx(Due,{children:R.artist})]}),f.jsxs(Fue,{children:[((P=a==null?void 0:a.remote)==null?void 0:P.includes("select-song"))&&l==="write"&&f.jsx(HP,{onClick:T=>{T.stopPropagation(),dn.selectSong(R.id)},"data-test":"select-song-button",children:"SELECT"}),L?f.jsx(HP,{"data-test":"remove-song-button",onClick:T=>{T.stopPropagation(),_($=>$.filter(N=>N!==R.id))},children:"-"}):f.jsx(AN,{"data-test":"add-song-button",onClick:T=>{T.stopPropagation(),_($=>[...$,R.id])},children:"+"})]})]})}})]})}const jue=M("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),Oue=M("div",{target:"emsrjbt8"})(He,";font-size:2.5rem;display:flex;flex-direction:column;"),Vue=M("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),zA=M("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",He,";font-size:2rem;position:relative;transition:300ms;&[data-active='true']{background:",ge.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Lue=M("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),Nue=M("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Bue=M("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Due=M("span",{target:"emsrjbt2"})("color:",ge.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),$ue=M("span",{target:"emsrjbt1"})("color:",ge.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),Fue=M("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),AN=ud.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,HP=ud(AN)`text-active`,UA=new tZ;function zue(){const e=wy("room"),[t]=Ls(te.remoteStyleChanged,!0)??["regular"];v.useLayoutEffect(()=>{C5(t)},[t]),Fa(!0,t);const[n,r]=v.useState("microphone"),[i,s]=Ls(te.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=v.useState(!1);Er(te.micMonitoringStarted,()=>a(!0)),Er(te.micMonitoringStopped,()=>a(!1));const[l,c]=v.useState(!1),u=async h=>{try{h&&!UA.isEnabled?await UA.enable():!h&&UA.isEnabled,c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Ko,{children:[f.jsx(Kae,{onConfirm:d}),f.jsx(hZ,{size:10}),f.jsx(Hue,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Gae,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(Rue,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(ole,{}),f.jsx(Uue,{}),f.jsx(Doe,{setActiveTab:r,active:n})]})})]})}const Uue=M("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),Hue=M("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function qa(e){v.useEffect(()=>{e?Ig.playing()||Ig.play(!1):Ig.stop()},[e])}function Gue(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var bN=v,Wue=Gue(bN);function GP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function que(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Kue=!!(typeof window<"u"&&window.document&&window.document.createElement);function Yue(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){que(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return Wue.createElement(s,this.props)},d}(bN.PureComponent);return GP(c,"displayName","SideEffect("+r(s)+")"),GP(c,"canUseDOM",Kue),c}}var Que=Yue;const Jue=gr(Que);var Xue=typeof Element<"u",Zue=typeof Map=="function",ede=typeof Set=="function",tde=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Yg(e[r],t[r]))return!1;return!0}var s;if(Zue&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Yg(r.value[1],t.get(r.value[0])))return!1;return!0}if(ede&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(tde&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Xue&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Yg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var nde=function(t,n){try{return Yg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const rde=gr(nde);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var WP=Object.getOwnPropertySymbols,ide=Object.prototype.hasOwnProperty,sde=Object.prototype.propertyIsEnumerable;function ode(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ade(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var lde=ade()?Object.assign:function(e,t){for(var n,r=ode(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)ide.call(n,o)&&(r[o]=n[o]);if(WP){i=WP(n);for(var a=0;a<i.length;a++)sde.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const cde=gr(lde);var jl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ye={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ye).map(function(e){return Ye[e]});var tn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},S0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},mh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},ude=Object.keys(S0).reduce(function(e,t){return e[S0[t]]=t,e},{}),dde=[Ye.NOSCRIPT,Ye.SCRIPT,Ye.STYLE],Is="data-react-helmet",fde=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hde=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},pde=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gde=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},qP=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},mde=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},K_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},yde=function(t){var n=gu(t,Ye.TITLE),r=gu(t,mh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=gu(t,mh.DEFAULT_TITLE);return n||i||void 0},vde=function(t){return gu(t,mh.ON_CHANGE_CLIENT_STATE)||function(){}},HA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return qr({},r,i)},{})},Ade=function(t,n){return n.filter(function(r){return typeof r[Ye.BASE]<"u"}).map(function(r){return r[Ye.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},Od=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&xde("Helmet: "+t+' should be of type "Array". Instead found type "'+fde(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var b=g[m],y=b.toLowerCase();n.indexOf(y)!==-1&&!(p===tn.REL&&h[p].toLowerCase()==="canonical")&&!(y===tn.REL&&h[y].toLowerCase()==="stylesheet")&&(p=y),n.indexOf(b)!==-1&&(b===tn.INNER_HTML||b===tn.CSS_TEXT||b===tn.ITEM_PROP)&&(p=b)}if(!p||!h[p])return!1;var A=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][A]?!1:(a[p][A]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=cde({},i[u],a[u]);i[u]=d}return s},[]).reverse()},gu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},bde=function(t){return{baseTag:Ade([tn.HREF,tn.TARGET],t),bodyAttributes:HA(jl.BODY,t),defer:gu(t,mh.DEFER),encode:gu(t,mh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:HA(jl.HTML,t),linkTags:Od(Ye.LINK,[tn.REL,tn.HREF],t),metaTags:Od(Ye.META,[tn.NAME,tn.CHARSET,tn.HTTPEQUIV,tn.PROPERTY,tn.ITEM_PROP],t),noscriptTags:Od(Ye.NOSCRIPT,[tn.INNER_HTML],t),onChangeClientState:vde(t),scriptTags:Od(Ye.SCRIPT,[tn.SRC,tn.INNER_HTML],t),styleTags:Od(Ye.STYLE,[tn.CSS_TEXT],t),title:yde(t),titleAttributes:HA(jl.TITLE,t)}},Y_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Y_(t)},0)}}(),KP=function(t){return clearTimeout(t)},_de=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Y_:global.requestAnimationFrame||Y_,Sde=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||KP:global.cancelAnimationFrame||KP,xde=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Vd=null,wde=function(t){Vd&&Sde(Vd),t.defer?Vd=_de(function(){YP(t,function(){Vd=null})}):(YP(t),Vd=null)},YP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;Q_(Ye.BODY,i),Q_(Ye.HTML,s),Ede(h,p);var g={baseTag:wc(Ye.BASE,r),linkTags:wc(Ye.LINK,o),metaTags:wc(Ye.META,a),noscriptTags:wc(Ye.NOSCRIPT,l),scriptTags:wc(Ye.SCRIPT,u),styleTags:wc(Ye.STYLE,d)},m={},b={};Object.keys(g).forEach(function(y){var A=g[y],_=A.newTags,x=A.oldTags;_.length&&(m[y]=_),x.length&&(b[y]=g[y].oldTags)}),n&&n(),c(t,m,b)},_N=function(t){return Array.isArray(t)?t.join(""):t},Ede=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=_N(t)),Q_(Ye.TITLE,n)},Q_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Is),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(Is):r.getAttribute(Is)!==a.join(",")&&r.setAttribute(Is,a.join(","))}},wc=function(t,n){var r=document.head||document.querySelector(Ye.HEAD),i=r.querySelectorAll(t+"["+Is+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===tn.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===tn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Is,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},SN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Cde=function(t,n,r,i){var s=SN(r),o=_N(n);return s?"<"+t+" "+Is+'="true" '+s+">"+K_(o,i)+"</"+t+">":"<"+t+" "+Is+'="true">'+K_(o,i)+"</"+t+">"},kde=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===tn.INNER_HTML||c===tn.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+K_(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=dde.indexOf(t)===-1;return i+"<"+t+" "+Is+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},xN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[S0[i]||i]=t[i],r},n)},Tde=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[ude[i]||i]=t[i],r},n)},Ide=function(t,n,r){var i,s=(i={key:n},i[Is]=!0,i),o=xN(r,s);return[Te.createElement(Ye.TITLE,o,n)]},Pde=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Is]=!0,s);return Object.keys(r).forEach(function(a){var l=S0[a]||a;if(l===tn.INNER_HTML||l===tn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Te.createElement(t,o)})},ho=function(t,n,r){switch(t){case Ye.TITLE:return{toComponent:function(){return Ide(t,n.title,n.titleAttributes)},toString:function(){return Cde(t,n.title,n.titleAttributes,r)}};case jl.BODY:case jl.HTML:return{toComponent:function(){return xN(n)},toString:function(){return SN(n)}};default:return{toComponent:function(){return Pde(t,n)},toString:function(){return kde(t,n,r)}}}},wN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:ho(Ye.BASE,n,i),bodyAttributes:ho(jl.BODY,r,i),htmlAttributes:ho(jl.HTML,s,i),link:ho(Ye.LINK,o,i),meta:ho(Ye.META,a,i),noscript:ho(Ye.NOSCRIPT,l,i),script:ho(Ye.SCRIPT,c,i),style:ho(Ye.STYLE,u,i),title:ho(Ye.TITLE,{title:h,titleAttributes:p},i)}},Mde=function(t){var n,r;return r=n=function(i){gde(s,i);function s(){return hde(this,s),mde(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!rde(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Ye.SCRIPT:case Ye.NOSCRIPT:return{innerHTML:l};case Ye.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return qr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[qr({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case Ye.TITLE:return qr({},d,(l={},l[u.type]=p,l.titleAttributes=qr({},h),l));case Ye.BODY:return qr({},d,{bodyAttributes:qr({},h)});case Ye.HTML:return qr({},d,{htmlAttributes:qr({},h)})}return qr({},d,(c={},c[u.type]=qr({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=qr({},l);return Object.keys(a).forEach(function(u){var d;c=qr({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Te.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=qP(h,["children"]),m=Tde(g);switch(c.warnOnInvalidChildren(d,p),d.type){case Ye.LINK:case Ye.META:case Ye.NOSCRIPT:case Ye.SCRIPT:case Ye.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=qP(a,["children"]),u=qr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Te.createElement(t,u)},pde(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Te.Component),n.propTypes={base:Xe.object,bodyAttributes:Xe.object,children:Xe.oneOfType([Xe.arrayOf(Xe.node),Xe.node]),defaultTitle:Xe.string,defer:Xe.bool,encodeSpecialCharacters:Xe.bool,htmlAttributes:Xe.object,link:Xe.arrayOf(Xe.object),meta:Xe.arrayOf(Xe.object),noscript:Xe.arrayOf(Xe.object),onChangeClientState:Xe.func,script:Xe.arrayOf(Xe.object),style:Xe.arrayOf(Xe.object),title:Xe.string,titleAttributes:Xe.object,titleTemplate:Xe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=wN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Rde=function(){return null},jde=Jue(bde,wde,wN)(Rde),Ti=Mde(jde);Ti.renderStatic=Ti.rewind;const EN=v.forwardRef(({...e},t)=>{const n=v.useRef(null);v.useImperativeHandle(t,()=>n.current);const[r,i]=Qe(lf);return f.jsx(Ode,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Ode=M(fc,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function Vde(){qa(!1);const e=li(),t=()=>e("menu/"),{register:n}=Wn({onBackspace:t}),[r,i]=Qe(Wi),[s,o]=Qe(_l),[a,l]=Qe(mr),c=v.useRef(null),[u,d]=v.useState(Cs.getPermissionStatus());v.useEffect(()=>Cs.addListener(b=>{d(b)}),[]);const[h,p]=v.useState(!1),g=()=>{p(!0),Cs.requestPermissions().then(()=>p(!1))};let m="Disabled";return h?m=f.jsx(Kh,{size:"0.9em"}):u===null?m="Click to enable":u&&(m="Enabled"),f.jsxs(Wa,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(Yi,{...n("graphics-level",()=>i(Ml($5,r))),label:"Graphics",value:r.toUpperCase()}),f.jsx(Yi,{...n("fps-count-level",()=>o(Ml(F5,s))),label:"FPS Count",value:s}),f.jsx(EN,{ref:c,...n("input-lag",()=>{var b;return(b=c.current)==null?void 0:b.focus()})}),f.jsx("hr",{}),f.jsx(Yi,{...n("camera-access",()=>u?Cs.disable():g()),label:"Enable camera mode",value:m,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(Yi,{...n("mobile-phone-mode",()=>l(!a)),label:"Mobile Phone Mode",value:a?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Re,{...n("remote-mics-settings",()=>e("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Re,{...n("setup-mics-button",()=>e("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Re,{...n("manage-songs-button",()=>e("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Re,{...n("back-button",t),children:"Return To Main Menu"})]})}function Lde(e){return kr("MuiPaper",e)}Tr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Nde=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Ur(s,Lde,i)},Bde=Jt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(ss(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),nv=v.forwardRef(function(t,n){var p;const r=Ir({props:t,name:"MuiPaper"}),i=sw(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:o,elevation:a,square:l,variant:c},h=Nde(d);return f.jsx(Bde,{as:o,ownerState:d,className:St(h.root,s),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Es("#fff",Lb(a))}, ${Es("#fff",Lb(a))})`}},...u.style}})});function CN(e){return f.jsxs(Dde,{...e,children:[f.jsx(kN,{asChild:!0,children:f.jsx(Q4,{})}),f.jsx($de,{asChild:!0,children:f.jsx(D_,{})})]})}const Dde=ud.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,kN=ud.svg`w-[15rem] h-[15rem] transition-[300ms]`,$de=ud(kN)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function TN(){const[e,t]=v.useState(!1);return v.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Fde,{visible:e,children:f.jsx(zde,{})})}const Fde=M("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),zde=M(CN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),IN=v.lazy(()=>td(()=>import("./SongManagement-BZbR7NN5.js"),[]).then(e=>({default:e.Convert}))),Ude=e=>f.jsxs(v.Suspense,{fallback:f.jsx(TN,{}),children:[f.jsx(Ti,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(nv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:f.jsx(IN,{...e})})]}),Hde=ht(f.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var PN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(la,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,b,y=d.$locale().relativeTime||o,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=A.length,x=0;x<_;x+=1){var S=A[x];S.d&&(g=h?i(c).diff(d,S.d,!0):d.diff(c,S.d,!0));var E=(n.rounding||Math.round)(Math.abs(g));if(b=g>0,E<=S.r||!S.r){E<=1&&x>0&&(S=A[x-1]);var C=y[S.l];p&&(E=p(""+E)),m=typeof C=="string"?C.replace("%d",E):C(E,u,S.l,b);break}}if(u)return m;var k=b?y.future:y.past;return typeof k=="function"?k(m):k.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(PN);var Gde=PN.exports;const Wde=gr(Gde),MN=1e3,qde=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),Kde=e=>{const t=e.notes.at(-1);return t.start+t.length},Yde=(e,t=10)=>{let n=0;const r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=Kde(i)}),r},QP=(e,t)=>({...e,sections:Yde(qde(e.sections.filter(It)),t)});function Qde(e){const t=nd(e),n=Math.round(MN/t);return{...e,tracks:e.tracks.map(r=>QP(r,n)),mergedTrack:QP(e.mergedTrack,n)}}const Jde=(e,t)=>e.map((n,r)=>It(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),JP=(e,t)=>({...e,sections:Jde(e.sections,t)});function Xde(e){const t=nd(e),n=Math.round(MN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>JP(s,r)),mergedTrack:JP(e.mergedTrack,r)}}function RN(e,t){return nd(t)*e}function rv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?Pa(n.sections):n.start));return RN(t,e)+e.gap}function Zde(e){const t=rv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const efe=(e,t)=>e.map((n,r)=>It(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>It(n)||n.start-n.end>0),XP=(e,t)=>({...e,sections:efe(e.sections,t)});function tfe(e){const t=nd(e),n=e.tracks.reduce((o,a,l)=>{const c=Pa(e.tracks[o].sections),u=Pa(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(It);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>XP(o,i)),mergedTrack:XP(e.mergedTrack,i)}}const nfe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),ZP=e=>({...e,sections:e.sections.map(t=>It(t)?{...t,notes:nfe(t.notes)}:t)});function rfe(e){return{...e,tracks:e.tracks.map(ZP),mergedTrack:ZP(e.mergedTrack)}}const ife=e=>{let t=tfe(e);return t=Xde(t),t=Qde(t),t=rfe(t),t=Zde(t),t};function jN(e){const[t,n]=v.useState(null);return v.useEffect(()=>{Ei.get(e).then(r=>n(r&&ife(r)))},[e]),{data:t}}function sfe(e){return kr("MuiButton",e)}const Ec=Tr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ofe=v.createContext({}),afe=v.createContext(void 0),lfe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=e,a={root:["root",s,`${s}${at(t)}`,`size${at(i)}`,`${s}Size${at(i)}`,`color${at(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${at(i)}`],endIcon:["icon","endIcon",`iconSize${at(i)}`]},l=Ur(a,sfe,o);return{...o,...l}},ON=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],cfe=Jt(p4,{shouldForwardProp:e=>ow(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${at(n.color)}`],t[`size${at(n.size)}`],t[`${n.variant}Size${at(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(ss(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ec.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Ec.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Ec.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ec.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Kf()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Es(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Es(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Es(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Es(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Es(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ec.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ec.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),ufe=Jt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${at(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...ON]}),dfe=Jt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${at(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...ON]}),eM=v.forwardRef(function(t,n){const r=v.useContext(ofe),i=v.useContext(afe),s=Bm(r,t),o=Ir({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:b=!1,size:y="medium",startIcon:A,type:_,variant:x="text",...S}=o,E={...o,color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:b,size:y,type:_,variant:x},C=lfe(E),k=A&&f.jsx(ufe,{className:C.startIcon,ownerState:E,children:A}),V=g&&f.jsx(dfe,{className:C.endIcon,ownerState:E,children:g}),w=i||"";return f.jsxs(cfe,{ownerState:E,className:St(r.className,C.root,u,w),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:St(C.focusVisible,m),ref:n,type:_,...S,classes:C,children:[k,a,V]})});function ffe(e){const t=Hl(e);return t.body===e?Nm(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function kf(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function tM(e){return parseInt(Nm(e).getComputedStyle(e).paddingRight,10)||0}function hfe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function nM(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,o=>{const a=!s.includes(o),l=!hfe(o);a&&l&&kf(o,i)})}function GA(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function pfe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(ffe(r)){const o=CZ(Nm(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${tM(r)+o}px`;const a=Hl(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${tM(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Hl(r).body;else{const o=r.parentElement,a=Nm(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function gfe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class mfe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&kf(t.modalRef,!1);const i=gfe(n);nM(n,t.mount,t.modalRef,i,!0);const s=GA(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=GA(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=pfe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=GA(this.containers,o=>o.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&kf(t.modalRef,n),nM(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&kf(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const yfe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function vfe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Afe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function bfe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Afe(e))}function _fe(e){const t=[],n=[];return Array.from(e.querySelectorAll(yfe)).forEach((r,i)=>{const s=vfe(r);s===-1||!bfe(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Sfe(){return!0}function xfe(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=_fe,isEnabled:o=Sfe,open:a}=e,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=v.useRef(!1),g=v.useRef(null),m=Ra(Hx(t),g),b=v.useRef(null);v.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!g.current)return;const _=Hl(g.current);return g.current.contains(_.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),v.useEffect(()=>{if(!a||!g.current)return;const _=Hl(g.current),x=C=>{b.current=C,!(r||!o()||C.key!=="Tab")&&_.activeElement===g.current&&C.shiftKey&&(l.current=!0,u.current&&u.current.focus())},S=()=>{var V,w;const C=g.current;if(C===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let k=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(k=s(g.current)),k.length>0){const j=!!((V=b.current)!=null&&V.shiftKey&&((w=b.current)==null?void 0:w.key)==="Tab"),z=k[0],R=k[k.length-1];typeof z!="string"&&typeof R!="string"&&(j?R.focus():z.focus())}else C.focus()};_.addEventListener("focusin",S),_.addEventListener("keydown",x,!0);const E=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(E),_.removeEventListener("focusin",S),_.removeEventListener("keydown",x,!0)}},[n,r,i,o,a,s]);const y=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,h.current=_.target;const x=t.props.onFocus;x&&x(_)},A=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return f.jsxs(v.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(t,{ref:m,onFocus:y}),f.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:u,"data-testid":"sentinelEnd"})]})}function wfe(e){return typeof e=="function"?e():e}const Efe=v.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=v.useState(null),l=Ra(v.isValidElement(r)?Hx(r):null,n);if(Rb(()=>{s||a(wfe(i)||document.body)},[i,s]),Rb(()=>{if(o&&!s)return Mb(n,o),()=>{Mb(n,null)}},[n,o,s]),s){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return f.jsx(v.Fragment,{children:r})}return f.jsx(v.Fragment,{children:o&&uc.createPortal(r,o)})});function x0(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:a,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=s,p=u[e]||r,g=OZ(d[e],i),{props:{component:m,...b},internalRef:y}=jZ({className:n,...l,externalForwardedProps:e==="root"?h:void 0,externalSlotProps:g}),A=Ra(y,g==null?void 0:g.ref,t.ref),_=o?o(b):{},x={...i,..._},S=e==="root"?m||c:m,E=RZ(p,{...e==="root"&&!c&&!u[e]&&a,...e!=="root"&&!u[e]&&a,...b,...S&&{as:S},ref:A},x);return Object.keys(_).forEach(C=>{delete E[C]}),[p,E]}const Cfe=e=>e.scrollTop;function rM(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const kfe={entering:{opacity:1},entered:{opacity:1}},VN=v.forwardRef(function(t,n){const r=sw(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:b,timeout:y=i,TransitionComponent:A=Wo,..._}=t,x=v.useRef(null),S=Ra(x,Hx(a),n),E=L=>P=>{if(L){const T=x.current;P===void 0?L(T):L(T,P)}},C=E(h),k=E((L,P)=>{Cfe(L);const T=rM({style:b,timeout:y,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",T),L.style.transition=r.transitions.create("opacity",T),u&&u(L,P)}),V=E(d),w=E(m),j=E(L=>{const P=rM({style:b,timeout:y,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",P),L.style.transition=r.transitions.create("opacity",P),p&&p(L)}),z=E(g),R=L=>{s&&s(x.current,L)};return f.jsx(A,{appear:o,in:c,nodeRef:x,onEnter:k,onEntered:V,onEntering:C,onExit:j,onExited:z,onExiting:w,addEndListener:R,timeout:y,..._,children:(L,P)=>v.cloneElement(a,{style:{opacity:0,visibility:L==="exited"&&!c?"hidden":void 0,...kfe[L],...b,...a.props.style},ref:S,...P})})});function Tfe(e){return kr("MuiBackdrop",e)}Tr("MuiBackdrop",["root","invisible"]);const Ife=e=>{const{ownerState:t,...n}=e;return n},Pfe=e=>{const{classes:t,invisible:n}=e;return Ur({root:["root",n&&"invisible"]},Tfe,t)},Mfe=Jt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),LN=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:g,...m}=r,b={...r,component:o,invisible:a},y=Pfe(b),A={transition:p,root:c.Root,...h},_={...u,...d},x={slots:A,slotProps:_},[S,E]=x0("root",{elementType:Mfe,externalForwardedProps:x,className:St(y.root,s),ownerState:b}),[C,k]=x0("transition",{elementType:VN,externalForwardedProps:x,ownerState:b}),V=Ife(k);return f.jsx(C,{in:l,timeout:g,...m,...V,children:f.jsx(S,{"aria-hidden":!0,...E,classes:y,ref:n,children:i})})});function Rfe(e){return typeof e=="function"?e():e}function jfe(e){return e?e.props.hasOwnProperty("in"):!1}const ng=new mfe;function Ofe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:u}=e,d=v.useRef({}),h=v.useRef(null),p=v.useRef(null),g=Ra(p,u),[m,b]=v.useState(!c),y=jfe(a);let A=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(A=!1);const _=()=>Hl(h.current),x=()=>(d.current.modalRef=p.current,d.current.mount=h.current,d.current),S=()=>{ng.mount(x(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},E=Nc(()=>{const P=Rfe(t)||_().body;ng.add(x(),P),p.current&&S()}),C=()=>ng.isTopModal(x()),k=Nc(P=>{h.current=P,P&&(c&&C()?S():p.current&&kf(p.current,A))}),V=v.useCallback(()=>{ng.remove(x(),A)},[A]);v.useEffect(()=>()=>{V()},[V]),v.useEffect(()=>{c?E():(!y||!i)&&V()},[c,V,y,i,E]);const w=P=>T=>{var $;($=P.onKeyDown)==null||$.call(P,T),!(T.key!=="Escape"||T.which===229||!C())&&(n||(T.stopPropagation(),l&&l(T,"escapeKeyDown")))},j=P=>T=>{var $;($=P.onClick)==null||$.call(P,T),T.target===T.currentTarget&&l&&l(T,"backdropClick")};return{getRootProps:(P={})=>{const T=FO(e);delete T.onTransitionEnter,delete T.onTransitionExited;const $={...T,...P};return{role:"presentation",...$,onKeyDown:w($),ref:g}},getBackdropProps:(P={})=>{const T=P;return{"aria-hidden":!0,...T,onClick:j(T),open:c}},getTransitionProps:()=>{const P=()=>{b(!1),s&&s()},T=()=>{b(!0),o&&o(),i&&V()};return{onEnter:IT(P,a==null?void 0:a.props.onEnter),onExited:IT(T,a==null?void 0:a.props.onExited)}},rootRef:g,portalRef:k,isTopModal:C,exited:m,hasTransition:y}}function Vfe(e){return kr("MuiModal",e)}Tr("MuiModal",["root","hidden","backdrop"]);const Lfe=e=>{const{open:t,exited:n,classes:r}=e;return Ur({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Vfe,r)},Nfe=Jt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(ss(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Bfe=Jt(LN,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Dfe=v.forwardRef(function(t,n){const r=Ir({name:"MuiModal",props:t}),{BackdropComponent:i=Bfe,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:b=!1,disablePortal:y=!1,disableRestoreFocus:A=!1,disableScrollLock:_=!1,hideBackdrop:x=!1,keepMounted:S=!1,onBackdropClick:E,onClose:C,onTransitionEnter:k,onTransitionExited:V,open:w,slotProps:j={},slots:z={},theme:R,...L}=r,P={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:m,disableEscapeKeyDown:b,disablePortal:y,disableRestoreFocus:A,disableScrollLock:_,hideBackdrop:x,keepMounted:S},{getRootProps:T,getBackdropProps:$,getTransitionProps:N,portalRef:F,isTopModal:D,exited:G,hasTransition:U}=Ofe({...P,rootRef:n}),ne={...P,exited:G},B=Lfe(ne),fe={};if(c.props.tabIndex===void 0&&(fe.tabIndex="-1"),U){const{onEnter:Le,onExited:Be}=N();fe.onEnter=Le,fe.onExited=Be}const Z={...L,slots:{root:h.Root,backdrop:h.Backdrop,...z},slotProps:{...p,...j}},[oe,Pe]=x0("root",{elementType:Nfe,externalForwardedProps:Z,getSlotProps:T,additionalProps:{ref:n,as:d},ownerState:ne,className:St(a,B==null?void 0:B.root,!ne.open&&ne.exited&&(B==null?void 0:B.hidden))}),[Ee,ae]=x0("backdrop",{elementType:i,externalForwardedProps:Z,additionalProps:s,getSlotProps:Le=>$({...Le,onClick:Be=>{E&&E(Be),Le!=null&&Le.onClick&&Le.onClick(Be)}}),className:St(s==null?void 0:s.className,B==null?void 0:B.backdrop),ownerState:ne}),be=Ra(s==null?void 0:s.ref,ae.ref);return!S&&!w&&(!U||G)?null:f.jsx(Efe,{ref:F,container:u,disablePortal:y,children:f.jsxs(oe,{...Pe,children:[!x&&i?f.jsx(Ee,{...ae,ref:be}):null,f.jsx(xfe,{disableEnforceFocus:m,disableAutoFocus:g,disableRestoreFocus:A,isEnabled:D,open:w,children:v.cloneElement(c,fe)})]})})});function $fe(e){return kr("MuiDialog",e)}const WA=Tr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),NN=v.createContext({}),Ffe=Jt(LN,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),zfe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,o={root:["root"],container:["container",`scroll${at(n)}`],paper:["paper",`paperScroll${at(n)}`,`paperWidth${at(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ur(o,$fe,t)},Ufe=Jt(Dfe,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Hfe=Jt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${at(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Gfe=Jt(nv,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${at(n.scroll)}`],t[`paperWidth${at(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(ss(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${WA.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${WA.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${WA.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Wfe=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiDialog"}),i=sw(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:m=!1,maxWidth:b="sm",onBackdropClick:y,onClick:A,onClose:_,open:x,PaperComponent:S=nv,PaperProps:E={},scroll:C="paper",TransitionComponent:k=VN,transitionDuration:V=s,TransitionProps:w,...j}=r,z={...r,disableEscapeKeyDown:p,fullScreen:g,fullWidth:m,maxWidth:b,scroll:C},R=zfe(z),L=v.useRef(),P=F=>{L.current=F.target===F.currentTarget},T=F=>{A&&A(F),L.current&&(L.current=null,y&&y(F),_&&_(F,"backdropClick"))},$=SZ(a),N=v.useMemo(()=>({titleId:$}),[$]);return f.jsx(Ufe,{className:St(R.root,h),closeAfterTransition:!0,components:{Backdrop:Ffe},componentsProps:{backdrop:{transitionDuration:V,as:c,...u}},disableEscapeKeyDown:p,onClose:_,open:x,ref:n,onClick:T,ownerState:z,...j,children:f.jsx(k,{appear:!0,in:x,timeout:V,role:"presentation",...w,children:f.jsx(Hfe,{className:St(R.container),onMouseDown:P,ownerState:z,children:f.jsx(Gfe,{as:S,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":$,"aria-modal":l,...E,className:St(R.paper,E.className),ownerState:z,children:f.jsx(NN.Provider,{value:N,children:d})})})})})});function qfe(e){return kr("MuiDialogActions",e)}Tr("MuiDialogActions",["root","spacing"]);const Kfe=e=>{const{classes:t,disableSpacing:n}=e;return Ur({root:["root",!n&&"spacing"]},qfe,t)},Yfe=Jt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Qfe=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...o}=r,a={...r,disableSpacing:s},l=Kfe(a);return f.jsx(Yfe,{className:St(l.root,i),ownerState:a,ref:n,...o})});function Jfe(e){return kr("MuiDialogContent",e)}Tr("MuiDialogContent",["root","dividers"]);function Xfe(e){return kr("MuiDialogTitle",e)}const Zfe=Tr("MuiDialogTitle",["root"]),ehe=e=>{const{classes:t,dividers:n}=e;return Ur({root:["root",n&&"dividers"]},Jfe,t)},the=Jt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(ss(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Zfe.root} + &`]:{paddingTop:0}}}]}))),nhe=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,a={...r,dividers:s},l=ehe(a);return f.jsx(the,{className:St(l.root,i),ownerState:a,ref:n,...o})});function rhe(e){return kr("MuiTypography",e)}const x1e=Tr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),ihe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},she=Yte(),ohe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=e,a={root:["root",s,e.align!=="inherit"&&`align${at(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ur(a,rhe,o)},ahe=Jt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${at(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(ss(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Kf()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${at(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),iM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},BN=v.forwardRef(function(t,n){const{color:r,...i}=Ir({props:t,name:"MuiTypography"}),s=!ihe[r],o=she({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=iM,...m}=o,b={...o,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:g},y=c||(h?"p":g[p]||iM[p])||"span",A=ohe(b);return f.jsx(ahe,{as:y,ref:n,className:St(A.root,l),...m,ownerState:b,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...m.style}})});function lhe(e){return kr("MuiDialogContentText",e)}Tr("MuiDialogContentText",["root"]);const che=e=>{const{classes:t}=e,r=Ur({root:["root"]},lhe,t);return{...t,...r}},uhe=Jt(BN,{shouldForwardProp:e=>ow(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),dhe=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...o}=r,a=che(o);return f.jsx(uhe,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:o,className:St(a.root,s),...r,classes:a})}),fhe=e=>{const{classes:t}=e;return Ur({root:["root"]},Xfe,t)},hhe=Jt(BN,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),phe=v.forwardRef(function(t,n){const r=Ir({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,a=r,l=fhe(a),{titleId:c=s}=v.useContext(NN);return f.jsx(hhe,{component:"h2",className:St(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c,...o})});function gn(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.join(", "):t}`}const sM=e=>e.map(t=>`${QW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),oM=e=>e.split(":")[0];function ghe(e){const t={artist:gn("ARTIST",e.artist),title:gn("TITLE",e.title),author:gn("CREATOR",e.author),bpm:gn("BPM",e.bpm),year:gn("YEAR",e.year),previewStart:gn("PREVIEWSTART",e.previewStart),video:gn("VIDEO",`v=${e.video}`),videoGap:gn("VIDEOGAP",e.videoGap),genre:gn("GENRE",e.genre),language:gn("LANGUAGE",e.language),gap:gn("GAP",e.gap),edition:gn("EDITION",e.edition),id:gn("ALLKARAOKE_ID",e.id),lastUpdate:gn("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:gn("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:gn("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:gn("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:gn("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:gn("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:gn("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(a=>a.name??null),r=[];e.tracks.map(a=>a.sections).forEach(([a,...l])=>{r.push(It(a)?sM(a.notes):`- ${a.start} ${a.end}`),l.forEach(c=>r.push(It(c)?`- ${c.start}
${sM(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?gn("P1",n[0]):void 0).concat(n[1]?gn("P2",n[1]):void 0).filter(gb),s=i.map(oM),o=(e.unsupportedProps??[]).filter(a=>!s.includes(oM(a)));return i.concat(...o).concat(r).concat("E").filter(gb).join(`
`)}const DN="share-songs",$N=Ga(DN),mhe=async e=>{try{if(!Ne.getItem(DN))return;const n=await Ei.get(e);n&&Mn.capture("share-song",{song:ghe(n),isBuiltIn:Ei.isBuiltIn(e)})}catch(t){console.error(t),Os(t)}};function w1e(e){const[t,n]=$N(null),[r,i]=v.useState(!!e.id&&t===null),s=()=>{i(!1)},o=a=>{n(a),a&&e.id&&mhe(e.id),s()};return f.jsxs(Wfe,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[f.jsx(phe,{children:"Share songs?"}),f.jsx(nhe,{children:f.jsx(dhe,{children:f.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play 🥺",f.jsx("br",{}),f.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),f.jsxs(Qfe,{children:[f.jsx(eM,{onClick:()=>o(!1),"data-test":"share-songs-disagree",children:"Disagree"}),f.jsx(eM,{onClick:()=>o(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}Ts.extend(Wde);function yhe(){const{data:e}=cd(!0),[t]=$N(null),n=wy("song");qa(!1);const r=jN(n??"");return r.data?f.jsxs(nv,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[f.jsx(Ti,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(vhe,{children:[f.jsx(lE,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&f.jsx(Ky,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await Ei.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&Mn.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:f.jsx(Hde,{})})]}),f.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:r.data.lastUpdate?Ts(r.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(IN,{song:r.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const vhe=M("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var Ahe=Math.floor,bhe=Math.random;function _he(e,t){return e+Ahe(bhe()*(t-e+1))}function FN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=_he(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function She(e){return FN(pO(e))}function xhe(e,t){return Cx(t,function(n){return e[n]})}function whe(e){return e==null?[]:xhe(e,Oh(e))}function Ehe(e){return FN(whe(e))}function Che(e){var t=is(e)?She:Ehe;return t(e)}var lR;const zN=!((lR=document.getElementById("root"))!=null&&lR.hasChildNodes());function xE(e){return zN?null:e.children}function Br(e){const t=li(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(lE,{...e,onClick:n})}const Mc=e=>new Promise(t=>setTimeout(t,e));function khe(e,t){v.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var The=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Ihe=gr(The);var J_={exports:{}},UN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/UN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var Phe=UN,X_={exports:{}},Mhe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&Rhe(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?aM:jhe;o(s,r),s.onload||aM(s,r),i.appendChild(s)};function Rhe(e,t){for(var n in t)e.setAttribute(n,t[n])}function aM(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function jhe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Mhe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(X_,X_.exports);var Ohe=X_.exports,Z_={exports:{}},eS={exports:{}},tS={exports:{}},yh=1e3,vh=yh*60,Ah=vh*60,bh=Ah*24,Vhe=bh*365.25,Lhe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Nhe(e);if(n==="number"&&isNaN(e)===!1)return t.long?Dhe(e):Bhe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Nhe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Vhe;case"days":case"day":case"d":return n*bh;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ah;case"minutes":case"minute":case"mins":case"min":case"m":return n*vh;case"seconds":case"second":case"secs":case"sec":case"s":return n*yh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Bhe(e){return e>=bh?Math.round(e/bh)+"d":e>=Ah?Math.round(e/Ah)+"h":e>=vh?Math.round(e/vh)+"m":e>=yh?Math.round(e/yh)+"s":e+"ms"}function Dhe(e){return rg(e,bh,"day")||rg(e,Ah,"hour")||rg(e,vh,"minute")||rg(e,yh,"second")||e+" ms"}function rg(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=Lhe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(A,_){if(A==="%%")return A;b++;var x=t.formatters[_];if(typeof x=="function"){var S=g[b];A=x.call(d,S),g.splice(b,1),b--}return A}),t.formatArgs.call(d,g);var y=u.log||t.log||console.log.bind(console);y.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(tS,tS.exports);var $he=tS.exports;(function(e,t){var n={};t=e.exports=$he,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(eS,eS.exports);var Fhe=eS.exports,nS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(nS,nS.exports);var zhe=nS.exports,rS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(rS,rS.exports);var Uhe=rS.exports,iS={exports:{}},sS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(sS,sS.exports);var Hhe=sS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Hhe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(iS,iS.exports);var Ghe=iS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Fhe,r=u(n),i=zhe,s=u(i),o=Uhe,a=u(o),l=Ghe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(C){var k="on"+C.slice(0,1).toUpperCase()+C.slice(1);g[k]=function(V){d('event "%s"',k,V),p.trigger(C,V)}},b=!0,y=!1,A=void 0;try{for(var _=a.default[Symbol.iterator](),x;!(b=(x=_.next()).done);b=!0){var S=x.value;m(S)}}catch(E){y=!0,A=E}finally{try{!b&&_.return&&_.return()}finally{if(y)throw A}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},b=function(k){g&&c.default[k]?m[k]=function(){for(var V=arguments.length,w=Array(V),j=0;j<V;j++)w[j]=arguments[j];return p.then(function(z){var R=c.default[k],L=z.getPlayerState(),P=z[k].apply(z,w);return R.stateChangeRequired||Array.isArray(R.acceptableStates)&&R.acceptableStates.indexOf(L)===-1?new Promise(function(T){var $=function N(){var F=z.getPlayerState(),D=void 0;typeof R.timeout=="number"&&(D=setTimeout(function(){z.removeEventListener("onStateChange",N),T()},R.timeout)),Array.isArray(R.acceptableStates)&&R.acceptableStates.indexOf(F)!==-1&&(z.removeEventListener("onStateChange",N),clearTimeout(D),T())};z.addEventListener("onStateChange",$)}).then(function(){return P}):P})}:m[k]=function(){for(var V=arguments.length,w=Array(V),j=0;j<V;j++)w[j]=arguments[j];return p.then(function(z){return z[k].apply(z,w)})}},y=!0,A=!1,_=void 0;try{for(var x=s.default[Symbol.iterator](),S;!(y=(S=x.next()).done);y=!0){var E=S.value;b(E)}}catch(C){A=!0,_=C}finally{try{!y&&x.return&&x.return()}finally{if(A)throw _}}return m},t.default=h,e.exports=t.default})(Z_,Z_.exports);var Whe=Z_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Phe,i=c(r),s=Ohe,o=c(s),a=Whe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(y){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var A=d;y(A)}else u.then(function(_){var x=new _.Player(d,h);return g.on("ready",function(){y(x)}),null})}),b=l.default.promisifyPlayer(m,p);return b.on=g.on,b.off=g.off,b},e.exports=t.default})(J_,J_.exports);var qhe=J_.exports;const Khe=gr(qhe);var Yhe=Object.defineProperty,Qhe=Object.defineProperties,Jhe=Object.getOwnPropertyDescriptors,lM=Object.getOwnPropertySymbols,Xhe=Object.prototype.hasOwnProperty,Zhe=Object.prototype.propertyIsEnumerable,cM=(e,t,n)=>t in e?Yhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oS=(e,t)=>{for(var n in t||(t={}))Xhe.call(t,n)&&cM(e,n,t[n]);if(lM)for(var n of lM(t))Zhe.call(t,n)&&cM(e,n,t[n]);return e},aS=(e,t)=>Qhe(e,Jhe(t)),epe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function tpe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function uM(e={}){return aS(oS({},e),{height:0,width:0,playerVars:aS(oS({},e.playerVars),{autoplay:0,start:0,end:0})})}function npe(e,t){return e.videoId!==t.videoId||!Ihe(uM(e.opts),uM(t.opts))}function rpe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var ipe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},spe={videoId:Xe.string,id:Xe.string,className:Xe.string,iframeClassName:Xe.string,style:Xe.object,title:Xe.string,loading:Xe.oneOf(["lazy","eager"]),opts:Xe.objectOf(Xe.any),onReady:Xe.func,onError:Xe.func,onPlay:Xe.func,onPause:Xe.func,onEnd:Xe.func,onStateChange:Xe.func,onPlaybackRateChange:Xe.func,onPlaybackQualityChange:Xe.func},Qg=class extends Te.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Qg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case Qg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case Qg.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=aS(oS({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Khe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return epe(this,null,function*(){rpe(e,this.props)&&this.updatePlayer(),npe(e,this.props)&&(yield this.resetPlayer()),tpe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Te.createElement("div",{className:this.props.className,style:this.props.style},Te.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},iv=Qg;iv.propTypes=spe;iv.defaultProps=ipe;iv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Ys=iv;function ope(e){const[t,n]=v.useState(1);return v.useEffect(()=>{if(e===Ys.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function ape(e,t){v.useEffect(()=>{if(t===Ys.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function lpe(e,t){return ape(e,t),ope(t)}var Cn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(Cn||{});const cpe={[Ys.PlayerState.UNSTARTED]:"UNSTARTED",[Ys.PlayerState.ENDED]:"ENDED",[Ys.PlayerState.PLAYING]:"PLAYING",[Ys.PlayerState.PAUSED]:"PAUSED",[Ys.PlayerState.BUFFERING]:"BUFFERING",[Ys.PlayerState.CUED]:"CUED"},upe=v.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState(Ys.PlayerState.UNSTARTED),g=lpe(d,h);return khe(d,o),v.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),v.useImperativeHandle(u,()=>({setSize:(m,b)=>{var y;return(y=d.current)==null?void 0:y.getInternalPlayer().setSize(m,b)},seekTo:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m,b,y,A;return((A=(y=(b=(m=d.current)==null?void 0:m.getInternalPlayer)==null?void 0:b.call(m))==null?void 0:y.getCurrentTime)==null?void 0:A.call(y))??Promise.resolve(0)},loadVideoById:m=>{var b;return(b=d.current)==null?void 0:b.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m,b,y,A;return((A=(y=(b=(m=d.current)==null?void 0:m.getInternalPlayer)==null?void 0:b.call(m))==null?void 0:y.getDuration)==null?void 0:A.call(y))??Promise.resolve(0)}})),f.jsx(Ys,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(cpe[m.data])}},`${t}-${g}`)}),dpe=v.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState({w:a,h:l}),[g,m]=v.useState(Cn.UNSTARTED);v.useEffect(()=>{const A=C=>()=>m(C),_=d.current,x=A(Cn.PLAYING),S=A(Cn.PAUSED),E=A(Cn.ENDED);return _==null||_.addEventListener("playing",x),_==null||_.addEventListener("pause",S),_==null||_.addEventListener("ended",E),()=>{_==null||_.removeEventListener("playing",x),_==null||_.removeEventListener("pause",S),_==null||_.removeEventListener("ended",E)}},[m]),v.useEffect(()=>{c==null||c(g)},[g,c]);const b=v.useRef(null),y=v.useMemo(()=>({setSize:(A,_)=>p({w:A,h:_}),seekTo:A=>(d.current&&(d.current.currentTime=A),A),setPlaybackSpeed:A=>{d.current&&(d.current.playbackRate=A)},setVolume:()=>{},getCurrentTime:()=>{var A;return Promise.resolve(((A=d.current)==null?void 0:A.currentTime)??0)},playVideo:async()=>{var A;return await Mc(200),(A=d.current)==null?void 0:A.play()},pauseVideo:()=>{var A;return(A=d.current)==null?void 0:A.pause()},getDuration:()=>{var A;return Promise.resolve(((A=d.current)==null?void 0:A.duration)??0)},loadVideoById:()=>{var A;clearTimeout(b.current),(A=d.current)==null||A.pause(),m(Cn.UNSTARTED),b.current=setTimeout(()=>{var _;(_=d.current)==null||_.play()},300)}}),[d]);return v.useEffect(()=>{y.setSize(a,l)},[a,l,y]),v.useEffect(()=>{r!==void 0&&y.seekTo(r)},[r,y]),v.useImperativeHandle(u,()=>y),f.jsx("video",{style:{width:h.w,height:h.h},autoPlay:n,controls:i,ref:d,children:f.jsx("source",{src:t})})}),fpe="/assets/dummy-video-long-C7qbKeYK.webm",hpe="/assets/dummy-video-9QP_sTy6.webm",ppe=v.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(dpe,{ref:i,video:t==="Vueyx9TBEqE"?fpe:hpe,controls:!0,...r})}),wE=v.forwardRef((e,t)=>rs()?f.jsx(ppe,{...e,ref:t}):f.jsx(upe,{...e,ref:t}));function HN({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(gpe,{video:e.video,width:n,height:r,...s,children:[f.jsx(ype,{video:e.video,blur:!0}),t&&f.jsx(GN,{children:t}),f.jsx(vpe,{children:f.jsxs(Ape,{children:[f.jsx(bpe,{children:e.title}),f.jsx("br",{}),f.jsx(_pe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(Spe,{children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const gpe=M("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),GN=M("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),mpe=M(GN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),ype=e=>f.jsx(mpe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),vpe=M("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Ape=M("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),sv=M("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",He,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),bpe=M(sv,{target:"e1kx27c2"})("color:",ge.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),_pe=M(sv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Spe=M(sv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function xpe(){var d;Fa(!1),qa(!1);const e=li(),{width:t,height:n}=Yh(),[r,i]=v.useState(0),s=cd(),[o,a]=v.useState([]),{register:l}=Wn({onBackspace:()=>e("menu/")});v.useEffect(()=>s.data&&a(Che(s.data)),[s.data]);const c=()=>s.data&&i(h=>(h+1)%s.data.length);if(!o.length||!t||!n)return null;const u=v0("game/",{song:o[r].id,playlist:"All"});return f.jsxs(Ko,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(xE,{children:f.jsxs(HN,{width:t,height:n,songData:o[r],"data-test":"jukebox-container","data-song":o[r].id,background:f.jsx(wE,{autoplay:!0,controls:!0,width:t,height:n,volume:(d=o[r])==null?void 0:d.volume,video:o[r].video,startAt:o[r].videoGap,onStateChange:h=>{h===Cn.ENDED&&c()}}),children:[f.jsx(Epe,{...l("skip-button",c),children:"Skip"}),f.jsx(Br,{to:u,children:f.jsx(wpe,{...l("sing-button",()=>e(u),void 0,!0),children:"Sing this song"})})]})})]})}const wpe=M(Fs,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Epe=M(Fs,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Cpe=M("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),kpe=M("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Tpe=e=>f.jsx(kpe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Jg=ht([f.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),f.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),f.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),dM=ht(f.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),qA=ht(f.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),Ipe=ht([f.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),f.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Ppe=ht(f.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");function Mpe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Qe(mr),{register:s}=Wn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(sg,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(Xd,{children:[f.jsx(eN,{}),f.jsx(qA,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(Jd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(Ipe,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(Ppe,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(yE,{children:"Recommended"}),f.jsxs(ig,{children:[f.jsx(Jg,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(sg,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(Xd,{children:[f.jsx(dM,{}),i?f.jsx(qA,{}):f.jsx(Z4,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(Jd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(ig,{children:[f.jsx(dM,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(sg,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(Xd,{children:[f.jsx(D_,{}),f.jsx(Q4,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(Jd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(ig,{children:[f.jsx(Jg,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(sg,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(Xd,{children:[f.jsx(D_,{}),f.jsx(qA,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(Jd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(ig,{children:[f.jsx(Jg,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Br,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Re,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const ig=M("div",{target:"eb2r3ii3"})(He,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Jd=M("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Xd=M("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",ge.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",ge.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),sg=M(Re,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",Mu,";",Jd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Xd,"{transform:scale(1.75);}}");function WN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const EE=(e,t,n=!0,r=1e3/_l.get())=>{v.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=_n.getPlayerVolume(e)??0,o=_n.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Rpe=(e,t=1e3/_l.get(),n)=>{const[r,i]=v.useState([0,0]);return EE(e,i,!0,t),v.useEffect(()=>{n&&n(r)},[r,n]),r},qN=e=>v.useMemo(()=>{if(!ge.colors.players[e])return"0, 0, 0";const t=le(ge.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),KN=M("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),jpe=v.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=qN(t);return Ve.getPlayer(t)?f.jsx(KN,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),CE=({playerNumber:e,...t})=>{const[n,r]=v.useState(),i=v.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);EE(e,i);const s=qN(e);return f.jsx(KN,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function Ope(e,t){const n=Object.keys(t),[r,i,s]=Ci([te.playerInputChanged,te.inputListChanged],()=>{var c;const l=(c=Ve.getPlayer(e))==null?void 0:c.input;return l?[l,oo.getInputForPlayerSelected(l),oo.isPlayerInputInitialised(l)]:[null,null,!0]});v.useEffect(()=>{var l;if(s&&i===null){const c=n[0],u=t[c].getDefault();u&&((l=Ve.getPlayer(e))==null||l.changeInput(n[0],u.channel,u.deviceId))}});const o=l=>{var d;const c=Ml(n,(r==null?void 0:r.source)??n[0]),u=l!==void 0?t[c].list[l]:t[c].getDefault();(d=Ve.getPlayer(e))==null||d.changeInput(c,u==null?void 0:u.channel,u==null?void 0:u.deviceId)},a=()=>{var d;if(!r)return;const l=t[r.source].list,c=i?l.findIndex(h=>h.id===i.id):0,u=qh(l,c);if(u===0)o(0);else{const h=l[u];(d=Ve.getPlayer(e))==null||d.changeInput(r.source,h==null?void 0:h.channel,h==null?void 0:h.deviceId)}};return[(r==null?void 0:r.source)??null,o,i,a]}const YN=e=>{const t=e.player,[n,r,i,s]=Ope(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(Bpe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(Npe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(Lpe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(Vpe,{playerNumber:t.number})})]})},Vpe=M(CE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),Lpe=M(Yi,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),Npe=M(Yi,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),Bpe=M("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function ov(e=!1,t){const n=Ci(te.inputListChanged,()=>{const r={...oo.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return v.useEffect(()=>{e&&oo.loadMics()},[e]),n}function Qh(e,t=km){v.useEffect(()=>{Ve.setMinPlayerNumber(e);const n=Ve.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Ve.removePlayer(n[r-1].number);else if(n.length<e){const r=Ve.getPlayers().map(s=>s.number),i=Array.from(Array(km).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Ve.addPlayer(i.shift())}},[])}function QN(){const e=v.useRef(0);Er(te.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),Ve.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=Ve.getPlayer(e.current);n?n.changeInput(No.inputName,0,t):(r=Ve.addPlayer(e.current))==null||r.changeInput(No.inputName,0,t),e.current=(e.current+1)%km})}function Dpe(e){Qh(2);const t=ov(!0),n=dE();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),QN();const{register:r}=Wn({onBackspace:e.onBack}),s=Ci(te.playerInputChanged,()=>Ve.getInputs()).filter(a=>a.source===Po.inputName),o=Ci([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Ve.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(Wh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(cE,{}),o.map((a,l)=>f.jsx(YN,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&AE()&&WN()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const $pe=ht(f.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),JN=ht(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function kE({names:e}){return f.jsx(Fpe,{children:Ve.getPlayers().map(t=>f.jsxs(zpe,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(CE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Fpe=M("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),zpe=M("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function Upe(e){const[t,n]=v.useState(null),r=v.useRef([]),i=v.useRef(0),s=v.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return EE(0,s,t!==!0),v.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function Hpe(e){Qh(1,1);const{register:t}=Wn({onBackspace:e.onBack}),{Microphone:n}=ov(!0,"Microphone"),r=Ci([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Ve.getInputs().find(d=>d.source==="Microphone"),c=oo.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===Fl(l)))==null?void 0:u.label)??"":""}),i=l=>{Ve.getPlayers().forEach(c=>c.changeInput(Po.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};v.useEffect(s,[]),Er([te.inputListChanged,te.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[qh(n.list,l)];i(c)}},a=Upe(r);return v.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(Wh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(Gpe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(Yi,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(Wpe,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(KA,{children:f.jsx(Kpe,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(KA,{children:f.jsx(qpe,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(KA,{children:f.jsx(Kh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(kE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const Gpe=M("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),Wpe=M("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),KA=M("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),qpe=M(JN,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),Kpe=M($pe,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function Ype(e){Qh(2);const t=ov(!0,"Microphone"),n=dE();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),v.useEffect(()=>{Ve.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=Wn({onBackspace:e.onBack}),i=Ci([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Ve.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(Wh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx(YN,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Re,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Qpe(e){const{register:t}=Wn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Re,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Re,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function Jpe(e){var s,o;Qh(2);const{register:t}=Wn({onBackspace:e.onBack});QN();const n=Ci([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Ve.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?oo.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return v.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(cE,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(kE,{}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function Xpe(e){Qh(2);const{register:t}=Wn({onBackspace:e.onBack}),{Microphone:n}=ov(!0,"Microphone"),[r,i]=v.useState(!1),s=Ci([te.playerInputChanged,te.inputListChanged],()=>{const c=Ve.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=oo.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});v.useEffect(()=>(s&&_n.startMonitoring(),()=>{_n.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=v.useState(!1);return Er(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Ve.getPlayer(d.preferred))==null||h.changeInput(Po.inputName,d.channel,d.deviceId)}),c||l(!0)}),v.useEffect(()=>{e.onSetupComplete(s)},[s]),v.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(Wh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(Kh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(fM,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),AE()&&WN()&&f.jsxs(fM,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(kE,{names:["Blue","Red"]})]})]}),f.jsx(Re,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Re,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const fM=M("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function Zpe(e){return v.useEffect(()=>{e.onSave()},[]),null}const XN="Previously selected input type",ege=Ne.local.getItem(XN);function TE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=Qe(BS),[l,c]=v.useState(o==="skip"?null:o),[u,d]=v.useState(!1);v.useEffect(()=>{const m=_n.monitoringStarted();return _n.startMonitoring(),()=>{!m&&_n.stopMonitoring()}},[]);const h=(...m)=>{s?ph(()=>{uc.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(Ne.local.setItem(XN,m),Mn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{ph(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Cpe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Tpe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Mpe,{onPreferenceSelected:h,previouslySelected:ege,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(Jpe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(Qpe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(Xpe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(Ype,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(Hpe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(Dpe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(Zpe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function tge(){const e=li();return f.jsxs(Wa,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(TE,{onFinish:()=>e("menu/"),closeButtonText:"Go to main menu"})]})}const nge=({error:e,resetError:t})=>f.jsxs(Wa,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(ld,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(rge,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Re,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Re,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Ne.session.clear(),Ne.local.clear(),gf.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),rge=M("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function ige(){qa(!1);const e=cd();return v.useEffect(()=>{if(e.data){const t={};(async()=>{for(const n of e.data){if(n.realBpm)continue;const r=[`lookup=song:${encodeURIComponent(n.title)}+artist:${encodeURIComponent(n.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${r}`)).json();t[n.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(t)})()}},[e.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function sge(){const e=li(),t=()=>e("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(xE,{children:f.jsx(mN,{onClose:t,closeText:"Return to Main Menu"})})]})}function ZN(){const[e]=Qe(DS);v.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let YA=0;function eB(){v.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),YA++,()=>{YA--,YA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const oge=ht(f.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function age({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=v.useRef(null),[o,a]=v.useState(!1),l=h=>{e(p=>({...p,search:h}))};Vr("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Vr(Ib,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=v.useCallback(h=>{n&&l(h)},[n]);return Er(te.remoteSongSearch,d),Vr(Ib,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),Vr("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),v.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(lge,{"data-test":"song-list-search",children:f.jsx(cge,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(fc,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const lge=M("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),cge=M("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function uge({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=v.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(dge,{children:[f.jsx(zu,{title:"Search",place:"left",children:f.jsx(hM,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(fE,{})})}),f.jsx(zu,{title:"Pick random",place:"left",children:f.jsx(hM,{onClick:e,"data-test":"random-song-button",children:f.jsx(oge,{})})})]}),f.jsx(age,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const hM=M(Fs,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",ge.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),dge=M("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function tB({videoId:e,...t}){return f.jsx(gge,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function fge({videoId:e,...t}){const n=EX(e)??e,[r,i]=v.useState(!0);v.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=Qe(Wi);return s==="low"?null:f.jsxs(hge,{...t,children:[f.jsx(pM,{videoId:r?e:n,visible:r}),f.jsx(pM,{videoId:r?n:e,visible:!r}),f.jsx(pge,{videoId:n})]})}const hge=M("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),pge=M(tB,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),pM=M(tB,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),gge=M("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function mge(e,t,n="mousedown",r={}){_X(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function yge({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=Wn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=v.useRef(null);return mge(l,()=>{t()}),ac({left:()=>t("left"),right:()=>t("right")},e),v.useEffect(()=>{a(`playlist-${r}`)},[r]),v.useEffect(()=>{if(o){const c=n.find(u=>`playlist-${u.name}`===o);c&&i(c.name)}},[o,n]),f.jsx(vge,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(Age,{"data-selected":`playlist-${u.name}`===o,"data-active":e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const vge=M("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",He,";margin:0;}"),Age=M(Fs,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",dX,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),IE=e=>{const[t,n]=v.useState(null),r=ku(e),i=async()=>{n(await zj(e))};return v.useEffect(()=>{i()},[r]),Er(te.songStatStored,i),t},bge=e=>async(t,n,r,i)=>{const s=ku(e),o=await zj(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await Uj(e,l),te.songScoreUpdated.dispatch(s,l,i.trim())},_ge=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Sge=["US","GB"];function xge({song:e,forceFlag:t,...n}){const r=e.language[0],i=v.useMemo(()=>{var s;return e.artistOrigin?((s=_ge[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Rl,{isocode:e.artistOrigin,...n}):i&&!Sge.includes(e.artistOrigin)?f.jsx(Rl,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Rl,{language:e.language,...n}):null})}const wge=ht(f.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Ege=ht(f.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),lS=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function Cge(e){return!!lS(e)}const nB="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",kge=e=>f.jsxs(Ige,{children:[e.song.tracksCount>1&&f.jsxs(Mge,{"data-test":"multitrack-indicator",children:[f.jsx(Jg,{}),"  Duet"]}),f.jsx(Tge,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Tge=({song:e,isPopular:t,focused:n})=>{var l,c;const r=v.useMemo(()=>_0.recentlyUpdated([e]).length>0,[e]),i=Cge(e),s=IE(e),o=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&Ts(o).isAfter(Ts().subtract(1,"days"));return s!=null&&s.plays?f.jsx(iB,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(JA,{white:!0,children:[f.jsx(QA,{children:n?`Eurovision ${lS(e)}`:lS(e)}),f.jsx(Pge,{src:nB,alt:e.edition})]}):r?f.jsx(JA,{white:!0,children:n?f.jsx(QA,{children:"Added recently"}):f.jsx(wge,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(JA,{children:[n&&f.jsx(QA,{children:"Popular"}),f.jsx(Ege,{})]})}):null},QA=M("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Ige=M("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),rB=M("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),JA=M(rB,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":ge.colors.text.active,";width:2.5rem;height:2.5rem;}"),Pge=M("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),iB=M(rB,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),Mge=M(iB,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),sB=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=v.useCallback(()=>o?o(i,s):void 0,[o,i,s]),[p]=Qe(Wi);return f.jsxs(Oge,{...u,onClick:o?h:void 0,children:[l&&f.jsx(Vge,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(jge,{"data-expanded":d,children:[!d&&f.jsx(kge,{song:e,isPopular:a,video:n}),f.jsx(PE,{"data-expanded":d,children:e.artist}),f.jsx(av,{"data-expanded":d,children:e.title}),f.jsxs(oB,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(lB,{expanded:d,children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(Lge,{song:e})]}),!d&&f.jsx(Rge,{song:e,forceFlag:c})]})]}),r,n]})},Rge=M(xge,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),oB=M("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),jge=M("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Oge=M("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Vge=M("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),aB=M("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",He,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),PE=M(aB,{target:"e1ornw2x2"})("color:",ge.colors.text.active,";"),av=M(aB,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),lB=M(av,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Lge=({song:e})=>{const t=IE(e);return f.jsx(lB,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Nge({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=v.useState([]);return v.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(Bge,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(Dge,{onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const Bge=M("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Dge=M(Fs,{target:"e131hflw0"})("border:none;cursor:pointer;",He,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",ge.colors.text.default,";&[data-active='true']{background:",ge.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}");var $ge=v.createContext({client:Mn}),Fge=function(){var e=v.useContext($ge).client;return e};function zge(e){var t=Fge(),n=v.useState(),r=n[0],i=n[1];return v.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const gM={[Nr.DUEL]:"Duel",[Nr.PASS_THE_MIC]:"Pass The Mic",[Nr.CO_OP]:"Cooperation"},XA=["Hard","Medium","Easy"],Uge=Ga("song_settings-game_mode-v3"),Hge=Ga("song_settings-tolerance-v2");function Gge({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=Uge(null),o=i??(e.tracksCount>1?Nr.CO_OP:Nr.DUEL),[a,l]=Hge(1),c=()=>{const p={id:Pm(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(Ml(Object.values(Nr),o))},d=()=>l(p=>qh(XA,p,-1)),{register:h}=Wn({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return f.jsxs(f.Fragment,{children:[f.jsx(mM,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:XA[a],"data-test-value":XA[a]}),f.jsx(mM,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:gM[o],"data-test-value":gM[o]}),f.jsxs(qge,{children:[o===Nr.DUEL&&"Face off against each other - person that earns more points wins.",o===Nr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===Nr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(pE,{})," symbol."]})]}),f.jsx(Wge,{...h("next-step-button",c,void 0,!0),children:"Next ➤"})]})}const Wge=M(Fs,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),qge=M("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),mM=M(Yi,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Kge(){const t=Ci(te.playerInputChanged,()=>Ve.getInputs()).some(o=>o.source==="Microphone"),n=v.useRef([]),r=v.useCallback(o=>{n.current.push(o)},[]);Rpe(0,50,r);const[i,s]=v.useState(!1);return v.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(Yge,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(ld,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const Yge=M("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),cB=(e,t=333,n)=>{const[r,i]=v.useState("ok");return v.useEffect(()=>{const s=setInterval(()=>{i(_n.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},uB=e=>{const[t,n]=v.useState(null);return v.useEffect(()=>{const r=setInterval(()=>{const i=nt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function dB({playerNumber:e,...t}){var r,i;const n=uB((i=(r=Ve.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Qge,{...t,children:[n,"ms"]}):""})}const Qge=M("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function fB({status:e,tooltipPosition:t="end",...n}){return f.jsxs(Jge,{...n,children:[e==="ok"?f.jsx(Xge,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Zge,{"data-test":"status-unavailable"}):f.jsx(eme,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(yM,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(yM,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const Jge=M("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Xge=M("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),Zge=M(JN,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),eme=M(ld,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),yM=M("div",{target:"etoberq0"})(He,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function hB({player:e}){const t=cB(e.number);return f.jsxs(tme,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(dB,{playerNumber:e.number}),f.jsx(fB,{status:t}),t!=="unavailable"&&f.jsx(CE,{playerNumber:e.number}),f.jsx(nme,{className:"ph-no-capture",children:e.getName()})]},e.number)}const tme=M("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),nme=M("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function rme(e){Ls(te.playerNameChanged),v.useEffect(()=>{_n.startMonitoring()},[]);const n=Ci(te.playerInputChanged,()=>Ve.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(ime,{...e,children:[f.jsxs(sme,{children:["Microphone Check",n?Ve.getPlayers().map(r=>f.jsx(hB,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(ome,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Kge,{})]})}const ime=M("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",He,";margin-bottom:8.6rem;gap:3.5rem;"),sme=M("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),ome=M("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function pB({onClose:e,closeButtonText:t}){return f.jsx(dc,{onClose:e,children:f.jsx(fs,{children:f.jsx(TE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const ME=v.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=v.useRef(null);v.useImperativeHandle(d,()=>h.current);const p=v.useRef(null),[g,m]=v.useState(!1),[b,y]=v.useState(-1),A=v.useMemo(()=>e.filter(S=>S.toLowerCase().trim().includes(r.toLowerCase().trim())&&S!==r),[e,r]),_=S=>{var E,C,k;if(S.code==="ArrowUp"||S.code==="ArrowDown")if(A.length){S.preventDefault();const V=qh(A,b,S.code==="ArrowUp"?-1:1);y(V);const w=(E=p.current)==null?void 0:E.querySelector(`[data-index="${V}"]`);w==null||w.scrollIntoView({behavior:"smooth",block:"center"})}else(C=h.current)==null||C.blur(),a==null||a(S.code==="ArrowUp"?-1:1);else if(S.code==="Enter"){const V=A[b];V?(y(-1),i(V)):(k=h.current)==null||k.blur()}},x=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(ame,{className:c,children:[f.jsx(fc,{onFocus:()=>m(!0),onBlur:x,onKeyDown:_,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!A.length&&f.jsx(lme,{ref:p,role:"listbox",children:A.map((S,E)=>f.jsx(cme,{role:"listitem","data-index":E,"data-focused":E===b,"data-e2e-focused":E===b,focused:E===b,onClick:()=>{var C;i(S),y(-1),(C=h.current)==null||C.blur()},children:S},S))})]})});ME.displayName="Autocomplete";const ame=M("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),lme=M("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),cme=M("div",{target:"elw4n420"})(He,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?ge.colors.text.active:"white",";cursor:pointer;"),ume=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function dme({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=v.useState(!1),c=v.useRef(null);if(Ls(te.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(fme,{maxLength:lx,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(hme,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:ume(n.tracks,o.track),"data-test-value":o.track+1})]})}const fme=M(ME,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),hme=M(Yi,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function pme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Qe(mr),[s]=Qe(BS),o=Ve.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((x,S)=>({number:x.number,track:a?Math.min(S,e.tracksCount-1):0})),[c,u]=v.useState(l());Er([te.playerAdded,te.playerRemoved],()=>u(l()));const d=o.map((x,S)=>c.find(E=>E.number===x.number)??l()[S]),h=v.useMemo(()=>JSON.parse(Ne.session.getItem(Tu))??[],[]),p=x=>S=>{u(E=>E.map(C=>C.number===x?S:C))},[g,m]=v.useState(!1);v.useEffect(()=>{g||_n.startMonitoring()},[g]);const{register:b,focusElement:y}=Wn({enabled:n&&!g,onBackspace:r,additionalHelp:{remote:["select-song"]}}),A=()=>{t(d)},_=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(pB,{closeButtonText:_?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),_&&y("play")}}),d.map((x,S)=>f.jsxs(gme,{children:[f.jsxs(mme,{children:["Player ",S+1]}),f.jsx("div",{children:f.jsx(dme,{multipleTracks:a,player:Ve.getPlayer(x.number),setup:x,onChange:p(x.number),playerNames:h,register:b,songPreview:e})})]},x.number)),_&&f.jsx(vM,{...b("play-song-button",A,void 0,!0),children:"Play"}),f.jsx(vM,{...b("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const gme=M("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),vM=M(Fs,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),mme=M("span",{target:"e12y59820"})(He,";padding:1.3rem;font-size:4.5rem;");function yme({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=v.useState(null),[o,a]=v.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(vme,{children:[f.jsx(rme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(Ame,{children:[o==="song"&&f.jsx(Gge,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(pme,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const vme=M("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Ame=M("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),bme=30;function _me({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=v.useState(!1),h=v.useRef(null),{width:p,height:g}=Yh(),m=s;v.useLayoutEffect(()=>{d(!1)},[e.video]);const b=e.previewStart??(e.videoGap??0)+60,y=e.previewEnd??b+bme,A=v.useMemo(()=>[e.video,b,y,e.volume],[e.video,b,y,e.volume]),[_,x,S,E]=hE(A,350);v.useEffect(()=>{var j;(j=h.current)==null||j.loadVideoById({videoId:_,startSeconds:x,endSeconds:S})},[_,h,x,S]);const C=m?p:r,k=m?g:i,V=m?Math.min(p/20*9,g*(4/5)):i;v.useEffect(()=>{var j;(j=h.current)==null||j.setSize(C,k)},[C,k,s]);const w=v.useCallback(j=>{var z,R;j===Cn.ENDED?((z=h.current)==null||z.seekTo(b),(R=h.current)==null||R.playVideo()):j===Cn.PLAYING&&d(!0)},[b]);return f.jsxs(f.Fragment,{children:[m&&f.jsx(wme,{onClick:o}),!m&&u&&f.jsx(Tme,{width:C,height:k,left:n,top:t,song:e}),f.jsx(xme,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(Eme,{"data-show":u,"data-expanded":m,height:V,id:"preview-video-container",children:f.jsx(wE,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:E,onStateChange:w})}),focused:!0,song:e,top:t,left:n,width:C,height:V,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(Cme,{"data-expanded":m,children:m&&f.jsx(yme,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}const Sme=M(sB,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",PE,"{view-transition-name:song-preview-artist;}",av,"{view-transition-name:song-preview-title;}",oB,"{view-transition-name:song-preview-expanded-data;}"),xme=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(Sme,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},wme=M("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Eme=M("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Cme=M("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),kme=M("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Tme=e=>{const[t]=Qe(Wi);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(kme,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Ime(e){var t=kg(e),n=t%1;return t===t?n?t-n:t:0}var Pme=Math.ceil,Mme=Math.max;function cS(e,t,n){t===void 0?t=1:t=Mme(Ime(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(Pme(r/t));i<r;)o[s++]=Bx(e,i,i+=t);return o}function Rme(e,t){const n=v.useRef(null),r=v.useMemo(()=>e.groups.map(u=>({group:u,rows:cS(u.songs,e.perRow)})),[e.groups,e.perRow]),i=v.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=v.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=v.useCallback((u,d)=>{const h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=v.useCallback((u,d)=>{const h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return v.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var y;const h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(A=>A.index===d),g=r.slice(0,h).reduce((A,{rows:_})=>A+_.length,Math.floor(p/e.perRow)),m=((y=n.current)==null?void 0:y.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,rs()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(yN,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{"data-is-new":r[d].group.isNew,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(v.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const jme=v.forwardRef(Rme),gB=(e,t)=>e+Math.random()*(t-e),Ps=(e,t)=>Math.round(gB(e,t)),Ome=250,Vme=750;function Lme(e){const t=AT(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=AT(async()=>Vq(),[]),r=v.useMemo(()=>_0.recentlyUpdated(e),[e]).map(l=>l.id),[i]=Qe(L0),s=t.loading||n.loading||!e.length,o=v.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(Ome,Vme-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=v.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const Nme=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function Bme(){const e=cd(),{value:{popular:t},loading:n}=Lme(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=kue(e.data,t,r);return{groupedSongList:v.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(b=>{try{const{name:y,...A}=((u==null?void 0:u.groupData)??Nme)(b);let _=h.find(x=>x.name===y);_||(_={name:y,songs:[],...A},h.push(_)),_.songs.push({index:s.indexOf(b),song:b,isPopular:t.includes(b.id)})}catch(y){console.error(y),Os(y)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const b=s.filter(y=>y.isNew);b.length&&b.length<50&&m.unshift({name:"New",isNew:!0,songs:b.map(y=>({song:y,index:s.indexOf(y),isPopular:t.includes(y.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function w0(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e},[e]),t.current}const Dme=30;function $me(e,t,n=Dme){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Ps(0,i.length-1)]}else r=Ps(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const Fme=(e=[],t)=>{var b;const[n,r]=v.useState([0,0]),i=v.useMemo(()=>e.map(({songs:y})=>y.length).join(","),[e]),s=v.useMemo(()=>e.map(({songs:y})=>cS(y.map(A=>A.index),t)).flat(),[i,t]),o=v.useMemo(()=>e.map(({songs:y,name:A})=>cS(y.map(()=>A),t)).flat(),[i,t]),a=w0(s??[]),l=n[0]===((b=s[n[1]])==null?void 0:b.length)-1,c=v.useCallback((y,A)=>{var S;const _=s.findIndex((E,C)=>E.includes(y)&&(!A||A===o[C][0])),x=(S=s[_])==null?void 0:S.indexOf(y);x>=0&&_>=0?r([x??0,_??0]):r([0,0])},[s]),u=([y,A],_,x)=>{var E;if(e.length===0)return x;const S=_[A];return(S==null?void 0:S[y])??(S==null?void 0:S.at(-1))??((E=_==null?void 0:_[0])==null?void 0:E[0])??x},d=([y,A],_=s)=>u([y,A],_,0),h=([y,A],_=o)=>u([y,A],_,"A");v.useEffect(()=>{const y=d(n,a),A=d(n,s);a.length&&y!==A&&c(y)},[n,s,a,l]);const p=(y,A)=>{gy.play(),r(([_,x])=>{let S=_,E=x;if(y==="y")E=x+A;else{if(s[x]===void 0)debugger;const C=s[x].length-1;S=Math.min(_,C)+A,S<0?(E=(s.length+x-1)%s.length,S=s[E].length-1):S>C&&(E=x+1,S=0)}return[S%t,(s.length+E)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},zme=(e,t=[],n,r,i,s)=>{const o=li(),[a,l]=v.useState([!1,null]),c=w0(a),[u,d]=a,[h,p,g,m,b,y]=Fme(t,s),A=g[0]===0,_=()=>{bx.play(),n()},[x,S]=v.useState(!1),E=w0(i.search);v.useLayoutEffect(()=>{if(E&&!i.search){S(!0);const P=setTimeout(()=>S(!1),2e3);return()=>{clearTimeout(P),S(!1)}}},[i.search]);const C=()=>{!x&&!i.search&&(_x.play(),o("menu/"))},k=v.useCallback(iu((P,T)=>{const $=(t.length+T+P)%t.length;b(t[$].songs[0].index),gy.play()},700,{trailing:!1}),[t]),V=(P,T)=>{if(!(P!=null&&P.repeat))m("y",T);else{const $=t.findIndex(N=>!!N.songs.find(F=>F.index===h));k(T,$)}},w=(P,T=!1)=>{!T&&P===-1&&A&&!u?l([!0,"left"]):m("x",P)},j=v.useRef([]),z=()=>{const P=$me(r,j.current);b(P)};ac({accept:_,down:P=>V(P,1),up:P=>V(P,-1),left:()=>w(-1),right:()=>w(1),back:C,random:z},e&&!u,[t,g,u,i,x]);const R=v.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);ad(R,e);const L=v.useCallback(P=>{l([!1,P??null])},[l,w,t,g]);return v.useLayoutEffect(()=>{const[P,T]=c;P&&!u&&T===d&&w(d==="right"?1:-1,!0)},[u,d,A,y,...g]),[h,p,b,u,L,z]};function Ume(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=Bme(),[u,d]=v.useState(!0),h=E=>{ph(()=>{uc.flushSync(()=>{d(E)})}),Sx.play(!1)},[p,g,m,b,y,A]=zme(u,r,()=>h(!1),n.length,s,t),[_,x]=v.useState(!1);v.useEffect(()=>{if(!_&&n.length&&!o){const E=n.findIndex(V=>V.id===e),C=n.findIndex(V=>V.isNew);let k=Ps(0,n.length-1);(E>-1||C>-1)&&(k=E),x(!0),m(k)}},[m,_,p,n,e,o]),v.useEffect(()=>{var E;if(_&&n.length&&n[p]&&!o){const C=new URL((E=global.location)==null?void 0:E.href);C.searchParams.set("song",n[p].id),global.history.replaceState(null,"",C.toString())}},[_,p,n,o]);const S=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:S,songList:n??[],filters:s,setFilters:i,showFilters:b,setShowFilters:y,isLoading:o||!_,randomSong:A,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const Hme=1.2,AM=4,mB=7,uS=4.5,bM=mB+uS,og=3.5,Gme={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(Zme,{}),e&&e.songPreview.songPreview&&f.jsx(_me,{...e.songPreview})]}),Footer:()=>f.jsxs(qme,{children:["Missing a song? Try"," ",f.jsx(lE,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(Jme,{children:"No songs found"})};function Wme({onSongSelected:e,preselectedSong:t}){const[n]=Qe(mr),r=n?AM-1:AM;qa(!1),Fa(!0),eB();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:b,selectedPlaylist:y,setSelectedPlaylist:A,playlists:_,songList:x}=Ume(t,r),S=v.useMemo(()=>a.map(U=>U.songs).flat().find(U=>U.song.id===(c==null?void 0:c.id)),[c,a]),E=v.useRef(null),C=dN(),{width:k,handleResize:V}=Yh(),j=(k-(bM+uS)*C-(r-1)*og*C)/r,z=j*(9/16),R=z/2,L=v.useCallback(()=>u(!1),[u]),P=m||!a||!k,T=y==="Eurovision",$=v.useRef(null);v.useEffect(()=>{const U=ne=>x.findIndex(B=>B.id===ne);return global.__songList={scrollToSong:ne=>{var oe;const[B]=ne.split("-new-group"),fe=ne.endsWith("-new-group"),Z=a.find(Pe=>!!Pe.isNew===fe&&Pe.songs.some(Ee=>Ee.song.id===B));if(Z){const Pe=U(B);return(oe=E.current)==null||oe.scrollToSongInGroup(Z.name,Pe,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,x]);const[{previewTop:N,previewLeft:F},D]=v.useState({previewTop:0,previewLeft:0});v.useEffect(()=>{const U=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&U?D({previewTop:U.offsetTop+U.parentNode.offsetTop,previewLeft:U.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,k]),v.useEffect(()=>{var U;V(),m||(U=E.current)==null||U.scrollToSongInGroup(i,s)},[k,s,i,a,m,V]);const G=li();return Vr("Shift + E",()=>G(v0("edit/song/",{playlist:null,step:"metadata"})),[G]),Er(te.remoteSongSelected,async U=>{A("All");const ne=x.findIndex(B=>B.id===U);ne&&(s!==ne?(o(ne),l||u(!0),L()):l&&L())},[x,o,L,A,u,l,s]),f.jsx(Ko,{children:f.jsxs(Kme,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(R)}px`,"--song-entry-width":`${Math.floor(j)}px`,"--song-entry-height":`${Math.floor(z)}px`,"--song-list-gap":`${Math.floor(og*C)}px`,"--song-list-padding-left":`${Math.floor(bM*C)}px`,"--song-list-padding-right":`${Math.floor(uS*C)}px`,"--song-sidebar-weight":`${Math.floor(mB*C)}px`},children:[P?f.jsxs(_M,{children:[f.jsx(xM,{children:f.jsx(EM,{children:f.jsx(dS,{children:"   "})})}),new Array(4).fill(0).map((U,ne)=>f.jsx(wM,{children:new Array(4).fill(0).map((B,fe)=>f.jsx(SM,{},fe))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(Yme,{videoId:c.video}),f.jsx(uge,{setFilters:d,filters:h,onRandom:b,keyboardControl:l}),f.jsx(Nge,{container:$.current,groupedSongList:a,onScrollToGroup:U=>{o(U.songs[0].index),setTimeout(()=>{var ne;return(ne=E.current)==null?void 0:ne.scrollToGroup(U.name)},20)}}),f.jsx(_M,{active:l,dim:g,"data-test":"song-list-container",ref:$,children:f.jsx(jme,{focusedSong:s,focusedGroup:i,ListRowWrapper:wM,GroupRowWrapper:xM,ref:E,groups:a,itemHeight:Math.floor(z)+Math.floor(og*C),groupHeight:Math.floor(R)+Math.floor(og*C),components:Gme,renderGroup:U=>f.jsx(EM,{"data-highlight":U.name==="New",children:f.jsx(dS,{"data-group-name":U.name,children:U.displayLong??U.name})},U.name),perRow:r,renderItem:(U,ne)=>{const B=U.index===s&&ne.name===i;return v.createElement(Xme,{...g||!l?{"data-unfocusable":!0}:{},isPopular:U.isPopular,key:U.song.id,song:U.song,handleClick:B?L:o,focused:!g&&l&&B,index:U.index,groupLetter:ne.name,"data-song-index":U.index,"data-focused":!g&&l&&U.index===s,"data-test":`song-${U.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:T})},placeholder:f.jsx(SM,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:T,isPopular:!!(S!=null&&S.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:N,left:F,width:Math.floor(j),height:Math.floor(z)}}})})]}),f.jsx(yge,{selectedPlaylist:y,setSelectedPlaylist:A,playlists:_,active:g,closePlaylist:p})]})})}const qme=M("div",{target:"e13s0pn12"})(He,";text-align:center;font-size:5rem;padding:10rem 0;"),Kme=M("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),Yme=e=>{const{theme:t}=v.useContext(zx);return t==="eurovision"?null:f.jsx(Qme,{...e})},Qme=M(fge,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),Jme=M("div",{target:"e13s0pn9"})(He,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),dS=M("div",{target:"e13s0pn8"})(He,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",ge.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),_M=M("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),SM=M("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),Xme=v.memo(M(sB,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",Hme,");z-index:2;",Mu,";}")),Zme=M("div",{target:"e13s0pn4"})(""),yB=M("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),xM=M(yB,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),wM=M(yB,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),EM=M("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",dS,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function e0e(e){const[t,n]=Qe(L0),[r,i]=v.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(mN,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(Wme,{...e})}const t0e=ht(f.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),ZA=15;function n0e({onFinish:e}){const[t,n]=v.useState(!1),[r,i]=v.useState([]);Er(te.readinessConfirmed,a=>{i(l=>[...l,a])});const s=Ci([te.inputListChanged,te.readinessConfirmed],()=>Ve.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));v.useEffect(()=>{(async()=>{let a=!1;const l=Ve.requestReadiness().then(()=>{a=!0,n(!0)}),c=Mc(1500),u=Mc(ZA*1e3);await Mc(250),a||await Pg.play(),await Promise.race([Promise.all([l,c]),u]),Pg.playing()&&Hj.play(),await Mc(500),Pg.stop(),await Mc(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(r0e,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(s0e,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(o0e,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(a0e,{children:a?f.jsx(t0e,{}):f.jsx(Kh,{color:"info",size:"1em"})})," ",f.jsx(hB,{player:c})]},u))}),!t&&f.jsxs(i0e,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(_E,{end:0,start:ZA,duration:ZA,useEasing:!1})})]})]})})}const r0e=M("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",He,";"),i0e=M("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),s0e=M("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),o0e=M("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),a0e=M("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function l0e({register:e,onExit:t}){const n=v.useRef(null),[r,i]=v.useState(!1),[s,o]=v.useState(!1),[a,l]=v.useState(!1);v.useEffect(()=>{var d;(d=n.current)==null||d.focus()},[n]);const c=()=>{const d=Fe.getSong(),h={songId:d==null?void 0:d.id,songLastUpdated:d==null?void 0:d.lastUpdate},p=[];r&&p.push("not-in-sync"),s&&p.push("wrong-volume"),a&&p.push("bad-lyrics"),p.length&&Mn.capture("rate-song",{issues:p,...h}),t()},u=s||r||a;return f.jsx(f.Fragment,{children:f.jsxs(fs,{"data-test":"rate-song-container",children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(e1,{...e("button-not-in-sync",()=>i(d=>!d)),size:"small",children:[f.jsx(t1,{children:r?f.jsx(qg,{}):f.jsx(Kg,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(e1,{...e("button-bad-lyrics",()=>l(d=>!d)),size:"small",children:[f.jsx(t1,{children:a?f.jsx(qg,{}):f.jsx(Kg,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(e1,{...e("button-wrong-volume",()=>o(d=>!d)),size:"small",children:[f.jsx(t1,{children:s?f.jsx(qg,{}):f.jsx(Kg,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Re,{...e("button-song-ok",c,void 0,!0),ref:n,children:u?"Submit and exit":"All good, exit the song"})]})})}const e1=M(Re,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),t1=M("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function c0e({onResume:e,onExit:t,onRestart:n}){const r=li(),i=v.useRef(null),s=v.useRef(null);v.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=v.useState(!1),{register:l}=Wn({enabled:!o}),[c,u]=v.useState(!1),d=async()=>{const h=Fe.getSongCompletionProgress(),p=(await Ei.getIndex()).find(g=>{var m;return g.id===((m=Fe.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7?u(!0):t()};return f.jsxs(dc,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(fs,{children:[f.jsx(Re,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Re,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Re,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Re,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(EN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Re,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=Fe.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(pB,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(l0e,{onExit:t,register:l})]})}const vB=rs()?1e3:8e3;function u0e(e){return Math.floor((rv(e)-vB)/1e3)}const d0e=2e4;function f0e(e){return rv(e)-(e.videoGap??0)*1e3>d0e}function h0e({playerRef:e,isEnabled:t}){const[n]=Qe(mr),r=Fe.getSong(),i=v.useMemo(()=>f0e(r),[r]),s=v.useMemo(()=>rv(r),[r]),o=Fe.getCurrentTime(!1)<s-vB*1.2,a=t&&o&&i;ac({accept:()=>{e==null||e.seekTo(u0e(r));const{artist:u,title:d}=Fe.getSong();Mn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=v.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return ad(c,a),!n&&a?f.jsxs(p0e,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(g0e,{children:"Enter"})," to skip the intro"]}):null}const p0e=M("div",{target:"e167kngm1"})(He,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),g0e=M("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),m0e=15e3;function y0e({onSongEnd:e,isEnabled:t}){const[n]=Qe(mr),r=Fe.getDuration(),i=v.useMemo(()=>Math.max(...Fe.getPlayers().map(p=>Ff(p.getLastNotesSection()))),[]),s=v.useMemo(()=>{var g;const p=RN(i,Fe.getSong())+(((g=Fe.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+m0e},[r,i,t]),[o,a]=v.useState(0),[l,c]=v.useState(!1);CO(()=>a(Fe.getCurrentBeat()),1e3);const u=hE(s&&o>i,5e3)&&!l;ac({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=Fe.getSong();Mn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=v.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return ad(h,u),!n&&s?f.jsxs(v0e,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(A0e,{children:"Enter"})," to skip the outro"]}):null}const v0e=M("div",{target:"e1b01y1a1"})(He,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),A0e=M("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),b0e=Te.memo(y0e);function CM(e){return e&&e.length?cN(e):[]}function _0e({players:e}){const t=Fe.getCurrentTime(!1),n=Fe.getSongBeatLength(),r=Fe.getDuration(),i=Fe.getSong(),s=v.useMemo(()=>CM(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Pa(l)*n+i.gap)),[i,n,e]),o=v.useMemo(()=>CM(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>$f(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(RE,{children:[s.map(l=>f.jsx(kM,{position:l/a},l)),o.map(l=>f.jsx(kM,{position:l/a},l)),f.jsx(w0e,{fill:t/a})]})}const RE=M("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),S0e=M(RE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",ge.colors.text.active,";opacity:75%;"),kM=e=>f.jsx(S0e,{style:{left:`${Math.min(e.position*100,100)}%`}}),x0e=M(RE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),w0e=e=>f.jsx(x0e,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function E0e({player:e,bottom:t=!1,...n}){const r=_n.getPlayerVolume(e.number),i=cB(e.number);return f.jsxs(C0e,{...n,children:[i!=="unavailable"&&f.jsx(jpe,{playerNumber:e.number,volume:r}),f.jsx(k0e,{status:i,tooltipPosition:"start"}),f.jsx(T0e,{playerNumber:e.number})]})}const C0e=M("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),k0e=M(fB,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),T0e=M(dB,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function TM({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var x;const i=Fe.getPlayer(e.number),[s]=Qe(mr),o=ge.colors.players[e.number].text,a=((x=Fe.getSingSetup())==null?void 0:x.mode)===Nr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=Fe.getCurrentBeat(),h=Fe.getSongBeatLength(),p=Math.max(0,...a.filter(S=>S<=((l==null?void 0:l.start)??-1/0))),g=a.find(S=>S>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,b=(g-d)/(g-p),y=m<2500,A=It(l),_=A?Pa([l])-l.start:0;return f.jsxs(j0e,{shouldBlink:y,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(I0e,{children:r?Fe.getPlayers().map(S=>f.jsx(IM,{player:Ve.getPlayer(S.getNumber())},S.getNumber())):f.jsx(IM,{player:e})}),m<1/0&&f.jsx(D0e,{color:o,progress:b<=1?b*100:0}),A?f.jsx(f.Fragment,{children:f.jsxs(ag,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(P0e,{children:f.jsx(R0e,{color:o,percent:Math.min(2,(d-l.start)/_)})}),l==null?void 0:l.notes.map(S=>{const E=Math.max(0,Math.min(2,(d-S.start)/S.length));return f.jsxs(O0e,{type:S.type,children:[f.jsxs(V0e,{children:[f.jsx(N0e,{fill:E,color:o,children:S.lyrics.trim()}),S.lyrics.endsWith(" ")&&" "]}),S.lyrics]},S.start)}),(c==null?void 0:c.start)===g&&f.jsx(PM,{"data-should-shake":!0})]})}):f.jsx(ag,{effectsEnabled:n,children:" "}),It(c)?f.jsxs(ag,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(S=>f.jsx(v.Fragment,{children:S.lyrics},S.start)),(u==null?void 0:u.start)===g&&f.jsx(PM,{})]}):f.jsx(ag,{effectsEnabled:n,nextLine:!0,children:" "})]})}const IM=M(E0e,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),I0e=M("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),P0e=M("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),M0e=M("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),R0e=({percent:e,color:t})=>{const n=v.useMemo(()=>{const r=le(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(M0e,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},j0e=M("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),O0e=M("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),V0e=M("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),L0e=M("span",{target:"e1j3lo7n3"})(""),N0e=({fill:e,color:t,children:n})=>f.jsx(L0e,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),B0e=M("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),D0e=e=>f.jsx(B0e,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),PM=M(pE,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",ge.colors.text.active,";font-size:4rem;}"),ag=M("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?ge.colors.text.inactive:ge.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),AB=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function fS({score:e}){return f.jsx(f.Fragment,{children:AB.format(e)})}const bB=6,$i=30,kn=$i+6,$0e=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function MM({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var _;const u=o.sections,d=u[t],h=u[t+1],p=$0e({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=It(d)?(_=d==null?void 0:d.notes)==null?void 0:_.at(-1):void 0,m=It(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,b=d.start*r,y=(m-d.start)*r,A=(p.height-20-$i)/(s-i+bB*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:b,maxTime:y,pitchStepHeight:A}}function _B(e,t,n,r,i){return i&&n?ge.colors.players[t].starPerfect:i?ge.colors.players[t].perfect:n&&r?ge.colors.players[t].star:r?ge.colors.players[t].hit:ge.colors.players[t].miss}function F0e(e,t,n,r){return _B(e,t,r.note.type==="star",n,r.isPerfect)}const n1={},z0e=e=>{if(!n1[e]){const t=le(e);n1[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return n1[e]};function hS(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=z0e(o);l.addColorStop(0,c[Ps(0,c.length-1)]),l.addColorStop(.05,c[Ps(0,c.length-1)]),l.addColorStop(.15,d[Ps(0,d.length-1)]),l.addColorStop(1,u[Ps(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function jE(e,t,n,r,i,s,o,a,l=1){i>0&&hS(e,t,n,r,i,s,a,l)}const Tf=(e,t)=>e-t+Math.random()*t*2,RM=(e=0)=>Math.sign(e+Math.random()-.5),U0e=500,H0e=100,lg=.2;class G0e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.startingTtl-this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;jE(s,i,d,h,c,u,this.initialAngle+l,this.color,.5*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Tf(U0e,H0e),this.velocityX=lg*Math.random()-lg/2,this.velocityY=lg*Math.random()-lg/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class W0e{constructor(t,n,r,i,s){this.finished=!0,this.tick=(c,u)=>{};const o=ge.colors.players[i].starPerfect.fill,a=le(o).lighten(15).toRgbString(),l=le(o).darken(15).toRgbString();if(Math.random()>.85){const c=Ps(0,r/8),u=Math.random();let d=o;u>.66?d=a:u>.33&&(d=l);const h=n+20*(Math.random()-.5);s.add(new G0e(t+c*8,h,d))}}}const q0e=300,K0e=50,cg=1.3;class Y0e{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;jE(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Tf(q0e,K0e),this.velocityX=cg*Math.random()-cg/2,this.velocityY=cg*Math.random()-cg/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const Q0e=`
precision mediump float;
`,lv=Q0e.replace(/\n/g,""),J0e=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,SB=J0e.replace(/\n/g,""),X0e=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,cv=X0e.replace(/\n/g,""),Z0e=lv+SB+cv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;Z0e.replace(/\n/g,"");const eye=lv+cv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;eye.replace(/\n/g,"");const tye=lv+SB+cv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;tye.replace(/\n/g,"");const nye=lv+cv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;nye.replace(/\n/g,"");function rye(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Bx(e,t,n)}var iye="\\ud800-\\udfff",sye="\\u0300-\\u036f",oye="\\ufe20-\\ufe2f",aye="\\u20d0-\\u20ff",lye=sye+oye+aye,cye="\\ufe0e\\ufe0f",uye="\\u200d",dye=RegExp("["+uye+iye+lye+cye+"]");function xB(e){return dye.test(e)}function fye(e){return e.split("")}var wB="\\ud800-\\udfff",hye="\\u0300-\\u036f",pye="\\ufe20-\\ufe2f",gye="\\u20d0-\\u20ff",mye=hye+pye+gye,yye="\\ufe0e\\ufe0f",vye="["+wB+"]",pS="["+mye+"]",gS="\\ud83c[\\udffb-\\udfff]",Aye="(?:"+pS+"|"+gS+")",EB="[^"+wB+"]",CB="(?:\\ud83c[\\udde6-\\uddff]){2}",kB="[\\ud800-\\udbff][\\udc00-\\udfff]",bye="\\u200d",TB=Aye+"?",IB="["+yye+"]?",_ye="(?:"+bye+"(?:"+[EB,CB,kB].join("|")+")"+IB+TB+")*",Sye=IB+TB+_ye,xye="(?:"+[EB+pS+"?",pS,CB,kB,vye].join("|")+")",wye=RegExp(gS+"(?="+gS+")|"+xye+Sye,"g");function Eye(e){return e.match(wye)||[]}function Cye(e){return xB(e)?Eye(e):fye(e)}function kye(e){return function(t){t=Lx(t);var n=xB(t)?Cye(t):void 0,r=n?n[0]:t.charAt(0),i=n?rye(n,1).join(""):t.slice(1);return r[e]()+i}}var Tye=kye("toUpperCase");function Iye(e){return Tye(Lx(e).toLowerCase())}function jM(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function OE(e,t,n,r,i,s,o,a,l=.1){jM(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),jM(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Zd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function ef(e,t,n,r,i,s,o){s==="star"?Zd(e,ge.colors.lines.star):s==="freestyle"||s==="rap"?Zd(e,ge.colors.lines.freestyle):s==="rapstar"?Zd(e,{...ge.colors.lines.star,fill:ge.colors.lines.freestyle.fill}):Zd(e,ge.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?ge.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,OE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function Pye(e,t,n,r,i,s,o,a,l){Zd(e,_B(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,OE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Bn=10,Mye={start:{x:0,y:0,w:$i/2+Bn,h:$i+Bn*2},middle:{x:$i/2+Bn,y:0,w:1,h:$i+Bn*2},end:{x:$i/2+1+Bn,y:0,w:$i/2+Bn,h:$i+Bn*2}},Jc={start:{x:0,y:0,w:kn/2+Bn,h:kn+Bn*2},middle:{x:kn/2+Bn,y:0,w:1,h:kn+Bn*2},end:{x:kn/2+1+Bn,y:0,w:kn/2+Bn,h:kn+Bn*2}},Cc=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>Pye(s,o,a,l,c,e,t,n,r),width:i?kn:$i+1,height:i?kn:$i,padding:Bn,fragments:i?Jc:Mye}),ug=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>ef(t,n,r,i,s,"normal",e),width:kn+1,height:kn,padding:Bn,fragments:Jc},[`p${e}Miss`]:Cc(e,!1,!1,!1,!1),[`p${e}Hit`]:Cc(e,!0,!1,!1,!0),[`p${e}Perfect`]:Cc(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Cc(e,!1,!1,!0,!1),[`p${e}StarHit`]:Cc(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Cc(e,!0,!0,!0,!0)}),xo={...ug(0),...ug(1),...ug(2),...ug(3),noteStar:{draw:(e,t,n,r,i)=>ef(e,t,n,r,i,"star"),width:kn+1,height:kn,padding:Bn,fragments:Jc},noteFreestyle:{draw:(e,t,n,r,i)=>ef(e,t,n,r,i,"freestyle"),width:kn+1,height:kn,padding:Bn,fragments:Jc},noteRap:{draw:(e,t,n,r,i)=>ef(e,t,n,r,i,"rap"),width:kn+1,height:kn,padding:Bn,fragments:Jc},noteRapstar:{draw:(e,t,n,r,i)=>ef(e,t,n,r,i,"rapstar"),width:kn+1,height:kn,padding:Bn,fragments:Jc}};function Rye(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const PB=Math.max(...Object.values(xo).map(e=>e.padding*2+e.width)),MB=Object.values(xo).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),RB=Rye(PB,MB),mS=RB.getContext("2d");let bl=0;const OM=Object.entries(xo).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:bl,w:t.width+n,h:t.height+n};return bl=bl+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),jB=()=>{mS.clearRect(0,0,PB,MB),bl=0,Object.entries(xo).forEach(([e,t])=>{t.draw(mS,t.padding,bl+t.padding,t.width,t.height),bl=bl+t.padding*2+t.height})};jB();te.songStarted.subscribe(jB);const OB=(e,t)=>({canvas:RB,ctx:mS,x:OM[e].x+xo[e].fragments[t].x,y:OM[e].y+xo[e].fragments[t].y,w:xo[e].fragments[t].w,h:xo[e].fragments[t].h,padding:xo[e].padding}),r1=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=OB(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,b=m*a,y=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-b,i-y,s??d,h),e.imageSmoothingEnabled=!0,c};function VB(e,t,n,r,i){const s=OB(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;r1(e,t,"start",n,r,l,void 0,a),u>0&&r1(e,t,"middle",n+l,r,u,void 0,a),r1(e,t,"end",n+u+l,r,l,void 0,a)}const jye=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${Iye(e)}`;function LB(e,t,n,r,i,s){const o=jye(i.type,s);VB(e,o,t,n,r)}function Oye(e,t,n,r,i,s){e.save(),OE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const Vye=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},Lye=["star","rapstar"];function Nye(e,t,n,r,i,s,o){const a=Vye(i,s,o.isPerfect,Lye.includes(o.note.type));VB(e,a,t,n,r)}class Bye{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const po=new Bye,Dye=50/60*1e3,$ye=25/60*1e3,Fye=60,VM=.3;class zye{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;jE(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=Tf(Dye,$ye),this.velocityX=Tf(.5,VM)*RM(.2),this.velocityY=Tf(.4,VM)*RM(),this.width=Fye,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Uye{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?ge.colors.players[i].star.fill:ge.colors.players[i].perfect.fill,l=le(a).lighten(15).toRgbString(),c=le(a).darken(15).toRgbString(),u=r/9;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new zye(t+d*9,g,p,(u-d)/10))}}}const LM=200;class Hye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=LM,this.tick=(o,a,l)=>{const c=this.ttl/LM;o.save(),o.globalAlpha=c,o.translate(0,kn*(1-c)),LB(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const i1=50/60*1e3,dg=.05,Gye=200,NM=4,Wye=Math.pow;function BM(e){return 1-Wye(1-e,2)}class qye{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/i1;let c=BM(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;hS(o,s,this.x,this.y,u,d,"white",c*.35),c=BM(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,b=i1-this.ttl;s.globalAlpha=c*.2,hS(o,s,g+b*this.velocityX,m+b*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=i1,this.velocityX=dg*Math.random()-dg/2,this.velocityY=dg*Math.random()-dg/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*NM+(Gye-NM))}}const DM=20;class Kye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/DM+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/DM+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const $M=20;function Yye(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class Qye{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(Fe.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Ve.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),po.tick(s,this.canvas,this.pauseTime)),_l.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,_l.get())}_l.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=MM(o);if(Wi.get()==="high"&&this.setDistortionForce(o),!It(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),Wi.get()==="high"&&(this.drawFlare(s,o,l),this.markGoldNotes(a,o))},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!It(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-$M),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>wm(m)===0).reduce((m,b)=>m+b.length-Math.max(0,c-b.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/$M,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{It(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);LB(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{It(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=wm(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(Nye(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&po.add(new Kye(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!df.includes(a.note.type)&&Oye(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!It(s.currentSection))return;const a=Yye(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=df.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,b=this.getPreciseY(d,p,g);po.add(new qye(m,b,s.currentTime,1)),po.add(new Y0e(gB(Math.max(u,m-50),m),b,F0e(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,b)}},this.onSectionEnd=i=>{if(Fe.isPlaying()){const s=this.getDrawingData(i,-1);if(!It(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{Wi.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);po.add(new Hye(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{Wi.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||df.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);po.add(new Uye(l,c+d/2,u,s.playerNumber,a.note,po))})},this.markGoldNotes=(i,s)=>{i.notes.filter(a=>a.type==="star"||a.type==="rapstar").forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0);po.add(new W0e(l,c+d/2,u,s.playerNumber,po))})},this.calculateDisplacements=(i,s)=>{const o={};return Wi.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Ve.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=Fe.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=Fe.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:Fe.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:Fe.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:Fe.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=MM(i),g=It(d)?d.notes[0].start:1,m=h.width/(u-g),[b,y]=l?c:[0,0],A=p*(i.maxPitch-a+bB);return{x:Math.floor(h.baseX+m*(s-g)+b),y:Math.floor(h.baseY+10+A+y-(l?3:0)),w:Math.floor(m*o),h:l?kn:$i}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const Jye=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,Xye=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,Zye=1920,eve=v.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var _,x,S;const[c]=Qe(Wi),[u]=Qe(mr),d=v.useRef(null),h=v.useRef(null),p=v.useRef(null),g=Zye,m=g*(n/t),b=m/n;v.useImperativeHandle(l,()=>({pause:()=>{var E;return(E=h.current)==null?void 0:E.pause()},resume:()=>{var E;return(E=h.current)==null?void 0:E.resume()}}),[h.current,(_=p.current)==null?void 0:_.offsetHeight,b]),v.useEffect(()=>(Fe.startInputMonitoring(),()=>{Fe.stopInputMonitoring()}),[]),v.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new Qye(d.current,p.current.offsetHeight*b),h.current.start(),()=>{var E;(E=h.current)==null||E.end()}},[(x=p.current)==null?void 0:x.offsetHeight,b]),v.useEffect(()=>{var E,C,k,V;a&&((E=h.current)!=null&&E.isPlaying())?(C=h.current)==null||C.pause():!a&&!((k=h.current)!=null&&k.isPlaying())&&((V=h.current)==null||V.resume())},[a]),v.useEffect(()=>{e===Cn.ENDED&&i&&i()},[e,i]);const y=Ve.getPlayers(),A=!u&&y.length>1;return f.jsxs(tve,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:Jye}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:Xye}),f.jsx(rve,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(nve,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(h0e,{playerRef:o,isEnabled:!a}),f.jsx(b0e,{onSongEnd:i,isEnabled:!a})]}),f.jsx(_0e,{players:r}),f.jsx(FM,{children:A&&f.jsx(TM,{player:y[0],effectsEnabled:s,showStatusForAllPlayers:y.length>2})}),f.jsx(ive,{children:s&&f.jsx(f.Fragment,{children:((S=Fe.getSingSetup())==null?void 0:S.mode)===Nr.CO_OP?f.jsx(zM,{"data-test":"players-score","data-score":Math.floor(Fe.getPlayerScore(0)),children:f.jsx(fS,{score:Fe.getPlayerScore(0)})}):Ve.getPlayers().map(E=>f.jsx(zM,{"data-test":`player-${E.number}-score`,"data-score":Math.floor(Fe.getPlayerScore(E.number)),children:f.jsx(fS,{score:Fe.getPlayerScore(E.number)})},E.number))})}),f.jsx(FM,{ref:p,children:f.jsx(TM,{showStatusForAllPlayers:y.length>2,player:y.length>2?y[0]:y.at(-1),bottom:!0,effectsEnabled:s})})]})}),FM=M("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),tve=M("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),nve=M("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),rve=M("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),ive=M("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),zM=M("span",{target:"el0barv0"})("");function sve(e,t){const[n,r]=v.useState(0);return v.useEffect(()=>{e.current&&t===Cn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),Fe.setDuration(i)})},[n,e,t]),n}function ove({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=v.useRef(null),[b,y]=v.useState(0),[A,_]=v.useState(Cn.UNSTARTED),[x]=Qe(lf),[S,E]=v.useState(!1);v.useEffect(()=>(Fe.setSong(e),Fe.setSingSetup(u),()=>{Fe.resetSingSetup()}),[e,u]),v.useEffect(()=>{if(m.current&&A===Cn.PLAYING){const P=setInterval(async()=>{if(!m.current)return;const T=Math.max(0,await m.current.getCurrentTime()*1e3-x);y(T),s==null||s(T),Fe.setCurrentTime(T),Fe.update()},1e3/_l.get());return()=>clearInterval(P)}},[m,s,A,x]);const C=sve(m,A);v.useImperativeHandle(g,()=>({seekTo:P=>m.current.seekTo(P),setPlaybackSpeed:P=>m.current.setPlaybackSpeed(P),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const k=v.useCallback(P=>{_(P),a==null||a(P)},[_,a]),V=h,w=()=>{var P;E(!0),(P=m.current)==null||P.pauseVideo()},j=()=>{var P;E(!1),(P=m.current)==null||P.playVideo()},z=()=>{S?j():w()},R=w0(A);v.useEffect(()=>{var T;if(!V)return;const P=R!==Cn.PAUSED&&R!==Cn.BUFFERING&&A===Cn.PAUSED;A===Cn.PLAYING&&S?(T=m.current)==null||T.pauseVideo():P&&!S&&E(!0)},[S,A,R,V]),ac({back:z},V,[S]);const L=v.useMemo(()=>({back:"Pause Menu"}),[]);return ad(L,c),f.jsxs(ave,{...p,children:[S&&f.jsx(c0e,{onExit:o,onResume:j,onRestart:d}),A!==Cn.UNSTARTED&&f.jsx(lve,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(eve,{isPauseMenuVisible:S,effectsEnabled:c,duration:C,currentStatus:A,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(cve,{children:[f.jsx(wE,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:k}),A===Cn.PLAYING&&f.jsx(uve,{"data-test":"make-song-go-fast",onClick:()=>{var P;(P=m.current)==null||P.setPlaybackSpeed(2)}})]})]})}const ave=M("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),lve=M("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),cve=M("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),uve=M("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),dve=v.forwardRef(ove),UM=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:"↑"})," or ",f.jsx("kbd",{children:"↓"})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(Fm,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],fve=({as:e="h4",...t})=>{const n=v.useRef(Ps(0,UM.length-1)),r=e;return f.jsx(r,{...t,children:UM[n.current]})};function hve({...e}){const[t,n]=v.useState(""),r=v.useRef(null);return v.useEffect(()=>{const i=setTimeout(()=>{n(Cs.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),v.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Os(i)}},[t]),f.jsx(pve,{...e,children:f.jsx(gve,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const pve=M("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),gve=M("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function mve(e){return 1-Math.pow(1-e,3)}function yve(e){return mve(e)}function fg({color:e,maxScore:t,score:n}){return f.jsx(vve,{style:{border:n===0?0:void 0,width:`${yve(n/t)*24}%`,backgroundColor:e}})}const vve=M("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var NB={exports:{}};(function(e,t){(function(n,r){e.exports=r(v)})(typeof self<"u"?self:la,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>N});var u=c(4087),d=c.n(u);const h=function(F){return new RegExp(/<[a-z][\s\S]*>/i).test(F)},p=function(F,D){return Math.floor(Math.random()*(D-F+1))+F};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",b="REMOVE_ALL",y="REMOVE_LAST_VISIBLE_NODE",A="PAUSE_FOR",_="CALL_FUNCTION",x="ADD_HTML_TAG_ELEMENT",S="CHANGE_DELETE_SPEED",E="CHANGE_DELAY",C="CHANGE_CURSOR",k="PASTE_STRING",V="HTML_TAG";function w(F){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},w(F)}function j(F,D){var G=Object.keys(F);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(F);D&&(U=U.filter(function(ne){return Object.getOwnPropertyDescriptor(F,ne).enumerable})),G.push.apply(G,U)}return G}function z(F){for(var D=1;D<arguments.length;D++){var G=arguments[D]!=null?arguments[D]:{};D%2?j(Object(G),!0).forEach(function(U){T(F,U,G[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(G)):j(Object(G)).forEach(function(U){Object.defineProperty(F,U,Object.getOwnPropertyDescriptor(G,U))})}return F}function R(F){return function(D){if(Array.isArray(D))return L(D)}(F)||function(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}(F)||function(D,G){if(D){if(typeof D=="string")return L(D,G);var U=Object.prototype.toString.call(D).slice(8,-1);return U==="Object"&&D.constructor&&(U=D.constructor.name),U==="Map"||U==="Set"?Array.from(D):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?L(D,G):void 0}}(F)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(F,D){(D==null||D>F.length)&&(D=F.length);for(var G=0,U=new Array(D);G<D;G++)U[G]=F[G];return U}function P(F,D){for(var G=0;G<D.length;G++){var U=D[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,$(U.key),U)}}function T(F,D,G){return(D=$(D))in F?Object.defineProperty(F,D,{value:G,enumerable:!0,configurable:!0,writable:!0}):F[D]=G,F}function $(F){var D=function(G,U){if(w(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var B=ne.call(G,"string");if(w(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(F);return w(D)==="symbol"?D:String(D)}const N=function(){function F(U,ne){var B=this;if(function(Z,oe){if(!(Z instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,F),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){B.state.elements.container&&(B.state.elements.wrapper.className=B.options.wrapperClassName,B.state.elements.cursor.className=B.options.cursorClassName,B.state.elements.cursor.innerHTML=B.options.cursor,B.state.elements.container.innerHTML="",B.state.elements.container.appendChild(B.state.elements.wrapper),B.state.elements.container.appendChild(B.state.elements.cursor))}),T(this,"start",function(){return B.state.eventLoopPaused=!1,B.runEventLoop(),B}),T(this,"pause",function(){return B.state.eventLoopPaused=!0,B}),T(this,"stop",function(){return B.state.eventLoop&&((0,u.cancel)(B.state.eventLoop),B.state.eventLoop=null),B}),T(this,"pauseFor",function(Z){return B.addEventToQueue(A,{ms:Z}),B}),T(this,"typeOutAllStrings",function(){return typeof B.options.strings=="string"?(B.typeString(B.options.strings).pauseFor(B.options.pauseFor),B):(B.options.strings.forEach(function(Z){B.typeString(Z).pauseFor(B.options.pauseFor).deleteAll(B.options.deleteSpeed)}),B)}),T(this,"typeString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return B.typeOutHTMLString(Z,oe);if(Z){var Pe=(B.options||{}).stringSplitter,Ee=typeof Pe=="function"?Pe(Z):Z.split("");B.typeCharacters(Ee,oe)}return B}),T(this,"pasteString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?B.typeOutHTMLString(Z,oe,!0):(Z&&B.addEventToQueue(k,{character:Z,node:oe}),B)}),T(this,"typeOutHTMLString",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Pe=arguments.length>2?arguments[2]:void 0,Ee=function(Be){var ye=document.createElement("div");return ye.innerHTML=Be,ye.childNodes}(Z);if(Ee.length>0)for(var ae=0;ae<Ee.length;ae++){var be=Ee[ae],Le=be.innerHTML;be&&be.nodeType!==3?(be.innerHTML="",B.addEventToQueue(x,{node:be,parentNode:oe}),Pe?B.pasteString(Le,be):B.typeString(Le,be)):be.textContent&&(Pe?B.pasteString(be.textContent,oe):B.typeString(be.textContent,oe))}return B}),T(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return B.addEventToQueue(b,{speed:Z}),B}),T(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return B.addEventToQueue(S,{speed:Z}),B}),T(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return B.addEventToQueue(E,{delay:Z}),B}),T(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return B.addEventToQueue(C,{cursor:Z}),B}),T(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var oe=0;oe<Z;oe++)B.addEventToQueue(m);return B}),T(this,"callFunction",function(Z,oe){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return B.addEventToQueue(_,{cb:Z,thisArg:oe}),B}),T(this,"typeCharacters",function(Z){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(Pe){B.addEventToQueue(g,{character:Pe,node:oe})}),B}),T(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){B.addEventToQueue(m)}),B}),T(this,"addEventToQueue",function(Z,oe){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return B.addEventToStateProperty(Z,oe,Pe,"eventQueue")}),T(this,"addReverseCalledEvent",function(Z,oe){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return B.options.loop?B.addEventToStateProperty(Z,oe,Pe,"reverseCalledEvents"):B}),T(this,"addEventToStateProperty",function(Z,oe){var Pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ee=arguments.length>3?arguments[3]:void 0,ae={eventName:Z,eventArgs:oe||{}};return B.state[Ee]=Pe?[ae].concat(R(B.state[Ee])):[].concat(R(B.state[Ee]),[ae]),B}),T(this,"runEventLoop",function(){B.state.lastFrameTime||(B.state.lastFrameTime=Date.now());var Z=Date.now(),oe=Z-B.state.lastFrameTime;if(!B.state.eventQueue.length){if(!B.options.loop)return;B.state.eventQueue=R(B.state.calledEvents),B.state.calledEvents=[],B.options=z({},B.state.initialOptions)}if(B.state.eventLoop=d()(B.runEventLoop),!B.state.eventLoopPaused){if(B.state.pauseUntil){if(Z<B.state.pauseUntil)return;B.state.pauseUntil=null}var Pe,Ee=R(B.state.eventQueue),ae=Ee.shift();if(!(oe<=(Pe=ae.eventName===y||ae.eventName===m?B.options.deleteSpeed==="natural"?p(40,80):B.options.deleteSpeed:B.options.delay==="natural"?p(120,160):B.options.delay))){var be=ae.eventName,Le=ae.eventArgs;switch(B.logInDevMode({currentEvent:ae,state:B.state,delay:Pe}),be){case k:case g:var Be=Le.character,ye=Le.node,Se=document.createTextNode(Be),Ke=Se;B.options.onCreateTextNode&&typeof B.options.onCreateTextNode=="function"&&(Ke=B.options.onCreateTextNode(Be,Se)),Ke&&(ye?ye.appendChild(Ke):B.state.elements.wrapper.appendChild(Ke)),B.state.visibleNodes=[].concat(R(B.state.visibleNodes),[{type:"TEXT_NODE",character:Be,node:Ke}]);break;case m:Ee.unshift({eventName:y,eventArgs:{removingCharacterNode:!0}});break;case A:var De=ae.eventArgs.ms;B.state.pauseUntil=Date.now()+parseInt(De);break;case _:var xe=ae.eventArgs,Je=xe.cb,Et=xe.thisArg;Je.call(Et,{elements:B.state.elements});break;case x:var Gt=ae.eventArgs,Ct=Gt.node,Ce=Gt.parentNode;Ce?Ce.appendChild(Ct):B.state.elements.wrapper.appendChild(Ct),B.state.visibleNodes=[].concat(R(B.state.visibleNodes),[{type:V,node:Ct,parentNode:Ce||B.state.elements.wrapper}]);break;case b:var ct=B.state.visibleNodes,Rt=Le.speed,jt=[];Rt&&jt.push({eventName:S,eventArgs:{speed:Rt,temp:!0}});for(var Me=0,We=ct.length;Me<We;Me++)jt.push({eventName:y,eventArgs:{removingCharacterNode:!1}});Rt&&jt.push({eventName:S,eventArgs:{speed:B.options.deleteSpeed,temp:!0}}),Ee.unshift.apply(Ee,jt);break;case y:var it=ae.eventArgs.removingCharacterNode;if(B.state.visibleNodes.length){var st=B.state.visibleNodes.pop(),sn=st.type,gt=st.node,ut=st.character;B.options.onRemoveNode&&typeof B.options.onRemoveNode=="function"&&B.options.onRemoveNode({node:gt,character:ut}),gt&&gt.parentNode.removeChild(gt),sn===V&&it&&Ee.unshift({eventName:y,eventArgs:{}})}break;case S:B.options.deleteSpeed=ae.eventArgs.speed;break;case E:B.options.delay=ae.eventArgs.delay;break;case C:B.options.cursor=ae.eventArgs.cursor,B.state.elements.cursor.innerHTML=ae.eventArgs.cursor}B.options.loop&&(ae.eventName===y||ae.eventArgs&&ae.eventArgs.temp||(B.state.calledEvents=[].concat(R(B.state.calledEvents),[ae]))),B.state.eventQueue=Ee,B.state.lastFrameTime=Z}}}),U)if(typeof U=="string"){var fe=document.querySelector(U);if(!fe)throw new Error("Could not find container element");this.state.elements.container=fe}else this.state.elements.container=U;ne&&(this.options=z(z({},this.options),ne)),this.state.initialOptions=z({},this.options),this.init()}var D,G;return D=F,(G=[{key:"init",value:function(){var U,ne;this.setupWrapperElement(),this.addEventToQueue(C,{cursor:this.options.cursor},!0),this.addEventToQueue(b,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(U=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(U)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(U){this.options.devMode&&console.log(U)}}])&&P(D.prototype,G),Object.defineProperty(D,"prototype",{writable:!1}),F}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var _=b[y];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var _=b[y];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(b){var y=-1,A=b==null?0:b.length;for(this.clear();++y<A;){var _=b[y];this.set(_[0],_[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,b=g==null?0:g.length;for(this.__data__=new u;++m<b;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function b(y){var A=this.__data__=new u(y);this.size=A.size}b.prototype.clear=d,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=m,a.exports=b},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),b=Object.prototype.hasOwnProperty;a.exports=function(y,A){var _=h(y),x=!_&&d(y),S=!_&&!x&&p(y),E=!_&&!x&&!S&&m(y),C=_||x||S||E,k=C?u(y.length,String):[],V=k.length;for(var w in y)!A&&!b.call(y,w)||C&&(w=="length"||S&&(w=="offset"||w=="parent")||E&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||g(w,V))||k.push(w);return k}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,b,y){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,b,h,y))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),b=c(4144),y=c(6719),A="[object Arguments]",_="[object Array]",x="[object Object]",S=Object.prototype.hasOwnProperty;a.exports=function(E,C,k,V,w,j){var z=m(E),R=m(C),L=z?_:g(E),P=R?_:g(C),T=(L=L==A?x:L)==x,$=(P=P==A?x:P)==x,N=L==P;if(N&&b(E)){if(!b(C))return!1;z=!0,T=!1}if(N&&!T)return j||(j=new u),z||y(E)?d(E,C,k,V,w,j):h(E,C,L,k,V,w,j);if(!(1&k)){var F=T&&S.call(E,"__wrapped__"),D=$&&S.call(C,"__wrapped__");if(F||D){var G=F?E.value():E,U=D?C.value():C;return j||(j=new u),w(G,U,k,V,j)}}return!!N&&(j||(j=new u),p(E,C,k,V,w,j))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,b=Object.prototype,y=m.toString,A=b.hasOwnProperty,_=RegExp("^"+y.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(x){return!(!h(x)||d(x))&&(u(x)?_:g).test(p(x))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,b,y,A){var _=1&m,x=p.length,S=g.length;if(x!=S&&!(_&&S>x))return!1;var E=A.get(p),C=A.get(g);if(E&&C)return E==g&&C==p;var k=-1,V=!0,w=2&m?new u:void 0;for(A.set(p,g),A.set(g,p);++k<x;){var j=p[k],z=g[k];if(b)var R=_?b(z,j,k,g,p,A):b(j,z,k,p,g,A);if(R!==void 0){if(R)continue;V=!1;break}if(w){if(!d(g,function(L,P){if(!h(w,P)&&(j===L||y(j,L,m,b,A)))return w.push(P)})){V=!1;break}}else if(j!==z&&!y(j,z,m,b,A)){V=!1;break}}return A.delete(p),A.delete(g),V}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),b=u?u.prototype:void 0,y=b?b.valueOf:void 0;a.exports=function(A,_,x,S,E,C,k){switch(x){case"[object DataView]":if(A.byteLength!=_.byteLength||A.byteOffset!=_.byteOffset)return!1;A=A.buffer,_=_.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=_.byteLength||!C(new d(A),new d(_)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+A,+_);case"[object Error]":return A.name==_.name&&A.message==_.message;case"[object RegExp]":case"[object String]":return A==_+"";case"[object Map]":var V=g;case"[object Set]":var w=1&S;if(V||(V=m),A.size!=_.size&&!w)return!1;var j=k.get(A);if(j)return j==_;S|=2,k.set(A,_);var z=p(V(A),V(_),S,E,C,k);return k.delete(A),z;case"[object Symbol]":if(y)return y.call(A)==y.call(_)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,b,y){var A=1&g,_=u(h),x=_.length;if(x!=u(p).length&&!A)return!1;for(var S=x;S--;){var E=_[S];if(!(A?E in p:d.call(p,E)))return!1}var C=y.get(h),k=y.get(p);if(C&&k)return C==p&&k==h;var V=!0;y.set(h,p),y.set(p,h);for(var w=A;++S<x;){var j=h[E=_[S]],z=p[E];if(m)var R=A?m(z,j,E,p,h,y):m(j,z,E,h,p,y);if(!(R===void 0?j===z||b(j,z,g,m,y):R)){V=!1;break}w||(w=E=="constructor")}if(V&&!w){var L=h.constructor,P=p.constructor;L==P||!("constructor"in h)||!("constructor"in p)||typeof L=="function"&&L instanceof L&&typeof P=="function"&&P instanceof P||(V=!1)}return y.delete(h),y.delete(p),V}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var b=h.call(m,g),y=m[g];try{m[g]=void 0;var A=!0}catch{}var _=p.call(m);return A&&(b?m[g]=y:delete m[g]),_}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(b){return h.call(m,b)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),b=c(346),y="[object Map]",A="[object Promise]",_="[object Set]",x="[object WeakMap]",S="[object DataView]",E=b(u),C=b(d),k=b(h),V=b(p),w=b(g),j=m;(u&&j(new u(new ArrayBuffer(1)))!=S||d&&j(new d)!=y||h&&j(h.resolve())!=A||p&&j(new p)!=_||g&&j(new g)!=x)&&(j=function(z){var R=m(z),L=R=="[object Object]"?z.constructor:void 0,P=L?b(L):"";if(P)switch(P){case E:return S;case C:return y;case k:return A;case V:return _;case w:return x}return R}),a.exports=j},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var b=m.__data__;if(!d||b.length<199)return b.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(b)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(b){return d(b)&&p.call(b,"callee")&&!g.call(b,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],b=0;!g&&b<h.length;b++)g=d[h[b]+"Request"+p],m=d[h[b]+"Cancel"+p]||d[h[b]+"CancelRequest"+p];if(!g||!m){var y=0,A=0,_=[];g=function(x){if(_.length===0){var S=u(),E=Math.max(0,16.666666666666668-(S-y));y=E+S,setTimeout(function(){var C=_.slice(0);_.length=0;for(var k=0;k<C.length;k++)if(!C[k].cancelled)try{C[k].callback(y)}catch(V){setTimeout(function(){throw V},0)}},Math.round(E))}return _.push({handle:++A,callback:x,cancelled:!1}),A},m=function(x){for(var S=0;S<_.length;S++)_[S].handle===x&&(_[S].cancelled=!0)}}a.exports=function(x){return g.call(d,x)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(x){x||(x=d),x.requestAnimationFrame=g,x.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>_});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(x){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(x)}function p(x,S){for(var E=0;E<S.length;E++){var C=S[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,y(C.key),C)}}function g(x,S){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,C){return E.__proto__=C,E},g(x,S)}function m(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function b(x){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},b(x)}function y(x){var S=function(E,C){if(h(E)!=="object"||E===null)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var V=k.call(E,"string");if(h(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(x);return h(S)==="symbol"?S:String(S)}var A=function(x){(function(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(z&&z.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),z&&g(j,z)})(w,x);var S,E,C,k,V=(C=w,k=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var j,z=b(C);if(k){var R=b(this).constructor;j=Reflect.construct(z,arguments,R)}else j=z.apply(this,arguments);return function(L,P){if(P&&(h(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(L)}(this,j)});function w(){var j,z,R,L;(function(N,F){if(!(N instanceof F))throw new TypeError("Cannot call a class as a function")})(this,w);for(var P=arguments.length,T=new Array(P),$=0;$<P;$++)T[$]=arguments[$];return z=m(j=V.call.apply(V,[this].concat(T))),L={instance:null},(R=y(R="state"))in z?Object.defineProperty(z,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):z[R]=L,j}return S=w,(E=[{key:"componentDidMount",value:function(){var j=this,z=new c.default(this.typewriter,this.props.options);this.setState({instance:z},function(){var R=j.props.onInit;R&&R(z)})}},{key:"componentDidUpdate",value:function(j){d()(this.props.options,j.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var j=this,z=this.props.component;return l().createElement(z,{ref:function(R){return j.typewriter=R},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(S.prototype,E),Object.defineProperty(S,"prototype",{writable:!1}),w}(a.Component);A.defaultProps={component:"div"};const _=A})(),o.default})())})(NB);var Ave=NB.exports;const BB=gr(Ave);function bve({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(_ve,{children:[f.jsx(fg,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:ge.colors.players[e].perfect.fill}),f.jsx(fg,{score:n>0?r.perfect:0,maxScore:i.perfect,color:ge.colors.players[e].stroke}),f.jsx(fg,{score:n>1?r.star:0,maxScore:i.star,color:ge.colors.players[e].starPerfect.stroke}),f.jsx(fg,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:ge.colors.players[e].perfect.stroke}),f.jsx(Sve,{children:n<5&&f.jsx(BB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const _ve=M("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),Sve=M("span",{target:"ejw0p7o0"})("position:absolute;",He,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function xve({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(wve,{children:[f.jsx(kve,{children:f.jsxs(Cve,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(Eve,{color:s?ge.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(_E,{preserveValue:!0,end:c,formattingFn:AB.format,duration:a<5?1:.5})]})}),f.jsx(bve,{playerNumber:e,player:t,segment:a}),f.jsx(Tve,{"data-highscore":o&&u(t.name),children:"High score!"})]})}const wve=M("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),Eve=M("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),Cve=M(sv,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",ge.colors.text.active,";}"),kve=M("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),Tve=M(yE,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",Jy,";opacity:1;}transition:400ms;");function Ive({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=v.useState(-1);v.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():s(5)};ac({accept:a},!0,[i]);const l=v.useMemo(()=>({accept:"Next"}),[]);ad(l,!0);const c=r.mode===Nr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>cx(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(Pve,{children:[f.jsx(Mve,{children:u.map((p,g)=>f.jsx(xve,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(Rve,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),Cs.getPermissionStatus()&&f.jsx(jve,{})]})}const Pve=M("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),Mve=M("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),Rve=M(Fs,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),jve=M(hve,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function Ove(){return v.useMemo(()=>JSON.parse(Ne.session.getItem(Tu))??[],[])}function Vve({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=v.useRef(null),[o,a]=v.useState(""),l=Ove(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(ME,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function Lve({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Wn(),s=bge(r);return f.jsxs(f.Fragment,{children:[f.jsx(Nve,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(Bve,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(Dve,{children:a+1}),f.jsx($ve,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(Vve,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(Fve,{children:f.jsx(fS,{score:o.score})}),f.jsx(zve,{children:Ts(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(Uve,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const Nve=M("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),Bve=M("div",{target:"e1kq1u2t5"})("position:relative;",He,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),Dve=M("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",ge.colors.text.active,";"),$ve=M("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),Fve=M("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),zve=M("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),Uve=M(Fs,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function Hve({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=Qe(N0);qa(!0);const[l,c]=v.useState("results");return f.jsxs(HN,{songData:e,width:t,height:n,children:[f.jsxs(Gve,{children:[l==="results"&&f.jsx(Ive,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(Lve,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(Wve,{"data-active":"true"})]}),a==="christmas"&&f.jsxs(qve,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const Gve=M("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),Wve=M(fve,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),qve=M("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",He,";");function Kve(e){const[t,n,r,i]=Yve(e);return Qve(t,n,r,i)()}function Yve(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Qve(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const Jve=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","Mały Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],HM=new Date("2016-01-01").getTime(),Xve=new Date("2024-01-07").getTime(),s1=5;function Zve(e,t){const n=IE(e);return v.useMemo(()=>{const i=[...Jve];return[...Array.from({length:s1},(o,a)=>{const l=Kve(e.id+a),c=6e5+14e5/(s1-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:rs()?c/1e3:c,date:new Date((Xve-HM)*l+HM).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,s1)},[e.id,n,t])??[]}function eAe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=Zve(e,i),o=v.useMemo(()=>Ve.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:Fe.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Ko,{children:f.jsx(Hve,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function tAe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){ZN(),eB();const i=v.useRef(null),s=jN(e.id),{width:o,height:a}=Yh(),[l,c]=v.useState(!1),[u,d]=v.useState(!0),[h,p]=v.useState(Cn.UNSTARTED),[g,m]=v.useState(!1);return Fa(!g),v.useEffect(()=>{u&&s.data&&(g||h!==Cn.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(eAe,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(Ko,{children:f.jsxs(nAe,{children:[f.jsxs(rAe,{visible:u,"data-test":"background-container",children:[f.jsx(sAe,{video:e.video,width:o,height:a}),f.jsx(oAe,{"data-test":"song-artist",children:e.artist}),f.jsx(aAe,{"data-test":"song-title",children:e.title}),f.jsx(n0e,{onFinish:()=>{var b;m(!0),(b=i.current)==null||b.play()}})]}),s.data&&f.jsx(dve,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var A;const b=((A=Fe.getSingSetup())==null?void 0:A.mode)===Nr.CO_OP?[{name:Ve.getPlayers().map(_=>_.getName()).join(", "),score:Fe.getPlayerScore(0)}]:Ve.getPlayers().map(_=>({name:_.getName(),score:Fe.getPlayerScore(_.number)})),y=Fe.getSongCompletionProgress();te.songEnded.dispatch(s.data,t,b,y),c(!0)},singSetup:t,restartSong:r})]})})}const nAe=M("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),rAe=M("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),iAe=M("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),sAe=e=>f.jsx(iAe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),oAe=M(PE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),aAe=M(av,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function lAe(){const e=wy("song"),[t,n]=v.useState(null),[r,i]=v.useState(e??null),[s,o]=v.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",ph(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",uc.flushSync(()=>{n(l)})}),Sx.play(!1)};return ZN(),f.jsxs(f.Fragment,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(xE,{children:t?f.jsx(tAe,{restartSong:()=>{Cs.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(e0e,{onSongSelected:a,preselectedSong:r})})]})}const GM=M("div",{target:"e1x9yhuz2"})({name:"1259b8f",styles:"@media (hover: hover){display:none;}"}),WM=M("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"}),cAe="/assets/screenshot1-DaCeVKxL.webp",uAe="/assets/screenshot2-uopWyjAi.webp",dAe=["2NE1","2Pac feat. Dr. Dre & Roger Troutman","3 Doors Down","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","A Day to Remember","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Adam Lambert","Adele","Aerosmith","Against The Current","Air Supply","AJR","Akon","Akon feat. Eminem","Akon feat. Kardinal Offishall & Colby O’Donis","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alan Walker, K-391 & Emelie Hollow","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low","All Time Low feat. Demi Lovato & Blackbear","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Amy Winehouse feat. Mark Ronson","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Anna Naklab feat. Alle Farben & YouNotUs","Apocalyptica ft. Adam Gontier","Aqua","A.R. Rahman & The Pussycat Dolls feat Nicole Scherzinger","Aram MP3","Arcade Fire","Arctic Monkeys","Aretha Franklin & George Michael","Aretha Franklin & The Blues Brothers Band","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Iggy Azalea","Ariana Grande feat. Mac Miller","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & Justin Bieber","Ariana Grande & The Weeknd","Ashanti","Ashlee Simpson","Ashley Tisdale","Ashley Tisdale (The Little Mermaid)","Asking Alexandria","A★Teens","Audioslave","AURORA","Ava Max","Avantasia","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Bai Sha JAWS","Baldur’s Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bella Thorne","Bellamy Brothers","Ben Dolič","Ben E. King","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyoncé","Beyoncé feat. Jay-Z","Beyoncé & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Idol","Billy Joel","Billy Talent","Bing Crosby","Björnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","Blind Guardian","blink-182","Blink 182","Blondie","Blu Cantrell","Blue Öyster Cult","Blur","Bôa","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bob Seger & The Silver Bullet Band","Bobby “Boris“ Pickett & The Crypt-Kickers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Borislav Slavov (Baldur's Gate 3)","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryan Adams, Rod Stewart & Sting","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Busted","Cailin Russo & Chrissy Costanza","Calum Scott","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Calvin Harris feat. Rihanna","Camila Cabello feat. Daddy Yankee","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Cardi B & Bruno Mars","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Céline Dion","Chappell Roan","Charli XCX","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Benny Benassi","Chris Brown feat. Justin Bieber","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Aguilera feat. Redman","Christina Aguilera, Lil’ Kim, Mya & P!nk (Moulin Rouge)","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Clean Bandit feat. Marina & Luis Fonsi","Clean Bandit feat. Zara Larsson","Clean Bandit featuring  Zara Larsson","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyoncé","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","Daði Freyr","Daði og Gagnamagnið","Daft Punk","Daft Punk feat. Julian Casablancas","Daft Punk feat. Pharrell Williams & Nile Rodgers","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Dana International","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta & Chris Willis feat. Fergie & LMFAO","David Guetta feat. Akon","David Guetta feat. Chris Willis","David Guetta feat. Flo Rida & Nicki Minaj","David Guetta feat. Justin Bieber","David Guetta feat. Kelly Rowland","David Guetta feat. Kid Cudi","David Guetta feat. Nicki Minaj & Afrojack","David Guetta feat. Nicki Minaj","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta feat. Zara Larsson","David Guetta & Sia","David Hasselhoff","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destiny’s Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disney’s Beauty and the Beast","Disney’s Brother Bear","Disney’s Camp Rock (Jonas Brothers)","Disney’s Descendants 2","Disney’s Descendants","Disney’s DuckTales 2017 (Felicia Barton)","Disney’s Encanto ","Disney’s Encanto","Disney’s Frozen","Disney’s Frozen II","Disney’s Hercules","Disney’s High School Musical 3","Disney’s Kim Possible (Christina Milian)","Disney’s Moana (Dwayne Johnson)","Disney's Moana","Disney’s Mulan","Disney’s Phineas & Ferb (Candace Flynn)","Disney’s Phineas & Ferb (Phineas Flynn, Candace Flynn)","Disney's Pocahontas","Disney's Tangled","Disney’s Tarzan","Disney’s Teen Beach Movie","Disney’s The Jungle Book","Disney’s The Lion King","Disturbed","DJ Jazzy Jeff & The Fresh Prince","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","Dove Cameron","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Duran Duran","Echosmith","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Camila Cabello & Cardi B","Eddie Murphy","Edward Maya & Vika Jigulina","Edward Sharpe And The Magnetic Zeros","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enrique Iglesias feat. Pitbull","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Extreme","Faith Hill","Faith No More","Fall Out Boy","Fall Out Boy ","Falling In Reverse","Far East Movement feat. The Cataracs & DEV","Fergie","Fetty Wap","Fifth Harmony feat. Kid Ink","Fifth Harmony feat. Ty Dolla $ign","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Foo Fighters","Fool’s Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Monáe","Fun.","Gandalf","Gary Barlow & Elton John","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","Girls’ Generation (SNSD)","Glee Cast","Glee Cast (Lea Michele & Jake Zyrus)","Glen Hansard And Markéta Irglová","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Grease (John Travolta & Olivia Newton-John)","Green Day","Gréta Salóme & Jónsi","Guns N' Roses","Guns N’ Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Gym Class Heroes feat. Adam Levine","Haddaway & Jim Carrey & The Roxbury Guys","Hailee Steinfeld feat. DNCE","Hailee Steinfeld & Grey feat. Zedd","Hailee Steinfeld","Hamilton","Hanson","Harpo","Harry Styles","Hazbin Hotel","Hazbin Hotel (Black Gryph0n & Baasik)","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Björk","High School Musical 2","High School Musical","Hilary Duff","Hillsong United","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Idina Menzel","Idina Menzel with Michael Bublé","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","INXS","Iron Maiden","ISAAK","Israel Kamakawiwo’ole","Jack Black","Jack Johnson","Jack Ü (Skrillex & Diplo) with Justin Bieber","Jack White","Jagwar Twin","James Arthur","James Blunt","James Morrison feat. Nelly Furtado","James Newton Howard feat. Jennifer Lawrence","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean feat. Sean Paul & Lil Jon","Jay Sean feat. The Rishi Rich Project","Jay Sean","Jay-Z feat. Alicia Keys","Jay-Z feat. Rihanna & Kanye West","Jaymes Young","Jedward","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J feat. Ariana Grande & Nicki Minaj","Jessie J","Jet","Jethro Tull","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joe Cocker","John Cougar Mellencamp","John Denver","John Legend","John Lennon","John Mayer","John Rzeznik ","John Travolta (Grease)","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonas Brothers","Jonas Brothers feat. Miley Cyrus","Jonathan Coulton","Jordin Sparks feat. Chris Brown","Josh Groban","Journey","Joy Division","Julie and the Phantoms","Justin Bieber","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Jaden Smith","Justin Bieber feat. Usher","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Various Artists","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kate Bush","Katrina And The Waves","KATSEYE","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","K/DA ft. Madison Beer, (G)I-DLE, Jaira Burns","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kendrick Lamar & SZA","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde"," Kinect Star Wars (Renee Wagner)","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kyle Justin","Kylie Minogue","La Bouche","La La Land (Ryan Gosling & Emma Stone)","La Roux","Lady Antebellum","Lady Gaga","Lady Gaga & Ariana Grande","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga & Bruno Mars","Lady Gaga feat. Beyoncé","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Les Fatals Picards","Les Misérables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Billy Ray Cyrus","Lil Nas X feat. Miley Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Lindsey Stirling feat. Becky G","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO, Lauren Bennett & Goon Rock","LMFAO","Loïc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","Loverboy","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfør","Machine Gun Kelly feat. blackbear","Macklemore & Ryan Lewis feat. Ray Dalton","Macklemore & Ryan Lewis feat. Wanz","Madcon feat. Ray Dalton","Madcon","Madonna","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Madonna feat. Justin Timberlake & Timbaland","Mae Muller","Magic!","Major Lazer & DJ Snake feat. MØ","Major Lazer feat. Justin Bieber & MØ","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mandy Moore","Måneskin","Manowar","Måns Zelmerlöw","Manuel","Marc Cohn","Marc DeMarco","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Mariah Carey & Whitney Houston","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5 feat. Cardi B","Maroon 5 feat. Christina Aguilera","Maroon 5 feat. Wiz Khalifa","Maroon 5","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meduza x James Carter feat. Elley Duhé + Fast Boy","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Metallica","Metric","Metro Station","M.I.A.","Michael Bublé","Michael Jackson","Michael Jackson feat. Justin Timberlake","Michael Schulte","Michelle Branch","Midnight Oil","Mika feat. Ariana Grande","Mika","Mike Posner","Miley Cyrus","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Mötley Crüe","Moulin Rouge","Mr. Big","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","★N Sync","N-Trance feat. Ricardo Da Force","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","Naughty Boy feat. Sam Smith","Nazareth","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Niall Horan","Nick Cave & The Bad Seeds + Kylie Minogue","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","OK Go","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","OutKast","Owl City & Carly Rae Jepsen","Owl City","Ozzy Osbourne","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Parry Gripp & Brianne Drouhard","Passenger","Pat Benatar","Patrice Rushen","Paul McCartney & Michael Jackson","Paul Simon","Paula Abdul","Pearl Jam","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Philip Bailey with Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. Ne-Yo, Afrojack & Nayer","Pitbull feat. T-Pain","Pixies","Placebo","Placebo feat. David Bowie","Plain White T’s","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFAŁ","Rage Against the Machine","Rage Against The Machine","Rag’n’Bone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Reba McEntire & Kelly Clarkson","Reba McEntire with Brooks & Dunn","Red","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Ricky Martin with Christina Aguilera","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna, Kanye West & Paul McCartney","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","ROSÉ & Bruno Mars","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Scars On Broadway","Scissor Sisters","Scooter vs. Marc Acardipane & Dick Rules","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin’ Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMÉS","Silia Kapsis","Silk Sonic - Bruno Mars & Anderson .Paak","SiM","Simon & Garfunkel","Simple Minds","Simple Plan","Simply Red","Sinéad O’Connor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soulja Boy Tellem feat. Sammie","Soundgarden","Spandau Ballet","Spice Girls","Srbuk","Starship","Steindi","Stella Mwangi","Stephen Sanchez","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sun Stroke Project & Olia Tira","Sunrise Ave","Supergrass","Supertramp","Survivor","Swedish House Mafia & The Weeknd","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Brendon Urie","Taylor Swift feat. Kendrick Lamar","Taylor Swift feat. Post Malone","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent D’Arby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Anxiety (Willow & Tyler Cole)","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Eyed Peas Feat. Justin Timberlake","The Black Keys","The Bloodhound Gang","The Blues Brothers","The Boomtown Rats","The BossHoss","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Champs","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Gregory Brothers feat. Takeo Ischi","The Ink Spots","The Jackson 5","The Jacksons","The Kelly Family","The Kid LAROI feat. Justin Bieber","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Lonely Island feat. Connor4real","The Lonely Island feat. Michael Bolton","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Pogues feat. Kirsty MacColl","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Strokes","The Sweet","The Temptations","The Tony Rich Project","The Verve","The Village People","The Vines","The Weeknd","The Weeknd feat. Ariana Grande","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Timbaland presents OneRepublic","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","Troye Sivan","TryHardNinja feat. CaptainSparklez","Twenty One Pilots","twenty øne piløts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Lil’ Jon & Ludacris","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Victoria Justice & Ariana Grande","Victorious Cast feat. Victoria Justice","Vitamin C","Volbeat","Volbeat feat. Sarah Blackwood","Voyager","Warren Zevon","We Are Domi","We The Kings feat. Demi Lovato","Ween","Weezer","“Weird Al” Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am ","Willie Nelson and Merle Haggard","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zendaya & Bella Thorne","Zoe Wees","ZZ Top"],fAe=["Polish","Korean","English","Japanese","Spanish","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],hAe=3684,tf={artists:dAe,languages:fAe,songs:hAe},pAe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function gAe(){const[e]=Qe(BS),t=zge(NS.SkipInitialSetup),n=li();Fa(!0);const r=t==="test"&&!rs()?"menu/":e===null?"quick-setup/":"menu/";Vr("enter",()=>{n(r)},[r]);const[i,s]=v.useState(!1);return v.useEffect(()=>{const o=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(o)},[]),f.jsxs(Ko,{toolbar:!1,children:[f.jsx(Ti,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(hN,{}),f.jsxs(bAe,{children:[f.jsx(WM,{children:f.jsxs(mAe,{children:[f.jsx(CN,{}),f.jsx(vE,{})]})}),f.jsx(WM,{children:f.jsx(Br,{to:r,children:f.jsx(o1,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(yAe,{children:[f.jsxs(DB,{children:[f.jsxs(vAe,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(Ld,{children:["▸ ",f.jsx("strong",{children:pAe.format(tf.songs)})," songs in"," ",f.jsx("strong",{children:tf.languages.length})," languages",f.jsxs(Nd,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(BB,{options:{strings:tf.artists,autoStart:!0,loop:!0,delay:100}}):tf.artists.at(-1)})]})]}),f.jsxs(Ld,{children:["▸ Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(Nd,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(Ld,{children:["▸ Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(Nd,{children:"No need to download an app"})]}),f.jsxs(Ld,{children:["▸ Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(Nd,{children:"When using phones as microphones"})]}),f.jsxs(Ld,{children:["▸ ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(Nd,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(AAe,{children:[f.jsx("img",{src:cAe,alt:"Song list screen"}),f.jsx("img",{src:uAe,alt:"In-game screen"})]})]}),f.jsxs(SAe,{children:["Using this device as remote microphone?",f.jsx(Br,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(_Ae,{children:[f.jsx(GM,{children:f.jsx(Br,{to:"remote-mic/",children:f.jsx(o1,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx(GM,{children:f.jsx(Br,{to:"quick-setup/",children:f.jsx(o1,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const mAe=M("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),yAe=M("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",Gf,"{width:90%;flex-direction:column;font-size:8.5rem;}",Sy,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),vAe=M("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",Gf,"{font-size:8.5rem;}",Sy,"{font-size:4.9rem;}"),Ld=M("div",{target:"e1n22rxp7"})(""),Nd=M("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),DB=M("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",He,";"),AAe=M(DB,{target:"e1n22rxp4"})(Sy,"{display:none;}",Gf,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",Gf,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),bAe=M("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",Sy,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",ge.colors.text.active,";}"),_Ae=M("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),SAe=M("h3",{target:"e1n22rxp1"})(Gf,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),o1=M(I4,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",T4,";");function xAe(){const e=li(),t=()=>e("menu/"),{register:n}=Wn({onBackspace:t});return f.jsxs(Wa,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Br,{to:"exclude-languages/",children:f.jsx(Re,{...n("exclude-languages",()=>e("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Br,{to:"edit/list/",children:f.jsx(Re,{...n("edit-songs",()=>e("edit/list/")),children:"Edit songs"})}),f.jsx(Br,{to:"convert/",children:f.jsx(Re,{...n("convert-song",()=>e("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Br,{to:"menu/",children:f.jsx(Re,{...n("back-button",t),children:"Return To Main Menu"})})]})}var uv={exports:{}};uv.exports=VE;uv.exports.isMobile=VE;uv.exports.default=VE;const wAe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,EAe=/CrOS/,CAe=/android|ipad|playbook|silk/i;function VE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=wAe.test(t)&&!EAe.test(t)||!!e.tablet&&CAe.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var kAe=uv.exports;const TAe=gr(kAe);function IAe(){const[,e]=Qe(mr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Ko,{children:f.jsx(PAe,{children:f.jsxs(MAe,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(qM,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(qM,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const qM=M(Re,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),PAe=M("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),MAe=M(fs,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function RAe(){const[e]=Qe(mr),t=v.useMemo(()=>TAe(),[]),n=li(),r=async i=>{var s,o;if(n("menu/"),e&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((o=(s=global.screen.orientation).lock)==null?void 0:o.call(s,"landscape"))}catch(a){console.info(a)}};return f.jsxs(f.Fragment,{children:[f.jsx(Ti,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),e===null&&t?f.jsx(IAe,{}):f.jsx(Wa,{children:f.jsx(TE,{onFinish:r,closeButtonText:"Sing a song",smooth:!0})})]})}function jAe(){qa(!1);const e=li(),t=()=>e("settings/"),{register:n}=Wn({onBackspace:t}),[r,i]=Qe(gm),[s,o]=Qe(H5),a=Ci(te.inputListChanged,()=>nt.getRemoteMics()),l=EO();return v.useEffect(()=>nt.addListener(l),[l]),f.jsxs(Wa,{children:[f.jsx("h1",{onClick:()=>{const c=prompt("Code");(c==null?void 0:c.length)===ff-1&&(Vj(c),global.location.reload())},children:"Remote Microphone Settings"}),f.jsx(Yi,{...n("connection type",()=>i(Ml(g6,r))),label:"Connection type",value:r}),f.jsx("hr",{}),f.jsx(Yi,{...n("default-permission",()=>o(Ml(u2,s))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),a.map(c=>{const u=nt.getPermission(c.id);return f.jsx(LAe,{...n(`mic-${c.id}`,()=>nt.setPermission(c.id,Ml(u2,u)),"Change permissions"),"data-test":"remote-mic-entry","data-id":c.id,value:u,label:f.jsxs(VAe,{children:[f.jsx(BAe,{children:c.id.slice(-4)}),f.jsx(DAe,{children:f.jsx(OAe,{deviceId:c.id})}),f.jsx(NAe,{className:"ph-no-capture",children:c.name})]})},c.id)}),a.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Re,{...n("back-button",t),children:"Return To Settings"})]})}const OAe=({deviceId:e})=>{const t=uB(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},VAe=M("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),LAe=M(Yi,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),NAe=M("span",{target:"expzhs32"})(""),BAe=M("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),DAe=M("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),a1=2500,$Ae=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*a1)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:je.eurovisionPink.text},{offset:"25%",color:je.eurovisionYellow.text},{offset:"50%",color:je.eurovisionPink.text},{offset:"75%",color:je.eurovisionOrange.text},{offset:"100%",color:je.eurovisionPink.text}];return f.jsxs("svg",{width:a1,height:a1,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},FAe=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function zAe(){return Fa(!1),f.jsxs(Ko,{children:[f.jsxs(UAe,{children:[f.jsx(HAe,{dangerouslySetInnerHTML:{__html:FAe}}),f.jsx($B,{children:f.jsx(Pb,{})})]}),f.jsxs(WAe,{children:[f.jsx(GAe,{children:f.jsx(Pb,{})}),f.jsx(vE,{}),f.jsx(qAe,{src:nB,alt:"Eurovision"})]}),f.jsx($Ae,{})]})}const UAe=M("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),$B=M("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,je.eurovisionViolet.text,`,
      `,je.eurovisionBlue.text,`,
      `,je.eurovisionYellow.text,`,
      `,je.eurovisionBlue.text,`,
      `,je.eurovisionViolet.text,`
    );}`),HAe=M("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",je.red.text,"!important;}path:nth-of-type(2){fill:",je.blue.text,"!important;}"),GAe=M($B,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,je.eurovisionPink.text,`,
      `,je.eurovisionOrange.text,`,
      `,je.eurovisionYellow.text,`,
      `,je.eurovisionPink.text,`
    );}`),WAe=M("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,je.red.stroke,`,
    `,je.red.hit.fill,` 49.9%,
    `,je.blue.hit.fill,` 50.1%,
    `,je.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),qAe=M("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),KAe=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function YAe(){const[e]=Qe(mr),[t,n]=v.useState(!1),[r,i]=v.useState(180),s=v.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return v.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(QAe,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:KAe(450,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/450})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const QAe=M(fs,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function JAe(){Fa(!0);const e=li();qa(!1);const{register:t}=Wn();return f.jsxs(Wa,{children:[f.jsxs(Ti,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),f.jsxs(XAe,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:"• Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:["• Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(YAe,{}),f.jsxs(f.Fragment,{children:[f.jsx(Br,{to:"game/",children:f.jsx(Re,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),f.jsx(Br,{to:"select-input/",children:f.jsx(Re,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),f.jsx(Br,{to:"settings/",children:f.jsx(Re,{...t("settings",()=>e("settings/")),children:"Settings"})}),f.jsx(Br,{to:"jukebox/",children:f.jsx(Re,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),f.jsx(Br,{to:"manage-songs/",children:f.jsx(Re,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const XAe=M("div",{target:"e1g7uwpd0"})(He,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Wr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},ZAe=v.lazy(()=>td(()=>import("./SongManagement-BZbR7NN5.js"),[]).then(e=>({default:e.SongList})));function e1e(){Qe(mr);const[e]=Qe(Wi),t=v.useMemo(()=>rw({graphicSetting:e}),[e]);return f.jsx(Cce,{theme:t,children:f.jsx(ax,{fallback:nge,children:f.jsx(rZ,{children:f.jsx(YX,{children:f.jsx(boe,{base:"/",children:f.jsxs(_oe,{children:[f.jsx(br,{path:Wr.QUICK_SETUP,component:RAe}),f.jsx(br,{path:Wr.MENU,component:JAe}),f.jsx(br,{path:Wr.EXCLUDE_LANGUAGES,component:sge}),f.jsx(br,{path:Wr.JUKEBOX,component:xpe}),f.jsx(br,{path:Wr.GAME,children:f.jsx(lAe,{})}),f.jsx(br,{path:Wr.SELECT_INPUT,component:tge}),f.jsx(br,{path:Wr.SETTINGS,component:Vde}),f.jsx(br,{path:Wr.SETTINGS_REMOTE_MICS,component:jAe}),f.jsx(br,{path:Wr.REMOTE_MIC,component:zue}),f.jsx(br,{path:Wr.MANAGE_SONGS,component:xAe}),f.jsx(br,{path:"social-media-elements",component:zAe}),f.jsx(br,{path:Wr.CONVERT,component:()=>f.jsx(Ude,{})}),f.jsx(br,{path:Wr.EDIT_SONGS_LIST,component:()=>f.jsx(v.Suspense,{fallback:f.jsx(TN,{}),children:f.jsx(ZAe,{})})}),f.jsx(br,{path:"edit/get-songs-bpms",component:ige}),f.jsx(br,{path:Wr.EDIT_SONG,children:f.jsx(yhe,{})}),f.jsx(br,{path:Wr.INDEX,component:gAe})]})})})})})})}const t1e=MH(e1e),n1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var FB,KM=uc;FB=KM.createRoot,KM.hydrateRoot;lH({integrations:[iH({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:n1e,tracesSampleRate:rs()?0:.01,environment:rs()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});rs()||Mn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Ne.local.getItem("posthog-user-id");t||(t=Pm(),Ne.local.setItem("posthog-user-id",t)),e.identify(t);let n=Ne.local.getItem("posthog-user-name");if(!n){const r=[...new Set(tf.artists.flatMap(i=>Tj(i).split("-")))].filter(i=>i.length<=10);n=new Array(Ps(3,5)).fill(0).map(()=>r[Ps(0,r.length-1)]).join("-"),Ne.local.setItem("posthog-user-name",n),e.alias(n,t)}Oz({id:t})}});const r1e=Xj({key:"ec",speedy:!zN}),i1e=document.getElementById("root"),s1e=FB(i1e);s1e.render(f.jsxs(XK,{value:r1e,children:[f.jsx(t1e,{}),f.jsx(bb,{position:$t.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{BN as $,Ur as A,kr as B,XK as C,Nh as D,lie as E,cV as F,Te as G,Rm as H,iw as I,Mo as J,Tr as K,ht as L,Jt as M,nv as N,at as O,Xe as P,ss as Q,Xg as R,Ei as S,Wo as T,Ir as U,x0 as V,Ky as W,Jx as X,Xx as Y,Kf as Z,uV as _,OZ as a,Qfe as a$,sw as a0,$m as a1,p4 as a2,rw as a3,TZ as a4,Nm as a5,b1e as a6,Ul as a7,ow as a8,CZ as a9,cd as aA,Rl as aB,Og as aC,ofe as aD,afe as aE,JG as aF,Pa as aG,$f as aH,RN as aI,tfe as aJ,Xde as aK,Qde as aL,rfe as aM,Nr as aN,nd as aO,dve as aP,Fa as aQ,li as aR,qa as aS,wy as aT,hZ as aU,lE as aV,mhe as aW,uc as aX,jte as aY,VN as aZ,xfe as a_,Hl as aa,EZ as ab,Hx as ac,Cfe as ad,rM as ae,Dfe as af,A1e as ag,Kte as ah,SZ as ai,Efe as aj,Es as ak,Nc as al,Ux as am,jT as an,M as ao,eM as ap,fE as aq,Mk as ar,Ys as as,It as at,Mb as au,x1e as av,PZ as aw,FO as ax,Fe as ay,Zq as az,RZ as b,Xv as b0,Xw as b1,Wfe as b2,WA as b3,nhe as b4,IT as b5,oc as b6,us as b7,Rce as b8,uae as b9,phe as ba,Tse as bb,kse as bc,$N as bd,v0 as be,Ts as bf,Ti as bg,xE as bh,w1e as bi,ghe as bj,Mn as bk,Hde as bl,rq as c,Xj as d,pK as e,Pee as f,gx as g,Gl as h,KO as i,f as j,kee as k,St as l,jZ as m,zee as n,Bm as o,qO as p,Rb as q,v as r,Ne as s,Yx as t,Ra as u,Bo as v,v1e as w,qx as x,ti as y,y1e as z};
//# sourceMappingURL=index-7Hk-3cF1.js.map
