const __vite__fileDeps=["assets/ConvertView-u2JNDOsf.js","assets/ShareSongsModal-DxBQZRlt.js","assets/SongList-CExiVVUl.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function Q$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fs(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var RR={exports:{}},Vm={},MR={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=Symbol.for("react.element"),J$=Symbol.for("react.portal"),X$=Symbol.for("react.fragment"),Z$=Symbol.for("react.strict_mode"),eB=Symbol.for("react.profiler"),tB=Symbol.for("react.provider"),nB=Symbol.for("react.context"),rB=Symbol.for("react.forward_ref"),iB=Symbol.for("react.suspense"),sB=Symbol.for("react.memo"),oB=Symbol.for("react.lazy"),CE=Symbol.iterator;function aB(e){return e===null||typeof e!="object"?null:(e=CE&&e[CE]||e["@@iterator"],typeof e=="function"?e:null)}var jR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OR=Object.assign,VR={};function mu(e,t,n){this.props=e,this.context=t,this.refs=VR,this.updater=n||jR}mu.prototype.isReactComponent={};mu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LR(){}LR.prototype=mu.prototype;function db(e,t,n){this.props=e,this.context=t,this.refs=VR,this.updater=n||jR}var fb=db.prototype=new LR;fb.constructor=db;OR(fb,mu.prototype);fb.isPureReactComponent=!0;var TE=Array.isArray,NR=Object.prototype.hasOwnProperty,hb={current:null},$R={key:!0,ref:!0,__self:!0,__source:!0};function BR(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)NR.call(t,r)&&!$R.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Kf,type:e,key:s,ref:o,props:i,_owner:hb.current}}function lB(e,t){return{$$typeof:Kf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kf}function cB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var IE=/\/+/g;function Ov(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cB(""+e.key):t.toString(36)}function Vp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kf:case J$:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ov(o,0):r,TE(i)?(n="",e!=null&&(n=e.replace(IE,"$&/")+"/"),Vp(i,t,n,"",function(c){return c})):i!=null&&(pb(i)&&(i=lB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(IE,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",TE(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Ov(s,a);o+=Vp(s,t,n,l,i)}else if(l=aB(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Ov(s,a++),o+=Vp(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Rh(e,t,n){if(e==null)return e;var r=[],i=0;return Vp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function uB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var br={current:null},Lp={transition:null},dB={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:Lp,ReactCurrentOwner:hb};et.Children={map:Rh,forEach:function(e,t,n){Rh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rh(e,function(){t++}),t},toArray:function(e){return Rh(e,function(t){return t})||[]},only:function(e){if(!pb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=mu;et.Fragment=X$;et.Profiler=eB;et.PureComponent=db;et.StrictMode=Z$;et.Suspense=iB;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dB;et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=OR({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=hb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)NR.call(t,l)&&!$R.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Kf,type:e.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(e){return e={$$typeof:nB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tB,_context:e},e.Consumer=e};et.createElement=BR;et.createFactory=function(e){var t=BR.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:rB,render:e}};et.isValidElement=pb;et.lazy=function(e){return{$$typeof:oB,_payload:{_status:-1,_result:e},_init:uB}};et.memo=function(e,t){return{$$typeof:sB,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Lp.transition;Lp.transition={};try{e()}finally{Lp.transition=t}};et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};et.useCallback=function(e,t){return br.current.useCallback(e,t)};et.useContext=function(e){return br.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return br.current.useDeferredValue(e)};et.useEffect=function(e,t){return br.current.useEffect(e,t)};et.useId=function(){return br.current.useId()};et.useImperativeHandle=function(e,t,n){return br.current.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return br.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return br.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return br.current.useMemo(e,t)};et.useReducer=function(e,t,n){return br.current.useReducer(e,t,n)};et.useRef=function(e){return br.current.useRef(e)};et.useState=function(e){return br.current.useState(e)};et.useSyncExternalStore=function(e,t,n){return br.current.useSyncExternalStore(e,t,n)};et.useTransition=function(){return br.current.useTransition()};et.version="18.2.0";MR.exports=et;var _=MR.exports;const Pe=lr(_),mg=Q$({__proto__:null,default:Pe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fB=_,hB=Symbol.for("react.element"),pB=Symbol.for("react.fragment"),gB=Object.prototype.hasOwnProperty,mB=fB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vB={key:!0,ref:!0,__self:!0,__source:!0};function DR(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gB.call(t,r)&&!vB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:hB,type:e,key:s,ref:o,props:i,_owner:mB.current}}Vm.Fragment=pB;Vm.jsx=DR;Vm.jsxs=DR;RR.exports=Vm;var f=RR.exports;function yB(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function AB(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var _B=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=yB(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ir="-ms-",vg="-moz-",ct="-webkit-",FR="comm",gb="rule",mb="decl",bB="@import",zR="@keyframes",xB="@layer",SB=Math.abs,Lm=String.fromCharCode,wB=Object.assign;function EB(e,t){return Yn(e,0)^45?(((t<<2^Yn(e,0))<<2^Yn(e,1))<<2^Yn(e,2))<<2^Yn(e,3):0}function UR(e){return e.trim()}function kB(e,t){return(e=t.exec(e))?e[0]:e}function ut(e,t,n){return e.replace(t,n)}function SA(e,t){return e.indexOf(t)}function Yn(e,t){return e.charCodeAt(t)|0}function Zd(e,t,n){return e.slice(t,n)}function ys(e){return e.length}function vb(e){return e.length}function Mh(e,t){return t.push(e),e}function CB(e,t){return e.map(t).join("")}var Nm=1,zc=1,HR=0,Or=0,wn=0,vu="";function $m(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Nm,column:zc,length:o,return:""}}function Nu(e,t){return wB($m("",null,null,"",null,null,0),e,{length:-e.length},t)}function TB(){return wn}function IB(){return wn=Or>0?Yn(vu,--Or):0,zc--,wn===10&&(zc=1,Nm--),wn}function Yr(){return wn=Or<HR?Yn(vu,Or++):0,zc++,wn===10&&(zc=1,Nm++),wn}function Is(){return Yn(vu,Or)}function Np(){return Or}function Yf(e,t){return Zd(vu,e,t)}function ef(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GR(e){return Nm=zc=1,HR=ys(vu=e),Or=0,[]}function qR(e){return vu="",e}function $p(e){return UR(Yf(Or-1,wA(e===91?e+2:e===40?e+1:e)))}function PB(e){for(;(wn=Is())&&wn<33;)Yr();return ef(e)>2||ef(wn)>3?"":" "}function RB(e,t){for(;--t&&Yr()&&!(wn<48||wn>102||wn>57&&wn<65||wn>70&&wn<97););return Yf(e,Np()+(t<6&&Is()==32&&Yr()==32))}function wA(e){for(;Yr();)switch(wn){case e:return Or;case 34:case 39:e!==34&&e!==39&&wA(wn);break;case 40:e===41&&wA(e);break;case 92:Yr();break}return Or}function MB(e,t){for(;Yr()&&e+wn!==57;)if(e+wn===84&&Is()===47)break;return"/*"+Yf(t,Or-1)+"*"+Lm(e===47?e:Yr())}function jB(e){for(;!ef(Is());)Yr();return Yf(e,Or)}function OB(e){return qR(Bp("",null,null,null,[""],e=GR(e),0,[0],e))}function Bp(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,A=1,v=1,y=0,b="",S=i,x=s,w=r,E=b;A;)switch(g=y,y=Yr()){case 40:if(g!=108&&Yn(E,d-1)==58){SA(E+=ut($p(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=$p(y);break;case 9:case 10:case 13:case 32:E+=PB(g);break;case 92:E+=RB(Np()-1,7);continue;case 47:switch(Is()){case 42:case 47:Mh(VB(MB(Yr(),Np()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=ys(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:A=0;case 59+u:v==-1&&(E=ut(E,/\f/g,"")),p>0&&ys(E)-d&&Mh(p>32?RE(E+";",r,n,d-1):RE(ut(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Mh(w=PE(E,t,n,c,u,i,a,b,S=[],x=[],d),s),y===123)if(u===0)Bp(E,t,w,w,S,s,d,a,x);else switch(h===99&&Yn(E,3)===110?100:h){case 100:case 108:case 109:case 115:Bp(e,w,w,r&&Mh(PE(e,w,w,0,0,i,a,b,i,S=[],d),x),i,x,d,a,r?S:x);break;default:Bp(E,w,w,w,[""],x,0,a,x)}}c=u=p=0,m=v=1,b=E="",d=o;break;case 58:d=1+ys(E),p=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&IB()==125)continue}switch(E+=Lm(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(ys(E)-1)*v,v=1;break;case 64:Is()===45&&(E+=$p(Yr())),h=Is(),u=d=ys(b=E+=jB(Np())),y++;break;case 45:g===45&&ys(E)==2&&(m=0)}}return s}function PE(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=vb(h),g=0,m=0,A=0;g<r;++g)for(var v=0,y=Zd(e,d+1,d=SB(m=o[g])),b=e;v<p;++v)(b=UR(m>0?h[v]+" "+y:ut(y,/&\f/g,h[v])))&&(l[A++]=b);return $m(e,t,n,i===0?gb:a,l,c,u)}function VB(e,t,n){return $m(e,t,n,FR,Lm(TB()),Zd(e,2,-2),0)}function RE(e,t,n,r){return $m(e,t,n,mb,Zd(e,0,r),Zd(e,r+1,-1),r)}function xc(e,t){for(var n="",r=vb(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function LB(e,t,n,r){switch(e.type){case xB:if(e.children.length)break;case bB:case mb:return e.return=e.return||e.value;case FR:return"";case zR:return e.return=e.value+"{"+xc(e.children,r)+"}";case gb:e.value=e.props.join(",")}return ys(n=xc(e.children,r))?e.return=e.value+"{"+n+"}":""}function NB(e){var t=vb(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function $B(e){return function(t){t.root||(t=t.return)&&e(t)}}function WR(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var BB=function(t,n,r){for(var i=0,s=0;i=s,s=Is(),i===38&&s===12&&(n[r]=1),!ef(s);)Yr();return Yf(t,Or)},DB=function(t,n){var r=-1,i=44;do switch(ef(i)){case 0:i===38&&Is()===12&&(n[r]=1),t[r]+=BB(Or-1,n,r);break;case 2:t[r]+=$p(i);break;case 4:if(i===44){t[++r]=Is()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Lm(i)}while(i=Yr());return t},FB=function(t,n){return qR(DB(GR(t),n))},ME=new WeakMap,zB=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!ME.get(r))&&!i){ME.set(t,!0);for(var s=[],o=FB(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},UB=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function KR(e,t){switch(EB(e,t)){case 5103:return ct+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+e+vg+e+ir+e+e;case 6828:case 4268:return ct+e+ir+e+e;case 6165:return ct+e+ir+"flex-"+e+e;case 5187:return ct+e+ut(e,/(\w+).+(:[^]+)/,ct+"box-$1$2"+ir+"flex-$1$2")+e;case 5443:return ct+e+ir+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return ct+e+ir+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return ct+e+ir+ut(e,"shrink","negative")+e;case 5292:return ct+e+ir+ut(e,"basis","preferred-size")+e;case 6060:return ct+"box-"+ut(e,"-grow","")+ct+e+ir+ut(e,"grow","positive")+e;case 4554:return ct+ut(e,/([^-])(transform)/g,"$1"+ct+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+ir+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,ct+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ys(e)-1-t>6)switch(Yn(e,t+1)){case 109:if(Yn(e,t+4)!==45)break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+vg+(Yn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~SA(e,"stretch")?KR(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Yn(e,t+1)!==115)break;case 6444:switch(Yn(e,ys(e)-3-(~SA(e,"!important")&&10))){case 107:return ut(e,":",":"+ct)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(Yn(e,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+ir+"$2box$3")+e}break;case 5936:switch(Yn(e,t+11)){case 114:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ct+e+ir+e+e}return e}var HB=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case mb:t.return=KR(t.value,t.length);break;case zR:return xc([Nu(t,{value:ut(t.value,"@","@"+ct)})],i);case gb:if(t.length)return CB(t.props,function(s){switch(kB(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xc([Nu(t,{props:[ut(s,/:(read-\w+)/,":"+vg+"$1")]})],i);case"::placeholder":return xc([Nu(t,{props:[ut(s,/:(plac\w+)/,":"+ct+"input-$1")]}),Nu(t,{props:[ut(s,/:(plac\w+)/,":"+vg+"$1")]}),Nu(t,{props:[ut(s,/:(plac\w+)/,ir+"input-$1")]})],i)}return""})}},GB=[HB],yb=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var A=m.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||GB,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var A=m.getAttribute("data-emotion").split(" "),v=1;v<A.length;v++)s[A[v]]=!0;a.push(m)});var l,c=[zB,UB];{var u,d=[LB,$B(function(m){u.insert(m)})],h=NB(c.concat(i,d)),p=function(A){return xc(OB(A),h)};l=function(A,v,y,b){u=y,p(A?A+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new _B({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}var YR={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Un=typeof Symbol=="function"&&Symbol.for,Ab=Un?Symbol.for("react.element"):60103,_b=Un?Symbol.for("react.portal"):60106,Bm=Un?Symbol.for("react.fragment"):60107,Dm=Un?Symbol.for("react.strict_mode"):60108,Fm=Un?Symbol.for("react.profiler"):60114,zm=Un?Symbol.for("react.provider"):60109,Um=Un?Symbol.for("react.context"):60110,bb=Un?Symbol.for("react.async_mode"):60111,Hm=Un?Symbol.for("react.concurrent_mode"):60111,Gm=Un?Symbol.for("react.forward_ref"):60112,qm=Un?Symbol.for("react.suspense"):60113,qB=Un?Symbol.for("react.suspense_list"):60120,Wm=Un?Symbol.for("react.memo"):60115,Km=Un?Symbol.for("react.lazy"):60116,WB=Un?Symbol.for("react.block"):60121,KB=Un?Symbol.for("react.fundamental"):60117,YB=Un?Symbol.for("react.responder"):60118,QB=Un?Symbol.for("react.scope"):60119;function ni(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ab:switch(e=e.type,e){case bb:case Hm:case Bm:case Fm:case Dm:case qm:return e;default:switch(e=e&&e.$$typeof,e){case Um:case Gm:case Km:case Wm:case zm:return e;default:return t}}case _b:return t}}}function QR(e){return ni(e)===Hm}vt.AsyncMode=bb;vt.ConcurrentMode=Hm;vt.ContextConsumer=Um;vt.ContextProvider=zm;vt.Element=Ab;vt.ForwardRef=Gm;vt.Fragment=Bm;vt.Lazy=Km;vt.Memo=Wm;vt.Portal=_b;vt.Profiler=Fm;vt.StrictMode=Dm;vt.Suspense=qm;vt.isAsyncMode=function(e){return QR(e)||ni(e)===bb};vt.isConcurrentMode=QR;vt.isContextConsumer=function(e){return ni(e)===Um};vt.isContextProvider=function(e){return ni(e)===zm};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ab};vt.isForwardRef=function(e){return ni(e)===Gm};vt.isFragment=function(e){return ni(e)===Bm};vt.isLazy=function(e){return ni(e)===Km};vt.isMemo=function(e){return ni(e)===Wm};vt.isPortal=function(e){return ni(e)===_b};vt.isProfiler=function(e){return ni(e)===Fm};vt.isStrictMode=function(e){return ni(e)===Dm};vt.isSuspense=function(e){return ni(e)===qm};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bm||e===Hm||e===Fm||e===Dm||e===qm||e===qB||typeof e=="object"&&e!==null&&(e.$$typeof===Km||e.$$typeof===Wm||e.$$typeof===zm||e.$$typeof===Um||e.$$typeof===Gm||e.$$typeof===KB||e.$$typeof===YB||e.$$typeof===QB||e.$$typeof===WB)};vt.typeOf=ni;YR.exports=vt;var JB=YR.exports,xb=JB,XB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Sb={};Sb[xb.ForwardRef]=eD;Sb[xb.Memo]=JR;function jE(e){return xb.isMemo(e)?JR:Sb[e.$$typeof]||XB}var tD=Object.defineProperty,nD=Object.getOwnPropertyNames,OE=Object.getOwnPropertySymbols,rD=Object.getOwnPropertyDescriptor,iD=Object.getPrototypeOf,VE=Object.prototype;function XR(e,t,n){if(typeof t!="string"){if(VE){var r=iD(t);r&&r!==VE&&XR(e,r,n)}var i=nD(t);OE&&(i=i.concat(OE(t)));for(var s=jE(e),o=jE(t),a=0;a<i.length;++a){var l=i[a];if(!ZB[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=rD(t,l);try{tD(e,l,c)}catch{}}}}return e}var sD=XR;const oD=lr(sD);var aD=!0;function lD(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var ZR=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||aD===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},eM=function(t,n,r){ZR(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function cD(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var uD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dD=/[A-Z]|^ms/g,fD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tM=function(t){return t.charCodeAt(1)===45},LE=function(t){return t!=null&&typeof t!="boolean"},Vv=WR(function(e){return tM(e)?e:e.replace(dD,"-$&").toLowerCase()}),NE=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(fD,function(r,i,s){return As={name:i,styles:s,next:As},i})}return uD[t]!==1&&!tM(t)&&typeof n=="number"&&n!==0?n+"px":n};function tf(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return As={name:n.name,styles:n.styles,next:As},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)As={name:r.name,styles:r.styles,next:As},r=r.next;var i=n.styles+";";return i}return hD(e,t,n)}case"function":{if(e!==void 0){var s=As,o=n(e);return As=s,tf(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function hD(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=tf(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":LE(o)&&(r+=Vv(s)+":"+NE(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)LE(o[a])&&(r+=Vv(s)+":"+NE(s,o[a])+";");else{var l=tf(e,t,o);switch(s){case"animation":case"animationName":{r+=Vv(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var $E=/label:\s*([^\s;\n{]+)\s*(;|$)/g,As,wb=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";As=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=tf(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=tf(r,n,t[a]),i&&(s+=o[a]);$E.lastIndex=0;for(var l="",c;(c=$E.exec(s))!==null;)l+="-"+c[1];var u=cD(s)+l;return{name:u,styles:s,next:As}},pD=function(t){return t()},nM=mg.useInsertionEffect?mg.useInsertionEffect:!1,gD=nM||pD,BE=nM||_.useLayoutEffect,rM=_.createContext(typeof HTMLElement<"u"?yb({key:"css"}):null),iM=rM.Provider,sM=function(t){return _.forwardRef(function(n,r){var i=_.useContext(rM);return t(n,i,r)})},Qf=_.createContext({}),oM=sM(function(e,t){var n=e.styles,r=wb([n],void 0,_.useContext(Qf)),i=_.useRef();return BE(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),BE(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&eM(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wb(t)}var Ao=function(){var t=Vt.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};class _o{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const EA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()}});class kA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const DE=EA((global==null?void 0:global.localStorage)??new kA),Oe={...DE,local:DE,session:EA((global==null?void 0:global.sessionStorage)??new kA),memory:EA(new kA)},CA="CAMERA_GRANT_KEY",FE=Oe.local.getItem(CA);class mD extends _o{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=FE!==null?JSON.parse(FE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Oe.local.setItem(CA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Oe.local.setItem(CA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Qi=new mD;function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nf(e){return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t&&UE(e.prototype,t),n&&UE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vD(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,o,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(s=i.next()).done)&&(a.push(s.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw o}}return a}}(e,t)||Eb(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uc(e){return function(t){if(Array.isArray(t))return TA(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Eb(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Eb(e,t){if(e){if(typeof e=="string")return TA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TA(e,t):void 0}}function TA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function os(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Eb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}var Ba={DEBUG:!1,LIB_VERSION:"1.130.0"},yD=Array.isArray,aM=Object.prototype,lM=aM.hasOwnProperty,Ym=aM.toString,Mn=yD||function(e){return Ym.call(e)==="[object Array]"},es=function(e){return typeof e=="function"},Es=function(e){return e===Object(e)&&!Mn(e)},Lv=function(e){if(Es(e)){for(var t in e)if(lM.call(e,t))return!1;return!0}return!1},Fe=function(e){return e===void 0},or=function(e){return Ym.call(e)=="[object String]"},ts=function(e){return e===null},Wo=function(e){return Fe(e)||ts(e)},qi=function(e){return Ym.call(e)=="[object Number]"},Dp=function(e){return Ym.call(e)==="[object Boolean]"},AD=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,kr=typeof globalThis<"u"?globalThis:X,cM=Array.prototype,HE=cM.forEach,GE=cM.indexOf,rf=kr==null?void 0:kr.navigator,Ee=kr==null?void 0:kr.document,gi=kr==null?void 0:kr.location,kb=kr==null?void 0:kr.fetch,Cb=kr!=null&&kr.XMLHttpRequest&&"withCredentials"in new kr.XMLHttpRequest?kr.XMLHttpRequest:void 0,qE=kr==null?void 0:kr.AbortController,cn=rf==null?void 0:rf.userAgent,zr=X??{},WE="[PostHog.js]",me={_log:function(e){if(X&&(Ba.DEBUG||zr.POSTHOG_DEBUG)&&!Fe(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[WE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[WE].concat(n))},uninitializedWarning:function(e){me.error("You must initialize PostHog before calling ".concat(e))}},yg={},Qm=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Sc(e,t,n){if(Mn(e)){if(HE&&e.forEach===HE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===yg)return}}}function It(e,t,n){if(!Wo(e)){if(Mn(e))return Sc(e,t,n);if(AD(e)){var r,i=os(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===yg)return}}catch(a){i.e(a)}finally{i.f()}}else for(var o in e)if(lM.call(e,o)&&t.call(n,e[o],o)===yg)return}}var Nn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sc(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function ot(e,t){return e.indexOf(t)!==-1}function Fp(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var uM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},KE=function(e){try{return e()}catch{return}},_D=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){me.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),me.critical(i)}}},IA=function(e){var t={};return It(e,function(n,r){or(n)&&n.length>0&&(t[r]=n)}),t};function bD(e,t){return n=e,r=function(s){return or(s)&&!ts(t)?s.slice(0,t):s},i=new Set,function s(o,a){return o!==Object(o)?r?r(o,a):o:i.has(o)?void 0:(i.add(o),Mn(o)?(l=[],Sc(o,function(c){l.push(s(c))})):(l={},It(o,function(c,u){i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var Ki,xD=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),ts(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},Js=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;es(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else me.error("No valid element provided to register_event")}}();function sf(e,t){var n=function(){if(!Ee)return t("document not found");var r=Ee.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var i,s=Ee.querySelectorAll("body > script");s.length>0?(i=s[0].parentNode)===null||i===void 0||i.insertBefore(r,s[0]):Ee.body.appendChild(r)};Ee!=null&&Ee.body?n():Ee==null||Ee.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Ki||(Ki={}));var dM="$people_distinct_id",ld="__alias",cd="__timers",YE="$autocapture_disabled_server_side",PA="$heatmaps_enabled_server_side",RA="$session_recording_enabled_server_side",QE="$console_log_recording_enabled_server_side",JE="$session_recording_network_payload_capture",XE="$session_recording_canvas_recording",ZE="$replay_sample_rate",e2="$replay_minimum_duration",Ag="$sesid",kd="$session_is_sampled",ec="$enabled_feature_flags",MA="$early_access_features",tc="$stored_person_properties",Mo="$stored_group_properties",jA="$surveys",_g="$flag_call_reported",qs="$user_state",OA="$client_session_props",VA="$capture_rate_limit",LA="$initial_campaign_params",NA="$initial_referrer_info",bg="$epp",SD=[dM,ld,"__cmpns",cd,RA,PA,Ag,ec,qs,MA,Mo,tc,jA,_g,OA,VA,LA,NA,bg],Nv="$active_feature_flags",jh="$override_feature_flags",t2="$feature_flag_payloads",n2=function(e){var t,n={},r=os(Fp(e||{}));try{for(r.s();!(t=r.n()).done;){var i=mr(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(a){r.e(a)}finally{r.f()}return n},wD=function(){function e(t){Lt(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Nt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(ec),n=this.instance.get_property(jh);if(!n)return t||{};for(var r=Nn({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(me.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(t2)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(tc),i=this.instance.get_property(Mo),s={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:s,compression:this.instance.config.disable_compression?void 0:Ki.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(o){var a;t.setReloadingPaused(!1);var l=!0;o.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(_g)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&(Mn(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register(ie({},_g,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}me.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);me.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,d=s.featureFlagPayloads;if(u)if(Mn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;o&&o.register((ie(h={},Nv,u),ie(h,ec,p),h))}else{var m=u,A=d;s.errorsWhileComputingFlags&&(m=Ce(Ce({},l),m),A=Ce(Ce({},c),A)),o&&o.register((ie(a={},Nv,Object.keys(n2(m))),ie(a,ec,m||{}),ie(a,t2,A||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return me.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(jh);else if(Mn(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(ie({},jh,n))}else this.instance.persistence.register(ie({},jh,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,s=r.flagVariants;t(i,s)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,s=ie({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=Ce(Ce({},this.getFlagVariants()),{},ie({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((ie(i={},Nv,Object.keys(n2(o))),ie(i,ec,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(MA);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(s){var o;if(s.json){var a=s.json.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},MA,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(tc)||{};this.instance.register(ie({},tc,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(tc)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Mo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=Ce(Ce({},r[i]),t[i]),delete t[i]}),this.instance.register(ie({},Mo,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(Mo)||{};this.instance.register(ie({},Mo,Ce(Ce({},n),{},ie({},t,{}))))}else this.instance.unregister(Mo)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return qi(e)&&isFinite(e)&&Math.floor(e)===e});var r2="0123456789abcdef",ED=function(){function e(t){if(Lt(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return Nt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+r2.charAt(this.bytes[n]>>>4)+r2.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),kD=function(){function e(){Lt(this,e),ie(this,"timestamp",0),ie(this,"counter",0),ie(this,"random",new CD)}return Nt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(Fe(t)){this.timestamp=0;var n=this.generateOrAbort();if(Fe(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return ED.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),fM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!Fe(X.crypto)&&crypto.getRandomValues&&(fM=function(e){return crypto.getRandomValues(e)});var i2,CD=function(){function e(){Lt(this,e),ie(this,"buffer",new Uint32Array(8)),ie(this,"cursor",1/0)}return Nt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(fM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Fo=function(){return TD().toString()},TD=function(){return(i2||(i2=new kD)).generate()},ID="Thu, 01 Jan 1970 00:00:00 GMT",$u="",PD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function RD(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee;if($u)return $u;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Fo(),c=new RegExp("(^|;)\\s*"+l+"=1");!$u&&a--;){var u=o.slice(a).join("."),d=l+"=1;domain=."+u;s.cookie=d,c.test(s.cookie)&&(s.cookie=d+";expires="+ID,$u=u)}return $u}(e);if(!n){var r=function(i){var s=i.match(PD);return s?s[0]:""}(e);r!==n&&me.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Hn,Ps={is_supported:function(){return!!Ee},error:function(e){me.error("cookieStore error: "+e)},get:function(e){if(Ee){try{for(var t=e+"=",n=Ee.cookie.split(";").filter(function(s){return s.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Ps.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(Ee)try{var s="",o="",a=RD(Ee.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&me.warn("cookieStore warning: large cookie, len="+c.length),Ee.cookie=c,c}catch{return}},remove:function(e,t){try{Ps.set(e,"",-1,t)}catch{return}}},$v=null,_n={is_supported:function(){if(!ts($v))return $v;var e=!0;if(Fe(X))e=!1;else try{var t="__mplssupport__";_n.set(t,"xyz"),_n.get(t)!=='"xyz"'&&(e=!1),_n.remove(t)}catch{e=!1}return e||me.error("localStorage unsupported; falling back to cookie store"),$v=e,e},error:function(e){me.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){_n.error(t)}return null},parse:function(e){try{return JSON.parse(_n.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){_n.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){_n.error(t)}}},MD=["distinct_id",Ag,kd,bg],ud=Ce(Ce({},_n),{},{parse:function(e){try{var t={};try{t=Ps.parse(e)||{}}catch{}var n=Nn(t,JSON.parse(_n.get(e)||"{}"));return _n.set(e,n),n}catch{}return null},set:function(e,t,n,r,i){try{_n.set(e,t);var s={};MD.forEach(function(o){t[o]&&(s[o]=t[o])}),Object.keys(s).length&&Ps.set(e,s,n,r,i)}catch(o){_n.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Ps.remove(e,t)}catch(n){_n.error(n)}}}),Oh={},jD={is_supported:function(){return!0},error:function(e){me.error("memoryStorage error: "+e)},get:function(e){return Oh[e]||null},parse:function(e){return Oh[e]||null},set:function(e,t){Oh[e]=t},remove:function(e){delete Oh[e]}},xa=null,Wn={is_supported:function(){if(!ts(xa))return xa;if(xa=!0,Fe(X))xa=!1;else try{var e="__support__";Wn.set(e,"xyz"),Wn.get(e)!=='"xyz"'&&(xa=!1),Wn.remove(e)}catch{xa=!1}return xa},error:function(e){me.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){Wn.error(t)}return null},parse:function(e){try{return JSON.parse(Wn.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Wn.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){Wn.error(t)}}},OD=["localhost","127.0.0.1"],hM=function(e){var t=Ee==null?void 0:Ee.createElement("a");return Fe(t)?null:(t.href=e,t)},VD=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},LD=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return It(e,function(s,o){Fe(s)||Fe(o)||o==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},s2=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!Mn(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{me.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},xg=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},xi="Mobile",Sg="iOS",ks="Android",of="Tablet",pM=ks+" "+of,gM="iPad",mM="Apple",vM=mM+" Watch",Jm="Safari",Hc="BlackBerry",yM="Samsung",AM=yM+"Browser",_M=yM+" Internet",tl="Chrome",ND=tl+" OS",bM=tl+" "+Sg,Tb="Internet Explorer",xM=Tb+" "+xi,Ib="Opera",$D=Ib+" Mini",Pb="Edge",SM="Microsoft "+Pb,wc="Firefox",wM=wc+" "+Sg,af="Nintendo",lf="PlayStation",Ec="Xbox",EM=ks+" "+xi,kM=xi+" "+Jm,dd="Windows",$A=dd+" Phone",o2="Nokia",BA="Ouya",CM="Generic",BD=CM+" "+xi.toLowerCase(),TM=CM+" "+of.toLowerCase(),DA="Konqueror",hr="(\\d+(\\.\\d+)?)",Bv=new RegExp("Version/"+hr),DD=new RegExp(Ec,"i"),FD=new RegExp(lf+" \\w+","i"),zD=new RegExp(af+" \\w+","i"),Rb=new RegExp(Hc+"|PlayBook|BB10","i"),UD={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},HD=function(e,t){return t&&ot(t,mM)||function(n){return ot(n,Jm)&&!ot(n,tl)&&!ot(n,ks)}(e)},a2=function(e,t){return t=t||"",ot(e," OPR/")&&ot(e,"Mini")?$D:ot(e," OPR/")?Ib:Rb.test(e)?Hc:ot(e,"IE"+xi)||ot(e,"WPDesktop")?xM:ot(e,AM)?_M:ot(e,Pb)||ot(e,"Edg/")?SM:ot(e,"FBIOS")?"Facebook "+xi:ot(e,tl)?tl:ot(e,"CriOS")?bM:ot(e,"UCWEB")||ot(e,"UCBrowser")?"UC Browser":ot(e,"FxiOS")?wM:ot(e,ks)?EM:ot(e.toLowerCase(),DA.toLowerCase())?DA:HD(e,t)?ot(e,xi)?kM:Jm:ot(e,wc)?wc:ot(e,"MSIE")||ot(e,"Trident/")?Tb:ot(e,"Gecko")?wc:""},GD=(ie(Hn={},xM,[new RegExp("rv:"+hr)]),ie(Hn,SM,[new RegExp(Pb+"?\\/"+hr)]),ie(Hn,tl,[new RegExp(tl+"/"+hr)]),ie(Hn,bM,[new RegExp("CriOS\\/"+hr)]),ie(Hn,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+hr)]),ie(Hn,Jm,[Bv]),ie(Hn,kM,[Bv]),ie(Hn,Ib,[new RegExp("(Opera|OPR)\\/"+hr)]),ie(Hn,wc,[new RegExp(wc+"\\/"+hr)]),ie(Hn,wM,[new RegExp("FxiOS\\/"+hr)]),ie(Hn,DA,[new RegExp("Konqueror[:/]?"+hr,"i")]),ie(Hn,Hc,[new RegExp(Hc+" "+hr),Bv]),ie(Hn,EM,[new RegExp("android\\s"+hr)]),ie(Hn,_M,[new RegExp(AM+"\\/"+hr)]),ie(Hn,Tb,[new RegExp("(rv:|MSIE )"+hr)]),ie(Hn,"Mozilla",[new RegExp("rv:"+hr)]),Hn),l2=[[new RegExp(Ec+"; "+Ec+" (.*?)[);]","i"),function(e){return[Ec,e&&e[1]||""]}],[new RegExp(af,"i"),[af,""]],[new RegExp(lf,"i"),[lf,""]],[Rb,[Hc,""]],[new RegExp(dd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[$A,""];if(new RegExp(xi).test(t)&&!/IEMobile\b/.test(t))return[dd+" "+xi,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=UD[r]||"";return/arm/i.test(t)&&(i="RT"),[dd,i]}return[dd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Sg,t.join(".")]}return[Sg,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=Fe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+ks+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ks+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[ks,t.join(".")]}return[ks,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[ND,""]],[/Linux|debian/i,["Linux",""]]],c2=function(e){return zD.test(e)?af:FD.test(e)?lf:DD.test(e)?Ec:new RegExp(BA,"i").test(e)?BA:new RegExp("("+$A+"|WPDesktop)","i").test(e)?$A:/iPad/.test(e)?gM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?vM:Rb.test(e)?Hc:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(o2,"i").test(e)?o2:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(xi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ks:pM:ks:new RegExp("(pda|"+xi+")","i").test(e)?BD:new RegExp(of,"i").test(e)&&!new RegExp(of+" pc","i").test(e)?TM:""},Vh="https?://(.*)",qD=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],$n={campaignParams:function(e){var t=qD.concat(e||[]),n={};return It(t,function(r){var i=Ee?s2(Ee.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=Ee==null?void 0:Ee.referrer;return e?e.search(Vh+"google.([^/?]*)")===0?"google":e.search(Vh+"bing.com")===0?"bing":e.search(Vh+"yahoo.com")===0?"yahoo":e.search(Vh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=$n.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!ts(e)){n.$search_engine=e;var r=Ee?s2(Ee.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:a2,browserVersion:function(e,t){var n=a2(e,t),r=GD[n];if(Fe(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<l2.length;t++){var n=mr(l2[t],2),r=n[0],i=n[1],s=r.exec(e),o=s&&(es(i)?i(s,e):i);if(o)return o}return["",""]},device:c2,deviceType:function(e){var t=c2(e);return t===gM||t===pM||t==="Kobo"||t==="Kindle Fire"||t===TM?of:t===af||t===Ec||t===lf||t===BA?"Console":t===vM?"Wearable":t?xi:"Desktop"},referrer:function(){return(Ee==null?void 0:Ee.referrer)||"$direct"},referringDomain:function(){var e;return Ee!=null&&Ee.referrer&&((e=hM(Ee.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!cn)return{};var e=mr($n.os(cn),2),t=e[0],n=e[1];return Nn(IA({$os:t,$os_version:n,$browser:$n.browser(cn,navigator.vendor),$device:$n.device(cn),$device_type:$n.deviceType(cn)}),{$current_url:gi==null?void 0:gi.href,$host:gi==null?void 0:gi.host,$pathname:gi==null?void 0:gi.pathname,$raw_user_agent:cn.length>1e3?cn.substring(0,997)+"...":cn,$browser_version:$n.browserVersion(cn,navigator.vendor),$browser_language:$n.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:Ba.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:uM()/1e3})},people_properties:function(){if(!cn)return{};var e=mr($n.os(cn),2),t=e[0],n=e[1];return Nn(IA({$os:t,$os_version:n,$browser:$n.browser(cn,navigator.vendor)}),{$browser_version:$n.browserVersion(cn,navigator.vendor)})}},WD=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Dv=function(){function e(t){Lt(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return Nt(e,[{key:"buildStorage",value:function(t){WD.indexOf(t.persistence.toLowerCase())===-1&&(me.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&_n.is_supported()?_n:n==="localstorage+cookie"&&ud.is_supported()?ud:n==="sessionstorage"&&Wn.is_supported()?Wn:n==="memory"?jD:n==="cookie"?Ps:ud.is_supported()?ud:Ps}},{key:"properties",value:function(){var t={};return It(this.props,function(n,r){if(r===ec&&Es(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else a=r,l=!1,(ts(o=SD)?l:GE&&o.indexOf===GE?o.indexOf(a)!=-1:(It(o,function(c){if(l||(l=c===a))return yg}),l))||(t[r]=n);var o,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Nn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(Es(t)){Fe(n)&&(n="None"),this.expire_days=Fe(r)?this.default_expiry:r;var s=!1;if(It(t,function(o,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(Es(t)){this.expire_days=Fe(n)?this.default_expiry:n;var i=!1;if(It(t,function(s,o){t.hasOwnProperty(o)&&r.props[o]!==s&&(r.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register($n.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(ie({},LA,$n.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register($n.searchInfo())}},{key:"update_referrer_info",value:function(){this.register($n.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(ie({},NA,$n.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return IA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return It([NA,LA],function(r){var i=t.props[r];i&&It(i,function(s,o){var a;n["$initial_"+(a=o,a.replace(/^\$/,""))]=s})}),n}},{key:"safe_merge",value:function(t){return It(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[cd]||{};r[t]=n,this.props[cd]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[cd]||{})[t];return Fe(n)||(delete this.props[cd][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),KD=2,YD=4,QD=Nt(function e(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Lt(this,e),ie(this,"bucketSize",100),ie(this,"refillRate",10),ie(this,"mutationBuckets",{}),ie(this,"loggedTracker",{}),ie(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(o){i.mutationBuckets[o]=i.mutationBuckets[o]+i.refillRate,i.mutationBuckets[o]>=i.bucketSize&&delete i.mutationBuckets[o]})}),ie(this,"getNodeOrRelevantParent",function(o){var a=i.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[o,a]}),ie(this,"numberOfChanges",function(o){var a,l,c,u,d,h,p,g;return((a=(l=o.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=o.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=o.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),ie(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var a=o.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=mr(i.getNodeOrRelevantParent(u.id),2),m=g[0],A=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,A))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?o:void 0}),this.rrweb=t,this.options=s,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),zp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(zp||{});function Mb(e){return e?Qm(e).split(/\s+/):[]}function wg(e){var t="";switch(nf(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Mb(t)}function IM(e){return Wo(e)?null:Qm(e).split(/(\s+)/).filter(function(t){return kc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Eg(e){var t="";return zA(e)&&!jM(e)&&e.childNodes&&e.childNodes.length&&It(e.childNodes,function(n){var r;PM(n)&&n.textContent&&(t+=(r=IM(n.textContent))!==null&&r!==void 0?r:"")}),Qm(t)}function jb(e){return!!e&&e.nodeType===1}function Ko(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function PM(e){return!!e&&e.nodeType===3}function RM(e){return!!e&&e.nodeType===11}var FA=["a","button","form","input","select","textarea","label"];function MM(e){var t=e.parentNode;return!(!t||!jb(t))&&t}function JD(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!X||!e||Ko(e,"html")||!jb(e))return!1;if(n!=null&&n.url_allowlist){var s=X.location.href,o=n.url_allowlist;if(o&&!o.some(function(m){return s.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!Ko(d,"body");)if(RM(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=MM(d)))break;if(r||FA.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=X.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,A){var v=A==null?void 0:A.element_allowlist;if(Fe(v))return!0;var y,b=os(m);try{var S=function(){var w=y.value;if(v.some(function(E){return w.tagName.toLowerCase()===E}))return{v:!0}};for(b.s();!(y=b.n()).done;){var x=S();if(nf(x)==="object")return x.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n)||!function(m,A){var v=A==null?void 0:A.css_selector_allowlist;if(Fe(v))return!0;var y,b=os(m);try{var S=function(){var w=y.value;if(v.some(function(E){return w.matches(E)}))return{v:!0}};for(b.s();!(y=b.n()).done;){var x=S();if(nf(x)==="object")return x.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n))return!1;var p=X.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(FA.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function zA(e){for(var t=e;t.parentNode&&!Ko(t,"body");t=t.parentNode){var n=wg(t);if(ot(n,"ph-sensitive")||ot(n,"ph-no-capture"))return!1}if(ot(wg(e),"ph-include"))return!0;var r=e.type||"";if(or(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(or(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function jM(e){return!!(Ko(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Ko(e,"select")||Ko(e,"textarea")||e.getAttribute("contenteditable")==="true")}var OM="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",XD=new RegExp("^(?:".concat(OM,")$")),ZD=new RegExp(OM),VM="\\d{3}-?\\d{2}-?\\d{4}",eF=new RegExp("^(".concat(VM,")$")),tF=new RegExp("(".concat(VM,")"));function kc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(Wo(e)||or(e)&&(e=Qm(e),(t?XD:ZD).test((e||"").replace(/[- ]/g,""))||(t?eF:tF).test(e)))}function u2(e){var t=Eg(e);return kc(t="".concat(t," ").concat(LM(e)).trim())?t:""}function LM(e){var t="";return e&&e.childNodes&&e.childNodes.length&&It(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Eg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(LM(n)).trim())}catch(s){me.error(s)}}),t}function nF(e){return function(t){var n=t.map(function(r){var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=os(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;o+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ce(Ce(Ce(Ce({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return Fp(u).sort(function(h,p){var g=mr(h,1)[0],m=mr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=mr(h,2),g=p[0],m=p[1];return d[d2(g.toString())]=d2(m.toString())}),o+=":",o+=Fp(u).map(function(h){var p=mr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:rF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Fp(n).filter(function(o){return mr(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var a=mr(o,2),l=a[0],c=a[1];return s.attributes[l]=c}),s})}(e))}function d2(e){return e.replace(/"|\\"/g,'\\"')}function rF(e){var t=e.attr__class;return t?Mn(t)?t:Mb(t):void 0}var UA="[SessionRecording]",Fv={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},iF=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],sF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],oF=["/s/","/e/","/i/"];function f2(e,t,n,r){if(Wo(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return or(i)&&(i=parseInt(i)),i>n?UA+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function h2(e,t){if(Wo(e))return e;var n=e;return kc(n,!1)||(n=UA+" "+t+" body redacted"),It(sF,function(r){var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=UA+" "+t+" body redacted as might contain: "+r)}),n}var aF=function(e,t){var n,r,i,s={payloadSizeLimitBytes:Fv.payloadSizeLimitBytes,performanceEntryTypeToObserve:Uc(Fv.performanceEntryTypeToObserve)},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=f2(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=f2(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var A=hM(m.name);if(!(A&&A.pathname&&oF.some(function(v){return A.pathname.indexOf(v)===0})))return m}((p=h,It(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var A;iF.includes(m.toLowerCase())&&((A=p.requestHeaders)===null||A===void 0||delete A[m])}),p)));var p,g},d=es(e.session_recording.maskNetworkRequestFn);return d&&es(e.session_recording.maskCapturedNetworkRequestFn)&&me.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ce(Ce({},h),{},{name:p==null?void 0:p.url})}),s.maskRequestFn=es(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,A=u(h);return A&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,A))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!Fe(p))return p.requestBody=h2(p.requestBody,"Request"),p.responseBody=h2(p.responseBody,"Response"),p}(u(h))},Ce(Ce(Ce({},Fv),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},lF="__ph_opt_in_out_";function cF(e,t){BM(!0,e,t)}function uF(e,t){BM(!1,e,t)}function dF(e,t){return $M(e,t)==="1"}function NM(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||X,i=r==null?void 0:r.navigator,s=!1;return It([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(o){ot([!0,1,"1","yes"],o)&&(s=!0)}),s}return!1}(t)||$M(e,t)==="0"}function fF(e,t){Ob(t=t||{}).remove(Vb(e,t),!!t.crossSubdomainCookie)}function Ob(e){return(e=e||{}).persistenceType==="localStorage"?_n:e.persistenceType==="localStorage+cookie"?ud:Ps}function Vb(e,t){return((t=t||{}).persistencePrefix||lF)+e}function $M(e,t){return Ob(t).get(Vb(e,t))}function BM(e,t,n){or(t)&&t.length?(Ob(n=n||{}).set(Vb(t,n),e?1:0,qi(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):me.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function DM(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=NM(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(a){me.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var gs,FM=3e5,p2=FM;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(gs||(gs={}));var hF=[gs.MouseMove,gs.MouseInteraction,gs.Scroll,gs.ViewportResize,gs.Input,gs.TouchMove,gs.MediaInteraction,gs.Drag],g2=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},Br="[SessionRecording]",pF=function(){function e(t){var n=this;if(Lt(this,e),ie(this,"queuedRRWebEvents",[]),ie(this,"isIdle",!1),ie(this,"_linkedFlagSeen",!1),ie(this,"_lastActivityTimestamp",Date.now()),ie(this,"windowId",null),ie(this,"sessionId",null),ie(this,"_linkedFlag",null),ie(this,"_forceAllowLocalhostNetworkCapture",!1),ie(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(Ee!=null&&Ee.visibilityState){var r="window "+Ee.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw me.error(Br+" started without valid sessionManager"),new Error(Br+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return Nt(e,[{key:"rrwebRecord",get:function(){var t;return zr==null||(t=zr.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw me.error(Br+" started without valid sessionManager"),new Error(Br+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(kd);return Dp(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(RA),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(QE),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(XE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(JE),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return s||o||a?{recordHeaders:s,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(ZE);return qi(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(e2);return qi(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Wo(this._linkedFlag)||this._linkedFlagSeen?Dp(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),me.info(Br+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,me.info(Br+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(qi(i)){var s,o=this.isSampled,a=r||!Dp(o);a?s=Math.random()<i:s=o,!s&&a&&me.warn(Br+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(ie({},kd,s))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(ie({},kd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,s=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!Wo(this._linkedFlag)){var o=or(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=or(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=Es(c)&&o in c,d=a?c[o]===a:u;if(d){var h={linkedFlag:o,linkedVariant:a},p="linked flag matched";me.info(Br+" "+p,h),s._tryAddCustomEvent(p,h)}s._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;qi(this.sampleRate)&&ts(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,s,o,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=Wo(h)?null:parseFloat(h),g=(s=t.sessionRecording)===null||s===void 0?void 0:s.minimumDurationMilliseconds;n.register((ie(d={},RA,!!t.sessionRecording),ie(d,QE,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),ie(d,JE,Ce({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),ie(d,XE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),ie(d,ZE,p),ie(d,e2,Fe(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:uM()})}},{key:"_startCapture",value:function(){var t=this;Fe(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||DM(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():sf(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(Ba.LIB_VERSION)),function(n){if(n)return me.error(Br+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&hF.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>p2&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:p2}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),s=i.windowId,o=i.sessionId,a=this.sessionId!==o,l=this.windowId!==s;this.windowId=s,this.sessionId=o,(r||[KD,YD].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):me.warn(Br+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(g2(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(g2(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,s=0,o=Object.entries(i||{});s<o.length;s++){var a=mr(o[s],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new QD(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");me.info(p,{node:h}),n.log(Br+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ce({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){me.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else me.error(Br+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},FM)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return zr.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(zr.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&es(zr.getRecordNetworkPlugin)&&(!OD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(zr.getRecordNetworkPlugin(aF(this.instance.config,this.networkPayloadCapture))):me.info(Br+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&Es(t)){if(t.type===zp.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===zp.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&Es(l)&&l.type===6&&Es(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),s=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===zp.Custom){var o={$snapshot_bytes:s,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Uc(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=qi(r)&&r>=0,s=qi(n)&&i&&r<n;return this.status==="buffering"||s?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),ts(this.buffer.sessionId)&&!ts(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),gF=function(){function e(t){Lt(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Nt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(tc),group_properties:this.instance.get_property(Mo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:Ki.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)me.error("Failed to fetch feature flags from PostHog.");else{if(!Ee||!Ee.body)return me.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var i=X==null?void 0:X.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&Fe(i)&&sf(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return me.error("Could not load exception autocapture script",l);X.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var s,o=os(t.siteApps);try{var a=function(){var l=s.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);zr["__$$ph_site_app_".concat(c)]=n.instance,sf(d,function(h){h&&me.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(o.s();!(s=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else t.siteApps.length>0&&me.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),mF=X!=null&&X.location?xg(X.location.hash,"__posthog")||xg(location.hash,"state"):null,zv="_postHogToolbarParams",vF=function(){function e(t){Lt(this,e),ie(this,"_toolbarScriptLoaded",!1),this.instance=t}return Nt(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!Ee)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,s=(n=s)!==null&&n!==void 0?n:X.history;try{if(!i){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}i=X==null?void 0:X.localStorage}var o,a=mF||xg(r.hash,"__posthog")||xg(r.hash,"state"),l=a?KE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||KE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((o=l).source="url",o&&Object.keys(o).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState("",Ee.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(zv)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(zr.ph_load_toolbar||zr.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!X||X.localStorage.getItem(zv)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ce(Ce({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(X.localStorage.setItem(zv,JSON.stringify(Ce(Ce({},i),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(i);else{this._toolbarScriptLoaded=!0;var s=3e5,o=Math.floor(Date.now()/s)*s;sf(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(a){if(a)return me.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(i)}),Js(X,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(i)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),yF=function(){function e(t){Lt(this,e),ie(this,"isPaused",!0),ie(this,"queue",[]),ie(this,"flushTimeoutMs",3e3),this.sendRequest=t}return Nt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Uc(r.filter(function(i){return i.url.indexOf("/e")===0})),Uc(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(Ce(Ce({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(s){var o=n[s],a=new Date().getTime();o.data&&Mn(o.data)&&It(o.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return It(this.queue,function(n){var r,i=n,s=(i?i.batchKey:null)||i.url;Fe(t[s])&&(t[s]=Ce(Ce({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),Qr=Uint8Array,Ar=Uint16Array,Gc=Uint32Array,Lb=new Qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nb=new Qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m2=new Qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zM=function(e,t){for(var n=new Ar(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Gc(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},UM=zM(Lb,2),AF=UM[0],HA=UM[1];AF[28]=258,HA[258]=28;for(var v2=zM(Nb,0)[1],GA=new Ar(32768),jt=0;jt<32768;++jt){var Sa=(43690&jt)>>>1|(21845&jt)<<1;Sa=(61680&(Sa=(52428&Sa)>>>2|(13107&Sa)<<2))>>>4|(3855&Sa)<<4,GA[jt]=((65280&Sa)>>>8|(255&Sa)<<8)>>>1}var Cd=function(e,t,n){for(var r=e.length,i=0,s=new Ar(t);i<r;++i)++s[e[i]-1];var o,a=new Ar(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new Ar(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[GA[d]>>>l]=c}else for(o=new Ar(r),i=0;i<r;++i)o[i]=GA[a[e[i]-1]++]>>>15-e[i];return o},nl=new Qr(288);for(jt=0;jt<144;++jt)nl[jt]=8;for(jt=144;jt<256;++jt)nl[jt]=9;for(jt=256;jt<280;++jt)nl[jt]=7;for(jt=280;jt<288;++jt)nl[jt]=8;var kg=new Qr(32);for(jt=0;jt<32;++jt)kg[jt]=5;var _F=Cd(nl,9,0),bF=Cd(kg,5,0),HM=function(e){return(e/8>>0)+(7&e&&1)},GM=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Ar?Ar:e instanceof Gc?Gc:Qr)(n-t);return r.set(e.subarray(t,n)),r},Us=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Bu=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Uv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new Qr(0),0];if(i==1){var o=new Qr(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(x,w){return x.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new Ar(h+1),g=xF(n[u-1],p,0);if(g>t){r=0;var m=0,A=g-t,v=1<<A;for(s.sort(function(x,w){return p[w.s]-p[x.s]||x.f-w.f});r<i;++r){var y=s[r].s;if(!(p[y]>t))break;m+=v-(1<<g-p[y]),p[y]=t}for(m>>>=A;m>0;){var b=s[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var S=s[r].s;p[S]==t&&(--p[S],++m)}g=t}return[new Qr(p),g]},xF=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},y2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ar(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},Du=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Up=function(e,t,n){var r=n.length,i=HM(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},A2=function(e,t,n,r,i,s,o,a,l,c,u){Us(t,u++,n),++i[256];for(var d=Uv(i,15),h=d[0],p=d[1],g=Uv(s,15),m=g[0],A=g[1],v=y2(h),y=v[0],b=v[1],S=y2(m),x=S[0],w=S[1],E=new Ar(19),I=0;I<y.length;++I)E[31&y[I]]++;for(I=0;I<x.length;++I)E[31&x[I]]++;for(var L=Uv(E,7),j=L[0],$=L[1],Q=19;Q>4&&!j[m2[Q-1]];--Q);var M,z,P,T,F=c+5<<3,O=Du(i,nl)+Du(s,kg)+o,N=Du(i,h)+Du(s,m)+o+14+3*Q+Du(E,j)+(2*E[16]+3*E[17]+7*E[18]);if(F<=O&&F<=N)return Up(t,u,e.subarray(l,l+c));if(Us(t,u,1+(N<O)),u+=2,N<O){M=Cd(h,p,0),z=h,P=Cd(m,A,0),T=m;var B=Cd(j,$,0);for(Us(t,u,b-257),Us(t,u+5,w-1),Us(t,u+10,Q-4),u+=14,I=0;I<Q;++I)Us(t,u+3*I,j[m2[I]]);u+=3*Q;for(var G=[y,x],U=0;U<2;++U){var ne=G[U];for(I=0;I<ne.length;++I){var V=31&ne[I];Us(t,u,B[V]),u+=j[V],V>15&&(Us(t,u,ne[I]>>>5&127),u+=ne[I]>>>12)}}}else M=_F,z=nl,P=bF,T=kg;for(I=0;I<a;++I)if(r[I]>255){V=r[I]>>>18&31,Bu(t,u,M[V+257]),u+=z[V+257],V>7&&(Us(t,u,r[I]>>>23&31),u+=Lb[V]);var le=31&r[I];Bu(t,u,P[le]),u+=T[le],le>3&&(Bu(t,u,r[I]>>>5&8191),u+=Nb[le])}else Bu(t,u,M[r[I]]),u+=z[r[I]];return Bu(t,u,M[256]),u+z[256]},SF=new Gc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wF=new Qr(0),EF=function(){for(var e=new Gc(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),kF=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new Qr(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var A=m+65535;A<d?g=Up(p,g,s.subarray(m,A)):(p[m]=u,g=Up(p,g,s.subarray(m,d)))}else{for(var v=SF[o-1],y=v>>>13,b=8191&v,S=(1<<a)-1,x=new Ar(32768),w=new Ar(S+1),E=Math.ceil(a/3),I=2*E,L=function(qe){return(s[qe]^s[qe+1]<<E^s[qe+2]<<I)&S},j=new Gc(25e3),$=new Ar(288),Q=new Ar(32),M=0,z=0,P=(m=0,0),T=0,F=0;m<d;++m){var O=L(m),N=32767&m,B=w[O];if(x[N]=B,w[O]=N,T<=m){var G=d-m;if((M>7e3||P>24576)&&G>423){g=A2(s,p,0,j,$,Q,z,P,F,m-F,g),P=M=z=0,F=m;for(var U=0;U<286;++U)$[U]=0;for(U=0;U<30;++U)Q[U]=0}var ne=2,V=0,le=b,Z=N-B&32767;if(G>2&&O==L(m-Z))for(var he=Math.min(y,G)-1,Se=Math.min(32767,m),we=Math.min(258,G);Z<=Se&&--le&&N!=B;){if(s[m+ne]==s[m+ne-Z]){for(var pe=0;pe<we&&s[m+pe]==s[m+pe-Z];++pe);if(pe>ne){if(ne=pe,V=Z,pe>he)break;var Ae=Math.min(Z,pe-2),Ge=0;for(U=0;U<Ae;++U){var Ve=m-Z+U+32768&32767,Ie=Ve-x[Ve]+32768&32767;Ie>Ge&&(Ge=Ie,B=Ve)}}}Z+=(N=B)-(B=x[N])+32768&32767}if(V){j[P++]=268435456|HA[ne]<<18|v2[V];var _e=31&HA[ne],Ue=31&v2[V];z+=Lb[_e]+Nb[Ue],++$[257+_e],++Q[Ue],T=m+ne,++M}else j[P++]=s[m],++$[s[m]]}}g=A2(s,p,u,j,$,Q,z,P,F,m-F,g),u||(g=Up(p,g,wF))}return GM(h,0,l+HM(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Hv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function CF(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=EF[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,s=kF(e,t,10+((i=t).filename&&i.filename.length+1||0),8),o=s.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&Hv(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(s,t),Hv(s,o-8,n.d()),Hv(s,o-4,r),s}var TF=!!Cb||!!kb,_2="text/plain",Cg=function(e,t){var n=mr(e.split("?"),2),r=n[0],i=n[1],s=Ce({},t);i==null||i.split("&").forEach(function(a){var l=mr(a.split("="),1)[0];delete s[l]});var o=LD(s);return o=o?(i?i+"&":"")+o:i,"".concat(r,"?").concat(o)},IF=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},$b=function(e){var t=e.data,n=e.compression;if(t){if(n===Ki.GZipJS){var r=CF(function(s,o){var a=s.length;if(!o&&typeof TextEncoder<"u")return new TextEncoder().encode(s);for(var l=new Qr(s.length+(s.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new Qr(c+8+(a-d<<1));h.set(l),l=h}var p=s.charCodeAt(d);p<128||o?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&s.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return GM(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:_2,body:new Blob([r],{type:_2})}}if(n===Ki.Base64){var i=function(s){var o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!s)return s;s=xD(s);do o=(u=s.charCodeAt(h++)<<16|s.charCodeAt(h++)<<8|s.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<s.length);switch(g=m.join(""),s.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:IF(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},PF=function(e){var t,n=new Cb;n.open(e.method||"GET",e.url,!0);var r=(t=$b(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body;It(e.headers,function(o,a){n.setRequestHeader(a,o)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var o,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(o=e.callback)===null||o===void 0||o.call(e,a)}},n.send(s)},RF=function(e){var t,n,r=(t=$b(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body,o=new Headers;It(o,function(u,d){o.append(d,u)}),i&&o.append("Content-Type",i);var a=e.url,l=null;if(qE){var c=new qE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}kb(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST",body:s,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){me.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;me.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},MF=function(e){var t=Cg(e.url,{beacon:"1"});try{var n,r=(n=$b(e))!==null&&n!==void 0?n:{},i=r.contentType,s=r.body,o=typeof s=="string"?new Blob([s],{type:i}):s;rf.sendBeacon(t,o)}catch{}},jF=function(e){var t;if(Ee){var n=Ee.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=Ee.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},OF=["retriesPerformedSoFar"],Da,VF=function(){function e(t){var n=this;Lt(this,e),ie(this,"isPolling",!1),ie(this,"pollIntervalMs",3e3),ie(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!Fe(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return Nt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=vD(t,OF);qi(r)&&r>0&&(i.url=Cg(i.url,{retry_count:r})),this.instance._send_request(Ce(Ce({},i),{},{callback:function(s){var o;s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?n.enqueue(Ce({},i)):(o=i.callback)===null||o===void 0||o.call(i,s)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),me.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,s=os(r);try{for(s.s();!(i=s.n()).done;){var o=i.value.requestOptions;this.retriableRequest(o)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=os(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ce(Ce({},r),{},{transport:"sendBeacon"}))}catch(i){me.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),Lh=1800,LF=function(){function e(t,n,r,i){Lt(this,e),ie(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Fo,this._windowIdGenerator=i||Fo;var s=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||Lh;if(qi(o)?o>Lh?me.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&me.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(me.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=Lh),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),Lh),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var a=Wn.parse(this._window_id_storage_key),l=Wn.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:Wn.remove(this._window_id_storage_key),Wn.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return Nt(e,[{key:"onSessionId",value:function(t){var n=this;return Fe(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&Wn.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&Wn.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?Wn.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(ie({},Ag,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Ag];return Mn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&Wn.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=mr(this._getSessionId(),3),i=r[0],s=r[1],o=r[2],a=this._getWindowId(),l=o&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!s,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(s=this._sessionIdGenerator(),a=this._windowIdGenerator(),me.info("[SessionId] new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(s,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(s,a)}),{sessionId:s,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Da||(Da={}));var b2="i.posthog.com",NF=function(){function e(t){Lt(this,e),ie(this,"_regionCache",{}),this.instance=t}return Nt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Da.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Da.EU:this._regionCache[this.apiHost]=Da.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(b2),".posthog.com"))+n;if(this.region===Da.CUSTOM)return this.apiHost+n;var r=b2+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),$F=Nt(function e(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Lt(this,e),this.name="posthog-js",this.setupOnce=function(o){o(function(a){var l,c,u,d,h;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function BF(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=function(l){var c=function(){return l.anonymousId()||Fo()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(qs,"identified")),i()},a=s.user();"then"in a&&es(a.then)?a.then(function(l){return o(l)}):o(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||me.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(s,o){var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||r.reset(),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:s.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{});return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(s){return i(s,s.event.event)},page:function(s){return i(s,"$pageview")},identify:function(s){return i(s,"$identify")},screen:function(s){return i(s,"$screen")}}}(e)).then(function(){t()})})}var DF=function(){function e(t){Lt(this,e),this._instance=t}return Nt(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=X==null?void 0:X.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,i=n.lastScrollY,s=n.maxScrollY,o=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return Fe(r)||Fe(i)||Fe(s)||Fe(o)||Fe(a)||Fe(l)?{}:(r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:i,$prev_pageview_last_scroll_percentage:r<=1?1:Nh(i/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Nh(s/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:o<=1?1:Nh(a/o,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:o<=1?1:Nh(l/o,0,1)})}}]),e}();function Nh(e,t,n){return Math.max(t,Math.min(e,n))}var FF={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!X&&VD(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e}},zF=function(){function e(t){Lt(this,e),this.instance=t}return Nt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=zr==null?void 0:zr.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||sf(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return me.error("Could not load surveys script",r);zr.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var i=this.instance.get_property(jA);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(s){var o;if(s.statusCode!==200||!s.json)return t([]);var a=s.json.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},jA,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var s=i.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,l,c,u;if(!o.conditions)return!0;var d=(a=o.conditions)===null||a===void 0||!a.url||FF[(l=(c=o.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](o.conditions.url),h=(u=o.conditions)===null||u===void 0||!u.selector||(Ee==null?void 0:Ee.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),l=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&l});return t(s)},r)}}]),e}(),UF=function(){function e(t){var n,r,i=this;Lt(this,e),ie(this,"serverLimits",{}),ie(this,"lastEventRateLimited",!1),ie(this,"checkForLimiting",function(s){var o=s.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(function(a){me.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void me.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:o})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return Nt(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(VA))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(VA,o),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),HF=function(){return Ce({initialPathName:(gi==null?void 0:gi.pathname)||"",referringDomain:$n.referringDomain()},$n.campaignParams())},GF=function(){function e(t,n,r){var i=this;Lt(this,e),ie(this,"_onSessionIdCallback",function(s){var o=i._getStoredProps();if(!o||o.sessionId!==s){var a={sessionId:s,props:i._sessionSourceParamGenerator()};i._persistence.register(ie({},OA,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||HF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Nt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[OA]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),qF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],x2=function(e,t){if(!e)return!1;var n=e.toLowerCase();return qF.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},qM=function(){function e(){Lt(this,e),this.clicks=[]}return Nt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),S2="__POSTHOG_TOOLBAR__";function w2(e){var t;return e.id===S2||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+S2))}var WF=function(){function e(t){var n;Lt(this,e),ie(this,"rageclicks",new qM),ie(this,"_enabledServerSide",!1),ie(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[PA])}return Nt(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return Fe(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(ie({},PA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&Ee&&(Js(Ee,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),Js(Ee,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&!Ko(u,"body");){if(u===c)return!1;if(ot(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=MM(u)}return!1}(t.target,["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}},{key:"_onClick",value:function(t){var n;if(!w2(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ce(Ce({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;w2(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),KF=function(){function e(t){var n=this;Lt(this,e),ie(this,"_updateScrollData",function(){var r,i,s,o;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(s=n.context.maxContentY)!==null&&s!==void 0?s:0),n.context.maxContentHeight=Math.max(d,(o=n.context.maxContentHeight)!==null&&o!==void 0?o:0)}),this.instance=t}return Nt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=os(Mn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=X==null?void 0:X.document.querySelector(r);if(i)return i}}catch(s){n.e(s)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),YF=function(){function e(){Lt(this,e),ie(this,"events",{}),this.events={}}return Nt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=os(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var s,o=os(this.events["*"]||[]);try{for(o.s();!(s=o.n()).done;)(0,s.value)(t,n)}catch(a){o.e(a)}finally{o.f()}}}]),e}(),Gv="$copy_autocapture";function qv(e,t){return t.length>e?t.slice(0,e)+"...":t}var QF=function(){function e(t){Lt(this,e),ie(this,"_initialized",!1),ie(this,"_isDisabledServerSide",null),ie(this,"rageclicks",new qM),ie(this,"_elementsChainAsString",!1),this.instance=t}return Nt(e,[{key:"config",get:function(){var t,n=Es(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&Ee){var n=function(i){i=i||(X==null?void 0:X.event);try{t._captureEvent(i)}catch(s){me.error("Failed to capture event",s)}},r=function(i){i=i||(X==null?void 0:X.event),t._captureEvent(i,Gv)};Js(Ee,"submit",n,!1,!0),Js(Ee,"change",n,!1,!0),Js(Ee,"click",n,!1,!0),this.config.capture_copied_text&&(Js(Ee,"copy",r,!1,!0),Js(Ee,"cut",r,!1,!0))}}else me.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(ie({},YE,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[YE],i=this._isDisabledServerSide;if(ts(i)&&!Dp(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!jb(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!zA(t))return{};var n={};return It(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&kc(s)&&(n[i]=s)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,s=t.tagName.toLowerCase(),o={tag_name:s};FA.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=qv(1024,u2(t)):o.$el_text=qv(1024,Eg(t)));var a=wg(t);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;It(t.attributes,function(h){var p;if((!jM(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&kc(h.value)&&(p=h.name,!or(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=Mb(g).join(" ")),o["attr__"+h.name]=qv(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return Fe(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,s=this._getEventTarget(t);PM(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var o=r===Gv;if(s&&JD(s,t,this.config,o,o?["copy","cut"]:void 0)){for(var a,l,c=[s],u=s;u.parentNode&&!Ko(u,"body");)RM(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(It(c,function(b){var S=zA(b);b.tagName.toLowerCase()==="a"&&(d=b.getAttribute("href"),d=S&&kc(d)&&d),ot(wg(b),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(b,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var x=n._getAugmentPropertiesFromElement(b);Nn(p,x)}),this.instance.config.mask_all_text||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?h[0].$el_text=u2(s):h[0].$el_text=Eg(s)),d&&(h[0].attr__href=d),g)return!1;var m=Nn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:nF(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===Gv){var A,v=IM(X==null||(A=X.getSelection())===null||A===void 0?void 0:A.toString()),y=t.type||"clipboard";if(!v)return!1;m.$selected_content=v,m.$copy_type=y}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return es(Ee==null?void 0:Ee.querySelectorAll)}}]),e}(),Td={},E2=function(){},Ql="posthog",WM=!TF&&(cn==null?void 0:cn.indexOf("MSIE"))===-1&&(cn==null?void 0:cn.indexOf("Mozilla"))===-1,k2=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=Ee==null?void 0:Ee.location,n=t==null?void 0:t.hostname,!!or(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:E2,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:gi&&or(gi==null?void 0:gi.search)&&gi.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;me.error(i)},get_device_id:function(r){return r},_onCapture:E2,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},C2=function(e){var t={};Fe(e.process_person)||(t.person_profiles=e.process_person),Fe(e.xhr_headers)||(t.request_headers=e.xhr_headers),Fe(e.cookie_name)||(t.persistence_name=e.cookie_name),Fe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Nn({},t,e);return Mn(e.property_blacklist)&&(Fe(e.property_denylist)?n.property_denylist=e.property_blacklist:Mn(e.property_denylist)?n.property_denylist=[].concat(Uc(e.property_blacklist),Uc(e.property_denylist)):me.error("Invalid value for property_denylist config: "+e.property_denylist)),n},JF=function(){function e(){Lt(this,e),ie(this,"__forceAllowLocalhost",!1)}return Nt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){me.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),KM=function(){function e(){var t=this;Lt(this,e),ie(this,"webPerformance",new JF),ie(this,"_debugEventEmitter",new YF),this.config=k2(),this.decideEndpointWasHit=!1,this.SentryIntegration=$F,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new wD(this),this.toolbar=new vF(this),this.scrollManager=new KF(this),this.pageViewManager=new DF(this),this.surveys=new zF(this),this.rateLimiter=new UF(this),this.requestRouter=new NF(this),this.people={set:function(n,r,i){var s=or(n)?ie({},n,r):n;t.setPersonProperties(s),i==null||i({})},set_once:function(n,r,i){var s=or(n)?ie({},n,r):n;t.setPersonProperties(void 0,s),i==null||i({})}},this.on("eventCaptured",function(n){return me.info("send",n)})}return Nt(e,[{key:"init",value:function(t,n,r){if(r&&r!==Ql){var i,s=(i=Td[r])!==null&&i!==void 0?i:new e;return s._init(t,n,r),Td[r]=s,Td[Ql][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(Fe(t)||function(A){return or(A)&&A.trim().length===0}(t))return me.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return me.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Nn({},k2(),C2(s),{name:o,token:t})),this.compression=s.disable_compression?void 0:Ki.Base64,this.persistence=new Dv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Dv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new yF(function(A){return i._send_request(A)}),this._retryQueue=new VF(this),this.__request_queue=[],this.sessionManager=new LF(this.config,this.persistence),this.sessionPropsManager=new GF(this.sessionManager,this.persistence),this.sessionRecording=new pF(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new QF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new WF(this),this.heatmaps.startIfEnabled(),Ba.DEBUG=Ba.DEBUG||this.config.debug,this._gdpr_init(),((n=s.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(Fo()),u=(a=s.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:s.bootstrap.distinctID;this.persistence.set_property(qs,(l=s.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=s.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(A){var v,y;return!((v=s.bootstrap)===null||v===void 0||(y=v.featureFlags)===null||y===void 0||!y[A])}).reduce(function(A,v){var y,b;return A[v]=((y=s.bootstrap)===null||y===void 0||(b=y.featureFlags)===null||b===void 0?void 0:b[v])||!1,A},{}),g=Object.keys(((h=s.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(A){return p[A]}).reduce(function(A,v){var y,b,S,x;return(y=s.bootstrap)!==null&&y!==void 0&&(b=y.featureFlagPayloads)!==null&&b!==void 0&&b[v]&&(A[v]=(S=s.bootstrap)===null||S===void 0||(x=S.featureFlagPayloads)===null||x===void 0?void 0:x[v]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(Fo());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(qs,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?BF(this,function(){return i._loaded()}):this._loaded(),es(this.config._onCapture)&&this.on("eventCaptured",function(A){return i.config._onCapture(A.event,A)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,s,o;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ot(t.supportedCompression,Ki.GZipJS)?Ki.GZipJS:ot(t.supportedCompression,Ki.Base64)?Ki.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.surveys)===null||o===void 0||o.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){me.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){Ee&&t.capture("$pageview",{title:Ee.title},{send_instantly:!0})},1),n||(new gF(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||Sc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(WM?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Cg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i=Ce({},r);i.timeout=i.timeout||6e4,i.url=Cg(i.url,{_:new Date().getTime().toString(),ver:Ba.LIB_VERSION,compression:i.compression}),i.transport==="sendBeacon"&&rf!=null&&rf.sendBeacon?MF(i):i.transport==="fetch"&&kb?RF(i):Cb||!Ee?PF(i):jF(i)}(Ce(Ce({},t),{},{callback:function(r){var i,s,o;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((s=(o=n.config).on_request_error)===null||s===void 0||s.call(o,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],s=[],o=[];Sc(t,function(l){l&&(n=l[0],Mn(n)?o.push(l):es(l)?l.call(r):Mn(l)&&n==="alias"?i.push(l):Mn(l)&&n.indexOf("capture")!==-1&&es(r[n])?o.push(l):s.push(l))});var a=function(l,c){Sc(l,function(u){if(Mn(u[0])){var d=c;It(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(s,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return me.uninitializedWarning("posthog.capture");if(!DM(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!Fe(t)&&or(t)){if(!cn||this.config.opt_out_useragent_filter||!x2(cn,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var s={uuid:Fo(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var o,a=(o=this.heatmaps)===null||o===void 0?void 0:o.getAndClearBuffer();a&&(s.properties.$heatmap_data=a)}r!=null&&r.$set&&(s.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(s.$set_once=l),(s=bD(s,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,Fe(r==null?void 0:r.timestamp)||(s.properties.$event_time_override_provided=!0,s.properties.$event_time_override_system_time=new Date);var c=Ce(Ce({},s.properties.$set),s.$set);Lv(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",s);var u={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:s,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),s}}else me.error("No event name provided to posthog.capture");else me.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=Ce({},n);if(i.token=this.config.token,t==="$snapshot"){var s=Ce(Ce({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=s.distinct_id,i}var o=$n.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;i.$session_id=l,i.$window_id=c}if(this.requestRouter.region===Da.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();i=Nn(i,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=Nn(i,d)}if(t==="$pageview"&&Ee&&(i.title=Ee.title),!Fe(r)){var h=new Date().getTime()-r;i.$duration=parseFloat((h/1e3).toFixed(3))}cn&&this.config.opt_out_useragent_filter&&(i.$browser_type=x2(cn,this.config.custom_blocked_useragents)?"bot":"browser"),(i=Nn({},o,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),Mn(this.config.property_denylist)?It(this.config.property_denylist,function(g){delete i[g]}):me.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(i=p(i,t)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Nn({},this.persistence.get_initial_props(),t||{});return Lv(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(ie({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return me.uninitializedWarning("posthog.identify");if(qi(t)&&(t=t.toString(),me.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))me.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(ld)&&(this.unregister(ld),this.register({distinct_id:t}));var o=(this.persistence.get_property(qs)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(qs,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(_g))}}else me.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ce(Ce({},i),{},ie({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(ie({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else me.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,s;if(!this.__loaded)return me.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(qs,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();var a=this.config.get_device_id(Fo());this.register_once({distinct_id:a,$device_id:t?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!i)return s;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(t,n){return t===this.get_property(dM)?(me.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Fe(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(ld,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(me.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,s,o=Ce({},this.config);Es(t)&&(Nn(this.config,C2(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Dv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),_n.is_supported()&&_n.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ba.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(ie({},kd,!0)),me.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Ql;return n!==Ql&&(n=Ql+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(qs))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(qs))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Lv(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[ld])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[bg]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(me.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(bg,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&_n.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Ps.get("ph_optout")||(Ps.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,s,o;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(s=this.persistence)===null||s===void 0||s.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=Nn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),_n.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=Nn({enable_persistence:!0},t||{}),this._gdpr_call_func(cF,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=Nn({clear_persistence:!0},t||{});this._gdpr_call_func(uF,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(dF,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(NM,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=Nn({enable_persistence:!0},t??{});this._gdpr_call_func(fF,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=_D(e.prototype[t[n]])})(KM,["identify"]);var T2,I2;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(T2||(T2={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(I2||(I2={}));var P2,kn=(P2=Td[Ql]=new KM,function(){function e(){e.done||(e.done=!0,WM=!1,It(Td,function(t){t._dom_loaded()}))}Ee!=null&&Ee.addEventListener&&(Ee.readyState==="complete"?e():Ee.addEventListener("DOMContentLoaded",e,!1)),X&&Js(X,"load",e,!0)}(),P2);class gt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&kn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const te={sectionChange:new gt("sectionChange",void 0,!1),playerAdded:new gt("playerAdded",!1),playerRemoved:new gt("playerRemoved",!1),songStarted:new gt("songStarted",!1),songEnded:new gt("songEnded",!1),remoteMicConnected:new gt("remoteMicConnected"),remoteMicDisconnected:new gt("remoteMicDisconnected"),playerNameChanged:new gt("playerNameChanged"),playerInputChanged:new gt("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new gt("inputListChanged"),karaokeConnectionStatusChange:new gt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new gt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new gt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new gt("remoteMicMonitoringStopped"),micMonitoringStarted:new gt("micMonitoringStarted"),micMonitoringStopped:new gt("micMonitoringStopped"),playerChangeRequested:new gt("playerChangeRequested",!0),songStatStored:new gt("songStatStored"),songScoreUpdated:new gt("songScoreUpdated",()=>{}),remoteMicSubscribed:new gt("remoteMicSubscribed"),remoteKeyboardPressed:new gt("remoteKeyboardPressed"),remoteSongSearch:new gt("remoteSongSearch",!0),remoteMicListUpdated:new gt("remoteMicListUpdated"),remoteKeyboardLayout:new gt("remoteKeyboardLayout"),remoteReadinessRequested:new gt("remoteReadinessRequested"),remoteStyleChanged:new gt("remoteStyleChanged"),remoteMicPermissionsSet:new gt("remoteMicPermissionsSet"),readinessConfirmed:new gt("remoteReadinessConfirmed"),minPlayerNumberChanged:new gt("minPlayerNumberChanged")};te.songStarted.subscribe(()=>{Qi.clearData(),Qi.startRecord()});te.songEnded.subscribe(()=>{Qi.stopRecord()});function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}var XF=/^\s+/,ZF=/\s+$/;function de(e,t){if(e=e||"",t=t||{},e instanceof de)return e;if(!(this instanceof de))return new de(e,t);var n=e6(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}de.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=YM(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=M2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=M2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=R2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=R2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return j2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return i6(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ut(this._r,255)*100)+"%",g:Math.round(Ut(this._g,255)*100)+"%",b:Math.round(Ut(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ut(this._r,255)*100)+"%, "+Math.round(Ut(this._g,255)*100)+"%, "+Math.round(Ut(this._b,255)*100)+"%)":"rgba("+Math.round(Ut(this._r,255)*100)+"%, "+Math.round(Ut(this._g,255)*100)+"%, "+Math.round(Ut(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:m6[j2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+O2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=de(t);r="#"+O2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return de(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(l6,arguments)},brighten:function(){return this._applyModification(c6,arguments)},darken:function(){return this._applyModification(u6,arguments)},desaturate:function(){return this._applyModification(s6,arguments)},saturate:function(){return this._applyModification(o6,arguments)},greyscale:function(){return this._applyModification(a6,arguments)},spin:function(){return this._applyModification(d6,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(p6,arguments)},complement:function(){return this._applyCombination(f6,arguments)},monochromatic:function(){return this._applyCombination(g6,arguments)},splitcomplement:function(){return this._applyCombination(h6,arguments)},triad:function(){return this._applyCombination(V2,[3])},tetrad:function(){return this._applyCombination(V2,[4])}};de.fromRatio=function(e,t){if(Tg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=fd(e[r]));e=n}return de(e,t)};function e6(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=_6(e)),Tg(e)=="object"&&(Hs(e.r)&&Hs(e.g)&&Hs(e.b)?(t=t6(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Hs(e.h)&&Hs(e.s)&&Hs(e.v)?(r=fd(e.s),i=fd(e.v),t=r6(e.h,r,i),o=!0,a="hsv"):Hs(e.h)&&Hs(e.s)&&Hs(e.l)&&(r=fd(e.s),s=fd(e.l),t=n6(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=YM(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function t6(e,t,n){return{r:Ut(e,255)*255,g:Ut(t,255)*255,b:Ut(n,255)*255}}function R2(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function n6(e,t,n){var r,i,s;e=Ut(e,360),t=Ut(t,100),n=Ut(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function M2(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function r6(e,t,n){e=Ut(e,360)*6,t=Ut(t,100),n=Ut(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function j2(e,t,n,r){var i=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function i6(e,t,n,r,i){var s=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16)),Ji(QM(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function O2(e,t,n,r){var i=[Ji(QM(r)),Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16))];return i.join("")}de.equals=function(e,t){return!e||!t?!1:de(e).toRgbString()==de(t).toRgbString()};de.random=function(){return de.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function s6(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.s-=t/100,n.s=Xm(n.s),de(n)}function o6(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.s+=t/100,n.s=Xm(n.s),de(n)}function a6(e){return de(e).desaturate(100)}function l6(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.l+=t/100,n.l=Xm(n.l),de(n)}function c6(e,t){t=t===0?0:t||10;var n=de(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),de(n)}function u6(e,t){t=t===0?0:t||10;var n=de(e).toHsl();return n.l-=t/100,n.l=Xm(n.l),de(n)}function d6(e,t){var n=de(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,de(n)}function f6(e){var t=de(e).toHsl();return t.h=(t.h+180)%360,de(t)}function V2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=de(e).toHsl(),r=[de(e)],i=360/t,s=1;s<t;s++)r.push(de({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function h6(e){var t=de(e).toHsl(),n=t.h;return[de(e),de({h:(n+72)%360,s:t.s,l:t.l}),de({h:(n+216)%360,s:t.s,l:t.l})]}function p6(e,t,n){t=t||6,n=n||30;var r=de(e).toHsl(),i=360/n,s=[de(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(de(r));return s}function g6(e,t){t=t||6;for(var n=de(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(de({h:r,s:i,v:s})),s=(s+a)%1;return o}de.mix=function(e,t,n){n=n===0?0:n||50;var r=de(e).toRgb(),i=de(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return de(o)};de.readability=function(e,t){var n=de(e),r=de(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};de.isReadable=function(e,t,n){var r=de.readability(e,t),i,s;switch(s=!1,i=b6(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};de.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=de.readability(e,t[c]),s>i&&(i=s,r=de(t[c]));return de.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,de.mostReadable(e,["#fff","#000"],n))};var qA=de.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},m6=de.hexNames=v6(qA);function v6(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function YM(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ut(e,t){y6(e)&&(e="100%");var n=A6(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Xm(e){return Math.min(1,Math.max(0,e))}function Dr(e){return parseInt(e,16)}function y6(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function A6(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ji(e){return e.length==1?"0"+e:""+e}function fd(e){return e<=1&&(e=e*100+"%"),e}function QM(e){return Math.round(parseFloat(e)*255).toString(16)}function L2(e){return Dr(e)/255}var Fi=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Hs(e){return!!Fi.CSS_UNIT.exec(e)}function _6(e){e=e.replace(XF,"").replace(ZF,"").toLowerCase();var t=!1;if(qA[e])e=qA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Fi.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Fi.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Fi.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Fi.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Fi.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Fi.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Fi.hex8.exec(e))?{r:Dr(n[1]),g:Dr(n[2]),b:Dr(n[3]),a:L2(n[4]),format:t?"name":"hex8"}:(n=Fi.hex6.exec(e))?{r:Dr(n[1]),g:Dr(n[2]),b:Dr(n[3]),format:t?"name":"hex"}:(n=Fi.hex4.exec(e))?{r:Dr(n[1]+""+n[1]),g:Dr(n[2]+""+n[2]),b:Dr(n[3]+""+n[3]),a:L2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Fi.hex3.exec(e))?{r:Dr(n[1]+""+n[1]),g:Dr(n[2]+""+n[2]),b:Dr(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function b6(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const x6=de("rgb(52, 166, 95)"),S6=de("rgb(15, 138, 95)"),w6=de("rgb(245, 98, 77)"),E6=de("rgb(204, 35, 30)"),JM=de("rgb(245, 220, 21)"),k6=de(JM.toRgbString()).darken(15),XM=de("rgb(255, 70, 223)"),C6=de(XM.toRgbString()).darken(15),ZM=de("rgb(255, 119, 20)"),T6=de(ZM.toRgbString()).darken(15),ej=de("rgb(31, 192, 223)"),I6=de(ej.toRgbString()).darken(15),tj=de("rgb(102, 44, 182)"),P6=de(tj.toRgbString()).darken(15),R6=de("rgb(0, 153, 255)"),M6=de("rgb(0, 77, 128)"),j6=de("rgb(255, 54, 54)"),O6=de("rgb(117, 25, 25)"),V6=de("rgb(255, 213, 0)"),Hp=de("rgb(255, 183, 0)"),li=(e,t)=>e.setAlpha(t).toRgbString(),Bi=(e,t)=>({text:li(e,1),stroke:li(t,1),star:{fill:li(Hp,.5),stroke:li(Hp,0),lineWidth:1},perfect:{fill:li(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:li(V6,1),stroke:li(Hp,1),lineWidth:2},hit:{fill:li(e,.9),stroke:li(t,0),lineWidth:1},miss:{fill:li(e,.25),stroke:li(t,1),lineWidth:1}}),Le={blue:Bi(R6,M6),red:Bi(j6,O6),green:Bi(de("rgb(0,183,0)"),de("rgb(0,84,0)")),yellow:Bi(de("rgb(239,209,0)"),de("rgb(114,84,0)")),christmasGreen:Bi(x6,S6),christmasRed:Bi(w6,E6),eurovisionYellow:Bi(JM,k6),eurovisionPink:Bi(XM,C6),eurovisionOrange:Bi(ZM,T6),eurovisionBlue:Bi(ej,I6),eurovisionViolet:Bi(tj,P6)};let ps=[Le.blue,Le.red,Le.green,Le.yellow];const fe={colors:{players:ps,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:li(Hp,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",activeBorder:"rgb(101,75,22)",default:"white",inactive:"grey"}}},nj=e=>{e==="christmas"&&ps[0]!==Le.christmasGreen?(ps=[Le.christmasGreen,Le.christmasRed],fe.colors.players=ps):e==="eurovision"&&ps[0]!==Le.eurovisionYellow?(ps=[Le.eurovisionBlue,Le.eurovisionViolet,Le.eurovisionYellow,Le.eurovisionPink],fe.colors.players=ps):e==="regular"&&ps[0]!==Le.blue&&(ps=[Le.blue,Le.red,Le.green,Le.yellow],fe.colors.players=ps)};function Cc(e,t,n){e==null||e.send({t,...n})}var WA;try{WA=new TextDecoder}catch{}var ve,Ai,W=0,Tt={},tt,zo,ui=0,bs=0,Fn,to,Vr=[],Ze,N2={useRecords:!1,mapsAsObjects:!0};class rj{}const ij=new rj;ij.name="MessagePack 0xC1";var Yo=!1,sj=2,$2;try{new Function("")}catch{sj=1/0}class cf{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ve)return dj(()=>(YA(),this?this.unpack(t,n):cf.prototype.unpack.call(N2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ai=n.end||t.length,W=n.start||0):(W=0,Ai=n>-1?n:t.length),bs=0,zo=null,Fn=null,ve=t;try{Ze=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ve=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof cf){if(Tt=this,this.structures)return tt=this.structures,$h(n);(!tt||tt.length>0)&&(tt=[])}else Tt=N2,(!tt||tt.length>0)&&(tt=[]);return $h(n)}unpackMultiple(t,n){let r,i=0;try{Yo=!0;let s=t.length,o=this?this.unpack(t,s):Zm.unpack(t,s);if(n){if(n(o,i,W)===!1)return;for(;W<s;)if(i=W,n($h(),i,W)===!1)return}else{for(r=[o];W<s;)i=W,r.push($h());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{Yo=!1,YA()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function $h(e){try{if(!Tt.trusted&&!Yo){let n=tt.sharedLength||0;n<tt.length&&(tt.length=n)}let t;if(Tt.randomAccessStructure&&ve[W]<64&&ve[W]>=32&&$2?(t=$2(ve,W,Ai,Tt),ve=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),W=Ai):t=dn(),Fn&&(W=Fn.postBundlePosition,Fn=null),Yo&&(tt.restoreStructures=null),W==Ai)tt&&tt.restoreStructures&&B2(),tt=null,ve=null,to&&(to=null);else{if(W>Ai)throw new Error("Unexpected end of MessagePack data");if(!Yo){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw tt&&tt.restoreStructures&&B2(),YA(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||W>Ai)&&(t.incomplete=!0),t}}function B2(){for(let e in tt.restoreStructures)tt[e]=tt.restoreStructures[e];tt.restoreStructures=null}function dn(){let e=ve[W++];if(e<160)if(e<128){if(e<64)return e;{let t=tt[e&63]||Tt.getStructures&&oj()[e&63];return t?(t.read||(t.read=Bb(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Tt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=lj();r==="__proto__"&&(r="__proto_"),t[r]=dn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(dn(),dn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=dn();return Tt.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(bs>=W)return zo.slice(W-ui,(W+=t)-ui);if(bs==0&&Ai<140){let n=t<16?Db(t):aj(t);if(n!=null)return n}return KA(t)}else{let t;switch(e){case 192:return null;case 193:return Fn?(t=dn(),t>0?Fn[1].slice(Fn.position1,Fn.position1+=t):Fn[0].slice(Fn.position0,Fn.position0-=t)):ij;case 194:return!1;case 195:return!0;case 196:if(t=ve[W++],t===void 0)throw new Error("Unexpected end of buffer");return Wv(t);case 197:return t=Ze.getUint16(W),W+=2,Wv(t);case 198:return t=Ze.getUint32(W),W+=4,Wv(t);case 199:return wa(ve[W++]);case 200:return t=Ze.getUint16(W),W+=2,wa(t);case 201:return t=Ze.getUint32(W),W+=4,wa(t);case 202:if(t=Ze.getFloat32(W),Tt.useFloat32>2){let n=Fb[(ve[W]&127)<<1|ve[W+1]>>7];return W+=4,(n*t+(t>0?.5:-.5)>>0)/n}return W+=4,t;case 203:return t=Ze.getFloat64(W),W+=8,t;case 204:return ve[W++];case 205:return t=Ze.getUint16(W),W+=2,t;case 206:return t=Ze.getUint32(W),W+=4,t;case 207:return Tt.int64AsType==="number"?(t=Ze.getUint32(W)*4294967296,t+=Ze.getUint32(W+4)):Tt.int64AsType==="string"?t=Ze.getBigUint64(W).toString():Tt.int64AsType==="auto"?(t=Ze.getBigUint64(W),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ze.getBigUint64(W),W+=8,t;case 208:return Ze.getInt8(W++);case 209:return t=Ze.getInt16(W),W+=2,t;case 210:return t=Ze.getInt32(W),W+=4,t;case 211:return Tt.int64AsType==="number"?(t=Ze.getInt32(W)*4294967296,t+=Ze.getUint32(W+4)):Tt.int64AsType==="string"?t=Ze.getBigInt64(W).toString():Tt.int64AsType==="auto"?(t=Ze.getBigInt64(W),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ze.getBigInt64(W),W+=8,t;case 212:if(t=ve[W++],t==114)return G2(ve[W++]&63);{let n=Vr[t];if(n)return n.read?(W++,n.read(dn())):n.noBuffer?(W++,n()):n(ve.subarray(W,++W));throw new Error("Unknown extension "+t)}case 213:return t=ve[W],t==114?(W++,G2(ve[W++]&63,ve[W++])):wa(2);case 214:return wa(4);case 215:return wa(8);case 216:return wa(16);case 217:return t=ve[W++],bs>=W?zo.slice(W-ui,(W+=t)-ui):N6(t);case 218:return t=Ze.getUint16(W),W+=2,bs>=W?zo.slice(W-ui,(W+=t)-ui):$6(t);case 219:return t=Ze.getUint32(W),W+=4,bs>=W?zo.slice(W-ui,(W+=t)-ui):B6(t);case 220:return t=Ze.getUint16(W),W+=2,F2(t);case 221:return t=Ze.getUint32(W),W+=4,F2(t);case 222:return t=Ze.getUint16(W),W+=2,z2(t);case 223:return t=Ze.getUint32(W),W+=4,z2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const L6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Bb(e,t){function n(){if(n.count++>sj){let i=e.read=new Function("r","return function(){return "+(Tt.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":L6.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(dn);return e.highByte===0&&(e.read=D2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=dn()}return Tt.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?D2(t,n):n}const D2=(e,t)=>function(){let n=ve[W++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=tt[r]||oj()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=Bb(i,e)),i.read()};function oj(){let e=dj(()=>(ve=null,Tt.getStructures()));return tt=Tt._mergeStructures(e,tt)}var KA=Jf,N6=Jf,$6=Jf,B6=Jf;function Jf(e){let t;if(e<16&&(t=Db(e)))return t;if(e>64&&WA)return WA.decode(ve.subarray(W,W+=e));const n=W+e,r=[];for(t="";W<n;){const i=ve[W++];if(!(i&128))r.push(i);else if((i&224)===192){const s=ve[W++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=ve[W++]&63,o=ve[W++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=ve[W++]&63,o=ve[W++]&63,a=ve[W++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Ln.apply(String,r),r.length=0)}return r.length>0&&(t+=Ln.apply(String,r)),t}function F2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=dn();return Tt.freezeData?Object.freeze(t):t}function z2(e){if(Tt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=lj();r==="__proto__"&&(r="__proto_"),t[r]=dn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(dn(),dn());return t}}var Ln=String.fromCharCode;function aj(e){let t=W,n=new Array(e);for(let r=0;r<e;r++){const i=ve[W++];if((i&128)>0){W=t;return}n[r]=i}return Ln.apply(String,n)}function Db(e){if(e<4)if(e<2){if(e===0)return"";{let t=ve[W++];if((t&128)>1){W-=1;return}return Ln(t)}}else{let t=ve[W++],n=ve[W++];if((t&128)>0||(n&128)>0){W-=2;return}if(e<3)return Ln(t,n);let r=ve[W++];if((r&128)>0){W-=3;return}return Ln(t,n,r)}else{let t=ve[W++],n=ve[W++],r=ve[W++],i=ve[W++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){W-=4;return}if(e<6){if(e===4)return Ln(t,n,r,i);{let s=ve[W++];if((s&128)>0){W-=5;return}return Ln(t,n,r,i,s)}}else if(e<8){let s=ve[W++],o=ve[W++];if((s&128)>0||(o&128)>0){W-=6;return}if(e<7)return Ln(t,n,r,i,s,o);let a=ve[W++];if((a&128)>0){W-=7;return}return Ln(t,n,r,i,s,o,a)}else{let s=ve[W++],o=ve[W++],a=ve[W++],l=ve[W++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){W-=8;return}if(e<10){if(e===8)return Ln(t,n,r,i,s,o,a,l);{let c=ve[W++];if((c&128)>0){W-=9;return}return Ln(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=ve[W++],u=ve[W++];if((c&128)>0||(u&128)>0){W-=10;return}if(e<11)return Ln(t,n,r,i,s,o,a,l,c,u);let d=ve[W++];if((d&128)>0){W-=11;return}return Ln(t,n,r,i,s,o,a,l,c,u,d)}else{let c=ve[W++],u=ve[W++],d=ve[W++],h=ve[W++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){W-=12;return}if(e<14){if(e===12)return Ln(t,n,r,i,s,o,a,l,c,u,d,h);{let p=ve[W++];if((p&128)>0){W-=13;return}return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=ve[W++],g=ve[W++];if((p&128)>0||(g&128)>0){W-=14;return}if(e<15)return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=ve[W++];if((m&128)>0){W-=15;return}return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function U2(){let e=ve[W++],t;if(e<192)t=e-160;else switch(e){case 217:t=ve[W++];break;case 218:t=Ze.getUint16(W),W+=2;break;case 219:t=Ze.getUint32(W),W+=4;break;default:throw new Error("Expected string")}return Jf(t)}function Wv(e){return Tt.copyBuffers?Uint8Array.prototype.slice.call(ve,W,W+=e):ve.subarray(W,W+=e)}function wa(e){let t=ve[W++];if(Vr[t]){let n;return Vr[t](ve.subarray(W,n=W+=e),r=>{W=r;try{return dn()}finally{W=n}})}else throw new Error("Unknown extension type "+t)}var H2=new Array(4096);function lj(){let e=ve[W++];if(e>=160&&e<192){if(e=e-160,bs>=W)return zo.slice(W-ui,(W+=e)-ui);if(!(bs==0&&Ai<180))return KA(e)}else return W--,cj(dn());let t=(e<<5^(e>1?Ze.getUint16(W):e>0?ve[W]:0))&4095,n=H2[t],r=W,i=W+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=Ze.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=ve[r++],s!=n[o++]){r=1879048192;break}if(r===i)return W=r,n.string;i-=3,r=W}for(n=[],H2[t]=n,n.bytes=e;r<i;)s=Ze.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=ve[r++],n.push(s);let a=e<16?Db(e):aj(e);return a!=null?n.string=a:n.string=KA(e)}function cj(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const G2=(e,t)=>{let n=dn().map(cj),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=tt[e];return i&&(i.isShared||Yo)&&((tt.restoreStructures||(tt.restoreStructures=[]))[e]=i),tt[e]=n,n.read=Bb(n,r),n.read()};Vr[0]=()=>{};Vr[0].noBuffer=!0;Vr[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let D6={Error,TypeError,ReferenceError};Vr[101]=()=>{let e=dn();return(D6[e[0]]||Error)(e[1])};Vr[105]=e=>{if(Tt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ze.getUint32(W-4);to||(to=new Map);let n=ve[W],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};to.set(t,i);let s=dn();return i.used?Object.assign(r,s):(i.target=s,s)};Vr[112]=e=>{if(Tt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ze.getUint32(W-4),n=to.get(t);return n.used=!0,n.target};Vr[115]=()=>new Set(dn());const uj=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let F6=typeof globalThis=="object"?globalThis:window;Vr[116]=e=>{let t=e[0],n=uj[t];if(!n)throw new Error("Could not find typed array for code "+t);return new F6[n](Uint8Array.prototype.slice.call(e,1).buffer)};Vr[120]=()=>{let e=dn();return new RegExp(e[0],e[1])};const z6=[];Vr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=W;return W+=t-e.length,Fn=z6,Fn=[U2(),U2()],Fn.position0=0,Fn.position1=0,Fn.postBundlePosition=W,W=n,dn()};Vr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function dj(e){let t=Ai,n=W,r=ui,i=bs,s=zo,o=to,a=Fn,l=new Uint8Array(ve.slice(0,Ai)),c=tt,u=tt.slice(0,tt.length),d=Tt,h=Yo,p=e();return Ai=t,W=n,ui=r,bs=i,zo=s,to=o,Fn=a,ve=l,Yo=h,tt=c,tt.splice(0,tt.length,...u),Tt=d,Ze=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),p}function YA(){ve=null,to=null,tt=null}const Fb=new Array(147);for(let e=0;e<256;e++)Fb[e]=+("1e"+Math.floor(45.15-e*.30103));var Zm=new cf({useRecords:!1});const U6=Zm.unpack;Zm.unpackMultiple;Zm.unpack;let H6=new Float32Array(1);new Uint8Array(H6.buffer,0,4);let Gp;try{Gp=new TextEncoder}catch{}let QA,fj;const e0=typeof Buffer<"u",Bh=e0?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,hj=e0?Buffer:Uint8Array,q2=e0?4294967296:2144337920;let J,Fu,xt,K=0,fr,Wt=null,G6;const q6=21760,W6=/[\u0080-\uFFFF]/,Bl=Symbol("record-id");class K6 extends cf{constructor(t){super(t),this.offset=0;let n,r,i,s,o=hj.prototype.utf8Write?function(M,z){return J.utf8Write(M,z,4294967295)}:Gp&&Gp.encodeInto?function(M,z){return Gp.encodeInto(M,J.subarray(z)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],A=0,v=0;this.pack=this.encode=function(M,z){if(J||(J=new Bh(8192),xt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),K=0),fr=J.length-10,fr-K<2048?(J=new Bh(J.length),xt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),fr=J.length-10,K=0):K=K+7&2147483640,n=K,z&e8&&(K+=z&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof M!="string"?(Wt=[],Wt.size=1/0):Wt=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let T=i.sharedLength||0;if(T>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let F=0;F<T;F++){let O=i[F];if(!O)continue;let N,B=i.transitions;for(let G=0,U=O.length;G<U;G++){let ne=O[G];N=B[ne],N||(N=B[ne]=Object.create(null)),B=N}B[Bl]=F+64}this.lastNamedStructuresLength=T}l||(i.nextId=T+64)}r&&(r=!1);let P;try{a.randomAccessStructure&&M&&M.constructor&&M.constructor===Object?Q(M):S(M);let T=Wt;if(Wt&&Y2(n,S,0),s&&s.idsToInsert){let F=s.idsToInsert.sort((G,U)=>G.offset>U.offset?1:-1),O=F.length,N=-1;for(;T&&O>0;){let G=F[--O].offset+n;G<T.stringsPosition+n&&N===-1&&(N=0),G>T.position+n?N>=0&&(N+=6):(N>=0&&(xt.setUint32(T.position+n,xt.getUint32(T.position+n)+N),N=-1),T=T.previous,O++)}N>=0&&T&&xt.setUint32(T.position+n,xt.getUint32(T.position+n)+N),K+=F.length*6,K>fr&&L(K),a.offset=K;let B=Q6(J.subarray(n,K),F);return s=null,B}return a.offset=K,z&X6?(J.start=n,J.end=K,J):J.subarray(n,K)}catch(T){throw P=T,T}finally{if(i&&(y(),r&&a.saveStructures)){let T=i.sharedLength||0,F=J.subarray(n,K),O=J6(i,a);if(!P)return a.saveStructures(O,O.isCompatible)===!1?a.pack(M,z):(a.lastNamedStructuresLength=T,F)}z&Z6&&(K=n)}};const y=()=>{v<10&&v++;let M=i.sharedLength||0;if(i.length>M&&!l&&(i.length=M),A>1e4)i.transitions=null,v=0,A=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let z=0,P=m.length;z<P;z++)m[z][Bl]=0;m=[]}},b=M=>{var z=M.length;z<16?J[K++]=144|z:z<65536?(J[K++]=220,J[K++]=z>>8,J[K++]=z&255):(J[K++]=221,xt.setUint32(K,z),K+=4);for(let P=0;P<z;P++)S(M[P])},S=M=>{K>fr&&(J=L(K));var z=typeof M,P;if(z==="string"){let T=M.length;if(Wt&&T>=4&&T<4096){if((Wt.size+=T)>q6){let B,G=(Wt[0]?Wt[0].length*3+Wt[1].length:0)+10;K+G>fr&&(J=L(K+G));let U;Wt.position?(U=Wt,J[K]=200,K+=3,J[K++]=98,B=K-n,K+=4,Y2(n,S,0),xt.setUint16(B+n-3,K-n-B)):(J[K++]=214,J[K++]=98,B=K-n,K+=4),Wt=["",""],Wt.previous=U,Wt.size=0,Wt.position=B}let N=W6.test(M);Wt[N?0:1]+=M,J[K++]=193,S(N?-T:T);return}let F;T<32?F=1:T<256?F=2:T<65536?F=3:F=5;let O=T*3;if(K+O>fr&&(J=L(K+O)),T<64||!o){let N,B,G,U=K+F;for(N=0;N<T;N++)B=M.charCodeAt(N),B<128?J[U++]=B:B<2048?(J[U++]=B>>6|192,J[U++]=B&63|128):(B&64512)===55296&&((G=M.charCodeAt(N+1))&64512)===56320?(B=65536+((B&1023)<<10)+(G&1023),N++,J[U++]=B>>18|240,J[U++]=B>>12&63|128,J[U++]=B>>6&63|128,J[U++]=B&63|128):(J[U++]=B>>12|224,J[U++]=B>>6&63|128,J[U++]=B&63|128);P=U-K-F}else P=o(M,K+F);P<32?J[K++]=160|P:P<256?(F<2&&J.copyWithin(K+2,K+1,K+1+P),J[K++]=217,J[K++]=P):P<65536?(F<3&&J.copyWithin(K+3,K+2,K+2+P),J[K++]=218,J[K++]=P>>8,J[K++]=P&255):(F<5&&J.copyWithin(K+5,K+3,K+3+P),J[K++]=219,xt.setUint32(K,P),K+=4),K+=P}else if(z==="number")if(M>>>0===M)M<32||M<128&&this.useRecords===!1||M<64&&!this.randomAccessStructure?J[K++]=M:M<256?(J[K++]=204,J[K++]=M):M<65536?(J[K++]=205,J[K++]=M>>8,J[K++]=M&255):(J[K++]=206,xt.setUint32(K,M),K+=4);else if(M>>0===M)M>=-32?J[K++]=256+M:M>=-128?(J[K++]=208,J[K++]=M+256):M>=-32768?(J[K++]=209,xt.setInt16(K,M),K+=2):(J[K++]=210,xt.setInt32(K,M),K+=4);else{let T;if((T=this.useFloat32)>0&&M<4294967296&&M>=-2147483648){J[K++]=202,xt.setFloat32(K,M);let F;if(T<4||(F=M*Fb[(J[K]&127)<<1|J[K+1]>>7])>>0===F){K+=4;return}else K--}J[K++]=203,xt.setFloat64(K,M),K+=8}else if(z==="object"||z==="function")if(!M)J[K++]=192;else{if(s){let F=s.get(M);if(F){if(!F.id){let O=s.idsToInsert||(s.idsToInsert=[]);F.id=O.push(F)}J[K++]=214,J[K++]=112,xt.setUint32(K,F.id),K+=4;return}else s.set(M,{offset:K-n})}let T=M.constructor;if(T===Object)I(M,!0);else if(T===Array)b(M);else if(T===Map)if(this.mapAsEmptyObject)J[K++]=128;else{P=M.size,P<16?J[K++]=128|P:P<65536?(J[K++]=222,J[K++]=P>>8,J[K++]=P&255):(J[K++]=223,xt.setUint32(K,P),K+=4);for(let[F,O]of M)S(F),S(O)}else{for(let F=0,O=QA.length;F<O;F++){let N=fj[F];if(M instanceof N){let B=QA[F];if(B.write){B.type&&(J[K++]=212,J[K++]=B.type,J[K++]=0);let le=B.write.call(this,M);le===M?Array.isArray(M)?b(M):I(M):S(le);return}let G=J,U=xt,ne=K;J=null;let V;try{V=B.pack.call(this,M,le=>(J=G,G=null,K+=le,K>fr&&L(K),{target:J,targetView:xt,position:K-le}),S)}finally{G&&(J=G,xt=U,K=ne,fr=J.length-10)}V&&(V.length+K>fr&&L(V.length+K),K=Y6(V,J,K,B.type));return}}if(Array.isArray(M))b(M);else{if(M.toJSON){const F=M.toJSON();if(F!==M)return S(F)}if(z==="function")return S(this.writeFunction&&this.writeFunction(M));I(M,!M.hasOwnProperty)}}}else if(z==="boolean")J[K++]=M?195:194;else if(z==="bigint"){if(M<BigInt(1)<<BigInt(63)&&M>=-(BigInt(1)<<BigInt(63)))J[K++]=211,xt.setBigInt64(K,M);else if(M<BigInt(1)<<BigInt(64)&&M>0)J[K++]=207,xt.setBigUint64(K,M);else if(this.largeBigIntToFloat)J[K++]=203,xt.setFloat64(K,Number(M));else if(this.useBigIntExtension&&M<2n**1023n&&M>-(2n**1023n)){J[K++]=199,K++,J[K++]=66;let T=[],F;do{let O=M&0xffn;F=(O&0x80n)===(M<0n?0x80n:0n),T.push(O),M>>=8n}while(!((M===0n||M===-1n)&&F));J[K-2]=T.length;for(let O=T.length;O>0;)J[K++]=Number(T[--O]);return}else throw new RangeError(M+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");K+=8}else if(z==="undefined")this.encodeUndefinedAsNil?J[K++]=192:(J[K++]=212,J[K++]=0,J[K++]=0);else throw new Error("Unknown type: "+z)},x=this.variableMapSize||this.coercibleKeyAsNumber?M=>{let z=Object.keys(M),P=z.length;P<16?J[K++]=128|P:P<65536?(J[K++]=222,J[K++]=P>>8,J[K++]=P&255):(J[K++]=223,xt.setUint32(K,P),K+=4);let T;if(this.coercibleKeyAsNumber)for(let F=0;F<P;F++){T=z[F];let O=Number(T);S(isNaN(O)?T:O),S(M[T])}else for(let F=0;F<P;F++)S(T=z[F]),S(M[T])}:(M,z)=>{J[K++]=222;let P=K-n;K+=2;let T=0;for(let F in M)(z||M.hasOwnProperty(F))&&(S(F),S(M[F]),T++);J[P+++n]=T>>8,J[P+n]=T&255},w=this.useRecords===!1?x:t.progressiveRecords&&!h?(M,z)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),F=K++-n,O;for(let N in M)if(z||M.hasOwnProperty(N)){if(P=T[N],P)T=P;else{let B=Object.keys(M),G=T;T=i.transitions;let U=0;for(let ne=0,V=B.length;ne<V;ne++){let le=B[ne];P=T[le],P||(P=T[le]=Object.create(null),U++),T=P}F+n+1==K?(K--,j(T,B,U)):$(T,B,F,U),O=!0,T=G[N]}S(M[N])}if(!O){let N=T[Bl];N?J[F+n]=N:$(T,Object.keys(M),F,0)}}:(M,z)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),F=0;for(let N in M)(z||M.hasOwnProperty(N))&&(P=T[N],P||(P=T[N]=Object.create(null),F++),T=P);let O=T[Bl];O?O>=96&&h?(J[K++]=((O-=96)&31)+96,J[K++]=O>>5):J[K++]=O:j(T,T.__keys__||Object.keys(M),F);for(let N in M)(z||M.hasOwnProperty(N))&&S(M[N])},E=typeof this.useRecords=="function"&&this.useRecords,I=E?(M,z)=>{E(M)?w(M,z):x(M,z)}:w,L=M=>{let z;if(M>16777216){if(M-n>q2)throw new Error("Packed buffer would be larger than maximum buffer size");z=Math.min(q2,Math.round(Math.max((M-n)*(M>67108864?1.25:2),4194304)/4096)*4096)}else z=(Math.max(M-n<<2,J.length-1)>>12)+1<<12;let P=new Bh(z);return xt=P.dataView||(P.dataView=new DataView(P.buffer,0,z)),M=Math.min(M,J.length),J.copy?J.copy(P,0,n,M):P.set(J.slice(n,M)),K-=n,n=0,fr=P.length-10,J=P},j=(M,z,P)=>{let T=i.nextId;T||(T=64),T<p&&this.shouldShareStructure&&!this.shouldShareStructure(z)?(T=i.nextOwnId,T<g||(T=p),i.nextOwnId=T+1):(T>=g&&(T=p),i.nextId=T+1);let F=z.highByte=T>=96&&h?T-96>>5:-1;M[Bl]=T,M.__keys__=z,i[T-64]=z,T<p?(z.isShared=!0,i.sharedLength=T-63,r=!0,F>=0?(J[K++]=(T&31)+96,J[K++]=F):J[K++]=T):(F>=0?(J[K++]=213,J[K++]=114,J[K++]=(T&31)+96,J[K++]=F):(J[K++]=212,J[K++]=114,J[K++]=T),P&&(A+=v*P),m.length>=d&&(m.shift()[Bl]=0),m.push(M),S(z))},$=(M,z,P,T)=>{let F=J,O=K,N=fr,B=n;J=Fu,K=0,n=0,J||(Fu=J=new Bh(8192)),fr=J.length-10,j(M,z,T),Fu=J;let G=K;if(J=F,K=O,fr=N,n=B,G>1){let U=K+G-1;U>fr&&L(U);let ne=P+n;J.copyWithin(ne+G,ne+1,K),J.set(Fu.slice(0,G),ne),K=U}else J[P+n]=Fu[0]},Q=(M,z)=>{let P=G6(M,J,n,K,i,L,(T,F,O)=>{if(O)return r=!0;K=F;let N=J;return S(T),y(),N!==J?{position:K,targetView:xt,target:J}:K},this);if(P===0)return I(M,!0);K=P}}useBuffer(t){J=t,xt=new DataView(J.buffer,J.byteOffset,J.byteLength),K=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}fj=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,rj];QA=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?W2(e,16,t):K2(e0?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==hj&&this.moreTypes?W2(e,uj.indexOf(n.name),t):K2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function W2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function K2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function Y6(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function Q6(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function Y2(e,t,n){if(Wt.length>0){xt.setUint32(Wt.position+e,K+n-Wt.position-e),Wt.stringsPosition=K-e;let r=Wt;Wt=null,t(r[0]),t(r[1])}}function J6(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let pj=new K6({useRecords:!1});const gj=pj.pack;pj.pack;const X6=512,Z6=1024,e8=2048;function Tc(){return Date.now()}const Ig=e=>gj(e),zb=e=>U6(e);let t8=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Cc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Cc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Cc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},n8=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Cc(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Cc(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Tc()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Tc(),this.isPinging=!0,Cc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Tc()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new t8(r,i),this.pingClient()}};const Ub={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision",Shrek:"shrek"};class ri extends _o{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Oe[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Oe[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const mj=["high","low"],r8="graphics-level",xs=new ri(r8,mj[0]),i8=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],s8="mic-setup-preference",Hb=new ri(s8,i8[0],"session"),vj=[60,30],Wa=new ri("fps-count",vj[0]),t0=new ri("EXCLUDED_LANGUAGES_KEY_V2",null),Zn=new ri("MOBILE_PHONE_MODE_KEY",null),yj=new ri("keyboard-help-visibility",!0);var xR;const Q2=(xR=kn.getFeatureFlagPayload)==null?void 0:xR.call(kn,Ub.InitialInputLag),Id=new ri("INPUT_LAG_V2",typeof Q2=="number"?Q2:0),Aj=new ri("REMOTE_MIC_INPUT_LAG",0,"session"),J2=["write","read"],_j=new ri("DefaultRemoteMicPermission","write"),bj=["New","Classic"],Gb=new ri("background-music",bj[0]),n0=new ri("BackgroundThemeSetting","regular","memory"),qb=new ri("AutoEnableFullscreenSetting",!0,"session"),Pg=new ri("UseWebsocketsSettings",!1,"session");var SR;(SR=kn.onFeatureFlags)==null||SR.call(kn,()=>{Pg.set(kn.isFeatureEnabled(Ub.WebsocketsRemoteMics)??!1)});function $e(e){const[t,n]=_.useState(e.get());return _.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const X2="RememberedAccessesKey",Kv="rememberedSubscriptionsKey";class o8 extends _o{constructor(){super(...arguments),this.remoteMics=[],this.micAccessMap=Oe.getItem(X2)??{},this.subscriptions=Oe.session.getItem(Kv)??{"remote-mics":[]},this.addRemoteMic=(t,n,r,i,s)=>{this.remoteMics=this.remoteMics.filter(o=>o.id!==t),this.remoteMics=[...this.remoteMics,new n8(t,n,r,s)],this.setPermission(t,this.getPermission(t)),te.remoteMicConnected.dispatch({id:t,name:n,silent:i})},this.removeRemoteMic=(t,n=!1)=>{const r=this.remoteMics.find(i=>i.id===t);this.remoteMics=this.remoteMics.filter(i=>i.id!==t),r&&(r.onDisconnect(),te.remoteMicDisconnected.dispatch(r,n))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=t=>this.remoteMics.find(n=>n.id===t),this.broadcast=t=>{this.getRemoteMics().forEach(n=>n.connection.send(t))},this.broadcastToChannel=(t,n)=>{this.subscriptions[t].forEach(r=>{var i;return(i=this.getRemoteMicById(r))==null?void 0:i.connection.send(n)})},this.getPermission=t=>this.micAccessMap[t]??_j.get(),this.setPermission=(t,n)=>{var r;(r=this.getRemoteMicById(t))==null||r.setPermission(n),this.micAccessMap[t]=n,Oe.setItem(X2,this.micAccessMap),this.onUpdate(t,n)},this.addSubscription=(t,n)=>{this.subscriptions[n]=[...new Set([...this.subscriptions[n],t])],Oe.session.setItem(Kv,this.subscriptions),te.remoteMicSubscribed.dispatch(t,n)},this.removeSubscription=(t,n)=>{var r;this.subscriptions[n]=((r=this.subscriptions[n])==null?void 0:r.filter(i=>i!==t))??[],Oe.session.setItem(Kv,this.subscriptions)}}}const Je=new o8;n0.addListener(e=>{nj(e),Je.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=Je.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:n0.get()})});class a8{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const l8=new a8;class c8{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const u8=new c8,xj=Object.prototype.toString;function Wb(e){switch(xj.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return so(e,Error)}}function yu(e,t){return xj.call(e)===`[object ${t}]`}function Kb(e){return yu(e,"ErrorEvent")}function Z2(e){return yu(e,"DOMError")}function d8(e){return yu(e,"DOMException")}function Rs(e){return yu(e,"String")}function Yb(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Qb(e){return e===null||Yb(e)||typeof e!="object"&&typeof e!="function"}function qc(e){return yu(e,"Object")}function r0(e){return typeof Event<"u"&&so(e,Event)}function f8(e){return typeof Element<"u"&&so(e,Element)}function h8(e){return yu(e,"RegExp")}function i0(e){return!!(e&&e.then&&typeof e.then=="function")}function p8(e){return qc(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Sj(e){return typeof e=="number"&&e!==e}function so(e,t){try{return e instanceof t}catch{return!1}}function wj(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ic(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ek(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{wj(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function g8(e,t,n=!1){return Rs(e)?h8(t)?t.test(e):Rs(t)?n?e===t:e.includes(t):!1:!1}function Xf(e,t=[],n=!1){return t.some(r=>g8(e,r,n))}function m8(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!so(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=v8(JA(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function JA(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(so(r[i],Error)){tk(o,a);const c=e(t,r[i]),u=l.length;nk(c,i,u,a),l=JA(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(so(c,Error)){tk(o,a);const d=e(t,c),h=l.length;nk(d,`errors[${u}]`,h,a),l=JA(e,t,n,c,i,[d,...l],d,h)}}),l}function tk(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function nk(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function v8(e,t){return e.map(n=>(n.value&&(n.value=Ic(n.value,t)),n))}function Dh(e){return e&&e.Math==Math?e:void 0}const dt=typeof globalThis=="object"&&Dh(globalThis)||typeof window=="object"&&Dh(window)||typeof self=="object"&&Dh(self)||typeof global=="object"&&Dh(global)||function(){return this}()||{};function Jb(){return dt}function Ej(e,t,n){const r=n||dt,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const Pc=Jb(),y8=80;function Wc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||y8;for(;n&&s++<r&&(c=A8(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function A8(e,t){const n=e,r=[];let i,s,o,a,l;if(!n||!n.tagName)return"";if(Pc.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&Rs(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)r.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function _8(){try{return Pc.document.location.href}catch{return""}}function b8(e){return Pc.document&&Pc.document.querySelector?Pc.document.querySelector(e):null}function kj(e){if(!Pc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Au=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,x8="Sentry Logger ",XA=["debug","info","warn","error","log","assert","trace"],Rg={};function s0(e){if(!("console"in dt))return e();const t=dt.console,n={},r=Object.keys(Rg);r.forEach(i=>{const s=Rg[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function S8(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Au?XA.forEach(n=>{t[n]=(...r)=>{e&&s0(()=>{dt.console[n](`${x8}[${n}]:`,...r)})}}):XA.forEach(n=>{t[n]=()=>{}}),t}const re=S8(),w8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function E8(e){return e==="http"||e==="https"}function Al(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function k8(e){const t=w8.exec(e);if(!t){s0(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s,o="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return Cj({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function Cj(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function C8(e){if(!Au)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(re.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?E8(r)?t&&isNaN(parseInt(t,10))?(re.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(re.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(re.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Tj(e){const t=typeof e=="string"?k8(e):Cj(e);if(!(!t||!C8(t)))return t}class Ss extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Qn(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&Ij(i,r),e[t]=i}function rl(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Au&&re.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Ij(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,rl(e,"__sentry_original__",t)}catch{}}function Xb(e){return e.__sentry_original__}function T8(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Pj(e){if(Wb(e))return{message:e.message,name:e.name,stack:e.stack,...ik(e)};if(r0(e)){const t={type:e.type,target:rk(e.target),currentTarget:rk(e.currentTarget),...ik(e)};return typeof CustomEvent<"u"&&so(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function rk(e){try{return f8(e)?Wc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ik(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function I8(e,t=40){const n=Object.keys(Pj(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ic(n[0],t);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Ic(i,t)}return""}function qr(e){return ZA(e,new Map)}function ZA(e,t){if(P8(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=ZA(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(ZA(i,t))}),r}return e}function P8(e){if(!qc(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const Rj=50,sk=/\(error: (.*)\)/,ok=/captureMessage|captureException/;function Mj(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const l=sk.test(a)?a.replace(sk,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of t){const u=c(l);if(u){i.push(u);break}}if(i.length>=Rj)break}}return M8(i)}}function R8(e){return Array.isArray(e)?Mj(...e):e}function M8(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),ok.test(t[t.length-1].function||"")&&(t.pop(),ok.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Rj).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const Yv="<anonymous>";function oo(e){try{return!e||typeof e!="function"?Yv:e.name||Yv}catch{return Yv}}const qp={},ak={};function _l(e,t){qp[e]=qp[e]||[],qp[e].push(t)}function bl(e,t){ak[e]||(t(),ak[e]=!0)}function ns(e,t){const n=e&&qp[e];if(n)for(const r of n)try{r(t)}catch(i){Au&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${oo(r)}
Error:`,i)}}function j8(e){const t="console";_l(t,e),bl(t,O8)}function O8(){"console"in dt&&XA.forEach(function(e){e in dt.console&&Qn(dt.console,e,function(t){return Rg[e]=t,function(...n){ns("console",{args:n,level:e});const i=Rg[e];i&&i.apply(dt.console,n)}})})}function hn(){const e=dt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function jj(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Lo(e){const{message:t,event_id:n}=e;if(t)return t;const r=jj(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function e1(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function uf(e,t){const n=jj(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function lk(e){if(e&&e.__sentry_captured__)return!0;try{rl(e,"__sentry_captured__",!0)}catch{}return!1}function Oj(e){return Array.isArray(e)?e:[e]}const Jl=dt,V8=1e3;let ck,t1,n1;function L8(e){const t="dom";_l(t,e),bl(t,N8)}function N8(){if(!Jl.document)return;const e=ns.bind(null,"dom"),t=uk(e,!0);Jl.document.addEventListener("click",t,!1),Jl.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Jl[n]&&Jl[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Qn(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=uk(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),Qn(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function $8(e){if(e.type!==t1)return!1;try{if(!e.target||e.target._sentryId!==n1)return!1}catch{}return!0}function B8(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function uk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=D8(n);if(B8(n.type,r))return;rl(n,"_sentryCaptured",!0),r&&!r._sentryId&&rl(r,"_sentryId",hn());const i=n.type==="keypress"?"input":n.type;$8(n)||(e({event:n,name:i,global:t}),t1=n.type,n1=r?r._sentryId:void 0),clearTimeout(ck),ck=Jl.setTimeout(()=>{n1=void 0,t1=void 0},V8)}}function D8(e){try{return e.target}catch{return null}}const r1=Jb();function Vj(){if(!("fetch"in r1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function i1(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function F8(){if(typeof EdgeRuntime=="string")return!0;if(!Vj())return!1;if(i1(r1.fetch))return!0;let e=!1;const t=r1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=i1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Au&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Lj(e){const t="fetch";_l(t,e),bl(t,z8)}function z8(){F8()&&Qn(dt,"fetch",function(e){return function(...t){const{method:n,url:r}=U8(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return ns("fetch",{...i}),e.apply(dt,t).then(s=>{const o={...i,endTimestamp:Date.now(),response:s};return ns("fetch",o),s},s=>{const o={...i,endTimestamp:Date.now(),error:s};throw ns("fetch",o),s})}})}function s1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function dk(e){return typeof e=="string"?e:e?s1(e,"url")?e.url:e.toString?e.toString():"":""}function U8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:dk(n),method:s1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:dk(t),method:s1(t,"method")?String(t.method).toUpperCase():"GET"}}let Fh=null;function Nj(e){const t="error";_l(t,e),bl(t,H8)}function H8(){Fh=dt.onerror,dt.onerror=function(e,t,n,r,i){return ns("error",{column:r,error:i,line:n,msg:e,url:t}),Fh&&!Fh.__SENTRY_LOADER__?Fh.apply(this,arguments):!1},dt.onerror.__SENTRY_INSTRUMENTED__=!0}let zh=null;function $j(e){const t="unhandledrejection";_l(t,e),bl(t,G8)}function G8(){zh=dt.onunhandledrejection,dt.onunhandledrejection=function(e){return ns("unhandledrejection",e),zh&&!zh.__SENTRY_LOADER__?zh.apply(this,arguments):!0},dt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Uh=Jb();function q8(){const e=Uh.chrome,t=e&&e.app&&e.app.runtime,n="history"in Uh&&!!Uh.history.pushState&&!!Uh.history.replaceState;return!t&&n}const zu=dt;let Hh;function Zb(e){const t="history";_l(t,e),bl(t,W8)}function W8(){if(!q8())return;const e=zu.onpopstate;zu.onpopstate=function(...n){const r=zu.location.href,i=Hh;if(Hh=r,ns("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Hh,o=String(i);Hh=o,ns("history",{from:s,to:o})}return n.apply(this,r)}}Qn(zu.history,"pushState",t),Qn(zu.history,"replaceState",t)}const K8=dt,nc="__sentry_xhr_v3__";function Bj(e){const t="xhr";_l(t,e),bl(t,Y8)}function Y8(){if(!K8.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Qn(e,"open",function(t){return function(...n){const r=Date.now(),i=Rs(n[0])?n[0].toUpperCase():void 0,s=Q8(n[1]);if(!i||!s)return t.apply(this,n);this[nc]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[nc];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={args:[i,s],endTimestamp:Date.now(),startTimestamp:r,xhr:this};ns("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Qn(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),Qn(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[nc];return d&&Rs(c)&&Rs(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),Qn(e,"send",function(t){return function(...n){const r=this[nc];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return ns("xhr",i),t.apply(this,n)}})}function Q8(e){if(Rs(e))return e;try{return e.toString()}catch{}}function J8(){return"npm"}function X8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function jo(e,t=100,n=1/0){try{return o1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Dj(e,t=3,n=100*1024){const r=jo(e,t);return n7(r)>n?Dj(e,t-1,n):r}function o1(e,t,n=1/0,r=1/0,i=X8()){const[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Sj(t))return t;const a=Z8(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return o1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=Pj(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=o1(p,g,l-1,r,i),d++}return o(t),u}function Z8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(wj(t))return"[VueViewModel]";if(p8(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${oo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=e7(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function e7(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function t7(e){return~-encodeURI(e).split(/%..|./).length}function n7(e){return t7(JSON.stringify(e))}var Ws;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Ws||(Ws={}));function Kc(e){return new Ur(t=>{t(e)})}function ex(e){return new Ur((t,n)=>{n(e)})}class Ur{constructor(t){Ur.prototype.__init.call(this),Ur.prototype.__init2.call(this),Ur.prototype.__init3.call(this),Ur.prototype.__init4.call(this),this._state=Ws.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Ur((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ur((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Ws.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Ws.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Ws.PENDING){if(i0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ws.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Ws.RESOLVED&&n[1](this._value),this._state===Ws.REJECTED&&n[2](this._value),n[0]=!0)})}}}function r7(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return ex(new Ss("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Ur((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Kc(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function Ka(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const i7=["fatal","error","warning","log","info","debug"];function s7(e){return e==="warn"?"warning":i7.includes(e)?e:"log"}const Fj=1e3;function Zf(){return Date.now()/Fj}function o7(){const{performance:e}=dt;if(!e||!e.now)return Zf;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Fj}const il=o7(),Ei=(()=>{const{performance:e}=dt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})(),a1="baggage",zj="sentry-",a7=/^sentry-/,l7=8192;function c7(e){if(!Rs(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,i)=>{const s=fk(i);for(const o of Object.keys(s))r[o]=s[o];return r},{});else{if(!e)return;t=fk(e)}const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(a7)){const o=i.slice(zj.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function Uj(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${zj}${r}`]=i),n),{});return u7(t)}function fk(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function u7(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>l7?(Au&&re.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const d7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function f7(e){if(!e)return;const t=e.match(d7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function h7(e,t){const n=f7(e),r=c7(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||hn(),parentSpanId:s||hn().substring(16),spanId:hn().substring(16),sampled:o,dsc:r||{}}:{traceId:i||hn(),spanId:hn().substring(16)}}function tx(e=hn(),t=hn().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function xl(e,t=[]){return[e,t]}function p7(e,t){const[n,r]=e;return[n,[...r,t]]}function hk(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function l1(e,t){return(t||new TextEncoder).encode(e)}function g7(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[l1(i,t),o]:i.push(typeof o=="string"?l1(o,t):o)}for(const o of r){const[a,l]=o;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(jo(l))}s(c)}}return typeof i=="string"?i:m7(i)}function m7(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function v7(e,t){const n=typeof e.data=="string"?l1(e.data,t):e.data;return[qr({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const y7={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function pk(e){return y7[e]}function Hj(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function A7(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Al(r)},...i&&{trace:qr({...i})}}}function _7(e,t,n){const r=[{type:"client_report"},{timestamp:n||Zf(),discarded_events:e}];return xl(t?{dsn:t}:{},[r])}const b7=60*1e3;function x7(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?b7:r-t}function S7(e,t){return e[t]||e.all||0}function w7(e,t,n=Date.now()){return S7(e,t)>n}function E7(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+x7(o,r):t===429&&(i.all=r+60*1e3);return i}const Me=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,o0="production";function nx(){return Ej("globalEventProcessors",()=>[])}function k7(e){nx().push(e)}function Mg(e,t,n,r=0){return new Ur((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);Me&&o.id&&a===null&&re.log(`Event processor "${o.id}" dropped event`),i0(a)?a.then(l=>Mg(e,l,n,r+1).then(i)).then(null,s):Mg(e,a,n,r+1).then(i).then(null,s)}})}function Gj(e){const t=il(),n={sid:hn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>C7(n)};return e&&sl(n,e),n}function sl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||il(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:hn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function qj(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),sl(e,n)}function C7(e){return qr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const T7=0,Wj=1;function rx(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,tags:a,origin:l}=Tn(e);return qr({data:r,op:i,parent_span_id:s,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function a0(e){const{traceId:t,spanId:n}=e.spanContext(),r=ix(e);return tx(t,n,r)}function l0(e){return typeof e=="number"?gk(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?gk(e.getTime()):il()}function gk(e){return e>9999999999?e/1e3:e}function Tn(e){return I7(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function I7(e){return typeof e.getSpanJSON=="function"}function ix(e){const{traceFlags:t}=e.spanContext();return!!(t&Wj)}function P7(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||hn(),timestamp:t.timestamp||Zf()},c=n.integrations||e.integrations.map(A=>A.name);R7(l,e),O7(l,c),t.type===void 0&&M7(l,e.stackParser);const u=L7(r,n.captureContext);n.mechanism&&uf(l,n.mechanism);const d=i&&i.getEventProcessors?i.getEventProcessors():[],h=K7().getScopeData();if(s){const A=s.getScopeData();_k(h,A)}if(u){const A=u.getScopeData();_k(h,A)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Jj(l,h);const g=[...d,...nx(),...h.eventProcessors];return Mg(g,l,n).then(A=>(A&&j7(A),typeof o=="number"&&o>0?V7(A,o,a):A))}function R7(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:o0),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Ic(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Ic(o.value,s));const a=e.request;a&&a.url&&(a.url=Ic(a.url,s))}const mk=new WeakMap;function M7(e,t){const n=dt._sentryDebugIds;if(!n)return;let r;const i=mk.get(t);i?r=i:(r=new Map,mk.set(t,r));const s=Object.keys(n).reduce((o,a)=>{let l;const c=r.get(a);c?l=c:(l=t(a),r.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function j7(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function O7(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function V7(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:jo(i.data,t,n)}}))},...e.user&&{user:jo(e.user,t,n)},...e.contexts&&{contexts:jo(e.contexts,t,n)},...e.extra&&{extra:jo(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=jo(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>{const s=Tn(i).data;return s&&(i.data=jo(s,t,n)),i})),r}function L7(e,t){if(!t)return e;const n=e?e.clone():new no;return n.update(t),n}function N7(e){if(e)return $7(e)?{captureContext:e}:D7(e)?{captureContext:e}:e}function $7(e){return e instanceof no||typeof e=="function"}const B7=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function D7(e){return Object.keys(e).some(t=>B7.includes(t))}function Ls(e,t){return cr().captureException(e,N7(t))}function Kj(e,t){return cr().captureEvent(e,t)}function ol(e,t){cr().addBreadcrumb(e,t)}function F7(e){cr().setUser(e)}function sx(...e){const t=cr();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function vk(e,t){return sx(n=>(n.setSpan(e),t(n)))}function In(){return cr().getClient()}function zs(){return cr().getScope()}function yk(e){const t=In(),n=Sl(),r=zs(),{release:i,environment:s=o0}=t&&t.getOptions()||{},{userAgent:o}=dt.navigator||{},a=Gj({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&sl(l,{status:"exited"}),Yj(),n.setSession(a),r.setSession(a),a}function Yj(){const e=Sl(),t=zs(),n=t.getSession()||e.getSession();n&&qj(n),Qj(),e.setSession(),t.setSession()}function Qj(){const e=Sl(),t=zs(),n=In(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Ak(e=!1){if(e){Yj();return}Qj()}function jg(e){return e.transaction}function c0(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=qr({environment:r.environment||o0,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Yc(e){const t=In();if(!t)return{};const n=c0(Tn(e).trace_id||"",t,zs()),r=jg(e);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:o}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const a=Tn(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(ix(r)),t.emit&&t.emit("createDsc",n),n}function Jj(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;z7(e,t),r&&G7(e,r),q7(e,n),U7(e,i),H7(e,s)}function _k(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;Uu(e,"extra",n),Uu(e,"tags",r),Uu(e,"user",i),Uu(e,"contexts",s),Uu(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Uu(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function z7(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=qr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=qr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=qr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=qr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function U7(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function H7(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function G7(e,t){e.contexts={trace:rx(t),...e.contexts};const n=jg(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Yc(t),...e.sdkProcessingMetadata};const r=Tn(n).description;r&&(e.tags={transaction:r,...e.tags})}}function q7(e,t){e.fingerprint=e.fingerprint?Oj(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const W7=100;let Qv;class no{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=bk()}static clone(t){return t?t.clone():new no}clone(){const t=new no;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&sl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof no){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(qc(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=bk(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:W7;if(r<=0)return this;const i={timestamp:Zf(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:o,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:h,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:i,extra:s,user:o,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:h,span:p}}applyToEvent(t,n={},r=[]){Jj(t,this.getScopeData());const i=[...r,...nx(),...this._eventProcessors];return Mg(i,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:hn();if(!this._client)return re.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:hn();if(!this._client)return re.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(re.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function K7(){return Qv||(Qv=new no),Qv}function bk(){return{traceId:hn(),spanId:hn().substring(16)}}const c1="7.112.2",Xj=parseFloat(c1),Y7=100;class Zj{constructor(t,n,r,i=Xj){this._version=i;let s;n?s=n:(s=new no,s.setClient(t));let o;r?o=r:(o=new no,o.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(i){throw this.popScope(),i}return i0(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:hn(),i=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:i,...n,event_id:r}),r}captureMessage(t,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:hn(),s=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i}),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hn();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Y7}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const l={timestamp:Zf(),...t},c=s?s0(()=>s(l,n)):l;c!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",c,n),r.addBreadcrumb(c,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=xk(this);try{t(this)}finally{xk(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return Me&&re.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return Me&&!r&&(this.getClient()?re.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):re.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&qj(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=o0}=r&&r.getOptions()||{},{userAgent:o}=dt.navigator||{},a=Gj({release:i,environment:s,user:n.getUser(),...o&&{userAgent:o},...t}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&sl(l,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const i=eh().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);Me&&re.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function eh(){return dt.__SENTRY__=dt.__SENTRY__||{extensions:{},hub:void 0},dt}function xk(e){const t=eh(),n=u1(t);return e5(t,e),n}function cr(){const e=eh();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Q7(e)}function Sl(){return cr().getIsolationScope()}function Q7(e=eh()){return(!J7(e)||u1(e).isOlderThan(Xj))&&e5(e,new Zj),u1(e)}function J7(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function u1(e){return Ej("hub",()=>new Zj,e)}function e5(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function wl(e){return(e||cr()).getScope().getTransaction()}let Sk=!1;function X7(){Sk||(Sk=!0,Nj(d1),$j(d1))}function d1(){const e=wl();if(e){const t="internal_error";Me&&re.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}d1.tag="sentry_tracingErrorCallback";var wk;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const i="permission_denied";e.PermissionDenied=i;const s="not_found";e.NotFound=s;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const l="unimplemented";e.Unimplemented=l;const c="unavailable";e.Unavailable=c;const u="internal_error";e.InternalError=u;const d="unknown_error";e.UnknownError=d;const h="cancelled";e.Cancelled=h;const p="already_exists";e.AlreadyExists=p;const g="failed_precondition";e.FailedPrecondition=g;const m="aborted";e.Aborted=m;const A="out_of_range";e.OutOfRange=A;const v="data_loss";e.DataLoss=v})(wk||(wk={}));function Z7(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function ox(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Z7(t);n!=="unknown_error"&&e.setStatus(n)}function _u(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=In(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Pd(e){if(!_u())return;const t=tz(e),n=cr(),r=e.scope?e.scope.getSpan():ax();if(e.onlyIfParent&&!r)return;const o=(e.scope||zs()).clone();return ez(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function ax(){return zs().getSpan()}function ez(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:i}){if(!_u())return;const s=Sl();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=Yc(t),{traceId:l,spanId:c}=t.spanContext(),u=ix(t);o=e.startTransaction({traceId:l,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...i.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:l,...n.metadata}})}return i.setSpan(o),nz(o,i,s),o}function tz(e){if(e.startTime){const t={...e};return t.startTimestamp=l0(e.startTime),delete t.startTime,t}return e}const t5="_sentryScope",n5="_sentryIsolationScope";function nz(e,t,n){e&&(rl(e,n5,n),rl(e,t5,t))}function rz(e){return{scope:e[t5],isolationScope:e[n5]}}const Qo="sentry.source",rc="sentry.sample_rate",Gh="sentry.op",ic="sentry.origin",iz="profile_id";class r5{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class u0{constructor(t={}){this._traceId=t.traceId||hn(),this._spanId=t.spanId||hn().substring(16),this._startTime=t.startTimestamp||il(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[ic]:t.origin||"manual",[Gh]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[Gh]}set op(t){this.setAttribute(Gh,t)}get origin(){return this._attributes[ic]}set origin(t){this.setAttribute(ic,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Wj:T7}}startChild(t){const n=new u0({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=jg(this);if(n.transaction=r,Me&&r){const i=t&&t.op||"< unknown op >",s=Tn(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${i}' span on transaction '${s}' (${o}).`;re.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return ox(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=jg(this);if(Me&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&re.log(r.replace("Starting","Finishing"))}this._endTime=l0(t)}toTraceparent(){return a0(this)}toContext(){return qr({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return rx(this)}getSpanJSON(){return qr({data:this._getData(),description:this._name,op:this._attributes[Gh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ic],_metrics_summary:void 0,profile_id:this._attributes[iz],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?{...t,...n}:r?t:n}}class i5 extends u0{constructor(t,n){super(t),this._contexts={},this._hub=n||cr(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Qo]&&{source:this._attributes[Qo]},...this._attributes[rc]&&{sampleRate:this._attributes[rc]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(Qo,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new r5(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=l0(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return qr({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Yc(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(Me&&re.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Me&&re.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&Tn(u).timestamp):[];if(this._trimEnd&&r.length>0){const u=r.map(d=>Tn(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,h)=>d>h?d:h)}const{scope:i,isolationScope:s}=rz(this),{metadata:o}=this,{source:a}=o,l={contexts:{...this._contexts,trace:rx(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:i,capturedSpanIsolationScope:s,...qr({dynamicSamplingContext:Yc(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(Me&&re.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),Me&&re.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const Wp={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},sz="finishReason",Dl=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class oz extends r5{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),Tn(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class az extends i5{constructor(t,n,r=Wp.idleTimeout,i=Wp.finalTimeout,s=Wp.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Dl[4],this._autoFinishAllowed=!a,o&&(Me&&re.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Dl[3],this.end())},this._finalTimeout)}end(t){const n=l0(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(sz,this._finishReason),this.spanRecorder){Me&&re.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;Tn(r).timestamp||(r.setStatus("cancelled"),r.end(n),Me&&re.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:i,timestamp:s}=Tn(r),o=i&&i<n,a=(this._finalTimeout+this._idleTimeout)/1e3,l=s&&i&&s-i<a;if(Me){const c=JSON.stringify(r,void 0,2);o?l||re.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):re.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return o&&l}),Me&&re.log("[Tracing] flushing IdleTransaction")}else Me&&re.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new oz(n,r,this.spanContext().spanId,t),Me&&re.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Dl[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(Me&&re.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Dl[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),Me&&re.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,Me&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(Me&&re.log(`[Tracing] popActivity ${t}`),delete this.activities[t],Me&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=il();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Dl[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(Me&&re.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Dl[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){Me&&re.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function s5(e,t,n){if(!_u(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(rc,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(rc,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(rc,Number(r))):(r=1,e.setAttribute(rc,r)),o5(r)?r?(e.sampled=Math.random()<r,e.sampled?(Me&&re.log(`[Tracing] starting ${e.op} transaction - ${Tn(e).description}`),e):(Me&&re.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(Me&&re.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(Me&&re.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function o5(e){return Sj(e)||!(typeof e=="number"||typeof e=="boolean")?(Me&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(Me&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function lz(){const t=this.getScope().getSpan();return t?{"sentry-trace":a0(t)}:{}}function cz(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&(Me&&re.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new i5(e,this);return o=s5(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function a5(e,t,n,r,i,s,o,a=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new az(t,e,n,r,o,i,a);return u=s5(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...s}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function uz(){const e=eh();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=cz),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=lz),X7())}function dz(e,t,n){const r=wl();r&&r.setMeasurement(e,t,n)}function fz(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function hz(e,t,n,r){const i=Hj(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Al(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return xl(s,[o])}function pz(e,t,n,r){const i=Hj(n),s=e.type&&e.type!=="replay_event"?e.type:"event";fz(e,n&&n.sdk);const o=A7(e,i,r,t);return delete e.sdkProcessingMetadata,xl(o,[[{type:s},e]])}const gz="7";function l5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function mz(e){return`${l5(e)}${e.projectId}/envelope/`}function vz(e,t){return T8({sentry_key:e.publicKey,sentry_version:gz,...t&&{sentry_client:`${t.name}/${t.version}`}})}function yz(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${mz(e)}?${vz(e,r)}`}function Az(e,t){const n=Tj(e);if(!n)return"";const r=`${l5(n)}embed/error-page/`;let i=`dsn=${Al(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const Ek=[];function _z(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function bz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Oj(n(t)):r=t;const i=_z(r),s=Sz(i,o=>o.name==="Debug");if(s!==-1){const[o]=i.splice(s,1);i.push(o)}return i}function xz(e,t){const n={};return t.forEach(r=>{r&&c5(e,r,n)}),n}function kk(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function c5(e,t,n){if(n[t.name]){Me&&re.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ek.indexOf(t.name)===-1&&(t.setupOnce(k7,cr),Ek.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Me&&re.log(`Integration installed: ${t.name}`)}function Sz(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function ua(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}function wz(e){let t="";for(const n of e){const r=Object.entries(n.tags),i=r.length>0?`|#${r.map(([s,o])=>`${s}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${i}|T${n.timestamp}
`}return t}function Ez(e,t,n,r){const i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=Al(t));const s=kz(e);return xl(i,[s])}function kz(e){const t=wz(e);return[{type:"statsd",length:t.length},t]}const Ck="Not capturing exception because it's already been captured.";class Cz{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Tj(t.dsn):Me&&re.warn("No DSN provided, client will not send events."),this._dsn){const n=yz(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(lk(t)){Me&&re.log(Ck);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id;const o=Yb(t)?t:String(t),a=Qb(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(l=>this._captureEvent(l,r,i)).then(l=>{s=l})),s}captureEvent(t,n,r){if(n&&n.originalException&&lk(n.originalException)){Me&&re.log(Ck);return}let i=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{i=a})),i}captureSession(t){typeof t.release!="string"?Me&&re.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),sl(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Kc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return Me&&re.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];c5(this,t,this._integrations),n||kk(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=pz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=p7(r,v7(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=hz(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;Me&&re.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(t){Me&&re.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Ez(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=xz(this,t),kk(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(sl(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ur(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=Sl()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),P7(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:{trace_id:u,span_id:d,parent_span_id:h},...a.contexts};const g=p||c0(u,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Me){const s=i;s.logLevel==="log"?re.log(s.message):re.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=d5(t),a=u5(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),ex(new Ss(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u=l==="replay_event"?"replay":l,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u,t),new Ss("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const m=Iz(i,p,n);return Tz(m,c)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",u,t),new Ss(`${c} returned \`null\`, will not send event.`,"log");const g=r&&r.getSession();!o&&g&&this._updateSessionFromEvent(g,p);const m=p.transaction_info;if(o&&m&&p.transaction!==t.transaction){const A="custom";p.transaction_info={...m,source:A}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Ss?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Ss(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{Me&&re.error("Error while sending event:",n)});Me&&re.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function Tz(e,t){const n=`${t} must return \`null\` or a valid event.`;if(i0(e))return e.then(r=>{if(!qc(r)&&r!==null)throw new Ss(n);return r},r=>{throw new Ss(`${t} rejected with ${r}`)});if(!qc(e)&&e!==null)throw new Ss(n);return e}function Iz(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return u5(t)&&r?r(t,n):d5(t)&&i?i(t,n):t}function u5(e){return e.type===void 0}function d5(e){return e.type==="transaction"}function Pz(e,t){t.debug===!0&&(Me?re.enable():s0(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),zs().update(t.initialScope);const r=new e(t);Rz(r),Mz(r)}function Rz(e){const n=cr().getStackTop();n.client=e,n.scope.setClient(e)}function Mz(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const jz=30;function f5(e,t,n=r7(e.bufferSize||jz)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(hk(o,(d,h)=>{const p=pk(h);if(w7(r,p)){const g=Tk(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Kc();const l=xl(o[0],a),c=d=>{hk(l,(h,p)=>{const g=Tk(h,p);e.recordDroppedEvent(d,pk(p),g)})},u=()=>t({body:g7(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Me&&re.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=E7(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof Ss)return Me&&re.error("Skipped sending event because buffer is full."),c("queue_overflow"),Kc();throw d})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function Tk(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Oz(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=Al(t));const r=e.map(Vz);return xl(n,r)}function Vz(e){return[{type:"span"},e]}function h5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:c1})),version:c1}),e._metadata=i}const Lz=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Nz=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],p5="InboundFilters",$z=(e={})=>({name:p5,setupOnce(){},processEvent(t,n,r){const i=r.getOptions(),s=Bz(e,i);return Dz(t,s)?null:t}}),g5=$z;ua(p5,g5);function Bz(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Lz],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Nz],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Dz(e,t){return t.ignoreInternal&&qz(e)?(Me&&re.warn(`Event dropped due to being internal Sentry Error.
Event: ${Lo(e)}`),!0):Fz(e,t.ignoreErrors)?(Me&&re.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Lo(e)}`),!0):zz(e,t.ignoreTransactions)?(Me&&re.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Lo(e)}`),!0):Uz(e,t.denyUrls)?(Me&&re.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Lo(e)}.
Url: ${Og(e)}`),!0):Hz(e,t.allowUrls)?!1:(Me&&re.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Lo(e)}.
Url: ${Og(e)}`),!0)}function Fz(e,t){return e.type||!t||!t.length?!1:Gz(e).some(n=>Xf(n,t))}function zz(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Xf(n,t):!1}function Uz(e,t){if(!t||!t.length)return!1;const n=Og(e);return n?Xf(n,t):!1}function Hz(e,t){if(!t||!t.length)return!0;const n=Og(e);return n?Xf(n,t):!0}function Gz(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),Me&&t.length===0&&re.error(`Could not extract message for event ${Lo(e)}`),t}function qz(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Wz(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Og(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Wz(t):null}catch{return Me&&re.error(`Cannot extract url for event ${Lo(e)}`),null}}let Ik;const m5="FunctionToString",Pk=new WeakMap,Kz=()=>({name:m5,setupOnce(){Ik=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Xb(this),n=Pk.has(In())&&t!==void 0?t:this;return Ik.apply(n,e)}}catch{}},setup(e){Pk.set(e,!0)}}),v5=Kz;ua(m5,v5);const Ht=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Be=dt;function Yz(){Be.document?Be.document.addEventListener("visibilitychange",()=>{const e=wl();if(Be.document.hidden&&e){const t="cancelled",{op:n,status:r}=Tn(e);Ht&&re.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):Ht&&re.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const th=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&(i=t.value-(r||0),(i||r===void 0)&&(r=t.value,t.delta=i,e(t)))}},Qz=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Jz=()=>{const e=Be.performance.timing,t=Be.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},d0=()=>Be.__WEB_VITALS_POLYFILL__?Be.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Jz()):Be.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],lx=()=>{const e=d0();return e&&e.activationStart||0},nh=(e,t)=>{const n=d0();let r="navigate";return n&&(Be.document&&Be.document.prerendering||lx()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Qz(),navigationType:r}},bu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{t(i.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},rh=(e,t)=>{const n=r=>{(r.type==="pagehide"||Be.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Be.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},Xz=e=>{const t=nh("CLS",0);let n,r=0,i=[];const s=a=>{a.forEach(l=>{if(!l.hadRecentInput){const c=i[0],u=i[i.length-1];r&&i.length!==0&&l.startTime-u.startTime<1e3&&l.startTime-c.startTime<5e3?(r+=l.value,i.push(l)):(r=l.value,i=[l]),r>t.value&&(t.value=r,t.entries=i,n&&n())}})},o=bu("layout-shift",s);if(o){n=th(e,t);const a=()=>{s(o.takeRecords()),n(!0)};return rh(a),a}};let Vg=-1;const Zz=()=>{Be.document&&Be.document.visibilityState&&(Vg=Be.document.visibilityState==="hidden"&&!Be.document.prerendering?0:1/0)},e9=()=>{rh(({timeStamp:e})=>{Vg=e},!0)},cx=()=>(Vg<0&&(Zz(),e9()),{get firstHiddenTime(){return Vg}}),t9=e=>{const t=cx(),n=nh("FID");let r;const i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=bu("first-input",s);r=th(e,n),o&&rh(()=>{s(o.takeRecords()),o.disconnect()},!0)};let y5=0,Jv=1/0,qh=0;const n9=e=>{e.forEach(t=>{t.interactionId&&(Jv=Math.min(Jv,t.interactionId),qh=Math.max(qh,t.interactionId),y5=qh?(qh-Jv)/7+1:0)})};let f1;const r9=()=>f1?y5:performance.interactionCount||0,i9=()=>{"interactionCount"in performance||f1||(f1=bu("event",n9,{type:"event",buffered:!0,durationThreshold:0}))},A5=()=>r9(),Rk=10,Ys=[],Xv={},Mk=e=>{const t=Ys[Ys.length-1],n=Xv[e.interactionId];if(n||Ys.length<Rk||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Xv[r.id]=r,Ys.push(r)}Ys.sort((r,i)=>i.latency-r.latency),Ys.splice(Rk).forEach(r=>{delete Xv[r.id]})}},s9=()=>{const e=Math.min(Ys.length-1,Math.floor(A5()/50));return Ys[e]},o9=(e,t)=>{t=t||{},i9();const n=nh("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&Mk(l),l.entryType==="first-input"&&!Ys.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&Mk(l)});const a=s9();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=bu("event",i,{durationThreshold:t.durationThreshold||40});r=th(e,n,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),rh(()=>{i(s.takeRecords()),n.value<0&&A5()>0&&(n.value=0,n.entries=[]),r(!0)}))},jk={},a9=e=>{const t=cx(),n=nh("LCP");let r;const i=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-lx(),0);l<t.firstHiddenTime&&(n.value=l,n.entries=[a],r())}},s=bu("largest-contentful-paint",i);if(s){r=th(e,n);const o=()=>{jk[n.id]||(i(s.takeRecords()),s.disconnect(),jk[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{Be.document&&addEventListener(a,o,{once:!0,capture:!0})}),rh(o,!0),o}},h1=e=>{Be.document&&(Be.document.prerendering?addEventListener("prerenderingchange",()=>h1(e),!0):Be.document.readyState!=="complete"?addEventListener("load",()=>h1(e),!0):setTimeout(e,0))},l9=(e,t)=>{t=t||{};const n=nh("TTFB"),r=th(e,n,t.reportAllChanges);h1(()=>{const i=d0();if(i){if(n.value=Math.max(i.responseStart-lx(),0),n.value<0||n.value>performance.now())return;n.entries=[i],r(!0)}})},Rd={},Lg={};let _5,b5,x5,S5,w5;function c9(e,t=!1){return ih("cls",e,p9,_5,t)}function u9(e,t=!1){return ih("lcp",e,m9,x5,t)}function d9(e){return ih("ttfb",e,v9,S5)}function f9(e){return ih("fid",e,g9,b5)}function h9(e){return ih("inp",e,y9,w5)}function df(e,t){return E5(e,t),Lg[e]||(A9(e),Lg[e]=!0),k5(e,t)}function xu(e,t){const n=Rd[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Ht&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${oo(r)}
Error:`,i)}}function p9(){return Xz(e=>{xu("cls",{metric:e}),_5=e})}function g9(){return t9(e=>{xu("fid",{metric:e}),b5=e})}function m9(){return a9(e=>{xu("lcp",{metric:e}),x5=e})}function v9(){return l9(e=>{xu("ttfb",{metric:e}),S5=e})}function y9(){return o9(e=>{xu("inp",{metric:e}),w5=e})}function ih(e,t,n,r,i=!1){E5(e,t);let s;return Lg[e]||(s=n(),Lg[e]=!0),r&&t({metric:r}),k5(e,t,i?s:void 0)}function A9(e){const t={};e==="event"&&(t.durationThreshold=0),bu(e,n=>{xu(e,{entries:n})},t)}function E5(e,t){Rd[e]=Rd[e]||[],Rd[e].push(t)}function k5(e,t,n){return()=>{n&&n();const r=Rd[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function Zv(e){return typeof e=="number"&&isFinite(e)}function Qc(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const _9=2147483647;function jn(e){return e/1e3}function ux(){return Be&&Be.addEventListener&&Be.performance}let Ok=0,nn={},ms,Md;function b9(){const e=ux();if(e&&Ei){e.mark&&Be.performance.mark("sentry-tracing-init");const t=C9(),n=E9(),r=k9(),i=T9();return()=>{t(),n(),r(),i()}}return()=>{}}function x9(){df("longtask",({entries:e})=>{for(const t of e){const n=wl();if(!n)return;const r=jn(Ei+t.startTime),i=jn(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}})}function S9(){df("event",({entries:e})=>{for(const t of e){const n=wl();if(!n)return;if(t.name==="click"){const r=jn(Ei+t.startTime),i=jn(t.duration),s={description:Wc(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i},o=kj(t.target);o&&(s.attributes={"ui.component_name":o}),n.startChild(s)}}})}function w9(e,t){if(ux()&&Ei){const r=I9(e,t);return()=>{r()}}return()=>{}}function E9(){return c9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ht&&re.log("[Measurements] Adding CLS"),nn.cls={value:e.value,unit:""},Md=t)},!0)}function k9(){return u9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ht&&re.log("[Measurements] Adding LCP"),nn.lcp={value:e.value,unit:"millisecond"},ms=t)},!0)}function C9(){return f9(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=jn(Ei),r=jn(t.startTime);Ht&&re.log("[Measurements] Adding FID"),nn.fid={value:e.value,unit:"millisecond"},nn["mark.fid"]={value:n+r,unit:"second"}})}function T9(){return d9(({metric:e})=>{e.entries[e.entries.length-1]&&(Ht&&re.log("[Measurements] Adding TTFB"),nn.ttfb={value:e.value,unit:"millisecond"})})}const Vk={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function I9(e,t){return h9(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&Vk[b.name]!==void 0),i=In();if(!r||!i)return;const s=Vk[r.name],o=i.getOptions(),a=jn(Ei+r.startTime),l=jn(n.value),c=r.interactionId!==void 0?e[r.interactionId]:void 0;if(c===void 0)return;const{routeName:u,parentContext:d,activeTransaction:h,user:p,replayId:g}=c,m=p!==void 0?p.email||p.id||p.ip_address:void 0,A=h!==void 0?h.getProfileId():void 0,v=new u0({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${s}`,name:Wc(r.target),attributes:{release:o.release,environment:o.environment,transaction:u,...m!==void 0&&m!==""?{user:m}:{},...A!==void 0?{profile_id:A}:{},...g!==void 0?{replay_id:g}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=$9(d,o,t);if(y&&Math.random()<y){const b=v?Oz([v],i.getDsn()):void 0,S=i&&i.getTransport();S&&b&&S.send(b).then(null,x=>{Ht&&re.error("Error while sending interaction:",x)});return}})}function P9(e){const t=ux();if(!t||!Be.performance.getEntries||!Ei)return;Ht&&re.log("[Tracing] Adding & adjusting spans using Performance API");const n=jn(Ei),r=t.getEntries(),{op:i,start_timestamp:s}=Tn(e);if(r.slice(Ok).forEach(o=>{const a=jn(o.startTime),l=jn(o.duration);if(!(e.op==="navigation"&&s&&n+a<s))switch(o.entryType){case"navigation":{M9(e,o,n);break}case"mark":case"paint":case"measure":{R9(e,o,a,l,n);const c=cx(),u=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&u&&(Ht&&re.log("[Measurements] Adding FP"),nn.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(Ht&&re.log("[Measurements] Adding FCP"),nn.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{O9(e,o,o.name,a,l,n);break}}}),Ok=Math.max(r.length-1,0),V9(e),i==="pageload"){N9(nn),["fcp","fp","lcp"].forEach(a=>{if(!nn[a]||!s||n>=s)return;const l=nn[a].value,c=n+jn(l),u=Math.abs((c-s)*1e3),d=u-l;Ht&&re.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${d})`),nn[a].value=u});const o=nn["mark.fid"];o&&nn.fid&&(Qc(e,{description:"first input delay",endTimestamp:o.value+jn(nn.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete nn["mark.fid"]),"fcp"in nn||delete nn.cls,Object.keys(nn).forEach(a=>{dz(a,nn[a].value,nn[a].unit)}),L9(e)}ms=void 0,Md=void 0,nn={}}function R9(e,t,n,r,i){const s=i+n,o=s+r;return Qc(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function M9(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Wh(e,t,r,n)}),Wh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Wh(e,t,"fetch",n,"cache","domainLookupStart"),Wh(e,t,"domainLookup",n,"DNS"),j9(e,t,n)}function Wh(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+jn(a),endTimestamp:r+jn(o)})}function j9(e,t,n){t.responseEnd&&(Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+jn(t.requestStart),endTimestamp:n+jn(t.responseEnd)}),Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+jn(t.responseStart),endTimestamp:n+jn(t.responseEnd)}))}function O9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Ka(n),a={};ey(a,t,"transferSize","http.response_transfer_size"),ey(a,t,"encodedBodySize","http.response_content_length"),ey(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(Be.location.origin);const l=s+r,c=l+i;Qc(e,{description:n.replace(Be.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}function V9(e){const t=Be.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Zv(n.rtt)&&(nn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Zv(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Zv(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function L9(e){ms&&(Ht&&re.log("[Measurements] Adding LCP Data"),ms.element&&e.setTag("lcp.element",Wc(ms.element)),ms.id&&e.setTag("lcp.id",ms.id),ms.url&&e.setTag("lcp.url",ms.url.trim().slice(0,200)),e.setTag("lcp.size",ms.size)),Md&&Md.sources&&(Ht&&re.log("[Measurements] Adding CLS Data"),Md.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Wc(t.node))))}function ey(e,t,n,r){const i=t[n];i!=null&&i<_9&&(e[r]=i)}function N9(e){const t=d0();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Ht&&re.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function $9(e,t,n){if(!_u(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Be.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,o5(r)?r===!0?n:r===!1?0:r*n:(Ht&&re.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function B9(e,t,n,r,i="auto.http.browser"){if(!_u()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const p=e.fetchData.__span;if(!p)return;const g=r[p];g&&(z9(g,e),delete r[p]);return}const o=zs(),a=In(),{method:l,url:c}=e.fetchData,u=F9(c),d=u?Ka(u).host:void 0,h=s?Pd({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[ic]:i},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const g=e.args[1];g.headers=D9(p,a,o,g,h)}return h}function D9(e,t,n,r,i){const s=i||n.getSpan(),o=Sl(),{traceId:a,spanId:l,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=s?a0(s):tx(a,l,c),h=Uj(u||(s?Yc(s):c0(a,t,n))),p=r.headers||(typeof Request<"u"&&so(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&so(p,Headers)){const g=new Headers(p);return g.append("sentry-trace",d),h&&g.append(a1,h),g}else if(Array.isArray(p)){const g=[...p,["sentry-trace",d]];return h&&g.push([a1,h]),g}else{const g="baggage"in p?p.baggage:void 0,m=[];return Array.isArray(g)?m.push(...g):g&&m.push(g),h&&m.push(h),{...p,"sentry-trace":d,baggage:m.length>0?m.join(","):void 0}}else return{"sentry-trace":d,baggage:h}}function F9(e){try{return new URL(e).href}catch{return}}function z9(e,t){if(t.response){ox(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const p1=["localhost",/^\/(?!\/)/],g1={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:p1,tracePropagationTargets:p1};function U9(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:g1.traceFetch,traceXHR:g1.traceXHR,...e},a=typeof s=="function"?s:u=>!0,l=u=>W9(u,r||i),c={};t&&Lj(u=>{const d=B9(u,a,l,c);if(d){const h=C5(u.fetchData.url),p=h?Ka(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}o&&d&&Lk(d)}),n&&Bj(u=>{const d=K9(u,a,l,c);o&&d&&Lk(d)})}function H9(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Lk(e){const{url:t}=Tn(e).data||{};if(!t||typeof t!="string")return;const n=df("resource",({entries:r})=>{r.forEach(i=>{H9(i)&&i.name.endsWith(t)&&(q9(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function G9(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function fs(e=0){return((Ei||performance.timeOrigin)+e)/1e3}function q9(e){const{name:t,version:n}=G9(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Ei?[...r,["http.request.redirect_start",fs(e.redirectStart)],["http.request.fetch_start",fs(e.fetchStart)],["http.request.domain_lookup_start",fs(e.domainLookupStart)],["http.request.domain_lookup_end",fs(e.domainLookupEnd)],["http.request.connect_start",fs(e.connectStart)],["http.request.secure_connection_start",fs(e.secureConnectionStart)],["http.request.connection_end",fs(e.connectEnd)],["http.request.request_start",fs(e.requestStart)],["http.request.response_start",fs(e.responseStart)],["http.request.response_end",fs(e.responseEnd)]]:r}function W9(e,t){return Xf(e,t||p1)}function K9(e,t,n,r){const i=e.xhr,s=i&&i[nc];if(!_u()||!i||i.__sentry_own_request__||!s)return;const o=t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(ox(g,s.status_code),g.end(),delete r[p]);return}const a=zs(),l=Sl(),c=C5(s.url),u=c?Ka(c).host:void 0,d=o?Pd({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":u,[ic]:"auto.http.browser"},op:"http.client"}):void 0;d&&(i.__sentry_xhr_span_id__=d.spanContext().spanId,r[i.__sentry_xhr_span_id__]=d);const h=In();if(i.setRequestHeader&&n(s.url)&&h){const{traceId:p,spanId:g,sampled:m,dsc:A}={...l.getPropagationContext(),...a.getPropagationContext()},v=d?a0(d):tx(p,g,m),y=Uj(A||(d?Yc(d):c0(p,h,a)));Y9(i,v,y)}return d}function Y9(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(a1,n)}catch{}}function C5(e){try{return new URL(e,Be.location.origin).href}catch{return}}const Q9="BrowserTracing",J9={...Wp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...g1},X9=(e={})=>{const t=Ht?!!(e.tracePropagationTargets||e.tracingOrigins):!1;uz(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...J9,...e},r=b9(),i={};n.enableInp&&w9(i,n.interactionsSampleRate),n.enableLongTask&&x9(),n._experiments.enableInteractions&&S9();const s={name:void 0,context:void 0};function o(a){const l=cr(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:h}=n,p=a.op==="pageload";let g;if(p){const y=p?Nk("sentry-trace"):"",b=p?Nk("baggage"):void 0,{traceId:S,dsc:x,parentSpanId:w,sampled:E}=h7(y,b);g={traceId:S,parentSpanId:w,parentSampled:E,...a,metadata:{...a.metadata,dynamicSamplingContext:x},trimEnd:!0}}else g={trimEnd:!0,...a};const m=c?c(g):g;m.metadata=m.name!==g.name?{...m.metadata,source:"custom"}:m.metadata,s.name=m.name,s.context=m,m.sampled===!1&&Ht&&re.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),Ht&&re.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:A}=Be,v=a5(l,m,u,d,!0,{location:A},h,p);return p&&Be.document&&(Be.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Be.document.readyState)&&v.sendAutoFinishSignal()}),["interactive","complete"].includes(Be.document.readyState)&&v.sendAutoFinishSignal()),v.registerBeforeFinishCallback(y=>{r(),P9(y)}),v}return{name:Q9,setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,_experiments:g}=n,m=l&&l.tracePropagationTargets,A=m||n.tracePropagationTargets;Ht&&t&&m&&re.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let v,y=Be.location&&Be.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{v&&(Ht&&re.log(`[Tracing] Finishing current transaction with op: ${Tn(v).op}`),v.end()),v=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{v&&(Ht&&re.log(`[Tracing] Finishing current transaction with op: ${Tn(v).op}`),v.end()),v=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&Be.location){const b={name:Be.location.pathname,startTimestamp:Ei?Ei/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Qo]:"url"}};Z9(a,b)}n.instrumentNavigation&&a.emit&&Be.location&&Zb(({to:b,from:S})=>{if(S===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(S!==b){y=void 0;const x={name:Be.location.pathname,origin:"auto.navigation.browser",attributes:{[Qo]:"url"}};eU(a,x)}}),c&&Yz(),g.enableInteractions&&tU(n,s),n.enableInp&&rU(i,s),U9({traceFetch:u,traceXHR:d,tracePropagationTargets:A,shouldCreateSpanForRequest:h,enableHTTPTimings:p})},options:n}};function Z9(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=ax();return(n&&Tn(n).op)==="pageload"?n:void 0}function eU(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=ax();return(n&&Tn(n).op)==="navigation"?n:void 0}function Nk(e){const t=b8(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function tU(e,t){let n;const r=()=>{const{idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=e,a="ui.action.click",l=wl();if(l&&l.op&&["navigation","pageload"].includes(l.op)){Ht&&re.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){Ht&&re.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:c}=Be,u={name:t.name,op:a,trimEnd:!0,data:{[Qo]:t.context?iU(t.context):"url"}};n=a5(cr(),u,i,s,!0,{location:c},o)};["click"].forEach(i=>{Be.document&&addEventListener(i,r,{once:!1,capture:!0})})}function nU(e){return"duration"in e}const $k=10;function rU(e,t){const n=({entries:r})=>{const i=In(),s=i!==void 0&&i.getIntegrationByName!==void 0?i.getIntegrationByName("Replay"):void 0,o=s!==void 0?s.getReplayId():void 0,a=wl(),l=zs(),c=l!==void 0?l.getUser():void 0;r.forEach(u=>{if(nU(u)){const d=u.interactionId;if(d===void 0)return;const h=e[d],p=u.duration,g=u.startTime,m=Object.keys(e),A=m.length>0?m.reduce((v,y)=>e[v].duration<e[y].duration?v:y):void 0;if(u.entryType==="first-input"&&m.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===g)||!d)return;if(h)h.duration=Math.max(h.duration,p);else if(m.length<$k||A===void 0||p>e[A].duration){const v=t.name,y=t.context;v&&y&&(A&&Object.keys(e).length>=$k&&delete e[A],e[d]={routeName:v,duration:p,parentContext:y,user:c,activeTransaction:a,replayId:o,startTime:g})}}})};df("event",n),df("first-input",n)}function iU(e){const t=e.attributes&&e.attributes[Qo],n=e.data&&e.data[Qo],r=e.metadata&&e.metadata.source;return t||n||r}const at=dt;let m1=0;function T5(){return m1>0}function sU(){m1++,setTimeout(()=>{m1--})}function Jc(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Xb(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Jc(o,t));return e.apply(this,s)}catch(s){throw sU(),sx(o=>{o.addEventProcessor(a=>(t.mechanism&&(e1(a,void 0,void 0),uf(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Ls(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}Ij(r,e),rl(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const _i=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function I5(e,t){const n=dx(e,t),r={type:t&&t.name,value:cU(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function oU(e,t,n,r){const i=In(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:r0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:fU(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Dj(t,s)}};if(n){const a=dx(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function ty(e,t){return{exception:{values:[I5(e,t)]}}}function dx(e,t){const n=t.stacktrace||t.stack||"",r=lU(t);try{return e(n,r)}catch{}return[]}const aU=/Minified React error #\d+;/i;function lU(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(aU.test(e.message))return 1}return 0}function cU(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function uU(e,t,n,r){const i=n&&n.syntheticException||void 0,s=fx(e,t,i,r);return uf(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Kc(s)}function dU(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=v1(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Kc(o)}function fx(e,t,n,r,i){let s;if(Kb(t)&&t.error)return ty(e,t.error);if(Z2(t)||d8(t)){const o=t;if("stack"in t)s=ty(e,t);else{const a=o.name||(Z2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=v1(e,l,n,r),e1(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return Wb(t)?ty(e,t):qc(t)||r0(t)?(s=oU(e,t,n,i),uf(s,{synthetic:!0}),s):(s=v1(e,t,n,r),e1(s,`${t}`,void 0),uf(s,{synthetic:!0}),s)}function v1(e,t,n,r){const i={};if(r&&n){const s=dx(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(Yb(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function fU(e,{isUnhandledRejection:t}){const n=I8(e),r=t?"promise rejection":"exception";return Kb(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:r0(e)?`Event \`${hU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function hU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function pU(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Al(r)}},s=gU(e);return xl(i,[s])}function gU(e){return[{type:"user_report"},e]}class mU extends Cz{constructor(t){const n=at.SENTRY_SDK_SOURCE||J8();h5(t,"browser",["browser"],n),super(t),t.sendClientReports&&at.document&&at.document.addEventListener("visibilitychange",()=>{at.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return uU(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return dU(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){_i&&re.warn("SDK not enabled, will not capture user feedback.");return}const n=pU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){_i&&re.log("No outcomes to send");return}if(!this._dsn){_i&&re.log("No dsn provided, will not send outcomes");return}_i&&re.log("Sending outcomes:",t);const n=_7(t,this._options.tunnel&&Al(this._dsn));this._sendEnvelope(n)}}let hd;function vU(){if(hd)return hd;if(i1(at.fetch))return hd=at.fetch.bind(at);const e=at.document;let t=at.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){_i&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return hd=t.bind(at)}function yU(){hd=void 0}function AU(e,t=vU()){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return yU(),n-=o,r--,ex(l)}}return f5(e,i)}const _U=4;function bU(e){function t(n){return new Ur((r,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===_U&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&s.setRequestHeader(o,e.headers[o]);s.send(n.body)})}return f5(e,t)}const f0="?",xU=30,SU=40,wU=50;function hx(e,t,n,r){const i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const EU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,kU=/\((\S*)(?::(\d+))(?::(\d+))\)/,CU=e=>{const t=EU.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=kU.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,i]=P5(t[1]||f0,t[2]);return hx(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},TU=[xU,CU],IU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,PU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,RU=e=>{const t=IU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=PU.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||f0;return[i,r]=P5(i,r),hx(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},MU=[wU,RU],jU=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,OU=e=>{const t=jU.exec(e);return t?hx(t[2],t[1]||f0,+t[3],t[4]?+t[4]:void 0):void 0},VU=[SU,OU],LU=[TU,MU,VU],NU=Mj(...LU),P5=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:f0,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Kh=1024,R5="Breadcrumbs",$U=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:R5,setupOnce(){},setup(n){t.console&&j8(FU(n)),t.dom&&L8(DU(n,t.dom)),t.xhr&&Bj(zU(n)),t.fetch&&Lj(UU(n)),t.history&&Zb(HU(n)),t.sentry&&n.on&&n.on("beforeSendEvent",BU(n))}}},M5=$U;ua(R5,M5);function BU(e){return function(n){In()===e&&ol({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Lo(n)},{event:n})}}function DU(e,t){return function(r){if(In()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Kh&&(_i&&re.warn(`\`dom.maxStringLength\` cannot exceed ${Kh}, but a value of ${a} was configured. Sentry will use ${Kh} instead.`),a=Kh),typeof o=="string"&&(o=[o]);try{const c=r.event,u=GU(c)?c.target:c;i=Wc(u,{keyAttrs:o,maxStringLength:a}),s=kj(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),ol(l,{event:r.event,name:r.name,global:r.global})}}function FU(e){return function(n){if(In()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:s7(n.level),message:ek(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${ek(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ol(r,{input:n.args,level:n.level})}}function zU(e){return function(n){if(In()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[nc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};ol({category:"xhr",data:u,type:"http"},d)}}function UU(e){return function(n){if(In()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};ol({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};ol({category:"fetch",data:o,type:"http"},a)}}}function HU(e){return function(n){if(In()!==e)return;let r=n.from,i=n.to;const s=Ka(at.location.href);let o=r?Ka(r):void 0;const a=Ka(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),ol({category:"navigation",data:{from:r,to:i}})}}function GU(e){return!!e&&!!e.target}const j5="Dedupe",qU=()=>{let e;return{name:j5,setupOnce(){},processEvent(t){if(t.type)return t;try{if(WU(t,e))return _i&&re.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},O5=qU;ua(j5,O5);function WU(e,t){return t?!!(KU(e,t)||YU(e,t)):!1}function KU(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!L5(e,t)||!V5(e,t))}function YU(e,t){const n=Bk(t),r=Bk(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!L5(e,t)||!V5(e,t))}function V5(e,t){let n=Dk(e),r=Dk(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function L5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Bk(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Dk(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const N5="GlobalHandlers",QU=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:N5,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(JU(n),Fk("onerror")),t.onunhandledrejection&&(XU(n),Fk("onunhandledrejection"))}}},$5=QU;ua(N5,$5);function JU(e){Nj(t=>{const{stackParser:n,attachStacktrace:r}=D5();if(In()!==e||T5())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=l===void 0&&Rs(i)?tH(i,s,o,a):B5(fx(n,l||i,void 0,r,!1),s,o,a);c.level="error",Kj(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function XU(e){$j(t=>{const{stackParser:n,attachStacktrace:r}=D5();if(In()!==e||T5())return;const i=ZU(t),s=Qb(i)?eH(i):fx(n,i,void 0,r,!0);s.level="error",Kj(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function ZU(e){if(Qb(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function eH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function tH(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Kb(e)?e.message:e,o="Error";const a=s.match(i);return a&&(o=a[1],s=a[2]),B5({exception:{values:[{type:o,value:s}]}},t,n,r)}function B5(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Rs(t)&&t.length>0?t:_8();return l.length===0&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function Fk(e){_i&&re.log(`Global Handler attached: ${e}`)}function D5(){const e=In();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const F5="HttpContext",nH=()=>({name:F5,setupOnce(){},preprocessEvent(e){if(!at.navigator&&!at.location&&!at.document)return;const t=e.request&&e.request.url||at.location&&at.location.href,{referrer:n}=at.document||{},{userAgent:r}=at.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),z5=nH;ua(F5,z5);const rH="cause",iH=5,U5="LinkedErrors",sH=(e={})=>{const t=e.limit||iH,n=e.key||rH;return{name:U5,setupOnce(){},preprocessEvent(r,i,s){const o=s.getOptions();m8(I5,o.stackParser,o.maxValueLength,n,t,r,i)}}},H5=sH;ua(U5,H5);const oH=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],G5="TryCatch",aH=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:G5,setupOnce(){t.setTimeout&&Qn(at,"setTimeout",zk),t.setInterval&&Qn(at,"setInterval",zk),t.requestAnimationFrame&&Qn(at,"requestAnimationFrame",lH),t.XMLHttpRequest&&"XMLHttpRequest"in at&&Qn(XMLHttpRequest.prototype,"send",cH);const n=t.eventTarget;n&&(Array.isArray(n)?n:oH).forEach(uH)}}},q5=aH;ua(G5,q5);function zk(e){return function(...t){const n=t[0];return t[0]=Jc(n,{mechanism:{data:{function:oo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function lH(e){return function(t){return e.apply(this,[Jc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:oo(e)},handled:!1,type:"instrument"}})])}}function cH(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Qn(n,i,function(s){const o={mechanism:{data:{function:i,handler:oo(s)},handled:!1,type:"instrument"}},a=Xb(s);return a&&(o.mechanism.data.handler=oo(a)),Jc(s,o)})}),e.apply(this,t)}}function uH(e){const t=at,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Qn(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Jc(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:oo(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Jc(s,{mechanism:{data:{function:"addEventListener",handler:oo(s),target:e},handled:!1,type:"instrument"}}),o])}}),Qn(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const dH=[g5(),v5(),q5(),M5(),$5(),H5(),O5(),z5()];function fH(e){return[...dH]}function hH(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=fH()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),at.SENTRY_RELEASE&&at.SENTRY_RELEASE.id&&(e.release=at.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:R8(e.stackParser||NU),integrations:bz(e),transport:e.transport||(Vj()?AU:bU)};Pz(mU,t),e.autoSessionTracking&&pH()}const Uk=(e={},t=cr())=>{if(!at.document){_i&&re.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),i=e.dsn||n&&n.getDsn();if(!i){_i&&re.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const s=at.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=Az(i,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const l=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{at.removeEventListener("message",l)}};at.addEventListener("message",l)}const a=at.document.head||at.document.body;a?a.appendChild(s):_i&&re.error("Not injecting report dialog. No injection point found in HTML")};function pH(){if(typeof at.document>"u"){_i&&re.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}yk({ignoreDuration:!0}),Ak(),Zb(({from:e,to:t})=>{e!==void 0&&e!==t&&(yk({ignoreDuration:!0}),Ak())})}function Yh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var W5={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof Yh=="function"&&Yh;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Yh=="function"&&Yh,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var A=s.document.createElement("script");A.onreadystatechange=function(){g(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},s.document.documentElement.appendChild(A)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var A,v,y=p.length;y;){for(v=p,p=[],A=-1;++A<y;)v[A]();y=p.length}h=!1}r.exports=m;function m(A){p.push(A)===1&&!h&&a()}}).call(this,typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==o&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,w){if(typeof x!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(o);if(this.state!==u){var I=this.state===c?x:w;p(E,I,this.outcome)}else this.queue.push(new h(E,x,w));return E};function h(x,w,E){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){a.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)};function p(x,w,E){s(function(){var I;try{I=w(E)}catch(L){return a.reject(x,L)}I===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,I)})}a.resolve=function(x,w){var E=A(g,w);if(E.status==="error")return a.reject(x,E.value);var I=E.value;if(I)m(x,I);else{x.state=c,x.outcome=w;for(var L=-1,j=x.queue.length;++L<j;)x.queue[L].callFulfilled(w)}return x},a.reject=function(x,w){x.state=l,x.outcome=w;for(var E=-1,I=x.queue.length;++E<I;)x.queue[E].callRejected(w);return x};function g(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function m(x,w){var E=!1;function I(Q){E||(E=!0,a.reject(x,Q))}function L(Q){E||(E=!0,a.resolve(x,Q))}function j(){w(L,I)}var $=A(j);$.status==="error"&&I($.value)}function A(x,w){var E={};try{E.value=x(w),E.status="success"}catch(I){E.status="error",E.value=I}return E}d.resolve=v;function v(x){return x instanceof this?x:a.resolve(new this(o),x)}d.reject=y;function y(x){var w=new this(o);return a.reject(w,x)}d.all=b;function b(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,I=!1;if(!E)return this.resolve([]);for(var L=new Array(E),j=0,$=-1,Q=new this(o);++$<E;)M(x[$],$);return Q;function M(z,P){w.resolve(z).then(T,function(F){I||(I=!0,a.reject(Q,F))});function T(F){L[P]=F,++j===E&&!I&&(I=!0,a.resolve(Q,L))}}}d.race=S;function S(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,I=!1;if(!E)return this.resolve([]);for(var L=-1,j=new this(o);++L<E;)$(x[L]);return j;function $(Q){w.resolve(Q).then(function(M){I||(I=!0,a.resolve(j,M))},function(M){I||(I=!0,a.reject(j,M))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,D){if(!(k instanceof D))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),D=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||D)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(k,D){k=k||[],D=D||{};try{return new Blob(k,D)}catch(H){if(H.name!=="TypeError")throw H;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new R,Y=0;Y<k.length;Y+=1)q.append(k[Y]);return q.getBlob(D.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(k,D){D&&k.then(function(R){D(null,R)},function(R){D(R)})}function p(k,D,R){typeof D=="function"&&k.then(D),typeof R=="function"&&k.catch(R)}function g(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var A="local-forage-detect-blob-support",v=void 0,y={},b=Object.prototype.toString,S="readonly",x="readwrite";function w(k){for(var D=k.length,R=new ArrayBuffer(D),q=new Uint8Array(R),Y=0;Y<D;Y++)q[Y]=k.charCodeAt(Y);return R}function E(k){return new d(function(D){var R=k.transaction(A,x),q=u([""]);R.objectStore(A).put(q,"key"),R.onabort=function(Y){Y.preventDefault(),Y.stopPropagation(),D(!1)},R.oncomplete=function(){var Y=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);D(H||!Y||parseInt(Y[1],10)>=43)}}).catch(function(){return!1})}function I(k){return typeof v=="boolean"?d.resolve(v):E(k).then(function(D){return v=D,v})}function L(k){var D=y[k.name],R={};R.promise=new d(function(q,Y){R.resolve=q,R.reject=Y}),D.deferredOperations.push(R),D.dbReady?D.dbReady=D.dbReady.then(function(){return R.promise}):D.dbReady=R.promise}function j(k){var D=y[k.name],R=D.deferredOperations.pop();if(R)return R.resolve(),R.promise}function $(k,D){var R=y[k.name],q=R.deferredOperations.pop();if(q)return q.reject(D),q.promise}function Q(k,D){return new d(function(R,q){if(y[k.name]=y[k.name]||U(),k.db)if(D)L(k),k.db.close();else return R(k.db);var Y=[k.name];D&&Y.push(k.version);var H=l.open.apply(l,Y);D&&(H.onupgradeneeded=function(ee){var se=H.result;try{se.createObjectStore(k.storeName),ee.oldVersion<=1&&se.createObjectStore(A)}catch(ce){if(ce.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw ce}}),H.onerror=function(ee){ee.preventDefault(),q(H.error)},H.onsuccess=function(){var ee=H.result;ee.onversionchange=function(se){se.target.close()},R(ee),j(k)}})}function M(k){return Q(k,!1)}function z(k){return Q(k,!0)}function P(k,D){if(!k.db)return!0;var R=!k.db.objectStoreNames.contains(k.storeName),q=k.version<k.db.version,Y=k.version>k.db.version;if(q&&(k.version!==D&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),Y||R){if(R){var H=k.db.version+1;H>k.version&&(k.version=H)}return!0}return!1}function T(k){return new d(function(D,R){var q=new FileReader;q.onerror=R,q.onloadend=function(Y){var H=btoa(Y.target.result||"");D({__local_forage_encoded_blob:!0,data:H,type:k.type})},q.readAsBinaryString(k)})}function F(k){var D=w(atob(k.data));return u([D],{type:k.type})}function O(k){return k&&k.__local_forage_encoded_blob}function N(k){var D=this,R=D._initReady().then(function(){var q=y[D._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return p(R,k,k),R}function B(k){L(k);for(var D=y[k.name],R=D.forages,q=0;q<R.length;q++){var Y=R[q];Y._dbInfo.db&&(Y._dbInfo.db.close(),Y._dbInfo.db=null)}return k.db=null,M(k).then(function(H){return k.db=H,P(k)?z(k):H}).then(function(H){k.db=D.db=H;for(var ee=0;ee<R.length;ee++)R[ee]._dbInfo.db=H}).catch(function(H){throw $(k,H),H})}function G(k,D,R,q){q===void 0&&(q=1);try{var Y=k.db.transaction(k.storeName,D);R(null,Y)}catch(H){if(q>0&&(!k.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||H.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),z(k)}).then(function(){return B(k).then(function(){G(k,D,R,q-1)})}).catch(R);R(H)}}function U(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(k){var D=this,R={db:null};if(k)for(var q in k)R[q]=k[q];var Y=y[R.name];Y||(Y=U(),y[R.name]=Y),Y.forages.push(D),D._initReady||(D._initReady=D.ready,D.ready=N);var H=[];function ee(){return d.resolve()}for(var se=0;se<Y.forages.length;se++){var ce=Y.forages[se];ce!==D&&H.push(ce._initReady().catch(ee))}var ue=Y.forages.slice(0);return d.all(H).then(function(){return R.db=Y.db,M(R)}).then(function(ge){return R.db=ge,P(R,D._defaultConfig.version)?z(R):ge}).then(function(ge){R.db=Y.db=ge,D._dbInfo=R;for(var ke=0;ke<ue.length;ke++){var Qe=ue[ke];Qe!==D&&(Qe._dbInfo.db=R.db,Qe._dbInfo.version=R.version)}})}function V(k,D){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var ce=se.objectStore(R._dbInfo.storeName),ue=ce.get(k);ue.onsuccess=function(){var ge=ue.result;ge===void 0&&(ge=null),O(ge)&&(ge=F(ge)),Y(ge)},ue.onerror=function(){H(ue.error)}}catch(ge){H(ge)}})}).catch(H)});return h(q,D),q}function le(k,D){var R=this,q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var ce=se.objectStore(R._dbInfo.storeName),ue=ce.openCursor(),ge=1;ue.onsuccess=function(){var ke=ue.result;if(ke){var Qe=ke.value;O(Qe)&&(Qe=F(Qe));var ft=k(Qe,ke.key,ge++);ft!==void 0?Y(ft):ke.continue()}else Y()},ue.onerror=function(){H(ue.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,D),q}function Z(k,D,R){var q=this;k=g(k);var Y=new d(function(H,ee){var se;q.ready().then(function(){return se=q._dbInfo,b.call(D)==="[object Blob]"?I(se.db).then(function(ce){return ce?D:T(D)}):D}).then(function(ce){G(q._dbInfo,x,function(ue,ge){if(ue)return ee(ue);try{var ke=ge.objectStore(q._dbInfo.storeName);ce===null&&(ce=void 0);var Qe=ke.put(ce,k);ge.oncomplete=function(){ce===void 0&&(ce=null),H(ce)},ge.onabort=ge.onerror=function(){var ft=Qe.error?Qe.error:Qe.transaction.error;ee(ft)}}catch(ft){ee(ft)}})}).catch(ee)});return h(Y,R),Y}function he(k,D){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){G(R._dbInfo,x,function(ee,se){if(ee)return H(ee);try{var ce=se.objectStore(R._dbInfo.storeName),ue=ce.delete(k);se.oncomplete=function(){Y()},se.onerror=function(){H(ue.error)},se.onabort=function(){var ge=ue.error?ue.error:ue.transaction.error;H(ge)}}catch(ge){H(ge)}})}).catch(H)});return h(q,D),q}function Se(k){var D=this,R=new d(function(q,Y){D.ready().then(function(){G(D._dbInfo,x,function(H,ee){if(H)return Y(H);try{var se=ee.objectStore(D._dbInfo.storeName),ce=se.clear();ee.oncomplete=function(){q()},ee.onabort=ee.onerror=function(){var ue=ce.error?ce.error:ce.transaction.error;Y(ue)}}catch(ue){Y(ue)}})}).catch(Y)});return h(R,k),R}function we(k){var D=this,R=new d(function(q,Y){D.ready().then(function(){G(D._dbInfo,S,function(H,ee){if(H)return Y(H);try{var se=ee.objectStore(D._dbInfo.storeName),ce=se.count();ce.onsuccess=function(){q(ce.result)},ce.onerror=function(){Y(ce.error)}}catch(ue){Y(ue)}})}).catch(Y)});return h(R,k),R}function pe(k,D){var R=this,q=new d(function(Y,H){if(k<0){Y(null);return}R.ready().then(function(){G(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var ce=se.objectStore(R._dbInfo.storeName),ue=!1,ge=ce.openKeyCursor();ge.onsuccess=function(){var ke=ge.result;if(!ke){Y(null);return}k===0||ue?Y(ke.key):(ue=!0,ke.advance(k))},ge.onerror=function(){H(ge.error)}}catch(ke){H(ke)}})}).catch(H)});return h(q,D),q}function Ae(k){var D=this,R=new d(function(q,Y){D.ready().then(function(){G(D._dbInfo,S,function(H,ee){if(H)return Y(H);try{var se=ee.objectStore(D._dbInfo.storeName),ce=se.openKeyCursor(),ue=[];ce.onsuccess=function(){var ge=ce.result;if(!ge){q(ue);return}ue.push(ge.key),ge.continue()},ce.onerror=function(){Y(ce.error)}}catch(ge){Y(ge)}})}).catch(Y)});return h(R,k),R}function Ge(k,D){D=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var q=this,Y;if(!k.name)Y=d.reject("Invalid arguments");else{var H=k.name===R.name&&q._dbInfo.db,ee=H?d.resolve(q._dbInfo.db):M(k).then(function(se){var ce=y[k.name],ue=ce.forages;ce.db=se;for(var ge=0;ge<ue.length;ge++)ue[ge]._dbInfo.db=se;return se});k.storeName?Y=ee.then(function(se){if(se.objectStoreNames.contains(k.storeName)){var ce=se.version+1;L(k);var ue=y[k.name],ge=ue.forages;se.close();for(var ke=0;ke<ge.length;ke++){var Qe=ge[ke];Qe._dbInfo.db=null,Qe._dbInfo.version=ce}var ft=new d(function(pt,yn){var ln=l.open(k.name,ce);ln.onerror=function(ai){var Lu=ln.result;Lu.close(),yn(ai)},ln.onupgradeneeded=function(){var ai=ln.result;ai.deleteObjectStore(k.storeName)},ln.onsuccess=function(){var ai=ln.result;ai.close(),pt(ai)}});return ft.then(function(pt){ue.db=pt;for(var yn=0;yn<ge.length;yn++){var ln=ge[yn];ln._dbInfo.db=pt,j(ln._dbInfo)}}).catch(function(pt){throw($(k,pt)||d.resolve()).catch(function(){}),pt})}}):Y=ee.then(function(se){L(k);var ce=y[k.name],ue=ce.forages;se.close();for(var ge=0;ge<ue.length;ge++){var ke=ue[ge];ke._dbInfo.db=null}var Qe=new d(function(ft,pt){var yn=l.deleteDatabase(k.name);yn.onerror=function(){var ln=yn.result;ln&&ln.close(),pt(yn.error)},yn.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},yn.onsuccess=function(){var ln=yn.result;ln&&ln.close(),ft(ln)}});return Qe.then(function(ft){ce.db=ft;for(var pt=0;pt<ue.length;pt++){var yn=ue[pt];j(yn._dbInfo)}}).catch(function(ft){throw($(k,ft)||d.resolve()).catch(function(){}),ft})})}return h(Y,D),Y}var Ve={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:le,getItem:V,setItem:Z,removeItem:he,clear:Se,length:we,key:pe,keys:Ae,dropInstance:Ge};function Ie(){return typeof openDatabase=="function"}var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,He="__lfsc__:",rt=He.length,it="arbf",$t="blob",At="si08",qt="ui08",st="uic8",_t="si16",wt="si32",Ke="ur16",Bt="ui32",ye="fl32",We="fl64",Pn=rt+it.length,bt=Object.prototype.toString;function vn(k){var D=k.length*.75,R=k.length,q,Y=0,H,ee,se,ce;k[k.length-1]==="="&&(D--,k[k.length-2]==="="&&D--);var ue=new ArrayBuffer(D),ge=new Uint8Array(ue);for(q=0;q<R;q+=4)H=_e.indexOf(k[q]),ee=_e.indexOf(k[q+1]),se=_e.indexOf(k[q+2]),ce=_e.indexOf(k[q+3]),ge[Y++]=H<<2|ee>>4,ge[Y++]=(ee&15)<<4|se>>2,ge[Y++]=(se&3)<<6|ce&63;return ue}function on(k){var D=new Uint8Array(k),R="",q;for(q=0;q<D.length;q+=3)R+=_e[D[q]>>2],R+=_e[(D[q]&3)<<4|D[q+1]>>4],R+=_e[(D[q+1]&15)<<2|D[q+2]>>6],R+=_e[D[q+2]&63];return D.length%3===2?R=R.substring(0,R.length-1)+"=":D.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function an(k,D){var R="";if(k&&(R=bt.call(k)),k&&(R==="[object ArrayBuffer]"||k.buffer&&bt.call(k.buffer)==="[object ArrayBuffer]")){var q,Y=He;k instanceof ArrayBuffer?(q=k,Y+=it):(q=k.buffer,R==="[object Int8Array]"?Y+=At:R==="[object Uint8Array]"?Y+=qt:R==="[object Uint8ClampedArray]"?Y+=st:R==="[object Int16Array]"?Y+=_t:R==="[object Uint16Array]"?Y+=Ke:R==="[object Int32Array]"?Y+=wt:R==="[object Uint32Array]"?Y+=Bt:R==="[object Float32Array]"?Y+=ye:R==="[object Float64Array]"?Y+=We:D(new Error("Failed to get type for BinaryArray"))),D(Y+on(q))}else if(R==="[object Blob]"){var H=new FileReader;H.onload=function(){var ee=Ue+k.type+"~"+on(this.result);D(He+$t+ee)},H.readAsArrayBuffer(k)}else try{D(JSON.stringify(k))}catch(ee){console.error("Couldn't convert value into a JSON string: ",k),D(null,ee)}}function Zt(k){if(k.substring(0,rt)!==He)return JSON.parse(k);var D=k.substring(Pn),R=k.substring(rt,Pn),q;if(R===$t&&qe.test(D)){var Y=D.match(qe);q=Y[1],D=D.substring(Y[0].length)}var H=vn(D);switch(R){case it:return H;case $t:return u([H],{type:q});case At:return new Int8Array(H);case qt:return new Uint8Array(H);case st:return new Uint8ClampedArray(H);case _t:return new Int16Array(H);case Ke:return new Uint16Array(H);case wt:return new Int32Array(H);case Bt:return new Uint32Array(H);case ye:return new Float32Array(H);case We:return new Float64Array(H);default:throw new Error("Unkown type: "+R)}}var ht={serialize:an,deserialize:Zt,stringToBuffer:vn,bufferToString:on};function ur(k,D,R,q){k.executeSql("CREATE TABLE IF NOT EXISTS "+D.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,q)}function Li(k){var D=this,R={db:null};if(k)for(var q in k)R[q]=typeof k[q]!="string"?k[q].toString():k[q];var Y=new d(function(H,ee){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(se){return ee(se)}R.db.transaction(function(se){ur(se,R,function(){D._dbInfo=R,H()},function(ce,ue){ee(ue)})},ee)});return R.serializer=ht,Y}function er(k,D,R,q,Y,H){k.executeSql(R,q,Y,function(ee,se){se.code===se.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[D.storeName],function(ce,ue){ue.rows.length?H(ce,se):ur(ce,D,function(){ce.executeSql(R,q,Y,H)},H)},H):H(ee,se)},H)}function Co(k,D){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[k],function(ce,ue){var ge=ue.rows.length?ue.rows.item(0).value:null;ge&&(ge=ee.serializer.deserialize(ge)),Y(ge)},function(ce,ue){H(ue)})})}).catch(H)});return h(q,D),q}function Ni(k,D){var R=this,q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT * FROM "+ee.storeName,[],function(ce,ue){for(var ge=ue.rows,ke=ge.length,Qe=0;Qe<ke;Qe++){var ft=ge.item(Qe),pt=ft.value;if(pt&&(pt=ee.serializer.deserialize(pt)),pt=k(pt,ft.key,Qe+1),pt!==void 0){Y(pt);return}}Y()},function(ce,ue){H(ue)})})}).catch(H)});return h(q,D),q}function Nr(k,D,R,q){var Y=this;k=g(k);var H=new d(function(ee,se){Y.ready().then(function(){D===void 0&&(D=null);var ce=D,ue=Y._dbInfo;ue.serializer.serialize(D,function(ge,ke){ke?se(ke):ue.db.transaction(function(Qe){er(Qe,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[k,ge],function(){ee(ce)},function(ft,pt){se(pt)})},function(Qe){if(Qe.code===Qe.QUOTA_ERR){if(q>0){ee(Nr.apply(Y,[k,ce,R,q-1]));return}se(Qe)}})})}).catch(se)});return h(H,R),H}function $i(k,D,R){return Nr.apply(this,[k,D,R,1])}function Vl(k,D){var R=this;k=g(k);var q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[k],function(){Y()},function(ce,ue){H(ue)})})}).catch(H)});return h(q,D),q}function Ll(k){var D=this,R=new d(function(q,Y){D.ready().then(function(){var H=D._dbInfo;H.db.transaction(function(ee){er(ee,H,"DELETE FROM "+H.storeName,[],function(){q()},function(se,ce){Y(ce)})})}).catch(Y)});return h(R,k),R}function Nl(k){var D=this,R=new d(function(q,Y){D.ready().then(function(){var H=D._dbInfo;H.db.transaction(function(ee){er(ee,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(se,ce){var ue=ce.rows.item(0).c;q(ue)},function(se,ce){Y(ce)})})}).catch(Y)});return h(R,k),R}function Aa(k,D){var R=this,q=new d(function(Y,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[k+1],function(ce,ue){var ge=ue.rows.length?ue.rows.item(0).key:null;Y(ge)},function(ce,ue){H(ue)})})}).catch(H)});return h(q,D),q}function Mu(k){var D=this,R=new d(function(q,Y){D.ready().then(function(){var H=D._dbInfo;H.db.transaction(function(ee){er(ee,H,"SELECT key FROM "+H.storeName,[],function(se,ce){for(var ue=[],ge=0;ge<ce.rows.length;ge++)ue.push(ce.rows.item(ge).key);q(ue)},function(se,ce){Y(ce)})})}).catch(Y)});return h(R,k),R}function wv(k){return new d(function(D,R){k.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Y,H){for(var ee=[],se=0;se<H.rows.length;se++)ee.push(H.rows.item(se).name);D({db:k,storeNames:ee})},function(Y,H){R(H)})},function(q){R(q)})})}function _a(k,D){D=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var q=this,Y;return k.name?Y=new d(function(H){var ee;k.name===R.name?ee=q._dbInfo.db:ee=openDatabase(k.name,"","",0),k.storeName?H({db:ee,storeNames:[k.storeName]}):H(wv(ee))}).then(function(H){return new d(function(ee,se){H.db.transaction(function(ce){function ue(ft){return new d(function(pt,yn){ce.executeSql("DROP TABLE IF EXISTS "+ft,[],function(){pt()},function(ln,ai){yn(ai)})})}for(var ge=[],ke=0,Qe=H.storeNames.length;ke<Qe;ke++)ge.push(ue(H.storeNames[ke]));d.all(ge).then(function(){ee()}).catch(function(ft){se(ft)})},function(ce){se(ce)})})}):Y=d.reject("Invalid arguments"),h(Y,D),Y}var ju={_driver:"webSQLStorage",_initStorage:Li,_support:Ie(),iterate:Ni,getItem:Co,setItem:$i,removeItem:Vl,clear:Ll,length:Nl,key:Aa,keys:Mu,dropInstance:_a};function $r(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function To(k,D){var R=k.name+"/";return k.storeName!==D.storeName&&(R+=k.storeName+"/"),R}function Ev(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function ba(){return!Ev()||localStorage.length>0}function Ou(k){var D=this,R={};if(k)for(var q in k)R[q]=k[q];return R.keyPrefix=To(k,D._defaultConfig),ba()?(D._dbInfo=R,R.serializer=ht,d.resolve()):d.reject()}function kh(k){var D=this,R=D.ready().then(function(){for(var q=D._dbInfo.keyPrefix,Y=localStorage.length-1;Y>=0;Y--){var H=localStorage.key(Y);H.indexOf(q)===0&&localStorage.removeItem(H)}});return h(R,k),R}function Ch(k,D){var R=this;k=g(k);var q=R.ready().then(function(){var Y=R._dbInfo,H=localStorage.getItem(Y.keyPrefix+k);return H&&(H=Y.serializer.deserialize(H)),H});return h(q,D),q}function Th(k,D){var R=this,q=R.ready().then(function(){for(var Y=R._dbInfo,H=Y.keyPrefix,ee=H.length,se=localStorage.length,ce=1,ue=0;ue<se;ue++){var ge=localStorage.key(ue);if(ge.indexOf(H)===0){var ke=localStorage.getItem(ge);if(ke&&(ke=Y.serializer.deserialize(ke)),ke=k(ke,ge.substring(ee),ce++),ke!==void 0)return ke}}});return h(q,D),q}function Ih(k,D){var R=this,q=R.ready().then(function(){var Y=R._dbInfo,H;try{H=localStorage.key(k)}catch{H=null}return H&&(H=H.substring(Y.keyPrefix.length)),H});return h(q,D),q}function kv(k){var D=this,R=D.ready().then(function(){for(var q=D._dbInfo,Y=localStorage.length,H=[],ee=0;ee<Y;ee++){var se=localStorage.key(ee);se.indexOf(q.keyPrefix)===0&&H.push(se.substring(q.keyPrefix.length))}return H});return h(R,k),R}function Cv(k){var D=this,R=D.keys().then(function(q){return q.length});return h(R,k),R}function Tv(k,D){var R=this;k=g(k);var q=R.ready().then(function(){var Y=R._dbInfo;localStorage.removeItem(Y.keyPrefix+k)});return h(q,D),q}function Iv(k,D,R){var q=this;k=g(k);var Y=q.ready().then(function(){D===void 0&&(D=null);var H=D;return new d(function(ee,se){var ce=q._dbInfo;ce.serializer.serialize(D,function(ue,ge){if(ge)se(ge);else try{localStorage.setItem(ce.keyPrefix+k,ue),ee(H)}catch(ke){(ke.name==="QuotaExceededError"||ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(ke),se(ke)}})})});return h(Y,R),Y}function Ye(k,D){if(D=m.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var R=this.config();k.name=k.name||R.name,k.storeName=k.storeName||R.storeName}var q=this,Y;return k.name?Y=new d(function(H){k.storeName?H(To(k,q._defaultConfig)):H(k.name+"/")}).then(function(H){for(var ee=localStorage.length-1;ee>=0;ee--){var se=localStorage.key(ee);se.indexOf(H)===0&&localStorage.removeItem(se)}}):Y=d.reject("Invalid arguments"),h(Y,D),Y}var dr={_driver:"localStorageWrapper",_initStorage:Ou,_support:$r(),iterate:Th,getItem:Ch,setItem:Iv,removeItem:Tv,clear:kh,length:Cv,key:Ih,keys:kv,dropInstance:Ye},D$=function(D,R){return D===R||typeof D=="number"&&typeof R=="number"&&isNaN(D)&&isNaN(R)},F$=function(D,R){for(var q=D.length,Y=0;Y<q;){if(D$(D[Y],R))return!0;Y++}return!1},wE=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Vu={},EE={},$l={INDEXEDDB:Ve,WEBSQL:ju,LOCALSTORAGE:dr},z$=[$l.INDEXEDDB._driver,$l.WEBSQL._driver,$l.LOCALSTORAGE._driver],Ph=["dropInstance"],Pv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ph),U$={description:"",driver:z$.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function H$(k,D){k[D]=function(){var R=arguments;return k.ready().then(function(){return k[D].apply(k,R)})}}function Rv(){for(var k=1;k<arguments.length;k++){var D=arguments[k];if(D)for(var R in D)D.hasOwnProperty(R)&&(wE(D[R])?arguments[0][R]=D[R].slice():arguments[0][R]=D[R])}return arguments[0]}var G$=function(){function k(D){o(this,k);for(var R in $l)if($l.hasOwnProperty(R)){var q=$l[R],Y=q._driver;this[R]=Y,Vu[Y]||this.defineDriver(q)}this._defaultConfig=Rv({},U$),this._config=Rv({},this._defaultConfig,D),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(R){if((typeof R>"u"?"undefined":s(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in R){if(q==="storeName"&&(R[q]=R[q].replace(/\W/g,"_")),q==="version"&&typeof R[q]!="number")return new Error("Database version must be a number.");this._config[q]=R[q]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},k.prototype.defineDriver=function(R,q,Y){var H=new d(function(ee,se){try{var ce=R._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){se(ue);return}for(var ge=Pv.concat("_initStorage"),ke=0,Qe=ge.length;ke<Qe;ke++){var ft=ge[ke],pt=!F$(Ph,ft);if((pt||R[ft])&&typeof R[ft]!="function"){se(ue);return}}var yn=function(){for(var Lu=function(K$){return function(){var Y$=new Error("Method "+K$+" is not implemented by the current driver"),kE=d.reject(Y$);return h(kE,arguments[arguments.length-1]),kE}},Mv=0,W$=Ph.length;Mv<W$;Mv++){var jv=Ph[Mv];R[jv]||(R[jv]=Lu(jv))}};yn();var ln=function(Lu){Vu[ce]&&console.info("Redefining LocalForage driver: "+ce),Vu[ce]=R,EE[ce]=Lu,ee()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(ln,se):ln(!!R._support):ln(!0)}catch(ai){se(ai)}});return p(H,q,Y),H},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(R,q,Y){var H=Vu[R]?d.resolve(Vu[R]):d.reject(new Error("Driver not found."));return p(H,q,Y),H},k.prototype.getSerializer=function(R){var q=d.resolve(ht);return p(q,R),q},k.prototype.ready=function(R){var q=this,Y=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return p(Y,R,R),Y},k.prototype.setDriver=function(R,q,Y){var H=this;wE(R)||(R=[R]);var ee=this._getSupportedDrivers(R);function se(){H._config.driver=H.driver()}function ce(ke){return H._extend(ke),se(),H._ready=H._initStorage(H._config),H._ready}function ue(ke){return function(){var Qe=0;function ft(){for(;Qe<ke.length;){var pt=ke[Qe];return Qe++,H._dbInfo=null,H._ready=null,H.getDriver(pt).then(ce).catch(ft)}se();var yn=new Error("No available storage method found.");return H._driverSet=d.reject(yn),H._driverSet}return ft()}}var ge=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=ge.then(function(){var ke=ee[0];return H._dbInfo=null,H._ready=null,H.getDriver(ke).then(function(Qe){H._driver=Qe._driver,se(),H._wrapLibraryMethodsWithReady(),H._initDriver=ue(ee)})}).catch(function(){se();var ke=new Error("No available storage method found.");return H._driverSet=d.reject(ke),H._driverSet}),p(this._driverSet,q,Y),this._driverSet},k.prototype.supports=function(R){return!!EE[R]},k.prototype._extend=function(R){Rv(this,R)},k.prototype._getSupportedDrivers=function(R){for(var q=[],Y=0,H=R.length;Y<H;Y++){var ee=R[Y];this.supports(ee)&&q.push(ee)}return q},k.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,q=Pv.length;R<q;R++)H$(this,Pv[R])},k.prototype.createInstance=function(R){return new k(R)},k}(),q$=new G$;r.exports=q$},{3:3}]},{},[4])(4)})})(W5);var gH=W5.exports;const al=lr(gH);function mH(e){const t={...e};h5(t,"react"),hH(t)}const vH="ui.react.render",yH="ui.react.update",AH="ui.react.mount",Hk="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",_H="unknown";class K5 extends _.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Pd({name:`<${n}>`,onlyIfParent:!0,op:AH,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=il();this._updateSpan=vk(this._mountSpan,()=>Pd({name:`<${this.props.name}>`,onlyIfParent:!0,op:yH,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=il(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=Tn(this._mountSpan).timestamp;vk(this._mountSpan,()=>{const s=Pd({onlyIfParent:!0,name:`<${n}>`,op:vH,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}K5.__initStatic();function bH(e,t){const n=t&&t.name||e.displayName||e.name||_H,r=i=>_.createElement(K5,{...t,name:n,updateProps:i,__self:this,__source:{fileName:Hk,lineNumber:159}},_.createElement(e,{...i,__self:this,__source:{fileName:Hk,lineNumber:160}}));return r.displayName=`profiler(${n})`,oD(r,e),r}const xH=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function SH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const Gk={componentStack:null,error:null,eventId:null};function wH(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}class px extends _.Component{constructor(t){super(t),px.prototype.__init.call(this),this.state=Gk,this._openFallbackReportDialog=!0;const n=In();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&Uk({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:i,showDialog:s,dialogOptions:o}=this.props;sx(a=>{if(SH(_.version)&&Wb(t)){const c=new Error(t.message);c.name=`React ErrorBoundary ${t.name}`,c.stack=n,wH(t,c)}r&&r(a,t,n);const l=Ls(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});i&&i(t,n,l),s&&(this._lastEventId=l,this._openFallbackReportDialog&&Uk({...o,eventId:l})),this.setState({error:t,componentStack:n,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(Gk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,_.isValidElement(i)?i:(t&&xH&&re.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const EH="modulepreload",kH=function(e){return"/"+e},qk={},h0=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=kH(l),l in qk)return;qk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":EH,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};class Y5{constructor(){this.init=async(t,n)=>{const r=await h0(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class CH extends _o{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Jo=new CH;let Q5=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Jo.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100;const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100,i.connect(s,0),i.connect(o,1);const a=new Y5;await a.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(s.fftSize),c=new Float32Array(o.fftSize);s.getFloatTimeDomainData(l),o.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/s.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Ls(r),console.error(r)}}catch(r){Ls(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new Q5;class TH{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new Q5),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const IH=new TH;class PH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Je.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Je.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Je.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Je.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const RH=new PH;function as(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var J5=typeof global=="object"&&global&&global.Object===Object&&global,MH=typeof self=="object"&&self&&self.Object===Object&&self,cs=J5||MH||Function("return this")(),ny=function(){return cs.Date.now()},jH=/\s/;function OH(e){for(var t=e.length;t--&&jH.test(e.charAt(t)););return t}var VH=/^\s+/;function LH(e){return e&&e.slice(0,OH(e)+1).replace(VH,"")}var ki=cs.Symbol,X5=Object.prototype,NH=X5.hasOwnProperty,$H=X5.toString,Hu=ki?ki.toStringTag:void 0;function BH(e){var t=NH.call(e,Hu),n=e[Hu];try{e[Hu]=void 0;var r=!0}catch{}var i=$H.call(e);return r&&(t?e[Hu]=n:delete e[Hu]),i}var DH=Object.prototype,FH=DH.toString;function zH(e){return FH.call(e)}var UH="[object Null]",HH="[object Undefined]",Wk=ki?ki.toStringTag:void 0;function El(e){return e==null?e===void 0?HH:UH:Wk&&Wk in Object(e)?BH(e):zH(e)}function ao(e){return e!=null&&typeof e=="object"}var GH="[object Symbol]";function p0(e){return typeof e=="symbol"||ao(e)&&El(e)==GH}var Kk=NaN,qH=/^[-+]0x[0-9a-f]+$/i,WH=/^0b[01]+$/i,KH=/^0o[0-7]+$/i,YH=parseInt;function y1(e){if(typeof e=="number")return e;if(p0(e))return Kk;if(as(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=as(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=LH(e);var n=WH.test(e);return n||KH.test(e)?YH(e.slice(2),n?2:8):qH.test(e)?Kk:+e}var QH="Expected a function",JH=Math.max,XH=Math.min;function Z5(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(QH);t=y1(t)||0,as(n)&&(u=!!n.leading,d="maxWait"in n,s=d?JH(y1(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,I=i;return r=i=void 0,c=w,o=e.apply(I,E),o}function g(w){return c=w,a=setTimeout(v,t),u?p(w):o}function m(w){var E=w-l,I=w-c,L=t-E;return d?XH(L,s-I):L}function A(w){var E=w-l,I=w-c;return l===void 0||E>=t||E<0||d&&I>=s}function v(){var w=ny();if(A(w))return y(w);a=setTimeout(v,m(w))}function y(w){return a=void 0,h&&r?p(w):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:y(ny())}function x(){var w=ny(),E=A(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return x.cancel=b,x.flush=S,x}const vr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},jd=["freestyle","rap"],e3=[],t3=440,n3=69,gx=20;var ZH="[object AsyncFunction]",eG="[object Function]",tG="[object GeneratorFunction]",nG="[object Proxy]";function r3(e){if(!as(e))return!1;var t=El(e);return t==eG||t==tG||t==ZH||t==nG}var ry=cs["__core-js_shared__"],Yk=function(){var e=/[^.]+$/.exec(ry&&ry.keys&&ry.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function rG(e){return!!Yk&&Yk in e}var iG=Function.prototype,sG=iG.toString;function kl(e){if(e!=null){try{return sG.call(e)}catch{}try{return e+""}catch{}}return""}var oG=/[\\^$.*+?()[\]{}|]/g,aG=/^\[object .+?Constructor\]$/,lG=Function.prototype,cG=Object.prototype,uG=lG.toString,dG=cG.hasOwnProperty,fG=RegExp("^"+uG.call(dG).replace(oG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hG(e){if(!as(e)||rG(e))return!1;var t=r3(e)?fG:aG;return t.test(kl(e))}function pG(e,t){return e==null?void 0:e[t]}function Cl(e,t){var n=pG(e,t);return hG(n)?n:void 0}var ff=Cl(Object,"create");function gG(){this.__data__=ff?ff(null):{},this.size=0}function mG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vG="__lodash_hash_undefined__",yG=Object.prototype,AG=yG.hasOwnProperty;function _G(e){var t=this.__data__;if(ff){var n=t[e];return n===vG?void 0:n}return AG.call(t,e)?t[e]:void 0}var bG=Object.prototype,xG=bG.hasOwnProperty;function SG(e){var t=this.__data__;return ff?t[e]!==void 0:xG.call(t,e)}var wG="__lodash_hash_undefined__";function EG(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ff&&t===void 0?wG:t,this}function ll(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ll.prototype.clear=gG;ll.prototype.delete=mG;ll.prototype.get=_G;ll.prototype.has=SG;ll.prototype.set=EG;function kG(){this.__data__=[],this.size=0}function g0(e,t){return e===t||e!==e&&t!==t}function m0(e,t){for(var n=e.length;n--;)if(g0(e[n][0],t))return n;return-1}var CG=Array.prototype,TG=CG.splice;function IG(e){var t=this.__data__,n=m0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():TG.call(t,n,1),--this.size,!0}function PG(e){var t=this.__data__,n=m0(t,e);return n<0?void 0:t[n][1]}function RG(e){return m0(this.__data__,e)>-1}function MG(e,t){var n=this.__data__,r=m0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function bo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bo.prototype.clear=kG;bo.prototype.delete=IG;bo.prototype.get=PG;bo.prototype.has=RG;bo.prototype.set=MG;var hf=Cl(cs,"Map");function jG(){this.size=0,this.__data__={hash:new ll,map:new(hf||bo),string:new ll}}function OG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function v0(e,t){var n=e.__data__;return OG(t)?n[typeof t=="string"?"string":"hash"]:n.map}function VG(e){var t=v0(this,e).delete(e);return this.size-=t?1:0,t}function LG(e){return v0(this,e).get(e)}function NG(e){return v0(this,e).has(e)}function $G(e,t){var n=v0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xo.prototype.clear=jG;xo.prototype.delete=VG;xo.prototype.get=LG;xo.prototype.has=NG;xo.prototype.set=$G;var BG="Expected a function";function y0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(BG);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(y0.Cache||xo),n}y0.Cache=xo;function Ng(e){return jd.includes(e.note.type)?0:e.distance}function St(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const DG=35e5,Ea={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},Qk=e=>({freestyle:e.freestyle*Ea.freestyle,rap:e.rap*Ea.rap,rapstar:e.rapstar*Ea.rapstar,star:e.star*Ea.star,normal:e.normal*Ea.normal,perfect:e.perfect*Ea.perfect,vibrato:e.vibrato*Ea.vibrato}),mx=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Qh=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),Jk=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),Xk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Zk=y0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(St).forEach(r=>{r.notes.filter(s=>!e3.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function i3(e,t,n){const r=Zk(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=Qk(Zk(t)[n]),o=DG/mx(s);for(let a=0;a<e.length;a++){const l=e[a];e3.includes(l.note.type)||Ng(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,Qk(i),s]}function FG(e,t,n){const[r,i]=i3(e,t,n);return mx(i)*r}function zG(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function UG(e){return t3*Math.pow(2,(e-n3)/12)}const HG=e=>Math.round(12*(Math.log(e/t3)/Math.log(2)))+n3,GG=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),qG=(e,t,n)=>{const r=UG(e),i=GG(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},WG=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},KG=(e,t)=>{const n=je.getTolerance(),r=HG(e);let i=-1;const s=WG(r,t,n);return s===0&&(i=qG(t,e,n)),{distance:s,preciseDistance:i}},eC=6;function YG(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-eC;r++){const s=n.slice(r,r+eC-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const QG=100;function JG(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...KG(t.frequency,n.pitch)},s=e.at(-1),o=QG/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!jd.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&YG(s.frequencyRecords)}const XG=e=>e.notes[0],oa=e=>{const t=e.find(St);return t?XG(t).start:1/0},pf=e=>{const n=e.filter(St).at(-1);return n?gf(n):0},gf=e=>{const t=e.notes.at(-1);return t.start+t.length},tC=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class ZG{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=sn.getPlayerFrequency(this.number),s=r-sn.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),sn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(St(a)){const l=tC(a,o,0)??tC(a,o,.5);l&&JG(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return St(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>FG(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>i3(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(St).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function eq(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(St).at(-1);return n?gf(n):0}))}function vx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(vx.Cache||Map),n}vx.Cache=Map;const Su=vx(function(t){return 60/t.bpm/(t.bar??4)*1e3});class tq{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Su(this.song),this.getCurrentBeat=()=>zG(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new ZG(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===vr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===vr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Qh(l,a),Qh(c,a)]),o=s.reduce((a,l)=>[Jk(a[0],l[0]),Jk(a[1],l[1])],i);return[Xk(o[0],this.getPlayerCount()),Xk(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Qh(i,r),Qh(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/eq(this.getSong()))),this.startInputMonitoring=async()=>sn.startMonitoring(),this.stopInputMonitoring=()=>sn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const je=new tq;var wR;const nq=(wR=global==null?void 0:global.sessionStorage)==null?void 0:wR.getItem("isE2E");function Ns(){var t,n;if(nq)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const rq=Ns()?{host:"localhost",port:3001,path:"/"}:{},s3={...rq};var iq=Object.create,A0=Object.defineProperty,sq=Object.defineProperties,oq=Object.getOwnPropertyDescriptor,aq=Object.getOwnPropertyDescriptors,o3=Object.getOwnPropertyNames,nC=Object.getOwnPropertySymbols,lq=Object.getPrototypeOf,a3=Object.prototype.hasOwnProperty,cq=Object.prototype.propertyIsEnumerable,rC=(e,t,n)=>t in e?A0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yx=(e,t)=>{for(var n in t||(t={}))a3.call(t,n)&&rC(e,n,t[n]);if(nC)for(var n of nC(t))cq.call(t,n)&&rC(e,n,t[n]);return e},l3=(e,t)=>sq(e,aq(t)),uq=e=>A0(e,"__esModule",{value:!0}),Ax=(e,t)=>function(){return t||(0,e[o3(e)[0]])((t={exports:{}}).exports,t),t.exports},dq=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of o3(t))!a3.call(e,i)&&(n||i!=="default")&&A0(e,i,{get:()=>t[i],enumerable:!(r=oq(t,i))||r.enumerable});return e},sh=(e,t)=>dq(uq(A0(e!=null?iq(lq(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),sc=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),iC=Ax({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),fq=Ax({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=iC().BufferBuilder,r=iC().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,A=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(A)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),_0=Ax({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var A=r?r+u:u;if(!this._events[A])return!1;var v=this._events[A],y=arguments.length,b,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v.fn.apply(v.context,b)}else{var x=v.length,w;for(S=0;S<x;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),y){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,h);break;case 4:v[S].fn.call(v[S].context,d,h,p);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v[S].fn.apply(v[S].context,b)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var A=0,v=[],y=m.length;A<y;A++)(m[A].fn!==d||p&&!m[A].once||h&&m[A].context!==h)&&v.push(m[A]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),sC=sh(fq()),hq={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Kt=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=hq,this.pack=sC.pack,this.unpack=sC.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/Kt.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+Kt.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},pq=sh(_0()),gq="PeerJS: ",mq=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[gq,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},xe=new mq,vq=sh(_0()),yq=class extends vq.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),xe.log("Server message received:",i)}catch{xe.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(xe.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(xe.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){xe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&xe.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function Aq(){}var c3=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){xe.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;xe.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(xe.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":xe.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":xe.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":xe.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":xe.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":xe.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=Aq;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{xe.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{xe.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){xe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return sc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;xe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=l3(yx({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),xe.log("Failed to createOffer, ",n)}})}_makeAnswer(){return sc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;xe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),xe.log("Failed to create answer, ",n)}})}handleSDP(e,t){return sc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;xe.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),xe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),xe.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return sc(this,null,function*(){xe.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),xe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),xe.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(xe.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return xe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){xe.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},_q=sh(_0()),u3=class extends _q.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},d3=class extends u3{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||d3.ID_PREFIX+Kt.randomToken(),this._negotiator=new c3(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){xe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:xe.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){xe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(l3(yx({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},A1=d3;A1.ID_PREFIX="mc_";var bq=sh(_0()),xq=class extends bq.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{xe.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},_1=class extends u3{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||_1.ID_PREFIX+Kt.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new xq(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{xe.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new c3(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{xe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{xe.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{xe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){Kt.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=Kt.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=Kt.unpack(e);else if(t===String){const i=Kt.binaryStringToArrayBuffer(e);r=Kt.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=Kt.pack(e);if(!t&&n.size>Kt.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>_1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return xe.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=Kt.chunk(e);xe.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:xe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},$g=_1;$g.ID_PREFIX="dc_";$g.MAX_BUFFERED_AMOUNT=8*1024*1024;var Sq=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return sc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){xe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Kt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return sc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Kt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw xe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},wq={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Ia=class extends pq.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=yx({debug:0,host:Kt.CLOUD_HOST,port:Kt.CLOUD_PORT,path:"/",key:Ia.DEFAULT_KEY,token:Kt.randomToken(),config:Kt.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Kt.CLOUD_HOST?this._options.secure=Kt.isSecure():this._options.host==Kt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&xe.setLogFunction(this._options.logFunction),xe.logLevel=this._options.debug||0,this._api=new Sq(t),this._socket=this._createServerConnection(),this.features=Ia.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!Kt.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new yq(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":xe.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),xe.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new A1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new $g(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{xe.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){xe.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):xe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new $g(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){xe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new A1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){xe.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){xe.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){xe.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(xe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;xe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)xe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)xe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Ia._features||(Ia._features=Ia.checkFeatures(e)),Ia._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(Kt.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=wq.isUnifiedPlanSupported(e),t}},b0=Ia;b0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=b0);class Eq extends _o{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new b0(`allkaraoke-party-room-${t}`,s3),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&this.onUpdate({t:"unregister"},i)}),i.on("close",()=>{Je.removeRemoteMic(i.peer)})})}}const f3="wss://backend.allkaraoke.party";class kq extends _o{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r){this.connection=new WebSocket(f3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ig({t:"register-room",id:t})),n(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=zb(o.data);if(["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a),a.t==="forward"){const{sender:c,payload:u}=a,d=new Cq(c,this.connection);this.onUpdate(u,d)}})}}}class Cq{constructor(t,n){this.peer=t,this.socket=n,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ig(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=zb(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var h3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Do,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(z){var P=["th","st","nd","rd"],T=z%100;return"["+z+(P[(T-20)%10]||P[T]||P[0])+"]"}},b=function(z,P,T){var F=String(z);return!F||F.length>=P?z:""+Array(P+1-F.length).join(T)+z},S={s:b,z:function(z){var P=-z.utcOffset(),T=Math.abs(P),F=Math.floor(T/60),O=T%60;return(P<=0?"+":"-")+b(F,2,"0")+":"+b(O,2,"0")},m:function z(P,T){if(P.date()<T.date())return-z(T,P);var F=12*(T.year()-P.year())+(T.month()-P.month()),O=P.clone().add(F,d),N=T-O<0,B=P.clone().add(F+(N?-1:1),d);return+(-(F+(T-O)/(N?O-B:B-O))||0)},a:function(z){return z<0?Math.ceil(z)||0:Math.floor(z)},p:function(z){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[z]||String(z||"").toLowerCase().replace(/s$/,"")},u:function(z){return z===void 0}},x="en",w={};w[x]=y;var E="$isDayjsObject",I=function(z){return z instanceof Q||!(!z||!z[E])},L=function z(P,T,F){var O;if(!P)return x;if(typeof P=="string"){var N=P.toLowerCase();w[N]&&(O=N),T&&(w[N]=T,O=N);var B=P.split("-");if(!O&&B.length>1)return z(B[0])}else{var G=P.name;w[G]=P,O=G}return!F&&O&&(x=O),O||!F&&x},j=function(z,P){if(I(z))return z.clone();var T=typeof P=="object"?P:{};return T.date=z,T.args=arguments,new Q(T)},$=S;$.l=L,$.i=I,$.w=function(z,P){return j(z,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var Q=function(){function z(T){this.$L=L(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[E]=!0}var P=z.prototype;return P.parse=function(T){this.$d=function(F){var O=F.date,N=F.utc;if(O===null)return new Date(NaN);if($.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var B=O.match(A);if(B){var G=B[2]-1||0,U=(B[7]||"0").substring(0,3);return N?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,U)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,U)}}return new Date(O)}(T),this.init()},P.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},P.$utils=function(){return $},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(T,F){var O=j(T);return this.startOf(F)<=O&&O<=this.endOf(F)},P.isAfter=function(T,F){return j(T)<this.startOf(F)},P.isBefore=function(T,F){return this.endOf(F)<j(T)},P.$g=function(T,F,O){return $.u(T)?this[F]:this.set(O,T)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(T,F){var O=this,N=!!$.u(F)||F,B=$.p(T),G=function(we,pe){var Ae=$.w(O.$u?Date.UTC(O.$y,pe,we):new Date(O.$y,pe,we),O);return N?Ae:Ae.endOf(c)},U=function(we,pe){return $.w(O.toDate()[we].apply(O.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(pe)),O)},ne=this.$W,V=this.$M,le=this.$D,Z="set"+(this.$u?"UTC":"");switch(B){case p:return N?G(1,0):G(31,11);case d:return N?G(1,V):G(0,V+1);case u:var he=this.$locale().weekStart||0,Se=(ne<he?ne+7:ne)-he;return G(N?le-Se:le+(6-Se),V);case c:case g:return U(Z+"Hours",0);case l:return U(Z+"Minutes",1);case a:return U(Z+"Seconds",2);case o:return U(Z+"Milliseconds",3);default:return this.clone()}},P.endOf=function(T){return this.startOf(T,!1)},P.$set=function(T,F){var O,N=$.p(T),B="set"+(this.$u?"UTC":""),G=(O={},O[c]=B+"Date",O[g]=B+"Date",O[d]=B+"Month",O[p]=B+"FullYear",O[l]=B+"Hours",O[a]=B+"Minutes",O[o]=B+"Seconds",O[s]=B+"Milliseconds",O)[N],U=N===c?this.$D+(F-this.$W):F;if(N===d||N===p){var ne=this.clone().set(g,1);ne.$d[G](U),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else G&&this.$d[G](U);return this.init(),this},P.set=function(T,F){return this.clone().$set(T,F)},P.get=function(T){return this[$.p(T)]()},P.add=function(T,F){var O,N=this;T=Number(T);var B=$.p(F),G=function(V){var le=j(N);return $.w(le.date(le.date()+Math.round(V*T)),N)};if(B===d)return this.set(d,this.$M+T);if(B===p)return this.set(p,this.$y+T);if(B===c)return G(1);if(B===u)return G(7);var U=(O={},O[a]=r,O[l]=i,O[o]=n,O)[B]||1,ne=this.$d.getTime()+T*U;return $.w(ne,this)},P.subtract=function(T,F){return this.add(-1*T,F)},P.format=function(T){var F=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var N=T||"YYYY-MM-DDTHH:mm:ssZ",B=$.z(this),G=this.$H,U=this.$m,ne=this.$M,V=O.weekdays,le=O.months,Z=O.meridiem,he=function(pe,Ae,Ge,Ve){return pe&&(pe[Ae]||pe(F,N))||Ge[Ae].slice(0,Ve)},Se=function(pe){return $.s(G%12||12,pe,"0")},we=Z||function(pe,Ae,Ge){var Ve=pe<12?"AM":"PM";return Ge?Ve.toLowerCase():Ve};return N.replace(v,function(pe,Ae){return Ae||function(Ge){switch(Ge){case"YY":return String(F.$y).slice(-2);case"YYYY":return $.s(F.$y,4,"0");case"M":return ne+1;case"MM":return $.s(ne+1,2,"0");case"MMM":return he(O.monthsShort,ne,le,3);case"MMMM":return he(le,ne);case"D":return F.$D;case"DD":return $.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return he(O.weekdaysMin,F.$W,V,2);case"ddd":return he(O.weekdaysShort,F.$W,V,3);case"dddd":return V[F.$W];case"H":return String(G);case"HH":return $.s(G,2,"0");case"h":return Se(1);case"hh":return Se(2);case"a":return we(G,U,!0);case"A":return we(G,U,!1);case"m":return String(U);case"mm":return $.s(U,2,"0");case"s":return String(F.$s);case"ss":return $.s(F.$s,2,"0");case"SSS":return $.s(F.$ms,3,"0");case"Z":return B}return null}(pe)||B.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(T,F,O){var N,B=this,G=$.p(F),U=j(T),ne=(U.utcOffset()-this.utcOffset())*r,V=this-U,le=function(){return $.m(B,U)};switch(G){case p:N=le()/12;break;case d:N=le();break;case h:N=le()/3;break;case u:N=(V-ne)/6048e5;break;case c:N=(V-ne)/864e5;break;case l:N=V/i;break;case a:N=V/r;break;case o:N=V/n;break;default:N=V}return O?N:$.a(N)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return w[this.$L]},P.locale=function(T,F){if(!T)return this.$L;var O=this.clone(),N=L(T,F,!0);return N&&(O.$L=N),O},P.clone=function(){return $.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},z}(),M=Q.prototype;return j.prototype=M,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(z){M[z[1]]=function(P){return this.$g(P,z[0],z[1])}}),j.extend=function(z,P){return z.$i||(z(P,Q,j),z.$i=!0),j},j.locale=L,j.isDayjs=I,j.unix=function(z){return j(1e3*z)},j.en=w[x],j.Ls=w,j.p={},j})})(h3);var Tq=h3.exports;const Xi=lr(Tq);function Iq(e){return!!e}function Pq(e){return[...Array(e).keys()]}const Rq=250,iy=(e,t=0,n=1/0)=>e.filter(St).filter(r=>oa([r])>=t).filter(r=>pf([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),Mq=(e,t)=>{const[n,...r]=e.filter(St),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=pf(o);(oa([s])-a)*t>Rq?i.push([s]):o.push(s)}),i},p3=(e,t)=>e+t,oC=e=>{const t=e.map(n=>n.reduce(p3,0));return Math.max(...t)-Math.min(...t)},jq=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},Oq=e=>e.reduce(p3,0);function _x(e,t){const r=Su(t);if(e.sections.length<9)return[];const i=Mq(e.sections,r);let s=[],o=[iy(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=iy(e.sections,pf(l)??0)/(10-s.length),d=iy(i[a+1]),h=Oq(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=oC(s),c=Pq((s.length-2)*2+2).map(p=>jq(s,p)),u=c.map(oC),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>pf(i[a-1]))}var g3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Do,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})})(g3);var Vq=g3.exports;const Lq=lr(Vq),Nq=/[^0-9a-z]/gi;function Ya(e){return bx(e).toLowerCase().normalize("NFKD").replace(Nq,"")}function bx(e){return Lq(e)}function m3(e){return bx(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function xx(e){return e.id?e.id:m3(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const aC=(e,t,n)=>n>=e&&n<=t,lC=e=>e.notes.map(t=>t.lyrics).join(""),cC=e=>new Set(Ya(e)).size,$q=(e,t)=>{const n=e.reduce((i,s)=>`${i}${lC(s)}`,""),r=lC(t);return cC(n)/cC(r)<.5},Bq=(e,t)=>{const n=t.start,r=gf(t),i=e.filter(o=>{const a=o.start,l=gf(o);return aC(n,r,a)||aC(n,r,l)||a<=n&&l>=r}),s=$q(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function v3(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(St)),r=n[1].map(o=>Bq(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=_x(s,t),s}const uC={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},n_e={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},Dq=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function Fq(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!Dq.includes(t.substring(1).split(":")[0]))}function kt(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(Iq).at(0)}function zq(e){var r;const t=kt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const Uq=/- -?\d+ -?\d+/;function dC(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function Hq(e,t){try{return JSON.parse(e)}catch{return t}}function Gq(e){const t=kt(e,["P1"]),n=kt(e,["P2"]);return t||n?[t,n]:Hq(kt(e,["TRACKNAMES"]),[])}function qq(e,t,n,r,i){var p,g;const s=Gq(e),o={year:kt(e,["YEAR"]),artistOrigin:kt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:kt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:kt(e,["EDITION"]),genre:kt(e,["GENRE"]),videoGap:kt(e,["VIDEOGAP"],"number"),realBpm:kt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:kt(e,["PREVIEWSTART"],"number"),previewEnd:kt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:kt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:kt(e,["CREATOR"])??n,authorUrl:kt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:kt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=kt(e,["TITLE"])??"",l=kt(e,["ARTIST"])??"",c=kt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??dC(kt(e,["AUDIOURL"])??"")??dC(kt(e,["VIDEOURL"])??"")??zq(e)??"",u={id:kt(e,["ALLKARAOKE_ID","ID"])??xx({title:a,artist:l}),title:a,artist:l,video:c,language:kt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=kt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=kt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:Fq(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const A=m.split(" ");if(Number(A[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),Uq.test(m)){const[,v,y]=A;d.push({start:Number(v),end:Number(y),type:"pause"}),d.push({start:Number(y),type:"notes",notes:[]}),h=Number(y)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(uC).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[y,b,S,x,...w]=A;v.notes.push({type:uC[y]??"normal",start:Number(b),length:Number(S),pitch:Number(x),lyrics:w.join(" ")}),h=Number(A[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(A=>A.type==="pause"||A.notes.length),changes:[]})).map(m=>({...m,changes:_x(m,u)})),u.mergedTrack=v3(u.tracks,u),u}const y3="CURRENT_VISIT_KEY",A3="LAST_VISIT_KEY",Wq=3*60*60*1e3,x0=Date.now(),sy=Number(Oe.local.getItem(y3)??x0),_3=Oe.local.getItem("posthog-user-id")===null,Kq=_3?x0:1673642382501;let b3=Number(Oe.local.getItem(A3)??Kq);(_3||x0-sy>Wq)&&(Oe.local.setItem(A3,String(sy)),b3=sy);Oe.local.setItem(y3,String(x0));const Yq=e=>Ya(`${e.artist}${e.title}`),Qq=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:xx(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:oa(o)})),search:Yq(r),local:i});let oy=null;const Io=()=>(oy||(oy=al.createInstance({name:"songs_v2"})),oy),Jh="DELETED_SONGS_V2";class Jq{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{await Io().setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()}),await this.reloadIndex()},this.get=async t=>{const n=await this.getLocal(t);return n||await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(qq)},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>await Io().getItem(Jh)??[],this.generateSongFile=t=>xx(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=Xi(b3),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Xi(a.lastUpdate??0).isAfter(Xi(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(a=>{o.includes(a.id)||Io().removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Xi(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await Io().removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await Io().setItem(Jh,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await Io().setItem(Jh,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{const n=await Io().getItem(decodeURIComponent(t));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:v3(n.tracks,n),tracks:n.tracks.map(r=>({...r,changes:_x(r,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return Qq(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Jh];return(await Io().keys()).filter(n=>!t.includes(n))}}}const $s=new Jq,fC="room_id_key",Kp=5;class Xq{constructor(){var t;if(this.gameCode=Oe.session.getItem(fC),this.started=!1,this.start=()=>{this.transport||(this.transport=Pg.get()?new kq:new Eq),!this.started&&(this.started=!0,console.log("connection started",this.getGameCode()),Oe.session.setItem(fC,this.gameCode),this.transport.connect(this.getGameCode(),()=>{this.transport.addListener((n,r)=>{var s;const i=n.t;if(i==="register")Je.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Je.removeRemoteMic(r.peer,!0);else if(i==="subscribe-event")Je.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Je.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Je.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([$s.getLocalIndex(),$s.getDeletedSongsList()]).then(([o,a])=>{r.send({t:"songlist",custom:o.map(l=>({artist:l.artist,title:l.title,video:l.video,language:l.language})),deleted:a})});else if(i==="get-microphone-lag-request"){const o=Je.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const o=Je.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else Je.getPermission(r.peer)==="write"&&(i==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?te.remoteSongSearch.dispatch(n.search):i==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Id.get()}):i==="set-game-input-lag-request"&&(Id.set(n.value),r.send({t:"get-game-input-lag-response",value:Id.get()})))})},()=>{this.started=!1}))},this.getGameCode=()=>(Pg.get()?"w":"p")+this.gameCode,!this.gameCode){this.gameCode="";for(let n=0;n<Kp-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Je.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Bg=new Xq,cl=e=>`${e.deviceId};${e.channel}`,hC=[{channels:2,channel:1,label:"Drawing Test Input",id:cl({deviceId:"default",channel:1}),deviceId:"default"}],La=class La{};La.inputName="DrawingTest",La.getDefault=()=>hC[0],La.getInputs=async()=>hC,La.subscribeToListChange=t=>{},La.unsubscribeToListChange=t=>{};let b1=La;const pC=[{channels:2,channel:0,label:"Dummy Input 1",id:cl({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:cl({deviceId:"default",channel:1}),deviceId:"default"}],Na=class Na{};Na.inputName="Dummy",Na.getDefault=()=>pC[0],Na.getInputs=async()=>pC,Na.subscribeToListChange=t=>{},Na.unsubscribeToListChange=t=>{};let Dg=Na;var Zq=Math.ceil,eW=Math.max;function tW(e,t,n,r){for(var i=-1,s=eW(Zq((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var nW=9007199254740991;function Sx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nW}function wx(e){return e!=null&&Sx(e.length)&&!r3(e)}var rW=9007199254740991,iW=/^(?:0|[1-9]\d*)$/;function Ex(e,t){var n=typeof e;return t=t??rW,!!t&&(n=="number"||n!="symbol"&&iW.test(e))&&e>-1&&e%1==0&&e<t}function x3(e,t,n){if(!as(n))return!1;var r=typeof t;return(r=="number"?wx(n)&&Ex(t,n.length):r=="string"&&t in n)?g0(n[t],e):!1}var gC=1/0,sW=17976931348623157e292;function Yp(e){if(!e)return e===0?e:0;if(e=y1(e),e===gC||e===-gC){var t=e<0?-1:1;return t*sW}return e===e?e:0}function oW(e){return function(t,n,r){return r&&typeof r!="number"&&x3(t,n,r)&&(n=r=void 0),t=Yp(t),n===void 0?(n=t,t=0):n=Yp(n),r=r===void 0?t<n?1:-1:Yp(r),tW(t,n,r,e)}}var aW=oW();const x1={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},S1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},w1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},lW=(...[e,t,n])=>S1.test(e,t,n)||x1.test(e,t,n)||w1.test(e,t,n)?t:void 0,cW=(e,t,n)=>x1.test(e,t,n)?x1.map(e,t):S1.test(e,t,n)?S1.map(e,t):w1.test(e,t,n)?w1.map(e,t):n>1?`${e} (ch ${t+1})`:e,ci=class ci{};ci.inputList=[],ci.inputName="Microphone",ci.getDefault=()=>ci.inputList.find(t=>t.id===cl({deviceId:"default",channel:0}))??ci.inputList[0]??null,ci.getInputs=async()=>{let t=[];try{await Jo.getUserMedia({audio:!0,video:!1}),t=await Jo.enumerateDevices()}catch(r){Ls(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Jo.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return aW(0,i).map(s=>({label:cW(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:cl({deviceId:r.deviceId,channel:s}),preferred:lW(r.label,s,i)}))}));return ci.inputList=n.flat(),ci.inputList},ci.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),ci.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let ro=ci;const mC=e=>({label:`${e.name}`,id:cl({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),$a=class $a{};$a.inputName="Remote Microphone",$a.getDefault=()=>Je.getRemoteMics().map(mC)[0]??null,$a.getInputs=async()=>Je.getRemoteMics().map(mC),$a.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},$a.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let lo=$a;const uW=e=>`${e.deviceId};${e.channel}`;class dW{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(ro))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===uW(t))??(n?r.getDefault():null)},this.inputList={[ro.inputName]:this.initialiseInputSource(ro,!0),[Dg.inputName]:this.initialiseInputSource(Dg),[lo.inputName]:this.initialiseInputSource(lo)}}}const co=new dW,vC="playerselectedinputs",Fg=4,Om=class Om{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;sn.monitoringStarted()&&(a=sn.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(sn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,te.playerNameChanged.dispatch(this.number,s)}}};Om.fromJSON=t=>new Om(t.number,t.input,t.name);let oc=Om;class fW{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Oe.session.setItem(vC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>co.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>sn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(s.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(je.isPlaying()||this.getPlayer(n))return;const r=new oc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(je.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(Fg).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Oe.session.getItem(vC)??[];t.length?(this.players=t.map(oc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&co.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Bg.start()):this.players=[new oc(0,{source:"Dummy",deviceId:"default",channel:0}),new oc(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=Je.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(Z5(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Re=new fW;class hW{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Re.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Re.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Re.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===ro.inputName?IH:t===b1.inputName?l8:t===lo.inputName?RH:u8,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const sn=new hW;function S3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=S3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Uo(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=S3(e))&&(r&&(r+=" "),r+=t);return r}const Od=e=>typeof e=="number"&&!isNaN(e),ul=e=>typeof e=="string",Cr=e=>typeof e=="function",Qp=e=>ul(e)||Cr(e)?e:null,ay=e=>_.isValidElement(e)||ul(e)||Cr(e)||Od(e);function pW(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function S0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=_.useRef(0);return _.useLayoutEffect(()=>{const A=d.current,v=p.split(" "),y=b=>{b.target===d.current&&(A.dispatchEvent(new Event("d")),A.removeEventListener("animationend",y),A.removeEventListener("animationcancel",y),m.current===0&&b.type!=="animationcancel"&&A.classList.remove(...v))};A.classList.add(...v),A.addEventListener("animationend",y),A.addEventListener("animationcancel",y)},[]),_.useEffect(()=>{const A=d.current,v=()=>{A.removeEventListener("animationend",v),i?pW(A,u,s):u()};h||(c?v():(m.current=1,A.className+=` ${g}`,A.addEventListener("animationend",v)))},[h]),Pe.createElement(Pe.Fragment,null,a)}}function yC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const fi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Xh=e=>{let{theme:t,type:n,...r}=e;return Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},ly={info:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Pe.createElement(Xh,{...e},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pe.createElement("div",{className:"Toastify__spinner"})}};function gW(e){const[,t]=_.useReducer(p=>p+1,0),[n,r]=_.useState([]),i=_.useRef(null),s=_.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=_.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:A,...v}=g;if(!ay(p)||function(Q){return!i.current||a.props.enableMultiContainer&&Q.containerId!==a.props.containerId||s.has(Q.toastId)&&Q.updateId==null}(v))return;const{toastId:y,updateId:b,data:S}=v,{props:x}=a,w=()=>c(y),E=b==null;E&&a.count++;const I={...x,style:x.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(Q=>{let[M,z]=Q;return z!=null})),toastId:y,updateId:b,data:S,closeToast:w,isIn:!1,className:Qp(v.className||x.toastClassName),bodyClassName:Qp(v.bodyClassName||x.bodyClassName),progressClassName:Qp(v.progressClassName||x.progressClassName),autoClose:!v.isLoading&&(L=v.autoClose,j=x.autoClose,L===!1||Od(L)&&L>0?L:j),deleteToast(){const Q=yC(s.get(y),"removed");s.delete(y),fi.emit(4,Q);const M=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const z=y==null?a.props.limit:1;if(M===1||z===1)a.displayedToast++,u();else{const P=z>M?M:z;a.displayedToast=P;for(let T=0;T<P;T++)u()}}else t()}};var L,j;I.iconOut=function(Q){let{theme:M,type:z,isLoading:P,icon:T}=Q,F=null;const O={theme:M,type:z};return T===!1||(Cr(T)?F=T(O):_.isValidElement(T)?F=_.cloneElement(T,O):ul(T)||Od(T)?F=T:P?F=ly.spinner():(N=>N in ly)(z)&&(F=ly[z](O))),F}(I),Cr(v.onOpen)&&(I.onOpen=v.onOpen),Cr(v.onClose)&&(I.onClose=v.onClose),I.closeButton=x.closeButton,v.closeButton===!1||ay(v.closeButton)?I.closeButton=v.closeButton:v.closeButton===!0&&(I.closeButton=!ay(x.closeButton)||x.closeButton);let $=p;_.isValidElement(p)&&!ul(p.type)?$=_.cloneElement(p,{closeToast:w,toastProps:I,data:S}):Cr(p)&&($=p({closeToast:w,toastProps:I,data:S})),x.limit&&x.limit>0&&a.count>x.limit&&E?a.queue.push({toastContent:$,toastProps:I,staleId:A}):Od(m)?setTimeout(()=>{h($,I,A)},m):h($,I,A)}function h(p,g,m){const{toastId:A}=g;m&&s.delete(m);const v={content:p,props:g};s.set(A,v),r(y=>[...y,A].filter(b=>b!==m)),fi.emit(4,yC(v,v.props.updateId==null?"added":"updated"))}return _.useEffect(()=>(a.containerId=e.containerId,fi.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),fi.emit(3,a)}),[]),_.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(A=>{const{position:v}=A.props;g.has(v)||g.set(v,[]),g.get(v).push(A)}),Array.from(g,A=>p(A[0],A[1]))},containerRef:i,isToastActive:o}}function AC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function _C(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function mW(e){const[t,n]=_.useState(!1),[r,i]=_.useState(!1),s=_.useRef(null),o=_.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=_.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(S){if(e.draggable){S.nativeEvent.type==="touchstart"&&S.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=x.getBoundingClientRect(),x.style.transition="",o.x=AC(S.nativeEvent),o.y=_C(S.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(S){if(o.boundingRect){const{top:x,bottom:w,left:E,right:I}=o.boundingRect;S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=E&&o.x<=I&&o.y>=x&&o.y<=w?A():m()}}function m(){n(!0)}function A(){n(!1)}function v(S){const x=s.current;o.canDrag&&x&&(o.didMove=!0,t&&A(),o.x=AC(S),o.y=_C(S),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),x.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();S.style.transition="transform 0.2s, opacity 0.2s",S.style.transform=`translate${e.draggableDirection}(0)`,S.style.opacity="1"}}_.useEffect(()=>{a.current=e}),_.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),Cr(e.onOpen)&&e.onOpen(_.isValidElement(e.children)&&e.children.props),()=>{const S=a.current;Cr(S.onClose)&&S.onClose(_.isValidElement(S.children)&&S.children.props)}),[]),_.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||A(),window.addEventListener("focus",m),window.addEventListener("blur",A)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",A))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(b.onMouseEnter=A,b.onMouseLeave=m),h&&(b.onClick=S=>{d&&d(S),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:A,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:b}}function w3(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function vW(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=Uo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),A=Cr(o)?o({rtl:u,type:i,defaultClassName:m}):Uo(m,o);return Pe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:A,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const yW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=mW(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:A,bodyStyle:v,progressClassName:y,progressStyle:b,updateId:S,role:x,progress:w,rtl:E,toastId:I,deleteToast:L,isIn:j,isLoading:$,iconOut:Q,closeOnClick:M,theme:z}=e,P=Uo("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":M}),T=Cr(g)?g({rtl:E,position:p,type:c,defaultClassName:P}):Uo(P,g),F=!!w||!a,O={closeToast:d,type:c,theme:z};let N=null;return s===!1||(N=Cr(s)?s(O):_.isValidElement(s)?_.cloneElement(s,O):w3(O)),Pe.createElement(h,{isIn:j,done:L,position:p,preventExitTransition:n,nodeRef:r},Pe.createElement("div",{id:I,onClick:l,className:T,...i,style:m,ref:r},Pe.createElement("div",{...j&&{role:x},className:Cr(A)?A({type:c}):Uo("Toastify__toast-body",A),style:v},Q!=null&&Pe.createElement("div",{className:Uo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!$})},Q),Pe.createElement("div",null,o)),N,Pe.createElement(vW,{...S&&!F?{key:`pb-${S}`}:{},rtl:E,theme:z,delay:a,isRunning:t,isIn:j,closeToast:d,hide:u,type:c,style:b,className:y,controlledProgress:F,progress:w||0})))},w0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},AW=S0(w0("bounce",!0));S0(w0("slide",!0));S0(w0("zoom"));S0(w0("flip"));const E1=_.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=gW(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=Uo("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Cr(s)?s({position:u,rtl:a,defaultClassName:d}):Uo(d,Qp(s))}return _.useEffect(()=>{t&&(t.current=r.current)},[]),Pe.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Pe.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:A}=p;return Pe.createElement(yW,{...A,isIn:i(A.toastId),style:{...A.style,"--nth":g+1,"--len":d.length},key:`toast-${A.key}`},m)}))}))});E1.displayName="ToastContainer",E1.defaultProps={position:"top-right",transition:AW,autoClose:5e3,closeButton:w3,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let cy,Pa=new Map,pd=[],_W=1;function E3(){return""+_W++}function bW(e){return e&&(ul(e.toastId)||Od(e.toastId))?e.toastId:E3()}function Vd(e,t){return Pa.size>0?fi.emit(0,e,t):pd.push({content:e,options:t}),t.toastId}function zg(e,t){return{...t,type:t&&t.type||e,toastId:bW(t)}}function Zh(e){return(t,n)=>Vd(t,zg(e,n))}function Et(e,t){return Vd(e,zg("default",t))}Et.loading=(e,t)=>Vd(e,zg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Et.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=ul(i)?Et.loading(i,n):Et.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Et.dismiss(r);const p={type:u,...a,...n,data:h},g=ul(d)?{render:d}:d;return r?Et.update(r,{...p,...g}):Et(g.render,{...p,...g}),h},c=Cr(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},Et.success=Zh("success"),Et.info=Zh("info"),Et.error=Zh("error"),Et.warning=Zh("warning"),Et.warn=Et.warning,Et.dark=(e,t)=>Vd(e,zg("default",{theme:"dark",...t})),Et.dismiss=e=>{Pa.size>0?fi.emit(1,e):pd=pd.filter(t=>e!=null&&t.options.toastId!==e)},Et.clearWaitingQueue=function(e){return e===void 0&&(e={}),fi.emit(5,e)},Et.isActive=e=>{let t=!1;return Pa.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Et.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Pa.get(s||cy);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:E3()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Vd(o,s)}},0)},Et.done=e=>{Et.update(e,{progress:1})},Et.onChange=e=>(fi.on(4,e),()=>{fi.off(4,e)}),Et.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Et.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},fi.on(2,e=>{cy=e.containerId||e,Pa.set(cy,e),pd.forEach(t=>{fi.emit(0,t.content,t.options)}),pd=[]}).on(3,e=>{Pa.delete(e.containerId||e),Pa.size===0&&fi.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===lo.inputName){const t=Je.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===lo.inputName){const i=(r=Re.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=Je.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Je.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Re.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Je.getRemoteMicById(e);i==null||i.setPlayerNumber(t),sn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Re.getPlayers().find(i=>i.input.deviceId===e);if(n&&Re.removePlayer(n.number),t!==null){const i=Re.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Re.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,silent:t})=>{t||Et.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}))});te.remoteMicDisconnected.subscribe(({name:e},t)=>{t||Et.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}))});const kx=()=>{const e=Je.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Re.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Je.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(kx);te.playerInputChanged.subscribe(kx);te.remoteMicSubscribed.subscribe(kx);const k3=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Re.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=je.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Ng(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var A,v;return[p[0]-(((A=m[g-1])==null?void 0:A[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=gj(d);console.log("compressed",h)}catch(d){Ls(d)}kn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!Zn.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(k3("songStarted"));te.songEnded.subscribe(k3("songEnded"));const Xc=e=>$s.generateSongFile(e),C3=async e=>{const t=Xc(e);return await al.getItem(t)||{plays:0,scores:[]}},T3=async(e,t)=>{await al.setItem(Xc(e),t)},xW=async()=>{const e=await al.keys(),t={};return await Promise.all(e.map(async n=>{t[n]=await al.getItem(n)})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await al.getItem(Xc(e));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await T3(e,i),te.songStatStored.dispatch(Xc(e),i)});const Zc="session-player-names",SW="previous-player-names";function wW(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse(Oe.session.getItem(Zc))||[];const r=t.players.map(({number:s})=>Re.getPlayer(s)).filter(wW).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Oe.session.setItem(Zc,JSON.stringify(n)),Oe.session.setItem(SW,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Oe.session.getItem(Zc))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Oe.session.setItem(Zc,JSON.stringify(r))});function EW(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return EW(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var kW="Expected a function";function Rc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(kW);return as(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Z5(e,t,{leading:r,maxWait:t,trailing:i})}class CW extends _o{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Jo.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const s=new Y5;await s.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const o=new Float32Array(i.fftSize);i.getFloatTimeDomainData(o);const a=await s.getFrequency(o),l=this.calculateVolume(o);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Ls(r),console.error(r)}}catch(r){Ls(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const Hi=new CW;class TW extends _o{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new b0(t,{...s3,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class IW extends _o{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(f3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Ig({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=zb(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Ig({t:"forward",recipients:[this.roomId],payload:t}))}}const bC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let ep;const PW=new Uint8Array(16);function RW(){if(!ep&&(ep=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ep))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ep(PW)}const Gn=[];for(let e=0;e<256;++e)Gn.push((e+256).toString(16).slice(1));function MW(e,t=0){return Gn[e[t+0]]+Gn[e[t+1]]+Gn[e[t+2]]+Gn[e[t+3]]+"-"+Gn[e[t+4]]+Gn[e[t+5]]+"-"+Gn[e[t+6]]+Gn[e[t+7]]+"-"+Gn[e[t+8]]+Gn[e[t+9]]+"-"+Gn[e[t+10]]+Gn[e[t+11]]+Gn[e[t+12]]+Gn[e[t+13]]+Gn[e[t+14]]+Gn[e[t+15]]}const jW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xC={randomUUID:jW};function Ug(e,t,n){if(xC.randomUUID&&!t&&!e)return xC.randomUUID();e=e||{};const r=e.random||(e.rng||RW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return MW(r)}const k1="MIC_CLIENT_ID";class OW{constructor(){this.clientId=Oe.getItem(k1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Rc(t=>{const n=this.frequencies.map(r=>bC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,bC(t,4)])},50),this.onFrequencyUpdate=Rc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Oe.setItem(k1,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new IW:new TW),this.clientId===null&&this.setClientId(Ug()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId(Ug()),this.connect(i,n,r);return}console.log("closed connection :o",s,o),global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",s),kn.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),Hi.removeListener(this.onFrequencyUpdate),Hi.stopMonitoring(),!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Date.now(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Tc(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Rc(t=>kn.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=Tc()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,1e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),kn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:Aj.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(Hi.removeListener(this.onFrequencyUpdate),Hi.addListener(this.onFrequencyUpdate),Hi.startMonitoring(void 0,!0)):o==="stop-monitor"?(Hi.removeListener(this.onFrequencyUpdate),Hi.stopMonitoring()):o==="set-player-number"?te.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Oe.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?te.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?te.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?te.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&te.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const pn=new OW,VW="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",LW="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",NW="/assets/421888__b-sean__retro-CErSO5v-.ogg",$W="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",BW="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",DW="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",FW="/assets/menu_back-CXKu2j7w.mp3",zW="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",UW="/assets/menu_navigate-C6GUIZQM.mp3";class So{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const E0=new So({src:UW}),Cx=new So({src:zW}),Tx=new So({src:FW}),I3=new So({src:LW,preload:!0}),Ix=new So({src:BW,preload:!0,volume:.5}),P3=new So({src:DW,volume:.3,loop:!0}),R3=new So({src:NW,volume:.4,loop:!0}),M3=new So({src:VW,volume:.25,loop:!0}),Jp=new So({src:$W,volume:.8}),HW=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:P3,christmasBackgroundMusic:M3,classicBackgroundMusic:R3,menuBack:Tx,menuEnter:Cx,menuNavigate:E0,waitFinished:I3,waitForReadinessMusic:Jp,woosh:Ix},Symbol.toStringTag,{value:"Module"})),GW={RemoteMicClient:pn,RemoteMicServer:Bg,GameState:je,GameEvents:te,RemoteMicManager:Je,SongDao:$s,InputManager:sn,InputSourceManager:co,CameraManager:Qi,UserMediaService:Jo,PlayersManager:Re,SoundManager:HW,importSongs:async()=>{await(await h0(()=>import("./importSongsFromPostHog-xJKFxqoy.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=GW};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function Px(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function qW(){this.__data__=new bo,this.size=0}function WW(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function KW(e){return this.__data__.get(e)}function YW(e){return this.__data__.has(e)}var QW=200;function JW(e,t){var n=this.__data__;if(n instanceof bo){var r=n.__data__;if(!hf||r.length<QW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xo(r)}return n.set(e,t),this.size=n.size,this}function Ms(e){var t=this.__data__=new bo(e);this.size=t.size}Ms.prototype.clear=qW;Ms.prototype.delete=WW;Ms.prototype.get=KW;Ms.prototype.has=YW;Ms.prototype.set=JW;function XW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Hg=function(){try{var e=Cl(Object,"defineProperty");return e({},"",{}),e}catch{}}();function j3(e,t,n){t=="__proto__"&&Hg?Hg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ZW=Object.prototype,eK=ZW.hasOwnProperty;function O3(e,t,n){var r=e[t];(!(eK.call(e,t)&&g0(r,n))||n===void 0&&!(t in e))&&j3(e,t,n)}function oh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?j3(n,a,l):O3(n,a,l)}return n}function tK(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var nK="[object Arguments]";function SC(e){return ao(e)&&El(e)==nK}var V3=Object.prototype,rK=V3.hasOwnProperty,iK=V3.propertyIsEnumerable,Rx=SC(function(){return arguments}())?SC:function(e){return ao(e)&&rK.call(e,"callee")&&!iK.call(e,"callee")},Ci=Array.isArray;function sK(){return!1}var L3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wC=L3&&typeof module=="object"&&module&&!module.nodeType&&module,oK=wC&&wC.exports===L3,EC=oK?cs.Buffer:void 0,aK=EC?EC.isBuffer:void 0,Gg=aK||sK,lK="[object Arguments]",cK="[object Array]",uK="[object Boolean]",dK="[object Date]",fK="[object Error]",hK="[object Function]",pK="[object Map]",gK="[object Number]",mK="[object Object]",vK="[object RegExp]",yK="[object Set]",AK="[object String]",_K="[object WeakMap]",bK="[object ArrayBuffer]",xK="[object DataView]",SK="[object Float32Array]",wK="[object Float64Array]",EK="[object Int8Array]",kK="[object Int16Array]",CK="[object Int32Array]",TK="[object Uint8Array]",IK="[object Uint8ClampedArray]",PK="[object Uint16Array]",RK="[object Uint32Array]",Mt={};Mt[SK]=Mt[wK]=Mt[EK]=Mt[kK]=Mt[CK]=Mt[TK]=Mt[IK]=Mt[PK]=Mt[RK]=!0;Mt[lK]=Mt[cK]=Mt[bK]=Mt[uK]=Mt[xK]=Mt[dK]=Mt[fK]=Mt[hK]=Mt[pK]=Mt[gK]=Mt[mK]=Mt[vK]=Mt[yK]=Mt[AK]=Mt[_K]=!1;function MK(e){return ao(e)&&Sx(e.length)&&!!Mt[El(e)]}function Mx(e){return function(t){return e(t)}}var N3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ld=N3&&typeof module=="object"&&module&&!module.nodeType&&module,jK=Ld&&Ld.exports===N3,uy=jK&&J5.process,eu=function(){try{var e=Ld&&Ld.require&&Ld.require("util").types;return e||uy&&uy.binding&&uy.binding("util")}catch{}}(),kC=eu&&eu.isTypedArray,$3=kC?Mx(kC):MK,OK=Object.prototype,VK=OK.hasOwnProperty;function B3(e,t){var n=Ci(e),r=!n&&Rx(e),i=!n&&!r&&Gg(e),s=!n&&!r&&!i&&$3(e),o=n||r||i||s,a=o?tK(e.length,String):[],l=a.length;for(var c in e)(t||VK.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ex(c,l)))&&a.push(c);return a}var LK=Object.prototype;function jx(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||LK;return e===n}function D3(e,t){return function(n){return e(t(n))}}var NK=D3(Object.keys,Object),$K=Object.prototype,BK=$K.hasOwnProperty;function DK(e){if(!jx(e))return NK(e);var t=[];for(var n in Object(e))BK.call(e,n)&&n!="constructor"&&t.push(n);return t}function ah(e){return wx(e)?B3(e):DK(e)}function FK(e,t){return e&&oh(t,ah(t),e)}function zK(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var UK=Object.prototype,HK=UK.hasOwnProperty;function GK(e){if(!as(e))return zK(e);var t=jx(e),n=[];for(var r in e)r=="constructor"&&(t||!HK.call(e,r))||n.push(r);return n}function Ox(e){return wx(e)?B3(e,!0):GK(e)}function qK(e,t){return e&&oh(t,Ox(t),e)}var F3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CC=F3&&typeof module=="object"&&module&&!module.nodeType&&module,WK=CC&&CC.exports===F3,TC=WK?cs.Buffer:void 0,IC=TC?TC.allocUnsafe:void 0;function KK(e,t){if(t)return e.slice();var n=e.length,r=IC?IC(n):new e.constructor(n);return e.copy(r),r}function z3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function YK(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function U3(){return[]}var QK=Object.prototype,JK=QK.propertyIsEnumerable,PC=Object.getOwnPropertySymbols,Vx=PC?function(e){return e==null?[]:(e=Object(e),YK(PC(e),function(t){return JK.call(e,t)}))}:U3;function XK(e,t){return oh(e,Vx(e),t)}function Lx(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var ZK=D3(Object.getPrototypeOf,Object);const Nx=ZK;var eY=Object.getOwnPropertySymbols,H3=eY?function(e){for(var t=[];e;)Lx(t,Vx(e)),e=Nx(e);return t}:U3;function tY(e,t){return oh(e,H3(e),t)}function G3(e,t,n){var r=t(e);return Ci(e)?r:Lx(r,n(e))}function C1(e){return G3(e,ah,Vx)}function q3(e){return G3(e,Ox,H3)}var T1=Cl(cs,"DataView"),I1=Cl(cs,"Promise"),Mc=Cl(cs,"Set"),P1=Cl(cs,"WeakMap"),RC="[object Map]",nY="[object Object]",MC="[object Promise]",jC="[object Set]",OC="[object WeakMap]",VC="[object DataView]",rY=kl(T1),iY=kl(hf),sY=kl(I1),oY=kl(Mc),aY=kl(P1),Ra=El;(T1&&Ra(new T1(new ArrayBuffer(1)))!=VC||hf&&Ra(new hf)!=RC||I1&&Ra(I1.resolve())!=MC||Mc&&Ra(new Mc)!=jC||P1&&Ra(new P1)!=OC)&&(Ra=function(e){var t=El(e),n=t==nY?e.constructor:void 0,r=n?kl(n):"";if(r)switch(r){case rY:return VC;case iY:return RC;case sY:return MC;case oY:return jC;case aY:return OC}return t});const mf=Ra;var lY=Object.prototype,cY=lY.hasOwnProperty;function uY(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&cY.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var qg=cs.Uint8Array;function $x(e){var t=new e.constructor(e.byteLength);return new qg(t).set(new qg(e)),t}function dY(e,t){var n=t?$x(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var fY=/\w*$/;function hY(e){var t=new e.constructor(e.source,fY.exec(e));return t.lastIndex=e.lastIndex,t}var LC=ki?ki.prototype:void 0,NC=LC?LC.valueOf:void 0;function pY(e){return NC?Object(NC.call(e)):{}}function gY(e,t){var n=t?$x(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var mY="[object Boolean]",vY="[object Date]",yY="[object Map]",AY="[object Number]",_Y="[object RegExp]",bY="[object Set]",xY="[object String]",SY="[object Symbol]",wY="[object ArrayBuffer]",EY="[object DataView]",kY="[object Float32Array]",CY="[object Float64Array]",TY="[object Int8Array]",IY="[object Int16Array]",PY="[object Int32Array]",RY="[object Uint8Array]",MY="[object Uint8ClampedArray]",jY="[object Uint16Array]",OY="[object Uint32Array]";function VY(e,t,n){var r=e.constructor;switch(t){case wY:return $x(e);case mY:case vY:return new r(+e);case EY:return dY(e,n);case kY:case CY:case TY:case IY:case PY:case RY:case MY:case jY:case OY:return gY(e,n);case yY:return new r;case AY:case xY:return new r(e);case _Y:return hY(e);case bY:return new r;case SY:return pY(e)}}var $C=Object.create,LY=function(){function e(){}return function(t){if(!as(t))return{};if($C)return $C(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function NY(e){return typeof e.constructor=="function"&&!jx(e)?LY(Nx(e)):{}}var $Y="[object Map]";function BY(e){return ao(e)&&mf(e)==$Y}var BC=eu&&eu.isMap,DY=BC?Mx(BC):BY,FY="[object Set]";function zY(e){return ao(e)&&mf(e)==FY}var DC=eu&&eu.isSet,UY=DC?Mx(DC):zY,HY=1,GY=2,qY=4,W3="[object Arguments]",WY="[object Array]",KY="[object Boolean]",YY="[object Date]",QY="[object Error]",K3="[object Function]",JY="[object GeneratorFunction]",XY="[object Map]",ZY="[object Number]",Y3="[object Object]",eQ="[object RegExp]",tQ="[object Set]",nQ="[object String]",rQ="[object Symbol]",iQ="[object WeakMap]",sQ="[object ArrayBuffer]",oQ="[object DataView]",aQ="[object Float32Array]",lQ="[object Float64Array]",cQ="[object Int8Array]",uQ="[object Int16Array]",dQ="[object Int32Array]",fQ="[object Uint8Array]",hQ="[object Uint8ClampedArray]",pQ="[object Uint16Array]",gQ="[object Uint32Array]",Ct={};Ct[W3]=Ct[WY]=Ct[sQ]=Ct[oQ]=Ct[KY]=Ct[YY]=Ct[aQ]=Ct[lQ]=Ct[cQ]=Ct[uQ]=Ct[dQ]=Ct[XY]=Ct[ZY]=Ct[Y3]=Ct[eQ]=Ct[tQ]=Ct[nQ]=Ct[rQ]=Ct[fQ]=Ct[hQ]=Ct[pQ]=Ct[gQ]=!0;Ct[QY]=Ct[K3]=Ct[iQ]=!1;function Xp(e,t,n,r,i,s){var o,a=t&HY,l=t&GY,c=t&qY;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!as(e))return e;var u=Ci(e);if(u){if(o=uY(e),!a)return z3(e,o)}else{var d=mf(e),h=d==K3||d==JY;if(Gg(e))return KK(e,a);if(d==Y3||d==W3||h&&!i){if(o=l||h?{}:NY(e),!a)return l?tY(e,qK(o,e)):XK(e,FK(o,e))}else{if(!Ct[d])return i?e:{};o=VY(e,d,a)}}s||(s=new Ms);var p=s.get(e);if(p)return p;s.set(e,o),UY(e)?e.forEach(function(A){o.add(Xp(A,t,n,A,e,s))}):DY(e)&&e.forEach(function(A,v){o.set(v,Xp(A,t,n,v,e,s))});var g=c?l?q3:C1:l?Ox:ah,m=u?void 0:g(e);return XW(m||e,function(A,v){m&&(v=A,A=e[v]),O3(o,v,Xp(A,t,n,v,e,s))}),o}var mQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vQ=/^\w*$/;function Bx(e,t){if(Ci(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||p0(e)?!0:vQ.test(e)||!mQ.test(e)||t!=null&&e in Object(t)}var yQ=500;function AQ(e){var t=y0(e,function(r){return n.size===yQ&&n.clear(),r}),n=t.cache;return t}var _Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bQ=/\\(\\)?/g,xQ=AQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_Q,function(n,r,i,s){t.push(i?s.replace(bQ,"$1"):r||n)}),t}),SQ=1/0,FC=ki?ki.prototype:void 0,zC=FC?FC.toString:void 0;function Q3(e){if(typeof e=="string")return e;if(Ci(e))return Px(e,Q3)+"";if(p0(e))return zC?zC.call(e):"";var t=e+"";return t=="0"&&1/e==-SQ?"-0":t}function Dx(e){return e==null?"":Q3(e)}function k0(e,t){return Ci(e)?e:Bx(e,t)?[e]:xQ(Dx(e))}function wQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var EQ=1/0;function lh(e){if(typeof e=="string"||p0(e))return e;var t=e+"";return t=="0"&&1/e==-EQ?"-0":t}function Fx(e,t){t=k0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[lh(t[n++])];return n&&n==r?e:void 0}function zx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function kQ(e,t){return t.length<2?e:Fx(e,zx(t,0,-1))}function CQ(e,t){return t=k0(t,e),e=kQ(e,t),e==null||delete e[lh(wQ(t))]}var TQ="[object Object]",IQ=Function.prototype,PQ=Object.prototype,J3=IQ.toString,RQ=PQ.hasOwnProperty,MQ=J3.call(Object);function jQ(e){if(!ao(e)||El(e)!=TQ)return!1;var t=Nx(e);if(t===null)return!0;var n=RQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&J3.call(n)==MQ}function OQ(e){return jQ(e)?void 0:e}var UC=ki?ki.isConcatSpreadable:void 0;function VQ(e){return Ci(e)||Rx(e)||!!(UC&&e&&e[UC])}function X3(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=VQ),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?X3(a,t-1,n,r,i):Lx(i,a):r||(i[i.length]=a)}return i}function LQ(e){var t=e==null?0:e.length;return t?X3(e,1):[]}function NQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var HC=Math.max;function $Q(e,t,n){return t=HC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=HC(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),NQ(e,this,a)}}function BQ(e){return function(){return e}}function Z3(e){return e}var DQ=Hg?function(e,t){return Hg(e,"toString",{configurable:!0,enumerable:!1,value:BQ(t),writable:!0})}:Z3;const FQ=DQ;var zQ=800,UQ=16,HQ=Date.now;function GQ(e){var t=0,n=0;return function(){var r=HQ(),i=UQ-(r-n);if(n=r,i>0){if(++t>=zQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qQ=GQ(FQ);function WQ(e){return qQ($Q(e,void 0,LQ),e+"")}var KQ=1,YQ=2,QQ=4,JQ=WQ(function(e,t){var n={};if(e==null)return n;var r=!1;t=Px(t,function(s){return s=k0(s,e),r||(r=s.length>1),s}),oh(e,q3(e),n),r&&(n=Xp(n,KQ|YQ|QQ,OQ));for(var i=t.length;i--;)CQ(n,t[i]);return n});function Bs(e,t=!1){const[n,r]=_.useState(null);return _.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Xr(e,t){const n=Array.isArray(e)?e:[e];_.useEffect(()=>(n.forEach(r=>r.subscribe(t)),()=>n.forEach(r=>r.unsubscribe(t))),[...n,t])}function Ti(e,t,n=[]){const r=_.useMemo(t,[]),[i,s]=_.useState(r),o=Array.isArray(e)?e:[e];return _.useEffect(()=>{s(t())},n),_.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}var XQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ZQ=WR(function(e){return XQ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),eJ=ZQ,tJ=function(t){return t!=="theme"},GC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?eJ:tJ},qC=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},nJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return ZR(n,r,i),gD(function(){return eM(n,r,i)}),null},C=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=qC(t,n,r),l=a||GC(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=sM(function(m,A,v){var y=c&&m.as||i,b="",S=[],x=m;if(m.theme==null){x={};for(var w in m)x[w]=m[w];x.theme=_.useContext(Qf)}typeof m.className=="string"?b=lD(A.registered,S,m.className):m.className!=null&&(b=m.className+" ");var E=wb(d.concat(S),A.registered,x);b+=A.key+"-"+E.name,o!==void 0&&(b+=" "+o);var I=c&&a===void 0?GC(y):l,L={};for(var j in m)c&&j==="as"||I(j)&&(L[j]=m[j]);return L.className=b,L.ref=v,_.createElement(_.Fragment,null,_.createElement(nJ,{cache:A,serialized:E,isStringTag:typeof y=="string"}),_.createElement(y,L))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,A){return e(m,oe({},n,A,{shouldForwardProp:qC(g,A,!0)})).apply(void 0,d)},g}};const Ux=e=>Vt(!!e.focused&&uo,";:hover{",uo,";}",""),eO=Vt("box-shadow:inset 0px 0px 0px 4px ",fe.colors.text.active,";",""),rJ=Ao`
  100% {
    box-shadow: inset 0px 0px 0px 2px ${fe.colors.text.active};
  }
  50% {
    ${eO};
  }
  0% {
    box-shadow: inset 0px 0px 0px 2px ${fe.colors.text.active};
  }
`,uo=Vt("animation:",rJ," 1000ms ease-in-out infinite both;",""),Ne={name:"uo792j",styles:"font-weight:bold;-webkit-text-stroke:thin black;color:white"},tu="@media (hover: none)",iJ="@media (hover: hover)",C0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";var dy=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function fy(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function tO(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function nO(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function sJ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var Hx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":dy?173:189,"=":dy?61:187,";":dy?59:186,"'":222,"[":219,"]":221,"\\":220},aa={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},R1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Kn={16:!1,18:!1,17:!1,91:!1},bn={};for(var tp=1;tp<20;tp++)Hx["f".concat(tp)]=111+tp;var Ft=[],WC=!1,rO="all",iO=[],T0=function(t){return Hx[t.toLowerCase()]||aa[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function sO(e){rO=e||"all"}function vf(){return rO||"all"}function oJ(){return Ft.slice(0)}function aJ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function lJ(e){return typeof e=="string"&&(e=T0(e)),Ft.indexOf(e)!==-1}function cJ(e,t){var n,r;e||(e=vf());for(var i in bn)if(Object.prototype.hasOwnProperty.call(bn,i))for(n=bn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;vf()===e&&sO(t||"all")}function uJ(e){var t=e.keyCode||e.which||e.charCode,n=Ft.indexOf(t);if(n>=0&&Ft.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Ft.splice(0,Ft.length),(t===93||t===224)&&(t=91),t in Kn){Kn[t]=!1;for(var r in aa)aa[r]===t&&(Wr[r]=!1)}}function dJ(e){if(typeof e>"u")Object.keys(bn).forEach(function(o){return delete bn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&hy(o)});else if(typeof e=="object")e.key&&hy(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),hy({key:e,scope:i,method:s,splitKey:"+"})}}var hy=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=nO(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":T0(d);if(bn[h]){r||(r=vf());var p=u>1?tO(aa,c):[];bn[h]=bn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&sJ(g.mods,p))})}})};function KC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in Kn)Object.prototype.hasOwnProperty.call(Kn,s)&&(!Kn[s]&&t.mods.indexOf(+s)>-1||Kn[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!Kn[16]&&!Kn[18]&&!Kn[17]&&!Kn[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function YC(e,t){var n=bn["*"],r=e.keyCode||e.which||e.charCode;if(Wr.filter.call(this,e)){if((r===93||r===224)&&(r=91),Ft.indexOf(r)===-1&&r!==229&&Ft.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=R1[g];e[g]&&Ft.indexOf(m)===-1?Ft.push(m):!e[g]&&Ft.indexOf(m)>-1?Ft.splice(Ft.indexOf(m),1):g==="metaKey"&&e[g]&&Ft.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Ft=Ft.slice(Ft.indexOf(m))))}),r in Kn){Kn[r]=!0;for(var i in aa)aa[i]===r&&(Wr[i]=!0);if(!n)return}for(var s in Kn)Object.prototype.hasOwnProperty.call(Kn,s)&&(Kn[s]=e[R1[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Ft.indexOf(17)===-1&&Ft.push(17),Ft.indexOf(18)===-1&&Ft.push(18),Kn[17]=!0,Kn[18]=!0);var o=vf();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&KC(e,n[a],o,t);if(r in bn){for(var l=0;l<bn[r].length;l++)if((e.type==="keydown"&&bn[r][l].keydown||e.type==="keyup"&&bn[r][l].keyup)&&bn[r][l].key){for(var c=bn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(T0(d[p]));h.sort().join("")===Ft.sort().join("")&&KC(e,c,o,t)}}}}function fJ(e){return iO.indexOf(e)>-1}function Wr(e,t,n){Ft=[];var r=nO(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=tO(aa,e)),e=e[e.length-1],e=e==="*"?"*":T0(e),e in bn||(bn[e]=[]),bn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!fJ(o)&&window&&(iO.push(o),fy(o,"keydown",function(h){YC(h,o)},d),WC||(WC=!0,fy(window,"focus",function(){Ft=[]},d)),fy(o,"keyup",function(h){YC(h,o),uJ(h)},d))}function hJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(bn).forEach(function(n){var r=bn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var py={setScope:sO,getScope:vf,deleteScope:cJ,getPressedKeyCodes:oJ,isPressed:lJ,filter:aJ,trigger:hJ,unbind:dJ,keyMap:Hx,modifier:aa,modifierMap:R1};for(var gy in py)Object.prototype.hasOwnProperty.call(py,gy)&&(Wr[gy]=py[gy]);if(typeof window<"u"){var pJ=window.hotkeys;Wr.noConflict=function(e){return e&&window.hotkeys===Wr&&(window.hotkeys=pJ),Wr},window.hotkeys=Wr}Wr.filter=function(){return!0};var oO=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},gJ=function(t){return oO(t,["INPUT","TEXTAREA","SELECT"])};function gr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=_.useRef(null),A=_.useCallback(function(v,y){var b,S;return o&&!o(v)?!u:gJ(v)&&!oO(v,s)||(b=v.target)!=null&&b.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(S=m.current)!=null&&S.contains(document.activeElement)?(t(v,y),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return _.useEffect(function(){if(!h){Wr.unbind(e,A);return}return a&&l!==!0&&(n.keydown=!1),Wr(e,n||{},A),function(){return Wr.unbind(e,A)}},[A,e,h]),m}Wr.isPressed;const M1="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var ER,Op,kR;try{(kR=(Op=(ER=global==null?void 0:global.navigator)==null?void 0:ER.keyboard)==null?void 0:Op.lock)==null||kR.call(Op,["Escape"])}catch(e){console.warn(e)}var CR,TR;const mJ=!!((TR=(CR=global==null?void 0:global.navigator)==null?void 0:CR.keyboard)!=null&&TR.lock),ka=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Tl(e,t=!0,n){Xr(te.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),gr("up",ka(e.up),{enabled:t&&!!(e!=null&&e.up)},n),gr("down",ka(e.down),{enabled:t&&!!(e!=null&&e.down)},n),gr("left",ka(e.left),{enabled:t&&!!(e!=null&&e.left)},n),gr("right",ka(e.right),{enabled:t&&!!(e!=null&&e.right)},n),gr("Enter",ka(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),gr("Escape,Backspace",ka(e.back),{enabled:t&&!!(e!=null&&e.back)},n),gr("Shift+R",ka(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function vJ({help:e}){const[t]=$e(Zn),[n,r]=$e(yj);gr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(EJ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(lO,{children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=wJ[s];return f.jsxs(QC,{children:[f.jsx(XC,{children:o??l}),f.jsx(JC,{children:f.jsx(a,{})})]},s)}),f.jsxs(QC,{children:[f.jsx(XC,{children:"Show/hide this help"}),f.jsx(JC,{children:aO("h")()})]})]})})})}const Gx=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(Cs,{disabled:!e,children:""}),f.jsx("br",{}),f.jsx(Cs,{disabled:!t,children:""}),f.jsx(Cs,{disabled:!e,children:""}),f.jsx(Cs,{disabled:!t,children:""})]}),yJ=()=>f.jsx(Gx,{horizontal:!0}),AJ=()=>f.jsx(Gx,{vertical:!0}),_J=()=>f.jsx(Gx,{vertical:!0,horizontal:!0}),bJ=()=>f.jsx(Cs,{children:"Enter "}),xJ=()=>mJ?f.jsx(Cs,{children:"Escape"}):f.jsx(Cs,{children:"Backspace "}),aO=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(Cs,{children:"Shift"})," + ",f.jsx(Cs,{children:e.toUpperCase()})]}),SJ=()=>f.jsx(f.Fragment,{children:f.jsx(Cs,{children:"start typing"})}),wJ={"horizontal-vertical":{view:_J,defaultLabel:"Navigate"},horizontal:{view:yJ,defaultLabel:"Navigate"},vertical:{view:AJ,defaultLabel:"Navigate"},accept:{view:bJ,defaultLabel:"Select"},back:{view:xJ,defaultLabel:"Go back"},shiftR:{view:aO("r"),defaultLabel:"Pick random"},alphanumeric:{view:SJ,defaultLabel:"Search"}},QC=C("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),JC=C("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),XC=C("span",{target:"efq3fs03"})("flex:3;",Ne,";font-size:2rem;text-align:right;"),lO=C("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",Ne,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),EJ=C("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",lO,"{opacity:1;visibility:visible;}}svg{fill:white;}"),Cs=C("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),qx=_.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),kJ=({children:e})=>{const[t,n]=_.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>JQ(d,[u])),[s,o]=Object.entries(t).at(-1)??[];Xr(te.remoteMicConnected,({id:u})=>{var d;(d=Je.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),_.useEffect(()=>{Je.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(qx.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(vJ,{help:l})]})};var CJ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:TJ,mp4:IJ}=CJ,my=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,vy=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class PJ{constructor(){if(this.enabled=!1,vy()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else my()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",TJ),this._addSourceToVideo(this.noSleepVideo,"mp4",IJ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return vy()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):my()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){vy()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):my()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var RJ=PJ;const MJ=lr(RJ),jJ="/assets/eurovisionbg-CvR5q-FP.svg",Wx=_.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),da=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=_.useContext(Wx);_.useEffect(()=>{n(e)},[e,n]),_.useEffect(()=>{r(t)},[t,r])};function OJ({children:e}){const[t,n]=_.useState(!0),[r,i]=_.useState("regular");return f.jsxs(Wx.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(BJ,{bgtheme:r,children:r==="eurovision"&&f.jsx(j1,{})}),e]})}const j1=()=>{var e;return f.jsx(f.Fragment,{children:f.jsx(LJ,{disableAnimation:(e=global.location)==null?void 0:e.href.includes("/remote-mic")})})};var VJ={name:"14nwa94",styles:"animation:escGradient 46s linear infinite;flex:1"};const LJ=C("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",jJ,");background-size:100% 50%;height:100%;",e=>!e.disableAnimation&&VJ,"@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}");var NJ={name:"zjik7",styles:"display:flex"};const $J=C("div",{target:"ev6htcq1"})("background-color:white;",e=>e.bgtheme==="christmas"?Vt(`background-image:linear-gradient(
            -45deg,
            `,Le.christmasGreen.text,`,
            `,Le.christmasGreen.stroke,`,
            `,Le.christmasRed.stroke,`,
            `,Le.christmasRed.stroke,`
          );background-size:400% 400%;`,""):e.bgtheme==="eurovision"?NJ:Vt(`background-image:linear-gradient(
              -45deg,
              `,Le.red.stroke,`,
              `,Le.blue.text,`,
              `,Le.blue.stroke,`,
              `,Le.red.stroke,`
            );background-size:400% 400%;`,"")," width:100%;height:100%;"),BJ=C($J,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;",e=>e.theme.graphicSetting==="high"?"animation: gradient 15s ease infinite":"",";",e=>e.theme.graphicSetting==="low"?"background-position: 100% 50%":"",";@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}");function DJ({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function I0(e){return _.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const FJ=Vt("h1{",Ne,";margin:0;text-align:center;font-size:4rem;color:",fe.colors.text.active,";}h2{",Ne,";margin:0;font-size:2.9rem;}h3{",Ne,";margin:0;font-size:2.7rem;strong{color:",fe.colors.text.active,";}}h4{",Ne,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Ne,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Ne,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Ne,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",fe.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",Ne,";color:",fe.colors.text.active,";text-decoration:underline;}strong{color:",fe.colors.text.active,";}"),zJ=C("div",{target:"e1py91zd0"})(FJ,";");var Kx={},cO={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(cO);var Xe=cO.exports,yy={};function No(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uO(e){if(!No(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=uO(e[n])}),t}function rs(e,t,n={clone:!0}){const r=n.clone?oe({},e):e;return No(e)&&No(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(No(t[i])&&i in e&&No(e[i])?r[i]=rs(e[i],t[i],n):n.clone?r[i]=No(t[i])?uO(t[i]):t[i]:r[i]=t[i])}),r}const UJ=Object.freeze(Object.defineProperty({__proto__:null,default:rs,isPlainObject:No},Symbol.toStringTag,{value:"Module"}));var dO={exports:{}},HJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GJ=HJ,qJ=GJ;function fO(){}function hO(){}hO.resetWarningCache=fO;var WJ=function(){function e(r,i,s,o,a,l){if(l!==qJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hO,resetWarningCache:fO};return n.PropTypes=n,n};dO.exports=WJ();var KJ=dO.exports;const ze=lr(KJ);function dl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const YJ=Object.freeze(Object.defineProperty({__proto__:null,default:dl},Symbol.toStringTag,{value:"Module"}));var pO={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=Symbol.for("react.element"),Qx=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),M0=Symbol.for("react.profiler"),j0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),QJ=Symbol.for("react.server_context"),V0=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),$0=Symbol.for("react.memo"),B0=Symbol.for("react.lazy"),JJ=Symbol.for("react.offscreen"),gO;gO=Symbol.for("react.module.reference");function Oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Yx:switch(e=e.type,e){case P0:case M0:case R0:case L0:case N0:return e;default:switch(e=e&&e.$$typeof,e){case QJ:case O0:case V0:case B0:case $0:case j0:return e;default:return t}}case Qx:return t}}}yt.ContextConsumer=O0;yt.ContextProvider=j0;yt.Element=Yx;yt.ForwardRef=V0;yt.Fragment=P0;yt.Lazy=B0;yt.Memo=$0;yt.Portal=Qx;yt.Profiler=M0;yt.StrictMode=R0;yt.Suspense=L0;yt.SuspenseList=N0;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return Oi(e)===O0};yt.isContextProvider=function(e){return Oi(e)===j0};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yx};yt.isForwardRef=function(e){return Oi(e)===V0};yt.isFragment=function(e){return Oi(e)===P0};yt.isLazy=function(e){return Oi(e)===B0};yt.isMemo=function(e){return Oi(e)===$0};yt.isPortal=function(e){return Oi(e)===Qx};yt.isProfiler=function(e){return Oi(e)===M0};yt.isStrictMode=function(e){return Oi(e)===R0};yt.isSuspense=function(e){return Oi(e)===L0};yt.isSuspenseList=function(e){return Oi(e)===N0};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P0||e===M0||e===R0||e===L0||e===N0||e===JJ||typeof e=="object"&&e!==null&&(e.$$typeof===B0||e.$$typeof===$0||e.$$typeof===j0||e.$$typeof===O0||e.$$typeof===V0||e.$$typeof===gO||e.getModuleId!==void 0)};yt.typeOf=Oi;pO.exports=yt;var ZC=pO.exports;const XJ=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function mO(e){const t=`${e}`.match(XJ);return t&&t[1]||""}function vO(e,t=""){return e.displayName||e.name||mO(e)||t}function eT(e,t,n){const r=vO(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function ZJ(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return vO(e,"Component");if(typeof e=="object")switch(e.$$typeof){case ZC.ForwardRef:return eT(e,e.render,"ForwardRef");case ZC.Memo:return eT(e,e.type,"memo");default:return}}}const eX=Object.freeze(Object.defineProperty({__proto__:null,default:ZJ,getFunctionName:mO},Symbol.toStringTag,{value:"Module"}));function Cn(e){if(typeof e!="string")throw new Error(dl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const tX=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"}));function nX(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function rX(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function iX(e,t){return()=>null}function sX(e,t){var n,r;return _.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Wg(e){return e&&e.ownerDocument||document}function oX(e){return Wg(e).defaultView||window}function aX(e,t){return()=>null}function Kg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const nu=typeof window<"u"?_.useLayoutEffect:_.useEffect;let tT=0;function lX(e){const[t,n]=_.useState(e),r=e||t;return _.useEffect(()=>{t==null&&(tT+=1,n(`mui-${tT}`))},[t]),r}const nT=mg.useId;function yO(e){if(nT!==void 0){const t=nT();return e??t}return lX(e)}function cX(e,t,n,r,i){return null}function AO({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=_.useRef(e!==void 0),[s,o]=_.useState(t),a=i?e:s,l=_.useCallback(c=>{i||o(c)},[]);return[a,l]}function Fa(e){const t=_.useRef(e);return nu(()=>{t.current=e}),_.useRef((...n)=>(0,t.current)(...n)).current}function fo(...e){return _.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Kg(n,t)})},e)}const rT={};function uX(e,t){const n=_.useRef(rT);return n.current===rT&&(n.current=e(t)),n}const dX=[];function fX(e){_.useEffect(e,dX)}class ch{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ch}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function ac(){const e=uX(ch.create).current;return fX(e.disposeEffect),e}let D0=!0,O1=!1;const hX=new ch,pX={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function gX(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&pX[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function mX(e){e.metaKey||e.altKey||e.ctrlKey||(D0=!0)}function Ay(){D0=!1}function vX(){this.visibilityState==="hidden"&&O1&&(D0=!0)}function yX(e){e.addEventListener("keydown",mX,!0),e.addEventListener("mousedown",Ay,!0),e.addEventListener("pointerdown",Ay,!0),e.addEventListener("touchstart",Ay,!0),e.addEventListener("visibilitychange",vX,!0)}function AX(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return D0||gX(t)}function Jx(){const e=_.useCallback(i=>{i!=null&&yX(i.ownerDocument)},[]),t=_.useRef(!1);function n(){return t.current?(O1=!0,hX.start(100,()=>{O1=!1}),t.current=!1,!0):!1}function r(i){return AX(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function _O(e,t){const n=oe({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=oe({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=oe({},s),Object.keys(i).forEach(o=>{n[r][o]=_O(i[o],s[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Il(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const iT=e=>e,_X=()=>{let e=iT;return{configure(t){e=t},generate(t){return e(t)},reset(){e=iT}}},bX=_X(),bO=bX,xO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pl(e,t,n="Mui"){const r=xO[t];return r?`${n}-${r}`:`${bO.generate(e)}-${t}`}function Rl(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Pl(e,i,n)}),r}function SO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const xX=Object.freeze(Object.defineProperty({__proto__:null,default:SO},Symbol.toStringTag,{value:"Module"}));function Xt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function wO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wO(e))&&(r&&(r+=" "),r+=t);return r}function SX(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:_O(t.components[n].defaultProps,r)}const wX=["values","unit","step"],EX=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>oe({},n,{[r.key]:r.val}),{})};function EO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Xt(e,wX),s=EX(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return oe({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const kX={borderRadius:4},CX=kX;function Nd(e,t){return t?rs(e,t,{clone:!1}):e}const Xx={xs:0,sm:600,md:900,lg:1200,xl:1536},sT={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Xx[e]}px)`};function ho(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||sT;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||sT;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||Xx).indexOf(a)!==-1){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function kO(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function CO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function r_e(e,...t){const n=kO(e),r=[n,...t].reduce((i,s)=>rs(i,s),{});return CO(Object.keys(n),r)}function TX(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function i_e({values:e,breakpoints:t,base:n}){const r=n||TX(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function F0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Yg(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=F0(e,n)||r,t&&(i=t(i,r,e)),i}function gn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=F0(l,r)||{};return ho(o,a,d=>{let h=Yg(c,i,d);return d===h&&typeof d=="string"&&(h=Yg(c,i,`${t}${d==="default"?"":Cn(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function IX(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const PX={m:"margin",p:"padding"},RX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},oT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},MX=IX(e=>{if(e.length>2)if(oT[e])e=oT[e];else return[e];const[t,n]=e.split(""),r=PX[t],i=RX[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Zx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],eS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Zx,...eS];function uh(e,t,n,r){var i;const s=(i=F0(e,t,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function TO(e){return uh(e,"spacing",8)}function dh(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function jX(e,t){return n=>e.reduce((r,i)=>(r[i]=dh(t,n),r),{})}function OX(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=MX(n),s=jX(i,r),o=e[n];return ho(e,o,s)}function IO(e,t){const n=TO(e.theme);return Object.keys(e).map(r=>OX(e,t,r,n)).reduce(Nd,{})}function en(e){return IO(e,Zx)}en.propTypes={};en.filterProps=Zx;function tn(e){return IO(e,eS)}tn.propTypes={};tn.filterProps=eS;function VX(e=8){if(e.mui)return e;const t=TO({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function z0(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?Nd(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function mi(e){return typeof e!="number"?e:`${e}px solid`}function Vi(e,t){return gn({prop:e,themeKey:"borders",transform:t})}const LX=Vi("border",mi),NX=Vi("borderTop",mi),$X=Vi("borderRight",mi),BX=Vi("borderBottom",mi),DX=Vi("borderLeft",mi),FX=Vi("borderColor"),zX=Vi("borderTopColor"),UX=Vi("borderRightColor"),HX=Vi("borderBottomColor"),GX=Vi("borderLeftColor"),qX=Vi("outline",mi),WX=Vi("outlineColor"),U0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=uh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:dh(t,r)});return ho(e,e.borderRadius,n)}return null};U0.propTypes={};U0.filterProps=["borderRadius"];z0(LX,NX,$X,BX,DX,FX,zX,UX,HX,GX,U0,qX,WX);const H0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=uh(e.theme,"spacing",8),n=r=>({gap:dh(t,r)});return ho(e,e.gap,n)}return null};H0.propTypes={};H0.filterProps=["gap"];const G0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=uh(e.theme,"spacing",8),n=r=>({columnGap:dh(t,r)});return ho(e,e.columnGap,n)}return null};G0.propTypes={};G0.filterProps=["columnGap"];const q0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=uh(e.theme,"spacing",8),n=r=>({rowGap:dh(t,r)});return ho(e,e.rowGap,n)}return null};q0.propTypes={};q0.filterProps=["rowGap"];const KX=gn({prop:"gridColumn"}),YX=gn({prop:"gridRow"}),QX=gn({prop:"gridAutoFlow"}),JX=gn({prop:"gridAutoColumns"}),XX=gn({prop:"gridAutoRows"}),ZX=gn({prop:"gridTemplateColumns"}),eZ=gn({prop:"gridTemplateRows"}),tZ=gn({prop:"gridTemplateAreas"}),nZ=gn({prop:"gridArea"});z0(H0,G0,q0,KX,YX,QX,JX,XX,ZX,eZ,tZ,nZ);function jc(e,t){return t==="grey"?t:e}const rZ=gn({prop:"color",themeKey:"palette",transform:jc}),iZ=gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jc}),sZ=gn({prop:"backgroundColor",themeKey:"palette",transform:jc});z0(rZ,iZ,sZ);function Hr(e){return e<=1&&e!==0?`${e*100}%`:e}const oZ=gn({prop:"width",transform:Hr}),tS=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Xx[n];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Hr(n)}};return ho(e,e.maxWidth,t)}return null};tS.filterProps=["maxWidth"];const aZ=gn({prop:"minWidth",transform:Hr}),lZ=gn({prop:"height",transform:Hr}),cZ=gn({prop:"maxHeight",transform:Hr}),uZ=gn({prop:"minHeight",transform:Hr});gn({prop:"size",cssProperty:"width",transform:Hr});gn({prop:"size",cssProperty:"height",transform:Hr});const dZ=gn({prop:"boxSizing"});z0(oZ,tS,aZ,lZ,cZ,uZ,dZ);const fZ={border:{themeKey:"borders",transform:mi},borderTop:{themeKey:"borders",transform:mi},borderRight:{themeKey:"borders",transform:mi},borderBottom:{themeKey:"borders",transform:mi},borderLeft:{themeKey:"borders",transform:mi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:mi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:U0},color:{themeKey:"palette",transform:jc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jc},backgroundColor:{themeKey:"palette",transform:jc},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:H0},rowGap:{style:q0},columnGap:{style:G0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Hr},maxWidth:{style:tS},minWidth:{transform:Hr},height:{transform:Hr},maxHeight:{transform:Hr},minHeight:{transform:Hr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},fh=fZ;function hZ(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function pZ(e,t){return typeof e=="function"?e(t):e}function PO(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=F0(i,c)||{};return d?d(o):ho(o,r,g=>{let m=Yg(h,u,g);return g===m&&typeof g=="string"&&(m=Yg(h,u,`${n}${g==="default"?"":Cn(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:fh;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=kO(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=pZ(c[p],s);if(g!=null)if(typeof g=="object")if(o[p])h=Nd(h,e(p,g,s,o));else{const m=ho({theme:s},g,A=>({[p]:A}));hZ(m,g)?h[p]=t({sx:g,theme:s}):h=Nd(h,m)}else h=Nd(h,e(p,g,s,o))}),CO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const RO=PO();RO.filterProps=["sx"];const nS=RO;function MO(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const gZ=["breakpoints","palette","spacing","shape"];function rS(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=e,o=Xt(e,gZ),a=EO(n),l=VX(i);let c=rs({breakpoints:a,direction:"ltr",components:{},palette:oe({mode:"light"},r),spacing:l,shape:oe({},CX,s)},o);return c.applyStyles=MO,c=t.reduce((u,d)=>rs(u,d),c),c.unstable_sxConfig=oe({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return nS({sx:d,theme:this})},c}const mZ=Object.freeze(Object.defineProperty({__proto__:null,default:rS,private_createBreakpoints:EO,unstable_applyStyles:MO},Symbol.toStringTag,{value:"Module"}));var vZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],V1=C.bind();vZ.forEach(function(e){V1[e]=V1(e)});let L1;typeof document=="object"&&(L1=yb({key:"css",prepend:!0}));function yZ(e){const{injectFirst:t,children:n}=e;return t&&L1?f.jsx(iM,{value:L1,children:n}):n}function AZ(e){return e==null||Object.keys(e).length===0}function _Z(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(AZ(i)?n:i):t;return f.jsx(oM,{styles:r})}function bZ(e,t){return V1(e,t)}const xZ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},SZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:_Z,StyledEngineProvider:yZ,ThemeContext:Qf,css:Vt,default:bZ,internal_processStyles:xZ,keyframes:Ao},Symbol.toStringTag,{value:"Module"}));function wZ(e){return Object.keys(e).length===0}function jO(e=null){const t=_.useContext(Qf);return!t||wZ(t)?e:t}const EZ=rS();function OO(e=EZ){return jO(e)}function kZ({props:e,name:t,defaultTheme:n,themeId:r}){let i=OO(n);return r&&(i=i[r]||i),SX({theme:i,name:t,props:e})}const CZ=["sx"],TZ=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:fh;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function IZ(e){const{sx:t}=e,n=Xt(e,CZ),{systemProps:r,otherProps:i}=TZ(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return No(a)?oe({},r,a):r}:s=oe({},r,t),oe({},i,{sx:s})}const PZ=Object.freeze(Object.defineProperty({__proto__:null,default:nS,extendSxProp:IZ,unstable_createStyleFunctionSx:PO,unstable_defaultSxConfig:fh},Symbol.toStringTag,{value:"Module"}));function RZ(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var mn={};const MZ=Fs(YJ),jZ=Fs(xX);var VO=Xe;Object.defineProperty(mn,"__esModule",{value:!0});var Qg=mn.alpha=BO;mn.blend=qZ;mn.colorChannel=void 0;var OZ=mn.darken=sS;mn.decomposeColor=Ii;mn.emphasize=GZ;var VZ=mn.getContrastRatio=FZ;mn.getLuminance=Jg;mn.hexToRgb=LO;mn.hslToRgb=$O;var LZ=mn.lighten=oS;mn.private_safeAlpha=zZ;mn.private_safeColorChannel=void 0;mn.private_safeDarken=UZ;mn.private_safeEmphasize=DO;mn.private_safeLighten=HZ;mn.recomposeColor=wu;mn.rgbToHex=DZ;var aT=VO(MZ),NZ=VO(jZ);function iS(e,t=0,n=1){return(0,NZ.default)(e,t,n)}function LO(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function $Z(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ii(e){if(e.type)return e;if(e.charAt(0)==="#")return Ii(LO(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,aT.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,aT.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const NO=e=>{const t=Ii(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};mn.colorChannel=NO;const BZ=(e,t)=>{try{return NO(e)}catch{return e}};mn.private_safeColorChannel=BZ;function wu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function DZ(e){if(e.indexOf("#")===0)return e;const{values:t}=Ii(e);return`#${t.map((n,r)=>$Z(r===3?Math.round(255*n):n)).join("")}`}function $O(e){e=Ii(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),wu({type:a,values:l})}function Jg(e){e=Ii(e);let t=e.type==="hsl"||e.type==="hsla"?Ii($O(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function FZ(e,t){const n=Jg(e),r=Jg(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function BO(e,t){return e=Ii(e),t=iS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,wu(e)}function zZ(e,t,n){try{return BO(e,t)}catch{return e}}function sS(e,t){if(e=Ii(e),t=iS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return wu(e)}function UZ(e,t,n){try{return sS(e,t)}catch{return e}}function oS(e,t){if(e=Ii(e),t=iS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return wu(e)}function HZ(e,t,n){try{return oS(e,t)}catch{return e}}function GZ(e,t=.15){return Jg(e)>.5?sS(e,t):oS(e,t)}function DO(e,t,n){try{return DO(e,t)}catch{return e}}function qZ(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Ii(e),o=Ii(t),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return wu({type:"rgb",values:a})}const WZ={black:"#000",white:"#fff"},yf=WZ,KZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},YZ=KZ,QZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fl=QZ,JZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},zl=JZ,XZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Gu=XZ,ZZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ul=ZZ,eee={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Hl=eee,tee={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gl=tee,nee=["mode","contrastThreshold","tonalOffset"],lT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yf.white,default:yf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_y={text:{primary:yf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function cT(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=LZ(e.main,i):t==="dark"&&(e.dark=OZ(e.main,s)))}function ree(e="light"){return e==="dark"?{main:Ul[200],light:Ul[50],dark:Ul[400]}:{main:Ul[700],light:Ul[400],dark:Ul[800]}}function iee(e="light"){return e==="dark"?{main:Fl[200],light:Fl[50],dark:Fl[400]}:{main:Fl[500],light:Fl[300],dark:Fl[700]}}function see(e="light"){return e==="dark"?{main:zl[500],light:zl[300],dark:zl[700]}:{main:zl[700],light:zl[400],dark:zl[800]}}function oee(e="light"){return e==="dark"?{main:Hl[400],light:Hl[300],dark:Hl[700]}:{main:Hl[700],light:Hl[500],dark:Hl[900]}}function aee(e="light"){return e==="dark"?{main:Gl[400],light:Gl[300],dark:Gl[700]}:{main:Gl[800],light:Gl[500],dark:Gl[900]}}function lee(e="light"){return e==="dark"?{main:Gu[400],light:Gu[300],dark:Gu[700]}:{main:"#ed6c02",light:Gu[500],dark:Gu[900]}}function cee(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Xt(e,nee),s=e.primary||ree(t),o=e.secondary||iee(t),a=e.error||see(t),l=e.info||oee(t),c=e.success||aee(t),u=e.warning||lee(t);function d(m){return VZ(m,_y.text.primary)>=n?_y.text.primary:lT.text.primary}const h=({color:m,name:A,mainShade:v=500,lightShade:y=300,darkShade:b=700})=>{if(m=oe({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(dl(11,A?` (${A})`:"",v));if(typeof m.main!="string")throw new Error(dl(12,A?` (${A})`:"",JSON.stringify(m.main)));return cT(m,"light",y,r),cT(m,"dark",b,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:_y,light:lT};return rs(oe({common:oe({},yf),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:YZ,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const uee=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function dee(e){return Math.round(e*1e5)/1e5}const uT={textTransform:"uppercase"},dT='"Roboto", "Helvetica", "Arial", sans-serif';function fee(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=dT,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Xt(n,uee),p=i/14,g=d||(v=>`${v/c*p}rem`),m=(v,y,b,S,x)=>oe({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:b},r===dT?{letterSpacing:`${dee(S/y)}em`}:{},x,u),A={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,uT),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,uT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rs(oe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},A),h,{clone:!1})}const hee=.2,pee=.14,gee=.12;function Dt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${hee})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${pee})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${gee})`].join(",")}const mee=["none",Dt(0,2,1,-1,0,1,1,0,0,1,3,0),Dt(0,3,1,-2,0,2,2,0,0,1,5,0),Dt(0,3,3,-2,0,3,4,0,0,1,8,0),Dt(0,2,4,-1,0,4,5,0,0,1,10,0),Dt(0,3,5,-1,0,5,8,0,0,1,14,0),Dt(0,3,5,-1,0,6,10,0,0,1,18,0),Dt(0,4,5,-2,0,7,10,1,0,2,16,1),Dt(0,5,5,-3,0,8,10,1,0,3,14,2),Dt(0,5,6,-3,0,9,12,1,0,3,16,2),Dt(0,6,6,-3,0,10,14,1,0,4,18,3),Dt(0,6,7,-4,0,11,15,1,0,4,20,3),Dt(0,7,8,-4,0,12,17,2,0,5,22,4),Dt(0,7,8,-4,0,13,19,2,0,5,24,4),Dt(0,7,9,-4,0,14,21,2,0,5,26,4),Dt(0,8,9,-5,0,15,22,2,0,6,28,5),Dt(0,8,10,-5,0,16,24,2,0,6,30,5),Dt(0,8,11,-5,0,17,26,2,0,6,32,5),Dt(0,9,11,-5,0,18,28,2,0,7,34,6),Dt(0,9,12,-6,0,19,29,2,0,7,36,6),Dt(0,10,13,-6,0,20,31,3,0,8,38,7),Dt(0,10,13,-6,0,21,33,3,0,8,40,7),Dt(0,10,14,-6,0,22,35,3,0,8,42,7),Dt(0,11,14,-7,0,23,36,3,0,9,44,8),Dt(0,11,15,-7,0,24,38,3,0,9,46,8)],vee=["duration","easing","delay"],yee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Aee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fT(e){return`${Math.round(e)}ms`}function _ee(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function bee(e){const t=oe({},yee,e.easing),n=oe({},Aee,e.duration);return oe({getAutoHeightDuration:_ee,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0}=s;return Xt(s,vee),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:fT(o)} ${a} ${typeof l=="string"?l:fT(l)}`).join(",")}},e,{easing:t,duration:n})}const xee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},See=xee,wee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function FO(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=e,o=Xt(e,wee);if(e.vars)throw new Error(dl(18));const a=cee(r),l=rS(e);let c=rs(l,{mixins:RZ(l.breakpoints,n),palette:a,shadows:mee.slice(),typography:fee(a,s),transitions:bee(i),zIndex:oe({},See)});return c=rs(c,o),c=t.reduce((u,d)=>rs(u,d),c),c.unstable_sxConfig=oe({},fh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return nS({sx:d,theme:this})},c}const Eee=FO(),aS=Eee,Af="$$material";function fa({props:e,name:t}){return kZ({props:e,name:t,defaultTheme:aS,themeId:Af})}var hh={},by={exports:{}},hT;function kee(){return hT||(hT=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(by)),by.exports}var xy={exports:{}},pT;function Cee(){return pT||(pT=1,function(e){function t(n,r){if(n==null)return{};var i={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(i[o]=n[o]);return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(xy)),xy.exports}const zO=Fs(SZ),Tee=Fs(UJ),Iee=Fs(tX),Pee=Fs(eX),Ree=Fs(mZ),Mee=Fs(PZ);var Eu=Xe;Object.defineProperty(hh,"__esModule",{value:!0});var jee=hh.default=qee;hh.shouldForwardProp=Zp;hh.systemDefaultTheme=void 0;var di=Eu(kee()),N1=Eu(Cee()),gT=Dee(zO),Oee=Tee;Eu(Iee);Eu(Pee);var Vee=Eu(Ree),Lee=Eu(Mee);const Nee=["ownerState"],$ee=["variants"],Bee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function UO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(UO=function(r){return r?n:t})(e)}function Dee(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=UO(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Fee(e){return Object.keys(e).length===0}function zee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Zp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Uee=hh.systemDefaultTheme=(0,Vee.default)(),Hee=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function np({defaultTheme:e,theme:t,themeId:n}){return Fee(t)?e:t[n]||t}function Gee(e){return e?(t,n)=>n[e]:null}function eg(e,t){let{ownerState:n}=t,r=(0,N1.default)(t,Nee);const i=typeof e=="function"?e((0,di.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(s=>eg(s,(0,di.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,N1.default)(i,$ee);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,di.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,di.default)({ownerState:n},r,n)):l.style))}),a}return i}function qee(e={}){const{themeId:t,defaultTheme:n=Uee,rootShouldForwardProp:r=Zp,slotShouldForwardProp:i=Zp}=e,s=o=>(0,Lee.default)((0,di.default)({},o,{theme:np((0,di.default)({},o,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,gT.internal_processStyles)(o,x=>x.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Gee(Hee(c))}=a,p=(0,N1.default)(a,Bee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let A,v=Zp;c==="Root"||c==="root"?v=r:c?v=i:zee(o)&&(v=void 0);const y=(0,gT.default)(o,(0,di.default)({shouldForwardProp:v,label:A},p)),b=x=>typeof x=="function"&&x.__emotion_real!==x||(0,Oee.isPlainObject)(x)?w=>eg(x,(0,di.default)({},w,{theme:np({theme:w.theme,defaultTheme:n,themeId:t})})):x,S=(x,...w)=>{let E=b(x);const I=w?w.map(b):[];l&&h&&I.push($=>{const Q=np((0,di.default)({},$,{defaultTheme:n,themeId:t}));if(!Q.components||!Q.components[l]||!Q.components[l].styleOverrides)return null;const M=Q.components[l].styleOverrides,z={};return Object.entries(M).forEach(([P,T])=>{z[P]=eg(T,(0,di.default)({},$,{theme:Q}))}),h($,z)}),l&&!g&&I.push($=>{var Q;const M=np((0,di.default)({},$,{defaultTheme:n,themeId:t})),z=M==null||(Q=M.components)==null||(Q=Q[l])==null?void 0:Q.variants;return eg({variants:z},(0,di.default)({},$,{theme:M}))}),m||I.push(s);const L=I.length-w.length;if(Array.isArray(x)&&L>0){const $=new Array(L).fill("");E=[...x,...$],E.raw=[...x.raw,...$]}const j=y(E,...I);return o.muiName&&(j.muiName=o.muiName),j};return y.withConfig&&(S.withConfig=y.withConfig),S}}function Wee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Kee=e=>Wee(e)&&e!=="classes",ii=jee({themeId:Af,defaultTheme:aS,rootShouldForwardProp:Kee});function Yee(e){return Pl("MuiSvgIcon",e)}Rl("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Qee=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Jee=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Cn(t)}`,`fontSize${Cn(n)}`]};return Il(i,Yee,r)},Xee=ii("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Cn(n.color)}`],t[`fontSize${Cn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),Xg=_.forwardRef(function(t,n){const r=fa({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Xt(r,Qee),g=_.isValidElement(i)&&i.type==="svg",m=oe({},r,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),A={};u||(A.viewBox=h);const v=Jee(m);return f.jsxs(Xee,oe({as:a,className:xn(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},A,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});Xg.muiName="SvgIcon";function Zee(e,t){function n(r,i){return f.jsx(Xg,oe({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=Xg.muiName,_.memo(_.forwardRef(n))}const ete={configure:e=>{bO.configure(e)}},tte=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Cn,createChainedFunction:nX,createSvgIcon:Zee,debounce:rX,deprecatedPropType:iX,isMuiElement:sX,ownerDocument:Wg,ownerWindow:oX,requirePropFactory:aX,setRef:Kg,unstable_ClassNameGenerator:ete,unstable_useEnhancedEffect:nu,unstable_useId:yO,unsupportedProp:cX,useControlled:AO,useEventCallback:Fa,useForkRef:fo,useIsFocusVisible:Jx},Symbol.toStringTag,{value:"Module"})),nte=Fs(tte);var mT;function nt(){return mT||(mT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=nte}(yy)),yy}var rte=Xe;Object.defineProperty(Kx,"__esModule",{value:!0});var HO=Kx.default=void 0,ite=rte(nt()),ste=f;HO=Kx.default=(0,ite.default)((0,ste.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var lS={},ote=Xe;Object.defineProperty(lS,"__esModule",{value:!0});var GO=lS.default=void 0,ate=ote(nt()),lte=f;GO=lS.default=(0,ate.default)((0,lte.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var cS={},cte=Xe;Object.defineProperty(cS,"__esModule",{value:!0});var _f=cS.default=void 0,ute=cte(nt()),dte=f;_f=cS.default=(0,ute.default)((0,dte.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$1(e,t)}function qO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$1(e,t)}var WO={exports:{}},si={},KO={exports:{}},YO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,N){var B=O.length;O.push(N);e:for(;0<B;){var G=B-1>>>1,U=O[G];if(0<i(U,N))O[G]=N,O[B]=U,B=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var N=O[0],B=O.pop();if(B!==N){O[0]=B;e:for(var G=0,U=O.length,ne=U>>>1;G<ne;){var V=2*(G+1)-1,le=O[V],Z=V+1,he=O[Z];if(0>i(le,B))Z<U&&0>i(he,le)?(O[G]=he,O[Z]=B,G=Z):(O[G]=le,O[V]=B,G=V);else if(Z<U&&0>i(he,B))O[G]=he,O[Z]=B,G=Z;else break e}}return N}function i(O,N){var B=O.sortIndex-N.sortIndex;return B!==0?B:O.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=O)r(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(c)}}function S(O){if(m=!1,b(O),!g)if(n(l)!==null)g=!0,T(x);else{var N=n(c);N!==null&&F(S,N.startTime-O)}}function x(O,N){g=!1,m&&(m=!1,v(I),I=-1),p=!0;var B=h;try{for(b(N),d=n(l);d!==null&&(!(d.expirationTime>N)||O&&!$());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var U=G(d.expirationTime<=N);N=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),b(N)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var V=n(c);V!==null&&F(S,V.startTime-N),ne=!1}return ne}finally{d=null,h=B,p=!1}}var w=!1,E=null,I=-1,L=5,j=-1;function $(){return!(e.unstable_now()-j<L)}function Q(){if(E!==null){var O=e.unstable_now();j=O;var N=!0;try{N=E(!0,O)}finally{N?M():(w=!1,E=null)}}else w=!1}var M;if(typeof y=="function")M=function(){y(Q)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,P=z.port2;z.port1.onmessage=Q,M=function(){P.postMessage(null)}}else M=function(){A(Q,0)};function T(O){E=O,w||(w=!0,M())}function F(O,N){I=A(function(){O(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(x))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var B=h;h=N;try{return O()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=h;h=O;try{return N()}finally{h=B}},e.unstable_scheduleCallback=function(O,N,B){var G=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,O={id:u++,callback:N,priorityLevel:O,startTime:B,expirationTime:U,sortIndex:-1},B>G?(O.sortIndex=B,t(c,O),n(l)===null&&O===n(c)&&(m?(v(I),I=-1):m=!0,F(S,B-G))):(O.sortIndex=U,t(l,O),g||p||(g=!0,T(x))),O},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(O){var N=h;return function(){var B=h;h=N;try{return O.apply(this,arguments)}finally{h=B}}}})(YO);KO.exports=YO;var fte=KO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO=_,Zr=fte;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JO=new Set,bf={};function Ml(e,t){ru(e,t),ru(e+"Capture",t)}function ru(e,t){for(bf[e]=t,e=0;e<t.length;e++)JO.add(t[e])}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B1=Object.prototype.hasOwnProperty,hte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vT={},yT={};function pte(e){return B1.call(yT,e)?!0:B1.call(vT,e)?!1:hte.test(e)?yT[e]=!0:(vT[e]=!0,!1)}function gte(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mte(e,t,n,r){if(t===null||typeof t>"u"||gte(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var uS=/[\-:]([a-z])/g;function dS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uS,dS);Xn[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uS,dS);Xn[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uS,dS);Xn[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function fS(e,t,n,r){var i=Xn.hasOwnProperty(t)?Xn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mte(t,n,i,r)&&(n=null),r||i===null?pte(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wo=QO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rp=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),hS=Symbol.for("react.strict_mode"),D1=Symbol.for("react.profiler"),XO=Symbol.for("react.provider"),ZO=Symbol.for("react.context"),pS=Symbol.for("react.forward_ref"),F1=Symbol.for("react.suspense"),z1=Symbol.for("react.suspense_list"),gS=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),eV=Symbol.for("react.offscreen"),AT=Symbol.iterator;function qu(e){return e===null||typeof e!="object"?null:(e=AT&&e[AT]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,Sy;function gd(e){if(Sy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sy=t&&t[1]||""}return`
`+Sy+e}var wy=!1;function Ey(e,t){if(!e||wy)return"";wy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{wy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gd(e):""}function vte(e){switch(e.tag){case 5:return gd(e.type);case 16:return gd("Lazy");case 13:return gd("Suspense");case 19:return gd("SuspenseList");case 0:case 2:case 15:return e=Ey(e.type,!1),e;case 11:return e=Ey(e.type.render,!1),e;case 1:return e=Ey(e.type,!0),e;default:return""}}function U1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cc:return"Fragment";case lc:return"Portal";case D1:return"Profiler";case hS:return"StrictMode";case F1:return"Suspense";case z1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZO:return(e.displayName||"Context")+".Consumer";case XO:return(e._context.displayName||"Context")+".Provider";case pS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gS:return t=e.displayName||null,t!==null?t:U1(e.type)||"Memo";case Oo:t=e._payload,e=e._init;try{return U1(e(t))}catch{}}return null}function yte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U1(t);case 8:return t===hS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function la(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ate(e){var t=tV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ip(e){e._valueTracker||(e._valueTracker=Ate(e))}function nV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function H1(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _T(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=la(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rV(e,t){t=t.checked,t!=null&&fS(e,"checked",t,!1)}function G1(e,t){rV(e,t);var n=la(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?q1(e,t.type,n):t.hasOwnProperty("defaultValue")&&q1(e,t.type,la(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function q1(e,t,n){(t!=="number"||Zg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var md=Array.isArray;function Oc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+la(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function W1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(md(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:la(n)}}function iV(e,t){var n=la(t.value),r=la(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ST(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sp,oV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sp=sp||document.createElement("div"),sp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_te=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(e){_te.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$d[t]=$d[e]})});function aV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$d.hasOwnProperty(e)&&$d[e]?(""+t).trim():t+"px"}function lV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bte=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y1(e,t){if(t){if(bte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function Q1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J1=null;function mS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var X1=null,Vc=null,Lc=null;function wT(e){if(e=mh(e)){if(typeof X1!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=J0(t),X1(e.stateNode,e.type,t))}}function cV(e){Vc?Lc?Lc.push(e):Lc=[e]:Vc=e}function uV(){if(Vc){var e=Vc,t=Lc;if(Lc=Vc=null,wT(e),t)for(e=0;e<t.length;e++)wT(t[e])}}function dV(e,t){return e(t)}function fV(){}var ky=!1;function hV(e,t,n){if(ky)return e(t,n);ky=!0;try{return dV(e,t,n)}finally{ky=!1,(Vc!==null||Lc!==null)&&(fV(),uV())}}function Sf(e,t){var n=e.stateNode;if(n===null)return null;var r=J0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var Z1=!1;if(po)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){Z1=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{Z1=!1}function xte(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,em=null,tm=!1,e_=null,Ste={onError:function(e){Bd=!0,em=e}};function wte(e,t,n,r,i,s,o,a,l){Bd=!1,em=null,xte.apply(Ste,arguments)}function Ete(e,t,n,r,i,s,o,a,l){if(wte.apply(this,arguments),Bd){if(Bd){var c=em;Bd=!1,em=null}else throw Error(ae(198));tm||(tm=!0,e_=c)}}function jl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ET(e){if(jl(e)!==e)throw Error(ae(188))}function kte(e){var t=e.alternate;if(!t){if(t=jl(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ET(i),e;if(s===r)return ET(i),t;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function gV(e){return e=kte(e),e!==null?mV(e):null}function mV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mV(e);if(t!==null)return t;e=e.sibling}return null}var vV=Zr.unstable_scheduleCallback,kT=Zr.unstable_cancelCallback,Cte=Zr.unstable_shouldYield,Tte=Zr.unstable_requestPaint,fn=Zr.unstable_now,Ite=Zr.unstable_getCurrentPriorityLevel,vS=Zr.unstable_ImmediatePriority,yV=Zr.unstable_UserBlockingPriority,nm=Zr.unstable_NormalPriority,Pte=Zr.unstable_LowPriority,AV=Zr.unstable_IdlePriority,W0=null,js=null;function Rte(e){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(W0,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:Ote,Mte=Math.log,jte=Math.LN2;function Ote(e){return e>>>=0,e===0?32:31-(Mte(e)/jte|0)|0}var op=64,ap=4194304;function vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vd(a):(s&=o,s!==0&&(r=vd(s)))}else o=n&~i,o!==0?r=vd(o):s!==0&&(r=vd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-is(t),i=1<<n,r|=e[n],t&=~i;return r}function Vte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lte(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-is(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Vte(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function t_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _V(){var e=op;return op<<=1,!(op&4194240)&&(op=64),e}function Cy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ph(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-is(t),e[t]=n}function Nte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-is(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function yS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-is(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var mt=0;function bV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xV,AS,SV,wV,EV,n_=!1,lp=[],Xo=null,Zo=null,ea=null,wf=new Map,Ef=new Map,$o=[],$te="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CT(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":wf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ef.delete(t.pointerId)}}function Ku(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=mh(t),t!==null&&AS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Bte(e,t,n,r,i){switch(t){case"focusin":return Xo=Ku(Xo,e,t,n,r,i),!0;case"dragenter":return Zo=Ku(Zo,e,t,n,r,i),!0;case"mouseover":return ea=Ku(ea,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return wf.set(s,Ku(wf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ef.set(s,Ku(Ef.get(s)||null,e,t,n,r,i)),!0}return!1}function kV(e){var t=za(e.target);if(t!==null){var n=jl(t);if(n!==null){if(t=n.tag,t===13){if(t=pV(n),t!==null){e.blockedOn=t,EV(e.priority,function(){SV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=r_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);J1=r,n.target.dispatchEvent(r),J1=null}else return t=mh(n),t!==null&&AS(t),e.blockedOn=n,!1;t.shift()}return!0}function TT(e,t,n){tg(e)&&n.delete(t)}function Dte(){n_=!1,Xo!==null&&tg(Xo)&&(Xo=null),Zo!==null&&tg(Zo)&&(Zo=null),ea!==null&&tg(ea)&&(ea=null),wf.forEach(TT),Ef.forEach(TT)}function Yu(e,t){e.blockedOn===t&&(e.blockedOn=null,n_||(n_=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,Dte)))}function kf(e){function t(i){return Yu(i,e)}if(0<lp.length){Yu(lp[0],e);for(var n=1;n<lp.length;n++){var r=lp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xo!==null&&Yu(Xo,e),Zo!==null&&Yu(Zo,e),ea!==null&&Yu(ea,e),wf.forEach(t),Ef.forEach(t),n=0;n<$o.length;n++)r=$o[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$o.length&&(n=$o[0],n.blockedOn===null);)kV(n),n.blockedOn===null&&$o.shift()}var Nc=wo.ReactCurrentBatchConfig,im=!0;function Fte(e,t,n,r){var i=mt,s=Nc.transition;Nc.transition=null;try{mt=1,_S(e,t,n,r)}finally{mt=i,Nc.transition=s}}function zte(e,t,n,r){var i=mt,s=Nc.transition;Nc.transition=null;try{mt=4,_S(e,t,n,r)}finally{mt=i,Nc.transition=s}}function _S(e,t,n,r){if(im){var i=r_(e,t,n,r);if(i===null)Ny(e,t,r,sm,n),CT(e,r);else if(Bte(i,e,t,n,r))r.stopPropagation();else if(CT(e,r),t&4&&-1<$te.indexOf(e)){for(;i!==null;){var s=mh(i);if(s!==null&&xV(s),s=r_(e,t,n,r),s===null&&Ny(e,t,r,sm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ny(e,t,r,null,n)}}var sm=null;function r_(e,t,n,r){if(sm=null,e=mS(r),e=za(e),e!==null)if(t=jl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sm=e,null}function CV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ite()){case vS:return 1;case yV:return 4;case nm:case Pte:return 16;case AV:return 536870912;default:return 16}default:return 16}}var Ho=null,bS=null,ng=null;function TV(){if(ng)return ng;var e,t=bS,n=t.length,r,i="value"in Ho?Ho.value:Ho.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ng=i.slice(e,1<r?1-r:void 0)}function rg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cp(){return!0}function IT(){return!1}function oi(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cp:IT,this.isPropagationStopped=IT,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cp)},persist:function(){},isPersistent:cp}),t}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xS=oi(ku),gh=Jt({},ku,{view:0,detail:0}),Ute=oi(gh),Ty,Iy,Qu,K0=Jt({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(Ty=e.screenX-Qu.screenX,Iy=e.screenY-Qu.screenY):Iy=Ty=0,Qu=e),Ty)},movementY:function(e){return"movementY"in e?e.movementY:Iy}}),PT=oi(K0),Hte=Jt({},K0,{dataTransfer:0}),Gte=oi(Hte),qte=Jt({},gh,{relatedTarget:0}),Py=oi(qte),Wte=Jt({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),Kte=oi(Wte),Yte=Jt({},ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qte=oi(Yte),Jte=Jt({},ku,{data:0}),RT=oi(Jte),Xte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ene={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ene[e])?!!t[e]:!1}function SS(){return tne}var nne=Jt({},gh,{key:function(e){if(e.key){var t=Xte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SS,charCode:function(e){return e.type==="keypress"?rg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rne=oi(nne),ine=Jt({},K0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MT=oi(ine),sne=Jt({},gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SS}),one=oi(sne),ane=Jt({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),lne=oi(ane),cne=Jt({},K0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),une=oi(cne),dne=[9,13,27,32],wS=po&&"CompositionEvent"in window,Dd=null;po&&"documentMode"in document&&(Dd=document.documentMode);var fne=po&&"TextEvent"in window&&!Dd,IV=po&&(!wS||Dd&&8<Dd&&11>=Dd),jT=" ",OT=!1;function PV(e,t){switch(e){case"keyup":return dne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uc=!1;function hne(e,t){switch(e){case"compositionend":return RV(t);case"keypress":return t.which!==32?null:(OT=!0,jT);case"textInput":return e=t.data,e===jT&&OT?null:e;default:return null}}function pne(e,t){if(uc)return e==="compositionend"||!wS&&PV(e,t)?(e=TV(),ng=bS=Ho=null,uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IV&&t.locale!=="ko"?null:t.data;default:return null}}var gne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gne[e.type]:t==="textarea"}function MV(e,t,n,r){cV(r),t=om(t,"onChange"),0<t.length&&(n=new xS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fd=null,Cf=null;function mne(e){UV(e,0)}function Y0(e){var t=hc(e);if(nV(t))return e}function vne(e,t){if(e==="change")return t}var jV=!1;if(po){var Ry;if(po){var My="oninput"in document;if(!My){var LT=document.createElement("div");LT.setAttribute("oninput","return;"),My=typeof LT.oninput=="function"}Ry=My}else Ry=!1;jV=Ry&&(!document.documentMode||9<document.documentMode)}function NT(){Fd&&(Fd.detachEvent("onpropertychange",OV),Cf=Fd=null)}function OV(e){if(e.propertyName==="value"&&Y0(Cf)){var t=[];MV(t,Cf,e,mS(e)),hV(mne,t)}}function yne(e,t,n){e==="focusin"?(NT(),Fd=t,Cf=n,Fd.attachEvent("onpropertychange",OV)):e==="focusout"&&NT()}function Ane(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Y0(Cf)}function _ne(e,t){if(e==="click")return Y0(t)}function bne(e,t){if(e==="input"||e==="change")return Y0(t)}function xne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ls=typeof Object.is=="function"?Object.is:xne;function Tf(e,t){if(ls(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!B1.call(t,i)||!ls(e[i],t[i]))return!1}return!0}function $T(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function BT(e,t){var n=$T(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$T(n)}}function VV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?VV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LV(){for(var e=window,t=Zg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zg(e.document)}return t}function ES(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sne(e){var t=LV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&VV(n.ownerDocument.documentElement,n)){if(r!==null&&ES(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=BT(n,s);var o=BT(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wne=po&&"documentMode"in document&&11>=document.documentMode,dc=null,i_=null,zd=null,s_=!1;function DT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;s_||dc==null||dc!==Zg(r)||(r=dc,"selectionStart"in r&&ES(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&Tf(zd,r)||(zd=r,r=om(i_,"onSelect"),0<r.length&&(t=new xS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dc)))}function up(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fc={animationend:up("Animation","AnimationEnd"),animationiteration:up("Animation","AnimationIteration"),animationstart:up("Animation","AnimationStart"),transitionend:up("Transition","TransitionEnd")},jy={},NV={};po&&(NV=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function Q0(e){if(jy[e])return jy[e];if(!fc[e])return e;var t=fc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NV)return jy[e]=t[n];return e}var $V=Q0("animationend"),BV=Q0("animationiteration"),DV=Q0("animationstart"),FV=Q0("transitionend"),zV=new Map,FT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(e,t){zV.set(e,t),Ml(t,[e])}for(var Oy=0;Oy<FT.length;Oy++){var Vy=FT[Oy],Ene=Vy.toLowerCase(),kne=Vy[0].toUpperCase()+Vy.slice(1);ha(Ene,"on"+kne)}ha($V,"onAnimationEnd");ha(BV,"onAnimationIteration");ha(DV,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(FV,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cne=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function zT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ete(r,t,void 0,e),e.currentTarget=null}function UV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zT(i,a,c),s=l}}}if(tm)throw e=e_,tm=!1,e_=null,e}function Rt(e,t){var n=t[u_];n===void 0&&(n=t[u_]=new Set);var r=e+"__bubble";n.has(r)||(HV(t,e,2,!1),n.add(r))}function Ly(e,t,n){var r=0;t&&(r|=4),HV(n,e,r,t)}var dp="_reactListening"+Math.random().toString(36).slice(2);function If(e){if(!e[dp]){e[dp]=!0,JO.forEach(function(n){n!=="selectionchange"&&(Cne.has(n)||Ly(n,!1,e),Ly(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dp]||(t[dp]=!0,Ly("selectionchange",!1,t))}}function HV(e,t,n,r){switch(CV(t)){case 1:var i=Fte;break;case 4:i=zte;break;default:i=_S}n=i.bind(null,t,n,e),i=void 0,!Z1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ny(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=za(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}hV(function(){var c=s,u=mS(n),d=[];e:{var h=zV.get(e);if(h!==void 0){var p=xS,g=e;switch(e){case"keypress":if(rg(n)===0)break e;case"keydown":case"keyup":p=rne;break;case"focusin":g="focus",p=Py;break;case"focusout":g="blur",p=Py;break;case"beforeblur":case"afterblur":p=Py;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Gte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=one;break;case $V:case BV:case DV:p=Kte;break;case FV:p=lne;break;case"scroll":p=Ute;break;case"wheel":p=une;break;case"copy":case"cut":case"paste":p=Qte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=MT}var m=(t&4)!==0,A=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Sf(y,v),S!=null&&m.push(Pf(y,S,b)))),A)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==J1&&(g=n.relatedTarget||n.fromElement)&&(za(g)||g[go]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?za(g):null,g!==null&&(A=jl(g),g!==A||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=PT,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=MT,S="onPointerLeave",v="onPointerEnter",y="pointer"),A=p==null?h:hc(p),b=g==null?h:hc(g),h=new m(S,y+"leave",p,n,u),h.target=A,h.relatedTarget=b,S=null,za(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=b,m.relatedTarget=A,S=m),A=S,p&&g)t:{for(m=p,v=g,y=0,b=m;b;b=ql(b))y++;for(b=0,S=v;S;S=ql(S))b++;for(;0<y-b;)m=ql(m),y--;for(;0<b-y;)v=ql(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=ql(m),v=ql(v)}m=null}else m=null;p!==null&&UT(d,h,p,m,!1),g!==null&&A!==null&&UT(d,A,g,m,!0)}}e:{if(h=c?hc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=vne;else if(VT(h))if(jV)x=bne;else{x=Ane;var w=yne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=_ne);if(x&&(x=x(e,c))){MV(d,x,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&q1(h,"number",h.value)}switch(w=c?hc(c):window,e){case"focusin":(VT(w)||w.contentEditable==="true")&&(dc=w,i_=c,zd=null);break;case"focusout":zd=i_=dc=null;break;case"mousedown":s_=!0;break;case"contextmenu":case"mouseup":case"dragend":s_=!1,DT(d,n,u);break;case"selectionchange":if(wne)break;case"keydown":case"keyup":DT(d,n,u)}var E;if(wS)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else uc?PV(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(IV&&n.locale!=="ko"&&(uc||I!=="onCompositionStart"?I==="onCompositionEnd"&&uc&&(E=TV()):(Ho=u,bS="value"in Ho?Ho.value:Ho.textContent,uc=!0)),w=om(c,I),0<w.length&&(I=new RT(I,e,null,n,u),d.push({event:I,listeners:w}),E?I.data=E:(E=RV(n),E!==null&&(I.data=E)))),(E=fne?hne(e,n):pne(e,n))&&(c=om(c,"onBeforeInput"),0<c.length&&(u=new RT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}UV(d,t)})}function Pf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function om(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sf(e,n),s!=null&&r.unshift(Pf(e,s,i)),s=Sf(e,t),s!=null&&r.push(Pf(e,s,i))),e=e.return}return r}function ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function UT(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Sf(n,s),l!=null&&o.unshift(Pf(n,l,a))):i||(l=Sf(n,s),l!=null&&o.push(Pf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Tne=/\r\n?/g,Ine=/\u0000|\uFFFD/g;function HT(e){return(typeof e=="string"?e:""+e).replace(Tne,`
`).replace(Ine,"")}function fp(e,t,n){if(t=HT(t),HT(e)!==t&&n)throw Error(ae(425))}function am(){}var o_=null,a_=null;function l_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var c_=typeof setTimeout=="function"?setTimeout:void 0,Pne=typeof clearTimeout=="function"?clearTimeout:void 0,GT=typeof Promise=="function"?Promise:void 0,Rne=typeof queueMicrotask=="function"?queueMicrotask:typeof GT<"u"?function(e){return GT.resolve(null).then(e).catch(Mne)}:c_;function Mne(e){setTimeout(function(){throw e})}function $y(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),kf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kf(t)}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),ws="__reactFiber$"+Cu,Rf="__reactProps$"+Cu,go="__reactContainer$"+Cu,u_="__reactEvents$"+Cu,jne="__reactListeners$"+Cu,One="__reactHandles$"+Cu;function za(e){var t=e[ws];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[ws]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qT(e);e!==null;){if(n=e[ws])return n;e=qT(e)}return t}e=n,n=e.parentNode}return null}function mh(e){return e=e[ws]||e[go],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function J0(e){return e[Rf]||null}var d_=[],pc=-1;function pa(e){return{current:e}}function Ot(e){0>pc||(e.current=d_[pc],d_[pc]=null,pc--)}function Pt(e,t){pc++,d_[pc]=e.current,e.current=t}var ca={},ar=pa(ca),Ir=pa(!1),fl=ca;function iu(e,t){var n=e.type.contextTypes;if(!n)return ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function lm(){Ot(Ir),Ot(ar)}function WT(e,t,n){if(ar.current!==ca)throw Error(ae(168));Pt(ar,t),Pt(Ir,n)}function GV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ae(108,yte(e)||"Unknown",i));return Jt({},n,r)}function cm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,fl=ar.current,Pt(ar,e),Pt(Ir,Ir.current),!0}function KT(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=GV(e,t,fl),r.__reactInternalMemoizedMergedChildContext=e,Ot(Ir),Ot(ar),Pt(ar,e)):Ot(Ir),Pt(Ir,n)}var Qs=null,X0=!1,By=!1;function qV(e){Qs===null?Qs=[e]:Qs.push(e)}function Vne(e){X0=!0,qV(e)}function ga(){if(!By&&Qs!==null){By=!0;var e=0,t=mt;try{var n=Qs;for(mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qs=null,X0=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(e+1)),vV(vS,ga),i}finally{mt=t,By=!1}}return null}var gc=[],mc=0,um=null,dm=0,vi=[],yi=0,hl=null,Zs=1,eo="";function Ma(e,t){gc[mc++]=dm,gc[mc++]=um,um=e,dm=t}function WV(e,t,n){vi[yi++]=Zs,vi[yi++]=eo,vi[yi++]=hl,hl=e;var r=Zs;e=eo;var i=32-is(r)-1;r&=~(1<<i),n+=1;var s=32-is(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zs=1<<32-is(t)+i|n<<i|r,eo=s+e}else Zs=1<<s|n<<i|r,eo=e}function kS(e){e.return!==null&&(Ma(e,1),WV(e,1,0))}function CS(e){for(;e===um;)um=gc[--mc],gc[mc]=null,dm=gc[--mc],gc[mc]=null;for(;e===hl;)hl=vi[--yi],vi[yi]=null,eo=vi[--yi],vi[yi]=null,Zs=vi[--yi],vi[yi]=null}var Jr=null,Kr=null,Gt=!1,Wi=null;function KV(e,t){var n=bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function YT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jr=e,Kr=ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jr=e,Kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hl!==null?{id:Zs,overflow:eo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jr=e,Kr=null,!0):!1;default:return!1}}function f_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function h_(e){if(Gt){var t=Kr;if(t){var n=t;if(!YT(e,t)){if(f_(e))throw Error(ae(418));t=ta(n.nextSibling);var r=Jr;t&&YT(e,t)?KV(r,n):(e.flags=e.flags&-4097|2,Gt=!1,Jr=e)}}else{if(f_(e))throw Error(ae(418));e.flags=e.flags&-4097|2,Gt=!1,Jr=e}}}function QT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jr=e}function hp(e){if(e!==Jr)return!1;if(!Gt)return QT(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!l_(e.type,e.memoizedProps)),t&&(t=Kr)){if(f_(e))throw YV(),Error(ae(418));for(;t;)KV(e,t),t=ta(t.nextSibling)}if(QT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kr=ta(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kr=null}}else Kr=Jr?ta(e.stateNode.nextSibling):null;return!0}function YV(){for(var e=Kr;e;)e=ta(e.nextSibling)}function su(){Kr=Jr=null,Gt=!1}function TS(e){Wi===null?Wi=[e]:Wi.push(e)}var Lne=wo.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var fm=pa(null),hm=null,vc=null,IS=null;function PS(){IS=vc=hm=null}function RS(e){var t=fm.current;Ot(fm),e._currentValue=t}function p_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $c(e,t){hm=e,IS=vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(IS!==e)if(e={context:e,memoizedValue:t,next:null},vc===null){if(hm===null)throw Error(ae(308));vc=e,hm.dependencies={lanes:0,firstContext:e}}else vc=vc.next=e;return t}var Ua=null;function MS(e){Ua===null?Ua=[e]:Ua.push(e)}function QV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,MS(t)):(n.next=i.next,i.next=n),t.interleaved=n,mo(e,r)}function mo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vo=!1;function jS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mo(e,n)}return i=r.interleaved,i===null?(t.next=t,MS(r)):(t.next=i.next,i.next=t),r.interleaved=t,mo(e,n)}function ig(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yS(e,n)}}function JT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pm(e,t,n,r){var i=e.updateQueue;Vo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Jt({},d,h);break e;case 2:Vo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gl|=o,e.lanes=o,e.memoizedState=d}}function XT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var XV=new QO.Component().refs;function g_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Z0={isMounted:function(e){return(e=e._reactInternals)?jl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_r(),i=ia(e),s=io(r,i);s.payload=t,n!=null&&(s.callback=n),t=na(e,s,i),t!==null&&(ss(t,e,i,r),ig(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_r(),i=ia(e),s=io(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=na(e,s,i),t!==null&&(ss(t,e,i,r),ig(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_r(),r=ia(e),i=io(n,r);i.tag=2,t!=null&&(i.callback=t),t=na(e,i,r),t!==null&&(ss(t,e,r,n),ig(t,e,r))}};function ZT(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Tf(n,r)||!Tf(i,s):!0}function ZV(e,t,n){var r=!1,i=ca,s=t.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(i=Pr(t)?fl:ar.current,r=t.contextTypes,s=(r=r!=null)?iu(e,i):ca),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Z0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function eI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Z0.enqueueReplaceState(t,t.state,null)}function m_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=XV,jS(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Pi(s):(s=Pr(t)?fl:ar.current,i.context=iu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(g_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Z0.enqueueReplaceState(i,i.state,null),pm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ju(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===XV&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function pp(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tI(e){var t=e._init;return t(e._payload)}function e4(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=sa(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,S){return y===null||y.tag!==6?(y=qy(b,v.mode,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,S){var x=b.type;return x===cc?u(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Oo&&tI(x)===y.type)?(S=i(y,b.props),S.ref=Ju(v,y,b),S.return=v,S):(S=ug(b.type,b.key,b.props,null,v.mode,S),S.ref=Ju(v,y,b),S.return=v,S)}function c(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Wy(b,v.mode,S),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,S,x){return y===null||y.tag!==7?(y=Ja(b,v.mode,S,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qy(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rp:return b=ug(y.type,y.key,y.props,null,v.mode,b),b.ref=Ju(v,null,y),b.return=v,b;case lc:return y=Wy(y,v.mode,b),y.return=v,y;case Oo:var S=y._init;return d(v,S(y._payload),b)}if(md(y)||qu(y))return y=Ja(y,v.mode,b,null),y.return=v,y;pp(v,y)}return null}function h(v,y,b,S){var x=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rp:return b.key===x?l(v,y,b,S):null;case lc:return b.key===x?c(v,y,b,S):null;case Oo:return x=b._init,h(v,y,x(b._payload),S)}if(md(b)||qu(b))return x!==null?null:u(v,y,b,S,null);pp(v,b)}return null}function p(v,y,b,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(y,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rp:return v=v.get(S.key===null?b:S.key)||null,l(y,v,S,x);case lc:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,x);case Oo:var w=S._init;return p(v,y,b,w(S._payload),x)}if(md(S)||qu(S))return v=v.get(b)||null,u(y,v,S,x,null);pp(y,S)}return null}function g(v,y,b,S){for(var x=null,w=null,E=y,I=y=0,L=null;E!==null&&I<b.length;I++){E.index>I?(L=E,E=null):L=E.sibling;var j=h(v,E,b[I],S);if(j===null){E===null&&(E=L);break}e&&E&&j.alternate===null&&t(v,E),y=s(j,y,I),w===null?x=j:w.sibling=j,w=j,E=L}if(I===b.length)return n(v,E),Gt&&Ma(v,I),x;if(E===null){for(;I<b.length;I++)E=d(v,b[I],S),E!==null&&(y=s(E,y,I),w===null?x=E:w.sibling=E,w=E);return Gt&&Ma(v,I),x}for(E=r(v,E);I<b.length;I++)L=p(E,v,I,b[I],S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?I:L.key),y=s(L,y,I),w===null?x=L:w.sibling=L,w=L);return e&&E.forEach(function($){return t(v,$)}),Gt&&Ma(v,I),x}function m(v,y,b,S){var x=qu(b);if(typeof x!="function")throw Error(ae(150));if(b=x.call(b),b==null)throw Error(ae(151));for(var w=x=null,E=y,I=y=0,L=null,j=b.next();E!==null&&!j.done;I++,j=b.next()){E.index>I?(L=E,E=null):L=E.sibling;var $=h(v,E,j.value,S);if($===null){E===null&&(E=L);break}e&&E&&$.alternate===null&&t(v,E),y=s($,y,I),w===null?x=$:w.sibling=$,w=$,E=L}if(j.done)return n(v,E),Gt&&Ma(v,I),x;if(E===null){for(;!j.done;I++,j=b.next())j=d(v,j.value,S),j!==null&&(y=s(j,y,I),w===null?x=j:w.sibling=j,w=j);return Gt&&Ma(v,I),x}for(E=r(v,E);!j.done;I++,j=b.next())j=p(E,v,I,j.value,S),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?I:j.key),y=s(j,y,I),w===null?x=j:w.sibling=j,w=j);return e&&E.forEach(function(Q){return t(v,Q)}),Gt&&Ma(v,I),x}function A(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===cc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rp:e:{for(var x=b.key,w=y;w!==null;){if(w.key===x){if(x=b.type,x===cc){if(w.tag===7){n(v,w.sibling),y=i(w,b.props.children),y.return=v,v=y;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Oo&&tI(x)===w.type){n(v,w.sibling),y=i(w,b.props),y.ref=Ju(v,w,b),y.return=v,v=y;break e}n(v,w);break}else t(v,w);w=w.sibling}b.type===cc?(y=Ja(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=ug(b.type,b.key,b.props,null,v.mode,S),S.ref=Ju(v,y,b),S.return=v,v=S)}return o(v);case lc:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Wy(b,v.mode,S),y.return=v,v=y}return o(v);case Oo:return w=b._init,A(v,y,w(b._payload),S)}if(md(b))return g(v,y,b,S);if(qu(b))return m(v,y,b,S);pp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=qy(b,v.mode,S),y.return=v,v=y),o(v)):n(v,y)}return A}var ou=e4(!0),t4=e4(!1),vh={},Os=pa(vh),Mf=pa(vh),jf=pa(vh);function Ha(e){if(e===vh)throw Error(ae(174));return e}function OS(e,t){switch(Pt(jf,t),Pt(Mf,e),Pt(Os,vh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:K1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=K1(t,e)}Ot(Os),Pt(Os,t)}function au(){Ot(Os),Ot(Mf),Ot(jf)}function n4(e){Ha(jf.current);var t=Ha(Os.current),n=K1(t,e.type);t!==n&&(Pt(Mf,e),Pt(Os,n))}function VS(e){Mf.current===e&&(Ot(Os),Ot(Mf))}var Yt=pa(0);function gm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dy=[];function LS(){for(var e=0;e<Dy.length;e++)Dy[e]._workInProgressVersionPrimary=null;Dy.length=0}var sg=wo.ReactCurrentDispatcher,Fy=wo.ReactCurrentBatchConfig,pl=0,Qt=null,Rn=null,Bn=null,mm=!1,Ud=!1,Of=0,Nne=0;function tr(){throw Error(ae(321))}function NS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ls(e[n],t[n]))return!1;return!0}function $S(e,t,n,r,i,s){if(pl=s,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sg.current=e===null||e.memoizedState===null?Fne:zne,e=n(r,i),Ud){s=0;do{if(Ud=!1,Of=0,25<=s)throw Error(ae(301));s+=1,Bn=Rn=null,t.updateQueue=null,sg.current=Une,e=n(r,i)}while(Ud)}if(sg.current=vm,t=Rn!==null&&Rn.next!==null,pl=0,Bn=Rn=Qt=null,mm=!1,t)throw Error(ae(300));return e}function BS(){var e=Of!==0;return Of=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Qt.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Ri(){if(Rn===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Bn===null?Qt.memoizedState:Bn.next;if(t!==null)Bn=t,Rn=e;else{if(e===null)throw Error(ae(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Bn===null?Qt.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function Vf(e,t){return typeof t=="function"?t(e):t}function zy(e){var t=Ri(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=Rn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((pl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Qt.lanes|=u,gl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ls(r,t.memoizedState)||(Tr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qt.lanes|=s,gl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uy(e){var t=Ri(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ls(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function r4(){}function i4(e,t){var n=Qt,r=Ri(),i=t(),s=!ls(r.memoizedState,i);if(s&&(r.memoizedState=i,Tr=!0),r=r.queue,DS(a4.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,Lf(9,o4.bind(null,n,r,i,t),void 0,null),zn===null)throw Error(ae(349));pl&30||s4(n,t,i)}return i}function s4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function o4(e,t,n,r){t.value=n,t.getSnapshot=r,l4(t)&&c4(e)}function a4(e,t,n){return n(function(){l4(t)&&c4(e)})}function l4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ls(e,n)}catch{return!0}}function c4(e){var t=mo(e,1);t!==null&&ss(t,e,1,-1)}function nI(e){var t=vs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:e},t.queue=e,e=e.dispatch=Dne.bind(null,Qt,e),[t.memoizedState,e]}function Lf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function u4(){return Ri().memoizedState}function og(e,t,n,r){var i=vs();Qt.flags|=e,i.memoizedState=Lf(1|t,n,void 0,r===void 0?null:r)}function ev(e,t,n,r){var i=Ri();r=r===void 0?null:r;var s=void 0;if(Rn!==null){var o=Rn.memoizedState;if(s=o.destroy,r!==null&&NS(r,o.deps)){i.memoizedState=Lf(t,n,s,r);return}}Qt.flags|=e,i.memoizedState=Lf(1|t,n,s,r)}function rI(e,t){return og(8390656,8,e,t)}function DS(e,t){return ev(2048,8,e,t)}function d4(e,t){return ev(4,2,e,t)}function f4(e,t){return ev(4,4,e,t)}function h4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p4(e,t,n){return n=n!=null?n.concat([e]):null,ev(4,4,h4.bind(null,t,e),n)}function FS(){}function g4(e,t){var n=Ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function m4(e,t){var n=Ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function v4(e,t,n){return pl&21?(ls(n,t)||(n=_V(),Qt.lanes|=n,gl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=n)}function $ne(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var r=Fy.transition;Fy.transition={};try{e(!1),t()}finally{mt=n,Fy.transition=r}}function y4(){return Ri().memoizedState}function Bne(e,t,n){var r=ia(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A4(e))_4(t,n);else if(n=QV(e,t,n,r),n!==null){var i=_r();ss(n,e,r,i),b4(n,t,r)}}function Dne(e,t,n){var r=ia(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A4(e))_4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ls(a,o)){var l=t.interleaved;l===null?(i.next=i,MS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=QV(e,t,i,r),n!==null&&(i=_r(),ss(n,e,r,i),b4(n,t,r))}}function A4(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function _4(e,t){Ud=mm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function b4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yS(e,n)}}var vm={readContext:Pi,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},Fne={readContext:Pi,useCallback:function(e,t){return vs().memoizedState=[e,t===void 0?null:t],e},useContext:Pi,useEffect:rI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,og(4194308,4,h4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return og(4194308,4,e,t)},useInsertionEffect:function(e,t){return og(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Bne.bind(null,Qt,e),[r.memoizedState,e]},useRef:function(e){var t=vs();return e={current:e},t.memoizedState=e},useState:nI,useDebugValue:FS,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=nI(!1),t=e[0];return e=$ne.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qt,i=vs();if(Gt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),zn===null)throw Error(ae(349));pl&30||s4(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,rI(a4.bind(null,r,s,e),[e]),r.flags|=2048,Lf(9,o4.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=zn.identifierPrefix;if(Gt){var n=eo,r=Zs;n=(r&~(1<<32-is(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Of++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Nne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zne={readContext:Pi,useCallback:g4,useContext:Pi,useEffect:DS,useImperativeHandle:p4,useInsertionEffect:d4,useLayoutEffect:f4,useMemo:m4,useReducer:zy,useRef:u4,useState:function(){return zy(Vf)},useDebugValue:FS,useDeferredValue:function(e){var t=Ri();return v4(t,Rn.memoizedState,e)},useTransition:function(){var e=zy(Vf)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:r4,useSyncExternalStore:i4,useId:y4,unstable_isNewReconciler:!1},Une={readContext:Pi,useCallback:g4,useContext:Pi,useEffect:DS,useImperativeHandle:p4,useInsertionEffect:d4,useLayoutEffect:f4,useMemo:m4,useReducer:Uy,useRef:u4,useState:function(){return Uy(Vf)},useDebugValue:FS,useDeferredValue:function(e){var t=Ri();return Rn===null?t.memoizedState=e:v4(t,Rn.memoizedState,e)},useTransition:function(){var e=Uy(Vf)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:r4,useSyncExternalStore:i4,useId:y4,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do n+=vte(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Hy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function v_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hne=typeof WeakMap=="function"?WeakMap:Map;function x4(e,t,n){n=io(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Am||(Am=!0,C_=r),v_(e,t)},n}function S4(e,t,n){n=io(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){v_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){v_(e,t),typeof r!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function iI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hne;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ire.bind(null,e,t,n),t.then(e,e))}function sI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=io(-1,1),t.tag=2,na(n,t,1))),n.lanes|=1),e)}var Gne=wo.ReactCurrentOwner,Tr=!1;function pr(e,t,n,r){t.child=e===null?t4(t,null,n,r):ou(t,e.child,n,r)}function aI(e,t,n,r,i){n=n.render;var s=t.ref;return $c(t,i),r=$S(e,t,n,r,s,i),n=BS(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(Gt&&n&&kS(t),t.flags|=1,pr(e,t,r,i),t.child)}function lI(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!YS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,w4(e,t,s,r,i)):(e=ug(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tf,n(o,r)&&e.ref===t.ref)return vo(e,t,i)}return t.flags|=1,e=sa(s,r),e.ref=t.ref,e.return=t,t.child=e}function w4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Tf(s,r)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,vo(e,t,i)}return y_(e,t,n,r,i)}function E4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Ac,Fr),Fr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(Ac,Fr),Fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pt(Ac,Fr),Fr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Pt(Ac,Fr),Fr|=r;return pr(e,t,i,n),t.child}function k4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function y_(e,t,n,r,i){var s=Pr(n)?fl:ar.current;return s=iu(t,s),$c(t,i),n=$S(e,t,n,r,s,i),r=BS(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(Gt&&r&&kS(t),t.flags|=1,pr(e,t,n,i),t.child)}function cI(e,t,n,r,i){if(Pr(n)){var s=!0;cm(t)}else s=!1;if($c(t,i),t.stateNode===null)ag(e,t),ZV(t,n,r),m_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pi(c):(c=Pr(n)?fl:ar.current,c=iu(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&eI(t,o,r,c),Vo=!1;var h=t.memoizedState;o.state=h,pm(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ir.current||Vo?(typeof u=="function"&&(g_(t,n,u,r),l=t.memoizedState),(a=Vo||ZT(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,JV(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:zi(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Pr(n)?fl:ar.current,l=iu(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&eI(t,o,r,l),Vo=!1,h=t.memoizedState,o.state=h,pm(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||Ir.current||Vo?(typeof p=="function"&&(g_(t,n,p,r),g=t.memoizedState),(c=Vo||ZT(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return A_(e,t,n,r,s,i)}function A_(e,t,n,r,i,s){k4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&KT(t,n,!1),vo(e,t,s);r=t.stateNode,Gne.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ou(t,e.child,null,s),t.child=ou(t,null,a,s)):pr(e,t,a,s),t.memoizedState=r.state,i&&KT(t,n,!0),t.child}function C4(e){var t=e.stateNode;t.pendingContext?WT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&WT(e,t.context,!1),OS(e,t.containerInfo)}function uI(e,t,n,r,i){return su(),TS(i),t.flags|=256,pr(e,t,n,r),t.child}var __={dehydrated:null,treeContext:null,retryLane:0};function b_(e){return{baseLanes:e,cachePool:null,transitions:null}}function T4(e,t,n){var r=t.pendingProps,i=Yt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pt(Yt,i&1),e===null)return h_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rv(o,r,0,null),e=Ja(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=b_(n),t.memoizedState=__,e):zS(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qne(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=sa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=sa(a,s):(s=Ja(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?b_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=__,r}return s=e.child,e=s.sibling,r=sa(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zS(e,t){return t=rv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gp(e,t,n,r){return r!==null&&TS(r),ou(t,e.child,null,n),e=zS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qne(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Hy(Error(ae(422))),gp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=rv({mode:"visible",children:r.children},i,0,null),s=Ja(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ou(t,e.child,null,o),t.child.memoizedState=b_(o),t.memoizedState=__,s);if(!(t.mode&1))return gp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Hy(s,r,void 0),gp(e,t,o,r)}if(a=(o&e.childLanes)!==0,Tr||a){if(r=zn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mo(e,i),ss(r,e,i,-1))}return KS(),r=Hy(Error(ae(421))),gp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sre.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Kr=ta(i.nextSibling),Jr=t,Gt=!0,Wi=null,e!==null&&(vi[yi++]=Zs,vi[yi++]=eo,vi[yi++]=hl,Zs=e.id,eo=e.overflow,hl=t),t=zS(t,r.children),t.flags|=4096,t)}function dI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),p_(e.return,t,n)}function Gy(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function I4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pr(e,t,r.children,n),r=Yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dI(e,n,t);else if(e.tag===19)dI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pt(Yt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&gm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gy(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gy(t,!0,n,null,s);break;case"together":Gy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ag(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=sa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wne(e,t,n){switch(t.tag){case 3:C4(t),su();break;case 5:n4(t);break;case 1:Pr(t.type)&&cm(t);break;case 4:OS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pt(fm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Yt,Yt.current&1),t.flags|=128,null):n&t.child.childLanes?T4(e,t,n):(Pt(Yt,Yt.current&1),e=vo(e,t,n),e!==null?e.sibling:null);Pt(Yt,Yt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return I4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Yt,Yt.current),r)break;return null;case 22:case 23:return t.lanes=0,E4(e,t,n)}return vo(e,t,n)}var P4,x_,R4,M4;P4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};x_=function(){};R4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ha(Os.current);var s=null;switch(n){case"input":i=H1(e,i),r=H1(e,r),s=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":i=W1(e,i),r=W1(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=am)}Y1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};M4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xu(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kne(e,t,n){var r=t.pendingProps;switch(CS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Pr(t.type)&&lm(),nr(t),null;case 3:return r=t.stateNode,au(),Ot(Ir),Ot(ar),LS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wi!==null&&(P_(Wi),Wi=null))),x_(e,t),nr(t),null;case 5:VS(t);var i=Ha(jf.current);if(n=t.type,e!==null&&t.stateNode!=null)R4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return nr(t),null}if(e=Ha(Os.current),hp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ws]=t,r[Rf]=s,e=(t.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(i=0;i<yd.length;i++)Rt(yd[i],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":_T(r,s),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rt("invalid",r);break;case"textarea":xT(r,s),Rt("invalid",r)}Y1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fp(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fp(r.textContent,a,e),i=["children",""+a]):bf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",r)}switch(n){case"input":ip(r),bT(r,s,!0);break;case"textarea":ip(r),ST(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=am)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ws]=t,e[Rf]=r,P4(e,t,!1,!1),t.stateNode=e;e:{switch(o=Q1(n,r),n){case"dialog":Rt("cancel",e),Rt("close",e),i=r;break;case"iframe":case"object":case"embed":Rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<yd.length;i++)Rt(yd[i],e);i=r;break;case"source":Rt("error",e),i=r;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),i=r;break;case"details":Rt("toggle",e),i=r;break;case"input":_T(e,r),i=H1(e,r),Rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Rt("invalid",e);break;case"textarea":xT(e,r),i=W1(e,r),Rt("invalid",e);break;default:i=r}Y1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lV(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oV(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xf(e,l):typeof l=="number"&&xf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Rt("scroll",e):l!=null&&fS(e,s,l,o))}switch(n){case"input":ip(e),bT(e,r,!1);break;case"textarea":ip(e),ST(e);break;case"option":r.value!=null&&e.setAttribute("value",""+la(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Oc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Oc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=am)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)M4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=Ha(jf.current),Ha(Os.current),hp(t)){if(r=t.stateNode,n=t.memoizedProps,r[ws]=t,(s=r.nodeValue!==n)&&(e=Jr,e!==null))switch(e.tag){case 3:fp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ws]=t,t.stateNode=r}return nr(t),null;case 13:if(Ot(Yt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&Kr!==null&&t.mode&1&&!(t.flags&128))YV(),su(),t.flags|=98560,s=!1;else if(s=hp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ae(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[ws]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),s=!1}else Wi!==null&&(P_(Wi),Wi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Yt.current&1?On===0&&(On=3):KS())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return au(),x_(e,t),e===null&&If(t.stateNode.containerInfo),nr(t),null;case 10:return RS(t.type._context),nr(t),null;case 17:return Pr(t.type)&&lm(),nr(t),null;case 19:if(Ot(Yt),s=t.memoizedState,s===null)return nr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xu(s,!1);else{if(On!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gm(e),o!==null){for(t.flags|=128,Xu(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pt(Yt,Yt.current&1|2),t.child}e=e.sibling}s.tail!==null&&fn()>cu&&(t.flags|=128,r=!0,Xu(s,!1),t.lanes=4194304)}else{if(!r)if(e=gm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gt)return nr(t),null}else 2*fn()-s.renderingStartTime>cu&&n!==1073741824&&(t.flags|=128,r=!0,Xu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fn(),t.sibling=null,n=Yt.current,Pt(Yt,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return WS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fr&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function Yne(e,t){switch(CS(t),t.tag){case 1:return Pr(t.type)&&lm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return au(),Ot(Ir),Ot(ar),LS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return VS(t),null;case 13:if(Ot(Yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ot(Yt),null;case 4:return au(),null;case 10:return RS(t.type._context),null;case 22:case 23:return WS(),null;case 24:return null;default:return null}}var mp=!1,sr=!1,Qne=typeof WeakSet=="function"?WeakSet:Set,be=null;function yc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(e,t,r)}else n.current=null}function S_(e,t,n){try{n()}catch(r){rn(e,t,r)}}var fI=!1;function Jne(e,t){if(o_=im,e=LV(),ES(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(a_={focusedElem:e,selectionRange:n},im=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,A=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),A);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){rn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=fI,fI=!1,g}function Hd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&S_(t,n,s)}i=i.next}while(i!==r)}}function tv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function w_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function j4(e){var t=e.alternate;t!==null&&(e.alternate=null,j4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ws],delete t[Rf],delete t[u_],delete t[jne],delete t[One])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function O4(e){return e.tag===5||e.tag===3||e.tag===4}function hI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||O4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function E_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=am));else if(r!==4&&(e=e.child,e!==null))for(E_(e,t,n),e=e.sibling;e!==null;)E_(e,t,n),e=e.sibling}function k_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(k_(e,t,n),e=e.sibling;e!==null;)k_(e,t,n),e=e.sibling}var qn=null,Gi=!1;function Po(e,t,n){for(n=n.child;n!==null;)V4(e,t,n),n=n.sibling}function V4(e,t,n){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(W0,n)}catch{}switch(n.tag){case 5:sr||yc(n,t);case 6:var r=qn,i=Gi;qn=null,Po(e,t,n),qn=r,Gi=i,qn!==null&&(Gi?(e=qn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(Gi?(e=qn,n=n.stateNode,e.nodeType===8?$y(e.parentNode,n):e.nodeType===1&&$y(e,n),kf(e)):$y(qn,n.stateNode));break;case 4:r=qn,i=Gi,qn=n.stateNode.containerInfo,Gi=!0,Po(e,t,n),qn=r,Gi=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&S_(n,t,o),i=i.next}while(i!==r)}Po(e,t,n);break;case 1:if(!sr&&(yc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rn(n,t,a)}Po(e,t,n);break;case 21:Po(e,t,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,Po(e,t,n),sr=r):Po(e,t,n);break;default:Po(e,t,n)}}function pI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qne),t.forEach(function(r){var i=ore.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Di(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:qn=a.stateNode,Gi=!1;break e;case 3:qn=a.stateNode.containerInfo,Gi=!0;break e;case 4:qn=a.stateNode.containerInfo,Gi=!0;break e}a=a.return}if(qn===null)throw Error(ae(160));V4(s,o,i),qn=null,Gi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L4(t,e),t=t.sibling}function L4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Di(t,e),hs(e),r&4){try{Hd(3,e,e.return),tv(3,e)}catch(m){rn(e,e.return,m)}try{Hd(5,e,e.return)}catch(m){rn(e,e.return,m)}}break;case 1:Di(t,e),hs(e),r&512&&n!==null&&yc(n,n.return);break;case 5:if(Di(t,e),hs(e),r&512&&n!==null&&yc(n,n.return),e.flags&32){var i=e.stateNode;try{xf(i,"")}catch(m){rn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rV(i,s),Q1(a,o);var c=Q1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?lV(i,d):u==="dangerouslySetInnerHTML"?oV(i,d):u==="children"?xf(i,d):fS(i,u,d,c)}switch(a){case"input":G1(i,s);break;case"textarea":iV(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Oc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Oc(i,!!s.multiple,s.defaultValue,!0):Oc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rf]=s}catch(m){rn(e,e.return,m)}}break;case 6:if(Di(t,e),hs(e),r&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){rn(e,e.return,m)}}break;case 3:if(Di(t,e),hs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kf(t.containerInfo)}catch(m){rn(e,e.return,m)}break;case 4:Di(t,e),hs(e);break;case 13:Di(t,e),hs(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(GS=fn())),r&4&&pI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(sr=(c=sr)||u,Di(t,e),sr=c):Di(t,e),hs(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(d=be=u;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hd(4,h,h.return);break;case 1:yc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){rn(r,n,m)}}break;case 5:yc(h,h.return);break;case 22:if(h.memoizedState!==null){mI(d);continue}}p!==null?(p.return=h,be=p):mI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aV("display",o))}catch(m){rn(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){rn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Di(t,e),hs(e),r&4&&pI(e);break;case 21:break;default:Di(t,e),hs(e)}}function hs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(O4(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xf(i,""),r.flags&=-33);var s=hI(e);k_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hI(e);E_(e,a,o);break;default:throw Error(ae(161))}}catch(l){rn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xne(e,t,n){be=e,N4(e)}function N4(e,t,n){for(var r=(e.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sr;a=mp;var c=sr;if(mp=o,(sr=l)&&!c)for(be=i;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?vI(i):l!==null?(l.return=o,be=l):vI(i);for(;s!==null;)be=s,N4(s),s=s.sibling;be=i,mp=a,sr=c}gI(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):gI(e)}}function gI(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||tv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&XT(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}XT(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&kf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}sr||t.flags&512&&w_(t)}catch(h){rn(t,t.return,h)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function mI(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function vI(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tv(4,t)}catch(l){rn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){rn(t,i,l)}}var s=t.return;try{w_(t)}catch(l){rn(t,s,l)}break;case 5:var o=t.return;try{w_(t)}catch(l){rn(t,o,l)}}}catch(l){rn(t,t.return,l)}if(t===e){be=null;break}var a=t.sibling;if(a!==null){a.return=t.return,be=a;break}be=t.return}}var Zne=Math.ceil,ym=wo.ReactCurrentDispatcher,US=wo.ReactCurrentOwner,Si=wo.ReactCurrentBatchConfig,lt=0,zn=null,En=null,Jn=0,Fr=0,Ac=pa(0),On=0,Nf=null,gl=0,nv=0,HS=0,Gd=null,Er=null,GS=0,cu=1/0,Ks=null,Am=!1,C_=null,ra=null,vp=!1,Go=null,_m=0,qd=0,T_=null,lg=-1,cg=0;function _r(){return lt&6?fn():lg!==-1?lg:lg=fn()}function ia(e){return e.mode&1?lt&2&&Jn!==0?Jn&-Jn:Lne.transition!==null?(cg===0&&(cg=_V()),cg):(e=mt,e!==0||(e=window.event,e=e===void 0?16:CV(e.type)),e):1}function ss(e,t,n,r){if(50<qd)throw qd=0,T_=null,Error(ae(185));ph(e,n,r),(!(lt&2)||e!==zn)&&(e===zn&&(!(lt&2)&&(nv|=n),On===4&&Bo(e,Jn)),Rr(e,r),n===1&&lt===0&&!(t.mode&1)&&(cu=fn()+500,X0&&ga()))}function Rr(e,t){var n=e.callbackNode;Lte(e,t);var r=rm(e,e===zn?Jn:0);if(r===0)n!==null&&kT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kT(n),t===1)e.tag===0?Vne(yI.bind(null,e)):qV(yI.bind(null,e)),Rne(function(){!(lt&6)&&ga()}),n=null;else{switch(bV(r)){case 1:n=vS;break;case 4:n=yV;break;case 16:n=nm;break;case 536870912:n=AV;break;default:n=nm}n=G4(n,$4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $4(e,t){if(lg=-1,cg=0,lt&6)throw Error(ae(327));var n=e.callbackNode;if(Bc()&&e.callbackNode!==n)return null;var r=rm(e,e===zn?Jn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bm(e,r);else{t=r;var i=lt;lt|=2;var s=D4();(zn!==e||Jn!==t)&&(Ks=null,cu=fn()+500,Qa(e,t));do try{nre();break}catch(a){B4(e,a)}while(!0);PS(),ym.current=s,lt=i,En!==null?t=0:(zn=null,Jn=0,t=On)}if(t!==0){if(t===2&&(i=t_(e),i!==0&&(r=i,t=I_(e,i))),t===1)throw n=Nf,Qa(e,0),Bo(e,r),Rr(e,fn()),n;if(t===6)Bo(e,r);else{if(i=e.current.alternate,!(r&30)&&!ere(i)&&(t=bm(e,r),t===2&&(s=t_(e),s!==0&&(r=s,t=I_(e,s))),t===1))throw n=Nf,Qa(e,0),Bo(e,r),Rr(e,fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:ja(e,Er,Ks);break;case 3:if(Bo(e,r),(r&130023424)===r&&(t=GS+500-fn(),10<t)){if(rm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_r(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=c_(ja.bind(null,e,Er,Ks),t);break}ja(e,Er,Ks);break;case 4:if(Bo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-is(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zne(r/1960))-r,10<r){e.timeoutHandle=c_(ja.bind(null,e,Er,Ks),r);break}ja(e,Er,Ks);break;case 5:ja(e,Er,Ks);break;default:throw Error(ae(329))}}}return Rr(e,fn()),e.callbackNode===n?$4.bind(null,e):null}function I_(e,t){var n=Gd;return e.current.memoizedState.isDehydrated&&(Qa(e,t).flags|=256),e=bm(e,t),e!==2&&(t=Er,Er=n,t!==null&&P_(t)),e}function P_(e){Er===null?Er=e:Er.push.apply(Er,e)}function ere(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ls(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bo(e,t){for(t&=~HS,t&=~nv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-is(t),r=1<<n;e[n]=-1,t&=~r}}function yI(e){if(lt&6)throw Error(ae(327));Bc();var t=rm(e,0);if(!(t&1))return Rr(e,fn()),null;var n=bm(e,t);if(e.tag!==0&&n===2){var r=t_(e);r!==0&&(t=r,n=I_(e,r))}if(n===1)throw n=Nf,Qa(e,0),Bo(e,t),Rr(e,fn()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ja(e,Er,Ks),Rr(e,fn()),null}function qS(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(cu=fn()+500,X0&&ga())}}function ml(e){Go!==null&&Go.tag===0&&!(lt&6)&&Bc();var t=lt;lt|=1;var n=Si.transition,r=mt;try{if(Si.transition=null,mt=1,e)return e()}finally{mt=r,Si.transition=n,lt=t,!(lt&6)&&ga()}}function WS(){Fr=Ac.current,Ot(Ac)}function Qa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pne(n)),En!==null)for(n=En.return;n!==null;){var r=n;switch(CS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lm();break;case 3:au(),Ot(Ir),Ot(ar),LS();break;case 5:VS(r);break;case 4:au();break;case 13:Ot(Yt);break;case 19:Ot(Yt);break;case 10:RS(r.type._context);break;case 22:case 23:WS()}n=n.return}if(zn=e,En=e=sa(e.current,null),Jn=Fr=t,On=0,Nf=null,HS=nv=gl=0,Er=Gd=null,Ua!==null){for(t=0;t<Ua.length;t++)if(n=Ua[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ua=null}return e}function B4(e,t){do{var n=En;try{if(PS(),sg.current=vm,mm){for(var r=Qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mm=!1}if(pl=0,Bn=Rn=Qt=null,Ud=!1,Of=0,US.current=null,n===null||n.return===null){On=1,Nf=t,En=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=sI(o);if(p!==null){p.flags&=-257,oI(p,o,a,s,t),p.mode&1&&iI(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){iI(s,c,t),KS();break e}l=Error(ae(426))}}else if(Gt&&a.mode&1){var A=sI(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),oI(A,o,a,s,t),TS(lu(l,a));break e}}s=l=lu(l,a),On!==4&&(On=2),Gd===null?Gd=[s]:Gd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=x4(s,l,t);JT(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ra===null||!ra.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=S4(s,a,t);JT(s,S);break e}}s=s.return}while(s!==null)}z4(n)}catch(x){t=x,En===n&&n!==null&&(En=n=n.return);continue}break}while(!0)}function D4(){var e=ym.current;return ym.current=vm,e===null?vm:e}function KS(){(On===0||On===3||On===2)&&(On=4),zn===null||!(gl&268435455)&&!(nv&268435455)||Bo(zn,Jn)}function bm(e,t){var n=lt;lt|=2;var r=D4();(zn!==e||Jn!==t)&&(Ks=null,Qa(e,t));do try{tre();break}catch(i){B4(e,i)}while(!0);if(PS(),lt=n,ym.current=r,En!==null)throw Error(ae(261));return zn=null,Jn=0,On}function tre(){for(;En!==null;)F4(En)}function nre(){for(;En!==null&&!Cte();)F4(En)}function F4(e){var t=H4(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?z4(e):En=t,US.current=null}function z4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yne(n,t),n!==null){n.flags&=32767,En=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{On=6,En=null;return}}else if(n=Kne(n,t,Fr),n!==null){En=n;return}if(t=t.sibling,t!==null){En=t;return}En=t=e}while(t!==null);On===0&&(On=5)}function ja(e,t,n){var r=mt,i=Si.transition;try{Si.transition=null,mt=1,rre(e,t,n,r)}finally{Si.transition=i,mt=r}return null}function rre(e,t,n,r){do Bc();while(Go!==null);if(lt&6)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Nte(e,s),e===zn&&(En=zn=null,Jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vp||(vp=!0,G4(nm,function(){return Bc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Si.transition,Si.transition=null;var o=mt;mt=1;var a=lt;lt|=4,US.current=null,Jne(e,n),L4(n,e),Sne(a_),im=!!o_,a_=o_=null,e.current=n,Xne(n),Tte(),lt=a,mt=o,Si.transition=s}else e.current=n;if(vp&&(vp=!1,Go=e,_m=i),s=e.pendingLanes,s===0&&(ra=null),Rte(n.stateNode),Rr(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Am)throw Am=!1,e=C_,C_=null,e;return _m&1&&e.tag!==0&&Bc(),s=e.pendingLanes,s&1?e===T_?qd++:(qd=0,T_=e):qd=0,ga(),null}function Bc(){if(Go!==null){var e=bV(_m),t=Si.transition,n=mt;try{if(Si.transition=null,mt=16>e?16:e,Go===null)var r=!1;else{if(e=Go,Go=null,_m=0,lt&6)throw Error(ae(331));var i=lt;for(lt|=4,be=e.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Hd(8,u,s)}var d=u.child;if(d!==null)d.return=u,be=d;else for(;be!==null;){u=be;var h=u.sibling,p=u.return;if(j4(u),u===c){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var A=m.sibling;m.sibling=null,m=A}while(m!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,be=v;break e}be=s.return}}var y=e.current;for(be=y;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=y;be!==null;){if(a=be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tv(9,a)}}catch(x){rn(a,a.return,x)}if(a===o){be=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,be=S;break e}be=a.return}}if(lt=i,ga(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(W0,e)}catch{}r=!0}return r}finally{mt=n,Si.transition=t}}return!1}function AI(e,t,n){t=lu(n,t),t=x4(e,t,1),e=na(e,t,1),t=_r(),e!==null&&(ph(e,1,t),Rr(e,t))}function rn(e,t,n){if(e.tag===3)AI(e,e,n);else for(;t!==null;){if(t.tag===3){AI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ra===null||!ra.has(r))){e=lu(n,e),e=S4(t,e,1),t=na(t,e,1),e=_r(),t!==null&&(ph(t,1,e),Rr(t,e));break}}t=t.return}}function ire(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&n,zn===e&&(Jn&n)===n&&(On===4||On===3&&(Jn&130023424)===Jn&&500>fn()-GS?Qa(e,0):HS|=n),Rr(e,t)}function U4(e,t){t===0&&(e.mode&1?(t=ap,ap<<=1,!(ap&130023424)&&(ap=4194304)):t=1);var n=_r();e=mo(e,t),e!==null&&(ph(e,t,n),Rr(e,n))}function sre(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),U4(e,n)}function ore(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),U4(e,n)}var H4;H4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tr=!1,Wne(e,t,n);Tr=!!(e.flags&131072)}else Tr=!1,Gt&&t.flags&1048576&&WV(t,dm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ag(e,t),e=t.pendingProps;var i=iu(t,ar.current);$c(t,n),i=$S(null,t,r,e,i,n);var s=BS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(r)?(s=!0,cm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jS(t),i.updater=Z0,t.stateNode=i,i._reactInternals=t,m_(t,r,e,n),t=A_(null,t,r,!0,s,n)):(t.tag=0,Gt&&s&&kS(t),pr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ag(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=lre(r),e=zi(r,e),i){case 0:t=y_(null,t,r,e,n);break e;case 1:t=cI(null,t,r,e,n);break e;case 11:t=aI(null,t,r,e,n);break e;case 14:t=lI(null,t,r,zi(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),y_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),cI(e,t,r,i,n);case 3:e:{if(C4(t),e===null)throw Error(ae(387));r=t.pendingProps,s=t.memoizedState,i=s.element,JV(e,t),pm(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=lu(Error(ae(423)),t),t=uI(e,t,r,n,i);break e}else if(r!==i){i=lu(Error(ae(424)),t),t=uI(e,t,r,n,i);break e}else for(Kr=ta(t.stateNode.containerInfo.firstChild),Jr=t,Gt=!0,Wi=null,n=t4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(su(),r===i){t=vo(e,t,n);break e}pr(e,t,r,n)}t=t.child}return t;case 5:return n4(t),e===null&&h_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,l_(r,i)?o=null:s!==null&&l_(r,s)&&(t.flags|=32),k4(e,t),pr(e,t,o,n),t.child;case 6:return e===null&&h_(t),null;case 13:return T4(e,t,n);case 4:return OS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ou(t,null,r,n):pr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),aI(e,t,r,i,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Pt(fm,r._currentValue),r._currentValue=o,s!==null)if(ls(s.value,o)){if(s.children===i.children&&!Ir.current){t=vo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=io(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),p_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),p_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$c(t,n),i=Pi(i),r=r(i),t.flags|=1,pr(e,t,r,n),t.child;case 14:return r=t.type,i=zi(r,t.pendingProps),i=zi(r.type,i),lI(e,t,r,i,n);case 15:return w4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),ag(e,t),t.tag=1,Pr(r)?(e=!0,cm(t)):e=!1,$c(t,n),ZV(t,r,i),m_(t,r,i,n),A_(null,t,r,!0,e,n);case 19:return I4(e,t,n);case 22:return E4(e,t,n)}throw Error(ae(156,t.tag))};function G4(e,t){return vV(e,t)}function are(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(e,t,n,r){return new are(e,t,n,r)}function YS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lre(e){if(typeof e=="function")return YS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pS)return 11;if(e===gS)return 14}return 2}function sa(e,t){var n=e.alternate;return n===null?(n=bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ug(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")YS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cc:return Ja(n.children,i,s,t);case hS:o=8,i|=8;break;case D1:return e=bi(12,n,t,i|2),e.elementType=D1,e.lanes=s,e;case F1:return e=bi(13,n,t,i),e.elementType=F1,e.lanes=s,e;case z1:return e=bi(19,n,t,i),e.elementType=z1,e.lanes=s,e;case eV:return rv(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XO:o=10;break e;case ZO:o=9;break e;case pS:o=11;break e;case gS:o=14;break e;case Oo:o=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=bi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ja(e,t,n,r){return e=bi(7,e,r,t),e.lanes=n,e}function rv(e,t,n,r){return e=bi(22,e,r,t),e.elementType=eV,e.lanes=n,e.stateNode={isHidden:!1},e}function qy(e,t,n){return e=bi(6,e,null,t),e.lanes=n,e}function Wy(e,t,n){return t=bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cre(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QS(e,t,n,r,i,s,o,a,l){return e=new cre(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jS(s),e}function ure(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function q4(e){if(!e)return ca;e=e._reactInternals;e:{if(jl(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(Pr(n))return GV(e,n,t)}return t}function W4(e,t,n,r,i,s,o,a,l){return e=QS(n,r,!0,e,i,s,o,a,l),e.context=q4(null),n=e.current,r=_r(),i=ia(n),s=io(r,i),s.callback=t??null,na(n,s,i),e.current.lanes=i,ph(e,i,r),Rr(e,r),e}function iv(e,t,n,r){var i=t.current,s=_r(),o=ia(i);return n=q4(n),t.context===null?t.context=n:t.pendingContext=n,t=io(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=na(i,t,o),e!==null&&(ss(e,i,o,s),ig(e,i,o)),o}function xm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _I(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function JS(e,t){_I(e,t),(e=e.alternate)&&_I(e,t)}function dre(){return null}var K4=typeof reportError=="function"?reportError:function(e){console.error(e)};function XS(e){this._internalRoot=e}sv.prototype.render=XS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));iv(e,t,null,null)};sv.prototype.unmount=XS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ml(function(){iv(null,e,null,null)}),t[go]=null}};function sv(e){this._internalRoot=e}sv.prototype.unstable_scheduleHydration=function(e){if(e){var t=wV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$o.length&&t!==0&&t<$o[n].priority;n++);$o.splice(n,0,e),n===0&&kV(e)}};function ZS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bI(){}function fre(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=xm(o);s.call(c)}}var o=W4(t,r,e,0,null,!1,!1,"",bI);return e._reactRootContainer=o,e[go]=o.current,If(e.nodeType===8?e.parentNode:e),ml(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xm(l);a.call(c)}}var l=QS(e,0,!1,null,null,!1,!1,"",bI);return e._reactRootContainer=l,e[go]=l.current,If(e.nodeType===8?e.parentNode:e),ml(function(){iv(t,l,n,r)}),l}function av(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xm(o);a.call(l)}}iv(t,o,e,i)}else o=fre(n,t,e,i,r);return xm(o)}xV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vd(t.pendingLanes);n!==0&&(yS(t,n|1),Rr(t,fn()),!(lt&6)&&(cu=fn()+500,ga()))}break;case 13:ml(function(){var r=mo(e,1);if(r!==null){var i=_r();ss(r,e,1,i)}}),JS(e,1)}};AS=function(e){if(e.tag===13){var t=mo(e,134217728);if(t!==null){var n=_r();ss(t,e,134217728,n)}JS(e,134217728)}};SV=function(e){if(e.tag===13){var t=ia(e),n=mo(e,t);if(n!==null){var r=_r();ss(n,e,t,r)}JS(e,t)}};wV=function(){return mt};EV=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};X1=function(e,t,n){switch(t){case"input":if(G1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=J0(r);if(!i)throw Error(ae(90));nV(r),G1(r,i)}}}break;case"textarea":iV(e,n);break;case"select":t=n.value,t!=null&&Oc(e,!!n.multiple,t,!1)}};dV=qS;fV=ml;var hre={usingClientEntryPoint:!1,Events:[mh,hc,J0,cV,uV,qS]},Zu={findFiberByHostInstance:za,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pre={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gV(e),e===null?null:e.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||dre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{W0=yp.inject(pre),js=yp}catch{}}si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hre;si.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZS(t))throw Error(ae(200));return ure(e,t,null,n)};si.createRoot=function(e,t){if(!ZS(e))throw Error(ae(299));var n=!1,r="",i=K4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=QS(e,1,!1,null,null,n,!1,r,i),e[go]=t.current,If(e.nodeType===8?e.parentNode:e),new XS(t)};si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=gV(t),e=e===null?null:e.stateNode,e};si.flushSync=function(e){return ml(e)};si.hydrate=function(e,t,n){if(!ov(t))throw Error(ae(200));return av(null,e,t,!0,n)};si.hydrateRoot=function(e,t,n){if(!ZS(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=K4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=W4(t,null,e,1,n??null,i,!1,s,o),e[go]=t.current,If(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sv(t)};si.render=function(e,t,n){if(!ov(t))throw Error(ae(200));return av(null,e,t,!1,n)};si.unmountComponentAtNode=function(e){if(!ov(e))throw Error(ae(40));return e._reactRootContainer?(ml(function(){av(null,null,e,!1,function(){e._reactRootContainer=null,e[go]=null})}),!0):!1};si.unstable_batchedUpdates=qS;si.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ov(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return av(e,t,n,!1,r)};si.version="18.2.0-next-9e3b772b8-20220608";function Y4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y4)}catch(e){console.error(e)}}Y4(),WO.exports=si;var Tu=WO.exports;const Ap=lr(Tu),xI={disabled:!1},Sm=Pe.createContext(null);var gre=function(t){return t.scrollTop},Ad="unmounted",Oa="exited",Va="entering",Xl="entered",R_="exiting",Eo=function(e){qO(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Oa,s.appearStatus=Va):l=Xl:r.unmountOnExit||r.mountOnEnter?l=Ad:l=Oa,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ad?{status:Oa}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Va&&o!==Xl&&(s=Va):(o===Va||o===Xl)&&(s=R_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Va){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ap.findDOMNode(this);o&&gre(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Oa&&this.setState({status:Ad})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ap.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||xI.disabled){this.safeSetState({status:Xl},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Va},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:Xl},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ap.findDOMNode(this);if(!s||xI.disabled){this.safeSetState({status:Oa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:R_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Oa},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ap.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ad)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Xt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(Sm.Provider,{value:null},typeof o=="function"?o(i,a):Pe.cloneElement(Pe.Children.only(o),a))},t}(Pe.Component);Eo.contextType=Sm;Eo.propTypes={};function Wl(){}Eo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wl,onEntering:Wl,onEntered:Wl,onExit:Wl,onExiting:Wl,onExited:Wl};Eo.UNMOUNTED=Ad;Eo.EXITED=Oa;Eo.ENTERING=Va;Eo.ENTERED=Xl;Eo.EXITING=R_;const mre=Eo;function vre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(e,t){var n=function(s){return t&&_.isValidElement(s)?t(s):s},r=Object.create(null);return e&&_.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function yre(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ga(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Are(e,t){return ew(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ga(n,"appear",e),enter:Ga(n,"enter",e),exit:Ga(n,"exit",e)})})}function _re(e,t,n){var r=ew(e.children),i=yre(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(_.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=_.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ga(o,"exit",e),enter:Ga(o,"enter",e)}):!l&&a&&!u?i[s]=_.cloneElement(o,{in:!1}):l&&a&&_.isValidElement(c)&&(i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ga(o,"exit",e),enter:Ga(o,"enter",e)}))}}),i}var bre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},xre={component:"div",childFactory:function(t){return t}},tw=function(e){qO(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(vre(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Are(i,a):_re(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=ew(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=oe({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Xt(i,["component","childFactory"]),l=this.state.contextValue,c=bre(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Pe.createElement(Sm.Provider,{value:l},c):Pe.createElement(Sm.Provider,{value:l},Pe.createElement(s,a,c))},t}(Pe.Component);tw.propTypes={};tw.defaultProps=xre;const Sre=tw;function nw(e,t=0,n=1){return SO(e,t,n)}function wre(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lv(e){if(e.type)return e;if(e.charAt(0)==="#")return lv(wre(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(dl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(dl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function rw(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Ere(e,t){return e=lv(e),t=nw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,rw(e)}function s_e(e,t){if(e=lv(e),t=nw(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return rw(e)}function o_e(e,t){if(e=lv(e),t=nw(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return rw(e)}const kre=_.createContext(null),Q4=kre;function J4(){return _.useContext(Q4)}const Cre=typeof Symbol=="function"&&Symbol.for,Tre=Cre?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ire(e,t){return typeof t=="function"?t(e):oe({},e,t)}function Pre(e){const{children:t,theme:n}=e,r=J4(),i=_.useMemo(()=>{const s=r===null?n:Ire(r,n);return s!=null&&(s[Tre]=r!==null),s},[n,r]);return f.jsx(Q4.Provider,{value:i,children:t})}const Rre=["value"],X4=_.createContext();function Mre(e){let{value:t}=e,n=Xt(e,Rre);return f.jsx(X4.Provider,oe({value:t??!0},n))}const jre=()=>{const e=_.useContext(X4);return e??!1},SI={};function wI(e,t,n,r=!1){return _.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?oe({},t,{[e]:s}):s;return r?()=>o:o}return e?oe({},t,{[e]:n}):oe({},t,n)},[e,t,n,r])}function Ore(e){const{children:t,theme:n,themeId:r}=e,i=jO(SI),s=J4()||SI,o=wI(r,i,n),a=wI(r,s,n,!0),l=o.direction==="rtl";return f.jsx(Pre,{theme:a,children:f.jsx(Qf.Provider,{value:o,children:f.jsx(Mre,{value:l,children:t})})})}function Vre(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=_.useState(!1),h=xn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=xn(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),_.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const hi=Rl("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Lre=["center","classes","className"];let cv=e=>e,EI,kI,CI,TI;const M_=550,Nre=80,$re=Ao(EI||(EI=cv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Bre=Ao(kI||(kI=cv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Dre=Ao(CI||(CI=cv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Fre=ii("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),zre=ii(Vre,{name:"MuiTouchRipple",slot:"Ripple"})(TI||(TI=cv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),hi.rippleVisible,$re,M_,({theme:e})=>e.transitions.easing.easeInOut,hi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,hi.child,hi.childLeaving,Bre,M_,({theme:e})=>e.transitions.easing.easeInOut,hi.childPulsate,Dre,({theme:e})=>e.transitions.easing.easeInOut),Ure=_.forwardRef(function(t,n){const r=fa({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Xt(r,Lre),[l,c]=_.useState([]),u=_.useRef(0),d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.useRef(!1),p=ac(),g=_.useRef(null),m=_.useRef(null),A=_.useCallback(S=>{const{pulsate:x,rippleX:w,rippleY:E,rippleSize:I,cb:L}=S;c(j=>[...j,f.jsx(zre,{classes:{ripple:xn(s.ripple,hi.ripple),rippleVisible:xn(s.rippleVisible,hi.rippleVisible),ripplePulsate:xn(s.ripplePulsate,hi.ripplePulsate),child:xn(s.child,hi.child),childLeaving:xn(s.childLeaving,hi.childLeaving),childPulsate:xn(s.childPulsate,hi.childPulsate)},timeout:M_,pulsate:x,rippleX:w,rippleY:E,rippleSize:I},u.current)]),u.current+=1,d.current=L},[s]),v=_.useCallback((S={},x={},w=()=>{})=>{const{pulsate:E=!1,center:I=i||x.pulsate,fakeElement:L=!1}=x;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const j=L?null:m.current,$=j?j.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Q,M,z;if(I||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)Q=Math.round($.width/2),M=Math.round($.height/2);else{const{clientX:P,clientY:T}=S.touches&&S.touches.length>0?S.touches[0]:S;Q=Math.round(P-$.left),M=Math.round(T-$.top)}if(I)z=Math.sqrt((2*$.width**2+$.height**2)/3),z%2===0&&(z+=1);else{const P=Math.max(Math.abs((j?j.clientWidth:0)-Q),Q)*2+2,T=Math.max(Math.abs((j?j.clientHeight:0)-M),M)*2+2;z=Math.sqrt(P**2+T**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{A({pulsate:E,rippleX:Q,rippleY:M,rippleSize:z,cb:w})},p.start(Nre,()=>{g.current&&(g.current(),g.current=null)})):A({pulsate:E,rippleX:Q,rippleY:M,rippleSize:z,cb:w})},[i,A,p]),y=_.useCallback(()=>{v({},{pulsate:!0})},[v]),b=_.useCallback((S,x)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{b(S,x)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=x},[p]);return _.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:b}),[y,v,b]),f.jsx(Fre,oe({className:xn(hi.root,s.root,o),ref:m},a,{children:f.jsx(Sre,{component:null,exit:!0,children:l})}))}),Hre=Ure;function Gre(e){return Pl("MuiButtonBase",e)}const qre=Rl("MuiButtonBase",["root","disabled","focusVisible"]),Wre=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Kre=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Il({root:["root",t&&"disabled",n&&"focusVisible"]},Gre,i);return n&&r&&(o.root+=` ${r}`),o},Yre=ii("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${qre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Qre=_.forwardRef(function(t,n){const r=fa({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:A,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:S,onKeyUp:x,onMouseDown:w,onMouseLeave:E,onMouseUp:I,onTouchEnd:L,onTouchMove:j,onTouchStart:$,tabIndex:Q=0,TouchRippleProps:M,touchRippleRef:z,type:P}=r,T=Xt(r,Wre),F=_.useRef(null),O=_.useRef(null),N=fo(O,z),{isFocusVisibleRef:B,onFocus:G,onBlur:U,ref:ne}=Jx(),[V,le]=_.useState(!1);c&&V&&le(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{le(!0),F.current.focus()}}),[]);const[Z,he]=_.useState(!1);_.useEffect(()=>{he(!0)},[]);const Se=Z&&!u&&!c;_.useEffect(()=>{V&&h&&!u&&Z&&O.current.pulsate()},[u,h,V,Z]);function we(ye,We,Pn=d){return Fa(bt=>(We&&We(bt),!Pn&&O.current&&O.current[ye](bt),!0))}const pe=we("start",w),Ae=we("stop",A),Ge=we("stop",v),Ve=we("stop",I),Ie=we("stop",ye=>{V&&ye.preventDefault(),E&&E(ye)}),_e=we("start",$),Ue=we("stop",L),qe=we("stop",j),He=we("stop",ye=>{U(ye),B.current===!1&&le(!1),g&&g(ye)},!1),rt=Fa(ye=>{F.current||(F.current=ye.currentTarget),G(ye),B.current===!0&&(le(!0),b&&b(ye)),y&&y(ye)}),it=()=>{const ye=F.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},$t=_.useRef(!1),At=Fa(ye=>{h&&!$t.current&&V&&O.current&&ye.key===" "&&($t.current=!0,O.current.stop(ye,()=>{O.current.start(ye)})),ye.target===ye.currentTarget&&it()&&ye.key===" "&&ye.preventDefault(),S&&S(ye),ye.target===ye.currentTarget&&it()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),m&&m(ye))}),qt=Fa(ye=>{h&&ye.key===" "&&O.current&&V&&!ye.defaultPrevented&&($t.current=!1,O.current.stop(ye,()=>{O.current.pulsate(ye)})),x&&x(ye),m&&ye.target===ye.currentTarget&&it()&&ye.key===" "&&!ye.defaultPrevented&&m(ye)});let st=l;st==="button"&&(T.href||T.to)&&(st=p);const _t={};st==="button"?(_t.type=P===void 0?"button":P,_t.disabled=c):(!T.href&&!T.to&&(_t.role="button"),c&&(_t["aria-disabled"]=c));const wt=fo(n,ne,F),Ke=oe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:Q,focusVisible:V}),Bt=Kre(Ke);return f.jsxs(Yre,oe({as:st,className:xn(Bt.root,a),ownerState:Ke,onBlur:He,onClick:m,onContextMenu:Ae,onFocus:rt,onKeyDown:At,onKeyUp:qt,onMouseDown:pe,onMouseLeave:Ie,onMouseUp:Ve,onDragLeave:Ge,onTouchEnd:Ue,onTouchMove:qe,onTouchStart:_e,ref:wt,tabIndex:c?-1:Q,type:P},_t,T,{children:[o,Se?f.jsx(Hre,oe({ref:N,center:s},M)):null]}))}),Jre=Qre;function Xre(e){return Pl("MuiIconButton",e)}const Zre=Rl("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),eie=["edge","children","className","color","disabled","disableFocusRipple","size"],tie=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Cn(r)}`,i&&`edge${Cn(i)}`,`size${Cn(s)}`]};return Il(o,Xre,t)},nie=ii(Jre,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Cn(n.color)}`],n.edge&&t[`edge${Cn(n.edge)}`],t[`size${Cn(n.size)}`]]}})(({theme:e,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Qg(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":oe({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Qg(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Zre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),rie=_.forwardRef(function(t,n){const r=fa({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Xt(r,eie),h=oe({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=tie(h);return f.jsx(nie,oe({className:xn(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),iw=rie;function iie(e){return typeof e=="string"}function _d(e,t,n){return e===void 0||iie(e)?t:oe({},t,{ownerState:oe({},t.ownerState,n)})}const sie={disableDefaultClasses:!1},oie=_.createContext(sie);function aie(e){const{disableDefaultClasses:t}=_.useContext(oie);return n=>t?"":e(n)}function lie(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function cie(e,t,n){return typeof e=="function"?e(t,n):e}function II(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function uie(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const p=xn(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g=oe({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=oe({},n,i,r);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const o=lie(oe({},i,r)),a=II(r),l=II(i),c=t(o),u=xn(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=oe({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=oe({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const die=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function fie(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=e,o=Xt(e,die),a=s?{}:cie(r,i),{props:l,internalRef:c}=uie(oe({},o,{externalSlotProps:a})),u=fo(c,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return _d(n,oe({},l,{ref:u}),i)}function Z4(){const e=OO(aS);return e[Af]||e}const hie=e=>e.scrollTop;function PI(e,t){var n,r;const{timeout:i,easing:s,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[t.mode]:s,delay:o.transitionDelay}}const pie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function j_(e){return`scale(${e}, ${e**2})`}const gie={entering:{opacity:1,transform:j_(1)},entered:{opacity:1,transform:"none"}},Ky=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),eL=_.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:g,timeout:m="auto",TransitionComponent:A=mre}=t,v=Xt(t,pie),y=ac(),b=_.useRef(),S=Z4(),x=_.useRef(null),w=fo(x,s.ref,n),E=P=>T=>{if(P){const F=x.current;T===void 0?P(F):P(F,T)}},I=E(u),L=E((P,T)=>{hie(P);const{duration:F,delay:O,easing:N}=PI({style:g,timeout:m,easing:o},{mode:"enter"});let B;m==="auto"?(B=S.transitions.getAutoHeightDuration(P.clientHeight),b.current=B):B=F,P.style.transition=[S.transitions.create("opacity",{duration:B,delay:O}),S.transitions.create("transform",{duration:Ky?B:B*.666,delay:O,easing:N})].join(","),l&&l(P,T)}),j=E(c),$=E(p),Q=E(P=>{const{duration:T,delay:F,easing:O}=PI({style:g,timeout:m,easing:o},{mode:"exit"});let N;m==="auto"?(N=S.transitions.getAutoHeightDuration(P.clientHeight),b.current=N):N=T,P.style.transition=[S.transitions.create("opacity",{duration:N,delay:F}),S.transitions.create("transform",{duration:Ky?N:N*.666,delay:Ky?F:F||N*.333,easing:O})].join(","),P.style.opacity=0,P.style.transform=j_(.75),d&&d(P)}),M=E(h),z=P=>{m==="auto"&&y.start(b.current||0,P),r&&r(x.current,P)};return f.jsx(A,oe({appear:i,in:a,nodeRef:x,onEnter:L,onEntered:j,onEntering:I,onExit:Q,onExited:M,onExiting:$,addEndListener:z,timeout:m==="auto"?null:m},v,{children:(P,T)=>_.cloneElement(s,oe({style:oe({opacity:0,transform:j_(.75),visibility:P==="exited"&&!a?"hidden":void 0},gie[P],g,s.props.style),ref:w},T))}))});eL.muiSupportAuto=!0;const RI=eL;var Mr="top",Mi="bottom",ji="right",jr="left",sw="auto",yh=[Mr,Mi,ji,jr],uu="start",$f="end",mie="clippingParents",tL="viewport",ed="popper",vie="reference",MI=yh.reduce(function(e,t){return e.concat([t+"-"+uu,t+"-"+$f])},[]),nL=[].concat(yh,[sw]).reduce(function(e,t){return e.concat([t,t+"-"+uu,t+"-"+$f])},[]),yie="beforeRead",Aie="read",_ie="afterRead",bie="beforeMain",xie="main",Sie="afterMain",wie="beforeWrite",Eie="write",kie="afterWrite",Cie=[yie,Aie,_ie,bie,xie,Sie,wie,Eie,kie];function Ds(e){return e?(e.nodeName||"").toLowerCase():null}function ei(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vl(e){var t=ei(e).Element;return e instanceof t||e instanceof Element}function wi(e){var t=ei(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ow(e){if(typeof ShadowRoot>"u")return!1;var t=ei(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Tie(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!wi(s)||!Ds(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Iie(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!wi(i)||!Ds(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Pie={name:"applyStyles",enabled:!0,phase:"write",fn:Tie,effect:Iie,requires:["computeStyles"]};function Vs(e){return e.split("-")[0]}var Xa=Math.max,wm=Math.min,du=Math.round;function O_(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function rL(){return!/^((?!chrome|android).)*safari/i.test(O_())}function fu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&wi(e)&&(i=e.offsetWidth>0&&du(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&du(r.height)/e.offsetHeight||1);var o=vl(e)?ei(e):window,a=o.visualViewport,l=!rL()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function aw(e){var t=fu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function iL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ow(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yo(e){return ei(e).getComputedStyle(e)}function Rie(e){return["table","td","th"].indexOf(Ds(e))>=0}function ma(e){return((vl(e)?e.ownerDocument:e.document)||window.document).documentElement}function uv(e){return Ds(e)==="html"?e:e.assignedSlot||e.parentNode||(ow(e)?e.host:null)||ma(e)}function jI(e){return!wi(e)||yo(e).position==="fixed"?null:e.offsetParent}function Mie(e){var t=/firefox/i.test(O_()),n=/Trident/i.test(O_());if(n&&wi(e)){var r=yo(e);if(r.position==="fixed")return null}var i=uv(e);for(ow(i)&&(i=i.host);wi(i)&&["html","body"].indexOf(Ds(i))<0;){var s=yo(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Ah(e){for(var t=ei(e),n=jI(e);n&&Rie(n)&&yo(n).position==="static";)n=jI(n);return n&&(Ds(n)==="html"||Ds(n)==="body"&&yo(n).position==="static")?t:n||Mie(e)||t}function lw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wd(e,t,n){return Xa(e,wm(t,n))}function jie(e,t,n){var r=Wd(e,t,n);return r>n?n:r}function sL(){return{top:0,right:0,bottom:0,left:0}}function oL(e){return Object.assign({},sL(),e)}function aL(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Oie=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,oL(typeof t!="number"?t:aL(t,yh))};function Vie(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Vs(n.placement),l=lw(a),c=[jr,ji].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Oie(i.padding,n),h=aw(s),p=l==="y"?Mr:jr,g=l==="y"?Mi:ji,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],A=o[l]-n.rects.reference[l],v=Ah(s),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-A/2,S=d[p],x=y-h[u]-d[g],w=y/2-h[u]/2+b,E=Wd(S,w,x),I=l;n.modifiersData[r]=(t={},t[I]=E,t.centerOffset=E-w,t)}}function Lie(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||iL(t.elements.popper,i)&&(t.elements.arrow=i))}const Nie={name:"arrow",enabled:!0,phase:"main",fn:Vie,effect:Lie,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hu(e){return e.split("-")[1]}var $ie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bie(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:du(n*i)/i||0,y:du(r*i)/i||0}}function OI(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=h===void 0?0:h,g=o.y,m=g===void 0?0:g,A=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=A.x,m=A.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=jr,S=Mr,x=window;if(c){var w=Ah(n),E="clientHeight",I="clientWidth";if(w===ei(n)&&(w=ma(n),yo(w).position!=="static"&&a==="absolute"&&(E="scrollHeight",I="scrollWidth")),w=w,i===Mr||(i===jr||i===ji)&&s===$f){S=Mi;var L=d&&w===x&&x.visualViewport?x.visualViewport.height:w[E];m-=L-r.height,m*=l?1:-1}if(i===jr||(i===Mr||i===Mi)&&s===$f){b=ji;var j=d&&w===x&&x.visualViewport?x.visualViewport.width:w[I];p-=j-r.width,p*=l?1:-1}}var $=Object.assign({position:a},c&&$ie),Q=u===!0?Bie({x:p,y:m},ei(n)):{x:p,y:m};if(p=Q.x,m=Q.y,l){var M;return Object.assign({},$,(M={},M[S]=y?"0":"",M[b]=v?"0":"",M.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",M))}return Object.assign({},$,(t={},t[S]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}function Die(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Vs(t.placement),variation:hu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,OI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,OI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Fie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Die,data:{}};var _p={passive:!0};function zie(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=ei(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,_p)}),a&&l.addEventListener("resize",n.update,_p),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,_p)}),a&&l.removeEventListener("resize",n.update,_p)}}const Uie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zie,data:{}};var Hie={left:"right",right:"left",bottom:"top",top:"bottom"};function dg(e){return e.replace(/left|right|bottom|top/g,function(t){return Hie[t]})}var Gie={start:"end",end:"start"};function VI(e){return e.replace(/start|end/g,function(t){return Gie[t]})}function cw(e){var t=ei(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function uw(e){return fu(ma(e)).left+cw(e).scrollLeft}function qie(e,t){var n=ei(e),r=ma(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=rL();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+uw(e),y:l}}function Wie(e){var t,n=ma(e),r=cw(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Xa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Xa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+uw(e),l=-r.scrollTop;return yo(i||n).direction==="rtl"&&(a+=Xa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function dw(e){var t=yo(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function lL(e){return["html","body","#document"].indexOf(Ds(e))>=0?e.ownerDocument.body:wi(e)&&dw(e)?e:lL(uv(e))}function Kd(e,t){var n;t===void 0&&(t=[]);var r=lL(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=ei(r),o=i?[s].concat(s.visualViewport||[],dw(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Kd(uv(o)))}function V_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Kie(e,t){var n=fu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function LI(e,t,n){return t===tL?V_(qie(e,n)):vl(t)?Kie(t,n):V_(Wie(ma(e)))}function Yie(e){var t=Kd(uv(e)),n=["absolute","fixed"].indexOf(yo(e).position)>=0,r=n&&wi(e)?Ah(e):e;return vl(r)?t.filter(function(i){return vl(i)&&iL(i,r)&&Ds(i)!=="body"}):[]}function Qie(e,t,n,r){var i=t==="clippingParents"?Yie(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=LI(e,c,r);return l.top=Xa(u.top,l.top),l.right=wm(u.right,l.right),l.bottom=wm(u.bottom,l.bottom),l.left=Xa(u.left,l.left),l},LI(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cL(e){var t=e.reference,n=e.element,r=e.placement,i=r?Vs(r):null,s=r?hu(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Mr:l={x:o,y:t.y-n.height};break;case Mi:l={x:o,y:t.y+t.height};break;case ji:l={x:t.x+t.width,y:a};break;case jr:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?lw(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case uu:l[c]=l[c]-(t[u]/2-n[u]/2);break;case $f:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Bf(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?mie:a,c=n.rootBoundary,u=c===void 0?tL:c,d=n.elementContext,h=d===void 0?ed:d,p=n.altBoundary,g=p===void 0?!1:p,m=n.padding,A=m===void 0?0:m,v=oL(typeof A!="number"?A:aL(A,yh)),y=h===ed?vie:ed,b=e.rects.popper,S=e.elements[g?y:h],x=Qie(vl(S)?S:S.contextElement||ma(e.elements.popper),l,u,o),w=fu(e.elements.reference),E=cL({reference:w,element:b,strategy:"absolute",placement:i}),I=V_(Object.assign({},b,E)),L=h===ed?I:w,j={top:x.top-L.top+v.top,bottom:L.bottom-x.bottom+v.bottom,left:x.left-L.left+v.left,right:L.right-x.right+v.right},$=e.modifiersData.offset;if(h===ed&&$){var Q=$[i];Object.keys(j).forEach(function(M){var z=[ji,Mi].indexOf(M)>=0?1:-1,P=[Mr,Mi].indexOf(M)>=0?"y":"x";j[M]+=Q[P]*z})}return j}function Jie(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?nL:l,u=hu(r),d=u?a?MI:MI.filter(function(g){return hu(g)===u}):yh,h=d.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=d);var p=h.reduce(function(g,m){return g[m]=Bf(e,{placement:m,boundary:i,rootBoundary:s,padding:o})[Vs(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function Xie(e){if(Vs(e)===sw)return[];var t=dg(e);return[VI(e),t,VI(t)]}function Zie(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,A=t.options.placement,v=Vs(A),y=v===A,b=l||(y||!g?[dg(A)]:Xie(A)),S=[A].concat(b).reduce(function(V,le){return V.concat(Vs(le)===sw?Jie(t,{placement:le,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):le)},[]),x=t.rects.reference,w=t.rects.popper,E=new Map,I=!0,L=S[0],j=0;j<S.length;j++){var $=S[j],Q=Vs($),M=hu($)===uu,z=[Mr,Mi].indexOf(Q)>=0,P=z?"width":"height",T=Bf(t,{placement:$,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),F=z?M?ji:jr:M?Mi:Mr;x[P]>w[P]&&(F=dg(F));var O=dg(F),N=[];if(s&&N.push(T[Q]<=0),a&&N.push(T[F]<=0,T[O]<=0),N.every(function(V){return V})){L=$,I=!1;break}E.set($,N)}if(I)for(var B=g?3:1,G=function(le){var Z=S.find(function(he){var Se=E.get(he);if(Se)return Se.slice(0,le).every(function(we){return we})});if(Z)return L=Z,"break"},U=B;U>0;U--){var ne=G(U);if(ne==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const ese={name:"flip",enabled:!0,phase:"main",fn:Zie,requiresIfExists:["offset"],data:{_skip:!1}};function NI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function $I(e){return[Mr,ji,Mi,jr].some(function(t){return e[t]>=0})}function tse(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Bf(t,{elementContext:"reference"}),a=Bf(t,{altBoundary:!0}),l=NI(o,r),c=NI(a,i,s),u=$I(l),d=$I(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const nse={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:tse};function rse(e,t,n){var r=Vs(e),i=[jr,Mr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[jr,ji].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ise(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=nL.reduce(function(u,d){return u[d]=rse(d,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const sse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ise};function ose(e){var t=e.state,n=e.name;t.modifiersData[n]=cL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const ase={name:"popperOffsets",enabled:!0,phase:"read",fn:ose,data:{}};function lse(e){return e==="x"?"y":"x"}function cse(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,m=g===void 0?0:g,A=Bf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Vs(t.placement),y=hu(t.placement),b=!y,S=lw(v),x=lse(S),w=t.modifiersData.popperOffsets,E=t.rects.reference,I=t.rects.popper,L=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,j=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(w){if(s){var M,z=S==="y"?Mr:jr,P=S==="y"?Mi:ji,T=S==="y"?"height":"width",F=w[S],O=F+A[z],N=F-A[P],B=p?-I[T]/2:0,G=y===uu?E[T]:I[T],U=y===uu?-I[T]:-E[T],ne=t.elements.arrow,V=p&&ne?aw(ne):{width:0,height:0},le=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:sL(),Z=le[z],he=le[P],Se=Wd(0,E[T],V[T]),we=b?E[T]/2-B-Se-Z-j.mainAxis:G-Se-Z-j.mainAxis,pe=b?-E[T]/2+B+Se+he+j.mainAxis:U+Se+he+j.mainAxis,Ae=t.elements.arrow&&Ah(t.elements.arrow),Ge=Ae?S==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Ve=(M=$==null?void 0:$[S])!=null?M:0,Ie=F+we-Ve-Ge,_e=F+pe-Ve,Ue=Wd(p?wm(O,Ie):O,F,p?Xa(N,_e):N);w[S]=Ue,Q[S]=Ue-F}if(a){var qe,He=S==="x"?Mr:jr,rt=S==="x"?Mi:ji,it=w[x],$t=x==="y"?"height":"width",At=it+A[He],qt=it-A[rt],st=[Mr,jr].indexOf(v)!==-1,_t=(qe=$==null?void 0:$[x])!=null?qe:0,wt=st?At:it-E[$t]-I[$t]-_t+j.altAxis,Ke=st?it+E[$t]+I[$t]-_t-j.altAxis:qt,Bt=p&&st?jie(wt,it,Ke):Wd(p?wt:At,it,p?Ke:qt);w[x]=Bt,Q[x]=Bt-it}t.modifiersData[r]=Q}}const use={name:"preventOverflow",enabled:!0,phase:"main",fn:cse,requiresIfExists:["offset"]};function dse(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fse(e){return e===ei(e)||!wi(e)?cw(e):dse(e)}function hse(e){var t=e.getBoundingClientRect(),n=du(t.width)/e.offsetWidth||1,r=du(t.height)/e.offsetHeight||1;return n!==1||r!==1}function pse(e,t,n){n===void 0&&(n=!1);var r=wi(t),i=wi(t)&&hse(t),s=ma(t),o=fu(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ds(t)!=="body"||dw(s))&&(a=fse(t)),wi(t)?(l=fu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=uw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function gse(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function mse(e){var t=gse(e);return Cie.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function vse(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function yse(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var BI={placement:"bottom",modifiers:[],strategy:"absolute"};function DI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ase(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?BI:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},BI,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:vl(a)?Kd(a):a.contextElement?Kd(a.contextElement):[],popper:Kd(l)};var b=mse(yse([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var v=u.elements,y=v.reference,b=v.popper;if(DI(y,b)){u.rects={reference:pse(y,Ah(b),u.options.strategy==="fixed"),popper:aw(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(j){return u.modifiersData[j.name]=Object.assign({},j.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var x=u.orderedModifiers[S],w=x.fn,E=x.options,I=E===void 0?{}:E,L=x.name;typeof w=="function"&&(u=w({state:u,options:I,name:L,instance:p})||u)}}}},update:vse(function(){return new Promise(function(A){p.forceUpdate(),A(u)})}),destroy:function(){m(),h=!0}};if(!DI(a,l))return p;p.setOptions(c).then(function(A){!h&&c.onFirstUpdate&&c.onFirstUpdate(A)});function g(){u.orderedModifiers.forEach(function(A){var v=A.name,y=A.options,b=y===void 0?{}:y,S=A.effect;if(typeof S=="function"){var x=S({state:u,name:v,instance:p,options:b}),w=function(){};d.push(x||w)}})}function m(){d.forEach(function(A){return A()}),d=[]}return p}}var _se=[Uie,ase,Fie,Pie,sse,ese,use,Nie,nse],bse=Ase({defaultModifiers:_se});function xse(e){return typeof e=="function"?e():e}const Sse=_.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=_.useState(null),l=fo(_.isValidElement(r)?r.ref:null,n);if(nu(()=>{s||a(xse(i)||document.body)},[i,s]),nu(()=>{if(o&&!s)return Kg(n,o),()=>{Kg(n,null)}},[n,o,s]),s){if(_.isValidElement(r)){const c={ref:l};return _.cloneElement(r,c)}return f.jsx(_.Fragment,{children:r})}return f.jsx(_.Fragment,{children:o&&Tu.createPortal(r,o)})}),uL="base";function wse(e){return`${uL}--${e}`}function Ese(e,t){return`${uL}-${e}-${t}`}function dL(e,t){const n=xO[t];return n?wse(n):Ese(e,t)}function kse(e,t){const n={};return t.forEach(r=>{n[r]=dL(e,r)}),n}const fL="Popper";function Cse(e){return dL(fL,e)}kse(fL,["root"]);const Tse=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Ise=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Pse(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function L_(e){return typeof e=="function"?e():e}function Rse(e){return e.nodeType!==void 0}const Mse=()=>Il({root:["root"]},aie(Cse)),jse={},Ose=_.forwardRef(function(t,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:g={},TransitionProps:m}=t,A=Xt(t,Tse),v=_.useRef(null),y=fo(v,n),b=_.useRef(null),S=fo(b,h),x=_.useRef(S);nu(()=>{x.current=S},[S]),_.useImperativeHandle(h,()=>b.current,[]);const w=Pse(u,o),[E,I]=_.useState(w),[L,j]=_.useState(L_(i));_.useEffect(()=>{b.current&&b.current.forceUpdate()}),_.useEffect(()=>{i&&j(L_(i))},[i]),nu(()=>{if(!L||!c)return;const P=O=>{I(O.placement)};let T=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:O})=>{P(O)}}];l!=null&&(T=T.concat(l)),d&&d.modifiers!=null&&(T=T.concat(d.modifiers));const F=bse(L,v.current,oe({placement:w},d,{modifiers:T}));return x.current(F),()=>{F.destroy(),x.current(null)}},[L,a,l,c,d,w]);const $={placement:E};m!==null&&($.TransitionProps=m);const Q=Mse(),M=(r=g.root)!=null?r:"div",z=fie({elementType:M,externalSlotProps:p.root,externalForwardedProps:A,additionalProps:{role:"tooltip",ref:y},ownerState:t,className:Q.root});return f.jsx(M,oe({},z,{children:typeof s=="function"?s($):s}))}),Vse=_.forwardRef(function(t,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=jse,popperRef:p,style:g,transition:m=!1,slotProps:A={},slots:v={}}=t,y=Xt(t,Ise),[b,S]=_.useState(!0),x=()=>{S(!1)},w=()=>{S(!0)};if(!l&&!u&&(!m||b))return null;let E;if(s)E=s;else if(r){const j=L_(r);E=j&&Rse(j)?Wg(j).body:Wg(null).body}const I=!u&&l&&(!m||b)?"none":void 0,L=m?{in:u,onEnter:x,onExited:w}:void 0;return f.jsx(Sse,{disablePortal:a,container:E,children:f.jsx(Ose,oe({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:m?!b:u,placement:d,popperOptions:h,popperRef:p,slotProps:A,slots:v},y,{style:oe({position:"fixed",top:0,left:0,display:I},g),TransitionProps:L,children:i}))})});var fw={};Object.defineProperty(fw,"__esModule",{value:!0});var hL=fw.default=void 0,Lse=$se(_),Nse=zO;function pL(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(pL=function(r){return r?n:t})(e)}function $se(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=pL(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Bse(e){return Object.keys(e).length===0}function Dse(e=null){const t=Lse.useContext(Nse.ThemeContext);return!t||Bse(t)?e:t}hL=fw.default=Dse;function Fse(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function zse(e){return parseFloat(e)}const Use=["theme"];function Hse(e){let{theme:t}=e,n=Xt(e,Use);const r=t[Af];return f.jsx(Ore,oe({},n,{themeId:r?Af:void 0,theme:r||t}))}const Gse=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],qse=ii(Vse,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Wse=_.forwardRef(function(t,n){var r;const i=hL(),s=fa({props:t,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:g,placement:m,popperOptions:A,popperRef:v,transition:y,slots:b,slotProps:S}=s,x=Xt(s,Gse),w=(r=b==null?void 0:b.root)!=null?r:l==null?void 0:l.Root,E=oe({anchorEl:o,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:g,placement:m,popperOptions:A,popperRef:v,transition:y},x);return f.jsx(qse,oe({as:a,direction:i==null?void 0:i.direction,slots:{root:w},slotProps:S??c},E,{ref:n}))}),gL=Wse;function Kse(e){return Pl("MuiTooltip",e)}const Yse=Rl("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),qo=Yse,Qse=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Jse(e){return Math.round(e*1e5)/1e5}const Xse=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:s}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Cn(s.split("-")[0])}`],arrow:["arrow"]};return Il(o,Kse,t)},Zse=ii(gL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>oe({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${qo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${qo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${qo.arrow}`]:oe({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${qo.arrow}`]:oe({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),eoe=ii("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Cn(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>oe({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Qg(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Jse(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${qo.popper}[data-popper-placement*="left"] &`]:oe({transformOrigin:"right center"},t.isRtl?oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):oe({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${qo.popper}[data-popper-placement*="right"] &`]:oe({transformOrigin:"left center"},t.isRtl?oe({marginRight:"14px"},t.touch&&{marginRight:"24px"}):oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${qo.popper}[data-popper-placement*="top"] &`]:oe({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${qo.popper}[data-popper-placement*="bottom"] &`]:oe({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),toe=ii("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Qg(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let bp=!1;const FI=new ch;let td={x:0,y:0};function xp(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const noe=_.forwardRef(function(t,n){var r,i,s,o,a,l,c,u,d,h,p,g,m,A,v,y,b,S,x;const w=fa({props:t,name:"MuiTooltip"}),{arrow:E=!1,children:I,components:L={},componentsProps:j={},describeChild:$=!1,disableFocusListener:Q=!1,disableHoverListener:M=!1,disableInteractive:z=!1,disableTouchListener:P=!1,enterDelay:T=100,enterNextDelay:F=0,enterTouchDelay:O=700,followCursor:N=!1,id:B,leaveDelay:G=0,leaveTouchDelay:U=1500,onClose:ne,onOpen:V,open:le,placement:Z="bottom",PopperComponent:he,PopperProps:Se={},slotProps:we={},slots:pe={},title:Ae,TransitionComponent:Ge=RI,TransitionProps:Ve}=w,Ie=Xt(w,Qse),_e=_.isValidElement(I)?I:f.jsx("span",{children:I}),Ue=Z4(),qe=jre(),[He,rt]=_.useState(),[it,$t]=_.useState(null),At=_.useRef(!1),qt=z||N,st=ac(),_t=ac(),wt=ac(),Ke=ac(),[Bt,ye]=AO({controlled:le,default:!1,name:"Tooltip",state:"open"});let We=Bt;const Pn=yO(B),bt=_.useRef(),vn=Fa(()=>{bt.current!==void 0&&(document.body.style.WebkitUserSelect=bt.current,bt.current=void 0),Ke.clear()});_.useEffect(()=>vn,[vn]);const on=Ye=>{FI.clear(),bp=!0,ye(!0),V&&!We&&V(Ye)},an=Fa(Ye=>{FI.start(800+G,()=>{bp=!1}),ye(!1),ne&&We&&ne(Ye),st.start(Ue.transitions.duration.shortest,()=>{At.current=!1})}),Zt=Ye=>{At.current&&Ye.type!=="touchstart"||(He&&He.removeAttribute("title"),_t.clear(),wt.clear(),T||bp&&F?_t.start(bp?F:T,()=>{on(Ye)}):on(Ye))},ht=Ye=>{_t.clear(),wt.start(G,()=>{an(Ye)})},{isFocusVisibleRef:ur,onBlur:Li,onFocus:er,ref:Co}=Jx(),[,Ni]=_.useState(!1),Nr=Ye=>{Li(Ye),ur.current===!1&&(Ni(!1),ht(Ye))},$i=Ye=>{He||rt(Ye.currentTarget),er(Ye),ur.current===!0&&(Ni(!0),Zt(Ye))},Vl=Ye=>{At.current=!0;const dr=_e.props;dr.onTouchStart&&dr.onTouchStart(Ye)},Ll=Ye=>{Vl(Ye),wt.clear(),st.clear(),vn(),bt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ke.start(O,()=>{document.body.style.WebkitUserSelect=bt.current,Zt(Ye)})},Nl=Ye=>{_e.props.onTouchEnd&&_e.props.onTouchEnd(Ye),vn(),wt.start(U,()=>{an(Ye)})};_.useEffect(()=>{if(!We)return;function Ye(dr){(dr.key==="Escape"||dr.key==="Esc")&&an(dr)}return document.addEventListener("keydown",Ye),()=>{document.removeEventListener("keydown",Ye)}},[an,We]);const Aa=fo(_e.ref,Co,rt,n);!Ae&&Ae!==0&&(We=!1);const Mu=_.useRef(),wv=Ye=>{const dr=_e.props;dr.onMouseMove&&dr.onMouseMove(Ye),td={x:Ye.clientX,y:Ye.clientY},Mu.current&&Mu.current.update()},_a={},ju=typeof Ae=="string";$?(_a.title=!We&&ju&&!M?Ae:null,_a["aria-describedby"]=We?Pn:null):(_a["aria-label"]=ju?Ae:null,_a["aria-labelledby"]=We&&!ju?Pn:null);const $r=oe({},_a,Ie,_e.props,{className:xn(Ie.className,_e.props.className),onTouchStart:Vl,ref:Aa},N?{onMouseMove:wv}:{}),To={};P||($r.onTouchStart=Ll,$r.onTouchEnd=Nl),M||($r.onMouseOver=xp(Zt,$r.onMouseOver),$r.onMouseLeave=xp(ht,$r.onMouseLeave),qt||(To.onMouseOver=Zt,To.onMouseLeave=ht)),Q||($r.onFocus=xp($i,$r.onFocus),$r.onBlur=xp(Nr,$r.onBlur),qt||(To.onFocus=$i,To.onBlur=Nr));const Ev=_.useMemo(()=>{var Ye;let dr=[{name:"arrow",enabled:!!it,options:{element:it,padding:4}}];return(Ye=Se.popperOptions)!=null&&Ye.modifiers&&(dr=dr.concat(Se.popperOptions.modifiers)),oe({},Se.popperOptions,{modifiers:dr})},[it,Se]),ba=oe({},w,{isRtl:qe,arrow:E,disableInteractive:qt,placement:Z,PopperComponentProp:he,touch:At.current}),Ou=Xse(ba),kh=(r=(i=pe.popper)!=null?i:L.Popper)!=null?r:Zse,Ch=(s=(o=(a=pe.transition)!=null?a:L.Transition)!=null?o:Ge)!=null?s:RI,Th=(l=(c=pe.tooltip)!=null?c:L.Tooltip)!=null?l:eoe,Ih=(u=(d=pe.arrow)!=null?d:L.Arrow)!=null?u:toe,kv=_d(kh,oe({},Se,(h=we.popper)!=null?h:j.popper,{className:xn(Ou.popper,Se==null?void 0:Se.className,(p=(g=we.popper)!=null?g:j.popper)==null?void 0:p.className)}),ba),Cv=_d(Ch,oe({},Ve,(m=we.transition)!=null?m:j.transition),ba),Tv=_d(Th,oe({},(A=we.tooltip)!=null?A:j.tooltip,{className:xn(Ou.tooltip,(v=(y=we.tooltip)!=null?y:j.tooltip)==null?void 0:v.className)}),ba),Iv=_d(Ih,oe({},(b=we.arrow)!=null?b:j.arrow,{className:xn(Ou.arrow,(S=(x=we.arrow)!=null?x:j.arrow)==null?void 0:S.className)}),ba);return f.jsxs(_.Fragment,{children:[_.cloneElement(_e,$r),f.jsx(kh,oe({as:he??gL,placement:Z,anchorEl:N?{getBoundingClientRect:()=>({top:td.y,left:td.x,right:td.x,bottom:td.y,width:0,height:0})}:He,popperRef:Mu,open:He?We:!1,id:Pn,transition:!0},To,kv,{popperOptions:Ev,children:({TransitionProps:Ye})=>f.jsx(Ch,oe({timeout:Ue.transitions.duration.shorter},Ye,Cv,{children:f.jsxs(Th,oe({},Tv,{children:[Ae,E?f.jsx(Ih,oe({},Iv,{ref:$t})):null]}))}))}))]})}),roe=noe,ioe=({className:e,...t})=>f.jsx(roe,{arrow:!0,...t,classes:{tooltip:e}}),pu=C(ioe,{target:"e21jg9v2"})("background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Ne,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",fe.colors.text.active,";}"),zI=e=>`tooltip_dismissed_${e}`,soe=({dismissKey:e,timeoutMs:t,oneTime:n=!0,...r})=>{const[i,s]=_.useState(!Oe.local.getItem(zI(e))),o=_.useCallback(()=>{Oe.local.setItem(zI(e),!0),s(void 0)},[e]);_.useEffect(()=>{if(t){const l=setTimeout(o,t);return()=>clearTimeout(l)}},[t,o]);const a=(i===void 0||!i&&!n)&&r.open===void 0;return f.jsx(pu,{open:a?r.open:i,...r,title:f.jsxs(f.Fragment,{children:[r.title,i&&f.jsx(ooe,{children:f.jsx(aoe,{"data-test":"close-tooltip-button",onClick:o,children:"Close"})})]})},a?"uncontrolled":"controlled")},ooe=C("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),aoe=C("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",fe.colors.text.active,";border-color:",fe.colors.text.active,";}&:active{color:white;background:",fe.colors.text.active,";border-color:none;}");var hw={},loe=Xe;Object.defineProperty(hw,"__esModule",{value:!0});var mL=hw.default=void 0,coe=loe(nt()),uoe=f;mL=hw.default=(0,coe.default)((0,uoe.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var pw={},doe=Xe;Object.defineProperty(pw,"__esModule",{value:!0});var vL=pw.default=void 0,foe=doe(nt()),hoe=f;vL=pw.default=(0,foe.default)((0,hoe.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function poe(){const[,e]=$e(qb),[t]=$e(Zn),[n,r]=_.useState(document.fullscreenElement!==null);return _.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(pu,{title:"Toggle fullscreen",children:f.jsx(iw,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(vL,{}):f.jsx(mL,{})})})}const yL=e=>Vt("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;",Ne,";pointer-events:auto;",e&&gw,";box-sizing:border-box;transition:300ms;",""),AL=Vt(":hover{",uo,";}:active{background:",fe.colors.text.active,";}",""),Yi=C("a",{target:"eo7q3x1"})(e=>yL(e.focused),";&&{color:white;text-decoration:none;}",e=>!e.disabled&&AL,";"),us=C("button",{target:"eo7q3x0"})(e=>yL(e.focused),";:not(:disabled){",AL,";}"),goe=Ns()?Vt("",""):{name:"syxqyq",styles:"@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both"},gw=Vt("transform:scale(1.05);background:",fe.colors.text.active,";",goe,";","");var moe={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"};const Te=C(us,{target:"e1llc1k61"})("margin:0.5rem 0;height:",e=>e.size==="small"?"5rem":"10rem",";border:0 solid black;",e=>e.disabled&&moe,";"),ds=C("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function Iu({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(yoe,{onClick:t}),f.jsx(voe,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const voe=C("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),yoe=C("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Aoe=0;function Pu(e,t){const n=_.useRef(`${String(Math.random())}-${Aoe++}`),{setKeyboard:r,unsetKeyboard:i}=_.useContext(qx),s=a=>{r(n.current,a)},o=()=>i(n.current);return _.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function Vn(e={},t=!1){var S;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=_.useState(null),c=_.useRef([]),u=_.useRef([]),d=_.useRef({}),h=(S=d.current[a])==null?void 0:S.label,p=_.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);Pu(p,n);const g=()=>{var x;(x=d.current[a])==null||x.callback(),Cx.play()},m=()=>{r&&(Tx.play(),r())},A=x=>{const w=a?c.current.indexOf(a):0;E0.play(),l(c.current.at((w+x)%c.current.length)??null)};Tl({[s==="vertical"?"up":"left"]:()=>A(-1),[s==="vertical"?"down":"right"]:()=>A(1),accept:g,back:m},n,[a,c.current]);let v="";const y=(x,w,E,I=!1,{propName:L="onClick",disabled:j=!1}={})=>{if(j)return{disabled:j,focused:!1};u.current.push(x),w&&(d.current[x]={callback:w,label:E,propName:L}),I&&(v=x);const $=n&&a===x;return{focused:$,[L]:w,keyboardNavigationChangeFocus:A,"data-test":x,...n?{"data-focused":$}:{}}};return _.useEffect(()=>{var x;(x=document.querySelector(`[data-test="${a}"]`))==null||x.scrollIntoView({behavior:"smooth",block:"center"})},[a]),_.useEffect(()=>{let x=u.current.filter(w=>!c.current.includes(w));t&&x.length&&console.log("new elements",x),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||x.includes(v))&&l(v||c.current[0])}),{focusElement:x=>{c.current.includes(x)&&l(x)},focused:a,register:y}}var _oe=Object.defineProperty,Em=Object.getOwnPropertySymbols,_L=Object.prototype.hasOwnProperty,bL=Object.prototype.propertyIsEnumerable,UI=(e,t,n)=>t in e?_oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Df=(e,t)=>{for(var n in t||(t={}))_L.call(t,n)&&UI(e,n,t[n]);if(Em)for(var n of Em(t))bL.call(t,n)&&UI(e,n,t[n]);return e},mw=(e,t)=>{var n={};for(var r in e)_L.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Em)for(var r of Em(e))t.indexOf(r)<0&&bL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var yl;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const A=this.getPenaltyScore();A<g&&(d=m,g=A),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const b=t.getNumDataCodewords(g,c)*8,S=a.getTotalBits(l,g);if(S<=b){m=S;break}if(g>=d)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,b)*8&&(c=b);let A=[];for(const b of l){r(b.mode.modeBits,4,A),r(b.numChars,b.mode.numCharCountBits(g),A);for(const S of b.getData())A.push(S)}s(A.length==m);const v=t.getNumDataCodewords(g,c)*8;s(A.length<=v),r(0,Math.min(4,v-A.length),A),r(0,(8-A.length%8)%8,A),s(A.length%8==0);for(let b=236;A.length<v;b^=253)r(b,8,A);let y=[];for(;y.length*8<A.length;)y.push(0);return A.forEach((b,S)=>y[S>>>3]|=b<<7-(S&7)),new t(g,c,y,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let A=[];const v=t.reedSolomonComputeDivisor(h);for(let b=0,S=0;b<d;b++){let x=l.slice(S,S+m-h+(b<g?0:1));S+=x.length;const w=t.reedSolomonComputeRemainder(x,v);b<g&&x.push(0),A.push(x.concat(w))}let y=[];for(let b=0;b<A[0].length;b++)A.forEach((S,x)=>{(b!=m-h||x>=g)&&y.push(S[b])});return s(y.length==p),y}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[h][A]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][A],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[A][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(yl||(yl={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(yl||(yl={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(yl||(yl={}));var _c=yl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var xL={L:_c.QrCode.Ecc.LOW,M:_c.QrCode.Ecc.MEDIUM,Q:_c.QrCode.Ecc.QUARTILE,H:_c.QrCode.Ecc.HIGH},SL=128,wL="L",EL="#FFFFFF",kL="#000000",CL=!1,vw=4,boe=.1;function TL(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function IL(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function PL(e,t,n,r){if(r==null)return null;const i=n?vw:0,s=e.length+i*2,o=Math.floor(t*boe),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),A=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:A}}return{x:u,y:d,h:c,w:l,excavation:h}}var xoe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function RL(e){const t=e,{value:n,size:r=SL,level:i=wL,bgColor:s=EL,fgColor:o=kL,includeMargin:a=CL,style:l,imageSettings:c}=t,u=mw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=_.useRef(null),p=_.useRef(null),[g,m]=_.useState(!1);_.useEffect(()=>{if(h.current!=null){const y=h.current,b=y.getContext("2d");if(!b)return;let S=_c.QrCode.encodeText(n,xL[i]).getModules();const x=a?vw:0,w=S.length+x*2,E=PL(S,r,a,c),I=p.current,L=E!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;L&&E.excavation!=null&&(S=IL(S,E.excavation));const j=window.devicePixelRatio||1;y.height=y.width=r*j;const $=r/w*j;b.scale($,$),b.fillStyle=s,b.fillRect(0,0,w,w),b.fillStyle=o,xoe?b.fill(new Path2D(TL(S,x))):S.forEach(function(Q,M){Q.forEach(function(z,P){z&&b.fillRect(P+x,M+x,1,1)})}),L&&b.drawImage(I,E.x+x,E.y+x,E.w,E.h)}}),_.useEffect(()=>{m(!1)},[d]);const A=Df({height:r,width:r},l);let v=null;return d!=null&&(v=Pe.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Pe.createElement(Pe.Fragment,null,Pe.createElement("canvas",Df({style:A,height:r,width:r,ref:h},u)),v)}function ML(e){const t=e,{value:n,size:r=SL,level:i=wL,bgColor:s=EL,fgColor:o=kL,includeMargin:a=CL,imageSettings:l}=t,c=mw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=_c.QrCode.encodeText(n,xL[i]).getModules();const d=a?vw:0,h=u.length+d*2,p=PL(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=IL(u,p.excavation)),g=Pe.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=TL(u,d);return Pe.createElement("svg",Df({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Pe.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Pe.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var Soe=e=>{const t=e,{renderAs:n}=t,r=mw(t,["renderAs"]);return n==="svg"?Pe.createElement(ML,Df({},r)):Pe.createElement(RL,Df({},r))};const woe=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:RL,QRCodeSVG:ML,default:Soe},Symbol.toStringTag,{value:"Module"}));var jL={exports:{}},OL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=_;function Eoe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var koe=typeof Object.is=="function"?Object.is:Eoe,Coe=gu.useState,Toe=gu.useEffect,Ioe=gu.useLayoutEffect,Poe=gu.useDebugValue;function Roe(e,t){var n=t(),r=Coe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Ioe(function(){i.value=n,i.getSnapshot=t,Yy(i)&&s({inst:i})},[e,n,t]),Toe(function(){return Yy(i)&&s({inst:i}),e(function(){Yy(i)&&s({inst:i})})},[e]),Poe(n),n}function Yy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!koe(e,n)}catch{return!0}}function Moe(e,t){return t()}var joe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Moe:Roe;OL.useSyncExternalStore=gu.useSyncExternalStore!==void 0?gu.useSyncExternalStore:joe;jL.exports=OL;var Ooe=jL.exports;const{useEffect:Voe,useLayoutEffect:Loe,useRef:Noe,useInsertionEffect:$oe}=mg,Boe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Doe=Boe?Loe:Voe,VL=$oe||Doe,LL=e=>{const t=Noe([e,(...n)=>t[0](...n)]).current;return VL(()=>{t[0]=e}),t[1]},Foe=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",zoe=(e,t="")=>e[0]==="~"?e.slice(1):t+e,Uoe="popstate",yw="pushState",Aw="replaceState",Hoe="hashchange",HI=[Uoe,yw,Aw,Hoe],Goe=e=>{for(const t of HI)addEventListener(t,e);return()=>{for(const t of HI)removeEventListener(t,e)}},qoe=(e,t)=>Ooe.useSyncExternalStore(Goe,e,t),GI=()=>location.pathname,Woe=({ssrPath:e}={})=>qoe(GI,e?()=>e:GI),Koe=(e,{replace:t=!1}={})=>history[t?Aw:yw](null,"",e),Yoe=(e={})=>[Foe(e.base,Woe(e)),LL((t,n)=>Koe(zoe(t,e.base),n))];if(typeof history<"u")for(const e of[yw,Aw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Qoe(e=Xoe){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const qI=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Joe=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Xoe=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=qI(h)+Joe(c,u,d)}return s+=qI(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},N_={hook:Yoe,matcher:Qoe(),base:""},NL=_.createContext(N_),dv=()=>_.useContext(NL),fv=e=>e.hook(e),Zoe=()=>fv(dv()),$L=e=>{const t=dv(),[n]=fv(t);return t.matcher(e,n)},eae=_.createContext({params:{}}),tae=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||N_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=_.useState(()=>o({get base(){return(a.parent||N_).base+a.ownBase}}));return VL(()=>{o(a)}),_.createElement(NL.Provider,{value:a,children:s})},WI=(e,t)=>_.createElement(eae.Provider,{value:{params:e},children:t}),rr=({path:e,match:t,component:n,children:r})=>{const i=$L(e),[s,o]=t||i;return s?n?WI(o,_.createElement(n,{params:o})):WI(o,typeof r=="function"?r(o):r):null},_w=_.forwardRef((e,t)=>{const n=dv(),[,r]=fv(n),{to:i,href:s=i,children:o,onClick:a}=e,l=LL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=_.isValidElement(o)?o:_.createElement("a",e);return _.cloneElement(u,c)}),$_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===_.Fragment?$_(t.props.children):$_(t))):[e],nae=({children:e,location:t})=>{const n=dv(),r=n.matcher,[i]=fv(n);for(const s of $_(e)){let o=0;if(_.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return _.cloneElement(s,{match:o})}return null},{QRCodeSVG:rae}=woe;function KI({gameCode:e,...t}){return f.jsx(lae,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function bw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=$L("remote-mic"),n=I0("room")??Bg.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return _.useEffect(()=>{t||Bg.start()},[t]),f.jsxs(uae,{children:[f.jsx(dae,{children:f.jsx(rae,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(fae,{children:[f.jsxs(iae,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(KI,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(KI,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(sae,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(oae,{children:[f.jsx(cae,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(aae,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const iae=C("div",{target:"eg58fmd8"})({name:"82a6rk",styles:"flex:1"}),sae=C("div",{target:"eg58fmd7"})({name:"4dmv1c",styles:"flex:0"}),oae=C("div",{target:"eg58fmd6"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),aae=C("button",{target:"eg58fmd5"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",fe.colors.text.active,";",Ne,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),lae=C("strong",{target:"eg58fmd4"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",uo,";"),cae=C("input",{target:"eg58fmd3"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),uae=C("div",{target:"eg58fmd2"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),dae=C("div",{target:"eg58fmd1"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),fae=C("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Ne,";color:",fe.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function hae({closeModal:e}){const{register:t}=Vn({onBackspace:e});return f.jsx(Iu,{onClose:e,children:f.jsxs(ds,{children:[f.jsx(bw,{}),f.jsx(us,{...t("quick-connect-close",e),children:"Close"})]})})}function pae(){const[e,t]=_.useState(!1);$e(Zn);const[n,r]=$e(yj),{hasContent:i}=_.useContext(qx),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(hae,{closeModal:s}),f.jsxs(gae,{children:[i&&f.jsx(pu,{title:"Toggle help",children:f.jsx(mae,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(HO,{}):f.jsx(GO,{})})}),f.jsx(poe,{}),f.jsx(pu,{title:"Connect phone",children:f.jsx(iw,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(_f,{})})})]})]})}const gae=C("div",{target:"efkmcew1"})({name:"18h6jmh",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding:0.2rem;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.5rem;height:3.5rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),mae=C(iw,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function ko({children:e,toolbar:t=!0}){return f.jsxs(zJ,{children:[t&&f.jsx(pae,{}),e]})}var xw={},vae=Xe;Object.defineProperty(xw,"__esModule",{value:!0});var BL=xw.default=void 0,yae=vae(nt()),Aae=f;BL=xw.default=(0,yae.default)((0,Aae.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var Sw={},_ae=Xe;Object.defineProperty(Sw,"__esModule",{value:!0});var DL=Sw.default=void 0,bae=_ae(nt()),xae=f;DL=Sw.default=(0,bae.default)((0,xae.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const ww=({...e})=>f.jsx(Xg,{viewBox:"0 0 512 512",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),FL=C(ww,{target:"e1uhpuaa1"})("fill:",fe.colors.players[1].text,";"),B_=C(ww,{target:"e1uhpuaa0"})("fill:",fe.colors.players[0].text,";");function Sae({active:e,setActiveTab:t}){return f.jsxs(wae,{children:[f.jsxs(Qy,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(Jy,{children:f.jsx(ww,{})}),f.jsx(Xy,{children:"Microphone"})]}),f.jsxs(Qy,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(Jy,{children:f.jsx(BL,{})}),f.jsx(Xy,{children:"Song list"})]}),f.jsxs(Qy,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(Jy,{children:f.jsx(DL,{})}),f.jsx(Xy,{children:"Settings"})]})]})}const wae=C("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),Qy=C("div",{target:"e1c2ys9k2"})("flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?fe.colors.text.active:"#cecece",";"),Jy=C("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),Xy=C("div",{target:"e1c2ys9k0"})("");var Ew={},Eae=Xe;Object.defineProperty(Ew,"__esModule",{value:!0});var Ol=Ew.default=void 0,kae=Eae(nt()),Cae=f;Ol=Ew.default=(0,kae.default)((0,Cae.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const kw=()=>{const[e,t]=_.useState(Jo.getStatus());return _.useEffect(()=>Jo.addListener(t),[]),e};function zL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Tae="/assets/allow-mic-DleF1-pf.png",Iae="/assets/enable-mic-opera-B5FfRj_P.png",Pae="/assets/enable-mic-TGG47ucR.png",Rae=()=>zL()?Iae:Pae,_h=({children:e,fallback:t,showImages:n=!0})=>{const r=kw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(jae,{children:f.jsx(Oae,{})}),t,f.jsxs(Mae,{children:[r==="requested"&&n&&f.jsx("img",{src:Tae,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:Rae(),alt:"how-to-enable"})]}),zL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Mae=C("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),jae=C("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Oae=C(Ol,{target:"e1w9vi9z0"})("color:",fe.colors.text.active,";font-size:3rem;");function Vae(){return!1}var Cw={},Lae=Xe;Object.defineProperty(Cw,"__esModule",{value:!0});var Yd=Cw.default=void 0,Nae=Lae(nt()),$ae=f;Yd=Cw.default=(0,Nae.default)((0,$ae.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function bh(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Bae(e,t,n=1){return bh(e,e.indexOf(t),n)}function Za(e,t,n=1){return e[Bae(e,t,n)]}const Gr=({focused:e,disabled:t,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs(Dae,{children:[f.jsxs(Fae,{focused:e,onClick:i,disabled:t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(zae,{children:r}),o??null]}),s&&f.jsx(UL,{children:s})]}),Dae=C("div",{target:"e84wjn53"})(""),UL=C("div",{target:"e84wjn52"})(Ne,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Fae=C("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Ne,";text-align:right;font-size:",({expanded:e})=>e?"6rem":"2.7rem",";cursor:",({disabled:e})=>e?"default":"pointer",";padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;",e=>!e.disabled&&Ux,";"),zae=C("span",{target:"e84wjn50"})("color:",fe.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),Ru=_.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=_.useRef(null);return _.useImperativeHandle(c,()=>u.current),gr(M1,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(Hae,{focused:e,className:s,children:[f.jsx(Gae,{children:t}),f.jsx(qae,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(Uae,{children:o})]}),a&&f.jsx(UL,{children:a})]})}),Uae=C("span",{target:"et2ce2n3"})(""),Hae=C("div",{target:"et2ce2n2"})("background:black;caret:underscore;",Ux,";",Ne,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;"),Gae=C("span",{target:"et2ce2n1"})({name:"199i11i",styles:"padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),qae=C("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Ne,";color:",fe.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function Wae(e){return Pl("MuiCircularProgress",e)}Rl("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Kae=["className","color","disableShrink","size","style","thickness","value","variant"];let hv=e=>e,YI,QI,JI,XI;const Ro=44,Yae=Ao(YI||(YI=hv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Qae=Ao(QI||(QI=hv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Jae=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Cn(r)}`],svg:["svg"],circle:["circle",`circle${Cn(n)}`,i&&"circleDisableShrink"]};return Il(s,Wae,t)},Xae=ii("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Cn(n.color)}`]]}})(({ownerState:e,theme:t})=>oe({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Vt(JI||(JI=hv`
      animation: ${0} 1.4s linear infinite;
    `),Yae)),Zae=ii("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),ele=ii("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Cn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>oe({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Vt(XI||(XI=hv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Qae)),tle=_.forwardRef(function(t,n){const r=fa({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=Xt(r,Kae),p=oe({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=Jae(p),m={},A={},v={};if(d==="determinate"){const y=2*Math.PI*((Ro-c)/2);m.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,A.transform="rotate(-90deg)"}return f.jsx(Xae,oe({className:xn(g.root,i),style:oe({width:a,height:a},A,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(Zae,{className:g.svg,ownerState:p,viewBox:`${Ro/2} ${Ro/2} ${Ro} ${Ro}`,children:f.jsx(ele,{className:g.circle,style:m,ownerState:p,cx:Ro,cy:Ro,r:(Ro-c)/2,fill:"none",strokeWidth:c})})}))}),nle=tle;function xh(e){return f.jsx(nle,{...e})}function Ff(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const km=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function Lr(){const[,e]=Zoe();return(t,n,{smooth:r=!0,...i}={})=>{r?Ff(()=>e(km(t,n),i)):e(km(t,n),i)}}var Tw={},rle=Xe;Object.defineProperty(Tw,"__esModule",{value:!0});var Iw=Tw.default=void 0,ile=rle(nt()),sle=f;Iw=Tw.default=(0,ile.default)((0,sle.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var Pw={},ole=Xe;Object.defineProperty(Pw,"__esModule",{value:!0});var Rw=Pw.default=void 0,ale=ole(nt()),lle=f;Rw=Pw.default=(0,ale.default)((0,lle.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const ZI="confirmed-wifi";function cle({onClose:e}){const[t,n]=Pe.useState(Oe.session.getItem(ZI)??!1),r=()=>{Oe.session.setItem(ZI,!0),n(!0),e==null||e()};return _.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(Iu,{onClose:r,children:f.jsxs(ule,{children:[f.jsxs(dle,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(fle,{children:[f.jsx(Rw,{}),"...",f.jsx(Yd,{}),"...",f.jsx(Iw,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Te,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const ule=C(ds,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),dle=C("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),fle=C("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",fe.colors.text.default,";transform:scale(1);}25%{color:",fe.colors.text.active,";transform:scale(1.1);}50%{color:",fe.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function hle(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=_.useRef(),s=r.capture,o=r.passive,a=r.once;_.useEffect(function(){i.current=t},[t]),_.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var Ca={},ple=function(e,t,n){return Ca[e]||(Ca[e]={callbacks:[],value:n}),Ca[e].callbacks.push(t),{deregister:function(){var r=Ca[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ca[e].value!==r&&(Ca[e].value=r,Ca[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Mw(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=_.useRef(null),u=_.useState(function(){return a(s,i)}),d=u[0],h=u[1];hle("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),_.useEffect(function(){return c.current=ple(s,h,i),function(){c.current.deregister()}},[i,s]);var p=_.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return _.useState}const gle=Mw("remote_mic_name");function mle({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=gle(""),[a,l]=_.useState(!1),c=_.useRef(null),u=_.useRef(null),[d,h]=_.useState(""),p=Lr(),g=n!=="uninitialised"&&n!=="error";_.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(S=!1)=>{pn.connect(t??d,s,S),r(S)},A=S=>{var x,w;S.preventDefault(),l(!1),!t&&d.length!==Kp?(x=c.current)==null||x.focus():s===""?(w=u.current??c.current)==null||w.focus():m()};_.useEffect(()=>{var S;kn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(S=c.current)==null||S.focus()},[]),_.useEffect(()=>{Oe.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Oe.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,y]=_.useState(!1);_.useEffect(()=>{if(y(!1),n==="connecting"||n==="reconnecting"){const S=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(S)}},[n]);const b=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[f.jsx(cle,{onClose:()=>{var S;(S=c.current)==null||S.focus()}}),f.jsxs(vle,{onSubmit:A,children:[!t&&f.jsx(Ale,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Kp,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:S=>{S.preventDefault();let x=(S.clipboardData||global.clipboardData).getData("text");x=x.replace(/\s/g,""),h(x.slice(0,Kp))}}),f.jsx(Ru,{maxLength:gx,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(yle,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(xh,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||b)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),b&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Ol,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(_f,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Yd,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access "}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Yd,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Yd,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(_f,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const vle=C("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),yle=C(Te,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),Ale=C(Ru,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var jw={},_le=Xe;Object.defineProperty(jw,"__esModule",{value:!0});var HL=jw.default=void 0,ble=_le(nt()),xle=f;HL=jw.default=(0,ble.default)((0,xle.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var Ow={},Sle=Xe;Object.defineProperty(Ow,"__esModule",{value:!0});var GL=Ow.default=void 0,wle=Sle(nt()),Ele=f;GL=Ow.default=(0,wle.default)((0,Ele.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var Vw={},kle=Xe;Object.defineProperty(Vw,"__esModule",{value:!0});var qL=Vw.default=void 0,Cle=kle(nt()),Tle=f;qL=Vw.default=(0,Cle.default)((0,Tle.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var Lw={},Ile=Xe;Object.defineProperty(Lw,"__esModule",{value:!0});var WL=Lw.default=void 0,Ple=Ile(nt()),Rle=f;WL=Lw.default=(0,Ple.default)((0,Rle.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var Nw={},Mle=Xe;Object.defineProperty(Nw,"__esModule",{value:!0});var KL=Nw.default=void 0,jle=Mle(nt()),Ole=f;KL=Nw.default=(0,jle.default)((0,Ole.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var $w={},Vle=Xe;Object.defineProperty($w,"__esModule",{value:!0});var YL=$w.default=void 0,Lle=Vle(nt()),Nle=f;YL=$w.default=(0,Lle.default)((0,Nle.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Bw={},$le=Xe;Object.defineProperty(Bw,"__esModule",{value:!0});var QL=Bw.default=void 0,Ble=$le(nt()),Dle=f;QL=Bw.default=(0,Ble.default)((0,Dle.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var Dw={},Fle=Xe;Object.defineProperty(Dw,"__esModule",{value:!0});var JL=Dw.default=void 0,zle=Fle(nt()),Ule=f;JL=Dw.default=(0,zle.default)((0,Ule.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Fw={},Hle=Xe;Object.defineProperty(Fw,"__esModule",{value:!0});var zw=Fw.default=void 0,Gle=Hle(nt()),qle=f;zw=Fw.default=(0,Gle.default)((0,qle.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function Uw(e,t){const[n,r]=_.useState(e);return _.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Wle(){var e=_.useRef(!0);return e.current?(e.current=!1,!0):e.current}var Cm=function(){return Cm=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Cm.apply(this,arguments)};function Kle(){var e=_.useRef(!1),t=_.useCallback(function(){return e.current},[]);return _.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function Yle(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=_.useRef(0),i=Kle(),s=_.useState(n),o=s[0],a=s[1],l=_.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return Cm(Cm({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function eP(e,t){t===void 0&&(t=[]);var n=Yle(e,t,{loading:!0}),r=n[0],i=n[1];return _.useEffect(function(){i()},[i]),r}function Qle(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Jle(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Xle=typeof window<"u",Zle=function(e){return(e+1)%1e6};function XL(){var e=_.useReducer(Zle,0),t=e[1];return t}var ece=function(e){_.useEffect(e,[])},tce=Xle?window:null,tP=function(e){return!!e.addEventListener},nP=function(e){return!!e.on},nce=function(e,t,n,r){n===void 0&&(n=tce),_.useEffect(function(){if(t&&n)return tP(n)?Qle(n,e,t,r):nP(n)&&n.on(e,t,r),function(){tP(n)?Jle(n,e,t,r):nP(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},rce=function(e,t){var n=_.useRef(function(){});_.useEffect(function(){n.current=e}),_.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},ice=function(e){var t=_.useRef(e);t.current=e,ece(function(){return function(){return t.current()}})};function sce(e){var t=_.useRef();return _.useEffect(function(){t.current=e}),t.current}var oce=function(e,t){return e===t};function ace(e,t){t===void 0&&(t=oce);var n=_.useRef(),r=_.useRef(e),i=Wle();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function lce({onSearchStateChange:e}){const[t,n]=_.useState(""),r=_.useRef(null),i=Uw(t,100),s=sce(i);return _.useEffect(()=>{s!==i&&pn.searchSong(i.trim())},[s,i]),ice(()=>e==null?void 0:e(!1)),f.jsx(cce,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:gx,focused:!1,label:f.jsx(zw,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const cce=C(Ru,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function uce({onSearchStateChange:e}){var s;const[t]=Bs(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{pn.sendKeyStroke(o)};return t!==void 0?f.jsxs(dce,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(lce,{onSearchStateChange:e}),(n||r)&&f.jsxs(eA,{children:[f.jsx(Zy,{children:f.jsx(Zl,{onClick:i("up"),disabled:!r,"data-test":"arrow-up",children:f.jsx(QL,{})})}),f.jsxs(Zy,{children:[f.jsx(Zl,{onClick:i("left"),disabled:!n,"data-test":"arrow-left",children:f.jsx(KL,{})}),f.jsx(Zl,{disabled:!0,children:f.jsx(qL,{})}),f.jsx(Zl,{onClick:i("right"),disabled:!n,"data-test":"arrow-right",children:f.jsx(YL,{})})]}),f.jsx(Zy,{children:f.jsx(Zl,{onClick:i("down"),disabled:!r,"data-test":"arrow-down",children:f.jsx(WL,{})})})]}),f.jsxs(eA,{children:[f.jsx(tA,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(HL,{})," Back"]})}),f.jsx(tA,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(GL,{})]})})]}),f.jsx(fce,{}),f.jsx(eA,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(tA,{onClick:i("random"),children:[f.jsx(JL,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const dce=C("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),Zy=C("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),eA=C("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),fce=C("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),hce=C("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";");var pce={name:"104le9u",styles:"cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}"};const Zl=C(hce,{target:"epl0eil1"})("display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;",e=>e.disabled?"":pce," color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;"),tA=C(Zl,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var Hw={},gce=Xe;Object.defineProperty(Hw,"__esModule",{value:!0});var pv=Hw.default=void 0,mce=gce(nt()),vce=f;pv=Hw.default=(0,mce.default)((0,vce.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function ZL({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Bs(te.remoteStyleChanged,!0)??["regular"],s=a=>{pn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(Iu,{onClose:n,children:f.jsxs(yce,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Te,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:fe.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Te,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:fe.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Te,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:fe.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Te,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:fe.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Te,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Te,{onClick:n,size:"small",children:"Close"})]})})}const yce=C(ds,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function eN({number:e,...t}){const[n]=Bs(te.remoteStyleChanged,!0)??["regular"],r=XL();return _.useEffect(()=>{r()},[n]),f.jsx(Ace,{style:{background:e!==null?fe.colors.players[e].perfect.fill:fe.colors.text.inactive},...t})}const Ace=C("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),_ce=_.memo(function({playerNumber:t}){const[n,r]=_.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(bce,{onClick:()=>r(!0),"data-test":"change-player",joined:s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(eN,{number:t})," Change"]}):"Join game"," ",f.jsx(pv,{})]}),n&&f.jsx(ZL,{id:pn.getClientId(),playerNumber:t,onModalClose:i})]})}),bce=C("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Ne,";background:rgba(0, 0, 0, 0.75);",e=>!e.joined&&Vt("font-size:3rem;padding:3rem;",uo,";","")," :hover{",uo,";}:active{",gw,";}svg{width:2rem;height:2rem;}");function Gw(){const[e]=Bs(te.remoteMicPermissionsSet,!0)??["write"];return e}function xce({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=_.useState(1e-6),a=Gw();_.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?fe.colors.players[e].miss.stroke:fe.colors.lines.normal.fill,c=e!==null?fe.colors.players[e].perfect.fill:fe.colors.lines.normal.fill;return f.jsxs(Ece,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Sce,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(_ce,{playerNumber:e}),f.jsx(wce,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Sce=C("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),wce=C("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Ece=C("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function rP({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=_.useState(0),[s,o]=_.useState(0),[a]=Bs(te.remoteMicPlayerSet,!0)??[null],l=_.useCallback(Rc((c,u)=>{o(c),i(u)},150),[i,o]);return _.useEffect(()=>(Hi.startMonitoring(void 0),Hi.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(xce,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function kce({}){const[e,t]=_.useState(0);return _.useEffect(()=>{const n=setInterval(()=>{const r=Tc();pn.pinging&&r-pn.pingStart>e?t(r-pn.pingStart):t(pn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Cce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=Gw(),[l,c]=_.useState(!1),[u]=$e(qb),d=async()=>{var g,m;i(!0);try{!Vae()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(A){console.warn(A)}},h=o==="connected",p=f.jsx(rP,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(Tce,{children:f.jsxs(_h,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(iP,{collapse:l,children:[f.jsx(rP,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(mle,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs(iP,{children:[a==="write"&&f.jsx(uce,{onSearchStateChange:c}),a==="read"&&f.jsxs(Ice,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu "," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(sP,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(tN,{onClick:()=>t?Hi.stopMonitoring():Hi.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(sP,{children:["Ping: ",f.jsx(kce,{})]})]})]})})}const Tce=C("div",{target:"eakh27i4"})("font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}",Te,"{padding:0.5em;height:72px;margin-bottom:1em;display:flex;align-items:center;justify-content:center;gap:0.5em;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"),iP=C("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),tN=C("div",{target:"eakh27i2"})(Ne," strong{color:",fe.colors.text.active,";}align-self:flex-end;"),sP=C(tN,{target:"eakh27i1"})(""),Ice=C("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Pce({onConfirm:e}){const[t,n]=_.useState(!1),[r,i]=_.useState(!1);_.useEffect(()=>{Oe.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Xr(te.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Xr(te.remoteReadinessRequested,()=>{n(!0)});const s=()=>{pn.confirmReadiness(),n(!1),e()};return t?f.jsx(Rce,{children:f.jsx(ds,{children:f.jsx(Mce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Rce=C("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Mce=C(Te,{target:"eusdifu0"})("aspect-ratio:1;",uo,";");function nN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(Oce,{...s,children:[f.jsx(oP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(jce,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(oP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const oP=C("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",Ne,";:disabled{opacity:0.5;}"),jce=C("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Oce=C("div",{target:"e1tear4c0"})(Ne,";display:flex;align-items:center;justify-self:center;background:black;");function Vce({}){const[e,t]=_.useState(0),[n,r]=_.useState(!1);_.useEffect(()=>{r(!0),pn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),pn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(nN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Lce(e){_.useEffect(()=>(pn.subscribe("remote-mics"),()=>{pn.unsubscribe("remote-mics")}),[]);const[t]=Bs(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(Nce,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const Nce=({mic:e})=>{var r;const[t,n]=_.useState(!1);return Je.getPermission(e.id),f.jsxs($ce,{"data-test":"manage-players",children:[t&&f.jsx(ZL,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(Bce,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(eN,{number:e.number}),f.jsx(Fce,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(Dce,{className:"ph-no-capture",isSelf:e.id===pn.getClientId(),children:e.name})]})]})},$ce=C("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Bce=C(Te,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),Dce=C("div",{target:"e1sg8znb1"})(e=>e.isSelf&&`color: ${fe.colors.text.active};`," text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),Fce=C("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function aP(){const[e,t]=$e(Aj),[n,r]=_.useState(!1);_.useEffect(()=>{r(!0),pn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),pn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;pn.disconnect(),Oe.local.removeItem("remote_mic_name"),Oe.local.removeItem(k1),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(nN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function zce(){var r;const e=Gw(),[t,n]=_.useState(e==="write"?null:"microphone");return f.jsxs(Uce,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=pn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Te,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(aP,{}),t!==null&&e==="write"&&f.jsx(Iu,{onClose:()=>n(null),children:f.jsxs(ds,{children:[f.jsx(Hce,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(aP,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Lce,{}),f.jsx(Vce,{})]}),f.jsx("hr",{}),f.jsx(Te,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const Uce=C("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),Hce=C("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var Gce="__lodash_hash_undefined__";function qce(e){return this.__data__.set(e,Gce),this}function Wce(e){return this.__data__.has(e)}function zf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new xo;++t<n;)this.add(e[t])}zf.prototype.add=zf.prototype.push=qce;zf.prototype.has=Wce;function Kce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function rN(e,t){return e.has(t)}var Yce=1,Qce=2;function iN(e,t,n,r,i,s){var o=n&Yce,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&Qce?new zf:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var A=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(A!==void 0){if(A)continue;h=!1;break}if(p){if(!Kce(t,function(v,y){if(!rN(p,y)&&(g===v||i(g,v,n,r,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function Jce(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function qw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Xce=1,Zce=2,eue="[object Boolean]",tue="[object Date]",nue="[object Error]",rue="[object Map]",iue="[object Number]",sue="[object RegExp]",oue="[object Set]",aue="[object String]",lue="[object Symbol]",cue="[object ArrayBuffer]",uue="[object DataView]",lP=ki?ki.prototype:void 0,nA=lP?lP.valueOf:void 0;function due(e,t,n,r,i,s,o){switch(n){case uue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cue:return!(e.byteLength!=t.byteLength||!s(new qg(e),new qg(t)));case eue:case tue:case iue:return g0(+e,+t);case nue:return e.name==t.name&&e.message==t.message;case sue:case aue:return e==t+"";case rue:var a=Jce;case oue:var l=r&Xce;if(a||(a=qw),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=Zce,o.set(e,t);var u=iN(a(e),a(t),r,i,s,o);return o.delete(e),u;case lue:if(nA)return nA.call(e)==nA.call(t)}return!1}var fue=1,hue=Object.prototype,pue=hue.hasOwnProperty;function gue(e,t,n,r,i,s){var o=n&fue,a=C1(e),l=a.length,c=C1(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:pue.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var A=o;++d<l;){h=a[d];var v=e[h],y=t[h];if(r)var b=o?r(y,v,h,t,e,s):r(v,y,h,e,t,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}A||(A=h=="constructor")}if(m&&!A){var S=e.constructor,x=t.constructor;S!=x&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(m=!1)}return s.delete(e),s.delete(t),m}var mue=1,cP="[object Arguments]",uP="[object Array]",Sp="[object Object]",vue=Object.prototype,dP=vue.hasOwnProperty;function yue(e,t,n,r,i,s){var o=Ci(e),a=Ci(t),l=o?uP:mf(e),c=a?uP:mf(t);l=l==cP?Sp:l,c=c==cP?Sp:c;var u=l==Sp,d=c==Sp,h=l==c;if(h&&Gg(e)){if(!Gg(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Ms),o||$3(e)?iN(e,t,n,r,i,s):due(e,t,l,n,r,i,s);if(!(n&mue)){var p=u&&dP.call(e,"__wrapped__"),g=d&&dP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,A=g?t.value():t;return s||(s=new Ms),i(m,A,n,r,s)}}return h?(s||(s=new Ms),gue(e,t,n,r,i,s)):!1}function Ww(e,t,n,r,i){return e===t?!0:e==null||t==null||!ao(e)&&!ao(t)?e!==e&&t!==t:yue(e,t,n,r,Ww,i)}var Aue=1,_ue=2;function bue(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Ms;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?Ww(u,c,Aue|_ue,r,d):h))return!1}}return!0}function sN(e){return e===e&&!as(e)}function xue(e){for(var t=ah(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,sN(i)]}return t}function oN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Sue(e){var t=xue(e);return t.length==1&&t[0][2]?oN(t[0][0],t[0][1]):function(n){return n===e||bue(n,e,t)}}function wue(e,t,n){var r=e==null?void 0:Fx(e,t);return r===void 0?n:r}function Eue(e,t){return e!=null&&t in Object(e)}function kue(e,t,n){t=k0(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=lh(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&Sx(i)&&Ex(o,i)&&(Ci(e)||Rx(e)))}function Cue(e,t){return e!=null&&kue(e,t,Eue)}var Tue=1,Iue=2;function Pue(e,t){return Bx(e)&&sN(t)?oN(lh(e),t):function(n){var r=wue(n,e);return r===void 0&&r===t?Cue(n,e):Ww(t,r,Tue|Iue)}}function Rue(e){return function(t){return t==null?void 0:t[e]}}function Mue(e){return function(t){return Fx(t,e)}}function jue(e){return Bx(e)?Rue(lh(e)):Mue(e)}function Oue(e){return typeof e=="function"?e:e==null?Z3:typeof e=="object"?Ci(e)?Pue(e[0],e[1]):Sue(e):jue(e)}function Vue(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Lue(e){return e!==e}function Nue(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function $ue(e,t,n){return t===t?Nue(e,t,n):Vue(e,Lue,n)}function Bue(e,t){var n=e==null?0:e.length;return!!n&&$ue(e,t,0)>-1}function Due(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Fue(){}var zue=1/0,Uue=Mc&&1/qw(new Mc([,-0]))[1]==zue?function(e){return new Mc(e)}:Fue,Hue=200;function aN(e,t,n){var r=-1,i=Bue,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=Due;else if(s>=Hue){var c=t?null:Uue(e);if(c)return qw(c);o=!1,i=rN,l=new zf}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function Gue(e,t){return e&&e.length?aN(e,Oue(t)):[]}const que="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function Wue(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat"}}}const Kue=Wue();function lN(e){return Kue[e]}const Yue=Object.assign({"./Flag/flags/cat.svg":que}),Dc=e=>{var s;const[t,n]=_.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():lN(Array.isArray(e.language)?e.language[0]:e.language);if(_.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=Yue[`./Flag/flags/${r}.svg`];return f.jsx(Que,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},Que=C("img",{target:"e1k9lqhf0"})("");function Sh(e=!1){const[t,n]=_.useState($s.getCurrentIndex()),r=_.useRef([]),i=()=>$s.getIndex(e).then(n);return _.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}function Jue({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=Sh(),[l,c]=_.useState();_.useEffect(()=>{o==="connected"&&l===void 0&&pn.getSongList().then(c).catch(console.warn)},[l,o]);const u=_.useMemo(()=>Gue(a.data.map(d=>({...d,id:$s.generateSongFile(d)})).filter(d=>!((l==null?void 0:l.deleted)??[]).includes(d.id)).map(d=>({id:d.id,artist:d.artist,title:d.title,video:d.video,language:d.language})).concat(...((l==null?void 0:l.custom)??[]).map(d=>({...d,id:$s.generateSongFile(d)}))),d=>d.id),[a.data,l]);return f.jsx(Xue,{children:u.map(d=>f.jsxs(Zue,{"data-test":d.id,children:[f.jsx(ede,{children:f.jsx(Dc,{language:d.language})}),f.jsxs(tde,{children:[f.jsx(rde,{children:d.title}),f.jsx(nde,{children:d.artist})]})]},`${d.artist}-${d.title}`))})}const Xue=C("div",{target:"emsrjbt5"})({name:"zldrop",styles:"display:flex;flex-direction:column;padding-bottom:5rem"}),Zue=C("div",{target:"emsrjbt4"})({name:"z9lp05",styles:"background:rgba(0, 0, 0, 0.25);display:flex;align-items:center;gap:1rem;padding:1.5rem 1rem;border-bottom:1px solid black"}),ede=C("div",{target:"emsrjbt3"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),tde=C("div",{target:"emsrjbt2"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),nde=C("span",{target:"emsrjbt1"})("color:",fe.colors.text.default,";font-size:1.25rem;white-space:nowrap;overflow:hidden;font-weight:bold;text-overflow:ellipsis;"),rde=C("span",{target:"emsrjbt0"})("color:",fe.colors.text.active,";font-size:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),wp=new MJ;function ide(){const e=I0("room"),[t]=Bs(te.remoteStyleChanged,!0)??["regular"];_.useLayoutEffect(()=>{nj(t)},[t]),da(!0,t);const[n,r]=_.useState("microphone"),[i,s]=Bs(te.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=_.useState(!1);Xr(te.micMonitoringStarted,()=>a(!0)),Xr(te.micMonitoringStopped,()=>a(!1));const[l,c]=_.useState(!1),u=async h=>{try{h&&!wp.isEnabled?await wp.enable():!h&&wp.isEnabled&&await wp.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(ko,{children:[f.jsx(Pce,{onConfirm:d}),f.jsx(DJ,{size:10}),f.jsx(ode,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Cce,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(Jue,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(zce,{}),f.jsx(sde,{}),f.jsx(Sae,{setActiveTab:r,active:n})]})})]})}const sde=C("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),ode=C("div",{target:"e1ky75ep0"})({name:"1vonyqj",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;background:rgba(0, 0, 0, 0.5);@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"}),ade="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",lde="/assets/logo-1e2sNsQM.mp4",cde="/assets/logo-CDt7pIML.webm",ude="/assets/pride-CMcO3nTB.png";var IR;(IR=global.location)!=null&&IR.search.includes("pride")&&Oe.session.setItem("pride","true");function Kw(e){const[t]=$e(Zn);return t?null:f.jsxs(dde,{children:[Oe.session.getItem("pride")==="true"&&f.jsx(fde,{as:"img",src:ude,alt:"AllKaraoke Pride logo part 1"}),f.jsxs(cN,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:cde,type:"video/webm"}),f.jsx("source",{src:lde,type:"video/mp4"})]}),f.jsx(hde,{src:ade,alt:"AllKaraoke Pride logo part 2"})]})}const cN=C("video",{target:"e1roxo0y3"})({name:"ijjmcg",styles:"width:66rem;height:16.4rem"}),dde=C("div",{target:"e1roxo0y2"})({name:"v1a7wk",styles:"position:relative;height:16.4rem;view-transition-name:logo"}),fde=C(cN,{target:"e1roxo0y1"})({name:"a4hmbt",styles:"position:absolute"}),hde=C("img",{target:"e1roxo0y0"})({name:"o53wk6",styles:"position:absolute;width:13.7rem;height:5.1rem;bottom:-0.5rem;right:-1rem"});function Yw(){return"chrome"in window}function pde(){return f.jsx(f.Fragment,{children:!Yw()&&f.jsxs(gde,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const gde=C("div",{target:"e95w1v80"})("width:100%;",Ne,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",fe.colors.text.active,";}");function uN(){return f.jsx(f.Fragment,{children:f.jsx(mde,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const mde=C("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function va({children:e,supportedBrowsers:t}){return da(!0),f.jsxs(ko,{children:[f.jsx(uN,{}),f.jsxs(vde,{children:[f.jsx(Kw,{}),t&&f.jsx(pde,{}),f.jsx(ds,{children:e})]})]})}const vde=C("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});function ya(e){const[t]=$e(n0),[n]=$e(Gb),r=t==="christmas"?M3:n==="Classic"?R3:P3;_.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function yde(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var dN=_,Ade=yde(dN);function fP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var bde=!!(typeof window<"u"&&window.document&&window.document.createElement);function xde(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){_de(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return Ade.createElement(s,this.props)},d}(dN.PureComponent);return fP(c,"displayName","SideEffect("+r(s)+")"),fP(c,"canUseDOM",bde),c}}var Sde=xde;const wde=lr(Sde);var Ede=typeof Element<"u",kde=typeof Map=="function",Cde=typeof Set=="function",Tde=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function fg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!fg(e[r],t[r]))return!1;return!0}var s;if(kde&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!fg(r.value[1],t.get(r.value[0])))return!1;return!0}if(Cde&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Tde&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Ede&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!fg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Ide=function(t,n){try{return fg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Pde=lr(Ide);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var hP=Object.getOwnPropertySymbols,Rde=Object.prototype.hasOwnProperty,Mde=Object.prototype.propertyIsEnumerable;function jde(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Ode(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Vde=Ode()?Object.assign:function(e,t){for(var n,r=jde(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Rde.call(n,o)&&(r[o]=n[o]);if(hP){i=hP(n);for(var a=0;a<i.length;a++)Mde.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const Lde=lr(Vde);var el={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},De={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(De).map(function(e){return De[e]});var zt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Tm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Uf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Nde=Object.keys(Tm).reduce(function(e,t){return e[Tm[t]]=t,e},{}),$de=[De.NOSCRIPT,De.SCRIPT,De.STYLE],Zi="data-react-helmet",Bde=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dde=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Fde=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zde=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},pP=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Ude=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},D_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Hde=function(t){var n=Fc(t,De.TITLE),r=Fc(t,Uf.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Fc(t,Uf.DEFAULT_TITLE);return n||i||void 0},Gde=function(t){return Fc(t,Uf.ON_CHANGE_CLIENT_STATE)||function(){}},rA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return wr({},r,i)},{})},qde=function(t,n){return n.filter(function(r){return typeof r[De.BASE]<"u"}).map(function(r){return r[De.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},nd=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Qde("Helmet: "+t+' should be of type "Array". Instead found type "'+Bde(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var A=g[m],v=A.toLowerCase();n.indexOf(v)!==-1&&!(p===zt.REL&&h[p].toLowerCase()==="canonical")&&!(v===zt.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(A)!==-1&&(A===zt.INNER_HTML||A===zt.CSS_TEXT||A===zt.ITEM_PROP)&&(p=A)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][y]?!1:(a[p][y]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=Lde({},i[u],a[u]);i[u]=d}return s},[]).reverse()},Fc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Wde=function(t){return{baseTag:qde([zt.HREF,zt.TARGET],t),bodyAttributes:rA(el.BODY,t),defer:Fc(t,Uf.DEFER),encode:Fc(t,Uf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:rA(el.HTML,t),linkTags:nd(De.LINK,[zt.REL,zt.HREF],t),metaTags:nd(De.META,[zt.NAME,zt.CHARSET,zt.HTTPEQUIV,zt.PROPERTY,zt.ITEM_PROP],t),noscriptTags:nd(De.NOSCRIPT,[zt.INNER_HTML],t),onChangeClientState:Gde(t),scriptTags:nd(De.SCRIPT,[zt.SRC,zt.INNER_HTML],t),styleTags:nd(De.STYLE,[zt.CSS_TEXT],t),title:Hde(t),titleAttributes:rA(el.TITLE,t)}},F_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){F_(t)},0)}}(),gP=function(t){return clearTimeout(t)},Kde=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||F_:global.requestAnimationFrame||F_,Yde=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||gP:global.cancelAnimationFrame||gP,Qde=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},rd=null,Jde=function(t){rd&&Yde(rd),t.defer?rd=Kde(function(){mP(t,function(){rd=null})}):(mP(t),rd=null)},mP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;z_(De.BODY,i),z_(De.HTML,s),Xde(h,p);var g={baseTag:Kl(De.BASE,r),linkTags:Kl(De.LINK,o),metaTags:Kl(De.META,a),noscriptTags:Kl(De.NOSCRIPT,l),scriptTags:Kl(De.SCRIPT,u),styleTags:Kl(De.STYLE,d)},m={},A={};Object.keys(g).forEach(function(v){var y=g[v],b=y.newTags,S=y.oldTags;b.length&&(m[v]=b),S.length&&(A[v]=g[v].oldTags)}),n&&n(),c(t,m,A)},fN=function(t){return Array.isArray(t)?t.join(""):t},Xde=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=fN(t)),z_(De.TITLE,n)},z_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Zi),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(Zi):r.getAttribute(Zi)!==a.join(",")&&r.setAttribute(Zi,a.join(","))}},Kl=function(t,n){var r=document.head||document.querySelector(De.HEAD),i=r.querySelectorAll(t+"["+Zi+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===zt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===zt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Zi,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},hN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Zde=function(t,n,r,i){var s=hN(r),o=fN(n);return s?"<"+t+" "+Zi+'="true" '+s+">"+D_(o,i)+"</"+t+">":"<"+t+" "+Zi+'="true">'+D_(o,i)+"</"+t+">"},efe=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===zt.INNER_HTML||c===zt.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+D_(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=$de.indexOf(t)===-1;return i+"<"+t+" "+Zi+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},pN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Tm[i]||i]=t[i],r},n)},tfe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Nde[i]||i]=t[i],r},n)},nfe=function(t,n,r){var i,s=(i={key:n},i[Zi]=!0,i),o=pN(r,s);return[Pe.createElement(De.TITLE,o,n)]},rfe=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Zi]=!0,s);return Object.keys(r).forEach(function(a){var l=Tm[a]||a;if(l===zt.INNER_HTML||l===zt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Pe.createElement(t,o)})},Gs=function(t,n,r){switch(t){case De.TITLE:return{toComponent:function(){return nfe(t,n.title,n.titleAttributes)},toString:function(){return Zde(t,n.title,n.titleAttributes,r)}};case el.BODY:case el.HTML:return{toComponent:function(){return pN(n)},toString:function(){return hN(n)}};default:return{toComponent:function(){return rfe(t,n)},toString:function(){return efe(t,n,r)}}}},gN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:Gs(De.BASE,n,i),bodyAttributes:Gs(el.BODY,r,i),htmlAttributes:Gs(el.HTML,s,i),link:Gs(De.LINK,o,i),meta:Gs(De.META,a,i),noscript:Gs(De.NOSCRIPT,l,i),script:Gs(De.SCRIPT,c,i),style:Gs(De.STYLE,u,i),title:Gs(De.TITLE,{title:h,titleAttributes:p},i)}},ife=function(t){var n,r;return r=n=function(i){zde(s,i);function s(){return Dde(this,s),Ude(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!Pde(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case De.SCRIPT:case De.NOSCRIPT:return{innerHTML:l};case De.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return wr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[wr({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case De.TITLE:return wr({},d,(l={},l[u.type]=p,l.titleAttributes=wr({},h),l));case De.BODY:return wr({},d,{bodyAttributes:wr({},h)});case De.HTML:return wr({},d,{htmlAttributes:wr({},h)})}return wr({},d,(c={},c[u.type]=wr({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=wr({},l);return Object.keys(a).forEach(function(u){var d;c=wr({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Pe.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=pP(h,["children"]),m=tfe(g);switch(c.warnOnInvalidChildren(d,p),d.type){case De.LINK:case De.META:case De.NOSCRIPT:case De.SCRIPT:case De.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=pP(a,["children"]),u=wr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Pe.createElement(t,u)},Fde(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Pe.Component),n.propTypes={base:ze.object,bodyAttributes:ze.object,children:ze.oneOfType([ze.arrayOf(ze.node),ze.node]),defaultTitle:ze.string,defer:ze.bool,encodeSpecialCharacters:ze.bool,htmlAttributes:ze.object,link:ze.arrayOf(ze.object),meta:ze.arrayOf(ze.object),noscript:ze.arrayOf(ze.object),onChangeClientState:ze.func,script:ze.arrayOf(ze.object),style:ze.arrayOf(ze.object),title:ze.string,titleAttributes:ze.object,titleTemplate:ze.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=gN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},sfe=function(){return null},ofe=wde(Wde,Jde,gN)(sfe),ti=ife(ofe);ti.renderStatic=ti.rewind;const mN=_.forwardRef(({...e},t)=>{const n=_.useRef(null);_.useImperativeHandle(t,()=>n.current);const[r,i]=$e(Id);return f.jsx(afe,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),afe=C(Ru,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function lfe(e){ya(!1);const t=Lr(),n=()=>t("menu/"),{register:r}=Vn({onBackspace:n}),[i,s]=$e(xs),[o,a]=$e(Wa),[l,c]=$e(Zn),[u,d]=$e(Gb),h=_.useRef(null),[p,g]=_.useState(Qi.getPermissionStatus());_.useEffect(()=>Qi.addListener(b=>{g(b)}),[]);const[m,A]=_.useState(!1),v=()=>{A(!0),Qi.requestPermissions().then(()=>A(!1))};let y="Disabled";return m?y=f.jsx(xh,{size:"0.9em"}):p===null?y="Click to enable":p&&(y="Enabled"),f.jsxs(va,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(Gr,{...r("graphics-level",()=>s(Za(mj,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(Gr,{...r("fps-count-level",()=>a(Za(vj,o))),label:"FPS Count",value:o}),f.jsx(Gr,{...r("background-music-selection",()=>d(Za(bj,u))),label:"Background Music",value:u}),f.jsx(mN,{ref:h,...r("input-lag",()=>{var b;return(b=h.current)==null?void 0:b.focus()})}),f.jsx("hr",{}),f.jsx(Gr,{...r("camera-access",()=>p?Qi.disable():v()),label:"Enable camera mode",value:y,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(Gr,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Te,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Te,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Te,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Te,{...r("back-button",n),children:"Return To Main Menu"})]})}function vN(e){return f.jsxs(cfe,{...e,children:[f.jsx(B_,{}),f.jsx(FL,{})]})}const cfe=C("div",{target:"e1lp2lp80"})({name:"9lr88m",styles:"position:relative;transition:300ms;svg{transition:300ms;width:15rem;height:15rem;}svg:first-of-type{top:1.6rem;left:3.5rem;position:absolute;z-index:100;transform:scaleX(-1);}"});function yN(){const[e,t]=_.useState(!1);return _.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(ufe,{visible:e,children:f.jsx(dfe,{})})}const ufe=C("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),dfe=C(vN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),ffe=_.lazy(()=>h0(()=>import("./ConvertView-u2JNDOsf.js"),__vite__mapDeps([0,1]))),AN=e=>f.jsxs(_.Suspense,{fallback:f.jsx(yN,{}),children:[f.jsx(ti,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(ffe,{...e})]});var _N={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Do,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,A,v=d.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=y.length,S=0;S<b;S+=1){var x=y[S];x.d&&(g=h?i(c).diff(d,x.d,!0):d.diff(c,x.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(A=g>0,w<=x.r||!x.r){w<=1&&S>0&&(x=y[S-1]);var E=v[x.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,x.l,A);break}}if(u)return m;var I=A?v.future:v.past;return typeof I=="function"?I(m):I.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(_N);var hfe=_N.exports;const pfe=lr(hfe),bN=1e3,gfe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),mfe=e=>{const t=e.notes.at(-1);return t.start+t.length},vfe=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=mfe(i)}),r},vP=(e,t)=>({...e,sections:vfe(gfe(e.sections.filter(St)),t)});function yfe(e){const t=Su(e),n=Math.round(bN/t);return{...e,tracks:e.tracks.map(r=>vP(r,n)),mergedTrack:vP(e.mergedTrack,n)}}const Afe=(e,t)=>e.map((n,r)=>St(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),yP=(e,t)=>({...e,sections:Afe(e.sections,t)});function _fe(e){const t=Su(e),n=Math.round(bN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>yP(s,r)),mergedTrack:yP(e.mergedTrack,r)}}function xN(e,t){return Su(t)*e}function gv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?oa(n.sections):n.start));return xN(t,e)+e.gap}function bfe(e){const t=gv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const xfe=(e,t)=>e.map((n,r)=>St(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>St(n)||n.start-n.end>0),AP=(e,t)=>({...e,sections:xfe(e.sections,t)});function Sfe(e){const t=Su(e),n=e.tracks.reduce((o,a,l)=>{const c=oa(e.tracks[o].sections),u=oa(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(St);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>AP(o,i)),mergedTrack:AP(e.mergedTrack,i)}}const wfe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),_P=e=>({...e,sections:e.sections.map(t=>St(t)?{...t,notes:wfe(t.notes)}:t)});function Efe(e){return{...e,tracks:e.tracks.map(_P),mergedTrack:_P(e.mergedTrack)}}const kfe=e=>{let t=Sfe(e);return t=_fe(t),t=yfe(t),t=Efe(t),t=bfe(t),t};function SN(e){const[t,n]=_.useState(null);return _.useEffect(()=>{$s.get(e).then(r=>n(r&&kfe(r)))},[e]),{data:t}}Xi.extend(pfe);function Cfe(){const e=I0("song");ya(!1);const t=SN(e??"");return t.data?f.jsxs(Ife,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(Tfe,{children:[f.jsx(_w,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[t.data.artist," - ",t.data.title]})]}),f.jsxs("abbr",{title:t.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:t.data.lastUpdate?Xi(t.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(AN,{song:t.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const Tfe=C("div",{target:"e104ojv11"})({name:"tv6097",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"}),Ife=C("div",{target:"e104ojv10"})({name:"1u1hal4",styles:"margin:30px auto 0 auto;width:1260px;height:100%;background:white"});var Pfe=Math.floor,Rfe=Math.random;function Mfe(e,t){return e+Pfe(Rfe()*(t-e+1))}function wN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Mfe(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function jfe(e){return wN(z3(e))}function Ofe(e,t){return Px(t,function(n){return e[n]})}function Vfe(e){return e==null?[]:Ofe(e,ah(e))}function Lfe(e){return wN(Vfe(e))}function Nfe(e){var t=Ci(e)?jfe:Lfe;return t(e)}var PR;const EN=!((PR=document.getElementById("root"))!=null&&PR.hasChildNodes());function Qw(e){return EN?null:e.children}function yr(e){const t=Lr(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(_w,{...e,onClick:n})}function $fe(e,t){_.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var Bfe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Dfe=lr(Bfe);var U_={exports:{}},kN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/kN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var Ffe=kN,H_={exports:{}},zfe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&Ufe(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?bP:Hfe;o(s,r),s.onload||bP(s,r),i.appendChild(s)};function Ufe(e,t){for(var n in t)e.setAttribute(n,t[n])}function bP(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Hfe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=zfe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(H_,H_.exports);var Gfe=H_.exports,G_={exports:{}},q_={exports:{}},W_={exports:{}},Hf=1e3,Gf=Hf*60,qf=Gf*60,Wf=qf*24,qfe=Wf*365.25,Wfe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Kfe(e);if(n==="number"&&isNaN(e)===!1)return t.long?Qfe(e):Yfe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Kfe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*qfe;case"days":case"day":case"d":return n*Wf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*qf;case"minutes":case"minute":case"mins":case"min":case"m":return n*Gf;case"seconds":case"second":case"secs":case"sec":case"s":return n*Hf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Yfe(e){return e>=Wf?Math.round(e/Wf)+"d":e>=qf?Math.round(e/qf)+"h":e>=Gf?Math.round(e/Gf)+"m":e>=Hf?Math.round(e/Hf)+"s":e+"ms"}function Qfe(e){return Ep(e,Wf,"day")||Ep(e,qf,"hour")||Ep(e,Gf,"minute")||Ep(e,Hf,"second")||e+" ms"}function Ep(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=Wfe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var A=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(y,b){if(y==="%%")return y;A++;var S=t.formatters[b];if(typeof S=="function"){var x=g[A];y=S.call(d,x),g.splice(A,1),A--}return y}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(W_,W_.exports);var Jfe=W_.exports;(function(e,t){var n={};t=e.exports=Jfe,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(q_,q_.exports);var Xfe=q_.exports,K_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(K_,K_.exports);var Zfe=K_.exports,Y_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(Y_,Y_.exports);var ehe=Y_.exports,Q_={exports:{}},J_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(J_,J_.exports);var the=J_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=the,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(Q_,Q_.exports);var nhe=Q_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Xfe,r=u(n),i=Zfe,s=u(i),o=ehe,a=u(o),l=nhe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var I="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[I]=function(L){d('event "%s"',I,L),p.trigger(E,L)}},A=!0,v=!1,y=void 0;try{for(var b=a.default[Symbol.iterator](),S;!(A=(S=b.next()).done);A=!0){var x=S.value;m(x)}}catch(w){v=!0,y=w}finally{try{!A&&b.return&&b.return()}finally{if(v)throw y}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},A=function(I){g&&c.default[I]?m[I]=function(){for(var L=arguments.length,j=Array(L),$=0;$<L;$++)j[$]=arguments[$];return p.then(function(Q){var M=c.default[I],z=Q.getPlayerState(),P=Q[I].apply(Q,j);return M.stateChangeRequired||Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf(z)===-1?new Promise(function(T){var F=function O(){var N=Q.getPlayerState(),B=void 0;typeof M.timeout=="number"&&(B=setTimeout(function(){Q.removeEventListener("onStateChange",O),T()},M.timeout)),Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf(N)!==-1&&(Q.removeEventListener("onStateChange",O),clearTimeout(B),T())};Q.addEventListener("onStateChange",F)}).then(function(){return P}):P})}:m[I]=function(){for(var L=arguments.length,j=Array(L),$=0;$<L;$++)j[$]=arguments[$];return p.then(function(Q){return Q[I].apply(Q,j)})}},v=!0,y=!1,b=void 0;try{for(var S=s.default[Symbol.iterator](),x;!(v=(x=S.next()).done);v=!0){var w=x.value;A(w)}}catch(E){y=!0,b=E}finally{try{!v&&S.return&&S.return()}finally{if(y)throw b}}return m},t.default=h,e.exports=t.default})(G_,G_.exports);var rhe=G_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Ffe,i=c(r),s=Gfe,o=c(s),a=rhe,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var y=d;v(y)}else u.then(function(b){var S=new b.Player(d,h);return g.on("ready",function(){v(S)}),null})}),A=l.default.promisifyPlayer(m,p);return A.on=g.on,A.off=g.off,A},e.exports=t.default})(U_,U_.exports);var ihe=U_.exports;const she=lr(ihe);var ohe=Object.defineProperty,ahe=Object.defineProperties,lhe=Object.getOwnPropertyDescriptors,xP=Object.getOwnPropertySymbols,che=Object.prototype.hasOwnProperty,uhe=Object.prototype.propertyIsEnumerable,SP=(e,t,n)=>t in e?ohe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X_=(e,t)=>{for(var n in t||(t={}))che.call(t,n)&&SP(e,n,t[n]);if(xP)for(var n of xP(t))uhe.call(t,n)&&SP(e,n,t[n]);return e},Z_=(e,t)=>ahe(e,lhe(t)),dhe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function fhe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function wP(e={}){return Z_(X_({},e),{height:0,width:0,playerVars:Z_(X_({},e.playerVars),{autoplay:0,start:0,end:0})})}function hhe(e,t){return e.videoId!==t.videoId||!Dfe(wP(e.opts),wP(t.opts))}function phe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var ghe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},mhe={videoId:ze.string,id:ze.string,className:ze.string,iframeClassName:ze.string,style:ze.object,title:ze.string,loading:ze.oneOf(["lazy","eager"]),opts:ze.objectOf(ze.any),onReady:ze.func,onError:ze.func,onPlay:ze.func,onPause:ze.func,onEnd:ze.func,onStateChange:ze.func,onPlaybackRateChange:ze.func,onPlaybackQualityChange:ze.func},hg=class extends Pe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case hg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case hg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case hg.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Z_(X_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=she(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return dhe(this,null,function*(){phe(e,this.props)&&this.updatePlayer(),hhe(e,this.props)&&(yield this.resetPlayer()),fhe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Pe.createElement("div",{className:this.props.className,style:this.props.style},Pe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},mv=hg;mv.propTypes=mhe;mv.defaultProps=ghe;mv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var _s=mv;function vhe(e){const[t,n]=_.useState(1);return _.useEffect(()=>{if(e===_s.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function yhe(e,t){_.useEffect(()=>{if(t===_s.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function Ahe(e,t){return yhe(e,t),vhe(t)}var An=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(An||{});const _he={[_s.PlayerState.UNSTARTED]:"UNSTARTED",[_s.PlayerState.ENDED]:"ENDED",[_s.PlayerState.PLAYING]:"PLAYING",[_s.PlayerState.PAUSED]:"PAUSED",[_s.PlayerState.BUFFERING]:"BUFFERING",[_s.PlayerState.CUED]:"CUED"},bhe=_.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=_.useRef(null),[h,p]=_.useState(_s.PlayerState.UNSTARTED),g=Ahe(d,h);return $fe(d,o),_.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),_.useImperativeHandle(u,()=>({setSize:(m,A)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,A)},seekTo:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(_s,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(_he[m.data])}},`${t}-${g}`)}),xhe=_.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=_.useRef(null),[h,p]=_.useState({w:a,h:l}),[g,m]=_.useState(An.UNSTARTED);_.useEffect(()=>{const v=w=>()=>m(w),y=d.current,b=v(An.PLAYING),S=v(An.PAUSED),x=v(An.ENDED);return y==null||y.addEventListener("playing",b),y==null||y.addEventListener("pause",S),y==null||y.addEventListener("ended",x),()=>{y==null||y.removeEventListener("playing",b),y==null||y.removeEventListener("pause",S),y==null||y.removeEventListener("ended",x)}},[d.current,m]),_.useEffect(()=>{c==null||c(g)},[g,c]);const A=_.useMemo(()=>({setSize:(v,y)=>p({w:v,h:y}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return _.useEffect(()=>{A.setSize(a,l)},[a,l,A]),_.useEffect(()=>{r!==void 0&&A.seekTo(r)},[r,A]),_.useImperativeHandle(u,()=>A),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),She="/assets/dummy-BNC13ZxI.mp4",whe=_.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(xhe,{ref:i,video:She,controls:!0,...r})});var Ehe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Jw=_.forwardRef((e,t)=>Ehe.VITE_APP_OFFLINE?f.jsx(whe,{...e,ref:t}):f.jsx(bhe,{...e,ref:t})),EP=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function wh(){const[e,t]=_.useState(EP()),n=_.useCallback(Rc(()=>{t(EP())},1e3),[]);return _.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function CN({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(khe,{video:e.video,width:n,height:r,...s,children:[f.jsx(The,{video:e.video,blur:!0}),t&&f.jsx(TN,{children:t}),f.jsx(Ihe,{children:f.jsxs(Phe,{children:[f.jsx(Rhe,{children:e.title}),f.jsx("br",{}),f.jsx(Mhe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(jhe,{children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const khe=C("div",{target:"e1kx27c8"})(e=>`
    width: ${e.width}px;
    top: 0;
    height: ${e.height}px;
    overflow-y: hidden;
    background: black;
    position: relative;
`,""),TN=C("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Che=C(TN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),The=e=>f.jsx(Che,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Ihe=C("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Phe=C("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),vv=C("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Ne,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Rhe=C(vv,{target:"e1kx27c2"})("color:",fe.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Mhe=C(vv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),jhe=C(vv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Ohe(e){var h;da(!1),ya(!1);const t=Lr(),{width:n,height:r}=wh(),[i,s]=_.useState(0),o=Sh(),[a,l]=_.useState([]),{register:c}=Vn({onBackspace:()=>t("menu/")});_.useEffect(()=>o.data&&l(Nfe(o.data)),[o.data]);const u=()=>o.data&&s(p=>(p+1)%o.data.length);if(!a.length||!n||!r)return null;const d=km("game/",{song:a[i].id,playlist:"All"});return f.jsxs(ko,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Qw,{children:f.jsxs(CN,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(Jw,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===An.ENDED&&u()}}),children:[f.jsx(Lhe,{...c("skip-button",u),children:"Skip"}),f.jsx(yr,{to:d,children:f.jsx(Vhe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const Vhe=C(us,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Lhe=C(us,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Nhe=C("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),$he=C("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Bhe=e=>f.jsx($he,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var Xw={},Dhe=Xe;Object.defineProperty(Xw,"__esModule",{value:!0});var Qd=Xw.default=void 0,Fhe=Dhe(nt()),iA=f;Qd=Xw.default=(0,Fhe.default)([(0,iA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,iA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,iA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var Zw={},zhe=Xe;Object.defineProperty(Zw,"__esModule",{value:!0});var eb=Zw.default=void 0,Uhe=zhe(nt()),Hhe=f;eb=Zw.default=(0,Uhe.default)((0,Hhe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var eE={},Ghe=Xe;Object.defineProperty(eE,"__esModule",{value:!0});var pg=eE.default=void 0,qhe=Ghe(nt()),Whe=f;pg=eE.default=(0,qhe.default)((0,Whe.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var tE={},Khe=Xe;Object.defineProperty(tE,"__esModule",{value:!0});var IN=tE.default=void 0,Yhe=Khe(nt()),kP=f;IN=tE.default=(0,Yhe.default)([(0,kP.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,kP.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var nE={},Qhe=Xe;Object.defineProperty(nE,"__esModule",{value:!0});var PN=nE.default=void 0,Jhe=Qhe(nt()),Xhe=f;PN=nE.default=(0,Jhe.default)((0,Xhe.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const RN=C("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",fe.colors.text.active,";font-size:1.5rem;",Ne,";color:",fe.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function Zhe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=$e(Zn),{register:s}=Vn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(Cp,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(xd,{children:[f.jsx(Rw,{}),f.jsx(pg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(bd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(IN,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(PN,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(RN,{children:"Recommended"}),f.jsxs(kp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(Cp,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(xd,{children:[f.jsx(eb,{}),i?f.jsx(pg,{}):f.jsx(Iw,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(bd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(kp,{children:[f.jsx(eb,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(Cp,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(xd,{children:[f.jsx(B_,{}),f.jsx(FL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(bd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(kp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(Cp,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(xd,{children:[f.jsx(B_,{}),f.jsx(pg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(bd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(kp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(yr,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Te,{as:Yi,...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const kp=C("div",{target:"eb2r3ii3"})(Ne,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),bd=C("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),xd=C("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",fe.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",fe.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),CP=Vt("height:16.5rem;background:black;",uo,";",bd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",xd,"{transform:scale(1.75);}",""),Cp=C(Te,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;:hover{",CP,";}",e=>e.focused?CP:"",";");function MN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const rE=(e,t,n=!0,r=1e3/Wa.get())=>{_.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=sn.getPlayerVolume(e)??0,o=sn.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},epe=(e,t=1e3/Wa.get(),n)=>{const[r,i]=_.useState([0,0]);return rE(e,i,!0,t),_.useEffect(()=>{n&&n(r)},[r,n]),r},jN=e=>_.useMemo(()=>{if(!fe.colors.players[e])return"0, 0, 0";const t=de(fe.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),ON=C("div",{target:"eq7cjwi0"})("background:linear-gradient(270deg, rgba(",e=>e.color,", 1) 0%, rgba(",e=>e.color,", 0) 100%);height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none;"),tpe=_.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=jN(t);return Re.getPlayer(t)?f.jsx(ON,{color:s,...n,style:{transform:`scaleX(${i})`},ref:r}):null}),iE=({playerNumber:e,...t})=>{const[n,r]=_.useState(),i=_.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);rE(e,i);const s=jN(e);return f.jsx(ON,{...t,color:s,ref:r})};function npe(e,t){const n=Object.keys(t),[r,i]=Ti([te.playerInputChanged,te.inputListChanged],()=>{var l;const a=(l=Re.getPlayer(e))==null?void 0:l.input;return a?[a,co.getInputForPlayerSelected(a)]:[null,null]});_.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Re.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const s=a=>{var u;const l=Za(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Re.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},o=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=bh(a,l);if(c===0)s(0);else{const d=a[c];(u=Re.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,s,i,o]}const VN=e=>{const t=e.player,[n,r,i,s]=npe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(ope,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(spe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(ipe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(rpe,{playerNumber:t.number})})]})},rpe=C(iE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),ipe=C(Gr,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),spe=C(Gr,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),ope=C("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function yv(e=!1,t){const n=Ti(te.inputListChanged,()=>{const r={...co.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return _.useEffect(()=>{e&&co.loadMics()},[e]),n}function Eh(e,t=Fg){_.useEffect(()=>{Re.setMinPlayerNumber(e);const n=Re.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Re.removePlayer(n[r-1].number);else if(n.length<e){const r=Re.getPlayers().map(s=>s.number),i=Array.from(Array(Fg).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Re.addPlayer(i.shift())}},[])}function LN(){const e=_.useRef(0);Xr(te.remoteMicConnected,({id:t})=>{var r;console.log("useRemoteMicAutoselect",t);const n=Re.getPlayer(e.current);n?n.changeInput(lo.inputName,0,t):(r=Re.addPlayer(e.current))==null||r.changeInput(lo.inputName,0,t),e.current=(e.current+1)%Fg})}function ape(e){Eh(2);const t=yv(!0),n=kw();_.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),LN();const{register:r}=Vn({onBackspace:e.onBack}),s=Ti(te.playerInputChanged,()=>Re.getInputs()).filter(a=>a.source===ro.inputName),o=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(bw,{}),o.map((a,l)=>f.jsx(VN,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&Yw()&&MN()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var sE={},lpe=Xe;Object.defineProperty(sE,"__esModule",{value:!0});var NN=sE.default=void 0,cpe=lpe(nt()),upe=f;NN=sE.default=(0,cpe.default)((0,upe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var oE={},dpe=Xe;Object.defineProperty(oE,"__esModule",{value:!0});var aE=oE.default=void 0,fpe=dpe(nt()),hpe=f;aE=oE.default=(0,fpe.default)((0,hpe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function lE({names:e}){return f.jsx(ppe,{children:Re.getPlayers().map(t=>f.jsxs(gpe,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(iE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const ppe=C("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),gpe=C("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function mpe(e){const[t,n]=_.useState(null),r=_.useRef([]),i=_.useRef(0),s=_.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return rE(0,s,t!==!0),_.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function vpe(e){Eh(1,1);const{register:t}=Vn({onBackspace:e.onBack}),{Microphone:n}=yv(!0,"Microphone"),r=Ti([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Re.getInputs().find(d=>d.source==="Microphone"),c=co.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===cl(l)))==null?void 0:u.label)??"":""}),i=l=>{Re.getPlayers().forEach(c=>c.changeInput(ro.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};_.useEffect(s,[]),Xr([te.inputListChanged,te.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[bh(n.list,l)];i(c)}},a=mpe(r);return _.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(ype,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(Gr,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(Ape,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(sA,{children:f.jsx(bpe,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(sA,{children:f.jsx(_pe,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(sA,{children:f.jsx(xh,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(lE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const ype=C("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),Ape=C("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),sA=C("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),_pe=C(aE,{target:"e19x30ho1"})({name:"19g9g9r",styles:"width:2em;height:2em;color:red"}),bpe=C(NN,{target:"e19x30ho0"})({name:"120ozgv",styles:"width:2em;height:2em;color:white"});function xpe(e){Eh(2);const t=yv(!0,"Microphone"),n=kw();_.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),_.useEffect(()=>{Re.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=Vn({onBackspace:e.onBack}),i=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx(VN,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Spe(e){const{register:t}=Vn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Te,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Te,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function wpe(e){var s,o;Eh(2);const{register:t}=Vn({onBackspace:e.onBack});LN();const n=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?co.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return _.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(bw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(lE,{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function Epe(e){Eh(2);const{register:t}=Vn({onBackspace:e.onBack}),{Microphone:n}=yv(!0,"Microphone"),[r,i]=_.useState(!1),s=Ti([te.playerInputChanged,te.inputListChanged],()=>{const c=Re.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=co.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});_.useEffect(()=>(s&&sn.startMonitoring(),()=>{sn.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=_.useState(!1);return Xr(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Re.getPlayer(d.preferred))==null||h.changeInput(ro.inputName,d.channel,d.deviceId)}),c||l(!0)}),_.useEffect(()=>{e.onSetupComplete(s)},[s]),_.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(_h,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(xh,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(TP,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),Yw()&&MN()&&f.jsxs(TP,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(lE,{names:["Blue","Red"]})]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const TP=C("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function kpe(e){return _.useEffect(()=>{e.onSave()},[]),null}const $N="Previously selected input type",Cpe=Oe.local.getItem($N);function cE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=$e(Hb),[l,c]=_.useState(o==="skip"?null:o),[u,d]=_.useState(!1);_.useEffect(()=>{const m=sn.monitoringStarted();return sn.startMonitoring(),()=>{!m&&sn.stopMonitoring()}},[]);const h=(...m)=>{s?Ff(()=>{Tu.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(Oe.local.setItem($N,m),kn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{Ff(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Nhe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Bhe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Zhe,{onPreferenceSelected:h,previouslySelected:Cpe,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(wpe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(Spe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(Epe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(xpe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(vpe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(ape,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(kpe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function Tpe(e){const t=Lr();return f.jsxs(va,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(cE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const Ipe=({error:e,resetError:t})=>f.jsxs(va,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Ol,{fontSize:"large"})," An error occurred :("]}),f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(Ppe,{children:e.message}),f.jsxs("h3",{children:["Help me fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Te,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Oe.session.clear(),Oe.local.clear(),al.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Ppe=C("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var Rpe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Mpe(e){ya(!1);const t=Sh();return _.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${Rpe.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),o=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(o.search)&&o.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}var uE={},jpe=Xe;Object.defineProperty(uE,"__esModule",{value:!0});var Jd=uE.default=void 0,Ope=jpe(nt()),Vpe=f;Jd=uE.default=(0,Ope.default)((0,Vpe.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var dE={},Lpe=Xe;Object.defineProperty(dE,"__esModule",{value:!0});var Xd=dE.default=void 0,Npe=Lpe(nt()),$pe=f;Xd=dE.default=(0,Npe.default)((0,$pe.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Bpe(e){return Pl("MuiSkeleton",e)}Rl("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Dpe=["animation","className","component","height","style","variant","width"];let Im=e=>e,IP,PP,RP,MP;const Fpe=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return Il({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Bpe,t)},zpe=Ao(IP||(IP=Im`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Upe=Ao(PP||(PP=Im`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Hpe=ii("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Fse(e.shape.borderRadius)||"px",r=zse(e.shape.borderRadius);return oe({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Ere(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Vt(RP||(RP=Im`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),zpe),({ownerState:e,theme:t})=>e.animation==="wave"&&Vt(MP||(MP=Im`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Upe,(t.vars||t).palette.action.hover)),Gpe=_.forwardRef(function(t,n){const r=fa({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=Xt(r,Dpe),h=oe({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=Fpe(h);return f.jsx(Hpe,oe({as:o,ref:n,className:xn(p.root,s),ownerState:h},d,{style:oe({width:u,height:a},l)}))}),qpe=Gpe;var fE={},Pm=function(){return Pm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pm.apply(this,arguments)},Wpe=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(A){return i.options.numerals[+A]}),l=l.replace(/[0-9]/g,function(A){return i.options.numerals[+A]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=Pm(Pm({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Kpe=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Wpe},Symbol.toStringTag,{value:"Module"})),Ype=Fs(Kpe);Object.defineProperty(fE,"__esModule",{value:!0});var Dn=_,Qpe=Ype;function Jpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){Xpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xpe(e,t,n){return t=sge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(this,arguments)}function Zpe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function BN(e,t){if(e==null)return{};var n=Zpe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ege(e,t){return tge(e)||Jpe(e,t)||nge(e,t)||rge()}function tge(e){if(Array.isArray(e))return e}function nge(e,t){if(e){if(typeof e=="string")return OP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(e,t)}}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sge(e){var t=ige(e,"string");return typeof t=="symbol"?t:String(t)}var oge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Dn.useLayoutEffect:Dn.useEffect;function Ui(e){var t=Dn.useRef(e);return oge(function(){t.current=e}),Dn.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var age=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,A=n.useIndianSeparators,v=n.enableScrollSpy,y=n.scrollSpyDelay,b=n.scrollSpyOnce,S=n.plugin;return new Qpe.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:S,useEasing:g,useIndianSeparators:A,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:b})},lge=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],cge={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},DN=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(L){var j=ege(L,2),$=j[1];return $!==void 0})),r=Dn.useMemo(function(){return Rm(Rm({},cge),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=BN(r,lge),g=Dn.useRef(),m=Dn.useRef(),A=Dn.useRef(!1),v=Ui(function(){return age(typeof i=="string"?i:i.current,p)}),y=Ui(function(L){var j=g.current;if(j&&!L)return j;var $=v();return g.current=$,$}),b=Ui(function(){var L=function(){return y(!0).start(function(){l==null||l({pauseResume:S,reset:x,start:E,update:w})})};a&&a>0?m.current=setTimeout(L,a*1e3):L(),c==null||c({pauseResume:S,reset:x,update:w})}),S=Ui(function(){y().pauseResume(),u==null||u({reset:x,start:E,update:w})}),x=Ui(function(){y().el&&(m.current&&clearTimeout(m.current),y().reset(),d==null||d({pauseResume:S,start:E,update:w}))}),w=Ui(function(L){y().update(L),h==null||h({pauseResume:S,reset:x,start:E})}),E=Ui(function(){x(),b()}),I=Ui(function(L){s&&(L&&x(),b())});return Dn.useEffect(function(){A.current?o&&I(!0):(A.current=!0,I())},[o,A,I,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Dn.useEffect(function(){return function(){x()}},[x]),{start:E,pauseResume:S,reset:x,update:w,getCountUp:y}},uge=["className","redraw","containerProps","children","style"],dge=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=BN(t,uge),l=Dn.useRef(null),c=Dn.useRef(!1),u=DN(Rm(Rm({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,A=Ui(function(){d()}),v=Ui(function(S){t.preserveValue||h(),p(S)}),y=Ui(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Dn.useEffect(function(){y()},[y]),Dn.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var b=r&&t;return Dn.useEffect(function(){r&&c.current&&A()},[A,r,b]),Dn.useEffect(function(){!r&&c.current&&A()},[A,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Dn.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):Dn.createElement("span",tb({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},hE=fE.default=dge;fE.useCountUp=DN;const FN=e=>_.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),fge=Ns()?0:10;function zN({onClose:e,closeText:t}){const{register:n}=Vn({onBackspace:e}),[r,i]=$e(t0),{data:s,isLoading:o}=Sh(),a=FN(s),l=_.useMemo(()=>a.filter(({name:p,count:g})=>lN(p)&&g>=fge),[a]),c=_.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};_.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(A=>{var v;return(v=p.of(A))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(A=>A.name).filter(A=>!g.some(v=>v.includes(A.toLowerCase()))).filter(A=>A!=="English");m.length&&i(m)}},[r,l]);const h=_.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return _.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(va,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(gge,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(qpe,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(VP,{excluded:!0,focused:!1,children:f.jsx(Dc,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(VP,{excluded:m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(pge,{children:m?f.jsx(Xd,{}):f.jsx(Jd,{})}),f.jsxs("span",{children:[f.jsx(mge,{children:p})," (",g," songs)"]}),f.jsx(yge,{excluded:m,children:f.jsx(Dc,{language:[p]})})]},p)}),c>0&&f.jsxs(oA,{children:["and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(hge,{children:[f.jsx(Te,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(oA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(hE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(oA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Ol,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const hge=C("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),oA=C("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),pge=C("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),gge=C("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),mge=C("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"});var vge={name:"byti92",styles:"filter:grayscale(0.6);opacity:0.5"};const yge=C("div",{target:"e17pzmm1"})("transition:300ms;opacity:0.95;",e=>e.excluded?vge:""," position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem;"),VP=C(Te,{target:"e17pzmm0"})(e=>e.excluded?Vt(e.focused?"":"background: rgba(0, 0, 0, 0.55)",";text-decoration:line-through white;opacity:0.5;",""):""," ",Ne,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;");function Age(e){const t=Lr(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Qw,{children:f.jsx(zN,{onClose:n,closeText:"Return to Main Menu"})})]})}function UN(){const[e]=$e(qb);_.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}function _ge(){const{width:e,height:t}=wh();return _.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}let aA=0;function HN(){_.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),aA++,()=>{aA--,aA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var pE={},bge=Xe;Object.defineProperty(pE,"__esModule",{value:!0});var GN=pE.default=void 0,xge=bge(nt()),Sge=f;GN=pE.default=(0,xge.default)((0,Sge.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function wge({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=_.useRef(null),[o,a]=_.useState(!1),l=h=>{e(p=>({...p,search:h}))};gr("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};gr(M1,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=_.useCallback(h=>{n&&l(h)},[n]);return Xr(te.remoteSongSearch,d),gr(M1,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),gr("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),_.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(Ege,{"data-test":"song-list-search",children:f.jsx(kge,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(Ru,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const Ege=C("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),kge=C("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function Cge({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=_.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(Tge,{children:[f.jsx(pu,{title:"Search",placement:"left",children:f.jsx(LP,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(zw,{})})}),f.jsx(pu,{title:"Pick random",placement:"left",children:f.jsx(LP,{onClick:e,"data-test":"random-song-button",children:f.jsx(GN,{})})})]}),f.jsx(wge,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const LP=C(us,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",fe.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Tge=C("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function qN({videoId:e,...t}){return f.jsx(Mge,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Ige({videoId:e,...t}){const n=ace(e)??e,[r,i]=_.useState(!0);_.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=$e(xs);return s==="low"?null:f.jsxs(Pge,{...t,children:[f.jsx(NP,{videoId:r?e:n,visible:r}),f.jsx(NP,{videoId:r?n:e,visible:!r}),f.jsx(Rge,{videoId:n})]})}const Pge=C("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Rge=C(qN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),NP=C(qN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Mge=C("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function jge(e,t,n="mousedown",r={}){nce(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Oge({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=Vn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=_.useRef(null);return jge(l,()=>{t()}),Tl({left:()=>t("left"),right:()=>t("right")},e),_.useEffect(()=>{var u;const c=new URLSearchParams((u=global.location)==null?void 0:u.search).get("playlist");c&&a(`playlist-${c}`)},[]),_.useEffect(()=>{var c;if(o){const u=n.find(d=>`playlist-${d.name}`===o);if(u){const d=new URL((c=global.location)==null?void 0:c.href);d.searchParams.set("playlist",u.name),global.history.replaceState(null,"",d.toString()),i(u.name)}}},[o,n]),f.jsx(Vge,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(Lge,{"data-selected":`playlist-${u.name}`===o,active:e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),...e?{}:{selected:`playlist-${u.name}`===o},children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const Vge=C("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Ne,";margin:0;}"),Lge=C(us,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;",e=>!e.focused&&e.active&&"background-color: transparent;",";padding:1.5rem 1rem;",e=>e.selected?eO:!e.active&&"opacity: .75;",";"),gE=e=>{const[t,n]=_.useState(null),r=Xc(e),i=async()=>{n(await C3(e))};return _.useEffect(()=>{i()},[r]),Xr(te.songStatStored,i),t},Nge=e=>async(t,n,r,i)=>{const s=Xc(e),o=await C3(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await T3(e,l),te.songScoreUpdated.dispatch(s,l,i.trim())},$ge=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Bge=["US","GB"];function Dge({song:e,forceFlag:t,...n}){const r=e.language[0],i=_.useMemo(()=>{var s;return e.artistOrigin?((s=$ge[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Dc,{isocode:e.artistOrigin,...n}):i&&!Bge.includes(e.artistOrigin)?f.jsx(Dc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Dc,{language:e.language,...n}):null})}var mE={},Fge=Xe;Object.defineProperty(mE,"__esModule",{value:!0});var WN=mE.default=void 0,zge=Fge(nt()),Uge=f;WN=mE.default=(0,zge.default)((0,Uge.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var vE={},Hge=Xe;Object.defineProperty(vE,"__esModule",{value:!0});var KN=vE.default=void 0,Gge=Hge(nt()),qge=f;KN=vE.default=(0,Gge.default)((0,qge.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function Wge(e){return Ya(e.edition??"").startsWith("esc")}const YN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Kge=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,nb=1/0,lA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),$P="eexxaacctt",Yge="A-Z",Qge="a-z",id=(e,t,n)=>e.replace(Yge,t).replace(Qge,n),BP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:nb,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,nb],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||Kge(t[r[d]],t[r[h]]))}},cA=(e,t)=>t==0?"":t==1?e+"??":t==nb?e+"*?":e+`{0,${t}}?`,DP="(?:\\b|_)";function Av(e){e=Object.assign({},BP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let G=m.toLocaleUpperCase(),U=m.toLocaleLowerCase();h=id(h,G,U),d=id(d,G,U),p=id(p,G,U),g=id(g,G,U),u=id(u,G,U)}let A=t?"u":"";const v='".+?"',y=new RegExp(v,"gi"+A),b=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+A);let{intraRules:S}=e;S==null&&(S=G=>{let U=BP.intraSlice,ne=0,V=0,le=0,Z=0;if(/[^\d]/.test(G)){let he=G.length;he<=4?he>=3&&(le=Math.min(l,1),he==4&&(ne=Math.min(o,1))):(U=s,ne=o,V=a,le=l,Z=c)}return{intraSlice:U,intraIns:ne,intraSub:V,intraTrn:le,intraDel:Z}});let x=!!d,w=new RegExp(d,"g"+A),E=new RegExp(h,"g"+A),I=new RegExp("^"+h+"|"+h+"$","g"+A),L=new RegExp(u,"gi"+A);const j=G=>{let U=[];G=G.replace(y,V=>(U.push(V),$P)),G=G.replace(I,"").toLocaleLowerCase(),x&&(G=G.replace(w,V=>V[0]+" "+V[1]));let ne=0;return G.split(E).filter(V=>V!="").map(V=>V===$P?U[ne++]:V)},$=/[^\d]+|\d+/g,Q=(G,U=0,ne=!1)=>{let V=j(G);if(V.length==0)return[];let le=Array(V.length).fill("");V=V.map((pe,Ae)=>pe.replace(L,Ge=>(le[Ae]=Ge,"")));let Z;if(i==1)Z=V.map((pe,Ae)=>{if(pe[0]==='"')return lA(pe.slice(1,-1));let Ge="";for(let Ve of pe.matchAll($)){let Ie=Ve[0],{intraSlice:_e,intraIns:Ue,intraSub:qe,intraTrn:He,intraDel:rt}=S(Ie);if(Ue+qe+He+rt==0)Ge+=Ie+le[Ae];else{let[it,$t]=_e,At=Ie.slice(0,it),qt=Ie.slice($t),st=Ie.slice(it,$t);Ue==1&&At.length==1&&At!=st[0]&&(At+="(?!"+At+")");let _t=st.length,wt=[Ie];if(qe)for(let Ke=0;Ke<_t;Ke++)wt.push(At+st.slice(0,Ke)+g+st.slice(Ke+1)+qt);if(He)for(let Ke=0;Ke<_t-1;Ke++)st[Ke]!=st[Ke+1]&&wt.push(At+st.slice(0,Ke)+st[Ke+1]+st[Ke]+st.slice(Ke+2)+qt);if(rt)for(let Ke=0;Ke<_t;Ke++)wt.push(At+st.slice(0,Ke+1)+"?"+st.slice(Ke+1)+qt);if(Ue){let Ke=cA(g,1);for(let Bt=0;Bt<_t;Bt++)wt.push(At+st.slice(0,Bt)+Ke+st.slice(Bt)+qt)}Ge+="(?:"+wt.join("|")+")"+le[Ae]}}return Ge});else{let pe=cA(g,o);U==2&&o>0&&(pe=")("+pe+")("),Z=V.map((Ae,Ge)=>Ae[0]==='"'?lA(Ae.slice(1,-1)):Ae.split("").map((Ve,Ie,_e)=>(o==1&&Ie==0&&_e.length>1&&Ve!=_e[Ie+1]&&(Ve+="(?!"+Ve+")"),Ve)).join(pe)+le[Ge])}let he=n==2?DP:"",Se=r==2?DP:"",we=Se+cA(e.interChars,e.interIns)+he;return U>0?ne?Z=he+"("+Z.join(")"+Se+"|"+he+"(")+")"+Se:(Z="("+Z.join(")("+we+")(")+")",Z="(.??"+he+")"+Z+"("+Se+".*)"):(Z=Z.join(we),Z=he+Z+Se),[new RegExp(Z,"i"+A),V,le]},M=(G,U,ne)=>{let[V]=Q(U);if(V==null)return null;let le=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let he=ne[Z];V.test(G[he])&&le.push(he)}else for(let Z=0;Z<G.length;Z++)V.test(G[Z])&&le.push(Z);return le};let z=!!p,P=new RegExp(h,A),T=new RegExp(p,A);const F=(G,U,ne)=>{let[V,le,Z]=Q(ne,1),[he]=Q(ne,2),Se=le.length,we=G.length,pe=Array(we).fill(0),Ae={idx:Array(we),start:pe.slice(),chars:pe.slice(),terms:pe.slice(),interIns:pe.slice(),intraIns:pe.slice(),interLft2:pe.slice(),interRgt2:pe.slice(),interLft1:pe.slice(),interRgt1:pe.slice(),ranges:Array(we)},Ge=n==1||r==1,Ve=0;for(let Ie=0;Ie<G.length;Ie++){let _e=U[G[Ie]],Ue=_e.match(V),qe=Ue.index+Ue[1].length,He=qe,rt=!1,it=0,$t=0,At=0,qt=0,st=0,_t=0,wt=0,Ke=0,Bt=[];for(let ye=0,We=2;ye<Se;ye++,We+=2){let Pn=Ue[We].toLocaleLowerCase(),bt=le[ye],vn=bt[0]=='"'?bt.slice(1,-1):bt+Z[ye],on=vn.length,an=Pn.length,Zt=Pn==vn;if(!Zt&&Ue[We+1].length>=on){let ht=Ue[We+1].toLocaleLowerCase().indexOf(vn);ht>-1&&(Bt.push(He,an,ht,on),He+=O(Ue,We,ht,on),Pn=vn,an=on,Zt=!0,ye==0&&(qe=He))}if(Ge||Zt){let ht=He-1,ur=He+an,Li=!1,er=!1;if(ht==-1||P.test(_e[ht]))Zt&&it++,Li=!0;else{if(n==2){rt=!0;break}if(z&&T.test(_e[ht]+_e[ht+1]))Zt&&$t++,Li=!0;else if(n==1){let Co=Ue[We+1],Ni=He+an;if(Co.length>=on){let Nr=0,$i=!1,Vl=new RegExp(vn,"ig"+A),Ll;for(;Ll=Vl.exec(Co);){Nr=Ll.index;let Nl=Ni+Nr,Aa=Nl-1;if(Aa==-1||P.test(_e[Aa])){it++,$i=!0;break}else if(T.test(_e[Aa]+_e[Nl])){$t++,$i=!0;break}}$i&&(Li=!0,Bt.push(He,an,Nr,on),He+=O(Ue,We,Nr,on),Pn=vn,an=on,Zt=!0,ye==0&&(qe=He))}if(!Li){rt=!0;break}}}if(ur==_e.length||P.test(_e[ur]))Zt&&At++,er=!0;else{if(r==2){rt=!0;break}if(z&&T.test(_e[ur-1]+_e[ur]))Zt&&qt++,er=!0;else if(r==1){rt=!0;break}}Zt&&(st+=on,Li&&er&&_t++)}if(an>on&&(Ke+=an-on),ye>0&&(wt+=Ue[We-1].length),!e.intraFilt(vn,Pn,He)){rt=!0;break}ye<Se-1&&(He+=an+Ue[We+1].length)}if(!rt){Ae.idx[Ve]=G[Ie],Ae.interLft2[Ve]=it,Ae.interLft1[Ve]=$t,Ae.interRgt2[Ve]=At,Ae.interRgt1[Ve]=qt,Ae.chars[Ve]=st,Ae.terms[Ve]=_t,Ae.interIns[Ve]=wt,Ae.intraIns[Ve]=Ke,Ae.start[Ve]=qe;let ye=_e.match(he),We=ye.index+ye[1].length,Pn=Bt.length,bt=Pn>0?0:1/0,vn=Pn-4;for(let ht=2;ht<ye.length;){let ur=ye[ht].length;if(bt<=vn&&Bt[bt]==We){let Li=Bt[bt+1],er=Bt[bt+2],Co=Bt[bt+3],Ni=ht,Nr="";for(let $i=0;$i<Li;Ni++)Nr+=ye[Ni],$i+=ye[Ni].length;ye.splice(ht,Ni-ht,Nr),We+=O(ye,ht,er,Co),bt+=4}else We+=ur,ht++}We=ye.index+ye[1].length;let on=Ae.ranges[Ve]=[],an=We,Zt=We;for(let ht=2;ht<ye.length;ht++){let ur=ye[ht].length;We+=ur,ht%2==0?Zt=We:ur>0&&(on.push(an,Zt),an=Zt=We)}Zt>an&&on.push(an,Zt),Ve++}}if(Ve<G.length)for(let Ie in Ae)Ae[Ie]=Ae[Ie].slice(0,Ve);return Ae},O=(G,U,ne,V)=>{let le=G[U]+G[U+1].slice(0,ne);return G[U-1]+=le,G[U]=G[U+1].slice(ne,ne+V),G[U+1]=G[U+1].slice(ne+V),le.length},N=5,B=(G,U,ne,V=1e3,le)=>{ne=ne?ne===!0?N:ne:0;let Z=null,he=null,Se=[];U=U.replace(b,Ie=>{let _e=Ie.trim().slice(1);return _e[0]==='"'&&(_e=lA(_e.slice(1,-1))),Se.push(_e),""});let we=j(U),pe;if(Se.length>0){if(pe=new RegExp(Se.join("|"),"i"+A),we.length==0){let Ie=[];for(let _e=0;_e<G.length;_e++)pe.test(G[_e])||Ie.push(_e);return[Ie,null,null]}}else if(we.length==0)return[null,null,null];if(ne>0){let Ie=j(U);if(Ie.length>1){let _e=Ie.slice().sort((qe,He)=>He.length-qe.length);for(let qe=0;qe<_e.length;qe++){if((le==null?void 0:le.length)==0)return[[],null,null];le=M(G,_e[qe],le)}if(Ie.length>ne)return[le,null,null];Z=QN(Ie).map(qe=>qe.join(" ")),he=[];let Ue=new Set;for(let qe=0;qe<Z.length;qe++)if(Ue.size<le.length){let He=le.filter(it=>!Ue.has(it)),rt=M(G,Z[qe],He);for(let it=0;it<rt.length;it++)Ue.add(rt[it]);he.push(rt)}else he.push([])}}Z==null&&(Z=[U],he=[(le==null?void 0:le.length)>0?le:M(G,U)]);let Ae=null,Ge=null;if(Se.length>0&&(he=he.map(Ie=>Ie.filter(_e=>!pe.test(G[_e])))),he.reduce((Ie,_e)=>Ie+_e.length,0)<=V){Ae={},Ge=[];for(let Ie=0;Ie<he.length;Ie++){let _e=he[Ie];if(_e==null||_e.length==0)continue;let Ue=Z[Ie],qe=F(_e,G,Ue),He=e.sort(qe,G,Ue);if(Ie>0)for(let rt=0;rt<He.length;rt++)He[rt]+=Ge.length;for(let rt in qe)Ae[rt]=(Ae[rt]??[]).concat(qe[rt]);Ge=Ge.concat(He)}}return[[].concat(...he),Ae,Ge]};return{search:(...G)=>B(...G),split:j,filter:M,info:F,sort:e.sort}}const Jge=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function QN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Xge=(e,t)=>t?`<mark>${e}</mark>`:e,Zge=(e,t)=>e+t;function eme(e,t,n=Xge,r="",i=Zge){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}Av.latinize=Jge;Av.permute=e=>QN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));Av.highlight=eme;const tme=(e,t,n)=>{const r=FN(e);return _.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(soe,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",placement:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:""}),"Selection",f.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},FP=e=>Ya((e==null?void 0:e.search)??"").length>2,zP={},nme=/[^0-9a-z ]/gi,uA=e=>bx(e).toLowerCase().replace(nme,""),Mm={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||FP(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>{const n=Ya(t);if(n.length>0){const r=new Av({}),[,i,s]=r.search(e.map(o=>`${uA(o.artist)} ${uA(o.title)}`),uA(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e},duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Ya(t).length?e.filter(r=>Ya(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Xi().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Xi(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>FP(n)?e:e.filter(r=>t.includes(r.id))},UP=(e,t)=>Object.entries(t).filter(n=>n[0]in Mm).reduce((n,[r,i])=>Mm[r](n,i,t,e),e),rme=(e,t,n)=>{var p;const[r]=$e(t0),i=_.useMemo(()=>UP(e,{excludeLanguages:r??[]}),[e,r]),s=tme(i,t,n),[o,a]=_.useState(new URLSearchParams((p=global.location)==null?void 0:p.search).get("playlist")??null),l=s.find(g=>g.name===o)??s[0],[c,u]=_.useState(zP);_.useEffect(()=>{u(zP)},[o]);const d=_.useDeferredValue(c),h=_.useMemo(()=>UP(e,{...(l==null?void 0:l.filters)??{},...d,excludeLanguages:r??[]}),[e,d,r,l]);return{filters:c,filteredList:h,setFilters:u,selectedPlaylist:o,setSelectedPlaylist:a,playlists:s,playlist:l}},ime=e=>f.jsxs(ome,{children:[e.song.tracksCount>1&&f.jsxs(lme,{"data-test":"multitrack-indicator",children:[f.jsx(Qd,{})," Duet"]}),f.jsx(sme,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),sme=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=_.useMemo(()=>Mm.recentlyUpdated([e]).length>0,[e]),i=Wge(e),s=gE(e),o=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&Xi(o).isAfter(Xi().subtract(1,"days"));return s!=null&&s.plays?f.jsx(XN,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(fA,{white:!0,children:[f.jsx(dA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(ame,{src:YN,alt:e.edition})]}):r?f.jsx(fA,{white:!0,children:n?f.jsx(dA,{children:"Added recently"}):f.jsx(WN,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(fA,{children:[n&&f.jsx(dA,{children:"Popular"}),f.jsx(KN,{})]})}):null},dA=C("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),ome=C("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),JN=C("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),fA=C(JN,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":fe.colors.text.active,";width:2.5rem;height:2.5rem;}"),ame=C("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),XN=C(JN,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),lme=C(XN,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),ZN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,expanded:c=!1,forceFlag:u=!1,...d})=>{const h=_.useCallback(()=>o?o(i,s):void 0,[o,i,s]);return f.jsxs(fme,{...d,onClick:o?h:void 0,children:[l&&f.jsx(hme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},focused:t,expanded:c}),f.jsxs(dme,{expanded:c,children:[!c&&f.jsx(ime,{song:e,isPopular:a,video:n}),f.jsx(yE,{expanded:c,children:e.artist}),f.jsx(_v,{expanded:c,children:e.title}),f.jsxs(e$,{expanded:c,children:[c&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(n$,{expanded:c,children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(pme,{song:e})]}),!c&&f.jsx(cme,{song:e,forceFlag:u})]})]}),r,n]})},cme=C(Dge,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),e$=C("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"});var ume={name:"1u0tp1t",styles:"align-items:flex-start;justify-content:flex-start"};const dme=C("div",{target:"e1ornw2x6"})("width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;",e=>e.expanded&&ume,";"),fme=C("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),hme=C("div",{target:"e1ornw2x4"})("background-color:#2b2b2b;",e=>!e.expanded&&"border-radius: 1rem;"," position:absolute;z-index:-1;inset:0;",e=>e.theme.graphicSetting==="high"?Vt("background-size:",e.focused?100:110,"%;",e.focused?"":"filter: grayscale(90%);"," ",e.expanded?"filter: blur(10px);":""," transition:300ms;opacity:",e.focused?1:.8,";",""):Vt("background-size:100%;opacity:",e.focused?1:.6,";","")," background-position:center center;"),t$=C("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Ne,";text-align:right;font-size:",({expanded:e})=>e?"6rem":"2.7rem",";"),yE=C(t$,{target:"e1ornw2x2"})("color:",fe.colors.text.active,";"),_v=C(t$,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),n$=C(_v,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),pme=({song:e})=>{const t=gE(e);return f.jsx(n$,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function gme({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=_.useState([]);return _.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(mme,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(vme,{active:o,onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const mme=C("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),vme=C(us,{target:"e131hflw0"})("border:none;cursor:pointer;",Ne,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",fe.colors.text.default,";background:",e=>e.active?fe.colors.lines.star.stroke:"rgba(0, 0, 0, 0.7)",";"),HP={[vr.DUEL]:"Duel",[vr.PASS_THE_MIC]:"Pass The Mic",[vr.CO_OP]:"Cooperation"},hA=["Hard","Medium","Easy"],yme=Mw("song_settings-game_mode-v3"),Ame=Mw("song_settings-tolerance-v2");function _me({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=yme(null),o=i??(e.tracksCount>1?vr.CO_OP:vr.DUEL),[a,l]=Ame(1),c=()=>{const p={id:Ug(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(Za(Object.values(vr),o))},d=()=>l(p=>bh(hA,p,-1)),{register:h}=Vn({enabled:n,onBackspace:r});return f.jsxs(f.Fragment,{children:[f.jsx(GP,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:hA[a],"data-test-value":hA[a]}),f.jsx(GP,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:HP[o],"data-test-value":HP[o]}),f.jsxs(xme,{children:[o===vr.DUEL&&"Face off against each other - person that earns more points wins.",o===vr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===vr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(pv,{})," symbol."]})]}),f.jsx(bme,{...h("next-step-button",c,void 0,!0),children:"Next "})]})}const bme=C(us,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),xme=C("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),GP=C(Gr,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Sme(){const t=Ti(te.playerInputChanged,()=>Re.getInputs()).some(o=>o.source==="Microphone"),n=_.useRef([]),r=_.useCallback(o=>{n.current.push(o)},[]);epe(0,50,r);const[i,s]=_.useState(!1);return _.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(wme,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Ol,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const wme=C("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),r$=(e,t=333,n)=>{const[r,i]=_.useState("ok");return _.useEffect(()=>{const s=setInterval(()=>{i(sn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},i$=e=>{const[t,n]=_.useState(null);return _.useEffect(()=>{const r=setInterval(()=>{const i=Je.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function s$({playerNumber:e,...t}){var r,i;const n=i$((i=(r=Re.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Eme,{...t,children:[n,"ms"]}):""})}const Eme=C("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});var AE={},kme=Xe;Object.defineProperty(AE,"__esModule",{value:!0});var o$=AE.default=void 0,Cme=kme(nt()),Tme=f;o$=AE.default=(0,Cme.default)((0,Tme.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");function a$({status:e,tooltipPosition:t="end",...n}){return f.jsxs(Ime,{...n,children:[e==="ok"?f.jsx(Pme,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Rme,{"data-test":"status-unavailable"}):f.jsx(Mme,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(qP,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(qP,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const Ime=C("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Pme=C(o$,{target:"etoberq3"})({name:"19x2ge",styles:"fill:#ffffff;stroke:black;stroke-width:1px"}),Rme=C(aE,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),Mme=C(Ol,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),qP=C("div",{target:"etoberq0"})(Ne,";position:absolute;",e=>e.position==="end"?"left: 100%":"right: 150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function l$({player:e}){const t=r$(e.number);return f.jsxs(jme,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(s$,{playerNumber:e.number}),f.jsx(a$,{status:t}),t!=="unavailable"&&f.jsx(iE,{playerNumber:e.number}),f.jsx(Ome,{className:"ph-no-capture",children:e.getName()})]},e.number)}const jme=C("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Ome=C("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function Vme(e){Bs(te.playerNameChanged),_.useEffect(()=>{sn.startMonitoring()},[]);const n=Ti(te.playerInputChanged,()=>Re.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(Lme,{...e,children:[f.jsxs(Nme,{children:["Microphone Check",n?Re.getPlayers().map(r=>f.jsx(l$,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx($me,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Sme,{})]})}const Lme=C("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Ne,";margin-bottom:8.6rem;gap:3.5rem;"),Nme=C("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),$me=C("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function c$({onClose:e,closeButtonText:t}){return f.jsx(Iu,{onClose:e,children:f.jsx(ds,{children:f.jsx(cE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const u$=_.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=_.useRef(null);_.useImperativeHandle(d,()=>h.current);const p=_.useRef(null),[g,m]=_.useState(!1),[A,v]=_.useState(-1),y=_.useMemo(()=>e.filter(x=>x.toLowerCase().trim().includes(r.toLowerCase().trim())&&x!==r),[e,r]),b=x=>{var w,E,I;if(x.code==="ArrowUp"||x.code==="ArrowDown")if(y.length){x.preventDefault();const L=bh(y,A,x.code==="ArrowUp"?-1:1);v(L);const j=(w=p.current)==null?void 0:w.querySelector(`[data-index="${L}"]`);j==null||j.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(x.code==="ArrowUp"?-1:1);else if(x.code==="Enter"){const L=y[A];L?(v(-1),i(L)):(I=h.current)==null||I.blur()}},S=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Bme,{className:c,children:[f.jsx(Ru,{onFocus:()=>m(!0),onBlur:S,onKeyDown:b,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!y.length&&f.jsx(Dme,{ref:p,role:"listbox",children:y.map((x,w)=>f.jsx(Fme,{role:"listitem","data-index":w,"data-focused":w===A,focused:w===A,onClick:()=>{var E;i(x),v(-1),(E=h.current)==null||E.blur()},children:x},x))})]})}),Bme=C("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),Dme=C("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),Fme=C("div",{target:"elw4n420"})(Ne,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?fe.colors.text.active:"white",";cursor:pointer;"),zme=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function Ume({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=_.useState(!1),c=_.useRef(null);if(Bs(te.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(Hme,{maxLength:gx,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(Gme,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:zme(n.tracks,o.track),"data-test-value":o.track+1})]})}const Hme=C(u$,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Gme=C(Gr,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function qme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=$e(Zn),[s]=$e(Hb),o=Re.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((S,x)=>({number:S.number,track:a?Math.min(x,e.tracksCount-1):0})),[c,u]=_.useState(l());Xr([te.playerAdded,te.playerRemoved],()=>u(l()));const d=o.map((S,x)=>c.find(w=>w.number===S.number)??l()[x]),h=_.useMemo(()=>JSON.parse(Oe.session.getItem(Zc))??[],[]),p=S=>x=>{u(w=>w.map(E=>E.number===S?x:E))},[g,m]=_.useState(!1);_.useEffect(()=>{g||sn.startMonitoring()},[g]);const{register:A,focusElement:v}=Vn({enabled:n&&!g,onBackspace:r}),y=()=>{t(d)},b=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(c$,{closeButtonText:b?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),b&&v("play")}}),d.map((S,x)=>f.jsxs(Wme,{children:[f.jsxs(Kme,{children:["Player ",x+1]}),f.jsx("div",{children:f.jsx(Ume,{multipleTracks:a,player:Re.getPlayer(S.number),setup:S,onChange:p(S.number),playerNames:h,register:A,songPreview:e})})]},S.number)),b&&f.jsx(WP,{...A("play-song-button",y,void 0,!0),children:"Play"}),f.jsx(WP,{...A("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const Wme=C("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),WP=C(us,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Kme=C("span",{target:"e12y59820"})(Ne,";padding:1.3rem;font-size:4.5rem;");function Yme({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=_.useState(null),[o,a]=_.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(Qme,{children:[f.jsx(Vme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(Jme,{children:[o==="song"&&f.jsx(_me,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(qme,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const Qme=C("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Jme=C("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),Xme=30;function Zme({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=_.useState(!1),h=_.useRef(null),{width:p,height:g}=wh(),m=s;_.useLayoutEffect(()=>{d(!1)},[e.video]);const A=e.previewStart??(e.videoGap??0)+60,v=e.previewEnd??A+Xme,y=_.useMemo(()=>[e.video,A,v,e.volume],[e.video,A,v,e.volume]),[b,S,x,w]=Uw(y,350);_.useEffect(()=>{var j;(j=h.current)==null||j.loadVideoById({videoId:b,startSeconds:S,endSeconds:x})},[b,h,S,x]);const E=m?p:r,I=m?g:i,L=m?Math.min(p/20*9,g*(4/5)):i;return _.useEffect(()=>{var j;(j=h.current)==null||j.setSize(E,I)},[E,I,s]),f.jsxs(f.Fragment,{children:[m&&f.jsx(r0e,{onClick:o}),!m&&u&&f.jsx(l0e,{width:E,height:I,left:n,top:t,song:e}),f.jsx(n0e,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(s0e,{show:u,expanded:m,height:L,id:"preview-video-container",children:f.jsx(Jw,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:j=>{var $,Q;j===An.ENDED?(($=h.current)==null||$.seekTo(A),(Q=h.current)==null||Q.playVideo()):j===An.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:L,showVideo:u,expanded:m,"data-test":"song-preview","data-song":e.id,children:f.jsx(o0e,{expanded:m,children:m&&f.jsx(Yme,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}var e0e={name:"17gota2",styles:"border:0;border-radius:0;position:fixed;padding:var(--preview-padding)"};const t0e=C(ZN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:",e=>e.expanded?201:3,";overflow:hidden;visibility:",e=>e.expanded||e.showVideo?"visible":"hidden",";",e=>e.expanded?e0e:Vt("pointer-events:none;",e.showVideo&&e.theme.graphicSetting==="high"?"animation: rhythmPulse 1s infinite":"scale: 1.2",";",""),";@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",yE,"{view-transition-name:song-preview-artist;}",_v,"{view-transition-name:song-preview-title;}",e$,"{view-transition-name:song-preview-expanded-data;}"),n0e=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(t0e,{style:{top:e.expanded?`calc(50vh - ${e.height}px / 2)`:e.top,left:e.expanded?0:e.left,animationDuration:`${60/t}s`},...e})},r0e=C("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"});var i0e={name:"pfrwim",styles:"position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem"};const s0e=C("div",{target:"e1vaewax2"})(e=>e.expanded?Vt("position:fixed;inset:0;clip-path:inset(calc((100vh - ",e.height,"px) / 2) 0);",""):i0e," div{opacity:",({show:e})=>e?1:0,";transition:",({show:e,expanded:t})=>e||t?1e3:0,"ms;}"),o0e=C("div",{target:"e1vaewax1"})("inset:auto var(--preview-padding);position:fixed;z-index:100;",e=>!e.expanded&&"transform: scale(0.1);"," border-radius:0.5rem;view-transition-name:song-preview-content;"),a0e=C("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),l0e=e=>{const[t]=$e(xs);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(a0e,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function c0e(e){var t=Yp(e),n=t%1;return t===t?n?t-n:t:0}var u0e=Math.ceil,d0e=Math.max;function rb(e,t,n){(n?x3(e,t,n):t===void 0)?t=1:t=d0e(c0e(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(u0e(r/t));i<r;)o[s++]=zx(e,i,i+=t);return o}const f0e=(e,t,n)=>e>=t&&e<n;function h0e(e,t){var b,S,x;const n=_.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,I)=>{var L,j;w.push({index:I,type:"group",bottom:(((L=w.at(-1))==null?void 0:L.bottom)??0)+e.groupHeight,groupIndex:I});for(let $=0;$<E;$++){const Q=e.groupSizes.reduce((M,z,P)=>M+(P<I?z:0),0)+$;w.push({index:Q,type:"item",bottom:(((j=w.at(-1))==null?void 0:j.bottom)??0)+e.itemHeight,groupIndex:I})}}),w},[e.itemHeight,e.groupHeight,e.groupSizes]),r=((b=n.at(-1))==null?void 0:b.bottom)??0,i=_.useRef(null),s=((S=i.current)==null?void 0:S.getBoundingClientRect().height)??global.innerHeight,o=_.useCallback(w=>{const E=n.findIndex(L=>L.bottom>w-e.overScan),I=n.findIndex(L=>L.bottom>w+s+e.overScan);return[E,I===-1?n.length:I]},[n,s,e.overScan]),[[a,l],c]=_.useState(o(0));_.useLayoutEffect(()=>{var E;const w=o(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[o,e.groupSizes,a,l]),_.useEffect(()=>{if(i.current){const w=()=>{var I;const E=o(((I=i.current)==null?void 0:I.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,o,r]);const u=_.useCallback((w,E)=>{var I,L;return(((I=n[E])==null?void 0:I.bottom)??0)-(((L=n[w])==null?void 0:L.bottom)??0)},[n]),d=_.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(x=g.at(-1))==null||x.push(E)}_.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(I=>I.type==="item"&&I.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",I="center")=>{var j,$;const L=n.find(Q=>Q.type==="item"&&Q.index===w);if(L){const Q=(e.itemHeight+(I==="center"?(j=i.current)==null?void 0:j.clientHeight:0))/2;($=i.current)==null||$.scrollTo({top:L.bottom-Q,behavior:E})}},scrollToGroup:async(w,E="auto",I="top")=>{var j;const L=n.find($=>$.type==="group"&&$.index===w);L&&((j=i.current)==null||j.scrollTo({top:L.bottom-e.groupHeight,behavior:E}))}}));const{Header:m,Footer:A,EmptyPlaceholder:v}=e.components??{},y=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsx(f.Fragment,{children:f.jsxs(g0e,{ref:i,children:[f.jsxs(p0e,{style:{height:r,paddingTop:h!==-1?d-e.groupHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[y]&&!f0e(y,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[y].index,n[y].groupIndex,{style:{width:"100%",position:"absolute",top:n[y].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[y].bottom,"data-virtualized-index":n[y].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:I,type:L,bottom:j,groupIndex:$})=>f.jsx(_.Fragment,{children:L==="group"?e.groupContent(I):e.itemContent(I,$,{"data-virtualized-bottom":j,"data-virtualized-index":I})},`${j}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),A&&f.jsx(A,{context:e.context})]})})}const p0e=C("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),g0e=C("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),m0e=_.forwardRef(h0e);function v0e(e,t){const n=_.useRef(null),r=_.useMemo(()=>e.groups.map(u=>({group:u,rows:rb(u.songs,e.perRow)})),[e.groups,e.perRow]),i=_.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=_.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=_.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=_.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return _.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(y=>y.index===d),g=r.slice(0,h).reduce((y,{rows:b})=>y+b.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,Ns()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(m0e,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{group:r[d].group,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(_.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const y0e=_.forwardRef(v0e),d$=(e,t)=>e+Math.random()*(t-e),Ts=(e,t)=>Math.round(d$(e,t)),A0e=250,_0e=750;function b0e(e){const t=eP(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=eP(async()=>xW(),[]),r=_.useMemo(()=>Mm.recentlyUpdated(e),[e]).map(l=>l.id),[i]=$e(t0),s=t.loading||n.loading||!e.length,o=_.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(A0e,_0e-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=_.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const x0e=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function S0e(){const e=Sh(),{value:{popular:t},loading:n}=b0e(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=rme(e.data,t,r);return{groupedSongList:_.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(A=>{try{const{name:v,...y}=((u==null?void 0:u.groupData)??x0e)(A);let b=h.find(S=>S.name===v);b||(b={name:v,songs:[],...y},h.push(b)),b.songs.push({index:s.indexOf(A),song:A,isPopular:t.includes(A.id)})}catch(v){console.error(v),Ls(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const A=s.filter(v=>v.isNew);A.length&&A.length<50&&m.unshift({name:"New",isNew:!0,songs:A.map(v=>({song:v,index:s.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}function jm(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e},[e]),t.current}const w0e=30;function E0e(e,t,n=w0e){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Ts(0,i.length-1)]}else r=Ts(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const k0e=(e=[],t)=>{var A;const[n,r]=_.useState([0,0]),i=_.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),s=_.useMemo(()=>e.map(({songs:v})=>rb(v.map(y=>y.index),t)).flat(),[i,t]),o=_.useMemo(()=>e.map(({songs:v,name:y})=>rb(v.map(()=>y),t)).flat(),[i,t]),a=jm(s??[]),l=n[0]===((A=s[n[1]])==null?void 0:A.length)-1,c=_.useCallback((v,y)=>{var x;const b=s.findIndex((w,E)=>w.includes(v)&&(!y||y===o[E][0])),S=(x=s[b])==null?void 0:x.indexOf(v);S>=0&&b>=0?r([S??0,b??0]):r([0,0])},[s]),u=([v,y],b,S)=>{var w;if(e.length===0)return S;const x=b[y];return(x==null?void 0:x[v])??(x==null?void 0:x.at(-1))??((w=b==null?void 0:b[0])==null?void 0:w[0])??S},d=([v,y],b=s)=>u([v,y],b,0),h=([v,y],b=o)=>u([v,y],b,"A");_.useEffect(()=>{const v=d(n,a),y=d(n,s);a.length&&v!==y&&c(v)},[n,s,a,l]);const p=(v,y)=>{E0.play(),r(([b,S])=>{let x=b,w=S;if(v==="y")w=S+y;else{if(s[S]===void 0)debugger;const E=s[S].length-1;x=Math.min(b,E)+y,x<0?(w=(s.length+S-1)%s.length,x=s[w].length-1):x>E&&(w=S+1,x=0)}return[x%t,(s.length+w)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},C0e=(e,t=[],n,r,i,s)=>{const o=Lr(),[a,l]=_.useState([!1,null]),c=jm(a),[u,d]=a,[h,p,g,m,A,v]=k0e(t,s),y=g[0]===0,b=()=>{Cx.play(),n()},[S,x]=_.useState(!1),w=jm(i.search);_.useLayoutEffect(()=>{if(w&&!i.search){x(!0);const P=setTimeout(()=>x(!1),2e3);return()=>{clearTimeout(P),x(!1)}}},[i.search]);const E=()=>{!S&&!i.search&&(Tx.play(),o("menu/"))},I=_.useCallback(Rc((P,T)=>{const F=(t.length+T+P)%t.length;A(t[F].songs[0].index),E0.play()},700,{trailing:!1}),[t]),L=(P,T)=>{if(!(P!=null&&P.repeat))m("y",T);else{const F=t.findIndex(O=>!!O.songs.find(N=>N.index===h));I(T,F)}},j=(P,T=!1)=>{!T&&P===-1&&y&&!u?l([!0,"left"]):m("x",P)},$=_.useRef([]),Q=()=>{const P=E0e(r,$.current);A(P)};Tl({accept:b,down:P=>L(P,1),up:P=>L(P,-1),left:()=>j(-1),right:()=>j(1),back:E,random:Q},e&&!u,[t,g,u,i,S]);const M=_.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search"]}),[]);Pu(M,e);const z=_.useCallback(P=>{l([!1,P??null])},[l,j,t,g]);return _.useLayoutEffect(()=>{const[P,T]=c;P&&!u&&T===d&&j(d==="right"?1:-1,!0)},[u,d,y,v,...g]),[h,p,A,u,z,Q]};function T0e(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=S0e(),[u,d]=_.useState(!0),h=w=>{Ff(()=>{Tu.flushSync(()=>{d(w)})}),Ix.play()},[p,g,m,A,v,y]=C0e(u,r,()=>h(!1),n.length,s,t),[b,S]=_.useState(!1);_.useEffect(()=>{if(!b&&n.length&&!o){const w=n.findIndex(L=>L.id===e),E=n.findIndex(L=>L.isNew);let I=Ts(0,n.length-1);(w>-1||E>-1)&&(I=w),S(!0),m(I)}},[m,b,p,n,e,o]),_.useEffect(()=>{var w;if(b&&n.length&&n[p]&&!o){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[b,p,n,o]);const x=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:x,songList:n??[],filters:s,setFilters:i,showFilters:A,setShowFilters:v,isLoading:o||!b,randomSong:y,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const I0e=1.2,KP=4,f$=7,ib=4.5,YP=f$+ib,Tp=3.5,P0e={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(B0e,{}),e&&e.songPreview.songPreview&&f.jsx(Zme,{...e.songPreview})]}),Footer:()=>f.jsxs(M0e,{children:["Missing a song? Try"," ",f.jsx(_w,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(L0e,{children:"No songs found"})};function R0e({onSongSelected:e,preselectedSong:t}){const[n]=$e(Zn),r=n?KP-1:KP;ya(!1),da(!0),HN();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:A,selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,songList:S}=T0e(t,r),x=_.useMemo(()=>a.map(U=>U.songs).flat().find(U=>U.song.id===(c==null?void 0:c.id)),[c,a]),w=_.useRef(null),E=_ge(),{width:I,handleResize:L}=wh(),$=(I-(YP+ib)*E-(r-1)*Tp*E)/r,Q=$*(9/16),M=Q/2,z=_.useCallback(()=>u(!1),[u]),P=m||!a||!I,T=v==="Eurovision",F=_.useRef(null);_.useEffect(()=>{const U=ne=>S.findIndex(V=>V.id===ne);return global.__songList={scrollToSong:ne=>{var he;const[V]=ne.split("-new-group"),le=ne.endsWith("-new-group"),Z=a.find(Se=>!!Se.isNew===le&&Se.songs.some(we=>we.song.id===V));if(Z){const Se=U(V);return(he=w.current)==null||he.scrollToSongInGroup(Z.name,Se,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,S]);const[{previewTop:O,previewLeft:N},B]=_.useState({previewTop:0,previewLeft:0});_.useEffect(()=>{const U=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&U?B({previewTop:U.offsetTop+U.parentNode.offsetTop,previewLeft:U.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,I]),_.useEffect(()=>{var U;L(),m||(U=w.current)==null||U.scrollToSongInGroup(i,s)},[I,s,i,a,m,L]);const G=Lr();return gr("Shift + E",()=>G(km("edit/song/",{playlist:null,step:"metadata"})),[G]),f.jsx(ko,{children:f.jsxs(j0e,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(M)}px`,"--song-entry-width":`${Math.floor($)}px`,"--song-entry-height":`${Math.floor(Q)}px`,"--song-list-gap":`${Math.floor(Tp*E)}px`,"--song-list-padding-left":`${Math.floor(YP*E)}px`,"--song-list-padding-right":`${Math.floor(ib*E)}px`,"--song-sidebar-weight":`${Math.floor(f$*E)}px`},children:[P?f.jsxs(JP,{children:[f.jsx(ZP,{children:f.jsx(QP,{children:f.jsx(sb,{children:""})})}),new Array(4).fill(0).map((U,ne)=>f.jsx(eR,{children:new Array(4).fill(0).map((V,le)=>f.jsx(XP,{},le))}))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(O0e,{videoId:c.video}),f.jsx(Cge,{setFilters:d,filters:h,onRandom:A,keyboardControl:l}),f.jsx(gme,{container:F.current,groupedSongList:a,onScrollToGroup:U=>{o(U.songs[0].index),setTimeout(()=>{var ne;return(ne=w.current)==null?void 0:ne.scrollToGroup(U.name)},20)}}),f.jsx(JP,{active:l,dim:g,"data-test":"song-list-container",ref:F,children:f.jsx(y0e,{focusedSong:s,focusedGroup:i,ListRowWrapper:eR,GroupRowWrapper:ZP,ref:w,groups:a,itemHeight:Math.floor(Q)+Math.floor(Tp*E),groupHeight:Math.floor(M)+Math.floor(Tp*E),components:P0e,renderGroup:U=>f.jsx(QP,{highlight:U.name==="New",children:f.jsx(sb,{"data-group-name":U.name,children:U.displayLong??U.name})},U.name),perRow:r,renderItem:(U,ne)=>{const V=U.index===s&&ne.name===i;return _.createElement($0e,{...g||!l?{"data-unfocusable":!0}:{},isPopular:U.isPopular,key:U.song.id,song:U.song,handleClick:V?z:o,focused:!g&&l&&V,index:U.index,groupLetter:ne.name,"data-song-index":U.index,"data-focused":!g&&l&&U.index===s,"data-test":`song-${U.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:T})},placeholder:f.jsx(XP,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:T,isPopular:!!(x!=null&&x.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:O,left:N,width:Math.floor($),height:Math.floor(Q)}}})})]}),f.jsx(Oge,{selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,active:g,closePlaylist:p})]})})}const M0e=C("div",{target:"e13s0pn12"})(Ne,";text-align:center;font-size:5rem;padding:10rem 0;"),j0e=C("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),O0e=e=>{const{theme:t}=_.useContext(Wx);return t==="eurovision"?null:f.jsx(V0e,{...e})},V0e=C(Ige,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),QP=C("div",{target:"e13s0pn9"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);",e=>e.highlight&&Vt(sb,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}",""),";"),L0e=C("div",{target:"e13s0pn8"})(Ne,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),sb=C("div",{target:"e13s0pn7"})(Ne,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",fe.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),JP=C("div",{target:"e13s0pn6"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),XP=C("div",{target:"e13s0pn5"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"});var N0e={name:"1jwmbuq",styles:"transition:300ms"};const $0e=_.memo(C(ZN,{target:"e13s0pn4"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);",e=>e.theme.graphicSetting==="high"&&N0e," transform:scale(",e=>e.focused?I0e:1,");",e=>e.focused&&"z-index: 2;"," ",e=>e.focused&&uo,";")),B0e=C("div",{target:"e13s0pn3"})(""),h$=C("div",{target:"e13s0pn2"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),ZP=C(h$,{target:"e13s0pn1"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"});var D0e={name:"j4wph1",styles:"background:rgba(0, 0, 0, 0.7)"};const eR=C(h$,{target:"e13s0pn0"})("position:relative;",e=>{var t;return((t=e.group)==null?void 0:t.isNew)&&D0e},";");function F0e(e){const[t,n]=$e(t0),[r,i]=_.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(zN,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(R0e,{...e})}var _E={},z0e=Xe;Object.defineProperty(_E,"__esModule",{value:!0});var p$=_E.default=void 0,U0e=z0e(nt()),H0e=f;p$=_E.default=(0,U0e.default)((0,H0e.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const sd=e=>new Promise(t=>setTimeout(t,e)),pA=15;function G0e({onFinish:e}){const[t,n]=_.useState(!1),[r,i]=_.useState([]);Xr(te.readinessConfirmed,a=>{i(l=>[...l,a])});const s=Ti([te.inputListChanged,te.readinessConfirmed],()=>Re.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));_.useEffect(()=>{(async()=>{let a=!1;const l=Re.requestReadiness().then(()=>{a=!0,n(!0)}),c=sd(1500),u=sd(pA*1e3);await sd(250),a||await Jp.play(),await Promise.race([Promise.all([l,c]),u]),Jp.playing()&&I3.play(),await sd(500),Jp.pause(),await sd(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(q0e,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(K0e,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(Y0e,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(Q0e,{children:a?f.jsx(p$,{}):f.jsx(xh,{color:"info",size:"1em"})})," ",f.jsx(l$,{player:c})]},u))}),!t&&f.jsxs(W0e,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(hE,{end:0,start:pA,duration:pA,useEasing:!1})})]})]})})}const q0e=C("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Ne,";"),W0e=C("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),K0e=C("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),Y0e=C("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),Q0e=C("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function J0e({register:e,onExit:t}){const n=_.useRef(null),[r,i]=_.useState(!1),[s,o]=_.useState(!1),[a,l]=_.useState(!1);_.useEffect(()=>{var u;(u=n.current)==null||u.focus()},[n]);const c=()=>{const u=je.getSong(),d={songId:u==null?void 0:u.id,songLastUpdated:u==null?void 0:u.lastUpdate},h=[];r&&h.push("not-in-sync"),s&&h.push("wrong-volume"),a&&h.push("bad-lyrics"),h.length&&kn.capture("rate-song",{issues:h,...d}),t()};return f.jsx(f.Fragment,{children:f.jsxs(ds,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(gA,{...e("button-not-in-sync",()=>i(u=>!u)),size:"small",children:[f.jsx(mA,{children:r?f.jsx(Jd,{}):f.jsx(Xd,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(gA,{...e("button-bad-lyrics",()=>l(u=>!u)),size:"small",children:[f.jsx(mA,{children:a?f.jsx(Jd,{}):f.jsx(Xd,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(gA,{...e("button-wrong-volume",()=>o(u=>!u)),size:"small",children:[f.jsx(mA,{children:s?f.jsx(Jd,{}):f.jsx(Xd,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Te,{...e("button-song-ok",c,void 0,!0),ref:n,children:s||r?"Submit and exit":"All good, exit the song"})]})})}const gA=C(Te,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),mA=C("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function X0e({onResume:e,onExit:t,onRestart:n}){const r=Lr(),i=_.useRef(null),s=_.useRef(null);_.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=_.useState(!1),{register:l}=Vn({enabled:!o}),[c,u]=_.useState(!1),d=async()=>{const h=je.getSongCompletionProgress(),p=(await $s.getIndex()).find(g=>{var m;return g.id===((m=je.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!Ns()?u(!0):t()};return f.jsxs(Iu,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(ds,{children:[f.jsx(Te,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Te,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Te,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Te,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(mN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Te,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=je.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(c$,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(J0e,{onExit:t,register:l})]})}const g$=Ns()?1e3:8e3;function Z0e(e){return Math.floor((gv(e)-g$)/1e3)}const eve=2e4;function tve(e){return gv(e)-(e.videoGap??0)*1e3>eve}function nve({playerRef:e,isEnabled:t}){const[n]=$e(Zn),r=je.getSong(),i=_.useMemo(()=>tve(r),[r]),s=_.useMemo(()=>gv(r),[r]),o=je.getCurrentTime(!1)<s-g$*1.2,a=t&&o&&i;Tl({accept:()=>{e==null||e.seekTo(Z0e(r));const{artist:u,title:d}=je.getSong();kn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=_.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Pu(c,a),!n&&a?f.jsxs(rve,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(ive,{children:"Enter"})," to skip the intro"]}):null}const rve=C("div",{target:"e167kngm1"})(Ne,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),ive=C("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),sve=15e3;function ove({onSongEnd:e,isEnabled:t}){const[n]=$e(Zn),r=je.getDuration(),i=_.useMemo(()=>Math.max(...je.getPlayers().map(p=>gf(p.getLastNotesSection()))),[]),s=_.useMemo(()=>{var g;const p=xN(i,je.getSong())+(((g=je.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+sve},[r,i,t]),[o,a]=_.useState(0),[l,c]=_.useState(!1);rce(()=>a(je.getCurrentBeat()),1e3);const u=Uw(s&&o>i,5e3)&&!l;Tl({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=je.getSong();kn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=_.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Pu(h,u),!n&&s?f.jsxs(ave,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(lve,{children:"Enter"})," to skip the outro"]}):null}const ave=C("div",{target:"e1b01y1a1"})(Ne,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),lve=C("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),cve=Pe.memo(ove);function tR(e){return e&&e.length?aN(e):[]}function uve({players:e}){const t=je.getCurrentTime(!1),n=je.getSongBeatLength(),r=je.getDuration(),i=je.getSong(),s=_.useMemo(()=>tR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>oa(l)*n+i.gap)),[i,n,e]),o=_.useMemo(()=>tR(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>pf(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(bE,{children:[s.map(l=>f.jsx(nR,{position:l/a},l)),o.map(l=>f.jsx(nR,{position:l/a},l)),f.jsx(hve,{fill:t/a})]})}const bE=C("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),dve=C(bE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",fe.colors.text.active,";opacity:75%;"),nR=e=>f.jsx(dve,{style:{left:`${Math.min(e.position*100,100)}%`}}),fve=C(bE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),hve=e=>f.jsx(fve,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function pve({player:e,bottom:t=!1,...n}){const r=sn.getPlayerVolume(e.number),i=r$(e.number);return f.jsxs(gve,{...n,children:[i!=="unavailable"&&f.jsx(tpe,{playerNumber:e.number,volume:r}),f.jsx(mve,{status:i,tooltipPosition:"start"}),f.jsx(vve,{playerNumber:e.number})]})}const gve=C("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),mve=C(a$,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),vve=C(s$,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function rR({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var S;const i=je.getPlayer(e.number),[s]=$e(Zn),o=fe.colors.players[e.number].text,a=((S=je.getSingSetup())==null?void 0:S.mode)===vr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=je.getCurrentBeat(),h=je.getSongBeatLength(),p=Math.max(0,...a.filter(x=>x<=((l==null?void 0:l.start)??-1/0))),g=a.find(x=>x>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,A=(g-d)/(g-p),v=m<2500,y=St(l),b=y?oa([l])-l.start:0;return f.jsxs(xve,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(yve,{children:r?f.jsx(iR,{player:e}):je.getPlayers().map(x=>f.jsx(iR,{player:Re.getPlayer(x.getNumber())},x.getNumber()))}),m<1/0&&f.jsx(Tve,{color:o,progress:A<=1?A*100:0}),y?f.jsx(f.Fragment,{children:f.jsxs(Ip,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(Ave,{children:f.jsx(bve,{color:o,percent:Math.min(2,(d-l.start)/b)})}),l==null?void 0:l.notes.map(x=>{const w=Math.max(0,Math.min(2,(d-x.start)/x.length));return f.jsxs(Sve,{type:x.type,children:[f.jsxs(wve,{children:[f.jsx(kve,{fill:w,color:o,children:x.lyrics.trim()}),x.lyrics.endsWith(" ")&&" "]}),x.lyrics]},x.start)}),(c==null?void 0:c.start)===g&&f.jsx(sR,{shouldShake:!0})]})}):f.jsx(Ip,{effectsEnabled:n,children:""}),St(c)?f.jsxs(Ip,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(x=>f.jsx(_.Fragment,{children:x.lyrics},x.start)),(u==null?void 0:u.start)===g&&f.jsx(sR,{})]}):f.jsx(Ip,{effectsEnabled:n,nextLine:!0,children:""})]})}const iR=C(pve,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),yve=C("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Ave=C("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),_ve=C("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),bve=({percent:e,color:t})=>{const n=_.useMemo(()=>{const r=de(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(_ve,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},xve=C("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),Sve=C("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),wve=C("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),Eve=C("span",{target:"e1j3lo7n3"})(""),kve=({fill:e,color:t,children:n})=>f.jsx(Eve,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),Cve=C("div",{target:"e1j3lo7n2"})("position:absolute;height:1rem;background:",e=>e.color,";width:100%;"),Tve=e=>f.jsx(Cve,{"data-test":"pass-the-mic-progress",style:{transformOrigin:"left",transform:`scaleX(${e.progress/100})`},color:e.color}),sR=C(pv,{shouldForwardProp:e=>e!=="shouldShake",target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}",e=>e.shouldShake&&"animation: shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;"," margin-left:2rem;",e=>e.shouldShake?`fill: ${fe.colors.text.active};`:""," font-size:",e=>e.shouldShake?4:3,"rem;"),Ip=C("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;",({effectsEnabled:e})=>e?"":"-webkit-text-stroke-width: 2px",";color:",({nextLine:e})=>e?fe.colors.text.inactive:fe.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),m$=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function ob({score:e}){return f.jsx(f.Fragment,{children:m$.format(e)})}const v$=6,pi=30,un=pi+6,Ive=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function oR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var b;const u=o.sections,d=u[t],h=u[t+1],p=Ive({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=St(d)?(b=d==null?void 0:d.notes)==null?void 0:b.at(-1):void 0,m=St(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,A=d.start*r,v=(m-d.start)*r,y=(p.height-20-pi)/(s-i+v$*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:A,maxTime:v,pitchStepHeight:y}}function y$(e,t,n,r,i){return i&&n?fe.colors.players[t].starPerfect:i?fe.colors.players[t].perfect:n&&r?fe.colors.players[t].star:r?fe.colors.players[t].hit:fe.colors.players[t].miss}function Pve(e,t,n,r){return y$(e,t,r.note.type==="star",n,r.isPerfect)}const vA={},Rve=e=>{if(!vA[e]){const t=de(e);vA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return vA[e]};function ab(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=Rve(o);l.addColorStop(0,c[Ts(0,c.length-1)]),l.addColorStop(.05,c[Ts(0,c.length-1)]),l.addColorStop(.15,d[Ts(0,d.length-1)]),l.addColorStop(1,u[Ts(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function A$(e,t,n,r,i,s,o,a,l=1){i>0&&ab(e,t,n,r,i,s,a,l)}const gg=(e,t)=>e-t+Math.random()*t*2,aR=(e=0)=>Math.sign(e+Math.random()-.5),Mve=300,jve=50,Pp=1.3;class Ove{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;A$(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=gg(Mve,jve),this.velocityX=Pp*Math.random()-Pp/2,this.velocityY=Pp*Math.random()-Pp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const Vve=`
precision mediump float;
`,bv=Vve.replace(/\n/g,""),Lve=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,_$=Lve.replace(/\n/g,""),Nve=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,xv=Nve.replace(/\n/g,""),$ve=bv+_$+xv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;$ve.replace(/\n/g,"");const Bve=bv+xv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Bve.replace(/\n/g,"");const Dve=bv+_$+xv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;Dve.replace(/\n/g,"");const Fve=bv+xv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;Fve.replace(/\n/g,"");function zve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:zx(e,t,n)}var Uve="\\ud800-\\udfff",Hve="\\u0300-\\u036f",Gve="\\ufe20-\\ufe2f",qve="\\u20d0-\\u20ff",Wve=Hve+Gve+qve,Kve="\\ufe0e\\ufe0f",Yve="\\u200d",Qve=RegExp("["+Yve+Uve+Wve+Kve+"]");function b$(e){return Qve.test(e)}function Jve(e){return e.split("")}var x$="\\ud800-\\udfff",Xve="\\u0300-\\u036f",Zve="\\ufe20-\\ufe2f",eye="\\u20d0-\\u20ff",tye=Xve+Zve+eye,nye="\\ufe0e\\ufe0f",rye="["+x$+"]",lb="["+tye+"]",cb="\\ud83c[\\udffb-\\udfff]",iye="(?:"+lb+"|"+cb+")",S$="[^"+x$+"]",w$="(?:\\ud83c[\\udde6-\\uddff]){2}",E$="[\\ud800-\\udbff][\\udc00-\\udfff]",sye="\\u200d",k$=iye+"?",C$="["+nye+"]?",oye="(?:"+sye+"(?:"+[S$,w$,E$].join("|")+")"+C$+k$+")*",aye=C$+k$+oye,lye="(?:"+[S$+lb+"?",lb,w$,E$,rye].join("|")+")",cye=RegExp(cb+"(?="+cb+")|"+lye+aye,"g");function uye(e){return e.match(cye)||[]}function dye(e){return b$(e)?uye(e):Jve(e)}function fye(e){return function(t){t=Dx(t);var n=b$(t)?dye(t):void 0,r=n?n[0]:t.charAt(0),i=n?zve(n,1).join(""):t.slice(1);return r[e]()+i}}var hye=fye("toUpperCase");function pye(e){return hye(Dx(e).toLowerCase())}function lR(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function xE(e,t,n,r,i,s,o,a,l=.1){lR(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),lR(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Sd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function wd(e,t,n,r,i,s,o){s==="star"?Sd(e,fe.colors.lines.star):s==="freestyle"||s==="rap"?Sd(e,fe.colors.lines.freestyle):s==="rapstar"?Sd(e,{...fe.colors.lines.star,fill:fe.colors.lines.freestyle.fill}):Sd(e,fe.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?fe.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,xE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function gye(e,t,n,r,i,s,o,a,l){Sd(e,y$(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,xE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Sn=10,mye={start:{x:0,y:0,w:pi/2+Sn,h:pi+Sn*2},middle:{x:pi/2+Sn,y:0,w:1,h:pi+Sn*2},end:{x:pi/2+1+Sn,y:0,w:pi/2+Sn,h:pi+Sn*2}},bc={start:{x:0,y:0,w:un/2+Sn,h:un+Sn*2},middle:{x:un/2+Sn,y:0,w:1,h:un+Sn*2},end:{x:un/2+1+Sn,y:0,w:un/2+Sn,h:un+Sn*2}},Yl=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>gye(s,o,a,l,c,e,t,n,r),width:i?un:pi+1,height:i?un:pi,padding:Sn,fragments:i?bc:mye}),Rp=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>wd(t,n,r,i,s,"normal",e),width:un+1,height:un,padding:Sn,fragments:bc},[`p${e}Miss`]:Yl(e,!1,!1,!1,!1),[`p${e}Hit`]:Yl(e,!0,!1,!1,!0),[`p${e}Perfect`]:Yl(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Yl(e,!1,!1,!0,!1),[`p${e}StarHit`]:Yl(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Yl(e,!0,!0,!0,!0)}),Xs={...Rp(0),...Rp(1),...Rp(2),...Rp(3),noteStar:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"star"),width:un+1,height:un,padding:Sn,fragments:bc},noteFreestyle:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"freestyle"),width:un+1,height:un,padding:Sn,fragments:bc},noteRap:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"rap"),width:un+1,height:un,padding:Sn,fragments:bc},noteRapstar:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"rapstar"),width:un+1,height:un,padding:Sn,fragments:bc}};function vye(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const T$=Math.max(...Object.values(Xs).map(e=>e.padding*2+e.width)),I$=Object.values(Xs).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),P$=vye(T$,I$),ub=P$.getContext("2d");let qa=0;const cR=Object.entries(Xs).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:qa,w:t.width+n,h:t.height+n};return qa=qa+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),R$=()=>{ub.clearRect(0,0,T$,I$),qa=0,Object.entries(Xs).forEach(([e,t])=>{t.draw(ub,t.padding,qa+t.padding,t.width,t.height),qa=qa+t.padding*2+t.height})};R$();te.songStarted.subscribe(R$);const M$=(e,t)=>({canvas:P$,ctx:ub,x:cR[e].x+Xs[e].fragments[t].x,y:cR[e].y+Xs[e].fragments[t].y,w:Xs[e].fragments[t].w,h:Xs[e].fragments[t].h,padding:Xs[e].padding}),yA=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=M$(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,A=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-A,i-v,s??d,o??h),e.imageSmoothingEnabled=!0,c};function j$(e,t,n,r,i){const s=M$(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;yA(e,t,"start",n,r,l,void 0,a),u>0&&yA(e,t,"middle",n+l,r,u,void 0,a),yA(e,t,"end",n+u+l,r,l,void 0,a)}const yye=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${pye(e)}`;function O$(e,t,n,r,i,s){const o=yye(i.type,s);j$(e,o,t,n,r)}function Aye(e,t,n,r,i,s){e.save(),xE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const _ye=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},bye=["star","rapstar"];function xye(e,t,n,r,i,s,o){const a=_ye(i,s,o.isPerfect,bye.includes(o.note.type));j$(e,a,t,n,r)}class Sye{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Ta=new Sye,wye=50/60*1e3,Eye=25/60*1e3,kye=60,uR=.3;class Cye{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;A$(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=gg(wye,Eye),this.velocityX=gg(.5,uR)*aR(.2),this.velocityY=gg(.4,uR)*aR(),this.width=kye,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Tye{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?fe.colors.players[i].star.fill:fe.colors.players[i].perfect.fill,l=de(a).lighten(15).toRgbString(),c=de(a).darken(15).toRgbString(),u=r/8;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new Cye(t+d*5,g,p,(u-d)/10))}}}const dR=200;class Iye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=dR,this.tick=(o,a,l)=>{const c=this.ttl/dR;o.save(),o.globalAlpha=c,o.translate(0,un*(1-c)),O$(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const AA=50/60*1e3,Mp=.05,Pye=200,fR=4,Rye=Math.pow;function hR(e){return 1-Rye(1-e,2)}class Mye{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/AA;let c=hR(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;ab(o,s,this.x,this.y,u,d,"white",c*.35),c=hR(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,A=AA-this.ttl;s.globalAlpha=c*.2,ab(o,s,g+A*this.velocityX,m+A*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=AA,this.velocityX=Mp*Math.random()-Mp/2,this.velocityY=Mp*Math.random()-Mp/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*fR+(Pye-fR))}}const pR=20;class jye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/pR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/pR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const gR=20;function Oye(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class Vye{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(je.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Re.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),Ta.tick(s,this.canvas,this.pauseTime)),Wa.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,Wa.get())}Wa.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=oR(o);if(xs.get()==="high"&&this.setDistortionForce(o),!St(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),xs.get()==="high"&&this.drawFlare(s,o,l)},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!St(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-gR),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Ng(m)===0).reduce((m,A)=>m+A.length-Math.max(0,c-A.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/gR,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{St(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);O$(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{St(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=Ng(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(xye(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&Ta.add(new jye(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!jd.includes(a.note.type)&&Aye(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!St(s.currentSection))return;const a=Oye(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=jd.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,A=this.getPreciseY(d,p,g);Ta.add(new Mye(m,A,s.currentTime,1)),Ta.add(new Ove(d$(Math.max(u,m-50),m),A,Pve(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,A)}},this.onSectionEnd=i=>{if(je.isPlaying()){const s=this.getDrawingData(i,-1);if(!St(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{xs.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);Ta.add(new Iye(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{xs.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||jd.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);Ta.add(new Tye(l,c+d/2,u,s.playerNumber,a.note,Ta))})},this.calculateDisplacements=(i,s)=>{const o={};return xs.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Re.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=je.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=je.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:je.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:je.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:je.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=oR(i),g=St(d)?d.notes[0].start:1,m=h.width/(u-g),[A,v]=l?c:[0,0],y=p*(i.maxPitch-a+v$);return{x:Math.floor(h.baseX+m*(s-g)+A),y:Math.floor(h.baseY+10+y+v-(l?3:0)),w:Math.floor(m*o),h:l?un:pi}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const Lye=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,Nye=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,$ye=1920,Bye=_.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var b,S,x;const[c]=$e(xs),[u]=$e(Zn),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null),g=$ye,m=g*(n/t),A=m/n;_.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(b=p.current)==null?void 0:b.offsetHeight,A]),_.useEffect(()=>(je.startInputMonitoring(),()=>{je.stopInputMonitoring()}),[]),_.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new Vye(d.current,p.current.offsetHeight*A),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(S=p.current)==null?void 0:S.offsetHeight,A]),_.useEffect(()=>{var w,E,I,L;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((I=h.current)!=null&&I.isPlaying())&&((L=h.current)==null||L.resume())},[a]),_.useEffect(()=>{e===An.ENDED&&i&&i()},[e,i]);const v=Re.getPlayers(),y=!u&&v.length===2;return f.jsxs(Dye,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:Lye}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:Nye}),f.jsx(zye,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(Fye,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(nve,{playerRef:o,isEnabled:!a}),f.jsx(cve,{onSongEnd:i,isEnabled:!a})]}),f.jsx(uve,{players:r}),f.jsx(mR,{children:y&&f.jsx(rR,{player:v[0],effectsEnabled:s,showMultipleLines:y})}),f.jsx(Uye,{children:s&&f.jsx(f.Fragment,{children:((x=je.getSingSetup())==null?void 0:x.mode)===vr.CO_OP?f.jsx(vR,{"data-test":"players-score","data-score":Math.floor(je.getPlayerScore(0)),children:f.jsx(ob,{score:je.getPlayerScore(0)})}):Re.getPlayers().map(w=>f.jsx(vR,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(je.getPlayerScore(w.number)),children:f.jsx(ob,{score:je.getPlayerScore(w.number)})},w.number))})}),f.jsx(mR,{ref:p,children:f.jsx(rR,{showMultipleLines:y,player:v[y?1:0],bottom:!0,effectsEnabled:s})})]})}),mR=C("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),Dye=C("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),Fye=C("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),zye=C("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),Uye=C("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),vR=C("span",{target:"el0barv0"})("");function Hye(e,t){const[n,r]=_.useState(0);return _.useEffect(()=>{e.current&&t===An.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),je.setDuration(i)})},[n,e,t]),n}function Gye({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=_.useRef(null),[A,v]=_.useState(0),[y,b]=_.useState(An.UNSTARTED),[S]=$e(Id),[x,w]=_.useState(!1);_.useEffect(()=>(je.setSong(e),je.setSingSetup(u),()=>{je.resetSingSetup()}),[e,u]),_.useEffect(()=>{if(m.current&&y===An.PLAYING){const P=setInterval(async()=>{if(!m.current)return;const T=Math.max(0,await m.current.getCurrentTime()*1e3-S);v(T),s==null||s(T),je.setCurrentTime(T),je.update()},1e3/Wa.get());return()=>clearInterval(P)}},[m,s,y,S]);const E=Hye(m,y);_.useImperativeHandle(g,()=>({seekTo:P=>m.current.seekTo(P),setPlaybackSpeed:P=>m.current.setPlaybackSpeed(P),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const I=_.useCallback(P=>{b(P),a==null||a(P)},[b,a]),L=h,j=()=>{var P;w(!0),(P=m.current)==null||P.pauseVideo()},$=()=>{var P;w(!1),(P=m.current)==null||P.playVideo()},Q=()=>{x?$():j()},M=jm(y);_.useEffect(()=>{var T;if(!L)return;const P=M!==An.PAUSED&&M!==An.BUFFERING&&y===An.PAUSED;y===An.PLAYING&&x?(T=m.current)==null||T.pauseVideo():P&&!x&&w(!0)},[x,y,M,L]),Tl({back:Q},L,[x]);const z=_.useMemo(()=>({back:"Pause Menu"}),[]);return Pu(z,c),f.jsxs(qye,{...p,children:[x&&f.jsx(X0e,{onExit:o,onResume:$,onRestart:d}),y!==An.UNSTARTED&&f.jsx(Wye,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(Bye,{isPauseMenuVisible:x,effectsEnabled:c,duration:E,currentStatus:y,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(Kye,{children:[f.jsx(Jw,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:I}),y===An.PLAYING&&f.jsx(Yye,{"data-test":"make-song-go-fast",onClick:()=>{var P;(P=m.current)==null||P.setPlaybackSpeed(2)}})]})]})}const qye=C("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),Wye=C("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),Kye=C("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),Yye=C("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),Qye=_.forwardRef(Gye),yR=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:""})," or ",f.jsx("kbd",{children:""})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(_f,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],Jye=({as:e="h4",...t})=>{const n=_.useRef(Ts(0,yR.length-1)),r=e;return f.jsx(r,{...t,children:yR[n.current]})};function Xye({...e}){const[t,n]=_.useState(""),r=_.useRef(null);return _.useEffect(()=>{const i=setTimeout(()=>{n(Qi.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),_.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Ls(i)}},[t]),f.jsx(Zye,{...e,children:f.jsx(eAe,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const Zye=C("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),eAe=C("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function tAe(e){return 1-Math.pow(1-e,3)}function nAe(e){return tAe(e)}function jp({color:e,maxScore:t,score:n}){return f.jsx(rAe,{style:{border:n===0?0:void 0,width:`${nAe(n/t)*24}%`,backgroundColor:e}})}const rAe=C("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var V$={exports:{}};(function(e,t){(function(n,r){e.exports=r(_)})(typeof self<"u"?self:Do,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>O});var u=c(4087),d=c.n(u);const h=function(N){return new RegExp(/<[a-z][\s\S]*>/i).test(N)},p=function(N,B){return Math.floor(Math.random()*(B-N+1))+N};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",A="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",y="PAUSE_FOR",b="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",x="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",I="PASTE_STRING",L="HTML_TAG";function j(N){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},j(N)}function $(N,B){var G=Object.keys(N);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(N);B&&(U=U.filter(function(ne){return Object.getOwnPropertyDescriptor(N,ne).enumerable})),G.push.apply(G,U)}return G}function Q(N){for(var B=1;B<arguments.length;B++){var G=arguments[B]!=null?arguments[B]:{};B%2?$(Object(G),!0).forEach(function(U){T(N,U,G[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(G)):$(Object(G)).forEach(function(U){Object.defineProperty(N,U,Object.getOwnPropertyDescriptor(G,U))})}return N}function M(N){return function(B){if(Array.isArray(B))return z(B)}(N)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(N)||function(B,G){if(B){if(typeof B=="string")return z(B,G);var U=Object.prototype.toString.call(B).slice(8,-1);return U==="Object"&&B.constructor&&(U=B.constructor.name),U==="Map"||U==="Set"?Array.from(B):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?z(B,G):void 0}}(N)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function z(N,B){(B==null||B>N.length)&&(B=N.length);for(var G=0,U=new Array(B);G<B;G++)U[G]=N[G];return U}function P(N,B){for(var G=0;G<B.length;G++){var U=B[G];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(N,F(U.key),U)}}function T(N,B,G){return(B=F(B))in N?Object.defineProperty(N,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[B]=G,N}function F(N){var B=function(G,U){if(j(G)!=="object"||G===null)return G;var ne=G[Symbol.toPrimitive];if(ne!==void 0){var V=ne.call(G,"string");if(j(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(N);return j(B)==="symbol"?B:String(B)}const O=function(){function N(U,ne){var V=this;if(function(Z,he){if(!(Z instanceof he))throw new TypeError("Cannot call a class as a function")}(this,N),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){V.state.elements.container&&(V.state.elements.wrapper.className=V.options.wrapperClassName,V.state.elements.cursor.className=V.options.cursorClassName,V.state.elements.cursor.innerHTML=V.options.cursor,V.state.elements.container.innerHTML="",V.state.elements.container.appendChild(V.state.elements.wrapper),V.state.elements.container.appendChild(V.state.elements.cursor))}),T(this,"start",function(){return V.state.eventLoopPaused=!1,V.runEventLoop(),V}),T(this,"pause",function(){return V.state.eventLoopPaused=!0,V}),T(this,"stop",function(){return V.state.eventLoop&&((0,u.cancel)(V.state.eventLoop),V.state.eventLoop=null),V}),T(this,"pauseFor",function(Z){return V.addEventToQueue(y,{ms:Z}),V}),T(this,"typeOutAllStrings",function(){return typeof V.options.strings=="string"?(V.typeString(V.options.strings).pauseFor(V.options.pauseFor),V):(V.options.strings.forEach(function(Z){V.typeString(Z).pauseFor(V.options.pauseFor).deleteAll(V.options.deleteSpeed)}),V)}),T(this,"typeString",function(Z){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return V.typeOutHTMLString(Z,he);if(Z){var Se=(V.options||{}).stringSplitter,we=typeof Se=="function"?Se(Z):Z.split("");V.typeCharacters(we,he)}return V}),T(this,"pasteString",function(Z){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?V.typeOutHTMLString(Z,he,!0):(Z&&V.addEventToQueue(I,{character:Z,node:he}),V)}),T(this,"typeOutHTMLString",function(Z){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Se=arguments.length>2?arguments[2]:void 0,we=function(Ve){var Ie=document.createElement("div");return Ie.innerHTML=Ve,Ie.childNodes}(Z);if(we.length>0)for(var pe=0;pe<we.length;pe++){var Ae=we[pe],Ge=Ae.innerHTML;Ae&&Ae.nodeType!==3?(Ae.innerHTML="",V.addEventToQueue(S,{node:Ae,parentNode:he}),Se?V.pasteString(Ge,Ae):V.typeString(Ge,Ae)):Ae.textContent&&(Se?V.pasteString(Ae.textContent,he):V.typeString(Ae.textContent,he))}return V}),T(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return V.addEventToQueue(A,{speed:Z}),V}),T(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return V.addEventToQueue(x,{speed:Z}),V}),T(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return V.addEventToQueue(w,{delay:Z}),V}),T(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return V.addEventToQueue(E,{cursor:Z}),V}),T(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var he=0;he<Z;he++)V.addEventToQueue(m);return V}),T(this,"callFunction",function(Z,he){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return V.addEventToQueue(b,{cb:Z,thisArg:he}),V}),T(this,"typeCharacters",function(Z){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(Se){V.addEventToQueue(g,{character:Se,node:he})}),V}),T(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){V.addEventToQueue(m)}),V}),T(this,"addEventToQueue",function(Z,he){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return V.addEventToStateProperty(Z,he,Se,"eventQueue")}),T(this,"addReverseCalledEvent",function(Z,he){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return V.options.loop?V.addEventToStateProperty(Z,he,Se,"reverseCalledEvents"):V}),T(this,"addEventToStateProperty",function(Z,he){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],we=arguments.length>3?arguments[3]:void 0,pe={eventName:Z,eventArgs:he||{}};return V.state[we]=Se?[pe].concat(M(V.state[we])):[].concat(M(V.state[we]),[pe]),V}),T(this,"runEventLoop",function(){V.state.lastFrameTime||(V.state.lastFrameTime=Date.now());var Z=Date.now(),he=Z-V.state.lastFrameTime;if(!V.state.eventQueue.length){if(!V.options.loop)return;V.state.eventQueue=M(V.state.calledEvents),V.state.calledEvents=[],V.options=Q({},V.state.initialOptions)}if(V.state.eventLoop=d()(V.runEventLoop),!V.state.eventLoopPaused){if(V.state.pauseUntil){if(Z<V.state.pauseUntil)return;V.state.pauseUntil=null}var Se,we=M(V.state.eventQueue),pe=we.shift();if(!(he<=(Se=pe.eventName===v||pe.eventName===m?V.options.deleteSpeed==="natural"?p(40,80):V.options.deleteSpeed:V.options.delay==="natural"?p(120,160):V.options.delay))){var Ae=pe.eventName,Ge=pe.eventArgs;switch(V.logInDevMode({currentEvent:pe,state:V.state,delay:Se}),Ae){case I:case g:var Ve=Ge.character,Ie=Ge.node,_e=document.createTextNode(Ve),Ue=_e;V.options.onCreateTextNode&&typeof V.options.onCreateTextNode=="function"&&(Ue=V.options.onCreateTextNode(Ve,_e)),Ue&&(Ie?Ie.appendChild(Ue):V.state.elements.wrapper.appendChild(Ue)),V.state.visibleNodes=[].concat(M(V.state.visibleNodes),[{type:"TEXT_NODE",character:Ve,node:Ue}]);break;case m:we.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case y:var qe=pe.eventArgs.ms;V.state.pauseUntil=Date.now()+parseInt(qe);break;case b:var He=pe.eventArgs,rt=He.cb,it=He.thisArg;rt.call(it,{elements:V.state.elements});break;case S:var $t=pe.eventArgs,At=$t.node,qt=$t.parentNode;qt?qt.appendChild(At):V.state.elements.wrapper.appendChild(At),V.state.visibleNodes=[].concat(M(V.state.visibleNodes),[{type:L,node:At,parentNode:qt||V.state.elements.wrapper}]);break;case A:var st=V.state.visibleNodes,_t=Ge.speed,wt=[];_t&&wt.push({eventName:x,eventArgs:{speed:_t,temp:!0}});for(var Ke=0,Bt=st.length;Ke<Bt;Ke++)wt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});_t&&wt.push({eventName:x,eventArgs:{speed:V.options.deleteSpeed,temp:!0}}),we.unshift.apply(we,wt);break;case v:var ye=pe.eventArgs.removingCharacterNode;if(V.state.visibleNodes.length){var We=V.state.visibleNodes.pop(),Pn=We.type,bt=We.node,vn=We.character;V.options.onRemoveNode&&typeof V.options.onRemoveNode=="function"&&V.options.onRemoveNode({node:bt,character:vn}),bt&&bt.parentNode.removeChild(bt),Pn===L&&ye&&we.unshift({eventName:v,eventArgs:{}})}break;case x:V.options.deleteSpeed=pe.eventArgs.speed;break;case w:V.options.delay=pe.eventArgs.delay;break;case E:V.options.cursor=pe.eventArgs.cursor,V.state.elements.cursor.innerHTML=pe.eventArgs.cursor}V.options.loop&&(pe.eventName===v||pe.eventArgs&&pe.eventArgs.temp||(V.state.calledEvents=[].concat(M(V.state.calledEvents),[pe]))),V.state.eventQueue=we,V.state.lastFrameTime=Z}}}),U)if(typeof U=="string"){var le=document.querySelector(U);if(!le)throw new Error("Could not find container element");this.state.elements.container=le}else this.state.elements.container=U;ne&&(this.options=Q(Q({},this.options),ne)),this.state.initialOptions=Q({},this.options),this.init()}var B,G;return B=N,(G=[{key:"init",value:function(){var U,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(A,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(U=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(U)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(U){this.options.devMode&&console.log(U)}}])&&P(B.prototype,G),Object.defineProperty(B,"prototype",{writable:!1}),N}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,A=g==null?0:g.length;for(this.__data__=new u;++m<A;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function A(v){var y=this.__data__=new u(v);this.size=y.size}A.prototype.clear=d,A.prototype.delete=h,A.prototype.get=p,A.prototype.has=g,A.prototype.set=m,a.exports=A},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),A=Object.prototype.hasOwnProperty;a.exports=function(v,y){var b=h(v),S=!b&&d(v),x=!b&&!S&&p(v),w=!b&&!S&&!x&&m(v),E=b||S||x||w,I=E?u(v.length,String):[],L=I.length;for(var j in v)!y&&!A.call(v,j)||E&&(j=="length"||x&&(j=="offset"||j=="parent")||w&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||g(j,L))||I.push(j);return I}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,A,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,A,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),A=c(4144),v=c(6719),y="[object Arguments]",b="[object Array]",S="[object Object]",x=Object.prototype.hasOwnProperty;a.exports=function(w,E,I,L,j,$){var Q=m(w),M=m(E),z=Q?b:g(w),P=M?b:g(E),T=(z=z==y?S:z)==S,F=(P=P==y?S:P)==S,O=z==P;if(O&&A(w)){if(!A(E))return!1;Q=!0,T=!1}if(O&&!T)return $||($=new u),Q||v(w)?d(w,E,I,L,j,$):h(w,E,z,I,L,j,$);if(!(1&I)){var N=T&&x.call(w,"__wrapped__"),B=F&&x.call(E,"__wrapped__");if(N||B){var G=N?w.value():w,U=B?E.value():E;return $||($=new u),j(G,U,I,L,$)}}return!!O&&($||($=new u),p(w,E,I,L,j,$))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,A=Object.prototype,v=m.toString,y=A.hasOwnProperty,b=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(S){return!(!h(S)||d(S))&&(u(S)?b:g).test(p(S))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,A,v,y){var b=1&m,S=p.length,x=g.length;if(S!=x&&!(b&&x>S))return!1;var w=y.get(p),E=y.get(g);if(w&&E)return w==g&&E==p;var I=-1,L=!0,j=2&m?new u:void 0;for(y.set(p,g),y.set(g,p);++I<S;){var $=p[I],Q=g[I];if(A)var M=b?A(Q,$,I,g,p,y):A($,Q,I,p,g,y);if(M!==void 0){if(M)continue;L=!1;break}if(j){if(!d(g,function(z,P){if(!h(j,P)&&($===z||v($,z,m,A,y)))return j.push(P)})){L=!1;break}}else if($!==Q&&!v($,Q,m,A,y)){L=!1;break}}return y.delete(p),y.delete(g),L}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),A=u?u.prototype:void 0,v=A?A.valueOf:void 0;a.exports=function(y,b,S,x,w,E,I){switch(S){case"[object DataView]":if(y.byteLength!=b.byteLength||y.byteOffset!=b.byteOffset)return!1;y=y.buffer,b=b.buffer;case"[object ArrayBuffer]":return!(y.byteLength!=b.byteLength||!E(new d(y),new d(b)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+y,+b);case"[object Error]":return y.name==b.name&&y.message==b.message;case"[object RegExp]":case"[object String]":return y==b+"";case"[object Map]":var L=g;case"[object Set]":var j=1&x;if(L||(L=m),y.size!=b.size&&!j)return!1;var $=I.get(y);if($)return $==b;x|=2,I.set(y,b);var Q=p(L(y),L(b),x,w,E,I);return I.delete(y),Q;case"[object Symbol]":if(v)return v.call(y)==v.call(b)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,A,v){var y=1&g,b=u(h),S=b.length;if(S!=u(p).length&&!y)return!1;for(var x=S;x--;){var w=b[x];if(!(y?w in p:d.call(p,w)))return!1}var E=v.get(h),I=v.get(p);if(E&&I)return E==p&&I==h;var L=!0;v.set(h,p),v.set(p,h);for(var j=y;++x<S;){var $=h[w=b[x]],Q=p[w];if(m)var M=y?m(Q,$,w,p,h,v):m($,Q,w,h,p,v);if(!(M===void 0?$===Q||A($,Q,g,m,v):M)){L=!1;break}j||(j=w=="constructor")}if(L&&!j){var z=h.constructor,P=p.constructor;z==P||!("constructor"in h)||!("constructor"in p)||typeof z=="function"&&z instanceof z&&typeof P=="function"&&P instanceof P||(L=!1)}return v.delete(h),v.delete(p),L}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var A=h.call(m,g),v=m[g];try{m[g]=void 0;var y=!0}catch{}var b=p.call(m);return y&&(A?m[g]=v:delete m[g]),b}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(A){return h.call(m,A)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),A=c(346),v="[object Map]",y="[object Promise]",b="[object Set]",S="[object WeakMap]",x="[object DataView]",w=A(u),E=A(d),I=A(h),L=A(p),j=A(g),$=m;(u&&$(new u(new ArrayBuffer(1)))!=x||d&&$(new d)!=v||h&&$(h.resolve())!=y||p&&$(new p)!=b||g&&$(new g)!=S)&&($=function(Q){var M=m(Q),z=M=="[object Object]"?Q.constructor:void 0,P=z?A(z):"";if(P)switch(P){case w:return x;case E:return v;case I:return y;case L:return b;case j:return S}return M}),a.exports=$},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var A=m.__data__;if(!d||A.length<199)return A.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(A)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(A){return d(A)&&p.call(A,"callee")&&!g.call(A,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],A=0;!g&&A<h.length;A++)g=d[h[A]+"Request"+p],m=d[h[A]+"Cancel"+p]||d[h[A]+"CancelRequest"+p];if(!g||!m){var v=0,y=0,b=[];g=function(S){if(b.length===0){var x=u(),w=Math.max(0,16.666666666666668-(x-v));v=w+x,setTimeout(function(){var E=b.slice(0);b.length=0;for(var I=0;I<E.length;I++)if(!E[I].cancelled)try{E[I].callback(v)}catch(L){setTimeout(function(){throw L},0)}},Math.round(w))}return b.push({handle:++y,callback:S,cancelled:!1}),y},m=function(S){for(var x=0;x<b.length;x++)b[x].handle===S&&(b[x].cancelled=!0)}}a.exports=function(S){return g.call(d,S)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>b});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h(S)}function p(S,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,v(E.key),E)}}function g(S,x){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(S,x)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function A(S){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},A(S)}function v(S){var x=function(w,E){if(h(w)!=="object"||w===null)return w;var I=w[Symbol.toPrimitive];if(I!==void 0){var L=I.call(w,"string");if(h(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(S);return h(x)==="symbol"?x:String(x)}var y=function(S){(function($,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(Q&&Q.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),Q&&g($,Q)})(j,S);var x,w,E,I,L=(E=j,I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $,Q=A(E);if(I){var M=A(this).constructor;$=Reflect.construct(Q,arguments,M)}else $=Q.apply(this,arguments);return function(z,P){if(P&&(h(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(z)}(this,$)});function j(){var $,Q,M,z;(function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")})(this,j);for(var P=arguments.length,T=new Array(P),F=0;F<P;F++)T[F]=arguments[F];return Q=m($=L.call.apply(L,[this].concat(T))),z={instance:null},(M=v(M="state"))in Q?Object.defineProperty(Q,M,{value:z,enumerable:!0,configurable:!0,writable:!0}):Q[M]=z,$}return x=j,(w=[{key:"componentDidMount",value:function(){var $=this,Q=new c.default(this.typewriter,this.props.options);this.setState({instance:Q},function(){var M=$.props.onInit;M&&M(Q)})}},{key:"componentDidUpdate",value:function($){d()(this.props.options,$.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var $=this,Q=this.props.component;return l().createElement(Q,{ref:function(M){return $.typewriter=M},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(x.prototype,w),Object.defineProperty(x,"prototype",{writable:!1}),j}(a.Component);y.defaultProps={component:"div"};const b=y})(),o.default})())})(V$);var iAe=V$.exports;const L$=lr(iAe);function sAe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(oAe,{children:[f.jsx(jp,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:fe.colors.players[e].perfect.fill}),f.jsx(jp,{score:n>0?r.perfect:0,maxScore:i.perfect,color:fe.colors.players[e].stroke}),f.jsx(jp,{score:n>1?r.star:0,maxScore:i.star,color:fe.colors.players[e].starPerfect.stroke}),f.jsx(jp,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:fe.colors.players[e].perfect.stroke}),f.jsx(aAe,{children:n<5&&f.jsx(L$,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const oAe=C("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),aAe=C("span",{target:"ejw0p7o0"})("position:absolute;",Ne,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function lAe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(cAe,{children:[f.jsx(fAe,{children:f.jsxs(dAe,{highscore:o&&u(t.name),color:s?fe.colors.players[e].text:"",win:o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(uAe,{color:s?fe.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(hE,{preserveValue:!0,end:c,formattingFn:m$.format,duration:a<5?1:.5}),f.jsx(hAe,{highscore:o&&u(t.name),children:"High score!"})]})}),f.jsx(sAe,{playerNumber:e,player:t,segment:a})]})}const cAe=C("div",{target:"e1vy0af44"})({name:"use048",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem 1rem 2rem"}),uAe=C("span",{target:"e1vy0af43"})("font-size:4rem;color:",e=>e.color,";"),dAe=C(vv,{target:"e1vy0af42"})("background:transparent;font-size:",e=>e.win?"8.5rem":"5.5rem",";color:",e=>e.win?fe.colors.text.active:"white",";transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;"),fAe=C("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),hAe=C(RN,{target:"e1vy0af40"})("top:-3.5rem;right:-11rem;font-size:3rem;",e=>e.highscore&&gw,";opacity:",e=>e.highscore?"1":"0",";transition:400ms;");function pAe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=_.useState(-1);_.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():(kn.capture("animation_skipped"),s(5))};Tl({accept:a},!0,[i]);const l=_.useMemo(()=>({accept:"Next"}),[]);Pu(l,!0);const c=r.mode===vr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>mx(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(gAe,{children:[f.jsx(mAe,{children:u.map((p,g)=>f.jsx(lAe,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(vAe,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),Qi.getPermissionStatus()&&f.jsx(yAe,{})]})}const gAe=C("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),mAe=C("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),vAe=C(us,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),yAe=C(Xye,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function AAe(){return _.useMemo(()=>JSON.parse(Oe.session.getItem(Zc))??[],[])}function _Ae({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=_.useRef(null),[o,a]=_.useState(""),l=AAe(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(u$,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function bAe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Vn(),s=Nge(r);return f.jsxs(f.Fragment,{children:[f.jsx(xAe,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(SAe,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(wAe,{children:a+1}),f.jsx(EAe,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(_Ae,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(kAe,{children:f.jsx(ob,{score:o.score})}),f.jsx(CAe,{children:Xi(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(TAe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const xAe=C("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),SAe=C("div",{target:"e1kq1u2t5"})("position:relative;",Ne,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),wAe=C("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",fe.colors.text.active,";"),EAe=C("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),kAe=C("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),CAe=C("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),TAe=C(us,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function IAe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=$e(n0);ya(!0);const[l,c]=_.useState("results");return f.jsxs(CN,{songData:e,width:t,height:n,children:[f.jsxs(PAe,{children:[l==="results"&&f.jsx(pAe,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(bAe,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(RAe,{$active:!0})]}),a==="christmas"&&f.jsxs(MAe,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const PAe=C("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),RAe=C(Jye,{shouldForwardProp:e=>!e.startsWith("$"),target:"e1fxxvcx1"})("transition:300ms;transform:scale(",({$active:e})=>e?1:0,");position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"),MAe=C("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Ne,";");function jAe(e){const[t,n,r,i]=OAe(e);return VAe(t,n,r,i)()}function OAe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function VAe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const LAe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],AR=new Date("2016-01-01").getTime(),NAe=new Date("2024-01-07").getTime(),_A=5;function $Ae(e,t){const n=gE(e);return _.useMemo(()=>{const i=[...LAe];return[...Array.from({length:_A},(o,a)=>{const l=jAe(e.id+a),c=6e5+14e5/(_A-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:Ns()?c/1e3:c,date:new Date((NAe-AR)*l+AR).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,_A)},[e.id,n,t])??[]}function BAe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=$Ae(e,i),o=_.useMemo(()=>Re.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:je.getPlayerDetailedScore(a.number)})),[]);return f.jsx(ko,{children:f.jsx(IAe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function DAe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){UN(),HN();const i=_.useRef(null),s=SN(e.id),{width:o,height:a}=wh(),[l,c]=_.useState(!1),[u,d]=_.useState(!0),[h,p]=_.useState(An.UNSTARTED),[g,m]=_.useState(!1);return da(!g),_.useEffect(()=>{u&&s.data&&(g||h!==An.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(BAe,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(ko,{children:f.jsxs(FAe,{children:[f.jsxs(zAe,{visible:u,"data-test":"background-container",children:[f.jsx(HAe,{video:e.video,width:o,height:a}),f.jsx(GAe,{"data-test":"song-artist",children:e.artist}),f.jsx(qAe,{"data-test":"song-title",children:e.title}),f.jsx(G0e,{onFinish:()=>{var A;m(!0),(A=i.current)==null||A.play()}})]}),s.data&&f.jsx(Qye,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var y;const A=((y=je.getSingSetup())==null?void 0:y.mode)===vr.CO_OP?[{name:Re.getPlayers().map(b=>b.getName()).join(", "),score:je.getPlayerScore(0)}]:Re.getPlayers().map(b=>({name:b.getName(),score:je.getPlayerScore(b.number)})),v=je.getSongCompletionProgress();te.songEnded.dispatch(s.data,t,A,v),c(!0)},singSetup:t,restartSong:r})]})})}const FAe=C("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),zAe=C("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),UAe=C("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),HAe=e=>f.jsx(UAe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),GAe=C(yE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),qAe=C(_v,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function WAe(){const e=I0("song"),[t,n]=_.useState(null),[r,i]=_.useState(e??null),[s,o]=_.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Ff(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",Tu.flushSync(()=>{n(l)})}),Ix.play()};return UN(),f.jsxs(f.Fragment,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Qw,{children:t?f.jsx(DAe,{restartSong:()=>{Qi.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(F0e,{onSongSelected:a,preselectedSong:r})})]})}const KAe=C("div",{target:"e1x9yhuz2"})(iJ,"{display:none;}"),_R=C("div",{target:"e1x9yhuz1"})(tu,"{display:none;}");var YAe=_.createContext({client:kn}),QAe=function(){var e=_.useContext(YAe).client;return e};function JAe(e){var t=QAe(),n=_.useState(),r=n[0],i=n[1];return _.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}const XAe="/assets/screenshot1-DaCeVKxL.webp",ZAe="/assets/screenshot2-BGzMpznM.webp",e1e="/assets/screenshot3-uopWyjAi.webp",t1e=["fzAyZ1Lh-zI","y83x7MgzWOA","-35W_FWCT9Q","BDFCRcWTkw4","kg1BljLu9YY","x_Zd3KoEtRk","NeQM1c-XCDc","tR-qQcNT_fY","skK2b-zYO3w","NlgmH5q9uNk","HwQM8XM5GKQ","KlyXNRrsk4A","mOYZaiDZ7BM","WC5FdFlUcl0","djV11Xbc914","O986FuTmQcM","Ejya0YnaCY4","SRvCvsRp5ho","-8VfKZCOo_I","ZemZjPCXe0A","cjVQ36NhbMk","k2C5TjS2sh4","tAGnKpE4NCI","6hzrDeceEKc","6Whgn_iE5uc","ZMmLeV47Au4","7qrRzNidzIc","1ZZQuj6htF4","y8-LH_VUROk","YcSP1ZUf1eQ","EIfZXSXRsYI","8YzabSdk7ZA","Sv-BxH3SVS8","qlPx6tmAIlM","UjpbQ1OWMPE","XBkEXZ8okuM","ygneL83Adu4","jZGpkLElSu8","hZ7Zw_ohxvU","rvdYly4A5W0","x8G4xrYfWmw","8-bgiiTxhzM","udBLU0Y_G2s","ErSCdHJdUgU","GLvohMXgcBo","-J7J_IWUhls","qCIyK3ec4kE","hN5X4kGhAtU","BOES-Cnmllg","kfcoJPnw2L4","Cnz2n5VcV4Q","1YUBbF24H44","q_71ctU9MzI","sRxrwjOtIag","kPBzTxZQG5Q","ompevuR1644","NdYWuo9OFAw","pmanD_s7G3U","gjS-RclEQgo","l482T0yNkeo","mgWGR-g9mFQ","Dsp_8Lm1eSk","1ekZEVeXwek","EYfuISiohyI","QeWBS0JBNzQ","L-iepu3EtyE","ljwUlY9WW1I","s__rX_WL100","zaaEvo_8i4Y","nhBorPm6JjQ","gV5iQJLpVnM","ZkdvU7nPM5Q","fBrX8ym3dBM","fq1_fKtcIUc","NPcyTyilmYY","adLGHcj_fmA","bdKvsfGpe98","ma9I9VBKPiw","CocEMWdc7Ck","Qu-j1T3fza4","Y2NkuFIlLEo","lJXJ5rzcHVQ","H6DeIBK0yuc","TkPbJIlEXow","goXDAFtkJLw","uLIs0j2WnlM","lOnAzx5Fn8g","BciS5krYL80","XeZ9bP2FXEw","yKNxeF4KMsY","X-x7eZOdBFM","u9LH_y159sg","MVpi6TH-3NU","NUsoVlDFqZg","KVjeheaFfsM","iS85LogrBP4","gBt1jOtKz6Y","iPw_xZL8k24","O8qasKe9Ljo","0nYDnTTJgFI","FndmvPkI1Ms","4k1fm6YNsg8","DTmEmsJgh0I","iCNekTCRnis","Q4VK9_CfOLQ","fV4DiAyExN0","nSDgHBxUbVQ","NZ_wT5qx0UM","0LwcvjNJTuM","G-MH-7BmAhc","Ud7mYAI4Vtk","p47fEXGabaY","g5qU7p7yOY8","Xcwd_Nz6Zog","Y7ONTHp9-jc","Ho32Oh6b4jc","t5Sd5c4o9UM","mfyBu5ZuuY8","M4d20Tyzlv0","D8hAhqDcVRA","rvxKb3NVq1U","gdjR2lvIfJ4","nxRIjRSzxGo","v2H4l9RpkwM","2lGP78ckF_Q","0NKUpo_xKyQ","2p_7338B5ow","yIUn_u3nSoo","WrcwRt6J32o","I012yI2Kzqg","juJkNKodgdE","z6rhLTg6M7A","G_oKsG8KRZI","eP165tiRd24","tt2k8PGm-TI","uHP-qgzUVLM","KNtJGQkC-WI","cH4E_t3m3xM","SR6iYWJxHqs","KWGrPNqz4uc","QUvVdTlA23w","P-6FLQliz84","-fWw7FE9tTo","nXb46PPcwQ0","Y8JFxS1HlDo","PQZhN65vq9E","ymPu2PdLW3I","Xk2O_p1ICco","f41rIgQF-Mw","LTrk4X9ACtw","dK39yZNnhHc","LjhCEhWiKXk","Bt3Y3HJpXQs","xwtdhWltSIg","F2AitTPI5U0","uSD4vsh1zDA","q3zqJs7JUCQ","Mj0e1DvUFk8","xbomdE81_mA","22QCGBE6oLo","vGJTaP6anOU","oGpFcHTxjZs","oEQfZxQ7TPk","0vTopF6wwZg","mdB3Oyd5HtU","PZYSiWHW8V0","HhjHYkPQ8F0","3vjkh-acmTE","uJg8U0QMXEQ","_7xMfIp-irg","iP6XpLQM2Cs","JwC1Ctrj6Xk","qukswgSkkzc","dO8n-Zvulbk","YnopHCL1Jk8","wfN4PVaOU5Q","sIGIuLL_pZE","aGCdLKXNF3w","zEkg4GBQumc","Lo4_K4relMg","3KL9mRus19o","YqeW9_5kURI","GKl6hK2IzbY","fPgf2meEX1w","SzimletXB7M","1uHNygqhBCs","PJniSb91tvo","QJGy2n7ReHk","0I647GU3Jsc","3U72hzeBLOw","JkK8g6FMEXE","0HtyF0jux2Q","QRxH-II0OsA","YnSW8ian29w","dO1rMeYnOmM","31crA53Dgu0","nXTxmu5WSGA","Qt2mbGP6vFI","cz-1cBfOCc4","yBA53l_InJQ"],n1e=["N Sync","David Guetta feat. Kelly Rowland","Kings Of Leon","Chris Isaak","Usher feat. Pitbull","The Bloodhound Gang","Voyager","Cascada","Justin Bieber","Bryan Adams","Nickelback","Reba McEntire with Brooks & Dunn","Eric Saade","Kanye West","Srbuk","Imagine Dragons x JID","Dami Im","Nelly Furtado","Billy Boyd","Coldplay","The Temptations","Lady Antebellum","Jewel","The Proclaimers","Culture Club","Sarah McLachlan","Shawn Mendes, Camila Cabello","M83 feat. Susanne Sundfr","Radical Face","Selena Gomez","Kid Rock","Jack White","Electric Callboy feat. Sido","Coldplay x BTS","Bon Jovi","Miley Cyrus","Sylver","Ellie Goulding","Lil Nas X feat. Billy Ray Cyrus","Leona Lewis","Cailin Russo & Chrissy Costanza","Wiz Khalifa","The Village People","Macklemore & Ryan Lewis feat. Wanz","Ed Sheeran and Elton John","Natasha Bedingfield","Men at Work","Asking Alexandria","Tool","Katy Perry feat. Migos","Europe","A Perfect Circle","Sheryl Crow","John Legend","Florence + the Machine","Alexander Rybak","Netta","David Guetta feat. Chris Willis","Alessia Cara","Jay-Z feat. Rihanna & Kanye West","Calvin Harris feat. Rihanna","Olly Murs","We The Kings feat. Demi Lovato","Natasha Farrow","Bruno Mars & Cardi B","Guns N Roses","Mandy Moore","Linkin Park","Jimmy Eat World","Enrique Iglesias feat. Pitbull","The Beatles","Soulja Boy Tellem feat. Sammie","Lady Gaga","Neon Genesis Evangelion","Hazbin Hotel","Red Hot Chili Peppers","The Rasmus","Rage Against the Machine","Duncan Laurence","Marshmello x Jonas Brothers","JoJo","Disneys Frozen II","Ariana Grande feat. Future","Shawn Mendes","Smokie","LSD","Snow Patrol","Petula Clark","The Rolling Stones","Jimi Jamison","Mneskin","Chenoa","Edward Maya & Vika Jigulina","Britney Spears","Depeche Mode","Enya","The Cinematic Orchestra","Ariana Grande feat. Iggy Azalea","Genesis","Major Lazer & DJ Snake feat. M","The Killers","Marc Cohn","Dido","Bucks Fizz","B.o.B feat. Bruno Mars","The Calling","Queen & David Bowie","Henry Moodie","Shakin Stevens","James Morrison feat. Nelly Furtado","Mariah Carey","KoRn","Nick Cave & The Bad Seeds + Kylie Minogue","Ren","The Mamas & The Papas","Subwoolfer","The Clash","Lipps, Inc.","Hillsong United","Disneys Descendants","Usher & Alicia Keys","Alicia Keys","Pixies","Jessie J feat. Ariana Grande & Nicki Minaj","Doki Doki Literature Club!","Blur","Kanye West feat. Various Artists","Blanka","Miracle Of Sound","Beyonc feat. Jay-Z","Bobby Helms","Backstreet Boys","Empire Of The Sun","Ricky Martin with Christina Aguilera","Amy Winehouse","FIFTY FIFTY","Crowded House","Jessie J","Alphaville","Ween","The Smiths","David Guetta feat. Kid Cudi","Nick Jonas","Sun Stroke Project & Olia Tira","PinkPantheress & Ice Spice","Aerosmith","Loc Nottet","Rihanna feat. Eminem","Tones And I","Anastacia","Timbaland presents OneRepublic","Maroon 5 feat. Wiz Khalifa","The Black Eyed Peas Feat. Justin Timberlake","Serj Tankian","Fun.","B.o.B feat. Hayley Williams","Katy Perry","David Guetta feat. Nicki Minaj","Imagine Dragons","Bebe Rexha y David Guetta","Baby Lasagna","Lil Nas X","Green Day","Borislav Slavov (Baldur's Gate 3)","Shakira ft. Freshlyground","High School Musical","Pharrell Williams","Nirvana","Dana International","Bob Marley & The Wailers","Psychostick","Billy Joel","Justin Bieber feat. Usher","Donna Summer","Flo Rida feat. Ke$ha","Colbie Caillat","Peter Gabriel & Kate Bush","Paris Hilton","Blondie","Tom Jones","Barbie (Ryan Gosling)","Katy Perry feat. Kanye West","Ice Cube","Tina Turner","My Chemical Romance","Nelly Furtado feat. Timbaland","Eleni Foureira","Victoria Justice & Ariana Grande","Will Ferrell & Rachel McAdams","Wham!","Reba McEntire & Kelly Clarkson","Gotye & Kimbra","Jesse McCartney","Ashley Tisdale (The Little Mermaid)","Rihanna, Kanye West & Paul McCartney","The Kelly Family","Rob Thomas","Sia","Iggy Pop","Gorillaz","Eminem","Alanis Morissette","Taio Cruz","Lord Of The Lost","Netflix","AC/DC","Ray Parker Jr.","The Living Tombstone","Westlife","A Great Big World","Andrew Lambrou","Michael Jackson","The Weeknd","Post Malone feat. 21 Savage","Manchester Orchestra","Rihanna feat. Calvin Harris","Kim Petras & Nicki Minaj","George Ezra","Chris Brown feat. Rihanna","Man With A Mission","Sophie Ellis-Bextor","Daniel Powter","Mariah Carey feat. Jay-Z","Chicago","Christina Aguilera feat. Redman","Smash Into Pieces","Josh Groban","Blink 182","AURORA","Marshmello & Anne-Marie","Vanessa Carlton","David Guetta feat. Rihanna","Rod Stewart","The Jackson 5","Beyonc","Starship","Clean Bandit feat. Marina & Luis Fonsi","Camila Cabello feat. Daddy Yankee","Boney M","Sabrina Carpenter","LP","Owl City & Carly Rae Jepsen","Weezer","Bryan Adams, Rod Stewart & Sting","Cheryl Cole","Andy Williams","Elton John & Dua Lipa","James Blunt","Justin Bieber feat. Big Sean","Daft Punk","SZA","5 Seconds of Summer","ABBA","Elton John","Anitta","The Police","Marilyn Manson","Panic! at the Disco","Israel Kamakawiwoole","Arctic Monkeys","Wilson Phillips","Rascal Flatts","Finger Eleven","Eric Clapton","Joan Jett & The Blackhearts","Vampire Weekend","The Postal Service","The Blues Brothers","Joan Jett","Martina McBride","Akon feat. Eminem","Amy Grant","Sinad OConnor","Christina Milian","Tears For Fears","Magic!","The Vines","Loreen","Phil Collins","Vanilla Ice","Rihanna & Ne-Yo","Marina & The Diamonds","Sam Smith","Kylie Minogue","Awolnation","Kid Rock feat. Sheryl Crow","Tate McRae","Beastie Boys","Miranda Lambert","RagnBone Man","LE SSERAFIM","Simon & Garfunkel","Doja Cat","Bing Crosby","Phoebe Bridgers","Windows95man","Zedd & Foxes","Ke$ha feat. 3OH!3","Mika","Meghan Trainor","Baccara","Bradley Cooper & Lady Gaga","Scooter vs. Marc Acardipane & Dick Rules","Kendrick Lamar feat. Drake","The Script","Rasmussen","David Guetta feat. Akon","Cornelia Jakobs","Alan Walker & Ava Max","Michael Bubl","Olivia Newton-John","Jordin Sparks feat. Chris Brown","Dire Straits","Johnny Cash","Eminem feat. Dido","Glen Hansard And Markta Irglov","BTS feat. Desiigner","Les Fatals Picards","Ed Sheeran","Avenged Sevenfold","Babymetal x Electric Callboy","Elvis Presley","Daft Punk feat. Julian Casablancas","Katy Perry feat. Snoop Dogg","Little Big","Travie McCoy feat. Bruno Mars","Gym Class Heroes feat. Adam Levine","Tix","Mariah Carey & Whitney Houston","Kaleen","Shakira feat. Wyclef Jean","Sara Bareilles","S Club 7","Toto","Aqua","Roxette","Bonnie Tyler","Tiffany","Peter Gabriel","Zoe Wees","Modern Talking","Fools Garden","All Time Low feat. Demi Lovato & Blackbear","Elena Siegman","Coldplay feat. Beyonc","Shakira feat. Rihanna","Cline Dion","Charlie Puth & Selena Gomez","Robbie Williams","USA for Africa","The Rembrandts","A Day to Remember","Brotherhood Of Man","Disney's Tangled","Margaret Berger","Crush 40","Lena","Lifehouse","Big Time Rush","Manuel","Don McLean","The Strokes","Rhapsody","Twenty One Pilots","Dean Lewis","SEBalter","Smash Mouth","La Roux","Kid Cudi feat. MGMT & Ratatat","Oasis","Simple Plan","Demi Lovato feat. Cher Lloyd","Teach-In","Kaiser Chiefs","Ultravox","Jonathan Coulton","Victoria Justice","Lady Gaga feat. Beyonc","Maroon 5","Skillet","Huey Lewis & The News","NCT DREAM","We Are Domi","Pink Floyd","Kings of Leon","Lana Del Rey feat. The Weeknd","Hilary Duff","Soundgarden","Adam Lambert","Remo Forrer","Verka Serduchka","Placebo","America","Van Halen","Olly Murs feat. Flo-Rida","Christina Aguilera, Lil Kim, Mya & P!nk (Moulin Rouge)","Brandy & Monica","Lordi","Kellie Pickler","Wiz Khalifa ft. Charlie Puth","Jay Sean feat. Lil Wayne","Lily Allen","Foo Fighters","Counting Crows","Brenda Lee","Whitney Houston","Coolio feat. L.V.","Kim Petras","R. City feat. Adam Levine","Journey","Frankie Goes To Hollywood","Lynyrd Skynyrd","Hollywood Undead","Jay Sean feat. Sean Paul & Lil Jon","Michael Jackson feat. Justin Timberlake","R.E.M.","Rockwell","Alesso & Katy Perry","The Who","Britney Spears / Elton John","Rupert Holmes","Cutting Crew","Willie Nelson and Merle Haggard","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Eminem feat. Rihanna","Cher","Doja Cat feat. SZA","Gloria Gaynor","Emmelie de Forest","Lea Salonga and Brad Kane","New Order","Five For Fighting","Slade","The Doors","Gwen Stefani Feat Akon","Lil Dicky","Disneys Frozen","Blanche","blink-182","The Pussycat Dolls","The Pogues feat. Kirsty MacColl","Creedence Clearwater Revival","Amy MacDonald","The Weeknd feat. Ariana Grande","will.i.am & Britney Spears","Elton John & RuPaul","Flo Rida feat. Sia","Martin Solveig & Dragonette","Utada Hikaru","Kelly Clarkson","Mandaryna","Metallica","Swedish House Mafia & The Weeknd","ZAYN feat. Sia","Chuck Berry","Poets Of The Fall","Alec Benjamin","The Eagles","Flo Rida","Rick Astley","Usher feat. Lil Jon & Ludacris","Lana Del Rey","OneRepublic","The Common Linnets","Rosa Linn","Psy feat. Suga of BTS","David Guetta feat. Nicki Minaj & Afrojack","The Makemakes","Mtley Cre","Christina Perri","Corinne Bailey Rae","Sugababes","Shaggy feat. RikRok","Disneys Hercules","David Guetta & Sia","Eva Rivas","Hazbin Hotel (Black Gryph0n & Baasik)","Audioslave","Cliff Richard","LeAnn Rimes","Foster The People","Beyonc & Shakira","Dean Martin","Meat Loaf","Goo Goo Dolls","Dio","Bee Gees","George Michael","Roman Lob","Eurythmics","David Guetta feat. Flo Rida & Nicki Minaj","Ashanti","Kenya Grace","Benny Cristo","Nicki Taylor","Dai Freyr","Disney's Pocahontas","Pitbull feat. Chris Brown","Rob Zombie","KISS","The Kid Laroi & Justin Bieber","Natalie Imbruglia","Pearl Jam","BTS","Disturbed","Sandie Shaw","Destinys Child","Kim Wilde","Pretenders","Flo Rida feat. T-Pain","Chris Brown","Mae Muller","Frank Sinatra","Rusted Root","3 Doors Down","Jamiroquai","Spandau Ballet","Moulin Rouge","Kanye West feat. Young Jeezy","Dashboard Confessional","Disneys Kim Possible (Christina Milian)","Joy Division","The Anxiety (Willow & Tyler Cole)","Hamilton","Vanessa Hudgens","Texas","Sara Evans","Shawn Mendes & Camila Cabello","Blu Cantrell","Avicii","The Black Eyed Peas","Stephen Sanchez","SING (Taron Egerton)","Against The Current","Wicked","No Doubt","One Direction","Camp Rock 2","Rihanna feat. Jeezy","Faith Hill","The Kooks","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Evanescence","Drake","Britney Spears feat. Madonna","Richard Marx & Donna Lewis","Tracy Chapman","Ghost","Jack  (Skrillex & Diplo) with Justin Bieber","Bryce Pinkham","Ben E. King","Lorde","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Justin Bieber & Ludacris","Tally Hall","Disneys Encanto","Carly Rae Jepsen","Disneys DuckTales 2017 (Felicia Barton)","Victorious Cast feat. Victoria Justice","Prince and the Revolution","Nico Bruno","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","RuPaul","Fun. feat. Janelle Mone","Vengaboys","Grta Salme & Jnsi","P!nk feat. Lily Allen","Metric","Jason Derulo","Ylvis","Hooverphonic","Akon","Bellamy Brothers","Alice In Chains","Deep Purple","Rise Against","Marvin Gaye & Tammi Terrell","Muse","Arcade Fire","Marina and the Diamonds","Tom Jones and Mousse T.","Max Coveri","3OH!3 feat. Ke$ha","U2","Amy Winehouse feat. Mark Ronson","Tom Dice","Kaleo","NF","Alter Bridge","The Little Mermaid","Ariana Grande feat. Zedd","Rihanna","Wheatus","Foreigner","Flo Rida feat. David Guetta","will.i.am feat. Justin Bieber","Madonna","David Guetta feat. Usher","Lyn","Drowning Pool","Rage Against The Machine","Britney Spears feat. Tinashe","K-391 feat. Alan Walker, Julie Bergan & SeungRi","twenty ne pilts","Gwen Stefani & Eve","Fleetwood Mac","Christina Aguilera","Johnny Logan","Ne-Yo","Maria Yaremchuk","Ike & Tina Turner","The Weeknd feat. Daft Punk","Ashley Tisdale","Vanessa Williams","Terri Clark","New Kids On The Block","Black Eyed Peas, Shakira","Ke$ha","Manowar","Soul Asylum","3OH!3","Paul McCartney & Michael Jackson","Conchita Wurst","Kate Bush","The Animals","Plain White Ts","Diana Ross","Creed","BLACKPINK & Selena Gomez","Disneys Mulan","Kid Cudi","Young The Giant","Sublime","Marshmello & Bastille","Falling In Reverse","Yazoo","League of Legends","Drake feat. Rihanna","Banana minnions family","Scissor Sisters","Portal","System Of A Down","Ava Max","Hoobastank","Post Malone","Neil Young","Sixpence None The Richer","Franz Ferdinand","Justin Timberlake","Vitamin C","Avicii feat. Sandro Cavazza","Michelle Branch","Pointer Sisters","Skid Row","Dave Rodgers","Phantom Planet","Ariana Grande feat. Mac Miller","MELOVIN","LMFAO, Lauren Bennett & Goon Rock","Sam Ryder","Band Aid","Avril Lavigne","REO Speedwagon","Helena Paparizou","Olsen Brothers","Chumbawamba","Led Zeppelin","Ariana Grande","SIAMS","Grease (John Travolta & Olivia Newton-John)","Boyz II Men","Bill Medley & Jennifer Warnes","Justin Bieber feat. Jaden Smith","Lizzo","Destiny","will.i.am feat. Eva Simons","Hailee Steinfeld","Pitbull feat. Ne-Yo, Afrojack & Nayer","LazyTown","Stevie Wonder","4 Non Blondes","Barei","John Lennon","Mark Ronson feat. Bruno Mars","Fergie","Montaigne","Rihanna feat. Drake","Kay Starr","Girls Generation (SNSD)","Madcon feat. Ray Dalton","Nicki Minaj","Alessandra","Adele","Nicki Minaj feat. Rihanna","Teya & Salena","The Kid Laroi & Miley Cyrus","Mark Ronson ft  Miley Cyrus","The Baseballs","Danzel","Lucy Hale","Alan Walker","Sudden Lights","Little Mix","Drake feat. Wizkid & Kyla","Hozier","Stone Temple Pilots","Matchbox Twenty","Faith No More","Aram MP3","Ochman","Frankie Valli","Take That","Cat Stevens","Shakira feat. Carlinhos Brown","Melanie Martinez","2Pac feat. Dr. Dre & Roger Troutman","Harry Styles","Disneys Phineas & Ferb (Candace Flynn)","Rednex","Janet Jackson","Radiohead","Himesh Patel","Survivor","Anna Margaret","ZZ Top","Scorpions","Jojo","Paul Simon","Wham","Queen","KT Tunstall","Matt Redman","NCT 127","Billie Eilish","Kendrick Lamar","Owl City","Hailee Steinfeld & Grey feat. Zedd","ALIKA","La La Land (Ryan Gosling & Emma Stone)","Drake Bell","Shania Twain","Nemo","Glee Cast","Guns N' Roses","Jet","Estelle feat. Kanye West","Jay Sean","B52s","SMiLE.dk","Lady Gaga feat. Colby O'Donis","Jason Mraz","Taylor Swift","Chris Rea","Britney Spears & Iggy Azalea","Dua Lipa","Jack Black","Bruno Mars","Mumford & Sons","Katrina And The Waves","Ricky Martin","Julie and the Phantoms","Marcus & Martinus","Set It Off","Three Days Grace","Marillion","Disney's Moana","Cynthia Harrell","Lenny Kravitz","Hanson","Ed Sheeran and Justin Bieber","Gandalf","Maroon 5 feat. Christina Aguilera","Mamma Mia! (Movie)","Metro Station","Dead Or Alive","Morgan Wallen","Abby Trott","Rufus Wainwright","Steven Curtis Chapman","a-ha","Chingiz","Bastille","Pitbull feat. Marc Anthony","Benson Boone","Sean Kingston / Justin Bieber","Black Sabbath","Chris Brown feat. Benny Benassi","Thirty Seconds to Mars","Disneys Phineas & Ferb (Phineas Flynn, Candace Flynn)","Lulu","KEiiNO","DragonForce","Sabaton","Parry Gripp & Brianne Drouhard","The Darkness","Bad Omens","Toni Braxton","Michael Schulte","TheFatRat","The Cranberries","TLC","Simply Red","Rihanna feat. Mikky Ekko","Idina Menzel","Usher & Pitbull","The Chainsmokers & Coldplay","Electric Light Orchestra","Fredi and Friends","Good Charlotte","Stella Mwangi","Disneys Moana (Dwayne Johnson)","Mns Zelmerlw","Camila Cabello ft. Ed Sheeran","Daisuke Ishiwatari","ATeens","Melanie Thornton","Shakira feat. Dizzee Rascal","Ariana Grande & The Weeknd","Post Malone & Swae Lee","The Fray","Lionel Richie","Corey Hart","Dolly Parton","Alice Cooper","Hera Bjrk","DNCE","Ba","Philip Bailey with Phil Collins","Tom Odell","Bob Seger & The Silver Bullet Band","Spice Girls","Eddie Murphy","Aly & AJ","Daniel Caesar","Hailee Steinfeld feat. DNCE","Extreme","Billie Eilish & Khalid","Rag'n'Bone Man","The Black Keys","Rainbow","Selena Gomez x Marshmello","Les Misrables","3OH!3 feat. Katy Perry","Edward Sharpe And The Magnetic Zeros","Yohanna","The Ronettes","David Guetta feat. Justin Bieber","Powerwolf","Gustaph","Inna","Gina G","Taylor Swift feat. Post Malone","Interpol","The Greatest Showman","Joe Cocker","Lewis Capaldi","The Jacksons","Keane","Cyndi Lauper","Hootie & The Blowfish","Ruslana","Kanye West feat. Pusha T","Run DMC","Bridgit Mendler","Tenacious D","Usher","Lykke Li","Getter Jaani","Breaking Benjamin","Whitesnake","Jim Croce","Slayyyter","Jon Bellion","Mumford and Sons","Selena Gomez & The Scene","Mika feat. Ariana Grande","The BossHoss","Paramore","My Little Pony","Dai og Gagnamagni","No Secrets","Jennifer Lopez & Pitbull","Lady Gaga & Ariana Grande","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Freddie Mercury","Passenger","Enrique Iglesias","The Cure","Richard Marx","Daft Punk Feat. Todd Edwards","The Neighbourhood","Nico & Vinz","The White Stripes","Disneys The Lion King","Savage Garden","RAFA","Shakira","ISAAK","2NE1","Secondhand Serenade","Little Mix feat. Stormzy","Ashlee Simpson","Demi Lovato","Jessica Simpson","P!nk","Bring Me The Horizon","Fountains Of Wayne","Alice in Chains","LMFAO","Usher feat. will.i.am","David Bowie","Xavier Rudd","Alice Merton","Slipknot","Sean Kingston","Olivia Rodrigo","Joji","TheFatRat feat. Laura Brehm","Santana feat. Rob Thomas","Bowling For Soup","Technotronic feat. Felly","Morandi","Haddaway & Jim Carrey & The Roxbury Guys","The Psychedelic Furs","Katy Perry feat. Nicki Minaj","Jennifer Lopez","Malik Harris","Fall Out Boy","Mitski","La Bouche","Ben Doli","The Offspring","Timbaland feat. Keri Hilson","Blackstreet feat. Dr. Dre","John Mayer","Lindsey Stirling feat. Becky G","Placebo feat. David Bowie","Aretha Franklin & The Blues Brothers Band","Idina Menzel with Michael Bubl","Chappell Roan","Justin Bieber & Nicki Minaj","Boney M.","Disney's Aladin","David Guetta & Chris Willis feat. Fergie & LMFAO","System of a Down","Silk Sonic - Bruno Mars & Anderson .Paak","Tove Lo","Chris Brown feat. Justin Bieber","AaRON"],r1e=["Polish","Korean","English","Japanese","Estonian","Spanish","Swedish","Indonesian","French","German","Portuguese","Dutch","Catalan","Czech","Norwegian","Italian","Croatian","Latin","Icelandic","Ukrainian","Serbian","Slovenian","Finnish","Romanian","Latvian","Chinese"],i1e=2724,Ed={videoIds:t1e,artists:n1e,languages:r1e,songs:i1e},s1e=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function o1e(){const[e]=$e(Hb),t=Lr(),n=JAe(Ub.Shrek);da(!0);const r=e===null?"quick-setup/":"menu/";gr("enter",()=>{t(r)},[r]);const[i,s]=_.useState(!1);return _.useEffect(()=>{const o=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(o)},[]),f.jsxs(ko,{toolbar:!1,children:[f.jsx(ti,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(uN,{}),f.jsxs(d1e,{children:[f.jsx(_R,{children:f.jsxs(a1e,{children:[f.jsx(vN,{}),f.jsx(Kw,{})]})}),f.jsx(_R,{children:f.jsx(yr,{to:r,children:f.jsx(bA,{"data-test":"enter-the-game",focused:!0,as:"a",children:"Enter the game"})})}),f.jsxs(l1e,{children:[f.jsxs(N$,{children:[f.jsxs(c1e,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(od,{children:[" ",f.jsx("strong",{children:s1e.format(Ed.songs)})," songs in"," ",f.jsx("strong",{children:Ed.languages.length})," languages",f.jsxs(ad,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(L$,{options:{strings:Ed.artists,autoStart:!0,loop:!0,delay:100}}):Ed.artists.at(-1)})]})]}),f.jsxs(od,{children:[" Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(ad,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(od,{children:[" Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(ad,{children:"No need to download an app"})]}),f.jsxs(od,{children:[" Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(ad,{children:"When using phones as microphones"})]}),f.jsxs(od,{children:[" ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(ad,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(u1e,{children:[f.jsx("img",{src:XAe,alt:"Song list screen"}),n==="test"?f.jsx("img",{src:ZAe,alt:"In-game screen"}):f.jsx("img",{src:e1e,alt:"In-game screen"})]})]}),f.jsxs(h1e,{children:["Using this device as remote microphone?",f.jsx(yr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(f1e,{children:[f.jsx(yr,{to:"remote-mic/",children:f.jsx(bA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})}),f.jsx(yr,{to:"quick-setup/",children:f.jsx(bA,{"data-test":"enter-the-game",children:"Start new game"})})]})]})]})}const a1e=C("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),l1e=C("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",tu,"{width:90%;flex-direction:column;font-size:8.5rem;}",C0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),c1e=C("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",tu,"{font-size:8.5rem;}",C0,"{font-size:4.9rem;}"),od=C("div",{target:"e1n22rxp7"})(""),ad=C("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),N$=C("div",{target:"e1n22rxp5"})(Ne,";display:flex;flex-direction:column;flex:1;gap:1rem;"),u1e=C(N$,{target:"e1n22rxp4"})(C0,"{display:none;}",tu,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",tu,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),d1e=C("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",C0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",fe.colors.text.active,";}"),f1e=C(KAe,{target:"e1n22rxp2"})({name:"1r23i92",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;a{width:100%;flex:1;min-height:30rem;}"}),h1e=C("h3",{target:"e1n22rxp1"})(tu,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),bA=C(Yi,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;",Ux,";transform:none;");function p1e(e){const t=Lr(),n=()=>t("menu/"),{register:r}=Vn({onBackspace:n});return f.jsxs(va,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(yr,{to:"exclude-languages/",children:f.jsx(Te,{as:Yi,...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(yr,{to:"edit/list/",children:f.jsx(Te,{as:Yi,...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(yr,{to:"convert/",children:f.jsx(Te,{as:Yi,...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(yr,{to:"menu/",children:f.jsx(Te,{as:Yi,...r("back-button",n),children:"Return To Main Menu"})})]})}var Sv={exports:{}};Sv.exports=SE;Sv.exports.isMobile=SE;Sv.exports.default=SE;const g1e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,m1e=/CrOS/,v1e=/android|ipad|playbook|silk/i;function SE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=g1e.test(t)&&!m1e.test(t)||!!e.tablet&&v1e.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var y1e=Sv.exports;const A1e=lr(y1e);function _1e(){const[,e]=$e(Zn),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(ko,{children:f.jsx(b1e,{children:f.jsxs(x1e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(Te,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(Te,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const b1e=C("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),x1e=C(ds,{target:"e6hg0670"})("max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}",Te,"{font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh));}");function S1e(e){const[t]=$e(Zn),n=_.useMemo(()=>A1e(),[]),r=Lr(),i=async s=>{var o,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(o=global.screen.orientation).lock)==null?void 0:a.call(o,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(ti,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(_1e,{}):f.jsx(va,{children:f.jsx(cE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function w1e(e){ya(!1);const t=Lr(),n=()=>t("settings/"),{register:r}=Vn({onBackspace:n}),[i,s]=$e(Pg),[o,a]=$e(_j),l=Ti(te.inputListChanged,()=>Je.getRemoteMics()),c=XL();return _.useEffect(()=>Je.addListener(c),[c]),f.jsxs(va,{children:[f.jsx("h1",{children:"Remote Microphone Settings"}),f.jsx(Gr,{...r("websocket-connection",()=>s(!i)),label:"Use Websockets",value:i?"Yes":"No"}),f.jsx("hr",{}),f.jsx(Gr,{...r("default-permission",()=>a(Za(J2,o))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:o.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=Je.getPermission(u.id);return f.jsx(C1e,{...r(`mic-${u.id}`,()=>Je.setPermission(u.id,Za(J2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(k1e,{children:[f.jsx(I1e,{children:u.id.slice(-4)}),f.jsx(P1e,{children:f.jsx(E1e,{deviceId:u.id})}),f.jsx(T1e,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Te,{...r("back-button",n),children:"Return To Settings"})]})}const E1e=({deviceId:e})=>{const t=i$(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},k1e=C("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),C1e=C(Gr,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),T1e=C("span",{target:"expzhs32"})(""),I1e=C("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),P1e=C("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),xA=2500,R1e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*xA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Le.eurovisionPink.text},{offset:"25%",color:Le.eurovisionYellow.text},{offset:"50%",color:Le.eurovisionPink.text},{offset:"75%",color:Le.eurovisionOrange.text},{offset:"100%",color:Le.eurovisionPink.text}];return f.jsxs("svg",{width:xA,height:xA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},M1e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function j1e(){return da(!1),f.jsxs(ko,{children:[f.jsxs(O1e,{children:[f.jsx(V1e,{dangerouslySetInnerHTML:{__html:M1e}}),f.jsx($$,{children:f.jsx(j1,{})})]}),f.jsxs(N1e,{children:[f.jsx(L1e,{children:f.jsx(j1,{})}),f.jsx(Kw,{}),f.jsx($1e,{src:YN,alt:"Eurovision"})]}),f.jsx(R1e,{})]})}const O1e=C("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),$$=C("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Le.eurovisionViolet.text,`,
      `,Le.eurovisionBlue.text,`,
      `,Le.eurovisionYellow.text,`,
      `,Le.eurovisionBlue.text,`,
      `,Le.eurovisionViolet.text,`
    );}`),V1e=C("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Le.red.text,"!important;}path:nth-of-type(2){fill:",Le.blue.text,"!important;}"),L1e=C($$,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Le.eurovisionPink.text,`,
      `,Le.eurovisionOrange.text,`,
      `,Le.eurovisionYellow.text,`,
      `,Le.eurovisionPink.text,`
    );}`),N1e=C("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Le.red.stroke,`,
    `,Le.red.hit.fill,` 49.9%,
    `,Le.blue.hit.fill,` 50.1%,
    `,Le.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),$1e=C("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),B1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function D1e(){const[e]=$e(Zn),[t,n]=_.useState(!1),[r,i]=_.useState(200),s=_.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return _.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(z1e,{small:!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:B1e(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}var F1e={name:"zko540",styles:"width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}"};const z1e=C(ds,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;",e=>e.small&&F1e," view-transition-name:fb-notification;");function U1e(){const[e]=$e(Gb);da(!0);const t=Lr();ya(!1);const{register:n}=Vn();return f.jsxs(va,{children:[f.jsxs(ti,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(H1e,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:[" Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(D1e,{}),f.jsxs(f.Fragment,{children:[f.jsx(yr,{to:"game/",children:f.jsx(Te,{as:Yi,...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(yr,{to:"select-input/",children:f.jsx(Te,{as:Yi,...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(yr,{to:"settings/",children:f.jsx(Te,{as:Yi,...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(yr,{to:"jukebox/",children:f.jsx(Te,{as:Yi,...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(yr,{to:"manage-songs/",children:f.jsx(Te,{as:Yi,...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const H1e=C("div",{target:"e1g7uwpd0"})(Ne,";text-decoration:none;flex-direction:column;display:flex;font-size:1rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:1rem;left:1rem;view-transition-name:background-music-credit;"),Sr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},G1e=_.lazy(()=>h0(()=>import("./SongList-CExiVVUl.js"),__vite__mapDeps([2,1])));function q1e(){const[e]=$e(Zn),[t]=$e(xs),n=_.useMemo(()=>FO({graphicSetting:t}),[t]);return f.jsxs(Hse,{theme:n,children:[f.jsx(oM,{styles:Vt(":root{--zoom-multipler:",e?1.4:1,";}","")}),f.jsx(px,{fallback:Ipe,children:f.jsx(OJ,{children:f.jsx(kJ,{children:f.jsx(tae,{base:"/",children:f.jsxs(nae,{children:[f.jsx(rr,{path:Sr.QUICK_SETUP,component:S1e}),f.jsx(rr,{path:Sr.MENU,component:U1e}),f.jsx(rr,{path:Sr.EXCLUDE_LANGUAGES,component:Age}),f.jsx(rr,{path:Sr.JUKEBOX,component:Ohe}),f.jsx(rr,{path:Sr.GAME,children:f.jsx(WAe,{})}),f.jsx(rr,{path:Sr.SELECT_INPUT,component:Tpe}),f.jsx(rr,{path:Sr.SETTINGS,component:lfe}),f.jsx(rr,{path:Sr.SETTINGS_REMOTE_MICS,component:w1e}),f.jsx(rr,{path:Sr.REMOTE_MIC,component:ide}),f.jsx(rr,{path:Sr.MANAGE_SONGS,component:p1e}),f.jsx(rr,{path:"social-media-elements",component:j1e}),f.jsx(rr,{path:Sr.CONVERT,component:()=>f.jsx(AN,{})}),f.jsx(rr,{path:Sr.EDIT_SONGS_LIST,component:()=>f.jsx(_.Suspense,{fallback:f.jsx(yN,{}),children:f.jsx(G1e,{})})}),f.jsx(rr,{path:"edit/get-songs-bpms",component:Mpe}),f.jsx(rr,{path:Sr.EDIT_SONG,children:f.jsx(Cfe,{})}),f.jsx(rr,{path:Sr.INDEX,component:o1e})]})})})})})]})}const W1e=bH(q1e),K1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var B$,bR=Tu;B$=bR.createRoot,bR.hydrateRoot;mH({integrations:[X9({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:K1e,tracesSampleRate:Ns()?0:.01,environment:Ns()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});Ns()||kn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Oe.local.getItem("posthog-user-id");t||(t=Ug(),Oe.local.setItem("posthog-user-id",t)),e.identify(t);let n=Oe.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Ed.artists.flatMap(i=>m3(i).split("-")))].filter(i=>i.length<=10);n=new Array(Ts(3,5)).fill(0).map(()=>r[Ts(0,r.length-1)]).join("-"),Oe.local.setItem("posthog-user-name",n),e.alias(n,t)}F7({id:t})}});const Y1e=yb({key:"ec",speedy:!EN}),Q1e=document.getElementById("root"),J1e=B$(Q1e);J1e.render(f.jsxs(iM,{value:Y1e,children:[f.jsx(W1e,{}),f.jsx(E1,{position:Et.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{Ao as $,Aee as A,Jre as B,Z4 as C,ac as D,fo as E,PI as F,Zee as G,RI as H,fie as I,Fa as J,Wg as K,yO as L,gL as M,iw as N,Sre as O,ze as P,Ere as Q,Pe as R,$s as S,mre as T,OO as U,cie as V,rX as W,oX as X,jre as Y,nX as Z,qO as _,Xt as a,lie as a$,Vt as a0,qpe as a1,o_e as a2,s_e as a3,roe as a4,nle as a5,vL as a6,mL as a7,zw as a8,da as a9,yfe as aA,Efe as aB,vr as aC,Su as aD,Qye as aE,Lr as aF,yZ as aG,_Z as aH,bZ as aI,nS as aJ,IZ as aK,xZ as aL,rS as aM,No as aN,ho as aO,i_e as aP,TO as aQ,rs as aR,r_e as aS,kZ as aT,dh as aU,uie as aV,_d as aW,FO as aX,Af as aY,bO as aZ,_O as a_,ya as aa,Sh as ab,I0 as ac,_w as ad,km as ae,Xi as af,ti as ag,Qw as ah,DJ as ai,kn as aj,C as ak,Xg as al,sX as am,dC as an,_s as ao,St as ap,je as aq,DW as ar,Dc as as,Xp as at,zG as au,oa as av,pf as aw,xN as ax,Sfe as ay,_fe as az,oe as b,SO as b0,Jx as b1,Kg as b2,aS as b3,iie as b4,dl as b5,hie as b6,Sse as b7,Wee as b8,Iq as b9,n_e as ba,Mw as bb,Ls as bc,qq as c,SX as d,nu as e,gre as f,xx as g,ii as h,fa as i,f as j,xn as k,Il as l,nt as m,Xe as n,Rl as o,Pl as p,Cn as q,_ as r,Oe as s,Kee as t,jO as u,AO as v,Qg as w,LZ as x,OZ as y,Tu as z};
//# sourceMappingURL=index-DC22QoiR.js.map
