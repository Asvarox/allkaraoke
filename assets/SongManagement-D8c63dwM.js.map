{"version":3,"file":"SongManagement-D8c63dwM.js","names":["cache","useUtilityClasses","styled","listItemTextClasses","typographyClasses","ListItemText","ListContext","Typography","clsx","overridesResolver","useUtilityClasses","styled","ButtonBase","rootShouldForwardProp","memoTheme","listItemButtonClasses","ListItemButton","ListContext","useEnhancedEffect","useForkRef","clsx","useUtilityClasses","styled","Step","StepperContext","clsx","StepContext","useUtilityClasses","styled","SvgIcon","memoTheme","stepIconClasses","StepIcon","clsx","Warning","CheckCircle","useUtilityClasses","styled","stepLabelClasses","memoTheme","StepLabel","StepperContext","StepContext","StepIcon","clsx","useUtilityClasses","styled","ButtonBase","stepButtonClasses","StepButton","StepContext","StepperContext","isMuiElement","StepLabel","clsx","useUtilityClasses","capitalize","styled","memoTheme","StepConnector","StepperContext","StepContext","clsx","useUtilityClasses","styled","StepConnector","Stepper","steps","StepperContext","clsx","setQueryParam","params","Record","url","URL","global","location","href","Object","entries","forEach","param","value","searchParams","delete","set","history","replaceState","toString","ComponentProps","twc","Pre","span","inputAction","action","Button","enabled","label","InputProps","endAdornment","mr","getVideoId","YouTube","inputAction","AuthorAndVidEntity","author","authorUrl","video","Props","onChange","data","songTitle","songArtist","AuthorAndVideo","props","searchForVideo","global","open","encodeURIComponent","isSearchableForVideo","videoId","display","flexWrap","mt","e","target","value","flexDirection","alignItems","width","AuthorAndVidEntity","importSongFromSource","url","urlObj","URL","host","importUsDbAnimuxSong","importUltrastarEsSong","e","console","warn","Promise","response","fetch","encodeURIComponent","text","doc","DOMParser","parseFromString","id","querySelector","getAttribute","txtUrl","global","location","href","authorPath","videoId","authorUrl","author","textContent","video","obj","artist","title","open","searchParams","get","seconds","GameState","YouTubePlayer","Pre","PlayerRef","formatMs","msec","minutes","Math","floor","miliseconds","String","padStart","ytPlayerAdapter","player","play","playVideo","pause","pauseVideo","seekTo","timeSec","setPlaybackSpeed","rate","setPlaybackRate","getCurrentTime","ms","py","mb","resetPlayerNotes","undefined","accents","polish","È","í","π","ê","Í","Œ","å","œ","ú","æ","Ê","ø","Ø","ñ","Ò","Û","ü","Ÿ","spanish","Ì","ń","ś","fixDiacritics","txt","language","accentSet","undefined","fixedTxt","accent","replacement","Object","entries","replaceAll","convertTxtToSong","isValidUltrastarTxtFormat","songTxt","lines","split","requiredTags","tag","some","line","startsWith","e","console","log","Song","isNotesSection","getSectionStartInMs","ChangeEventHandler","useMemo","importUltrastarEsSong","AuthorAndVidEntity","formatMs","fixDiacritics","isValidUltrastarTxtFormat","Pre","BasicDataEntity","sourceUrl","txtInput","Props","shouldAutoImport","onAutoImport","data","onChange","isTxtRequired","finalSong","BasicData","props","onSourceUrlEdit","HTMLInputElement","e","target","value","fixAccents","language","isValidTxt","isTxtInputValid","length","display","flexWrap","mt","inputProps","sx","fontFamily","gap","tracks","map","track","index","name","sections","filter","section","start","notes","note","lyrics","join","countryMap","AF","AX","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BE","BZ","BJ","BM","BT","BO","BA","BW","BV","BR","IO","BN","BG","BF","BI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","CI","HR","CU","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","MS","MA","MZ","MM","NA","NR","NP","NL","AN","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","SH","KN","LC","PM","VC","WS","SM","ST","SA","SN","CS","SC","SL","SG","SK","SI","SB","SO","ZA","GS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UY","UZ","VU","VE","VN","VI","WF","EH","YE","ZM","ZW","backgroundMusic","useEffect","useRef","useState","YouTube","SongMetadataEntity","msec","Props","onChange","data","videoId","videoGap","MIN_PREVIEW_LENGTH","PreviewAndVolumeAdjustment","player","reference","HTMLAudioElement","initialised","setInitialised","interval","setInterval","volume","current","getInternalPlayer","setVolume","currentVolume","getVolume","undefined","clearInterval","isPlayerPlaying","setIsPlayerPlaying","isReferencePlaying","setIsReferencePlaying","handleSliderChange","_e","value","previewStart","previewEnd","duration","setDuration","currentTime","getDuration","then","singableLength","Math","max","start","end","internalPlayer","display","flexDirection","width","gap","pause","setTimeout","e","currentTarget","pauseVideo","playVideo","Flag","useSongIndex","countryMap","useEffect","useMemo","useState","inputAction","PreviewAndVolumeAdjustment","SongMetadataEntity","artist","title","year","realBpm","language","artistOrigin","volume","previewStart","previewEnd","genre","edition","Props","onChange","data","songArtist","videoId","videoGap","useDefaultArtistOrigin","songList","filter","song","map","Boolean","reduce","acc","origin","Record","Object","entries","sort","a","b","SongMetadata","props","defaultArtistOrigin","undefined","console","log","definedLanguages","Set","Array","isArray","flat","definedArtistOrigins","definedGenres","toLowerCase","replace","l","toUpperCase","trim","definedEditions","searchGoogle","phrase","global","open","encodeURIComponent","isSearchableForVideo","isRealBpmInvalid","hasSearchedBpm","setHasSearchedBpm","e","target","value","event","key","preventDefault","_","newValue","params","length","code","name","CountryFlag","_styled","process","env","NODE_ENV","label","styles","toString","_EMOTION_STRINGIFIED_CSS_ERROR__","buttonGroupClasses","capitalize","styled","memoTheme","ButtonGroup","clsx","ButtonGroupContext","ButtonGroupButtonContext","React","Props","shortcutKey","children","ReactElement","ShortcutIndicator","hidden","useMediaQuery","theme","breakpoints","down","popper","modifiers","name","options","offset","useEffect","useRef","Pre","ShortcutIndicator","formatMs","PlayerRef","Props","player","playbackSpeed","setPlaybackSpeed","speed","AdjustPlayback","seekBy","bySec","currentTime","getCurrentTime","seekTo","currentTimeElementRef","HTMLSpanElement","interval","setInterval","current","textContent","Math","round","clearInterval","display","gap","mt","flex","px","map","Section","useEffect","useState","PlayerRef","useCurrentSectionIndex","sections","player","beatLength","gap","currentSectionIndex","setCurrentSectionIndex","interval","setInterval","currentTime","getCurrentTime","currentBeat","wholeBeat","Math","floor","sectionIndex","findIndex","section","index","start","length","clearInterval","Song","GameState","isNotesSection","getFirstNoteStartFromSections","getSectionStartInMs","useEffect","useState","msec","useCurrentSectionIndex","PlayerRef","Props","song","beatLength","player","playbackSpeed","onRecordChange","changeRecords","ChangeRecord","onLyricChange","LyricChangeRecord","lyricChanges","Record","onTrackNameChange","track","newName","ChangeRecordBase","section","ChangeRecordShift","type","shift","ChangeRecordDelete","noteIndex","newLyric","EditSection","setTrack","selectedSection","setSelectedSection","setChangeRecords","sections","tracks","filter","currentSectionIndex","gap","onSectionClick","index","resetPlayerNotes","firstNoteStart","seekTo","deleteSection","records","length","selected","shiftSection","newStart","lastRecord","at","newRecords","flex","display","alignItems","ml","map","_","name","e","target","value","height","mt","overflowY","start","maxWidth","overflowX","textWrap","whiteSpace","fontWeight","notes","note","lyrics","replaceAll","join","inputProps","step","mb","lyric","width","currentPos","selectionStart","key","prevInput","previousElementSibling","HTMLInputElement","focus","setTimeout","setSelectionRange","nextInput","nextElementSibling","maxHeight","change","message","Component","SectionChangeDelete","SectionChangeShift","SectionChangeList","_styled","process","env","NODE_ENV","label","styles","toString","_EMOTION_STRINGIFIED_CSS_ERROR__","ChangeEntry","SectionEdtiorContainer","SectionEditForm","LyricEditorContainer","LyricInput","Song","isNotesSection","calculateProperBPM","desiredEndMs","song","notesSections","tracks","sections","filter","lastNote","at","notes","desiredLengthMs","gap","bpmLength","start","length","Number","bar","toFixed","Song","beatToMs","getLastNoteEndFromSections","useState","Pre","calculateProperBPM","ShortcutIndicator","Props","onChange","bpm","current","song","ManipulateBpm","lastNoteEndBeat","Math","max","tracks","map","track","sections","lastNoteEndMs","gap","desiredLastNoteEnd","setDesiredLastNoteEnd","round","e","target","value","flex","minWidth","width","isNaN","inputProps","step","milliseconds","msec","PlayerRef","ShortcutIndicator","Props","onChange","shift","current","player","finalGap","ShiftGap","changeBy","value","newValue","String","Number","flex","px","py","e","target","seconds","msec","PlayerRef","Props","onChange","shift","current","player","finalGap","ShiftVideoGap","display","gap","mt","flex","px","py","e","target","value","cloneDeep","GAME_MODE","Note","seconds","SingSetup","Song","getCurrentBeat","getSongBeatLength","isNotesSection","getFirstNoteFromSection","getFirstNoteStartFromSections","getLastNotesSection","addHeadstart","normaliseGap","normaliseLyricSpaces","normaliseSectionPaddings","useEffect","useMemo","useRef","useState","useHotkeys","useWindowSize","AdjustPlayback","EditSection","ChangeRecord","ManipulateBpm","ShiftGap","ShiftVideoGap","Player","PlayerRef","ShortcutIndicator","Props","song","onUpdate","visible","shiftGap","gapShift","gap","shiftVideoGap","videoGap","setBpm","bpm","applyChanges","changes","tracks","map","track","trackIndex","changeList","filter","change","sections","forEach","type","_","index","section","shift","notes","note","start","applyTrackNames","trackNames","name","applyLyricChanges","lyricChanges","Record","trackLyricChanges","sectionIndex","sectionLyricChanges","noteIndex","lyrics","EditSong","player","playbackSpeed","setPlaybackSpeed","width","playerWidth","Math","min","playerHeight","setGapShift","videoGapShift","setVideoGapShift","overrideBpm","setOverrideBpm","changeRecords","setChangeRecords","setTrackNames","undefined","setLyricChanges","newSong","processed","isNaN","Number","singSetup","id","mode","DUEL","players","number","length","tolerance","beatLength","current","pause","seekToNote","padding","seekTo","play","seekToFirstSection","firstNote","seekToSubsequentSection","direction","currentBeat","getCurrentTime","notesSections","targetSectionIndex","finalSectionIndex","max","seekToNextSection","seekToPreviousSection","seekToLastSection","lastNoteStart","String","display","height","flexDirection","newShift","delta","newName","newNames","newLyric","Song","EditSong","Props","onChange","data","visible","SyncLyricsToVideo","props","video","length","tracks","sections","Stepper","Song","useBackground","NormalizeFontSize","SongDao","useSongIndex","convertTxtToSong","getVideoId","getSongId","useBackgroundMusic","useQueryParam","useSmoothNavigate","setQueryParam","useEffect","useMemo","useState","useHotkeys","AuthorAndVideo","AuthorAndVidEntity","BasicData","BasicDataEntity","SongMetadata","SongMetadataEntity","SyncLyricsToVideo","shareSong","ValuesType","Link","Props","song","isEmptyValue","v","T","Array","isArray","length","steps","const","ConvertView","isEdit","data","songs","navigate","initialStep","currentStep","setCurrentStep","Math","max","indexOf","isSaving","setIsSaving","redirect","step","basicData","setBasicData","sourceUrl","txtInput","authorAndVid","setAuthorAndVid","author","authorUrl","video","metadataEntity","setMetadataEntity","artist","title","realBpm","String","year","language","volume","previewStart","undefined","previewEnd","genre","edition","artistOrigin","editedSong","setEditedSong","conversionResult","result","e","console","error","possibleDuplicate","find","addedSong","generateSongFile","current","forEach","property","isBasicInfoCompleted","isAuthorAndVidCompleted","isNextStepAvailable","finalSong","id","saveSong","store","created","onNextStep","isLastStep","at","marginBottom","mb","preventDefault","videoGap","position","bottom","left","maxWidth","width","padding","transform","display","gap","justifyContent","align","useBackground","NoPrerender","NormalizeFontSize","SongDao","useSongIndex","convertSongToTxt","useBackgroundMusic","useQueryParam","buildUrl","posthog","Helmet","SongsTable","ShareSongsModal","useShareSongs","Link","SongList","data","reload","shareSongs","setShareSongs","created","songId","window","__exposeSingletons","__singletons","importSongs","length","row","song","original","id","songData","get","txt","anchor","document","createElement","href","encodeURIComponent","download","generateSongFile","body","appendChild","click","removeChild","isDeleted","softDeleteSong","restoreSong","local","proceed","global","confirm","deleteSong","some","capture","e","target","checked","Container","_styled","process","env","NODE_ENV","label","name","styles","toString","_EMOTION_STRINGIFIED_CSS_ERROR__"],"sources":["../../node_modules/.pnpm/es-toolkit@1.39.8/node_modules/es-toolkit/dist/predicate/isPrimitive.mjs","../../node_modules/.pnpm/es-toolkit@1.39.8/node_modules/es-toolkit/dist/predicate/isTypedArray.mjs","../../node_modules/.pnpm/es-toolkit@1.39.8/node_modules/es-toolkit/dist/compat/_internal/getSymbols.mjs","../../node_modules/.pnpm/es-toolkit@1.39.8/node_modules/es-toolkit/dist/compat/_internal/getTag.mjs","../../node_modules/.pnpm/es-toolkit@1.39.8/node_modules/es-toolkit/dist/compat/_internal/tags.mjs","../../node_modules/.pnpm/es-toolkit@1.39.8/node_modules/es-toolkit/dist/object/cloneDeepWith.mjs","../../node_modules/.pnpm/es-toolkit@1.39.8/node_modules/es-toolkit/dist/object/cloneDeep.mjs","../../node_modules/.pnpm/@mui+utils@6.4.6_@types+react@19.0.2_react@19.0.0/node_modules/@mui/utils/esm/getValidReactChildren/getValidReactChildren.js","../../node_modules/.pnpm/@mui+styled-engine@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+st_ff7rfaaflnyjiiwr4m333cz6j4/node_modules/@mui/styled-engine/StyledEngineProvider/StyledEngineProvider.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/ListItemText/ListItemText.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/ListItemButton/ListItemButton.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/Stepper/StepperContext.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/Step/StepContext.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/Step/stepClasses.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/Step/Step.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/internal/svg-icons/CheckCircle.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/internal/svg-icons/Warning.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepIcon/stepIconClasses.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepIcon/StepIcon.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepLabel/stepLabelClasses.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepLabel/StepLabel.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepButton/stepButtonClasses.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepButton/StepButton.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/Stepper/stepperClasses.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepConnector/stepConnectorClasses.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/StepConnector/StepConnector.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/Stepper/Stepper.js","../../src/modules/utils/setQueryParam.ts","../../src/routes/Convert/Elements.tsx","../../src/routes/Convert/Steps/AuthorAndVideo.tsx","../../src/routes/Convert/importUltrastarEsSong.ts","../../src/routes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs.tsx","../../src/routes/Convert/Steps/utils/fixDiacritics.ts","../../src/routes/Convert/Steps/utils/validateUltrastar.ts","../../src/routes/Convert/Steps/BasicData.tsx","../../src/modules/utils/countryList.ts","../../src/routes/Convert/Steps/PreviewAndVolumeAdjustment.tsx","../../src/routes/Convert/Steps/SongMetadata.tsx","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/ButtonGroup/buttonGroupClasses.js","../../node_modules/.pnpm/@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_react@19.0.0__@emotion+styled@_2rxjjiguk2hxqdidwr5rsjzawi/node_modules/@mui/material/ButtonGroup/ButtonGroup.js","../../src/routes/Convert/Steps/SyncLyricsToVideo/Components/ShortcutIndicator.tsx","../../src/routes/Convert/Steps/SyncLyricsToVideo/Components/AdjustPlayback.tsx","../../src/routes/Game/Singing/Hooks/useCurrentSectionIndex.ts","../../src/routes/Convert/Steps/SyncLyricsToVideo/Components/EditSection.tsx","../../src/routes/Convert/calculateProperBpm.ts","../../src/routes/Convert/Steps/SyncLyricsToVideo/Components/ManipulateBpm.tsx","../../src/routes/Convert/Steps/SyncLyricsToVideo/Components/ShiftGap.tsx","../../src/routes/Convert/Steps/SyncLyricsToVideo/Components/ShiftVideoGap.tsx","../../src/routes/Convert/Steps/SyncLyricsToVideo/EditSong.tsx","../../src/routes/Convert/Steps/SyncLyricsToVideo.tsx","../../src/routes/Convert/ConvertView.tsx","../../node_modules/.pnpm/@mui+icons-material@6.4.6_@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_reac_bwwdgqvgtdmzbxodzng2tkdray/node_modules/@mui/icons-material/esm/Download.js","../../node_modules/.pnpm/@mui+icons-material@6.4.6_@mui+material@6.4.6_@emotion+react@11.14.0_@types+react@19.0.2_reac_bwwdgqvgtdmzbxodzng2tkdray/node_modules/@mui/icons-material/esm/Visibility.js","../../src/routes/Edit/SongList.tsx"],"sourcesContent":["function isPrimitive(value) {\n    return value == null || (typeof value !== 'object' && typeof value !== 'function');\n}\n\nexport { isPrimitive };\n","function isTypedArray(x) {\n    return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nexport { isTypedArray };\n","function getSymbols(object) {\n    return Object.getOwnPropertySymbols(object).filter(symbol => Object.prototype.propertyIsEnumerable.call(object, symbol));\n}\n\nexport { getSymbols };\n","function getTag(value) {\n    if (value == null) {\n        return value === undefined ? '[object Undefined]' : '[object Null]';\n    }\n    return Object.prototype.toString.call(value);\n}\n\nexport { getTag };\n","const regexpTag = '[object RegExp]';\nconst stringTag = '[object String]';\nconst numberTag = '[object Number]';\nconst booleanTag = '[object Boolean]';\nconst argumentsTag = '[object Arguments]';\nconst symbolTag = '[object Symbol]';\nconst dateTag = '[object Date]';\nconst mapTag = '[object Map]';\nconst setTag = '[object Set]';\nconst arrayTag = '[object Array]';\nconst functionTag = '[object Function]';\nconst arrayBufferTag = '[object ArrayBuffer]';\nconst objectTag = '[object Object]';\nconst errorTag = '[object Error]';\nconst dataViewTag = '[object DataView]';\nconst uint8ArrayTag = '[object Uint8Array]';\nconst uint8ClampedArrayTag = '[object Uint8ClampedArray]';\nconst uint16ArrayTag = '[object Uint16Array]';\nconst uint32ArrayTag = '[object Uint32Array]';\nconst bigUint64ArrayTag = '[object BigUint64Array]';\nconst int8ArrayTag = '[object Int8Array]';\nconst int16ArrayTag = '[object Int16Array]';\nconst int32ArrayTag = '[object Int32Array]';\nconst bigInt64ArrayTag = '[object BigInt64Array]';\nconst float32ArrayTag = '[object Float32Array]';\nconst float64ArrayTag = '[object Float64Array]';\n\nexport { argumentsTag, arrayBufferTag, arrayTag, bigInt64ArrayTag, bigUint64ArrayTag, booleanTag, dataViewTag, dateTag, errorTag, float32ArrayTag, float64ArrayTag, functionTag, int16ArrayTag, int32ArrayTag, int8ArrayTag, mapTag, numberTag, objectTag, regexpTag, setTag, stringTag, symbolTag, uint16ArrayTag, uint32ArrayTag, uint8ArrayTag, uint8ClampedArrayTag };\n","import { getSymbols } from '../compat/_internal/getSymbols.mjs';\nimport { getTag } from '../compat/_internal/getTag.mjs';\nimport { uint32ArrayTag, uint16ArrayTag, uint8ClampedArrayTag, uint8ArrayTag, symbolTag, stringTag, setTag, regexpTag, objectTag, numberTag, mapTag, int32ArrayTag, int16ArrayTag, int8ArrayTag, float64ArrayTag, float32ArrayTag, dateTag, booleanTag, dataViewTag, arrayBufferTag, arrayTag, argumentsTag } from '../compat/_internal/tags.mjs';\nimport { isPrimitive } from '../predicate/isPrimitive.mjs';\nimport { isTypedArray } from '../predicate/isTypedArray.mjs';\n\nfunction cloneDeepWith(obj, cloneValue) {\n    return cloneDeepWithImpl(obj, undefined, obj, new Map(), cloneValue);\n}\nfunction cloneDeepWithImpl(valueToClone, keyToClone, objectToClone, stack = new Map(), cloneValue = undefined) {\n    const cloned = cloneValue?.(valueToClone, keyToClone, objectToClone, stack);\n    if (cloned != null) {\n        return cloned;\n    }\n    if (isPrimitive(valueToClone)) {\n        return valueToClone;\n    }\n    if (stack.has(valueToClone)) {\n        return stack.get(valueToClone);\n    }\n    if (Array.isArray(valueToClone)) {\n        const result = new Array(valueToClone.length);\n        stack.set(valueToClone, result);\n        for (let i = 0; i < valueToClone.length; i++) {\n            result[i] = cloneDeepWithImpl(valueToClone[i], i, objectToClone, stack, cloneValue);\n        }\n        if (Object.hasOwn(valueToClone, 'index')) {\n            result.index = valueToClone.index;\n        }\n        if (Object.hasOwn(valueToClone, 'input')) {\n            result.input = valueToClone.input;\n        }\n        return result;\n    }\n    if (valueToClone instanceof Date) {\n        return new Date(valueToClone.getTime());\n    }\n    if (valueToClone instanceof RegExp) {\n        const result = new RegExp(valueToClone.source, valueToClone.flags);\n        result.lastIndex = valueToClone.lastIndex;\n        return result;\n    }\n    if (valueToClone instanceof Map) {\n        const result = new Map();\n        stack.set(valueToClone, result);\n        for (const [key, value] of valueToClone) {\n            result.set(key, cloneDeepWithImpl(value, key, objectToClone, stack, cloneValue));\n        }\n        return result;\n    }\n    if (valueToClone instanceof Set) {\n        const result = new Set();\n        stack.set(valueToClone, result);\n        for (const value of valueToClone) {\n            result.add(cloneDeepWithImpl(value, undefined, objectToClone, stack, cloneValue));\n        }\n        return result;\n    }\n    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(valueToClone)) {\n        return valueToClone.subarray();\n    }\n    if (isTypedArray(valueToClone)) {\n        const result = new (Object.getPrototypeOf(valueToClone).constructor)(valueToClone.length);\n        stack.set(valueToClone, result);\n        for (let i = 0; i < valueToClone.length; i++) {\n            result[i] = cloneDeepWithImpl(valueToClone[i], i, objectToClone, stack, cloneValue);\n        }\n        return result;\n    }\n    if (valueToClone instanceof ArrayBuffer ||\n        (typeof SharedArrayBuffer !== 'undefined' && valueToClone instanceof SharedArrayBuffer)) {\n        return valueToClone.slice(0);\n    }\n    if (valueToClone instanceof DataView) {\n        const result = new DataView(valueToClone.buffer.slice(0), valueToClone.byteOffset, valueToClone.byteLength);\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (typeof File !== 'undefined' && valueToClone instanceof File) {\n        const result = new File([valueToClone], valueToClone.name, {\n            type: valueToClone.type,\n        });\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (valueToClone instanceof Blob) {\n        const result = new Blob([valueToClone], { type: valueToClone.type });\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (valueToClone instanceof Error) {\n        const result = new valueToClone.constructor();\n        stack.set(valueToClone, result);\n        result.message = valueToClone.message;\n        result.name = valueToClone.name;\n        result.stack = valueToClone.stack;\n        result.cause = valueToClone.cause;\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (typeof valueToClone === 'object' && isCloneableObject(valueToClone)) {\n        const result = Object.create(Object.getPrototypeOf(valueToClone));\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    return valueToClone;\n}\nfunction copyProperties(target, source, objectToClone = target, stack, cloneValue) {\n    const keys = [...Object.keys(source), ...getSymbols(source)];\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        const descriptor = Object.getOwnPropertyDescriptor(target, key);\n        if (descriptor == null || descriptor.writable) {\n            target[key] = cloneDeepWithImpl(source[key], key, objectToClone, stack, cloneValue);\n        }\n    }\n}\nfunction isCloneableObject(object) {\n    switch (getTag(object)) {\n        case argumentsTag:\n        case arrayTag:\n        case arrayBufferTag:\n        case dataViewTag:\n        case booleanTag:\n        case dateTag:\n        case float32ArrayTag:\n        case float64ArrayTag:\n        case int8ArrayTag:\n        case int16ArrayTag:\n        case int32ArrayTag:\n        case mapTag:\n        case numberTag:\n        case objectTag:\n        case regexpTag:\n        case setTag:\n        case stringTag:\n        case symbolTag:\n        case uint8ArrayTag:\n        case uint8ClampedArrayTag:\n        case uint16ArrayTag:\n        case uint32ArrayTag: {\n            return true;\n        }\n        default: {\n            return false;\n        }\n    }\n}\n\nexport { cloneDeepWith, cloneDeepWithImpl, copyProperties };\n","import { cloneDeepWithImpl } from './cloneDeepWith.mjs';\n\nfunction cloneDeep(obj) {\n    return cloneDeepWithImpl(obj, undefined, obj, new Map(), undefined);\n}\n\nexport { cloneDeep };\n","import * as React from 'react';\n\n/**\n * Gets only the valid children of a component,\n * and ignores any nullish or falsy child.\n *\n * @param children the children\n */\nexport default function getValidReactChildren(children) {\n  return React.Children.toArray(children).filter(child => /*#__PURE__*/React.isValidElement(child));\n}","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\nimport { StyleSheet } from '@emotion/sheet';\n\n// We might be able to remove this when this issue is fixed:\n// https://github.com/emotion-js/emotion/issues/2790\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst createEmotionCache = (options, CustomSheet) => {\n  const cache = createCache(options);\n\n  // Do the same as https://github.com/emotion-js/emotion/blob/main/packages/cache/src/index.js#L238-L245\n  cache.sheet = new CustomSheet({\n    key: cache.key,\n    nonce: cache.sheet.nonce,\n    container: cache.sheet.container,\n    speedy: cache.sheet.isSpeedy,\n    prepend: cache.sheet.prepend,\n    insertionPoint: cache.sheet.insertionPoint\n  });\n  return cache;\n};\nlet cache;\nif (typeof document === 'object') {\n  // Use `insertionPoint` over `prepend`(deprecated) because it can be controlled for GlobalStyles injection order\n  // For more information, see https://github.com/mui/material-ui/issues/44597\n  let insertionPoint = document.querySelector('[name=\"emotion-insertion-point\"]');\n  if (!insertionPoint) {\n    insertionPoint = document.createElement('meta');\n    insertionPoint.setAttribute('name', 'emotion-insertion-point');\n    insertionPoint.setAttribute('content', '');\n    const head = document.querySelector('head');\n    if (head) {\n      head.prepend(insertionPoint);\n    }\n  }\n  /**\n   * This is for client-side apps only.\n   * A custom sheet is required to make the GlobalStyles API injected above the insertion point.\n   * This is because the [sheet](https://github.com/emotion-js/emotion/blob/main/packages/react/src/global.js#L94-L99) does not consume the options.\n   */\n  class MyStyleSheet extends StyleSheet {\n    insert(rule, options) {\n      if (this.key && this.key.endsWith('global')) {\n        this.before = insertionPoint;\n      }\n      return super.insert(rule, options);\n    }\n  }\n  cache = createEmotionCache({\n    key: 'css',\n    insertionPoint\n  }, MyStyleSheet);\n}\nexport default function StyledEngineProvider(props) {\n  const {\n    injectFirst,\n    children\n  } = props;\n  return injectFirst && cache ? /*#__PURE__*/_jsx(CacheProvider, {\n    value: cache,\n    children: children\n  }) : children;\n}\nprocess.env.NODE_ENV !== \"production\" ? StyledEngineProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * By default, the styles are injected last in the <head> element of the page.\n   * As a result, they gain more specificity than any other style sheet.\n   * If you want to override MUI's styles, set this prop.\n   */\n  injectFirst: PropTypes.bool\n} : void 0;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport Typography, { typographyClasses } from \"../Typography/index.js\";\nimport ListContext from \"../List/ListContext.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport listItemTextClasses, { getListItemTextUtilityClass } from \"./listItemTextClasses.js\";\nimport useSlot from \"../utils/useSlot.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    inset,\n    primary,\n    secondary,\n    dense\n  } = ownerState;\n  const slots = {\n    root: ['root', inset && 'inset', dense && 'dense', primary && secondary && 'multiline'],\n    primary: ['primary'],\n    secondary: ['secondary']\n  };\n  return composeClasses(slots, getListItemTextUtilityClass, classes);\n};\nconst ListItemTextRoot = styled('div', {\n  name: 'MuiListItemText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${listItemTextClasses.primary}`]: styles.primary\n    }, {\n      [`& .${listItemTextClasses.secondary}`]: styles.secondary\n    }, styles.root, ownerState.inset && styles.inset, ownerState.primary && ownerState.secondary && styles.multiline, ownerState.dense && styles.dense];\n  }\n})({\n  flex: '1 1 auto',\n  minWidth: 0,\n  marginTop: 4,\n  marginBottom: 4,\n  [`.${typographyClasses.root}:where(& .${listItemTextClasses.primary})`]: {\n    display: 'block'\n  },\n  [`.${typographyClasses.root}:where(& .${listItemTextClasses.secondary})`]: {\n    display: 'block'\n  },\n  variants: [{\n    props: ({\n      ownerState\n    }) => ownerState.primary && ownerState.secondary,\n    style: {\n      marginTop: 6,\n      marginBottom: 6\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.inset,\n    style: {\n      paddingLeft: 56\n    }\n  }]\n});\nconst ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiListItemText'\n  });\n  const {\n    children,\n    className,\n    disableTypography = false,\n    inset = false,\n    primary: primaryProp,\n    primaryTypographyProps,\n    secondary: secondaryProp,\n    secondaryTypographyProps,\n    slots = {},\n    slotProps = {},\n    ...other\n  } = props;\n  const {\n    dense\n  } = React.useContext(ListContext);\n  let primary = primaryProp != null ? primaryProp : children;\n  let secondary = secondaryProp;\n  const ownerState = {\n    ...props,\n    disableTypography,\n    inset,\n    primary: !!primary,\n    secondary: !!secondary,\n    dense\n  };\n  const classes = useUtilityClasses(ownerState);\n  const externalForwardedProps = {\n    slots,\n    slotProps: {\n      primary: primaryTypographyProps,\n      secondary: secondaryTypographyProps,\n      ...slotProps\n    }\n  };\n  const [PrimarySlot, primarySlotProps] = useSlot('primary', {\n    className: classes.primary,\n    elementType: Typography,\n    externalForwardedProps,\n    ownerState\n  });\n  const [SecondarySlot, secondarySlotProps] = useSlot('secondary', {\n    className: classes.secondary,\n    elementType: Typography,\n    externalForwardedProps,\n    ownerState\n  });\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/_jsx(PrimarySlot, {\n      variant: dense ? 'body2' : 'body1',\n      component: primarySlotProps?.variant ? undefined : 'span',\n      ...primarySlotProps,\n      children: primary\n    });\n  }\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/_jsx(SecondarySlot, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      ...secondarySlotProps,\n      children: secondary\n    });\n  }\n  return /*#__PURE__*/_jsxs(ListItemTextRoot, {\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    ...other,\n    children: [primary, secondary]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemText.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Alias for the `primary` prop.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the children won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `children` (or `primary`) text, and optional `secondary` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n  /**\n   * If `true`, the children are indented.\n   * This should be used if there is no left avatar or left icon.\n   * @default false\n   */\n  inset: PropTypes.bool,\n  /**\n   * The main content element.\n   */\n  primary: PropTypes.node,\n  /**\n   * These props will be forwarded to the primary typography component\n   * (as long as disableTypography is not `true`).\n   * @deprecated Use `slotProps.primary` instead. This prop will be removed in v7. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  primaryTypographyProps: PropTypes.object,\n  /**\n   * The secondary content element.\n   */\n  secondary: PropTypes.node,\n  /**\n   * These props will be forwarded to the secondary typography component\n   * (as long as disableTypography is not `true`).\n   * @deprecated Use `slotProps.secondary` instead. This prop will be removed in v7. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  secondaryTypographyProps: PropTypes.object,\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    primary: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    secondary: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    primary: PropTypes.elementType,\n    secondary: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemText;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport rootShouldForwardProp from \"../styles/rootShouldForwardProp.js\";\nimport ButtonBase from \"../ButtonBase/index.js\";\nimport useEnhancedEffect from \"../utils/useEnhancedEffect.js\";\nimport useForkRef from \"../utils/useForkRef.js\";\nimport ListContext from \"../List/ListContext.js\";\nimport listItemButtonClasses, { getListItemButtonUtilityClass } from \"./listItemButtonClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes,\n    dense,\n    disabled,\n    disableGutters,\n    divider,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', divider && 'divider', disabled && 'disabled', alignItems === 'flex-start' && 'alignItemsFlexStart', selected && 'selected']\n  };\n  const composedClasses = composeClasses(slots, getListItemButtonUtilityClass, classes);\n  return {\n    ...classes,\n    ...composedClasses\n  };\n};\nconst ListItemButtonRoot = styled(ButtonBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiListItemButton',\n  slot: 'Root',\n  overridesResolver\n})(memoTheme(({\n  theme\n}) => ({\n  display: 'flex',\n  flexGrow: 1,\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  minWidth: 0,\n  boxSizing: 'border-box',\n  textAlign: 'left',\n  paddingTop: 8,\n  paddingBottom: 8,\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  '&:hover': {\n    textDecoration: 'none',\n    backgroundColor: (theme.vars || theme).palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${listItemButtonClasses.selected}`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n    [`&.${listItemButtonClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  },\n  [`&.${listItemButtonClasses.selected}:hover`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  },\n  [`&.${listItemButtonClasses.focusVisible}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.focus\n  },\n  [`&.${listItemButtonClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  },\n  variants: [{\n    props: ({\n      ownerState\n    }) => ownerState.divider,\n    style: {\n      borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`,\n      backgroundClip: 'padding-box'\n    }\n  }, {\n    props: {\n      alignItems: 'flex-start'\n    },\n    style: {\n      alignItems: 'flex-start'\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !ownerState.disableGutters,\n    style: {\n      paddingLeft: 16,\n      paddingRight: 16\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.dense,\n    style: {\n      paddingTop: 4,\n      paddingBottom: 4\n    }\n  }]\n})));\nconst ListItemButton = /*#__PURE__*/React.forwardRef(function ListItemButton(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiListItemButton'\n  });\n  const {\n    alignItems = 'center',\n    autoFocus = false,\n    component = 'div',\n    children,\n    dense = false,\n    disableGutters = false,\n    divider = false,\n    focusVisibleClassName,\n    selected = false,\n    className,\n    ...other\n  } = props;\n  const context = React.useContext(ListContext);\n  const childContext = React.useMemo(() => ({\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  }), [alignItems, context.dense, dense, disableGutters]);\n  const listItemRef = React.useRef(null);\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a ListItemButton whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  const ownerState = {\n    ...props,\n    alignItems,\n    dense: childContext.dense,\n    disableGutters,\n    divider,\n    selected\n  };\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsx(ListItemButtonRoot, {\n      ref: handleRef,\n      href: other.href || other.to\n      // `ButtonBase` processes `href` or `to` if `component` is set to 'button'\n      ,\n      component: (other.href || other.to) && component === 'div' ? 'button' : component,\n      focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ...other,\n      classes: classes,\n      children: children\n    })\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemButton.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n  /**\n   * If `true`, the list item is focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   * @default false\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n  /**\n   * @ignore\n   */\n  href: PropTypes.string,\n  /**\n   * Use to apply selected styling.\n   * @default false\n   */\n  selected: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemButton;","'use client';\n\nimport * as React from 'react';\n/**\n * Provides information about the current step in Stepper.\n */\nconst StepperContext = /*#__PURE__*/React.createContext({});\nif (process.env.NODE_ENV !== 'production') {\n  StepperContext.displayName = 'StepperContext';\n}\n\n/**\n * Returns the current StepperContext or an empty object if no StepperContext\n * has been defined in the component tree.\n */\nexport function useStepperContext() {\n  return React.useContext(StepperContext);\n}\nexport default StepperContext;","'use client';\n\nimport * as React from 'react';\n/**\n * Provides information about the current step in Stepper.\n */\nconst StepContext = /*#__PURE__*/React.createContext({});\nif (process.env.NODE_ENV !== 'production') {\n  StepContext.displayName = 'StepContext';\n}\n\n/**\n * Returns the current StepContext or an empty object if no StepContext\n * has been defined in the component tree.\n */\nexport function useStepContext() {\n  return React.useContext(StepContext);\n}\nexport default StepContext;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepUtilityClass(slot) {\n  return generateUtilityClass('MuiStep', slot);\n}\nconst stepClasses = generateUtilityClasses('MuiStep', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'completed']);\nexport default stepClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport integerPropType from '@mui/utils/integerPropType';\nimport composeClasses from '@mui/utils/composeClasses';\nimport StepperContext from \"../Stepper/StepperContext.js\";\nimport StepContext from \"./StepContext.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { getStepUtilityClass } from \"./stepClasses.js\";\nimport { jsxs as _jsxs, jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    completed\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', completed && 'completed']\n  };\n  return composeClasses(slots, getStepUtilityClass, classes);\n};\nconst StepRoot = styled('div', {\n  name: 'MuiStep',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})({\n  variants: [{\n    props: {\n      orientation: 'horizontal'\n    },\n    style: {\n      paddingLeft: 8,\n      paddingRight: 8\n    }\n  }, {\n    props: {\n      alternativeLabel: true\n    },\n    style: {\n      flex: 1,\n      position: 'relative'\n    }\n  }]\n});\nconst Step = /*#__PURE__*/React.forwardRef(function Step(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiStep'\n  });\n  const {\n    active: activeProp,\n    children,\n    className,\n    component = 'div',\n    completed: completedProp,\n    disabled: disabledProp,\n    expanded = false,\n    index,\n    last,\n    ...other\n  } = props;\n  const {\n    activeStep,\n    connector,\n    alternativeLabel,\n    orientation,\n    nonLinear\n  } = React.useContext(StepperContext);\n  let [active = false, completed = false, disabled = false] = [activeProp, completedProp, disabledProp];\n  if (activeStep === index) {\n    active = activeProp !== undefined ? activeProp : true;\n  } else if (!nonLinear && activeStep > index) {\n    completed = completedProp !== undefined ? completedProp : true;\n  } else if (!nonLinear && activeStep < index) {\n    disabled = disabledProp !== undefined ? disabledProp : true;\n  }\n  const contextValue = React.useMemo(() => ({\n    index,\n    last,\n    expanded,\n    icon: index + 1,\n    active,\n    completed,\n    disabled\n  }), [index, last, expanded, active, completed, disabled]);\n  const ownerState = {\n    ...props,\n    active,\n    orientation,\n    alternativeLabel,\n    completed,\n    disabled,\n    expanded,\n    component\n  };\n  const classes = useUtilityClasses(ownerState);\n  const newChildren = /*#__PURE__*/_jsxs(StepRoot, {\n    as: component,\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    ...other,\n    children: [connector && alternativeLabel && index !== 0 ? connector : null, children]\n  });\n  return /*#__PURE__*/_jsx(StepContext.Provider, {\n    value: contextValue,\n    children: connector && !alternativeLabel && index !== 0 ? /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [connector, newChildren]\n    }) : newChildren\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Step.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Sets the step as active. Is passed to child components.\n   */\n  active: PropTypes.bool,\n  /**\n   * Should be `Step` sub-components such as `StepLabel`, `StepContent`.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Mark the step as completed. Is passed to child components.\n   */\n  completed: PropTypes.bool,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the step is disabled, will also disable the button if\n   * `StepButton` is a child of `Step`. Is passed to child components.\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Expand the step.\n   * @default false\n   */\n  expanded: PropTypes.bool,\n  /**\n   * The position of the step.\n   * The prop defaults to the value inherited from the parent Stepper component.\n   */\n  index: integerPropType,\n  /**\n   * If `true`, the Step is displayed as rendered last.\n   * The prop defaults to the value inherited from the parent Stepper component.\n   */\n  last: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Step;","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z\"\n}), 'CheckCircle');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from \"../../utils/createSvgIcon.js\";\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepIconUtilityClass(slot) {\n  return generateUtilityClass('MuiStepIcon', slot);\n}\nconst stepIconClasses = generateUtilityClasses('MuiStepIcon', ['root', 'active', 'completed', 'error', 'text']);\nexport default stepIconClasses;","'use client';\n\nvar _circle;\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport CheckCircle from \"../internal/svg-icons/CheckCircle.js\";\nimport Warning from \"../internal/svg-icons/Warning.js\";\nimport SvgIcon from \"../SvgIcon/index.js\";\nimport stepIconClasses, { getStepIconUtilityClass } from \"./stepIconClasses.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    active,\n    completed,\n    error\n  } = ownerState;\n  const slots = {\n    root: ['root', active && 'active', completed && 'completed', error && 'error'],\n    text: ['text']\n  };\n  return composeClasses(slots, getStepIconUtilityClass, classes);\n};\nconst StepIconRoot = styled(SvgIcon, {\n  name: 'MuiStepIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(memoTheme(({\n  theme\n}) => ({\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  color: (theme.vars || theme).palette.text.disabled,\n  [`&.${stepIconClasses.completed}`]: {\n    color: (theme.vars || theme).palette.primary.main\n  },\n  [`&.${stepIconClasses.active}`]: {\n    color: (theme.vars || theme).palette.primary.main\n  },\n  [`&.${stepIconClasses.error}`]: {\n    color: (theme.vars || theme).palette.error.main\n  }\n})));\nconst StepIconText = styled('text', {\n  name: 'MuiStepIcon',\n  slot: 'Text',\n  overridesResolver: (props, styles) => styles.text\n})(memoTheme(({\n  theme\n}) => ({\n  fill: (theme.vars || theme).palette.primary.contrastText,\n  fontSize: theme.typography.caption.fontSize,\n  fontFamily: theme.typography.fontFamily\n})));\nconst StepIcon = /*#__PURE__*/React.forwardRef(function StepIcon(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiStepIcon'\n  });\n  const {\n    active = false,\n    className: classNameProp,\n    completed = false,\n    error = false,\n    icon,\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    active,\n    completed,\n    error\n  };\n  const classes = useUtilityClasses(ownerState);\n  if (typeof icon === 'number' || typeof icon === 'string') {\n    const className = clsx(classNameProp, classes.root);\n    if (error) {\n      return /*#__PURE__*/_jsx(StepIconRoot, {\n        as: Warning,\n        className: className,\n        ref: ref,\n        ownerState: ownerState,\n        ...other\n      });\n    }\n    if (completed) {\n      return /*#__PURE__*/_jsx(StepIconRoot, {\n        as: CheckCircle,\n        className: className,\n        ref: ref,\n        ownerState: ownerState,\n        ...other\n      });\n    }\n    return /*#__PURE__*/_jsxs(StepIconRoot, {\n      className: className,\n      ref: ref,\n      ownerState: ownerState,\n      ...other,\n      children: [_circle || (_circle = /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"12\",\n        cy: \"12\",\n        r: \"12\"\n      })), /*#__PURE__*/_jsx(StepIconText, {\n        className: classes.text,\n        x: \"12\",\n        y: \"12\",\n        textAnchor: \"middle\",\n        dominantBaseline: \"central\",\n        ownerState: ownerState,\n        children: icon\n      })]\n    });\n  }\n  return icon;\n});\nprocess.env.NODE_ENV !== \"production\" ? StepIcon.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Whether this step is active.\n   * @default false\n   */\n  active: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Mark the step as completed. Is passed to child components.\n   * @default false\n   */\n  completed: PropTypes.bool,\n  /**\n   * If `true`, the step is marked as failed.\n   * @default false\n   */\n  error: PropTypes.bool,\n  /**\n   * The label displayed in the step icon.\n   */\n  icon: PropTypes.node,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepIcon;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepLabelUtilityClass(slot) {\n  return generateUtilityClass('MuiStepLabel', slot);\n}\nconst stepLabelClasses = generateUtilityClasses('MuiStepLabel', ['root', 'horizontal', 'vertical', 'label', 'active', 'completed', 'error', 'disabled', 'iconContainer', 'alternativeLabel', 'labelContainer']);\nexport default stepLabelClasses;","'use client';\n\nimport composeClasses from '@mui/utils/composeClasses';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport StepContext from \"../Step/StepContext.js\";\nimport StepIcon from \"../StepIcon/index.js\";\nimport StepperContext from \"../Stepper/StepperContext.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport stepLabelClasses, { getStepLabelUtilityClass } from \"./stepLabelClasses.js\";\nimport useSlot from \"../utils/useSlot.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    active,\n    completed,\n    error,\n    disabled,\n    alternativeLabel\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    label: ['label', active && 'active', completed && 'completed', error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    iconContainer: ['iconContainer', active && 'active', completed && 'completed', error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    labelContainer: ['labelContainer', alternativeLabel && 'alternativeLabel']\n  };\n  return composeClasses(slots, getStepLabelUtilityClass, classes);\n};\nconst StepLabelRoot = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation]];\n  }\n})({\n  display: 'flex',\n  alignItems: 'center',\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    flexDirection: 'column'\n  },\n  [`&.${stepLabelClasses.disabled}`]: {\n    cursor: 'default'\n  },\n  variants: [{\n    props: {\n      orientation: 'vertical'\n    },\n    style: {\n      textAlign: 'left',\n      padding: '8px 0'\n    }\n  }]\n});\nconst StepLabelLabel = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Label',\n  overridesResolver: (props, styles) => styles.label\n})(memoTheme(({\n  theme\n}) => ({\n  ...theme.typography.body2,\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${stepLabelClasses.active}`]: {\n    color: (theme.vars || theme).palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses.completed}`]: {\n    color: (theme.vars || theme).palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    marginTop: 16\n  },\n  [`&.${stepLabelClasses.error}`]: {\n    color: (theme.vars || theme).palette.error.main\n  }\n})));\nconst StepLabelIconContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'IconContainer',\n  overridesResolver: (props, styles) => styles.iconContainer\n})({\n  flexShrink: 0,\n  display: 'flex',\n  paddingRight: 8,\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    paddingRight: 0\n  }\n});\nconst StepLabelLabelContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'LabelContainer',\n  overridesResolver: (props, styles) => styles.labelContainer\n})(memoTheme(({\n  theme\n}) => ({\n  width: '100%',\n  color: (theme.vars || theme).palette.text.secondary,\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    textAlign: 'center'\n  }\n})));\nconst StepLabel = /*#__PURE__*/React.forwardRef(function StepLabel(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiStepLabel'\n  });\n  const {\n    children,\n    className,\n    componentsProps = {},\n    error = false,\n    icon: iconProp,\n    optional,\n    slots = {},\n    slotProps = {},\n    StepIconComponent: StepIconComponentProp,\n    StepIconProps,\n    ...other\n  } = props;\n  const {\n    alternativeLabel,\n    orientation\n  } = React.useContext(StepperContext);\n  const {\n    active,\n    disabled,\n    completed,\n    icon: iconContext\n  } = React.useContext(StepContext);\n  const icon = iconProp || iconContext;\n  let StepIconComponent = StepIconComponentProp;\n  if (icon && !StepIconComponent) {\n    StepIconComponent = StepIcon;\n  }\n  const ownerState = {\n    ...props,\n    active,\n    alternativeLabel,\n    completed,\n    disabled,\n    error,\n    orientation\n  };\n  const classes = useUtilityClasses(ownerState);\n  const externalForwardedProps = {\n    slots,\n    slotProps: {\n      stepIcon: StepIconProps,\n      ...componentsProps,\n      ...slotProps\n    }\n  };\n  const [LabelSlot, labelProps] = useSlot('label', {\n    elementType: StepLabelLabel,\n    externalForwardedProps,\n    ownerState\n  });\n  const [StepIconSlot, stepIconProps] = useSlot('stepIcon', {\n    elementType: StepIconComponent,\n    externalForwardedProps,\n    ownerState\n  });\n  return /*#__PURE__*/_jsxs(StepLabelRoot, {\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    ...other,\n    children: [icon || StepIconSlot ? /*#__PURE__*/_jsx(StepLabelIconContainer, {\n      className: classes.iconContainer,\n      ownerState: ownerState,\n      children: /*#__PURE__*/_jsx(StepIconSlot, {\n        completed: completed,\n        active: active,\n        error: error,\n        icon: icon,\n        ...stepIconProps\n      })\n    }) : null, /*#__PURE__*/_jsxs(StepLabelLabelContainer, {\n      className: classes.labelContainer,\n      ownerState: ownerState,\n      children: [children ? /*#__PURE__*/_jsx(LabelSlot, {\n        ...labelProps,\n        className: clsx(classes.label, labelProps?.className),\n        children: children\n      }) : null, optional]\n    })]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? StepLabel.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * In most cases will simply be a string containing a title for the label.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   * @deprecated use the `slotProps` prop instead. This prop will be removed in v7. See [Migrating from deprecated APIs](https://mui.com/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  componentsProps: PropTypes.shape({\n    label: PropTypes.object\n  }),\n  /**\n   * If `true`, the step is marked as failed.\n   * @default false\n   */\n  error: PropTypes.bool,\n  /**\n   * Override the default label of the step icon.\n   */\n  icon: PropTypes.node,\n  /**\n   * The optional node to display.\n   */\n  optional: PropTypes.node,\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    stepIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    label: PropTypes.elementType,\n    stepIcon: PropTypes.elementType\n  }),\n  /**\n   * The component to render in place of the [`StepIcon`](https://mui.com/material-ui/api/step-icon/).\n   * @deprecated Use `slots.stepIcon` instead. This prop will be removed in v7. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  StepIconComponent: PropTypes.elementType,\n  /**\n   * Props applied to the [`StepIcon`](https://mui.com/material-ui/api/step-icon/) element.\n   * @deprecated Use `slotProps.stepIcon` instead. This prop will be removed in v7. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  StepIconProps: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nStepLabel.muiName = 'StepLabel';\nexport default StepLabel;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiStepButton', slot);\n}\nconst stepButtonClasses = generateUtilityClasses('MuiStepButton', ['root', 'horizontal', 'vertical', 'touchRipple']);\nexport default stepButtonClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport ButtonBase from \"../ButtonBase/index.js\";\nimport StepLabel from \"../StepLabel/index.js\";\nimport isMuiElement from \"../utils/isMuiElement.js\";\nimport StepperContext from \"../Stepper/StepperContext.js\";\nimport StepContext from \"../Step/StepContext.js\";\nimport stepButtonClasses, { getStepButtonUtilityClass } from \"./stepButtonClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation],\n    touchRipple: ['touchRipple']\n  };\n  return composeClasses(slots, getStepButtonUtilityClass, classes);\n};\nconst StepButtonRoot = styled(ButtonBase, {\n  name: 'MuiStepButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${stepButtonClasses.touchRipple}`]: styles.touchRipple\n    }, styles.root, styles[ownerState.orientation]];\n  }\n})({\n  width: '100%',\n  padding: '24px 16px',\n  margin: '-24px -16px',\n  boxSizing: 'content-box',\n  [`& .${stepButtonClasses.touchRipple}`]: {\n    color: 'rgba(0, 0, 0, 0.3)'\n  },\n  variants: [{\n    props: {\n      orientation: 'vertical'\n    },\n    style: {\n      justifyContent: 'flex-start',\n      padding: '8px',\n      margin: '-8px'\n    }\n  }]\n});\nconst StepButton = /*#__PURE__*/React.forwardRef(function StepButton(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiStepButton'\n  });\n  const {\n    children,\n    className,\n    icon,\n    optional,\n    ...other\n  } = props;\n  const {\n    disabled,\n    active\n  } = React.useContext(StepContext);\n  const {\n    orientation\n  } = React.useContext(StepperContext);\n  const ownerState = {\n    ...props,\n    orientation\n  };\n  const classes = useUtilityClasses(ownerState);\n  const childProps = {\n    icon,\n    optional\n  };\n  const child = isMuiElement(children, ['StepLabel']) ? (/*#__PURE__*/React.cloneElement(children, childProps)) : /*#__PURE__*/_jsx(StepLabel, {\n    ...childProps,\n    children: children\n  });\n  return /*#__PURE__*/_jsx(StepButtonRoot, {\n    focusRipple: true,\n    disabled: disabled,\n    TouchRippleProps: {\n      className: classes.touchRipple\n    },\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    \"aria-current\": active ? 'step' : undefined,\n    ...other,\n    children: child\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? StepButton.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Can be a `StepLabel` or a node to place inside `StepLabel` as children.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The icon displayed by the step label.\n   */\n  icon: PropTypes.node,\n  /**\n   * The optional node to display.\n   */\n  optional: PropTypes.node,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepButton;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepperUtilityClass(slot) {\n  return generateUtilityClass('MuiStepper', slot);\n}\nconst stepperClasses = generateUtilityClasses('MuiStepper', ['root', 'horizontal', 'vertical', 'nonLinear', 'alternativeLabel']);\nexport default stepperClasses;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepConnectorUtilityClass(slot) {\n  return generateUtilityClass('MuiStepConnector', slot);\n}\nconst stepConnectorClasses = generateUtilityClasses('MuiStepConnector', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'active', 'completed', 'disabled', 'line', 'lineHorizontal', 'lineVertical']);\nexport default stepConnectorClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport capitalize from \"../utils/capitalize.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport StepperContext from \"../Stepper/StepperContext.js\";\nimport StepContext from \"../Step/StepContext.js\";\nimport { getStepConnectorUtilityClass } from \"./stepConnectorClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    active,\n    completed,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', active && 'active', completed && 'completed', disabled && 'disabled'],\n    line: ['line', `line${capitalize(orientation)}`]\n  };\n  return composeClasses(slots, getStepConnectorUtilityClass, classes);\n};\nconst StepConnectorRoot = styled('div', {\n  name: 'MuiStepConnector',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})({\n  flex: '1 1 auto',\n  variants: [{\n    props: {\n      orientation: 'vertical'\n    },\n    style: {\n      marginLeft: 12 // half icon\n    }\n  }, {\n    props: {\n      alternativeLabel: true\n    },\n    style: {\n      position: 'absolute',\n      top: 8 + 4,\n      left: 'calc(-50% + 20px)',\n      right: 'calc(50% + 20px)'\n    }\n  }]\n});\nconst StepConnectorLine = styled('span', {\n  name: 'MuiStepConnector',\n  slot: 'Line',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.line, styles[`line${capitalize(ownerState.orientation)}`]];\n  }\n})(memoTheme(({\n  theme\n}) => {\n  const borderColor = theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[600];\n  return {\n    display: 'block',\n    borderColor: theme.vars ? theme.vars.palette.StepConnector.border : borderColor,\n    variants: [{\n      props: {\n        orientation: 'horizontal'\n      },\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: 1\n      }\n    }, {\n      props: {\n        orientation: 'vertical'\n      },\n      style: {\n        borderLeftStyle: 'solid',\n        borderLeftWidth: 1,\n        minHeight: 24\n      }\n    }]\n  };\n}));\nconst StepConnector = /*#__PURE__*/React.forwardRef(function StepConnector(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiStepConnector'\n  });\n  const {\n    className,\n    ...other\n  } = props;\n  const {\n    alternativeLabel,\n    orientation = 'horizontal'\n  } = React.useContext(StepperContext);\n  const {\n    active,\n    disabled,\n    completed\n  } = React.useContext(StepContext);\n  const ownerState = {\n    ...props,\n    alternativeLabel,\n    orientation,\n    active,\n    completed,\n    disabled\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(StepConnectorRoot, {\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    ...other,\n    children: /*#__PURE__*/_jsx(StepConnectorLine, {\n      className: classes.line,\n      ownerState: ownerState\n    })\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? StepConnector.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepConnector;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport integerPropType from '@mui/utils/integerPropType';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { getStepperUtilityClass } from \"./stepperClasses.js\";\nimport StepConnector from \"../StepConnector/index.js\";\nimport StepperContext from \"./StepperContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    nonLinear,\n    alternativeLabel,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, nonLinear && 'nonLinear', alternativeLabel && 'alternativeLabel']\n  };\n  return composeClasses(slots, getStepperUtilityClass, classes);\n};\nconst StepperRoot = styled('div', {\n  name: 'MuiStepper',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.nonLinear && styles.nonLinear];\n  }\n})({\n  display: 'flex',\n  variants: [{\n    props: {\n      orientation: 'horizontal'\n    },\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  }, {\n    props: {\n      orientation: 'vertical'\n    },\n    style: {\n      flexDirection: 'column'\n    }\n  }, {\n    props: {\n      alternativeLabel: true\n    },\n    style: {\n      alignItems: 'flex-start'\n    }\n  }]\n});\nconst defaultConnector = /*#__PURE__*/_jsx(StepConnector, {});\nconst Stepper = /*#__PURE__*/React.forwardRef(function Stepper(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiStepper'\n  });\n  const {\n    activeStep = 0,\n    alternativeLabel = false,\n    children,\n    className,\n    component = 'div',\n    connector = defaultConnector,\n    nonLinear = false,\n    orientation = 'horizontal',\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    nonLinear,\n    alternativeLabel,\n    orientation,\n    component\n  };\n  const classes = useUtilityClasses(ownerState);\n  const childrenArray = React.Children.toArray(children).filter(Boolean);\n  const steps = childrenArray.map((step, index) => {\n    return /*#__PURE__*/React.cloneElement(step, {\n      index,\n      last: index + 1 === childrenArray.length,\n      ...step.props\n    });\n  });\n  const contextValue = React.useMemo(() => ({\n    activeStep,\n    alternativeLabel,\n    connector,\n    nonLinear,\n    orientation\n  }), [activeStep, alternativeLabel, connector, nonLinear, orientation]);\n  return /*#__PURE__*/_jsx(StepperContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(StepperRoot, {\n      as: component,\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref,\n      ...other,\n      children: steps\n    })\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Stepper.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Set the active step (zero based index).\n   * Set to -1 to disable all the steps.\n   * @default 0\n   */\n  activeStep: integerPropType,\n  /**\n   * If set to 'true' and orientation is horizontal,\n   * then the step label will be positioned under the icon.\n   * @default false\n   */\n  alternativeLabel: PropTypes.bool,\n  /**\n   * Two or more `<Step />` components.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * An element to be placed between each step.\n   * @default <StepConnector />\n   */\n  connector: PropTypes.element,\n  /**\n   * If set the `Stepper` will not assist in controlling steps for linear flow.\n   * @default false\n   */\n  nonLinear: PropTypes.bool,\n  /**\n   * The component orientation (layout flow direction).\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Stepper;","export default function setQueryParam(params: Record<string, string | null>) {\n  const url = new URL(global.location?.href);\n\n  Object.entries(params).forEach(([param, value]) => {\n    if (value === null) {\n      url.searchParams.delete(param);\n    } else {\n      url.searchParams.set(param, value);\n    }\n  });\n  global.history.replaceState(null, '', url.toString());\n}\n","import { Search } from '@mui/icons-material';\nimport { Button, Tooltip } from '@mui/material';\nimport { ComponentProps } from 'react';\nimport { twc } from 'react-twc';\n\nexport const Pre = twc.span`font-mono`;\n\n// eslint-disable-next-line react-refresh/only-export-components\nexport const inputAction = (action: ComponentProps<typeof Button>['onClick'], enabled: boolean, label = 'Lookup') => ({\n  InputProps: {\n    endAdornment: (\n      <Tooltip title={enabled ? 'Open search results for the song' : 'Artist or title of the song is unknown'}>\n        <span>\n          <Button\n            sx={{ mr: -1 }}\n            endIcon={<Search />}\n            color={'secondary'}\n            variant={'text'}\n            onClick={action}\n            disabled={!enabled}>\n            {label}\n          </Button>\n        </span>\n      </Tooltip>\n    ),\n  },\n});\n","import { Box, TextField } from '@mui/material';\nimport { getVideoId } from 'modules/Songs/utils/convertTxtToSong';\nimport YouTube from 'react-youtube';\nimport { inputAction } from 'routes/Convert/Elements';\n\nexport interface AuthorAndVidEntity {\n  author: string;\n  authorUrl: string;\n  video: string;\n}\n\ninterface Props {\n  onChange: (data: AuthorAndVidEntity) => void;\n  data: AuthorAndVidEntity;\n  songTitle?: string;\n  songArtist?: string;\n}\n\nexport default function AuthorAndVideo(props: Props) {\n  const searchForVideo = () => {\n    global.open(\n      `https://www.youtube.com/results?search_query=${encodeURIComponent(props?.songArtist + ' ' + props?.songTitle)}`,\n      '_blank',\n    );\n  };\n  const isSearchableForVideo = !!props.songTitle && !!props.songArtist;\n\n  const videoId = getVideoId(props.data.video);\n\n  return (\n    <Box sx={{ display: 'flex', flexWrap: 'wrap' }} data-test=\"author-and-vid\">\n      <TextField\n        data-test=\"author-name\"\n        sx={{ mt: 2 }}\n        value={props.data.author}\n        onChange={(e) => props.onChange({ ...props.data, author: e.target.value })}\n        label=\"Author name (optional)\"\n        fullWidth\n        size=\"small\"\n        helperText=\"Nickname of the person that created the .txt file.\"\n      />\n      <TextField\n        data-test=\"author-url\"\n        sx={{ mt: 2 }}\n        value={props.data.authorUrl}\n        onChange={(e) => props.onChange({ ...props.data, authorUrl: e.target.value })}\n        label=\"Author URL (optional)\"\n        helperText=\"Link to authors page/profile.\"\n        fullWidth\n        size=\"small\"\n      />\n      <Box sx={{ display: 'flex', flexDirection: 'row', mt: 2, alignItems: 'center', width: '100%' }}>\n        <TextField\n          data-test=\"video-url\"\n          required\n          value={props.data.video}\n          onChange={(e) => props.onChange({ ...props.data, video: e.target.value })}\n          label=\"YouTube Video URL\"\n          placeholder=\"https://www.youtube.com/watch?v=\"\n          fullWidth\n          size=\"small\"\n          helperText=\"Link to YouTube video, eg https://www.youtube.com/watch?v=xxxxxxxxx. Click the 'Lookup' button to look for it on YouTube\"\n          name=\"videoUrl\"\n          {...inputAction(searchForVideo, isSearchableForVideo)}\n        />\n      </Box>\n      {videoId && (\n        <Box>\n          <YouTube videoId={videoId} />\n        </Box>\n      )}\n    </Box>\n  );\n}\n","import { AuthorAndVidEntity } from 'routes/Convert/Steps/AuthorAndVideo';\n\nexport default async function importSongFromSource(url: string) {\n  try {\n    const urlObj = new URL(url);\n\n    if (urlObj.host === 'usdb.animux.de') {\n      return importUsDbAnimuxSong(url, urlObj);\n    } else if (urlObj.host === 'ultrastar-es.org') {\n      return importUltrastarEsSong(url);\n    }\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\nasync function importUltrastarEsSong(url: string): Promise<AuthorAndVidEntity> {\n  const response = await fetch(`/proxy?url=${encodeURIComponent(url)}`);\n  const text = await response.text();\n\n  const doc = new DOMParser().parseFromString(text, 'text/html');\n\n  const id = doc.querySelector('ul[data-id]')?.getAttribute('data-id');\n  const txtUrl = `https://ultrastar-es.org/pl/canciones/descargar/txt/${id}`;\n  global.location.href = txtUrl;\n\n  const authorPath = doc.querySelector('#listado > ul > li > dl > dd:nth-child(6) > a')?.getAttribute('href');\n  const videoId = doc.querySelector('#listado > ul > li')?.getAttribute('data-id');\n\n  return {\n    authorUrl: authorPath ? 'https://ultrastar-es.org' + authorPath : '',\n    author: doc.querySelector('#listado > ul > li > dl > dd:nth-child(6)')?.textContent ?? '',\n    video: videoId ? 'https://www.youtube.com/watch?v=' + videoId : '',\n  };\n}\n\nasync function importUsDbAnimuxSong(url: string, obj: URL): Promise<AuthorAndVidEntity> {\n  const response = await fetch(`/proxy?url=${encodeURIComponent(url)}`);\n  const text = await response.text();\n\n  const doc = new DOMParser().parseFromString(text, 'text/html');\n\n  const author = doc.querySelector('a[href^=\"?link=profil&id=\"]')?.textContent;\n  const authorPath = doc.querySelector('a[href^=\"?link=profil&id=\"]')?.getAttribute?.('href');\n\n  const artist = doc.querySelector(\n    '#tablebg > tbody > tr:nth-child(3) > td > table:nth-child(2) > tbody > tr.list_head > td:nth-child(1)',\n  )?.textContent;\n  const title = doc.querySelector(\n    '#tablebg > tbody > tr:nth-child(3) > td > table:nth-child(2) > tbody > tr.list_head > td:nth-child(2)',\n  )?.textContent;\n\n  global.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(artist + ' ' + title)}`, '_blank');\n  global.open(`http://usdb.animux.de/index.php?link=gettxt&id=${obj.searchParams.get('id')}`, '_blank');\n\n  return {\n    authorUrl: authorPath ? 'http://usdb.animux.de/index.php' + authorPath : '',\n    author: author ?? '',\n    video: '',\n  };\n}\n","import { Button, Tooltip } from '@mui/material';\nimport { seconds } from 'interfaces';\nimport GameState from 'modules/GameEngine/GameState/GameState';\nimport { YouTubePlayer } from 'react-youtube';\nimport { Pre } from 'routes/Convert/Elements';\nimport { PlayerRef } from 'routes/Game/Singing/Player';\n\nconst formatMs = (msec: number) => {\n  const minutes = Math.floor(msec / 1000 / 60);\n  const seconds = Math.floor(msec / 1000) - minutes * 60;\n  const miliseconds = Math.floor(msec % 1000);\n\n  return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}.${String(miliseconds).padStart(3, '0')}`;\n};\n\nconst ytPlayerAdapter = (player: PlayerRef | YouTubePlayer): PlayerRef => {\n  if ('playVideo' in player) {\n    return {\n      play: () => player.playVideo(),\n      pause: () => player.pauseVideo(),\n      seekTo: (timeSec: seconds) => player.seekTo(timeSec, true),\n      setPlaybackSpeed: (rate) => player.setPlaybackRate(rate),\n      getCurrentTime: () => player.getCurrentTime(),\n    };\n  }\n\n  return player;\n};\n\nexport const msec = (ms: number | undefined, player?: PlayerRef | YouTubePlayer | null) => (\n  <Tooltip title=\"Click to play the moment just before this time\" placement={'top'} arrow>\n    <Button\n      sx={{ py: 0.15, mb: 0.5 }}\n      variant={'contained'}\n      size=\"small\"\n      disabled={!player}\n      onClick={\n        player\n          ? () => {\n              GameState.resetPlayerNotes();\n              ytPlayerAdapter(player).seekTo((ms ?? 0) / 1000 - 0.7);\n            }\n          : undefined\n      }>\n      <Pre>{formatMs(ms ?? 0)}</Pre>\n    </Button>\n  </Tooltip>\n);\n\nexport default formatMs;\n","const accents = {\n  polish: {\n    È: 'é',\n    í: \"'\",\n    '¥': \"'\",\n    '¯': 'Ż',\n    '¹': 'ą',\n    π: 'ą',\n    ê: 'ę',\n    Í: 'ę',\n    Œ: 'Ś',\n    å: 'Ś',\n    œ: 'ś',\n    ú: 'ś',\n    æ: 'ć',\n    Ê: 'ć',\n    '¿': 'ż',\n    ø: 'ż',\n    Ø: 'Ż',\n    ñ: 'ń',\n    Ò: 'ń',\n    '³': 'ł',\n    '≥': 'ł',\n    '£': 'Ł',\n    Û: 'ó',\n    ü: 'ź',\n    Ÿ: 'ź',\n  },\n  spanish: {\n    ø: '¿',\n    È: 'é',\n    Ì: 'í',\n    Ò: 'ñ',\n    ń: 'ñ',\n    '·': 'á',\n    Û: 'ó',\n    '°': '!',\n    '˙': 'ú',\n    ś: 'ú',\n  },\n};\n\nexport function fixDiacritics(txt: string, language: string): string {\n  const accentSet = accents[language as any as keyof typeof accents];\n  if (accentSet === undefined) return txt;\n\n  let fixedTxt = txt;\n  for (const [accent, replacement] of Object.entries(accentSet)) {\n    fixedTxt = fixedTxt.replaceAll(accent, replacement);\n  }\n\n  return fixedTxt;\n}\n","import convertTxtToSong from 'modules/Songs/utils/convertTxtToSong';\n\nexport default function isValidUltrastarTxtFormat(songTxt: string) {\n  const lines = songTxt.split('\\n');\n  const requiredTags = ['#TITLE', '#ARTIST', '#BPM'];\n\n  for (const tag of requiredTags) {\n    if (!lines.some((line) => line.startsWith(tag))) {\n      return false;\n    }\n  }\n\n  // Checking if there exist any song notes or not\n  if (!lines.some((line) => line.startsWith(':'))) {\n    return false;\n  }\n\n  try {\n    convertTxtToSong(songTxt);\n  } catch (e) {\n    console.log(e);\n    return false;\n  }\n\n  return true;\n}\n","import { Box, Button, TextField } from '@mui/material';\nimport { Song } from 'interfaces';\nimport isNotesSection from 'modules/Songs/utils/isNotesSection';\nimport { getSectionStartInMs } from 'modules/Songs/utils/notesSelectors';\nimport { ChangeEventHandler, useMemo } from 'react';\nimport importUltrastarEsSong from 'routes/Convert/importUltrastarEsSong';\nimport { AuthorAndVidEntity } from 'routes/Convert/Steps/AuthorAndVideo';\nimport formatMs from 'routes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport { fixDiacritics } from 'routes/Convert/Steps/utils/fixDiacritics';\nimport isValidUltrastarTxtFormat from 'routes/Convert/Steps/utils/validateUltrastar';\nimport { Pre } from '../Elements';\n\nexport interface BasicDataEntity {\n  sourceUrl: string;\n  txtInput: string;\n}\n\ninterface Props {\n  shouldAutoImport: boolean;\n  onAutoImport: (data: AuthorAndVidEntity) => void;\n  onChange: (data: BasicDataEntity) => void;\n  data: BasicDataEntity;\n  isTxtRequired: boolean;\n  finalSong: Song;\n}\n\nexport default function BasicData(props: Props) {\n  const onSourceUrlEdit: ChangeEventHandler<HTMLInputElement> = async (e) => {\n    props.onChange({ ...props.data, sourceUrl: e.target.value });\n    if (props.shouldAutoImport) {\n      const data = await importUltrastarEsSong(e.target.value);\n\n      if (data) props.onAutoImport(data);\n    }\n  };\n\n  const fixAccents = (language: string) => {\n    props.onChange({\n      ...props.data,\n      txtInput: fixDiacritics(props.data.txtInput, language),\n    });\n  };\n\n  const isValidTxt = useMemo(() => isValidUltrastarTxtFormat(props.data.txtInput), [props.data.txtInput]);\n\n  const isTxtInputValid = !isValidTxt && props.data.txtInput.length > 0;\n\n  return (\n    <Box sx={{ display: 'flex', flexWrap: 'wrap' }} data-test=\"basic-data\">\n      {props.isTxtRequired && (\n        <div>\n          <h4>Where to find songs?</h4>\n          <p>\n            Any UltraStar compatible .txt file will do. You can find many already made songs on{' '}\n            <a href=\"https://usdb.animux.de/\" target=\"_blank\" rel=\"noreferrer\">\n              usdb.animux.de\n            </a>\n            {' or '}\n            <a href=\"https://ultrastar-es.org/en\" target=\"_blank\" rel=\"noreferrer\">\n              ultrastar-es.org\n            </a>\n            .<br />\n            <br />\n          </p>\n          <p>\n            You don&#39;t need audio/video files, you&#39;ll be able to search for appropriate YouTube video and\n            synchronise the lyrics to it in subsequent steps.\n          </p>\n        </div>\n      )}\n      <TextField\n        sx={{ mt: 2 }}\n        value={props.data.sourceUrl}\n        onChange={onSourceUrlEdit}\n        label=\"Source URL (optional)\"\n        fullWidth\n        size=\"small\"\n        data-test=\"source-url\"\n        helperText=\"The link to the page from which the .TXT file was downloaded.\"\n      />\n      {props.isTxtRequired ? (\n        <>\n          <TextField\n            error={isTxtInputValid}\n            helperText={isTxtInputValid ? \"This doesn't look like a valid UltraStar .TXT format\" : ''}\n            required\n            sx={{ mt: 2 }}\n            fullWidth\n            size=\"small\"\n            multiline\n            label=\"Song's UltraStar .TXT file contents\"\n            onChange={(e) =>\n              props.onChange({\n                ...props.data,\n                txtInput: e.target.value,\n              })\n            }\n            value={props.data.txtInput}\n            maxRows={15}\n            minRows={15}\n            InputProps={{\n              inputProps: {\n                'data-test': 'input-txt',\n                sx: { fontFamily: 'monospace' },\n              },\n            }}\n          />\n          <Box sx={{ display: 'flex', gap: 1, mt: 1 }}>\n            <Button onClick={() => fixAccents('polish')}>Fix 🇵🇱 Polish accents</Button>\n            <Button onClick={() => fixAccents('spanish')}>Fix 🇪🇸 Spanish accents</Button>\n          </Box>\n        </>\n      ) : (\n        <div className=\"flex h-150 w-full gap-1 overflow-auto\">\n          {props.finalSong?.tracks?.map((track, index) => (\n            <div key={index} className=\"flex flex-1 flex-col gap-1\">\n              <h4 className=\"py-3\">{track.name ?? `Track #${index + 1}`}</h4>\n              {track.sections.filter(isNotesSection).map((section) => (\n                <p key={section.start}>\n                  <span className=\"text-[0.75rem]\">\n                    [<Pre>{formatMs(getSectionStartInMs(section, props.finalSong))}</Pre>]\n                  </span>{' '}\n                  {section.notes.map((note) => note.lyrics).join('')}\n                </p>\n              ))}\n            </div>\n          ))}\n        </div>\n      )}\n    </Box>\n  );\n}\n","export const countryMap = {\n  AF: 'Afghanistan',\n  AX: 'Åland Islands',\n  AL: 'Albania',\n  DZ: 'Algeria',\n  AS: 'American Samoa',\n  AD: 'Andorra',\n  AO: 'Angola',\n  AI: 'Anguilla',\n  AQ: 'Antarctica',\n  AG: 'Antigua and Barbuda',\n  AR: 'Argentina',\n  AM: 'Armenia',\n  AW: 'Aruba',\n  AU: 'Australia',\n  AT: 'Austria',\n  AZ: 'Azerbaijan',\n  BS: 'Bahamas',\n  BH: 'Bahrain',\n  BD: 'Bangladesh',\n  BE: 'Belgium',\n  BZ: 'Belize',\n  BJ: 'Benin',\n  BM: 'Bermuda',\n  BT: 'Bhutan',\n  BO: 'Bolivia',\n  BA: 'Bosnia and Herzegovina',\n  BW: 'Botswana',\n  BV: 'Bouvet Island',\n  BR: 'Brazil',\n  IO: 'British Indian Ocean Territory',\n  BN: 'Brunei Darussalam',\n  BG: 'Bulgaria',\n  BF: 'Burkina Faso',\n  BI: 'Burundi',\n  KH: 'Cambodia',\n  CM: 'Cameroon',\n  CA: 'Canada',\n  CV: 'Cape Verde',\n  KY: 'Cayman Islands',\n  CF: 'Central African Republic',\n  TD: 'Chad',\n  CL: 'Chile',\n  CN: 'China',\n  CX: 'Christmas Island',\n  CC: 'Cocos (Keeling) Islands',\n  CO: 'Colombia',\n  KM: 'Comoros',\n  CG: 'Congo',\n  CD: 'Congo',\n  CK: 'Cook Islands',\n  CR: 'Costa Rica',\n  CI: 'Cote D Ivoire',\n  HR: 'Croatia',\n  CU: 'Cuba',\n  CY: 'Cyprus',\n  CZ: 'Czech Republic',\n  DK: 'Denmark',\n  DJ: 'Djibouti',\n  DM: 'Dominica',\n  DO: 'Dominican Republic',\n  EC: 'Ecuador',\n  EG: 'Egypt',\n  SV: 'El Salvador',\n  GQ: 'Equatorial Guinea',\n  ER: 'Eritrea',\n  EE: 'Estonia',\n  ET: 'Ethiopia',\n  FK: 'Falkland Islands (Malvinas)',\n  FO: 'Faroe Islands',\n  FJ: 'Fiji',\n  FI: 'Finland',\n  FR: 'France',\n  GF: 'French Guiana',\n  PF: 'French Polynesia',\n  TF: 'French Southern Territories',\n  GA: 'Gabon',\n  GM: 'Gambia',\n  GE: 'Georgia',\n  DE: 'Germany',\n  GH: 'Ghana',\n  GI: 'Gibraltar',\n  GR: 'Greece',\n  GL: 'Greenland',\n  GD: 'Grenada',\n  GP: 'Guadeloupe',\n  GU: 'Guam',\n  GT: 'Guatemala',\n  GG: 'Guernsey',\n  GN: 'Guinea',\n  GW: 'Guinea-Bissau',\n  GY: 'Guyana',\n  HT: 'Haiti',\n  HM: 'Heard Island and Mcdonald Islands',\n  VA: 'Holy See (Vatican City State)',\n  HN: 'Honduras',\n  HK: 'Hong Kong',\n  HU: 'Hungary',\n  IS: 'Iceland',\n  IN: 'India',\n  ID: 'Indonesia',\n  IR: 'Iran',\n  IQ: 'Iraq',\n  IE: 'Ireland',\n  IM: 'Isle of Man',\n  IL: 'Israel',\n  IT: 'Italy',\n  JM: 'Jamaica',\n  JP: 'Japan',\n  JE: 'Jersey',\n  JO: 'Jordan',\n  KZ: 'Kazakhstan',\n  KE: 'Kenya',\n  KI: 'Kiribati',\n  KP: 'South Korea',\n  KR: 'North Korea',\n  KW: 'Kuwait',\n  KG: 'Kyrgyzstan',\n  LA: 'Lao People Democratic Republic',\n  LV: 'Latvia',\n  LB: 'Lebanon',\n  LS: 'Lesotho',\n  LR: 'Liberia',\n  LY: 'Libyan Arab Jamahiriya',\n  LI: 'Liechtenstein',\n  LT: 'Lithuania',\n  LU: 'Luxembourg',\n  MO: 'Macao',\n  MK: 'Macedonia',\n  MG: 'Madagascar',\n  MW: 'Malawi',\n  MY: 'Malaysia',\n  MV: 'Maldives',\n  ML: 'Mali',\n  MT: 'Malta',\n  MH: 'Marshall Islands',\n  MQ: 'Martinique',\n  MR: 'Mauritania',\n  MU: 'Mauritius',\n  YT: 'Mayotte',\n  MX: 'Mexico',\n  FM: 'Micronesia',\n  MD: 'Moldova',\n  MC: 'Monaco',\n  MN: 'Mongolia',\n  MS: 'Montserrat',\n  MA: 'Morocco',\n  MZ: 'Mozambique',\n  MM: 'Myanmar',\n  NA: 'Namibia',\n  NR: 'Nauru',\n  NP: 'Nepal',\n  NL: 'Netherlands',\n  AN: 'Netherlands Antilles',\n  NC: 'New Caledonia',\n  NZ: 'New Zealand',\n  NI: 'Nicaragua',\n  NE: 'Niger',\n  NG: 'Nigeria',\n  NU: 'Niue',\n  NF: 'Norfolk Island',\n  MP: 'Northern Mariana Islands',\n  NO: 'Norway',\n  OM: 'Oman',\n  PK: 'Pakistan',\n  PW: 'Palau',\n  PS: 'Palestinian Territory',\n  PA: 'Panama',\n  PG: 'Papua New Guinea',\n  PY: 'Paraguay',\n  PE: 'Peru',\n  PH: 'Philippines',\n  PN: 'Pitcairn',\n  PL: 'Poland',\n  PT: 'Portugal',\n  PR: 'Puerto Rico',\n  QA: 'Qatar',\n  RE: 'Reunion',\n  RO: 'Romania',\n  RU: 'Russian Federation',\n  RW: 'Rwanda',\n  SH: 'Saint Helena',\n  KN: 'Saint Kitts and Nevis',\n  LC: 'Saint Lucia',\n  PM: 'Saint Pierre and Miquelon',\n  VC: 'Saint Vincent and the Grenadines',\n  WS: 'Samoa',\n  SM: 'San Marino',\n  ST: 'Sao Tome and Principe',\n  SA: 'Saudi Arabia',\n  SN: 'Senegal',\n  CS: 'Serbia and Montenegro',\n  SC: 'Seychelles',\n  SL: 'Sierra Leone',\n  SG: 'Singapore',\n  SK: 'Slovakia',\n  SI: 'Slovenia',\n  SB: 'Solomon Islands',\n  SO: 'Somalia',\n  ZA: 'South Africa',\n  GS: 'South Georgia and the South Sandwich Islands',\n  ES: 'Spain',\n  LK: 'Sri Lanka',\n  SD: 'Sudan',\n  SR: 'Suriname',\n  SJ: 'Svalbard and Jan Mayen',\n  SZ: 'Swaziland',\n  SE: 'Sweden',\n  CH: 'Switzerland',\n  SY: 'Syrian Arab Republic',\n  TW: 'Taiwan',\n  TJ: 'Tajikistan',\n  TZ: 'Tanzania',\n  TH: 'Thailand',\n  TL: 'Timor-Leste',\n  TG: 'Togo',\n  TK: 'Tokelau',\n  TO: 'Tonga',\n  TT: 'Trinidad and Tobago',\n  TN: 'Tunisia',\n  TR: 'Turkey',\n  TM: 'Turkmenistan',\n  TC: 'Turks and Caicos Islands',\n  TV: 'Tuvalu',\n  UG: 'Uganda',\n  UA: 'Ukraine',\n  AE: 'United Arab Emirates',\n  GB: 'United Kingdom',\n  US: 'United States',\n  UY: 'Uruguay',\n  UZ: 'Uzbekistan',\n  VU: 'Vanuatu',\n  VE: 'Venezuela',\n  VN: 'Vietnam',\n  VI: 'Virgin Islands',\n  WF: 'Wallis and Futuna',\n  EH: 'Western Sahara',\n  YE: 'Yemen',\n  ZM: 'Zambia',\n  ZW: 'Zimbabwe',\n};\n","import { Box, Slider } from '@mui/material';\nimport backgroundMusic from 'assets/Funk Cool Groove (No Copyright Music) By Anwar Amr.ogg';\nimport { useEffect, useRef, useState } from 'react';\nimport YouTube from 'react-youtube';\nimport { SongMetadataEntity } from 'routes/Convert/Steps/SongMetadata';\nimport { msec } from 'routes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\n\ninterface Props {\n  onChange: (data: SongMetadataEntity) => void;\n  data: SongMetadataEntity;\n  videoId: string;\n  videoGap?: number;\n}\n\nconst MIN_PREVIEW_LENGTH = 10;\n\nexport default function PreviewAndVolumeAdjustment({ data, onChange, videoId, videoGap = 0 }: Props) {\n  const player = useRef<YouTube | null>(null);\n  const reference = useRef<HTMLAudioElement | null>(null);\n\n  const [initialised, setInitialised] = useState(false);\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      if (!initialised) {\n        if (data.volume === 0) {\n          onChange({ ...data, volume: 0.7 });\n          await player.current?.getInternalPlayer()?.setVolume(70);\n        } else {\n          await player.current?.getInternalPlayer()?.setVolume(data.volume * 100);\n        }\n        setInitialised(true);\n      } else {\n        const currentVolume = await player.current?.getInternalPlayer()?.getVolume();\n        if (currentVolume !== undefined && currentVolume !== data.volume * 100) {\n          onChange({ ...data, volume: currentVolume / 100 });\n        }\n      }\n    }, 500);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [initialised, data, onChange]);\n\n  const [isPlayerPlaying, setIsPlayerPlaying] = useState(false);\n  const [isReferencePlaying, setIsReferencePlaying] = useState(false);\n\n  const handleSliderChange = async (_e: any, value: number | number[]) => {\n    await player.current?.getInternalPlayer()?.setVolume(+value * 100);\n    onChange({ ...data, volume: +value });\n  };\n\n  const previewStart = data.previewStart ?? videoGap + 60;\n  const previewEnd = data.previewEnd ?? previewStart + 30;\n  const [duration, setDuration] = useState<number | null>(null);\n  useEffect(() => {\n    if (reference.current) {\n      reference.current.currentTime = 35;\n    }\n    player.current?.getInternalPlayer()?.getDuration().then(setDuration);\n  }, []);\n\n  useEffect(() => {\n    if (duration !== null && duration < previewEnd) {\n      const singableLength = Math.max(duration - videoGap - MIN_PREVIEW_LENGTH, 0) / 2;\n      const start = Math.max(videoGap + singableLength, 0);\n      const end = Math.max(start + MIN_PREVIEW_LENGTH, duration);\n\n      onChange({\n        ...data,\n        previewStart: start,\n        previewEnd: end,\n      });\n    }\n  }, [duration, data, previewEnd, onChange, videoGap]);\n\n  // eslint-disable-next-line react-compiler/react-compiler\n  const internalPlayer = player.current?.getInternalPlayer();\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', width: '100%' }} gap={1}>\n      <h4>\n        Set song preview (start: {msec(previewStart * 1000, internalPlayer)}, end:{' '}\n        {msec(previewEnd * 1000, internalPlayer)})\n      </h4>\n      <Box sx={{ display: 'flex', gap: 5 }}>\n        <Slider\n          data-test=\"song-preview\"\n          disabled={duration === null}\n          step={1}\n          value={[previewStart, previewEnd]}\n          max={(duration ?? 500) - MIN_PREVIEW_LENGTH}\n          onChange={(_e, value) => {\n            const [start, end] = value as number[];\n            if (end - start > MIN_PREVIEW_LENGTH) {\n              onChange({\n                ...data,\n                previewStart: start,\n                previewEnd: end,\n              });\n            }\n          }}\n        />\n      </Box>\n\n      <h4>Adjust volume</h4>\n      <Box sx={{ display: 'flex', gap: 5 }}>\n        <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n          <h5>Song</h5>\n          <YouTube\n            videoId={videoId}\n            ref={player}\n            onPlay={() => {\n              setIsPlayerPlaying(true);\n\n              if (isReferencePlaying) {\n                reference.current?.pause();\n                setTimeout(() => setIsReferencePlaying(true), 200);\n              }\n            }}\n            onPause={() => {\n              setIsReferencePlaying(false);\n            }}\n          />\n        </Box>\n        <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n          <h5>Reference sound</h5>\n          <p>Use the slider below to make the video volume roughly the same as this music.</p>\n          <br />\n          <audio\n            ref={reference}\n            controls\n            src={backgroundMusic}\n            loop\n            onLoad={(e) => (e.currentTarget.currentTime = 35)}\n            onPlay={(e) => {\n              e.currentTarget.volume = 0.5;\n              setIsReferencePlaying(true);\n              if (isPlayerPlaying) {\n                player.current?.getInternalPlayer()?.pauseVideo();\n                setTimeout(() => setIsPlayerPlaying(true), 200);\n              }\n            }}\n            onPause={() => {\n              setIsReferencePlaying(false);\n              if (isPlayerPlaying) {\n                player.current?.getInternalPlayer()?.playVideo();\n              }\n            }}\n          />\n        </Box>\n      </Box>\n      <h5>Final Song Volume ({data.volume * 100})</h5>\n      <Box>\n        <Slider\n          data-test=\"volume\"\n          min={0.1}\n          max={1}\n          step={0.01}\n          aria-label=\"Volume\"\n          value={data.volume}\n          onChange={handleSliderChange}\n        />\n      </Box>\n    </Box>\n  );\n}\n","import styled from '@emotion/styled';\nimport {\n  Autocomplete,\n  FormControl,\n  FormHelperText,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n} from '@mui/material';\nimport { Flag } from 'modules/Elements/Flag';\nimport useSongIndex from 'modules/Songs/hooks/useSongIndex';\nimport { countryMap } from 'modules/utils/countryList';\nimport { useEffect, useMemo, useState } from 'react';\nimport { inputAction } from 'routes/Convert/Elements';\nimport PreviewAndVolumeAdjustment from 'routes/Convert/Steps/PreviewAndVolumeAdjustment';\n\nexport interface SongMetadataEntity {\n  artist: string;\n  title: string;\n  year: string;\n  realBpm: string;\n  language: string[];\n  artistOrigin?: string;\n  volume: number;\n  previewStart: number | undefined;\n  previewEnd: number | undefined;\n  genre?: string;\n  edition?: string;\n}\n\ninterface Props {\n  onChange: (data: SongMetadataEntity) => void;\n  data: SongMetadataEntity;\n  songArtist?: string;\n  videoId: string;\n  videoGap?: number;\n}\n\nconst useDefaultArtistOrigin = (artist: string) => {\n  const songList = useSongIndex(true);\n\n  return useMemo(() => {\n    const artistOrigin = songList.data\n      .filter((song) => song.artist === artist)\n      .map((song) => song.artistOrigin)\n      .filter(Boolean)\n      .reduce(\n        // find the most common origin for the artist\n        (acc, origin) => {\n          if (acc[origin!]) {\n            acc[origin!]++;\n          } else {\n            acc[origin!] = 1;\n          }\n          return acc;\n        },\n        {} as Record<string, number>,\n      );\n    return Object.entries(artistOrigin).sort((a, b) => b[1] - a[1])?.[0]?.[0] ?? '';\n  }, [artist, songList.data]);\n};\n\nexport default function SongMetadata(props: Props) {\n  const songList = useSongIndex(true);\n  const defaultArtistOrigin = useDefaultArtistOrigin(props.songArtist ?? '');\n\n  useEffect(() => {\n    if (props.data.artistOrigin === undefined) {\n      console.log('props.data.artistOrigin', defaultArtistOrigin);\n      props.onChange({ ...props.data, artistOrigin: defaultArtistOrigin });\n    }\n  }, [defaultArtistOrigin, props.data]);\n\n  const definedLanguages = useMemo(\n    () => [\n      ...new Set(\n        songList.data\n          .map(({ language }) => (Array.isArray(language) ? language : [language]))\n          .flat()\n          .filter(Boolean),\n      ),\n    ],\n    [songList.data],\n  );\n\n  // todo find artist origin based on their other songs\n  const definedArtistOrigins = countryMap;\n\n  const definedGenres = useMemo(\n    () => [\n      ...new Set(\n        songList.data\n          .map((song) => song.genre)\n          .filter(Boolean)\n          .map((genre) => genre!.toLowerCase().replace(/\\b\\w/g, (l) => l.toUpperCase().trim())),\n      ),\n    ],\n    [songList.data],\n  );\n  const definedEditions = useMemo(\n    () =>\n      [\n        ...new Set(\n          songList.data\n            .map((song) => song.edition)\n            .filter(Boolean)\n            .map((edition) => edition!.toLowerCase().replace(/\\b\\w/g, (l) => l.toUpperCase().trim())),\n        ),\n      ].sort(),\n    [songList.data],\n  );\n\n  const searchGoogle = (phrase: string) => {\n    global.open(\n      `https://www.google.com/search?q=${encodeURIComponent(`${props.data.artist} ${props.data.title} ${phrase}`)}`,\n      '_blank',\n    );\n  };\n  const isSearchableForVideo = !!props.data.title && !!props.data.artist;\n  const isRealBpmInvalid = +(props.data?.realBpm ?? 0) > 200;\n\n  const [hasSearchedBpm, setHasSearchedBpm] = useState(false);\n\n  return (\n    <Grid container spacing={2} data-test=\"song-metadata\">\n      <Grid item xs={6}>\n        <TextField\n          value={props.data.artist}\n          onChange={(e) => props.onChange({ ...props.data, artist: e.target.value })}\n          label=\"Song artist\"\n          size=\"small\"\n          data-test=\"song-artist\"\n          required\n          fullWidth\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <TextField\n          value={props.data.title}\n          onChange={(e) => props.onChange({ ...props.data, title: e.target.value })}\n          label=\"Song title\"\n          fullWidth\n          size=\"small\"\n          required\n          data-test=\"song-title\"\n        />\n      </Grid>\n      <Grid item xs={3}>\n        <Autocomplete\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              event.preventDefault();\n            }\n          }}\n          freeSolo\n          disableClearable\n          options={definedGenres}\n          value={props.data.genre ?? ''}\n          onChange={(_, newValue) => props.onChange({ ...props.data, genre: newValue })}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              onBlur={(e) => props.onChange({ ...props.data, genre: e.target.value })}\n              label=\"Song genre (optional)\"\n              size=\"small\"\n              data-test=\"song-genre\"\n              fullWidth\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs={3}>\n        <Autocomplete\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              event.preventDefault();\n            }\n          }}\n          freeSolo\n          disableClearable\n          options={definedEditions}\n          value={props.data.edition ?? ''}\n          onChange={(_, newValue) => props.onChange({ ...props.data, edition: newValue })}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              onBlur={(e) => props.onChange({ ...props.data, edition: e.target.value })}\n              label=\"Song edition (optional)\"\n              size=\"small\"\n              data-test=\"song-edition\"\n              helperText=\"Songs with the same theme, e.g. 'Christmas'\"\n              fullWidth\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs={3}>\n        <Autocomplete\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              event.preventDefault();\n            }\n          }}\n          multiple\n          freeSolo\n          disableClearable\n          options={definedLanguages}\n          value={typeof props.data.language === 'string' ? [props.data.language] : props.data.language}\n          onChange={(_, newValue) => {\n            props.onChange({\n              ...props.data,\n              language: newValue ? (newValue.filter(Boolean) as string[]) : props.data.language,\n            });\n          }}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Song language\"\n              fullWidth\n              size=\"small\"\n              required={!props.data.language?.length}\n              data-test=\"song-language\"\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs={3}>\n        <FormControl fullWidth>\n          <InputLabel id=\"song-origin-select-label\" size=\"small\">\n            Song/artist origin (optional)\n          </InputLabel>\n          <Select\n            data-test=\"artist-origin\"\n            size=\"small\"\n            labelId=\"song-origin-select-label\"\n            id=\"song-origin-select\"\n            value={props.data.artistOrigin ?? ''}\n            label=\"Song/artist origin (optional)\"\n            onChange={(e) => props.onChange({ ...props.data, artistOrigin: e.target.value })}>\n            <MenuItem key={'none'} value=\"\">\n              None\n            </MenuItem>\n            {Object.entries(definedArtistOrigins).map(([code, name]) => (\n              <MenuItem key={code} value={code}>\n                <CountryFlag isocode={code} /> {name}\n              </MenuItem>\n            ))}\n          </Select>\n          <FormHelperText>Used to show the flag on the list</FormHelperText>\n        </FormControl>\n      </Grid>\n      <Grid item xs={6}>\n        <TextField\n          data-test=\"release-year\"\n          value={props.data.year}\n          onChange={(e) => props.onChange({ ...props.data, year: e.target.value })}\n          label=\"Release year\"\n          helperText=\"The year the song was released. Click the 'Lookup' button to look for it on Google\"\n          fullWidth\n          size=\"small\"\n          required\n          {...inputAction(() => searchGoogle('release year'), isSearchableForVideo)}\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <TextField\n          data-test=\"song-bpm\"\n          value={props.data.realBpm}\n          onChange={(e) => props.onChange({ ...props.data, realBpm: e.target.value })}\n          label=\"Song (real) BPM\"\n          focused={isRealBpmInvalid ? true : undefined}\n          helperText={\n            isRealBpmInvalid ? (\n              <>\n                Usually songs don&#39;t have higher BPM than <b>200</b>. Make sure the value is correct (you can still\n                save the song)\n              </>\n            ) : (\n              `The actual tempo of the song. Click the 'Lookup' button to look for it on Google. ${hasSearchedBpm ? \"If you can't find it, you can still save the song\" : ''}`\n            )\n          }\n          color={isRealBpmInvalid ? 'warning' : undefined}\n          fullWidth\n          type=\"number\"\n          size=\"small\"\n          required={!hasSearchedBpm}\n          {...inputAction(() => {\n            setHasSearchedBpm(true);\n            searchGoogle('tempo');\n          }, isSearchableForVideo)}\n        />\n      </Grid>\n      <Grid item xs={12}></Grid>\n      <Grid item xs={12}>\n        <PreviewAndVolumeAdjustment {...props} />\n      </Grid>\n    </Grid>\n  );\n}\n\nconst CountryFlag = styled(Flag)`\n  width: 1em;\n  margin-right: 0.5em;\n  display: inline-block;\n`;\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getButtonGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiButtonGroup', slot);\n}\nconst buttonGroupClasses = generateUtilityClasses('MuiButtonGroup', ['root', 'contained', 'outlined', 'text', 'disableElevation', 'disabled', 'firstButton', 'fullWidth', 'horizontal', 'vertical', 'colorPrimary', 'colorSecondary', 'grouped', 'groupedHorizontal', 'groupedVertical', 'groupedText', 'groupedTextHorizontal', 'groupedTextVertical', 'groupedTextPrimary', 'groupedTextSecondary', 'groupedOutlined', 'groupedOutlinedHorizontal', 'groupedOutlinedVertical', 'groupedOutlinedPrimary', 'groupedOutlinedSecondary', 'groupedContained', 'groupedContainedHorizontal', 'groupedContainedVertical', 'groupedContainedPrimary', 'groupedContainedSecondary', 'lastButton', 'middleButton']);\nexport default buttonGroupClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport getValidReactChildren from '@mui/utils/getValidReactChildren';\nimport capitalize from \"../utils/capitalize.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport createSimplePaletteValueFilter from \"../utils/createSimplePaletteValueFilter.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport buttonGroupClasses, { getButtonGroupUtilityClass } from \"./buttonGroupClasses.js\";\nimport ButtonGroupContext from \"./ButtonGroupContext.js\";\nimport ButtonGroupButtonContext from \"./ButtonGroupButtonContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [{\n    [`& .${buttonGroupClasses.grouped}`]: styles.grouped\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.orientation)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}${capitalize(ownerState.orientation)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}${capitalize(ownerState.color)}`]\n  }, {\n    [`& .${buttonGroupClasses.firstButton}`]: styles.firstButton\n  }, {\n    [`& .${buttonGroupClasses.lastButton}`]: styles.lastButton\n  }, {\n    [`& .${buttonGroupClasses.middleButton}`]: styles.middleButton\n  }, styles.root, styles[ownerState.variant], ownerState.disableElevation === true && styles.disableElevation, ownerState.fullWidth && styles.fullWidth, ownerState.orientation === 'vertical' && styles.vertical];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color,\n    disabled,\n    disableElevation,\n    fullWidth,\n    orientation,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, orientation, fullWidth && 'fullWidth', disableElevation && 'disableElevation', `color${capitalize(color)}`],\n    grouped: ['grouped', `grouped${capitalize(orientation)}`, `grouped${capitalize(variant)}`, `grouped${capitalize(variant)}${capitalize(orientation)}`, `grouped${capitalize(variant)}${capitalize(color)}`, disabled && 'disabled'],\n    firstButton: ['firstButton'],\n    lastButton: ['lastButton'],\n    middleButton: ['middleButton']\n  };\n  return composeClasses(slots, getButtonGroupUtilityClass, classes);\n};\nconst ButtonGroupRoot = styled('div', {\n  name: 'MuiButtonGroup',\n  slot: 'Root',\n  overridesResolver\n})(memoTheme(({\n  theme\n}) => ({\n  display: 'inline-flex',\n  borderRadius: (theme.vars || theme).shape.borderRadius,\n  variants: [{\n    props: {\n      variant: 'contained'\n    },\n    style: {\n      boxShadow: (theme.vars || theme).shadows[2]\n    }\n  }, {\n    props: {\n      disableElevation: true\n    },\n    style: {\n      boxShadow: 'none'\n    }\n  }, {\n    props: {\n      fullWidth: true\n    },\n    style: {\n      width: '100%'\n    }\n  }, {\n    props: {\n      orientation: 'vertical'\n    },\n    style: {\n      flexDirection: 'column',\n      [`& .${buttonGroupClasses.lastButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderTopRightRadius: 0,\n        borderTopLeftRadius: 0\n      },\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderBottomRightRadius: 0,\n        borderBottomLeftRadius: 0\n      }\n    }\n  }, {\n    props: {\n      orientation: 'horizontal'\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0\n      },\n      [`& .${buttonGroupClasses.lastButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0\n      }\n    }\n  }, {\n    props: {\n      variant: 'text',\n      orientation: 'horizontal'\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderRight: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n        [`&.${buttonGroupClasses.disabled}`]: {\n          borderRight: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n        }\n      }\n    }\n  }, {\n    props: {\n      variant: 'text',\n      orientation: 'vertical'\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderBottom: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n        [`&.${buttonGroupClasses.disabled}`]: {\n          borderBottom: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n        }\n      }\n    }\n  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter()).flatMap(([color]) => [{\n    props: {\n      variant: 'text',\n      color\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderColor: theme.vars ? `rgba(${theme.vars.palette[color].mainChannel} / 0.5)` : alpha(theme.palette[color].main, 0.5)\n      }\n    }\n  }]), {\n    props: {\n      variant: 'outlined',\n      orientation: 'horizontal'\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderRightColor: 'transparent',\n        '&:hover': {\n          borderRightColor: 'currentColor'\n        }\n      },\n      [`& .${buttonGroupClasses.lastButton},& .${buttonGroupClasses.middleButton}`]: {\n        marginLeft: -1\n      }\n    }\n  }, {\n    props: {\n      variant: 'outlined',\n      orientation: 'vertical'\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderBottomColor: 'transparent',\n        '&:hover': {\n          borderBottomColor: 'currentColor'\n        }\n      },\n      [`& .${buttonGroupClasses.lastButton},& .${buttonGroupClasses.middleButton}`]: {\n        marginTop: -1\n      }\n    }\n  }, {\n    props: {\n      variant: 'contained',\n      orientation: 'horizontal'\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderRight: `1px solid ${(theme.vars || theme).palette.grey[400]}`,\n        [`&.${buttonGroupClasses.disabled}`]: {\n          borderRight: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n        }\n      }\n    }\n  }, {\n    props: {\n      variant: 'contained',\n      orientation: 'vertical'\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderBottom: `1px solid ${(theme.vars || theme).palette.grey[400]}`,\n        [`&.${buttonGroupClasses.disabled}`]: {\n          borderBottom: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n        }\n      }\n    }\n  }, ...Object.entries(theme.palette).filter(createSimplePaletteValueFilter(['dark'])).map(([color]) => ({\n    props: {\n      variant: 'contained',\n      color\n    },\n    style: {\n      [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: {\n        borderColor: (theme.vars || theme).palette[color].dark\n      }\n    }\n  }))],\n  [`& .${buttonGroupClasses.grouped}`]: {\n    minWidth: 40,\n    boxShadow: 'none',\n    props: {\n      variant: 'contained'\n    },\n    style: {\n      '&:hover': {\n        boxShadow: 'none'\n      }\n    }\n  }\n})));\nconst ButtonGroup = /*#__PURE__*/React.forwardRef(function ButtonGroup(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiButtonGroup'\n  });\n  const {\n    children,\n    className,\n    color = 'primary',\n    component = 'div',\n    disabled = false,\n    disableElevation = false,\n    disableFocusRipple = false,\n    disableRipple = false,\n    fullWidth = false,\n    orientation = 'horizontal',\n    size = 'medium',\n    variant = 'outlined',\n    ...other\n  } = props;\n  const ownerState = {\n    ...props,\n    color,\n    component,\n    disabled,\n    disableElevation,\n    disableFocusRipple,\n    disableRipple,\n    fullWidth,\n    orientation,\n    size,\n    variant\n  };\n  const classes = useUtilityClasses(ownerState);\n  const context = React.useMemo(() => ({\n    className: classes.grouped,\n    color,\n    disabled,\n    disableElevation,\n    disableFocusRipple,\n    disableRipple,\n    fullWidth,\n    size,\n    variant\n  }), [color, disabled, disableElevation, disableFocusRipple, disableRipple, fullWidth, size, variant, classes.grouped]);\n  const validChildren = getValidReactChildren(children);\n  const childrenCount = validChildren.length;\n  const getButtonPositionClassName = index => {\n    const isFirstButton = index === 0;\n    const isLastButton = index === childrenCount - 1;\n    if (isFirstButton && isLastButton) {\n      return '';\n    }\n    if (isFirstButton) {\n      return classes.firstButton;\n    }\n    if (isLastButton) {\n      return classes.lastButton;\n    }\n    return classes.middleButton;\n  };\n  return /*#__PURE__*/_jsx(ButtonGroupRoot, {\n    as: component,\n    role: \"group\",\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    ...other,\n    children: /*#__PURE__*/_jsx(ButtonGroupContext.Provider, {\n      value: context,\n      children: validChildren.map((child, index) => {\n        return /*#__PURE__*/_jsx(ButtonGroupButtonContext.Provider, {\n          value: getButtonPositionClassName(index),\n          children: child\n        }, index);\n      })\n    })\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ButtonGroup.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, no elevation is used.\n   * @default false\n   */\n  disableElevation: PropTypes.bool,\n  /**\n   * If `true`, the button keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the button ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * If `true`, the buttons will take up the full width of its container.\n   * @default false\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * The component orientation (layout flow direction).\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense button styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'outlined'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['contained', 'outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default ButtonGroup;","import { Tooltip, useMediaQuery } from '@mui/material';\nimport React from 'react';\n\ninterface Props {\n  shortcutKey: string;\n  children: React.ReactElement<unknown, any>;\n}\n\nexport default function ShortcutIndicator({ shortcutKey, children }: Props) {\n  const hidden = useMediaQuery((theme) => theme.breakpoints.down('sm'));\n\n  if (hidden) {\n    return children;\n  }\n  return (\n    <Tooltip\n      disableInteractive\n      title={`${shortcutKey}`}\n      placement={'bottom-end'}\n      open\n      slotProps={{\n        popper: {\n          modifiers: [\n            {\n              name: 'offset',\n              options: {\n                offset: [5, -20],\n              },\n            },\n          ],\n        },\n      }}>\n      {children}\n    </Tooltip>\n  );\n}\n","import { Box, Button, ButtonGroup, Divider, Typography } from '@mui/material';\nimport { useEffect, useRef } from 'react';\nimport { Pre } from 'routes/Convert/Elements';\nimport ShortcutIndicator from 'routes/Convert/Steps/SyncLyricsToVideo/Components/ShortcutIndicator';\nimport formatMs from 'routes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport { PlayerRef } from 'routes/Game/Singing/Player';\n\ninterface Props {\n  player: PlayerRef;\n  playbackSpeed: number;\n  setPlaybackSpeed: (speed: number) => void;\n}\n\nexport default function AdjustPlayback({ player, playbackSpeed, setPlaybackSpeed }: Props) {\n  const seekBy = async (bySec: number) => {\n    const currentTime = await player.getCurrentTime();\n    player.seekTo(((currentTime ?? 0) + bySec) / 1000);\n  };\n\n  const currentTimeElementRef = useRef<HTMLSpanElement>(null);\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      if (currentTimeElementRef.current) {\n        const currentTime = await player.getCurrentTime();\n        currentTimeElementRef.current.textContent = `${formatMs(currentTime)} (${Math.round(currentTime)} ms)`;\n      }\n    }, 50);\n\n    return () => clearInterval(interval);\n  }, [player]);\n\n  return (\n    <>\n      <Box>\n        <Typography data-test=\"current-time\">\n          Current time: <Pre ref={currentTimeElementRef} />\n        </Typography>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <ButtonGroup variant=\"contained\" sx={{ display: 'flex', mt: 1, flex: 1 }}>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-10_000)} data-test=\"seek-10s\">\n              -10\n            </Button>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-5_000)} data-test=\"seek-5s\">\n              -5\n            </Button>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-1_000)} data-test=\"seek-1s\">\n              -1\n            </Button>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-500)} data-test=\"seek-0.5s\">\n              -0.5\n            </Button>\n          </ButtonGroup>\n          <Divider />\n          <ButtonGroup variant=\"contained\" sx={{ display: 'flex', mt: 1, flex: 1 }}>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+500)} data-test=\"seek+0.5s\">\n              +0.5\n            </Button>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+1_000)} data-test=\"seek+1s\">\n              +1\n            </Button>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+5_000)} data-test=\"seek+5s\">\n              +5\n            </Button>\n            <Button size=\"small\" sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+10_000)} data-test=\"seek+10s\">\n              +10\n            </Button>\n          </ButtonGroup>\n        </Box>\n      </Box>\n      <Box>\n        <Typography>\n          Playback speed: <Pre data-test=\"current-speed\">{playbackSpeed * 100}%</Pre>\n        </Typography>\n        <ShortcutIndicator shortcutKey=\"1/2/3/4\">\n          <ButtonGroup variant=\"contained\" sx={{ display: 'flex', mt: 1 }}>\n            {[0.25, 0.5, 0.75, 1, 1.25, 1.5, 2].map((speed) => (\n              <Button\n                size=\"small\"\n                data-test={`speed-${speed}`}\n                key={speed}\n                sx={{ flex: 1 }}\n                onClick={() => {\n                  setPlaybackSpeed(speed);\n                }}\n                disabled={playbackSpeed === speed}>\n                {speed * 100}%\n              </Button>\n            ))}\n          </ButtonGroup>\n        </ShortcutIndicator>\n      </Box>\n    </>\n  );\n}\n","import { Section } from 'interfaces';\nimport { useEffect, useState } from 'react';\nimport { PlayerRef } from '../Player';\n\nexport default function useCurrentSectionIndex(\n  sections: Section[],\n  player: PlayerRef,\n  beatLength: number,\n  gap: number,\n) {\n  const [currentSectionIndex, setCurrentSectionIndex] = useState(-1);\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      const currentTime = await player.getCurrentTime();\n      const currentBeat = (currentTime - gap) / beatLength;\n      const wholeBeat = Math.floor(currentBeat);\n\n      const sectionIndex = sections.findIndex((section, index) => {\n        if (wholeBeat < 0) return true;\n        if (wholeBeat < section.start) return false;\n        if (index === sections.length - 1) return true;\n        if (sections[index + 1].start > wholeBeat) {\n          return true;\n        }\n        return false;\n      });\n      setCurrentSectionIndex(sectionIndex);\n    }, 50);\n    return () => clearInterval(interval);\n  }, [sections, player, beatLength, gap]);\n\n  return currentSectionIndex;\n}\n","import styled from '@emotion/styled';\nimport {\n  Box,\n  Button,\n  ButtonGroup,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemText,\n  Stack,\n  TextField,\n  Typography,\n} from '@mui/material';\nimport { Song } from 'interfaces';\nimport GameState from 'modules/GameEngine/GameState/GameState';\nimport isNotesSection from 'modules/Songs/utils/isNotesSection';\nimport { getFirstNoteStartFromSections, getSectionStartInMs } from 'modules/Songs/utils/notesSelectors';\nimport { useEffect, useState } from 'react';\nimport { msec } from 'routes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport useCurrentSectionIndex from 'routes/Game/Singing/Hooks/useCurrentSectionIndex';\nimport { PlayerRef } from 'routes/Game/Singing/Player';\n\ninterface Props {\n  song: Song;\n  beatLength: number;\n  player: PlayerRef;\n  playbackSpeed: number;\n  onRecordChange: (changeRecords: ChangeRecord[]) => void;\n  onLyricChange: (changeRecords: LyricChangeRecord) => void;\n  lyricChanges: Record<number, Record<number, Record<number, string>>>;\n  onTrackNameChange: (track: number, newName: string) => void;\n}\n\ninterface ChangeRecordBase {\n  track: number;\n  section: number;\n}\n\ninterface ChangeRecordShift extends ChangeRecordBase {\n  type: 'shift';\n  shift: number;\n}\n\ninterface ChangeRecordDelete extends ChangeRecordBase {\n  type: 'delete';\n}\n\nexport interface LyricChangeRecord extends ChangeRecordBase {\n  noteIndex: number;\n  newLyric: string;\n}\n\nexport type ChangeRecord = ChangeRecordDelete | ChangeRecordShift;\n\nexport default function EditSection({\n  song,\n  beatLength,\n  player,\n  onRecordChange,\n  onLyricChange,\n  playbackSpeed,\n  onTrackNameChange,\n  lyricChanges,\n}: Props) {\n  const [track, setTrack] = useState(0);\n  const [selectedSection, setSelectedSection] = useState(-1);\n  const [changeRecords, setChangeRecords] = useState<ChangeRecord[]>([]);\n\n  const sections = song.tracks[track].sections.filter(isNotesSection);\n\n  const currentSectionIndex = useCurrentSectionIndex(sections, player, beatLength, song.gap);\n\n  const onSectionClick = (index: number) => {\n    setSelectedSection(index);\n    GameState.resetPlayerNotes();\n    const firstNoteStart = getSectionStartInMs(sections[index], song);\n    player.seekTo(firstNoteStart / 1000 - 0.8 * playbackSpeed);\n  };\n\n  const deleteSection = () => {\n    setChangeRecords((records) => [...records, { type: 'delete', section: selectedSection, track }]);\n    if (selectedSection === sections.length - 1) {\n      setSelectedSection((selected) => selected - 1);\n    }\n  };\n\n  const shiftSection = (newStart: number) => {\n    setChangeRecords((records) => {\n      const lastRecord = records.at(-1);\n\n      if (\n        lastRecord &&\n        lastRecord.type === 'shift' &&\n        lastRecord.track === track &&\n        lastRecord.section === selectedSection\n      ) {\n        const newRecords = [...records];\n        (newRecords.at(-1)! as ChangeRecordShift).shift = newStart;\n\n        return newRecords;\n      }\n\n      return [...records, { type: 'shift', section: selectedSection, track, shift: newStart }];\n    });\n  };\n\n  useEffect(() => {\n    onRecordChange(changeRecords);\n  }, [onRecordChange, changeRecords]);\n\n  return (\n    <SectionEdtiorContainer>\n      <Stack direction=\"row\">\n        <Typography variant={'h6'} mb={0} sx={{ flex: 1, display: 'flex', alignItems: 'center' }}>\n          Edit verses\n          {song.tracks.length > 1 && (\n            <ButtonGroup variant={'contained'} sx={{ ml: 2 }} size={'small'}>\n              {song.tracks.map((_, index) => (\n                <Button\n                  key={index}\n                  onClick={() => setTrack(index)}\n                  disabled={track === index}\n                  data-test={`track-${index + 1}`}>\n                  Track {index + 1}\n                </Button>\n              ))}\n            </ButtonGroup>\n          )}\n        </Typography>\n        <TextField\n          label={'Track name'}\n          placeholder=\"Set track name\"\n          sx={{ flex: 1 }}\n          size=\"small\"\n          value={song.tracks[track]?.name ?? ''}\n          onChange={(e) => onTrackNameChange(track, e.target.value)}\n          data-test=\"track-name\"\n        />\n      </Stack>\n      <Stack direction=\"row\" spacing={2} sx={{ height: '400px', mt: 3 }}>\n        <List sx={{ overflowY: 'auto' }}>\n          {sections.map((section, index) => (\n            <ListItem\n              key={section.start}\n              disablePadding\n              data-test={`section-${index}`}\n              sx={{\n                maxWidth: 250,\n                overflowX: 'hidden',\n                textWrap: 'ellipsis',\n                whiteSpace: 'nowrap',\n              }}>\n              <ListItemButton onClick={() => onSectionClick(index)} selected={selectedSection === index}>\n                <ListItemText\n                  primaryTypographyProps={{\n                    fontWeight: index === currentSectionIndex ? 'bold' : 'normal',\n                  }}\n                  primary={\n                    isNotesSection(section)\n                      ? section.notes.map((note) => note.lyrics.replaceAll(' ', '·')).join('')\n                      : '[pause]'\n                  }\n                />\n              </ListItemButton>\n            </ListItem>\n          ))}\n        </List>\n        <SectionEditForm>\n          {selectedSection > -1 && (\n            <>\n              {selectedSection === 0 && (\n                <h3 data-test={`use-gap-info`}>Use gap shift to change when this section starts</h3>\n              )}\n              {selectedSection > 0 && (\n                <>\n                  <TextField\n                    data-test=\"change-start-beat\"\n                    size={'small'}\n                    type=\"number\"\n                    onChange={(e) => shiftSection(+e.target.value)}\n                    value={getFirstNoteStartFromSections([sections[selectedSection]])}\n                    label=\"Change start beat\"\n                    InputProps={{\n                      inputProps: {\n                        step: 1,\n                      },\n                    }}\n                    fullWidth\n                    sx={{ mb: 2 }}\n                    helperText={\n                      <>\n                        Timestamp:{' '}\n                        {msec(\n                          getFirstNoteStartFromSections([sections[selectedSection]]) * beatLength + song.gap,\n                          player,\n                        )}\n                      </>\n                    }\n                  />\n                </>\n              )}\n              <LyricEditorContainer>\n                {sections[selectedSection].notes.map((note, index) => {\n                  const lyric = lyricChanges[track]?.[selectedSection]?.[index] ?? note.lyrics;\n                  return (\n                    <LyricInput\n                      style={{ width: `${lyric.length}ch` }}\n                      value={lyric}\n                      key={index}\n                      data-test={`lyric-input-${index}`}\n                      onChange={(e) => {\n                        onLyricChange({\n                          section: selectedSection,\n                          track,\n                          noteIndex: index,\n                          newLyric: e.target.value,\n                        });\n                      }}\n                      onKeyDown={(e) => {\n                        // @ts-expect-error selectionStart is not in the types\n                        const currentPos = e.target.selectionStart;\n\n                        if (e.key === 'ArrowLeft' && currentPos === 0) {\n                          // @ts-expect-error previousElementSibling is not in the types\n                          const prevInput = e.target?.previousElementSibling as HTMLInputElement;\n                          if (prevInput) {\n                            prevInput.focus();\n                            setTimeout(\n                              () => prevInput.setSelectionRange(prevInput.value.length, prevInput.value.length),\n                              10,\n                            );\n                          }\n                          // @ts-expect-error value is not in the types\n                        } else if (e.key === 'ArrowRight' && currentPos === e.target.value.length) {\n                          // @ts-expect-error nextElementSibling is not in the types\n                          const nextInput = e.target?.nextElementSibling as HTMLInputElement;\n                          if (nextInput) {\n                            nextInput.focus();\n                            setTimeout(() => nextInput.setSelectionRange(0, 0), 10);\n                          }\n                        }\n                      }}\n                    />\n                  );\n                })}\n              </LyricEditorContainer>\n              <Button variant=\"contained\" color={'error'} onClick={deleteSection} fullWidth data-test=\"delete-section\">\n                Delete section\n              </Button>\n            </>\n          )}\n        </SectionEditForm>\n        <SectionChangeList>\n          <Box sx={{ overflowY: 'auto', maxHeight: '34rem' }} data-test=\"change-list\">\n            {changeRecords.map((change, index) => {\n              let message = '';\n              let Component = SectionChangeDelete;\n              if (change.type === 'delete') {\n                Component = SectionChangeDelete;\n                message = `Deleted`;\n              } else if (change.type === 'shift') {\n                Component = SectionChangeShift;\n                message = `Start -> ${change.shift}`;\n              }\n\n              return (\n                <Component key={index}>\n                  <strong>\n                    Track: {change.track + 1}, Section: {change.section + 1}, {message}\n                  </strong>\n                </Component>\n              );\n            })}\n          </Box>\n          {changeRecords.length > 0 && (\n            <Button\n              data-test=\"undo-change\"\n              variant=\"contained\"\n              color={'warning'}\n              onClick={() => setChangeRecords((records) => records.filter((_, index) => index !== records.length - 1))}\n              fullWidth>\n              Undo last change\n            </Button>\n          )}\n        </SectionChangeList>\n      </Stack>\n    </SectionEdtiorContainer>\n  );\n}\n\nconst SectionChangeList = styled.div`\n  flex: 1;\n`;\n\nconst ChangeEntry = styled.div`\n  padding: 0.5rem;\n`;\n\nconst SectionChangeDelete = styled(ChangeEntry)`\n  color: red;\n`;\n\nconst SectionChangeShift = styled(ChangeEntry)`\n  color: #0059ff;\n`;\n\nconst SectionEdtiorContainer = styled.div``;\n\nconst SectionEditForm = styled.div`\n  flex: 1;\n`;\n\nconst LyricEditorContainer = styled.div`\n  display: flex;\n  gap: 0.25rem;\n  column-gap: 0;\n  margin-bottom: 1rem;\n  align-items: center;\n  flex-wrap: wrap;\n`;\n\nconst LyricInput = styled.input`\n  font-family: monospace;\n  background: #f6f6f6;\n  width: 3rem;\n  padding: 0.5rem 0.1rem;\n  border: 0;\n  border-right: 1px solid #ececec;\n  text-decoration: underline;\n  box-sizing: content-box;\n\n  &:focus {\n    background: #ececec;\n    outline: none !important;\n  }\n`;\n","import { Song } from 'interfaces';\nimport isNotesSection from 'modules/Songs/utils/isNotesSection';\n\nexport default function calculateProperBPM(desiredEndMs: number, song: Song) {\n  const notesSections = song.tracks[0].sections.filter(isNotesSection);\n\n  const lastNote = notesSections.at(-1)?.notes.at(-1)!;\n\n  const desiredLengthMs = desiredEndMs - song.gap;\n  const bpmLength = lastNote.start + lastNote.length;\n\n  return Number((60_000 / ((desiredLengthMs / bpmLength) * song.bar)).toFixed(2));\n}\n","import { Button, TextField } from '@mui/material';\nimport { Song } from 'interfaces';\nimport beatToMs from 'modules/GameEngine/GameState/Helpers/beatToMs';\nimport { getLastNoteEndFromSections } from 'modules/Songs/utils/notesSelectors';\nimport { useState } from 'react';\nimport { Pre } from 'routes/Convert/Elements';\nimport calculateProperBPM from 'routes/Convert/calculateProperBpm';\nimport ShortcutIndicator from './ShortcutIndicator';\n\ninterface Props {\n  onChange: (bpm: number) => void;\n  current: number;\n  song: Song;\n}\n\nexport default function ManipulateBpm({ current, onChange, song }: Props) {\n  const lastNoteEndBeat = Math.max(...song.tracks.map((track) => getLastNoteEndFromSections(track.sections)));\n  const lastNoteEndMs = beatToMs(lastNoteEndBeat, song) + song.gap;\n  const [desiredLastNoteEnd, setDesiredLastNoteEnd] = useState<number>(Math.round(lastNoteEndMs));\n\n  return (\n    <div className=\"mb-2 flex items-start gap-2\">\n      <TextField\n        data-test=\"desired-end\"\n        size={'small'}\n        type=\"number\"\n        value={desiredLastNoteEnd}\n        onChange={(e) => setDesiredLastNoteEnd(+e.target.value)}\n        label=\"Target last note end time (ms)\"\n        sx={{ flex: 1 }}\n        helperText={\n          !!desiredLastNoteEnd ? (\n            <>\n              Estimated proper Tempo (BPM) of the lyrics:{' '}\n              <Pre data-test=\"desired-bpm\">{calculateProperBPM(desiredLastNoteEnd, song)}</Pre>\n            </>\n          ) : (\n            ' '\n          )\n        }\n      />\n      <div className=\"flex flex-1\">\n        {/*<IconButton aria-label=\"decrease tempo\" size=\"small\" onClick={() => onChange(current - 0.1)}>*/}\n        {/*  <Remove />*/}\n        {/*</IconButton>*/}\n        <ShortcutIndicator shortcutKey={'z'}>\n          <Button\n            sx={{ minWidth: '40px', width: '40px' }}\n            variant=\"contained\"\n            size=\"small\"\n            onClick={() => onChange(current - 0.1)}>\n            -\n          </Button>\n        </ShortcutIndicator>\n        <TextField\n          data-test=\"change-bpm\"\n          size={'small'}\n          type=\"number\"\n          value={current}\n          onChange={(e) => !isNaN(+e.target.value) && onChange(+e.target.value)}\n          label=\"Tempo (BPM) of the lyrics\"\n          sx={{ flex: 1 }}\n          InputProps={{\n            inputProps: {\n              step: '0.1',\n            },\n          }}\n        />\n        <ShortcutIndicator shortcutKey={'w'}>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            sx={{ minWidth: '40px', width: '40px' }}\n            onClick={() => onChange(current + 0.1)}>\n            +\n          </Button>\n        </ShortcutIndicator>\n      </div>\n    </div>\n  );\n}\n","import { Box, Button, ButtonGroup, TextField, Typography } from '@mui/material';\nimport { milliseconds } from 'interfaces';\nimport { msec } from 'routes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport { PlayerRef } from 'routes/Game/Singing/Player';\nimport ShortcutIndicator from './ShortcutIndicator';\n\ninterface Props {\n  onChange: (shift: string) => void;\n  current: string;\n  player: PlayerRef;\n  finalGap: number;\n}\n\nexport default function ShiftGap({ current, onChange, player, finalGap }: Props) {\n  const changeBy = (value: milliseconds) => {\n    const newValue = String(Number(current) + value);\n    onChange(newValue);\n  };\n\n  return (\n    <Box flex=\"1\">\n      <Typography>Lyrics Gap shift (final: {msec(finalGap, player)})</Typography>\n      <div className=\"mt-1 flex gap-1\">\n        <ButtonGroup sx={{ flex: 1 }}>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => changeBy(-1000)} data-test=\"shift-gap-1s\">\n            -1000\n          </Button>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => changeBy(-500)} data-test=\"shift-gap-0.5s\">\n            -500\n          </Button>\n          <ShortcutIndicator shortcutKey=\"a\">\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => changeBy(-50)} data-test=\"shift-gap-0.05s\">\n              -50\n            </Button>\n          </ShortcutIndicator>\n        </ButtonGroup>\n        <TextField\n          sx={{ py: 0, flex: 1 }}\n          size={'small'}\n          type=\"text\"\n          value={current}\n          onChange={(e) => onChange(e.target.value)}\n          label=\"Miliseconds\"\n          data-test=\"shift-gap\"\n        />\n        <ButtonGroup sx={{ flex: 1 }}>\n          <ShortcutIndicator shortcutKey=\"s\">\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => changeBy(50)} data-test=\"shift-gap+0.05s\">\n              +50\n            </Button>\n          </ShortcutIndicator>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => changeBy(500)} data-test=\"shift-gap+0.5s\">\n            +500\n          </Button>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => changeBy(1000)} data-test=\"shift-gap+1s\">\n            +1000\n          </Button>\n        </ButtonGroup>\n      </div>\n    </Box>\n  );\n}\n","import { Box, Button, ButtonGroup, TextField, Typography } from '@mui/material';\nimport { seconds } from 'interfaces';\nimport { msec } from 'routes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport { PlayerRef } from 'routes/Game/Singing/Player';\n\ninterface Props {\n  onChange: (shift: seconds) => void;\n  current: seconds;\n  player: PlayerRef;\n  finalGap: number | undefined;\n}\n\nexport default function ShiftVideoGap({ current, onChange, player, finalGap }: Props) {\n  return (\n    <Box flex=\"1\">\n      <Typography>Video Gap shift (final: {msec((finalGap ?? 0) * 1000, player)})</Typography>\n      <Box sx={{ display: 'flex', gap: 1, mt: 1 }}>\n        <ButtonGroup sx={{ flex: 1 }}>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current - 10)} data-test=\"shift-video-gap-10s\">\n            -10\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current - 5)} data-test=\"shift-video-gap-5s\">\n            -5\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current - 1)} data-test=\"shift-video-gap-1s\">\n            -1\n          </Button>\n        </ButtonGroup>\n        <TextField\n          data-test=\"shift-video-gap\"\n          sx={{ py: 0, flex: 1 }}\n          size={'small'}\n          type=\"text\"\n          value={current}\n          onChange={(e) => onChange(+e.target.value)}\n          label=\"Seconds\"\n          // helperText={}\n        />\n        <ButtonGroup sx={{ flex: 1 }}>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current + 1)} data-test=\"shift-video-gap+1s\">\n            +1\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current + 5)} data-test=\"shift-video-gap+5s\">\n            +5\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current + 10)} data-test=\"shift-video-gap+10s\">\n            +10\n          </Button>\n        </ButtonGroup>\n      </Box>\n    </Box>\n  );\n}\n","import { Box, Button, Grid, Typography } from '@mui/material';\nimport { cloneDeep } from 'es-toolkit';\nimport { GAME_MODE, Note, seconds, SingSetup, Song } from 'interfaces';\nimport getCurrentBeat from 'modules/GameEngine/GameState/Helpers/getCurrentBeat';\nimport getSongBeatLength from 'modules/Songs/utils/getSongBeatLength';\nimport isNotesSection from 'modules/Songs/utils/isNotesSection';\nimport {\n  getFirstNoteFromSection,\n  getFirstNoteStartFromSections,\n  getLastNotesSection,\n} from 'modules/Songs/utils/notesSelectors';\nimport addHeadstart from 'modules/Songs/utils/processSong/addHeadstart';\nimport normaliseGap from 'modules/Songs/utils/processSong/normaliseGap';\nimport normaliseLyricSpaces from 'modules/Songs/utils/processSong/normaliseLyricSpaces';\nimport normaliseSectionPaddings from 'modules/Songs/utils/processSong/normaliseSectionPaddings';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { useWindowSize } from 'react-use';\nimport AdjustPlayback from 'routes/Convert/Steps/SyncLyricsToVideo/Components/AdjustPlayback';\nimport EditSection, { ChangeRecord } from 'routes/Convert/Steps/SyncLyricsToVideo/Components/EditSection';\nimport ManipulateBpm from 'routes/Convert/Steps/SyncLyricsToVideo/Components/ManipulateBpm';\nimport ShiftGap from 'routes/Convert/Steps/SyncLyricsToVideo/Components/ShiftGap';\nimport ShiftVideoGap from 'routes/Convert/Steps/SyncLyricsToVideo/Components/ShiftVideoGap';\nimport Player, { PlayerRef } from 'routes/Game/Singing/Player';\nimport ShortcutIndicator from './Components/ShortcutIndicator';\n\ninterface Props {\n  song: Song;\n  onUpdate?: (song: Song) => void;\n  visible: boolean;\n}\n\nconst shiftGap = (song: Song, gapShift: number): Song => ({ ...song, gap: song.gap + gapShift });\nconst shiftVideoGap = (song: Song, gapShift: number): Song => ({ ...song, videoGap: (song.videoGap ?? 0) + gapShift });\nconst setBpm = (song: Song, bpm: number): Song => ({ ...song, bpm });\n\nconst applyChanges = (song: Song, changes: ChangeRecord[]) => ({\n  ...song,\n  tracks: song.tracks.map((track, trackIndex) => {\n    const changeList = changes.filter((change) => change.track === trackIndex);\n\n    let sections = [...track.sections].filter(isNotesSection);\n\n    changeList.forEach((change) => {\n      if (change.type === 'delete') {\n        sections = sections.filter((_, index) => index !== change.section);\n      } else if (change.type === 'shift') {\n        const shift = change.shift - getFirstNoteStartFromSections([sections[change.section]]);\n        sections = sections.map((section, index) => {\n          if (index < change.section) return section;\n\n          return { ...section, notes: section.notes.map((note) => ({ ...note, start: note.start + shift })) };\n        });\n      }\n    });\n\n    return { ...track, sections };\n  }),\n});\n\nconst applyTrackNames = (song: Song, trackNames: (string | undefined)[]): Song => ({\n  ...song,\n  tracks: song.tracks.map((track, index) => ({\n    ...track,\n    name: trackNames[index] ?? track.name,\n  })),\n});\n\nconst applyLyricChanges = (song: Song, lyricChanges: Record<number, Record<number, Record<number, string>>>) => ({\n  ...song,\n  tracks: song.tracks.map((track, trackIndex) => {\n    const trackLyricChanges = lyricChanges[trackIndex] ?? {};\n\n    return {\n      ...track,\n      sections: track.sections.map((section, sectionIndex) => {\n        const sectionLyricChanges = trackLyricChanges[sectionIndex] ?? {};\n\n        if (!isNotesSection(section)) return section;\n\n        return {\n          ...section,\n          notes: section.notes.map((note, noteIndex) => ({\n            ...note,\n            lyrics: sectionLyricChanges[noteIndex] ?? note.lyrics,\n          })),\n        };\n      }),\n    };\n  }),\n});\n\nexport default function EditSong({ song, onUpdate, visible }: Props) {\n  const player = useRef<PlayerRef | null>(null);\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\n  const { width } = useWindowSize();\n  const playerWidth = Math.min(width - 16, 824);\n  const playerHeight = (playerWidth / 16) * 9;\n\n  const [gapShift, setGapShift] = useState<string>('0');\n  const [videoGapShift, setVideoGapShift] = useState<number>(0);\n  const [overrideBpm, setOverrideBpm] = useState<number>(song.bpm);\n  const [changeRecords, setChangeRecords] = useState<ChangeRecord[]>([]);\n  const [trackNames, setTrackNames] = useState(song.tracks.map((track) => track.name ?? undefined));\n  const [lyricChanges, setLyricChanges] = useState<Record<number, Record<number, Record<number, string>>>>({});\n\n  const newSong = useMemo(() => {\n    let processed = cloneDeep(song);\n\n    processed = normaliseGap(processed);\n    processed = addHeadstart(processed);\n    processed = normaliseSectionPaddings(processed);\n    if (!isNaN(Number(gapShift))) processed = shiftGap(processed, Number(gapShift));\n    processed = shiftVideoGap(processed, videoGapShift);\n    processed = setBpm(processed, overrideBpm);\n    processed = applyChanges(processed, changeRecords);\n    processed = applyTrackNames(processed, trackNames);\n    processed = applyLyricChanges(processed, lyricChanges);\n    processed = normaliseSectionPaddings(processed);\n    processed = normaliseLyricSpaces(processed);\n\n    return processed;\n  }, [gapShift, videoGapShift, song, overrideBpm, changeRecords, trackNames, lyricChanges]);\n\n  useEffect(() => {\n    onUpdate?.(newSong);\n  }, [onUpdate, newSong]);\n\n  const singSetup = useMemo<SingSetup>(\n    () => ({\n      id: 'test',\n      mode: GAME_MODE.DUEL,\n      players: [\n        { number: 0, track: 0 },\n        { number: 1, track: song.tracks.length - 1 },\n      ],\n      tolerance: 6,\n    }),\n    [song],\n  );\n\n  const beatLength = getSongBeatLength(newSong);\n\n  useEffect(() => {\n    if (!visible) {\n      player.current?.pause();\n    }\n  }, [visible]);\n\n  useEffect(() => {\n    player.current?.setPlaybackSpeed(playbackSpeed);\n  }, [playbackSpeed]);\n\n  const seekToNote = (note?: Note, padding: seconds = 0.5 * playbackSpeed) => {\n    if (note && player.current) {\n      player.current.seekTo((note.start * beatLength + newSong.gap) / 1000 - padding);\n      player.current.play();\n    }\n  };\n\n  const seekToFirstSection = (padding?: seconds) => {\n    const firstNote = getFirstNoteFromSection(newSong.tracks[0].sections);\n    seekToNote(firstNote, padding);\n  };\n\n  const seekToSubsequentSection = async (direction: -1 | 1, padding?: seconds) => {\n    if (!player.current) return;\n    const currentBeat = getCurrentBeat(await player.current!.getCurrentTime!(), beatLength, newSong.gap);\n    const notesSections = newSong.tracks[0].sections.filter(isNotesSection);\n    const targetSectionIndex = notesSections.filter((section) => section.start <= currentBeat).length - 1 + direction;\n\n    const finalSectionIndex = Math.max(Math.min(targetSectionIndex, notesSections.length - 1), 0);\n\n    seekToNote(notesSections[finalSectionIndex].notes[0], padding);\n  };\n\n  const seekToNextSection = (padding?: seconds) => {\n    seekToSubsequentSection(1, padding);\n  };\n  const seekToPreviousSection = (padding?: seconds) => {\n    seekToSubsequentSection(-1, padding);\n  };\n\n  const seekToLastSection = (padding?: seconds) => {\n    const lastNoteStart = getLastNotesSection(newSong.tracks[0].sections)?.notes[0];\n    seekToNote(lastNoteStart, padding);\n  };\n\n  useHotkeys(\n    '1',\n    () => {\n      setPlaybackSpeed(0.25);\n    },\n    [newSong, setPlaybackSpeed],\n  );\n  useHotkeys(\n    '2',\n    () => {\n      setPlaybackSpeed(0.5);\n    },\n    [newSong, setPlaybackSpeed],\n  );\n  useHotkeys(\n    '3',\n    () => {\n      setPlaybackSpeed(1);\n    },\n    [newSong, setPlaybackSpeed],\n  );\n  useHotkeys(\n    '4',\n    () => {\n      setPlaybackSpeed(2);\n    },\n    [newSong, setPlaybackSpeed],\n  );\n\n  useHotkeys(\n    'q',\n    () => {\n      seekToFirstSection();\n    },\n    [newSong, seekToFirstSection],\n  );\n  useHotkeys(\n    'w',\n    () => {\n      seekToPreviousSection();\n    },\n    [newSong, seekToPreviousSection],\n  );\n  useHotkeys(\n    'e',\n    () => {\n      seekToNextSection();\n    },\n    [newSong, seekToNextSection],\n  );\n  useHotkeys(\n    'r',\n    () => {\n      seekToLastSection();\n    },\n    [newSong],\n  );\n  useHotkeys('a', () => {\n    setGapShift((current) => String(Number(current) - 50));\n  });\n  useHotkeys('s', () => {\n    setGapShift((current) => String(Number(current) + 50));\n  });\n\n  useHotkeys('z', () => {\n    setOverrideBpm((current) => current - 0.1);\n  });\n  useHotkeys('x', () => {\n    setOverrideBpm((current) => current + 0.1);\n  });\n\n  return (\n    <Grid container spacing={2} sx={{ display: visible ? undefined : 'none' }}>\n      <Grid item xs={12} sm={8} data-test=\"player-container\">\n        <Box sx={{ width: playerWidth, height: playerHeight }}>\n          <Player\n            key={0}\n            song={newSong}\n            showControls\n            autoplay={false}\n            width={playerWidth}\n            height={playerHeight}\n            ref={player}\n            effectsEnabled={false}\n            singSetup={singSetup}\n            onSongEnd={() => undefined}\n          />\n        </Box>\n      </Grid>\n      <Grid item xs={12} sm={4} sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n        {player.current && (\n          <>\n            <AdjustPlayback player={player.current} playbackSpeed={playbackSpeed} setPlaybackSpeed={setPlaybackSpeed} />\n            <div className=\"flex justify-between\">\n              <ShortcutIndicator shortcutKey=\"q\">\n                <Button variant=\"outlined\" size=\"small\" onClick={() => seekToFirstSection()}>\n                  First section\n                </Button>\n              </ShortcutIndicator>\n              <ShortcutIndicator shortcutKey=\"w\">\n                <Button variant=\"outlined\" size=\"small\" onClick={() => seekToPreviousSection()}>\n                  Prev\n                </Button>\n              </ShortcutIndicator>\n              <ShortcutIndicator shortcutKey=\"e\">\n                <Button variant=\"outlined\" size=\"small\" onClick={() => seekToNextSection()}>\n                  Next\n                </Button>\n              </ShortcutIndicator>\n              <ShortcutIndicator shortcutKey=\"r\">\n                <Button variant=\"outlined\" size=\"small\" onClick={() => seekToLastSection()}>\n                  Last section\n                </Button>\n              </ShortcutIndicator>\n            </div>\n          </>\n        )}\n        {!player.current && <h2>Start the song to see the manipulation form</h2>}\n      </Grid>\n      {player.current && (\n        <>\n          <Grid item xs={12} sm={8}>\n            <div className=\"flex flex-1 flex-col gap-5 sm:flex-row\">\n              <ShiftVideoGap\n                player={player.current}\n                onChange={(newShift) => {\n                  const delta = newShift - videoGapShift;\n                  setVideoGapShift(newShift);\n                  // video gap is not automatically added to gap, need to adjust it here directly\n                  setGapShift((current) =>\n                    !isNaN(Number(current)) ? String(Number(current) + delta * 1000) : current,\n                  );\n                }}\n                current={videoGapShift}\n                finalGap={newSong.videoGap}\n              />\n              <ShiftGap player={player.current} onChange={setGapShift} current={gapShift} finalGap={newSong.gap} />\n            </div>\n          </Grid>\n          <Grid item xs={0} sm={4} className=\"hidden sm:block\">\n            <div className=\"mb-2 text-xs\">\n              Use <strong>Video shift gap</strong> to crop the beginning of the video if it starts with an intro.\n            </div>\n            <div className=\"mb-2 text-xs\">\n              Use <strong>Lyrics shift gap</strong> to sync the start of the lyrics to the video. You can lower the{' '}\n              <strong>Playback speed</strong> above to make sure you got it just right.{' '}\n            </div>\n          </Grid>\n          <Grid item xs={12} sm={8}>\n            <Typography variant={'h5'} mb={2}>\n              Advanced\n            </Typography>\n            <ManipulateBpm onChange={setOverrideBpm} current={overrideBpm} song={newSong} key={newSong.gap} />\n          </Grid>\n          <Grid item xs={0} sm={4} className=\"hidden sm:block\">\n            <div className=\"mb-2 text-xs\">\n              If the lyrics desynchronise over time, probably the tempo (BPM) of the lyrics is wrong.\n            </div>\n            <div className=\"mb-2 text-xs\">\n              You can either use <strong>Last note end time</strong> - enter the millisecond when the last note should\n              end (seek through the video for the moment as <strong>Current time</strong> panel show the exact\n              millisecond) and a suggested BPM value will appear below.\n            </div>\n            <div className=\"mb-2 text-xs\">\n              <strong>Tempo (BPM)</strong> field allows to fine-tune the tempo.\n            </div>\n          </Grid>\n          <Grid item xs={12} sm={8}>\n            <EditSection\n              playbackSpeed={playbackSpeed}\n              song={newSong}\n              beatLength={beatLength}\n              player={player.current}\n              onRecordChange={setChangeRecords}\n              onTrackNameChange={(track, newName) =>\n                setTrackNames((current) => {\n                  const newNames = [...current];\n                  newNames[track] = newName === '' ? undefined : newName;\n\n                  return newNames;\n                })\n              }\n              lyricChanges={lyricChanges}\n              onLyricChange={(change) =>\n                setLyricChanges((current) => ({\n                  ...current,\n                  [change.track]: {\n                    ...current[change.track],\n                    [change.section]: {\n                      ...current[change.track]?.[change.section],\n                      [change.noteIndex]: change.newLyric,\n                    },\n                  },\n                }))\n              }\n            />\n          </Grid>\n          <Grid item xs={0} sm={4} className=\"hidden sm:block\">\n            <div className=\"mb-2 text-xs\">\n              If the lyrics there are more lyrics than in the video or there are longer/shorter interludes between\n              verses, you can <strong>Edit verses</strong>.\n            </div>\n            <div className=\"mb-2 text-xs\">Select a verse by clicking on it.</div>\n            <div className=\"mb-2 text-xs\">\n              You can either <strong>Change its start beat</strong> (which will &quot;move in time&quot; the verse and\n              all subsequent ones) or <strong>Delete it</strong> (it won&#39;t affect the timing of other verses). You\n              can also edit the lyrics of each note.\n            </div>\n            <div className=\"mb-2 text-xs\">\n              <strong>List of changes</strong> on the right allows you to see and undo the actions one by one.\n            </div>\n          </Grid>\n        </>\n      )}\n    </Grid>\n  );\n}\n","import { Box } from '@mui/material';\nimport { Song } from 'interfaces';\nimport EditSong from 'routes/Convert/Steps/SyncLyricsToVideo/EditSong';\n\ninterface Props {\n  onChange: (data: Song) => void;\n  data?: Song;\n  visible: boolean;\n}\n\nexport default function SyncLyricsToVideo(props: Props) {\n  return (\n    <Box data-test=\"sync-lyrics\">\n      {props.data && props.data.video.length < 15 && !!props.data.tracks?.[0]?.sections?.length && (\n        <EditSong song={props.data} onUpdate={props.onChange} visible={props.visible} />\n      )}\n    </Box>\n  );\n}\n","import { Alert, AlertTitle, Button, Grid, Paper, Step, StepButton, StyledEngineProvider } from '@mui/material';\nimport Stepper from '@mui/material/Stepper';\nimport { Song } from 'interfaces';\nimport { useBackground } from 'modules/Elements/BackgroundContext';\nimport NormalizeFontSize from 'modules/Elements/NormalizeFontSize';\nimport SongDao from 'modules/Songs/SongsService';\nimport useSongIndex from 'modules/Songs/hooks/useSongIndex';\nimport convertTxtToSong, { getVideoId } from 'modules/Songs/utils/convertTxtToSong';\nimport getSongId from 'modules/Songs/utils/getSongId';\nimport useBackgroundMusic from 'modules/hooks/useBackgroundMusic';\nimport useQueryParam from 'modules/hooks/useQueryParam';\nimport useSmoothNavigate from 'modules/hooks/useSmoothNavigate';\nimport setQueryParam from 'modules/utils/setQueryParam';\nimport { useEffect, useMemo, useState } from 'react';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport AuthorAndVideo, { AuthorAndVidEntity } from 'routes/Convert/Steps/AuthorAndVideo';\nimport BasicData, { BasicDataEntity } from 'routes/Convert/Steps/BasicData';\nimport SongMetadata, { SongMetadataEntity } from 'routes/Convert/Steps/SongMetadata';\nimport SyncLyricsToVideo from 'routes/Convert/Steps/SyncLyricsToVideo';\nimport { shareSong } from 'routes/Edit/ShareSongsModal';\nimport { ValuesType } from 'utility-types';\nimport { Link } from 'wouter';\n\ninterface Props {\n  song?: Song;\n}\n\nfunction isEmptyValue<T>(v: T | T[] | undefined) {\n  return Array.isArray(v) ? v.length === 0 : !v;\n}\n\nconst steps = ['basic-data', 'author-and-video', 'sync', 'metadata'] as const;\n\nexport default function ConvertView({ song }: Props) {\n  const isEdit = !!song;\n  const { data: songs } = useSongIndex(true);\n  useBackground(false);\n  const navigate = useSmoothNavigate();\n  useBackgroundMusic(false);\n  const initialStep = useQueryParam('step') as ValuesType<typeof steps> | null;\n  const [currentStep, setCurrentStep] = useState(Math.max(0, steps.indexOf(initialStep!)));\n  const [isSaving, setIsSaving] = useState(false);\n  const redirect = useQueryParam('redirect');\n\n  useEffect(() => {\n    if (steps[currentStep]) {\n      setQueryParam({ step: steps[currentStep] });\n    }\n  }, [currentStep]);\n\n  const [basicData, setBasicData] = useState<BasicDataEntity>({ sourceUrl: song?.sourceUrl ?? '', txtInput: '' });\n  const [authorAndVid, setAuthorAndVid] = useState<AuthorAndVidEntity>({\n    author: song?.author ?? '',\n    authorUrl: song?.authorUrl ?? '',\n    video: song?.video ? `https://www.youtube.com/watch?v=${song.video}` : '',\n  });\n  const [metadataEntity, setMetadataEntity] = useState<SongMetadataEntity>({\n    artist: song?.artist ?? '',\n    title: song?.title ?? '',\n    realBpm: song?.realBpm ? String(song.realBpm) : '',\n    year: song?.year ?? '',\n    language: song?.language ?? [],\n    volume: song?.volume ?? 70,\n    previewStart: song?.previewStart ?? undefined,\n    previewEnd: song?.previewEnd ?? undefined,\n    genre: song?.genre,\n    edition: song?.edition,\n    artistOrigin: song?.artistOrigin,\n  });\n\n  const [editedSong, setEditedSong] = useState<Song | undefined>(song);\n\n  const conversionResult: Song | undefined = useMemo(() => {\n    try {\n      if (isEdit)\n        return {\n          ...song,\n          video: getVideoId(authorAndVid.video) || song.video,\n          author: authorAndVid.author,\n          authorUrl: authorAndVid.authorUrl,\n          sourceUrl: basicData.sourceUrl,\n        };\n      if (!basicData.txtInput) return undefined;\n      const result = convertTxtToSong(\n        basicData.txtInput,\n        authorAndVid.video,\n        authorAndVid.author,\n        authorAndVid.authorUrl,\n        basicData.sourceUrl,\n      );\n\n      return result;\n    } catch (e: any) {\n      console.error(e);\n    }\n    return undefined;\n  }, [\n    basicData.txtInput,\n    authorAndVid.video,\n    authorAndVid.author,\n    authorAndVid.authorUrl,\n    basicData.sourceUrl,\n    song,\n    isEdit,\n  ]);\n\n  const possibleDuplicate = useMemo(\n    () =>\n      !isEdit &&\n      conversionResult &&\n      songs?.find((addedSong) => SongDao.generateSongFile(addedSong) === SongDao.generateSongFile(conversionResult)),\n    [songs, conversionResult, isEdit],\n  );\n\n  useEffect(() => {\n    if (conversionResult) {\n      if (!!conversionResult.video && !authorAndVid.video) {\n        setAuthorAndVid((current) => ({\n          ...current,\n          video: `https://www.youtube.com/watch?v=${conversionResult.video}`,\n        }));\n      }\n      if (!!conversionResult.author && !authorAndVid.author) {\n        setAuthorAndVid((current) => ({\n          ...current,\n          author: current.author || conversionResult?.author || '',\n          authorUrl: current.authorUrl || conversionResult?.authorUrl || '',\n        }));\n      }\n      if (!!conversionResult.sourceUrl && !basicData.sourceUrl) {\n        setBasicData((current) => ({\n          ...current,\n          sourceUrl: conversionResult.sourceUrl!,\n        }));\n      }\n      (\n        [\n          'year',\n          'language',\n          'realBpm',\n          'genre',\n          'artist',\n          'title',\n          'volume',\n          'previewStart',\n          'previewEnd',\n          'artistOrigin',\n        ] as const\n      ).forEach((property) => {\n        if (!!conversionResult[property] && isEmptyValue(metadataEntity[property])) {\n          setMetadataEntity((current) => ({\n            ...current,\n            [property]: conversionResult[property],\n          }));\n        }\n      });\n    }\n  }, [\n    conversionResult,\n    metadataEntity.year,\n    metadataEntity.language,\n    metadataEntity.realBpm,\n    metadataEntity.genre,\n    metadataEntity.artist,\n    metadataEntity.volume,\n    metadataEntity.title,\n    metadataEntity.previewStart,\n    metadataEntity.previewEnd,\n    basicData.sourceUrl,\n    authorAndVid.video,\n  ]);\n\n  const isBasicInfoCompleted = !!basicData.txtInput || isEdit;\n  const isAuthorAndVidCompleted = !!authorAndVid.video;\n\n  const isNextStepAvailable = steps[currentStep] === 'author-and-video' ? isAuthorAndVidCompleted : true;\n\n  const finalSong: Song = {\n    ...editedSong!,\n    ...metadataEntity,\n    author: authorAndVid.author,\n    authorUrl: authorAndVid.authorUrl,\n    realBpm: +metadataEntity.realBpm,\n    sourceUrl: basicData.sourceUrl,\n    id: getSongId(metadataEntity),\n  };\n\n  const saveSong = async () => {\n    setIsSaving(true);\n    await SongDao.store(finalSong!);\n    if (redirect) {\n      // dont wait for the share to finish if redirect is set\n      shareSong(finalSong!.id);\n      navigate(redirect);\n    } else {\n      await shareSong(finalSong!.id);\n      navigate(`edit/list/`, { id: finalSong!.id, created: !isEdit ? 'true' : null, song: null });\n    }\n    setIsSaving(false);\n  };\n\n  const onNextStep = () => {\n    if (currentStep < steps.length - 1) {\n      setCurrentStep((current) => current + 1);\n    } else if (steps[currentStep] === 'metadata') {\n      saveSong();\n    }\n  };\n\n  useHotkeys(\n    'shift+enter',\n    () => {\n      onNextStep();\n    },\n    [onNextStep],\n  );\n\n  const isLastStep = steps.at(currentStep) === 'metadata';\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <NormalizeFontSize />\n      <Grid container gap={2} p={1} pb={10}>\n        <Grid item xs={12}>\n          {!isEdit && (\n            <div style={{ marginBottom: '1rem' }}>\n              <Link to=\"menu/\">\n                <a>Return to the main menu</a>\n              </Link>\n            </div>\n          )}\n        </Grid>\n        <Grid item xs={12}>\n          <Stepper activeStep={currentStep} sx={{ mb: 2 }} nonLinear={isEdit}>\n            <Step key={0} completed={isBasicInfoCompleted}>\n              <StepButton color=\"inherit\" onClick={() => setCurrentStep(0)}>\n                Basic Info\n              </StepButton>\n            </Step>\n            <Step key={1} completed={isAuthorAndVidCompleted}>\n              <StepButton color=\"inherit\" onClick={() => setCurrentStep(1)}>\n                Author and video data\n              </StepButton>\n            </Step>\n            <Step key={2}>\n              <StepButton color=\"inherit\" onClick={() => setCurrentStep(2)}>\n                Sync lyrics to video\n              </StepButton>\n            </Step>\n            <Step key={3}>\n              <StepButton color=\"inherit\" onClick={() => setCurrentStep(3)}>\n                Fill song metadata\n              </StepButton>\n            </Step>\n          </Stepper>\n        </Grid>\n        <Grid item xs={12}>\n          <form\n            onSubmit={async (e) => {\n              e.preventDefault();\n              onNextStep();\n            }}>\n            {steps.at(currentStep) === 'basic-data' && (\n              <BasicData\n                shouldAutoImport={!isAuthorAndVidCompleted}\n                isTxtRequired={!song}\n                onAutoImport={setAuthorAndVid}\n                onChange={setBasicData}\n                data={basicData}\n                finalSong={finalSong}\n              />\n            )}\n\n            {steps.at(currentStep) === 'author-and-video' && (\n              <AuthorAndVideo\n                songArtist={conversionResult?.artist}\n                songTitle={conversionResult?.title}\n                onChange={setAuthorAndVid}\n                data={authorAndVid}\n              />\n            )}\n\n            {conversionResult && ( // Keep the component even if in different step so it preserves the state\n              <SyncLyricsToVideo\n                onChange={setEditedSong}\n                data={conversionResult}\n                visible={steps.at(currentStep) === 'sync'}\n              />\n            )}\n\n            {steps.at(currentStep) === 'metadata' && (\n              <SongMetadata\n                videoGap={editedSong?.videoGap}\n                onChange={setMetadataEntity}\n                data={metadataEntity}\n                songArtist={conversionResult?.artist}\n                videoId={conversionResult?.video ?? ''}\n              />\n            )}\n\n            {possibleDuplicate && (\n              <Alert severity=\"warning\" data-test=\"possible-duplicate\">\n                <AlertTitle>Possible duplicate</AlertTitle>\n                There is already a song with similar artist and/or name:{' '}\n                <b>\n                  {possibleDuplicate.artist} - {possibleDuplicate.title}\n                </b>\n              </Alert>\n            )}\n            <Paper\n              sx={{\n                position: 'fixed',\n                bottom: 0,\n                left: '50%',\n                maxWidth: '1260px',\n                width: '100%',\n                padding: 1,\n                transform: 'translateX(-50%)',\n                display: 'flex',\n                gap: 2,\n                justifyContent: 'space-between',\n              }}\n              elevation={3}>\n              {redirect && (\n                <Button\n                  disabled={isSaving}\n                  sx={{ align: 'right' }}\n                  onClick={async () => {\n                    setIsSaving(true);\n                    await SongDao.store(finalSong!);\n                    setIsSaving(false);\n                    navigate(redirect);\n                  }}>\n                  Skip\n                </Button>\n              )}\n\n              <div className=\"flex items-end\">\n                <Button\n                  data-test=\"previous-button\"\n                  sx={{ align: 'right' }}\n                  onClick={() => setCurrentStep((current) => current - 1)}\n                  disabled={currentStep === 0}>\n                  Previous\n                </Button>\n                {isLastStep ? (\n                  <Button\n                    data-test=\"save-button\"\n                    sx={{ align: 'right' }}\n                    type=\"submit\"\n                    variant={'contained'}\n                    disabled={isSaving}>\n                    {isSaving ? 'Saving...' : 'Save'}\n                  </Button>\n                ) : (\n                  <Button\n                    data-test=\"next-button\"\n                    sx={{ align: 'right' }}\n                    variant={'contained'}\n                    type=\"submit\"\n                    disabled={isSaving || !isNextStepAvailable || currentStep === steps.length - 1}>\n                    Next\n                  </Button>\n                )}\n              </div>\n            </Paper>\n          </form>\n        </Grid>\n      </Grid>\n    </StyledEngineProvider>\n  );\n}\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z\"\n}), 'Download');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3\"\n}), 'Visibility');","import styled from '@emotion/styled';\nimport { Delete, Download, Edit as EditIcon, Visibility, VisibilityOff } from '@mui/icons-material';\nimport { Button, FormControlLabel, Grid, IconButton, Switch } from '@mui/material';\nimport { useBackground } from 'modules/Elements/BackgroundContext';\nimport NoPrerender from 'modules/Elements/NoPrerender';\nimport NormalizeFontSize from 'modules/Elements/NormalizeFontSize';\nimport SongDao from 'modules/Songs/SongsService';\nimport useSongIndex from 'modules/Songs/hooks/useSongIndex';\nimport convertSongToTxt from 'modules/Songs/utils/convertSongToTxt';\nimport useBackgroundMusic from 'modules/hooks/useBackgroundMusic';\nimport useQueryParam from 'modules/hooks/useQueryParam';\nimport { buildUrl } from 'modules/hooks/useSmoothNavigate';\nimport posthog from 'posthog-js';\nimport { Helmet } from 'react-helmet';\nimport SongsTable from 'routes/Edit/Components/SongsTable';\nimport ShareSongsModal, { useShareSongs } from 'routes/Edit/ShareSongsModal';\nimport { Link } from 'wouter';\n\nexport default function SongList() {\n  useBackground(false);\n  useBackgroundMusic(false);\n  const { data, reload } = useSongIndex(true);\n  const [shareSongs, setShareSongs] = useShareSongs(null);\n\n  const created = useQueryParam('created');\n  const songId = useQueryParam('id');\n\n  if (!data) return <>Loading</>;\n\n  return (\n    <>\n      <Helmet>\n        <title>Song List | AllKaraoke.Party - Free Online Karaoke Party Game</title>\n      </Helmet>\n      <NoPrerender>\n        <Container>\n          {created && <ShareSongsModal id={songId} />}\n          <NormalizeFontSize />\n          <Grid container rowGap={2}>\n            <Grid item xs={3} display={'flex'} alignItems={'center'} justifyContent={'flex-start'}>\n              <Link to=\"menu/\">\n                <Button data-test=\"main-menu-link\">Return to main menu</Button>\n              </Link>\n            </Grid>\n            <Grid item xs={6} display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n              <h4>\n                <span\n                  onClick={() => {\n                    window.__exposeSingletons();\n                    window.__singletons.importSongs();\n                  }}>\n                  {data.length}\n                </span>{' '}\n                <Link to=\"edit/redirect-to-first-local-song\">\n                  <span>songs</span>\n                </Link>\n              </h4>\n            </Grid>\n            <Grid item xs={3} display={'flex'} alignItems={'center'} justifyContent={'flex-end'}>\n              <Link to=\"convert/\">\n                <Button data-test=\"convert-song\" variant={'contained'}>\n                  Import UltraStar .TXT\n                </Button>\n              </Link>\n            </Grid>\n            <Grid item xs={12}>\n              <SongsTable\n                globalFilter={songId}\n                data={data}\n                renderRowActions={({ row }) => (\n                  <>\n                    <Link to={buildUrl(`edit/song/`, { song: row.original.id, id: null })}>\n                      <IconButton title=\"Edit the song\" data-test=\"edit-song\" data-song={row.original.id}>\n                        <EditIcon />\n                      </IconButton>\n                    </Link>\n                    <IconButton\n                      title=\"Download .txt file\"\n                      onClick={async () => {\n                        const songData = await SongDao.get(row.original.id);\n                        const txt = convertSongToTxt(songData);\n\n                        const anchor = document.createElement('a');\n                        anchor.href = `data:plain/text;charset=utf-8,${encodeURIComponent(txt)}`;\n                        anchor.download = `${SongDao.generateSongFile(songData)}.txt`;\n                        document.body.appendChild(anchor);\n                        anchor.click();\n                        document.body.removeChild(anchor);\n                      }}\n                      data-test=\"download-song\"\n                      data-song={row.original.id}>\n                      <Download />\n                    </IconButton>\n                    {!row.original.isDeleted && (\n                      <IconButton\n                        title=\"Hide the song\"\n                        onClick={async () => {\n                          await SongDao.softDeleteSong(row.original.id);\n                          reload();\n                        }}\n                        data-test=\"hide-song\"\n                        data-song={row.original.id}>\n                        <Visibility />\n                      </IconButton>\n                    )}\n                    {row.original.isDeleted && (\n                      <IconButton\n                        title=\"Restore the song\"\n                        onClick={async () => {\n                          await SongDao.restoreSong(row.original.id);\n                          reload();\n                        }}\n                        data-test=\"restore-song\"\n                        data-song={row.original.id}>\n                        <VisibilityOff />\n                      </IconButton>\n                    )}\n                    <IconButton\n                      className={!row.original.local ? 'cursor-default! opacity-50' : ''}\n                      title=\"Delete the song\"\n                      onClick={async () => {\n                        const proceed = global.confirm(`Are you sure you want to delete this song?`);\n\n                        if (proceed) {\n                          await SongDao.deleteSong(row.original.id);\n\n                          if (shareSongs && data.some((song) => song.id === row.original.id)) {\n                            posthog.capture('unshare-song', { songId: row.original.id });\n                          }\n\n                          reload();\n                        }\n                      }}\n                      data-test=\"delete-song\"\n                      data-song={row.original.id}>\n                      <Delete />\n                    </IconButton>\n                  </>\n                )}\n              />\n            </Grid>\n            {shareSongs !== null && (\n              <Grid item xs={12}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      defaultChecked\n                      checked={shareSongs}\n                      onChange={(e) => setShareSongs(e.target.checked)}\n                      data-test=\"share-songs-switch\"\n                    />\n                  }\n                  label=\"Share added songs (so they can be played by others)\"\n                />\n              </Grid>\n            )}\n          </Grid>\n        </Container>\n      </NoPrerender>\n    </>\n  );\n}\n\nconst Container = styled.div`\n  margin: 0 auto;\n  height: 100%;\n  width: 1260px;\n  background: white;\n  padding: 60px 20px 0 20px;\n`;\n"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,38,39,51,52],"mappings":"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"}