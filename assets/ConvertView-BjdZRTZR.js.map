{"version":3,"file":"ConvertView-BjdZRTZR.js","sources":["../../.yarn/__virtual__/@mui-utils-virtual-f9e094a6f4/0/cache/@mui-utils-npm-5.15.11-f1fcefa3dd-a3c3862a93.zip/node_modules/@mui/utils/getValidReactChildren/getValidReactChildren.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/Stepper/StepperContext.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/Step/StepContext.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/Step/stepClasses.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/Step/Step.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/internal/svg-icons/CheckCircle.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/internal/svg-icons/Warning.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepIcon/stepIconClasses.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepIcon/StepIcon.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepLabel/stepLabelClasses.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepLabel/StepLabel.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepButton/stepButtonClasses.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepButton/StepButton.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/Stepper/stepperClasses.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepConnector/stepConnectorClasses.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/StepConnector/StepConnector.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/Stepper/Stepper.js","../../src/Scenes/Convert/Elements.tsx","../../src/Scenes/Convert/Steps/AuthorAndVid.tsx","../../src/Scenes/Convert/Steps/utils/fixDiacritics.ts","../../src/Scenes/Convert/Steps/utils/validateUltrastar.ts","../../src/Scenes/Convert/importUltrastarEsSong.ts","../../src/Scenes/Convert/Steps/BasicData.tsx","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs.tsx","../../src/Scenes/Convert/Steps/PreviewAndVolumeAdjustment.tsx","../../src/Scenes/Convert/Steps/SongMetadata.tsx","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/ButtonGroup/buttonGroupClasses.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/ButtonGroup/ButtonGroup.js","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/Components/AdjustPlayback.tsx","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/ListItemButton/ListItemButton.js","../../.yarn/__virtual__/@mui-material-virtual-270ed9075f/0/cache/@mui-material-npm-5.15.11-3051e474a6-1f95143a97.zip/node_modules/@mui/material/ListItemText/ListItemText.js","../../src/Scenes/Game/Singing/Hooks/useCurrentSectionIndex.ts","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/Components/EditSection.tsx","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/Components/ListTracks.tsx","../../src/Scenes/Convert/calculateProperBpm.ts","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/Components/ManipulateBpm.tsx","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/Components/ShiftGap.tsx","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/Components/ShiftVideoGap.tsx","../../.yarn/cache/lodash-es-npm-4.17.21-b45832dfce-03f39878ea.zip/node_modules/lodash-es/cloneDeep.js","../../src/Scenes/Convert/Steps/SyncLyricsToVideo/EditSong.tsx","../../src/Scenes/Convert/Steps/SyncLyricsToVideo.tsx","../../src/Scenes/Convert/ConvertView.tsx"],"sourcesContent":["import * as React from 'react';\n\n/**\n * Gets only the valid children of a component,\n * and ignores any nullish or falsy child.\n *\n * @param children the children\n */\nexport default function getValidReactChildren(children) {\n  return React.Children.toArray(children).filter(child => /*#__PURE__*/React.isValidElement(child));\n}","import * as React from 'react';\n/**\n * Provides information about the current step in Stepper.\n */\nconst StepperContext = /*#__PURE__*/React.createContext({});\nif (process.env.NODE_ENV !== 'production') {\n  StepperContext.displayName = 'StepperContext';\n}\n\n/**\n * Returns the current StepperContext or an empty object if no StepperContext\n * has been defined in the component tree.\n */\nexport function useStepperContext() {\n  return React.useContext(StepperContext);\n}\nexport default StepperContext;","import * as React from 'react';\n/**\n * Provides information about the current step in Stepper.\n */\nconst StepContext = /*#__PURE__*/React.createContext({});\nif (process.env.NODE_ENV !== 'production') {\n  StepContext.displayName = 'StepContext';\n}\n\n/**\n * Returns the current StepContext or an empty object if no StepContext\n * has been defined in the component tree.\n */\nexport function useStepContext() {\n  return React.useContext(StepContext);\n}\nexport default StepContext;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepUtilityClass(slot) {\n  return generateUtilityClass('MuiStep', slot);\n}\nconst stepClasses = generateUtilityClasses('MuiStep', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'completed']);\nexport default stepClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"active\", \"children\", \"className\", \"component\", \"completed\", \"disabled\", \"expanded\", \"index\", \"last\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport integerPropType from '@mui/utils/integerPropType';\nimport composeClasses from '@mui/utils/composeClasses';\nimport StepperContext from '../Stepper/StepperContext';\nimport StepContext from './StepContext';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getStepUtilityClass } from './stepClasses';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    completed\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', completed && 'completed']\n  };\n  return composeClasses(slots, getStepUtilityClass, classes);\n};\nconst StepRoot = styled('div', {\n  name: 'MuiStep',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends({}, ownerState.orientation === 'horizontal' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}, ownerState.alternativeLabel && {\n  flex: 1,\n  position: 'relative'\n}));\nconst Step = /*#__PURE__*/React.forwardRef(function Step(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStep'\n  });\n  const {\n      active: activeProp,\n      children,\n      className,\n      component = 'div',\n      completed: completedProp,\n      disabled: disabledProp,\n      expanded = false,\n      index,\n      last\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    activeStep,\n    connector,\n    alternativeLabel,\n    orientation,\n    nonLinear\n  } = React.useContext(StepperContext);\n  let [active = false, completed = false, disabled = false] = [activeProp, completedProp, disabledProp];\n  if (activeStep === index) {\n    active = activeProp !== undefined ? activeProp : true;\n  } else if (!nonLinear && activeStep > index) {\n    completed = completedProp !== undefined ? completedProp : true;\n  } else if (!nonLinear && activeStep < index) {\n    disabled = disabledProp !== undefined ? disabledProp : true;\n  }\n  const contextValue = React.useMemo(() => ({\n    index,\n    last,\n    expanded,\n    icon: index + 1,\n    active,\n    completed,\n    disabled\n  }), [index, last, expanded, active, completed, disabled]);\n  const ownerState = _extends({}, props, {\n    active,\n    orientation,\n    alternativeLabel,\n    completed,\n    disabled,\n    expanded,\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  const newChildren = /*#__PURE__*/_jsxs(StepRoot, _extends({\n    as: component,\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [connector && alternativeLabel && index !== 0 ? connector : null, children]\n  }));\n  return /*#__PURE__*/_jsx(StepContext.Provider, {\n    value: contextValue,\n    children: connector && !alternativeLabel && index !== 0 ? /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [connector, newChildren]\n    }) : newChildren\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Step.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Sets the step as active. Is passed to child components.\n   */\n  active: PropTypes.bool,\n  /**\n   * Should be `Step` sub-components such as `StepLabel`, `StepContent`.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Mark the step as completed. Is passed to child components.\n   */\n  completed: PropTypes.bool,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the step is disabled, will also disable the button if\n   * `StepButton` is a child of `Step`. Is passed to child components.\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Expand the step.\n   * @default false\n   */\n  expanded: PropTypes.bool,\n  /**\n   * The position of the step.\n   * The prop defaults to the value inherited from the parent Stepper component.\n   */\n  index: integerPropType,\n  /**\n   * If `true`, the Step is displayed as rendered last.\n   * The prop defaults to the value inherited from the parent Stepper component.\n   */\n  last: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Step;","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z\"\n}), 'CheckCircle');","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepIconUtilityClass(slot) {\n  return generateUtilityClass('MuiStepIcon', slot);\n}\nconst stepIconClasses = generateUtilityClasses('MuiStepIcon', ['root', 'active', 'completed', 'error', 'text']);\nexport default stepIconClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _circle;\nconst _excluded = [\"active\", \"className\", \"completed\", \"error\", \"icon\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport CheckCircle from '../internal/svg-icons/CheckCircle';\nimport Warning from '../internal/svg-icons/Warning';\nimport SvgIcon from '../SvgIcon';\nimport stepIconClasses, { getStepIconUtilityClass } from './stepIconClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    active,\n    completed,\n    error\n  } = ownerState;\n  const slots = {\n    root: ['root', active && 'active', completed && 'completed', error && 'error'],\n    text: ['text']\n  };\n  return composeClasses(slots, getStepIconUtilityClass, classes);\n};\nconst StepIconRoot = styled(SvgIcon, {\n  name: 'MuiStepIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  color: (theme.vars || theme).palette.text.disabled,\n  [`&.${stepIconClasses.completed}`]: {\n    color: (theme.vars || theme).palette.primary.main\n  },\n  [`&.${stepIconClasses.active}`]: {\n    color: (theme.vars || theme).palette.primary.main\n  },\n  [`&.${stepIconClasses.error}`]: {\n    color: (theme.vars || theme).palette.error.main\n  }\n}));\nconst StepIconText = styled('text', {\n  name: 'MuiStepIcon',\n  slot: 'Text',\n  overridesResolver: (props, styles) => styles.text\n})(({\n  theme\n}) => ({\n  fill: (theme.vars || theme).palette.primary.contrastText,\n  fontSize: theme.typography.caption.fontSize,\n  fontFamily: theme.typography.fontFamily\n}));\nconst StepIcon = /*#__PURE__*/React.forwardRef(function StepIcon(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepIcon'\n  });\n  const {\n      active = false,\n      className: classNameProp,\n      completed = false,\n      error = false,\n      icon\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    active,\n    completed,\n    error\n  });\n  const classes = useUtilityClasses(ownerState);\n  if (typeof icon === 'number' || typeof icon === 'string') {\n    const className = clsx(classNameProp, classes.root);\n    if (error) {\n      return /*#__PURE__*/_jsx(StepIconRoot, _extends({\n        as: Warning,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n    if (completed) {\n      return /*#__PURE__*/_jsx(StepIconRoot, _extends({\n        as: CheckCircle,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n    return /*#__PURE__*/_jsxs(StepIconRoot, _extends({\n      className: className,\n      ref: ref,\n      ownerState: ownerState\n    }, other, {\n      children: [_circle || (_circle = /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"12\",\n        cy: \"12\",\n        r: \"12\"\n      })), /*#__PURE__*/_jsx(StepIconText, {\n        className: classes.text,\n        x: \"12\",\n        y: \"12\",\n        textAnchor: \"middle\",\n        dominantBaseline: \"central\",\n        ownerState: ownerState,\n        children: icon\n      })]\n    }));\n  }\n  return icon;\n});\nprocess.env.NODE_ENV !== \"production\" ? StepIcon.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Whether this step is active.\n   * @default false\n   */\n  active: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Mark the step as completed. Is passed to child components.\n   * @default false\n   */\n  completed: PropTypes.bool,\n  /**\n   * If `true`, the step is marked as failed.\n   * @default false\n   */\n  error: PropTypes.bool,\n  /**\n   * The label displayed in the step icon.\n   */\n  icon: PropTypes.node,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepIcon;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepLabelUtilityClass(slot) {\n  return generateUtilityClass('MuiStepLabel', slot);\n}\nconst stepLabelClasses = generateUtilityClasses('MuiStepLabel', ['root', 'horizontal', 'vertical', 'label', 'active', 'completed', 'error', 'disabled', 'iconContainer', 'alternativeLabel', 'labelContainer']);\nexport default stepLabelClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"componentsProps\", \"error\", \"icon\", \"optional\", \"slotProps\", \"StepIconComponent\", \"StepIconProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport StepIcon from '../StepIcon';\nimport StepperContext from '../Stepper/StepperContext';\nimport StepContext from '../Step/StepContext';\nimport stepLabelClasses, { getStepLabelUtilityClass } from './stepLabelClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    active,\n    completed,\n    error,\n    disabled,\n    alternativeLabel\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    label: ['label', active && 'active', completed && 'completed', error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    iconContainer: ['iconContainer', active && 'active', completed && 'completed', error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    labelContainer: ['labelContainer', alternativeLabel && 'alternativeLabel']\n  };\n  return composeClasses(slots, getStepLabelUtilityClass, classes);\n};\nconst StepLabelRoot = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    flexDirection: 'column'\n  },\n  [`&.${stepLabelClasses.disabled}`]: {\n    cursor: 'default'\n  }\n}, ownerState.orientation === 'vertical' && {\n  textAlign: 'left',\n  padding: '8px 0'\n}));\nconst StepLabelLabel = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Label',\n  overridesResolver: (props, styles) => styles.label\n})(({\n  theme\n}) => _extends({}, theme.typography.body2, {\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${stepLabelClasses.active}`]: {\n    color: (theme.vars || theme).palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses.completed}`]: {\n    color: (theme.vars || theme).palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    marginTop: 16\n  },\n  [`&.${stepLabelClasses.error}`]: {\n    color: (theme.vars || theme).palette.error.main\n  }\n}));\nconst StepLabelIconContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'IconContainer',\n  overridesResolver: (props, styles) => styles.iconContainer\n})(() => ({\n  flexShrink: 0,\n  // Fix IE11 issue\n  display: 'flex',\n  paddingRight: 8,\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    paddingRight: 0\n  }\n}));\nconst StepLabelLabelContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'LabelContainer',\n  overridesResolver: (props, styles) => styles.labelContainer\n})(({\n  theme\n}) => ({\n  width: '100%',\n  color: (theme.vars || theme).palette.text.secondary,\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    textAlign: 'center'\n  }\n}));\nconst StepLabel = /*#__PURE__*/React.forwardRef(function StepLabel(inProps, ref) {\n  var _slotProps$label;\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepLabel'\n  });\n  const {\n      children,\n      className,\n      componentsProps = {},\n      error = false,\n      icon: iconProp,\n      optional,\n      slotProps = {},\n      StepIconComponent: StepIconComponentProp,\n      StepIconProps\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    alternativeLabel,\n    orientation\n  } = React.useContext(StepperContext);\n  const {\n    active,\n    disabled,\n    completed,\n    icon: iconContext\n  } = React.useContext(StepContext);\n  const icon = iconProp || iconContext;\n  let StepIconComponent = StepIconComponentProp;\n  if (icon && !StepIconComponent) {\n    StepIconComponent = StepIcon;\n  }\n  const ownerState = _extends({}, props, {\n    active,\n    alternativeLabel,\n    completed,\n    disabled,\n    error,\n    orientation\n  });\n  const classes = useUtilityClasses(ownerState);\n  const labelSlotProps = (_slotProps$label = slotProps.label) != null ? _slotProps$label : componentsProps.label;\n  return /*#__PURE__*/_jsxs(StepLabelRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [icon || StepIconComponent ? /*#__PURE__*/_jsx(StepLabelIconContainer, {\n      className: classes.iconContainer,\n      ownerState: ownerState,\n      children: /*#__PURE__*/_jsx(StepIconComponent, _extends({\n        completed: completed,\n        active: active,\n        error: error,\n        icon: icon\n      }, StepIconProps))\n    }) : null, /*#__PURE__*/_jsxs(StepLabelLabelContainer, {\n      className: classes.labelContainer,\n      ownerState: ownerState,\n      children: [children ? /*#__PURE__*/_jsx(StepLabelLabel, _extends({\n        ownerState: ownerState\n      }, labelSlotProps, {\n        className: clsx(classes.label, labelSlotProps == null ? void 0 : labelSlotProps.className),\n        children: children\n      })) : null, optional]\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? StepLabel.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * In most cases will simply be a string containing a title for the label.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  componentsProps: PropTypes.shape({\n    label: PropTypes.object\n  }),\n  /**\n   * If `true`, the step is marked as failed.\n   * @default false\n   */\n  error: PropTypes.bool,\n  /**\n   * Override the default label of the step icon.\n   */\n  icon: PropTypes.node,\n  /**\n   * The optional node to display.\n   */\n  optional: PropTypes.node,\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    label: PropTypes.object\n  }),\n  /**\n   * The component to render in place of the [`StepIcon`](/material-ui/api/step-icon/).\n   */\n  StepIconComponent: PropTypes.elementType,\n  /**\n   * Props applied to the [`StepIcon`](/material-ui/api/step-icon/) element.\n   */\n  StepIconProps: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nStepLabel.muiName = 'StepLabel';\nexport default StepLabel;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiStepButton', slot);\n}\nconst stepButtonClasses = generateUtilityClasses('MuiStepButton', ['root', 'horizontal', 'vertical', 'touchRipple']);\nexport default stepButtonClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"icon\", \"optional\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport StepLabel from '../StepLabel';\nimport isMuiElement from '../utils/isMuiElement';\nimport StepperContext from '../Stepper/StepperContext';\nimport StepContext from '../Step/StepContext';\nimport stepButtonClasses, { getStepButtonUtilityClass } from './stepButtonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation],\n    touchRipple: ['touchRipple']\n  };\n  return composeClasses(slots, getStepButtonUtilityClass, classes);\n};\nconst StepButtonRoot = styled(ButtonBase, {\n  name: 'MuiStepButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${stepButtonClasses.touchRipple}`]: styles.touchRipple\n    }, styles.root, styles[ownerState.orientation]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  width: '100%',\n  padding: '24px 16px',\n  margin: '-24px -16px',\n  boxSizing: 'content-box'\n}, ownerState.orientation === 'vertical' && {\n  justifyContent: 'flex-start',\n  padding: '8px',\n  margin: '-8px'\n}, {\n  [`& .${stepButtonClasses.touchRipple}`]: {\n    color: 'rgba(0, 0, 0, 0.3)'\n  }\n}));\nconst StepButton = /*#__PURE__*/React.forwardRef(function StepButton(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepButton'\n  });\n  const {\n      children,\n      className,\n      icon,\n      optional\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    disabled,\n    active\n  } = React.useContext(StepContext);\n  const {\n    orientation\n  } = React.useContext(StepperContext);\n  const ownerState = _extends({}, props, {\n    orientation\n  });\n  const classes = useUtilityClasses(ownerState);\n  const childProps = {\n    icon,\n    optional\n  };\n  const child = isMuiElement(children, ['StepLabel']) ? ( /*#__PURE__*/React.cloneElement(children, childProps)) : /*#__PURE__*/_jsx(StepLabel, _extends({}, childProps, {\n    children: children\n  }));\n  return /*#__PURE__*/_jsx(StepButtonRoot, _extends({\n    focusRipple: true,\n    disabled: disabled,\n    TouchRippleProps: {\n      className: classes.touchRipple\n    },\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState,\n    \"aria-current\": active ? 'step' : undefined\n  }, other, {\n    children: child\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? StepButton.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Can be a `StepLabel` or a node to place inside `StepLabel` as children.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The icon displayed by the step label.\n   */\n  icon: PropTypes.node,\n  /**\n   * The optional node to display.\n   */\n  optional: PropTypes.node,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepButton;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepperUtilityClass(slot) {\n  return generateUtilityClass('MuiStepper', slot);\n}\nconst stepperClasses = generateUtilityClasses('MuiStepper', ['root', 'horizontal', 'vertical', 'alternativeLabel']);\nexport default stepperClasses;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getStepConnectorUtilityClass(slot) {\n  return generateUtilityClass('MuiStepConnector', slot);\n}\nconst stepConnectorClasses = generateUtilityClasses('MuiStepConnector', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'active', 'completed', 'disabled', 'line', 'lineHorizontal', 'lineVertical']);\nexport default stepConnectorClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport StepperContext from '../Stepper/StepperContext';\nimport StepContext from '../Step/StepContext';\nimport { getStepConnectorUtilityClass } from './stepConnectorClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    active,\n    completed,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', active && 'active', completed && 'completed', disabled && 'disabled'],\n    line: ['line', `line${capitalize(orientation)}`]\n  };\n  return composeClasses(slots, getStepConnectorUtilityClass, classes);\n};\nconst StepConnectorRoot = styled('div', {\n  name: 'MuiStepConnector',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends({\n  flex: '1 1 auto'\n}, ownerState.orientation === 'vertical' && {\n  marginLeft: 12 // half icon\n}, ownerState.alternativeLabel && {\n  position: 'absolute',\n  top: 8 + 4,\n  left: 'calc(-50% + 20px)',\n  right: 'calc(50% + 20px)'\n}));\nconst StepConnectorLine = styled('span', {\n  name: 'MuiStepConnector',\n  slot: 'Line',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.line, styles[`line${capitalize(ownerState.orientation)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => {\n  const borderColor = theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[600];\n  return _extends({\n    display: 'block',\n    borderColor: theme.vars ? theme.vars.palette.StepConnector.border : borderColor\n  }, ownerState.orientation === 'horizontal' && {\n    borderTopStyle: 'solid',\n    borderTopWidth: 1\n  }, ownerState.orientation === 'vertical' && {\n    borderLeftStyle: 'solid',\n    borderLeftWidth: 1,\n    minHeight: 24\n  });\n});\nconst StepConnector = /*#__PURE__*/React.forwardRef(function StepConnector(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepConnector'\n  });\n  const {\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    alternativeLabel,\n    orientation = 'horizontal'\n  } = React.useContext(StepperContext);\n  const {\n    active,\n    disabled,\n    completed\n  } = React.useContext(StepContext);\n  const ownerState = _extends({}, props, {\n    alternativeLabel,\n    orientation,\n    active,\n    completed,\n    disabled\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(StepConnectorRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(StepConnectorLine, {\n      className: classes.line,\n      ownerState: ownerState\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? StepConnector.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepConnector;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"activeStep\", \"alternativeLabel\", \"children\", \"className\", \"component\", \"connector\", \"nonLinear\", \"orientation\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport integerPropType from '@mui/utils/integerPropType';\nimport composeClasses from '@mui/utils/composeClasses';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getStepperUtilityClass } from './stepperClasses';\nimport StepConnector from '../StepConnector';\nimport StepperContext from './StepperContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    alternativeLabel,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel']\n  };\n  return composeClasses(slots, getStepperUtilityClass, classes);\n};\nconst StepperRoot = styled('div', {\n  name: 'MuiStepper',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex'\n}, ownerState.orientation === 'horizontal' && {\n  flexDirection: 'row',\n  alignItems: 'center'\n}, ownerState.orientation === 'vertical' && {\n  flexDirection: 'column'\n}, ownerState.alternativeLabel && {\n  alignItems: 'flex-start'\n}));\nconst defaultConnector = /*#__PURE__*/_jsx(StepConnector, {});\nconst Stepper = /*#__PURE__*/React.forwardRef(function Stepper(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepper'\n  });\n  const {\n      activeStep = 0,\n      alternativeLabel = false,\n      children,\n      className,\n      component = 'div',\n      connector = defaultConnector,\n      nonLinear = false,\n      orientation = 'horizontal'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    alternativeLabel,\n    orientation,\n    component\n  });\n  const classes = useUtilityClasses(ownerState);\n  const childrenArray = React.Children.toArray(children).filter(Boolean);\n  const steps = childrenArray.map((step, index) => {\n    return /*#__PURE__*/React.cloneElement(step, _extends({\n      index,\n      last: index + 1 === childrenArray.length\n    }, step.props));\n  });\n  const contextValue = React.useMemo(() => ({\n    activeStep,\n    alternativeLabel,\n    connector,\n    nonLinear,\n    orientation\n  }), [activeStep, alternativeLabel, connector, nonLinear, orientation]);\n  return /*#__PURE__*/_jsx(StepperContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(StepperRoot, _extends({\n      as: component,\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: steps\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Stepper.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Set the active step (zero based index).\n   * Set to -1 to disable all the steps.\n   * @default 0\n   */\n  activeStep: integerPropType,\n  /**\n   * If set to 'true' and orientation is horizontal,\n   * then the step label will be positioned under the icon.\n   * @default false\n   */\n  alternativeLabel: PropTypes.bool,\n  /**\n   * Two or more `<Step />` components.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * An element to be placed between each step.\n   * @default <StepConnector />\n   */\n  connector: PropTypes.element,\n  /**\n   * If set the `Stepper` will not assist in controlling steps for linear flow.\n   * @default false\n   */\n  nonLinear: PropTypes.bool,\n  /**\n   * The component orientation (layout flow direction).\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Stepper;","import styled from '@emotion/styled';\nimport { Search } from '@mui/icons-material';\nimport { Button, Tooltip } from '@mui/material';\nimport { ComponentProps } from 'react';\n\nexport const Pre = styled.span`\n  font-family: monospace;\n`;\n\nexport const inputAction = (action: ComponentProps<typeof Button>['onClick'], enabled: boolean, label = 'Lookup') => ({\n  InputProps: {\n    endAdornment: (\n      <Tooltip title={enabled ? 'Open search results for the song' : 'Artist or title of the song is unknown'}>\n        <span>\n          <Button\n            sx={{ mr: -1 }}\n            endIcon={<Search />}\n            color={'secondary'}\n            variant={'text'}\n            onClick={action}\n            disabled={!enabled}>\n            {label}\n          </Button>\n        </span>\n      </Tooltip>\n    ),\n  },\n});\n","import { Box, TextField } from '@mui/material';\nimport { inputAction } from 'Scenes/Convert/Elements';\nimport { getVideoId } from 'Songs/utils/convertTxtToSong';\nimport YouTube from 'react-youtube';\n\nexport interface AuthorAndVidEntity {\n  author: string;\n  authorUrl: string;\n  video: string;\n}\n\ninterface Props {\n  onChange: (data: AuthorAndVidEntity) => void;\n  data: AuthorAndVidEntity;\n  songTitle?: string;\n  songArtist?: string;\n}\n\nexport default function AuthorAndVid(props: Props) {\n  const searchForVideo = () => {\n    window.open(\n      `https://www.youtube.com/results?search_query=${encodeURIComponent(props?.songArtist + ' ' + props?.songTitle)}`,\n      '_blank',\n    );\n  };\n  const isSearchableForVideo = !!props.songTitle && !!props.songArtist;\n\n  const videoId = getVideoId(props.data.video);\n\n  return (\n    <Box sx={{ display: 'flex', flexWrap: 'wrap' }} data-test=\"author-and-vid\">\n      <TextField\n        data-test=\"author-name\"\n        sx={{ mt: 2 }}\n        value={props.data.author}\n        onChange={(e) => props.onChange({ ...props.data, author: e.target.value })}\n        label=\"Author name (optional)\"\n        fullWidth\n        size=\"small\"\n        helperText=\"Nickname of the person that created the .txt file.\"\n      />\n      <TextField\n        data-test=\"author-url\"\n        sx={{ mt: 2 }}\n        value={props.data.authorUrl}\n        onChange={(e) => props.onChange({ ...props.data, authorUrl: e.target.value })}\n        label=\"Author URL (optional)\"\n        helperText=\"Link to authors page/profile.\"\n        fullWidth\n        size=\"small\"\n      />\n      <Box sx={{ display: 'flex', flexDirection: 'row', mt: 2, alignItems: 'center', width: '100%' }}>\n        <TextField\n          data-test=\"video-url\"\n          required\n          value={props.data.video}\n          onChange={(e) => props.onChange({ ...props.data, video: e.target.value })}\n          label=\"YouTube Video URL\"\n          placeholder=\"https://www.youtube.com/watch?v=\"\n          fullWidth\n          size=\"small\"\n          helperText=\"Link to YouTube video, eg https://www.youtube.com/watch?v=xxxxxxxxx. Click the 'Lookup' button to look for it on YouTube\"\n          name=\"videoUrl\"\n          {...inputAction(searchForVideo, isSearchableForVideo)}\n        />\n      </Box>\n      {videoId && (\n        <Box>\n          <YouTube videoId={videoId} />\n        </Box>\n      )}\n    </Box>\n  );\n}\n","const accents = {\n  polish: {\n    È: 'é',\n    í: \"'\",\n    '¥': \"'\",\n    '¯': 'Ż',\n    '¹': 'ą',\n    π: 'ą',\n    ê: 'ę',\n    Í: 'ę',\n    Œ: 'Ś',\n    å: 'Ś',\n    œ: 'ś',\n    ú: 'ś',\n    æ: 'ć',\n    Ê: 'ć',\n    '¿': 'ż',\n    ø: 'ż',\n    Ø: 'Ż',\n    ñ: 'ń',\n    Ò: 'ń',\n    '³': 'ł',\n    '≥': 'ł',\n    '£': 'Ł',\n    Û: 'ó',\n    ü: 'ź',\n    Ÿ: 'ź',\n  },\n  spanish: {\n    ø: '¿',\n    È: 'é',\n    Ì: 'í',\n    Ò: 'ñ',\n    ń: 'ñ',\n    '·': 'á',\n    Û: 'ó',\n    '°': '!',\n    '˙': 'ú',\n    ś: 'ú',\n  },\n};\n\nexport function fixDiacritics(txt: string, language: string): string {\n  const accentSet = accents[language as any as keyof typeof accents];\n  if (accentSet === undefined) return txt;\n\n  let fixedTxt = txt;\n  for (const [accent, replacement] of Object.entries(accentSet)) {\n    fixedTxt = fixedTxt.replaceAll(accent, replacement);\n  }\n\n  return fixedTxt;\n}\n","import convertTxtToSong from 'Songs/utils/convertTxtToSong';\n\nexport default function isValidUltrastarTxtFormat(songTxt: string) {\n  const lines = songTxt.split('\\n');\n  const requiredTags = ['#TITLE', '#ARTIST', '#BPM'];\n\n  for (const tag of requiredTags) {\n    if (!lines.some((line) => line.startsWith(tag))) {\n      return false;\n    }\n  }\n\n  // Checking if there exist any song notes or not\n  if (!lines.some((line) => line.startsWith(':'))) {\n    return false;\n  }\n\n  try {\n    convertTxtToSong(songTxt);\n  } catch (e) {\n    console.log(e);\n    return false;\n  }\n\n  return true;\n}\n","import { AuthorAndVidEntity } from 'Scenes/Convert/Steps/AuthorAndVid';\n\nexport default async function importSongFromSource(url: string) {\n  try {\n    const urlObj = new URL(url);\n\n    if (urlObj.host === 'usdb.animux.de') {\n      return importUsDbAnimuxSong(url, urlObj);\n    } else if (urlObj.host === 'ultrastar-es.org') {\n      return importUltrastarEsSong(url);\n    }\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\nasync function importUltrastarEsSong(url: string): Promise<AuthorAndVidEntity> {\n  const response = await fetch(`${import.meta.env.VITE_APP_SONG_CONVERT_PROXY}?url=${encodeURIComponent(url)}`);\n  const text = await response.text();\n\n  const doc = new DOMParser().parseFromString(text, 'text/html');\n\n  const id = doc.querySelector('ul[data-id]')?.getAttribute('data-id');\n  const txtUrl = `https://ultrastar-es.org/pl/canciones/descargar/txt/${id}`;\n  window.location.href = txtUrl;\n\n  const authorPath = doc.querySelector('#listado > ul > li > dl > dd:nth-child(6) > a')?.getAttribute('href');\n  const videoId = doc.querySelector('#listado > ul > li')?.getAttribute('data-id');\n\n  return {\n    authorUrl: authorPath ? 'https://ultrastar-es.org' + authorPath : '',\n    author: doc.querySelector('#listado > ul > li > dl > dd:nth-child(6)')?.textContent ?? '',\n    video: videoId ? 'https://www.youtube.com/watch?v=' + videoId : '',\n  };\n}\n\nasync function importUsDbAnimuxSong(url: string, obj: URL): Promise<AuthorAndVidEntity> {\n  const response = await fetch(`${import.meta.env.VITE_APP_SONG_CONVERT_PROXY}?url=${encodeURIComponent(url)}`);\n  const text = await response.text();\n\n  const doc = new DOMParser().parseFromString(text, 'text/html');\n\n  const author = doc.querySelector('a[href^=\"?link=profil&id=\"]')?.textContent;\n  const authorPath = doc.querySelector('a[href^=\"?link=profil&id=\"]')?.getAttribute?.('href');\n\n  const artist = doc.querySelector(\n    '#tablebg > tbody > tr:nth-child(3) > td > table:nth-child(2) > tbody > tr.list_head > td:nth-child(1)',\n  )?.textContent;\n  const title = doc.querySelector(\n    '#tablebg > tbody > tr:nth-child(3) > td > table:nth-child(2) > tbody > tr.list_head > td:nth-child(2)',\n  )?.textContent;\n\n  window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(artist + ' ' + title)}`, '_blank');\n  window.open(`http://usdb.animux.de/index.php?link=gettxt&id=${obj.searchParams.get('id')}`, '_blank');\n\n  return {\n    authorUrl: authorPath ? 'http://usdb.animux.de/index.php' + authorPath : '',\n    author: author ?? '',\n    video: '',\n  };\n}\n","import { Box, Button, TextField } from '@mui/material';\nimport { AuthorAndVidEntity } from 'Scenes/Convert/Steps/AuthorAndVid';\nimport { fixDiacritics } from 'Scenes/Convert/Steps/utils/fixDiacritics';\nimport isValidUltrastarTxtFormat from 'Scenes/Convert/Steps/utils/validateUltrastar';\nimport importUltrastarEsSong from 'Scenes/Convert/importUltrastarEsSong';\nimport isNotesSection from 'Songs/utils/isNotesSection';\nimport { Song } from 'interfaces';\nimport { ChangeEventHandler, useMemo } from 'react';\n\nexport interface BasicDataEntity {\n  sourceUrl: string;\n  txtInput: string;\n}\n\ninterface Props {\n  shouldAutoImport: boolean;\n  onAutoImport: (data: AuthorAndVidEntity) => void;\n  onChange: (data: BasicDataEntity) => void;\n  data: BasicDataEntity;\n  isTxtRequired: boolean;\n  finalSong: Song;\n}\n\nexport default function BasicData(props: Props) {\n  const onSourceUrlEdit: ChangeEventHandler<HTMLInputElement> = async (e) => {\n    props.onChange({ ...props.data, sourceUrl: e.target.value });\n    if (props.shouldAutoImport) {\n      const data = await importUltrastarEsSong(e.target.value);\n\n      if (data) props.onAutoImport(data);\n    }\n  };\n\n  const fixAccents = (language: string) => {\n    props.onChange({\n      ...props.data,\n      txtInput: fixDiacritics(props.data.txtInput, language),\n    });\n  };\n\n  const isValidTxt = useMemo(() => isValidUltrastarTxtFormat(props.data.txtInput), [props.data.txtInput]);\n\n  const isTxtInputValid = !isValidTxt && props.data.txtInput.length > 0;\n\n  return (\n    <Box sx={{ display: 'flex', flexWrap: 'wrap' }} data-test=\"basic-data\">\n      {props.isTxtRequired && (\n        <div>\n          <h4>Where to find songs?</h4>\n          <p>\n            Any UltraStar compatible .txt file will do. You can find many already made songs on{' '}\n            <a href=\"https://usdb.animux.de/\" target=\"_blank\" rel=\"noreferrer\">\n              usdb.animux.de\n            </a>\n            {' or '}\n            <a href=\"https://ultrastar-es.org/en\" target=\"_blank\" rel=\"noreferrer\">\n              ultrastar-es.org\n            </a>\n            .<br />\n            <br />\n          </p>\n          <p>\n            You don't need audio/video files, you'll be able to search for appropriate YouTube video and synchronise the\n            lyrics to it in subsequent steps.\n          </p>\n        </div>\n      )}\n      <TextField\n        sx={{ mt: 2 }}\n        value={props.data.sourceUrl}\n        onChange={onSourceUrlEdit}\n        label=\"Source URL (optional)\"\n        fullWidth\n        size=\"small\"\n        data-test=\"source-url\"\n        helperText=\"The link to the page from which the .TXT file was downloaded.\"\n      />\n      {props.isTxtRequired ? (\n        <>\n          <TextField\n            error={isTxtInputValid}\n            helperText={isTxtInputValid ? \"This doesn't look like a valid UltraStar .TXT format\" : ''}\n            required\n            sx={{ mt: 2 }}\n            fullWidth\n            size=\"small\"\n            multiline\n            label=\"Song's UltraStar .TXT file contents\"\n            onChange={(e) =>\n              props.onChange({\n                ...props.data,\n                txtInput: e.target.value,\n              })\n            }\n            value={props.data.txtInput}\n            maxRows={15}\n            minRows={15}\n            InputProps={{\n              inputProps: {\n                'data-test': 'input-txt',\n                sx: { fontFamily: 'monospace' },\n              },\n            }}\n          />\n          <Box sx={{ display: 'flex', gap: 1, mt: 1 }}>\n            <Button onClick={() => fixAccents('polish')}>Fix 🇵🇱 Polish accents</Button>\n            <Button onClick={() => fixAccents('spanish')}>Fix 🇪🇸 Spanish accents</Button>\n          </Box>\n        </>\n      ) : (\n        <Box sx={{ display: 'flex', width: '100%', height: 500, overflow: 'auto' }}>\n          {props.finalSong?.tracks?.map((track, index) => (\n            <Box key={index} sx={{ flex: 1 }}>\n              <h4>{track.name ?? `Track #${index + 1}`}</h4>\n              {track.sections.filter(isNotesSection).map((section) => (\n                <p key={section.start}>{section.notes.map((note) => note.lyrics).join('')}</p>\n              ))}\n            </Box>\n          ))}\n        </Box>\n      )}\n    </Box>\n  );\n}\n","import { Button, Tooltip } from '@mui/material';\nimport { Pre } from 'Scenes/Convert/Elements';\nimport GameState from 'Scenes/Game/Singing/GameState/GameState';\nimport { PlayerRef } from 'Scenes/Game/Singing/Player';\nimport { seconds } from 'interfaces';\nimport { YouTubePlayer } from 'react-youtube';\n\nconst formatMs = (msec: number) => {\n  const minutes = Math.floor(msec / 1000 / 60);\n  const seconds = Math.floor(msec / 1000) - minutes * 60;\n  const miliseconds = Math.floor(msec % 1000);\n\n  return (\n    <Pre>\n      {String(minutes).padStart(2, '0')}:{String(seconds).padStart(2, '0')}.{String(miliseconds).padStart(3, '0')}\n    </Pre>\n  );\n};\n\nconst ytPlayerAdapter = (player: PlayerRef | YouTubePlayer): PlayerRef => {\n  if ('playVideo' in player) {\n    return {\n      play: () => player.playVideo(),\n      pause: () => player.pauseVideo(),\n      seekTo: (timeSec: seconds) => player.seekTo(timeSec, true),\n      setPlaybackSpeed: (rate) => player.setPlaybackRate(rate),\n    };\n  }\n\n  return player;\n};\n\nexport const msec = (ms: number | undefined, player?: PlayerRef | YouTubePlayer | null) => (\n  <Tooltip title=\"Click to play the moment just before this time\" placement={'top'} arrow>\n    <Button\n      sx={{ py: 0.15, mb: 0.5 }}\n      variant={'contained'}\n      size=\"small\"\n      disabled={!player}\n      onClick={\n        player\n          ? () => {\n              GameState.resetPlayerNotes();\n              ytPlayerAdapter(player).seekTo((ms ?? 0) / 1000 - 0.7);\n            }\n          : undefined\n      }>\n      {formatMs(ms ?? 0)}\n    </Button>\n  </Tooltip>\n);\n\nexport default formatMs;\n","import { Box, Slider } from '@mui/material';\nimport { SongMetadataEntity } from 'Scenes/Convert/Steps/SongMetadata';\nimport { msec } from 'Scenes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport backgroundMusic from 'assets/Funk Cool Groove (No Copyright Music) By Anwar Amr.ogg';\nimport { useEffect, useRef, useState } from 'react';\nimport YouTube from 'react-youtube';\n\ninterface Props {\n  onChange: (data: SongMetadataEntity) => void;\n  data: SongMetadataEntity;\n  videoId: string;\n  videoGap?: number;\n}\n\nconst MIN_PREVIEW_LENGTH = 10;\n\nexport default function PreviewAndVolumeAdjustment({ data, onChange, videoId, videoGap = 0 }: Props) {\n  const player = useRef<YouTube | null>(null);\n  const reference = useRef<HTMLAudioElement | null>(null);\n\n  const [initialised, setInitialised] = useState(false);\n  useEffect(() => {\n    (async () => {\n      if (data.volume === 0) {\n        onChange({ ...data, volume: 0.5 });\n        await player.current?.getInternalPlayer()?.setVolume(50);\n      } else {\n        await player.current?.getInternalPlayer()?.setVolume(data.volume * 100);\n      }\n      setInitialised(true);\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (!initialised) {\n      return;\n    }\n    const interval = setInterval(async () => {\n      const currentVolume = await player.current?.getInternalPlayer()?.getVolume();\n      if (currentVolume !== undefined && currentVolume !== data.volume * 100) {\n        onChange({ ...data, volume: currentVolume / 100 });\n      }\n    }, 500);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [initialised, data, onChange]);\n\n  const [isPlayerPlaying, setIsPlayerPlaying] = useState(false);\n  const [isReferencePlaying, setIsReferencePlaying] = useState(false);\n\n  const handleSliderChange = async (e: any, value: number | number[]) => {\n    await player.current?.getInternalPlayer()?.setVolume(+value * 100);\n    onChange({ ...data, volume: +value });\n  };\n\n  const previewStart = data.previewStart ?? videoGap + 60;\n  const previewEnd = data.previewEnd ?? previewStart + 30;\n  const [duration, setDuration] = useState<number | null>(null);\n  useEffect(() => {\n    if (reference.current) {\n      reference.current.currentTime = 35;\n    }\n    player.current?.getInternalPlayer()?.getDuration().then(setDuration);\n  }, []);\n\n  const internalPlayer = player.current?.getInternalPlayer();\n\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', width: '100%' }}>\n      <h3>\n        Set song preview (start: {msec(previewStart * 1000, internalPlayer)}, end:{' '}\n        {msec(previewEnd * 1000, internalPlayer)})\n      </h3>\n      <Box sx={{ display: 'flex', gap: 5 }}>\n        <Slider\n          data-test=\"song-preview\"\n          disabled={duration === null}\n          step={1}\n          value={[previewStart, previewEnd]}\n          max={(duration ?? 500) - MIN_PREVIEW_LENGTH}\n          onChange={(e, value) => {\n            const [start, end] = value as number[];\n            if (end - start > MIN_PREVIEW_LENGTH) {\n              onChange({\n                ...data,\n                previewStart: start,\n                previewEnd: end,\n              });\n            }\n          }}\n        />\n      </Box>\n\n      <h3>Adjust volume</h3>\n      <Box sx={{ display: 'flex', gap: 5 }}>\n        <Box>\n          <h4>Song</h4>\n          <YouTube\n            videoId={videoId}\n            ref={player}\n            onPlay={() => {\n              setIsPlayerPlaying(true);\n\n              if (isReferencePlaying) {\n                reference.current?.pause();\n                setTimeout(() => setIsReferencePlaying(true), 200);\n              }\n            }}\n            onPause={() => {\n              setIsReferencePlaying(false);\n            }}\n          />\n        </Box>\n        <Box>\n          <h4>Reference sound</h4>\n          <p>Use the slider below to make the video volume roughly the same as this music.</p>\n          <br />\n          <audio\n            ref={reference}\n            controls\n            src={backgroundMusic}\n            loop\n            onLoad={(e) => (e.currentTarget.currentTime = 35)}\n            onPlay={(e) => {\n              e.currentTarget.volume = 0.5;\n              setIsReferencePlaying(true);\n              if (isPlayerPlaying) {\n                player.current?.getInternalPlayer()?.pauseVideo();\n                setTimeout(() => setIsPlayerPlaying(true), 200);\n              }\n            }}\n            onPause={() => {\n              setIsReferencePlaying(false);\n              if (isPlayerPlaying) {\n                player.current?.getInternalPlayer()?.playVideo();\n              }\n            }}\n          />\n        </Box>\n      </Box>\n      <h4>Final Song Volume ({data.volume * 100})</h4>\n      <Box>\n        <Slider\n          data-test=\"volume\"\n          min={0.1}\n          max={1}\n          step={0.01}\n          aria-label=\"Volume\"\n          value={data.volume}\n          onChange={handleSliderChange}\n        />\n      </Box>\n    </Box>\n  );\n}\n","import { Autocomplete, Grid, TextField } from '@mui/material';\nimport { inputAction } from 'Scenes/Convert/Elements';\nimport PreviewAndVolumeAdjustment from 'Scenes/Convert/Steps/PreviewAndVolumeAdjustment';\nimport useSongIndex from 'Songs/hooks/useSongIndex';\nimport { useMemo } from 'react';\n\nexport interface SongMetadataEntity {\n  artist: string;\n  title: string;\n  year: string;\n  realBpm: string;\n  language: string[];\n  volume: number;\n  previewStart: number | undefined;\n  previewEnd: number | undefined;\n  genre?: string;\n  edition?: string;\n}\n\ninterface Props {\n  onChange: (data: SongMetadataEntity) => void;\n  data: SongMetadataEntity;\n  songTitle?: string;\n  songArtist?: string;\n  videoId: string;\n  videoGap?: number;\n}\n\nexport default function SongMetadata(props: Props) {\n  const songList = useSongIndex(true);\n\n  const definedLanguages = useMemo(\n    () => [\n      ...new Set(\n        songList.data\n          .map(({ language }) => (Array.isArray(language) ? language : [language]))\n          .flat()\n          .filter(Boolean),\n      ),\n    ],\n    [songList.data],\n  );\n  const definedGenres = useMemo(\n    () => [\n      ...new Set(\n        songList.data\n          .map((song) => song.genre)\n          .filter(Boolean)\n          .map((genre) => genre!.toLowerCase().replace(/\\b\\w/g, (l) => l.toUpperCase().trim())),\n      ),\n    ],\n    [songList.data],\n  );\n  const definedEditions = useMemo(\n    () =>\n      [\n        ...new Set(\n          songList.data\n            .map((song) => song.edition)\n            .filter(Boolean)\n            .map((edition) => edition!.toLowerCase().replace(/\\b\\w/g, (l) => l.toUpperCase().trim())),\n        ),\n      ].sort(),\n    [songList.data],\n  );\n\n  const searchGoogle = (phrase: string) => {\n    window.open(\n      `https://www.google.com/search?q=${encodeURIComponent(`${props.songArtist} ${props.songTitle} ${phrase}`)}`,\n      '_blank',\n    );\n  };\n  const isSearchableForVideo = !!props.songTitle && !!props.songArtist;\n  const isRealBpmInvalid = +(props.data?.realBpm ?? 0) > 200;\n\n  return (\n    <Grid container spacing={2} data-test=\"song-metadata\" sx={{ mt: 6 }}>\n      <Grid item xs={6}>\n        <TextField\n          value={props.data.artist}\n          onChange={(e) => props.onChange({ ...props.data, artist: e.target.value })}\n          label=\"Song artist\"\n          size=\"small\"\n          data-test=\"song-artist\"\n          required\n          fullWidth\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <TextField\n          value={props.data.title}\n          onChange={(e) => props.onChange({ ...props.data, title: e.target.value })}\n          label=\"Song title\"\n          fullWidth\n          size=\"small\"\n          required\n          data-test=\"song-title\"\n        />\n      </Grid>\n      <Grid item xs={3}>\n        <Autocomplete\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              event.preventDefault();\n            }\n          }}\n          freeSolo\n          disableClearable\n          options={definedGenres}\n          value={props.data.genre ?? ''}\n          onChange={(e, newValue) => props.onChange({ ...props.data, genre: newValue })}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              onBlur={(e) => props.onChange({ ...props.data, genre: e.target.value })}\n              label=\"Song genre (optional)\"\n              size=\"small\"\n              data-test=\"song-genre\"\n              fullWidth\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs={3}>\n        <Autocomplete\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              event.preventDefault();\n            }\n          }}\n          freeSolo\n          disableClearable\n          options={definedEditions}\n          value={props.data.edition ?? ''}\n          onChange={(e, newValue) => props.onChange({ ...props.data, edition: newValue })}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              onBlur={(e) => props.onChange({ ...props.data, edition: e.target.value })}\n              label=\"Song edition (optional)\"\n              size=\"small\"\n              data-test=\"song-edition\"\n              helperText=\"Songs with the same theme, e.g. 'Christmas'\"\n              fullWidth\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <Autocomplete\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              event.preventDefault();\n            }\n          }}\n          multiple\n          freeSolo\n          disableClearable\n          options={definedLanguages}\n          value={typeof props.data.language === 'string' ? [props.data.language] : props.data.language}\n          onChange={(e, newValue) => {\n            props.onChange({\n              ...props.data,\n              language: newValue ? (newValue.filter(Boolean) as string[]) : props.data.language,\n            });\n          }}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Song language\"\n              fullWidth\n              size=\"small\"\n              required={!props.data.language?.length}\n              data-test=\"song-language\"\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <TextField\n          data-test=\"release-year\"\n          value={props.data.year}\n          onChange={(e) => props.onChange({ ...props.data, year: e.target.value })}\n          label=\"Release year\"\n          helperText=\"The year the song was released. Click the 'Lookup' button to look for it on Google\"\n          fullWidth\n          size=\"small\"\n          required\n          {...inputAction(() => searchGoogle('release year'), isSearchableForVideo)}\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <TextField\n          data-test=\"song-bpm\"\n          value={props.data.realBpm}\n          onChange={(e) => props.onChange({ ...props.data, realBpm: e.target.value })}\n          label=\"Song (real) BPM\"\n          focused={isRealBpmInvalid ? true : undefined}\n          helperText={\n            isRealBpmInvalid ? (\n              <>\n                Usually songs don't have higher BPM than <b>200</b>. Make sure the value is correct\n              </>\n            ) : (\n              \"The actual tempo of the song. Click the 'Lookup' button to look for it on Google\"\n            )\n          }\n          color={isRealBpmInvalid ? 'warning' : undefined}\n          fullWidth\n          type=\"number\"\n          size=\"small\"\n          required\n          {...inputAction(() => searchGoogle('tempo'), isSearchableForVideo)}\n        />\n      </Grid>\n      <Grid item xs={12}></Grid>\n      <Grid item xs={12}>\n        <PreviewAndVolumeAdjustment {...props} />\n      </Grid>\n    </Grid>\n  );\n}\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getButtonGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiButtonGroup', slot);\n}\nconst buttonGroupClasses = generateUtilityClasses('MuiButtonGroup', ['root', 'contained', 'outlined', 'text', 'disableElevation', 'disabled', 'firstButton', 'fullWidth', 'vertical', 'grouped', 'groupedHorizontal', 'groupedVertical', 'groupedText', 'groupedTextHorizontal', 'groupedTextVertical', 'groupedTextPrimary', 'groupedTextSecondary', 'groupedOutlined', 'groupedOutlinedHorizontal', 'groupedOutlinedVertical', 'groupedOutlinedPrimary', 'groupedOutlinedSecondary', 'groupedContained', 'groupedContainedHorizontal', 'groupedContainedVertical', 'groupedContainedPrimary', 'groupedContainedSecondary', 'lastButton', 'middleButton']);\nexport default buttonGroupClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"disableElevation\", \"disableFocusRipple\", \"disableRipple\", \"fullWidth\", \"orientation\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport getValidReactChildren from '@mui/utils/getValidReactChildren';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport buttonGroupClasses, { getButtonGroupUtilityClass } from './buttonGroupClasses';\nimport ButtonGroupContext from './ButtonGroupContext';\nimport ButtonGroupButtonContext from './ButtonGroupButtonContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [{\n    [`& .${buttonGroupClasses.grouped}`]: styles.grouped\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.orientation)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}${capitalize(ownerState.orientation)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}${capitalize(ownerState.color)}`]\n  }, {\n    [`& .${buttonGroupClasses.firstButton}`]: styles.firstButton\n  }, {\n    [`& .${buttonGroupClasses.lastButton}`]: styles.lastButton\n  }, {\n    [`& .${buttonGroupClasses.middleButton}`]: styles.middleButton\n  }, styles.root, styles[ownerState.variant], ownerState.disableElevation === true && styles.disableElevation, ownerState.fullWidth && styles.fullWidth, ownerState.orientation === 'vertical' && styles.vertical];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color,\n    disabled,\n    disableElevation,\n    fullWidth,\n    orientation,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, orientation === 'vertical' && 'vertical', fullWidth && 'fullWidth', disableElevation && 'disableElevation'],\n    grouped: ['grouped', `grouped${capitalize(orientation)}`, `grouped${capitalize(variant)}`, `grouped${capitalize(variant)}${capitalize(orientation)}`, `grouped${capitalize(variant)}${capitalize(color)}`, disabled && 'disabled'],\n    firstButton: ['firstButton'],\n    lastButton: ['lastButton'],\n    middleButton: ['middleButton']\n  };\n  return composeClasses(slots, getButtonGroupUtilityClass, classes);\n};\nconst ButtonGroupRoot = styled('div', {\n  name: 'MuiButtonGroup',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'inline-flex',\n  borderRadius: (theme.vars || theme).shape.borderRadius\n}, ownerState.variant === 'contained' && {\n  boxShadow: (theme.vars || theme).shadows[2]\n}, ownerState.disableElevation && {\n  boxShadow: 'none'\n}, ownerState.fullWidth && {\n  width: '100%'\n}, ownerState.orientation === 'vertical' && {\n  flexDirection: 'column'\n}, {\n  [`& .${buttonGroupClasses.grouped}`]: _extends({\n    minWidth: 40,\n    '&:hover': _extends({}, ownerState.variant === 'contained' && {\n      boxShadow: 'none'\n    })\n  }, ownerState.variant === 'contained' && {\n    boxShadow: 'none'\n  }),\n  [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: _extends({}, ownerState.orientation === 'horizontal' && {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0\n  }, ownerState.orientation === 'vertical' && {\n    borderBottomRightRadius: 0,\n    borderBottomLeftRadius: 0\n  }, ownerState.variant === 'text' && ownerState.orientation === 'horizontal' && {\n    borderRight: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderRight: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'text' && ownerState.orientation === 'vertical' && {\n    borderBottom: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderBottom: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'text' && ownerState.color !== 'inherit' && {\n    borderColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)` : alpha(theme.palette[ownerState.color].main, 0.5)\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'horizontal' && {\n    borderRightColor: 'transparent'\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'vertical' && {\n    borderBottomColor: 'transparent'\n  }, ownerState.variant === 'contained' && ownerState.orientation === 'horizontal' && {\n    borderRight: `1px solid ${(theme.vars || theme).palette.grey[400]}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderRight: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'contained' && ownerState.orientation === 'vertical' && {\n    borderBottom: `1px solid ${(theme.vars || theme).palette.grey[400]}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderBottom: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'contained' && ownerState.color !== 'inherit' && {\n    borderColor: (theme.vars || theme).palette[ownerState.color].dark\n  }, {\n    '&:hover': _extends({}, ownerState.variant === 'outlined' && ownerState.orientation === 'horizontal' && {\n      borderRightColor: 'currentColor'\n    }, ownerState.variant === 'outlined' && ownerState.orientation === 'vertical' && {\n      borderBottomColor: 'currentColor'\n    })\n  }),\n  [`& .${buttonGroupClasses.lastButton},& .${buttonGroupClasses.middleButton}`]: _extends({}, ownerState.orientation === 'horizontal' && {\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0\n  }, ownerState.orientation === 'vertical' && {\n    borderTopRightRadius: 0,\n    borderTopLeftRadius: 0\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'horizontal' && {\n    marginLeft: -1\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'vertical' && {\n    marginTop: -1\n  })\n}));\nconst ButtonGroup = /*#__PURE__*/React.forwardRef(function ButtonGroup(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiButtonGroup'\n  });\n  const {\n      children,\n      className,\n      color = 'primary',\n      component = 'div',\n      disabled = false,\n      disableElevation = false,\n      disableFocusRipple = false,\n      disableRipple = false,\n      fullWidth = false,\n      orientation = 'horizontal',\n      size = 'medium',\n      variant = 'outlined'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    disabled,\n    disableElevation,\n    disableFocusRipple,\n    disableRipple,\n    fullWidth,\n    orientation,\n    size,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const context = React.useMemo(() => ({\n    className: classes.grouped,\n    color,\n    disabled,\n    disableElevation,\n    disableFocusRipple,\n    disableRipple,\n    fullWidth,\n    size,\n    variant\n  }), [color, disabled, disableElevation, disableFocusRipple, disableRipple, fullWidth, size, variant, classes.grouped]);\n  const validChildren = getValidReactChildren(children);\n  const childrenCount = validChildren.length;\n  const getButtonPositionClassName = index => {\n    const isFirstButton = index === 0;\n    const isLastButton = index === childrenCount - 1;\n    if (isFirstButton && isLastButton) {\n      return '';\n    }\n    if (isFirstButton) {\n      return classes.firstButton;\n    }\n    if (isLastButton) {\n      return classes.lastButton;\n    }\n    return classes.middleButton;\n  };\n  return /*#__PURE__*/_jsx(ButtonGroupRoot, _extends({\n    as: component,\n    role: \"group\",\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(ButtonGroupContext.Provider, {\n      value: context,\n      children: validChildren.map((child, index) => {\n        return /*#__PURE__*/_jsx(ButtonGroupButtonContext.Provider, {\n          value: getButtonPositionClassName(index),\n          children: child\n        }, index);\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? ButtonGroup.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, no elevation is used.\n   * @default false\n   */\n  disableElevation: PropTypes.bool,\n  /**\n   * If `true`, the button keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the button ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * If `true`, the buttons will take up the full width of its container.\n   * @default false\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * The component orientation (layout flow direction).\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense button styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'outlined'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['contained', 'outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default ButtonGroup;","import { Box, Button, ButtonGroup, Divider, Typography } from '@mui/material';\nimport { useState } from 'react';\nimport { Pre } from 'Scenes/Convert/Elements';\nimport formatMs from 'Scenes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport { PlayerRef } from 'Scenes/Game/Singing/Player';\n\ninterface Props {\n  player: PlayerRef;\n  currentTime: number;\n  effectsEnabled: boolean;\n  onEffectsToggle: () => void;\n}\n\nexport default function AdjustPlayback({ player, currentTime, effectsEnabled, onEffectsToggle }: Props) {\n  const seekBy = (bySec: number) => player.seekTo((currentTime + bySec) / 1000);\n  const [currentSpeed, setCurrentSpeed] = useState(1);\n\n  return (\n    <>\n      <Box sx={{ mb: 2 }}>\n        <Typography variant={'h6'} data-test=\"current-time\">\n          Current time: {formatMs(currentTime)} (<Pre>{Math.round(currentTime)}</Pre> ms)\n        </Typography>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <ButtonGroup variant=\"contained\" sx={{ display: 'flex', mt: 1, flex: 1 }}>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-10_000)} data-test=\"seek-10s\">\n              -10\n            </Button>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-5_000)} data-test=\"seek-5s\">\n              -5\n            </Button>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-1_000)} data-test=\"seek-1s\">\n              -1\n            </Button>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(-500)} data-test=\"seek-0.5s\">\n              -0.5\n            </Button>\n          </ButtonGroup>\n          <Divider />\n          <ButtonGroup variant=\"contained\" sx={{ display: 'flex', mt: 1, flex: 1 }}>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+500)} data-test=\"seek+0.5s\">\n              +0.5\n            </Button>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+1_000)} data-test=\"seek+1s\">\n              +1\n            </Button>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+5_000)} data-test=\"seek+5s\">\n              +5\n            </Button>\n            <Button sx={{ flex: 1, px: 1 }} onClick={() => seekBy(+10_000)} data-test=\"seek+10s\">\n              +10\n            </Button>\n          </ButtonGroup>\n        </Box>\n      </Box>\n      <Box sx={{ mb: 2 }}>\n        <Typography variant={'h6'}>\n          Playback speed: <Pre data-test=\"current-speed\">{currentSpeed * 100}%</Pre>\n        </Typography>\n        <ButtonGroup variant=\"contained\" sx={{ display: 'flex', mt: 1 }}>\n          {[0.25, 0.5, 0.75, 1, 1.25, 1.5, 2].map((speed) => (\n            <Button\n              data-test={`speed-${speed}`}\n              key={speed}\n              sx={{ flex: 1 }}\n              onClick={() => {\n                setCurrentSpeed(speed);\n                player.setPlaybackSpeed(speed);\n              }}\n              disabled={currentSpeed === speed}>\n              {speed * 100}%\n            </Button>\n          ))}\n        </ButtonGroup>\n      </Box>\n    </>\n  );\n}\n","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"alignItems\", \"autoFocus\", \"component\", \"children\", \"dense\", \"disableGutters\", \"divider\", \"focusVisibleClassName\", \"selected\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ButtonBase from '../ButtonBase';\nimport useEnhancedEffect from '../utils/useEnhancedEffect';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport listItemButtonClasses, { getListItemButtonUtilityClass } from './listItemButtonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes,\n    dense,\n    disabled,\n    disableGutters,\n    divider,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', divider && 'divider', disabled && 'disabled', alignItems === 'flex-start' && 'alignItemsFlexStart', selected && 'selected']\n  };\n  const composedClasses = composeClasses(slots, getListItemButtonUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst ListItemButtonRoot = styled(ButtonBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiListItemButton',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexGrow: 1,\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  minWidth: 0,\n  boxSizing: 'border-box',\n  textAlign: 'left',\n  paddingTop: 8,\n  paddingBottom: 8,\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  '&:hover': {\n    textDecoration: 'none',\n    backgroundColor: (theme.vars || theme).palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${listItemButtonClasses.selected}`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n    [`&.${listItemButtonClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  },\n  [`&.${listItemButtonClasses.selected}:hover`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  },\n  [`&.${listItemButtonClasses.focusVisible}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.focus\n  },\n  [`&.${listItemButtonClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  }\n}, ownerState.divider && {\n  borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`,\n  backgroundClip: 'padding-box'\n}, ownerState.alignItems === 'flex-start' && {\n  alignItems: 'flex-start'\n}, !ownerState.disableGutters && {\n  paddingLeft: 16,\n  paddingRight: 16\n}, ownerState.dense && {\n  paddingTop: 4,\n  paddingBottom: 4\n}));\nconst ListItemButton = /*#__PURE__*/React.forwardRef(function ListItemButton(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemButton'\n  });\n  const {\n      alignItems = 'center',\n      autoFocus = false,\n      component = 'div',\n      children,\n      dense = false,\n      disableGutters = false,\n      divider = false,\n      focusVisibleClassName,\n      selected = false,\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const context = React.useContext(ListContext);\n  const childContext = React.useMemo(() => ({\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  }), [alignItems, context.dense, dense, disableGutters]);\n  const listItemRef = React.useRef(null);\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a ListItemButton whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  const ownerState = _extends({}, props, {\n    alignItems,\n    dense: childContext.dense,\n    disableGutters,\n    divider,\n    selected\n  });\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsx(ListItemButtonRoot, _extends({\n      ref: handleRef,\n      href: other.href || other.to\n      // `ButtonBase` processes `href` or `to` if `component` is set to 'button'\n      ,\n      component: (other.href || other.to) && component === 'div' ? 'button' : component,\n      focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n      ownerState: ownerState,\n      className: clsx(classes.root, className)\n    }, other, {\n      classes: classes,\n      children: children\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemButton.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n  /**\n   * If `true`, the list item is focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   * @default false\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n  /**\n   * @ignore\n   */\n  href: PropTypes.string,\n  /**\n   * Use to apply selected styling.\n   * @default false\n   */\n  selected: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemButton;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"disableTypography\", \"inset\", \"primary\", \"primaryTypographyProps\", \"secondary\", \"secondaryTypographyProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport Typography from '../Typography';\nimport ListContext from '../List/ListContext';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport listItemTextClasses, { getListItemTextUtilityClass } from './listItemTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    inset,\n    primary,\n    secondary,\n    dense\n  } = ownerState;\n  const slots = {\n    root: ['root', inset && 'inset', dense && 'dense', primary && secondary && 'multiline'],\n    primary: ['primary'],\n    secondary: ['secondary']\n  };\n  return composeClasses(slots, getListItemTextUtilityClass, classes);\n};\nconst ListItemTextRoot = styled('div', {\n  name: 'MuiListItemText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${listItemTextClasses.primary}`]: styles.primary\n    }, {\n      [`& .${listItemTextClasses.secondary}`]: styles.secondary\n    }, styles.root, ownerState.inset && styles.inset, ownerState.primary && ownerState.secondary && styles.multiline, ownerState.dense && styles.dense];\n  }\n})(({\n  ownerState\n}) => _extends({\n  flex: '1 1 auto',\n  minWidth: 0,\n  marginTop: 4,\n  marginBottom: 4\n}, ownerState.primary && ownerState.secondary && {\n  marginTop: 6,\n  marginBottom: 6\n}, ownerState.inset && {\n  paddingLeft: 56\n}));\nconst ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemText'\n  });\n  const {\n      children,\n      className,\n      disableTypography = false,\n      inset = false,\n      primary: primaryProp,\n      primaryTypographyProps,\n      secondary: secondaryProp,\n      secondaryTypographyProps\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    dense\n  } = React.useContext(ListContext);\n  let primary = primaryProp != null ? primaryProp : children;\n  let secondary = secondaryProp;\n  const ownerState = _extends({}, props, {\n    disableTypography,\n    inset,\n    primary: !!primary,\n    secondary: !!secondary,\n    dense\n  });\n  const classes = useUtilityClasses(ownerState);\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: dense ? 'body2' : 'body1',\n      className: classes.primary,\n      component: primaryTypographyProps != null && primaryTypographyProps.variant ? undefined : 'span',\n      display: \"block\"\n    }, primaryTypographyProps, {\n      children: primary\n    }));\n  }\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/_jsx(Typography, _extends({\n      variant: \"body2\",\n      className: classes.secondary,\n      color: \"text.secondary\",\n      display: \"block\"\n    }, secondaryTypographyProps, {\n      children: secondary\n    }));\n  }\n  return /*#__PURE__*/_jsxs(ListItemTextRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: [primary, secondary]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemText.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Alias for the `primary` prop.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the children won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `children` (or `primary`) text, and optional `secondary` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n  /**\n   * If `true`, the children are indented.\n   * This should be used if there is no left avatar or left icon.\n   * @default false\n   */\n  inset: PropTypes.bool,\n  /**\n   * The main content element.\n   */\n  primary: PropTypes.node,\n  /**\n   * These props will be forwarded to the primary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  primaryTypographyProps: PropTypes.object,\n  /**\n   * The secondary content element.\n   */\n  secondary: PropTypes.node,\n  /**\n   * These props will be forwarded to the secondary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  secondaryTypographyProps: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemText;","import { Section } from 'interfaces';\nimport { useMemo } from 'react';\n\nexport default function useCurrentSectionIndex(sections: Section[], currentBeat: number) {\n  const wholeBeat = Math.floor(currentBeat);\n  return useMemo(\n    () =>\n      sections.findIndex((section, index) => {\n        if (wholeBeat < 0) return true;\n        if (wholeBeat < section.start) return false;\n        if (index === sections.length - 1) return true;\n        if (sections[index + 1].start > wholeBeat) {\n          return true;\n        }\n        return false;\n      }),\n    [wholeBeat, sections],\n  );\n}\n","import styled from '@emotion/styled';\nimport {\n  Box,\n  Button,\n  ButtonGroup,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemText,\n  Stack,\n  TextField,\n  Typography,\n} from '@mui/material';\nimport { msec } from 'Scenes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport GameState from 'Scenes/Game/Singing/GameState/GameState';\nimport getCurrentBeat from 'Scenes/Game/Singing/GameState/Helpers/getCurrentBeat';\nimport useCurrentSectionIndex from 'Scenes/Game/Singing/Hooks/useCurrentSectionIndex';\nimport { PlayerRef } from 'Scenes/Game/Singing/Player';\nimport isNotesSection from 'Songs/utils/isNotesSection';\nimport { getFirstNoteStartFromSections } from 'Songs/utils/notesSelectors';\nimport { Song } from 'interfaces';\nimport { useEffect, useState } from 'react';\n\ninterface Props {\n  song: Song;\n  currentTime: number;\n  beatLength: number;\n  player: PlayerRef;\n  onRecordChange: (changeRecords: ChangeRecord[]) => void;\n  onTrackNameChange: (track: number, newName: string) => void;\n}\n\ninterface ChangeRecordBase {\n  track: number;\n  section: number;\n}\n\ninterface ChangeRecordShift extends ChangeRecordBase {\n  track: number;\n  section: number;\n  type: 'shift';\n  shift: number;\n}\n\ninterface ChangeRecordDelete extends ChangeRecordBase {\n  track: number;\n  section: number;\n  type: 'delete';\n}\n\nexport type ChangeRecord = ChangeRecordDelete | ChangeRecordShift;\n\nexport default function EditSection({\n  song,\n  currentTime,\n  beatLength,\n  player,\n  onRecordChange,\n  onTrackNameChange,\n}: Props) {\n  const [track, setTrack] = useState(0);\n  const [selectedSection, setSelectedSection] = useState(-1);\n  const [changeRecords, setChangeRecords] = useState<ChangeRecord[]>([]);\n  const currentBeat = getCurrentBeat(currentTime, beatLength, song.gap);\n\n  const sections = song.tracks[track].sections.filter(isNotesSection);\n\n  const currentSectionIndex = useCurrentSectionIndex(sections, currentBeat);\n\n  const onSectionClick = (index: number) => {\n    setSelectedSection(index);\n    GameState.resetPlayerNotes();\n    player.seekTo((sections[index].start * beatLength + song.gap) / 1000);\n  };\n\n  const deleteSection = () => {\n    setChangeRecords((records) => [...records, { type: 'delete', section: selectedSection, track }]);\n    if (selectedSection === sections.length - 1) {\n      setSelectedSection((selected) => selected - 1);\n    }\n  };\n\n  const shiftSection = (newStart: number) => {\n    setChangeRecords((records) => {\n      const lastRecord = records.at(-1);\n\n      if (\n        lastRecord &&\n        lastRecord.type === 'shift' &&\n        lastRecord.track === track &&\n        lastRecord.section === selectedSection\n      ) {\n        const newRecords = [...records];\n        (newRecords.at(-1)! as ChangeRecordShift).shift = newStart;\n\n        return newRecords;\n      }\n\n      return [...records, { type: 'shift', section: selectedSection, track, shift: newStart }];\n    });\n  };\n\n  useEffect(() => {\n    onRecordChange(changeRecords);\n  }, [onRecordChange, changeRecords]);\n\n  return (\n    <SectionEdtiorContainer>\n      <Stack direction=\"row\">\n        <Typography variant={'h6'} mb={0} sx={{ flex: 1 }}>\n          Edit verses\n          {song.tracks.length > 1 && (\n            <ButtonGroup variant={'contained'} sx={{ ml: 2 }} size={'small'}>\n              {song.tracks.map((_, index) => (\n                <Button\n                  key={index}\n                  onClick={() => setTrack(index)}\n                  disabled={track === index}\n                  data-test={`track-${index + 1}`}>\n                  Track {index + 1}\n                </Button>\n              ))}\n            </ButtonGroup>\n          )}\n        </Typography>\n        <TextField\n          placeholder=\"Set track name\"\n          sx={{ flex: 1 }}\n          size=\"small\"\n          value={song.tracks[track]?.name ?? ''}\n          onChange={(e) => onTrackNameChange(track, e.target.value)}\n          data-test=\"track-name\"\n        />\n      </Stack>\n      <Stack direction=\"row\" spacing={2} sx={{ height: '400px' }}>\n        <List sx={{ overflowY: 'auto' }}>\n          {sections.map((section, index) => (\n            <ListItem key={section.start} disablePadding data-test={`section-${index}`}>\n              <ListItemButton onClick={() => onSectionClick(index)} selected={selectedSection === index}>\n                <ListItemText\n                  primaryTypographyProps={{\n                    fontWeight: index === currentSectionIndex ? 'bold' : 'normal',\n                  }}\n                  primary={isNotesSection(section) ? section.notes.map((note) => note.lyrics).join('') : '[pause]'}\n                />\n              </ListItemButton>\n            </ListItem>\n          ))}\n        </List>\n        <SectionEditForm>\n          {selectedSection > -1 && (\n            <>\n              {selectedSection === 0 && (\n                <h3 data-test={`use-gap-info`}>Use gap shift to change when this section starts</h3>\n              )}\n              {selectedSection > 0 && (\n                <>\n                  <TextField\n                    data-test=\"change-start-beat\"\n                    size={'small'}\n                    type=\"number\"\n                    onChange={(e) => shiftSection(+e.target.value)}\n                    value={getFirstNoteStartFromSections([sections[selectedSection]])}\n                    label=\"Change start beat\"\n                    InputProps={{\n                      inputProps: {\n                        step: 1,\n                      },\n                    }}\n                    fullWidth\n                    sx={{ mb: 2 }}\n                    helperText={\n                      <>\n                        Timestamp:{' '}\n                        {msec(\n                          getFirstNoteStartFromSections([sections[selectedSection]]) * beatLength + song.gap,\n                          player,\n                        )}\n                      </>\n                    }\n                  />\n                </>\n              )}\n              <Button variant=\"contained\" color={'error'} onClick={deleteSection} fullWidth data-test=\"delete-section\">\n                Delete section\n              </Button>\n            </>\n          )}\n        </SectionEditForm>\n        <SectionChangeList>\n          <Box sx={{ overflowY: 'auto', maxHeight: '34rem' }} data-test=\"change-list\">\n            {changeRecords.map((change, index) => {\n              let message = '';\n              let Component = SectionChangeDelete;\n              if (change.type === 'delete') {\n                Component = SectionChangeDelete;\n                message = `Deleted`;\n              } else if (change.type === 'shift') {\n                Component = SectionChangeShift;\n                message = `Start -> ${change.shift}`;\n              }\n\n              return (\n                <Component key={index}>\n                  <strong>\n                    Track: {change.track + 1}, Section: {change.section + 1}, {message}\n                  </strong>\n                </Component>\n              );\n            })}\n          </Box>\n          {changeRecords.length > 0 && (\n            <Button\n              data-test=\"undo-change\"\n              variant=\"contained\"\n              color={'warning'}\n              onClick={() => setChangeRecords((records) => records.filter((_, index) => index !== records.length - 1))}\n              fullWidth>\n              Undo last change\n            </Button>\n          )}\n        </SectionChangeList>\n      </Stack>\n    </SectionEdtiorContainer>\n  );\n}\n\nconst SectionChangeList = styled.div`\n  flex: 1;\n`;\n\nconst ChangeEntry = styled.div`\n  padding: 0.5rem;\n`;\n\nconst SectionChangeDelete = styled(ChangeEntry)`\n  color: red;\n`;\n\nconst SectionChangeShift = styled(ChangeEntry)`\n  color: #0059ff;\n`;\n\nconst Editor = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst SectionEdtiorContainer = styled.div``;\n\nconst SectionEditForm = styled.div`\n  flex: 1;\n`;\n\nconst SectionList = styled.div`\n  flex: 1;\n  overflow-y: auto;\n`;\nconst SectionListEntry = styled.div<{ active: boolean; selected: boolean }>`\n  font-weight: ${(props) => (props.active ? 'bold' : 'normal')};\n\n  border: 0.1rem solid;\n  border-color: ${(props) => (props.selected ? 'black' : 'white')};\n\n  padding: 1rem;\n`;\n","import { Song } from 'interfaces';\nimport { PlayerRef } from 'Scenes/Game/Singing/Player';\n\ninterface Props {\n  player: PlayerRef;\n  song: Song;\n  beatLength: number;\n}\n\nexport default function ListTracks({ song, player, beatLength }: Props) {\n  return (\n    <>\n      {/*{song.tracks.map(({ sections }, index) => {*/}\n      {/*    const notesSections = sections.filter(isNotesSection);*/}\n      {/*    const firstNote = notesSections[0].notes[0];*/}\n\n      {/*    const lastNote = notesSections.at(-1)?.notes.at(-1);*/}\n\n      {/*    if (!firstNote || !lastNote || !beatLength) return null;*/}\n\n      {/*    return (*/}\n      {/*        <EditorRow key={index}>*/}\n      {/*            <strong>Track #{index + 1} - </strong>*/}\n      {/*            Start: {msec(firstNote.start * beatLength + song.gap, player)}, end:{' '}*/}\n      {/*            {msec(lastNote.start * beatLength + song.gap, player)}*/}\n      {/*        </EditorRow>*/}\n      {/*    );*/}\n      {/*})}*/}\n    </>\n  );\n}\n","import { Song } from 'interfaces';\nimport isNotesSection from 'Songs/utils/isNotesSection';\n\nexport default function calculateProperBPM(desiredEndMs: number, song: Song) {\n  const notesSections = song.tracks[0].sections.filter(isNotesSection);\n\n  const lastNote = notesSections.at(-1)?.notes.at(-1)!;\n\n  const desiredLengthMs = desiredEndMs - song.gap;\n  const bpmLength = lastNote.start + lastNote.length;\n\n  return Number((60_000 / ((desiredLengthMs / bpmLength) * song.bar)).toFixed(2));\n}\n","import { Box, TextField } from '@mui/material';\nimport { Pre } from 'Scenes/Convert/Elements';\nimport calculateProperBPM from 'Scenes/Convert/calculateProperBpm';\nimport beatToMs from 'Scenes/Game/Singing/GameState/Helpers/beatToMs';\nimport { PlayerRef } from 'Scenes/Game/Singing/Player';\nimport { getLastNoteEndFromSections } from 'Songs/utils/notesSelectors';\nimport { Song } from 'interfaces';\nimport { useState } from 'react';\n\ninterface Props {\n  onChange: (bpm: number) => void;\n  current: number;\n  player: PlayerRef;\n  song: Song;\n}\n\nexport default function ManipulateBpm({ current, onChange, player, song }: Props) {\n  const lastNoteEndBeat = Math.max(...song.tracks.map((track) => getLastNoteEndFromSections(track.sections)));\n  const lastNoteEndMs = beatToMs(lastNoteEndBeat, song) + song.gap;\n  const [desiredLastNoteEnd, setDesiredLastNoteEnd] = useState<number>(Math.round(lastNoteEndMs));\n\n  return (\n    <Box sx={{ display: 'flex', gap: 2, mb: 2 }}>\n      <TextField\n        data-test=\"desired-end\"\n        size={'small'}\n        type=\"number\"\n        value={desiredLastNoteEnd}\n        onChange={(e) => setDesiredLastNoteEnd(+e.target.value)}\n        label=\"Desired last note end time (in milliseconds)\"\n        sx={{ flex: 1 }}\n        helperText={\n          !!desiredLastNoteEnd ? (\n            <>\n              Estimated proper Tempo (BPM) of the lyrics:{' '}\n              <Pre data-test=\"desired-bpm\">{calculateProperBPM(desiredLastNoteEnd, song)}</Pre>\n            </>\n          ) : (\n            ' '\n          )\n        }\n      />\n      <TextField\n        data-test=\"change-bpm\"\n        size={'small'}\n        type=\"number\"\n        value={current}\n        onChange={(e) => onChange(+e.target.value)}\n        label=\"Tempo (BPM) of the lyrics\"\n        sx={{ flex: 0.5 }}\n        helperText={' '}\n        InputProps={{\n          inputProps: {\n            step: '0.1',\n          },\n        }}\n      />\n    </Box>\n  );\n}\n","import { Box, Button, ButtonGroup, TextField, Typography } from '@mui/material';\nimport { msec } from 'Scenes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport { PlayerRef } from 'Scenes/Game/Singing/Player';\n\ninterface Props {\n  onChange: (shift: number) => void;\n  current: number;\n  player: PlayerRef;\n  finalGap: number;\n}\n\nexport default function ShiftGap({ current, onChange, player, finalGap }: Props) {\n  return (\n    <Box sx={{ flex: 1 }}>\n      <Typography variant={'h6'}>Lyrics Gap shift (final: {msec(finalGap, player)})</Typography>\n      <Box sx={{ display: 'flex', gap: 1, mt: 1 }}>\n        <ButtonGroup sx={{ flex: 1 }}>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => onChange(current - 1000)} data-test=\"shift-gap-1s\">\n            -1000\n          </Button>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => onChange(current - 500)} data-test=\"shift-gap-0.5s\">\n            -500\n          </Button>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => onChange(current - 50)} data-test=\"shift-gap-0.05s\">\n            -50\n          </Button>\n        </ButtonGroup>\n        <TextField\n          sx={{ py: 0, flex: 1 }}\n          size={'small'}\n          type=\"text\"\n          value={current}\n          onChange={(e) => onChange(+e.target.value)}\n          label=\"Miliseconds\"\n          data-test=\"shift-gap\"\n        />\n        <ButtonGroup sx={{ flex: 1 }}>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => onChange(current + 50)} data-test=\"shift-gap+0.05s\">\n            +50\n          </Button>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => onChange(current + 500)} data-test=\"shift-gap+0.5s\">\n            +500\n          </Button>\n          <Button sx={{ flex: 1, px: 1 }} onClick={() => onChange(current + 1000)} data-test=\"shift-gap+1s\">\n            +1000\n          </Button>\n        </ButtonGroup>\n      </Box>\n    </Box>\n  );\n}\n","import { Box, Button, ButtonGroup, TextField, Typography } from '@mui/material';\nimport { msec } from 'Scenes/Convert/Steps/SyncLyricsToVideo/Helpers/formatMs';\nimport { PlayerRef } from 'Scenes/Game/Singing/Player';\nimport { seconds } from 'interfaces';\n\ninterface Props {\n  onChange: (shift: seconds) => void;\n  current: seconds;\n  player: PlayerRef;\n  finalGap: number | undefined;\n}\n\nexport default function ShiftVideoGap({ current, onChange, player, finalGap }: Props) {\n  return (\n    <Box sx={{ flex: 1 }}>\n      <Typography variant={'h6'}>Video Gap shift (final: {msec((finalGap ?? 0) * 1000, player)})</Typography>\n      <Box sx={{ display: 'flex', gap: 1, mt: 1 }}>\n        <ButtonGroup sx={{ flex: 1 }}>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current - 10)} data-test=\"shift-video-gap-10s\">\n            -10\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current - 5)} data-test=\"shift-video-gap-5s\">\n            -5\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current - 1)} data-test=\"shift-video-gap-1s\">\n            -1\n          </Button>\n        </ButtonGroup>\n        <TextField\n          data-test=\"shift-video-gap\"\n          sx={{ py: 0, flex: 1 }}\n          size={'small'}\n          type=\"text\"\n          value={current}\n          onChange={(e) => onChange(+e.target.value)}\n          label=\"Seconds\"\n          // helperText={}\n        />\n        <ButtonGroup sx={{ flex: 1 }}>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current + 1)} data-test=\"shift-video-gap+1s\">\n            +1\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current + 5)} data-test=\"shift-video-gap+5s\">\n            +5\n          </Button>\n          <Button sx={{ flex: 1, px: 1.25 }} onClick={() => onChange(current + 10)} data-test=\"shift-video-gap+10s\">\n            +10\n          </Button>\n        </ButtonGroup>\n      </Box>\n    </Box>\n  );\n}\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","import styled from '@emotion/styled';\nimport { Box, Grid, Typography } from '@mui/material';\nimport AdjustPlayback from 'Scenes/Convert/Steps/SyncLyricsToVideo/Components/AdjustPlayback';\nimport EditSection, { ChangeRecord } from 'Scenes/Convert/Steps/SyncLyricsToVideo/Components/EditSection';\nimport ListTracks from 'Scenes/Convert/Steps/SyncLyricsToVideo/Components/ListTracks';\nimport ManipulateBpm from 'Scenes/Convert/Steps/SyncLyricsToVideo/Components/ManipulateBpm';\nimport ShiftGap from 'Scenes/Convert/Steps/SyncLyricsToVideo/Components/ShiftGap';\nimport ShiftVideoGap from 'Scenes/Convert/Steps/SyncLyricsToVideo/Components/ShiftVideoGap';\nimport Player, { PlayerRef } from 'Scenes/Game/Singing/Player';\nimport getSongBeatLength from 'Songs/utils/getSongBeatLength';\nimport isNotesSection from 'Songs/utils/isNotesSection';\nimport { getFirstNoteStartFromSections } from 'Songs/utils/notesSelectors';\nimport addHeadstart from 'Songs/utils/processSong/addHeadstart';\nimport normaliseGap from 'Songs/utils/processSong/normaliseGap';\nimport normaliseLyricSpaces from 'Songs/utils/processSong/normaliseLyricSpaces';\nimport normaliseSectionPaddings from 'Songs/utils/processSong/normaliseSectionPaddings';\nimport { GAME_MODE, SingSetup, Song } from 'interfaces';\nimport { cloneDeep } from 'lodash-es';\nimport { useEffect, useMemo, useRef, useState } from 'react';\n\ninterface Props {\n  song: Song;\n  onUpdate?: (song: Song) => void;\n  visible: boolean;\n}\n\nconst shiftGap = (song: Song, gapShift: number): Song => ({ ...song, gap: song.gap + gapShift });\nconst shiftVideoGap = (song: Song, gapShift: number): Song => ({ ...song, videoGap: (song.videoGap ?? 0) + gapShift });\nconst setBpm = (song: Song, bpm: number): Song => ({ ...song, bpm });\n\nconst applyChanges = (song: Song, changes: ChangeRecord[]) => ({\n  ...song,\n  tracks: song.tracks.map((track, trackIndex) => {\n    const changeList = changes.filter((change) => change.track === trackIndex);\n\n    let sections = [...track.sections].filter(isNotesSection);\n\n    changeList.forEach((change) => {\n      if (change.type === 'delete') {\n        sections = sections.filter((_, index) => index !== change.section);\n      } else if (change.type === 'shift') {\n        const shift = change.shift - getFirstNoteStartFromSections([sections[change.section]]);\n        sections = sections.map((section, index) => {\n          if (index < change.section) return section;\n\n          return { ...section, notes: section.notes.map((note) => ({ ...note, start: note.start + shift })) };\n        });\n      }\n    });\n\n    return { ...track, sections };\n  }),\n});\n\nconst applyTrackNames = (song: Song, trackNames: (string | undefined)[]): Song => ({\n  ...song,\n  tracks: song.tracks.map((track, index) => ({\n    ...track,\n    name: trackNames[index] ?? track.name,\n  })),\n});\n\nconst playerWidth = 800;\nconst playerHeight = (playerWidth / 16) * 9;\n\nexport default function EditSong({ song, onUpdate, visible }: Props) {\n  const player = useRef<PlayerRef | null>(null);\n  const [currentTime, setCurrentTime] = useState<number>(0);\n\n  const [gapShift, setGapShift] = useState<number>(0);\n  const [videoGapShift, setVideoGapShift] = useState<number>(0);\n  const [overrideBpm, setOverrideBpm] = useState<number>(song.bpm);\n  const [playerKey, setPlayerKey] = useState(0);\n  const [changeRecords, setChangeRecords] = useState<ChangeRecord[]>([]);\n  const [effectsEnabled, setEffectsEnabled] = useState<boolean>(false);\n  const [trackNames, setTrackNames] = useState(song.tracks.map((track) => track.name ?? undefined));\n\n  const newSong = useMemo(() => {\n    let processed = cloneDeep(song);\n\n    processed = normaliseGap(processed);\n    processed = addHeadstart(processed);\n    processed = normaliseSectionPaddings(processed);\n    processed = shiftGap(processed, gapShift);\n    processed = shiftVideoGap(processed, videoGapShift);\n    processed = setBpm(processed, overrideBpm);\n    processed = applyChanges(processed, changeRecords);\n    processed = applyTrackNames(processed, trackNames);\n    processed = normaliseSectionPaddings(processed);\n    processed = normaliseLyricSpaces(processed);\n\n    return processed;\n  }, [gapShift, videoGapShift, song, overrideBpm, changeRecords, trackNames]);\n\n  useEffect(() => {\n    onUpdate?.(newSong);\n  }, [onUpdate, newSong]);\n\n  const singSetup = useMemo<SingSetup>(\n    () => ({\n      id: 'test',\n      mode: GAME_MODE.DUEL,\n      players: [\n        { number: 0, track: 0 },\n        { number: 1, track: song.tracks.length - 1 },\n      ],\n      tolerance: 6,\n    }),\n    [song],\n  );\n\n  let beatLength: number | undefined;\n  beatLength = getSongBeatLength(newSong);\n\n  useEffect(() => {\n    if (!visible) {\n      player.current?.pause();\n    }\n  }, [visible]);\n\n  return (\n    <Grid container spacing={2} sx={{ display: visible ? undefined : 'none' }}>\n      <Grid item xs={8} data-test=\"player-container\">\n        <Box sx={{ width: playerWidth, height: playerHeight }}>\n          <Player\n            key={playerKey}\n            song={newSong}\n            showControls\n            autoplay={false}\n            width={playerWidth}\n            height={playerHeight}\n            ref={player}\n            onCurrentTimeUpdate={setCurrentTime}\n            players={singSetup.players}\n            effectsEnabled={effectsEnabled}\n            singSetup={singSetup}\n            onSongEnd={() => undefined}\n          />\n        </Box>\n      </Grid>\n      <Grid item xs={4}>\n        <Typography variant={'h5'} mb={2}>\n          Playback controls\n        </Typography>\n        {player.current && (\n          <AdjustPlayback\n            player={player.current}\n            currentTime={currentTime}\n            effectsEnabled={effectsEnabled}\n            onEffectsToggle={() => setEffectsEnabled((current) => !current)}\n          />\n        )}\n        {!player.current && <h2>Start the song to see the manipulation form</h2>}\n      </Grid>\n      {player.current && (\n        <>\n          <Grid item xs={8}>\n            {/*<Typography variant={'h5'} mb={2}>*/}\n            {/*    Basic adjustments*/}\n            {/*</Typography>*/}\n            <Box sx={{ display: 'flex', gap: 5, flex: 1 }}>\n              <ShiftVideoGap\n                player={player.current}\n                onChange={(newShift) => {\n                  const delta = newShift - videoGapShift;\n                  setVideoGapShift(newShift);\n                  // video gap is not automatically added to gap, need to adjust it here directly\n                  setGapShift((current) => current + delta * 1000);\n                }}\n                current={videoGapShift}\n                finalGap={newSong.videoGap}\n              />\n              <ShiftGap player={player.current} onChange={setGapShift} current={gapShift} finalGap={newSong.gap} />\n            </Box>\n          </Grid>\n          <Grid item xs={4}>\n            <HelpText>\n              Use <strong>Video shift gap</strong> to crop the beginning of the video if it starts with an intro.\n            </HelpText>\n            <HelpText>\n              Use <strong>Lyrics shift gap</strong> to sync the start of the lyrics to the video. You can lower the{' '}\n              <strong>Playback speed</strong> above to make sure you got it just right.\n            </HelpText>\n          </Grid>\n          <Grid item xs={8}>\n            <Typography variant={'h5'} mb={2}>\n              Advanced\n            </Typography>\n            <ManipulateBpm\n              player={player.current}\n              onChange={setOverrideBpm}\n              current={overrideBpm}\n              song={newSong}\n              key={newSong.gap}\n            />\n            <ListTracks player={player.current} song={newSong} beatLength={beatLength} />\n          </Grid>\n          <Grid item xs={4}>\n            <HelpText>If the lyrics desynchronise over time, probably the tempo (BPM) of the lyrics is wrong.</HelpText>\n            <HelpText>\n              You can either use <strong>Last note end time</strong> - enter the millisecond when the last note should\n              end (seek through the video for the moment as <strong>Current time</strong> panel show the exact\n              millisecond) and a suggested BPM value will appear below.\n            </HelpText>\n            <HelpText>\n              <strong>Tempo (BPM)</strong> field allows to fine-tune the tempo.\n            </HelpText>\n          </Grid>\n          <Grid item xs={8}>\n            <EditSection\n              song={newSong}\n              currentTime={currentTime}\n              beatLength={beatLength}\n              player={player.current}\n              onRecordChange={setChangeRecords}\n              onTrackNameChange={(track, newName) =>\n                setTrackNames((current) => {\n                  const newNames = [...current];\n                  newNames[track] = newName === '' ? undefined : newName;\n\n                  return newNames;\n                })\n              }\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <HelpText>\n              If the lyrics there are more lyrics than in the video or there are longer/shorter interludes between\n              verses, you can <strong>Edit verses</strong>.\n            </HelpText>\n            <HelpText>Select a verse by clicking on it.</HelpText>\n            <HelpText>\n              You can either <strong>Change its start beat</strong> (which will \"move in time\" the verse and all\n              subsequent ones) or <strong>Delete it</strong> (it won't affect the timing of other verses).\n            </HelpText>\n            <HelpText>\n              <strong>List of changes</strong> on the right allows you to see and undo the actions one by one.\n            </HelpText>\n          </Grid>\n        </>\n      )}\n    </Grid>\n  );\n}\n\nconst HelpText = styled.p`\n  font-size: 0.85rem;\n  margin-bottom: 1rem;\n  line-height: 1.25rem;\n  strong {\n    font-weight: bold;\n  }\n`;\n","import { Box } from '@mui/material';\nimport { Song } from 'interfaces';\nimport EditSong from 'Scenes/Convert/Steps/SyncLyricsToVideo/EditSong';\n\ninterface Props {\n  onChange: (data: Song) => void;\n  data?: Song;\n  visible: boolean;\n}\n\nexport default function SyncLyricsToVideo(props: Props) {\n  return (\n    <Box data-test=\"sync-lyrics\">\n      {props.data && props.data.video.length < 15 && !!props.data.tracks?.[0]?.sections?.length && (\n        <EditSong song={props.data} onUpdate={props.onChange} visible={props.visible} />\n      )}\n    </Box>\n  );\n}\n","import styled from '@emotion/styled';\nimport { Alert, AlertTitle, Box, Button, Step, StepButton, StyledEngineProvider } from '@mui/material';\nimport Stepper from '@mui/material/Stepper';\nimport { useBackground } from 'Elements/LayoutWithBackground';\nimport NormalizeFontSize from 'Elements/NormalizeFontSize';\nimport AuthorAndVid, { AuthorAndVidEntity } from 'Scenes/Convert/Steps/AuthorAndVid';\nimport BasicData, { BasicDataEntity } from 'Scenes/Convert/Steps/BasicData';\nimport SongMetadata, { SongMetadataEntity } from 'Scenes/Convert/Steps/SongMetadata';\nimport SyncLyricsToVideo from 'Scenes/Convert/Steps/SyncLyricsToVideo';\nimport { shareSong } from 'Scenes/Edit/ShareSongsModal';\nimport SongDao from 'Songs/SongsService';\nimport useSongIndex from 'Songs/hooks/useSongIndex';\nimport convertTxtToSong, { getVideoId } from 'Songs/utils/convertTxtToSong';\nimport getSongId from 'Songs/utils/getSongId';\nimport useBackgroundMusic from 'hooks/useBackgroundMusic';\nimport useSmoothNavigate from 'hooks/useSmoothNavigate';\nimport { Song } from 'interfaces';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { Link } from 'wouter';\n\ninterface Props {\n  song?: Song;\n}\n\nfunction isEmptyValue<T>(v: T | T[] | undefined) {\n  return Array.isArray(v) ? v.length === 0 : !v;\n}\n\nconst steps = ['basic-data', 'author-and-video', 'sync', 'metadata'] as const;\n\nexport default function ConvertView({ song }: Props) {\n  const isEdit = !!song;\n  const { data: songs } = useSongIndex(true);\n  useBackground(false);\n  const navigate = useSmoothNavigate();\n  useBackgroundMusic(false);\n  const [currentStep, setCurrentStep] = useState(0);\n\n  const [basicData, setBasicData] = useState<BasicDataEntity>({ sourceUrl: song?.sourceUrl ?? '', txtInput: '' });\n  const [authorAndVid, setAuthorAndVid] = useState<AuthorAndVidEntity>({\n    author: song?.author ?? '',\n    authorUrl: song?.authorUrl ?? '',\n    video: song?.video ? `https://www.youtube.com/watch?v=${song.video}` : '',\n  });\n  const [metadataEntity, setMetadataEntity] = useState<SongMetadataEntity>({\n    artist: song?.artist ?? '',\n    title: song?.title ?? '',\n    realBpm: song?.realBpm ? String(song.realBpm) : '',\n    year: song?.year ?? '',\n    language: song?.language ?? [],\n    volume: song?.volume ?? 0,\n    previewStart: song?.previewStart ?? undefined,\n    previewEnd: song?.previewEnd ?? undefined,\n    genre: song?.genre,\n    edition: song?.edition,\n  });\n  console.log(song?.language);\n\n  const [editedSong, setEditedSong] = useState<Song | undefined>(song);\n\n  const error = useRef<string>('');\n  const conversionResult: Song | undefined = useMemo(() => {\n    try {\n      if (isEdit)\n        return {\n          ...song,\n          video: getVideoId(authorAndVid.video) || song.video,\n          author: authorAndVid.author,\n          authorUrl: authorAndVid.authorUrl,\n          sourceUrl: basicData.sourceUrl,\n        };\n      if (!basicData.txtInput) return undefined;\n      const result = convertTxtToSong(\n        basicData.txtInput,\n        authorAndVid.video,\n        authorAndVid.author,\n        authorAndVid.authorUrl,\n        basicData.sourceUrl,\n      );\n      console.log(result.language);\n\n      return result;\n    } catch (e: any) {\n      error.current = e.message;\n      console.error(e);\n    }\n    return undefined;\n  }, [\n    basicData.txtInput,\n    authorAndVid.video,\n    authorAndVid.author,\n    authorAndVid.authorUrl,\n    basicData.sourceUrl,\n    song,\n    isEdit,\n  ]);\n\n  const possibleDuplicate = useMemo(\n    () =>\n      !isEdit &&\n      conversionResult &&\n      songs?.find((addedSong) => SongDao.generateSongFile(addedSong) === SongDao.generateSongFile(conversionResult)),\n    [songs, conversionResult, isEdit],\n  );\n\n  useEffect(() => {\n    if (conversionResult) {\n      if (!!conversionResult.video && !authorAndVid.video) {\n        setAuthorAndVid((current) => ({\n          ...current,\n          video: `https://www.youtube.com/watch?v=${conversionResult.video}`,\n        }));\n      }\n      if (!!conversionResult.author && !authorAndVid.author) {\n        setAuthorAndVid((current) => ({\n          ...current,\n          author: current.author || conversionResult?.author || '',\n          authorUrl: current.authorUrl || conversionResult?.authorUrl || '',\n        }));\n      }\n      if (!!conversionResult.sourceUrl && !basicData.sourceUrl) {\n        setBasicData((current) => ({\n          ...current,\n          sourceUrl: conversionResult.sourceUrl!,\n        }));\n      }\n      (\n        ['year', 'language', 'realBpm', 'genre', 'artist', 'title', 'volume', 'previewStart', 'previewEnd'] as const\n      ).forEach((property) => {\n        if (!!conversionResult[property] && isEmptyValue(metadataEntity[property])) {\n          setMetadataEntity((current) => ({\n            ...current,\n            [property]: conversionResult[property],\n          }));\n        }\n      });\n    }\n  }, [\n    conversionResult,\n    metadataEntity.year,\n    metadataEntity.language,\n    metadataEntity.realBpm,\n    metadataEntity.genre,\n    metadataEntity.artist,\n    metadataEntity.volume,\n    metadataEntity.title,\n    metadataEntity.previewStart,\n    metadataEntity.previewEnd,\n    basicData.sourceUrl,\n    authorAndVid.video,\n  ]);\n\n  const isBasicInfoCompleted = !!basicData.txtInput || isEdit;\n  const isAuthorAndVidCompleted = !!authorAndVid.video;\n\n  const isNextStepAvailable = steps[currentStep] === 'author-and-video' ? isAuthorAndVidCompleted : true;\n\n  const finalSong: Song = {\n    ...editedSong!,\n    ...metadataEntity,\n    author: authorAndVid.author,\n    authorUrl: authorAndVid.authorUrl,\n    realBpm: +metadataEntity.realBpm,\n    sourceUrl: basicData.sourceUrl,\n    id: getSongId(metadataEntity),\n  };\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <NormalizeFontSize />\n      <Container>\n        {!isEdit && (\n          <div style={{ marginBottom: '1rem' }}>\n            <Link to=\"menu/\">\n              <a>Return to the main menu</a>\n            </Link>\n          </div>\n        )}\n        <Stepper activeStep={currentStep} sx={{ mb: 2 }} nonLinear={isEdit}>\n          <Step key={0} completed={isBasicInfoCompleted}>\n            <StepButton color=\"inherit\" onClick={() => setCurrentStep(0)}>\n              Basic Info\n            </StepButton>\n          </Step>\n          <Step key={1} completed={isAuthorAndVidCompleted}>\n            <StepButton color=\"inherit\" onClick={() => setCurrentStep(1)}>\n              Author and video data\n            </StepButton>\n          </Step>\n          <Step key={2}>\n            <StepButton color=\"inherit\" onClick={() => setCurrentStep(2)}>\n              Sync lyrics to video\n            </StepButton>\n          </Step>\n          <Step key={3}>\n            <StepButton color=\"inherit\" onClick={() => setCurrentStep(3)}>\n              Fill song metadata\n            </StepButton>\n          </Step>\n        </Stepper>\n        <form\n          onSubmit={async (e) => {\n            e.preventDefault();\n            if (currentStep < steps.length - 1) setCurrentStep((current) => current + 1);\n            else if (steps.at(currentStep) === 'metadata') {\n              await SongDao.store(finalSong!);\n              if (!isEdit) {\n                shareSong(finalSong!.id);\n              }\n              navigate(`edit/list/`, { id: finalSong!.id, created: !isEdit ? 'true' : null, song: null });\n            }\n          }}>\n          {steps.at(currentStep) === 'basic-data' && (\n            <BasicData\n              shouldAutoImport={!isAuthorAndVidCompleted}\n              isTxtRequired={!song}\n              onAutoImport={setAuthorAndVid}\n              onChange={setBasicData}\n              data={basicData}\n              finalSong={finalSong}\n            />\n          )}\n\n          {steps.at(currentStep) === 'author-and-video' && (\n            <AuthorAndVid\n              songArtist={conversionResult?.artist}\n              songTitle={conversionResult?.title}\n              onChange={setAuthorAndVid}\n              data={authorAndVid}\n            />\n          )}\n\n          {conversionResult && ( // Keep the component even if in different step so it preserves the state\n            <SyncLyricsToVideo\n              onChange={setEditedSong}\n              data={conversionResult}\n              visible={steps.at(currentStep) === 'sync'}\n            />\n          )}\n\n          {steps.at(currentStep) === 'metadata' && (\n            <SongMetadata\n              videoGap={editedSong?.videoGap}\n              onChange={setMetadataEntity}\n              data={metadataEntity}\n              songArtist={conversionResult?.artist}\n              songTitle={conversionResult?.title}\n              videoId={conversionResult!.video}\n            />\n          )}\n\n          {possibleDuplicate && (\n            <Alert severity=\"warning\" data-test=\"possible-duplicate\">\n              <AlertTitle>Possible duplicate</AlertTitle>\n              There is already a song with similar artist and/or name:{' '}\n              <b>\n                {possibleDuplicate.artist} - {possibleDuplicate.title}\n              </b>\n            </Alert>\n          )}\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\n            <Button\n              data-test=\"previous-button\"\n              sx={{ mt: 2, align: 'right' }}\n              onClick={() => setCurrentStep((current) => current - 1)}\n              disabled={currentStep === 0}>\n              Previous\n            </Button>\n            {steps.at(currentStep) === 'metadata' ? (\n              <Button data-test=\"save-button\" sx={{ mt: 2, align: 'right' }} type=\"submit\" variant={'contained'}>\n                Save\n              </Button>\n            ) : (\n              <Button\n                data-test=\"next-button\"\n                sx={{ mt: 2, align: 'right' }}\n                variant={'contained'}\n                type=\"submit\"\n                disabled={!isNextStepAvailable || currentStep === steps.length - 1}>\n                Next\n              </Button>\n            )}\n          </Box>\n        </form>\n      </Container>\n    </StyledEngineProvider>\n  );\n}\n\nconst Container = styled.div`\n  background: white;\n  margin: 30px auto 0;\n  width: 1260px;\n  height: 100%;\n`;\n"],"names":["getValidReactChildren","children","React.Children","child","React.isValidElement","StepperContext","React.createContext","StepperContext$1","StepContext","StepContext$1","getStepUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","useUtilityClasses","ownerState","classes","orientation","alternativeLabel","completed","composeClasses","StepRoot","styled","props","styles","_extends","Step","React.forwardRef","inProps","ref","useThemeProps","activeProp","className","component","completedProp","disabledProp","expanded","index","last","other","_objectWithoutPropertiesLoose","activeStep","connector","nonLinear","React.useContext","active","disabled","contextValue","React.useMemo","newChildren","_jsxs","clsx","_jsx","React.Fragment","Step$1","CheckCircle","createSvgIcon","Warning","getStepIconUtilityClass","stepIconClasses","stepIconClasses$1","_circle","error","StepIconRoot","SvgIcon","theme","StepIconText","StepIcon","classNameProp","icon","StepIcon$1","getStepLabelUtilityClass","stepLabelClasses","stepLabelClasses$1","StepLabelRoot","StepLabelLabel","StepLabelIconContainer","StepLabelLabelContainer","StepLabel","_slotProps$label","componentsProps","iconProp","optional","slotProps","StepIconComponentProp","StepIconProps","iconContext","StepIconComponent","labelSlotProps","StepLabel$1","getStepButtonUtilityClass","stepButtonClasses","stepButtonClasses$1","StepButtonRoot","ButtonBase","StepButton","childProps","isMuiElement","React.cloneElement","StepButton$1","getStepperUtilityClass","getStepConnectorUtilityClass","slots","capitalize","StepConnectorRoot","StepConnectorLine","borderColor","StepConnector","StepConnector$1","StepperRoot","defaultConnector","Stepper","childrenArray","steps","step","Stepper$1","Pre","target","name","inputAction","action","enabled","label","InputProps","endAdornment","jsx","Tooltip","Button","mr","Search","AuthorAndVid","searchForVideo","open","encodeURIComponent","songArtist","songTitle","isSearchableForVideo","videoId","getVideoId","data","video","jsxs","Box","display","flexWrap","TextField","mt","author","e","onChange","value","authorUrl","flexDirection","alignItems","width","YouTube","accents","polish","È","í","π","ê","Í","Œ","å","œ","ú","æ","Ê","ø","Ø","ñ","Ò","Û","ü","Ÿ","spanish","Ì","ń","ś","fixDiacritics","txt","language","accentSet","undefined","fixedTxt","accent","replacement","Object","entries","replaceAll","isValidUltrastarTxtFormat","songTxt","lines","split","requiredTags","tag","some","line","startsWith","convertTxtToSong","console","log","importSongFromSource","url","urlObj","URL","host","importUsDbAnimuxSong","importUltrastarEsSong","warn","text","fetch","doc","DOMParser","parseFromString","txtUrl","querySelector","getAttribute","window","location","href","authorPath","textContent","obj","artist","title","searchParams","get","BasicData","onSourceUrlEdit","sourceUrl","shouldAutoImport","onAutoImport","fixAccents","txtInput","isTxtInputValid","useMemo","length","isTxtRequired","Fragment","inputProps","sx","fontFamily","gap","height","overflow","finalSong","tracks","map","track","flex","sections","filter","isNotesSection","section","notes","note","lyrics","join","start","formatMs","msec","minutes","Math","floor","seconds","miliseconds","String","padStart","ytPlayerAdapter","player","play","playVideo","pause","pauseVideo","seekTo","timeSec","setPlaybackSpeed","rate","setPlaybackRate","ms","py","mb","GameState","resetPlayerNotes","formatMs$1","MIN_PREVIEW_LENGTH","PreviewAndVolumeAdjustment","videoGap","useRef","reference","initialised","setInitialised","useState","useEffect","volume","current","getInternalPlayer","setVolume","interval","setInterval","currentVolume","getVolume","clearInterval","isPlayerPlaying","setIsPlayerPlaying","isReferencePlaying","setIsReferencePlaying","handleSliderChange","previewStart","previewEnd","duration","setDuration","currentTime","getDuration","then","internalPlayer","Slider","end","setTimeout","backgroundMusic","currentTarget","SongMetadata","songList","useSongIndex","definedLanguages","Set","Array","isArray","flat","Boolean","definedGenres","song","genre","toLowerCase","replace","l","toUpperCase","trim","definedEditions","edition","sort","searchGoogle","phrase","isRealBpmInvalid","realBpm","Grid","Autocomplete","event","key","preventDefault","newValue","params","year","getButtonGroupUtilityClass","buttonGroupClasses","overridesResolver","color","disableElevation","fullWidth","variant","ButtonGroupRoot","alpha","ButtonGroup","disableFocusRipple","disableRipple","size","context","validChildren","childrenCount","getButtonPositionClassName","isFirstButton","isLastButton","ButtonGroupContext","ButtonGroupButtonContext","ButtonGroup$1","AdjustPlayback","effectsEnabled","onEffectsToggle","seekBy","bySec","currentSpeed","setCurrentSpeed","Typography","round","px","Divider","speed","dense","disableGutters","divider","selected","composedClasses","getListItemButtonUtilityClass","ListItemButtonRoot","prop","rootShouldForwardProp","listItemButtonClasses","ListItemButton","autoFocus","focusVisibleClassName","ListContext","childContext","listItemRef","React.useRef","useEnhancedEffect","handleRef","useForkRef","ListItemButton$1","inset","primary","secondary","getListItemTextUtilityClass","ListItemTextRoot","listItemTextClasses","ListItemText","disableTypography","primaryProp","primaryTypographyProps","secondaryProp","secondaryTypographyProps","ListItemText$1","useCurrentSectionIndex","currentBeat","wholeBeat","findIndex","EditSection","beatLength","onRecordChange","onTrackNameChange","setTrack","selectedSection","setSelectedSection","changeRecords","setChangeRecords","getCurrentBeat","currentSectionIndex","onSectionClick","deleteSection","records","type","shiftSection","newStart","lastRecord","at","newRecords","shift","SectionEdtiorContainer","Stack","ml","_","List","overflowY","ListItem","fontWeight","SectionEditForm","getFirstNoteStartFromSections","SectionChangeList","maxHeight","change","message","Component","SectionChangeDelete","SectionChangeShift","_styled","ChangeEntry","ListTracks","calculateProperBPM","desiredEndMs","lastNote","notesSections","desiredLengthMs","bpmLength","Number","bar","toFixed","ManipulateBpm","lastNoteEndBeat","max","getLastNoteEndFromSections","lastNoteEndMs","beatToMs","desiredLastNoteEnd","setDesiredLastNoteEnd","ShiftGap","finalGap","ShiftVideoGap","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","cloneDeep","baseClone","shiftGap","gapShift","shiftVideoGap","setBpm","bpm","applyChanges","changes","trackIndex","changeList","forEach","applyTrackNames","trackNames","playerWidth","playerHeight","EditSong","onUpdate","visible","setCurrentTime","setGapShift","videoGapShift","setVideoGapShift","overrideBpm","setOverrideBpm","playerKey","setPlayerKey","setEffectsEnabled","setTrackNames","newSong","processed","normaliseGap","addHeadstart","normaliseSectionPaddings","normaliseLyricSpaces","singSetup","id","mode","GAME_MODE","DUEL","players","number","tolerance","getSongBeatLength","Player","newShift","delta","HelpText","newName","newNames","SyncLyricsToVideo","isEmptyValue","v","ConvertView","isEdit","songs","useBackground","navigate","useSmoothNavigate","useBackgroundMusic","currentStep","setCurrentStep","basicData","setBasicData","authorAndVid","setAuthorAndVid","metadataEntity","setMetadataEntity","editedSong","setEditedSong","conversionResult","result","possibleDuplicate","find","addedSong","SongDao","generateSongFile","property","isBasicInfoCompleted","isAuthorAndVidCompleted","isNextStepAvailable","getSongId","StyledEngineProvider","NormalizeFontSize","Container","marginBottom","Link","store","shareSong","created","Alert","AlertTitle","justifyContent","align"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,26,27,29,30,38]}