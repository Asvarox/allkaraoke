var ID=Object.defineProperty;var RD=(e,t,n)=>t in e?ID(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _f=(e,t,n)=>RD(e,typeof t!="symbol"?t+"":t,n);(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f3bab203-8e01-4ef8-a18a-4a939a922681",e._sentryDebugIdIdentifier="sentry-dbid-f3bab203-8e01-4ef8-a18a-4a939a922681")}catch{}})();{var mu=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};mu._sentryModuleMetadata=mu._sentryModuleMetadata||{},mu._sentryModuleMetadata[new mu.Error().stack]=Object.assign({},mu._sentryModuleMetadata[new mu.Error().stack],{"_sentryBundlerPluginAppKey:allkaraoke-party-sentry-key":!0})}function PD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var MD=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};MD.SENTRY_RELEASE={id:"90a466d2f62523699570418713b132a4dc57e997"};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var $A={exports:{}},Sf={},zA={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function OD(){if(x2)return Ot;x2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function m(M){return M===null||typeof M!="object"?null:(M=f&&M[f]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function S(M,U,X){this.props=M,this.context=U,this.refs=b,this.updater=X||v}S.prototype.isReactComponent={},S.prototype.setState=function(M,U){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,U,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function w(){}w.prototype=S.prototype;function I(M,U,X){this.props=M,this.context=U,this.refs=b,this.updater=X||v}var R=I.prototype=new w;R.constructor=I,A(R,S.prototype),R.isPureReactComponent=!0;var T=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function j(M,U,X){var de,z={},pe=null,se=null;if(U!=null)for(de in U.ref!==void 0&&(se=U.ref),U.key!==void 0&&(pe=""+U.key),U)E.call(U,de)&&!N.hasOwnProperty(de)&&(z[de]=U[de]);var me=arguments.length-2;if(me===1)z.children=X;else if(1<me){for(var Ee=Array(me),Re=0;Re<me;Re++)Ee[Re]=arguments[Re+2];z.children=Ee}if(M&&M.defaultProps)for(de in me=M.defaultProps,me)z[de]===void 0&&(z[de]=me[de]);return{$$typeof:e,type:M,key:pe,ref:se,props:z,_owner:P.current}}function V(M,U){return{$$typeof:e,type:M.type,key:U,ref:M.ref,props:M.props,_owner:M._owner}}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function D(M){var U={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return U[X]})}var H=/\/+/g;function B(M,U){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):U.toString(36)}function G(M,U,X,de,z){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var se=!1;if(M===null)se=!0;else switch(pe){case"string":case"number":se=!0;break;case"object":switch(M.$$typeof){case e:case t:se=!0}}if(se)return se=M,z=z(se),M=de===""?"."+B(se,0):de,T(z)?(X="",M!=null&&(X=M.replace(H,"$&/")+"/"),G(z,U,X,"",function(Re){return Re})):z!=null&&(k(z)&&(z=V(z,X+(!z.key||se&&se.key===z.key?"":(""+z.key).replace(H,"$&/")+"/")+M)),U.push(z)),1;if(se=0,de=de===""?".":de+":",T(M))for(var me=0;me<M.length;me++){pe=M[me];var Ee=de+B(pe,me);se+=G(pe,U,X,Ee,z)}else if(Ee=m(M),typeof Ee=="function")for(M=Ee.call(M),me=0;!(pe=M.next()).done;)pe=pe.value,Ee=de+B(pe,me++),se+=G(pe,U,X,Ee,z);else if(pe==="object")throw U=String(M),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return se}function F(M,U,X){if(M==null)return M;var de=[],z=0;return G(M,de,"","",function(pe){return U.call(X,pe,z++)}),de}function L(M){if(M._status===-1){var U=M._result;U=U(),U.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=U)}if(M._status===1)return M._result.default;throw M._result}var Y={current:null},q={transition:null},Q={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:q,ReactCurrentOwner:P};return Ot.Children={map:F,forEach:function(M,U,X){F(M,function(){U.apply(this,arguments)},X)},count:function(M){var U=0;return F(M,function(){U++}),U},toArray:function(M){return F(M,function(U){return U})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ot.Component=S,Ot.Fragment=n,Ot.Profiler=i,Ot.PureComponent=I,Ot.StrictMode=r,Ot.Suspense=u,Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Ot.cloneElement=function(M,U,X){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var de=A({},M.props),z=M.key,pe=M.ref,se=M._owner;if(U!=null){if(U.ref!==void 0&&(pe=U.ref,se=P.current),U.key!==void 0&&(z=""+U.key),M.type&&M.type.defaultProps)var me=M.type.defaultProps;for(Ee in U)E.call(U,Ee)&&!N.hasOwnProperty(Ee)&&(de[Ee]=U[Ee]===void 0&&me!==void 0?me[Ee]:U[Ee])}var Ee=arguments.length-2;if(Ee===1)de.children=X;else if(1<Ee){me=Array(Ee);for(var Re=0;Re<Ee;Re++)me[Re]=arguments[Re+2];de.children=me}return{$$typeof:e,type:M.type,key:z,ref:pe,props:de,_owner:se}},Ot.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Ot.createElement=j,Ot.createFactory=function(M){var U=j.bind(null,M);return U.type=M,U},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(M){return{$$typeof:l,render:M}},Ot.isValidElement=k,Ot.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:L}},Ot.memo=function(M,U){return{$$typeof:c,type:M,compare:U===void 0?null:U}},Ot.startTransition=function(M){var U=q.transition;q.transition={};try{M()}finally{q.transition=U}},Ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ot.useCallback=function(M,U){return Y.current.useCallback(M,U)},Ot.useContext=function(M){return Y.current.useContext(M)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(M){return Y.current.useDeferredValue(M)},Ot.useEffect=function(M,U){return Y.current.useEffect(M,U)},Ot.useId=function(){return Y.current.useId()},Ot.useImperativeHandle=function(M,U,X){return Y.current.useImperativeHandle(M,U,X)},Ot.useInsertionEffect=function(M,U){return Y.current.useInsertionEffect(M,U)},Ot.useLayoutEffect=function(M,U){return Y.current.useLayoutEffect(M,U)},Ot.useMemo=function(M,U){return Y.current.useMemo(M,U)},Ot.useReducer=function(M,U,X){return Y.current.useReducer(M,U,X)},Ot.useRef=function(M){return Y.current.useRef(M)},Ot.useState=function(M){return Y.current.useState(M)},Ot.useSyncExternalStore=function(M,U,X){return Y.current.useSyncExternalStore(M,U,X)},Ot.useTransition=function(){return Y.current.useTransition()},Ot.version="18.2.0",Ot}var w2;function Pc(){return w2||(w2=1,zA.exports=OD()),zA.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function VD(){if(E2)return Sf;E2=1;var e=Pc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,c){var h,f={},m=null,v=null;c!==void 0&&(m=""+c),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(v=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(f[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)f[h]===void 0&&(f[h]=u[h]);return{$$typeof:t,type:l,key:m,ref:v,props:f,_owner:i.current}}return Sf.Fragment=n,Sf.jsx=o,Sf.jsxs=o,Sf}var C2;function LD(){return C2||(C2=1,$A.exports=VD()),$A.exports}var p=LD();class so{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const Pb=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class Mb{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const k2=Pb((global==null?void 0:global.localStorage)??new Mb),ot={...k2,local:k2,session:Pb((global==null?void 0:global.sessionStorage)??new Mb),memory:Pb(new Mb)},jb="CAMERA_GRANT_KEY",T2=ot.local.getItem(jb);class ND extends so{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=T2!==null?JSON.parse(T2):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return ot.local.setItem(jb,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,ot.local.setItem(jb,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Js=new ND;var ce=typeof window<"u"?window:void 0,Vi=typeof globalThis<"u"?globalThis:ce,j5=Array.prototype,I2=j5.forEach,R2=j5.indexOf,Ji=Vi==null?void 0:Vi.navigator,He=Vi==null?void 0:Vi.document,Oi=Vi==null?void 0:Vi.location,Ob=Vi==null?void 0:Vi.fetch,Vb=Vi!=null&&Vi.XMLHttpRequest&&"withCredentials"in new Vi.XMLHttpRequest?Vi.XMLHttpRequest:void 0,P2=Vi==null?void 0:Vi.AbortController,Or=Ji==null?void 0:Ji.userAgent,kt=ce??{},Ha={DEBUG:!1,LIB_VERSION:"1.194.1"},t0={},iv=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function $u(e,t,n){if(sr(e)){if(I2&&e.forEach===I2)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===t0)return}}}function mn(e,t,n){if(!wn(e)){if(sr(e))return $u(e,t,n);if(UD(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===t0)return}else for(var i in e)if(L5.call(e,i)&&t.call(n,e[i],i)===t0)return}}var vi=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $u(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function Vt(e,t){return e.indexOf(t)!==-1}function Em(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var M2=function(e){try{return e()}catch{return}},BD=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){Ae.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Ae.critical(i)}}},n0=function(e){var t={};return mn(e,function(n,r){ii(n)&&n.length>0&&(t[r]=n)}),t},Lb=function(e){return e.replace(/^\$/,"")};function DD(e,t){return n=e,r=s=>ii(s)&&!hl(t)?s.slice(0,t):s,i=new Set,function s(o,l){return o!==Object(o)?r?r(o,l):o:i.has(o)?void 0:(i.add(o),sr(o)?(u=[],$u(o,c=>{u.push(s(c))})):(u={},mn(o,(c,h)=>{i.has(c)||(u[h]=s(c,h))})),u);var u}(n);var n,r,i}var FD=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),l=null;o<128?n++:l=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),hl(l)||(n>t&&(s+=e.substring(t,n)),s+=l,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},na=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,l=t[o];t[o]=function(u,c,h){return function(f){if(f=f||e(ce==null?void 0:ce.event)){var m,v=!0;ws(h)&&(m=h(f));var A=c.call(u,f);return m!==!1&&A!==!1||(v=!1),v}}}(t,r,l)}else Ae.error("No valid element provided to register_event")}}();function O5(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}var Ys,UA="$copy_autocapture",$D=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Ys||(Ys={}));var zD=Array.isArray,V5=Object.prototype,L5=V5.hasOwnProperty,sv=V5.toString,sr=zD||function(e){return sv.call(e)==="[object Array]"},ws=e=>typeof e=="function",yr=e=>e===Object(e)&&!sr(e),Mu=e=>{if(yr(e)){for(var t in e)if(L5.call(e,t))return!1;return!0}return!1},tt=e=>e===void 0,ii=e=>sv.call(e)=="[object String]",j2=e=>ii(e)&&e.trim().length===0,hl=e=>e===null,wn=e=>tt(e)||hl(e),Yi=e=>sv.call(e)=="[object Number]",Zl=e=>sv.call(e)==="[object Boolean]",UD=e=>e instanceof FormData,HD=e=>Vt($D,e),O2="[PostHog.js]",Ae={_log:function(e){if(ce&&(Ha.DEBUG||kt.POSTHOG_DEBUG)&&!tt(ce.console)&&ce.console){for(var t=("__rrweb_original__"in ce.console[e])?ce.console[e].__rrweb_original__:ce.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t(O2,...r)}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ae._log("log",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ae._log("warn",...t)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ae._log("error",...t)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(O2,...t)},uninitializedWarning:e=>{Ae.error("You must initialize PostHog before calling ".concat(e))}},V2=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return Ae.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=()=>{if(!He)return n("document not found");var i=He.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=l=>n(void 0,l),i.onerror=l=>n(l);var s,o=He.querySelectorAll("body > script");o.length>0?(s=o[0].parentNode)===null||s===void 0||s.insertBefore(i,o[0]):He.body.appendChild(i)};He!=null&&He.body?r():He==null||He.addEventListener("DOMContentLoaded",r)};function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N5(e,t){if(e==null)return{};var n,r,i=function(o,l){if(o==null)return{};var u,c,h={},f=Object.keys(o);for(c=0;c<f.length;c++)u=f[c],l.indexOf(u)>=0||(h[u]=o[u]);return h}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}kt.__PosthogExtensions__=kt.__PosthogExtensions__||{},kt.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/".concat(t,".js")+"?v=".concat(e.version);if(t==="toolbar"){var i=3e5,s=Math.floor(Date.now()/i)*i;r="".concat(r,"&t=").concat(s)}var o=e.requestRouter.endpointFor("assets",r);V2(e,o,n)},kt.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);V2(e,r,n)};var B5="$people_distinct_id",zf="__alias",Uf="__timers",N2="$autocapture_disabled_server_side",Nb="$heatmaps_enabled_server_side",B2="$exception_capture_enabled_server_side",D2="$web_vitals_enabled_server_side",D5="$dead_clicks_enabled_server_side",F2="$web_vitals_allowed_metrics",Bb="$session_recording_enabled_server_side",$2="$console_log_recording_enabled_server_side",z2="$session_recording_network_payload_capture",U2="$session_recording_canvas_recording",H2="$replay_sample_rate",G2="$replay_minimum_duration",q2="$replay_script_config",r0="$sesid",Hf="$session_is_sampled",HA="$session_recording_url_trigger_activated_session",GA="$session_recording_event_trigger_activated_session",ju="$enabled_feature_flags",Db="$early_access_features",Ou="$stored_person_properties",Ga="$stored_group_properties",Fb="$surveys",yg="$surveys_activated",i0="$flag_call_reported",Jo="$user_state",$b="$client_session_props",zb="$capture_rate_limit",Ub="$initial_campaign_params",Hb="$initial_referrer_info",Gb="$initial_person_info",s0="$epp",F5="__POSTHOG_TOOLBAR__",GD=[B5,zf,"__cmpns",Uf,Bb,Nb,r0,ju,Jo,Db,Ga,Ou,Fb,i0,$b,zb,Ub,Hb,s0],qA="$active_feature_flags",Ag="$override_feature_flags",W2="$feature_flag_payloads",K2=e=>{var t={};for(var[n,r]of Em(e||{}))r&&(t[n]=r);return t};class qD{constructor(t){this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var t=this.instance.get_property(ju),n=this.instance.get_property(Ag);if(!n)return t||{};for(var r=vi({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(Ae.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}getFlagPayloads(){return this.instance.get_property(W2)||{}}reloadFeatureFlags(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.reloadFeatureFlagsInAction=t}resetRequestQueue(){this.reloadFeatureFlagsQueued=!1}_startReloadTimer(){this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(()=>{!this.reloadFeatureFlagsInAction&&this.reloadFeatureFlagsQueued&&(this.reloadFeatureFlagsQueued=!1,this._reloadFeatureFlagsRequest())},5)}_reloadFeatureFlagsRequest(){if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(Ou),r=this.instance.get_property(Ga),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:Ys.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:s=>{var o;this.setReloadingPaused(!1);var l=!0;s.statusCode===200&&(this.$anon_distinct_id=void 0,l=!1),this.receivedFeatureFlags((o=s.json)!==null&&o!==void 0?o:{},l),this._startReloadTimer()}})}}getFeatureFlag(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(i0)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&(sr(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register({[i0]:o}),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}Ae.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}isFeatureEnabled(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);Ae.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.featureFlags,h=s.featureFlagPayloads;if(c)if(sr(c)){var f={};if(c)for(var m=0;m<c.length;m++)f[c[m]]=!0;o&&o.register({[qA]:c,[ju]:f})}else{var v=c,A=h;s.errorsWhileComputingFlags&&(v=Ie(Ie({},l),v),A=Ie(Ie({},u),A)),o&&o.register({[qA]:Object.keys(K2(v)),[ju]:v||{},[W2]:A||{}})}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}override(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return Ae.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(Ag);else if(sr(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register({[Ag]:r})}else this.instance.persistence.register({[Ag]:t})}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r,i={["$feature_enrollment/".concat(t)]:n};this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:i}),this.setPersonPropertiesForFlags(i,!1);var s=Ie(Ie({},this.getFlagVariants()),{},{[t]:n});(r=this.instance.persistence)===null||r===void 0||r.register({[qA]:Object.keys(K2(s)),[ju]:s}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.instance.get_property(Db);if(r&&!n)return t(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:i=>{var s;if(i.json){var o=i.json.earlyAccessFeatures;return(s=this.instance.persistence)===null||s===void 0||s.register({[Db]:o}),t(o)}}})}_prepareFeatureFlagsForCallbacks(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}_fireFeatureFlagsCallbacks(t){var{flags:n,flagVariants:r}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Ou)||{};this.instance.register({[Ou]:Ie(Ie({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(Ou)}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Ga)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=Ie(Ie({},r[i]),t[i]),delete t[i]}),this.instance.register({[Ga]:Ie(Ie({},r),t)}),n&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this.instance.get_property(Ga)||{};this.instance.register({[Ga]:Ie(Ie({},n),{},{[t]:{}})})}else this.instance.unregister(Ga)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Yi(e)&&isFinite(e)&&Math.floor(e)===e});var Y2="0123456789abcdef";class o0{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new o0(s)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+Y2.charAt(this.bytes[n]>>>4)+Y2.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new o0(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class WD{constructor(){$e(this,"timestamp",0),$e(this,"counter",0),$e(this,"random",new KD)}generate(){var t=this.generateOrAbort();if(tt(t)){this.timestamp=0;var n=this.generateOrAbort();if(tt(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return o0.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var Q2,$5=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ce&&!tt(ce.crypto)&&crypto.getRandomValues&&($5=e=>crypto.getRandomValues(e));class KD{constructor(){$e(this,"buffer",new Uint32Array(8)),$e(this,"cursor",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&($5(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var Ya=()=>YD().toString(),YD=()=>(Q2||(Q2=new WD)).generate(),QD="Thu, 01 Jan 1970 00:00:00 GMT",xf="",JD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function XD(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He;if(xf)return xf;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),l=Math.min(o.length,8),u="dmn_chk_"+Ya(),c=new RegExp("(^|;)\\s*"+u+"=1");!xf&&l--;){var h=o.slice(l).join("."),f=u+"=1;domain=."+h;s.cookie=f,c.test(s.cookie)&&(s.cookie=f+";expires="+QD,xf=h)}return xf}(e);if(!n){var r=(i=>{var s=i.match(JD);return s?s[0]:""})(e);r!==n&&Ae.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var sa={is_supported:()=>!!He,error:function(e){Ae.error("cookieStore error: "+e)},get:function(e){if(He){try{for(var t=e+"=",n=He.cookie.split(";").filter(s=>s.length),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(sa.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(He)try{var s="",o="",l=XD(He.location.hostname,r);if(n){var u=new Date;u.setTime(u.getTime()+24*n*60*60*1e3),s="; expires="+u.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+l+o;return c.length>3686.4&&Ae.warn("cookieStore warning: large cookie, len="+c.length),He.cookie=c,c}catch{return}},remove:function(e,t){try{sa.set(e,"",-1,t)}catch{return}}},WA=null,wr={is_supported:function(){if(!hl(WA))return WA;var e=!0;if(tt(ce))e=!1;else try{var t="__mplssupport__";wr.set(t,"xyz"),wr.get(t)!=='"xyz"'&&(e=!1),wr.remove(t)}catch{e=!1}return e||Ae.error("localStorage unsupported; falling back to cookie store"),WA=e,e},error:function(e){Ae.error("localStorage error: "+e)},get:function(e){try{return ce==null?void 0:ce.localStorage.getItem(e)}catch(t){wr.error(t)}return null},parse:function(e){try{return JSON.parse(wr.get(e))||{}}catch{}return null},set:function(e,t){try{ce==null||ce.localStorage.setItem(e,JSON.stringify(t))}catch(n){wr.error(n)}},remove:function(e){try{ce==null||ce.localStorage.removeItem(e)}catch(t){wr.error(t)}}},ZD=["distinct_id",r0,Hf,s0,Gb],bg=Ie(Ie({},wr),{},{parse:function(e){try{var t={};try{t=sa.parse(e)||{}}catch{}var n=vi(t,JSON.parse(wr.get(e)||"{}"));return wr.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{wr.set(e,t,void 0,void 0,s);var o={};ZD.forEach(l=>{t[l]&&(o[l]=t[l])}),Object.keys(o).length&&sa.set(e,o,n,r,i,s)}catch(l){wr.error(l)}},remove:function(e,t){try{ce==null||ce.localStorage.removeItem(e),sa.remove(e,t)}catch(n){wr.error(n)}}}),_g={},eF={is_supported:function(){return!0},error:function(e){Ae.error("memoryStorage error: "+e)},get:function(e){return _g[e]||null},parse:function(e){return _g[e]||null},set:function(e,t){_g[e]=t},remove:function(e){delete _g[e]}},Ll=null,Gr={is_supported:function(){if(!hl(Ll))return Ll;if(Ll=!0,tt(ce))Ll=!1;else try{var e="__support__";Gr.set(e,"xyz"),Gr.get(e)!=='"xyz"'&&(Ll=!1),Gr.remove(e)}catch{Ll=!1}return Ll},error:function(e){Ae.error("sessionStorage error: ",e)},get:function(e){try{return ce==null?void 0:ce.sessionStorage.getItem(e)}catch(t){Gr.error(t)}return null},parse:function(e){try{return JSON.parse(Gr.get(e))||null}catch{}return null},set:function(e,t){try{ce==null||ce.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Gr.error(n)}},remove:function(e){try{ce==null||ce.sessionStorage.removeItem(e)}catch(t){Gr.error(t)}}},tF=["localhost","127.0.0.1"],zu=e=>{var t=He==null?void 0:He.createElement("a");return tt(t)?null:(t.href=e,t)},td=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},nF=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return mn(e,function(s,o){tt(s)||tt(o)||o==="undefined"||(t=encodeURIComponent((l=>l instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},a0=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!sr(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{Ae.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},l0=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Cs="Mobile",c0="iOS",wo="Android",vh="Tablet",z5=wo+" "+vh,U5="iPad",H5="Apple",G5=H5+" Watch",yh="Safari",nd="BlackBerry",q5="Samsung",W5=q5+"Browser",K5=q5+" Internet",el="Chrome",rF=el+" OS",Y5=el+" "+c0,zS="Internet Explorer",Q5=zS+" "+Cs,US="Opera",iF=US+" Mini",HS="Edge",J5="Microsoft "+HS,Uu="Firefox",X5=Uu+" "+c0,Ah="Nintendo",bh="PlayStation",Hu="Xbox",Z5=wo+" "+Cs,ej=Cs+" "+yh,Gf="Windows",qb=Gf+" Phone",J2="Nokia",Wb="Ouya",tj="Generic",sF=tj+" "+Cs.toLowerCase(),nj=tj+" "+vh.toLowerCase(),Kb="Konqueror",gi="(\\d+(\\.\\d+)?)",KA=new RegExp("Version/"+gi),oF=new RegExp(Hu,"i"),aF=new RegExp(bh+" \\w+","i"),lF=new RegExp(Ah+" \\w+","i"),GS=new RegExp(nd+"|PlayBook|BB10","i"),cF={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},uF=(e,t)=>t&&Vt(t,H5)||function(n){return Vt(n,yh)&&!Vt(n,el)&&!Vt(n,wo)}(e),X2=function(e,t){return t=t||"",Vt(e," OPR/")&&Vt(e,"Mini")?iF:Vt(e," OPR/")?US:GS.test(e)?nd:Vt(e,"IE"+Cs)||Vt(e,"WPDesktop")?Q5:Vt(e,W5)?K5:Vt(e,HS)||Vt(e,"Edg/")?J5:Vt(e,"FBIOS")?"Facebook "+Cs:Vt(e,"UCWEB")||Vt(e,"UCBrowser")?"UC Browser":Vt(e,"CriOS")?Y5:Vt(e,"CrMo")?el:Vt(e,wo)&&Vt(e,yh)?Z5:Vt(e,el)?el:Vt(e,"FxiOS")?X5:Vt(e.toLowerCase(),Kb.toLowerCase())?Kb:uF(e,t)?Vt(e,Cs)?ej:yh:Vt(e,Uu)?Uu:Vt(e,"MSIE")||Vt(e,"Trident/")?zS:Vt(e,"Gecko")?Uu:""},dF={[Q5]:[new RegExp("rv:"+gi)],[J5]:[new RegExp(HS+"?\\/"+gi)],[el]:[new RegExp("("+el+"|CrMo)\\/"+gi)],[Y5]:[new RegExp("CriOS\\/"+gi)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+gi)],[yh]:[KA],[ej]:[KA],[US]:[new RegExp("(Opera|OPR)\\/"+gi)],[Uu]:[new RegExp(Uu+"\\/"+gi)],[X5]:[new RegExp("FxiOS\\/"+gi)],[Kb]:[new RegExp("Konqueror[:/]?"+gi,"i")],[nd]:[new RegExp(nd+" "+gi),KA],[Z5]:[new RegExp("android\\s"+gi,"i")],[K5]:[new RegExp(W5+"\\/"+gi)],[zS]:[new RegExp("(rv:|MSIE )"+gi)],Mozilla:[new RegExp("rv:"+gi)]},Z2=[[new RegExp(Hu+"; "+Hu+" (.*?)[);]","i"),e=>[Hu,e&&e[1]||""]],[new RegExp(Ah,"i"),[Ah,""]],[new RegExp(bh,"i"),[bh,""]],[GS,[nd,""]],[new RegExp(Gf,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[qb,""];if(new RegExp(Cs).test(t)&&!/IEMobile\b/.test(t))return[Gf+" "+Cs,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=cF[r]||"";return/arm/i.test(t)&&(i="RT"),[Gf,i]}return[Gf,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[c0,t.join(".")]}return[c0,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=tt(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+wo+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+wo+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[wo,t.join(".")]}return[wo,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[rF,""]],[/Linux|debian/i,["Linux",""]]],ek=function(e){return lF.test(e)?Ah:aF.test(e)?bh:oF.test(e)?Hu:new RegExp(Wb,"i").test(e)?Wb:new RegExp("("+qb+"|WPDesktop)","i").test(e)?qb:/iPad/.test(e)?U5:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?G5:GS.test(e)?nd:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(J2,"i").test(e)?J2:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Cs).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?wo:z5:wo:new RegExp("(pda|"+Cs+")","i").test(e)?sF:new RegExp(vh,"i").test(e)&&!new RegExp(vh+" pc","i").test(e)?nj:""},Sg="https?://(.*)",fF=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],Zn={campaignParams:function(e){return He?this._campaignParamsFromUrl(He.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=fF.concat(t||[]),r={};return mn(n,function(i){var s=a0(e,i);r[i]=s||null}),r},_searchEngine:function(e){return e?e.search(Sg+"google.([^/?]*)")===0?"google":e.search(Sg+"bing.com")===0?"bing":e.search(Sg+"yahoo.com")===0?"yahoo":e.search(Sg+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=Zn._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!hl(t)){r.$search_engine=t;var i=He?a0(He.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=He==null?void 0:He.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:X2,browserVersion:function(e,t){var n=X2(e,t),r=dF[n];if(tt(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return typeof e=="string"?e.split("-")[0]:void 0},os:function(e){for(var t=0;t<Z2.length;t++){var[n,r]=Z2[t],i=n.exec(e),s=i&&(ws(r)?r(i,e):r);if(s)return s}return["",""]},device:ek,deviceType:function(e){var t=ek(e);return t===U5||t===z5||t==="Kobo"||t==="Kindle Fire"||t===nj?vh:t===Ah||t===Hu||t===bh||t===Wb?"Console":t===G5?"Wearable":t?Cs:"Desktop"},referrer:function(){return(He==null?void 0:He.referrer)||"$direct"},referringDomain:function(){var e;return He!=null&&He.referrer&&((e=zu(He.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer().substring(0,1e3),u:Oi==null?void 0:Oi.href.substring(0,1e3)}},initialPersonPropsFromInfo:function(e){var t,{r:n,u:r}=e,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=zu(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var s=zu(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,mn(this._campaignParamsFromUrl(r),function(o,l){i["$initial_"+Lb(l)]=o})}return n&&mn(this._searchInfoFromReferrer(n),function(o,l){i["$initial_"+Lb(l)]=o}),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}},timezoneOffset:function(){try{return new Date().getTimezoneOffset()}catch{return}},properties:function(){if(!Or)return{};var[e,t]=Zn.os(Or);return vi(n0({$os:e,$os_version:t,$browser:Zn.browser(Or,navigator.vendor),$device:Zn.device(Or),$device_type:Zn.deviceType(Or),$timezone:Zn.timezone(),$timezone_offset:Zn.timezoneOffset()}),{$current_url:Oi==null?void 0:Oi.href,$host:Oi==null?void 0:Oi.host,$pathname:Oi==null?void 0:Oi.pathname,$raw_user_agent:Or.length>1e3?Or.substring(0,997)+"...":Or,$browser_version:Zn.browserVersion(Or,navigator.vendor),$browser_language:Zn.browserLanguage(),$browser_language_prefix:Zn.browserLanguagePrefix(),$screen_height:ce==null?void 0:ce.screen.height,$screen_width:ce==null?void 0:ce.screen.width,$viewport_height:ce==null?void 0:ce.innerHeight,$viewport_width:ce==null?void 0:ce.innerWidth,$lib:"web",$lib_version:Ha.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!Or)return{};var[e,t]=Zn.os(Or);return vi(n0({$os:e,$os_version:t,$browser:Zn.browser(Or,navigator.vendor)}),{$browser_version:Zn.browserVersion(Or,navigator.vendor)})}},hF=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class YA{constructor(t){this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n=>{var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.storage=this.buildStorage(t),this.load(),t.debug&&Ae.info("Persistence loaded",t.persistence,Ie({},this.props)),this.update_config(t,t),this.save()}buildStorage(t){hF.indexOf(t.persistence.toLowerCase())===-1&&(Ae.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&wr.is_supported()?wr:n==="localstorage+cookie"&&bg.is_supported()?bg:n==="sessionstorage"&&Gr.is_supported()?Gr:n==="memory"?eF:n==="cookie"?sa:bg.is_supported()?bg:sa}properties(){var t={};return mn(this.props,function(n,r){if(r===ju&&yr(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else l=r,u=!1,(hl(o=GD)?u:R2&&o.indexOf===R2?o.indexOf(l)!=-1:(mn(o,function(c){if(u||(u=c===l))return t0}),u))||(t[r]=n);var o,l,u}),t}load(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=vi({},t))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(yr(t)){tt(n)&&(n="None"),this.expire_days=tt(r)?this.default_expiry:r;var i=!1;if(mn(t,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==n||(this.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(yr(t)){this.expire_days=tt(n)?this.default_expiry:n;var r=!1;if(mn(t,(i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var t=Zn.campaignParams(this.config.custom_campaign_params);Mu(n0(t))||this.register(t),this.campaign_params_saved=!0}}update_search_keyword(){this.register(Zn.searchInfo())}update_referrer_info(){this.register_once(Zn.referrerInfo(),void 0)}set_initial_person_info(){this.props[Ub]||this.props[Hb]||this.register_once({[Gb]:Zn.initialPersonInfo()},void 0)}get_referrer_info(){return n0({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var t={};mn([Hb,Ub],i=>{var s=this.props[i];s&&mn(s,function(o,l){t["$initial_"+Lb(l)]=o})});var n=this.props[Gb];if(n){var r=Zn.initialPersonPropsFromInfo(n);vi(t,r)}return t}safe_merge(t){return mn(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}set_disabled(t){this.disabled=t,this.disabled?this.remove():this.save()}set_cross_subdomain(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[Uf]||{};r[t]=n,this.props[Uf]=r,this.save()}remove_event_timer(t){var n=(this.props[Uf]||{})[t];return tt(n)||(delete this.props[Uf][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}function u0(e){var t,n;return((t=JSON.stringify(e,(n=[],function(r,i){if(yr(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))===null||t===void 0?void 0:t.length)||0}function Yb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[Yb({size:u0(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Yb({size:u0(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(s=>s)}return[e]}var Xo=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Xo||{}),qs=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(qs||{});function tk(e){var t;return e.id===F5||!((t=e.closest)===null||t===void 0||!t.call(e,".toolbar-global-fade-container"))}function ov(e){return!!e&&e.nodeType===1}function tl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function rj(e){return!!e&&e.nodeType===3}function ij(e){return!!e&&e.nodeType===11}function qS(e){return e?iv(e).split(/\s+/):[]}function nk(e){var t=ce==null?void 0:ce.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function d0(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return qS(t)}function sj(e){return wn(e)?null:iv(e).split(/(\s+)/).filter(t=>rd(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function av(e){var t="";return Jb(e)&&!lj(e)&&e.childNodes&&e.childNodes.length&&mn(e.childNodes,function(n){var r;rj(n)&&n.textContent&&(t+=(r=sj(n.textContent))!==null&&r!==void 0?r:"")}),iv(t)}function oj(e){return tt(e.target)?e.srcElement||null:(t=e.target)!==null&&t!==void 0&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var Qb=["a","button","form","input","select","textarea","label"];function aj(e){var t=e.parentNode;return!(!t||!ov(t))&&t}function pF(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!ce||!e||tl(e,"html")||!ov(e)||n!=null&&n.url_allowlist&&!nk(n.url_allowlist)||n!=null&&n.url_ignorelist&&nk(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var s=n.dom_event_allowlist;if(s&&!s.some(v=>t.type===v))return!1}for(var o=!1,l=[e],u=!0,c=e;c.parentNode&&!tl(c,"body");)if(ij(c.parentNode))l.push(c.parentNode.host),c=c.parentNode.host;else{if(!(u=aj(c)))break;if(r||Qb.indexOf(u.tagName.toLowerCase())>-1)o=!0;else{var h=ce.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(o=!0)}l.push(u),c=u}if(!function(v,A){var b=A==null?void 0:A.element_allowlist;if(tt(b))return!0;var S=function(R){if(b.some(T=>R.tagName.toLowerCase()===T))return{v:!0}};for(var w of v){var I=S(w);if(typeof I=="object")return I.v}return!1}(l,n)||!function(v,A){var b=A==null?void 0:A.css_selector_allowlist;if(tt(b))return!0;var S=function(R){if(b.some(T=>R.matches(T)))return{v:!0}};for(var w of v){var I=S(w);if(typeof I=="object")return I.v}return!1}(l,n))return!1;var f=ce.getComputedStyle(e);if(f&&f.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var m=e.tagName.toLowerCase();switch(m){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return o?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(Qb.indexOf(m)>-1||e.getAttribute("contenteditable")==="true")}}function Jb(e){for(var t=e;t.parentNode&&!tl(t,"body");t=t.parentNode){var n=d0(t);if(Vt(n,"ph-sensitive")||Vt(n,"ph-no-capture"))return!1}if(Vt(d0(e),"ph-include"))return!0;var r=e.type||"";if(ii(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(ii(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function lj(e){return!!(tl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||tl(e,"select")||tl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var cj="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",gF=new RegExp("^(?:".concat(cj,")$")),mF=new RegExp(cj),uj="\\d{3}-?\\d{2}-?\\d{4}",vF=new RegExp("^(".concat(uj,")$")),yF=new RegExp("(".concat(uj,")"));function rd(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(wn(e)||ii(e)&&(e=iv(e),(t?gF:mF).test((e||"").replace(/[- ]/g,""))||(t?vF:yF).test(e)))}function dj(e){var t=av(e);return rd(t="".concat(t," ").concat(fj(e)).trim())?t:""}function fj(e){var t="";return e&&e.childNodes&&e.childNodes.length&&mn(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=av(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(fj(n)).trim())}catch(s){Ae.error(s)}}),t}function AF(e){return function(t){var n=t.map(r=>{var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class)for(var l of(r.attr_class.sort(),r.attr_class))o+=".".concat(l.replace(/"/g,""));var u=Ie(Ie(Ie(Ie({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),c={};return Em(u).sort((h,f)=>{var[m]=h,[v]=f;return m.localeCompare(v)}).forEach(h=>{var[f,m]=h;return c[rk(f.toString())]=rk(m.toString())}),o+=":",o+=Em(u).map(h=>{var[f,m]=h;return"".concat(f,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(n=>{var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:bF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Em(n).filter(o=>{var[l]=o;return l.indexOf("attr__")===0}).forEach(o=>{var[l,u]=o;return s.attributes[l]=u}),s})}(e))}function rk(e){return e.replace(/"|\\"/g,'\\"')}function bF(e){var t=e.attr__class;return t?sr(t)?t:qS(t):void 0}var Xb="[SessionRecording]",Zb="redacted",xg={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},_F=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],SF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],xF=["/s/","/e/","/i/"];function ik(e,t,n,r){if(wn(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return ii(i)&&(i=parseInt(i)),i>n?Xb+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function sk(e,t){if(wn(e))return e;var n=e;return rd(n,!1)||(n=Xb+" "+t+" body "+Zb),mn(SF,r=>{var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=Xb+" "+t+" body "+Zb+" as might contain: "+r)}),n}var wF=(e,t)=>{var n,r,i,s={payloadSizeLimitBytes:xg.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...xg.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...xg.payloadHostDenyList]},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,l=e.session_recording.recordBody!==!1&&t.recordBody,u=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),m=>(m!=null&&m.requestBody&&(m.requestBody=ik(m.requestBody,m.requestHeaders,i,"Request")),m!=null&&m.responseBody&&(m.responseBody=ik(m.responseBody,m.responseHeaders,i,"Response")),m)),h=m=>{return c(((b,S)=>{var w,I=zu(b.name),R=S.indexOf("http")===0?(w=zu(S))===null||w===void 0?void 0:w.pathname:S;R==="/"&&(R="");var T=I==null?void 0:I.pathname.replace(R||"","");if(!(I&&T&&xF.some(E=>T.indexOf(E)===0)))return b})((A=(v=m).requestHeaders,wn(A)||mn(Object.keys(A??{}),b=>{_F.includes(b.toLowerCase())&&(A[b]=Zb)}),v),e.api_host));var v,A},f=ws(e.session_recording.maskNetworkRequestFn);return f&&ws(e.session_recording.maskCapturedNetworkRequestFn)&&Ae.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),f&&(e.session_recording.maskCapturedNetworkRequestFn=m=>{var v=e.session_recording.maskNetworkRequestFn({url:m.name});return Ie(Ie({},m),{},{name:v==null?void 0:v.url})}),s.maskRequestFn=ws(e.session_recording.maskCapturedNetworkRequestFn)?m=>{var v,A,b,S=h(m);return S&&(v=(A=(b=e.session_recording).maskCapturedNetworkRequestFn)===null||A===void 0?void 0:A.call(b,S))!==null&&v!==void 0?v:void 0}:m=>function(v){if(!tt(v))return v.requestBody=sk(v.requestBody,"Request"),v.responseBody=sk(v.responseBody,"Response"),v}(h(m)),Ie(Ie(Ie({},xg),s),{},{recordHeaders:o,recordBody:l,recordPerformance:u,recordInitialRequests:u})};function Eo(e,t,n,r,i){return t>n&&(Ae.warn("min cannot be greater than max."),t=n),Yi(e)?e>n?(r&&Ae.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&Ae.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&Ae.warn(r+" must be a number. using max or fallback. max: "+n+", fallback: "+i),Eo(i||n,t,n,r))}class EF{constructor(t){var n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$e(this,"bucketSize",100),$e(this,"refillRate",10),$e(this,"mutationBuckets",{}),$e(this,"loggedTracker",{}),$e(this,"refillBuckets",()=>{Object.keys(this.mutationBuckets).forEach(s=>{this.mutationBuckets[s]=this.mutationBuckets[s]+this.refillRate,this.mutationBuckets[s]>=this.bucketSize&&delete this.mutationBuckets[s]})}),$e(this,"getNodeOrRelevantParent",s=>{var o=this.rrweb.mirror.getNode(s);if((o==null?void 0:o.nodeName)!=="svg"&&o instanceof Element){var l=o.closest("svg");if(l)return[this.rrweb.mirror.getId(l),l]}return[s,o]}),$e(this,"numberOfChanges",s=>{var o,l,u,c,h,f,m,v;return((o=(l=s.removes)===null||l===void 0?void 0:l.length)!==null&&o!==void 0?o:0)+((u=(c=s.attributes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)+((h=(f=s.texts)===null||f===void 0?void 0:f.length)!==null&&h!==void 0?h:0)+((m=(v=s.adds)===null||v===void 0?void 0:v.length)!==null&&m!==void 0?m:0)}),$e(this,"throttleMutations",s=>{if(s.type!==3||s.data.source!==0)return s;var o=s.data,l=this.numberOfChanges(o);o.attributes&&(o.attributes=o.attributes.filter(c=>{var h,f,m,[v,A]=this.getNodeOrRelevantParent(c.id);return this.mutationBuckets[v]===0?!1:(this.mutationBuckets[v]=(h=this.mutationBuckets[v])!==null&&h!==void 0?h:this.bucketSize,this.mutationBuckets[v]=Math.max(this.mutationBuckets[v]-1,0),this.mutationBuckets[v]===0&&(this.loggedTracker[v]||(this.loggedTracker[v]=!0,(f=(m=this.options).onBlockedNode)===null||f===void 0||f.call(m,v,A))),c)}));var u=this.numberOfChanges(o);return u!==0||l===u?s:void 0}),this.rrweb=t,this.options=i,this.refillRate=Eo((n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,0,100,"mutation throttling refill rate"),this.bucketSize=Eo((r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,0,100,"mutation throttling bucket size"),setInterval(()=>{this.refillBuckets()},1e3)}}var ks=Uint8Array,Li=Uint16Array,id=Uint32Array,WS=new ks([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),KS=new ks([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ok=new ks([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hj=function(e,t){for(var n=new Li(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new id(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},pj=hj(WS,2),CF=pj[0],e_=pj[1];CF[28]=258,e_[258]=28;for(var ak=hj(KS,0)[1],gj=new Li(32768),Rn=0;Rn<32768;++Rn){var Nl=(43690&Rn)>>>1|(21845&Rn)<<1;Nl=(61680&(Nl=(52428&Nl)>>>2|(13107&Nl)<<2))>>>4|(3855&Nl)<<4,gj[Rn]=((65280&Nl)>>>8|(255&Nl)<<8)>>>1}var nh=function(e,t,n){for(var r=e.length,i=0,s=new Li(t);i<r;++i)++s[e[i]-1];var o,l=new Li(t);for(i=0;i<t;++i)l[i]=l[i-1]+s[i-1]<<1;for(o=new Li(r),i=0;i<r;++i)o[i]=gj[l[e[i]-1]++]>>>15-e[i];return o},pc=new ks(288);for(Rn=0;Rn<144;++Rn)pc[Rn]=8;for(Rn=144;Rn<256;++Rn)pc[Rn]=9;for(Rn=256;Rn<280;++Rn)pc[Rn]=7;for(Rn=280;Rn<288;++Rn)pc[Rn]=8;var f0=new ks(32);for(Rn=0;Rn<32;++Rn)f0[Rn]=5;var kF=nh(pc,9),TF=nh(f0,5),mj=function(e){return(e/8>>0)+(7&e&&1)},vj=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Li?Li:e instanceof id?id:ks)(n-t);return r.set(e.subarray(t,n)),r},Go=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},wf=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},QA=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new ks(0),0];if(i==1){var o=new ks(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(E,P){return E.f-P.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],c=0,h=1,f=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};h!=i-1;)l=n[n[c].f<n[f].f?c++:f++],u=n[c!=h&&n[c].f<n[f].f?c++:f++],n[h++]={s:-1,f:l.f+u.f,l,r:u};var m=s[0].s;for(r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var v=new Li(m+1),A=t_(n[h-1],v,0);if(A>t){r=0;var b=0,S=A-t,w=1<<S;for(s.sort(function(E,P){return v[P.s]-v[E.s]||E.f-P.f});r<i;++r){var I=s[r].s;if(!(v[I]>t))break;b+=w-(1<<A-v[I]),v[I]=t}for(b>>>=S;b>0;){var R=s[r].s;v[R]<t?b-=1<<t-v[R]++-1:++r}for(;r>=0&&b;--r){var T=s[r].s;v[T]==t&&(--v[T],++b)}A=t}return[new ks(v),A]},t_=function(e,t,n){return e.s==-1?Math.max(t_(e.l,t,n+1),t_(e.r,t,n+1)):t[e.s]=n},lk=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Li(++t),r=0,i=e[0],s=1,o=function(u){n[r++]=u},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[l]}return[n.subarray(0,r),t]},Ef=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},n_=function(e,t,n){var r=n.length,i=mj(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},ck=function(e,t,n,r,i,s,o,l,u,c,h){Go(t,h++,n),++i[256];for(var f=QA(i,15),m=f[0],v=f[1],A=QA(s,15),b=A[0],S=A[1],w=lk(m),I=w[0],R=w[1],T=lk(b),E=T[0],P=T[1],N=new Li(19),j=0;j<I.length;++j)N[31&I[j]]++;for(j=0;j<E.length;++j)N[31&E[j]]++;for(var V=QA(N,7),k=V[0],D=V[1],H=19;H>4&&!k[ok[H-1]];--H);var B,G,F,L,Y=c+5<<3,q=Ef(i,pc)+Ef(s,f0)+o,Q=Ef(i,m)+Ef(s,b)+o+14+3*H+Ef(N,k)+(2*N[16]+3*N[17]+7*N[18]);if(Y<=q&&Y<=Q)return n_(t,h,e.subarray(u,u+c));if(Go(t,h,1+(Q<q)),h+=2,Q<q){B=nh(m,v),G=m,F=nh(b,S),L=b;var M=nh(k,D);for(Go(t,h,R-257),Go(t,h+5,P-1),Go(t,h+10,H-4),h+=14,j=0;j<H;++j)Go(t,h+3*j,k[ok[j]]);h+=3*H;for(var U=[I,E],X=0;X<2;++X){var de=U[X];for(j=0;j<de.length;++j){var z=31&de[j];Go(t,h,M[z]),h+=k[z],z>15&&(Go(t,h,de[j]>>>5&127),h+=de[j]>>>12)}}}else B=kF,G=pc,F=TF,L=f0;for(j=0;j<l;++j)if(r[j]>255){z=r[j]>>>18&31,wf(t,h,B[z+257]),h+=G[z+257],z>7&&(Go(t,h,r[j]>>>23&31),h+=WS[z]);var pe=31&r[j];wf(t,h,F[pe]),h+=L[pe],pe>3&&(wf(t,h,r[j]>>>5&8191),h+=KS[pe])}else wf(t,h,B[r[j]]),h+=G[r[j]];return wf(t,h,B[256]),h+G[256]},IF=new id([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RF=function(){for(var e=new id(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),PF=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=RF[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},MF=function(e,t,n,r,i){return function(s,o,l,u,c,h){var f=s.length,m=new ks(u+f+5*(1+Math.floor(f/7e3))+c),v=m.subarray(u,m.length-c),A=0;if(!o||f<8)for(var b=0;b<=f;b+=65535){var S=b+65535;S<f?A=n_(v,A,s.subarray(b,S)):(v[b]=h,A=n_(v,A,s.subarray(b,f)))}else{for(var w=IF[o-1],I=w>>>13,R=8191&w,T=(1<<l)-1,E=new Li(32768),P=new Li(T+1),N=Math.ceil(l/3),j=2*N,V=function(vt){return(s[vt]^s[vt+1]<<N^s[vt+2]<<j)&T},k=new id(25e3),D=new Li(288),H=new Li(32),B=0,G=0,F=(b=0,0),L=0,Y=0;b<f;++b){var q=V(b),Q=32767&b,M=P[q];if(E[Q]=M,P[q]=Q,L<=b){var U=f-b;if((B>7e3||F>24576)&&U>423){A=ck(s,v,0,k,D,H,G,F,Y,b-Y,A),F=B=G=0,Y=b;for(var X=0;X<286;++X)D[X]=0;for(X=0;X<30;++X)H[X]=0}var de=2,z=0,pe=R,se=Q-M&32767;if(U>2&&q==V(b-se))for(var me=Math.min(I,U)-1,Ee=Math.min(32767,b),Re=Math.min(258,U);se<=Ee&&--pe&&Q!=M;){if(s[b+de]==s[b+de-se]){for(var be=0;be<Re&&s[b+be]==s[b+be-se];++be);if(be>de){if(de=be,z=se,be>me)break;var je=Math.min(se,be-2),Xe=0;for(X=0;X<je;++X){var Ue=b-se+X+32768&32767,Le=Ue-E[Ue]+32768&32767;Le>Xe&&(Xe=Le,M=Ue)}}}se+=(Q=M)-(M=E[Q])+32768&32767}if(z){k[F++]=268435456|e_[de]<<18|ak[z];var Oe=31&e_[de],mt=31&ak[z];G+=WS[Oe]+KS[mt],++D[257+Oe],++H[mt],L=b+de,++B}else k[F++]=s[b],++D[s[b]]}}A=ck(s,v,h,k,D,H,G,F,Y,b-Y,A)}return vj(m,0,u+mj(A)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},r_=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},jF=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&r_(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},OF=function(e){return 10+(e.filename&&e.filename.length+1||0)};function yj(e,t){t===void 0&&(t={});var n=PF(),r=e.length;n.p(e);var i=MF(e,t,OF(t),8),s=i.length;return jF(i,t),r_(i,s-8,n.d()),r_(i,s-4,r),i}function Aj(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new ks(e.length+(e.length>>>1)),i=0,s=function(c){r[i++]=c},o=0;o<n;++o){if(i+5>r.length){var l=new ks(i+8+(n-o<<1));l.set(r),r=l}var u=e.charCodeAt(o);u<128||t?s(u):u<2048?(s(192|u>>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++o))>>>18),s(128|u>>>12&63),s(128|u>>>6&63),s(128|63&u)):(s(224|u>>>12),s(128|u>>>6&63),s(128|63&u))}return vj(r,0,i)}var VF=3e5,LF=[qs.MouseMove,qs.MouseInteraction,qs.Scroll,qs.ViewportResize,qs.Input,qs.TouchMove,qs.MediaInteraction,qs.Drag],uk=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}),$r="[SessionRecording]";function Bl(e){return function(t,n){for(var r="",i=0;i<t.length;){var s=t[i++];s<128||n?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&t[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&t[i++])<<6|63&t[i++]):(s=((15&s)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(yj(Aj(JSON.stringify(e))),!0)}function dk(e){return e.type===Xo.Custom&&e.data.tag==="sessionIdle"}function fk(e,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(e))}class NF{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var t,n;return kt==null||(t=kt.__PosthogExtensions__)===null||t===void 0||(n=t.rrweb)===null||n===void 0?void 0:n.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error($r+" must be started with a valid sessionManager.");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var t,n;return this.triggerStatus==="trigger_pending"?6e4:(t=(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:VF}get isSampled(){var t=this.instance.get_property(Hf);return Zl(t)?t:null}get sessionDuration(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get isRecordingEnabled(){var t=!!this.instance.get_property(Bb),n=!this.instance.config.disable_session_recording;return ce&&t&&n}get isConsoleLogCaptureEnabled(){var t=!!this.instance.get_property($2),n=this.instance.config.enable_recording_console_log;return n??t}get canvasRecording(){var t,n,r,i,s,o,l=this.instance.config.session_recording.captureCanvas,u=this.instance.get_property(U2),c=(t=(n=l==null?void 0:l.recordCanvas)!==null&&n!==void 0?n:u==null?void 0:u.enabled)!==null&&t!==void 0&&t,h=(r=(i=l==null?void 0:l.canvasFps)!==null&&i!==void 0?i:u==null?void 0:u.fps)!==null&&r!==void 0?r:0,f=(s=(o=l==null?void 0:l.canvasQuality)!==null&&o!==void 0?o:u==null?void 0:u.quality)!==null&&s!==void 0?s:0;return{enabled:c,fps:Eo(h,0,12,"canvas recording fps"),quality:Eo(f,0,1,"canvas recording quality")}}get networkPayloadCapture(){var t,n,r=this.instance.get_property(z2),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),l=yr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,u=!!(Zl(l)?l:r!=null&&r.capturePerformance);return s||o||u?{recordHeaders:s,recordBody:o,recordPerformance:u}:void 0}get sampleRate(){var t=this.instance.get_property(H2);return Yi(t)?t:null}get minimumDuration(){var t=this.instance.get_property(G2);return Yi(t)?t:null}get status(){return this.receivedDecide?this.isRecordingEnabled?this._urlBlocked?"paused":wn(this._linkedFlag)||this._linkedFlagSeen?this.triggerStatus==="trigger_pending"?"buffering":Zl(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}get urlTriggerStatus(){var t;return this._urlTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(HA))===this.sessionId?"trigger_activated":"trigger_pending"}get eventTriggerStatus(){var t;return this._eventTriggers.length===0?"trigger_disabled":((t=this.instance)===null||t===void 0?void 0:t.get_property(GA))===this.sessionId?"trigger_activated":"trigger_pending"}get triggerStatus(){var t=this.eventTriggerStatus==="trigger_activated"||this.urlTriggerStatus==="trigger_activated",n=this.eventTriggerStatus==="trigger_pending"||this.urlTriggerStatus==="trigger_pending";return t?"trigger_activated":n?"trigger_pending":"trigger_disabled"}constructor(t){if($e(this,"queuedRRWebEvents",[]),$e(this,"isIdle",!1),$e(this,"_linkedFlagSeen",!1),$e(this,"_lastActivityTimestamp",Date.now()),$e(this,"_linkedFlag",null),$e(this,"_removePageViewCaptureHook",void 0),$e(this,"_onSessionIdListener",void 0),$e(this,"_persistDecideOnSessionListener",void 0),$e(this,"_samplingSessionListener",void 0),$e(this,"_urlTriggers",[]),$e(this,"_urlBlocklist",[]),$e(this,"_urlBlocked",!1),$e(this,"_eventTriggers",[]),$e(this,"_removeEventTriggerCaptureHook",void 0),$e(this,"_forceAllowLocalhostNetworkCapture",!1),$e(this,"_onBeforeUnload",()=>{this._flushBuffer()}),$e(this,"_onOffline",()=>{this._tryAddCustomEvent("browser offline",{})}),$e(this,"_onOnline",()=>{this._tryAddCustomEvent("browser online",{})}),$e(this,"_onVisibilityChange",()=>{if(He!=null&&He.visibilityState){var i="window "+He.visibilityState;this._tryAddCustomEvent(i,{})}}),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw Ae.error($r+" started without valid sessionManager"),new Error($r+" started without valid sessionManager. This is a bug.");var{sessionId:n,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=n,this.windowId=r,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&Ae.warn($r+" session_idle_threshold_ms (".concat(this.sessionIdleThresholdMilliseconds,") is greater than the session timeout (").concat(this.sessionManager.sessionTimeoutMs,"). Session will never be detected as idle"))}startIfEnabledOrStop(t){this.isRecordingEnabled?(this._startCapture(t),ce==null||ce.addEventListener("beforeunload",this._onBeforeUnload),ce==null||ce.addEventListener("offline",this._onOffline),ce==null||ce.addEventListener("online",this._onOnline),ce==null||ce.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),wn(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this._maskUrl(n==null?void 0:n.properties.$current_url):"";if(!r)return;this._tryAddCustomEvent("$pageview",{href:r})}}catch(i){Ae.error("Could not add $pageview to rrweb session",i)}})),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((n,r,i)=>{var s,o,l,u;i&&(this._tryAddCustomEvent("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this.instance)===null||s===void 0||(o=s.persistence)===null||o===void 0||o.unregister(GA),(l=this.instance)===null||l===void 0||(u=l.persistence)===null||u===void 0||u.unregister(HA))}))):this.stopRecording()}stopRecording(){var t,n,r,i;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,ce==null||ce.removeEventListener("beforeunload",this._onBeforeUnload),ce==null||ce.removeEventListener("offline",this._onOffline),ce==null||ce.removeEventListener("online",this._onOnline),ce==null||ce.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),(t=this._removePageViewCaptureHook)===null||t===void 0||t.call(this),this._removePageViewCaptureHook=void 0,(n=this._removeEventTriggerCaptureHook)===null||n===void 0||n.call(this),this._removeEventTriggerCaptureHook=void 0,(r=this._onSessionIdListener)===null||r===void 0||r.call(this),this._onSessionIdListener=void 0,(i=this._samplingSessionListener)===null||i===void 0||i.call(this),this._samplingSessionListener=void 0,Ae.info($r+" stopped"))}makeSamplingDecision(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(Yi(i)){var s,o=this.isSampled,l=r||!Zl(o);l?s=Math.random()<i:s=o,l&&(s?this._reportStarted("sampled"):Ae.warn($r+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i,isSampled:s})),(n=this.instance.persistence)===null||n===void 0||n.register({[Hf]:s})}else{var u;(u=this.instance.persistence)===null||u===void 0||u.register({[Hf]:null})}}afterDecideResponse(t){var n,r,i,s,o,l;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(l=t.sessionRecording)===null||l===void 0?void 0:l.endpoint),this._setupSampling(),!wn(this._linkedFlag)&&!this._linkedFlagSeen){var u=ii(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,c=ii(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((h,f)=>{var m=yr(f)&&u in f,v=c?f[u]===c:m;v&&this._reportStarted("linked_flag_matched",{linkedFlag:u,linkedVariant:c}),this._linkedFlagSeen=v})}(i=t.sessionRecording)!==null&&i!==void 0&&i.urlTriggers&&(this._urlTriggers=t.sessionRecording.urlTriggers),(s=t.sessionRecording)!==null&&s!==void 0&&s.urlBlocklist&&(this._urlBlocklist=t.sessionRecording.urlBlocklist),(o=t.sessionRecording)!==null&&o!==void 0&&o.eventTriggers&&(this._eventTriggers=t.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){Yi(this.sampleRate)&&wn(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(t=>{this.makeSamplingDecision(t)}))}_persistDecideResponse(t){if(this.instance.persistence){var n,r=this.instance.persistence,i=()=>{var s,o,l,u,c,h,f,m,v=(s=t.sessionRecording)===null||s===void 0?void 0:s.sampleRate,A=wn(v)?null:parseFloat(v),b=(o=t.sessionRecording)===null||o===void 0?void 0:o.minimumDurationMilliseconds;r.register({[Bb]:!!t.sessionRecording,[$2]:(l=t.sessionRecording)===null||l===void 0?void 0:l.consoleLogRecordingEnabled,[z2]:Ie({capturePerformance:t.capturePerformance},(u=t.sessionRecording)===null||u===void 0?void 0:u.networkPayloadCapture),[U2]:{enabled:(c=t.sessionRecording)===null||c===void 0?void 0:c.recordCanvas,fps:(h=t.sessionRecording)===null||h===void 0?void 0:h.canvasFps,quality:(f=t.sessionRecording)===null||f===void 0?void 0:f.canvasQuality},[H2]:A,[G2]:tt(b)?null:b,[q2]:(m=t.sessionRecording)===null||m===void 0?void 0:m.scriptConfig})};i(),(n=this._persistDecideOnSessionListener)===null||n===void 0||n.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(i)}}log(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}_startCapture(t){if(!tt(Object.assign)&&!tt(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var n,r;this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():(n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,this.scriptName,i=>{if(i)return Ae.error($r+" could not load recorder",i);this._onScriptLoaded()}),Ae.info($r+" starting"),this.status==="active"&&this._reportStarted(t||"recording_initialized")}}get scriptName(){var t,n,r;return((t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0||(r=n.get_property(q2))===null||r===void 0?void 0:r.script)||"recorder"}isInteractiveEvent(t){var n;return t.type===3&&LF.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}_updateWindowAndSessionIds(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var{windowId:i,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),o=this.sessionId!==s,l=this.windowId!==i;this.windowId=i,this.sessionId=s,o||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this._scheduleFullSnapshot()}}_tryRRWebMethod(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):Ae.warn($r+" could not emit queued rrweb event.",n,t),!1}}_tryAddCustomEvent(t,n){return this._tryRRWebMethod(uk(()=>this.rrwebRecord.addCustomEvent(t,n)))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(uk(()=>this.rrwebRecord.takeFullSnapshot()))}_onScriptLoaded(){var t,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording;for(var[i,s]of Object.entries(r||{}))i in n&&(i==="maskInputOptions"?n.maskInputOptions=Ie({password:!0},s):n[i]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new EF(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(l,u)=>{var c="Too many mutations on node '".concat(l,"'. Rate limiting. This could be due to SVG animations or something similar");Ae.info(c,{node:u}),this.log($r+" "+c,"warn")}});var o=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ie({emit:l=>{this.onRRwebEmit(l)},plugins:o},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:o.map(l=>l==null?void 0:l.name)}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else Ae.error($r+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval(()=>{this._tryTakeFullSnapshot()},t))}}_gatherRRWebPlugins(){var t,n,r,i,s=[],o=(t=kt.__PosthogExtensions__)===null||t===void 0||(n=t.rrwebPlugins)===null||n===void 0?void 0:n.getRecordConsolePlugin;o&&this.isConsoleLogCaptureEnabled&&s.push(o());var l=(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.rrwebPlugins)===null||i===void 0?void 0:i.getRecordNetworkPlugin;return this.networkPayloadCapture&&ws(l)&&(!tF.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(l(wF(this.instance.config,this.networkPayloadCapture))):Ae.info($r+" NetworkCapture not started because we are on localhost.")),s}onRRwebEmit(t){var n;if(this._processQueuedEvents(),t&&yr(t)){if(t.type===Xo.Meta){var r=this._maskUrl(t.data.href);if(this._lastHref=r,!r)return;t.data.href=r}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),this.status!=="paused"||function(f){return f.type===Xo.Custom&&f.data.tag==="recording paused"}(t)){t.type===Xo.FullSnapshot&&this._scheduleFullSnapshot(),t.type===Xo.FullSnapshot&&this.triggerStatus==="trigger_pending"&&this.clearBuffer();var i=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(i){var s=function(f){var m=f;if(m&&yr(m)&&m.type===6&&yr(m.data)&&m.data.plugin==="rrweb/console@1"){m.data.payload.payload.length>10&&(m.data.payload.payload=m.data.payload.payload.slice(0,10),m.data.payload.payload.push("...[truncated]"));for(var v=[],A=0;A<m.data.payload.payload.length;A++)m.data.payload.payload[A]&&m.data.payload.payload[A].length>2e3?v.push(m.data.payload.payload[A].slice(0,2e3)+"...[truncated]"):v.push(m.data.payload.payload[A]);return m.data.payload.payload=v,f}return f}(i);if(this._updateWindowAndSessionIds(s),!this.isIdle||dk(s)){if(dk(s)){var o=s.data.payload;if(o){var l=o.lastActivityTimestamp,u=o.threshold;s.timestamp=l+u}}var c=(n=this.instance.config.session_recording.compress_events)===null||n===void 0||n?function(f){if(u0(f)<1024)return f;try{if(f.type===Xo.FullSnapshot)return Ie(Ie({},f),{},{data:Bl(f.data),cv:"2024-10"});if(f.type===Xo.IncrementalSnapshot&&f.data.source===qs.Mutation)return Ie(Ie({},f),{},{cv:"2024-10",data:Ie(Ie({},f.data),{},{texts:Bl(f.data.texts),attributes:Bl(f.data.attributes),removes:Bl(f.data.removes),adds:Bl(f.data.adds)})});if(f.type===Xo.IncrementalSnapshot&&f.data.source===qs.StyleSheetRule)return Ie(Ie({},f),{},{cv:"2024-10",data:Ie(Ie({},f.data),{},{adds:Bl(f.data.adds),removes:Bl(f.data.removes)})})}catch(m){Ae.error($r+" could not compress event - will use uncompressed event",m)}return f}(s):s,h={$snapshot_bytes:u0(c),$snapshot_data:c,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(h):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&ce){var t=this._maskUrl(ce.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var t=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this._tryRRWebMethod(n)})}}_maskUrl(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=Yi(n)&&n>=0,i=Yi(t)&&r&&n<t;return this.status==="buffering"||i?(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&Yb(this.buffer).forEach(s=>{this._captureSnapshot({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId})}),this.clearBuffer())}_captureSnapshotBuffered(t){var n,r=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);!this.isIdle&&(this.buffer.size+t.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout(()=>{this._flushBuffer()},2e3))}_captureSnapshot(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(ce!==void 0&&ce.location.href){var t=ce.location.href,n=this.status==="paused",r=fk(t,this._urlBlocklist);r&&!n?this._pauseRecording():!r&&n&&this._resumeRecording(),fk(t,this._urlTriggers)&&this._activateTrigger("url")}}_activateTrigger(t){var n,r;this.triggerStatus==="trigger_pending"&&((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[t==="url"?HA:GA]:this.sessionId}),this._flushBuffer(),this._reportStarted(t+"_trigger_matched"))}_pauseRecording(){var t,n;this.status!=="paused"&&(this._urlBlocked=!0,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.add("ph-no-capture"),clearInterval(this._fullSnapshotTimer),setTimeout(()=>{this._flushBuffer()},100),Ae.info($r+" recording paused due to URL blocker"),this._tryAddCustomEvent("recording paused",{reason:"url blocker"}))}_resumeRecording(){var t,n;this.status==="paused"&&(this._urlBlocked=!1,He==null||(t=He.body)===null||t===void 0||(n=t.classList)===null||n===void 0||n.remove("ph-no-capture"),this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),Ae.info($r+" recording resumed"))}_addEventTriggerListener(){this._eventTriggers.length!==0&&wn(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on("eventCaptured",t=>{try{this._eventTriggers.includes(t.event)&&this._activateTrigger("event")}catch(n){Ae.error($r+"Could not activate event trigger",n)}}))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._reportStarted("linked_flag_overridden")}overrideSampling(){var t;(t=this.instance.persistence)===null||t===void 0||t.register({[Hf]:!0}),this._reportStarted("sampling_overridden")}overrideTrigger(t){this._activateTrigger(t)}_reportStarted(t,n){this.instance.register_for_session({$session_recording_start_reason:t}),Ae.info($r+" "+t.replace("_"," "),n),Vt(["recording_initialized","session_id_changed"],t)||this._tryAddCustomEvent(t,n)}}class BF{constructor(t){this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}call(){var t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Ou),group_properties:this.instance.get_property(Ga),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:Ys.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:n=>this.parseDecideResponse(n.json)})}parseDecideResponse(t){this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},n),!n)return He&&He.body?void this.instance._afterDecideResponse(t):(Ae.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.parseDecideResponse(t)},500));Ae.error("Failed to fetch feature flags from PostHog.")}}var Zo,DF=ce!=null&&ce.location?l0(ce.location.hash,"__posthog")||l0(location.hash,"state"):null,hk="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(Zo||(Zo={}));class FF{constructor(t){this.instance=t}setToolbarState(t){kt.ph_toolbar_state=t}getToolbarState(){var t;return(t=kt.ph_toolbar_state)!==null&&t!==void 0?t:Zo.UNINITIALIZED}maybeLoadToolbar(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!ce||!He)return!1;r=(t=r)!==null&&t!==void 0?t:ce.location,s=(n=s)!==null&&n!==void 0?n:ce.history;try{if(!i){try{ce.localStorage.setItem("test","test"),ce.localStorage.removeItem("test")}catch{return!1}i=ce==null?void 0:ce.localStorage}var o,l=DF||l0(r.hash,"__posthog")||l0(r.hash,"state"),u=l?M2(()=>JSON.parse(atob(decodeURIComponent(l))))||M2(()=>JSON.parse(decodeURIComponent(l))):null;return u&&u.action==="ph_authorize"?((o=u).source="url",o&&Object.keys(o).length>0&&(u.desiredHash?r.hash=u.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(hk)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}_callLoadToolbar(t){(kt.ph_load_toolbar||kt.ph_load_editor)(t,this.instance)}loadToolbar(t){var n=!(He==null||!He.getElementById(F5));if(!ce||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ie(Ie({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(ce.localStorage.setItem(hk,JSON.stringify(Ie(Ie({},i),{},{source:void 0}))),this.getToolbarState()===Zo.LOADED)this._callLoadToolbar(i);else if(this.getToolbarState()===Zo.UNINITIALIZED){var s,o;this.setToolbarState(Zo.LOADING),(s=kt.__PosthogExtensions__)===null||s===void 0||(o=s.loadExternalDependency)===null||o===void 0||o.call(s,this.instance,"toolbar",l=>{if(l)return Ae.error("Failed to load toolbar",l),void this.setToolbarState(Zo.UNINITIALIZED);this.setToolbarState(Zo.LOADED),this._callLoadToolbar(i)}),na(ce,"turbolinks:load",()=>{this.setToolbarState(Zo.UNINITIALIZED),this.loadToolbar(i)})}return!0}_loadEditor(t){return this.loadToolbar(t)}maybeLoadEditor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}class $F{constructor(t){$e(this,"isPaused",!0),$e(this,"queue",[]),$e(this,"flushTimeoutMs",3e3),this.sendRequest=t}enqueue(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t),r=[...n.filter(i=>i.url.indexOf("/e")===0),...n.filter(i=>i.url.indexOf("/e")!==0)];r.map(i=>{this.sendRequest(Ie(Ie({},i),{},{transport:"sendBeacon"}))})}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(()=>{if(this.clearFlushTimeout(),this.queue.length>0){var n=this.formatQueue(),r=function(s){var o=n[s],l=new Date().getTime();o.data&&sr(o.data)&&mn(o.data,u=>{u.offset=Math.abs(u.timestamp-l),delete u.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var t={};return mn(this.queue,n=>{var r,i=n,s=(i?i.batchKey:null)||i.url;tt(t[s])&&(t[s]=Ie(Ie({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}var zF=!!Vb||!!Ob,pk="text/plain",h0=(e,t)=>{var[n,r]=e.split("?"),i=Ie({},t);r==null||r.split("&").forEach(o=>{var[l]=o.split("=");delete i[l]});var s=nF(i);return s=s?(r?r+"&":"")+s:r,"".concat(n,"?").concat(s)},wg=(e,t)=>JSON.stringify(e,(n,r)=>typeof r=="bigint"?r.toString():r,t),JA=e=>{var{data:t,compression:n}=e;if(t){if(n===Ys.GZipJS){var r=yj(Aj(wg(t)),{mtime:0}),i=new Blob([r],{type:pk});return{contentType:pk,body:i,estimatedSize:i.size}}if(n===Ys.Base64){var s=function(u){var c,h,f,m,v,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b=0,S=0,w="",I=[];if(!u)return u;u=FD(u);do c=(v=u.charCodeAt(b++)<<16|u.charCodeAt(b++)<<8|u.charCodeAt(b++))>>18&63,h=v>>12&63,f=v>>6&63,m=63&v,I[S++]=A.charAt(c)+A.charAt(h)+A.charAt(f)+A.charAt(m);while(b<u.length);switch(w=I.join(""),u.length%3){case 1:w=w.slice(0,-2)+"==";break;case 2:w=w.slice(0,-1)+"="}return w}(wg(t)),o=(u=>"data="+encodeURIComponent(typeof u=="string"?u:wg(u)))(s);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var l=wg(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},rh=[];Vb&&rh.push({transport:"XHR",method:e=>{var t,n=new Vb;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=JA(e))!==null&&t!==void 0?t:{};mn(e.headers,function(s,o){n.setRequestHeader(o,s)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s,o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}(s=e.callback)===null||s===void 0||s.call(e,o)}},n.send(i)}}),Ob&&rh.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:s}=(t=JA(e))!==null&&t!==void 0?t:{},o=new Headers;mn(e.headers,function(h,f){o.append(f,h)}),r&&o.append("Content-Type",r);var l=e.url,u=null;if(P2){var c=new P2;u={signal:c.signal,timeout:setTimeout(()=>c.abort(),e.timeout)}}Ob(l,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=u)===null||n===void 0?void 0:n.signal}).then(h=>h.text().then(f=>{var m,v={statusCode:h.status,text:f};if(h.status===200)try{v.json=JSON.parse(f)}catch(A){Ae.error(A)}(m=e.callback)===null||m===void 0||m.call(e,v)})).catch(h=>{var f;Ae.error(h),(f=e.callback)===null||f===void 0||f.call(e,{statusCode:0,text:h})}).finally(()=>u?clearTimeout(u.timeout):null)}}),Ji!=null&&Ji.sendBeacon&&rh.push({transport:"sendBeacon",method:e=>{var t=h0(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=JA(e))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;Ji.sendBeacon(t,s)}catch{}}});var UF=["retriesPerformedSoFar"];class HF{constructor(t){$e(this,"isPolling",!1),$e(this,"pollIntervalMs",3e3),$e(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!tt(ce)&&"onLine"in ce.navigator&&(this.areWeOnline=ce.navigator.onLine,ce.addEventListener("online",()=>{this.areWeOnline=!0,this.flush()}),ce.addEventListener("offline",()=>{this.areWeOnline=!1}))}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=N5(t,UF);Yi(n)&&n>0&&(r.url=h0(r.url,{retry_count:n})),this.instance._send_request(Ie(Ie({},r),{},{callback:i=>{var s;i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.enqueue(Ie({retriesPerformedSoFar:n},r)):(s=r.callback)===null||s===void 0||s.call(r,i)}}))}enqueue(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var l=3e3*Math.pow(2,o),u=l/2,c=Math.min(18e5,l),h=(Math.random()-.5)*(c-u);return Math.ceil(c+h)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),Ae.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout(()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()},this.pollIntervalMs)}flush(){var t=Date.now(),n=[],r=this.queue.filter(s=>s.retryAt<t||(n.push(s),!1));if(this.queue=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(Ie(Ie({},t),{},{transport:"sendBeacon"}))}catch(n){Ae.error(n)}this.queue=[]}}var ec;class GF{constructor(t,n,r){var i;if($e(this,"_sessionIdChangedHandlers",[]),!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");this.config=t.config,this.persistence=t.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||Ya,this._windowIdGenerator=r||Ya;var s=this.config.persistence_name||this.config.token,o=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Eo(o,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var l=Gr.parse(this._window_id_storage_key),u=Gr.parse(this._primary_window_exists_storage_key);l&&!u?this._windowId=l:Gr.remove(this._window_id_storage_key),Gr.set(this._primary_window_exists_storage_key,!0)}if((i=this.config.bootstrap)!==null&&i!==void 0&&i.sessionID)try{var c=(h=>{var f=h.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),c)}catch(h){Ae.error("Invalid sessionID in bootstrap",h)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return tt(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter(n=>n!==t)}}_canUseSessionStorage(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&Gr.is_supported()}_setWindowId(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&Gr.set(this._window_id_storage_key,t))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?Gr.parse(this._window_id_storage_key):null}_setSessionId(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register({[r0]:[n,t,r]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[r0];return sr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){ce==null||ce.addEventListener("beforeunload",()=>{this._canUseSessionStorage()&&Gr.remove(this._primary_window_exists_storage_key)})}checkAndGetSessionAndWindowId(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),[r,i,s]=this._getSessionId(),o=this._getWindowId(),l=Yi(s)&&s>0&&Math.abs(n-s)>864e5,u=!1,c=!i,h=!t&&Math.abs(n-r)>this.sessionTimeoutMs;c||h||l?(i=this._sessionIdGenerator(),o=this._windowIdGenerator(),Ae.info("[SessionId] new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}}),s=n,u=!0):o||(o=this._windowIdGenerator(),u=!0);var f=r===0||!t||l?n:r,m=s===0?new Date().getTime():s;return this._setWindowId(o),this._setSessionId(i,f,m),u&&this._sessionIdChangedHandlers.forEach(v=>v(i,o,u?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0)),{sessionId:i,windowId:o,sessionStartTimestamp:m,changeReason:u?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:r}}}(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(ec||(ec={}));var gk="i.posthog.com";class qF{constructor(t){$e(this,"_regionCache",{}),this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace(".".concat(gk),".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ec.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ec.EU:this._regionCache[this.apiHost]=ec.CUSTOM),this._regionCache[this.apiHost]}endpointFor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return this.uiHost+n;if(this.region===ec.CUSTOM)return this.apiHost+n;var r=gk+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}var bj="posthog-js";function _j(e){var{organization:t,projectId:n,prefix:r,severityAllowList:i=["error"]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=>{var o,l,u,c,h;if(!(i==="*"||i.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var f=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));s.tags["PostHog Person URL"]=f,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var m=((o=s.exception)===null||o===void 0?void 0:o.values)||[];m.map(A=>{A.stacktrace&&(A.stacktrace.type="raw")});var v={$exception_message:((l=m[0])===null||l===void 0?void 0:l.value)||s.message,$exception_type:(u=m[0])===null||u===void 0?void 0:u.type,$exception_personURL:f,$exception_level:s.level,$exception_list:m,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((c=m[0])===null||c===void 0?void 0:c.value)||s.message,$sentry_exception_type:(h=m[0])===null||h===void 0?void 0:h.type,$sentry_tags:s.tags};return t&&n&&(v.$sentry_url=(r||"https://sentry.io/organizations/")+t+"/issues/?project="+n+"&query="+s.event_id),e.exceptions.sendExceptionEvent(v),s}}class WF{constructor(t,n,r,i,s){this.name=bj,this.setupOnce=function(o){o(_j(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}var mk,p0,Gs;function KF(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=u=>{var c=()=>u.anonymousId()||Ya();r.config.get_device_id=c,u.id()&&(r.register({distinct_id:u.id(),$device_id:c()}),r.persistence.set_property(Jo,"identified")),i()},l=s.user();"then"in l&&ws(l.then)?l.then(u=>o(u)):o(l)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||Ae.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,o)=>{var l;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(Ae.info("Segment integration does not have a userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(Ae.info("Segment integration has a userId set, identifying with PostHog"),r.identify(s.event.userId));var u=r._calculate_event_properties(o,(l=s.event.properties)!==null&&l!==void 0?l:{},new Date);return s.event.properties=Object.assign({},u,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then(()=>{t()})})}class YF{constructor(t){this._instance=t}doPageView(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=ce==null?void 0:ce.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}doPageLeave(t){return this._previousPageViewProperties(t)}_previousPageViewProperties(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var s={};if(i){var{maxScrollHeight:o,lastScrollY:l,maxScrollY:u,maxContentHeight:c,lastContentY:h,maxContentY:f}=i;tt(o)||tt(l)||tt(u)||tt(c)||tt(h)||tt(f)||(o=Math.ceil(o),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c),h=Math.ceil(h),f=Math.ceil(f),s={$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:o<=1?1:Eo(l/o,0,1),$prev_pageview_max_scroll:u,$prev_pageview_max_scroll_percentage:o<=1?1:Eo(u/o,0,1),$prev_pageview_last_content:h,$prev_pageview_last_content_percentage:c<=1?1:Eo(h/c,0,1),$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:c<=1?1:Eo(f/c,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(mk||(mk={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(p0||(p0={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(Gs||(Gs={}));class Sj{constructor(){$e(this,"events",{}),this.events={}}on(t,n){return this.events[t]||(this.events[t]=[]),this.events[t].push(n),()=>{this.events[t]=this.events[t].filter(r=>r!==n)}}emit(t,n){for(var r of this.events[t]||[])r(n);for(var i of this.events["*"]||[])i(t,n)}}class Kl{constructor(t){$e(this,"_debugEventEmitter",new Sj),$e(this,"checkStep",(n,r)=>this.checkStepEvent(n,r)&&this.checkStepUrl(n,r)&&this.checkStepElement(n,r)),$e(this,"checkStepEvent",(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event)),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var t;if(!tt((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var n;(n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.on(r,i)})}}register(t){var n,r;if(!tt((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(o=>{var l,u;(l=this.actionRegistry)===null||l===void 0||l.add(o),(u=o.steps)===null||u===void 0||u.forEach(c=>{var h;(h=this.actionEvents)===null||h===void 0||h.add((c==null?void 0:c.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var i,s=new Set;t.forEach(o=>{var l;(l=o.steps)===null||l===void 0||l.forEach(u=>{u!=null&&u.selector&&s.add(u==null?void 0:u.selector)})}),(i=this.instance)===null||i===void 0||i.autocapture.setElementSelectors(s)}}on(t,n){var r;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(i=>{this.checkAction(n,i)&&this._debugEventEmitter.emit("actionCaptured",i.name)})}_addActionHook(t){this.onAction("actionCaptured",n=>t(n))}checkAction(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.checkStep(t,r))return!0;return!1}onAction(t,n){return this._debugEventEmitter.on(t,n)}checkStepUrl(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!Kl.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static matchString(t,n,r){switch(r){case"regex":return!!ce&&td(t,n);case"exact":return n===t;case"contains":var i=Kl.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return td(t,i);default:return!1}}static escapeStringRegexp(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}checkStepElement(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(s=>!(n!=null&&n.href&&!Kl.matchString(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!Kl.matchString(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!Kl.matchString(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}getElementsList(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}class _h{constructor(t){this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(t){var n;tt((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}setupActionBasedSurveys(t){var n=t.filter(r=>{var i,s,o,l;return((i=r.conditions)===null||i===void 0?void 0:i.actions)&&((s=r.conditions)===null||s===void 0||(o=s.actions)===null||o===void 0||(l=o.values)===null||l===void 0?void 0:l.length)>0});n.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new Kl(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(r=>{this.onAction(r)})),n.forEach(r=>{var i,s,o,l,u,c,h,f,m,v;r.conditions&&(i=r.conditions)!==null&&i!==void 0&&i.actions&&(s=r.conditions)!==null&&s!==void 0&&(o=s.actions)!==null&&o!==void 0&&o.values&&((l=r.conditions)===null||l===void 0||(u=l.actions)===null||u===void 0||(c=u.values)===null||c===void 0?void 0:c.length)>0&&((h=this.actionMatcher)===null||h===void 0||h.register(r.conditions.actions.values),(f=r.conditions)===null||f===void 0||(m=f.actions)===null||m===void 0||(v=m.values)===null||v===void 0||v.forEach(A=>{if(A&&A.name){var b=this.actionToSurveys.get(A.name);b&&b.push(r.id),this.actionToSurveys.set(A.name,b||[r.id])}}))}))}setupEventBasedSurveys(t){var n;t.filter(r=>{var i,s,o,l;return((i=r.conditions)===null||i===void 0?void 0:i.events)&&((s=r.conditions)===null||s===void 0||(o=s.events)===null||o===void 0||(l=o.values)===null||l===void 0?void 0:l.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,s,o;(i=r.conditions)===null||i===void 0||(s=i.events)===null||s===void 0||(o=s.values)===null||o===void 0||o.forEach(l=>{if(l&&l.name){var u=this.eventToSurveys.get(l.name);u&&u.push(r.id),this.eventToSurveys.set(l.name,u||[r.id])}})}))}onEvent(t,n){var r,i,s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[yg])||[];if(_h.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var o,l=n==null||(o=n.properties)===null||o===void 0?void 0:o.$survey_id;if(l){var u=s.indexOf(l);u>=0&&(s.splice(u,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}onAction(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[yg])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}_updateActivatedSurveys(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register({[yg]:[...new Set(t)]})}getSurveys(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[yg];return r||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}$e(_h,"SURVEY_SHOWN_EVENT_NAME","survey shown");var xj,tr,wj,Yl,vk,Ej,i_,Cj,s_={},kj=[],QF=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,YS=Array.isArray;function Qa(e,t){for(var n in t)e[n]=t[n];return e}function Tj(e){var t=e.parentNode;t&&t.removeChild(e)}function XA(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++wj,__i:-1,__u:0};return i==null&&tr.vnode!=null&&tr.vnode(s),s}function QS(e){return e.children}function Cm(e,t){this.props=e,this.context=t}function sd(e,t){if(t==null)return e.__?sd(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?sd(e):null}function Ij(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ij(e)}}function o_(e){(!e.__d&&(e.__d=!0)&&Yl.push(e)&&!g0.__r++||vk!==tr.debounceRendering)&&((vk=tr.debounceRendering)||Ej)(g0)}function g0(){var e,t,n,r,i,s,o,l,u;for(Yl.sort(i_);e=Yl.shift();)e.__d&&(t=Yl.length,r=void 0,s=(i=(n=e).__v).__e,l=[],u=[],(o=n.__P)&&((r=Qa({},i)).__v=i.__v+1,tr.vnode&&tr.vnode(r),Mj(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,l,s??sd(i),!!(32&i.__u),u),r.__.__k[r.__i]=r,ZF(l,r,u),r.__e!=s&&Ij(r)),Yl.length>t&&Yl.sort(i_));g0.__r=0}function Rj(e,t,n,r,i,s,o,l,u,c,h){var f,m,v,A,b,S=r&&r.__k||kj,w=t.length;for(n.__d=u,JF(n,t,S),u=n.__d,f=0;f<w;f++)(v=n.__k[f])!=null&&typeof v!="boolean"&&typeof v!="function"&&(m=v.__i===-1?s_:S[v.__i]||s_,v.__i=f,Mj(e,v,m,i,s,o,l,u,c,h),A=v.__e,v.ref&&m.ref!=v.ref&&(m.ref&&JS(m.ref,null,v),h.push(v.ref,v.__c||A,v)),b==null&&A!=null&&(b=A),65536&v.__u||m.__k===v.__k?u=Pj(v,u,e):typeof v.type=="function"&&v.__d!==void 0?u=v.__d:A&&(u=A.nextSibling),v.__d=void 0,v.__u&=-196609);n.__d=u,n.__e=b}function JF(e,t,n){var r,i,s,o,l,u=t.length,c=n.length,h=c,f=0;for(e.__k=[],r=0;r<u;r++)(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?XA(null,i,null,null,i):YS(i)?XA(QS,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?XA(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,l=XF(i,n,o=r+f,h),i.__i=l,s=null,l!==-1&&(h--,(s=n[l])&&(s.__u|=131072)),s==null||s.__v===null?(l==-1&&f--,typeof i.type!="function"&&(i.__u|=65536)):l!==o&&(l===o+1?f++:l>o?h>u-o?f+=l-o:f--:f=l<o&&l==o-1?l-o:0,l!==r+f&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=sd(s)),a_(s,s,!1),n[r]=null,h--);if(h)for(r=0;r<c;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=sd(s)),a_(s,s))}function Pj(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=Pj(r[i],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function XF(e,t,n,r){var i=e.key,s=e.type,o=n-1,l=n+1,u=t[n];if(u===null||u&&i==u.key&&s===u.type)return n;if(r>(u!=null&&!(131072&u.__u)?1:0))for(;o>=0||l<t.length;){if(o>=0){if((u=t[o])&&!(131072&u.__u)&&i==u.key&&s===u.type)return o;o--}if(l<t.length){if((u=t[l])&&!(131072&u.__u)&&i==u.key&&s===u.type)return l;l++}}return-1}function yk(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||QF.test(t)?n:n+"px"}function Eg(e,t,n,r,i){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||yk(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||yk(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?bk:Ak,s)):e.removeEventListener(t,s?bk:Ak,s);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Ak(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(tr.event?tr.event(e):e)}function bk(e){return this.l[e.type+!0](tr.event?tr.event(e):e)}function Mj(e,t,n,r,i,s,o,l,u,c){var h,f,m,v,A,b,S,w,I,R,T,E,P,N,j,V=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),s=[l=t.__e=n.__e]),(h=tr.__b)&&h(t);e:if(typeof V=="function")try{if(w=t.props,I=(h=V.contextType)&&r[h.__c],R=h?I?I.props.value:h.__:r,n.__c?S=(f=t.__c=n.__c).__=f.__E:("prototype"in V&&V.prototype.render?t.__c=f=new V(w,R):(t.__c=f=new Cm(w,R),f.constructor=V,f.render=t6),I&&I.sub(f),f.props=w,f.state||(f.state={}),f.context=R,f.__n=r,m=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),V.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Qa({},f.__s)),Qa(f.__s,V.getDerivedStateFromProps(w,f.__s))),v=f.props,A=f.state,f.__v=t,m)V.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(V.getDerivedStateFromProps==null&&w!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(w,R),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(w,f.__s,R)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=w,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(k){k&&(k.__=t)}),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(w,f.__s,R),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,A,b)})}if(f.context=R,f.props=w,f.__P=e,f.__e=!1,E=tr.__r,P=0,"prototype"in V&&V.prototype.render){for(f.state=f.__s,f.__d=!1,E&&E(t),h=f.render(f.props,f.state,f.context),N=0;N<f._sb.length;N++)f.__h.push(f._sb[N]);f._sb=[]}else do f.__d=!1,E&&E(t),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++P<25);f.state=f.__s,f.getChildContext!=null&&(r=Qa(Qa({},r),f.getChildContext())),m||f.getSnapshotBeforeUpdate==null||(b=f.getSnapshotBeforeUpdate(v,A)),Rj(e,YS(j=h!=null&&h.type===QS&&h.key==null?h.props.children:h)?j:[j],t,n,r,i,s,o,l,u,c),f.base=t.__e,t.__u&=-161,f.__h.length&&o.push(f),S&&(f.__E=f.__=null)}catch(k){t.__v=null,u||s!=null?(t.__e=l,t.__u|=u?160:32,s[s.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),tr.__e(k,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=e6(n.__e,t,n,r,i,s,o,u,c);(h=tr.diffed)&&h(t)}function ZF(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)JS(n[r],n[++r],n[++r]);tr.__c&&tr.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){tr.__e(s,i.__v)}})}function e6(e,t,n,r,i,s,o,l,u){var c,h,f,m,v,A,b,S=n.props,w=t.props,I=t.type;if(I==="svg"&&(i=!0),s!=null){for(c=0;c<s.length;c++)if((v=s[c])&&"setAttribute"in v==!!I&&(I?v.localName===I:v.nodeType===3)){e=v,s[c]=null;break}}if(e==null){if(I===null)return document.createTextNode(w);e=i?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,w.is&&w),s=null,l=!1}if(I===null)S===w||l&&e.data===w||(e.data=w);else{if(s=s&&xj.call(e.childNodes),S=n.props||s_,!l&&s!=null)for(S={},c=0;c<e.attributes.length;c++)S[(v=e.attributes[c]).name]=v.value;for(c in S)v=S[c],c=="children"||(c=="dangerouslySetInnerHTML"?f=v:c==="key"||c in w||Eg(e,c,null,v,i));for(c in w)v=w[c],c=="children"?m=v:c=="dangerouslySetInnerHTML"?h=v:c=="value"?A=v:c=="checked"?b=v:c==="key"||l&&typeof v!="function"||S[c]===v||Eg(e,c,v,S[c],i);if(h)l||f&&(h.__html===f.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(f&&(e.innerHTML=""),Rj(e,YS(m)?m:[m],t,n,r,i&&I!=="foreignObject",s,o,s?s[0]:n.__k&&sd(n,0),l,u),s!=null)for(c=s.length;c--;)s[c]!=null&&Tj(s[c]);l||(c="value",A!==void 0&&(A!==e[c]||I==="progress"&&!A||I==="option"&&A!==S[c])&&Eg(e,c,A,S[c],!1),c="checked",b!==void 0&&b!==e[c]&&Eg(e,c,b,S[c],!1))}return e}function JS(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){tr.__e(r,n)}}function a_(e,t,n){var r,i;if(tr.unmount&&tr.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||JS(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){tr.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&a_(r[i],t,n||typeof e.type!="function");n||e.__e==null||Tj(e.__e),e.__=e.__e=e.__d=void 0}function t6(e,t,n){return this.constructor(e,n)}xj=kj.slice,tr={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(l){e=l}throw e}},wj=0,Cm.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Qa({},this.state),typeof e=="function"&&(e=e(Qa({},n),this.props)),e&&Qa(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),o_(this))},Cm.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),o_(this))},Cm.prototype.render=QS,Yl=[],Ej=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i_=function(e,t){return e.__v.__b-t.__v.__b},g0.__r=0,Cj=0;(function(e,t){var n={__c:t="__cC"+Cj++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(l){l.__e=!0,o_(l)})},this.sub=function(o){i.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),l&&l.call(o)}}),r.children}};n.Provider.__=n.Consumer.contextType=n})({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0});var Cf="[Surveys]",n6={icontains:e=>!!ce&&ce.location.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:e=>!!ce&&ce.location.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:e=>!!ce&&td(ce.location.href,e),not_regex:e=>!!ce&&!td(ce.location.href,e),exact:e=>(ce==null?void 0:ce.location.href)===e,is_not:e=>(ce==null?void 0:ce.location.href)!==e};class r6{constructor(t){this.instance=t,this._surveyEventReceiver=null}afterDecideResponse(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");var t=(()=>{for(var n=[],r=0;r<localStorage.length;r++){var i=localStorage.key(r);i!=null&&i.startsWith("seenSurvey_")&&n.push(i)}return n})();t.forEach(n=>localStorage.removeItem(n))}loadIfEnabled(){var t,n,r,i=kt==null||(t=kt.__PosthogExtensions__)===null||t===void 0?void 0:t.generateSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||i||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new _h(this.instance)),(n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"surveys",s=>{var o,l;if(s)return Ae.error(Cf,"Could not load surveys script",s);this._surveyManager=(o=kt.__PosthogExtensions__)===null||o===void 0||(l=o.generateSurveys)===null||l===void 0?void 0:l.call(o,this.instance)}))}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new _h(this.instance));var r=this.instance.get_property(Fb);if(r&&!n)return t(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:i=>{var s;if(i.statusCode!==200||!i.json)return t([]);var o,l=i.json.surveys||[],u=l.filter(c=>{var h,f,m,v,A,b,S,w,I,R,T,E;return((h=c.conditions)===null||h===void 0?void 0:h.events)&&((f=c.conditions)===null||f===void 0||(m=f.events)===null||m===void 0?void 0:m.values)&&((v=c.conditions)===null||v===void 0||(A=v.events)===null||A===void 0||(b=A.values)===null||b===void 0?void 0:b.length)>0||((S=c.conditions)===null||S===void 0?void 0:S.actions)&&((w=c.conditions)===null||w===void 0||(I=w.actions)===null||I===void 0?void 0:I.values)&&((R=c.conditions)===null||R===void 0||(T=R.actions)===null||T===void 0||(E=T.values)===null||E===void 0?void 0:E.length)>0});return u.length>0&&((o=this._surveyEventReceiver)===null||o===void 0||o.register(u)),(s=this.instance.persistence)===null||s===void 0||s.register({[Fb]:l}),t(l)}})}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(r=>{var i,s=r.filter(u=>!(!u.start_date||u.end_date)).filter(u=>{var c,h,f,m;if(!u.conditions)return!0;var v=(c=u.conditions)===null||c===void 0||!c.url||n6[(h=(f=u.conditions)===null||f===void 0?void 0:f.urlMatchType)!==null&&h!==void 0?h:"icontains"](u.conditions.url),A=(m=u.conditions)===null||m===void 0||!m.selector||(He==null?void 0:He.querySelector(u.conditions.selector));return v&&A}),o=(i=this._surveyEventReceiver)===null||i===void 0?void 0:i.getSurveys(),l=s.filter(u=>{var c,h,f,m,v,A,b,S,w,I,R;if(!(u.linked_flag_key||u.targeting_flag_key||u.internal_targeting_flag_key||(c=u.feature_flag_keys)!==null&&c!==void 0&&c.length))return!0;var T=!u.linked_flag_key||this.instance.featureFlags.isFeatureEnabled(u.linked_flag_key),E=!u.targeting_flag_key||this.instance.featureFlags.isFeatureEnabled(u.targeting_flag_key),P=((h=u.conditions)===null||h===void 0?void 0:h.events)&&((f=u.conditions)===null||f===void 0||(m=f.events)===null||m===void 0?void 0:m.values)&&((v=u.conditions)===null||v===void 0||(A=v.events)===null||A===void 0?void 0:A.values.length)>0,N=((b=u.conditions)===null||b===void 0?void 0:b.actions)&&((S=u.conditions)===null||S===void 0||(w=S.actions)===null||w===void 0?void 0:w.values)&&((I=u.conditions)===null||I===void 0||(R=I.actions)===null||R===void 0?void 0:R.values.length)>0,j=!P&&!N||(o==null?void 0:o.includes(u.id)),V=this._canActivateRepeatedly(u),k=!(u.internal_targeting_flag_key&&!V)||this.instance.featureFlags.isFeatureEnabled(u.internal_targeting_flag_key),D=this.checkFlags(u);return T&&E&&k&&j&&D});return t(l)},n)}checkFlags(t){var n;return(n=t.feature_flag_keys)===null||n===void 0||!n.length||t.feature_flag_keys.every(r=>{var{key:i,value:s}=r;return!i||!s||this.instance.featureFlags.isFeatureEnabled(s)})}getNextSurveyStep(t,n,r){var i,s=t.questions[n],o=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?Gs.End:o;if(s.branching.type===Gs.End)return Gs.End;if(s.branching.type===Gs.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===Gs.ResponseBased){if(s.type===p0.SingleChoice){var l,u,c=s.choices.indexOf("".concat(r));if((l=s.branching)!==null&&l!==void 0&&(u=l.responseValues)!==null&&u!==void 0&&u.hasOwnProperty(c)){var h=s.branching.responseValues[c];return Number.isInteger(h)?h:h===Gs.End?Gs.End:o}}else if(s.type===p0.Rating){var f,m;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var v=function(b,S){if(S===3){if(b<1||b>3)throw new Error("The response must be in range 1-3");return b===1?"negative":b===2?"neutral":"positive"}if(S===5){if(b<1||b>5)throw new Error("The response must be in range 1-5");return b<=2?"negative":b===3?"neutral":"positive"}if(S===7){if(b<1||b>7)throw new Error("The response must be in range 1-7");return b<=3?"negative":b===4?"neutral":"positive"}if(S===10){if(b<0||b>10)throw new Error("The response must be in range 0-10");return b<=6?"detractors":b<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(r,s.scale);if((f=s.branching)!==null&&f!==void 0&&(m=f.responseValues)!==null&&m!==void 0&&m.hasOwnProperty(v)){var A=s.branching.responseValues[v];return Number.isInteger(A)?A:A===Gs.End?Gs.End:o}}return o}return Ae.warn(Cf,"Falling back to next question index due to unexpected branching type"),o}_canActivateRepeatedly(t){var n;return wn((n=kt.__PosthogExtensions__)===null||n===void 0?void 0:n.canActivateRepeatedly)?(Ae.warn(Cf,"canActivateRepeatedly is not defined, must init before calling"),!1):kt.__PosthogExtensions__.canActivateRepeatedly(t)}canRenderSurvey(t){wn(this._surveyManager)?Ae.warn(Cf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(n=>{var r=n.filter(i=>i.id===t)[0];this._surveyManager.canRenderSurvey(r)})}renderSurvey(t,n){wn(this._surveyManager)?Ae.warn(Cf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(r=>{var i=r.filter(s=>s.id===t)[0];this._surveyManager.renderSurvey(i,He==null?void 0:He.querySelector(n))})}}class i6{constructor(t){var n,r;$e(this,"serverLimits",{}),$e(this,"lastEventRateLimited",!1),$e(this,"checkForLimiting",i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(o=>{Ae.info("[RateLimiter] ".concat(o||"events"," is quota limited.")),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void Ae.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(o==null?void 0:o.message,'"'),{text:s})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(zb))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var l=o.tokens<1;return l||i||(o.tokens=Math.max(0,o.tokens-1)),!l||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(r=this.instance.persistence)===null||r===void 0||r.set_property(zb,o),{isRateLimited:l,remainingTokens:o.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var s6=()=>Ie({initialPathName:(Oi==null?void 0:Oi.pathname)||"",referringDomain:Zn.referringDomain()},Zn.campaignParams());class o6{constructor(t,n,r){$e(this,"_onSessionIdCallback",i=>{var s=this._getStoredProps();if(!s||s.sessionId!==i){var o={sessionId:i,props:this._sessionSourceParamGenerator()};this._persistence.register({[$b]:o})}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||s6,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[$b]}getSessionProps(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}var a6=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],_k=function(e,t){if(!e)return!1;var n=e.toLowerCase();return a6.concat(t||[]).some(r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1})},jj=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&_k(n,t))return!0;try{var r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>_k(i==null?void 0:i.brand,t)))return!0}catch{}return!!e.webdriver};class Oj{constructor(){this.clicks=[]}isRageClick(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}var Cg="[Dead Clicks]",l6=()=>!0,c6=e=>{var t,n=!((t=e.instance.persistence)===null||t===void 0||!t.get_property(D5)),r=e.instance.config.capture_dead_clicks;return Zl(r)?r:n};class Vj{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(t,n,r){this.instance=t,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}afterDecideResponse(t){this.instance.persistence&&this.instance.persistence.register({[D5]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript(()=>{this.start()})}loadScript(t){var n,r,i;(n=kt.__PosthogExtensions__)!==null&&n!==void 0&&n.initDeadClicksAutocapture&&t(),(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"dead-clicks-autocapture",s=>{s?Ae.error(Cg+" failed to load script",s):t()})}start(){var t;if(He){if(!this._lazyLoadedDeadClicksAutocapture&&(t=kt.__PosthogExtensions__)!==null&&t!==void 0&&t.initDeadClicksAutocapture){var n=yr(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=kt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this._lazyLoadedDeadClicksAutocapture.start(He),Ae.info("".concat(Cg," starting..."))}}else Ae.error(Cg+" `document` not found. Cannot start.")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,Ae.info("".concat(Cg," stopping...")))}}class u6{constructor(t){var n;$e(this,"rageclicks",new Oj),$e(this,"_enabledServerSide",!1),$e(this,"_initialized",!1),$e(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[Nb]),ce==null||ce.addEventListener("beforeunload",()=>{this.flush()})}get flushIntervalMilliseconds(){var t=5e3;return yr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return tt(this.instance.config.capture_heatmaps)?tt(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;Ae.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),(n=this.deadClicksCapture)===null||n===void 0||n.stop(),this.getAndClearBuffer()}}afterDecideResponse(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Nb]:n}),this._enabledServerSide=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.buffer;return this.buffer=void 0,t}_onDeadClick(t){this._onClick(t.originalEvent,"deadclick")}_setupListeners(){ce&&He&&(na(He,"click",t=>this._onClick(t||(ce==null?void 0:ce.event)),!1,!0),na(He,"mousemove",t=>this._onMouseMove(t||(ce==null?void 0:ce.event)),!1,!0),this.deadClicksCapture=new Vj(this.instance,l6,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(l,u,c){for(var h=l;h&&ov(h)&&!tl(h,"body");){if(h===c)return!1;if(Vt(u,ce==null?void 0:ce.getComputedStyle(h).position))return!0;h=aj(h)}return!1}(oj(t),["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}_onClick(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"click";if(!tk(t.target)){var i=this._getProperties(t,r);(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ie(Ie({},i),{},{type:"rageclick"})),this._capture(i)}}_onMouseMove(t){tk(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(()=>{this._capture(this._getProperties(t,"mousemove"))},500))}_capture(t){if(ce){var n=ce.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}flush(){this.buffer&&!Mu(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class d6{constructor(t){$e(this,"_updateScrollData",()=>{var n,r,i,s;this.context||(this.context={});var o=this.scrollElement(),l=this.scrollY(),u=o?Math.max(0,o.scrollHeight-o.clientHeight):0,c=l+((o==null?void 0:o.clientHeight)||0),h=(o==null?void 0:o.scrollHeight)||0;this.context.lastScrollY=Math.ceil(l),this.context.maxScrollY=Math.max(l,(n=this.context.maxScrollY)!==null&&n!==void 0?n:0),this.context.maxScrollHeight=Math.max(u,(r=this.context.maxScrollHeight)!==null&&r!==void 0?r:0),this.context.lastContentY=c,this.context.maxContentY=Math.max(c,(i=this.context.maxContentY)!==null&&i!==void 0?i:0),this.context.maxContentHeight=Math.max(h,(s=this.context.maxContentHeight)!==null&&s!==void 0?s:0)}),this.instance=t}getContext(){return this.context}resetContext(){var t=this.context;return setTimeout(this._updateScrollData,0),t}startMeasuringScrollPosition(){ce==null||ce.addEventListener("scroll",this._updateScrollData,!0),ce==null||ce.addEventListener("scrollend",this._updateScrollData,!0),ce==null||ce.addEventListener("resize",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return ce==null?void 0:ce.document.documentElement;var t=sr(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var n of t){var r=ce==null?void 0:ce.document.querySelector(n);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ce&&(ce.scrollY||ce.pageYOffset||ce.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ce&&(ce.scrollX||ce.pageXOffset||ce.document.documentElement.scrollLeft)||0}}function ZA(e,t){return t.length>e?t.slice(0,e)+"...":t}function f6(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!ov(t));return t}function h6(e,t,n,r){var i=e.tagName.toLowerCase(),s={tag_name:i};Qb.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=ZA(1024,dj(e)):s.$el_text=ZA(1024,av(e)));var o=d0(e);o.length>0&&(s.classes=o.filter(function(h){return h!==""})),mn(e.attributes,function(h){var f;if((!lj(e)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(r==null||!r.includes(h.name))&&!t&&rd(h.value)&&(f=h.name,!ii(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var m=h.value;h.name==="class"&&(m=qS(m).join(" ")),s["attr__"+h.name]=ZA(1024,m)}});for(var l=1,u=1,c=e;c=f6(c);)l++,c.tagName===e.tagName&&u++;return s.nth_child=l,s.nth_of_type=u,s}function p6(e,t){for(var n,r,{e:i,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:l,elementsChainAsString:u}=t,c=[e],h=e;h.parentNode&&!tl(h,"body");)ij(h.parentNode)?(c.push(h.parentNode.host),h=h.parentNode.host):(c.push(h.parentNode),h=h.parentNode);var f,m=[],v={},A=!1,b=!1;if(mn(c,T=>{var E=Jb(T);T.tagName.toLowerCase()==="a"&&(A=T.getAttribute("href"),A=E&&A&&rd(A)&&A),Vt(d0(T),"ph-no-capture")&&(b=!0),m.push(h6(T,s,o,l));var P=function(N){if(!Jb(N))return{};var j={};return mn(N.attributes,function(V){if(V.name&&V.name.indexOf("data-ph-capture-attribute")===0){var k=V.name.replace("data-ph-capture-attribute-",""),D=V.value;k&&D&&rd(D)&&(j[k]=D)}}),j}(T);vi(v,P)}),b)return{props:{},explicitNoCapture:b};if(o||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?m[0].$el_text=dj(e):m[0].$el_text=av(e)),A){var S,w;m[0].attr__href=A;var I=(S=zu(A))===null||S===void 0?void 0:S.host,R=ce==null||(w=ce.location)===null||w===void 0?void 0:w.host;I&&R&&I!==R&&(f=A)}return{props:vi({$event_type:i.type,$ce_version:1},u?{}:{$elements:m},{$elements_chain:AF(m)},(n=m[0])!==null&&n!==void 0&&n.$el_text?{$el_text:(r=m[0])===null||r===void 0?void 0:r.$el_text}:{},f&&i.type==="click"?{$external_click_url:f}:{},v)}}class g6{constructor(t){$e(this,"_initialized",!1),$e(this,"_isDisabledServerSide",null),$e(this,"rageclicks",new Oj),$e(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}get config(){var t,n,r=yr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(i=>new RegExp(i)),r}_addDomEventHandlers(){if(this.isBrowserSupported()){if(ce&&He){var t=r=>{r=r||(ce==null?void 0:ce.event);try{this._captureEvent(r)}catch(i){Ae.error("Failed to capture event",i)}},n=r=>{r=r||(ce==null?void 0:ce.event),this._captureEvent(r,UA)};na(He,"submit",t,!1,!0),na(He,"change",t,!1,!0),na(He,"click",t,!1,!0),this.config.capture_copied_text&&(na(He,"copy",n,!1,!0),na(He,"cut",n,!1,!0))}}else Ae.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}afterDecideResponse(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[N2]:!!t.autocapture_opt_out}),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this._elementSelectors=t}getElementSelectors(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(i=>{var s=He==null?void 0:He.querySelectorAll(i);s==null||s.forEach(o=>{t===o&&r.push(i)})}),r}get isEnabled(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[N2],i=this._isDisabledServerSide;if(hl(i)&&!Zl(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}_captureEvent(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var r,i=oj(t);rj(i)&&(i=i.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var s=n===UA;if(i&&pF(i,t,this.config,s,s?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:l}=p6(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(l)return!1;var u=this.getElementSelectors(i);if(u&&u.length>0&&(o.$element_selectors=u),n===UA){var c,h=sj(ce==null||(c=ce.getSelection())===null||c===void 0?void 0:c.toString()),f=t.type||"clipboard";if(!h)return!1;o.$selected_content=h,o.$copy_type=f}return this.instance.capture(n,o),!0}}}isBrowserSupported(){return ws(He==null?void 0:He.querySelectorAll)}}class m6{constructor(t){$e(this,"_restoreXHRPatch",void 0),$e(this,"_restoreFetchPatch",void 0),$e(this,"_startCapturing",()=>{var n,r,i,s;tt(this._restoreXHRPatch)&&((n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.tracingHeadersPatchFns)===null||r===void 0||r._patchXHR(this.instance.sessionManager)),tt(this._restoreFetchPatch)&&((i=kt.__PosthogExtensions__)===null||i===void 0||(s=i.tracingHeadersPatchFns)===null||s===void 0||s._patchFetch(this.instance.sessionManager))}),this.instance=t}_loadScript(t){var n,r,i;(n=kt.__PosthogExtensions__)!==null&&n!==void 0&&n.tracingHeadersPatchFns&&t(),(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"tracing-headers",s=>{if(s)return Ae.error("[TRACING-HEADERS] failed to load script",s);t()})}startIfEnabledOrStop(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var qa;(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(qa||(qa={}));class v6{constructor(t){this.instance=t}get config(){return this.instance.config}get consent(){return this.getDnt()?qa.DENIED:this.storedConsent}isOptedOut(){return this.consent===qa.DENIED||this.consent===qa.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:t,opt_out_capturing_cookie_prefix:n}=this.instance.config;return(n||"__ph_opt_in_out_")+t}get storedConsent(){var t=this.storage.get(this.storageKey);return t==="1"?qa.GRANTED:t==="0"?qa.DENIED:qa.PENDING}get storage(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?wr:sa;var n=t==="localStorage"?sa:wr;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!O5([Ji==null?void 0:Ji.doNotTrack,Ji==null?void 0:Ji.msDoNotTrack,kt.doNotTrack],t=>Vt([!0,1,"1","yes"],t))}}var kg="[Exception Autocapture]";class y6{constructor(t){var n;$e(this,"originalOnUnhandledRejectionHandler",void 0),$e(this,"startCapturing",()=>{var r,i,s,o;if(ce&&this.isEnabled&&!this.hasHandlers&&!this.isCapturing){var l=(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.errorWrappingFunctions)===null||i===void 0?void 0:i.wrapOnError,u=(s=kt.__PosthogExtensions__)===null||s===void 0||(o=s.errorWrappingFunctions)===null||o===void 0?void 0:o.wrapUnhandledRejection;if(l&&u)try{this.unwrapOnError=l(this.captureException.bind(this)),this.unwrapUnhandledRejection=u(this.captureException.bind(this))}catch(c){Ae.error(kg+" failed to start",c),this.stopCapturing()}else Ae.error(kg+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[B2]),this.startIfEnabled()}get isEnabled(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}get isCapturing(){var t;return!(ce==null||(t=ce.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(Ae.info(kg+" enabled, starting..."),this.loadScript(this.startCapturing))}loadScript(t){var n,r;this.hasHandlers&&t(),(n=kt.__PosthogExtensions__)===null||n===void 0||(r=n.loadExternalDependency)===null||r===void 0||r.call(n,this.instance,"exception-autocapture",i=>{if(i)return Ae.error(kg+" failed to load script",i);t()})}stopCapturing(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}afterDecideResponse(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this.instance.persistence&&this.instance.persistence.register({[B2]:this.remoteEnabled}),this.startIfEnabled()}captureException(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(t)}}var Sk=9e5,Dl="[Web Vitals]";class A6{constructor(t){var n;$e(this,"_enabledServerSide",!1),$e(this,"_initialized",!1),$e(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),$e(this,"_flushToCapture",()=>{clearTimeout(this._delayedFlushTimer),this.buffer.metrics.length!==0&&(this.instance.capture("$web_vitals",this.buffer.metrics.reduce((r,i)=>Ie(Ie({},r),{},{["$web_vitals_".concat(i.name,"_event")]:Ie({},i),["$web_vitals_".concat(i.name,"_value")]:i.value}),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),$e(this,"_addToBuffer",r=>{var i,s=(i=this.instance.sessionManager)===null||i===void 0?void 0:i.checkAndGetSessionAndWindowId(!0);if(tt(s))Ae.error(Dl+"Could not read session ID. Dropping metrics!");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this._currentURL();tt(o)||(wn(r==null?void 0:r.name)||wn(r==null?void 0:r.value)?Ae.error(Dl+"Invalid metric received",r):this._maxAllowedValue&&r.value>=this._maxAllowedValue?Ae.error(Dl+"Ignoring metric with value >= "+this._maxAllowedValue,r):(this.buffer.url!==o&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),tt(this.buffer.url)&&(this.buffer.url=o),this.buffer.firstMetricTimestamp=tt(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(Ie(Ie({},r),{},{$current_url:o,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()))}}),$e(this,"_startCapturing",()=>{var r,i,s,o,l=kt.__PosthogExtensions__;tt(l)||tt(l.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:s,onINP:o}=l.postHogWebVitalsCallbacks),r&&i&&s&&o?(this.allowedMetrics.indexOf("LCP")>-1&&r(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this._addToBuffer.bind(this)),this._initialized=!0):Ae.error(Dl+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[D2]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=yr(this.instance.config.capture_performance)?(t=this.instance.config.capture_performance)===null||t===void 0?void 0:t.web_vitals_allowed_metrics:void 0;return tt(r)?((n=this.instance.persistence)===null||n===void 0?void 0:n.props[F2])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(yr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var t=yr(this.instance.config.capture_performance)&&Yi(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:Sk;return 0<t&&t<=6e4?Sk:t}get isEnabled(){var t=yr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return Zl(t)?t:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(Ae.info(Dl+" enabled, starting..."),this.loadScript(this._startCapturing))}afterDecideResponse(t){var n=yr(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=yr(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[D2]:n}),this.instance.persistence.register({[F2]:r})),this._enabledServerSide=n,this.startIfEnabled()}loadScript(t){var n,r,i;(n=kt.__PosthogExtensions__)!==null&&n!==void 0&&n.postHogWebVitalsCallbacks&&t(),(r=kt.__PosthogExtensions__)===null||r===void 0||(i=r.loadExternalDependency)===null||i===void 0||i.call(r,this.instance,"web-vitals",s=>{s?Ae.error(Dl+" failed to load script",s):t()})}_currentURL(){var t=ce?ce.location.href:void 0;return t||Ae.error(Dl+"Could not determine current URL"),t}}var b6={icontains:(e,t)=>!!ce&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ce&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ce&&td(t.href,e),not_regex:(e,t)=>!!ce&&!td(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Mr{constructor(t){var n=this;$e(this,"getWebExperimentsAndEvaluateDisplayLogic",function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];n.getWebExperiments(i=>{Mr.logInfo("retrieved web experiments from the server"),n._flagToExperiments=new Map,i.forEach(s=>{if(s.feature_flag_key&&n._featureFlags&&n._featureFlags[s.feature_flag_key]){var o;n._flagToExperiments&&(Mr.logInfo("setting flag key ",s.feature_flag_key," to web experiment ",s),(o=n._flagToExperiments)===null||o===void 0||o.set(s.feature_flag_key,s));var l=n._featureFlags[s.feature_flag_key];l&&s.variants[l]&&n.applyTransforms(s.name,l,s.variants[l].transforms)}else if(s.variants)for(var u in s.variants){var c=s.variants[u];Mr.matchesTestVariant(c)&&n.applyTransforms(s.name,u,c.transforms)}})},r)}),this.instance=t,this.instance.onFeatureFlags&&this.instance.onFeatureFlags(r=>{this.applyFeatureFlagChanges(r)}),this._flagToExperiments=new Map}applyFeatureFlagChanges(t){wn(this._flagToExperiments)||this.instance.config.disable_web_experiments||(Mr.logInfo("applying feature flags",t),t.forEach(n=>{var r;if(this._flagToExperiments&&(r=this._flagToExperiments)!==null&&r!==void 0&&r.has(n)){var i,s=this.instance.getFeatureFlag(n),o=(i=this._flagToExperiments)===null||i===void 0?void 0:i.get(n);s&&o!=null&&o.variants[s]&&this.applyTransforms(o.name,s,o.variants[s].transforms)}}))}afterDecideResponse(t){this._is_bot()?Mr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):(this._featureFlags=t.featureFlags,this.loadIfEnabled(),this.previewWebExperiment())}previewWebExperiment(){var t=Mr.getWindowLocation();if(t!=null&&t.search){var n=a0(t==null?void 0:t.search,"__experiment_id"),r=a0(t==null?void 0:t.search,"__experiment_variant");n&&r&&(Mr.logInfo("previewing web experiments ".concat(n," && ").concat(r)),this.getWebExperiments(i=>{this.showPreviewWebExperiment(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this.instance.config.disable_web_experiments&&!r)return t([]);var i=this.instance.get_property("$web_experiments");if(i&&!n)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/web_experiments/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var o=s.json.experiments||[];return t(o)}})}showPreviewWebExperiment(t,n,r){var i=r.filter(s=>s.id===t);i&&i.length>0&&(Mr.logInfo("Previewing web experiment [".concat(i[0].name,"] with variant [").concat(n,"]")),this.applyTransforms(i[0].name,n,i[0].variants[n].transforms,!0))}static matchesTestVariant(t){return!wn(t.conditions)&&Mr.matchUrlConditions(t)&&Mr.matchUTMConditions(t)}static matchUrlConditions(t){var n;if(wn(t.conditions)||wn((n=t.conditions)===null||n===void 0?void 0:n.url))return!0;var r,i,s,o=Mr.getWindowLocation();return!!o&&((r=t.conditions)===null||r===void 0||!r.url||b6[(i=(s=t.conditions)===null||s===void 0?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,o))}static getWindowLocation(){return ce==null?void 0:ce.location}static matchUTMConditions(t){var n;if(wn(t.conditions)||wn((n=t.conditions)===null||n===void 0?void 0:n.utm))return!0;var r=Zn.campaignParams();if(r.utm_source){var i,s,o,l,u,c,h,f,m,v,A,b,S,w,I,R,T=(i=t.conditions)===null||i===void 0||(s=i.utm)===null||s===void 0||!s.utm_campaign||((o=t.conditions)===null||o===void 0||(l=o.utm)===null||l===void 0?void 0:l.utm_campaign)==r.utm_campaign,E=(u=t.conditions)===null||u===void 0||(c=u.utm)===null||c===void 0||!c.utm_source||((h=t.conditions)===null||h===void 0||(f=h.utm)===null||f===void 0?void 0:f.utm_source)==r.utm_source,P=(m=t.conditions)===null||m===void 0||(v=m.utm)===null||v===void 0||!v.utm_medium||((A=t.conditions)===null||A===void 0||(b=A.utm)===null||b===void 0?void 0:b.utm_medium)==r.utm_medium,N=(S=t.conditions)===null||S===void 0||(w=S.utm)===null||w===void 0||!w.utm_term||((I=t.conditions)===null||I===void 0||(R=I.utm)===null||R===void 0?void 0:R.utm_term)==r.utm_term;return T&&P&&N&&E}return!1}static logInfo(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ae.info("[WebExperiments] ".concat(t),r)}applyTransforms(t,n,r,i){var s;this._is_bot()?Mr.logInfo("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(o=>{if(o.selector){var l;Mr.logInfo("applying transform of variant ".concat(n," for experiment ").concat(t," "),o);var u,c=0,h=(l=document)===null||l===void 0?void 0:l.querySelectorAll(o.selector);h==null||h.forEach(f=>{var m=f;c+=1,o.attributes&&o.attributes.forEach(v=>{switch(v.name){case"text":m.innerText=v.value;break;case"html":m.innerHTML=v.value;break;case"cssClass":m.className=v.value;break;default:m.setAttribute(v.name,v.value)}}),o.text&&(m.innerText=o.text),o.html&&(m.parentElement?m.parentElement.innerHTML=o.html:m.innerHTML=o.html),o.css&&m.setAttribute("style",o.css)}),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_variant:n,$web_experiment_preview:i,$web_experiment_document_url:(u=Mr.getWindowLocation())===null||u===void 0?void 0:u.href,$web_experiment_elements_modified:c})}}):(Mr.logInfo("Control variants leave the page unmodified."),this.instance&&this.instance.capture&&this.instance.capture("$web_experiment_applied",{$web_experiment_name:t,$web_experiment_preview:i,$web_experiment_variant:n,$web_experiment_document_url:(s=Mr.getWindowLocation())===null||s===void 0?void 0:s.href,$web_experiment_elements_modified:0}))}_is_bot(){return Ji&&this.instance?jj(Ji,this.instance.config.custom_blocked_useragents):void 0}}class _6{constructor(t){this.instance=t}sendExceptionEvent(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var S6=["$set_once","$set"];class x6{constructor(t){this.instance=t,this.enabled=!!this.instance.config.opt_in_site_apps&&!this.instance.config.advanced_disable_decide,this.missedInvocations=[],this.loaded=!1,this.appsLoading=new Set}eventCollector(t,n){if(this.enabled&&!this.loaded&&n){var r=this.globalsForEvent(n);this.missedInvocations.push(r),this.missedInvocations.length>1e3&&(this.missedInvocations=this.missedInvocations.slice(10))}}init(){var t;(t=this.instance)===null||t===void 0||t._addCaptureHook(this.eventCollector.bind(this))}globalsForEvent(t){var n,r,i,s,o,l,u;if(!t)throw new Error("Event payload is required");var c={},h=this.instance.get_property("$groups")||[],f=this.instance.get_property("$stored_group_properties")||{};for(var[m,v]of Object.entries(f))c[m]={id:h[m],type:m,properties:v};var{$set_once:A,$set:b}=t;return{event:Ie(Ie({},N5(t,S6)),{},{properties:Ie(Ie(Ie({},t.properties),b?{$set:Ie(Ie({},(n=(r=t.properties)===null||r===void 0?void 0:r.$set)!==null&&n!==void 0?n:{}),b)}:{}),A?{$set_once:Ie(Ie({},(i=(s=t.properties)===null||s===void 0?void 0:s.$set_once)!==null&&i!==void 0?i:{}),A)}:{}),elements_chain:(o=(l=t.properties)===null||l===void 0?void 0:l.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(u=t.properties)===null||u===void 0?void 0:u.distinct_id}),person:{properties:this.instance.get_property("$stored_person_properties")},groups:c}}afterDecideResponse(t){var n=this;sr(t==null?void 0:t.siteApps)&&t.siteApps.length>0?this.enabled&&this.instance.config.opt_in_site_apps?function(){var r=()=>{n.appsLoading.size===0&&(n.loaded=!0,n.missedInvocations=[])},i=function(l,u){var c,h;n.appsLoading.add(l),kt["__$$ph_site_app_".concat(l,"_posthog")]=n.instance,kt["__$$ph_site_app_".concat(l,"_missed_invocations")]=()=>n.missedInvocations,kt["__$$ph_site_app_".concat(l,"_callback")]=()=>{n.appsLoading.delete(l),r()},(c=kt.__PosthogExtensions__)===null||c===void 0||(h=c.loadSiteApp)===null||h===void 0||h.call(c,n.instance,u,f=>{if(f)return n.appsLoading.delete(l),r(),Ae.error("Error while initializing PostHog app with config id ".concat(l),f)})};for(var{id:s,url:o}of t.siteApps)i(s,o)}():t.siteApps.length>0?(Ae.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.'),this.loaded=!0):this.loaded=!0:(this.loaded=!0,this.enabled=!1)}}var ih={},l_=()=>{},Tu="posthog",Lj=!zF&&(Or==null?void 0:Or.indexOf("MSIE"))===-1&&(Or==null?void 0:Or.indexOf("Mozilla"))===-1,xk=()=>{var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=He==null?void 0:He.location,n=t==null?void 0:t.hostname,!!ii(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:l_,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Oi&&ii(Oi==null?void 0:Oi.search)&&Oi.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(ce==null||(e=ce.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:r=>{var i="Bad HTTP status: "+r.statusCode+" "+r.text;Ae.error(i)},get_device_id:r=>r,_onCapture:l_,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",__add_tracing_headers:!1,before_send:void 0}},wk=e=>{var t={};tt(e.process_person)||(t.person_profiles=e.process_person),tt(e.xhr_headers)||(t.request_headers=e.xhr_headers),tt(e.cookie_name)||(t.persistence_name=e.cookie_name),tt(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=vi({},t,e);return sr(e.property_blacklist)&&(tt(e.property_denylist)?n.property_denylist=e.property_blacklist:sr(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:Ae.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class w6{constructor(){$e(this,"__forceAllowLocalhost",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(t){Ae.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class lv{constructor(){$e(this,"webPerformance",new w6),$e(this,"version",Ha.LIB_VERSION),$e(this,"_internalEventEmitter",new Sj),this.config=xk(),this.decideEndpointWasHit=!1,this.SentryIntegration=WF,this.sentryIntegration=t=>function(n,r){var i=_j(n,r);return{name:bj,processEvent:s=>i(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this.featureFlags=new qD(this),this.toolbar=new FF(this),this.scrollManager=new d6(this),this.pageViewManager=new YF(this),this.surveys=new r6(this),this.experiments=new Mr(this),this.exceptions=new _6(this),this.rateLimiter=new i6(this),this.requestRouter=new qF(this),this.consent=new v6(this),this.people={set:(t,n,r)=>{var i=ii(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{var i=ii(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>Ae.info('send "'.concat(t==null?void 0:t.event,'"'),t))}init(t,n,r){if(r&&r!==Tu){var i,s=(i=ih[r])!==null&&i!==void 0?i:new lv;return s._init(t,n,r),ih[r]=s,ih[Tu][r]=s,s}return this._init(t,n,r)}_init(t){var n,r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(tt(t)||j2(t))return Ae.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return Ae.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],s.person_profiles&&(this._initialPersonProfilesConfig=s.person_profiles),this.set_config(vi({},xk(),wk(s),{name:o,token:t})),this.config.on_xhr_error&&Ae.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:Ys.GZipJS,this.persistence=new YA(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new YA(Ie(Ie({},this.config),{},{persistence:"sessionStorage"}));var l=Ie({},this.persistence.props),u=Ie({},this.sessionPersistence.props);if(this._requestQueue=new $F(I=>this._send_retriable_request(I)),this._retryQueue=new HF(this),this.__request_queue=[],this.sessionManager=new GF(this),this.sessionPropsManager=new o6(this.sessionManager,this.persistence),new m6(this).startIfEnabledOrStop(),this.siteApps=new x6(this),(n=this.siteApps)===null||n===void 0||n.init(),this.sessionRecording=new NF(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new g6(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new u6(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new A6(this),this.exceptionObserver=new y6(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Vj(this,c6),this.deadClicksAutocapture.startIfEnabled(),Ha.DEBUG=Ha.DEBUG||this.config.debug,Ha.DEBUG&&Ae.info("Starting in debug mode",{this:this,config:s,thisC:Ie({},this.config),p:l,s:u}),this._sync_opt_out_with_persistence(),((r=s.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var c,h,f=this.config.get_device_id(Ya()),m=(c=s.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?f:s.bootstrap.distinctID;this.persistence.set_property(Jo,(h=s.bootstrap)!==null&&h!==void 0&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:m})}if(this._hasBootstrappedFeatureFlags()){var v,A,b=Object.keys(((v=s.bootstrap)===null||v===void 0?void 0:v.featureFlags)||{}).filter(I=>{var R,T;return!((R=s.bootstrap)===null||R===void 0||(T=R.featureFlags)===null||T===void 0||!T[I])}).reduce((I,R)=>{var T,E;return I[R]=((T=s.bootstrap)===null||T===void 0||(E=T.featureFlags)===null||E===void 0?void 0:E[R])||!1,I},{}),S=Object.keys(((A=s.bootstrap)===null||A===void 0?void 0:A.featureFlagPayloads)||{}).filter(I=>b[I]).reduce((I,R)=>{var T,E,P,N;return(T=s.bootstrap)!==null&&T!==void 0&&(E=T.featureFlagPayloads)!==null&&E!==void 0&&E[R]&&(I[R]=(P=s.bootstrap)===null||P===void 0||(N=P.featureFlagPayloads)===null||N===void 0?void 0:N[R]),I},{});this.featureFlags.receivedFeatureFlags({featureFlags:b,featureFlagPayloads:S})}if(!this.get_distinct_id()){var w=this.config.get_device_id(Ya());this.register_once({distinct_id:w,$device_id:w},""),this.persistence.set_property(Jo,"anonymous")}return ce==null||(i=ce.addEventListener)===null||i===void 0||i.call(ce,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?KF(this,()=>this._loaded()):this._loaded(),ws(this.config._onCapture)&&this.config._onCapture!==l_&&(Ae.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",I=>this.config._onCapture(I.event,I))),this}_afterDecideResponse(t){var n,r,i,s,o,l,u,c,h,f;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Vt(t.supportedCompression,Ys.GZipJS)?Ys.GZipJS:Vt(t.supportedCompression,Ys.Base64)?Ys.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:t.defaultIdentifiedOnly?"identified_only":"always"}),(r=this.siteApps)===null||r===void 0||r.afterDecideResponse(t),(i=this.sessionRecording)===null||i===void 0||i.afterDecideResponse(t),(s=this.autocapture)===null||s===void 0||s.afterDecideResponse(t),(o=this.heatmaps)===null||o===void 0||o.afterDecideResponse(t),(l=this.experiments)===null||l===void 0||l.afterDecideResponse(t),(u=this.surveys)===null||u===void 0||u.afterDecideResponse(t),(c=this.webVitalsAutocapture)===null||c===void 0||c.afterDecideResponse(t),(h=this.exceptionObserver)===null||h===void 0||h.afterDecideResponse(t),(f=this.deadClicksAutocapture)===null||f===void 0||f.afterDecideResponse(t)}_loaded(){var t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){Ae.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this._captureInitialPageview()},1),t||(new BF(this).call(),this.featureFlags.resetRequestQueue())}_start_queue_if_opted_in(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||$u(this.__request_queue,t=>this._send_retriable_request(t)),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(Lj?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=h0(t.url,{ip:this.config.ip?1:0}),t.headers=Ie({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,(n=>{var r,i,s,o=Ie({},n);o.timeout=o.timeout||6e4,o.url=h0(o.url,{_:new Date().getTime().toString(),ver:Ha.LIB_VERSION,compression:o.compression});var l=(r=o.transport)!==null&&r!==void 0?r:"XHR",u=(i=(s=O5(rh,c=>c.transport===l))===null||s===void 0?void 0:s.method)!==null&&i!==void 0?i:rh[0].method;if(!u)throw new Error("No available transport method");u(o)})(Ie(Ie({},t),{},{callback:n=>{var r,i,s;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((i=(s=this.config).on_request_error)===null||i===void 0||i.call(s,n)),(r=t.callback)===null||r===void 0||r.call(t,n)}}))))}_send_retriable_request(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}_execute_array(t){var n,r=[],i=[],s=[];$u(t,l=>{l&&(n=l[0],sr(n)?s.push(l):ws(l)?l.call(this):sr(l)&&n==="alias"?r.push(l):sr(l)&&n.indexOf("capture")!==-1&&ws(this[n])?s.push(l):i.push(l))});var o=function(l,u){$u(l,function(c){if(sr(c[0])){var h=u;mn(c,function(f){h=h[f[0]].apply(h,f.slice(1))})}else this[c[0]].apply(this,c.slice(1))},u)};o(r,this),o(i,this),o(s,this)}_hasBootstrappedFeatureFlags(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!tt(t)&&ii(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,l=(r==null?void 0:r.timestamp)||o,u={uuid:Ya(),event:t,properties:this._calculate_event_properties(t,n||{},l)};s&&(u.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(u.$set=r==null?void 0:r.$set);var c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(u.$set_once=c),(u=DD(u,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=l,tt(r==null?void 0:r.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=o);var h=Ie(Ie({},u.properties.$set),u.$set);if(Mu(h)||this.setPersonPropertiesForFlags(h),!wn(this.config.before_send)){var f=this._runBeforeSend(u);if(!f)return;u=f}this._internalEventEmitter.emit("eventCaptured",u);var m={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(m):this._requestQueue.enqueue(m),u}Ae.critical("This capture call is ignored due to client rate limiting.")}}else Ae.error("No event name provided to posthog.capture")}else Ae.uninitializedWarning("posthog.capture")}_addCaptureHook(t){return this.on("eventCaptured",n=>t(n.event,n))}_calculate_event_properties(t,n,r){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),s=Ie({},n);if(s.token=this.config.token,t==="$snapshot"){var o=Ie(Ie({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,(!ii(s.distinct_id)&&!Yi(s.distinct_id)||j2(s.distinct_id))&&Ae.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var l=Zn.properties();if(this.sessionManager){var{sessionId:u,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=u,s.$window_id=c}if(this.sessionRecording&&(s.$recording_status=this.sessionRecording.status),this.requestRouter.region===ec.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var h=this.sessionPropsManager.getSessionProps();s=vi(s,h)}if(!this.config.disable_scroll_properties){var f={};t==="$pageview"?f=this.pageViewManager.doPageView(r):t==="$pageleave"&&(f=this.pageViewManager.doPageLeave(r)),s=vi(s,f)}if(t==="$pageview"&&He&&(s.title=He.title),!tt(i)){var m=r.getTime()-i;s.$duration=parseFloat((m/1e3).toFixed(3))}Or&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=vi({},l,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),sr(this.config.property_denylist)?mn(this.config.property_denylist,function(b){delete s[b]}):Ae.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var v=this.config.sanitize_properties;v&&(s=v(s,t));var A=this._hasPersonProcessing();return s.$process_person_profile=A,A&&this._requirePersonProcessing("_calculate_event_properties"),s}_calculate_set_once_properties(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=vi({},this.persistence.get_initial_props(),t||{}),r=this.config.sanitize_properties;return r&&(n=r(n,"$set_once")),Mu(n)?void 0:n}register(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}unregister(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}_register_single(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}on(t,n){return this._internalEventEmitter.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){this.surveys.canRenderSurvey(t)}getNextSurveyStep(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}identify(t,n,r){if(!this.__loaded||!this.persistence)return Ae.uninitializedWarning("posthog.identify");if(Yi(t)&&(t=t.toString(),Ae.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))Ae.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(zf)&&(this.unregister(zf),this.register({distinct_id:t}));var o=(this.persistence.get_property(Jo)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(Jo,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(i0))}}else Ae.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}group(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ie(Ie({},i),{},{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}}else Ae.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,s,o;if(Ae.info("reset"),!this.__loaded)return Ae.uninitializedWarning("posthog.reset");var l=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.surveys)===null||i===void 0||i.reset(),(s=this.persistence)===null||s===void 0||s.set_property(Jo,"anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var u=this.config.get_device_id(Ya());this.register_once({distinct_id:u,$device_id:t?u:l},"")}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(t!=null&&t.withTimestamp&&r){var s,o=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;var l=Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0);i+="?t=".concat(l)}return i}alias(t,n){return t===this.get_property(B5)?(Ae.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(tt(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(zf,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(Ae.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,r,i,s,o=Ie({},this.config);yr(t)&&(vi(this.config,wk(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new YA(Ie(Ie({},this.config),{},{persistence:"sessionStorage"})),wr.is_supported()&&wr.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ha.DEBUG=!0,Ae.info("set_config",{config:t,oldConfig:o,newConfig:Ie({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,s,o,l,u;(i=this.sessionManager)===null||i===void 0||i.checkAndGetSessionAndWindowId(),r.sampling&&((s=this.sessionRecording)===null||s===void 0||s.overrideSampling()),r.linked_flag&&((o=this.sessionRecording)===null||o===void 0||o.overrideLinkedFlag()),r.url_trigger&&((l=this.sessionRecording)===null||l===void 0||l.overrideTrigger("url")),r.event_trigger&&((u=this.sessionRecording)===null||u===void 0||u.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}captureException(t,n){var r,i=new Error("PostHog syntheticException"),s=ws((r=kt.__PosthogExtensions__)===null||r===void 0?void 0:r.parseErrorAsProperties)?kt.__PosthogExtensions__.parseErrorAsProperties([t.message,void 0,void 0,void 0,t],{syntheticException:i}):Ie({$exception_level:"error",$exception_list:[{type:t.name,value:t.message,mechanism:{handled:!0,synthetic:!1}}]},n);this.exceptions.sendExceptionEvent(s)}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Tu;return n!==Tu&&(n=Tu+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Jo))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Jo))==="identified"}_hasPersonProcessing(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Mu(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[zf])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[s0]))}_shouldCapturePageleave(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}_requirePersonProcessing(t){return this.config.person_profiles==="never"?(Ae.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(s0,!0),!0)}_sync_opt_out_with_persistence(){var t,n,r,i,s=this.consent.isOptedOut(),o=this.config.opt_out_persistence_by_default,l=this.config.disable_persistence||s&&!!o;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==l&&((r=this.persistence)===null||r===void 0||r.set_disabled(l)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==l&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(l))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(tt(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return Ji?jj(Ji,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){He&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:He.title},{send_instantly:!0}))}debug(t){t===!1?(ce==null||ce.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(ce==null||ce.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}_runBeforeSend(t){if(wn(this.config.before_send))return t;var n=sr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),wn(r)){var s="Event '".concat(t.event,"' was rejected in beforeSend function");return HD(t.event)?Ae.warn("".concat(s,". This can cause unexpected behavior.")):Ae.info(s),null}r.properties&&!Mu(r.properties)||Ae.warn("Event '".concat(t.event,"' has no properties after beforeSend function, this is likely an error."))}return r}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=BD(e.prototype[t[n]])})(lv,["identify"]);var Ek,ar=(Ek=ih[Tu]=new lv,function(){function e(){e.done||(e.done=!0,Lj=!1,mn(ih,function(t){t._dom_loaded()}))}He!=null&&He.addEventListener&&(He.readyState==="complete"?e():He.addEventListener("DOMContentLoaded",e,!1)),ce&&na(ce,"load",e,!0)}(),Ek);class Jt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&ar.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const ve={sectionChange:new Jt("sectionChange",!1,!1),playerAdded:new Jt("playerAdded",!1),playerRemoved:new Jt("playerRemoved",!1),songStarted:new Jt("songStarted",!1),songEnded:new Jt("songEnded",!1),remoteMicConnected:new Jt("remoteMicConnected"),remoteMicDisconnected:new Jt("remoteMicDisconnected"),playerNameChanged:new Jt("playerNameChanged"),playerInputChanged:new Jt("playerInputChanged"),inputListChanged:new Jt("inputListChanged"),karaokeConnectionStatusChange:new Jt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new Jt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new Jt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new Jt("remoteMicMonitoringStopped"),micMonitoringStarted:new Jt("micMonitoringStarted"),micMonitoringStopped:new Jt("micMonitoringStopped"),playerChangeRequested:new Jt("playerChangeRequested",!0),songStatStored:new Jt("songStatStored"),songScoreUpdated:new Jt("songScoreUpdated",()=>{}),remoteMicSubscribed:new Jt("remoteMicSubscribed"),remoteKeyboardPressed:new Jt("remoteKeyboardPressed"),remoteSongSearch:new Jt("remoteSongSearch"),remoteSongSelected:new Jt("remoteSongSelected",!0),remoteMicListUpdated:new Jt("remoteMicListUpdated"),remoteKeyboardLayout:new Jt("remoteKeyboardLayout"),remoteReadinessRequested:new Jt("remoteReadinessRequested"),remoteStyleChanged:new Jt("remoteStyleChanged"),remoteMicPermissionsSet:new Jt("remoteMicPermissionsSet"),readinessConfirmed:new Jt("remoteReadinessConfirmed"),minPlayerNumberChanged:new Jt("minPlayerNumberChanged"),micServerStarted:new Jt("micServerStarted"),micServerStopped:new Jt("micServerStopped")};ve.songStarted.subscribe(()=>{Js.clearData(),Js.startRecord()});ve.songEnded.subscribe(()=>{Js.stopRecord()});function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}var E6=/^\s+/,C6=/\s+$/;function xe(e,t){if(e=e||"",t=t||{},e instanceof xe)return e;if(!(this instanceof xe))return new xe(e,t);var n=k6(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}xe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,l;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*l},setAlpha:function(t){return this._a=Nj(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=kk(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=kk(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=Ck(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Ck(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return Tk(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return P6(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Fn(this._r,255)*100)+"%",g:Math.round(Fn(this._g,255)*100)+"%",b:Math.round(Fn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Fn(this._r,255)*100)+"%, "+Math.round(Fn(this._g,255)*100)+"%, "+Math.round(Fn(this._b,255)*100)+"%)":"rgba("+Math.round(Fn(this._r,255)*100)+"%, "+Math.round(Fn(this._g,255)*100)+"%, "+Math.round(Fn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:U6[Tk(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+Ik(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=xe(t);r="#"+Ik(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return xe(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(V6,arguments)},brighten:function(){return this._applyModification(L6,arguments)},darken:function(){return this._applyModification(N6,arguments)},desaturate:function(){return this._applyModification(M6,arguments)},saturate:function(){return this._applyModification(j6,arguments)},greyscale:function(){return this._applyModification(O6,arguments)},spin:function(){return this._applyModification(B6,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination($6,arguments)},complement:function(){return this._applyCombination(D6,arguments)},monochromatic:function(){return this._applyCombination(z6,arguments)},splitcomplement:function(){return this._applyCombination(F6,arguments)},triad:function(){return this._applyCombination(Rk,[3])},tetrad:function(){return this._applyCombination(Rk,[4])}};xe.fromRatio=function(e,t){if(m0(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=qf(e[r]));e=n}return xe(e,t)};function k6(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,l=!1;return typeof e=="string"&&(e=W6(e)),m0(e)=="object"&&(qo(e.r)&&qo(e.g)&&qo(e.b)?(t=T6(e.r,e.g,e.b),o=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):qo(e.h)&&qo(e.s)&&qo(e.v)?(r=qf(e.s),i=qf(e.v),t=R6(e.h,r,i),o=!0,l="hsv"):qo(e.h)&&qo(e.s)&&qo(e.l)&&(r=qf(e.s),s=qf(e.l),t=I6(e.h,r,s),o=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Nj(n),{ok:o,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function T6(e,t,n){return{r:Fn(e,255)*255,g:Fn(t,255)*255,b:Fn(n,255)*255}}function Ck(e,t,n){e=Fn(e,255),t=Fn(t,255),n=Fn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,l=(r+i)/2;if(r==i)s=o=0;else{var u=r-i;switch(o=l>.5?u/(2-r-i):u/(r+i),r){case e:s=(t-n)/u+(t<n?6:0);break;case t:s=(n-e)/u+2;break;case n:s=(e-t)/u+4;break}s/=6}return{h:s,s:o,l}}function I6(e,t,n){var r,i,s;e=Fn(e,360),t=Fn(t,100),n=Fn(n,100);function o(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(h-c)*6*f:f<1/2?h:f<2/3?c+(h-c)*(2/3-f)*6:c}if(t===0)r=i=s=n;else{var l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;r=o(u,l,e+1/3),i=o(u,l,e),s=o(u,l,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function kk(e,t,n){e=Fn(e,255),t=Fn(t,255),n=Fn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,l=r,u=r-i;if(o=r===0?0:u/r,r==i)s=0;else{switch(r){case e:s=(t-n)/u+(t<n?6:0);break;case t:s=(n-e)/u+2;break;case n:s=(e-t)/u+4;break}s/=6}return{h:s,s:o,v:l}}function R6(e,t,n){e=Fn(e,360)*6,t=Fn(t,100),n=Fn(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),l=n*(1-(1-i)*t),u=r%6,c=[n,o,s,s,l,n][u],h=[l,n,n,o,s,s][u],f=[s,s,l,n,n,o][u];return{r:c*255,g:h*255,b:f*255}}function Tk(e,t,n,r){var i=[Xs(Math.round(e).toString(16)),Xs(Math.round(t).toString(16)),Xs(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function P6(e,t,n,r,i){var s=[Xs(Math.round(e).toString(16)),Xs(Math.round(t).toString(16)),Xs(Math.round(n).toString(16)),Xs(Bj(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Ik(e,t,n,r){var i=[Xs(Bj(r)),Xs(Math.round(e).toString(16)),Xs(Math.round(t).toString(16)),Xs(Math.round(n).toString(16))];return i.join("")}xe.equals=function(e,t){return!e||!t?!1:xe(e).toRgbString()==xe(t).toRgbString()};xe.random=function(){return xe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function M6(e,t){t=t===0?0:t||10;var n=xe(e).toHsl();return n.s-=t/100,n.s=cv(n.s),xe(n)}function j6(e,t){t=t===0?0:t||10;var n=xe(e).toHsl();return n.s+=t/100,n.s=cv(n.s),xe(n)}function O6(e){return xe(e).desaturate(100)}function V6(e,t){t=t===0?0:t||10;var n=xe(e).toHsl();return n.l+=t/100,n.l=cv(n.l),xe(n)}function L6(e,t){t=t===0?0:t||10;var n=xe(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),xe(n)}function N6(e,t){t=t===0?0:t||10;var n=xe(e).toHsl();return n.l-=t/100,n.l=cv(n.l),xe(n)}function B6(e,t){var n=xe(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,xe(n)}function D6(e){var t=xe(e).toHsl();return t.h=(t.h+180)%360,xe(t)}function Rk(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=xe(e).toHsl(),r=[xe(e)],i=360/t,s=1;s<t;s++)r.push(xe({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function F6(e){var t=xe(e).toHsl(),n=t.h;return[xe(e),xe({h:(n+72)%360,s:t.s,l:t.l}),xe({h:(n+216)%360,s:t.s,l:t.l})]}function $6(e,t,n){t=t||6,n=n||30;var r=xe(e).toHsl(),i=360/n,s=[xe(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(xe(r));return s}function z6(e,t){t=t||6;for(var n=xe(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],l=1/t;t--;)o.push(xe({h:r,s:i,v:s})),s=(s+l)%1;return o}xe.mix=function(e,t,n){n=n===0?0:n||50;var r=xe(e).toRgb(),i=xe(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return xe(o)};xe.readability=function(e,t){var n=xe(e),r=xe(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};xe.isReadable=function(e,t,n){var r=xe.readability(e,t),i,s;switch(s=!1,i=K6(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};xe.mostReadable=function(e,t,n){var r=null,i=0,s,o,l,u;n=n||{},o=n.includeFallbackColors,l=n.level,u=n.size;for(var c=0;c<t.length;c++)s=xe.readability(e,t[c]),s>i&&(i=s,r=xe(t[c]));return xe.isReadable(e,r,{level:l,size:u})||!o?r:(n.includeFallbackColors=!1,xe.mostReadable(e,["#fff","#000"],n))};var c_=xe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U6=xe.hexNames=H6(c_);function H6(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Nj(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Fn(e,t){G6(e)&&(e="100%");var n=q6(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function cv(e){return Math.min(1,Math.max(0,e))}function Ki(e){return parseInt(e,16)}function G6(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function q6(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Xs(e){return e.length==1?"0"+e:""+e}function qf(e){return e<=1&&(e=e*100+"%"),e}function Bj(e){return Math.round(parseFloat(e)*255).toString(16)}function Pk(e){return Ki(e)/255}var Hs=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function qo(e){return!!Hs.CSS_UNIT.exec(e)}function W6(e){e=e.replace(E6,"").replace(C6,"").toLowerCase();var t=!1;if(c_[e])e=c_[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Hs.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Hs.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Hs.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Hs.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Hs.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Hs.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Hs.hex8.exec(e))?{r:Ki(n[1]),g:Ki(n[2]),b:Ki(n[3]),a:Pk(n[4]),format:t?"name":"hex8"}:(n=Hs.hex6.exec(e))?{r:Ki(n[1]),g:Ki(n[2]),b:Ki(n[3]),format:t?"name":"hex"}:(n=Hs.hex4.exec(e))?{r:Ki(n[1]+""+n[1]),g:Ki(n[2]+""+n[2]),b:Ki(n[3]+""+n[3]),a:Pk(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Hs.hex3.exec(e))?{r:Ki(n[1]+""+n[1]),g:Ki(n[2]+""+n[2]),b:Ki(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function K6(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}xe("rgb(52, 166, 95)");xe("rgb(15, 138, 95)");xe("rgb(245, 98, 77)");xe("rgb(204, 35, 30)");const Dj=xe("rgb(245, 220, 21)"),Y6=xe(Dj.toRgbString()).darken(15),Fj=xe("rgb(255, 70, 223)"),Q6=xe(Fj.toRgbString()).darken(15),$j=xe("rgb(255, 119, 20)"),J6=xe($j.toRgbString()).darken(15),zj=xe("rgb(31, 192, 223)"),X6=xe(zj.toRgbString()).darken(15),Uj=xe("rgb(102, 44, 182)"),Z6=xe(Uj.toRgbString()).darken(15),e$=xe("rgb(0, 153, 255)"),t$=xe("rgb(0, 77, 128)"),Mk=xe("rgb(255, 54, 54)"),jk=xe("rgb(117, 25, 25)"),n$=xe("rgb(255, 213, 0)"),km=xe("rgb(255, 183, 0)"),ps=(e,t)=>e.setAlpha(t).toRgbString(),zr=(e,t)=>({text:ps(e,1),stroke:ps(t,1),star:{fill:ps(km,.5),stroke:ps(km,0),lineWidth:1},perfect:{fill:ps(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:ps(n$,1),stroke:ps(km,1),lineWidth:2},hit:{fill:ps(e,.9),stroke:ps(t,0),lineWidth:1},miss:{fill:ps(e,.25),stroke:ps(t,1),lineWidth:1}}),et={blue:zr(e$,t$),red:zr(Mk,jk),green:zr(xe("rgb(0,183,0)"),xe("rgb(0,84,0)")),yellow:zr(xe("rgb(239,209,0)"),xe("rgb(114,84,0)")),christmasGreen:zr(xe("rgb(44,133,0)"),xe("rgb(3, 79, 27)")),christmasRed:zr(xe("rgb(181,27,42)"),xe("rgb(126, 18, 29)")),christmasBlue:zr(xe("rgb(87 140 190)"),xe("rgb(34 53 90)")),christmasGold:zr(xe("rgb(206, 172, 92)"),xe("rgb(129,108,58)")),halloweenOrange:zr(xe("#fd9702"),xe("#ff7100")),halloweenViolet:zr(xe("#e102ff"),xe("#ae03ff")),halloweenRed:zr(Mk,jk),halloweenGreen:zr(xe("rgb(0,183,0)"),xe("rgb(0,84,0)")),eurovisionYellow:zr(Dj,Y6),eurovisionPink:zr(Fj,Q6),eurovisionOrange:zr($j,J6),eurovisionBlue:zr(zj,X6),eurovisionViolet:zr(Uj,Z6)};let Tm=[et.blue,et.red,et.green,et.yellow];const Ve={colors:{players:Tm,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:ps(km,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},Ok={christmas:[et.christmasGreen,et.christmasRed,et.christmasBlue,et.christmasGold],eurovision:[et.eurovisionBlue,et.eurovisionViolet,et.eurovisionYellow,et.eurovisionPink],halloween:[et.halloweenOrange,et.halloweenViolet,et.halloweenRed,et.halloweenGreen],regular:[et.blue,et.red,et.green,et.yellow]},Hj=e=>{Tm[0]!==Ok[e][0]&&(Tm=Ok[e],Ve.colors.players=Tm)};function Gu(e,t,n){e==null||e.send({t,...n})}var u_;try{u_=new TextDecoder}catch{}var Ne,Ss,ie=0,xn={},Ft,Ja,ms=0,_o=0,Lr,oa,Di=[],Nt,Vk={useRecords:!1,mapsAsObjects:!0};class Gj{}const qj=new Gj;qj.name="MessagePack 0xC1";var nl=!1,Wj=2,Lk;try{new Function("")}catch{Wj=1/0}class Sh{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(Ne)return Zj(()=>(f_(),this?this.unpack(t,n):Sh.prototype.unpack.call(Vk,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ss=n.end||t.length,ie=n.start||0):(ie=0,Ss=n>-1?n:t.length),_o=0,Ja=null,Lr=null,Ne=t;try{Nt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw Ne=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Sh){if(xn=this,this.structures)return Ft=this.structures,Tg(n);(!Ft||Ft.length>0)&&(Ft=[])}else xn=Vk,(!Ft||Ft.length>0)&&(Ft=[]);return Tg(n)}unpackMultiple(t,n){let r,i=0;try{nl=!0;let s=t.length,o=this?this.unpack(t,s):uv.unpack(t,s);if(n){if(n(o,i,ie)===!1)return;for(;ie<s;)if(i=ie,n(Tg(),i,ie)===!1)return}else{for(r=[o];ie<s;)i=ie,r.push(Tg());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{nl=!1,f_()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Tg(e){try{if(!xn.trusted&&!nl){let n=Ft.sharedLength||0;n<Ft.length&&(Ft.length=n)}let t;if(xn.randomAccessStructure&&Ne[ie]<64&&Ne[ie]>=32&&Lk?(t=Lk(Ne,ie,Ss,xn),Ne=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),ie=Ss):t=or(),Lr&&(ie=Lr.postBundlePosition,Lr=null),nl&&(Ft.restoreStructures=null),ie==Ss)Ft&&Ft.restoreStructures&&Nk(),Ft=null,Ne=null,oa&&(oa=null);else{if(ie>Ss)throw new Error("Unexpected end of MessagePack data");if(!nl){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw Ft&&Ft.restoreStructures&&Nk(),f_(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||ie>Ss)&&(t.incomplete=!0),t}}function Nk(){for(let e in Ft.restoreStructures)Ft[e]=Ft.restoreStructures[e];Ft.restoreStructures=null}function or(){let e=Ne[ie++];if(e<160)if(e<128){if(e<64)return e;{let t=Ft[e&63]||xn.getStructures&&Kj()[e&63];return t?(t.read||(t.read=XS(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,xn.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=Qj();r==="__proto__"&&(r="__proto_"),t[r]=or()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(or(),or());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=or();return xn.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(_o>=ie)return Ja.slice(ie-ms,(ie+=t)-ms);if(_o==0&&Ss<140){let n=t<16?ZS(t):Yj(t);if(n!=null)return n}return d_(t)}else{let t;switch(e){case 192:return null;case 193:return Lr?(t=or(),t>0?Lr[1].slice(Lr.position1,Lr.position1+=t):Lr[0].slice(Lr.position0,Lr.position0-=t)):qj;case 194:return!1;case 195:return!0;case 196:if(t=Ne[ie++],t===void 0)throw new Error("Unexpected end of buffer");return e1(t);case 197:return t=Nt.getUint16(ie),ie+=2,e1(t);case 198:return t=Nt.getUint32(ie),ie+=4,e1(t);case 199:return Fl(Ne[ie++]);case 200:return t=Nt.getUint16(ie),ie+=2,Fl(t);case 201:return t=Nt.getUint32(ie),ie+=4,Fl(t);case 202:if(t=Nt.getFloat32(ie),xn.useFloat32>2){let n=ex[(Ne[ie]&127)<<1|Ne[ie+1]>>7];return ie+=4,(n*t+(t>0?.5:-.5)>>0)/n}return ie+=4,t;case 203:return t=Nt.getFloat64(ie),ie+=8,t;case 204:return Ne[ie++];case 205:return t=Nt.getUint16(ie),ie+=2,t;case 206:return t=Nt.getUint32(ie),ie+=4,t;case 207:return xn.int64AsType==="number"?(t=Nt.getUint32(ie)*4294967296,t+=Nt.getUint32(ie+4)):xn.int64AsType==="string"?t=Nt.getBigUint64(ie).toString():xn.int64AsType==="auto"?(t=Nt.getBigUint64(ie),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Nt.getBigUint64(ie),ie+=8,t;case 208:return Nt.getInt8(ie++);case 209:return t=Nt.getInt16(ie),ie+=2,t;case 210:return t=Nt.getInt32(ie),ie+=4,t;case 211:return xn.int64AsType==="number"?(t=Nt.getInt32(ie)*4294967296,t+=Nt.getUint32(ie+4)):xn.int64AsType==="string"?t=Nt.getBigInt64(ie).toString():xn.int64AsType==="auto"?(t=Nt.getBigInt64(ie),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Nt.getBigInt64(ie),ie+=8,t;case 212:if(t=Ne[ie++],t==114)return Uk(Ne[ie++]&63);{let n=Di[t];if(n)return n.read?(ie++,n.read(or())):n.noBuffer?(ie++,n()):n(Ne.subarray(ie,++ie));throw new Error("Unknown extension "+t)}case 213:return t=Ne[ie],t==114?(ie++,Uk(Ne[ie++]&63,Ne[ie++])):Fl(2);case 214:return Fl(4);case 215:return Fl(8);case 216:return Fl(16);case 217:return t=Ne[ie++],_o>=ie?Ja.slice(ie-ms,(ie+=t)-ms):i$(t);case 218:return t=Nt.getUint16(ie),ie+=2,_o>=ie?Ja.slice(ie-ms,(ie+=t)-ms):s$(t);case 219:return t=Nt.getUint32(ie),ie+=4,_o>=ie?Ja.slice(ie-ms,(ie+=t)-ms):o$(t);case 220:return t=Nt.getUint16(ie),ie+=2,Dk(t);case 221:return t=Nt.getUint32(ie),ie+=4,Dk(t);case 222:return t=Nt.getUint16(ie),ie+=2,Fk(t);case 223:return t=Nt.getUint32(ie),ie+=4,Fk(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const r$=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function XS(e,t){function n(){if(n.count++>Wj){let i=e.read=new Function("r","return function(){return "+(xn.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":r$.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(or);return e.highByte===0&&(e.read=Bk(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=or()}return xn.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?Bk(t,n):n}const Bk=(e,t)=>function(){let n=Ne[ie++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=Ft[r]||Kj()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=XS(i,e)),i.read()};function Kj(){let e=Zj(()=>(Ne=null,xn.getStructures()));return Ft=xn._mergeStructures(e,Ft)}var d_=zh,i$=zh,s$=zh,o$=zh;function zh(e){let t;if(e<16&&(t=ZS(e)))return t;if(e>64&&u_)return u_.decode(Ne.subarray(ie,ie+=e));const n=ie+e,r=[];for(t="";ie<n;){const i=Ne[ie++];if(!(i&128))r.push(i);else if((i&224)===192){const s=Ne[ie++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=Ne[ie++]&63,o=Ne[ie++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=Ne[ie++]&63,o=Ne[ie++]&63,l=Ne[ie++]&63;let u=(i&7)<<18|s<<12|o<<6|l;u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|u&1023),r.push(u)}else r.push(i);r.length>=4096&&(t+=jr.apply(String,r),r.length=0)}return r.length>0&&(t+=jr.apply(String,r)),t}function Dk(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=or();return xn.freezeData?Object.freeze(t):t}function Fk(e){if(xn.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=Qj();r==="__proto__"&&(r="__proto_"),t[r]=or()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(or(),or());return t}}var jr=String.fromCharCode;function Yj(e){let t=ie,n=new Array(e);for(let r=0;r<e;r++){const i=Ne[ie++];if((i&128)>0){ie=t;return}n[r]=i}return jr.apply(String,n)}function ZS(e){if(e<4)if(e<2){if(e===0)return"";{let t=Ne[ie++];if((t&128)>1){ie-=1;return}return jr(t)}}else{let t=Ne[ie++],n=Ne[ie++];if((t&128)>0||(n&128)>0){ie-=2;return}if(e<3)return jr(t,n);let r=Ne[ie++];if((r&128)>0){ie-=3;return}return jr(t,n,r)}else{let t=Ne[ie++],n=Ne[ie++],r=Ne[ie++],i=Ne[ie++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){ie-=4;return}if(e<6){if(e===4)return jr(t,n,r,i);{let s=Ne[ie++];if((s&128)>0){ie-=5;return}return jr(t,n,r,i,s)}}else if(e<8){let s=Ne[ie++],o=Ne[ie++];if((s&128)>0||(o&128)>0){ie-=6;return}if(e<7)return jr(t,n,r,i,s,o);let l=Ne[ie++];if((l&128)>0){ie-=7;return}return jr(t,n,r,i,s,o,l)}else{let s=Ne[ie++],o=Ne[ie++],l=Ne[ie++],u=Ne[ie++];if((s&128)>0||(o&128)>0||(l&128)>0||(u&128)>0){ie-=8;return}if(e<10){if(e===8)return jr(t,n,r,i,s,o,l,u);{let c=Ne[ie++];if((c&128)>0){ie-=9;return}return jr(t,n,r,i,s,o,l,u,c)}}else if(e<12){let c=Ne[ie++],h=Ne[ie++];if((c&128)>0||(h&128)>0){ie-=10;return}if(e<11)return jr(t,n,r,i,s,o,l,u,c,h);let f=Ne[ie++];if((f&128)>0){ie-=11;return}return jr(t,n,r,i,s,o,l,u,c,h,f)}else{let c=Ne[ie++],h=Ne[ie++],f=Ne[ie++],m=Ne[ie++];if((c&128)>0||(h&128)>0||(f&128)>0||(m&128)>0){ie-=12;return}if(e<14){if(e===12)return jr(t,n,r,i,s,o,l,u,c,h,f,m);{let v=Ne[ie++];if((v&128)>0){ie-=13;return}return jr(t,n,r,i,s,o,l,u,c,h,f,m,v)}}else{let v=Ne[ie++],A=Ne[ie++];if((v&128)>0||(A&128)>0){ie-=14;return}if(e<15)return jr(t,n,r,i,s,o,l,u,c,h,f,m,v,A);let b=Ne[ie++];if((b&128)>0){ie-=15;return}return jr(t,n,r,i,s,o,l,u,c,h,f,m,v,A,b)}}}}}function $k(){let e=Ne[ie++],t;if(e<192)t=e-160;else switch(e){case 217:t=Ne[ie++];break;case 218:t=Nt.getUint16(ie),ie+=2;break;case 219:t=Nt.getUint32(ie),ie+=4;break;default:throw new Error("Expected string")}return zh(t)}function e1(e){return xn.copyBuffers?Uint8Array.prototype.slice.call(Ne,ie,ie+=e):Ne.subarray(ie,ie+=e)}function Fl(e){let t=Ne[ie++];if(Di[t]){let n;return Di[t](Ne.subarray(ie,n=ie+=e),r=>{ie=r;try{return or()}finally{ie=n}})}else throw new Error("Unknown extension type "+t)}var zk=new Array(4096);function Qj(){let e=Ne[ie++];if(e>=160&&e<192){if(e=e-160,_o>=ie)return Ja.slice(ie-ms,(ie+=e)-ms);if(!(_o==0&&Ss<180))return d_(e)}else return ie--,Jj(or());let t=(e<<5^(e>1?Nt.getUint16(ie):e>0?Ne[ie]:0))&4095,n=zk[t],r=ie,i=ie+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=Nt.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=Ne[r++],s!=n[o++]){r=1879048192;break}if(r===i)return ie=r,n.string;i-=3,r=ie}for(n=[],zk[t]=n,n.bytes=e;r<i;)s=Nt.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=Ne[r++],n.push(s);let l=e<16?ZS(e):Yj(e);return l!=null?n.string=l:n.string=d_(e)}function Jj(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const Uk=(e,t)=>{let n=or().map(Jj),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=Ft[e];return i&&(i.isShared||nl)&&((Ft.restoreStructures||(Ft.restoreStructures=[]))[e]=i),Ft[e]=n,n.read=XS(n,r),n.read()};Di[0]=()=>{};Di[0].noBuffer=!0;Di[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let a$={Error,TypeError,ReferenceError};Di[101]=()=>{let e=or();return(a$[e[0]]||Error)(e[1])};Di[105]=e=>{if(xn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Nt.getUint32(ie-4);oa||(oa=new Map);let n=Ne[ie],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};oa.set(t,i);let s=or();return i.used?Object.assign(r,s):(i.target=s,s)};Di[112]=e=>{if(xn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Nt.getUint32(ie-4),n=oa.get(t);return n.used=!0,n.target};Di[115]=()=>new Set(or());const Xj=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let l$=typeof globalThis=="object"?globalThis:window;Di[116]=e=>{let t=e[0],n=Xj[t];if(!n)throw new Error("Could not find typed array for code "+t);return new l$[n](Uint8Array.prototype.slice.call(e,1).buffer)};Di[120]=()=>{let e=or();return new RegExp(e[0],e[1])};const c$=[];Di[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=ie;return ie+=t-e.length,Lr=c$,Lr=[$k(),$k()],Lr.position0=0,Lr.position1=0,Lr.postBundlePosition=ie,ie=n,or()};Di[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function Zj(e){let t=Ss,n=ie,r=ms,i=_o,s=Ja,o=oa,l=Lr,u=new Uint8Array(Ne.slice(0,Ss)),c=Ft,h=Ft.slice(0,Ft.length),f=xn,m=nl,v=e();return Ss=t,ie=n,ms=r,_o=i,Ja=s,oa=o,Lr=l,Ne=u,nl=m,Ft=c,Ft.splice(0,Ft.length,...h),xn=f,Nt=new DataView(Ne.buffer,Ne.byteOffset,Ne.byteLength),v}function f_(){Ne=null,oa=null,Ft=null}const ex=new Array(147);for(let e=0;e<256;e++)ex[e]=+("1e"+Math.floor(45.15-e*.30103));var uv=new Sh({useRecords:!1});const u$=uv.unpack;uv.unpackMultiple;uv.unpack;let d$=new Float32Array(1);new Uint8Array(d$.buffer,0,4);let Im;try{Im=new TextEncoder}catch{}let h_,e3;const dv=typeof Buffer<"u",Ig=dv?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,t3=dv?Buffer:Uint8Array,Hk=dv?4294967296:2144337920;let fe,kf,gn,ae=0,pi,Gn=null,f$;const h$=21760,p$=/[\u0080-\uFFFF]/,vu=Symbol("record-id");class g$ extends Sh{constructor(t){super(t),this.offset=0;let n,r,i,s,o=t3.prototype.utf8Write?function(B,G){return fe.utf8Write(B,G,4294967295)}:Im&&Im.encodeInto?function(B,G){return Im.encodeInto(B,fe.subarray(G)).written}:!1,l=this;t||(t={});let u=t&&t.sequential,c=t.structures||t.saveStructures,h=t.maxSharedStructures;if(h==null&&(h=c?32:0),h>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let f=t.maxOwnStructures;f==null&&(f=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let m=h>32||f+h>64,v=h+64,A=h+f+64;if(A>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let b=[],S=0,w=0;this.pack=this.encode=function(B,G){if(fe||(fe=new Ig(8192),gn=fe.dataView||(fe.dataView=new DataView(fe.buffer,0,8192)),ae=0),pi=fe.length-10,pi-ae<2048?(fe=new Ig(fe.length),gn=fe.dataView||(fe.dataView=new DataView(fe.buffer,0,fe.length)),pi=fe.length-10,ae=0):ae=ae+7&2147483640,n=ae,G&_$&&(ae+=G&255),s=l.structuredClone?new Map:null,l.bundleStrings&&typeof B!="string"?(Gn=[],Gn.size=1/0):Gn=null,i=l.structures,i){i.uninitialized&&(i=l._mergeStructures(l.getStructures()));let L=i.sharedLength||0;if(L>h)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let Y=0;Y<L;Y++){let q=i[Y];if(!q)continue;let Q,M=i.transitions;for(let U=0,X=q.length;U<X;U++){let de=q[U];Q=M[de],Q||(Q=M[de]=Object.create(null)),M=Q}M[vu]=Y+64}this.lastNamedStructuresLength=L}u||(i.nextId=L+64)}r&&(r=!1);let F;try{l.randomAccessStructure&&B&&B.constructor&&B.constructor===Object?H(B):T(B);let L=Gn;if(Gn&&Wk(n,T,0),s&&s.idsToInsert){let Y=s.idsToInsert.sort((U,X)=>U.offset>X.offset?1:-1),q=Y.length,Q=-1;for(;L&&q>0;){let U=Y[--q].offset+n;U<L.stringsPosition+n&&Q===-1&&(Q=0),U>L.position+n?Q>=0&&(Q+=6):(Q>=0&&(gn.setUint32(L.position+n,gn.getUint32(L.position+n)+Q),Q=-1),L=L.previous,q++)}Q>=0&&L&&gn.setUint32(L.position+n,gn.getUint32(L.position+n)+Q),ae+=Y.length*6,ae>pi&&V(ae),l.offset=ae;let M=v$(fe.subarray(n,ae),Y);return s=null,M}return l.offset=ae,G&A$?(fe.start=n,fe.end=ae,fe):fe.subarray(n,ae)}catch(L){throw F=L,L}finally{if(i&&(I(),r&&l.saveStructures)){let L=i.sharedLength||0,Y=fe.subarray(n,ae),q=y$(i,l);if(!F)return l.saveStructures(q,q.isCompatible)===!1?l.pack(B,G):(l.lastNamedStructuresLength=L,Y)}G&b$&&(ae=n)}};const I=()=>{w<10&&w++;let B=i.sharedLength||0;if(i.length>B&&!u&&(i.length=B),S>1e4)i.transitions=null,w=0,S=0,b.length>0&&(b=[]);else if(b.length>0&&!u){for(let G=0,F=b.length;G<F;G++)b[G][vu]=0;b=[]}},R=B=>{var G=B.length;G<16?fe[ae++]=144|G:G<65536?(fe[ae++]=220,fe[ae++]=G>>8,fe[ae++]=G&255):(fe[ae++]=221,gn.setUint32(ae,G),ae+=4);for(let F=0;F<G;F++)T(B[F])},T=B=>{ae>pi&&(fe=V(ae));var G=typeof B,F;if(G==="string"){let L=B.length;if(Gn&&L>=4&&L<4096){if((Gn.size+=L)>h$){let M,U=(Gn[0]?Gn[0].length*3+Gn[1].length:0)+10;ae+U>pi&&(fe=V(ae+U));let X;Gn.position?(X=Gn,fe[ae]=200,ae+=3,fe[ae++]=98,M=ae-n,ae+=4,Wk(n,T,0),gn.setUint16(M+n-3,ae-n-M)):(fe[ae++]=214,fe[ae++]=98,M=ae-n,ae+=4),Gn=["",""],Gn.previous=X,Gn.size=0,Gn.position=M}let Q=p$.test(B);Gn[Q?0:1]+=B,fe[ae++]=193,T(Q?-L:L);return}let Y;L<32?Y=1:L<256?Y=2:L<65536?Y=3:Y=5;let q=L*3;if(ae+q>pi&&(fe=V(ae+q)),L<64||!o){let Q,M,U,X=ae+Y;for(Q=0;Q<L;Q++)M=B.charCodeAt(Q),M<128?fe[X++]=M:M<2048?(fe[X++]=M>>6|192,fe[X++]=M&63|128):(M&64512)===55296&&((U=B.charCodeAt(Q+1))&64512)===56320?(M=65536+((M&1023)<<10)+(U&1023),Q++,fe[X++]=M>>18|240,fe[X++]=M>>12&63|128,fe[X++]=M>>6&63|128,fe[X++]=M&63|128):(fe[X++]=M>>12|224,fe[X++]=M>>6&63|128,fe[X++]=M&63|128);F=X-ae-Y}else F=o(B,ae+Y);F<32?fe[ae++]=160|F:F<256?(Y<2&&fe.copyWithin(ae+2,ae+1,ae+1+F),fe[ae++]=217,fe[ae++]=F):F<65536?(Y<3&&fe.copyWithin(ae+3,ae+2,ae+2+F),fe[ae++]=218,fe[ae++]=F>>8,fe[ae++]=F&255):(Y<5&&fe.copyWithin(ae+5,ae+3,ae+3+F),fe[ae++]=219,gn.setUint32(ae,F),ae+=4),ae+=F}else if(G==="number")if(B>>>0===B)B<32||B<128&&this.useRecords===!1||B<64&&!this.randomAccessStructure?fe[ae++]=B:B<256?(fe[ae++]=204,fe[ae++]=B):B<65536?(fe[ae++]=205,fe[ae++]=B>>8,fe[ae++]=B&255):(fe[ae++]=206,gn.setUint32(ae,B),ae+=4);else if(B>>0===B)B>=-32?fe[ae++]=256+B:B>=-128?(fe[ae++]=208,fe[ae++]=B+256):B>=-32768?(fe[ae++]=209,gn.setInt16(ae,B),ae+=2):(fe[ae++]=210,gn.setInt32(ae,B),ae+=4);else{let L;if((L=this.useFloat32)>0&&B<4294967296&&B>=-2147483648){fe[ae++]=202,gn.setFloat32(ae,B);let Y;if(L<4||(Y=B*ex[(fe[ae]&127)<<1|fe[ae+1]>>7])>>0===Y){ae+=4;return}else ae--}fe[ae++]=203,gn.setFloat64(ae,B),ae+=8}else if(G==="object"||G==="function")if(!B)fe[ae++]=192;else{if(s){let Y=s.get(B);if(Y){if(!Y.id){let q=s.idsToInsert||(s.idsToInsert=[]);Y.id=q.push(Y)}fe[ae++]=214,fe[ae++]=112,gn.setUint32(ae,Y.id),ae+=4;return}else s.set(B,{offset:ae-n})}let L=B.constructor;if(L===Object)j(B,!0);else if(L===Array)R(B);else if(L===Map)if(this.mapAsEmptyObject)fe[ae++]=128;else{F=B.size,F<16?fe[ae++]=128|F:F<65536?(fe[ae++]=222,fe[ae++]=F>>8,fe[ae++]=F&255):(fe[ae++]=223,gn.setUint32(ae,F),ae+=4);for(let[Y,q]of B)T(Y),T(q)}else{for(let Y=0,q=h_.length;Y<q;Y++){let Q=e3[Y];if(B instanceof Q){let M=h_[Y];if(M.write){M.type&&(fe[ae++]=212,fe[ae++]=M.type,fe[ae++]=0);let pe=M.write.call(this,B);pe===B?Array.isArray(B)?R(B):j(B):T(pe);return}let U=fe,X=gn,de=ae;fe=null;let z;try{z=M.pack.call(this,B,pe=>(fe=U,U=null,ae+=pe,ae>pi&&V(ae),{target:fe,targetView:gn,position:ae-pe}),T)}finally{U&&(fe=U,gn=X,ae=de,pi=fe.length-10)}z&&(z.length+ae>pi&&V(z.length+ae),ae=m$(z,fe,ae,M.type));return}}if(Array.isArray(B))R(B);else{if(B.toJSON){const Y=B.toJSON();if(Y!==B)return T(Y)}if(G==="function")return T(this.writeFunction&&this.writeFunction(B));j(B,!B.hasOwnProperty)}}}else if(G==="boolean")fe[ae++]=B?195:194;else if(G==="bigint"){if(B<BigInt(1)<<BigInt(63)&&B>=-(BigInt(1)<<BigInt(63)))fe[ae++]=211,gn.setBigInt64(ae,B);else if(B<BigInt(1)<<BigInt(64)&&B>0)fe[ae++]=207,gn.setBigUint64(ae,B);else if(this.largeBigIntToFloat)fe[ae++]=203,gn.setFloat64(ae,Number(B));else if(this.useBigIntExtension&&B<2n**1023n&&B>-(2n**1023n)){fe[ae++]=199,ae++,fe[ae++]=66;let L=[],Y;do{let q=B&0xffn;Y=(q&0x80n)===(B<0n?0x80n:0n),L.push(q),B>>=8n}while(!((B===0n||B===-1n)&&Y));fe[ae-2]=L.length;for(let q=L.length;q>0;)fe[ae++]=Number(L[--q]);return}else throw new RangeError(B+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");ae+=8}else if(G==="undefined")this.encodeUndefinedAsNil?fe[ae++]=192:(fe[ae++]=212,fe[ae++]=0,fe[ae++]=0);else throw new Error("Unknown type: "+G)},E=this.variableMapSize||this.coercibleKeyAsNumber?B=>{let G=Object.keys(B),F=G.length;F<16?fe[ae++]=128|F:F<65536?(fe[ae++]=222,fe[ae++]=F>>8,fe[ae++]=F&255):(fe[ae++]=223,gn.setUint32(ae,F),ae+=4);let L;if(this.coercibleKeyAsNumber)for(let Y=0;Y<F;Y++){L=G[Y];let q=Number(L);T(isNaN(q)?L:q),T(B[L])}else for(let Y=0;Y<F;Y++)T(L=G[Y]),T(B[L])}:(B,G)=>{fe[ae++]=222;let F=ae-n;ae+=2;let L=0;for(let Y in B)(G||B.hasOwnProperty(Y))&&(T(Y),T(B[Y]),L++);fe[F+++n]=L>>8,fe[F+n]=L&255},P=this.useRecords===!1?E:t.progressiveRecords&&!m?(B,G)=>{let F,L=i.transitions||(i.transitions=Object.create(null)),Y=ae++-n,q;for(let Q in B)if(G||B.hasOwnProperty(Q)){if(F=L[Q],F)L=F;else{let M=Object.keys(B),U=L;L=i.transitions;let X=0;for(let de=0,z=M.length;de<z;de++){let pe=M[de];F=L[pe],F||(F=L[pe]=Object.create(null),X++),L=F}Y+n+1==ae?(ae--,k(L,M,X)):D(L,M,Y,X),q=!0,L=U[Q]}T(B[Q])}if(!q){let Q=L[vu];Q?fe[Y+n]=Q:D(L,Object.keys(B),Y,0)}}:(B,G)=>{let F,L=i.transitions||(i.transitions=Object.create(null)),Y=0;for(let Q in B)(G||B.hasOwnProperty(Q))&&(F=L[Q],F||(F=L[Q]=Object.create(null),Y++),L=F);let q=L[vu];q?q>=96&&m?(fe[ae++]=((q-=96)&31)+96,fe[ae++]=q>>5):fe[ae++]=q:k(L,L.__keys__||Object.keys(B),Y);for(let Q in B)(G||B.hasOwnProperty(Q))&&T(B[Q])},N=typeof this.useRecords=="function"&&this.useRecords,j=N?(B,G)=>{N(B)?P(B,G):E(B,G)}:P,V=B=>{let G;if(B>16777216){if(B-n>Hk)throw new Error("Packed buffer would be larger than maximum buffer size");G=Math.min(Hk,Math.round(Math.max((B-n)*(B>67108864?1.25:2),4194304)/4096)*4096)}else G=(Math.max(B-n<<2,fe.length-1)>>12)+1<<12;let F=new Ig(G);return gn=F.dataView||(F.dataView=new DataView(F.buffer,0,G)),B=Math.min(B,fe.length),fe.copy?fe.copy(F,0,n,B):F.set(fe.slice(n,B)),ae-=n,n=0,pi=F.length-10,fe=F},k=(B,G,F)=>{let L=i.nextId;L||(L=64),L<v&&this.shouldShareStructure&&!this.shouldShareStructure(G)?(L=i.nextOwnId,L<A||(L=v),i.nextOwnId=L+1):(L>=A&&(L=v),i.nextId=L+1);let Y=G.highByte=L>=96&&m?L-96>>5:-1;B[vu]=L,B.__keys__=G,i[L-64]=G,L<v?(G.isShared=!0,i.sharedLength=L-63,r=!0,Y>=0?(fe[ae++]=(L&31)+96,fe[ae++]=Y):fe[ae++]=L):(Y>=0?(fe[ae++]=213,fe[ae++]=114,fe[ae++]=(L&31)+96,fe[ae++]=Y):(fe[ae++]=212,fe[ae++]=114,fe[ae++]=L),F&&(S+=w*F),b.length>=f&&(b.shift()[vu]=0),b.push(B),T(G))},D=(B,G,F,L)=>{let Y=fe,q=ae,Q=pi,M=n;fe=kf,ae=0,n=0,fe||(kf=fe=new Ig(8192)),pi=fe.length-10,k(B,G,L),kf=fe;let U=ae;if(fe=Y,ae=q,pi=Q,n=M,U>1){let X=ae+U-1;X>pi&&V(X);let de=F+n;fe.copyWithin(de+U,de+1,ae),fe.set(kf.slice(0,U),de),ae=X}else fe[F+n]=kf[0]},H=(B,G)=>{let F=f$(B,fe,n,ae,i,V,(L,Y,q)=>{if(q)return r=!0;ae=Y;let Q=fe;return T(L),I(),Q!==fe?{position:ae,targetView:gn,target:fe}:ae},this);if(F===0)return j(B,!0);ae=F}}useBuffer(t){fe=t,gn=new DataView(fe.buffer,fe.byteOffset,fe.byteLength),ae=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}e3=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Gj];h_=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?Gk(e,16,t):qk(dv?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==t3&&this.moreTypes?Gk(e,Xj.indexOf(n.name),t):qk(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function Gk(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:l}=n(7+i);s[o++]=201,l.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function qk(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function m$(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function v$(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let l=s+r;e[l++]=214,e[l++]=105,e[l++]=o>>24,e[l++]=o>>16&255,e[l++]=o>>8&255,e[l++]=o&255,i=s}return e}function Wk(e,t,n){if(Gn.length>0){gn.setUint32(Gn.position+e,ae+n-Gn.position-e),Gn.stringsPosition=ae-e;let r=Gn;Gn=null,t(r[0]),t(r[1])}}function y$(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let n3=new g$({useRecords:!1});const r3=n3.pack;n3.pack;const A$=512,b$=1024,_$=2048;function bi(){return Date.now()}const Ts=e=>r3(e),bd=e=>u$(e);let S$=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Gu(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Gu(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Gu(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},x$=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Gu(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Gu(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=bi()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=bi(),this.isPinging=!0,Gu(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?bi()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new S$(r,i),this.pingClient()}};const Uh={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",Eurovision:"eurovision",Christmas:"christmas"};var x=Pc();const Je=Cr(x),v0=PD({__proto__:null,default:Je},[x]);class Vs extends so{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=ot[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,ot[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const i3=["high","low"],w$="graphics-level",xs=new Vs(w$,i3[0]),E$=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],C$="mic-setup-preference",s3=new Vs(C$,E$[0],"session"),o3=[60,30],rc=new Vs("fps-count",o3[0]),fv=new Vs("EXCLUDED_LANGUAGES_KEY_V2",null),Jr=new Vs("MOBILE_PHONE_MODE_KEY",null),a3=new Vs("keyboard-help-visibility",!0);var A5;const Kk=(A5=ar.getFeatureFlagPayload)==null?void 0:A5.call(ar,Uh.InitialInputLag),sh=new Vs("INPUT_LAG_V2",typeof Kk=="number"?Kk:0),l3=new Vs("REMOTE_MIC_INPUT_LAG",0,"session"),Yk=["write","read"],c3=new Vs("DefaultRemoteMicPermission","write"),Hh=new Vs("BackgroundThemeSetting","regular","memory"),tx=new Vs("AutoEnableFullscreenSetting",!0,"session"),k$=["WebSockets","PeerJS","PartyKit"],y0=new Vs("RemoteMicConnectionType","PartyKit","session");var b5;(b5=ar.onFeatureFlags)==null||b5.call(ar,()=>{y0.set(ar.getFeatureFlagPayload(Uh.RemoteMicConnectionType)??"PartyKit")});function Tt(e){const[t,n]=x.useState(e.get());return x.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const Qk="RememberedAccessesKey",t1="rememberedSubscriptionsKey";class T$ extends so{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=ot.local)==null?void 0:t.getItem(Qk))??{},this.subscriptions=((n=ot.session)==null?void 0:n.getItem(t1))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,o,l)=>{this.remoteMics=this.remoteMics.filter(u=>u.id!==r),this.remoteMics=[...this.remoteMics,new x$(r,i,s,l)],this.setPermission(r,this.getPermission(r)),ve.remoteMicConnected.dispatch({id:r,name:i,silent:o})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(o=>o.id===r);this.remoteMics=this.remoteMics.filter(o=>o.id!==r),s&&(s.onDisconnect(),ve.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var o;return(o=this.getRemoteMicById(s))==null?void 0:o.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??c3.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,ot==null||ot.setItem(Qk,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=ot.session)==null||s.setItem(t1,this.subscriptions),ve.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,o;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(l=>l!==r))??[],(o=ot.session)==null||o.setItem(t1,this.subscriptions)}}}const Mt=new T$;Hh.addListener(e=>{Hj(e),Mt.broadcast({t:"style-change",style:e})});ve.remoteMicConnected.subscribe(e=>{var t;(t=Mt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:Hh.get()})});class I${constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const R$=new I$;class P${constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const M$=new P$,Ct=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ic="8.41.0",$t=globalThis;function hv(e,t,n){const r=$t,i=r.__SENTRY__=r.__SENTRY__||{},s=i[ic]=i[ic]||{};return s[e]||(s[e]=t())}const pl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,j$="Sentry Logger ",p_=["debug","info","warn","error","log","assert","trace"],A0={};function Mc(e){if(!("console"in $t))return e();const t=$t.console,n={},r=Object.keys(A0);r.forEach(i=>{const s=A0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function O$(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return pl?p_.forEach(n=>{t[n]=(...r)=>{e&&Mc(()=>{$t.console[n](`${j$}[${n}]:`,...r)})}}):p_.forEach(n=>{t[n]=()=>{}}),t}const Be=hv("logger",O$),u3=50,gc="?",Jk=/\(error: (.*)\)/,Xk=/captureMessage|captureException/;function d3(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const u=o[l];if(u.length>1024)continue;const c=Jk.test(u)?u.replace(Jk,"$1"):u;if(!c.match(/\S*Error: /)){for(const h of t){const f=h(c);if(f){s.push(f);break}}if(s.length>=u3+i)break}}return L$(s.slice(i))}}function V$(e){return Array.isArray(e)?d3(...e):e}function L$(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Rg(t).function||"")&&t.pop(),t.reverse(),Xk.test(Rg(t).function||"")&&(t.pop(),Xk.test(Rg(t).function||"")&&t.pop()),t.slice(0,u3).map(n=>({...n,filename:n.filename||Rg(t).filename,function:n.function||gc}))}function Rg(e){return e[e.length-1]||{}}const n1="<anonymous>";function ua(e){try{return!e||typeof e!="function"?n1:e.name||n1}catch{return n1}}function g_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Rm={},Zk={};function gl(e,t){Rm[e]=Rm[e]||[],Rm[e].push(t)}function ml(e,t){if(!Zk[e]){Zk[e]=!0;try{t()}catch(n){pl&&Be.error(`Error while instrumenting ${e}`,n)}}}function Is(e,t){const n=e&&Rm[e];if(n)for(const r of n)try{r(t)}catch(i){pl&&Be.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ua(r)}
Error:`,i)}}let Pg=null;function f3(e){const t="error";gl(t,e),ml(t,N$)}function N$(){Pg=$t.onerror,$t.onerror=function(e,t,n,r,i){return Is("error",{column:r,error:i,line:n,msg:e,url:t}),Pg&&!Pg.__SENTRY_LOADER__?Pg.apply(this,arguments):!1},$t.onerror.__SENTRY_INSTRUMENTED__=!0}let Mg=null;function h3(e){const t="unhandledrejection";gl(t,e),ml(t,B$)}function B$(){Mg=$t.onunhandledrejection,$t.onunhandledrejection=function(e){return Is("unhandledrejection",e),Mg&&!Mg.__SENTRY_LOADER__?Mg.apply(this,arguments):!0},$t.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function jc(){return nx($t),$t}function nx(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ic,t[ic]=t[ic]||{}}const p3=Object.prototype.toString;function pv(e){switch(p3.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return da(e,Error)}}function _d(e,t){return p3.call(e)===`[object ${t}]`}function g3(e){return _d(e,"ErrorEvent")}function eT(e){return _d(e,"DOMError")}function D$(e){return _d(e,"DOMException")}function aa(e){return _d(e,"String")}function rx(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ix(e){return e===null||rx(e)||typeof e!="object"&&typeof e!="function"}function od(e){return _d(e,"Object")}function gv(e){return typeof Event<"u"&&da(e,Event)}function F$(e){return typeof Element<"u"&&da(e,Element)}function $$(e){return _d(e,"RegExp")}function mv(e){return!!(e&&e.then&&typeof e.then=="function")}function z$(e){return od(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function da(e,t){try{return e instanceof t}catch{return!1}}function m3(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const qu=$t,U$=80;function mc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const l=" > ",u=l.length;let c;const h=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||U$;for(;n&&s++<r&&(c=H$(n,h),!(c==="html"||s>1&&o+i.length*u+c.length>=f));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}function H$(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(qu.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&aa(o)){const l=o.split(/\s+/);for(const u of l)r.push(`.${u}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function G$(){try{return qu.document.location.href}catch{return""}}function q$(e){return qu.document&&qu.document.querySelector?qu.document.querySelector(e):null}function v3(e){if(!qu.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Wu(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function tT(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{m3(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function W$(e,t,n=!1){return aa(e)?$$(t)?t.test(e):aa(t)?n?e===t:e.includes(t):!1:!1}function sc(e,t=[],n=!1){return t.some(r=>W$(e,r,n))}function Xi(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&y3(i,r);try{e[t]=i}catch{pl&&Be.log(`Failed to replace method "${t}" in object`,e)}}function Rs(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{pl&&Be.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function y3(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Rs(e,"__sentry_original__",t)}catch{}}function sx(e){return e.__sentry_original__}function A3(e){if(pv(e))return{message:e.message,name:e.name,stack:e.stack,...rT(e)};if(gv(e)){const t={type:e.type,target:nT(e.target),currentTarget:nT(e.currentTarget),...rT(e)};return typeof CustomEvent<"u"&&da(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function nT(e){try{return F$(e)?mc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function rT(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function K$(e,t=40){const n=Object.keys(A3(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Wu(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Wu(s,t)}return""}function Yr(e){return m_(e,new Map)}function m_(e,t){if(Y$(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=m_(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(m_(i,t))}),r}return e}function Y$(e){if(!od(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const b3=1e3;function Gh(){return Date.now()/b3}function Q$(){const{performance:e}=$t;if(!e||!e.now)return Gh;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/b3}const Qr=Q$(),Fi=(()=>{const{performance:e}=$t;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):t,c=u<t;return s||c?i<=u?e.timeOrigin:o:r})();function Er(){const e=$t,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function _3(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Wa(e){const{message:t,event_id:n}=e;if(t)return t;const r=_3(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function v_(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function xh(e,t){const n=_3(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function iT(e){if(e&&e.__sentry_captured__)return!0;try{Rs(e,"__sentry_captured__",!0)}catch{}return!1}var ea;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ea||(ea={}));function vc(e){return new bs(t=>{t(e)})}function b0(e){return new bs((t,n)=>{n(e)})}class bs{constructor(t){bs.prototype.__init.call(this),bs.prototype.__init2.call(this),bs.prototype.__init3.call(this),bs.prototype.__init4.call(this),this._state=ea.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new bs((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new bs((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ea.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ea.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ea.PENDING){if(mv(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ea.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ea.RESOLVED&&n[1](this._value),this._state===ea.REJECTED&&n[2](this._value),n[0]=!0)})}}}function J$(e){const t=Qr(),n={sid:Er(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Z$(n)};return e&&ad(n,e),n}function ad(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Qr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Er()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function X$(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),ad(e,n)}function Z$(e){return Yr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function wh(){return{traceId:Er(),spanId:Er().substring(16)}}function vv(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=vv(r[i],t[i],n-1));return r}const y_="_sentrySpan";function Eh(e,t){t?Rs(e,y_,t):delete e[y_]}function _0(e){return e[y_]}const e8=100;class ox{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=wh()}clone(){const t=new ox;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Eh(t,_0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ad(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof sl?[n.getScopeData(),n.getRequestSession()]:od(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:l,contexts:u,level:c,fingerprint:h=[],propagationContext:f}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},l&&Object.keys(l).length&&(this._user=l),c&&(this._level=c),h.length&&(this._fingerprint=h),f&&(this._propagationContext=f),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Eh(this,void 0),this._attachments=[],this._propagationContext=wh(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:e8;if(r<=0)return this;const i={timestamp:Gh(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=vv(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Er();if(!this._client)return Be.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Er();if(!this._client)return Be.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Er();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Be.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const sl=ox;function t8(){return hv("defaultCurrentScope",()=>new sl)}function n8(){return hv("defaultIsolationScope",()=>new sl)}class r8{constructor(t,n){let r;t?r=t:r=new sl;let i;n?i=n:i=new sl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return mv(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ld(){const e=jc(),t=nx(e);return t.stack=t.stack||new r8(t8(),n8())}function i8(e){return ld().withScope(e)}function s8(e,t){const n=ld();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function sT(e){return ld().withScope(()=>e(ld().getIsolationScope()))}function o8(){return{withIsolationScope:sT,withScope:i8,withSetScope:s8,withSetIsolationScope:(e,t)=>sT(t),getCurrentScope:()=>ld().getScope(),getIsolationScope:()=>ld().getIsolationScope()}}function Sd(e){const t=nx(e);return t.acs?t.acs:o8()}function Pn(){const e=jc();return Sd(e).getCurrentScope()}function Mo(){const e=jc();return Sd(e).getIsolationScope()}function a8(){return hv("globalScope",()=>new sl)}function yv(...e){const t=jc(),n=Sd(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function ln(){return Pn().getClient()}function l8(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return Yr({trace_id:n,span_id:r,parent_span_id:i})}const c8="_sentryMetrics";function A_(e){const t=e[c8];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Yr(i));return n}const ia="sentry.source",S3="sentry.sample_rate",yc="sentry.op",cr="sentry.origin",b_="sentry.idle_span_finish_reason",Av="sentry.measurement_unit",bv="sentry.measurement_value",u8="sentry.profile_id",ax="sentry.exclusive_time",d8=0,x3=1,Vr=2;function f8(e){if(e<400&&e>=100)return{code:x3};if(e>=400&&e<500)switch(e){case 401:return{code:Vr,message:"unauthenticated"};case 403:return{code:Vr,message:"permission_denied"};case 404:return{code:Vr,message:"not_found"};case 409:return{code:Vr,message:"already_exists"};case 413:return{code:Vr,message:"failed_precondition"};case 429:return{code:Vr,message:"resource_exhausted"};case 499:return{code:Vr,message:"cancelled"};default:return{code:Vr,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Vr,message:"unimplemented"};case 503:return{code:Vr,message:"unavailable"};case 504:return{code:Vr,message:"deadline_exceeded"};default:return{code:Vr,message:"internal_error"}}return{code:Vr,message:"unknown_error"}}function w3(e,t){e.setAttribute("http.response.status_code",t);const n=f8(t);n.message!=="unknown_error"&&e.setStatus(n)}const lx="sentry-",h8=/^sentry-/,p8=8192;function E3(e){const t=m8(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(h8)){const o=i.slice(lx.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function g8(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${lx}${r}`]=i),n),{});return v8(t)}function m8(e){if(!(!e||!aa(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=oT(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):oT(e)}function oT(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function v8(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>p8?(pl&&Be.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const C3=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function y8(e){if(!e)return;const t=e.match(C3);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function A8(e,t){const n=y8(e),r=E3(t);if(!n||!n.traceId)return wh();const{traceId:i,parentSpanId:s,parentSampled:o}=n,l=Er().substring(16);return{traceId:i,parentSpanId:s,spanId:l,sampled:o,dsc:r||{}}}function k3(e=Er(),t=Er().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const T3=0,I3=1;let aT=!1;function b8(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:l}=sn(e);return Yr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:l})}function _8(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=sn(e);return Yr({parent_span_id:r,span_id:t,trace_id:n})}function S8(e){const{traceId:t,spanId:n}=e.spanContext(),r=Oc(e);return k3(t,n,r)}function oc(e){return typeof e=="number"?lT(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?lT(e.getTime()):Qr()}function lT(e){return e>9999999999?e/1e3:e}function sn(e){if(w8(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(x8(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:l,status:u}=e;return Yr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:l,start_timestamp:oc(i),timestamp:oc(o)||void 0,status:R3(u),op:r[yc],origin:r[cr],_metrics_summary:A_(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function x8(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function w8(e){return typeof e.getSpanJSON=="function"}function Oc(e){const{traceFlags:t}=e.spanContext();return t===I3}function R3(e){if(!(!e||e.code===d8))return e.code===x3?"ok":e.message||"unknown_error"}const ac="_sentryChildSpans",__="_sentryRootSpan";function P3(e,t){const n=e[__]||e;Rs(t,__,n),e[ac]?e[ac].add(t):Rs(e,ac,new Set([t]))}function E8(e,t){e[ac]&&e[ac].delete(t)}function Pm(e){const t=new Set;function n(r){if(!t.has(r)&&Oc(r)){t.add(r);const i=r[ac]?Array.from(r[ac]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function si(e){return e[__]||e}function ai(){const e=jc(),t=Sd(e);return t.getActiveSpan?t.getActiveSpan():_0(Pn())}function M3(){aT||(Mc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),aT=!0)}let cT=!1;function C8(){cT||(cT=!0,f3(S_),h3(S_))}function S_(){const e=ai(),t=e&&si(e);if(t){const n="internal_error";Ct&&Be.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Vr,message:n})}}S_.tag="sentry_tracingErrorCallback";const j3="_sentryScope",O3="_sentryIsolationScope";function k8(e,t,n){e&&(Rs(e,O3,n),Rs(e,j3,t))}function uT(e){return{scope:e[j3],isolationScope:e[O3]}}function ol(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=ln(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class xd{constructor(t={}){this._traceId=t.traceId||Er(),this._spanId=t.spanId||Er().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:T3}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const cx="production",V3="_frozenDsc";function dT(e,t){Rs(e,V3,t)}function L3(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Yr({environment:n.environment||cx,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function N3(e,t){const n=t.getPropagationContext();return n.dsc||L3(n.traceId,e)}function wd(e){const t=ln();if(!t)return{};const n=si(e),r=n[V3];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&E3(s);if(o)return o;const l=L3(e.spanContext().traceId,t),u=sn(n),c=u.data||{},h=c[S3];h!=null&&(l.sample_rate=`${h}`);const f=c[ia],m=u.description;return f!=="url"&&m&&(l.transaction=m),ol()&&(l.sampled=String(Oc(n))),t.emit("createDsc",l,n),l}function T8(e){if(!Ct)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=sn(e),{spanId:i}=e.spanContext(),s=Oc(e),o=si(e),l=o===e,u=`[Tracing] Starting ${s?"sampled":"unsampled"} ${l?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!l){const{op:h,description:f}=sn(o);c.push(`root ID: ${o.spanContext().spanId}`),h&&c.push(`root op: ${h}`),f&&c.push(`root description: ${f}`)}Be.log(`${u}
  ${c.join(`
  `)}`)}function I8(e){if(!Ct)return;const{description:t="< unknown name >",op:n="< unknown op >"}=sn(e),{spanId:r}=e.spanContext(),s=si(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;Be.log(o)}function B3(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Ct&&Be.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function R8(e,t){if(!ol(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=B3(n);return r===void 0?(Ct&&Be.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Ct&&Be.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Ct&&Be.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}const P8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function M8(e){return e==="http"||e==="https"}function Ed(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:l,publicKey:u}=e;return`${l}://${u}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function j8(e){const t=P8.exec(e);if(!t){Mc(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",l=""]=t.slice(1);let u="",c=l;const h=c.split("/");if(h.length>1&&(u=h.slice(0,-1).join("/"),c=h.pop()),c){const f=c.match(/^\d+/);f&&(c=f[0])}return D3({host:s,pass:i,path:u,projectId:c,port:o,protocol:n,publicKey:r})}function D3(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function O8(e){if(!pl)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Be.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?M8(r)?t&&isNaN(parseInt(t,10))?(Be.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Be.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Be.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function F3(e){const t=typeof e=="string"?j8(e):D3(e);if(!(!t||!O8(t)))return t}function V8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Ka(e,t=100,n=1/0){try{return x_("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function $3(e,t=3,n=100*1024){const r=Ka(e,t);return D8(r)>n?$3(e,t-1,n):r}function x_(e,t,n=1/0,r=1/0,i=V8()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=L8(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const u=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(u===0)return l.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const v=c.toJSON();return x_("",v,u-1,r,i)}catch{}const h=Array.isArray(t)?[]:{};let f=0;const m=A3(t);for(const v in m){if(!Object.prototype.hasOwnProperty.call(m,v))continue;if(f>=r){h[v]="[MaxProperties ~]";break}const A=m[v];h[v]=x_(v,A,u-1,r,i),f++}return o(t),h}function L8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(m3(t))return"[VueViewModel]";if(z$(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ua(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=N8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function N8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function B8(e){return~-encodeURI(e).split(/%..|./).length}function D8(e){return B8(JSON.stringify(e))}function Cd(e,t=[]){return[e,t]}function F8(e,t){const[n,r]=e;return[n,[...r,t]]}function w_(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function E_(e){return $t.__SENTRY__&&$t.__SENTRY__.encodePolyfill?$t.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function $8(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[E_(r),s]:r.push(typeof s=="string"?E_(s):s)}for(const s of n){const[o,l]=s;if(i(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(Ka(l))}i(u)}}return typeof r=="string"?r:z8(r)}function z8(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function U8(e){return[{type:"span"},e]}function H8(e){const t=typeof e.data=="string"?E_(e.data):e.data;return[Yr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const G8={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function fT(e){return G8[e]}function z3(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function q8(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Ed(r)},...i&&{trace:Yr({...i})}}}function W8(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function K8(e,t,n,r){const i=z3(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Ed(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Cd(s,[o])}function Y8(e,t,n,r){const i=z3(n),s=e.type&&e.type!=="replay_event"?e.type:"event";W8(e,n&&n.sdk);const o=q8(e,i,r,t);return delete e.sdkProcessingMetadata,Cd(o,[[{type:s},e]])}function Q8(e,t){function n(h){return!!h.trace_id&&!!h.public_key}const r=wd(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Ed(i)}},l=t&&t.getOptions().beforeSendSpan,u=l?h=>{const f=l(sn(h));return f||M3(),f}:h=>sn(h),c=[];for(const h of e){const f=u(h);f&&c.push(U8(f))}return Cd(o,c)}function J8(e,t,n,r=ai()){const i=r&&si(r);i&&(Ct&&Be.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[bv]:t,[Av]:n}))}function hT(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Av],s=r[bv];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const pT=1e3;class ux{constructor(t={}){this._traceId=t.traceId||Er(),this._spanId=t.spanId||Er().substring(16),this._startTime=t.startTimestamp||Qr(),this._attributes={},this.setAttributes({[cr]:"manual",[yc]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?I3:T3}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=oc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ia,"custom"),this}end(t){this._endTime||(this._endTime=oc(t),I8(this),this._onSpanEnded())}getSpanJSON(){return Yr({data:this._attributes,description:this._name,op:this._attributes[yc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:R3(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[cr],_metrics_summary:A_(this),profile_id:this._attributes[u8],exclusive_time:this._attributes[ax],measurements:hT(this._events),is_segment:this._isStandaloneSpan&&si(this)===this||void 0,segment_id:this._isStandaloneSpan?si(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Ct&&Be.log("[Tracing] Adding an event to span:",t);const i=gT(n)?n:r||Qr(),s=gT(n)?{}:n||{},o={name:t,time:oc(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=ln();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===si(this)))return;if(this._isStandaloneSpan){this._sampled?Z8(Q8([this],t)):(Ct&&Be.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(uT(this).scope||Pn()).captureEvent(r)}_convertSpanToTransaction(){if(!mT(sn(this)))return;this._name||(Ct&&Be.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=uT(this),i=(t||Pn()).getClient()||ln();if(this._sampled!==!0){Ct&&Be.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=Pm(this).filter(f=>f!==this&&!X8(f)).map(f=>sn(f)).filter(mT),l=this._attributes[ia],u={contexts:{trace:b8(this)},spans:o.length>pT?o.sort((f,m)=>f.start_timestamp-m.start_timestamp).slice(0,pT):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Yr({dynamicSamplingContext:wd(this)})},_metrics_summary:A_(this),...l&&{transaction_info:{source:l}}},c=hT(this._events);return c&&Object.keys(c).length&&(Ct&&Be.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),u.measurements=c),u}}function gT(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function mT(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function X8(e){return e instanceof ux&&e.isStandaloneSpan()}function Z8(e){const t=ln();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const U3="__SENTRY_SUPPRESS_TRACING__";function rl(e){const t=H3();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=tz(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>yv(e.scope,o):i!==void 0?o=>S0(i,o):o=>o())(()=>{const o=Pn(),l=rz(o);return e.onlyIfParent&&!l?new xd:ez({parentSpan:l,spanArguments:n,forceTransaction:r,scope:o})})}function S0(e,t){const n=H3();return n.withActiveSpan?n.withActiveSpan(e,t):yv(r=>(Eh(r,e||void 0),t(r)))}function ez({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ol())return new xd;const i=Mo();let s;if(e&&!n)s=nz(e,r,t),P3(e,s);else if(e){const o=wd(e),{traceId:l,spanId:u}=e.spanContext(),c=Oc(e);s=vT({traceId:l,parentSpanId:u,...t},r,c),dT(s,o)}else{const{traceId:o,dsc:l,parentSpanId:u,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=vT({traceId:o,parentSpanId:u,...t},r,c),l&&dT(s,l)}return T8(s),k8(s,r,i),s}function tz(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=oc(e.startTime),delete r.startTime,r}return n}function H3(){const e=jc();return Sd(e)}function vT(e,t,n){const r=ln(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[l,u]=t.getScopeData().sdkProcessingMetadata[U3]?[!1]:R8(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new ux({...e,attributes:{[ia]:"custom",...e.attributes},sampled:l});return u!==void 0&&c.setAttribute(S3,u),r&&r.emit("spanStart",c),c}function nz(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[U3]?!1:Oc(e),o=s?new ux({...n,parentSpanId:r,traceId:i,sampled:s}):new xd({traceId:i});P3(e,o);const l=ln();return l&&(l.emit("spanStart",o),n.endTimestamp&&l.emit("spanEnd",o)),o}function rz(e){const t=_0(e);if(!t)return;const n=ln();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?si(t):t}const Mm={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},iz="heartbeatFailed",sz="idleTimeout",oz="finalTimeout",az="externalFinish";function G3(e,t={}){const n=new Map;let r=!1,i,s=az,o=!t.disableAutoFinish;const l=[],{idleTimeout:u=Mm.idleTimeout,finalTimeout:c=Mm.finalTimeout,childSpanTimeout:h=Mm.childSpanTimeout,beforeSpanEnd:f}=t,m=ln();if(!m||!ol())return new xd;const v=Pn(),A=ai(),b=lz(e);b.end=new Proxy(b.end,{apply(P,N,j){f&&f(b);const[V,...k]=j,D=V||Qr(),H=oc(D),B=Pm(b).filter(q=>q!==b);if(!B.length)return E(H),Reflect.apply(P,N,[H,...k]);const G=B.map(q=>sn(q).timestamp).filter(q=>!!q),F=G.length?Math.max(...G):void 0,L=sn(b).start_timestamp,Y=Math.min(L?L+c/1e3:1/0,Math.max(L||-1/0,Math.min(H,F||1/0)));return E(Y),Reflect.apply(P,N,[Y,...k])}});function S(){i&&(clearTimeout(i),i=void 0)}function w(P){S(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=sz,b.end(P))},u)}function I(P){i=setTimeout(()=>{!r&&o&&(s=iz,b.end(P))},h)}function R(P){S(),n.set(P,!0);const N=Qr();I(N+h/1e3)}function T(P){if(n.has(P)&&n.delete(P),n.size===0){const N=Qr();w(N+u/1e3)}}function E(P){r=!0,n.clear(),l.forEach(H=>H()),Eh(v,A);const N=sn(b),{start_timestamp:j}=N;if(!j)return;(N.data||{})[b_]||b.setAttribute(b_,s),Be.log(`[Tracing] Idle span "${N.op}" finished`);const k=Pm(b).filter(H=>H!==b);let D=0;k.forEach(H=>{H.isRecording()&&(H.setStatus({code:Vr,message:"cancelled"}),H.end(P),Ct&&Be.log("[Tracing] Cancelling span since span ended early",JSON.stringify(H,void 0,2)));const B=sn(H),{timestamp:G=0,start_timestamp:F=0}=B,L=F<=P,Y=(c+u)/1e3,q=G-F<=Y;if(Ct){const Q=JSON.stringify(H,void 0,2);L?q||Be.log("[Tracing] Discarding span since it finished after idle span final timeout",Q):Be.log("[Tracing] Discarding span since it happened after idle span was finished",Q)}(!q||!L)&&(E8(b,H),D++)}),D>0&&b.setAttribute("sentry.idle_span_discarded_spans",D)}return l.push(m.on("spanStart",P=>{if(r||P===b||sn(P).timestamp)return;Pm(b).includes(P)&&R(P.spanContext().spanId)})),l.push(m.on("spanEnd",P=>{r||T(P.spanContext().spanId)})),l.push(m.on("idleSpanEnableAutoFinish",P=>{P===b&&(o=!0,w(),n.size&&I())})),t.disableAutoFinish||w(),setTimeout(()=>{r||(b.setStatus({code:Vr,message:"deadline_exceeded"}),s=oz,b.end())},c),b}function lz(e){const t=rl(e);return Eh(Pn(),t),Ct&&Be.log("[Tracing] Started span is an idle span"),t}function C_(e,t,n,r=0){return new bs((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const l=o({...t},n);Ct&&o.id&&l===null&&Be.log(`Event processor "${o.id}" dropped event`),mv(l)?l.then(u=>C_(e,u,n,r+1).then(i)).then(null,s):C_(e,l,n,r+1).then(i).then(null,s)}})}let jg,yT,Og;function cz(e){const t=$t._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Og&&n.length===yT||(yT=n.length,Og=n.reduce((r,i)=>{jg||(jg={});const s=jg[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let l=o.length-1;l>=0;l--){const u=o[l],c=u&&u.filename,h=t[i];if(c&&h){r[c]=h,jg[i]=[c,h];break}}}return r},{})),Og}function uz(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;dz(e,t),r&&pz(e,r),gz(e,n),fz(e,i),hz(e,s)}function AT(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:l,breadcrumbs:u,fingerprint:c,eventProcessors:h,attachments:f,propagationContext:m,transactionName:v,span:A}=t;Vg(e,"extra",n),Vg(e,"tags",r),Vg(e,"user",i),Vg(e,"contexts",s),e.sdkProcessingMetadata=vv(e.sdkProcessingMetadata,l,2),o&&(e.level=o),v&&(e.transactionName=v),A&&(e.span=A),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),h.length&&(e.eventProcessors=[...e.eventProcessors,...h]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...m}}function Vg(e,t,n){e[t]=vv(e[t],n,1)}function dz(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:l}=t,u=Yr(n);u&&Object.keys(u).length&&(e.extra={...u,...e.extra});const c=Yr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const h=Yr(i);h&&Object.keys(h).length&&(e.user={...h,...e.user});const f=Yr(s);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),o&&(e.level=o),l&&e.type!=="transaction"&&(e.transaction=l)}function fz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function hz(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function pz(e,t){e.contexts={trace:_8(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:wd(t),...e.sdkProcessingMetadata};const n=si(t),r=sn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function gz(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function mz(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,u={...t,event_id:t.event_id||n.event_id||Er(),timestamp:t.timestamp||Gh()},c=n.integrations||e.integrations.map(S=>S.name);vz(u,e),bz(u,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&yz(u,e.stackParser);const h=Sz(r,n.captureContext);n.mechanism&&xh(u,n.mechanism);const f=i?i.getEventProcessors():[],m=a8().getScopeData();if(s){const S=s.getScopeData();AT(m,S)}if(h){const S=h.getScopeData();AT(m,S)}const v=[...n.attachments||[],...m.attachments];v.length&&(n.attachments=v),uz(u,m);const A=[...f,...m.eventProcessors];return C_(A,u,n).then(S=>(S&&Az(S),typeof o=="number"&&o>0?_z(S,o,l):S))}function vz(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||cx,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=Wu(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Wu(o.value,s));const l=e.request;l&&l.url&&(l.url=Wu(l.url,s))}function yz(e,t){const n=cz(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function Az(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function bz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function _z(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Ka(i.data,t,n)}}))},...e.user&&{user:Ka(e.user,t,n)},...e.contexts&&{contexts:Ka(e.contexts,t,n)},...e.extra&&{extra:Ka(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ka(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Ka(i.data,t,n)}}))),r}function Sz(e,t){if(!t)return e;const n=e?e.clone():new sl;return n.update(t),n}function xz(e){if(e)return wz(e)?{captureContext:e}:Cz(e)?{captureContext:e}:e}function wz(e){return e instanceof sl||typeof e=="function"}const Ez=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Cz(e){return Object.keys(e).some(t=>Ez.includes(t))}function Ps(e,t){return Pn().captureException(e,xz(t))}function q3(e,t){return Pn().captureEvent(e,t)}function kz(e,t){Mo().setContext(e,t)}function Tz(e){Mo().setUser(e)}function Iz(){return Mo().lastEventId()}function Rz(){const e=ln();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function bT(e){const t=ln(),n=Mo(),r=Pn(),{release:i,environment:s=cx}=t&&t.getOptions()||{},{userAgent:o}=$t.navigator||{},l=J$({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),u=n.getSession();return u&&u.status==="ok"&&ad(u,{status:"exited"}),W3(),n.setSession(l),r.setSession(l),l}function W3(){const e=Mo(),t=Pn(),n=t.getSession()||e.getSession();n&&X$(n),K3(),e.setSession(),t.setSession()}function K3(){const e=Mo(),t=Pn(),n=ln(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function _T(e=!1){if(e){W3();return}K3()}const Pz="7";function Y3(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Mz(e){return`${Y3(e)}${e.projectId}/envelope/`}function jz(e,t){const n={sentry_version:Pz};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Oz(e,t,n){return t||`${Mz(e)}?${jz(e,n)}`}function Vz(e,t){const n=F3(e);if(!n)return"";const r=`${Y3(n)}embed/error-page/`;let i=`dsn=${Ed(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const ST=[];function Lz(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Nz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;const i=Lz(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}function Bz(e,t){const n={};return t.forEach(r=>{r&&Q3(e,r,n)}),n}function xT(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Q3(e,t,n){if(n[t.name]){Ct&&Be.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,ST.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),ST.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Ct&&Be.log(`Integration installed: ${t.name}`)}function Dz(e,t,n){const r=[{type:"client_report"},{timestamp:Gh(),discarded_events:e}];return Cd(t?{dsn:t}:{},[r])}class So extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const wT="Not capturing exception because it's already been captured.";class Fz{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=F3(t.dsn):Ct&&Be.warn("No DSN provided, client will not send events."),this._dsn){const i=Oz(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&Mc(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=Er();if(iT(t))return Ct&&Be.log(wT),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:Er(),...r},o=rx(t)?t:String(t),l=ix(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(l.then(u=>this._captureEvent(u,s,i))),s.event_id}captureEvent(t,n,r){const i=Er();if(n&&n.originalException&&iT(n.originalException))return Ct&&Be.log(wT),i;const s={event_id:i,...n},l=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,l||r)),s.event_id}captureSession(t){typeof t.release!="string"?Ct&&Be.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ad(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):vc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Q3(this,t,this._integrations),n||xT(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Y8(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=F8(r,H8(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=K8(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Ct&&Be.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Ct&&Be.error("Error while sending envelope:",n),n)):(Ct&&Be.error("Transport disabled"),vc({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Bz(this,t),xT(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const u of s){const c=u.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(ad(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new bs(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Pn(),i=Mo()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),mz(s,t,n,r,this,i).then(l=>{if(l===null)return l;l.contexts={trace:l8(r),...l.contexts};const u=N3(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:u,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Ct){const s=i;s.logLevel==="log"?Be.log(s.message):Be.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=X3(t),l=J3(t),u=t.type||"error",c=`before send for type \`${u}\``,h=typeof s>"u"?void 0:B3(s);if(l&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error",t),b0(new So(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const f=u==="replay_event"?"replay":u,v=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,v).then(A=>{if(A===null)throw this.recordDroppedEvent("event_processor",f,t),new So("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return A;const S=zz(this,i,A,n);return $z(S,c)}).then(A=>{if(A===null){if(this.recordDroppedEvent("before_send",f,t),o){const I=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",I)}throw new So(`${c} returned \`null\`, will not send event.`,"log")}const b=r&&r.getSession();if(!o&&b&&this._updateSessionFromEvent(b,A),o){const w=A.sdkProcessingMetadata&&A.sdkProcessingMetadata.spanCountBeforeProcessing||0,I=A.spans?A.spans.length:0,R=w-I;R>0&&this.recordDroppedEvent("before_send","span",R)}const S=A.transaction_info;if(o&&S&&A.transaction!==t.transaction){const w="custom";A.transaction_info={...S,source:w}}return this.sendEvent(A,n),A}).then(null,A=>{throw A instanceof So?A:(this.captureException(A,{data:{__sentry__:!0},originalException:A}),new So(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${A}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Ct&&Be.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Ct&&Be.log("No outcomes to send");return}if(!this._dsn){Ct&&Be.log("No dsn provided, will not send outcomes");return}Ct&&Be.log("Sending outcomes:",t);const n=Dz(t,this._options.tunnel&&Ed(this._dsn));this.sendEnvelope(n)}}function $z(e,t){const n=`${t} must return \`null\` or a valid event.`;if(mv(e))return e.then(r=>{if(!od(r)&&r!==null)throw new So(n);return r},r=>{throw new So(`${t} rejected with ${r}`)});if(!od(e)&&e!==null)throw new So(n);return e}function zz(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;if(J3(n)&&i)return i(n,r);if(X3(n)){if(n.spans&&o){const l=[];for(const u of n.spans){const c=o(u);c?l.push(c):(M3(),e.recordDroppedEvent("before_send","span"))}n.spans=l}if(s){if(n.spans){const l=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:l}}return s(n,r)}}return n}function J3(e){return e.type===void 0}function X3(e){return e.type==="transaction"}function Uz(e,t){t.debug===!0&&(Ct?Be.enable():Mc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Pn().update(t.initialScope);const r=new e(t);return Hz(r),r.init(),r}function Hz(e){Pn().setClient(e)}function Gz(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return b0(new So("Not adding Promise because buffer limit was reached."));const l=o();return t.indexOf(l)===-1&&t.push(l),l.then(()=>r(l)).then(null,()=>r(l).then(null,()=>{})),l}function s(o){return new bs((l,u)=>{let c=t.length;if(!c)return l(!0);const h=setTimeout(()=>{o&&o>0&&l(!1)},o);t.forEach(f=>{vc(f).then(()=>{--c||(clearTimeout(h),l(!0))},u)})})}return{$:t,add:i,drain:s}}const qz=60*1e3;function Wz(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?qz:r-t}function Kz(e,t){return e[t]||e.all||0}function Yz(e,t,n=Date.now()){return Kz(e,t)>n}function Qz(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const l of s.trim().split(",")){const[u,c,,,h]=l.split(":",5),f=parseInt(u,10),m=(isNaN(f)?60:f)*1e3;if(!c)i.all=r+m;else for(const v of c.split(";"))v==="metric_bucket"?(!h||h.split(";").includes("custom"))&&(i[v]=r+m):i[v]=r+m}else o?i.all=r+Wz(o,r):t===429&&(i.all=r+60*1e3);return i}const Jz=64;function Xz(e,t,n=Gz(e.bufferSize||Jz)){let r={};const i=o=>n.drain(o);function s(o){const l=[];if(w_(o,(f,m)=>{const v=fT(m);if(Yz(r,v)){const A=ET(f,m);e.recordDroppedEvent("ratelimit_backoff",v,A)}else l.push(f)}),l.length===0)return vc({});const u=Cd(o[0],l),c=f=>{w_(u,(m,v)=>{const A=ET(m,v);e.recordDroppedEvent(f,fT(v),A)})},h=()=>t({body:$8(u)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&Ct&&Be.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=Qz(r,f),f),f=>{throw c("network_error"),f});return n.add(h).then(f=>f,f=>{if(f instanceof So)return Ct&&Be.error("Skipped sending event because buffer is full."),c("queue_overflow"),vc({});throw f})}return{send:s,flush:i}}function ET(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Z3(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:ic})),version:ic}),e._metadata=i}function eO(e={}){const t=ln();if(!Rz()||!t)return{};const n=jc(),r=Sd(n);if(r.getTraceData)return r.getTraceData(e);const i=Pn(),s=e.span||ai(),o=s?S8(s):Zz(i),l=s?wd(s):N3(t,i),u=g8(l);return C3.test(o)?{"sentry-trace":o,baggage:u}:(Be.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Zz(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return k3(t,r,n)}const e7=100;function Ac(e,t){const n=ln(),r=Mo();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=e7}=n.getOptions();if(s<=0)return;const l={timestamp:Gh(),...e},u=i?Mc(()=>i(l,t)):l;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,t),r.addBreadcrumb(u,s))}let CT;const t7="FunctionToString",kT=new WeakMap,n7=()=>({name:t7,setupOnce(){CT=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=sx(this),n=kT.has(ln())&&t!==void 0?t:this;return CT.apply(n,e)}}catch{}},setup(e){kT.set(e,!0)}}),r7=n7,i7=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],s7="InboundFilters",o7=(e={})=>({name:s7,processEvent(t,n,r){const i=r.getOptions(),s=l7(e,i);return c7(t,s)?null:t}}),a7=o7;function l7(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:i7],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function c7(e,t){return t.ignoreInternal&&g7(e)?(Ct&&Be.warn(`Event dropped due to being internal Sentry Error.
Event: ${Wa(e)}`),!0):u7(e,t.ignoreErrors)?(Ct&&Be.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Wa(e)}`),!0):v7(e)?(Ct&&Be.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Wa(e)}`),!0):d7(e,t.ignoreTransactions)?(Ct&&Be.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Wa(e)}`),!0):f7(e,t.denyUrls)?(Ct&&Be.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Wa(e)}.
Url: ${x0(e)}`),!0):h7(e,t.allowUrls)?!1:(Ct&&Be.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Wa(e)}.
Url: ${x0(e)}`),!0)}function u7(e,t){return e.type||!t||!t.length?!1:p7(e).some(n=>sc(n,t))}function d7(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?sc(n,t):!1}function f7(e,t){if(!t||!t.length)return!1;const n=x0(e);return n?sc(n,t):!1}function h7(e,t){if(!t||!t.length)return!0;const n=x0(e);return n?sc(n,t):!0}function p7(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function g7(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function m7(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function x0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?m7(t):null}catch{return Ct&&Be.error(`Cannot extract url for event ${Wa(e)}`),null}}function v7(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function y7(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!da(o.originalException,Error))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;l&&(s.exception.values=A7(k_(e,t,i,o.originalException,r,s.exception.values,l,0),n))}function k_(e,t,n,r,i,s,o,l){if(s.length>=n+1)return s;let u=[...s];if(da(r[i],Error)){TT(o,l);const c=e(t,r[i]),h=u.length;IT(c,i,h,l),u=k_(e,t,n,r[i],i,[c,...u],c,h)}return Array.isArray(r.errors)&&r.errors.forEach((c,h)=>{if(da(c,Error)){TT(o,l);const f=e(t,c),m=u.length;IT(f,`errors[${h}]`,m,l),u=k_(e,t,n,c,i,[f,...u],f,m)}}),u}function TT(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function IT(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function A7(e,t){return e.map(n=>(n.value&&(n.value=Wu(n.value,t)),n))}const tO=new Map,RT=new Set;function b7(e){if($t._sentryModuleMetadata)for(const t of Object.keys($t._sentryModuleMetadata)){const n=$t._sentryModuleMetadata[t];if(RT.has(t))continue;RT.add(t);const r=e(t);for(const i of r.reverse())if(i.filename){tO.set(i.filename,n);break}}}function _7(e,t){return b7(e),tO.get(t)}function S7(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const i=_7(e,r.filename);i&&(r.module_metadata=i)}})}catch{}}function x7(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}function lc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function w7(e){const t="console";gl(t,e),ml(t,E7)}function E7(){"console"in $t&&p_.forEach(function(e){e in $t.console&&Xi($t.console,e,function(t){return A0[e]=t,function(...n){Is("console",{args:n,level:e});const i=A0[e];i&&i.apply($t.console,n)}})})}function C7(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const k7="Dedupe",T7=()=>{let e;return{name:k7,processEvent(t){if(t.type)return t;try{if(R7(t,e))return Ct&&Be.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},I7=T7;function R7(e,t){return t?!!(P7(e,t)||M7(e,t)):!1}function P7(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!rO(e,t)||!nO(e,t))}function M7(e,t){const n=PT(t),r=PT(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!rO(e,t)||!nO(e,t))}function nO(e,t){let n=g_(e),r=g_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function rO(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function PT(e){return e.exception&&e.exception.values&&e.exception.values[0]}const j7=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{w_(n,(r,i)=>{if(i==="event"){const s=Array.isArray(r)?r[1]:void 0;s&&(x7(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;S7(r,n)})},processEvent(t){const n=O7(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(o=>e.filterKeys.includes(o)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function O7(e){const t=g_(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(MT)).map(r=>r.slice(MT.length)):[])}const MT="_sentryBundlerPluginAppKey:";function V7(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=ol()&&t(e.fetchData.url);if(e.endTimestamp&&s){const m=e.fetchData.__span;if(!m)return;const v=r[m];v&&(B7(v,e),delete r[m]);return}const{method:o,url:l}=e.fetchData,u=N7(l),c=u?lc(u).host:void 0,h=!!ai(),f=s&&h?rl({name:`${o} ${l}`,attributes:{url:l,type:"fetch","http.method":o,"http.url":u,"server.address":c,[cr]:i,[yc]:"http.client"}}):new xd;if(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f,n(e.fetchData.url)){const m=e.args[0],v=e.args[1]||{},A=L7(m,v,ol()&&h?f:void 0);A&&(e.args[1]=v,v.headers=A)}return f}function L7(e,t,n){const r=eO({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(D7(e)?e.headers:void 0);if(o)if(F7(o)){const l=new Headers(o);if(l.set("sentry-trace",i),s){const u=l.get("baggage");if(u){const c=Lg(u);l.set("baggage",c?`${c},${s}`:s)}else l.set("baggage",s)}return l}else if(Array.isArray(o)){const l=[...o.filter(u=>!(Array.isArray(u)&&u[0]==="sentry-trace")).map(u=>{if(Array.isArray(u)&&u[0]==="baggage"&&typeof u[1]=="string"){const[c,h,...f]=u;return[c,Lg(h),...f]}else return u}),["sentry-trace",i]];return s&&l.push(["baggage",s]),l}else{const l="baggage"in o?o.baggage:void 0;let u=[];return Array.isArray(l)?u=l.map(c=>typeof c=="string"?Lg(c):c).filter(c=>c===""):l&&u.push(Lg(l)),s&&u.push(s),{...o,"sentry-trace":i,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function N7(e){try{return new URL(e).href}catch{return}}function B7(e,t){if(t.response){w3(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Vr,message:"internal_error"});e.end()}function Lg(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(lx)).join(",")}function D7(e){return typeof Request<"u"&&da(e,Request)}function F7(e){return typeof Headers<"u"&&da(e,Headers)}function iO(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const T_=$t;function sO(){if(!("fetch"in T_))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function I_(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function $7(){if(typeof EdgeRuntime=="string")return!0;if(!sO())return!1;if(I_(T_.fetch))return!0;let e=!1;const t=T_.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=I_(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){pl&&Be.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function oO(e,t){const n="fetch";gl(n,e),ml(n,()=>aO(void 0,t))}function z7(e){const t="fetch-body-resolved";gl(t,e),ml(t,()=>aO(H7))}function aO(e,t=!1){t&&!$7()||Xi($t,"fetch",function(n){return function(...r){const{method:i,url:s}=G7(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:Qr()*1e3};e||Is("fetch",{...o});const l=new Error().stack;return n.apply($t,r).then(async u=>(e?e(u):Is("fetch",{...o,endTimestamp:Qr()*1e3,response:u}),u),u=>{throw Is("fetch",{...o,endTimestamp:Qr()*1e3,error:u}),pv(u)&&u.stack===void 0&&(u.stack=l,Rs(u,"framesToPop",1)),u})}})}async function U7(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:l}=await r.read();clearTimeout(o),l&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function H7(e){let t;try{t=e.clone()}catch{return}U7(t,()=>{Is("fetch-body-resolved",{endTimestamp:Qr()*1e3,response:e})})}function R_(e,t){return!!e&&typeof e=="object"&&!!e[t]}function jT(e){return typeof e=="string"?e:e?R_(e,"url")?e.url:e.toString?e.toString():"":""}function G7(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:jT(n),method:R_(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:jT(t),method:R_(t,"method")?String(t.method).toUpperCase():"GET"}}function q7(){return"npm"}const Ng=$t;function W7(){const e=Ng.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ng&&!!Ng.history.pushState&&!!Ng.history.replaceState;return!t&&n}const gt=$t;let P_=0;function lO(){return P_>0}function K7(){P_++,setTimeout(()=>{P_--})}function cd(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(sx(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(o=>cd(o,t));return e.apply(this,s)}catch(s){throw K7(),yv(o=>{o.addEventProcessor(l=>(t.mechanism&&(v_(l,void 0),xh(l,t.mechanism)),l.extra={...l.extra,arguments:i},l)),Ps(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}y3(r,e),Rs(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const es=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function dx(e,t){const n=fx(e,t),r={type:Z7(t),value:eU(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Y7(e,t,n,r){const i=ln(),s=i&&i.getOptions().normalizeDepth,o=sU(t),l={__serialized__:$3(t,s)};if(o)return{exception:{values:[dx(e,o)]},extra:l};const u={exception:{values:[{type:gv(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:rU(t,{isUnhandledRejection:r})}]},extra:l};if(n){const c=fx(e,n);c.length&&(u.exception.values[0].stacktrace={frames:c})}return u}function r1(e,t){return{exception:{values:[dx(e,t)]}}}function fx(e,t){const n=t.stacktrace||t.stack||"",r=J7(t),i=X7(t);try{return e(n,r,i)}catch{}return[]}const Q7=/Minified React error #\d+;/i;function J7(e){return e&&Q7.test(e.message)?1:0}function X7(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function cO(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Z7(e){const t=e&&e.name;return!t&&cO(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function eU(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:cO(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function tU(e,t,n,r){const i=n&&n.syntheticException||void 0,s=hx(e,t,i,r);return xh(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),vc(s)}function nU(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=M_(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),vc(o)}function hx(e,t,n,r,i){let s;if(g3(t)&&t.error)return r1(e,t.error);if(eT(t)||D$(t)){const o=t;if("stack"in t)s=r1(e,t);else{const l=o.name||(eT(o)?"DOMError":"DOMException"),u=o.message?`${l}: ${o.message}`:l;s=M_(e,u,n,r),v_(s,u)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return pv(t)?r1(e,t):od(t)||gv(t)?(s=Y7(e,t,n,i),xh(s,{synthetic:!0}),s):(s=M_(e,t,n,r),v_(s,`${t}`),xh(s,{synthetic:!0}),s)}function M_(e,t,n,r){const i={};if(r&&n){const s=fx(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(rx(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function rU(e,{isUnhandledRejection:t}){const n=K$(e),r=t?"promise rejection":"exception";return g3(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:gv(e)?`Event \`${iU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function iU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function sU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function oU(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Ed(r)}},s=aU(e);return Cd(i,[s])}function aU(e){return[{type:"user_report"},e]}class lU extends Fz{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=gt.SENTRY_SDK_SOURCE||q7();Z3(n,"browser",["browser"],r),super(n),n.sendClientReports&&gt.document&&gt.document.addEventListener("visibilitychange",()=>{gt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return tU(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return nU(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){es&&Be.warn("SDK not enabled, will not capture user feedback.");return}const n=oU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const px=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,cU=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",kd=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=cU(t.value,n),e(t)))}},At=$t,uU=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,qh=()=>At.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Wh=()=>{const e=qh();return e&&e.activationStart||0},Td=(e,t)=>{const n=qh();let r="navigate";return n&&(At.document&&At.document.prerendering||Wh()>0?r="prerender":At.document&&At.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:uU(),navigationType:r}},Vc=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Kh=e=>{const t=n=>{(n.type==="pagehide"||At.document&&At.document.visibilityState==="hidden")&&e(n)};At.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},gx=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Ch=-1;const dU=()=>{Ch=At.document.visibilityState==="hidden"&&!At.document.prerendering?0:1/0},w0=e=>{At.document.visibilityState==="hidden"&&Ch>-1&&(Ch=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",w0,!0),removeEventListener("prerenderingchange",w0,!0))},fU=()=>{addEventListener("visibilitychange",w0,!0),addEventListener("prerenderingchange",w0,!0)},_v=()=>(At.document&&Ch<0&&(dU(),fU()),{get firstHiddenTime(){return Ch}}),Yh=e=>{At.document&&At.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},hU=[1800,3e3],pU=(e,t={})=>{Yh(()=>{const n=_v(),r=Td("FCP");let i;const o=Vc("paint",l=>{l.forEach(u=>{u.name==="first-contentful-paint"&&(o.disconnect(),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Wh(),0),r.entries.push(u),i(!0)))})});o&&(i=kd(e,r,hU,t.reportAllChanges))})},gU=[.1,.25],mU=(e,t={})=>{pU(gx(()=>{const n=Td("CLS",0);let r,i=0,s=[];const o=u=>{u.forEach(c=>{if(!c.hadRecentInput){const h=s[0],f=s[s.length-1];i&&h&&f&&c.startTime-f.startTime<1e3&&c.startTime-h.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},l=Vc("layout-shift",o);l&&(r=kd(e,n,gU,t.reportAllChanges),Kh(()=>{o(l.takeRecords()),r(!0)}),setTimeout(r,0))}))},vU=[100,300],yU=(e,t={})=>{Yh(()=>{const n=_v(),r=Td("FID");let i;const s=u=>{u.startTime<n.firstHiddenTime&&(r.value=u.processingStart-u.startTime,r.entries.push(u),i(!0))},o=u=>{u.forEach(s)},l=Vc("first-input",o);i=kd(e,r,vU,t.reportAllChanges),l&&Kh(gx(()=>{o(l.takeRecords()),l.disconnect()}))})};let uO=0,i1=1/0,Bg=0;const AU=e=>{e.forEach(t=>{t.interactionId&&(i1=Math.min(i1,t.interactionId),Bg=Math.max(Bg,t.interactionId),uO=Bg?(Bg-i1)/7+1:0)})};let j_;const bU=()=>j_?uO:performance.interactionCount||0,_U=()=>{"interactionCount"in performance||j_||(j_=Vc("event",AU,{type:"event",buffered:!0,durationThreshold:0}))},SU=[200,500],xU=0,dO=()=>bU()-xU,OT=10,ta=[],s1={},VT=e=>{const t=ta[ta.length-1],n=s1[e.interactionId];if(n||ta.length<OT||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};s1[r.id]=r,ta.push(r)}ta.sort((r,i)=>i.latency-r.latency),ta.splice(OT).forEach(r=>{delete s1[r.id]})}},wU=()=>{const e=Math.min(ta.length-1,Math.floor(dO()/50));return ta[e]},EU=(e,t={})=>{Yh(()=>{_U();const n=Td("INP");let r;const i=o=>{o.forEach(u=>{u.interactionId&&VT(u),u.entryType==="first-input"&&!ta.some(h=>h.entries.some(f=>u.duration===f.duration&&u.startTime===f.startTime))&&VT(u)});const l=wU();l&&l.latency!==n.value&&(n.value=l.latency,n.entries=l.entries,r())},s=Vc("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=kd(e,n,SU,t.reportAllChanges),s&&("PerformanceEventTiming"in At&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Kh(()=>{i(s.takeRecords()),n.value<0&&dO()>0&&(n.value=0,n.entries=[]),r(!0)}))})},CU=[2500,4e3],LT={},kU=(e,t={})=>{Yh(()=>{const n=_v(),r=Td("LCP");let i;const s=l=>{const u=l[l.length-1];u&&u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Wh(),0),r.entries=[u],i())},o=Vc("largest-contentful-paint",s);if(o){i=kd(e,r,CU,t.reportAllChanges);const l=gx(()=>{LT[r.id]||(s(o.takeRecords()),o.disconnect(),LT[r.id]=!0,i(!0))});["keydown","click"].forEach(u=>{At.document&&addEventListener(u,()=>setTimeout(l,0),!0)}),Kh(l)}})},TU=[800,1800],O_=e=>{At.document&&At.document.prerendering?Yh(()=>O_(e)):At.document&&At.document.readyState!=="complete"?addEventListener("load",()=>O_(e),!0):setTimeout(e,0)},IU=(e,t={})=>{const n=Td("TTFB"),r=kd(e,n,TU,t.reportAllChanges);O_(()=>{const i=qh();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Wh(),0),n.entries=[i],r(!0)}})},oh={},E0={};let fO,hO,pO,gO,mO;function vO(e,t=!1){return Qh("cls",e,OU,fO,t)}function RU(e,t=!1){return Qh("lcp",e,LU,pO,t)}function PU(e){return Qh("fid",e,VU,hO)}function MU(e){return Qh("ttfb",e,NU,gO)}function jU(e){return Qh("inp",e,BU,mO)}function kh(e,t){return yO(e,t),E0[e]||(DU(e),E0[e]=!0),AO(e,t)}function Id(e,t){const n=oh[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){px&&Be.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ua(r)}
Error:`,i)}}function OU(){return mU(e=>{Id("cls",{metric:e}),fO=e},{reportAllChanges:!0})}function VU(){return yU(e=>{Id("fid",{metric:e}),hO=e})}function LU(){return kU(e=>{Id("lcp",{metric:e}),pO=e},{reportAllChanges:!0})}function NU(){return IU(e=>{Id("ttfb",{metric:e}),gO=e})}function BU(){return EU(e=>{Id("inp",{metric:e}),mO=e})}function Qh(e,t,n,r,i=!1){yO(e,t);let s;return E0[e]||(s=n(),E0[e]=!0),r&&t({metric:r}),AO(e,t,i?s:void 0)}function DU(e){const t={};e==="event"&&(t.durationThreshold=0),Vc(e,n=>{Id(e,{entries:n})},t)}function yO(e,t){oh[e]=oh[e]||[],oh[e].push(t)}function AO(e,t,n){return()=>{n&&n();const r=oh[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function FU(e){return"duration"in e}function o1(e){return typeof e=="number"&&isFinite(e)}function fa(e,t,n,{...r}){const i=sn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),S0(e,()=>{const s=rl({startTime:t,...r});return s&&s.end(n),s})}function bO(e){const t=ln();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:l}=t.getOptions(),u=t.getIntegrationByName("Replay"),c=u&&u.getReplayId(),h=Pn(),f=h.getUser(),m=f!==void 0?f.email||f.id||f.ip_address:void 0;let v;try{v=h.getScopeData().contexts.profile.profile_id}catch{}const A={release:o,environment:l,user:m||void 0,profile_id:v||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":At.navigator&&At.navigator.userAgent,...i};return rl({name:n,attributes:A,startTime:s,experimental:{standalone:!0}})}function mx(){return At&&At.addEventListener&&At.performance}function lr(e){return e/1e3}function $U(){let e=0,t,n;if(!UU())return;let r=!1;function i(){r||(r=!0,n&&zU(e,t,n),s())}const s=vO(({metric:o})=>{const l=o.entries[o.entries.length-1];l&&(e=o.value,t=l)},!0);Kh(()=>{i()}),setTimeout(()=>{const o=ln();if(!o)return;const l=o.on("startNavigationSpan",()=>{i(),l&&l()}),u=ai(),c=u&&si(u),h=c&&sn(c);h&&h.op==="pageload"&&(n=c.spanContext().spanId)},0)}function zU(e,t,n){px&&Be.log(`Sending CLS span (${e})`);const r=lr((Fi||0)+(t&&t.startTime||0)),i=Pn().getScopeData().transactionName,s=t?mc(t.sources[0]&&t.sources[0].node):"Layout shift",o=Yr({[cr]:"auto.http.browser.cls",[yc]:"ui.webvital.cls",[ax]:t&&t.duration||0,"sentry.pageload.span_id":n}),l=bO({name:s,transaction:i,attributes:o,startTime:r});l&&(l.addEvent("cls",{[Av]:"",[bv]:e}),l.end(r))}function UU(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const HU=2147483647;let NT=0,Hr={},ji,ah;function GU({recordClsStandaloneSpans:e}){const t=mx();if(t&&Fi){t.mark&&At.performance.mark("sentry-tracing-init");const n=JU(),r=QU(),i=XU(),s=e?$U():YU();return()=>{n(),r(),i(),s&&s()}}return()=>{}}function qU(){kh("longtask",({entries:e})=>{const t=ai();if(!t)return;const{op:n,start_timestamp:r}=sn(t);for(const i of e){const s=lr(Fi+i.startTime),o=lr(i.duration);n==="navigation"&&r&&s<r||fa(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[cr]:"auto.ui.browser.metrics"}})}})}function WU(){new PerformanceObserver(t=>{const n=ai();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=lr(Fi+r.startTime),{start_timestamp:s,op:o}=sn(n);if(o==="navigation"&&s&&i<s)continue;const l=lr(r.duration),u={[cr]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:h,invokerType:f,sourceURL:m,sourceFunctionName:v,sourceCharPosition:A}=c;u["browser.script.invoker"]=h,u["browser.script.invoker_type"]=f,m&&(u["code.filepath"]=m),v&&(u["code.function"]=v),A!==-1&&(u["browser.script.source_char_position"]=A),fa(n,i,i+l,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:u})}}).observe({type:"long-animation-frame",buffered:!0})}function KU(){kh("event",({entries:e})=>{const t=ai();if(t){for(const n of e)if(n.name==="click"){const r=lr(Fi+n.startTime),i=lr(n.duration),s={name:mc(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[cr]:"auto.ui.browser.metrics"}},o=v3(n.target);o&&(s.attributes["ui.component_name"]=o),fa(t,r,r+i,s)}}})}function YU(){return vO(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Hr.cls={value:e.value,unit:""},ah=t)},!0)}function QU(){return RU(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Hr.lcp={value:e.value,unit:"millisecond"},ji=t)},!0)}function JU(){return PU(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=lr(Fi),r=lr(t.startTime);Hr.fid={value:e.value,unit:"millisecond"},Hr["mark.fid"]={value:n+r,unit:"second"}})}function XU(){return MU(({metric:e})=>{e.entries[e.entries.length-1]&&(Hr.ttfb={value:e.value,unit:"millisecond"})})}function ZU(e,t){const n=mx();if(!n||!At.performance.getEntries||!Fi)return;const r=lr(Fi),i=n.getEntries(),{op:s,start_timestamp:o}=sn(e);if(i.slice(NT).forEach(l=>{const u=lr(l.startTime),c=lr(Math.max(0,l.duration));if(!(s==="navigation"&&o&&r+u<o))switch(l.entryType){case"navigation":{t9(e,l,r);break}case"mark":case"paint":case"measure":{e9(e,l,u,c,r);const h=_v(),f=l.startTime<h.firstHiddenTime;l.name==="first-paint"&&f&&(Hr.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&f&&(Hr.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{r9(e,l,l.name,u,c,r);break}}}),NT=Math.max(i.length-1,0),i9(e),s==="pageload"){o9(Hr);const l=Hr["mark.fid"];l&&Hr.fid&&(fa(e,l.value,l.value+lr(Hr.fid.value),{name:"first input delay",op:"ui.action",attributes:{[cr]:"auto.ui.browser.metrics"}}),delete Hr["mark.fid"]),(!("fcp"in Hr)||!t.recordClsOnPageloadSpan)&&delete Hr.cls,Object.entries(Hr).forEach(([u,c])=>{J8(u,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Wh()),s9(e)}ji=void 0,ah=void 0,Hr={}}function e9(e,t,n,r,i){const s=qh(),o=lr(s?s.requestStart:0),l=i+Math.max(n,o),u=i+n,c=u+r,h={[cr]:"auto.resource.browser.metrics"};return l!==u&&(h["sentry.browser.measure_happened_before_request"]=!0,h["sentry.browser.measure_start_time"]=l),fa(e,l,c,{name:t.name,op:t.entryType,attributes:h}),l}function t9(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Dg(e,t,r,n)}),Dg(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Dg(e,t,"fetch",n,"cache","domainLookupStart"),Dg(e,t,"domainLookup",n,"DNS"),n9(e,t,n)}function Dg(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],l=t[`${n}Start`];!l||!o||fa(e,r+lr(l),r+lr(o),{op:`browser.${i||n}`,name:t.name,attributes:{[cr]:"auto.ui.browser.metrics"}})}function n9(e,t,n){const r=n+lr(t.requestStart),i=n+lr(t.responseEnd),s=n+lr(t.responseStart);t.responseEnd&&(fa(e,r,i,{op:"browser.request",name:t.name,attributes:{[cr]:"auto.ui.browser.metrics"}}),fa(e,s,i,{op:"browser.response",name:t.name,attributes:{[cr]:"auto.ui.browser.metrics"}}))}function r9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=lc(n),l={[cr]:"auto.resource.browser.metrics"};a1(l,t,"transferSize","http.response_transfer_size"),a1(l,t,"encodedBodySize","http.response_content_length"),a1(l,t,"decodedBodySize","http.decoded_response_content_length"),t.deliveryType!=null&&(l["http.response_delivery_type"]=t.deliveryType),"renderBlockingStatus"in t&&(l["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(l["url.scheme"]=o.protocol.split(":").pop()),o.host&&(l["server.address"]=o.host),l["url.same_origin"]=n.includes(At.location.origin);const u=s+r,c=u+i;fa(e,u,c,{name:n.replace(At.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:l})}function i9(e){const t=At.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),o1(n.rtt)&&(Hr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),o1(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),o1(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function s9(e){ji&&(ji.element&&e.setAttribute("lcp.element",mc(ji.element)),ji.id&&e.setAttribute("lcp.id",ji.id),ji.url&&e.setAttribute("lcp.url",ji.url.trim().slice(0,200)),ji.loadTime!=null&&e.setAttribute("lcp.loadTime",ji.loadTime),ji.renderTime!=null&&e.setAttribute("lcp.renderTime",ji.renderTime),e.setAttribute("lcp.size",ji.size)),ah&&ah.sources&&ah.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,mc(t.node)))}function a1(e,t,n,r){const i=t[n];i!=null&&i<HU&&(e[r]=i)}function o9(e){const t=qh();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const a9=1e3;let BT,V_,L_;function l9(e){const t="dom";gl(t,e),ml(t,c9)}function c9(){if(!At.document)return;const e=Is.bind(null,"dom"),t=DT(e,!0);At.document.addEventListener("click",t,!1),At.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=At[n]&&At[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Xi(r,"addEventListener",function(i){return function(s,o,l){if(s==="click"||s=="keypress")try{const u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},h=c[s]=c[s]||{refCount:0};if(!h.handler){const f=DT(e);h.handler=f,i.call(this,s,f,l)}h.refCount++}catch{}return i.call(this,s,o,l)}}),Xi(r,"removeEventListener",function(i){return function(s,o,l){if(s==="click"||s=="keypress")try{const u=this,c=u.__sentry_instrumentation_handlers__||{},h=c[s];h&&(h.refCount--,h.refCount<=0&&(i.call(this,s,h.handler,l),h.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,l)}}))})}function u9(e){if(e.type!==V_)return!1;try{if(!e.target||e.target._sentryId!==L_)return!1}catch{}return!0}function d9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function DT(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=f9(n);if(d9(n.type,r))return;Rs(n,"_sentryCaptured",!0),r&&!r._sentryId&&Rs(r,"_sentryId",Er());const i=n.type==="keypress"?"input":n.type;u9(n)||(e({event:n,name:i,global:t}),V_=n.type,L_=r?r._sentryId:void 0),clearTimeout(BT),BT=At.setTimeout(()=>{L_=void 0,V_=void 0},a9)}}function f9(e){try{return e.target}catch{return null}}let Fg;function vx(e){const t="history";gl(t,e),ml(t,h9)}function h9(){if(!W7())return;const e=At.onpopstate;At.onpopstate=function(...n){const r=At.location.href,i=Fg;if(Fg=r,Is("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=Fg,o=String(i);Fg=o,Is("history",{from:s,to:o})}return n.apply(this,r)}}Xi(At.history,"pushState",t),Xi(At.history,"replaceState",t)}const jm={};function p9(e){const t=jm[e];if(t)return t;let n=At[e];if(I_(n))return jm[e]=n.bind(At);const r=At.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){px&&Be.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(jm[e]=n.bind(At))}function FT(e){jm[e]=void 0}const Vu="__sentry_xhr_v3__";function _O(e){const t="xhr";gl(t,e),ml(t,g9)}function g9(){if(!At.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=Qr()*1e3,s=aa(r[0])?r[0].toUpperCase():void 0,o=m9(r[1]);if(!s||!o)return t.apply(n,r);n[Vu]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[Vu];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const c={endTimestamp:Qr()*1e3,startTimestamp:i,xhr:n};Is("xhr",c)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,c,h){return l(),u.apply(c,h)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,c,h){const[f,m]=h,v=c[Vu];return v&&aa(f)&&aa(m)&&(v.request_headers[f.toLowerCase()]=m),u.apply(c,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Vu];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:Qr()*1e3,xhr:n};return Is("xhr",s),t.apply(n,r)}})}function m9(e){if(aa(e))return e;try{return e.toString()}catch{}}const l1=[],Om=new Map;function v9(){if(mx()&&Fi){const t=y9();return()=>{t()}}return()=>{}}const $T={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function y9(){return jU(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(A=>A.duration===e.value&&$T[A.name]);if(!t)return;const{interactionId:n}=t,r=$T[t.name],i=lr(Fi+t.startTime),s=lr(e.value),o=ai(),l=o?si(o):void 0,c=(n!=null?Om.get(n):void 0)||l,h=c?sn(c).description:Pn().getScopeData().transactionName,f=mc(t.target),m=Yr({[cr]:"auto.http.browser.inp",[yc]:`ui.interaction.${r}`,[ax]:t.duration}),v=bO({name:f,transaction:h,attributes:m,startTime:i});v&&(v.addEvent("inp",{[Av]:"millisecond",[bv]:e.value}),v.end(i+s))})}function A9(e){const t=({entries:n})=>{const r=ai(),i=r&&si(r);n.forEach(s=>{if(!FU(s)||!i)return;const o=s.interactionId;if(o!=null&&!Om.has(o)){if(l1.length>10){const l=l1.shift();Om.delete(l)}l1.push(o),Om.set(o,i)}})};kh("event",t),kh("first-input",t)}function b9(e,t=p9("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const l={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return FT("fetch"),b0("No fetch implementation available");try{return t(e.url,l).then(u=>(n-=o,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return FT("fetch"),n-=o,r--,b0(u)}}return Xz(e,i)}const _9=30,S9=50;function N_(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?gc:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const x9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,w9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,E9=/\((\S*)(?::(\d+))(?::(\d+))\)/,C9=e=>{const t=x9.exec(e);if(t){const[,r,i,s]=t;return N_(r,gc,+i,+s)}const n=w9.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=E9.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=SO(n[1]||gc,n[2]);return N_(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},k9=[_9,C9],T9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,I9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,R9=e=>{const t=T9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=I9.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||gc;return[i,r]=SO(i,r),N_(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},P9=[S9,R9],M9=[k9,P9],j9=d3(...M9),SO=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:gc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},$g=1024,O9="Breadcrumbs",V9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:O9,setup(n){t.console&&w7(D9(n)),t.dom&&l9(B9(n,t.dom)),t.xhr&&_O(F9(n)),t.fetch&&oO($9(n)),t.history&&vx(z9(n)),t.sentry&&n.on("beforeSendEvent",N9(n))}}},L9=V9;function N9(e){return function(n){ln()===e&&Ac({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Wa(n)},{event:n})}}function B9(e,t){return function(r){if(ln()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,l=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;l&&l>$g&&(es&&Be.warn(`\`dom.maxStringLength\` cannot exceed ${$g}, but a value of ${l} was configured. Sentry will use ${$g} instead.`),l=$g),typeof o=="string"&&(o=[o]);try{const c=r.event,h=U9(c)?c.target:c;i=mc(h,{keyAttrs:o,maxStringLength:l}),s=v3(h)}catch{i="<unknown>"}if(i.length===0)return;const u={category:`ui.${r.name}`,message:i};s&&(u.data={"ui.component_name":s}),Ac(u,{event:r.event,name:r.name,global:r.global})}}function D9(e){return function(n){if(ln()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:C7(n.level),message:tT(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${tT(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ac(r,{input:n.args,level:n.level})}}function F9(e){return function(n){if(ln()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Vu];if(!r||!i||!s)return;const{method:o,url:l,status_code:u,body:c}=s,h={method:o,url:l,status_code:u},f={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},m=iO(u);Ac({category:"xhr",data:h,type:"http",level:m},f)}}function $9(e){return function(n){if(ln()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Ac({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},l={input:n.args,response:s,startTimestamp:r,endTimestamp:i},u=iO(o.status_code);Ac({category:"fetch",data:o,type:"http",level:u},l)}}}function z9(e){return function(n){if(ln()!==e)return;let r=n.from,i=n.to;const s=lc(gt.location.href);let o=r?lc(r):void 0;const l=lc(i);(!o||!o.path)&&(o=s),s.protocol===l.protocol&&s.host===l.host&&(i=l.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Ac({category:"navigation",data:{from:r,to:i}})}}function U9(e){return!!e&&!!e.target}const H9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],G9="BrowserApiErrors",q9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:G9,setupOnce(){t.setTimeout&&Xi(gt,"setTimeout",zT),t.setInterval&&Xi(gt,"setInterval",zT),t.requestAnimationFrame&&Xi(gt,"requestAnimationFrame",K9),t.XMLHttpRequest&&"XMLHttpRequest"in gt&&Xi(XMLHttpRequest.prototype,"send",Y9);const n=t.eventTarget;n&&(Array.isArray(n)?n:H9).forEach(Q9)}}},W9=q9;function zT(e){return function(...t){const n=t[0];return t[0]=cd(n,{mechanism:{data:{function:ua(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function K9(e){return function(t){return e.apply(this,[cd(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ua(e)},handled:!1,type:"instrument"}})])}}function Y9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Xi(n,i,function(s){const o={mechanism:{data:{function:i,handler:ua(s)},handled:!1,type:"instrument"}},l=sx(s);return l&&(o.mechanism.data.handler=ua(l)),cd(s,o)})}),e.apply(this,t)}}function Q9(e){const t=gt,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Xi(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=cd(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ua(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,cd(s,{mechanism:{data:{function:"addEventListener",handler:ua(s),target:e},handled:!1,type:"instrument"}}),o])}}),Xi(n,"removeEventListener",function(r){return function(i,s,o){const l=s;try{const u=l&&l.__sentry_wrapped__;u&&r.call(this,i,u,o)}catch{}return r.call(this,i,l,o)}}))}const J9="GlobalHandlers",X9=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:J9,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(eH(n),UT("onerror")),t.onunhandledrejection&&(tH(n),UT("onunhandledrejection"))}}},Z9=X9;function eH(e){f3(t=>{const{stackParser:n,attachStacktrace:r}=xO();if(ln()!==e||lO())return;const{msg:i,url:s,line:o,column:l,error:u}=t,c=iH(hx(n,u||i,void 0,r,!1),s,o,l);c.level="error",q3(c,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}function tH(e){h3(t=>{const{stackParser:n,attachStacktrace:r}=xO();if(ln()!==e||lO())return;const i=nH(t),s=ix(i)?rH(i):hx(n,i,void 0,r,!0);s.level="error",q3(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function nH(e){if(ix(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function rH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function iH(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},l=o.stacktrace=o.stacktrace||{},u=l.frames=l.frames||[],c=isNaN(parseInt(r,10))?void 0:r,h=isNaN(parseInt(n,10))?void 0:n,f=aa(t)&&t.length>0?t:G$();return u.length===0&&u.push({colno:c,filename:f,function:gc,in_app:!0,lineno:h}),e}function UT(e){es&&Be.log(`Global Handler attached: ${e}`)}function xO(){const e=ln();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const sH=()=>({name:"HttpContext",preprocessEvent(e){if(!gt.navigator&&!gt.location&&!gt.document)return;const t=e.request&&e.request.url||gt.location&&gt.location.href,{referrer:n}=gt.document||{},{userAgent:r}=gt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),oH="cause",aH=5,lH="LinkedErrors",cH=(e={})=>{const t=e.limit||aH,n=e.key||oH;return{name:lH,preprocessEvent(r,i,s){const o=s.getOptions();y7(dx,o.stackParser,o.maxValueLength,n,t,r,i)}}},uH=cH;function dH(e){return[a7(),r7(),W9(),L9(),Z9(),uH(),I7(),sH()]}function fH(e={}){const t={defaultIntegrations:dH(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:gt.SENTRY_RELEASE&&gt.SENTRY_RELEASE.id?gt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function hH(){const e=typeof gt.window<"u"&&gt;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=gt.location&&gt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&gt===gt.top&&s.some(u=>i.startsWith(`${u}//`)),l=typeof e.nw<"u";return!!r&&!o&&!l}function pH(e={}){const t=fH(e);if(!t.skipBrowserExtensionCheck&&hH()){Mc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}es&&(sO()||Be.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:V$(t.stackParser||j9),integrations:Nz(t),transport:t.transport||b9},r=Uz(lU,n);return t.autoSessionTracking&&gH(),r}function HT(e={}){if(!gt.document){es&&Be.error("Global document not defined in showReportDialog call");return}const t=Pn(),n=t.getClient(),r=n&&n.getDsn();if(!r){es&&Be.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const l=Iz();l&&(e.eventId=l)}const i=gt.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Vz(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const l=u=>{if(u.data==="__sentry_reportdialog_closed__")try{s()}finally{gt.removeEventListener("message",l)}};gt.addEventListener("message",l)}const o=gt.document.head||gt.document.body;o?o.appendChild(i):es&&Be.error("Not injecting report dialog. No injection point found in HTML")}function gH(){if(typeof gt.document>"u"){es&&Be.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}bT({ignoreDuration:!0}),_T(),vx(({from:e,to:t})=>{e!==void 0&&e!==t&&(bT({ignoreDuration:!0}),_T())})}const GT=new WeakMap,c1=new Map,Vm={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function mH(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:l}={traceFetch:Vm.traceFetch,traceXHR:Vm.traceXHR,trackFetchStreamPerformance:Vm.trackFetchStreamPerformance,...t},u=typeof s=="function"?s:f=>!0,c=f=>bH(f,l),h={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(m=>{if(m.op==="http.client"){const v=c1.get(m.span_id);v&&(m.timestamp=v/1e3,c1.delete(m.span_id))}}),f)),i&&z7(f=>{if(f.response){const m=GT.get(f.response);m&&f.endTimestamp&&c1.set(m,f.endTimestamp)}}),oO(f=>{const m=V7(f,u,c,h);if(f.response&&f.fetchData.__span&&GT.set(f.response,f.fetchData.__span),m){const v=wO(f.fetchData.url),A=v?lc(v).host:void 0;m.setAttributes({"http.url":v,"server.address":A})}o&&m&&qT(m)})),r&&_O(f=>{const m=_H(f,u,c,h);o&&m&&qT(m)})}function vH(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function qT(e){const{url:t}=sn(e).data||{};if(!t||typeof t!="string")return;const n=kh("resource",({entries:r})=>{r.forEach(i=>{vH(i)&&i.name.endsWith(t)&&(AH(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function yH(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function mo(e=0){return((Fi||performance.timeOrigin)+e)/1e3}function AH(e){const{name:t,version:n}=yH(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Fi?[...r,["http.request.redirect_start",mo(e.redirectStart)],["http.request.fetch_start",mo(e.fetchStart)],["http.request.domain_lookup_start",mo(e.domainLookupStart)],["http.request.domain_lookup_end",mo(e.domainLookupEnd)],["http.request.connect_start",mo(e.connectStart)],["http.request.secure_connection_start",mo(e.secureConnectionStart)],["http.request.connection_end",mo(e.connectEnd)],["http.request.request_start",mo(e.requestStart)],["http.request.response_start",mo(e.responseStart)],["http.request.response_end",mo(e.responseEnd)]]:r}function bH(e,t){const n=gt.location&&gt.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?sc(r.toString(),t)||s&&sc(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?sc(e,t):r}}function _H(e,t,n,r){const i=e.xhr,s=i&&i[Vu];if(!i||i.__sentry_own_request__||!s)return;const o=ol()&&t(s.url);if(e.endTimestamp&&o){const f=i.__sentry_xhr_span_id__;if(!f)return;const m=r[f];m&&s.status_code!==void 0&&(w3(m,s.status_code),m.end(),delete r[f]);return}const l=wO(s.url),u=l?lc(l).host:void 0,c=!!ai(),h=o&&c?rl({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":l,url:s.url,"server.address":u,[cr]:"auto.http.browser",[yc]:"http.client"}}):new xd;return i.__sentry_xhr_span_id__=h.spanContext().spanId,r[i.__sentry_xhr_span_id__]=h,n(s.url)&&SH(i,ol()&&c?h:void 0),h}function SH(e,t){const{"sentry-trace":n,baggage:r}=eO({span:t});n&&xH(e,n,r)}function xH(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function wO(e){try{return new URL(e,gt.location.origin).href}catch{return}}function wH(){gt&&gt.document?gt.document.addEventListener("visibilitychange",()=>{const e=ai();if(!e)return;const t=si(e);if(gt.document.hidden&&t){const n="cancelled",{op:r,status:i}=sn(t);es&&Be.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Vr,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):es&&Be.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const EH="BrowserTracing",CH={...Mm,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Vm},kH=(e={})=>{C8();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:l,finalTimeout:u,childSpanTimeout:c,markBackgroundSpan:h,traceFetch:f,traceXHR:m,trackFetchStreamPerformance:v,shouldCreateSpanForRequest:A,enableHTTPTimings:b,instrumentPageLoad:S,instrumentNavigation:w}={...CH,...e},I=GU({recordClsStandaloneSpans:s||!1});t&&v9(),r&&$t.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?WU():n&&qU(),i&&KU();const R={name:void 0,source:void 0};function T(E,P){const N=P.op==="pageload",j=o?o(P):P,V=j.attributes||{};P.name!==j.name&&(V[ia]="custom",j.attributes=V),R.name=j.name,R.source=V[ia];const k=G3(j,{idleTimeout:l,finalTimeout:u,childSpanTimeout:c,disableAutoFinish:N,beforeSpanEnd:H=>{I(),ZU(H,{recordClsOnPageloadSpan:!s})}});function D(){["interactive","complete"].includes(gt.document.readyState)&&E.emit("idleSpanEnableAutoFinish",k)}return N&&gt.document&&(gt.document.addEventListener("readystatechange",()=>{D()}),D()),k}return{name:EH,afterAllSetup(E){let P,N=gt.location&&gt.location.href;function j(){P&&!sn(P).timestamp&&(es&&Be.log(`[Tracing] Finishing current active span with op: ${sn(P).op}`),P.end())}E.on("startNavigationSpan",V=>{ln()===E&&(j(),P=T(E,{op:"navigation",...V}))}),E.on("startPageLoadSpan",(V,k={})=>{if(ln()!==E)return;j();const D=k.sentryTrace||WT("sentry-trace"),H=k.baggage||WT("baggage"),B=A8(D,H);Pn().setPropagationContext(B),P=T(E,{op:"pageload",...V})}),E.on("spanEnd",V=>{const k=sn(V).op;if(V!==si(V)||k!=="navigation"&&k!=="pageload")return;const D=Pn(),H=D.getPropagationContext();D.setPropagationContext({...H,sampled:H.sampled!==void 0?H.sampled:Oc(V),dsc:H.dsc||wd(V)})}),gt.location&&(S&&TH(E,{name:gt.location.pathname,startTime:Fi?Fi/1e3:void 0,attributes:{[ia]:"url",[cr]:"auto.pageload.browser"}}),w&&vx(({to:V,from:k})=>{if(k===void 0&&N&&N.indexOf(V)!==-1){N=void 0;return}k!==V&&(N=void 0,IH(E,{name:gt.location.pathname,attributes:{[ia]:"url",[cr]:"auto.navigation.browser"}}))})),h&&wH(),i&&RH(l,u,c,R),t&&A9(),mH(E,{traceFetch:f,traceXHR:m,trackFetchStreamPerformance:v,tracePropagationTargets:E.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:A,enableHTTPTimings:b})}}};function TH(e,t,n){e.emit("startPageLoadSpan",t,n),Pn().setTransactionName(t.name);const r=ai();return(r&&sn(r).op)==="pageload"?r:void 0}function IH(e,t){Mo().setPropagationContext(wh()),Pn().setPropagationContext(wh()),e.emit("startNavigationSpan",t),Pn().setTransactionName(t.name);const n=ai();return(n&&sn(n).op)==="navigation"?n:void 0}function WT(e){const t=q$(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function RH(e,t,n,r){let i;const s=()=>{const o="ui.action.click",l=ai(),u=l&&si(l);if(u){const c=sn(u).op;if(["navigation","pageload"].includes(c)){es&&Be.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(b_,"interactionInterrupted"),i.end(),i=void 0),!r.name){es&&Be.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=G3({name:r.name,op:o,attributes:{[ia]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};gt.document&&addEventListener("click",s,{once:!1,capture:!0})}function PH(e){const t={...e};return Z3(t,"react"),kz("react",{version:x.version}),pH(t)}function MH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function jH(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function OH(e,{componentStack:t},n){if(MH(x.version)&&pv(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,jH(e,r)}return Ps(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var u1={exports:{}},on={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function VH(){if(KT)return on;KT=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,A=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,w=e?Symbol.for("react.responder"):60118,I=e?Symbol.for("react.scope"):60119;function R(E){if(typeof E=="object"&&E!==null){var P=E.$$typeof;switch(P){case t:switch(E=E.type,E){case u:case c:case r:case s:case i:case f:return E;default:switch(E=E&&E.$$typeof,E){case l:case h:case A:case v:case o:return E;default:return P}}case n:return P}}}function T(E){return R(E)===c}return on.AsyncMode=u,on.ConcurrentMode=c,on.ContextConsumer=l,on.ContextProvider=o,on.Element=t,on.ForwardRef=h,on.Fragment=r,on.Lazy=A,on.Memo=v,on.Portal=n,on.Profiler=s,on.StrictMode=i,on.Suspense=f,on.isAsyncMode=function(E){return T(E)||R(E)===u},on.isConcurrentMode=T,on.isContextConsumer=function(E){return R(E)===l},on.isContextProvider=function(E){return R(E)===o},on.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},on.isForwardRef=function(E){return R(E)===h},on.isFragment=function(E){return R(E)===r},on.isLazy=function(E){return R(E)===A},on.isMemo=function(E){return R(E)===v},on.isPortal=function(E){return R(E)===n},on.isProfiler=function(E){return R(E)===s},on.isStrictMode=function(E){return R(E)===i},on.isSuspense=function(E){return R(E)===f},on.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===c||E===s||E===i||E===f||E===m||typeof E=="object"&&E!==null&&(E.$$typeof===A||E.$$typeof===v||E.$$typeof===o||E.$$typeof===l||E.$$typeof===h||E.$$typeof===S||E.$$typeof===w||E.$$typeof===I||E.$$typeof===b)},on.typeOf=R,on}var YT;function LH(){return YT||(YT=1,u1.exports=VH()),u1.exports}var d1,QT;function NH(){if(QT)return d1;QT=1;var e=LH(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=r,s[e.Memo]=i;function o(A){return e.isMemo(A)?i:s[A.$$typeof]||t}var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;function v(A,b,S){if(typeof b!="string"){if(m){var w=f(b);w&&w!==m&&v(A,w,S)}var I=u(b);c&&(I=I.concat(c(b)));for(var R=o(A),T=o(b),E=0;E<I.length;++E){var P=I[E];if(!n[P]&&!(S&&S[P])&&!(T&&T[P])&&!(R&&R[P])){var N=h(b,P);try{l(A,P,N)}catch{}}}}return A}return d1=v,d1}var BH=NH();const DH=Cr(BH),FH="ui.react.render",$H="ui.react.update",zH="ui.react.mount",UH="unknown";class EO extends x.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=rl({name:`<${n}>`,onlyIfParent:!0,op:zH,attributes:{[cr]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=Qr();this._updateSpan=S0(this._mountSpan,()=>rl({name:`<${this.props.name}>`,onlyIfParent:!0,op:$H,startTime:i,attributes:{[cr]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=Qr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=sn(this._mountSpan).timestamp;S0(this._mountSpan,()=>{const s=rl({onlyIfParent:!0,name:`<${n}>`,op:FH,startTime:i,attributes:{[cr]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}EO.__initStatic();function HH(e,t){const n=e.displayName||e.name||UH,r=i=>x.createElement(EO,{...t,name:n,updateProps:i},x.createElement(e,{...i}));return r.displayName=`profiler(${n})`,DH(r,e),r}const GH=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,JT={componentStack:null,error:null,eventId:null};class yx extends x.Component{constructor(t){super(t),yx.prototype.__init.call(this),this.state=JT,this._openFallbackReportDialog=!0;const n=ln();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&HT({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:o,showDialog:l,dialogOptions:u}=this.props;yv(c=>{s&&s(c,t,i);const h=OH(t,n,{mechanism:{handled:!!this.props.fallback}});o&&o(t,i,h),l&&(this._lastEventId=h,this._openFallbackReportDialog&&HT({...u,eventId:h})),this.setState({error:t,componentStack:r,eventId:h})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(JT)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=x.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,x.isValidElement(i)?i:(t&&GH&&Be.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const qH="modulepreload",WH=function(e){return"/"+e},XT={},Rd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=WH(u),u in XT)return;XT[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":qH,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};class CO{constructor(){this.init=async(t,n)=>{const r=await Rd(()=>import("./aubio-DQ9FhJvE.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class KH extends so{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const il=new KH;let B_=class{constructor(t=2){this.channels=t,this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async n=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await il.getUserMedia({audio:{...n?{deviceId:n,exact:!0}:{},echoCancellation:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=Array.from({length:this.channels},()=>{const o=this.context.createAnalyser();return o.fftSize=2048,o.minDecibels=-100,o});if(this.channels>1){const o=this.context.createChannelSplitter(2);r.connect(o),i.forEach((l,u)=>{o.connect(l,u)})}else r.connect(i[0]);console.log(this.channels);const s=new CO;await s.init(this.context,i[0].fftSize),this.interval=setInterval(async()=>{const o=i.map(l=>new Float32Array(l.fftSize));i.forEach((l,u)=>{l.getFloatTimeDomainData(o[u])}),this.frequencies=await Promise.all(o.map(l=>s.getFrequency(l))),this.volumes=o.map(l=>this.calculateVolume(l))},this.context.sampleRate/i[0].fftSize),ve.micMonitoringStarted.dispatch()}catch(r){Ps(r),console.error(r)}}catch(r){Ps(r,{level:"warning",extra:{message:"MicInput.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=n=>{},this.stopMonitoring=async()=>{var n,r;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(n=this.stream)==null||n.getTracks().forEach(function(i){i.stop()});try{await((r=this.context)==null?void 0:r.close())}catch(i){console.log("MicInput.stoMonitoring error",i)}ve.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new B_;const YH=(e=[],t)=>{const n=e.filter(r=>r.deviceId===t).map(r=>r.channel);return n.some(r=>n[0]!==r)};class QH{constructor(){this.devices={},this.startMonitoring=async(t,n)=>{console.log(this.devices),t&&(this.devices[t]||(this.devices[t]=YH(n,t)?new B_(2):new B_(1)),await this.devices[t].startMonitoring(t))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{await Promise.all(Object.values(this.devices).map(t=>t.stopMonitoring())),this.devices={}},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const JH=new QH;class XH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Mt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Mt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Mt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Mt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Mt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const ZH=new XH;function no(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kO=typeof global=="object"&&global&&global.Object===Object&&global,eG=typeof self=="object"&&self&&self.Object===Object&&self,oo=kO||eG||Function("return this")(),f1=function(){return oo.Date.now()},tG=/\s/;function nG(e){for(var t=e.length;t--&&tG.test(e.charAt(t)););return t}var rG=/^\s+/;function iG(e){return e&&e.slice(0,nG(e)+1).replace(rG,"")}var Ms=oo.Symbol,TO=Object.prototype,sG=TO.hasOwnProperty,oG=TO.toString,Tf=Ms?Ms.toStringTag:void 0;function aG(e){var t=sG.call(e,Tf),n=e[Tf];try{e[Tf]=void 0;var r=!0}catch{}var i=oG.call(e);return r&&(t?e[Tf]=n:delete e[Tf]),i}var lG=Object.prototype,cG=lG.toString;function uG(e){return cG.call(e)}var dG="[object Null]",fG="[object Undefined]",ZT=Ms?Ms.toStringTag:void 0;function Lc(e){return e==null?e===void 0?fG:dG:ZT&&ZT in Object(e)?aG(e):uG(e)}function ha(e){return e!=null&&typeof e=="object"}var hG="[object Symbol]";function Sv(e){return typeof e=="symbol"||ha(e)&&Lc(e)==hG}var eI=NaN,pG=/^[-+]0x[0-9a-f]+$/i,gG=/^0b[01]+$/i,mG=/^0o[0-7]+$/i,vG=parseInt;function D_(e){if(typeof e=="number")return e;if(Sv(e))return eI;if(no(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=no(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iG(e);var n=gG.test(e);return n||mG.test(e)?vG(e.slice(2),n?2:8):pG.test(e)?eI:+e}var yG="Expected a function",AG=Math.max,bG=Math.min;function IO(e,t,n){var r,i,s,o,l,u,c=0,h=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(yG);t=D_(t)||0,no(n)&&(h=!!n.leading,f="maxWait"in n,s=f?AG(D_(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m);function v(P){var N=r,j=i;return r=i=void 0,c=P,o=e.apply(j,N),o}function A(P){return c=P,l=setTimeout(w,t),h?v(P):o}function b(P){var N=P-u,j=P-c,V=t-N;return f?bG(V,s-j):V}function S(P){var N=P-u,j=P-c;return u===void 0||N>=t||N<0||f&&j>=s}function w(){var P=f1();if(S(P))return I(P);l=setTimeout(w,b(P))}function I(P){return l=void 0,m&&r?v(P):(r=i=void 0,o)}function R(){l!==void 0&&clearTimeout(l),c=0,r=u=i=l=void 0}function T(){return l===void 0?o:I(f1())}function E(){var P=f1(),N=S(P);if(r=arguments,i=this,u=P,N){if(l===void 0)return A(u);if(f)return clearTimeout(l),l=setTimeout(w,t),v(u)}return l===void 0&&(l=setTimeout(w,t)),o}return E.cancel=R,E.flush=T,E}const yi={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},lh=["freestyle","rap"],RO=[],PO=440,MO=69,Ax=20;var _G="[object AsyncFunction]",SG="[object Function]",xG="[object GeneratorFunction]",wG="[object Proxy]";function jO(e){if(!no(e))return!1;var t=Lc(e);return t==SG||t==xG||t==_G||t==wG}var h1=oo["__core-js_shared__"],tI=function(){var e=/[^.]+$/.exec(h1&&h1.keys&&h1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function EG(e){return!!tI&&tI in e}var CG=Function.prototype,kG=CG.toString;function Nc(e){if(e!=null){try{return kG.call(e)}catch{}try{return e+""}catch{}}return""}var TG=/[\\^$.*+?()[\]{}|]/g,IG=/^\[object .+?Constructor\]$/,RG=Function.prototype,PG=Object.prototype,MG=RG.toString,jG=PG.hasOwnProperty,OG=RegExp("^"+MG.call(jG).replace(TG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VG(e){if(!no(e)||EG(e))return!1;var t=jO(e)?OG:IG;return t.test(Nc(e))}function LG(e,t){return e==null?void 0:e[t]}function Bc(e,t){var n=LG(e,t);return VG(n)?n:void 0}var Th=Bc(Object,"create");function NG(){this.__data__=Th?Th(null):{},this.size=0}function BG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DG="__lodash_hash_undefined__",FG=Object.prototype,$G=FG.hasOwnProperty;function zG(e){var t=this.__data__;if(Th){var n=t[e];return n===DG?void 0:n}return $G.call(t,e)?t[e]:void 0}var UG=Object.prototype,HG=UG.hasOwnProperty;function GG(e){var t=this.__data__;return Th?t[e]!==void 0:HG.call(t,e)}var qG="__lodash_hash_undefined__";function WG(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Th&&t===void 0?qG:t,this}function bc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bc.prototype.clear=NG;bc.prototype.delete=BG;bc.prototype.get=zG;bc.prototype.has=GG;bc.prototype.set=WG;function KG(){this.__data__=[],this.size=0}function xv(e,t){return e===t||e!==e&&t!==t}function wv(e,t){for(var n=e.length;n--;)if(xv(e[n][0],t))return n;return-1}var YG=Array.prototype,QG=YG.splice;function JG(e){var t=this.__data__,n=wv(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():QG.call(t,n,1),--this.size,!0}function XG(e){var t=this.__data__,n=wv(t,e);return n<0?void 0:t[n][1]}function ZG(e){return wv(this.__data__,e)>-1}function eq(e,t){var n=this.__data__,r=wv(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ma(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ma.prototype.clear=KG;ma.prototype.delete=JG;ma.prototype.get=XG;ma.prototype.has=ZG;ma.prototype.set=eq;var Ih=Bc(oo,"Map");function tq(){this.size=0,this.__data__={hash:new bc,map:new(Ih||ma),string:new bc}}function nq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ev(e,t){var n=e.__data__;return nq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function rq(e){var t=Ev(this,e).delete(e);return this.size-=t?1:0,t}function iq(e){return Ev(this,e).get(e)}function sq(e){return Ev(this,e).has(e)}function oq(e,t){var n=Ev(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function va(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}va.prototype.clear=tq;va.prototype.delete=rq;va.prototype.get=iq;va.prototype.has=sq;va.prototype.set=oq;var aq="Expected a function";function Cv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(aq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Cv.Cache||va),n}Cv.Cache=va;function C0(e){return lh.includes(e.note.type)?0:e.distance}function an(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const lq=35e5,$l={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},nI=e=>({freestyle:e.freestyle*$l.freestyle,rap:e.rap*$l.rap,rapstar:e.rapstar*$l.rapstar,star:e.star*$l.star,normal:e.normal*$l.normal,perfect:e.perfect*$l.perfect,vibrato:e.vibrato*$l.vibrato}),bx=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,zg=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),rI=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),iI=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),sI=Cv(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(an).forEach(r=>{r.notes.filter(s=>!RO.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function OO(e,t,n){const r=sI(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=nI(sI(t)[n]),o=lq/bx(s);for(let l=0;l<e.length;l++){const u=e[l];RO.includes(u.note.type)||C0(u)===0&&(i[u.note.type]=i[u.note.type]+u.length,u.isPerfect&&(i.perfect=i.perfect+u.length),u.vibrato&&(i.vibrato=i.vibrato+u.length))}return[o,nI(i),s]}function cq(e,t,n){const[r,i]=OO(e,t,n);return bx(i)*r}function uq(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function dq(e){return PO*Math.pow(2,(e-MO)/12)}const fq=e=>Math.round(12*(Math.log(e/PO)/Math.log(2)))+MO,hq=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),pq=(e,t,n)=>{const r=dq(e),i=hq(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},gq=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},mq=(e,t)=>{const n=ct.getTolerance(),r=fq(e);let i=-1;const s=gq(r,t,n);return s===0&&(i=pq(t,e,n)),{distance:s,preciseDistance:i}},oI=6;function vq(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-oI;r++){const s=n.slice(r,r+oI-1).map(c=>c.interval),o=Math.max(...s),l=Math.min(...s),u=s.reduce((c,h)=>c+h,0)/s.length;if(o<u*1.75&&l>u/1.75)return!0}return!1}const yq=100;function Aq(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...mq(t.frequency,n.pitch)},s=e.at(-1),o=yq/r,l=n.start+n.length,u=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!lh.includes(n.type);if(u||c||i.beat-(s.start+s.length)>o){const h=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(u?h:i.beat,l),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const f=s.start+s.length,m=s.note.start+s.note.length,v=f+o>m?m:f;s.length=Math.max(0,v-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&vq(s.frequencyRecords)}const bq=e=>e.notes[0],al=e=>{const t=e.find(an);return t?bq(t).start:1/0},Rh=e=>{const n=e.filter(an).at(-1);return n?ud(n):0},ud=e=>{const t=e.notes.at(-1);return t.start+t.length},aI=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class _q{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=nr.getPlayerFrequency(this.number),s=r-nr.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),l=(o==null?void 0:o.timestamp)??0,u=(s-l)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let h=0;h<i.length;h++){const f=l+u*(h+1);this.updatePlayerNotes(f,i[h])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),nr.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(ve.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),l=this.getSectionByBeat(o);if(an(l)){const u=aI(l,o,0)??aI(l,o,.5);u&&Aq(this.playerNotes,s,u,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return an(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>cq(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>OO(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(an).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function lI(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(an).at(-1);return n?ud(n):0}))}function _x(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(_x.Cache||Map),n}_x.Cache=Map;const Pd=_x(function(t){return 60/t.bpm/(t.bar??4)*1e3});class Sq{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Pd(this.song),this.getCurrentBeat=()=>uq(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new _q(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===yi.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===yi.CO_OP){const r=this.getPlayers().map(l=>l.getDetailedScore()),[i,...s]=r.map(([l,u,c])=>[zg(u,l),zg(c,l)]),o=s.reduce((l,u)=>[rI(l[0],u[0]),rI(l[1],u[1])],i);return[iI(o[0],this.getPlayerCount()),iI(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[zg(i,r),zg(s,r)]}},this.getSongCompletionProgress=()=>(console.log("getSongCompletionProgress",this.getCurrentBeat(),lI(this.getSong()),this.getSong()),Math.max(0,Math.min(1,this.getCurrentBeat()/lI(this.getSong())))),this.startInputMonitoring=async()=>nr.startMonitoring(),this.stopInputMonitoring=()=>nr.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const ct=new Sq,VO="wss://allkaraoke-partykit.asvarox.partykit.dev";class xq extends so{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=bi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=bi(),(t=this.connection)==null||t.send(Ts({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=bi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,bi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${VO}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ts({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var u;const l=bd(o.data);if(l.t==="forward"){["ping","pong","freq"].includes((u=l==null?void 0:l.payload)==null?void 0:u.t)||console.log("received",l);const{sender:c,payload:h}=l,f=new wq(c,this.connection);this.onUpdate(h,f)}else l.t==="pong"?this.onPong():console.warn("Unknown message type",l)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Ts({t:"remove-player",id:t}))}}let wq=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ts(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=bd(s.data);if(o.t==="forward"){const{sender:l,payload:u}=o;l===this.peer&&i(u)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var _5;const Eq=(_5=global==null?void 0:global.sessionStorage)==null?void 0:_5.getItem("isE2E");function _i(){var t,n;if(Eq)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const Cq=_i()?{host:"localhost",port:3001,path:"/"}:{},LO={...Cq};var kq=Object.create,kv=Object.defineProperty,Tq=Object.defineProperties,Iq=Object.getOwnPropertyDescriptor,Rq=Object.getOwnPropertyDescriptors,NO=Object.getOwnPropertyNames,cI=Object.getOwnPropertySymbols,Pq=Object.getPrototypeOf,BO=Object.prototype.hasOwnProperty,Mq=Object.prototype.propertyIsEnumerable,uI=(e,t,n)=>t in e?kv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sx=(e,t)=>{for(var n in t||(t={}))BO.call(t,n)&&uI(e,n,t[n]);if(cI)for(var n of cI(t))Mq.call(t,n)&&uI(e,n,t[n]);return e},DO=(e,t)=>Tq(e,Rq(t)),jq=e=>kv(e,"__esModule",{value:!0}),xx=(e,t)=>function(){return t||(0,e[NO(e)[0]])((t={exports:{}}).exports,t),t.exports},Oq=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of NO(t))!BO.call(e,i)&&i!=="default"&&kv(e,i,{get:()=>t[i],enumerable:!(r=Iq(t,i))||r.enumerable});return e},Jh=(e,t)=>Oq(jq(kv(e!=null?kq(Pq(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Lu=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{l(n.next(u))}catch(c){i(c)}},o=u=>{try{l(n.throw(u))}catch(c){i(c)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);l((n=n.apply(e,t)).next())}),dI=xx({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,l=this._parts.length;o<l;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),Vq=xx({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=dI().BufferBuilder,r=dI().binaryFeatures,i={unpack:function(c){var h=new s(c);return h.unpack()},pack:function(c){var h=new o;h.pack(c);var f=h.getBuffer();return f}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var h;if((h=c^160)<=15)return this.unpack_raw(h);if((h=c^176)<=15)return this.unpack_string(h);if((h=c^144)<=15)return this.unpack_array(h);if((h=c^128)<=15)return this.unpack_map(h);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),h=(c[0]&255)*256+(c[1]&255);return this.index+=2,h},s.prototype.unpack_uint32=function(){var c=this.read(4),h=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,h},s.prototype.unpack_uint64=function(){var c=this.read(8),h=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,h},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var h=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,h},s.prototype.unpack_string=function(c){for(var h=this.read(c),f=0,m="",v,A;f<c;)v=h[f],v<128?(m+=String.fromCharCode(v),f++):(v^192)<32?(A=(v^192)<<6|h[f+1]&63,m+=String.fromCharCode(A),f+=2):(A=(v&15)<<12|(h[f+1]&63)<<6|h[f+2]&63,m+=String.fromCharCode(A),f+=3);return this.index+=c,m},s.prototype.unpack_array=function(c){for(var h=new Array(c),f=0;f<c;f++)h[f]=this.unpack();return h},s.prototype.unpack_map=function(c){for(var h={},f=0;f<c;f++){var m=this.unpack(),v=this.unpack();h[m]=v}return h},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),h=c>>31,f=(c>>23&255)-127,m=c&8388607|8388608;return(h===0?1:-1)*m*Math.pow(2,f-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),h=this.unpack_uint32(),f=c>>31,m=(c>>20&2047)-1023,v=c&1048575|1048576,A=v*Math.pow(2,m-20)+h*Math.pow(2,m-52);return(f===0?1:-1)*A},s.prototype.read=function(c){var h=this.index;if(h+c<=this.length)return this.dataView.subarray(h,h+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var h=typeof c;if(h==="string")this.pack_string(c);else if(h==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(h==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(h==="undefined")this.bufferBuilder.append(192);else if(h==="object")if(c===null)this.bufferBuilder.append(192);else{var f=c.constructor;if(f==Array)this.pack_array(c);else if(f==Blob||f==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(f==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(f==Object||f.toString().startsWith("class"))this.pack_object(c);else if(f==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+f.toString()+'" not yet supported')}else throw new Error('Type "'+h+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var h=c.length||c.byteLength||c.size;if(h<=15)this.pack_uint8(160+h);else if(h<=65535)this.bufferBuilder.append(218),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(h);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var h=u(c);if(h<=15)this.pack_uint8(176+h);else if(h<=65535)this.bufferBuilder.append(216),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(h);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var h=c.length;if(h<=15)this.pack_uint8(144+h);else if(h<=65535)this.bufferBuilder.append(220),this.pack_uint16(h);else if(h<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(h);else throw new Error("Invalid length");for(var f=0;f<h;f++)this.pack(c[f])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var h=0;c<0&&(h=1,c=-c);var f=Math.floor(Math.log(c)/Math.LN2),m=c/Math.pow(2,f)-1,v=Math.floor(m*Math.pow(2,52)),A=Math.pow(2,32),b=h<<31|f+1023<<20|v/A&1048575,S=v%A;this.bufferBuilder.append(203),this.pack_int32(b),this.pack_int32(S)},o.prototype.pack_object=function(c){var h=Object.keys(c),f=h.length;if(f<=15)this.pack_uint8(128+f);else if(f<=65535)this.bufferBuilder.append(222),this.pack_uint16(f);else if(f<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(f);else throw new Error("Invalid length");for(var m in c)c.hasOwnProperty(m)&&(this.pack(m),this.pack(c[m]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var h=c&4294967295;this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255)},o.prototype.pack_uint64=function(c){var h=c/Math.pow(2,32),f=c%Math.pow(2,32);this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255),this.bufferBuilder.append((f&4278190080)>>>24),this.bufferBuilder.append((f&16711680)>>>16),this.bufferBuilder.append((f&65280)>>>8),this.bufferBuilder.append(f&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var h=Math.floor(c/Math.pow(2,32)),f=c%Math.pow(2,32);this.bufferBuilder.append((h&4278190080)>>>24),this.bufferBuilder.append((h&16711680)>>>16),this.bufferBuilder.append((h&65280)>>>8),this.bufferBuilder.append(h&255),this.bufferBuilder.append((f&4278190080)>>>24),this.bufferBuilder.append((f&16711680)>>>16),this.bufferBuilder.append((f&65280)>>>8),this.bufferBuilder.append(f&255)};function l(c){var h=c.charCodeAt(0);return h<=2047?"00":h<=65535?"000":h<=2097151?"0000":h<=67108863?"00000":"000000"}function u(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,l).length}}}),Tv=xx({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function o(c,h,f,m,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var A=new s(f,m||c,v),b=r?r+h:h;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],A]:c._events[b].push(A):(c._events[b]=A,c._eventsCount++),c}function l(c,h){--c._eventsCount===0?c._events=new i:delete c._events[h]}function u(){this._events=new i,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)n.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},u.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,A=m.length,b=new Array(A);v<A;v++)b[v]=m[v].fn;return b},u.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,f,m,v,A,b){var S=r?r+h:h;if(!this._events[S])return!1;var w=this._events[S],I=arguments.length,R,T;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),I){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,m),!0;case 4:return w.fn.call(w.context,f,m,v),!0;case 5:return w.fn.call(w.context,f,m,v,A),!0;case 6:return w.fn.call(w.context,f,m,v,A,b),!0}for(T=1,R=new Array(I-1);T<I;T++)R[T-1]=arguments[T];w.fn.apply(w.context,R)}else{var E=w.length,P;for(T=0;T<E;T++)switch(w[T].once&&this.removeListener(h,w[T].fn,void 0,!0),I){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,f);break;case 3:w[T].fn.call(w[T].context,f,m);break;case 4:w[T].fn.call(w[T].context,f,m,v);break;default:if(!R)for(P=1,R=new Array(I-1);P<I;P++)R[P-1]=arguments[P];w[T].fn.apply(w[T].context,R)}}return!0},u.prototype.on=function(h,f,m){return o(this,h,f,m,!1)},u.prototype.once=function(h,f,m){return o(this,h,f,m,!0)},u.prototype.removeListener=function(h,f,m,v){var A=r?r+h:h;if(!this._events[A])return this;if(!f)return l(this,A),this;var b=this._events[A];if(b.fn)b.fn===f&&(!v||b.once)&&(!m||b.context===m)&&l(this,A);else{for(var S=0,w=[],I=b.length;S<I;S++)(b[S].fn!==f||v&&!b[S].once||m&&b[S].context!==m)&&w.push(b[S]);w.length?this._events[A]=w.length===1?w[0]:w:l(this,A)}return this},u.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&l(this,f)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,typeof t<"u"&&(t.exports=u)}}),fI=Jh(Vq()),Lq={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},qn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=Lq,this.pack=fI.pack,this.unpack=fI.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/qn.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+qn.chunkedMTU),l=e.slice(s,o),u={__peerData:this._dataCount,n:i,data:l,total:r};t.push(u),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},Nq=Jh(Tv()),Bq="PeerJS: ",Dq=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[Bq,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Ye=new Dq,Fq=Jh(Tv()),$q=class extends Fq.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var l;this.pingInterval=s;const u=e?"wss://":"ws://";this._baseUrl=u+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(l=o==null?void 0:o.WebSocket)!=null?l:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),Ye.log("Server message received:",i)}catch{Ye.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Ye.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Ye.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Ye.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Ye.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function zq(){}var FO=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ye.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;Ye.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(Ye.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ye.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Ye.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Ye.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Ye.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Ye.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=zq;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{Ye.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{Ye.log("Received remote stream");const o=s.streams[0],l=i.getConnection(t,n);if(l.type==="media"){const u=l;this._addStreamToMediaConnection(o,u)}}}cleanup(){Ye.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return Lu(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Ye.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ye.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=DO(Sx({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Ye.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Ye.log("Failed to createOffer, ",n)}})}_makeAnswer(){return Lu(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Ye.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ye.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Ye.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Ye.log("Failed to create answer, ",n)}})}handleSDP(e,t){return Lu(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;Ye.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),Ye.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),Ye.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return Lu(this,null,function*(){Ye.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),Ye.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),Ye.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(Ye.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ye.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ye.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},Uq=Jh(Tv()),$O=class extends Uq.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},zO=class extends $O{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||zO.ID_PREFIX+qn.randomToken(),this._negotiator=new FO(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Ye.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Ye.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ye.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(DO(Sx({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},F_=zO;F_.ID_PREFIX="mc_";var Hq=Jh(Tv()),Gq=class extends Hq.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Ye.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},$_=class extends $O{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||$_.ID_PREFIX+qn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new Gq(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{Ye.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new FO(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Ye.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){qn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=qn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=qn.unpack(e);else if(t===String){const i=qn.binaryStringToArrayBuffer(e);r=qn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=qn.pack(e);if(!t&&n.size>qn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>$_.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ye.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=qn.chunk(e);Ye.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Ye.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},k0=$_;k0.ID_PREFIX="dc_";k0.MAX_BUFFERED_AMOUNT=8*1024*1024;var qq=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return Lu(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ye.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==qn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return Lu(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===qn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ye.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},Wq={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Hl=class extends Nq.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=Sx({debug:0,host:qn.CLOUD_HOST,port:qn.CLOUD_PORT,path:"/",key:Hl.DEFAULT_KEY,token:qn.randomToken(),config:qn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==qn.CLOUD_HOST?this._options.secure=qn.isSecure():this._options.host==qn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ye.setLogFunction(this._options.logFunction),Ye.logLevel=this._options.debug||0,this._api=new qq(t),this._socket=this._createServerConnection(),this.features=Hl.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!qn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new $q(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Ye.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),Ye.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new F_(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new k0(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{Ye.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let l of o)s.handleMessage(l);break}default:{if(!n){Ye.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):Ye.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new k0(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ye.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new F_(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Ye.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ye.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Ye.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Ye.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ye.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ye.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ye.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Hl._features||(Hl._features=Hl.checkFeatures(e)),Hl._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(qn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=Wq.isUnifiedPlanSupported(e),t}},Iv=Hl;Iv.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=Iv);class Kq extends so{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new Iv(`allkaraoke-party-room-${t}`,LO),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],Mt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const UO="wss://allkaraoke-posthog.fly.dev";class Yq extends so{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=bi(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=bi(),(t=this.connection)==null||t.send(Ts({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=bi()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,bi()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(UO),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Ts({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",o=>{var u;const l=bd(o.data);if(l.t==="forward"){["ping","pong","freq"].includes((u=l==null?void 0:l.payload)==null?void 0:u.t)||console.log("received",l);const{sender:c,payload:h}=l,f=new Qq(c,this.connection);this.onUpdate(h,f)}else l.t==="pong"?this.onPong():console.warn("Unknown message type",l)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(Ts({t:"remove-player",id:t}))}}class Qq{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Ts(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=bd(s.data);if(o.t==="forward"){const{sender:l,payload:u}=o;l===this.peer&&i(u)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var Lm={exports:{}},Jq=Lm.exports,hI;function Xq(){return hI||(hI=1,function(e,t){(function(n,r){e.exports=r()})(Jq,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",l="minute",u="hour",c="day",h="week",f="month",m="quarter",v="year",A="date",b="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var F=["th","st","nd","rd"],L=G%100;return"["+G+(F[(L-20)%10]||F[L]||F[0])+"]"}},R=function(G,F,L){var Y=String(G);return!Y||Y.length>=F?G:""+Array(F+1-Y.length).join(L)+G},T={s:R,z:function(G){var F=-G.utcOffset(),L=Math.abs(F),Y=Math.floor(L/60),q=L%60;return(F<=0?"+":"-")+R(Y,2,"0")+":"+R(q,2,"0")},m:function G(F,L){if(F.date()<L.date())return-G(L,F);var Y=12*(L.year()-F.year())+(L.month()-F.month()),q=F.clone().add(Y,f),Q=L-q<0,M=F.clone().add(Y+(Q?-1:1),f);return+(-(Y+(L-q)/(Q?q-M:M-q))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:f,y:v,w:h,d:c,D:A,h:u,m:l,s:o,ms:s,Q:m}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},E="en",P={};P[E]=I;var N="$isDayjsObject",j=function(G){return G instanceof H||!(!G||!G[N])},V=function G(F,L,Y){var q;if(!F)return E;if(typeof F=="string"){var Q=F.toLowerCase();P[Q]&&(q=Q),L&&(P[Q]=L,q=Q);var M=F.split("-");if(!q&&M.length>1)return G(M[0])}else{var U=F.name;P[U]=F,q=U}return!Y&&q&&(E=q),q||!Y&&E},k=function(G,F){if(j(G))return G.clone();var L=typeof F=="object"?F:{};return L.date=G,L.args=arguments,new H(L)},D=T;D.l=V,D.i=j,D.w=function(G,F){return k(G,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var H=function(){function G(L){this.$L=V(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[N]=!0}var F=G.prototype;return F.parse=function(L){this.$d=function(Y){var q=Y.date,Q=Y.utc;if(q===null)return new Date(NaN);if(D.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var M=q.match(S);if(M){var U=M[2]-1||0,X=(M[7]||"0").substring(0,3);return Q?new Date(Date.UTC(M[1],U,M[3]||1,M[4]||0,M[5]||0,M[6]||0,X)):new Date(M[1],U,M[3]||1,M[4]||0,M[5]||0,M[6]||0,X)}}return new Date(q)}(L),this.init()},F.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},F.$utils=function(){return D},F.isValid=function(){return this.$d.toString()!==b},F.isSame=function(L,Y){var q=k(L);return this.startOf(Y)<=q&&q<=this.endOf(Y)},F.isAfter=function(L,Y){return k(L)<this.startOf(Y)},F.isBefore=function(L,Y){return this.endOf(Y)<k(L)},F.$g=function(L,Y,q){return D.u(L)?this[Y]:this.set(q,L)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(L,Y){var q=this,Q=!!D.u(Y)||Y,M=D.p(L),U=function(Re,be){var je=D.w(q.$u?Date.UTC(q.$y,be,Re):new Date(q.$y,be,Re),q);return Q?je:je.endOf(c)},X=function(Re,be){return D.w(q.toDate()[Re].apply(q.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(be)),q)},de=this.$W,z=this.$M,pe=this.$D,se="set"+(this.$u?"UTC":"");switch(M){case v:return Q?U(1,0):U(31,11);case f:return Q?U(1,z):U(0,z+1);case h:var me=this.$locale().weekStart||0,Ee=(de<me?de+7:de)-me;return U(Q?pe-Ee:pe+(6-Ee),z);case c:case A:return X(se+"Hours",0);case u:return X(se+"Minutes",1);case l:return X(se+"Seconds",2);case o:return X(se+"Milliseconds",3);default:return this.clone()}},F.endOf=function(L){return this.startOf(L,!1)},F.$set=function(L,Y){var q,Q=D.p(L),M="set"+(this.$u?"UTC":""),U=(q={},q[c]=M+"Date",q[A]=M+"Date",q[f]=M+"Month",q[v]=M+"FullYear",q[u]=M+"Hours",q[l]=M+"Minutes",q[o]=M+"Seconds",q[s]=M+"Milliseconds",q)[Q],X=Q===c?this.$D+(Y-this.$W):Y;if(Q===f||Q===v){var de=this.clone().set(A,1);de.$d[U](X),de.init(),this.$d=de.set(A,Math.min(this.$D,de.daysInMonth())).$d}else U&&this.$d[U](X);return this.init(),this},F.set=function(L,Y){return this.clone().$set(L,Y)},F.get=function(L){return this[D.p(L)]()},F.add=function(L,Y){var q,Q=this;L=Number(L);var M=D.p(Y),U=function(z){var pe=k(Q);return D.w(pe.date(pe.date()+Math.round(z*L)),Q)};if(M===f)return this.set(f,this.$M+L);if(M===v)return this.set(v,this.$y+L);if(M===c)return U(1);if(M===h)return U(7);var X=(q={},q[l]=r,q[u]=i,q[o]=n,q)[M]||1,de=this.$d.getTime()+L*X;return D.w(de,this)},F.subtract=function(L,Y){return this.add(-1*L,Y)},F.format=function(L){var Y=this,q=this.$locale();if(!this.isValid())return q.invalidDate||b;var Q=L||"YYYY-MM-DDTHH:mm:ssZ",M=D.z(this),U=this.$H,X=this.$m,de=this.$M,z=q.weekdays,pe=q.months,se=q.meridiem,me=function(be,je,Xe,Ue){return be&&(be[je]||be(Y,Q))||Xe[je].slice(0,Ue)},Ee=function(be){return D.s(U%12||12,be,"0")},Re=se||function(be,je,Xe){var Ue=be<12?"AM":"PM";return Xe?Ue.toLowerCase():Ue};return Q.replace(w,function(be,je){return je||function(Xe){switch(Xe){case"YY":return String(Y.$y).slice(-2);case"YYYY":return D.s(Y.$y,4,"0");case"M":return de+1;case"MM":return D.s(de+1,2,"0");case"MMM":return me(q.monthsShort,de,pe,3);case"MMMM":return me(pe,de);case"D":return Y.$D;case"DD":return D.s(Y.$D,2,"0");case"d":return String(Y.$W);case"dd":return me(q.weekdaysMin,Y.$W,z,2);case"ddd":return me(q.weekdaysShort,Y.$W,z,3);case"dddd":return z[Y.$W];case"H":return String(U);case"HH":return D.s(U,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return Re(U,X,!0);case"A":return Re(U,X,!1);case"m":return String(X);case"mm":return D.s(X,2,"0");case"s":return String(Y.$s);case"ss":return D.s(Y.$s,2,"0");case"SSS":return D.s(Y.$ms,3,"0");case"Z":return M}return null}(be)||M.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(L,Y,q){var Q,M=this,U=D.p(Y),X=k(L),de=(X.utcOffset()-this.utcOffset())*r,z=this-X,pe=function(){return D.m(M,X)};switch(U){case v:Q=pe()/12;break;case f:Q=pe();break;case m:Q=pe()/3;break;case h:Q=(z-de)/6048e5;break;case c:Q=(z-de)/864e5;break;case u:Q=z/i;break;case l:Q=z/r;break;case o:Q=z/n;break;default:Q=z}return q?Q:D.a(Q)},F.daysInMonth=function(){return this.endOf(f).$D},F.$locale=function(){return P[this.$L]},F.locale=function(L,Y){if(!L)return this.$L;var q=this.clone(),Q=V(L,Y,!0);return Q&&(q.$L=Q),q},F.clone=function(){return D.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},G}(),B=H.prototype;return k.prototype=B,[["$ms",s],["$s",o],["$m",l],["$H",u],["$W",c],["$M",f],["$y",v],["$D",A]].forEach(function(G){B[G[1]]=function(F){return this.$g(F,G[0],G[1])}}),k.extend=function(G,F){return G.$i||(G(F,H,k),G.$i=!0),k},k.locale=V,k.isDayjs=j,k.unix=function(G){return k(1e3*G)},k.en=P[E],k.Ls=P,k.p={},k})}(Lm)),Lm.exports}var Zq=Xq();const Zs=Cr(Zq);function z_(e){return!!e}function eW(e){return[...Array(e).keys()]}const tW=250,p1=(e,t=0,n=1/0)=>e.filter(an).filter(r=>al([r])>=t).filter(r=>Rh([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),nW=(e,t)=>{const[n,...r]=e.filter(an),i=[[n]];return r.forEach(s=>{const o=i.at(-1),l=Rh(o);(al([s])-l)*t>tW?i.push([s]):o.push(s)}),i},HO=(e,t)=>e+t,pI=e=>{const t=e.map(n=>n.reduce(HO,0));return Math.max(...t)-Math.min(...t)},rW=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var u;if(((u=n[s+1])==null?void 0:u.length)<2)return;const[o,...l]=n[s+1];n[s].push(o),n[s+1]=l};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},iW=e=>e.reduce(HO,0);function wx(e,t){const r=Pd(t);if(e.sections.length<9)return[];const i=nW(e.sections,r);let s=[],o=[p1(i[0])];for(let l=0;l<i.length-2;l++){const u=i[s.flat().length-1]??[],h=p1(e.sections,Rh(u)??0)/(10-s.length),f=p1(i[l+1]),m=iW(o);m+f<h?o=[...o,f]:h-m<m+f-h?(s.push(o),o=[f]):(s.push([...o,f]),o=[])}for(let l=0;l<100;l++){const u=pI(s),c=eW((s.length-2)*2+2).map(v=>rW(s,v)),h=c.map(pI),f=Math.min(...h);if(u<=f)break;const m=h.indexOf(f);s=c[m]}return s.map(l=>l.length).reduce((l,u)=>[...l,(l.at(-1)??0)+u],[]).map(l=>Rh(i[l-1]))}var Nm={exports:{}},sW=Nm.exports,gI;function oW(){return gI||(gI=1,function(e,t){(function(n,r){e.exports=r()})(sW,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:"A",Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:"A",Ǻ:"A",Ḁ:"A","Ⱥ":"A",Ã:"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C","Ȼ":"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ð:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E","Ɇ":"E",Ẽ:"E",Ḛ:"E","Ꝫ":"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H","Ⱨ":"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",І:"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS",Ĵ:"J","Ɉ":"J",Ḱ:"K",Ǩ:"K",Ķ:"K","Ⱪ":"K","Ꝃ":"K",Ḳ:"K",Ƙ:"K",Ḵ:"K","Ꝁ":"K","Ꝅ":"K",Ĺ:"L","Ƚ":"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L","Ⱡ":"L","Ꝉ":"L",Ḻ:"L",Ŀ:"L","Ɫ":"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N","Ƞ":"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:"O",Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O","Ꝋ":"O","Ꝍ":"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI","Ꝏ":"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P","Ꝓ":"P",Ƥ:"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",ß:"ss",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T","Ⱦ":"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T","Ɐ":"A","Ꞁ":"L",Ɯ:"M","Ʌ":"V","Ꜩ":"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:"U",Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U","Ꝟ":"V",Ṿ:"V",Ʋ:"V",Ṽ:"V","Ꝡ":"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W","Ⱳ":"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y","Ỿ":"Y",Ȳ:"Y","Ɏ":"Y",Ỹ:"Y",Ї:"YI",Ź:"Z",Ž:"Z",Ẑ:"Z","Ⱬ":"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Þ:"TH",Ĳ:"IJ",Œ:"OE","ᴀ":"A","ᴁ":"AE",ʙ:"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R","ᴊ":"J","ᴋ":"K",ʟ:"L","ᴌ":"L","ᴍ":"M",ɴ:"N","ᴏ":"O",ɶ:"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P",ʀ:"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W",ʏ:"Y","ᴢ":"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:"a",ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a","ᶏ":"a",ẚ:"a",å:"a",ǻ:"a",ḁ:"a","ⱥ":"a",ã:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b","ᵬ":"b","ᶀ":"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c","ȼ":"c",ď:"d",ḑ:"d",ḓ:"d","ȡ":"d",ḋ:"d",ḍ:"d",ɗ:"d","ᶑ":"d",ḏ:"d","ᵭ":"d","ᶁ":"d",đ:"d",ɖ:"d",ƌ:"d",ð:"d",ı:"i","ȷ":"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e","ⱸ":"e",ę:"e","ᶒ":"e","ɇ":"e",ẽ:"e",ḛ:"e","ꝫ":"et",ḟ:"f",ƒ:"f","ᵮ":"f","ᶂ":"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g","ᶃ":"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h","ⱨ":"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i","ᶖ":"i",ɨ:"i",ĩ:"i",ḭ:"i",і:"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is",ǰ:"j",ĵ:"j",ʝ:"j","ɉ":"j",ḱ:"k",ǩ:"k",ķ:"k","ⱪ":"k","ꝃ":"k",ḳ:"k",ƙ:"k",ḵ:"k","ᶄ":"k","ꝁ":"k","ꝅ":"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l","ȴ":"l",ḷ:"l",ḹ:"l","ⱡ":"l","ꝉ":"l",ḻ:"l",ŀ:"l",ɫ:"l","ᶅ":"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s","ẜ":"s",ẛ:"s","ẝ":"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m","ᵯ":"m","ᶆ":"m",ń:"n",ň:"n",ņ:"n",ṋ:"n","ȵ":"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n","ᵰ":"n","ᶇ":"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:"o",ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o","ꝋ":"o","ꝍ":"o","ⱺ":"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi","ꝏ":"oo",ɛ:"e","ᶓ":"e",ɔ:"o","ᶗ":"o",ȣ:"ou",ṕ:"p",ṗ:"p","ꝓ":"p",ƥ:"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q",ʠ:"q","ɋ":"q","ꝗ":"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r","ᵳ":"r",ȓ:"r",ṟ:"r",ɼ:"r","ᵲ":"r","ᶉ":"r","ɍ":"r",ɽ:"r","ↄ":"c","ꜿ":"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s","ᵴ":"s","ᶊ":"s","ȿ":"s",ɡ:"g","ᴑ":"o","ᴓ":"o","ᴝ":"u",ť:"t",ţ:"t",ṱ:"t",ț:"t","ȶ":"t",ẗ:"t","ⱦ":"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t","ᵵ":"t",ƫ:"t",ʈ:"t",ŧ:"t","ᵺ":"th",ɐ:"a","ᴂ":"ae",ǝ:"e","ᵷ":"g",ɥ:"h","ʮ":"h","ʯ":"h","ᴉ":"i",ʞ:"k","ꞁ":"l",ɯ:"m",ɰ:"m","ᴔ":"oe",ɹ:"r",ɻ:"r",ɺ:"r","ⱹ":"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y","ꜩ":"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u","ᶙ":"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v",ṿ:"v",ʋ:"v","ᶌ":"v","ⱱ":"v",ṽ:"v","ꝡ":"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w","ⱳ":"w",ẘ:"w",ẍ:"x",ẋ:"x","ᶍ":"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y","ỿ":"y",ȳ:"y",ẙ:"y","ɏ":"y",ỹ:"y",ї:"yi",ź:"z",ž:"z",ẑ:"z",ʑ:"z","ⱬ":"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z","ᵶ":"z","ᶎ":"z",ʐ:"z",ƶ:"z","ɀ":"z",þ:"th",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x",Ё:"YO",Й:"I",Ц:"TS",У:"U",К:"K",Е:"E",Н:"N",Г:"G",Ґ:"G",Ш:"SH",Щ:"SCH",З:"Z",Х:"H",Ъ:"'",ё:"yo",й:"i",ц:"ts",у:"u",к:"k",е:"e",н:"n",г:"g",ґ:"g",ш:"sh",щ:"sch",з:"z",х:"h",ъ:"'",Ф:"F",Ы:"I",В:"V",А:"a",П:"P",Р:"R",О:"O",Л:"L",Д:"D",Ж:"ZH",Э:"E",ф:"f",ы:"i",в:"v",а:"a",п:"p",р:"r",о:"o",л:"l",д:"d",ж:"zh",э:"e",Я:"Ya",Ч:"CH",С:"S",М:"M",И:"I",Т:"T",Ь:"'",Б:"B",Ю:"YU",я:"ya",ч:"ch",с:"s",м:"m",и:"i",т:"t",ь:"'",б:"b",ю:"yu"},n})}(Nm)),Nm.exports}var aW=oW();const lW=Cr(aW),cW=/[^0-9a-z]/gi;function _c(e){return Ex(e).toLowerCase().normalize("NFKD").replace(cW,"")}function Ex(e){return lW(e)}function GO(e){return Ex(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function Cx(e){return e.id?e.id:GO(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const mI=(e,t,n)=>n>=e&&n<=t,vI=e=>e.notes.map(t=>t.lyrics).join(""),yI=e=>new Set(_c(e)).size,uW=(e,t)=>{const n=e.reduce((i,s)=>`${i}${vI(s)}`,""),r=vI(t);return yI(n)/yI(r)<.5},dW=(e,t)=>{const n=t.start,r=ud(t),i=e.filter(o=>{const l=o.start,u=ud(o);return mI(n,r,l)||mI(n,r,u)||l<=n&&u>=r}),s=uW(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function qO(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(an)),r=n[1].map(o=>dW(n[0],o));let i=[...n[0]];r.forEach((o,l)=>{o.shouldReplace&&(i=i.filter(u=>!o.sectionsToRemove.some(c=>c.start===u.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,l)=>o.start-l.start),changes:[]};return s.changes=wx(s,t),s}const AI={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},fW={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},hW=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function pW(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!hW.includes(t.substring(1).split(":")[0]))}function _n(e,t,n="string"){const r=i=>{var l;const s=new RegExp(`#${i}\\:(.*)`),o=(l=e.match(s))==null?void 0:l[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o.trim()};return t.map(r).filter(z_).at(0)}function gW(e){var r;const t=_n(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const mW=/- -?\d+ -?\d+/;function bI(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function vW(e,t){try{return JSON.parse(e)}catch{return t}}function yW(e){const t=_n(e,["P1"]),n=_n(e,["P2"]);return t||n?[t,n]:vW(_n(e,["TRACKNAMES"]),[])}function AW(e,t,n,r,i){var v,A;const s=yW(e),o={year:_n(e,["YEAR"]),artistOrigin:_n(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:_n(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:_n(e,["EDITION"]),genre:_n(e,["GENRE"]),videoGap:_n(e,["VIDEOGAP"],"number"),realBpm:_n(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:_n(e,["PREVIEWSTART"],"number"),previewEnd:_n(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:_n(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:_n(e,["CREATOR"])??n,authorUrl:_n(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:_n(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const l=_n(e,["TITLE"])??"",u=_n(e,["ARTIST"])??"",c=_n(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??bI(_n(e,["AUDIOURL"])??"")??bI(_n(e,["VIDEOURL"])??"")??gW(e)??"",h={id:_n(e,["ALLKARAOKE_ID","ID"])??Cx({title:l,artist:u}),title:l,artist:u,video:c,language:_n(e,["LANGUAGE"],"array")??[],bpm:Number(((v=_n(e,["BPM"]))==null?void 0:v.replace(",","."))??0),bar:4,gap:Number(((A=_n(e,["GAP"]))==null?void 0:A.replace(",","."))??0),...o,tracks:[],unsupportedProps:pW(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)h.video=t;else if(t)try{const b=new URL(t);h.video=b.searchParams.get("v")||"Invalid link"}catch(b){h.video=`Invalid link: ${b.message}`}let f=[],m=0;return e.split(`
`).forEach(b=>{if(b.startsWith("#"))return;const S=b.split(" ");if(Number(S[1])<m*.75&&f.length&&(s[h.tracks.length]?h.tracks.push({sections:f,name:s[h.tracks.length],changes:[]}):h.tracks.push({sections:f,changes:[]}),f=[]),mW.test(b)){const[,w,I]=S;f.push({start:Number(w),end:Number(I),type:"pause"}),f.push({start:Number(I),type:"notes",notes:[]}),m=Number(I)}else if(b.startsWith("-"))f.push({start:Number(b.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(AI).includes(b[0])){f.length===0&&(f=[{start:0,notes:[],type:"notes"}]);const w=f[f.length-1],[I,R,T,E,...P]=S;w.notes.push({type:AI[I]??"normal",start:Number(R),length:Number(T),pitch:Number(E),lyrics:P.join(" ")}),m=Number(S[1])}}),s[h.tracks.length]?h.tracks.push({sections:f,name:s[h.tracks.length],changes:[]}):h.tracks.push({sections:f,changes:[]}),h.tracks=h.tracks.map(b=>({...b,sections:b.sections.filter(S=>S.type==="pause"||S.notes.length),changes:[]})).map(b=>({...b,changes:wx(b,h)})),h.mergedTrack=qO(h.tracks,h),h}const WO="CURRENT_VISIT_KEY",KO="LAST_VISIT_KEY",bW=3*60*60*1e3,Rv=Date.now();var S5;const g1=Number(((S5=ot.local)==null?void 0:S5.getItem(WO))??Rv);var x5;const YO=((x5=ot.local)==null?void 0:x5.getItem("posthog-user-id"))===null,_W=YO?Rv:1673642382501;var w5;let QO=Number(((w5=ot.local)==null?void 0:w5.getItem(KO))??_W);var E5;(YO||Rv-g1>bW)&&((E5=ot.local)==null||E5.setItem(KO,String(g1)),QO=g1);var C5;(C5=ot.local)==null||C5.setItem(WO,String(Rv));const SW=e=>_c(`${e.artist}${e.title}`),xW=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:Cx(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:al(o)})),search:SW(r),local:i});let If=null;async function Fa(){if(!If)if("localStorage"in globalThis)try{If=Rd(async()=>{const{default:e}=await Promise.resolve().then(()=>rV);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),If=Promise.resolve(ot.memory)}else If=Promise.resolve(ot.memory);return If}const Ug="DELETED_SONGS_V2";class wW{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await Fa())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(AW).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await Fa())==null?void 0:n.getItem(Ug))??[]},this.generateSongFile=t=>Cx(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(l=>l.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=Zs(QO),s=n.filter(l=>{const u=t.find(c=>c.id===l.id);return u?Zs(l.lastUpdate??0).isAfter(Zs(u.lastUpdate??0)):!0}),o=s.map(l=>l.id);n.forEach(async l=>{o.includes(l.id)||(await Fa()).removeItem(l.id)}),this.indexWithDeletedSongs=[...s,...t.filter(l=>!o.includes(this.generateSongFile(l)))].map(l=>({...l,isNew:l.lastUpdate?Zs(l.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(l))})),this.indexWithDeletedSongs.sort((l,u)=>`${l.artist} ${l.title}`.localeCompare(`${u.artist} ${u.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(l=>!l.isDeleted)},this.deleteSong=async t=>(await(await Fa()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await Fa()).setItem(Ug,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await Fa()).setItem(Ug,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await Fa())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:qO(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:wx(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return xW(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Ug];return(await(await Fa()).keys()).filter(n=>!t.includes(n))}}}const is=new wW,JO="room_id_key",ch=5,XO=e=>{ot.session.setItem(JO,e)};class EW{constructor(){var t;if(this.gameCode=ot.session.getItem(JO),this.started=!1,this.start=()=>{if(!this.transport){const n=y0.get();this.transport=n==="WebSockets"?new Yq:n==="PartyKit"?new xq:new Kq}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),XO(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,o;const i=n.t;if(i==="register")Mt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Mt.removeRemoteMic(r.peer);else if(i==="subscribe-event")Mt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Mt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Mt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([is.getLocalIndex(),is.getDeletedSongsList()]).then(([l,u])=>{r.send({t:"songlist",custom:l.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:u})});else if(i==="get-microphone-lag-request"){const l=Mt.getRemoteMicById(r.peer);l&&r.send({t:"get-microphone-lag-response",value:l.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const l=Mt.getRemoteMicById(r.peer);l&&(l.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:l.getInput().getInputLag()}))}else Mt.getPermission(r.peer)==="write"&&(i==="keystroke"?ve.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?ve.remoteSongSearch.dispatch(n.search):i==="select-song"?ve.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?ve.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:sh.get()}):i==="remove-player"?(o=this.transport)==null||o.removePlayer(n.id):i==="set-game-input-lag-request"&&(sh.set(n.value),r.send({t:"get-game-input-lag-response",value:sh.get()})))}),ve.micServerStarted.dispatch()},()=>{ve.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=y0.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<ch-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Mt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const cc=new EW,Sc=e=>`${e.deviceId};${e.channel}`,_I=[{channels:2,channel:1,label:"Drawing Test Input",id:Sc({deviceId:"default",channel:1}),deviceId:"default"}],Ql=class Ql{};Ql.inputName="DrawingTest",Ql.getDefault=()=>_I[0],Ql.getInputs=async()=>_I,Ql.subscribeToListChange=t=>{},Ql.unsubscribeToListChange=t=>{};let U_=Ql;const SI=[{channels:2,channel:0,label:"Dummy Input 1",id:Sc({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:Sc({deviceId:"default",channel:1}),deviceId:"default"}],Jl=class Jl{};Jl.inputName="Dummy",Jl.getDefault=()=>SI[0],Jl.getInputs=async()=>SI,Jl.subscribeToListChange=t=>{},Jl.unsubscribeToListChange=t=>{};let T0=Jl;var CW=Math.ceil,kW=Math.max;function TW(e,t,n,r){for(var i=-1,s=kW(CW((t-e)/(n||1)),0),o=Array(s);s--;)o[++i]=e,e+=n;return o}var IW=9007199254740991;function kx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=IW}function Tx(e){return e!=null&&kx(e.length)&&!jO(e)}var RW=9007199254740991,PW=/^(?:0|[1-9]\d*)$/;function Ix(e,t){var n=typeof e;return t=t??RW,!!t&&(n=="number"||n!="symbol"&&PW.test(e))&&e>-1&&e%1==0&&e<t}function MW(e,t,n){if(!no(n))return!1;var r=typeof t;return(r=="number"?Tx(n)&&Ix(t,n.length):r=="string"&&t in n)?xv(n[t],e):!1}var xI=1/0,jW=17976931348623157e292;function Bm(e){if(!e)return e===0?e:0;if(e=D_(e),e===xI||e===-xI){var t=e<0?-1:1;return t*jW}return e===e?e:0}function OW(e){return function(t,n,r){return r&&typeof r!="number"&&MW(t,n,r)&&(n=r=void 0),t=Bm(t),n===void 0?(n=t,t=0):n=Bm(n),r=r===void 0?t<n?1:-1:Bm(r),TW(t,n,r)}}var VW=OW();const H_={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},G_={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},q_={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},LW=(...[e,t,n])=>G_.test(e,t,n)||H_.test(e,t,n)||q_.test(e,t,n)?t:void 0,NW=(e,t,n)=>H_.test(e,t,n)?H_.map(e,t):G_.test(e,t,n)?G_.map(e,t):q_.test(e,t,n)?q_.map(e,t):n>1?`${e} (ch ${t+1})`:e,gs=class gs{};gs.inputList=[],gs.inputName="Microphone",gs.getDefault=()=>gs.inputList.find(t=>t.id===Sc({deviceId:"default",channel:0}))??gs.inputList[0]??null,gs.getInputs=async()=>{let t=[];try{await il.getUserMedia({audio:!0,video:!1}),t=await il.enumerateDevices()}catch(r){Ps(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await il.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return VW(0,i).map(s=>({label:NW(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:Sc({deviceId:r.deviceId,channel:s}),preferred:LW(r.label,s,i)}))}));return gs.inputList=n.flat(),gs.inputList},gs.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),gs.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let la=gs;const wI=e=>({label:`📱${e.name}`,id:Sc({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Xl=class Xl{};Xl.inputName="Remote Microphone",Xl.getDefault=()=>Mt.getRemoteMics().map(wI)[0]??null,Xl.getInputs=async()=>Mt.getRemoteMics().map(wI),Xl.subscribeToListChange=t=>{ve.remoteMicConnected.subscribe(t),ve.remoteMicDisconnected.subscribe(t)},Xl.unsubscribeToListChange=t=>{ve.remoteMicConnected.unsubscribe(t),ve.remoteMicDisconnected.unsubscribe(t)};let pa=Xl;const BW=e=>`${e.deviceId};${e.channel}`;class DW{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,this.inputList[t.inputName].initialised=!0,ve.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),ve.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault,initialised:!1}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(la))},this.getInputList=()=>this.inputList,this.isPlayerInputInitialised=t=>this.inputList[t.source].initialised,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===BW(t))??(n?r.getDefault():null)},this.inputList={[la.inputName]:this.initialiseInputSource(la,!0),[T0.inputName]:this.initialiseInputSource(T0),[pa.inputName]:this.initialiseInputSource(pa)}}}const Io=new DW,EI="playerselectedinputs",I0=4,rv=class rv{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let l=null;nr.monitoringStarted()&&(l=nr.stopMonitoring());const u={source:i,deviceId:o,channel:s},c=this.input;this.input=u,ve.playerInputChanged.dispatch(this.number,c,u),l&&l.then(nr.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,ve.playerNameChanged.dispatch(this.number,s)}}};rv.fromJSON=t=>new rv(t.number,t.input,t.name);let Nu=rv;class FW{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{ot.session.setItem(EI,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>Io.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>nr.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{ve.readinessConfirmed.dispatch(s.input.deviceId)}))),ve.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};ve.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,ve.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(ct.isPlaying()||this.getPlayer(n))return;const r=new Nu(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),ve.playerAdded.dispatch(r.number),ve.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(ct.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(I0).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),ve.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=ot.session.getItem(EI)??[];t.length?(this.players=t.map(Nu.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&Io.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&cc.start()):this.players=[new Nu(0,{source:"Dummy",deviceId:"default",channel:0}),new Nu(1,{source:"Dummy",deviceId:"default",channel:1})],ve.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=Mt.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),ve.playerNameChanged.subscribe(IO(this.storePlayers,1e3)),ve.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const it=new FW;class $W{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=it.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=it.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=it.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=it.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=it.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{const t=it.getPlayers().map(n=>n.input);await Promise.all(t.map(n=>this.sourceNameToInput(n.source).startMonitoring(n.deviceId,t))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(it.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===la.inputName?JH:t===U_.inputName?R$:t===pa.inputName?ZH:M$,ve.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const nr=new $W;function ZO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ZO(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Xa(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ZO(e))&&(r&&(r+=" "),r+=t);return r}const uh=e=>typeof e=="number"&&!isNaN(e),xc=e=>typeof e=="string",Ni=e=>typeof e=="function",Dm=e=>xc(e)||Ni(e)?e:null,m1=e=>x.isValidElement(e)||xc(e)||Ni(e)||uh(e);function zW(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Pv(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:l,position:u,preventExitTransition:c,done:h,nodeRef:f,isIn:m}=o;const v=r?`${t}--${u}`:t,A=r?`${n}--${u}`:n,b=x.useRef(0);return x.useLayoutEffect(()=>{const S=f.current,w=v.split(" "),I=R=>{R.target===f.current&&(S.dispatchEvent(new Event("d")),S.removeEventListener("animationend",I),S.removeEventListener("animationcancel",I),b.current===0&&R.type!=="animationcancel"&&S.classList.remove(...w))};S.classList.add(...w),S.addEventListener("animationend",I),S.addEventListener("animationcancel",I)},[]),x.useEffect(()=>{const S=f.current,w=()=>{S.removeEventListener("animationend",w),i?zW(S,h,s):h()};m||(c?w():(b.current=1,S.className+=` ${A}`,S.addEventListener("animationend",w)))},[m]),Je.createElement(Je.Fragment,null,l)}}function CI(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const vs={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Hg=e=>{let{theme:t,type:n,...r}=e;return Je.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},v1={info:function(e){return Je.createElement(Hg,{...e},Je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Je.createElement(Hg,{...e},Je.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Je.createElement(Hg,{...e},Je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Je.createElement(Hg,{...e},Je.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Je.createElement("div",{className:"Toastify__spinner"})}};function UW(e){const[,t]=x.useReducer(v=>v+1,0),[n,r]=x.useState([]),i=x.useRef(null),s=x.useRef(new Map).current,o=v=>n.indexOf(v)!==-1,l=x.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:v=>s.get(v)}).current;function u(v){let{containerId:A}=v;const{limit:b}=l.props;!b||A&&l.containerId!==A||(l.count-=l.queue.length,l.queue=[])}function c(v){r(A=>v==null?[]:A.filter(b=>b!==v))}function h(){const{toastContent:v,toastProps:A,staleId:b}=l.queue.shift();m(v,A,b)}function f(v,A){let{delay:b,staleId:S,...w}=A;if(!m1(v)||function(H){return!i.current||l.props.enableMultiContainer&&H.containerId!==l.props.containerId||s.has(H.toastId)&&H.updateId==null}(w))return;const{toastId:I,updateId:R,data:T}=w,{props:E}=l,P=()=>c(I),N=R==null;N&&l.count++;const j={...E,style:E.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(w).filter(H=>{let[B,G]=H;return G!=null})),toastId:I,updateId:R,data:T,closeToast:P,isIn:!1,className:Dm(w.className||E.toastClassName),bodyClassName:Dm(w.bodyClassName||E.bodyClassName),progressClassName:Dm(w.progressClassName||E.progressClassName),autoClose:!w.isLoading&&(V=w.autoClose,k=E.autoClose,V===!1||uh(V)&&V>0?V:k),deleteToast(){const H=CI(s.get(I),"removed");s.delete(I),vs.emit(4,H);const B=l.queue.length;if(l.count=I==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),B>0){const G=I==null?l.props.limit:1;if(B===1||G===1)l.displayedToast++,h();else{const F=G>B?B:G;l.displayedToast=F;for(let L=0;L<F;L++)h()}}else t()}};var V,k;j.iconOut=function(H){let{theme:B,type:G,isLoading:F,icon:L}=H,Y=null;const q={theme:B,type:G};return L===!1||(Ni(L)?Y=L(q):x.isValidElement(L)?Y=x.cloneElement(L,q):xc(L)||uh(L)?Y=L:F?Y=v1.spinner():(Q=>Q in v1)(G)&&(Y=v1[G](q))),Y}(j),Ni(w.onOpen)&&(j.onOpen=w.onOpen),Ni(w.onClose)&&(j.onClose=w.onClose),j.closeButton=E.closeButton,w.closeButton===!1||m1(w.closeButton)?j.closeButton=w.closeButton:w.closeButton===!0&&(j.closeButton=!m1(E.closeButton)||E.closeButton);let D=v;x.isValidElement(v)&&!xc(v.type)?D=x.cloneElement(v,{closeToast:P,toastProps:j,data:T}):Ni(v)&&(D=v({closeToast:P,toastProps:j,data:T})),E.limit&&E.limit>0&&l.count>E.limit&&N?l.queue.push({toastContent:D,toastProps:j,staleId:S}):uh(b)?setTimeout(()=>{m(D,j,S)},b):m(D,j,S)}function m(v,A,b){const{toastId:S}=A;b&&s.delete(b);const w={content:v,props:A};s.set(S,w),r(I=>[...I,S].filter(R=>R!==b)),vs.emit(4,CI(w,w.props.updateId==null?"added":"updated"))}return x.useEffect(()=>(l.containerId=e.containerId,vs.cancelEmit(3).on(0,f).on(1,v=>i.current&&c(v)).on(5,u).emit(2,l),()=>{s.clear(),vs.emit(3,l)}),[]),x.useEffect(()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(v){const A=new Map,b=Array.from(s.values());return e.newestOnTop&&b.reverse(),b.forEach(S=>{const{position:w}=S.props;A.has(w)||A.set(w,[]),A.get(w).push(S)}),Array.from(A,S=>v(S[0],S[1]))},containerRef:i,isToastActive:o}}function kI(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function TI(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function HW(e){const[t,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),o=x.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=x.useRef(e),{autoClose:u,pauseOnHover:c,closeToast:h,onClick:f,closeOnClick:m}=e;function v(T){if(e.draggable){T.nativeEvent.type==="touchstart"&&T.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",I),document.addEventListener("touchmove",w),document.addEventListener("touchend",I);const E=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=E.getBoundingClientRect(),E.style.transition="",o.x=kI(T.nativeEvent),o.y=TI(T.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=E.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=E.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function A(T){if(o.boundingRect){const{top:E,bottom:P,left:N,right:j}=o.boundingRect;T.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=N&&o.x<=j&&o.y>=E&&o.y<=P?S():b()}}function b(){n(!0)}function S(){n(!1)}function w(T){const E=s.current;o.canDrag&&E&&(o.didMove=!0,t&&S(),o.x=kI(T),o.y=TI(T),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),E.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,E.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function I(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",I),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",I);const T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();T.style.transition="transform 0.2s, opacity 0.2s",T.style.transform=`translate${e.draggableDirection}(0)`,T.style.opacity="1"}}x.useEffect(()=>{l.current=e}),x.useEffect(()=>(s.current&&s.current.addEventListener("d",b,{once:!0}),Ni(e.onOpen)&&e.onOpen(x.isValidElement(e.children)&&e.children.props),()=>{const T=l.current;Ni(T.onClose)&&T.onClose(x.isValidElement(T.children)&&T.children.props)}),[]),x.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||S(),window.addEventListener("focus",b),window.addEventListener("blur",S)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",S))}),[e.pauseOnFocusLoss]);const R={onMouseDown:v,onTouchStart:v,onMouseUp:A,onTouchEnd:A};return u&&c&&(R.onMouseEnter=S,R.onMouseLeave=b),m&&(R.onClick=T=>{f&&f(T),o.canCloseOnClick&&h()}),{playToast:b,pauseToast:S,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:R}}function eV(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Je.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Je.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Je.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function GW(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:u,progress:c,rtl:h,isIn:f,theme:m}=e;const v=s||u&&c===0,A={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:v?0:1};u&&(A.transform=`scaleX(${c})`);const b=Xa("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),S=Ni(o)?o({rtl:h,type:i,defaultClassName:b}):Xa(b,o);return Je.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:S,style:A,[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{f&&r()}})}const qW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=HW(e),{closeButton:s,children:o,autoClose:l,onClick:u,type:c,hideProgressBar:h,closeToast:f,transition:m,position:v,className:A,style:b,bodyClassName:S,bodyStyle:w,progressClassName:I,progressStyle:R,updateId:T,role:E,progress:P,rtl:N,toastId:j,deleteToast:V,isIn:k,isLoading:D,iconOut:H,closeOnClick:B,theme:G}=e,F=Xa("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":B}),L=Ni(A)?A({rtl:N,position:v,type:c,defaultClassName:F}):Xa(F,A),Y=!!P||!l,q={closeToast:f,type:c,theme:G};let Q=null;return s===!1||(Q=Ni(s)?s(q):x.isValidElement(s)?x.cloneElement(s,q):eV(q)),Je.createElement(m,{isIn:k,done:V,position:v,preventExitTransition:n,nodeRef:r},Je.createElement("div",{id:j,onClick:u,className:L,...i,style:b,ref:r},Je.createElement("div",{...k&&{role:E},className:Ni(S)?S({type:c}):Xa("Toastify__toast-body",S),style:w},H!=null&&Je.createElement("div",{className:Xa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},H),Je.createElement("div",null,o)),Q,Je.createElement(GW,{...T&&!Y?{key:`pb-${T}`}:{},rtl:N,theme:G,delay:l,isRunning:t,isIn:k,closeToast:f,hide:h,type:c,style:R,className:I,controlledProgress:Y,progress:P||0})))},Mv=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},WW=Pv(Mv("bounce",!0));Pv(Mv("slide",!0));Pv(Mv("zoom"));Pv(Mv("flip"));const W_=x.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=UW(e),{className:s,style:o,rtl:l,containerId:u}=e;function c(h){const f=Xa("Toastify__toast-container",`Toastify__toast-container--${h}`,{"Toastify__toast-container--rtl":l});return Ni(s)?s({position:h,rtl:l,defaultClassName:f}):Xa(f,Dm(s))}return x.useEffect(()=>{t&&(t.current=r.current)},[]),Je.createElement("div",{ref:r,className:"Toastify",id:u},n((h,f)=>{const m=f.length?{...o}:{...o,pointerEvents:"none"};return Je.createElement("div",{className:c(h),style:m,key:`container-${h}`},f.map((v,A)=>{let{content:b,props:S}=v;return Je.createElement(qW,{...S,isIn:i(S.toastId),style:{...S.style,"--nth":A+1,"--len":f.length},key:`toast-${S.key}`},b)}))}))});W_.displayName="ToastContainer",W_.defaultProps={position:"top-right",transition:WW,autoClose:5e3,closeButton:eV,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let y1,Gl=new Map,Wf=[],KW=1;function tV(){return""+KW++}function YW(e){return e&&(xc(e.toastId)||uh(e.toastId))?e.toastId:tV()}function dh(e,t){return Gl.size>0?vs.emit(0,e,t):Wf.push({content:e,options:t}),t.toastId}function R0(e,t){return{...t,type:t&&t.type||e,toastId:YW(t)}}function Gg(e){return(t,n)=>dh(t,R0(e,n))}function bn(e,t){return dh(e,R0("default",t))}bn.loading=(e,t)=>dh(e,R0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),bn.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=xc(i)?bn.loading(i,n):bn.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,f,m)=>{if(f==null)return void bn.dismiss(r);const v={type:h,...l,...n,data:m},A=xc(f)?{render:f}:f;return r?bn.update(r,{...v,...A}):bn(A.render,{...v,...A}),m},c=Ni(e)?e():e;return c.then(h=>u("success",o,h)).catch(h=>u("error",s,h)),c},bn.success=Gg("success"),bn.info=Gg("info"),bn.error=Gg("error"),bn.warning=Gg("warning"),bn.warn=bn.warning,bn.dark=(e,t)=>dh(e,R0("default",{theme:"dark",...t})),bn.dismiss=e=>{Gl.size>0?vs.emit(1,e):Wf=Wf.filter(t=>e!=null&&t.options.toastId!==e)},bn.clearWaitingQueue=function(e){return e===void 0&&(e={}),vs.emit(5,e)},bn.isActive=e=>{let t=!1;return Gl.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},bn.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Gl.get(s||y1);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:tV()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,dh(o,s)}},0)},bn.done=e=>{bn.update(e,{progress:1})},bn.onChange=e=>(vs.on(4,e),()=>{vs.off(4,e)}),bn.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},bn.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},vs.on(2,e=>{y1=e.containerId||e,Gl.set(y1,e),Wf.forEach(t=>{vs.emit(0,t.content,t.options)}),Wf=[]}).on(3,e=>{Gl.delete(e.containerId||e),Gl.size===0&&vs.off(0).off(1).off(5)});ve.playerRemoved.subscribe(e=>{if(e.input.source===pa.inputName){const t=Mt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});ve.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===pa.inputName){const i=(r=it.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=Mt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Mt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});ve.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=it.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Mt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),nr.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});ve.playerChangeRequested.subscribe((e,t)=>{var r;const n=it.getPlayers().find(i=>i.input.deviceId===e);if(n&&it.removePlayer(n.number),t!==null){const i=it.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=it.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});ve.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||bn.success(p.jsxs(p.Fragment,{children:["Remote microphone ",p.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});ve.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||bn.warning(p.jsxs(p.Fragment,{children:["Remote microphone ",p.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const Rx=()=>{const e=Mt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=it.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Mt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};ve.inputListChanged.subscribe(Rx);ve.playerInputChanged.subscribe(Rx);ve.remoteMicSubscribed.subscribe(Rx);const nV=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],l)=>{var h;const u=o.length>1&&o.every(f=>f.score===o[0].score),c={};if(it.getPlayers().forEach((f,m)=>c[`input${m}`]=f.input.source),e==="songEnded")try{const f=(h=ct.getPlayer(0))==null?void 0:h.getPlayerNotes().filter(v=>C0(v)===0).map(v=>v.frequencyRecords).flat().map(v=>[v.timestamp,v.frequency]).map((v,A,b)=>{var S,w;return[v[0]-(((S=b[A-1])==null?void 0:S[0])??0),v[1]-(((w=b[A-1])==null?void 0:w[1])??0)]}).map(v=>[Math.round(v[0]*100),Math.round(v[1]*100)]).map(v=>v[1]===0?v[0]:v),m=r3(f);console.log("compressed",m)}catch(f){Ps(f)}ar.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(f=>f.track),progress:l??null,singId:s.id,sameScores:u,mobilePhoneMode:!!Jr.get(),...c,...o.reduce((f,m,v)=>({...f,[`score${v}`]:m.score}),{}),...s.players.reduce((f,m,v)=>({...f,[`track${v}`]:m.track}),{})})};ve.songStarted.subscribe(nV("songStarted"));ve.songEnded.subscribe(nV("songEnded"));function qg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var A1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var II;function QW(){return II||(II=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,h){if(!i[c]){if(!r[c]){var f=typeof qg=="function"&&qg;if(!h&&f)return f(c,!0);if(l)return l(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var v=i[c]={exports:{}};r[c][0].call(v.exports,function(A){var b=r[c][1][A];return o(b||A)},v,v.exports,n,r,i,s)}return i[c].exports}for(var l=typeof qg=="function"&&qg,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,l;if(o){var u=0,c=new o(A),h=s.document.createTextNode("");c.observe(h,{characterData:!0}),l=function(){h.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=A,l=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?l=function(){var S=s.document.createElement("script");S.onreadystatechange=function(){A(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},s.document.documentElement.appendChild(S)}:l=function(){setTimeout(A,0)};var m,v=[];function A(){m=!0;for(var S,w,I=v.length;I;){for(w=v,v=[],S=-1;++S<I;)w[S]();I=v.length}m=!1}r.exports=b;function b(S){v.push(S)===1&&!m&&l()}}).call(this,typeof vg<"u"?vg:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var l={},u=["REJECTED"],c=["FULFILLED"],h=["PENDING"];r.exports=f;function f(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==o&&b(this,E)}f.prototype.catch=function(E){return this.then(null,E)},f.prototype.then=function(E,P){if(typeof E!="function"&&this.state===c||typeof P!="function"&&this.state===u)return this;var N=new this.constructor(o);if(this.state!==h){var j=this.state===c?E:P;v(N,j,this.outcome)}else this.queue.push(new m(N,E,P));return N};function m(E,P,N){this.promise=E,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},m.prototype.otherCallFulfilled=function(E){v(this.promise,this.onFulfilled,E)},m.prototype.callRejected=function(E){l.reject(this.promise,E)},m.prototype.otherCallRejected=function(E){v(this.promise,this.onRejected,E)};function v(E,P,N){s(function(){var j;try{j=P(N)}catch(V){return l.reject(E,V)}j===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,j)})}l.resolve=function(E,P){var N=S(A,P);if(N.status==="error")return l.reject(E,N.value);var j=N.value;if(j)b(E,j);else{E.state=c,E.outcome=P;for(var V=-1,k=E.queue.length;++V<k;)E.queue[V].callFulfilled(P)}return E},l.reject=function(E,P){E.state=u,E.outcome=P;for(var N=-1,j=E.queue.length;++N<j;)E.queue[N].callRejected(P);return E};function A(E){var P=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof P=="function")return function(){P.apply(E,arguments)}}function b(E,P){var N=!1;function j(H){N||(N=!0,l.reject(E,H))}function V(H){N||(N=!0,l.resolve(E,H))}function k(){P(V,j)}var D=S(k);D.status==="error"&&j(D.value)}function S(E,P){var N={};try{N.value=E(P),N.status="success"}catch(j){N.status="error",N.value=j}return N}f.resolve=w;function w(E){return E instanceof this?E:l.resolve(new this(o),E)}f.reject=I;function I(E){var P=new this(o);return l.reject(P,E)}f.all=R;function R(E){var P=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,j=!1;if(!N)return this.resolve([]);for(var V=new Array(N),k=0,D=-1,H=new this(o);++D<N;)B(E[D],D);return H;function B(G,F){P.resolve(G).then(L,function(Y){j||(j=!0,l.reject(H,Y))});function L(Y){V[F]=Y,++k===N&&!j&&(j=!0,l.resolve(H,V))}}}f.race=T;function T(E){var P=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,j=!1;if(!N)return this.resolve([]);for(var V=-1,k=new this(o);++V<N;)D(E[V]);return k;function D(H){P.resolve(H).then(function(B){j||(j=!0,l.resolve(k,B))},function(B){j||(j=!0,l.reject(k,B))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof vg<"u"?vg:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};function o($,Z){if(!($ instanceof Z))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=l();function c(){try{if(!u||!u.open)return!1;var $=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!$||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function h($,Z){$=$||[],Z=Z||{};try{return new Blob($,Z)}catch(te){if(te.name!=="TypeError")throw te;for(var K=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new K,oe=0;oe<$.length;oe+=1)re.append($[oe]);return re.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var f=Promise;function m($,Z){Z&&$.then(function(K){Z(null,K)},function(K){Z(K)})}function v($,Z,K){typeof Z=="function"&&$.then(Z),typeof K=="function"&&$.catch(K)}function A($){return typeof $!="string"&&(console.warn($+" used as a key, but it is not a string."),$=String($)),$}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var S="local-forage-detect-blob-support",w=void 0,I={},R=Object.prototype.toString,T="readonly",E="readwrite";function P($){for(var Z=$.length,K=new ArrayBuffer(Z),re=new Uint8Array(K),oe=0;oe<Z;oe++)re[oe]=$.charCodeAt(oe);return K}function N($){return new f(function(Z){var K=$.transaction(S,E),re=h([""]);K.objectStore(S).put(re,"key"),K.onabort=function(oe){oe.preventDefault(),oe.stopPropagation(),Z(!1)},K.oncomplete=function(){var oe=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Z(te||!oe||parseInt(oe[1],10)>=43)}}).catch(function(){return!1})}function j($){return typeof w=="boolean"?f.resolve(w):N($).then(function(Z){return w=Z,w})}function V($){var Z=I[$.name],K={};K.promise=new f(function(re,oe){K.resolve=re,K.reject=oe}),Z.deferredOperations.push(K),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return K.promise}):Z.dbReady=K.promise}function k($){var Z=I[$.name],K=Z.deferredOperations.pop();if(K)return K.resolve(),K.promise}function D($,Z){var K=I[$.name],re=K.deferredOperations.pop();if(re)return re.reject(Z),re.promise}function H($,Z){return new f(function(K,re){if(I[$.name]=I[$.name]||X(),$.db)if(Z)V($),$.db.close();else return K($.db);var oe=[$.name];Z&&oe.push($.version);var te=u.open.apply(u,oe);Z&&(te.onupgradeneeded=function(ye){var we=te.result;try{we.createObjectStore($.storeName),ye.oldVersion<=1&&we.createObjectStore(S)}catch(Te){if(Te.name==="ConstraintError")console.warn('The database "'+$.name+'" has been upgraded from version '+ye.oldVersion+" to version "+ye.newVersion+', but the storage "'+$.storeName+'" already exists.');else throw Te}}),te.onerror=function(ye){ye.preventDefault(),re(te.error)},te.onsuccess=function(){var ye=te.result;ye.onversionchange=function(we){we.target.close()},K(ye),k($)}})}function B($){return H($,!1)}function G($){return H($,!0)}function F($,Z){if(!$.db)return!0;var K=!$.db.objectStoreNames.contains($.storeName),re=$.version<$.db.version,oe=$.version>$.db.version;if(re&&($.version!==Z&&console.warn('The database "'+$.name+`" can't be downgraded from version `+$.db.version+" to version "+$.version+"."),$.version=$.db.version),oe||K){if(K){var te=$.db.version+1;te>$.version&&($.version=te)}return!0}return!1}function L($){return new f(function(Z,K){var re=new FileReader;re.onerror=K,re.onloadend=function(oe){var te=btoa(oe.target.result||"");Z({__local_forage_encoded_blob:!0,data:te,type:$.type})},re.readAsBinaryString($)})}function Y($){var Z=P(atob($.data));return h([Z],{type:$.type})}function q($){return $&&$.__local_forage_encoded_blob}function Q($){var Z=this,K=Z._initReady().then(function(){var re=I[Z._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return v(K,$,$),K}function M($){V($);for(var Z=I[$.name],K=Z.forages,re=0;re<K.length;re++){var oe=K[re];oe._dbInfo.db&&(oe._dbInfo.db.close(),oe._dbInfo.db=null)}return $.db=null,B($).then(function(te){return $.db=te,F($)?G($):te}).then(function(te){$.db=Z.db=te;for(var ye=0;ye<K.length;ye++)K[ye]._dbInfo.db=te}).catch(function(te){throw D($,te),te})}function U($,Z,K,re){re===void 0&&(re=1);try{var oe=$.db.transaction($.storeName,Z);K(null,oe)}catch(te){if(re>0&&(!$.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return f.resolve().then(function(){if(!$.db||te.name==="NotFoundError"&&!$.db.objectStoreNames.contains($.storeName)&&$.version<=$.db.version)return $.db&&($.version=$.db.version+1),G($)}).then(function(){return M($).then(function(){U($,Z,K,re-1)})}).catch(K);K(te)}}function X(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function de($){var Z=this,K={db:null};if($)for(var re in $)K[re]=$[re];var oe=I[K.name];oe||(oe=X(),I[K.name]=oe),oe.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=Q);var te=[];function ye(){return f.resolve()}for(var we=0;we<oe.forages.length;we++){var Te=oe.forages[we];Te!==Z&&te.push(Te._initReady().catch(ye))}var ke=oe.forages.slice(0);return f.all(te).then(function(){return K.db=oe.db,B(K)}).then(function(Me){return K.db=Me,F(K,Z._defaultConfig.version)?G(K):Me}).then(function(Me){K.db=oe.db=Me,Z._dbInfo=K;for(var We=0;We<ke.length;We++){var St=ke[We];St!==Z&&(St._dbInfo.db=K.db,St._dbInfo.version=K.version)}})}function z($,Z){var K=this;$=A($);var re=new f(function(oe,te){K.ready().then(function(){U(K._dbInfo,T,function(ye,we){if(ye)return te(ye);try{var Te=we.objectStore(K._dbInfo.storeName),ke=Te.get($);ke.onsuccess=function(){var Me=ke.result;Me===void 0&&(Me=null),q(Me)&&(Me=Y(Me)),oe(Me)},ke.onerror=function(){te(ke.error)}}catch(Me){te(Me)}})}).catch(te)});return m(re,Z),re}function pe($,Z){var K=this,re=new f(function(oe,te){K.ready().then(function(){U(K._dbInfo,T,function(ye,we){if(ye)return te(ye);try{var Te=we.objectStore(K._dbInfo.storeName),ke=Te.openCursor(),Me=1;ke.onsuccess=function(){var We=ke.result;if(We){var St=We.value;q(St)&&(St=Y(St));var Yt=$(St,We.key,Me++);Yt!==void 0?oe(Yt):We.continue()}else oe()},ke.onerror=function(){te(ke.error)}}catch(We){te(We)}})}).catch(te)});return m(re,Z),re}function se($,Z,K){var re=this;$=A($);var oe=new f(function(te,ye){var we;re.ready().then(function(){return we=re._dbInfo,R.call(Z)==="[object Blob]"?j(we.db).then(function(Te){return Te?Z:L(Z)}):Z}).then(function(Te){U(re._dbInfo,E,function(ke,Me){if(ke)return ye(ke);try{var We=Me.objectStore(re._dbInfo.storeName);Te===null&&(Te=void 0);var St=We.put(Te,$);Me.oncomplete=function(){Te===void 0&&(Te=null),te(Te)},Me.onabort=Me.onerror=function(){var Yt=St.error?St.error:St.transaction.error;ye(Yt)}}catch(Yt){ye(Yt)}})}).catch(ye)});return m(oe,K),oe}function me($,Z){var K=this;$=A($);var re=new f(function(oe,te){K.ready().then(function(){U(K._dbInfo,E,function(ye,we){if(ye)return te(ye);try{var Te=we.objectStore(K._dbInfo.storeName),ke=Te.delete($);we.oncomplete=function(){oe()},we.onerror=function(){te(ke.error)},we.onabort=function(){var Me=ke.error?ke.error:ke.transaction.error;te(Me)}}catch(Me){te(Me)}})}).catch(te)});return m(re,Z),re}function Ee($){var Z=this,K=new f(function(re,oe){Z.ready().then(function(){U(Z._dbInfo,E,function(te,ye){if(te)return oe(te);try{var we=ye.objectStore(Z._dbInfo.storeName),Te=we.clear();ye.oncomplete=function(){re()},ye.onabort=ye.onerror=function(){var ke=Te.error?Te.error:Te.transaction.error;oe(ke)}}catch(ke){oe(ke)}})}).catch(oe)});return m(K,$),K}function Re($){var Z=this,K=new f(function(re,oe){Z.ready().then(function(){U(Z._dbInfo,T,function(te,ye){if(te)return oe(te);try{var we=ye.objectStore(Z._dbInfo.storeName),Te=we.count();Te.onsuccess=function(){re(Te.result)},Te.onerror=function(){oe(Te.error)}}catch(ke){oe(ke)}})}).catch(oe)});return m(K,$),K}function be($,Z){var K=this,re=new f(function(oe,te){if($<0){oe(null);return}K.ready().then(function(){U(K._dbInfo,T,function(ye,we){if(ye)return te(ye);try{var Te=we.objectStore(K._dbInfo.storeName),ke=!1,Me=Te.openKeyCursor();Me.onsuccess=function(){var We=Me.result;if(!We){oe(null);return}$===0||ke?oe(We.key):(ke=!0,We.advance($))},Me.onerror=function(){te(Me.error)}}catch(We){te(We)}})}).catch(te)});return m(re,Z),re}function je($){var Z=this,K=new f(function(re,oe){Z.ready().then(function(){U(Z._dbInfo,T,function(te,ye){if(te)return oe(te);try{var we=ye.objectStore(Z._dbInfo.storeName),Te=we.openKeyCursor(),ke=[];Te.onsuccess=function(){var Me=Te.result;if(!Me){re(ke);return}ke.push(Me.key),Me.continue()},Te.onerror=function(){oe(Te.error)}}catch(Me){oe(Me)}})}).catch(oe)});return m(K,$),K}function Xe($,Z){Z=b.apply(this,arguments);var K=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||K.name,$.storeName=$.storeName||K.storeName);var re=this,oe;if(!$.name)oe=f.reject("Invalid arguments");else{var te=$.name===K.name&&re._dbInfo.db,ye=te?f.resolve(re._dbInfo.db):B($).then(function(we){var Te=I[$.name],ke=Te.forages;Te.db=we;for(var Me=0;Me<ke.length;Me++)ke[Me]._dbInfo.db=we;return we});$.storeName?oe=ye.then(function(we){if(we.objectStoreNames.contains($.storeName)){var Te=we.version+1;V($);var ke=I[$.name],Me=ke.forages;we.close();for(var We=0;We<Me.length;We++){var St=Me[We];St._dbInfo.db=null,St._dbInfo.version=Te}var Yt=new f(function(Gt,ft){var Vn=u.open($.name,Te);Vn.onerror=function(di){var Lo=Vn.result;Lo.close(),ft(di)},Vn.onupgradeneeded=function(){var di=Vn.result;di.deleteObjectStore($.storeName)},Vn.onsuccess=function(){var di=Vn.result;di.close(),Gt(di)}});return Yt.then(function(Gt){ke.db=Gt;for(var ft=0;ft<Me.length;ft++){var Vn=Me[ft];Vn._dbInfo.db=Gt,k(Vn._dbInfo)}}).catch(function(Gt){throw(D($,Gt)||f.resolve()).catch(function(){}),Gt})}}):oe=ye.then(function(we){V($);var Te=I[$.name],ke=Te.forages;we.close();for(var Me=0;Me<ke.length;Me++){var We=ke[Me];We._dbInfo.db=null}var St=new f(function(Yt,Gt){var ft=u.deleteDatabase($.name);ft.onerror=function(){var Vn=ft.result;Vn&&Vn.close(),Gt(ft.error)},ft.onblocked=function(){console.warn('dropInstance blocked for database "'+$.name+'" until all open connections are closed')},ft.onsuccess=function(){var Vn=ft.result;Vn&&Vn.close(),Yt(Vn)}});return St.then(function(Yt){Te.db=Yt;for(var Gt=0;Gt<ke.length;Gt++){var ft=ke[Gt];k(ft._dbInfo)}}).catch(function(Yt){throw(D($,Yt)||f.resolve()).catch(function(){}),Yt})})}return m(oe,Z),oe}var Ue={_driver:"asyncStorage",_initStorage:de,_support:c(),iterate:pe,getItem:z,setItem:se,removeItem:me,clear:Ee,length:Re,key:be,keys:je,dropInstance:Xe};function Le(){return typeof openDatabase=="function"}var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt="~~local_forage_type~",vt=/^~~local_forage_type~([^~]+)~/,De="__lfsc__:",ht=De.length,Ut="arbf",Wt="blob",Ht="si08",Ge="ui08",jt="uic8",Xt="si16",Zt="si32",bt="ur16",dt="ui32",nt="fl32",_t="fl64",cn=ht+Ut.length,Lt=Object.prototype.toString;function Pt($){var Z=$.length*.75,K=$.length,re,oe=0,te,ye,we,Te;$[$.length-1]==="="&&(Z--,$[$.length-2]==="="&&Z--);var ke=new ArrayBuffer(Z),Me=new Uint8Array(ke);for(re=0;re<K;re+=4)te=Oe.indexOf($[re]),ye=Oe.indexOf($[re+1]),we=Oe.indexOf($[re+2]),Te=Oe.indexOf($[re+3]),Me[oe++]=te<<2|ye>>4,Me[oe++]=(ye&15)<<4|we>>2,Me[oe++]=(we&3)<<6|Te&63;return ke}function vn($){var Z=new Uint8Array($),K="",re;for(re=0;re<Z.length;re+=3)K+=Oe[Z[re]>>2],K+=Oe[(Z[re]&3)<<4|Z[re+1]>>4],K+=Oe[(Z[re+1]&15)<<2|Z[re+2]>>6],K+=Oe[Z[re+2]&63];return Z.length%3===2?K=K.substring(0,K.length-1)+"=":Z.length%3===1&&(K=K.substring(0,K.length-2)+"=="),K}function jn($,Z){var K="";if($&&(K=Lt.call($)),$&&(K==="[object ArrayBuffer]"||$.buffer&&Lt.call($.buffer)==="[object ArrayBuffer]")){var re,oe=De;$ instanceof ArrayBuffer?(re=$,oe+=Ut):(re=$.buffer,K==="[object Int8Array]"?oe+=Ht:K==="[object Uint8Array]"?oe+=Ge:K==="[object Uint8ClampedArray]"?oe+=jt:K==="[object Int16Array]"?oe+=Xt:K==="[object Uint16Array]"?oe+=bt:K==="[object Int32Array]"?oe+=Zt:K==="[object Uint32Array]"?oe+=dt:K==="[object Float32Array]"?oe+=nt:K==="[object Float64Array]"?oe+=_t:Z(new Error("Failed to get type for BinaryArray"))),Z(oe+vn(re))}else if(K==="[object Blob]"){var te=new FileReader;te.onload=function(){var ye=mt+$.type+"~"+vn(this.result);Z(De+Wt+ye)},te.readAsArrayBuffer($)}else try{Z(JSON.stringify($))}catch(ye){console.error("Couldn't convert value into a JSON string: ",$),Z(null,ye)}}function un($){if($.substring(0,ht)!==De)return JSON.parse($);var Z=$.substring(cn),K=$.substring(ht,cn),re;if(K===Wt&&vt.test(Z)){var oe=Z.match(vt);re=oe[1],Z=Z.substring(oe[0].length)}var te=Pt(Z);switch(K){case Ut:return te;case Wt:return h([te],{type:re});case Ht:return new Int8Array(te);case Ge:return new Uint8Array(te);case jt:return new Uint8ClampedArray(te);case Xt:return new Int16Array(te);case bt:return new Uint16Array(te);case Zt:return new Int32Array(te);case dt:return new Uint32Array(te);case nt:return new Float32Array(te);case _t:return new Float64Array(te);default:throw new Error("Unkown type: "+K)}}var Dt={serialize:jn,deserialize:un,stringToBuffer:Pt,bufferToString:vn};function zn($,Z,K,re){$.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],K,re)}function dr($){var Z=this,K={db:null};if($)for(var re in $)K[re]=typeof $[re]!="string"?$[re].toString():$[re];var oe=new f(function(te,ye){try{K.db=openDatabase(K.name,String(K.version),K.description,K.size)}catch(we){return ye(we)}K.db.transaction(function(we){zn(we,K,function(){Z._dbInfo=K,te()},function(Te,ke){ye(ke)})},ye)});return K.serializer=Dt,oe}function En($,Z,K,re,oe,te){$.executeSql(K,re,oe,function(ye,we){we.code===we.SYNTAX_ERR?ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(Te,ke){ke.rows.length?te(Te,we):zn(Te,Z,function(){Te.executeSql(K,re,oe,te)},te)},te):te(ye,we)},te)}function br($,Z){var K=this;$=A($);var re=new f(function(oe,te){K.ready().then(function(){var ye=K._dbInfo;ye.db.transaction(function(we){En(we,ye,"SELECT * FROM "+ye.storeName+" WHERE key = ? LIMIT 1",[$],function(Te,ke){var Me=ke.rows.length?ke.rows.item(0).value:null;Me&&(Me=ye.serializer.deserialize(Me)),oe(Me)},function(Te,ke){te(ke)})})}).catch(te)});return m(re,Z),re}function fr($,Z){var K=this,re=new f(function(oe,te){K.ready().then(function(){var ye=K._dbInfo;ye.db.transaction(function(we){En(we,ye,"SELECT * FROM "+ye.storeName,[],function(Te,ke){for(var Me=ke.rows,We=Me.length,St=0;St<We;St++){var Yt=Me.item(St),Gt=Yt.value;if(Gt&&(Gt=ye.serializer.deserialize(Gt)),Gt=$(Gt,Yt.key,St+1),Gt!==void 0){oe(Gt);return}}oe()},function(Te,ke){te(ke)})})}).catch(te)});return m(re,Z),re}function Kt($,Z,K,re){var oe=this;$=A($);var te=new f(function(ye,we){oe.ready().then(function(){Z===void 0&&(Z=null);var Te=Z,ke=oe._dbInfo;ke.serializer.serialize(Z,function(Me,We){We?we(We):ke.db.transaction(function(St){En(St,ke,"INSERT OR REPLACE INTO "+ke.storeName+" (key, value) VALUES (?, ?)",[$,Me],function(){ye(Te)},function(Yt,Gt){we(Gt)})},function(St){if(St.code===St.QUOTA_ERR){if(re>0){ye(Kt.apply(oe,[$,Te,K,re-1]));return}we(St)}})})}).catch(we)});return m(te,K),te}function On($,Z,K){return Kt.apply(this,[$,Z,K,1])}function rt($,Z){var K=this;$=A($);var re=new f(function(oe,te){K.ready().then(function(){var ye=K._dbInfo;ye.db.transaction(function(we){En(we,ye,"DELETE FROM "+ye.storeName+" WHERE key = ?",[$],function(){oe()},function(Te,ke){te(ke)})})}).catch(te)});return m(re,Z),re}function Et($){var Z=this,K=new f(function(re,oe){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(ye){En(ye,te,"DELETE FROM "+te.storeName,[],function(){re()},function(we,Te){oe(Te)})})}).catch(oe)});return m(K,$),K}function rr($){var Z=this,K=new f(function(re,oe){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(ye){En(ye,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(we,Te){var ke=Te.rows.item(0).c;re(ke)},function(we,Te){oe(Te)})})}).catch(oe)});return m(K,$),K}function Nr($,Z){var K=this,re=new f(function(oe,te){K.ready().then(function(){var ye=K._dbInfo;ye.db.transaction(function(we){En(we,ye,"SELECT key FROM "+ye.storeName+" WHERE id = ? LIMIT 1",[$+1],function(Te,ke){var Me=ke.rows.length?ke.rows.item(0).key:null;oe(Me)},function(Te,ke){te(ke)})})}).catch(te)});return m(re,Z),re}function Fe($){var Z=this,K=new f(function(re,oe){Z.ready().then(function(){var te=Z._dbInfo;te.db.transaction(function(ye){En(ye,te,"SELECT key FROM "+te.storeName,[],function(we,Te){for(var ke=[],Me=0;Me<Te.rows.length;Me++)ke.push(Te.rows.item(Me).key);re(ke)},function(we,Te){oe(Te)})})}).catch(oe)});return m(K,$),K}function st($){return new f(function(Z,K){$.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(oe,te){for(var ye=[],we=0;we<te.rows.length;we++)ye.push(te.rows.item(we).name);Z({db:$,storeNames:ye})},function(oe,te){K(te)})},function(re){K(re)})})}function pt($,Z){Z=b.apply(this,arguments);var K=this.config();$=typeof $!="function"&&$||{},$.name||($.name=$.name||K.name,$.storeName=$.storeName||K.storeName);var re=this,oe;return $.name?oe=new f(function(te){var ye;$.name===K.name?ye=re._dbInfo.db:ye=openDatabase($.name,"","",0),$.storeName?te({db:ye,storeNames:[$.storeName]}):te(st(ye))}).then(function(te){return new f(function(ye,we){te.db.transaction(function(Te){function ke(Yt){return new f(function(Gt,ft){Te.executeSql("DROP TABLE IF EXISTS "+Yt,[],function(){Gt()},function(Vn,di){ft(di)})})}for(var Me=[],We=0,St=te.storeNames.length;We<St;We++)Me.push(ke(te.storeNames[We]));f.all(Me).then(function(){ye()}).catch(function(Yt){we(Yt)})},function(Te){we(Te)})})}):oe=f.reject("Invalid arguments"),m(oe,Z),oe}var yn={_driver:"webSQLStorage",_initStorage:dr,_support:Le(),iterate:fr,getItem:br,setItem:On,removeItem:rt,clear:Et,length:rr,key:Nr,keys:Fe,dropInstance:pt};function hr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function _r($,Z){var K=$.name+"/";return $.storeName!==Z.storeName&&(K+=$.storeName+"/"),K}function Br(){var $="_localforage_support_test";try{return localStorage.setItem($,!0),localStorage.removeItem($),!1}catch{return!0}}function Kn(){return!Br()||localStorage.length>0}function Tr($){var Z=this,K={};if($)for(var re in $)K[re]=$[re];return K.keyPrefix=_r($,Z._defaultConfig),Kn()?(Z._dbInfo=K,K.serializer=Dt,f.resolve()):f.reject()}function dn($){var Z=this,K=Z.ready().then(function(){for(var re=Z._dbInfo.keyPrefix,oe=localStorage.length-1;oe>=0;oe--){var te=localStorage.key(oe);te.indexOf(re)===0&&localStorage.removeItem(te)}});return m(K,$),K}function Oo($,Z){var K=this;$=A($);var re=K.ready().then(function(){var oe=K._dbInfo,te=localStorage.getItem(oe.keyPrefix+$);return te&&(te=oe.serializer.deserialize(te)),te});return m(re,Z),re}function Fd($,Z){var K=this,re=K.ready().then(function(){for(var oe=K._dbInfo,te=oe.keyPrefix,ye=te.length,we=localStorage.length,Te=1,ke=0;ke<we;ke++){var Me=localStorage.key(ke);if(Me.indexOf(te)===0){var We=localStorage.getItem(Me);if(We&&(We=oe.serializer.deserialize(We)),We=$(We,Me.substring(ye),Te++),We!==void 0)return We}}});return m(re,Z),re}function as($,Z){var K=this,re=K.ready().then(function(){var oe=K._dbInfo,te;try{te=localStorage.key($)}catch{te=null}return te&&(te=te.substring(oe.keyPrefix.length)),te});return m(re,Z),re}function Sl($){var Z=this,K=Z.ready().then(function(){for(var re=Z._dbInfo,oe=localStorage.length,te=[],ye=0;ye<oe;ye++){var we=localStorage.key(ye);we.indexOf(re.keyPrefix)===0&&te.push(we.substring(re.keyPrefix.length))}return te});return m(K,$),K}function xl($){var Z=this,K=Z.keys().then(function(re){return re.length});return m(K,$),K}function Uc($,Z){var K=this;$=A($);var re=K.ready().then(function(){var oe=K._dbInfo;localStorage.removeItem(oe.keyPrefix+$)});return m(re,Z),re}function en($,Z,K){var re=this;$=A($);var oe=re.ready().then(function(){Z===void 0&&(Z=null);var te=Z;return new f(function(ye,we){var Te=re._dbInfo;Te.serializer.serialize(Z,function(ke,Me){if(Me)we(Me);else try{localStorage.setItem(Te.keyPrefix+$,ke),ye(te)}catch(We){(We.name==="QuotaExceededError"||We.name==="NS_ERROR_DOM_QUOTA_REACHED")&&we(We),we(We)}})})});return m(oe,K),oe}function xi($,Z){if(Z=b.apply(this,arguments),$=typeof $!="function"&&$||{},!$.name){var K=this.config();$.name=$.name||K.name,$.storeName=$.storeName||K.storeName}var re=this,oe;return $.name?oe=new f(function(te){$.storeName?te(_r($,re._defaultConfig)):te($.name+"/")}).then(function(te){for(var ye=localStorage.length-1;ye>=0;ye--){var we=localStorage.key(ye);we.indexOf(te)===0&&localStorage.removeItem(we)}}):oe=f.reject("Invalid arguments"),m(oe,Z),oe}var _a={_driver:"localStorageWrapper",_initStorage:Tr,_support:hr(),iterate:Fd,getItem:Oo,setItem:en,removeItem:Uc,clear:dn,length:xl,key:as,keys:Sl,dropInstance:xi},lo=function(Z,K){return Z===K||typeof Z=="number"&&typeof K=="number"&&isNaN(Z)&&isNaN(K)},$d=function(Z,K){for(var re=Z.length,oe=0;oe<re;){if(lo(Z[oe],K))return!0;oe++}return!1},Sa=Array.isArray||function($){return Object.prototype.toString.call($)==="[object Array]"},fn={},hp={},co={INDEXEDDB:Ue,WEBSQL:yn,LOCALSTORAGE:_a},pp=[co.INDEXEDDB._driver,co.WEBSQL._driver,co.LOCALSTORAGE._driver],Vo=["dropInstance"],zd=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Vo),gp={description:"",driver:pp.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Hc($,Z){$[Z]=function(){var K=arguments;return $.ready().then(function(){return $[Z].apply($,K)})}}function wi(){for(var $=1;$<arguments.length;$++){var Z=arguments[$];if(Z)for(var K in Z)Z.hasOwnProperty(K)&&(Sa(Z[K])?arguments[0][K]=Z[K].slice():arguments[0][K]=Z[K])}return arguments[0]}var fy=function(){function $(Z){o(this,$);for(var K in co)if(co.hasOwnProperty(K)){var re=co[K],oe=re._driver;this[K]=oe,fn[oe]||this.defineDriver(re)}this._defaultConfig=wi({},gp),this._config=wi({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return $.prototype.config=function(K){if((typeof K>"u"?"undefined":s(K))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in K){if(re==="storeName"&&(K[re]=K[re].replace(/\W/g,"_")),re==="version"&&typeof K[re]!="number")return new Error("Database version must be a number.");this._config[re]=K[re]}return"driver"in K&&K.driver?this.setDriver(this._config.driver):!0}else return typeof K=="string"?this._config[K]:this._config},$.prototype.defineDriver=function(K,re,oe){var te=new f(function(ye,we){try{var Te=K._driver,ke=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!K._driver){we(ke);return}for(var Me=zd.concat("_initStorage"),We=0,St=Me.length;We<St;We++){var Yt=Me[We],Gt=!$d(Vo,Yt);if((Gt||K[Yt])&&typeof K[Yt]!="function"){we(ke);return}}var ft=function(){for(var Lo=function(Wc){return function(){var uo=new Error("Method "+Wc+" is not implemented by the current driver"),Ns=f.reject(uo);return m(Ns,arguments[arguments.length-1]),Ns}},Gc=0,mp=Vo.length;Gc<mp;Gc++){var qc=Vo[Gc];K[qc]||(K[qc]=Lo(qc))}};ft();var Vn=function(Lo){fn[Te]&&console.info("Redefining LocalForage driver: "+Te),fn[Te]=K,hp[Te]=Lo,ye()};"_support"in K?K._support&&typeof K._support=="function"?K._support().then(Vn,we):Vn(!!K._support):Vn(!0)}catch(di){we(di)}});return v(te,re,oe),te},$.prototype.driver=function(){return this._driver||null},$.prototype.getDriver=function(K,re,oe){var te=fn[K]?f.resolve(fn[K]):f.reject(new Error("Driver not found."));return v(te,re,oe),te},$.prototype.getSerializer=function(K){var re=f.resolve(Dt);return v(re,K),re},$.prototype.ready=function(K){var re=this,oe=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return v(oe,K,K),oe},$.prototype.setDriver=function(K,re,oe){var te=this;Sa(K)||(K=[K]);var ye=this._getSupportedDrivers(K);function we(){te._config.driver=te.driver()}function Te(We){return te._extend(We),we(),te._ready=te._initStorage(te._config),te._ready}function ke(We){return function(){var St=0;function Yt(){for(;St<We.length;){var Gt=We[St];return St++,te._dbInfo=null,te._ready=null,te.getDriver(Gt).then(Te).catch(Yt)}we();var ft=new Error("No available storage method found.");return te._driverSet=f.reject(ft),te._driverSet}return Yt()}}var Me=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Me.then(function(){var We=ye[0];return te._dbInfo=null,te._ready=null,te.getDriver(We).then(function(St){te._driver=St._driver,we(),te._wrapLibraryMethodsWithReady(),te._initDriver=ke(ye)})}).catch(function(){we();var We=new Error("No available storage method found.");return te._driverSet=f.reject(We),te._driverSet}),v(this._driverSet,re,oe),this._driverSet},$.prototype.supports=function(K){return!!hp[K]},$.prototype._extend=function(K){wi(this,K)},$.prototype._getSupportedDrivers=function(K){for(var re=[],oe=0,te=K.length;oe<te;oe++){var ye=K[oe];this.supports(ye)&&re.push(ye)}return re},$.prototype._wrapLibraryMethodsWithReady=function(){for(var K=0,re=zd.length;K<re;K++)Hc(this,zd[K])},$.prototype.createInstance=function(K){return new $(K)},$}(),Ui=new fy;r.exports=Ui},{3:3}]},{},[4])(4)})}(A1)),A1.exports}var JW=QW();const fh=Cr(JW),rV=Object.freeze(Object.defineProperty({__proto__:null,default:fh},Symbol.toStringTag,{value:"Module"}));let Rf=null;async function P0(){if(!Rf)if("localStorage"in globalThis)try{Rf=Rd(async()=>{const{default:e}=await Promise.resolve().then(()=>rV);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),Rf=Promise.resolve(ot.memory)}else Rf=Promise.resolve(ot.memory);return Rf}const dd=e=>is.generateSongFile(e),iV=async e=>{var n;const t=dd(e);return await((n=await P0())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},sV=async(e,t)=>{var n;await((n=await P0())==null?void 0:n.setItem(dd(e),t))},XW=async()=>{var n;const e=await((n=await P0())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await P0())==null?void 0:i.getItem(r))})),t};ve.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await(fh==null?void 0:fh.getItem(dd(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await sV(e,i),ve.songStatStored.dispatch(dd(e),i)});const fd="session-player-names",ZW="previous-player-names";function eK(e){return e!=null}ve.songStarted.subscribe((e,t)=>{let n=JSON.parse(ot.session.getItem(fd))||[];const r=t.players.map(({number:s})=>it.getPlayer(s)).filter(eK).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),ot.session.setItem(fd,JSON.stringify(n)),ot.session.setItem(ZW,JSON.stringify(r))});ve.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(ot.session.getItem(fd))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),ot.session.setItem(fd,JSON.stringify(r))});function tK(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return tK(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var nK="Expected a function";function Ku(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(nK);return no(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),IO(e,t,{leading:r,maxWait:t,trailing:i})}class rK extends so{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async t=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await il.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const n=this.context.createMediaStreamSource(this.stream),r=this.context.createAnalyser();r.fftSize=2048,r.minDecibels=-100,n.connect(r);const i=new CO;await i.init(this.context,r.fftSize),this.interval=setInterval(async()=>{const s=new Float32Array(r.fftSize);r.getFloatTimeDomainData(s);const o=await i.getFrequency(s),l=this.calculateVolume(s);this.frequencies=[o,o],this.volumes=[l,l],this.onUpdate(o,l)},this.context.sampleRate/r.fftSize),ve.micMonitoringStarted.dispatch()}catch(n){Ps(n),console.error(n)}}catch(n){n.name!=="NotAllowedError"&&Ps(n,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(n)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ve.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const Ws=new rK;let RI=null;const iK=(e,t)=>{t.t!==RI&&(Ps(e,{extra:{event:t}}),RI=t.t)};class sK extends so{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${VO}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Ts({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const l=bd(o.data);l.t==="forward"?this.onUpdate(l.payload):l.t==="connected"&&r()},this.connection.onclose=o=>{var u;let l="unknown";try{l=(u=JSON.parse(o.reason))==null?void 0:u.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(l,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n,r,i;if(((n=this.connection)==null?void 0:n.readyState)!==WebSocket.OPEN){iK(new Error(`Trying to send event on connection ${(r=this.connection)==null?void 0:r.readyState}`),t);return}(i=this.connection)==null||i.send(Ts({t:"forward",recipients:[this.roomId],payload:t}))}}class oK extends so{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new Iv(t,{...LO,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var l,u;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((u=(l=this.peer)==null?void 0:l.destroy)==null||u.call(l),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class aK extends so{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(UO),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Ts({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const l=bd(o.data);l.t==="forward"?this.onUpdate(l.payload):l.t==="connected"&&r()},this.connection.onclose=o=>{var u;let l="unknown";try{l=(u=JSON.parse(o.reason))==null?void 0:u.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(l,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Ts({t:"forward",recipients:[this.roomId],payload:t}))}}const PI=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Wg;const lK=new Uint8Array(16);function cK(){if(!Wg&&(Wg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wg(lK)}const Ur=[];for(let e=0;e<256;++e)Ur.push((e+256).toString(16).slice(1));function uK(e,t=0){return Ur[e[t+0]]+Ur[e[t+1]]+Ur[e[t+2]]+Ur[e[t+3]]+"-"+Ur[e[t+4]]+Ur[e[t+5]]+"-"+Ur[e[t+6]]+Ur[e[t+7]]+"-"+Ur[e[t+8]]+Ur[e[t+9]]+"-"+Ur[e[t+10]]+Ur[e[t+11]]+Ur[e[t+12]]+Ur[e[t+13]]+Ur[e[t+14]]+Ur[e[t+15]]}const dK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),MI={randomUUID:dK};function M0(e,t,n){if(MI.randomUUID&&!t&&!e)return MI.randomUUID();e=e||{};const r=e.random||(e.rng||cK)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uK(r)}const K_="MIC_CLIENT_ID";class fK{constructor(){this.clientId=ot.getItem(K_),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Ku(t=>{const n=this.frequencies.map(r=>PI(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,PI(t,4)])},50),this.onFrequencyUpdate=Ku((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,ot.setItem(K_,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new aK:i.startsWith("k")?new sK:new oK),this.clientId===null&&this.setClientId(M0()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||ve.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var l;if(s==="unavailable-id"){this.setClientId(M0()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?ve.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?ve.karaokeConnectionStatusChange.dispatch("disconnected"):(ve.karaokeConnectionStatusChange.dispatch("error",s),ar.capture("remote_mic_connection_error",{reason:s,transport:(l=this.roomId)==null?void 0:l.charAt(0)})),ve.remoteMicPlayerSet.dispatch(null),ve.remoteKeyboardLayout.dispatch(void 0),Ws.removeListener(this.onFrequencyUpdate),Ws.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=bi(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=bi(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Ku(t=>ar.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=bi()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,ve.karaokeConnectionStatusChange.dispatch("connected"),ar.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:l3.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var l,u;const o=s.t;o==="start-monitor"?(Ws.removeListener(this.onFrequencyUpdate),Ws.addListener(this.onFrequencyUpdate),Ws.startMonitoring(void 0)):o==="stop-monitor"?(Ws.removeListener(this.onFrequencyUpdate),Ws.stopMonitoring()):o==="set-player-number"?ve.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?ve.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),ot.session.setItem("reload-mic-request","1"),(l=document.getElementById("phone-ui-container"))==null||l.remove(),(u=global.location)==null||u.reload()):o==="request-readiness"?ve.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?ve.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?ve.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&ve.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(ve.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var u;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(l),s(`${t} timed out waiting for ${r}`)},1e4),l=c=>{var h;c.t===r&&(clearTimeout(o),(h=this.transport)==null||h.removeListener(l),i(c))};(u=this.transport)==null||u.addListener(l),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const Wn=new fK,hK="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",pK="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",gK="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",mK="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",vK="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",yK="/assets/boo-and-laugh-7060-BidOOj5I.mp3",AK="/assets/croworraven1-6749-Ce48aK2E.mp3",bK="/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",_K="/assets/halloween-impact-05-93808-BCpJmIL8.mp3",SK="/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",xK="/assets/menu_back-CXKu2j7w.mp3",wK="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",EK="/assets/menu_navigate-C6GUIZQM.mp3";class ts{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class jv{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=Hh.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const Ov=new ts({src:EK}),Px=new ts({src:wK}),Mx=new ts({src:xK}),jx=new jv(new ts({src:mK,preload:!0,volume:.5}),{halloween:new ts({src:AK,preload:!0,volume:.7})}),Fm=new jv(new ts({src:vK,volume:.3,loop:!0}),{christmas:new ts({src:hK,volume:.25,loop:!0}),halloween:new ts({src:bK,volume:.3,loop:!0})}),oV=new jv(new ts({src:pK,preload:!0}),{halloween:new ts({src:yK,preload:!0,volume:.4})}),$m=new jv(new ts({src:gK,volume:.8}),{halloween:new ts({src:SK,volume:.2})}),CK=new ts({src:_K,preload:!0,volume:.5}),kK=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:Fm,menuBack:Mx,menuEnter:Px,menuNavigate:Ov,selectHalloweenSong:CK,waitFinished:oV,waitForReadinessMusic:$m,woosh:jx},Symbol.toStringTag,{value:"Module"})),TK={RemoteMicClient:Wn,RemoteMicServer:cc,GameState:ct,GameEvents:ve,RemoteMicManager:Mt,SongDao:is,InputManager:nr,InputSourceManager:Io,CameraManager:Js,UserMediaService:il,PlayersManager:it,SoundManager:kK,importSongs:async()=>{await(await Rd(()=>import("./importSongsFromPostHog---xIFSZY.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=TK};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");var IK=!1;function RK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function PK(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var MK=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!IK:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(PK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=RK(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ri="-ms-",j0="-moz-",tn="-webkit-",aV="comm",Ox="rule",Vx="decl",jK="@import",lV="@keyframes",OK="@layer",VK=Math.abs,Vv=String.fromCharCode,LK=Object.assign;function NK(e,t){return Wr(e,0)^45?(((t<<2^Wr(e,0))<<2^Wr(e,1))<<2^Wr(e,2))<<2^Wr(e,3):0}function cV(e){return e.trim()}function BK(e,t){return(e=t.exec(e))?e[0]:e}function nn(e,t,n){return e.replace(t,n)}function Y_(e,t){return e.indexOf(t)}function Wr(e,t){return e.charCodeAt(t)|0}function Ph(e,t,n){return e.slice(t,n)}function yo(e){return e.length}function Lx(e){return e.length}function Kg(e,t){return t.push(e),e}function DK(e,t){return e.map(t).join("")}var Lv=1,hd=1,uV=0,$i=0,Ar=0,Md="";function Nv(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Lv,column:hd,length:o,return:""}}function Pf(e,t){return LK(Nv("",null,null,"",null,null,0),e,{length:-e.length},t)}function FK(){return Ar}function $K(){return Ar=$i>0?Wr(Md,--$i):0,hd--,Ar===10&&(hd=1,Lv--),Ar}function ns(){return Ar=$i<uV?Wr(Md,$i++):0,hd++,Ar===10&&(hd=1,Lv++),Ar}function ko(){return Wr(Md,$i)}function zm(){return $i}function Xh(e,t){return Ph(Md,e,t)}function Mh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dV(e){return Lv=hd=1,uV=yo(Md=e),$i=0,[]}function fV(e){return Md="",e}function Um(e){return cV(Xh($i-1,Q_(e===91?e+2:e===40?e+1:e)))}function zK(e){for(;(Ar=ko())&&Ar<33;)ns();return Mh(e)>2||Mh(Ar)>3?"":" "}function UK(e,t){for(;--t&&ns()&&!(Ar<48||Ar>102||Ar>57&&Ar<65||Ar>70&&Ar<97););return Xh(e,zm()+(t<6&&ko()==32&&ns()==32))}function Q_(e){for(;ns();)switch(Ar){case e:return $i;case 34:case 39:e!==34&&e!==39&&Q_(Ar);break;case 40:e===41&&Q_(e);break;case 92:ns();break}return $i}function HK(e,t){for(;ns()&&e+Ar!==57;)if(e+Ar===84&&ko()===47)break;return"/*"+Xh(t,$i-1)+"*"+Vv(e===47?e:ns())}function GK(e){for(;!Mh(ko());)ns();return Xh(e,$i)}function qK(e){return fV(Hm("",null,null,null,[""],e=dV(e),0,[0],e))}function Hm(e,t,n,r,i,s,o,l,u){for(var c=0,h=0,f=o,m=0,v=0,A=0,b=1,S=1,w=1,I=0,R="",T=i,E=s,P=r,N=R;S;)switch(A=I,I=ns()){case 40:if(A!=108&&Wr(N,f-1)==58){Y_(N+=nn(Um(I),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:N+=Um(I);break;case 9:case 10:case 13:case 32:N+=zK(A);break;case 92:N+=UK(zm()-1,7);continue;case 47:switch(ko()){case 42:case 47:Kg(WK(HK(ns(),zm()),t,n),u);break;default:N+="/"}break;case 123*b:l[c++]=yo(N)*w;case 125*b:case 59:case 0:switch(I){case 0:case 125:S=0;case 59+h:w==-1&&(N=nn(N,/\f/g,"")),v>0&&yo(N)-f&&Kg(v>32?OI(N+";",r,n,f-1):OI(nn(N," ","")+";",r,n,f-2),u);break;case 59:N+=";";default:if(Kg(P=jI(N,t,n,c,h,i,l,R,T=[],E=[],f),s),I===123)if(h===0)Hm(N,t,P,P,T,s,f,l,E);else switch(m===99&&Wr(N,3)===110?100:m){case 100:case 108:case 109:case 115:Hm(e,P,P,r&&Kg(jI(e,P,P,0,0,i,l,R,i,T=[],f),E),i,E,f,l,r?T:E);break;default:Hm(N,P,P,P,[""],E,0,l,E)}}c=h=v=0,b=w=1,R=N="",f=o;break;case 58:f=1+yo(N),v=A;default:if(b<1){if(I==123)--b;else if(I==125&&b++==0&&$K()==125)continue}switch(N+=Vv(I),I*b){case 38:w=h>0?1:(N+="\f",-1);break;case 44:l[c++]=(yo(N)-1)*w,w=1;break;case 64:ko()===45&&(N+=Um(ns())),m=ko(),h=f=yo(R=N+=GK(zm())),I++;break;case 45:A===45&&yo(N)==2&&(b=0)}}return s}function jI(e,t,n,r,i,s,o,l,u,c,h){for(var f=i-1,m=i===0?s:[""],v=Lx(m),A=0,b=0,S=0;A<r;++A)for(var w=0,I=Ph(e,f+1,f=VK(b=o[A])),R=e;w<v;++w)(R=cV(b>0?m[w]+" "+I:nn(I,/&\f/g,m[w])))&&(u[S++]=R);return Nv(e,t,n,i===0?Ox:l,u,c,h)}function WK(e,t,n){return Nv(e,t,n,aV,Vv(FK()),Ph(e,2,-2),0)}function OI(e,t,n,r){return Nv(e,t,n,Vx,Ph(e,0,r),Ph(e,r+1,-1),r)}function Yu(e,t){for(var n="",r=Lx(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function KK(e,t,n,r){switch(e.type){case OK:if(e.children.length)break;case jK:case Vx:return e.return=e.return||e.value;case aV:return"";case lV:return e.return=e.value+"{"+Yu(e.children,r)+"}";case Ox:e.value=e.props.join(",")}return yo(n=Yu(e.children,r))?e.return=e.value+"{"+n+"}":""}function YK(e){var t=Lx(e);return function(n,r,i,s){for(var o="",l=0;l<t;l++)o+=e[l](n,r,i,s)||"";return o}}function QK(e){return function(t){t.root||(t=t.return)&&e(t)}}function hV(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var JK=function(t,n,r){for(var i=0,s=0;i=s,s=ko(),i===38&&s===12&&(n[r]=1),!Mh(s);)ns();return Xh(t,$i)},XK=function(t,n){var r=-1,i=44;do switch(Mh(i)){case 0:i===38&&ko()===12&&(n[r]=1),t[r]+=JK($i-1,n,r);break;case 2:t[r]+=Um(i);break;case 4:if(i===44){t[++r]=ko()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Vv(i)}while(i=ns());return t},ZK=function(t,n){return fV(XK(dV(t),n))},VI=new WeakMap,eY=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!VI.get(r))&&!i){VI.set(t,!0);for(var s=[],o=ZK(n,s),l=r.props,u=0,c=0;u<o.length;u++)for(var h=0;h<l.length;h++,c++)t.props[c]=s[u]?o[u].replace(/&\f/g,l[h]):l[h]+" "+o[u]}}},tY=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function pV(e,t){switch(NK(e,t)){case 5103:return tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tn+e+j0+e+ri+e+e;case 6828:case 4268:return tn+e+ri+e+e;case 6165:return tn+e+ri+"flex-"+e+e;case 5187:return tn+e+nn(e,/(\w+).+(:[^]+)/,tn+"box-$1$2"+ri+"flex-$1$2")+e;case 5443:return tn+e+ri+"flex-item-"+nn(e,/flex-|-self/,"")+e;case 4675:return tn+e+ri+"flex-line-pack"+nn(e,/align-content|flex-|-self/,"")+e;case 5548:return tn+e+ri+nn(e,"shrink","negative")+e;case 5292:return tn+e+ri+nn(e,"basis","preferred-size")+e;case 6060:return tn+"box-"+nn(e,"-grow","")+tn+e+ri+nn(e,"grow","positive")+e;case 4554:return tn+nn(e,/([^-])(transform)/g,"$1"+tn+"$2")+e;case 6187:return nn(nn(nn(e,/(zoom-|grab)/,tn+"$1"),/(image-set)/,tn+"$1"),e,"")+e;case 5495:case 3959:return nn(e,/(image-set\([^]*)/,tn+"$1$`$1");case 4968:return nn(nn(e,/(.+:)(flex-)?(.*)/,tn+"box-pack:$3"+ri+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tn+e+e;case 4095:case 3583:case 4068:case 2532:return nn(e,/(.+)-inline(.+)/,tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yo(e)-1-t>6)switch(Wr(e,t+1)){case 109:if(Wr(e,t+4)!==45)break;case 102:return nn(e,/(.+:)(.+)-([^]+)/,"$1"+tn+"$2-$3$1"+j0+(Wr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Y_(e,"stretch")?pV(nn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Wr(e,t+1)!==115)break;case 6444:switch(Wr(e,yo(e)-3-(~Y_(e,"!important")&&10))){case 107:return nn(e,":",":"+tn)+e;case 101:return nn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tn+(Wr(e,14)===45?"inline-":"")+"box$3$1"+tn+"$2$3$1"+ri+"$2box$3")+e}break;case 5936:switch(Wr(e,t+11)){case 114:return tn+e+ri+nn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tn+e+ri+nn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tn+e+ri+nn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tn+e+ri+e+e}return e}var nY=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Vx:t.return=pV(t.value,t.length);break;case lV:return Yu([Pf(t,{value:nn(t.value,"@","@"+tn)})],i);case Ox:if(t.length)return DK(t.props,function(s){switch(BK(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yu([Pf(t,{props:[nn(s,/:(read-\w+)/,":"+j0+"$1")]})],i);case"::placeholder":return Yu([Pf(t,{props:[nn(s,/:(plac\w+)/,":"+tn+"input-$1")]}),Pf(t,{props:[nn(s,/:(plac\w+)/,":"+j0+"$1")]}),Pf(t,{props:[nn(s,/:(plac\w+)/,ri+"input-$1")]})],i)}return""})}},rY=[nY],gV=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var S=b.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=t.stylisPlugins||rY,s={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var S=b.getAttribute("data-emotion").split(" "),w=1;w<S.length;w++)s[S[w]]=!0;l.push(b)});var u,c=[eY,tY];{var h,f=[KK,QK(function(b){h.insert(b)})],m=YK(c.concat(i,f)),v=function(S){return Yu(qK(S),m)};u=function(S,w,I,R){h=I,v(S?S+"{"+w.styles+"}":w.styles),R&&(A.inserted[w.name]=!0)}}var A={key:n,sheet:new MK({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return A.sheet.hydrate(l),A};function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}var iY=!0;function sY(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var mV=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||iY===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},vV=function(t,n,r){mV(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function yV(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var AV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oY=!1,aY=/[A-Z]|^ms/g,lY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bV=function(t){return t.charCodeAt(1)===45},LI=function(t){return t!=null&&typeof t!="boolean"},b1=hV(function(e){return bV(e)?e:e.replace(aY,"-$&").toLowerCase()}),NI=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(lY,function(r,i,s){return Ao={name:i,styles:s,next:Ao},i})}return AV[t]!==1&&!bV(t)&&typeof n=="number"&&n!==0?n+"px":n},cY="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function jh(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ao={name:i.name,styles:i.styles,next:Ao},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Ao={name:o.name,styles:o.styles,next:Ao},o=o.next;var l=s.styles+";";return l}return uY(e,t,n)}case"function":{if(e!==void 0){var u=Ao,c=n(e);return Ao=u,jh(e,t,c)}break}}var h=n;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function uY(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jh(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?r+=s+"{"+t[l]+"}":LI(l)&&(r+=b1(s)+":"+NI(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&oY)throw new Error(cY);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var u=0;u<o.length;u++)LI(o[u])&&(r+=b1(s)+":"+NI(s,o[u])+";");else{var c=jh(e,t,o);switch(s){case"animation":case"animationName":{r+=b1(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var BI=/label:\s*([^\s;{]+)\s*(;|$)/g,Ao;function Nx(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Ao=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=jh(n,t,s);else{var o=s;i+=o[0]}for(var l=1;l<e.length;l++)if(i+=jh(n,t,e[l]),r){var u=s;i+=u[l]}BI.lastIndex=0;for(var c="",h;(h=BI.exec(i))!==null;)c+="-"+h[1];var f=yV(i)+c;return{name:f,styles:i,next:Ao}}var dY=function(t){return t()},_V=v0.useInsertionEffect?v0.useInsertionEffect:!1,fY=_V||dY,DI=_V||x.useLayoutEffect,SV=x.createContext(typeof HTMLElement<"u"?gV({key:"css"}):null),hY=SV.Provider,xV=function(t){return x.forwardRef(function(n,r){var i=x.useContext(SV);return t(n,i,r)})},Bv=x.createContext({}),pY=xV(function(e,t){var n=e.styles,r=Nx([n],void 0,x.useContext(Bv)),i=x.useRef();return DI(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,l],function(){o.flush()}},[t]),DI(function(){var s=i.current,o=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&vV(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function jo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nx(t)}var Dc=function(){var t=jo.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Bx(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function gY(){this.__data__=new ma,this.size=0}function mY(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function vY(e){return this.__data__.get(e)}function yY(e){return this.__data__.has(e)}var AY=200;function bY(e,t){var n=this.__data__;if(n instanceof ma){var r=n.__data__;if(!Ih||r.length<AY-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new va(r)}return n.set(e,t),this.size=n.size,this}function To(e){var t=this.__data__=new ma(e);this.size=t.size}To.prototype.clear=gY;To.prototype.delete=mY;To.prototype.get=vY;To.prototype.has=yY;To.prototype.set=bY;function _Y(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var V0=function(){try{var e=Bc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function wV(e,t,n){t=="__proto__"&&V0?V0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var SY=Object.prototype,xY=SY.hasOwnProperty;function EV(e,t,n){var r=e[t];(!(xY.call(e,t)&&xv(r,n))||n===void 0&&!(t in e))&&wV(e,t,n)}function Zh(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var l=t[s],u=void 0;u===void 0&&(u=e[l]),i?wV(n,l,u):EV(n,l,u)}return n}function wY(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var EY="[object Arguments]";function FI(e){return ha(e)&&Lc(e)==EY}var CV=Object.prototype,CY=CV.hasOwnProperty,kY=CV.propertyIsEnumerable,Dx=FI(function(){return arguments}())?FI:function(e){return ha(e)&&CY.call(e,"callee")&&!kY.call(e,"callee")},js=Array.isArray;function TY(){return!1}var kV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$I=kV&&typeof module=="object"&&module&&!module.nodeType&&module,IY=$I&&$I.exports===kV,zI=IY?oo.Buffer:void 0,RY=zI?zI.isBuffer:void 0,L0=RY||TY,PY="[object Arguments]",MY="[object Array]",jY="[object Boolean]",OY="[object Date]",VY="[object Error]",LY="[object Function]",NY="[object Map]",BY="[object Number]",DY="[object Object]",FY="[object RegExp]",$Y="[object Set]",zY="[object String]",UY="[object WeakMap]",HY="[object ArrayBuffer]",GY="[object DataView]",qY="[object Float32Array]",WY="[object Float64Array]",KY="[object Int8Array]",YY="[object Int16Array]",QY="[object Int32Array]",JY="[object Uint8Array]",XY="[object Uint8ClampedArray]",ZY="[object Uint16Array]",eQ="[object Uint32Array]",In={};In[qY]=In[WY]=In[KY]=In[YY]=In[QY]=In[JY]=In[XY]=In[ZY]=In[eQ]=!0;In[PY]=In[MY]=In[HY]=In[jY]=In[GY]=In[OY]=In[VY]=In[LY]=In[NY]=In[BY]=In[DY]=In[FY]=In[$Y]=In[zY]=In[UY]=!1;function tQ(e){return ha(e)&&kx(e.length)&&!!In[Lc(e)]}function Fx(e){return function(t){return e(t)}}var TV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hh=TV&&typeof module=="object"&&module&&!module.nodeType&&module,nQ=hh&&hh.exports===TV,_1=nQ&&kO.process,pd=function(){try{var e=hh&&hh.require&&hh.require("util").types;return e||_1&&_1.binding&&_1.binding("util")}catch{}}(),UI=pd&&pd.isTypedArray,IV=UI?Fx(UI):tQ,rQ=Object.prototype,iQ=rQ.hasOwnProperty;function RV(e,t){var n=js(e),r=!n&&Dx(e),i=!n&&!r&&L0(e),s=!n&&!r&&!i&&IV(e),o=n||r||i||s,l=o?wY(e.length,String):[],u=l.length;for(var c in e)(t||iQ.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ix(c,u)))&&l.push(c);return l}var sQ=Object.prototype;function $x(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||sQ;return e===n}function PV(e,t){return function(n){return e(t(n))}}var oQ=PV(Object.keys,Object),aQ=Object.prototype,lQ=aQ.hasOwnProperty;function cQ(e){if(!$x(e))return oQ(e);var t=[];for(var n in Object(e))lQ.call(e,n)&&n!="constructor"&&t.push(n);return t}function ep(e){return Tx(e)?RV(e):cQ(e)}function uQ(e,t){return e&&Zh(t,ep(t),e)}function dQ(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var fQ=Object.prototype,hQ=fQ.hasOwnProperty;function pQ(e){if(!no(e))return dQ(e);var t=$x(e),n=[];for(var r in e)r=="constructor"&&(t||!hQ.call(e,r))||n.push(r);return n}function zx(e){return Tx(e)?RV(e,!0):pQ(e)}function gQ(e,t){return e&&Zh(t,zx(t),e)}var MV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,HI=MV&&typeof module=="object"&&module&&!module.nodeType&&module,mQ=HI&&HI.exports===MV,GI=mQ?oo.Buffer:void 0,qI=GI?GI.allocUnsafe:void 0;function vQ(e,t){if(t)return e.slice();var n=e.length,r=qI?qI(n):new e.constructor(n);return e.copy(r),r}function jV(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function yQ(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function OV(){return[]}var AQ=Object.prototype,bQ=AQ.propertyIsEnumerable,WI=Object.getOwnPropertySymbols,Ux=WI?function(e){return e==null?[]:(e=Object(e),yQ(WI(e),function(t){return bQ.call(e,t)}))}:OV;function _Q(e,t){return Zh(e,Ux(e),t)}function Hx(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Gx=PV(Object.getPrototypeOf,Object),SQ=Object.getOwnPropertySymbols,VV=SQ?function(e){for(var t=[];e;)Hx(t,Ux(e)),e=Gx(e);return t}:OV;function xQ(e,t){return Zh(e,VV(e),t)}function LV(e,t,n){var r=t(e);return js(e)?r:Hx(r,n(e))}function J_(e){return LV(e,ep,Ux)}function NV(e){return LV(e,zx,VV)}var X_=Bc(oo,"DataView"),Z_=Bc(oo,"Promise"),Qu=Bc(oo,"Set"),eS=Bc(oo,"WeakMap"),KI="[object Map]",wQ="[object Object]",YI="[object Promise]",QI="[object Set]",JI="[object WeakMap]",XI="[object DataView]",EQ=Nc(X_),CQ=Nc(Ih),kQ=Nc(Z_),TQ=Nc(Qu),IQ=Nc(eS),Ks=Lc;(X_&&Ks(new X_(new ArrayBuffer(1)))!=XI||Ih&&Ks(new Ih)!=KI||Z_&&Ks(Z_.resolve())!=YI||Qu&&Ks(new Qu)!=QI||eS&&Ks(new eS)!=JI)&&(Ks=function(e){var t=Lc(e),n=t==wQ?e.constructor:void 0,r=n?Nc(n):"";if(r)switch(r){case EQ:return XI;case CQ:return KI;case kQ:return YI;case TQ:return QI;case IQ:return JI}return t});var RQ=Object.prototype,PQ=RQ.hasOwnProperty;function MQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&PQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var N0=oo.Uint8Array;function qx(e){var t=new e.constructor(e.byteLength);return new N0(t).set(new N0(e)),t}function jQ(e,t){var n=t?qx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var OQ=/\w*$/;function VQ(e){var t=new e.constructor(e.source,OQ.exec(e));return t.lastIndex=e.lastIndex,t}var ZI=Ms?Ms.prototype:void 0,eR=ZI?ZI.valueOf:void 0;function LQ(e){return eR?Object(eR.call(e)):{}}function NQ(e,t){var n=t?qx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var BQ="[object Boolean]",DQ="[object Date]",FQ="[object Map]",$Q="[object Number]",zQ="[object RegExp]",UQ="[object Set]",HQ="[object String]",GQ="[object Symbol]",qQ="[object ArrayBuffer]",WQ="[object DataView]",KQ="[object Float32Array]",YQ="[object Float64Array]",QQ="[object Int8Array]",JQ="[object Int16Array]",XQ="[object Int32Array]",ZQ="[object Uint8Array]",eJ="[object Uint8ClampedArray]",tJ="[object Uint16Array]",nJ="[object Uint32Array]";function rJ(e,t,n){var r=e.constructor;switch(t){case qQ:return qx(e);case BQ:case DQ:return new r(+e);case WQ:return jQ(e,n);case KQ:case YQ:case QQ:case JQ:case XQ:case ZQ:case eJ:case tJ:case nJ:return NQ(e,n);case FQ:return new r;case $Q:case HQ:return new r(e);case zQ:return VQ(e);case UQ:return new r;case GQ:return LQ(e)}}var tR=Object.create,iJ=function(){function e(){}return function(t){if(!no(t))return{};if(tR)return tR(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function sJ(e){return typeof e.constructor=="function"&&!$x(e)?iJ(Gx(e)):{}}var oJ="[object Map]";function aJ(e){return ha(e)&&Ks(e)==oJ}var nR=pd&&pd.isMap,lJ=nR?Fx(nR):aJ,cJ="[object Set]";function uJ(e){return ha(e)&&Ks(e)==cJ}var rR=pd&&pd.isSet,dJ=rR?Fx(rR):uJ,fJ=1,hJ=2,pJ=4,BV="[object Arguments]",gJ="[object Array]",mJ="[object Boolean]",vJ="[object Date]",yJ="[object Error]",DV="[object Function]",AJ="[object GeneratorFunction]",bJ="[object Map]",_J="[object Number]",FV="[object Object]",SJ="[object RegExp]",xJ="[object Set]",wJ="[object String]",EJ="[object Symbol]",CJ="[object WeakMap]",kJ="[object ArrayBuffer]",TJ="[object DataView]",IJ="[object Float32Array]",RJ="[object Float64Array]",PJ="[object Int8Array]",MJ="[object Int16Array]",jJ="[object Int32Array]",OJ="[object Uint8Array]",VJ="[object Uint8ClampedArray]",LJ="[object Uint16Array]",NJ="[object Uint32Array]",Sn={};Sn[BV]=Sn[gJ]=Sn[kJ]=Sn[TJ]=Sn[mJ]=Sn[vJ]=Sn[IJ]=Sn[RJ]=Sn[PJ]=Sn[MJ]=Sn[jJ]=Sn[bJ]=Sn[_J]=Sn[FV]=Sn[SJ]=Sn[xJ]=Sn[wJ]=Sn[EJ]=Sn[OJ]=Sn[VJ]=Sn[LJ]=Sn[NJ]=!0;Sn[yJ]=Sn[DV]=Sn[CJ]=!1;function Gm(e,t,n,r,i,s){var o,l=t&fJ,u=t&hJ,c=t&pJ;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!no(e))return e;var h=js(e);if(h){if(o=MQ(e),!l)return jV(e,o)}else{var f=Ks(e),m=f==DV||f==AJ;if(L0(e))return vQ(e,l);if(f==FV||f==BV||m&&!i){if(o=u||m?{}:sJ(e),!l)return u?xQ(e,gQ(o,e)):_Q(e,uQ(o,e))}else{if(!Sn[f])return i?e:{};o=rJ(e,f,l)}}s||(s=new To);var v=s.get(e);if(v)return v;s.set(e,o),dJ(e)?e.forEach(function(S){o.add(Gm(S,t,n,S,e,s))}):lJ(e)&&e.forEach(function(S,w){o.set(w,Gm(S,t,n,w,e,s))});var A=c?u?NV:J_:u?zx:ep,b=h?void 0:A(e);return _Y(b||e,function(S,w){b&&(w=S,S=e[w]),EV(o,w,Gm(S,t,n,w,e,s))}),o}var BJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DJ=/^\w*$/;function Wx(e,t){if(js(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Sv(e)?!0:DJ.test(e)||!BJ.test(e)||t!=null&&e in Object(t)}var FJ=500;function $J(e){var t=Cv(e,function(r){return n.size===FJ&&n.clear(),r}),n=t.cache;return t}var zJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UJ=/\\(\\)?/g,HJ=$J(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zJ,function(n,r,i,s){t.push(i?s.replace(UJ,"$1"):r||n)}),t}),GJ=1/0,iR=Ms?Ms.prototype:void 0,sR=iR?iR.toString:void 0;function $V(e){if(typeof e=="string")return e;if(js(e))return Bx(e,$V)+"";if(Sv(e))return sR?sR.call(e):"";var t=e+"";return t=="0"&&1/e==-GJ?"-0":t}function Kx(e){return e==null?"":$V(e)}function Dv(e,t){return js(e)?e:Wx(e,t)?[e]:HJ(Kx(e))}function qJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var WJ=1/0;function tp(e){if(typeof e=="string"||Sv(e))return e;var t=e+"";return t=="0"&&1/e==-WJ?"-0":t}function Yx(e,t){t=Dv(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[tp(t[n++])];return n&&n==r?e:void 0}function Qx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function KJ(e,t){return t.length<2?e:Yx(e,Qx(t,0,-1))}function YJ(e,t){return t=Dv(t,e),e=KJ(e,t),e==null||delete e[tp(qJ(t))]}var QJ="[object Object]",JJ=Function.prototype,XJ=Object.prototype,zV=JJ.toString,ZJ=XJ.hasOwnProperty,eX=zV.call(Object);function tX(e){if(!ha(e)||Lc(e)!=QJ)return!1;var t=Gx(e);if(t===null)return!0;var n=ZJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&zV.call(n)==eX}function nX(e){return tX(e)?void 0:e}var oR=Ms?Ms.isConcatSpreadable:void 0;function rX(e){return js(e)||Dx(e)||!!(oR&&e&&e[oR])}function iX(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=rX),i||(i=[]);++s<o;){var l=e[s];n(l)?Hx(i,l):i[i.length]=l}return i}function sX(e){var t=e==null?0:e.length;return t?iX(e):[]}function oX(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var aR=Math.max;function aX(e,t,n){return t=aR(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=aR(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(o),oX(e,this,l)}}function lX(e){return function(){return e}}function UV(e){return e}var cX=V0?function(e,t){return V0(e,"toString",{configurable:!0,enumerable:!1,value:lX(t),writable:!0})}:UV,uX=800,dX=16,fX=Date.now;function hX(e){var t=0,n=0;return function(){var r=fX(),i=dX-(r-n);if(n=r,i>0){if(++t>=uX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pX=hX(cX);function gX(e){return pX(aX(e,void 0,sX),e+"")}var mX=1,vX=2,yX=4,AX=gX(function(e,t){var n={};if(e==null)return n;var r=!1;t=Bx(t,function(s){return s=Dv(s,e),r||(r=s.length>1),s}),Zh(e,NV(e),n),r&&(n=Gm(n,mX|vX|yX,nX));for(var i=t.length;i--;)YJ(n,t[i]);return n});function ro(e,t=!1){const[n,r]=x.useState(null);return x.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function oi(e,t,n=[]){const r=Array.isArray(e)?e:[e];x.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function ss(e,t,n=[]){const r=x.useMemo(t,[]),[i,s]=x.useState(r),o=Array.isArray(e)?e:[e];return x.useEffect(()=>{s(t())},n),x.useEffect(()=>{const l=()=>s(t());return o.forEach(u=>u.subscribe(l)),()=>o.forEach(u=>u.unsubscribe(l))},[...o]),i}function bX(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var _X=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,SX=bX(function(e){return _X.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),xX=SX,wX=function(t){return t!=="theme"},lR=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?xX:wX},cR=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},EX=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return mV(n,r,i),fY(function(){return vV(n,r,i)}),null},W=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var l=cR(t,n,r),u=l||lR(i),c=!u("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{f.push(h[0][0]);for(var m=h.length,v=1;v<m;v++)f.push(h[v],h[0][v])}var A=xV(function(b,S,w){var I=c&&b.as||i,R="",T=[],E=b;if(b.theme==null){E={};for(var P in b)E[P]=b[P];E.theme=x.useContext(Bv)}typeof b.className=="string"?R=sY(S.registered,T,b.className):b.className!=null&&(R=b.className+" ");var N=Nx(f.concat(T),S.registered,E);R+=S.key+"-"+N.name,o!==void 0&&(R+=" "+o);var j=c&&l===void 0?lR(I):u,V={};for(var k in b)c&&k==="as"||j(k)&&(V[k]=b[k]);return V.className=R,V.ref=w,x.createElement(x.Fragment,null,x.createElement(EX,{cache:S,serialized:N,isStringTag:typeof I=="string"}),x.createElement(I,V))});return A.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=t.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=f,A.__emotion_forwardProp=l,Object.defineProperty(A,"toString",{value:function(){return"."+o}}),A.withComponent=function(b,S){return e(b,O0({},n,S,{shouldForwardProp:cR(A,S,!0)})).apply(void 0,f)},A}};const gd={animation:"focusAnimation 1000ms ease-in-out infinite both"},CX={boxShadow:`inset 0px 0px 0px 4px ${Ve.colors.text.active}`},xt={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:Ve.colors.text.active}};function kX(){var e=x.useRef(!0);return e.current?(e.current=!1,!0):e.current}var B0=function(){return B0=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},B0.apply(this,arguments)};function TX(){var e=x.useRef(!1),t=x.useCallback(function(){return e.current},[]);return x.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function IX(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=x.useRef(0),i=TX(),s=x.useState(n),o=s[0],l=s[1],u=x.useCallback(function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var f=++r.current;return o.loading||l(function(m){return B0(B0({},m),{loading:!0})}),e.apply(void 0,c).then(function(m){return i()&&f===r.current&&l({value:m,loading:!1}),m},function(m){return i()&&f===r.current&&l({error:m,loading:!1}),m})},t);return[o,u]}function uR(e,t){t===void 0&&(t=[]);var n=IX(e,t,{loading:!0}),r=n[0],i=n[1];return x.useEffect(function(){i()},[i]),r}function RX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function PX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var MX=typeof window<"u",jX=function(e){return(e+1)%1e6};function HV(){var e=x.useReducer(jX,0),t=e[1];return t}var OX=function(e){x.useEffect(e,[])},VX=MX?window:null,dR=function(e){return!!e.addEventListener},fR=function(e){return!!e.on},LX=function(e,t,n,r){n===void 0&&(n=VX),x.useEffect(function(){if(t&&n)return dR(n)?RX(n,e,t,r):fR(n)&&n.on(e,t,r),function(){dR(n)?PX(n,e,t,r):fR(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},GV=function(e,t){var n=x.useRef(function(){});x.useEffect(function(){n.current=e}),x.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},NX=function(e){var t=x.useRef(e);t.current=e,OX(function(){return function(){return t.current()}})};function BX(e){var t=x.useRef();return x.useEffect(function(){t.current=e}),t.current}var DX=function(e,t){return e===t};function FX(e,t){t===void 0&&(t=DX);var n=x.useRef(),r=x.useRef(e),i=kX();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function $X(){const[e,t]=x.useState(null),[n,r]=x.useState(cc.isStarted()),[i,s]=x.useState(cc.getLatency());GV(()=>{s(cc.getLatency())},1e3),oi(ve.micServerStarted,()=>{r(!0)}),oi(ve.micServerStopped,()=>{r(!1)});const o=ss([ve.remoteMicConnected,ve.remoteMicDisconnected],()=>Mt.getRemoteMics(),[n]);return x.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?p.jsxs(zX,{children:[p.jsxs(hR,{children:[p.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&p.jsxs(p.Fragment,{children:[" (",i,"ms)"]})]}),n&&p.jsx(p.Fragment,{children:p.jsxs(hR,{children:[p.jsx("strong",{children:"connected mics"}),": ",o.length]})})]}):null}const zX=W("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",xt,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),hR=W("div",{target:"eeky7rp0"})(""),Jx="-",UX=e=>{const t=GX(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Jx);return l[0]===""&&l.length!==1&&l.shift(),qV(l,t)||HX(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},qV=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?qV(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Jx);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},pR=/^\[(.+)\]$/,HX=e=>{if(pR.test(e)){const t=pR.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},GX=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return WX(Object.entries(e.classGroups),n).forEach(([s,o])=>{tS(o,r,s,t)}),r},tS=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:gR(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(qX(i)){tS(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{tS(o,gR(t,s),n,r)})})},gR=(e,t)=>{let n=e;return t.split(Jx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qX=e=>e.isThemeGetter,WX=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[n,i]}):e,KX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},WV="!",YX=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=l=>{const u=[];let c=0,h=0,f;for(let S=0;S<l.length;S++){let w=l[S];if(c===0){if(w===i&&(r||l.slice(S,S+s)===t)){u.push(l.slice(h,S)),h=S+s;continue}if(w==="/"){f=S;continue}}w==="["?c++:w==="]"&&c--}const m=u.length===0?l:l.substring(h),v=m.startsWith(WV),A=v?m.substring(1):m,b=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:A,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},QX=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},JX=e=>({cache:KX(e.cacheSize),parseClassName:YX(e),...UX(e)}),XX=/\s+/,ZX=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(XX);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=n(c);let A=!!v,b=r(A?m.substring(0,v):m);if(!b){if(!A){l=c+(l.length>0?" "+l:l);continue}if(b=r(m),!b){l=c+(l.length>0?" "+l:l);continue}A=!1}const S=QX(h).join(":"),w=f?S+WV:S,I=w+b;if(s.includes(I))continue;s.push(I);const R=i(b,A);for(let T=0;T<R.length;++T){const E=R[T];s.push(w+E)}l=c+(l.length>0?" "+l:l)}return l};function eZ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=KV(t))&&(r&&(r+=" "),r+=n);return r}const KV=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=KV(e[r]))&&(n&&(n+=" "),n+=t);return n};function tZ(e,...t){let n,r,i,s=o;function o(u){const c=t.reduce((h,f)=>f(h),e());return n=JX(c),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const c=r(u);if(c)return c;const h=ZX(u,n);return i(u,h),h}return function(){return s(eZ.apply(null,arguments))}}const Tn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},YV=/^\[(?:([a-z-]+):)?(.+)\]$/i,nZ=/^\d+\/\d+$/,rZ=new Set(["px","full","screen"]),iZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wo=e=>Ju(e)||rZ.has(e)||nZ.test(e),$a=e=>jd(e,"length",mZ),Ju=e=>!!e&&!Number.isNaN(Number(e)),S1=e=>jd(e,"number",Ju),Mf=e=>!!e&&Number.isInteger(Number(e)),cZ=e=>e.endsWith("%")&&Ju(e.slice(0,-1)),It=e=>YV.test(e),za=e=>iZ.test(e),uZ=new Set(["length","size","percentage"]),dZ=e=>jd(e,uZ,QV),fZ=e=>jd(e,"position",QV),hZ=new Set(["image","url"]),pZ=e=>jd(e,hZ,yZ),gZ=e=>jd(e,"",vZ),jf=()=>!0,jd=(e,t,n)=>{const r=YV.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},mZ=e=>sZ.test(e)&&!oZ.test(e),QV=()=>!1,vZ=e=>aZ.test(e),yZ=e=>lZ.test(e),AZ=()=>{const e=Tn("colors"),t=Tn("spacing"),n=Tn("blur"),r=Tn("brightness"),i=Tn("borderColor"),s=Tn("borderRadius"),o=Tn("borderSpacing"),l=Tn("borderWidth"),u=Tn("contrast"),c=Tn("grayscale"),h=Tn("hueRotate"),f=Tn("invert"),m=Tn("gap"),v=Tn("gradientColorStops"),A=Tn("gradientColorStopPositions"),b=Tn("inset"),S=Tn("margin"),w=Tn("opacity"),I=Tn("padding"),R=Tn("saturate"),T=Tn("scale"),E=Tn("sepia"),P=Tn("skew"),N=Tn("space"),j=Tn("translate"),V=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",It,t],H=()=>[It,t],B=()=>["",Wo,$a],G=()=>["auto",Ju,It],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",It],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Ju,It];return{cacheSize:500,separator:":",theme:{colors:[jf],spacing:[Wo,$a],blur:["none","",za,It],brightness:U(),borderColor:[e],borderRadius:["none","","full",za,It],borderSpacing:H(),borderWidth:B(),contrast:U(),grayscale:Q(),hueRotate:U(),invert:Q(),gap:H(),gradientColorStops:[e],gradientColorStopPositions:[cZ,$a],inset:D(),margin:D(),opacity:U(),padding:H(),saturate:U(),scale:U(),sepia:Q(),skew:U(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[za]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),It]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mf,It]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Mf,It]}],"grid-cols":[{"grid-cols":[jf]}],"col-start-end":[{col:["auto",{span:["full",Mf,It]},It]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[jf]}],"row-start-end":[{row:["auto",{span:[Mf,It]},It]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[za]},za]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",za,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",S1]}],"font-family":[{font:[jf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",Ju,S1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wo,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wo,$a]}],"underline-offset":[{"underline-offset":["auto",Wo,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),fZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Wo,It]}],"outline-w":[{outline:[Wo,$a]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Wo,$a]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",za,gZ]}],"shadow-color":[{shadow:[jf]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",za,It]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[R]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Mf,It]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wo,$a,S1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JV=tZ(AZ),wc=x.forwardRef(function({as:t,className:n,children:r,active:i,...s},o){const l=t||"span";return p.jsx(l,{className:JV(`typography text-base [&_a]:text-active [&_a]:typography ${i?"text-active":""}`,n),...s,ref:o,children:r})});var x1=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function w1(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function XV(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function ZV(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function bZ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var Xx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":x1?173:189,"=":x1?61:187,";":x1?59:186,"'":222,"[":219,"]":221,"\\":220},ll={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},nS={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},qr={16:!1,18:!1,17:!1,91:!1},mr={};for(var Yg=1;Yg<20;Yg++)Xx["f".concat(Yg)]=111+Yg;var Bn=[],mR=!1,eL="all",tL=[],Fv=function(t){return Xx[t.toLowerCase()]||ll[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function nL(e){eL=e||"all"}function Oh(){return eL||"all"}function _Z(){return Bn.slice(0)}function SZ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function xZ(e){return typeof e=="string"&&(e=Fv(e)),Bn.indexOf(e)!==-1}function wZ(e,t){var n,r;e||(e=Oh());for(var i in mr)if(Object.prototype.hasOwnProperty.call(mr,i))for(n=mr[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Oh()===e&&nL(t||"all")}function EZ(e){var t=e.keyCode||e.which||e.charCode,n=Bn.indexOf(t);if(n>=0&&Bn.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Bn.splice(0,Bn.length),(t===93||t===224)&&(t=91),t in qr){qr[t]=!1;for(var r in ll)ll[r]===t&&(Zi[r]=!1)}}function CZ(e){if(typeof e>"u")Object.keys(mr).forEach(function(o){return delete mr[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&E1(o)});else if(typeof e=="object")e.key&&E1(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),E1({key:e,scope:i,method:s,splitKey:"+"})}}var E1=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,l=ZV(n);l.forEach(function(u){var c=u.split(o),h=c.length,f=c[h-1],m=f==="*"?"*":Fv(f);if(mr[m]){r||(r=Oh());var v=h>1?XV(ll,c):[];mr[m]=mr[m].filter(function(A){var b=i?A.method===i:!0;return!(b&&A.scope===r&&bZ(A.mods,v))})}})};function vR(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in qr)Object.prototype.hasOwnProperty.call(qr,s)&&(!qr[s]&&t.mods.indexOf(+s)>-1||qr[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!qr[16]&&!qr[18]&&!qr[17]&&!qr[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function yR(e,t){var n=mr["*"],r=e.keyCode||e.which||e.charCode;if(Zi.filter.call(this,e)){if((r===93||r===224)&&(r=91),Bn.indexOf(r)===-1&&r!==229&&Bn.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(A){var b=nS[A];e[A]&&Bn.indexOf(b)===-1?Bn.push(b):!e[A]&&Bn.indexOf(b)>-1?Bn.splice(Bn.indexOf(b),1):A==="metaKey"&&e[A]&&Bn.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Bn=Bn.slice(Bn.indexOf(b))))}),r in qr){qr[r]=!0;for(var i in ll)ll[i]===r&&(Zi[i]=!0);if(!n)return}for(var s in qr)Object.prototype.hasOwnProperty.call(qr,s)&&(qr[s]=e[nS[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Bn.indexOf(17)===-1&&Bn.push(17),Bn.indexOf(18)===-1&&Bn.push(18),qr[17]=!0,qr[18]=!0);var o=Oh();if(n)for(var l=0;l<n.length;l++)n[l].scope===o&&(e.type==="keydown"&&n[l].keydown||e.type==="keyup"&&n[l].keyup)&&vR(e,n[l],o,t);if(r in mr){for(var u=0;u<mr[r].length;u++)if((e.type==="keydown"&&mr[r][u].keydown||e.type==="keyup"&&mr[r][u].keyup)&&mr[r][u].key){for(var c=mr[r][u],h=c.splitKey,f=c.key.split(h),m=[],v=0;v<f.length;v++)m.push(Fv(f[v]));m.sort().join("")===Bn.sort().join("")&&vR(e,c,o,t)}}}}function kZ(e){return tL.indexOf(e)>-1}function Zi(e,t,n){Bn=[];var r=ZV(e),i=[],s="all",o=document,l=0,u=!1,c=!0,h="+",f=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(u=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(f=t.capture),typeof t.splitKey=="string"&&(h=t.splitKey)),typeof t=="string"&&(s=t);l<r.length;l++)e=r[l].split(h),i=[],e.length>1&&(i=XV(ll,e)),e=e[e.length-1],e=e==="*"?"*":Fv(e),e in mr||(mr[e]=[]),mr[e].push({keyup:u,keydown:c,scope:s,mods:i,shortcut:r[l],method:n,key:r[l],splitKey:h,element:o});typeof o<"u"&&!kZ(o)&&window&&(tL.push(o),w1(o,"keydown",function(m){yR(m,o)},f),mR||(mR=!0,w1(window,"focus",function(){Bn=[]},f)),w1(o,"keyup",function(m){yR(m,o),EZ(m)},f))}function TZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(mr).forEach(function(n){var r=mr[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var C1={setScope:nL,getScope:Oh,deleteScope:wZ,getPressedKeyCodes:_Z,isPressed:xZ,filter:SZ,trigger:TZ,unbind:CZ,keyMap:Xx,modifier:ll,modifierMap:nS};for(var k1 in C1)Object.prototype.hasOwnProperty.call(C1,k1)&&(Zi[k1]=C1[k1]);if(typeof window<"u"){var IZ=window.hotkeys;Zi.noConflict=function(e){return e&&window.hotkeys===Zi&&(window.hotkeys=IZ),Zi},window.hotkeys=Zi}Zi.filter=function(){return!0};var rL=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},RZ=function(t){return rL(t,["INPUT","TEXTAREA","SELECT"])};function mi(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,l=i.keyup,u=i.keydown,c=i.filterPreventDefault,h=c===void 0?!0:c,f=i.enabled,m=f===void 0?!0:f,v=i.enableOnContentEditable,A=v===void 0?!1:v,b=x.useRef(null),S=x.useCallback(function(w,I){var R,T;return o&&!o(w)?!h:RZ(w)&&!rL(w,s)||(R=w.target)!=null&&R.isContentEditable&&!A?!0:b.current===null||document.activeElement===b.current||(T=b.current)!=null&&T.contains(document.activeElement)?(t(w,I),!0):!1},r?[b,s,o].concat(r):[b,s,o]);return x.useEffect(function(){if(!m){Zi.unbind(e,S);return}return l&&u!==!0&&(n.keydown=!1),Zi(e,n||{},S),function(){return Zi.unbind(e,S)}},[S,e,m]),b}Zi.isPressed;const rS="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var k5,wm,T5;try{(T5=(wm=(k5=global==null?void 0:global.navigator)==null?void 0:k5.keyboard)==null?void 0:wm.lock)==null||T5.call(wm,["Escape"])}catch(e){console.warn(e)}var I5,R5;const PZ=!!((R5=(I5=global==null?void 0:global.navigator)==null?void 0:I5.keyboard)!=null&&R5.lock),zl=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Fc(e,t=!0,n){oi(ve.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),mi("up",zl(e.up),{enabled:t&&!!(e!=null&&e.up)},n),mi("down",zl(e.down),{enabled:t&&!!(e!=null&&e.down)},n),mi("left",zl(e.left),{enabled:t&&!!(e!=null&&e.left)},n),mi("right",zl(e.right),{enabled:t&&!!(e!=null&&e.right)},n),mi("Enter",zl(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),mi("Escape,Backspace",zl(e.back),{enabled:t&&!!(e!=null&&e.back)},n),mi("Shift+R",zl(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function iL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iL(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iL(e))&&(r&&(r+=" "),r+=t);return r}function MZ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function jZ(...e){return t=>e.forEach(n=>MZ(n,t))}var sL=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),s=i.find(VZ);if(s){const o=s.props.children,l=i.map(u=>u===s?x.Children.count(o)>1?x.Children.only(null):x.isValidElement(o)?o.props.children:null:u);return p.jsx(iS,{...r,ref:t,children:x.isValidElement(o)?x.cloneElement(o,void 0,l):null})}return p.jsx(iS,{...r,ref:t,children:n})});sL.displayName="Slot";var iS=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=NZ(n);return x.cloneElement(n,{...LZ(r,n.props),ref:t?jZ(t,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});iS.displayName="SlotClone";var OZ=({children:e})=>p.jsx(p.Fragment,{children:e});function VZ(e){return x.isValidElement(e)&&e.type===OZ}function LZ(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function NZ(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function BZ(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const DZ=(e={})=>{const t=e.compose||rn,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(o,l=n)=>{const u=(c,...h)=>{const f=typeof c=="function",m=!f&&String.raw({raw:c},...h);return x.forwardRef((v,A)=>{const{className:b,asChild:S,...w}=v,I=typeof o=="function"?o(v):o||{},R=BZ({...I,...w},l),T=S?sL:i,E=f?c(v):m;return x.createElement(T,{ref:A,className:typeof E=="function"?P=>t(E(P),typeof b=="function"?b(P):b):t(E,b),...R})})};return u.transientProps=c=>s(o,typeof c=="function"?f=>!c(f):f=>!c.includes(f)),o===void 0&&(u.attrs=c=>s(c)),u};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},$n=DZ();function FZ({help:e}){const[t]=Tt(Jr),[n,r]=Tt(a3);mi("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:p.jsx(p.Fragment,{children:p.jsx(YZ,{"data-test":"help-container",onClick:()=>r(!n),"data-visible":!!i.length&&n,children:n&&p.jsxs(p.Fragment,{children:[p.jsx(KZ,{className:"UseKeyboardIndicator",children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:l,defaultLabel:u}=WZ[s];return p.jsxs(AR,{children:[p.jsx(_R,{children:o??u}),p.jsx(bR,{children:p.jsx(l,{})})]},s)}),p.jsxs(AR,{children:[p.jsx(_R,{children:"Show/hide this help"}),p.jsx(bR,{children:oL("h")()})]})]})})})}const Zx=({vertical:e=!1,horizontal:t=!1})=>p.jsxs(p.Fragment,{children:[p.jsx(Co,{disabled:!e,children:"↑"}),p.jsx("br",{}),p.jsx(Co,{disabled:!t,children:"←"}),p.jsx(Co,{disabled:!e,children:"↓"}),p.jsx(Co,{disabled:!t,children:"→"})]}),$Z=()=>p.jsx(Zx,{horizontal:!0}),zZ=()=>p.jsx(Zx,{vertical:!0}),UZ=()=>p.jsx(Zx,{vertical:!0,horizontal:!0}),HZ=()=>p.jsx(Co,{children:"Enter ⏎"}),GZ=()=>PZ?p.jsx(Co,{children:"Escape"}):p.jsx(Co,{children:"Backspace ⌫"}),oL=e=>()=>p.jsxs(p.Fragment,{children:[p.jsx(Co,{children:"Shift"})," + ",p.jsx(Co,{children:e.toUpperCase()})]}),qZ=()=>p.jsx(p.Fragment,{children:p.jsx(Co,{children:"start typing"})}),WZ={"horizontal-vertical":{view:UZ,defaultLabel:"Navigate"},horizontal:{view:$Z,defaultLabel:"Navigate"},vertical:{view:zZ,defaultLabel:"Navigate"},accept:{view:HZ,defaultLabel:"Select"},back:{view:GZ,defaultLabel:"Go back"},shiftR:{view:oL("r"),defaultLabel:"Pick random"},alphanumeric:{view:qZ,defaultLabel:"Search"}},AR=$n.div`flex items-center gap-4`,bR=$n.div`flex-nowrap flex-[2] text-white font-bold text-center [&_kbd]:m-1`,_R=$n(wc)`flex-[3] text-base text-right`,KZ=$n(wc)`absolute inset-0 bg-black/75 flex items-center justify-center text-white text-md p-8 invisible opacity-0 duration-300 hover:opacity-100 hover:visible`,YZ=$n.div(e=>["fixed top-[5rem] right-0 p-2 bg-black/50  flex-col gap-4 w-[34rem] cursor-pointer scale-75 z-[1000] [view-transition-name:help-view] [&_svg]:fill-white [&_.UseKeyboardIndicator]:hover:opacity-100 [&_.UseKeyboardIndicator]:hover:visible",e["data-visible"]?"flex mobile:hidden":"hidden"]),Co=$n.kbd(e=>["py-3 px-4 rounded-md border-t-gray-300 border-l-gray-300 border-solid border-[1.25px] border-gray-500 text-gray-700 leading-4 text-sm bg-gray-50 inline-block font-normal",e.disabled?"opacity-25":"opacity-100"]),ew=x.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),QZ=({children:e})=>{const[t,n]=x.useState({}),r=(h,f)=>{n(m=>({...m,[h]:f}))},i=h=>n(f=>AX(f,[h])),[s,o]=Object.entries(t).at(-1)??[];oi(ve.remoteMicConnected,({id:h})=>{var f;(f=Mt.getRemoteMicById(h))==null||f.connection.send({t:"keyboard-layout",help:o})}),x.useEffect(()=>{Mt.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:l,...u}=o??{},c=!!Object.values(u).length;return p.jsxs(ew.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,p.jsx(FZ,{help:u}),p.jsx($X,{})]})};var T1,SR;function JZ(){return SR||(SR=1,T1={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}),T1}var I1,xR;function XZ(){if(xR)return I1;xR=1;const{webm:e,mp4:t}=JZ(),n=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,r=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class i{constructor(){if(this.enabled=!1,r()){this._wakeLock=null;const o=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",o),document.addEventListener("fullscreenchange",o)}else n()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",e),this._addSourceToVideo(this.noSleepVideo,"mp4",t),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(o,l,u){var c=document.createElement("source");c.src=u,c.type=`video/${l}`,o.appendChild(c)}get isEnabled(){return this.enabled}enable(){return r()?navigator.wakeLock.request("screen").then(o=>{this._wakeLock=o,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(o=>{throw this.enabled=!1,console.error(`${o.name}, ${o.message}`),o}):n()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(l=>(this.enabled=!0,l)).catch(l=>{throw this.enabled=!1,l})}disable(){r()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):n()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}return I1=i,I1}var ZZ=XZ();const eee=Cr(ZZ),wR=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function Od(){const[e,t]=x.useState(wR()),n=x.useCallback(Ku(()=>{t(wR())},1e3),[]);return x.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}const tee=45,nee=7,ree=.005,iee="#ddd",ER=[];function see(){const e=x.useRef(null);x.useEffect(()=>{const r=e.current;if(!r)return;const i=r.getContext("2d"),s=(h=1)=>({x:Math.random()*r.width,y:Math.random()/h*r.height,opacity:0,radius:Math.floor(Math.random()*nee)+1,color:iee,speed:Math.random()*ree+1,sway:Math.random()-.5}),o=h=>{i&&(i.beginPath(),i.arc(h.x,h.y,h.radius,0,Math.PI*2),i.globalAlpha=h.opacity,i.fillStyle=h.color,i.fill(),i.closePath(),i.globalAlpha=1)},l=h=>{h.y+=h.speed,h.opacity=Math.min(1,h.opacity+h.speed-1),h.x+=h.sway,h.y>r.height&&Object.assign(h,s(1))};let u=!0;const c=()=>{i!==null&&(i.clearRect(0,0,r.width,r.height),ER.forEach(h=>{l(h),o(h)}),u&&requestAnimationFrame(c))};for(let h=0;h<tee;h++)ER.push(s());return c(),()=>{u=!1}},[]);const{width:t,height:n}=Od();return p.jsx("canvas",{ref:e,width:t,height:n})}const oee="/assets/eurovisionbg-CvR5q-FP.svg",np=x.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),ya=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=x.useContext(np);x.useEffect(()=>{n(e)},[e,n]),x.useEffect(()=>{r(t)},[t,r])},CR={default:{backgroundImage:`linear-gradient(-45deg, ${et.red.stroke}, ${et.blue.text}, ${et.blue.stroke}, ${et.red.stroke})`,backgroundSize:"400% 400%"},christmas:{backgroundImage:`linear-gradient(-45deg, ${et.christmasGreen.text}, ${et.christmasGreen.stroke}, #05144a, #05144a)`,backgroundSize:"400% 400%"},halloween:{background:"black"}};function aee({children:e}){const[t,n]=x.useState(!0),[r,i]=x.useState("regular"),[s]=Tt(xs);return p.jsxs(np.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&p.jsx(dee,{"data-theme":r,"data-graphic-level":s,style:CR[r]??CR.default,children:r==="christmas"&&p.jsx(see,{})}),e]})}const lee={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},cee=W("div",{target:"ev6htcq0"})("transform:scale(1, 4);background-image:url(",oee,");background-size:100% 50%;height:100%;&[data-animate='true']{",lee,";}"),kR=()=>{var e;return p.jsx(cee,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},uee=$n.div`bg-white w-full h-full`,dee=$n(uee)(e=>["z-[-1] top-0 fixed",e["data-theme"]==="halloween"?"bg-black":"",e["data-graphic-level"]==="high"?"animate-gradient":""]);function fee({size:e=16}){return p.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function $v(e){return x.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const hee=W("div",{target:"e1py91zd0"})(":root{--player-blue-text:",et.blue.text,";--player-blue-stroke:",et.blue.stroke,";--player-blue-star-fill:",et.blue.star.fill,";--player-blue-star-stroke:",et.blue.star.stroke,";--player-blue-perfect-fill:",et.blue.perfect.fill,";--player-blue-perfect-stroke:",et.blue.perfect.stroke,";--player-blue-starPerfect-fill:",et.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",et.blue.starPerfect.stroke,";--player-blue-hit-fill:",et.blue.hit.fill,";--player-blue-hit-stroke:",et.blue.hit.stroke,";--player-blue-miss-fill:",et.blue.miss.fill,";--player-blue-miss-stroke:",et.blue.miss.stroke,";}h1{",xt,";margin:0;text-align:center;font-size:4rem;color:",Ve.colors.text.active,";}h2{",xt,";margin:0;font-size:2.9rem;}h3{",xt,";margin:0;font-size:2.7rem;strong{color:",Ve.colors.text.active,";}}h4{",xt,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",xt,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",xt,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",xt,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",Ve.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",xt,";color:",Ve.colors.text.active,";text-decoration:underline;}strong{color:",Ve.colors.text.active,";}");function xo(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function aL(e){if(x.isValidElement(e)||!xo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=aL(e[n])}),t}function Bi(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return xo(e)&&xo(t)&&Object.keys(t).forEach(i=>{x.isValidElement(t[i])?r[i]=t[i]:xo(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&xo(e[i])?r[i]=Bi(e[i],t[i],n):n.clone?r[i]=xo(t[i])?aL(t[i]):t[i]:r[i]=t[i]}),r}var R1={exports:{}},P1,TR;function pee(){if(TR)return P1;TR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P1=e,P1}var M1,IR;function gee(){if(IR)return M1;IR=1;var e=pee();function t(){}function n(){}return n.resetWarningCache=t,M1=function(){function r(o,l,u,c,h,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},M1}var RR;function mee(){return RR||(RR=1,R1.exports=gee()()),R1.exports}var vee=mee();const Rt=Cr(vee);function Ec(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function Bt(e){if(typeof e!="string")throw new Error(Ec(7));return e.charAt(0).toUpperCase()+e.slice(1)}function PR(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Cc(e){return e&&e.ownerDocument||document}function D0(e){return Cc(e).defaultView||window}function sS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const oS=typeof window<"u"?x.useLayoutEffect:x.useEffect;let MR=0;function yee(e){const[t,n]=x.useState(e),r=e||t;return x.useEffect(()=>{t==null&&(MR+=1,n(`mui-${MR}`))},[t]),r}const Aee={...v0},jR=Aee.useId;function bee(e){if(jR!==void 0){const t=jR();return e??t}return yee(e)}function Bu(e){const t=x.useRef(e);return oS(()=>{t.current=e}),x.useRef((...n)=>(0,t.current)(...n)).current}function cl(...e){return x.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{sS(n,t)})},e)}const OR={};function lL(e,t){const n=x.useRef(OR);return n.current===OR&&(n.current=e(t)),n}const _ee=[];function See(e){x.useEffect(e,_ee)}class tw{constructor(){_f(this,"currentId",null);_f(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_f(this,"disposeEffect",()=>this.clear)}static create(){return new tw}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function xee(){const e=lL(tw.create).current;return See(e.disposeEffect),e}function VR(e){try{return e.matches(":focus-visible")}catch{}return!1}function wee(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function F0(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],o=t[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=l;n[i][u]=F0(s[u],o[u])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Si(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let o="",l=!0;for(let u=0;u<s.length;u+=1){const c=s[u];c&&(o+=(l===!0?"":" ")+t(c),l=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}const LR=e=>e,Eee=()=>{let e=LR;return{configure(t){e=t},generate(t){return e(t)},reset(){e=LR}}},Cee=Eee(),kee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function li(e,t,n="Mui"){const r=kee[t];return r?`${n}-${r}`:`${Cee.generate(e)}-${t}`}function ci(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=li(e,i,n)}),r}function Tee(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Iee(e){return typeof e=="string"}function Ree(e,t,n){return e===void 0||Iee(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function cL(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function NR(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Pee(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const v=rn(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),A={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...n,...i,...r};return v.length>0&&(b.className=v),Object.keys(A).length>0&&(b.style=A),{props:b,internalRef:void 0}}const o=cL({...i,...r}),l=NR(r),u=NR(i),c=t(o),h=rn(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...c,...n,...u,...l};return h.length>0&&(m.className=h),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:c.ref}}function Mee(e,t,n){return typeof e=="function"?e(t,n):e}function nw(e){var t;return parseInt(x.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function ph(e,t){return t?Bi(e,t,{clone:!1}):e}function jee(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,l;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((l=i.match(s))==null?void 0:l[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function Oee(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Vee(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function Lee(e){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...l)=>t(e.breakpoints.up(...l),o),s.down=(...l)=>t(e.breakpoints.down(...l),o),s.between=(...l)=>t(e.breakpoints.between(...l),o),s.only=(...l)=>t(e.breakpoints.only(...l),o),s.not=(...l)=>{const u=t(e.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const zv={xs:0,sm:600,md:900,lg:1200,xl:1536},BR={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${zv[e]}px)`},Nee={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:zv[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function ga(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||BR;return t.reduce((o,l,u)=>(o[s.up(s.keys[u])]=n(t[u]),o),{})}if(typeof t=="object"){const s=r.breakpoints||BR;return Object.keys(t).reduce((o,l)=>{if(Oee(s.keys,l)){const u=Vee(r.containerQueries?r:Nee,l);u&&(o[u]=n(t[l],l))}else if(Object.keys(s.values||zv).includes(l)){const u=s.up(l);o[u]=n(t[l],l)}else{const u=l;o[u]=t[u]}return o},{})}return n(t)}function uL(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function dL(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Oye(e,...t){const n=uL(e),r=[n,...t].reduce((i,s)=>Bi(i,s),{});return dL(Object.keys(n),r)}function Bee(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function Vye({values:e,breakpoints:t,base:n}){const r=n||Bee(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,l,u)=>(Array.isArray(e)?(o[l]=e[u]!=null?e[u]:e[s],s=u):typeof e=="object"?(o[l]=e[l]!=null?e[l]:e[s],s=l):o[l]=e,o),{})}function Uv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function $0(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Uv(e,n)||r,t&&(i=t(i,r,e)),i}function ur(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const l=o[t],u=o.theme,c=Uv(u,r)||{};return ga(o,l,f=>{let m=$0(c,i,f);return f===m&&typeof f=="string"&&(m=$0(c,i,`${t}${f==="default"?"":Bt(f)}`,f)),n===!1?m:{[n]:m}})};return s.propTypes={},s.filterProps=[t],s}function Dee(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Fee={m:"margin",p:"padding"},$ee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},DR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zee=Dee(e=>{if(e.length>2)if(DR[e])e=DR[e];else return[e];const[t,n]=e.split(""),r=Fee[t],i=$ee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),rw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],iw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...rw,...iw];function rp(e,t,n,r){const i=Uv(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),l=i[o];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function sw(e){return rp(e,"spacing",8)}function ip(e,t){return typeof t=="string"||t==null?t:e(t)}function Uee(e,t){return n=>e.reduce((r,i)=>(r[i]=ip(t,n),r),{})}function Hee(e,t,n,r){if(!t.includes(n))return null;const i=zee(n),s=Uee(i,r),o=e[n];return ga(e,o,s)}function fL(e,t){const n=sw(e.theme);return Object.keys(e).map(r=>Hee(e,t,r,n)).reduce(ph,{})}function Jn(e){return fL(e,rw)}Jn.propTypes={};Jn.filterProps=rw;function Xn(e){return fL(e,iw)}Xn.propTypes={};Xn.filterProps=iw;function Hv(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?ph(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function _s(e){return typeof e!="number"?e:`${e}px solid`}function Ls(e,t){return ur({prop:e,themeKey:"borders",transform:t})}const Gee=Ls("border",_s),qee=Ls("borderTop",_s),Wee=Ls("borderRight",_s),Kee=Ls("borderBottom",_s),Yee=Ls("borderLeft",_s),Qee=Ls("borderColor"),Jee=Ls("borderTopColor"),Xee=Ls("borderRightColor"),Zee=Ls("borderBottomColor"),ete=Ls("borderLeftColor"),tte=Ls("outline",_s),nte=Ls("outlineColor"),Gv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=rp(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:ip(t,r)});return ga(e,e.borderRadius,n)}return null};Gv.propTypes={};Gv.filterProps=["borderRadius"];Hv(Gee,qee,Wee,Kee,Yee,Qee,Jee,Xee,Zee,ete,Gv,tte,nte);const qv=e=>{if(e.gap!==void 0&&e.gap!==null){const t=rp(e.theme,"spacing",8),n=r=>({gap:ip(t,r)});return ga(e,e.gap,n)}return null};qv.propTypes={};qv.filterProps=["gap"];const Wv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=rp(e.theme,"spacing",8),n=r=>({columnGap:ip(t,r)});return ga(e,e.columnGap,n)}return null};Wv.propTypes={};Wv.filterProps=["columnGap"];const Kv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=rp(e.theme,"spacing",8),n=r=>({rowGap:ip(t,r)});return ga(e,e.rowGap,n)}return null};Kv.propTypes={};Kv.filterProps=["rowGap"];const rte=ur({prop:"gridColumn"}),ite=ur({prop:"gridRow"}),ste=ur({prop:"gridAutoFlow"}),ote=ur({prop:"gridAutoColumns"}),ate=ur({prop:"gridAutoRows"}),lte=ur({prop:"gridTemplateColumns"}),cte=ur({prop:"gridTemplateRows"}),ute=ur({prop:"gridTemplateAreas"}),dte=ur({prop:"gridArea"});Hv(qv,Wv,Kv,rte,ite,ste,ote,ate,lte,cte,ute,dte);function Xu(e,t){return t==="grey"?t:e}const fte=ur({prop:"color",themeKey:"palette",transform:Xu}),hte=ur({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xu}),pte=ur({prop:"backgroundColor",themeKey:"palette",transform:Xu});Hv(fte,hte,pte);function Qi(e){return e<=1&&e!==0?`${e*100}%`:e}const gte=ur({prop:"width",transform:Qi}),ow=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,o,l,u;const r=((o=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||zv[n];return r?((u=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Qi(n)}};return ga(e,e.maxWidth,t)}return null};ow.filterProps=["maxWidth"];const mte=ur({prop:"minWidth",transform:Qi}),vte=ur({prop:"height",transform:Qi}),yte=ur({prop:"maxHeight",transform:Qi}),Ate=ur({prop:"minHeight",transform:Qi});ur({prop:"size",cssProperty:"width",transform:Qi});ur({prop:"size",cssProperty:"height",transform:Qi});const bte=ur({prop:"boxSizing"});Hv(gte,ow,mte,vte,yte,Ate,bte);const sp={border:{themeKey:"borders",transform:_s},borderTop:{themeKey:"borders",transform:_s},borderRight:{themeKey:"borders",transform:_s},borderBottom:{themeKey:"borders",transform:_s},borderLeft:{themeKey:"borders",transform:_s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_s},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gv},color:{themeKey:"palette",transform:Xu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xu},backgroundColor:{themeKey:"palette",transform:Xu},p:{style:Xn},pt:{style:Xn},pr:{style:Xn},pb:{style:Xn},pl:{style:Xn},px:{style:Xn},py:{style:Xn},padding:{style:Xn},paddingTop:{style:Xn},paddingRight:{style:Xn},paddingBottom:{style:Xn},paddingLeft:{style:Xn},paddingX:{style:Xn},paddingY:{style:Xn},paddingInline:{style:Xn},paddingInlineStart:{style:Xn},paddingInlineEnd:{style:Xn},paddingBlock:{style:Xn},paddingBlockStart:{style:Xn},paddingBlockEnd:{style:Xn},m:{style:Jn},mt:{style:Jn},mr:{style:Jn},mb:{style:Jn},ml:{style:Jn},mx:{style:Jn},my:{style:Jn},margin:{style:Jn},marginTop:{style:Jn},marginRight:{style:Jn},marginBottom:{style:Jn},marginLeft:{style:Jn},marginX:{style:Jn},marginY:{style:Jn},marginInline:{style:Jn},marginInlineStart:{style:Jn},marginInlineEnd:{style:Jn},marginBlock:{style:Jn},marginBlockStart:{style:Jn},marginBlockEnd:{style:Jn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:qv},rowGap:{style:Kv},columnGap:{style:Wv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qi},maxWidth:{style:ow},minWidth:{transform:Qi},height:{transform:Qi},maxHeight:{transform:Qi},minHeight:{transform:Qi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _te(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Ste(e,t){return typeof e=="function"?e(t):e}function xte(){function e(n,r,i,s){const o={[n]:r,theme:i},l=s[n];if(!l)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:h,style:f}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const m=Uv(i,c)||{};return f?f(o):ga(o,r,A=>{let b=$0(m,h,A);return A===b&&typeof A=="string"&&(b=$0(m,h,`${n}${A==="default"?"":Bt(A)}`,A)),u===!1?b:{[u]:b}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??sp;function o(l){let u=l;if(typeof l=="function")u=l(i);else if(typeof l!="object")return l;if(!u)return null;const c=uL(i.breakpoints),h=Object.keys(c);let f=c;return Object.keys(u).forEach(m=>{const v=Ste(u[m],i);if(v!=null)if(typeof v=="object")if(s[m])f=ph(f,e(m,v,i,s));else{const A=ga({theme:i},v,b=>({[m]:b}));_te(A,v)?f[m]=t({sx:v,theme:i}):f=ph(f,A)}else f=ph(f,e(m,v,i,s))}),jee(i,dL(h,f))}return Array.isArray(r)?r.map(o):o(r)}return t}const kc=xte();kc.filterProps=["sx"];const wte=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??sp;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Ete(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=wte(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const l=t(...o);return xo(l)?{...r,...l}:r}:s={...r,...t},{...i,sx:s}}var Cte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],aS=W.bind();Cte.forEach(function(e){aS[e]=aS(e)});var kte=!1,Tte=/[A-Z]|^ms/g,Ite=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hL=function(t){return t.charCodeAt(1)===45},FR=function(t){return t!=null&&typeof t!="boolean"},j1=hV(function(e){return hL(e)?e:e.replace(Tte,"-$&").toLowerCase()}),$R=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ite,function(r,i,s){return Za={name:i,styles:s,next:Za},i})}return AV[t]!==1&&!hL(t)&&typeof n=="number"&&n!==0?n+"px":n},Rte="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function z0(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Za={name:i.name,styles:i.styles,next:Za},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Za={name:o.name,styles:o.styles,next:Za},o=o.next;var l=s.styles+";";return l}return Pte(e,t,n)}}var u=n;return u}function Pte(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=z0(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;FR(l)&&(r+=j1(s)+":"+$R(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&kte)throw new Error(Rte);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var u=0;u<o.length;u++)FR(o[u])&&(r+=j1(s)+":"+$R(s,o[u])+";");else{var c=z0(e,t,o);switch(s){case"animation":case"animationName":{r+=j1(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var zR=/label:\s*([^\s;{]+)\s*(;|$)/g,Za;function Mte(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Za=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=z0(n,t,s);else{var o=s;i+=o[0]}for(var l=1;l<e.length;l++)if(i+=z0(n,t,e[l]),r){var u=s;i+=u[l]}zR.lastIndex=0;for(var c="",h;(h=zR.exec(i))!==null;)c+="-"+h[1];var f=yV(i)+c;return{name:f,styles:i,next:Za}}function jte(e){return e==null||Object.keys(e).length===0}function pL(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(jte(i)?n:i):t;return p.jsx(pY,{styles:r})}/**
 * @mui/styled-engine v6.1.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ote(e,t){return aS(e,t)}function Vte(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const UR=[];function HR(e){return UR[0]=e,Mte(UR)}const Lte=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Nte(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Lte(t),o=Object.keys(s);function l(m){return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n})`}function u(m){return`@media (max-width:${(typeof t[m]=="number"?t[m]:m)-r/100}${n})`}function c(m,v){const A=o.indexOf(v);return`@media (min-width:${typeof t[m]=="number"?t[m]:m}${n}) and (max-width:${(A!==-1&&typeof t[o[A]]=="number"?t[o[A]]:v)-r/100}${n})`}function h(m){return o.indexOf(m)+1<o.length?c(m,o[o.indexOf(m)+1]):l(m)}function f(m){const v=o.indexOf(m);return v===0?l(o[1]):v===o.length-1?u(o[v]):c(m,o[o.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:l,down:u,between:c,only:h,not:f,unit:n,...i}}const Bte={borderRadius:4};function gL(e=8,t=sw({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Dte(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function aw(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=e,l=Nte(n),u=gL(i);let c=Bi({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...Bte,...s}},o);return c=Lee(c),c.applyStyles=Dte,c=t.reduce((h,f)=>Bi(h,f),c),c.unstable_sxConfig={...sp,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(f){return kc({sx:f,theme:this})},c}function Fte(e){return Object.keys(e).length===0}function mL(e=null){const t=x.useContext(Bv);return!t||Fte(t)?e:t}const $te=aw();function vL(e=$te){return mL(e)}function zte({styles:e,themeId:t,defaultTheme:n={}}){const r=vL(n),i=typeof e=="function"?e(t&&r[t]||r):e;return p.jsx(pL,{styles:i})}function yL(e){const{variants:t,...n}=e,r={variants:t,style:HR(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=HR(i.style))}),r}const Ute=aw();function O1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Hte(e){return e?(t,n)=>n[e]:null}function Gte(e,t,n){e.theme=Kte(e.theme)?n:e.theme[t]||e.theme}function qm(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>qm(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return AL(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function AL(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const o=t[s];if(typeof o.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(r))continue}else for(const l in o.props)if(e[l]!==o.props[l]&&((i=e.ownerState)==null?void 0:i[l])!==o.props[l])continue e;typeof o.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function qte(e={}){const{themeId:t,defaultTheme:n=Ute,rootShouldForwardProp:r=O1,slotShouldForwardProp:i=O1}=e;function s(l){Gte(l,t,n)}return(l,u={})=>{Vte(l,E=>E.filter(P=>P!==kc));const{name:c,slot:h,skipVariantsResolver:f,skipSx:m,overridesResolver:v=Hte(Qte(h)),...A}=u,b=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,S=m||!1;let w=O1;h==="Root"||h==="root"?w=r:h?w=i:Yte(l)&&(w=void 0);const I=Ote(l,{shouldForwardProp:w,label:Wte(),...A}),R=E=>{if(typeof E=="function"&&E.__emotion_real!==E)return function(N){return qm(N,E)};if(xo(E)){const P=yL(E);return P.variants?function(j){return qm(j,P)}:P.style}return E},T=(...E)=>{const P=[],N=E.map(R),j=[];if(P.push(s),c&&v&&j.push(function(H){var L,Y;const G=(Y=(L=H.theme.components)==null?void 0:L[c])==null?void 0:Y.styleOverrides;if(!G)return null;const F={};for(const q in G)F[q]=qm(H,G[q]);return v(H,F)}),c&&!b&&j.push(function(H){var F,L;const B=H.theme,G=(L=(F=B==null?void 0:B.components)==null?void 0:F[c])==null?void 0:L.variants;return G?AL(H,G):null}),S||j.push(kc),Array.isArray(N[0])){const D=N.shift(),H=new Array(P.length).fill(""),B=new Array(j.length).fill("");let G;G=[...H,...D,...B],G.raw=[...H,...D.raw,...B],P.unshift(G)}const V=[...P,...N,...j],k=I(...V);return l.muiName&&(k.muiName=l.muiName),k};return I.withConfig&&(T.withConfig=I.withConfig),T}}function Wte(e,t){return void 0}function Kte(e){for(const t in e)return!1;return!0}function Yte(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Qte(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function lw(e,t=0,n=1){return Tee(e,t,n)}function Jte(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ul(e){if(e.type)return e;if(e.charAt(0)==="#")return ul(Jte(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ec(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ec(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Xte=e=>{const t=ul(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Kf=(e,t)=>{try{return Xte(e)}catch{return e}};function Yv(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function bL(e){e=ul(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,h=(c+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",u.push(t[3])),Yv({type:l,values:u})}function lS(e){e=ul(e);let t=e.type==="hsl"||e.type==="hsla"?ul(bL(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Zte(e,t){const n=lS(e),r=lS(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Qs(e,t){return e=ul(e),t=lw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Yv(e)}function Qg(e,t,n){try{return Qs(e,t)}catch{return e}}function cw(e,t){if(e=ul(e),t=lw(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Yv(e)}function hn(e,t,n){try{return cw(e,t)}catch{return e}}function uw(e,t){if(e=ul(e),t=lw(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Yv(e)}function pn(e,t,n){try{return uw(e,t)}catch{return e}}function ene(e,t=.15){return lS(e)>.5?cw(e,t):uw(e,t)}function Jg(e,t,n){try{return ene(e,t)}catch{return e}}const _L=x.createContext(null);function dw(){return x.useContext(_L)}const tne=typeof Symbol=="function"&&Symbol.for,nne=tne?Symbol.for("mui.nested"):"__THEME_NESTED__";function rne(e,t){return typeof t=="function"?t(e):{...e,...t}}function ine(e){const{children:t,theme:n}=e,r=dw(),i=x.useMemo(()=>{const s=r===null?{...n}:rne(r,n);return s!=null&&(s[nne]=r!==null),s},[n,r]);return p.jsx(_L.Provider,{value:i,children:t})}const SL=x.createContext();function sne({value:e,...t}){return p.jsx(SL.Provider,{value:e??!0,...t})}const Lye=()=>x.useContext(SL)??!1,xL=x.createContext(void 0);function one({value:e,children:t}){return p.jsx(xL.Provider,{value:e,children:t})}function ane(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?F0(i.defaultProps,r):!i.styleOverrides&&!i.variants?F0(i,r):r}function lne({props:e,name:t}){const n=x.useContext(xL);return ane({props:e,name:t,theme:{components:n}})}const GR={};function qR(e,t,n,r=!1){return x.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?{...t,[e]:s}:s;return r?()=>o:o}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function wL(e){const{children:t,theme:n,themeId:r}=e,i=mL(GR),s=dw()||GR,o=qR(r,i,n),l=qR(r,s,n,!0),u=(r?o[r]:o).direction==="rtl";return p.jsx(ine,{theme:l,children:p.jsx(Bv.Provider,{value:o,children:p.jsx(sne,{value:u,children:p.jsx(one,{value:r?o[r].components:o.components,children:t})})})})}const WR={theme:void 0};function cne(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(WR.theme=i.theme,s=yL(e(WR)),t=s,n=i.theme),s}}const fw="mode",hw="color-scheme",une="data-color-scheme";function dne(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=fw,colorSchemeStorageKey:s=hw,attribute:o=une,colorSchemeNode:l="document.documentElement",nonce:u}=e||{};let c="",h=o;if(o==="class"&&(h=".%s"),o==="data"&&(h="[data-%s]"),h.startsWith(".")){const m=h.substring(1);c+=`${l}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${l}.classList.add('${m}'.replace('%s', colorScheme));`}const f=h.match(/\[([^\]]+)\]/);if(f){const[m,v]=f[1].split("=");v||(c+=`${l}.removeAttribute('${m}'.replace('%s', light));
      ${l}.removeAttribute('${m}'.replace('%s', dark));`),c+=`
      ${l}.setAttribute('${m}'.replace('%s', colorScheme), ${v?`${v}.replace('%s', colorScheme)`:'""'});`}else c+=`${l}.setAttribute('${h}', colorScheme);`;return p.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${c}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function KR(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function EL(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function fne(e){return EL(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function V1(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function hne(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=fw,colorSchemeStorageKey:o=hw,storageWindow:l=typeof window>"u"?void 0:window,noSsr:u=!1}=e,c=i.join(","),h=i.length>1,[f,m]=x.useState(()=>{const T=V1(s,t),E=V1(`${o}-light`,n),P=V1(`${o}-dark`,r);return{mode:T,systemMode:KR(T),lightColorScheme:E,darkColorScheme:P}}),[v,A]=x.useState(u||!h);x.useEffect(()=>{A(!0)},[]);const b=fne(f),S=x.useCallback(T=>{m(E=>{if(T===E.mode)return E;const P=T??t;try{localStorage.setItem(s,P)}catch{}return{...E,mode:P,systemMode:KR(P)}})},[s,t]),w=x.useCallback(T=>{T?typeof T=="string"?T&&!c.includes(T)?console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`):m(E=>{const P={...E};return EL(E,N=>{try{localStorage.setItem(`${o}-${N}`,T)}catch{}N==="light"&&(P.lightColorScheme=T),N==="dark"&&(P.darkColorScheme=T)}),P}):m(E=>{const P={...E},N=T.light===null?n:T.light,j=T.dark===null?r:T.dark;if(N)if(!c.includes(N))console.error(`\`${N}\` does not exist in \`theme.colorSchemes\`.`);else{P.lightColorScheme=N;try{localStorage.setItem(`${o}-light`,N)}catch{}}if(j)if(!c.includes(j))console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`);else{P.darkColorScheme=j;try{localStorage.setItem(`${o}-dark`,j)}catch{}}return P}):m(E=>{try{localStorage.setItem(`${o}-light`,n),localStorage.setItem(`${o}-dark`,r)}catch{}return{...E,lightColorScheme:n,darkColorScheme:r}})},[c,o,n,r]),I=x.useCallback(T=>{f.mode==="system"&&m(E=>{const P=T!=null&&T.matches?"dark":"light";return E.systemMode===P?E:{...E,systemMode:P}})},[f.mode]),R=x.useRef(I);return R.current=I,x.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const T=(...P)=>R.current(...P),E=window.matchMedia("(prefers-color-scheme: dark)");return E.addListener(T),T(E),()=>{E.removeListener(T)}},[h]),x.useEffect(()=>{if(l&&h){const T=E=>{const P=E.newValue;typeof E.key=="string"&&E.key.startsWith(o)&&(!P||c.match(P))&&(E.key.endsWith("light")&&w({light:P}),E.key.endsWith("dark")&&w({dark:P})),E.key===s&&(!P||["light","dark","system"].includes(P))&&S(P||t)};return l.addEventListener("storage",T),()=>{l.removeEventListener("storage",T)}}},[w,S,s,o,c,t,l,h]),{...f,mode:v?f.mode:void 0,systemMode:v?f.systemMode:void 0,colorScheme:v?b:void 0,setMode:S,setColorScheme:w}}const pne="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function gne(e){const{themeId:t,theme:n={},modeStorageKey:r=fw,colorSchemeStorageKey:i=hw,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:l}=e,u={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=x.createContext(void 0),h=()=>x.useContext(c)||u;function f(b){var Ge,jt,Xt,Zt,bt;const{children:S,theme:w,modeStorageKey:I=r,colorSchemeStorageKey:R=i,disableTransitionOnChange:T=s,storageWindow:E=typeof window>"u"?void 0:window,documentNode:P=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:j=!1,disableStyleSheetGeneration:V=!1,defaultMode:k="system",noSsr:D}=b,H=x.useRef(!1),B=dw(),G=x.useContext(c),F=!!G&&!j,L=x.useMemo(()=>w||(typeof n=="function"?n():n),[w]),Y=L[t],{colorSchemes:q={},components:Q={},cssVarPrefix:M,...U}=Y||L,X=Object.keys(q).filter(dt=>!!q[dt]).join(","),de=x.useMemo(()=>X.split(","),[X]),z=typeof o=="string"?o:o.light,pe=typeof o=="string"?o:o.dark,se=q[z]&&q[pe]?k:((jt=(Ge=q[U.defaultColorScheme])==null?void 0:Ge.palette)==null?void 0:jt.mode)||((Xt=U.palette)==null?void 0:Xt.mode),{mode:me,setMode:Ee,systemMode:Re,lightColorScheme:be,darkColorScheme:je,colorScheme:Xe,setColorScheme:Ue}=hne({supportedColorSchemes:de,defaultLightColorScheme:z,defaultDarkColorScheme:pe,modeStorageKey:I,colorSchemeStorageKey:R,defaultMode:se,storageWindow:E,noSsr:D});let Le=me,Oe=Xe;F&&(Le=G.mode,Oe=G.colorScheme);const mt=Oe||U.defaultColorScheme,vt=((Zt=U.generateThemeVars)==null?void 0:Zt.call(U))||U.vars,De={...U,components:Q,colorSchemes:q,cssVarPrefix:M,vars:vt};if(typeof De.generateSpacing=="function"&&(De.spacing=De.generateSpacing()),mt){const dt=q[mt];dt&&typeof dt=="object"&&Object.keys(dt).forEach(nt=>{dt[nt]&&typeof dt[nt]=="object"?De[nt]={...De[nt],...dt[nt]}:De[nt]=dt[nt]})}const ht=U.colorSchemeSelector;x.useEffect(()=>{if(Oe&&N&&ht&&ht!=="media"){const dt=ht;let nt=ht;if(dt==="class"&&(nt=".%s"),dt==="data"&&(nt="[data-%s]"),dt!=null&&dt.startsWith("data-")&&!dt.includes("%s")&&(nt=`[${dt}="%s"]`),nt.startsWith("."))N.classList.remove(...de.map(_t=>nt.substring(1).replace("%s",_t))),N.classList.add(nt.substring(1).replace("%s",Oe));else{const _t=nt.replace("%s",Oe).match(/\[([^\]]+)\]/);if(_t){const[cn,Lt]=_t[1].split("=");Lt||de.forEach(Pt=>{N.removeAttribute(cn.replace(Oe,Pt))}),N.setAttribute(cn,Lt?Lt.replace(/"|'/g,""):"")}else N.setAttribute(nt,Oe)}}},[Oe,ht,N,de]),x.useEffect(()=>{let dt;if(T&&H.current&&P){const nt=P.createElement("style");nt.appendChild(P.createTextNode(pne)),P.head.appendChild(nt),window.getComputedStyle(P.body),dt=setTimeout(()=>{P.head.removeChild(nt)},1)}return()=>{clearTimeout(dt)}},[Oe,T,P]),x.useEffect(()=>(H.current=!0,()=>{H.current=!1}),[]);const Ut=x.useMemo(()=>({allColorSchemes:de,colorScheme:Oe,darkColorScheme:je,lightColorScheme:be,mode:Le,setColorScheme:Ue,setMode:Ee,systemMode:Re}),[de,Oe,je,be,Le,Ue,Ee,Re,De.colorSchemeSelector]);let Wt=!0;(V||U.cssVariables===!1||F&&(B==null?void 0:B.cssVarPrefix)===M)&&(Wt=!1);const Ht=p.jsxs(x.Fragment,{children:[p.jsx(wL,{themeId:Y?t:void 0,theme:l?l(De):De,children:S}),Wt&&p.jsx(pL,{styles:((bt=De.generateStyleSheets)==null?void 0:bt.call(De))||[]})]});return F?Ht:p.jsx(c.Provider,{value:Ut,children:Ht})}const m=typeof o=="string"?o:o.light,v=typeof o=="string"?o:o.dark;return{CssVarsProvider:f,useColorScheme:h,getInitColorSchemeScript:b=>dne({colorSchemeStorageKey:i,defaultLightColorScheme:m,defaultDarkColorScheme:v,modeStorageKey:r,...b})}}function mne(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const YR=(e,t,n,r=[])=>{let i=e;t.forEach((s,o)=>{o===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},vne=(e,t,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([l,u])=>{(!n||n&&!n([...s,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,l],Array.isArray(u)?[...o,l]:o):t([...s,l],u,o))})}r(e)},yne=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function L1(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},o={};return vne(e,(l,u,c)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(l,u))){const h=`--${n?`${n}-`:""}${l.join("-")}`,f=yne(l,u);Object.assign(i,{[h]:f}),YR(s,l,`var(${h})`,c),YR(o,l,`var(${h}, ${f})`,c)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function Ane(e,t={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:o,defaultColorScheme:l="light",...u}=e,{vars:c,css:h,varsWithDefaults:f}=L1(u,t);let m=f;const v={},{[l]:A,...b}=s;if(Object.entries(b||{}).forEach(([R,T])=>{const{vars:E,css:P,varsWithDefaults:N}=L1(T,t);m=Bi(m,N),v[R]={css:P,vars:E}}),A){const{css:R,vars:T,varsWithDefaults:E}=L1(A,t);m=Bi(m,E),v[l]={css:R,vars:T}}function S(R,T){var P,N;let E=i;if(i==="class"&&(E=".%s"),i==="data"&&(E="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(E=`[${i}="%s"]`),R){if(E==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((N=(P=s[R])==null?void 0:P.palette)==null?void 0:N.mode)||R})`]:{":root":T}};if(E)return e.defaultColorScheme===R?`:root, ${E.replace("%s",String(R))}`:E.replace("%s",String(R))}return":root"}return{vars:m,generateThemeVars:()=>{let R={...c};return Object.entries(v).forEach(([,{vars:T}])=>{R=Bi(R,T)}),R},generateStyleSheets:()=>{var j,V;const R=[],T=e.defaultColorScheme||"light";function E(k,D){Object.keys(D).length&&R.push(typeof k=="string"?{[k]:{...D}}:k)}E(n(void 0,{...h}),h);const{[T]:P,...N}=v;if(P){const{css:k}=P,D=(V=(j=s[T])==null?void 0:j.palette)==null?void 0:V.mode,H=!r&&D?{colorScheme:D,...k}:{...k};E(n(T,{...H}),H)}return Object.entries(N).forEach(([k,{css:D}])=>{var G,F;const H=(F=(G=s[k])==null?void 0:G.palette)==null?void 0:F.mode,B=!r&&H?{colorScheme:H,...D}:{...D};E(n(k,{...B}),B)}),R}}}function bne(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const Vh={black:"#000",white:"#fff"},_ne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},yu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Au={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Of={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},bu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Su={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function CL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vh.white,default:Vh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Sne=CL();function kL(){return{text:{primary:Vh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const QR=kL();function JR(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=uw(e.main,i):t==="dark"&&(e.dark=cw(e.main,s)))}function xne(e="light"){return e==="dark"?{main:bu[200],light:bu[50],dark:bu[400]}:{main:bu[700],light:bu[400],dark:bu[800]}}function wne(e="light"){return e==="dark"?{main:yu[200],light:yu[50],dark:yu[400]}:{main:yu[500],light:yu[300],dark:yu[700]}}function Ene(e="light"){return e==="dark"?{main:Au[500],light:Au[300],dark:Au[700]}:{main:Au[700],light:Au[400],dark:Au[800]}}function Cne(e="light"){return e==="dark"?{main:_u[400],light:_u[300],dark:_u[700]}:{main:_u[700],light:_u[500],dark:_u[900]}}function kne(e="light"){return e==="dark"?{main:Su[400],light:Su[300],dark:Su[700]}:{main:Su[800],light:Su[500],dark:Su[900]}}function Tne(e="light"){return e==="dark"?{main:Of[400],light:Of[300],dark:Of[700]}:{main:"#ed6c02",light:Of[500],dark:Of[900]}}function pw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||xne(t),o=e.secondary||wne(t),l=e.error||Ene(t),u=e.info||Cne(t),c=e.success||kne(t),h=e.warning||Tne(t);function f(b){return Zte(b,QR.text.primary)>=n?QR.text.primary:Sne.text.primary}const m=({color:b,name:S,mainShade:w=500,lightShade:I=300,darkShade:R=700})=>{if(b={...b},!b.main&&b[w]&&(b.main=b[w]),!b.hasOwnProperty("main"))throw new Error(Ec(11,S?` (${S})`:"",w));if(typeof b.main!="string")throw new Error(Ec(12,S?` (${S})`:"",JSON.stringify(b.main)));return JR(b,"light",I,r),JR(b,"dark",R,r),b.contrastText||(b.contrastText=f(b.main)),b};let v;return t==="light"?v=CL():t==="dark"&&(v=kL()),Bi({common:{...Vh},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:c,name:"success"}),grey:_ne,contrastThreshold:n,getContrastText:f,augmentColor:m,tonalOffset:r,...v},i)}function Ine(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function Rne(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Pne(e){return Math.round(e*1e5)/1e5}const XR={textTransform:"uppercase"},ZR='"Roboto", "Helvetica", "Arial", sans-serif';function TL(e,t){const{fontFamily:n=ZR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h,...f}=typeof t=="function"?t(e):t,m=r/14,v=h||(S=>`${S/u*m}rem`),A=(S,w,I,R,T)=>({fontFamily:n,fontWeight:S,fontSize:v(w),lineHeight:I,...n===ZR?{letterSpacing:`${Pne(R/w)}em`}:{},...T,...c}),b={h1:A(i,96,1.167,-1.5),h2:A(i,60,1.2,-.5),h3:A(s,48,1.167,0),h4:A(s,34,1.235,.25),h5:A(s,24,1.334,0),h6:A(o,20,1.6,.15),subtitle1:A(s,16,1.75,.15),subtitle2:A(o,14,1.57,.1),body1:A(s,16,1.5,.15),body2:A(s,14,1.43,.15),button:A(o,14,1.75,.4,XR),caption:A(s,12,1.66,.4),overline:A(s,12,2.66,1,XR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Bi({htmlFontSize:u,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:l,...b},f,{clone:!1})}const Mne=.2,jne=.14,One=.12;function Nn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Mne})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${jne})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${One})`].join(",")}const Vne=["none",Nn(0,2,1,-1,0,1,1,0,0,1,3,0),Nn(0,3,1,-2,0,2,2,0,0,1,5,0),Nn(0,3,3,-2,0,3,4,0,0,1,8,0),Nn(0,2,4,-1,0,4,5,0,0,1,10,0),Nn(0,3,5,-1,0,5,8,0,0,1,14,0),Nn(0,3,5,-1,0,6,10,0,0,1,18,0),Nn(0,4,5,-2,0,7,10,1,0,2,16,1),Nn(0,5,5,-3,0,8,10,1,0,3,14,2),Nn(0,5,6,-3,0,9,12,1,0,3,16,2),Nn(0,6,6,-3,0,10,14,1,0,4,18,3),Nn(0,6,7,-4,0,11,15,1,0,4,20,3),Nn(0,7,8,-4,0,12,17,2,0,5,22,4),Nn(0,7,8,-4,0,13,19,2,0,5,24,4),Nn(0,7,9,-4,0,14,21,2,0,5,26,4),Nn(0,8,9,-5,0,15,22,2,0,6,28,5),Nn(0,8,10,-5,0,16,24,2,0,6,30,5),Nn(0,8,11,-5,0,17,26,2,0,6,32,5),Nn(0,9,11,-5,0,18,28,2,0,7,34,6),Nn(0,9,12,-6,0,19,29,2,0,7,36,6),Nn(0,10,13,-6,0,20,31,3,0,8,38,7),Nn(0,10,13,-6,0,21,33,3,0,8,40,7),Nn(0,10,14,-6,0,22,35,3,0,8,42,7),Nn(0,11,14,-7,0,23,36,3,0,9,44,8),Nn(0,11,15,-7,0,24,38,3,0,9,46,8)],Lne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eP(e){return`${Math.round(e)}ms`}function Bne(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Dne(e){const t={...Lne,...e.easing},n={...Nne,...e.duration};return{getAutoHeightDuration:Bne,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:l=t.easeInOut,delay:u=0,...c}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:eP(o)} ${l} ${typeof u=="string"?u:eP(u)}`).join(",")},...e,easing:t,duration:n}}const Fne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function $ne(e){return xo(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function IL(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,l]=i[s];!$ne(l)||o.startsWith("unstable_")?delete r[o]:xo(l)&&(r[o]={...l},n(r[o]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function cS(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:l={},shape:u,...c}=e;if(e.vars)throw new Error(Ec(20));const h=pw(s),f=aw(e);let m=Bi(f,{mixins:Rne(f.breakpoints,r),palette:h,shadows:Vne.slice(),typography:TL(h,l),transitions:Dne(o),zIndex:{...Fne}});return m=Bi(m,c),m=t.reduce((v,A)=>Bi(v,A),m),m.unstable_sxConfig={...sp,...c==null?void 0:c.unstable_sxConfig},m.unstable_sx=function(A){return kc({sx:A,theme:this})},m.toRuntimeSource=IL,m}function uS(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const zne=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=uS(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function RL(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function PL(e){return e==="dark"?zne:[]}function Une(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=pw(t);return{palette:s,opacity:{...RL(s.mode),...n},overlays:r||PL(s.mode),...i}}function Hne(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Gne=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],qne=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return Gne(e.cssVarPrefix).forEach(l=>{o[l]=n[l],delete n[l]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",t)]:o,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function Wne(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ge(e,t,n){!e[t]&&n&&(e[t]=n)}function Yf(e){return!e||!e.startsWith("hsl")?e:bL(e)}function Ko(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Kf(Yf(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Kne(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const vo=e=>{try{return e()}catch{}},Yne=(e="mui")=>mne(e);function N1(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Une({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...o}=cS({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...RL(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||PL(i)},o}function Qne(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=Hne,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...c}=e,h=Object.keys(n)[0],f=r||(n.light&&h!=="light"?"light":h),m=Yne(s),{[f]:v,light:A,dark:b,...S}=n,w={...S};let I=v;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(I=!0),!I)throw new Error(Ec(21,f));const R=N1(w,I,c,f);A&&!w.light&&N1(w,A,void 0,"light"),b&&!w.dark&&N1(w,b,void 0,"dark");let T={defaultColorScheme:f,...R,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:m,colorSchemes:w,font:{...Ine(R.typography),...R.font},spacing:Kne(c.spacing)};Object.keys(T.colorSchemes).forEach(V=>{const k=T.colorSchemes[V].palette,D=H=>{const B=H.split("-"),G=B[1],F=B[2];return m(H,k[G][F])};if(k.mode==="light"&&(ge(k.common,"background","#fff"),ge(k.common,"onBackground","#000")),k.mode==="dark"&&(ge(k.common,"background","#000"),ge(k.common,"onBackground","#fff")),Wne(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){ge(k.Alert,"errorColor",hn(k.error.light,.6)),ge(k.Alert,"infoColor",hn(k.info.light,.6)),ge(k.Alert,"successColor",hn(k.success.light,.6)),ge(k.Alert,"warningColor",hn(k.warning.light,.6)),ge(k.Alert,"errorFilledBg",D("palette-error-main")),ge(k.Alert,"infoFilledBg",D("palette-info-main")),ge(k.Alert,"successFilledBg",D("palette-success-main")),ge(k.Alert,"warningFilledBg",D("palette-warning-main")),ge(k.Alert,"errorFilledColor",vo(()=>k.getContrastText(k.error.main))),ge(k.Alert,"infoFilledColor",vo(()=>k.getContrastText(k.info.main))),ge(k.Alert,"successFilledColor",vo(()=>k.getContrastText(k.success.main))),ge(k.Alert,"warningFilledColor",vo(()=>k.getContrastText(k.warning.main))),ge(k.Alert,"errorStandardBg",pn(k.error.light,.9)),ge(k.Alert,"infoStandardBg",pn(k.info.light,.9)),ge(k.Alert,"successStandardBg",pn(k.success.light,.9)),ge(k.Alert,"warningStandardBg",pn(k.warning.light,.9)),ge(k.Alert,"errorIconColor",D("palette-error-main")),ge(k.Alert,"infoIconColor",D("palette-info-main")),ge(k.Alert,"successIconColor",D("palette-success-main")),ge(k.Alert,"warningIconColor",D("palette-warning-main")),ge(k.AppBar,"defaultBg",D("palette-grey-100")),ge(k.Avatar,"defaultBg",D("palette-grey-400")),ge(k.Button,"inheritContainedBg",D("palette-grey-300")),ge(k.Button,"inheritContainedHoverBg",D("palette-grey-A100")),ge(k.Chip,"defaultBorder",D("palette-grey-400")),ge(k.Chip,"defaultAvatarColor",D("palette-grey-700")),ge(k.Chip,"defaultIconColor",D("palette-grey-700")),ge(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ge(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ge(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ge(k.LinearProgress,"primaryBg",pn(k.primary.main,.62)),ge(k.LinearProgress,"secondaryBg",pn(k.secondary.main,.62)),ge(k.LinearProgress,"errorBg",pn(k.error.main,.62)),ge(k.LinearProgress,"infoBg",pn(k.info.main,.62)),ge(k.LinearProgress,"successBg",pn(k.success.main,.62)),ge(k.LinearProgress,"warningBg",pn(k.warning.main,.62)),ge(k.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.11)`),ge(k.Slider,"primaryTrack",pn(k.primary.main,.62)),ge(k.Slider,"secondaryTrack",pn(k.secondary.main,.62)),ge(k.Slider,"errorTrack",pn(k.error.main,.62)),ge(k.Slider,"infoTrack",pn(k.info.main,.62)),ge(k.Slider,"successTrack",pn(k.success.main,.62)),ge(k.Slider,"warningTrack",pn(k.warning.main,.62));const H=Jg(k.background.default,.8);ge(k.SnackbarContent,"bg",H),ge(k.SnackbarContent,"color",vo(()=>k.getContrastText(H))),ge(k.SpeedDialAction,"fabHoverBg",Jg(k.background.paper,.15)),ge(k.StepConnector,"border",D("palette-grey-400")),ge(k.StepContent,"border",D("palette-grey-400")),ge(k.Switch,"defaultColor",D("palette-common-white")),ge(k.Switch,"defaultDisabledColor",D("palette-grey-100")),ge(k.Switch,"primaryDisabledColor",pn(k.primary.main,.62)),ge(k.Switch,"secondaryDisabledColor",pn(k.secondary.main,.62)),ge(k.Switch,"errorDisabledColor",pn(k.error.main,.62)),ge(k.Switch,"infoDisabledColor",pn(k.info.main,.62)),ge(k.Switch,"successDisabledColor",pn(k.success.main,.62)),ge(k.Switch,"warningDisabledColor",pn(k.warning.main,.62)),ge(k.TableCell,"border",pn(Qg(k.divider,1),.88)),ge(k.Tooltip,"bg",Qg(k.grey[700],.92))}if(k.mode==="dark"){ge(k.Alert,"errorColor",pn(k.error.light,.6)),ge(k.Alert,"infoColor",pn(k.info.light,.6)),ge(k.Alert,"successColor",pn(k.success.light,.6)),ge(k.Alert,"warningColor",pn(k.warning.light,.6)),ge(k.Alert,"errorFilledBg",D("palette-error-dark")),ge(k.Alert,"infoFilledBg",D("palette-info-dark")),ge(k.Alert,"successFilledBg",D("palette-success-dark")),ge(k.Alert,"warningFilledBg",D("palette-warning-dark")),ge(k.Alert,"errorFilledColor",vo(()=>k.getContrastText(k.error.dark))),ge(k.Alert,"infoFilledColor",vo(()=>k.getContrastText(k.info.dark))),ge(k.Alert,"successFilledColor",vo(()=>k.getContrastText(k.success.dark))),ge(k.Alert,"warningFilledColor",vo(()=>k.getContrastText(k.warning.dark))),ge(k.Alert,"errorStandardBg",hn(k.error.light,.9)),ge(k.Alert,"infoStandardBg",hn(k.info.light,.9)),ge(k.Alert,"successStandardBg",hn(k.success.light,.9)),ge(k.Alert,"warningStandardBg",hn(k.warning.light,.9)),ge(k.Alert,"errorIconColor",D("palette-error-main")),ge(k.Alert,"infoIconColor",D("palette-info-main")),ge(k.Alert,"successIconColor",D("palette-success-main")),ge(k.Alert,"warningIconColor",D("palette-warning-main")),ge(k.AppBar,"defaultBg",D("palette-grey-900")),ge(k.AppBar,"darkBg",D("palette-background-paper")),ge(k.AppBar,"darkColor",D("palette-text-primary")),ge(k.Avatar,"defaultBg",D("palette-grey-600")),ge(k.Button,"inheritContainedBg",D("palette-grey-800")),ge(k.Button,"inheritContainedHoverBg",D("palette-grey-700")),ge(k.Chip,"defaultBorder",D("palette-grey-700")),ge(k.Chip,"defaultAvatarColor",D("palette-grey-300")),ge(k.Chip,"defaultIconColor",D("palette-grey-300")),ge(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ge(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ge(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ge(k.LinearProgress,"primaryBg",hn(k.primary.main,.5)),ge(k.LinearProgress,"secondaryBg",hn(k.secondary.main,.5)),ge(k.LinearProgress,"errorBg",hn(k.error.main,.5)),ge(k.LinearProgress,"infoBg",hn(k.info.main,.5)),ge(k.LinearProgress,"successBg",hn(k.success.main,.5)),ge(k.LinearProgress,"warningBg",hn(k.warning.main,.5)),ge(k.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.13)`),ge(k.Slider,"primaryTrack",hn(k.primary.main,.5)),ge(k.Slider,"secondaryTrack",hn(k.secondary.main,.5)),ge(k.Slider,"errorTrack",hn(k.error.main,.5)),ge(k.Slider,"infoTrack",hn(k.info.main,.5)),ge(k.Slider,"successTrack",hn(k.success.main,.5)),ge(k.Slider,"warningTrack",hn(k.warning.main,.5));const H=Jg(k.background.default,.98);ge(k.SnackbarContent,"bg",H),ge(k.SnackbarContent,"color",vo(()=>k.getContrastText(H))),ge(k.SpeedDialAction,"fabHoverBg",Jg(k.background.paper,.15)),ge(k.StepConnector,"border",D("palette-grey-600")),ge(k.StepContent,"border",D("palette-grey-600")),ge(k.Switch,"defaultColor",D("palette-grey-300")),ge(k.Switch,"defaultDisabledColor",D("palette-grey-600")),ge(k.Switch,"primaryDisabledColor",hn(k.primary.main,.55)),ge(k.Switch,"secondaryDisabledColor",hn(k.secondary.main,.55)),ge(k.Switch,"errorDisabledColor",hn(k.error.main,.55)),ge(k.Switch,"infoDisabledColor",hn(k.info.main,.55)),ge(k.Switch,"successDisabledColor",hn(k.success.main,.55)),ge(k.Switch,"warningDisabledColor",hn(k.warning.main,.55)),ge(k.TableCell,"border",hn(Qg(k.divider,1),.68)),ge(k.Tooltip,"bg",Qg(k.grey[700],.92))}Ko(k.background,"default"),Ko(k.background,"paper"),Ko(k.common,"background"),Ko(k.common,"onBackground"),Ko(k,"divider"),Object.keys(k).forEach(H=>{const B=k[H];B&&typeof B=="object"&&(B.main&&ge(k[H],"mainChannel",Kf(Yf(B.main))),B.light&&ge(k[H],"lightChannel",Kf(Yf(B.light))),B.dark&&ge(k[H],"darkChannel",Kf(Yf(B.dark))),B.contrastText&&ge(k[H],"contrastTextChannel",Kf(Yf(B.contrastText))),H==="text"&&(Ko(k[H],"primary"),Ko(k[H],"secondary")),H==="action"&&(B.active&&Ko(k[H],"active"),B.selected&&Ko(k[H],"selected")))})}),T=t.reduce((V,k)=>Bi(V,k),T);const E={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:qne(T)},{vars:P,generateThemeVars:N,generateStyleSheets:j}=Ane(T,E);return T.vars=P,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([V,k])=>{T[V]=k}),T.generateThemeVars=N,T.generateStyleSheets=j,T.generateSpacing=function(){return gL(c.spacing,sw(this))},T.getColorSchemeSelector=bne(l),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=o,T.unstable_sxConfig={...sp,...c==null?void 0:c.unstable_sxConfig},T.unstable_sx=function(k){return kc({sx:k,theme:this})},T.toRuntimeSource=IL,T}function tP(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:pw({...n===!0?{}:n.palette,mode:t})})}function gw(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=e,l=s||"light",u=i==null?void 0:i[l],c={...i,...n?{[l]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return cS(e,...t);let h=n;"palette"in e||c[l]&&(c[l]!==!0?h=c[l].palette:l==="dark"&&(h={mode:"dark"}));const f=cS({...e,palette:h},...t);return f.defaultColorScheme=l,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},tP(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},tP(f,"light",c.light)),f}return!n&&!("light"in c)&&l==="light"&&(c.light=!0),Qne({...o,colorSchemes:c,defaultColorScheme:l,...typeof r!="boolean"&&r},...t)}const mw=gw(),ca="$$material";function vw(){const e=vL(mw);return e[ca]||e}function Jne(e){return p.jsx(zte,{...e,defaultTheme:mw,themeId:ca})}function Xne(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const yw=e=>Xne(e)&&e!=="classes",Mn=qte({themeId:ca,defaultTheme:mw,rootShouldForwardProp:yw});function Nye(e){return function(n){return p.jsx(Jne,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function Zne(){return Ete}const Os=cne;function ui(e){return lne(e)}function ere(e){return li("MuiSvgIcon",e)}ci("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const tre=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Bt(t)}`,`fontSize${Bt(n)}`]};return Si(i,ere,r)},nre=Mn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Bt(n.color)}`],t[`fontSize${Bt(n.fontSize)}`]]}})(Os(({theme:e})=>{var t,n,r,i,s,o,l,u,c,h,f,m,v,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,b])=>b&&b.main).map(([b])=>{var S,w;return{props:{color:b},style:{color:(w=(S=(e.vars??e).palette)==null?void 0:S[b])==null?void 0:w.main}}}),{props:{color:"action"},style:{color:(m=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:m.active}},{props:{color:"disabled"},style:{color:(A=(v=(e.vars??e).palette)==null?void 0:v.action)==null?void 0:A.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),U0=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:f,viewBox:m="0 0 24 24",...v}=r,A=x.isValidElement(i)&&i.type==="svg",b={...r,color:o,component:l,fontSize:u,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:A},S={};h||(S.viewBox=m);const w=tre(b);return p.jsxs(nre,{as:l,className:rn(w.root,s),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...S,...v,...A&&i.props,ownerState:b,children:[A?i.props.children:i,f?p.jsx("title",{children:f}):null]})});U0&&(U0.muiName="SvgIcon");function zt(e,t){function n(r,i){return p.jsx(U0,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=U0.muiName,x.memo(x.forwardRef(n))}const rre=zt(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),ire=zt(p.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),H0=zt(p.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function sre(e){return typeof e.main=="string"}function ore(e,t=[]){if(!sre(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Lh(e=[]){return([,t])=>t&&ore(t,e)}class G0{constructor(){_f(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new G0}static use(){const t=lL(G0.create).current,[n,r]=x.useState(!1);return t.shouldMount=n,t.setShouldMount=r,x.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=lre(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function are(){return G0.use()}function lre(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function ML(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},dS(e,t)}function jL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dS(e,t)}var B1={exports:{}},Ri={},D1={exports:{}},F1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP;function cre(){return nP||(nP=1,function(e){function t(q,Q){var M=q.length;q.push(Q);e:for(;0<M;){var U=M-1>>>1,X=q[U];if(0<i(X,Q))q[U]=Q,q[M]=X,M=U;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],M=q.pop();if(M!==Q){q[0]=M;e:for(var U=0,X=q.length,de=X>>>1;U<de;){var z=2*(U+1)-1,pe=q[z],se=z+1,me=q[se];if(0>i(pe,M))se<X&&0>i(me,pe)?(q[U]=me,q[se]=M,U=se):(q[U]=pe,q[z]=M,U=z);else if(se<X&&0>i(me,M))q[U]=me,q[se]=M,U=se;else break e}}return Q}function i(q,Q){var M=q.sortIndex-Q.sortIndex;return M!==0?M:q.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,m=3,v=!1,A=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=q)r(c),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=n(c)}}function T(q){if(b=!1,R(q),!A)if(n(u)!==null)A=!0,L(E);else{var Q=n(c);Q!==null&&Y(T,Q.startTime-q)}}function E(q,Q){A=!1,b&&(b=!1,w(j),j=-1),v=!0;var M=m;try{for(R(Q),f=n(u);f!==null&&(!(f.expirationTime>Q)||q&&!D());){var U=f.callback;if(typeof U=="function"){f.callback=null,m=f.priorityLevel;var X=U(f.expirationTime<=Q);Q=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),R(Q)}else r(u);f=n(u)}if(f!==null)var de=!0;else{var z=n(c);z!==null&&Y(T,z.startTime-Q),de=!1}return de}finally{f=null,m=M,v=!1}}var P=!1,N=null,j=-1,V=5,k=-1;function D(){return!(e.unstable_now()-k<V)}function H(){if(N!==null){var q=e.unstable_now();k=q;var Q=!0;try{Q=N(!0,q)}finally{Q?B():(P=!1,N=null)}}else P=!1}var B;if(typeof I=="function")B=function(){I(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,F=G.port2;G.port1.onmessage=H,B=function(){F.postMessage(null)}}else B=function(){S(H,0)};function L(q){N=q,P||(P=!0,B())}function Y(q,Q){j=S(function(){q(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){A||v||(A=!0,L(E))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var M=m;m=Q;try{return q()}finally{m=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var M=m;m=q;try{return Q()}finally{m=M}},e.unstable_scheduleCallback=function(q,Q,M){var U=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=M+X,q={id:h++,callback:Q,priorityLevel:q,startTime:M,expirationTime:X,sortIndex:-1},M>U?(q.sortIndex=M,t(c,q),n(u)===null&&q===n(c)&&(b?(w(j),j=-1):b=!0,Y(T,M-U))):(q.sortIndex=X,t(u,q),A||v||(A=!0,L(E))),q},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(q){var Q=m;return function(){var M=m;m=Q;try{return q.apply(this,arguments)}finally{m=M}}}}(F1)),F1}var rP;function ure(){return rP||(rP=1,D1.exports=cre()),D1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function dre(){if(iP)return Ri;iP=1;var e=Pc(),t=ure();function n(a){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,d){o(a,d),o(a+"Capture",d)}function o(a,d){for(i[a]=d,a=0;a<d.length;a++)r.add(d[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(a){return u.call(f,a)?!0:u.call(h,a)?!1:c.test(a)?f[a]=!0:(h[a]=!0,!1)}function v(a,d,g,y){if(g!==null&&g.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return y?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function A(a,d,g,y){if(d===null||typeof d>"u"||v(a,d,g,y))return!0;if(y)return!1;if(g!==null)switch(g.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(a,d,g,y,_,C,O){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=y,this.attributeNamespace=_,this.mustUseProperty=g,this.propertyName=a,this.type=d,this.sanitizeURL=C,this.removeEmptyString=O}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var d=a[0];S[d]=new b(d,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function I(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var d=a.replace(w,I);S[d]=new b(d,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var d=a.replace(w,I);S[d]=new b(d,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var d=a.replace(w,I);S[d]=new b(d,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function R(a,d,g,y){var _=S.hasOwnProperty(d)?S[d]:null;(_!==null?_.type!==0:y||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(A(d,g,_,y)&&(g=null),y||_===null?m(d)&&(g===null?a.removeAttribute(d):a.setAttribute(d,""+g)):_.mustUseProperty?a[_.propertyName]=g===null?_.type===3?!1:"":g:(d=_.attributeName,y=_.attributeNamespace,g===null?a.removeAttribute(d):(_=_.type,g=_===3||_===4&&g===!0?"":""+g,y?a.setAttributeNS(y,d,g):a.setAttribute(d,g))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),q=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var M=Object.assign,U;function X(a){if(U===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);U=d&&d[1]||""}return`
`+U+a}var de=!1;function z(a,d){if(!a||de)return"";de=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(he){var y=he}Reflect.construct(a,[],d)}else{try{d.call()}catch(he){y=he}a.call(d.prototype)}else{try{throw Error()}catch(he){y=he}a()}}catch(he){if(he&&y&&typeof he.stack=="string"){for(var _=he.stack.split(`
`),C=y.stack.split(`
`),O=_.length-1,J=C.length-1;1<=O&&0<=J&&_[O]!==C[J];)J--;for(;1<=O&&0<=J;O--,J--)if(_[O]!==C[J]){if(O!==1||J!==1)do if(O--,J--,0>J||_[O]!==C[J]){var ee=`
`+_[O].replace(" at new "," at ");return a.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",a.displayName)),ee}while(1<=O&&0<=J);break}}}finally{de=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?X(a):""}function pe(a){switch(a.tag){case 5:return X(a.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return a=z(a.type,!1),a;case 11:return a=z(a.type.render,!1),a;case 1:return a=z(a.type,!0),a;default:return""}}function se(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case P:return"Portal";case V:return"Profiler";case j:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case D:return(a.displayName||"Context")+".Consumer";case k:return(a._context.displayName||"Context")+".Provider";case H:var d=a.render;return a=a.displayName,a||(a=d.displayName||d.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F:return d=a.displayName||null,d!==null?d:se(a.type)||"Memo";case L:d=a._payload,a=a._init;try{return se(a(d))}catch{}}return null}function me(a){var d=a.type;switch(a.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=d.render,a=a.displayName||a.name||"",d.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(d);case 8:return d===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ee(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Re(a){var d=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function be(a){var d=Re(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,d),y=""+a[d];if(!a.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,C=g.set;return Object.defineProperty(a,d,{configurable:!0,get:function(){return _.call(this)},set:function(O){y=""+O,C.call(this,O)}}),Object.defineProperty(a,d,{enumerable:g.enumerable}),{getValue:function(){return y},setValue:function(O){y=""+O},stopTracking:function(){a._valueTracker=null,delete a[d]}}}}function je(a){a._valueTracker||(a._valueTracker=be(a))}function Xe(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var g=d.getValue(),y="";return a&&(y=Re(a)?a.checked?"true":"false":a.value),a=y,a!==g?(d.setValue(a),!0):!1}function Ue(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Le(a,d){var g=d.checked;return M({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function Oe(a,d){var g=d.defaultValue==null?"":d.defaultValue,y=d.checked!=null?d.checked:d.defaultChecked;g=Ee(d.value!=null?d.value:g),a._wrapperState={initialChecked:y,initialValue:g,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function mt(a,d){d=d.checked,d!=null&&R(a,"checked",d,!1)}function vt(a,d){mt(a,d);var g=Ee(d.value),y=d.type;if(g!=null)y==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}d.hasOwnProperty("value")?ht(a,d.type,g):d.hasOwnProperty("defaultValue")&&ht(a,d.type,Ee(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(a.defaultChecked=!!d.defaultChecked)}function De(a,d,g){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var y=d.type;if(!(y!=="submit"&&y!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+a._wrapperState.initialValue,g||d===a.value||(a.value=d),a.defaultValue=d}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function ht(a,d,g){(d!=="number"||Ue(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Ut=Array.isArray;function Wt(a,d,g,y){if(a=a.options,d){d={};for(var _=0;_<g.length;_++)d["$"+g[_]]=!0;for(g=0;g<a.length;g++)_=d.hasOwnProperty("$"+a[g].value),a[g].selected!==_&&(a[g].selected=_),_&&y&&(a[g].defaultSelected=!0)}else{for(g=""+Ee(g),d=null,_=0;_<a.length;_++){if(a[_].value===g){a[_].selected=!0,y&&(a[_].defaultSelected=!0);return}d!==null||a[_].disabled||(d=a[_])}d!==null&&(d.selected=!0)}}function Ht(a,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},d,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ge(a,d){var g=d.value;if(g==null){if(g=d.children,d=d.defaultValue,g!=null){if(d!=null)throw Error(n(92));if(Ut(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),g=d}a._wrapperState={initialValue:Ee(g)}}function jt(a,d){var g=Ee(d.value),y=Ee(d.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),d.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),y!=null&&(a.defaultValue=""+y)}function Xt(a){var d=a.textContent;d===a._wrapperState.initialValue&&d!==""&&d!==null&&(a.value=d)}function Zt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(a,d){return a==null||a==="http://www.w3.org/1999/xhtml"?Zt(d):a==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var dt,nt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,g,y,_){MSApp.execUnsafeLocalFunction(function(){return a(d,g,y,_)})}:a}(function(a,d){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=d;else{for(dt=dt||document.createElement("div"),dt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=dt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}});function _t(a,d){if(d){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=d;return}}a.textContent=d}var cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(cn).forEach(function(a){Lt.forEach(function(d){d=d+a.charAt(0).toUpperCase()+a.substring(1),cn[d]=cn[a]})});function Pt(a,d,g){return d==null||typeof d=="boolean"||d===""?"":g||typeof d!="number"||d===0||cn.hasOwnProperty(a)&&cn[a]?(""+d).trim():d+"px"}function vn(a,d){a=a.style;for(var g in d)if(d.hasOwnProperty(g)){var y=g.indexOf("--")===0,_=Pt(g,d[g],y);g==="float"&&(g="cssFloat"),y?a.setProperty(g,_):a[g]=_}}var jn=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(a,d){if(d){if(jn[a]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Dt(a,d){if(a.indexOf("-")===-1)return typeof d.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function dr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var En=null,br=null,fr=null;function Kt(a){if(a=of(a)){if(typeof En!="function")throw Error(n(280));var d=a.stateNode;d&&(d=Mp(d),En(a.stateNode,a.type,d))}}function On(a){br?fr?fr.push(a):fr=[a]:br=a}function rt(){if(br){var a=br,d=fr;if(fr=br=null,Kt(a),d)for(a=0;a<d.length;a++)Kt(d[a])}}function Et(a,d){return a(d)}function rr(){}var Nr=!1;function Fe(a,d,g){if(Nr)return a(d,g);Nr=!0;try{return Et(a,d,g)}finally{Nr=!1,(br!==null||fr!==null)&&(rr(),rt())}}function st(a,d){var g=a.stateNode;if(g===null)return null;var y=Mp(g);if(y===null)return null;g=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(n(231,d,typeof g));return g}var pt=!1;if(l)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){pt=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{pt=!1}function hr(a,d,g,y,_,C,O,J,ee){var he=Array.prototype.slice.call(arguments,3);try{d.apply(g,he)}catch(Se){this.onError(Se)}}var _r=!1,Br=null,Kn=!1,Tr=null,dn={onError:function(a){_r=!0,Br=a}};function Oo(a,d,g,y,_,C,O,J,ee){_r=!1,Br=null,hr.apply(dn,arguments)}function Fd(a,d,g,y,_,C,O,J,ee){if(Oo.apply(this,arguments),_r){if(_r){var he=Br;_r=!1,Br=null}else throw Error(n(198));Kn||(Kn=!0,Tr=he)}}function as(a){var d=a,g=a;if(a.alternate)for(;d.return;)d=d.return;else{a=d;do d=a,d.flags&4098&&(g=d.return),a=d.return;while(a)}return d.tag===3?g:null}function Sl(a){if(a.tag===13){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function xl(a){if(as(a)!==a)throw Error(n(188))}function Uc(a){var d=a.alternate;if(!d){if(d=as(a),d===null)throw Error(n(188));return d!==a?null:a}for(var g=a,y=d;;){var _=g.return;if(_===null)break;var C=_.alternate;if(C===null){if(y=_.return,y!==null){g=y;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===g)return xl(_),a;if(C===y)return xl(_),d;C=C.sibling}throw Error(n(188))}if(g.return!==y.return)g=_,y=C;else{for(var O=!1,J=_.child;J;){if(J===g){O=!0,g=_,y=C;break}if(J===y){O=!0,y=_,g=C;break}J=J.sibling}if(!O){for(J=C.child;J;){if(J===g){O=!0,g=C,y=_;break}if(J===y){O=!0,y=C,g=_;break}J=J.sibling}if(!O)throw Error(n(189))}}if(g.alternate!==y)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?a:d}function en(a){return a=Uc(a),a!==null?xi(a):null}function xi(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var d=xi(a);if(d!==null)return d;a=a.sibling}return null}var _a=t.unstable_scheduleCallback,lo=t.unstable_cancelCallback,$d=t.unstable_shouldYield,Sa=t.unstable_requestPaint,fn=t.unstable_now,hp=t.unstable_getCurrentPriorityLevel,co=t.unstable_ImmediatePriority,pp=t.unstable_UserBlockingPriority,Vo=t.unstable_NormalPriority,zd=t.unstable_LowPriority,gp=t.unstable_IdlePriority,Hc=null,wi=null;function fy(a){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(Hc,a,void 0,(a.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:K,$=Math.log,Z=Math.LN2;function K(a){return a>>>=0,a===0?32:31-($(a)/Z|0)|0}var re=64,oe=4194304;function te(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ye(a,d){var g=a.pendingLanes;if(g===0)return 0;var y=0,_=a.suspendedLanes,C=a.pingedLanes,O=g&268435455;if(O!==0){var J=O&~_;J!==0?y=te(J):(C&=O,C!==0&&(y=te(C)))}else O=g&~_,O!==0?y=te(O):C!==0&&(y=te(C));if(y===0)return 0;if(d!==0&&d!==y&&!(d&_)&&(_=y&-y,C=d&-d,_>=C||_===16&&(C&4194240)!==0))return d;if(y&4&&(y|=g&16),d=a.entangledLanes,d!==0)for(a=a.entanglements,d&=y;0<d;)g=31-Ui(d),_=1<<g,y|=a[g],d&=~_;return y}function we(a,d){switch(a){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Te(a,d){for(var g=a.suspendedLanes,y=a.pingedLanes,_=a.expirationTimes,C=a.pendingLanes;0<C;){var O=31-Ui(C),J=1<<O,ee=_[O];ee===-1?(!(J&g)||J&y)&&(_[O]=we(J,d)):ee<=d&&(a.expiredLanes|=J),C&=~J}}function ke(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Me(){var a=re;return re<<=1,!(re&4194240)&&(re=64),a}function We(a){for(var d=[],g=0;31>g;g++)d.push(a);return d}function St(a,d,g){a.pendingLanes|=d,d!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,d=31-Ui(d),a[d]=g}function Yt(a,d){var g=a.pendingLanes&~d;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=d,a.mutableReadLanes&=d,a.entangledLanes&=d,d=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<g;){var _=31-Ui(g),C=1<<_;d[_]=0,y[_]=-1,a[_]=-1,g&=~C}}function Gt(a,d){var g=a.entangledLanes|=d;for(a=a.entanglements;g;){var y=31-Ui(g),_=1<<y;_&d|a[y]&d&&(a[y]|=d),g&=~_}}var ft=0;function Vn(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var di,Lo,Gc,mp,qc,vp=!1,Wc=[],uo=null,Ns=null,xa=null,Ud=new Map,Hd=new Map,wa=[],JN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sE(a,d){switch(a){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ud.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hd.delete(d.pointerId)}}function Gd(a,d,g,y,_,C){return a===null||a.nativeEvent!==C?(a={blockedOn:d,domEventName:g,eventSystemFlags:y,nativeEvent:C,targetContainers:[_]},d!==null&&(d=of(d),d!==null&&Lo(d)),a):(a.eventSystemFlags|=y,d=a.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),a)}function XN(a,d,g,y,_){switch(d){case"focusin":return uo=Gd(uo,a,d,g,y,_),!0;case"dragenter":return Ns=Gd(Ns,a,d,g,y,_),!0;case"mouseover":return xa=Gd(xa,a,d,g,y,_),!0;case"pointerover":var C=_.pointerId;return Ud.set(C,Gd(Ud.get(C)||null,a,d,g,y,_)),!0;case"gotpointercapture":return C=_.pointerId,Hd.set(C,Gd(Hd.get(C)||null,a,d,g,y,_)),!0}return!1}function oE(a){var d=wl(a.target);if(d!==null){var g=as(d);if(g!==null){if(d=g.tag,d===13){if(d=Sl(g),d!==null){a.blockedOn=d,qc(a.priority,function(){Gc(g)});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function yp(a){if(a.blockedOn!==null)return!1;for(var d=a.targetContainers;0<d.length;){var g=py(a.domEventName,a.eventSystemFlags,d[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var y=new g.constructor(g.type,g);zn=y,g.target.dispatchEvent(y),zn=null}else return d=of(g),d!==null&&Lo(d),a.blockedOn=g,!1;d.shift()}return!0}function aE(a,d,g){yp(a)&&g.delete(d)}function ZN(){vp=!1,uo!==null&&yp(uo)&&(uo=null),Ns!==null&&yp(Ns)&&(Ns=null),xa!==null&&yp(xa)&&(xa=null),Ud.forEach(aE),Hd.forEach(aE)}function qd(a,d){a.blockedOn===d&&(a.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZN)))}function Wd(a){function d(_){return qd(_,a)}if(0<Wc.length){qd(Wc[0],a);for(var g=1;g<Wc.length;g++){var y=Wc[g];y.blockedOn===a&&(y.blockedOn=null)}}for(uo!==null&&qd(uo,a),Ns!==null&&qd(Ns,a),xa!==null&&qd(xa,a),Ud.forEach(d),Hd.forEach(d),g=0;g<wa.length;g++)y=wa[g],y.blockedOn===a&&(y.blockedOn=null);for(;0<wa.length&&(g=wa[0],g.blockedOn===null);)oE(g),g.blockedOn===null&&wa.shift()}var Kc=T.ReactCurrentBatchConfig,Ap=!0;function eB(a,d,g,y){var _=ft,C=Kc.transition;Kc.transition=null;try{ft=1,hy(a,d,g,y)}finally{ft=_,Kc.transition=C}}function tB(a,d,g,y){var _=ft,C=Kc.transition;Kc.transition=null;try{ft=4,hy(a,d,g,y)}finally{ft=_,Kc.transition=C}}function hy(a,d,g,y){if(Ap){var _=py(a,d,g,y);if(_===null)Py(a,d,y,bp,g),sE(a,y);else if(XN(_,a,d,g,y))y.stopPropagation();else if(sE(a,y),d&4&&-1<JN.indexOf(a)){for(;_!==null;){var C=of(_);if(C!==null&&di(C),C=py(a,d,g,y),C===null&&Py(a,d,y,bp,g),C===_)break;_=C}_!==null&&y.stopPropagation()}else Py(a,d,y,null,g)}}var bp=null;function py(a,d,g,y){if(bp=null,a=dr(y),a=wl(a),a!==null)if(d=as(a),d===null)a=null;else if(g=d.tag,g===13){if(a=Sl(d),a!==null)return a;a=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;a=null}else d!==a&&(a=null);return bp=a,null}function lE(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case co:return 1;case pp:return 4;case Vo:case zd:return 16;case gp:return 536870912;default:return 16}default:return 16}}var Ea=null,gy=null,_p=null;function cE(){if(_p)return _p;var a,d=gy,g=d.length,y,_="value"in Ea?Ea.value:Ea.textContent,C=_.length;for(a=0;a<g&&d[a]===_[a];a++);var O=g-a;for(y=1;y<=O&&d[g-y]===_[C-y];y++);return _p=_.slice(a,1<y?1-y:void 0)}function Sp(a){var d=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&d===13&&(a=13)):a=d,a===10&&(a=13),32<=a||a===13?a:0}function xp(){return!0}function uE(){return!1}function Hi(a){function d(g,y,_,C,O){this._reactName=g,this._targetInst=_,this.type=y,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var J in a)a.hasOwnProperty(J)&&(g=a[J],this[J]=g?g(C):C[J]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?xp:uE,this.isPropagationStopped=uE,this}return M(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=xp)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=xp)},persist:function(){},isPersistent:xp}),d}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=Hi(Yc),Kd=M({},Yc,{view:0,detail:0}),nB=Hi(Kd),vy,yy,Yd,wp=M({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:by,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Yd&&(Yd&&a.type==="mousemove"?(vy=a.screenX-Yd.screenX,yy=a.screenY-Yd.screenY):yy=vy=0,Yd=a),vy)},movementY:function(a){return"movementY"in a?a.movementY:yy}}),dE=Hi(wp),rB=M({},wp,{dataTransfer:0}),iB=Hi(rB),sB=M({},Kd,{relatedTarget:0}),Ay=Hi(sB),oB=M({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),aB=Hi(oB),lB=M({},Yc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cB=Hi(lB),uB=M({},Yc,{data:0}),fE=Hi(uB),dB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pB(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=hB[a])?!!d[a]:!1}function by(){return pB}var gB=M({},Kd,{key:function(a){if(a.key){var d=dB[a.key]||a.key;if(d!=="Unidentified")return d}return a.type==="keypress"?(a=Sp(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fB[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:by,charCode:function(a){return a.type==="keypress"?Sp(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Sp(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),mB=Hi(gB),vB=M({},wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hE=Hi(vB),yB=M({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:by}),AB=Hi(yB),bB=M({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),_B=Hi(bB),SB=M({},wp,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),xB=Hi(SB),wB=[9,13,27,32],_y=l&&"CompositionEvent"in window,Qd=null;l&&"documentMode"in document&&(Qd=document.documentMode);var EB=l&&"TextEvent"in window&&!Qd,pE=l&&(!_y||Qd&&8<Qd&&11>=Qd),gE=" ",mE=!1;function vE(a,d){switch(a){case"keyup":return wB.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Qc=!1;function CB(a,d){switch(a){case"compositionend":return yE(d);case"keypress":return d.which!==32?null:(mE=!0,gE);case"textInput":return a=d.data,a===gE&&mE?null:a;default:return null}}function kB(a,d){if(Qc)return a==="compositionend"||!_y&&vE(a,d)?(a=cE(),_p=gy=Ea=null,Qc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return pE&&d.locale!=="ko"?null:d.data;default:return null}}var TB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d==="input"?!!TB[a.type]:d==="textarea"}function bE(a,d,g,y){On(y),d=Ip(d,"onChange"),0<d.length&&(g=new my("onChange","change",null,g,y),a.push({event:g,listeners:d}))}var Jd=null,Xd=null;function IB(a){BE(a,0)}function Ep(a){var d=tu(a);if(Xe(d))return a}function RB(a,d){if(a==="change")return d}var _E=!1;if(l){var Sy;if(l){var xy="oninput"in document;if(!xy){var SE=document.createElement("div");SE.setAttribute("oninput","return;"),xy=typeof SE.oninput=="function"}Sy=xy}else Sy=!1;_E=Sy&&(!document.documentMode||9<document.documentMode)}function xE(){Jd&&(Jd.detachEvent("onpropertychange",wE),Xd=Jd=null)}function wE(a){if(a.propertyName==="value"&&Ep(Xd)){var d=[];bE(d,Xd,a,dr(a)),Fe(IB,d)}}function PB(a,d,g){a==="focusin"?(xE(),Jd=d,Xd=g,Jd.attachEvent("onpropertychange",wE)):a==="focusout"&&xE()}function MB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ep(Xd)}function jB(a,d){if(a==="click")return Ep(d)}function OB(a,d){if(a==="input"||a==="change")return Ep(d)}function VB(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var Bs=typeof Object.is=="function"?Object.is:VB;function Zd(a,d){if(Bs(a,d))return!0;if(typeof a!="object"||a===null||typeof d!="object"||d===null)return!1;var g=Object.keys(a),y=Object.keys(d);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var _=g[y];if(!u.call(d,_)||!Bs(a[_],d[_]))return!1}return!0}function EE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function CE(a,d){var g=EE(a);a=0;for(var y;g;){if(g.nodeType===3){if(y=a+g.textContent.length,a<=d&&y>=d)return{node:g,offset:d-a};a=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=EE(g)}}function kE(a,d){return a&&d?a===d?!0:a&&a.nodeType===3?!1:d&&d.nodeType===3?kE(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function TE(){for(var a=window,d=Ue();d instanceof a.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)a=d.contentWindow;else break;d=Ue(a.document)}return d}function wy(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&(d==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||d==="textarea"||a.contentEditable==="true")}function LB(a){var d=TE(),g=a.focusedElem,y=a.selectionRange;if(d!==g&&g&&g.ownerDocument&&kE(g.ownerDocument.documentElement,g)){if(y!==null&&wy(g)){if(d=y.start,a=y.end,a===void 0&&(a=d),"selectionStart"in g)g.selectionStart=d,g.selectionEnd=Math.min(a,g.value.length);else if(a=(d=g.ownerDocument||document)&&d.defaultView||window,a.getSelection){a=a.getSelection();var _=g.textContent.length,C=Math.min(y.start,_);y=y.end===void 0?C:Math.min(y.end,_),!a.extend&&C>y&&(_=y,y=C,C=_),_=CE(g,C);var O=CE(g,y);_&&O&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==O.node||a.focusOffset!==O.offset)&&(d=d.createRange(),d.setStart(_.node,_.offset),a.removeAllRanges(),C>y?(a.addRange(d),a.extend(O.node,O.offset)):(d.setEnd(O.node,O.offset),a.addRange(d)))}}for(d=[],a=g;a=a.parentNode;)a.nodeType===1&&d.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<d.length;g++)a=d[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var NB=l&&"documentMode"in document&&11>=document.documentMode,Jc=null,Ey=null,ef=null,Cy=!1;function IE(a,d,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Cy||Jc==null||Jc!==Ue(y)||(y=Jc,"selectionStart"in y&&wy(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ef&&Zd(ef,y)||(ef=y,y=Ip(Ey,"onSelect"),0<y.length&&(d=new my("onSelect","select",null,d,g),a.push({event:d,listeners:y}),d.target=Jc)))}function Cp(a,d){var g={};return g[a.toLowerCase()]=d.toLowerCase(),g["Webkit"+a]="webkit"+d,g["Moz"+a]="moz"+d,g}var Xc={animationend:Cp("Animation","AnimationEnd"),animationiteration:Cp("Animation","AnimationIteration"),animationstart:Cp("Animation","AnimationStart"),transitionend:Cp("Transition","TransitionEnd")},ky={},RE={};l&&(RE=document.createElement("div").style,"AnimationEvent"in window||(delete Xc.animationend.animation,delete Xc.animationiteration.animation,delete Xc.animationstart.animation),"TransitionEvent"in window||delete Xc.transitionend.transition);function kp(a){if(ky[a])return ky[a];if(!Xc[a])return a;var d=Xc[a],g;for(g in d)if(d.hasOwnProperty(g)&&g in RE)return ky[a]=d[g];return a}var PE=kp("animationend"),ME=kp("animationiteration"),jE=kp("animationstart"),OE=kp("transitionend"),VE=new Map,LE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(a,d){VE.set(a,d),s(d,[a])}for(var Ty=0;Ty<LE.length;Ty++){var Iy=LE[Ty],BB=Iy.toLowerCase(),DB=Iy[0].toUpperCase()+Iy.slice(1);Ca(BB,"on"+DB)}Ca(PE,"onAnimationEnd"),Ca(ME,"onAnimationIteration"),Ca(jE,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(OE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FB=new Set("cancel close invalid load scroll toggle".split(" ").concat(tf));function NE(a,d,g){var y=a.type||"unknown-event";a.currentTarget=g,Fd(y,d,void 0,a),a.currentTarget=null}function BE(a,d){d=(d&4)!==0;for(var g=0;g<a.length;g++){var y=a[g],_=y.event;y=y.listeners;e:{var C=void 0;if(d)for(var O=y.length-1;0<=O;O--){var J=y[O],ee=J.instance,he=J.currentTarget;if(J=J.listener,ee!==C&&_.isPropagationStopped())break e;NE(_,J,he),C=ee}else for(O=0;O<y.length;O++){if(J=y[O],ee=J.instance,he=J.currentTarget,J=J.listener,ee!==C&&_.isPropagationStopped())break e;NE(_,J,he),C=ee}}}if(Kn)throw a=Tr,Kn=!1,Tr=null,a}function Cn(a,d){var g=d[Ny];g===void 0&&(g=d[Ny]=new Set);var y=a+"__bubble";g.has(y)||(DE(d,a,2,!1),g.add(y))}function Ry(a,d,g){var y=0;d&&(y|=4),DE(g,a,y,d)}var Tp="_reactListening"+Math.random().toString(36).slice(2);function nf(a){if(!a[Tp]){a[Tp]=!0,r.forEach(function(g){g!=="selectionchange"&&(FB.has(g)||Ry(g,!1,a),Ry(g,!0,a))});var d=a.nodeType===9?a:a.ownerDocument;d===null||d[Tp]||(d[Tp]=!0,Ry("selectionchange",!1,d))}}function DE(a,d,g,y){switch(lE(d)){case 1:var _=eB;break;case 4:_=tB;break;default:_=hy}g=_.bind(null,d,g,a),_=void 0,!pt||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),y?_!==void 0?a.addEventListener(d,g,{capture:!0,passive:_}):a.addEventListener(d,g,!0):_!==void 0?a.addEventListener(d,g,{passive:_}):a.addEventListener(d,g,!1)}function Py(a,d,g,y,_){var C=y;if(!(d&1)&&!(d&2)&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var J=y.stateNode.containerInfo;if(J===_||J.nodeType===8&&J.parentNode===_)break;if(O===4)for(O=y.return;O!==null;){var ee=O.tag;if((ee===3||ee===4)&&(ee=O.stateNode.containerInfo,ee===_||ee.nodeType===8&&ee.parentNode===_))return;O=O.return}for(;J!==null;){if(O=wl(J),O===null)return;if(ee=O.tag,ee===5||ee===6){y=C=O;continue e}J=J.parentNode}}y=y.return}Fe(function(){var he=C,Se=dr(g),Ce=[];e:{var _e=VE.get(a);if(_e!==void 0){var ze=my,Ke=a;switch(a){case"keypress":if(Sp(g)===0)break e;case"keydown":case"keyup":ze=mB;break;case"focusin":Ke="focus",ze=Ay;break;case"focusout":Ke="blur",ze=Ay;break;case"beforeblur":case"afterblur":ze=Ay;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=dE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=iB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=AB;break;case PE:case ME:case jE:ze=aB;break;case OE:ze=_B;break;case"scroll":ze=nB;break;case"wheel":ze=xB;break;case"copy":case"cut":case"paste":ze=cB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=hE}var Qe=(d&4)!==0,ir=!Qe&&a==="scroll",le=Qe?_e!==null?_e+"Capture":null:_e;Qe=[];for(var ne=he,ue;ne!==null;){ue=ne;var Pe=ue.stateNode;if(ue.tag===5&&Pe!==null&&(ue=Pe,le!==null&&(Pe=st(ne,le),Pe!=null&&Qe.push(rf(ne,Pe,ue)))),ir)break;ne=ne.return}0<Qe.length&&(_e=new ze(_e,Ke,null,g,Se),Ce.push({event:_e,listeners:Qe}))}}if(!(d&7)){e:{if(_e=a==="mouseover"||a==="pointerover",ze=a==="mouseout"||a==="pointerout",_e&&g!==zn&&(Ke=g.relatedTarget||g.fromElement)&&(wl(Ke)||Ke[No]))break e;if((ze||_e)&&(_e=Se.window===Se?Se:(_e=Se.ownerDocument)?_e.defaultView||_e.parentWindow:window,ze?(Ke=g.relatedTarget||g.toElement,ze=he,Ke=Ke?wl(Ke):null,Ke!==null&&(ir=as(Ke),Ke!==ir||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):(ze=null,Ke=he),ze!==Ke)){if(Qe=dE,Pe="onMouseLeave",le="onMouseEnter",ne="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=hE,Pe="onPointerLeave",le="onPointerEnter",ne="pointer"),ir=ze==null?_e:tu(ze),ue=Ke==null?_e:tu(Ke),_e=new Qe(Pe,ne+"leave",ze,g,Se),_e.target=ir,_e.relatedTarget=ue,Pe=null,wl(Se)===he&&(Qe=new Qe(le,ne+"enter",Ke,g,Se),Qe.target=ue,Qe.relatedTarget=ir,Pe=Qe),ir=Pe,ze&&Ke)t:{for(Qe=ze,le=Ke,ne=0,ue=Qe;ue;ue=Zc(ue))ne++;for(ue=0,Pe=le;Pe;Pe=Zc(Pe))ue++;for(;0<ne-ue;)Qe=Zc(Qe),ne--;for(;0<ue-ne;)le=Zc(le),ue--;for(;ne--;){if(Qe===le||le!==null&&Qe===le.alternate)break t;Qe=Zc(Qe),le=Zc(le)}Qe=null}else Qe=null;ze!==null&&FE(Ce,_e,ze,Qe,!1),Ke!==null&&ir!==null&&FE(Ce,ir,Ke,Qe,!0)}}e:{if(_e=he?tu(he):window,ze=_e.nodeName&&_e.nodeName.toLowerCase(),ze==="select"||ze==="input"&&_e.type==="file")var Ze=RB;else if(AE(_e))if(_E)Ze=OB;else{Ze=MB;var at=PB}else(ze=_e.nodeName)&&ze.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ze=jB);if(Ze&&(Ze=Ze(a,he))){bE(Ce,Ze,g,Se);break e}at&&at(a,_e,he),a==="focusout"&&(at=_e._wrapperState)&&at.controlled&&_e.type==="number"&&ht(_e,"number",_e.value)}switch(at=he?tu(he):window,a){case"focusin":(AE(at)||at.contentEditable==="true")&&(Jc=at,Ey=he,ef=null);break;case"focusout":ef=Ey=Jc=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,IE(Ce,g,Se);break;case"selectionchange":if(NB)break;case"keydown":case"keyup":IE(Ce,g,Se)}var lt;if(_y)e:{switch(a){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Qc?vE(a,g)&&(yt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(yt="onCompositionStart");yt&&(pE&&g.locale!=="ko"&&(Qc||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Qc&&(lt=cE()):(Ea=Se,gy="value"in Ea?Ea.value:Ea.textContent,Qc=!0)),at=Ip(he,yt),0<at.length&&(yt=new fE(yt,a,null,g,Se),Ce.push({event:yt,listeners:at}),lt?yt.data=lt:(lt=yE(g),lt!==null&&(yt.data=lt)))),(lt=EB?CB(a,g):kB(a,g))&&(he=Ip(he,"onBeforeInput"),0<he.length&&(Se=new fE("onBeforeInput","beforeinput",null,g,Se),Ce.push({event:Se,listeners:he}),Se.data=lt))}BE(Ce,d)})}function rf(a,d,g){return{instance:a,listener:d,currentTarget:g}}function Ip(a,d){for(var g=d+"Capture",y=[];a!==null;){var _=a,C=_.stateNode;_.tag===5&&C!==null&&(_=C,C=st(a,g),C!=null&&y.unshift(rf(a,C,_)),C=st(a,d),C!=null&&y.push(rf(a,C,_))),a=a.return}return y}function Zc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function FE(a,d,g,y,_){for(var C=d._reactName,O=[];g!==null&&g!==y;){var J=g,ee=J.alternate,he=J.stateNode;if(ee!==null&&ee===y)break;J.tag===5&&he!==null&&(J=he,_?(ee=st(g,C),ee!=null&&O.unshift(rf(g,ee,J))):_||(ee=st(g,C),ee!=null&&O.push(rf(g,ee,J)))),g=g.return}O.length!==0&&a.push({event:d,listeners:O})}var $B=/\r\n?/g,zB=/\u0000|\uFFFD/g;function $E(a){return(typeof a=="string"?a:""+a).replace($B,`
`).replace(zB,"")}function Rp(a,d,g){if(d=$E(d),$E(a)!==d&&g)throw Error(n(425))}function Pp(){}var My=null,jy=null;function Oy(a,d){return a==="textarea"||a==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,UB=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,HB=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(a){return zE.resolve(null).then(a).catch(GB)}:Vy;function GB(a){setTimeout(function(){throw a})}function Ly(a,d){var g=d,y=0;do{var _=g.nextSibling;if(a.removeChild(g),_&&_.nodeType===8)if(g=_.data,g==="/$"){if(y===0){a.removeChild(_),Wd(d);return}y--}else g!=="$"&&g!=="$?"&&g!=="$!"||y++;g=_}while(g);Wd(d)}function ka(a){for(;a!=null;a=a.nextSibling){var d=a.nodeType;if(d===1||d===3)break;if(d===8){if(d=a.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return a}function UE(a){a=a.previousSibling;for(var d=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return a;d--}else g==="/$"&&d++}a=a.previousSibling}return null}var eu=Math.random().toString(36).slice(2),fo="__reactFiber$"+eu,sf="__reactProps$"+eu,No="__reactContainer$"+eu,Ny="__reactEvents$"+eu,qB="__reactListeners$"+eu,WB="__reactHandles$"+eu;function wl(a){var d=a[fo];if(d)return d;for(var g=a.parentNode;g;){if(d=g[No]||g[fo]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(a=UE(a);a!==null;){if(g=a[fo])return g;a=UE(a)}return d}a=g,g=a.parentNode}return null}function of(a){return a=a[fo]||a[No],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function tu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Mp(a){return a[sf]||null}var By=[],nu=-1;function Ta(a){return{current:a}}function kn(a){0>nu||(a.current=By[nu],By[nu]=null,nu--)}function An(a,d){nu++,By[nu]=a.current,a.current=d}var Ia={},Xr=Ta(Ia),Ei=Ta(!1),El=Ia;function ru(a,d){var g=a.type.contextTypes;if(!g)return Ia;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===d)return y.__reactInternalMemoizedMaskedChildContext;var _={},C;for(C in g)_[C]=d[C];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=_),_}function Ci(a){return a=a.childContextTypes,a!=null}function jp(){kn(Ei),kn(Xr)}function HE(a,d,g){if(Xr.current!==Ia)throw Error(n(168));An(Xr,d),An(Ei,g)}function GE(a,d,g){var y=a.stateNode;if(d=d.childContextTypes,typeof y.getChildContext!="function")return g;y=y.getChildContext();for(var _ in y)if(!(_ in d))throw Error(n(108,me(a)||"Unknown",_));return M({},g,y)}function Op(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ia,El=Xr.current,An(Xr,a),An(Ei,Ei.current),!0}function qE(a,d,g){var y=a.stateNode;if(!y)throw Error(n(169));g?(a=GE(a,d,El),y.__reactInternalMemoizedMergedChildContext=a,kn(Ei),kn(Xr),An(Xr,a)):kn(Ei),An(Ei,g)}var Bo=null,Vp=!1,Dy=!1;function WE(a){Bo===null?Bo=[a]:Bo.push(a)}function KB(a){Vp=!0,WE(a)}function Ra(){if(!Dy&&Bo!==null){Dy=!0;var a=0,d=ft;try{var g=Bo;for(ft=1;a<g.length;a++){var y=g[a];do y=y(!0);while(y!==null)}Bo=null,Vp=!1}catch(_){throw Bo!==null&&(Bo=Bo.slice(a+1)),_a(co,Ra),_}finally{ft=d,Dy=!1}}return null}var iu=[],su=0,Lp=null,Np=0,ls=[],cs=0,Cl=null,Do=1,Fo="";function kl(a,d){iu[su++]=Np,iu[su++]=Lp,Lp=a,Np=d}function KE(a,d,g){ls[cs++]=Do,ls[cs++]=Fo,ls[cs++]=Cl,Cl=a;var y=Do;a=Fo;var _=32-Ui(y)-1;y&=~(1<<_),g+=1;var C=32-Ui(d)+_;if(30<C){var O=_-_%5;C=(y&(1<<O)-1).toString(32),y>>=O,_-=O,Do=1<<32-Ui(d)+_|g<<_|y,Fo=C+a}else Do=1<<C|g<<_|y,Fo=a}function Fy(a){a.return!==null&&(kl(a,1),KE(a,1,0))}function $y(a){for(;a===Lp;)Lp=iu[--su],iu[su]=null,Np=iu[--su],iu[su]=null;for(;a===Cl;)Cl=ls[--cs],ls[cs]=null,Fo=ls[--cs],ls[cs]=null,Do=ls[--cs],ls[cs]=null}var Gi=null,qi=null,Ln=!1,Ds=null;function YE(a,d){var g=hs(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=a,d=a.deletions,d===null?(a.deletions=[g],a.flags|=16):d.push(g)}function QE(a,d){switch(a.tag){case 5:var g=a.type;return d=d.nodeType!==1||g.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(a.stateNode=d,Gi=a,qi=ka(d.firstChild),!0):!1;case 6:return d=a.pendingProps===""||d.nodeType!==3?null:d,d!==null?(a.stateNode=d,Gi=a,qi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(g=Cl!==null?{id:Do,overflow:Fo}:null,a.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},g=hs(18,null,null,0),g.stateNode=d,g.return=a,a.child=g,Gi=a,qi=null,!0):!1;default:return!1}}function zy(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Uy(a){if(Ln){var d=qi;if(d){var g=d;if(!QE(a,d)){if(zy(a))throw Error(n(418));d=ka(g.nextSibling);var y=Gi;d&&QE(a,d)?YE(y,g):(a.flags=a.flags&-4097|2,Ln=!1,Gi=a)}}else{if(zy(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ln=!1,Gi=a}}}function JE(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Gi=a}function Bp(a){if(a!==Gi)return!1;if(!Ln)return JE(a),Ln=!0,!1;var d;if((d=a.tag!==3)&&!(d=a.tag!==5)&&(d=a.type,d=d!=="head"&&d!=="body"&&!Oy(a.type,a.memoizedProps)),d&&(d=qi)){if(zy(a))throw XE(),Error(n(418));for(;d;)YE(a,d),d=ka(d.nextSibling)}if(JE(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,d=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(d===0){qi=ka(a.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++}a=a.nextSibling}qi=null}}else qi=Gi?ka(a.stateNode.nextSibling):null;return!0}function XE(){for(var a=qi;a;)a=ka(a.nextSibling)}function ou(){qi=Gi=null,Ln=!1}function Hy(a){Ds===null?Ds=[a]:Ds.push(a)}var YB=T.ReactCurrentBatchConfig;function Fs(a,d){if(a&&a.defaultProps){d=M({},d),a=a.defaultProps;for(var g in a)d[g]===void 0&&(d[g]=a[g]);return d}return d}var Dp=Ta(null),Fp=null,au=null,Gy=null;function qy(){Gy=au=Fp=null}function Wy(a){var d=Dp.current;kn(Dp),a._currentValue=d}function Ky(a,d,g){for(;a!==null;){var y=a.alternate;if((a.childLanes&d)!==d?(a.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),a===g)break;a=a.return}}function lu(a,d){Fp=a,Gy=au=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&d&&(ki=!0),a.firstContext=null)}function us(a){var d=a._currentValue;if(Gy!==a)if(a={context:a,memoizedValue:d,next:null},au===null){if(Fp===null)throw Error(n(308));au=a,Fp.dependencies={lanes:0,firstContext:a}}else au=au.next=a;return d}var Tl=null;function Yy(a){Tl===null?Tl=[a]:Tl.push(a)}function ZE(a,d,g,y){var _=d.interleaved;return _===null?(g.next=g,Yy(d)):(g.next=_.next,_.next=g),d.interleaved=g,$o(a,y)}function $o(a,d){a.lanes|=d;var g=a.alternate;for(g!==null&&(g.lanes|=d),g=a,a=a.return;a!==null;)a.childLanes|=d,g=a.alternate,g!==null&&(g.childLanes|=d),g=a,a=a.return;return g.tag===3?g.stateNode:null}var Pa=!1;function Qy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eC(a,d){a=a.updateQueue,d.updateQueue===a&&(d.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zo(a,d){return{eventTime:a,lane:d,tag:0,payload:null,callback:null,next:null}}function Ma(a,d,g){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,qt&2){var _=y.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),y.pending=d,$o(a,g)}return _=y.interleaved,_===null?(d.next=d,Yy(y)):(d.next=_.next,_.next=d),y.interleaved=d,$o(a,g)}function $p(a,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194240)!==0)){var y=d.lanes;y&=a.pendingLanes,g|=y,d.lanes=g,Gt(a,g)}}function tC(a,d){var g=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var _=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var O={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};C===null?_=C=O:C=C.next=O,g=g.next}while(g!==null);C===null?_=C=d:C=C.next=d}else _=C=d;g={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:y.shared,effects:y.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=d:a.next=d,g.lastBaseUpdate=d}function zp(a,d,g,y){var _=a.updateQueue;Pa=!1;var C=_.firstBaseUpdate,O=_.lastBaseUpdate,J=_.shared.pending;if(J!==null){_.shared.pending=null;var ee=J,he=ee.next;ee.next=null,O===null?C=he:O.next=he,O=ee;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,J=Se.lastBaseUpdate,J!==O&&(J===null?Se.firstBaseUpdate=he:J.next=he,Se.lastBaseUpdate=ee))}if(C!==null){var Ce=_.baseState;O=0,Se=he=ee=null,J=C;do{var _e=J.lane,ze=J.eventTime;if((y&_e)===_e){Se!==null&&(Se=Se.next={eventTime:ze,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ke=a,Qe=J;switch(_e=d,ze=g,Qe.tag){case 1:if(Ke=Qe.payload,typeof Ke=="function"){Ce=Ke.call(ze,Ce,_e);break e}Ce=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Qe.payload,_e=typeof Ke=="function"?Ke.call(ze,Ce,_e):Ke,_e==null)break e;Ce=M({},Ce,_e);break e;case 2:Pa=!0}}J.callback!==null&&J.lane!==0&&(a.flags|=64,_e=_.effects,_e===null?_.effects=[J]:_e.push(J))}else ze={eventTime:ze,lane:_e,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Se===null?(he=Se=ze,ee=Ce):Se=Se.next=ze,O|=_e;if(J=J.next,J===null){if(J=_.shared.pending,J===null)break;_e=J,J=_e.next,_e.next=null,_.lastBaseUpdate=_e,_.shared.pending=null}}while(!0);if(Se===null&&(ee=Ce),_.baseState=ee,_.firstBaseUpdate=he,_.lastBaseUpdate=Se,d=_.shared.interleaved,d!==null){_=d;do O|=_.lane,_=_.next;while(_!==d)}else C===null&&(_.shared.lanes=0);Pl|=O,a.lanes=O,a.memoizedState=Ce}}function nC(a,d,g){if(a=d.effects,d.effects=null,a!==null)for(d=0;d<a.length;d++){var y=a[d],_=y.callback;if(_!==null){if(y.callback=null,y=g,typeof _!="function")throw Error(n(191,_));_.call(y)}}}var rC=new e.Component().refs;function Jy(a,d,g,y){d=a.memoizedState,g=g(y,d),g=g==null?d:M({},d,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Up={isMounted:function(a){return(a=a._reactInternals)?as(a)===a:!1},enqueueSetState:function(a,d,g){a=a._reactInternals;var y=hi(),_=La(a),C=zo(y,_);C.payload=d,g!=null&&(C.callback=g),d=Ma(a,C,_),d!==null&&(Us(d,a,_,y),$p(d,a,_))},enqueueReplaceState:function(a,d,g){a=a._reactInternals;var y=hi(),_=La(a),C=zo(y,_);C.tag=1,C.payload=d,g!=null&&(C.callback=g),d=Ma(a,C,_),d!==null&&(Us(d,a,_,y),$p(d,a,_))},enqueueForceUpdate:function(a,d){a=a._reactInternals;var g=hi(),y=La(a),_=zo(g,y);_.tag=2,d!=null&&(_.callback=d),d=Ma(a,_,y),d!==null&&(Us(d,a,y,g),$p(d,a,y))}};function iC(a,d,g,y,_,C,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,C,O):d.prototype&&d.prototype.isPureReactComponent?!Zd(g,y)||!Zd(_,C):!0}function sC(a,d,g){var y=!1,_=Ia,C=d.contextType;return typeof C=="object"&&C!==null?C=us(C):(_=Ci(d)?El:Xr.current,y=d.contextTypes,C=(y=y!=null)?ru(a,_):Ia),d=new d(g,C),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Up,a.stateNode=d,d._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=C),d}function oC(a,d,g,y){a=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,y),d.state!==a&&Up.enqueueReplaceState(d,d.state,null)}function Xy(a,d,g,y){var _=a.stateNode;_.props=g,_.state=a.memoizedState,_.refs=rC,Qy(a);var C=d.contextType;typeof C=="object"&&C!==null?_.context=us(C):(C=Ci(d)?El:Xr.current,_.context=ru(a,C)),_.state=a.memoizedState,C=d.getDerivedStateFromProps,typeof C=="function"&&(Jy(a,d,C,g),_.state=a.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(d=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),d!==_.state&&Up.enqueueReplaceState(_,_.state,null),zp(a,g,_,y),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function af(a,d,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var y=g.stateNode}if(!y)throw Error(n(147,a));var _=y,C=""+a;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===C?d.ref:(d=function(O){var J=_.refs;J===rC&&(J=_.refs={}),O===null?delete J[C]:J[C]=O},d._stringRef=C,d)}if(typeof a!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,a))}return a}function Hp(a,d){throw a=Object.prototype.toString.call(d),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":a))}function aC(a){var d=a._init;return d(a._payload)}function lC(a){function d(le,ne){if(a){var ue=le.deletions;ue===null?(le.deletions=[ne],le.flags|=16):ue.push(ne)}}function g(le,ne){if(!a)return null;for(;ne!==null;)d(le,ne),ne=ne.sibling;return null}function y(le,ne){for(le=new Map;ne!==null;)ne.key!==null?le.set(ne.key,ne):le.set(ne.index,ne),ne=ne.sibling;return le}function _(le,ne){return le=Ba(le,ne),le.index=0,le.sibling=null,le}function C(le,ne,ue){return le.index=ue,a?(ue=le.alternate,ue!==null?(ue=ue.index,ue<ne?(le.flags|=2,ne):ue):(le.flags|=2,ne)):(le.flags|=1048576,ne)}function O(le){return a&&le.alternate===null&&(le.flags|=2),le}function J(le,ne,ue,Pe){return ne===null||ne.tag!==6?(ne=VA(ue,le.mode,Pe),ne.return=le,ne):(ne=_(ne,ue),ne.return=le,ne)}function ee(le,ne,ue,Pe){var Ze=ue.type;return Ze===N?Se(le,ne,ue.props.children,Pe,ue.key):ne!==null&&(ne.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===L&&aC(Ze)===ne.type)?(Pe=_(ne,ue.props),Pe.ref=af(le,ne,ue),Pe.return=le,Pe):(Pe=cg(ue.type,ue.key,ue.props,null,le.mode,Pe),Pe.ref=af(le,ne,ue),Pe.return=le,Pe)}function he(le,ne,ue,Pe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ue.containerInfo||ne.stateNode.implementation!==ue.implementation?(ne=LA(ue,le.mode,Pe),ne.return=le,ne):(ne=_(ne,ue.children||[]),ne.return=le,ne)}function Se(le,ne,ue,Pe,Ze){return ne===null||ne.tag!==7?(ne=Vl(ue,le.mode,Pe,Ze),ne.return=le,ne):(ne=_(ne,ue),ne.return=le,ne)}function Ce(le,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=VA(""+ne,le.mode,ue),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return ue=cg(ne.type,ne.key,ne.props,null,le.mode,ue),ue.ref=af(le,null,ne),ue.return=le,ue;case P:return ne=LA(ne,le.mode,ue),ne.return=le,ne;case L:var Pe=ne._init;return Ce(le,Pe(ne._payload),ue)}if(Ut(ne)||Q(ne))return ne=Vl(ne,le.mode,ue,null),ne.return=le,ne;Hp(le,ne)}return null}function _e(le,ne,ue,Pe){var Ze=ne!==null?ne.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ze!==null?null:J(le,ne,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:return ue.key===Ze?ee(le,ne,ue,Pe):null;case P:return ue.key===Ze?he(le,ne,ue,Pe):null;case L:return Ze=ue._init,_e(le,ne,Ze(ue._payload),Pe)}if(Ut(ue)||Q(ue))return Ze!==null?null:Se(le,ne,ue,Pe,null);Hp(le,ue)}return null}function ze(le,ne,ue,Pe,Ze){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return le=le.get(ue)||null,J(ne,le,""+Pe,Ze);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case E:return le=le.get(Pe.key===null?ue:Pe.key)||null,ee(ne,le,Pe,Ze);case P:return le=le.get(Pe.key===null?ue:Pe.key)||null,he(ne,le,Pe,Ze);case L:var at=Pe._init;return ze(le,ne,ue,at(Pe._payload),Ze)}if(Ut(Pe)||Q(Pe))return le=le.get(ue)||null,Se(ne,le,Pe,Ze,null);Hp(ne,Pe)}return null}function Ke(le,ne,ue,Pe){for(var Ze=null,at=null,lt=ne,yt=ne=0,Pr=null;lt!==null&&yt<ue.length;yt++){lt.index>yt?(Pr=lt,lt=null):Pr=lt.sibling;var Qt=_e(le,lt,ue[yt],Pe);if(Qt===null){lt===null&&(lt=Pr);break}a&&lt&&Qt.alternate===null&&d(le,lt),ne=C(Qt,ne,yt),at===null?Ze=Qt:at.sibling=Qt,at=Qt,lt=Pr}if(yt===ue.length)return g(le,lt),Ln&&kl(le,yt),Ze;if(lt===null){for(;yt<ue.length;yt++)lt=Ce(le,ue[yt],Pe),lt!==null&&(ne=C(lt,ne,yt),at===null?Ze=lt:at.sibling=lt,at=lt);return Ln&&kl(le,yt),Ze}for(lt=y(le,lt);yt<ue.length;yt++)Pr=ze(lt,le,yt,ue[yt],Pe),Pr!==null&&(a&&Pr.alternate!==null&&lt.delete(Pr.key===null?yt:Pr.key),ne=C(Pr,ne,yt),at===null?Ze=Pr:at.sibling=Pr,at=Pr);return a&&lt.forEach(function(Da){return d(le,Da)}),Ln&&kl(le,yt),Ze}function Qe(le,ne,ue,Pe){var Ze=Q(ue);if(typeof Ze!="function")throw Error(n(150));if(ue=Ze.call(ue),ue==null)throw Error(n(151));for(var at=Ze=null,lt=ne,yt=ne=0,Pr=null,Qt=ue.next();lt!==null&&!Qt.done;yt++,Qt=ue.next()){lt.index>yt?(Pr=lt,lt=null):Pr=lt.sibling;var Da=_e(le,lt,Qt.value,Pe);if(Da===null){lt===null&&(lt=Pr);break}a&&lt&&Da.alternate===null&&d(le,lt),ne=C(Da,ne,yt),at===null?Ze=Da:at.sibling=Da,at=Da,lt=Pr}if(Qt.done)return g(le,lt),Ln&&kl(le,yt),Ze;if(lt===null){for(;!Qt.done;yt++,Qt=ue.next())Qt=Ce(le,Qt.value,Pe),Qt!==null&&(ne=C(Qt,ne,yt),at===null?Ze=Qt:at.sibling=Qt,at=Qt);return Ln&&kl(le,yt),Ze}for(lt=y(le,lt);!Qt.done;yt++,Qt=ue.next())Qt=ze(lt,le,yt,Qt.value,Pe),Qt!==null&&(a&&Qt.alternate!==null&&lt.delete(Qt.key===null?yt:Qt.key),ne=C(Qt,ne,yt),at===null?Ze=Qt:at.sibling=Qt,at=Qt);return a&&lt.forEach(function(TD){return d(le,TD)}),Ln&&kl(le,yt),Ze}function ir(le,ne,ue,Pe){if(typeof ue=="object"&&ue!==null&&ue.type===N&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:e:{for(var Ze=ue.key,at=ne;at!==null;){if(at.key===Ze){if(Ze=ue.type,Ze===N){if(at.tag===7){g(le,at.sibling),ne=_(at,ue.props.children),ne.return=le,le=ne;break e}}else if(at.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===L&&aC(Ze)===at.type){g(le,at.sibling),ne=_(at,ue.props),ne.ref=af(le,at,ue),ne.return=le,le=ne;break e}g(le,at);break}else d(le,at);at=at.sibling}ue.type===N?(ne=Vl(ue.props.children,le.mode,Pe,ue.key),ne.return=le,le=ne):(Pe=cg(ue.type,ue.key,ue.props,null,le.mode,Pe),Pe.ref=af(le,ne,ue),Pe.return=le,le=Pe)}return O(le);case P:e:{for(at=ue.key;ne!==null;){if(ne.key===at)if(ne.tag===4&&ne.stateNode.containerInfo===ue.containerInfo&&ne.stateNode.implementation===ue.implementation){g(le,ne.sibling),ne=_(ne,ue.children||[]),ne.return=le,le=ne;break e}else{g(le,ne);break}else d(le,ne);ne=ne.sibling}ne=LA(ue,le.mode,Pe),ne.return=le,le=ne}return O(le);case L:return at=ue._init,ir(le,ne,at(ue._payload),Pe)}if(Ut(ue))return Ke(le,ne,ue,Pe);if(Q(ue))return Qe(le,ne,ue,Pe);Hp(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ne!==null&&ne.tag===6?(g(le,ne.sibling),ne=_(ne,ue),ne.return=le,le=ne):(g(le,ne),ne=VA(ue,le.mode,Pe),ne.return=le,le=ne),O(le)):g(le,ne)}return ir}var cu=lC(!0),cC=lC(!1),lf={},ho=Ta(lf),cf=Ta(lf),uf=Ta(lf);function Il(a){if(a===lf)throw Error(n(174));return a}function Zy(a,d){switch(An(uf,d),An(cf,a),An(ho,lf),a=d.nodeType,a){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:bt(null,"");break;default:a=a===8?d.parentNode:d,d=a.namespaceURI||null,a=a.tagName,d=bt(d,a)}kn(ho),An(ho,d)}function uu(){kn(ho),kn(cf),kn(uf)}function uC(a){Il(uf.current);var d=Il(ho.current),g=bt(d,a.type);d!==g&&(An(cf,a),An(ho,g))}function eA(a){cf.current===a&&(kn(ho),kn(cf))}var Un=Ta(0);function Gp(a){for(var d=a;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var tA=[];function nA(){for(var a=0;a<tA.length;a++)tA[a]._workInProgressVersionPrimary=null;tA.length=0}var qp=T.ReactCurrentDispatcher,rA=T.ReactCurrentBatchConfig,Rl=0,Hn=null,Sr=null,Ir=null,Wp=!1,df=!1,ff=0,QB=0;function Zr(){throw Error(n(321))}function iA(a,d){if(d===null)return!1;for(var g=0;g<d.length&&g<a.length;g++)if(!Bs(a[g],d[g]))return!1;return!0}function sA(a,d,g,y,_,C){if(Rl=C,Hn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,qp.current=a===null||a.memoizedState===null?eD:tD,a=g(y,_),df){C=0;do{if(df=!1,ff=0,25<=C)throw Error(n(301));C+=1,Ir=Sr=null,d.updateQueue=null,qp.current=nD,a=g(y,_)}while(df)}if(qp.current=Qp,d=Sr!==null&&Sr.next!==null,Rl=0,Ir=Sr=Hn=null,Wp=!1,d)throw Error(n(300));return a}function oA(){var a=ff!==0;return ff=0,a}function po(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?Hn.memoizedState=Ir=a:Ir=Ir.next=a,Ir}function ds(){if(Sr===null){var a=Hn.alternate;a=a!==null?a.memoizedState:null}else a=Sr.next;var d=Ir===null?Hn.memoizedState:Ir.next;if(d!==null)Ir=d,Sr=a;else{if(a===null)throw Error(n(310));Sr=a,a={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Ir===null?Hn.memoizedState=Ir=a:Ir=Ir.next=a}return Ir}function hf(a,d){return typeof d=="function"?d(a):d}function aA(a){var d=ds(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var y=Sr,_=y.baseQueue,C=g.pending;if(C!==null){if(_!==null){var O=_.next;_.next=C.next,C.next=O}y.baseQueue=_=C,g.pending=null}if(_!==null){C=_.next,y=y.baseState;var J=O=null,ee=null,he=C;do{var Se=he.lane;if((Rl&Se)===Se)ee!==null&&(ee=ee.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),y=he.hasEagerState?he.eagerState:a(y,he.action);else{var Ce={lane:Se,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};ee===null?(J=ee=Ce,O=y):ee=ee.next=Ce,Hn.lanes|=Se,Pl|=Se}he=he.next}while(he!==null&&he!==C);ee===null?O=y:ee.next=J,Bs(y,d.memoizedState)||(ki=!0),d.memoizedState=y,d.baseState=O,d.baseQueue=ee,g.lastRenderedState=y}if(a=g.interleaved,a!==null){_=a;do C=_.lane,Hn.lanes|=C,Pl|=C,_=_.next;while(_!==a)}else _===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function lA(a){var d=ds(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=a;var y=g.dispatch,_=g.pending,C=d.memoizedState;if(_!==null){g.pending=null;var O=_=_.next;do C=a(C,O.action),O=O.next;while(O!==_);Bs(C,d.memoizedState)||(ki=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),g.lastRenderedState=C}return[C,y]}function dC(){}function fC(a,d){var g=Hn,y=ds(),_=d(),C=!Bs(y.memoizedState,_);if(C&&(y.memoizedState=_,ki=!0),y=y.queue,cA(gC.bind(null,g,y,a),[a]),y.getSnapshot!==d||C||Ir!==null&&Ir.memoizedState.tag&1){if(g.flags|=2048,pf(9,pC.bind(null,g,y,_,d),void 0,null),Rr===null)throw Error(n(349));Rl&30||hC(g,d,_)}return _}function hC(a,d,g){a.flags|=16384,a={getSnapshot:d,value:g},d=Hn.updateQueue,d===null?(d={lastEffect:null,stores:null},Hn.updateQueue=d,d.stores=[a]):(g=d.stores,g===null?d.stores=[a]:g.push(a))}function pC(a,d,g,y){d.value=g,d.getSnapshot=y,mC(d)&&vC(a)}function gC(a,d,g){return g(function(){mC(d)&&vC(a)})}function mC(a){var d=a.getSnapshot;a=a.value;try{var g=d();return!Bs(a,g)}catch{return!0}}function vC(a){var d=$o(a,1);d!==null&&Us(d,a,1,-1)}function yC(a){var d=po();return typeof a=="function"&&(a=a()),d.memoizedState=d.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:a},d.queue=a,a=a.dispatch=ZB.bind(null,Hn,a),[d.memoizedState,a]}function pf(a,d,g,y){return a={tag:a,create:d,destroy:g,deps:y,next:null},d=Hn.updateQueue,d===null?(d={lastEffect:null,stores:null},Hn.updateQueue=d,d.lastEffect=a.next=a):(g=d.lastEffect,g===null?d.lastEffect=a.next=a:(y=g.next,g.next=a,a.next=y,d.lastEffect=a)),a}function AC(){return ds().memoizedState}function Kp(a,d,g,y){var _=po();Hn.flags|=a,_.memoizedState=pf(1|d,g,void 0,y===void 0?null:y)}function Yp(a,d,g,y){var _=ds();y=y===void 0?null:y;var C=void 0;if(Sr!==null){var O=Sr.memoizedState;if(C=O.destroy,y!==null&&iA(y,O.deps)){_.memoizedState=pf(d,g,C,y);return}}Hn.flags|=a,_.memoizedState=pf(1|d,g,C,y)}function bC(a,d){return Kp(8390656,8,a,d)}function cA(a,d){return Yp(2048,8,a,d)}function _C(a,d){return Yp(4,2,a,d)}function SC(a,d){return Yp(4,4,a,d)}function xC(a,d){if(typeof d=="function")return a=a(),d(a),function(){d(null)};if(d!=null)return a=a(),d.current=a,function(){d.current=null}}function wC(a,d,g){return g=g!=null?g.concat([a]):null,Yp(4,4,xC.bind(null,d,a),g)}function uA(){}function EC(a,d){var g=ds();d=d===void 0?null:d;var y=g.memoizedState;return y!==null&&d!==null&&iA(d,y[1])?y[0]:(g.memoizedState=[a,d],a)}function CC(a,d){var g=ds();d=d===void 0?null:d;var y=g.memoizedState;return y!==null&&d!==null&&iA(d,y[1])?y[0]:(a=a(),g.memoizedState=[a,d],a)}function kC(a,d,g){return Rl&21?(Bs(g,d)||(g=Me(),Hn.lanes|=g,Pl|=g,a.baseState=!0),d):(a.baseState&&(a.baseState=!1,ki=!0),a.memoizedState=g)}function JB(a,d){var g=ft;ft=g!==0&&4>g?g:4,a(!0);var y=rA.transition;rA.transition={};try{a(!1),d()}finally{ft=g,rA.transition=y}}function TC(){return ds().memoizedState}function XB(a,d,g){var y=La(a);if(g={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null},IC(a))RC(d,g);else if(g=ZE(a,d,g,y),g!==null){var _=hi();Us(g,a,y,_),PC(g,d,y)}}function ZB(a,d,g){var y=La(a),_={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null};if(IC(a))RC(d,_);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var O=d.lastRenderedState,J=C(O,g);if(_.hasEagerState=!0,_.eagerState=J,Bs(J,O)){var ee=d.interleaved;ee===null?(_.next=_,Yy(d)):(_.next=ee.next,ee.next=_),d.interleaved=_;return}}catch{}finally{}g=ZE(a,d,_,y),g!==null&&(_=hi(),Us(g,a,y,_),PC(g,d,y))}}function IC(a){var d=a.alternate;return a===Hn||d!==null&&d===Hn}function RC(a,d){df=Wp=!0;var g=a.pending;g===null?d.next=d:(d.next=g.next,g.next=d),a.pending=d}function PC(a,d,g){if(g&4194240){var y=d.lanes;y&=a.pendingLanes,g|=y,d.lanes=g,Gt(a,g)}}var Qp={readContext:us,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},eD={readContext:us,useCallback:function(a,d){return po().memoizedState=[a,d===void 0?null:d],a},useContext:us,useEffect:bC,useImperativeHandle:function(a,d,g){return g=g!=null?g.concat([a]):null,Kp(4194308,4,xC.bind(null,d,a),g)},useLayoutEffect:function(a,d){return Kp(4194308,4,a,d)},useInsertionEffect:function(a,d){return Kp(4,2,a,d)},useMemo:function(a,d){var g=po();return d=d===void 0?null:d,a=a(),g.memoizedState=[a,d],a},useReducer:function(a,d,g){var y=po();return d=g!==void 0?g(d):d,y.memoizedState=y.baseState=d,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:d},y.queue=a,a=a.dispatch=XB.bind(null,Hn,a),[y.memoizedState,a]},useRef:function(a){var d=po();return a={current:a},d.memoizedState=a},useState:yC,useDebugValue:uA,useDeferredValue:function(a){return po().memoizedState=a},useTransition:function(){var a=yC(!1),d=a[0];return a=JB.bind(null,a[1]),po().memoizedState=a,[d,a]},useMutableSource:function(){},useSyncExternalStore:function(a,d,g){var y=Hn,_=po();if(Ln){if(g===void 0)throw Error(n(407));g=g()}else{if(g=d(),Rr===null)throw Error(n(349));Rl&30||hC(y,d,g)}_.memoizedState=g;var C={value:g,getSnapshot:d};return _.queue=C,bC(gC.bind(null,y,C,a),[a]),y.flags|=2048,pf(9,pC.bind(null,y,C,g,d),void 0,null),g},useId:function(){var a=po(),d=Rr.identifierPrefix;if(Ln){var g=Fo,y=Do;g=(y&~(1<<32-Ui(y)-1)).toString(32)+g,d=":"+d+"R"+g,g=ff++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=QB++,d=":"+d+"r"+g.toString(32)+":";return a.memoizedState=d},unstable_isNewReconciler:!1},tD={readContext:us,useCallback:EC,useContext:us,useEffect:cA,useImperativeHandle:wC,useInsertionEffect:_C,useLayoutEffect:SC,useMemo:CC,useReducer:aA,useRef:AC,useState:function(){return aA(hf)},useDebugValue:uA,useDeferredValue:function(a){var d=ds();return kC(d,Sr.memoizedState,a)},useTransition:function(){var a=aA(hf)[0],d=ds().memoizedState;return[a,d]},useMutableSource:dC,useSyncExternalStore:fC,useId:TC,unstable_isNewReconciler:!1},nD={readContext:us,useCallback:EC,useContext:us,useEffect:cA,useImperativeHandle:wC,useInsertionEffect:_C,useLayoutEffect:SC,useMemo:CC,useReducer:lA,useRef:AC,useState:function(){return lA(hf)},useDebugValue:uA,useDeferredValue:function(a){var d=ds();return Sr===null?d.memoizedState=a:kC(d,Sr.memoizedState,a)},useTransition:function(){var a=lA(hf)[0],d=ds().memoizedState;return[a,d]},useMutableSource:dC,useSyncExternalStore:fC,useId:TC,unstable_isNewReconciler:!1};function du(a,d){try{var g="",y=d;do g+=pe(y),y=y.return;while(y);var _=g}catch(C){_=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:d,stack:_,digest:null}}function dA(a,d,g){return{value:a,source:null,stack:g??null,digest:d??null}}function fA(a,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var rD=typeof WeakMap=="function"?WeakMap:Map;function MC(a,d,g){g=zo(-1,g),g.tag=3,g.payload={element:null};var y=d.value;return g.callback=function(){rg||(rg=!0,kA=y),fA(a,d)},g}function jC(a,d,g){g=zo(-1,g),g.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;g.payload=function(){return y(_)},g.callback=function(){fA(a,d)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(g.callback=function(){fA(a,d),typeof y!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})}),g}function OC(a,d,g){var y=a.pingCache;if(y===null){y=a.pingCache=new rD;var _=new Set;y.set(d,_)}else _=y.get(d),_===void 0&&(_=new Set,y.set(d,_));_.has(g)||(_.add(g),a=vD.bind(null,a,d,g),d.then(a,a))}function VC(a){do{var d;if((d=a.tag===13)&&(d=a.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return a;a=a.return}while(a!==null);return null}function LC(a,d,g,y,_){return a.mode&1?(a.flags|=65536,a.lanes=_,a):(a===d?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(d=zo(-1,1),d.tag=2,Ma(g,d,1))),g.lanes|=1),a)}var iD=T.ReactCurrentOwner,ki=!1;function fi(a,d,g,y){d.child=a===null?cC(d,null,g,y):cu(d,a.child,g,y)}function NC(a,d,g,y,_){g=g.render;var C=d.ref;return lu(d,_),y=sA(a,d,g,y,C,_),g=oA(),a!==null&&!ki?(d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~_,Uo(a,d,_)):(Ln&&g&&Fy(d),d.flags|=1,fi(a,d,y,_),d.child)}function BC(a,d,g,y,_){if(a===null){var C=g.type;return typeof C=="function"&&!OA(C)&&C.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(d.tag=15,d.type=C,DC(a,d,C,y,_)):(a=cg(g.type,null,y,d,d.mode,_),a.ref=d.ref,a.return=d,d.child=a)}if(C=a.child,!(a.lanes&_)){var O=C.memoizedProps;if(g=g.compare,g=g!==null?g:Zd,g(O,y)&&a.ref===d.ref)return Uo(a,d,_)}return d.flags|=1,a=Ba(C,y),a.ref=d.ref,a.return=d,d.child=a}function DC(a,d,g,y,_){if(a!==null){var C=a.memoizedProps;if(Zd(C,y)&&a.ref===d.ref)if(ki=!1,d.pendingProps=y=C,(a.lanes&_)!==0)a.flags&131072&&(ki=!0);else return d.lanes=a.lanes,Uo(a,d,_)}return hA(a,d,g,y,_)}function FC(a,d,g){var y=d.pendingProps,_=y.children,C=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(hu,Wi),Wi|=g;else{if(!(g&1073741824))return a=C!==null?C.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:a,cachePool:null,transitions:null},d.updateQueue=null,An(hu,Wi),Wi|=a,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:g,An(hu,Wi),Wi|=y}else C!==null?(y=C.baseLanes|g,d.memoizedState=null):y=g,An(hu,Wi),Wi|=y;return fi(a,d,_,g),d.child}function $C(a,d){var g=d.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function hA(a,d,g,y,_){var C=Ci(g)?El:Xr.current;return C=ru(d,C),lu(d,_),g=sA(a,d,g,y,C,_),y=oA(),a!==null&&!ki?(d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~_,Uo(a,d,_)):(Ln&&y&&Fy(d),d.flags|=1,fi(a,d,g,_),d.child)}function zC(a,d,g,y,_){if(Ci(g)){var C=!0;Op(d)}else C=!1;if(lu(d,_),d.stateNode===null)Xp(a,d),sC(d,g,y),Xy(d,g,y,_),y=!0;else if(a===null){var O=d.stateNode,J=d.memoizedProps;O.props=J;var ee=O.context,he=g.contextType;typeof he=="object"&&he!==null?he=us(he):(he=Ci(g)?El:Xr.current,he=ru(d,he));var Se=g.getDerivedStateFromProps,Ce=typeof Se=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ce||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(J!==y||ee!==he)&&oC(d,O,y,he),Pa=!1;var _e=d.memoizedState;O.state=_e,zp(d,y,O,_),ee=d.memoizedState,J!==y||_e!==ee||Ei.current||Pa?(typeof Se=="function"&&(Jy(d,g,Se,y),ee=d.memoizedState),(J=Pa||iC(d,g,J,y,_e,ee,he))?(Ce||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(d.flags|=4194308)):(typeof O.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=ee),O.props=y,O.state=ee,O.context=he,y=J):(typeof O.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{O=d.stateNode,eC(a,d),J=d.memoizedProps,he=d.type===d.elementType?J:Fs(d.type,J),O.props=he,Ce=d.pendingProps,_e=O.context,ee=g.contextType,typeof ee=="object"&&ee!==null?ee=us(ee):(ee=Ci(g)?El:Xr.current,ee=ru(d,ee));var ze=g.getDerivedStateFromProps;(Se=typeof ze=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(J!==Ce||_e!==ee)&&oC(d,O,y,ee),Pa=!1,_e=d.memoizedState,O.state=_e,zp(d,y,O,_);var Ke=d.memoizedState;J!==Ce||_e!==Ke||Ei.current||Pa?(typeof ze=="function"&&(Jy(d,g,ze,y),Ke=d.memoizedState),(he=Pa||iC(d,g,he,y,_e,Ke,ee)||!1)?(Se||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,Ke,ee),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,Ke,ee)),typeof O.componentDidUpdate=="function"&&(d.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof O.componentDidUpdate!="function"||J===a.memoizedProps&&_e===a.memoizedState||(d.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||J===a.memoizedProps&&_e===a.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=Ke),O.props=y,O.state=Ke,O.context=ee,y=he):(typeof O.componentDidUpdate!="function"||J===a.memoizedProps&&_e===a.memoizedState||(d.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||J===a.memoizedProps&&_e===a.memoizedState||(d.flags|=1024),y=!1)}return pA(a,d,g,y,C,_)}function pA(a,d,g,y,_,C){$C(a,d);var O=(d.flags&128)!==0;if(!y&&!O)return _&&qE(d,g,!1),Uo(a,d,C);y=d.stateNode,iD.current=d;var J=O&&typeof g.getDerivedStateFromError!="function"?null:y.render();return d.flags|=1,a!==null&&O?(d.child=cu(d,a.child,null,C),d.child=cu(d,null,J,C)):fi(a,d,J,C),d.memoizedState=y.state,_&&qE(d,g,!0),d.child}function UC(a){var d=a.stateNode;d.pendingContext?HE(a,d.pendingContext,d.pendingContext!==d.context):d.context&&HE(a,d.context,!1),Zy(a,d.containerInfo)}function HC(a,d,g,y,_){return ou(),Hy(_),d.flags|=256,fi(a,d,g,y),d.child}var gA={dehydrated:null,treeContext:null,retryLane:0};function mA(a){return{baseLanes:a,cachePool:null,transitions:null}}function GC(a,d,g){var y=d.pendingProps,_=Un.current,C=!1,O=(d.flags&128)!==0,J;if((J=O)||(J=a!==null&&a.memoizedState===null?!1:(_&2)!==0),J?(C=!0,d.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),An(Un,_&1),a===null)return Uy(d),a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(d.mode&1?a.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(O=y.children,a=y.fallback,C?(y=d.mode,C=d.child,O={mode:"hidden",children:O},!(y&1)&&C!==null?(C.childLanes=0,C.pendingProps=O):C=ug(O,y,0,null),a=Vl(a,y,g,null),C.return=d,a.return=d,C.sibling=a,d.child=C,d.child.memoizedState=mA(g),d.memoizedState=gA,a):vA(d,O));if(_=a.memoizedState,_!==null&&(J=_.dehydrated,J!==null))return sD(a,d,O,y,J,_,g);if(C){C=y.fallback,O=d.mode,_=a.child,J=_.sibling;var ee={mode:"hidden",children:y.children};return!(O&1)&&d.child!==_?(y=d.child,y.childLanes=0,y.pendingProps=ee,d.deletions=null):(y=Ba(_,ee),y.subtreeFlags=_.subtreeFlags&14680064),J!==null?C=Ba(J,C):(C=Vl(C,O,g,null),C.flags|=2),C.return=d,y.return=d,y.sibling=C,d.child=y,y=C,C=d.child,O=a.child.memoizedState,O=O===null?mA(g):{baseLanes:O.baseLanes|g,cachePool:null,transitions:O.transitions},C.memoizedState=O,C.childLanes=a.childLanes&~g,d.memoizedState=gA,y}return C=a.child,a=C.sibling,y=Ba(C,{mode:"visible",children:y.children}),!(d.mode&1)&&(y.lanes=g),y.return=d,y.sibling=null,a!==null&&(g=d.deletions,g===null?(d.deletions=[a],d.flags|=16):g.push(a)),d.child=y,d.memoizedState=null,y}function vA(a,d){return d=ug({mode:"visible",children:d},a.mode,0,null),d.return=a,a.child=d}function Jp(a,d,g,y){return y!==null&&Hy(y),cu(d,a.child,null,g),a=vA(d,d.pendingProps.children),a.flags|=2,d.memoizedState=null,a}function sD(a,d,g,y,_,C,O){if(g)return d.flags&256?(d.flags&=-257,y=dA(Error(n(422))),Jp(a,d,O,y)):d.memoizedState!==null?(d.child=a.child,d.flags|=128,null):(C=y.fallback,_=d.mode,y=ug({mode:"visible",children:y.children},_,0,null),C=Vl(C,_,O,null),C.flags|=2,y.return=d,C.return=d,y.sibling=C,d.child=y,d.mode&1&&cu(d,a.child,null,O),d.child.memoizedState=mA(O),d.memoizedState=gA,C);if(!(d.mode&1))return Jp(a,d,O,null);if(_.data==="$!"){if(y=_.nextSibling&&_.nextSibling.dataset,y)var J=y.dgst;return y=J,C=Error(n(419)),y=dA(C,y,void 0),Jp(a,d,O,y)}if(J=(O&a.childLanes)!==0,ki||J){if(y=Rr,y!==null){switch(O&-O){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(y.suspendedLanes|O)?0:_,_!==0&&_!==C.retryLane&&(C.retryLane=_,$o(a,_),Us(y,a,_,-1))}return jA(),y=dA(Error(n(421))),Jp(a,d,O,y)}return _.data==="$?"?(d.flags|=128,d.child=a.child,d=yD.bind(null,a),_._reactRetry=d,null):(a=C.treeContext,qi=ka(_.nextSibling),Gi=d,Ln=!0,Ds=null,a!==null&&(ls[cs++]=Do,ls[cs++]=Fo,ls[cs++]=Cl,Do=a.id,Fo=a.overflow,Cl=d),d=vA(d,y.children),d.flags|=4096,d)}function qC(a,d,g){a.lanes|=d;var y=a.alternate;y!==null&&(y.lanes|=d),Ky(a.return,d,g)}function yA(a,d,g,y,_){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:_}:(C.isBackwards=d,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=g,C.tailMode=_)}function WC(a,d,g){var y=d.pendingProps,_=y.revealOrder,C=y.tail;if(fi(a,d,y.children,g),y=Un.current,y&2)y=y&1|2,d.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=d.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&qC(a,g,d);else if(a.tag===19)qC(a,g,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(An(Un,y),!(d.mode&1))d.memoizedState=null;else switch(_){case"forwards":for(g=d.child,_=null;g!==null;)a=g.alternate,a!==null&&Gp(a)===null&&(_=g),g=g.sibling;g=_,g===null?(_=d.child,d.child=null):(_=g.sibling,g.sibling=null),yA(d,!1,_,g,C);break;case"backwards":for(g=null,_=d.child,d.child=null;_!==null;){if(a=_.alternate,a!==null&&Gp(a)===null){d.child=_;break}a=_.sibling,_.sibling=g,g=_,_=a}yA(d,!0,g,null,C);break;case"together":yA(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Xp(a,d){!(d.mode&1)&&a!==null&&(a.alternate=null,d.alternate=null,d.flags|=2)}function Uo(a,d,g){if(a!==null&&(d.dependencies=a.dependencies),Pl|=d.lanes,!(g&d.childLanes))return null;if(a!==null&&d.child!==a.child)throw Error(n(153));if(d.child!==null){for(a=d.child,g=Ba(a,a.pendingProps),d.child=g,g.return=d;a.sibling!==null;)a=a.sibling,g=g.sibling=Ba(a,a.pendingProps),g.return=d;g.sibling=null}return d.child}function oD(a,d,g){switch(d.tag){case 3:UC(d),ou();break;case 5:uC(d);break;case 1:Ci(d.type)&&Op(d);break;case 4:Zy(d,d.stateNode.containerInfo);break;case 10:var y=d.type._context,_=d.memoizedProps.value;An(Dp,y._currentValue),y._currentValue=_;break;case 13:if(y=d.memoizedState,y!==null)return y.dehydrated!==null?(An(Un,Un.current&1),d.flags|=128,null):g&d.child.childLanes?GC(a,d,g):(An(Un,Un.current&1),a=Uo(a,d,g),a!==null?a.sibling:null);An(Un,Un.current&1);break;case 19:if(y=(g&d.childLanes)!==0,a.flags&128){if(y)return WC(a,d,g);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),An(Un,Un.current),y)break;return null;case 22:case 23:return d.lanes=0,FC(a,d,g)}return Uo(a,d,g)}var KC,AA,YC,QC;KC=function(a,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},AA=function(){},YC=function(a,d,g,y){var _=a.memoizedProps;if(_!==y){a=d.stateNode,Il(ho.current);var C=null;switch(g){case"input":_=Le(a,_),y=Le(a,y),C=[];break;case"select":_=M({},_,{value:void 0}),y=M({},y,{value:void 0}),C=[];break;case"textarea":_=Ht(a,_),y=Ht(a,y),C=[];break;default:typeof _.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=Pp)}un(g,y);var O;g=null;for(he in _)if(!y.hasOwnProperty(he)&&_.hasOwnProperty(he)&&_[he]!=null)if(he==="style"){var J=_[he];for(O in J)J.hasOwnProperty(O)&&(g||(g={}),g[O]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?C||(C=[]):(C=C||[]).push(he,null));for(he in y){var ee=y[he];if(J=_!=null?_[he]:void 0,y.hasOwnProperty(he)&&ee!==J&&(ee!=null||J!=null))if(he==="style")if(J){for(O in J)!J.hasOwnProperty(O)||ee&&ee.hasOwnProperty(O)||(g||(g={}),g[O]="");for(O in ee)ee.hasOwnProperty(O)&&J[O]!==ee[O]&&(g||(g={}),g[O]=ee[O])}else g||(C||(C=[]),C.push(he,g)),g=ee;else he==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,J=J?J.__html:void 0,ee!=null&&J!==ee&&(C=C||[]).push(he,ee)):he==="children"?typeof ee!="string"&&typeof ee!="number"||(C=C||[]).push(he,""+ee):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(ee!=null&&he==="onScroll"&&Cn("scroll",a),C||J===ee||(C=[])):(C=C||[]).push(he,ee))}g&&(C=C||[]).push("style",g);var he=C;(d.updateQueue=he)&&(d.flags|=4)}},QC=function(a,d,g,y){g!==y&&(d.flags|=4)};function gf(a,d){if(!Ln)switch(a.tailMode){case"hidden":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?d||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function ei(a){var d=a.alternate!==null&&a.alternate.child===a.child,g=0,y=0;if(d)for(var _=a.child;_!==null;)g|=_.lanes|_.childLanes,y|=_.subtreeFlags&14680064,y|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)g|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=g,d}function aD(a,d,g){var y=d.pendingProps;switch($y(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(d),null;case 1:return Ci(d.type)&&jp(),ei(d),null;case 3:return y=d.stateNode,uu(),kn(Ei),kn(Xr),nA(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Bp(d)?d.flags|=4:a===null||a.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Ds!==null&&(RA(Ds),Ds=null))),AA(a,d),ei(d),null;case 5:eA(d);var _=Il(uf.current);if(g=d.type,a!==null&&d.stateNode!=null)YC(a,d,g,y,_),a.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!y){if(d.stateNode===null)throw Error(n(166));return ei(d),null}if(a=Il(ho.current),Bp(d)){y=d.stateNode,g=d.type;var C=d.memoizedProps;switch(y[fo]=d,y[sf]=C,a=(d.mode&1)!==0,g){case"dialog":Cn("cancel",y),Cn("close",y);break;case"iframe":case"object":case"embed":Cn("load",y);break;case"video":case"audio":for(_=0;_<tf.length;_++)Cn(tf[_],y);break;case"source":Cn("error",y);break;case"img":case"image":case"link":Cn("error",y),Cn("load",y);break;case"details":Cn("toggle",y);break;case"input":Oe(y,C),Cn("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},Cn("invalid",y);break;case"textarea":Ge(y,C),Cn("invalid",y)}un(g,C),_=null;for(var O in C)if(C.hasOwnProperty(O)){var J=C[O];O==="children"?typeof J=="string"?y.textContent!==J&&(C.suppressHydrationWarning!==!0&&Rp(y.textContent,J,a),_=["children",J]):typeof J=="number"&&y.textContent!==""+J&&(C.suppressHydrationWarning!==!0&&Rp(y.textContent,J,a),_=["children",""+J]):i.hasOwnProperty(O)&&J!=null&&O==="onScroll"&&Cn("scroll",y)}switch(g){case"input":je(y),De(y,C,!0);break;case"textarea":je(y),Xt(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=Pp)}y=_,d.updateQueue=y,y!==null&&(d.flags|=4)}else{O=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Zt(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=O.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=O.createElement(g,{is:y.is}):(a=O.createElement(g),g==="select"&&(O=a,y.multiple?O.multiple=!0:y.size&&(O.size=y.size))):a=O.createElementNS(a,g),a[fo]=d,a[sf]=y,KC(a,d,!1,!1),d.stateNode=a;e:{switch(O=Dt(g,y),g){case"dialog":Cn("cancel",a),Cn("close",a),_=y;break;case"iframe":case"object":case"embed":Cn("load",a),_=y;break;case"video":case"audio":for(_=0;_<tf.length;_++)Cn(tf[_],a);_=y;break;case"source":Cn("error",a),_=y;break;case"img":case"image":case"link":Cn("error",a),Cn("load",a),_=y;break;case"details":Cn("toggle",a),_=y;break;case"input":Oe(a,y),_=Le(a,y),Cn("invalid",a);break;case"option":_=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},_=M({},y,{value:void 0}),Cn("invalid",a);break;case"textarea":Ge(a,y),_=Ht(a,y),Cn("invalid",a);break;default:_=y}un(g,_),J=_;for(C in J)if(J.hasOwnProperty(C)){var ee=J[C];C==="style"?vn(a,ee):C==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&nt(a,ee)):C==="children"?typeof ee=="string"?(g!=="textarea"||ee!=="")&&_t(a,ee):typeof ee=="number"&&_t(a,""+ee):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?ee!=null&&C==="onScroll"&&Cn("scroll",a):ee!=null&&R(a,C,ee,O))}switch(g){case"input":je(a),De(a,y,!1);break;case"textarea":je(a),Xt(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Ee(y.value));break;case"select":a.multiple=!!y.multiple,C=y.value,C!=null?Wt(a,!!y.multiple,C,!1):y.defaultValue!=null&&Wt(a,!!y.multiple,y.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=Pp)}switch(g){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ei(d),null;case 6:if(a&&d.stateNode!=null)QC(a,d,a.memoizedProps,y);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(g=Il(uf.current),Il(ho.current),Bp(d)){if(y=d.stateNode,g=d.memoizedProps,y[fo]=d,(C=y.nodeValue!==g)&&(a=Gi,a!==null))switch(a.tag){case 3:Rp(y.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Rp(y.nodeValue,g,(a.mode&1)!==0)}C&&(d.flags|=4)}else y=(g.nodeType===9?g:g.ownerDocument).createTextNode(y),y[fo]=d,d.stateNode=y}return ei(d),null;case 13:if(kn(Un),y=d.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ln&&qi!==null&&d.mode&1&&!(d.flags&128))XE(),ou(),d.flags|=98560,C=!1;else if(C=Bp(d),y!==null&&y.dehydrated!==null){if(a===null){if(!C)throw Error(n(318));if(C=d.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[fo]=d}else ou(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;ei(d),C=!1}else Ds!==null&&(RA(Ds),Ds=null),C=!0;if(!C)return d.flags&65536?d:null}return d.flags&128?(d.lanes=g,d):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(d.child.flags|=8192,d.mode&1&&(a===null||Un.current&1?xr===0&&(xr=3):jA())),d.updateQueue!==null&&(d.flags|=4),ei(d),null);case 4:return uu(),AA(a,d),a===null&&nf(d.stateNode.containerInfo),ei(d),null;case 10:return Wy(d.type._context),ei(d),null;case 17:return Ci(d.type)&&jp(),ei(d),null;case 19:if(kn(Un),C=d.memoizedState,C===null)return ei(d),null;if(y=(d.flags&128)!==0,O=C.rendering,O===null)if(y)gf(C,!1);else{if(xr!==0||a!==null&&a.flags&128)for(a=d.child;a!==null;){if(O=Gp(a),O!==null){for(d.flags|=128,gf(C,!1),y=O.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),d.subtreeFlags=0,y=g,g=d.child;g!==null;)C=g,a=y,C.flags&=14680066,O=C.alternate,O===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=O.childLanes,C.lanes=O.lanes,C.child=O.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=O.memoizedProps,C.memoizedState=O.memoizedState,C.updateQueue=O.updateQueue,C.type=O.type,a=O.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return An(Un,Un.current&1|2),d.child}a=a.sibling}C.tail!==null&&fn()>pu&&(d.flags|=128,y=!0,gf(C,!1),d.lanes=4194304)}else{if(!y)if(a=Gp(O),a!==null){if(d.flags|=128,y=!0,g=a.updateQueue,g!==null&&(d.updateQueue=g,d.flags|=4),gf(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!Ln)return ei(d),null}else 2*fn()-C.renderingStartTime>pu&&g!==1073741824&&(d.flags|=128,y=!0,gf(C,!1),d.lanes=4194304);C.isBackwards?(O.sibling=d.child,d.child=O):(g=C.last,g!==null?g.sibling=O:d.child=O,C.last=O)}return C.tail!==null?(d=C.tail,C.rendering=d,C.tail=d.sibling,C.renderingStartTime=fn(),d.sibling=null,g=Un.current,An(Un,y?g&1|2:g&1),d):(ei(d),null);case 22:case 23:return MA(),y=d.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(d.flags|=8192),y&&d.mode&1?Wi&1073741824&&(ei(d),d.subtreeFlags&6&&(d.flags|=8192)):ei(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function lD(a,d){switch($y(d),d.tag){case 1:return Ci(d.type)&&jp(),a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 3:return uu(),kn(Ei),kn(Xr),nA(),a=d.flags,a&65536&&!(a&128)?(d.flags=a&-65537|128,d):null;case 5:return eA(d),null;case 13:if(kn(Un),a=d.memoizedState,a!==null&&a.dehydrated!==null){if(d.alternate===null)throw Error(n(340));ou()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 19:return kn(Un),null;case 4:return uu(),null;case 10:return Wy(d.type._context),null;case 22:case 23:return MA(),null;case 24:return null;default:return null}}var Zp=!1,ti=!1,cD=typeof WeakSet=="function"?WeakSet:Set,qe=null;function fu(a,d){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(y){Yn(a,d,y)}else g.current=null}function bA(a,d,g){try{g()}catch(y){Yn(a,d,y)}}var JC=!1;function uD(a,d){if(My=Ap,a=TE(),wy(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var _=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break e}var O=0,J=-1,ee=-1,he=0,Se=0,Ce=a,_e=null;t:for(;;){for(var ze;Ce!==g||_!==0&&Ce.nodeType!==3||(J=O+_),Ce!==C||y!==0&&Ce.nodeType!==3||(ee=O+y),Ce.nodeType===3&&(O+=Ce.nodeValue.length),(ze=Ce.firstChild)!==null;)_e=Ce,Ce=ze;for(;;){if(Ce===a)break t;if(_e===g&&++he===_&&(J=O),_e===C&&++Se===y&&(ee=O),(ze=Ce.nextSibling)!==null)break;Ce=_e,_e=Ce.parentNode}Ce=ze}g=J===-1||ee===-1?null:{start:J,end:ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(jy={focusedElem:a,selectionRange:g},Ap=!1,qe=d;qe!==null;)if(d=qe,a=d.child,(d.subtreeFlags&1028)!==0&&a!==null)a.return=d,qe=a;else for(;qe!==null;){d=qe;try{var Ke=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Qe=Ke.memoizedProps,ir=Ke.memoizedState,le=d.stateNode,ne=le.getSnapshotBeforeUpdate(d.elementType===d.type?Qe:Fs(d.type,Qe),ir);le.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ue=d.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){Yn(d,d.return,Pe)}if(a=d.sibling,a!==null){a.return=d.return,qe=a;break}qe=d.return}return Ke=JC,JC=!1,Ke}function mf(a,d,g){var y=d.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var _=y=y.next;do{if((_.tag&a)===a){var C=_.destroy;_.destroy=void 0,C!==void 0&&bA(d,g,C)}_=_.next}while(_!==y)}}function eg(a,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&a)===a){var y=g.create;g.destroy=y()}g=g.next}while(g!==d)}}function _A(a){var d=a.ref;if(d!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof d=="function"?d(a):d.current=a}}function XC(a){var d=a.alternate;d!==null&&(a.alternate=null,XC(d)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(d=a.stateNode,d!==null&&(delete d[fo],delete d[sf],delete d[Ny],delete d[qB],delete d[WB])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ZC(a){return a.tag===5||a.tag===3||a.tag===4}function e2(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ZC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function SA(a,d,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(a,d):g.insertBefore(a,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(a,g)):(d=g,d.appendChild(a)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Pp));else if(y!==4&&(a=a.child,a!==null))for(SA(a,d,g),a=a.sibling;a!==null;)SA(a,d,g),a=a.sibling}function xA(a,d,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,d?g.insertBefore(a,d):g.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(xA(a,d,g),a=a.sibling;a!==null;)xA(a,d,g),a=a.sibling}var Dr=null,$s=!1;function ja(a,d,g){for(g=g.child;g!==null;)t2(a,d,g),g=g.sibling}function t2(a,d,g){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(Hc,g)}catch{}switch(g.tag){case 5:ti||fu(g,d);case 6:var y=Dr,_=$s;Dr=null,ja(a,d,g),Dr=y,$s=_,Dr!==null&&($s?(a=Dr,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):Dr.removeChild(g.stateNode));break;case 18:Dr!==null&&($s?(a=Dr,g=g.stateNode,a.nodeType===8?Ly(a.parentNode,g):a.nodeType===1&&Ly(a,g),Wd(a)):Ly(Dr,g.stateNode));break;case 4:y=Dr,_=$s,Dr=g.stateNode.containerInfo,$s=!0,ja(a,d,g),Dr=y,$s=_;break;case 0:case 11:case 14:case 15:if(!ti&&(y=g.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){_=y=y.next;do{var C=_,O=C.destroy;C=C.tag,O!==void 0&&(C&2||C&4)&&bA(g,d,O),_=_.next}while(_!==y)}ja(a,d,g);break;case 1:if(!ti&&(fu(g,d),y=g.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=g.memoizedProps,y.state=g.memoizedState,y.componentWillUnmount()}catch(J){Yn(g,d,J)}ja(a,d,g);break;case 21:ja(a,d,g);break;case 22:g.mode&1?(ti=(y=ti)||g.memoizedState!==null,ja(a,d,g),ti=y):ja(a,d,g);break;default:ja(a,d,g)}}function n2(a){var d=a.updateQueue;if(d!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new cD),d.forEach(function(y){var _=AD.bind(null,a,y);g.has(y)||(g.add(y),y.then(_,_))})}}function zs(a,d){var g=d.deletions;if(g!==null)for(var y=0;y<g.length;y++){var _=g[y];try{var C=a,O=d,J=O;e:for(;J!==null;){switch(J.tag){case 5:Dr=J.stateNode,$s=!1;break e;case 3:Dr=J.stateNode.containerInfo,$s=!0;break e;case 4:Dr=J.stateNode.containerInfo,$s=!0;break e}J=J.return}if(Dr===null)throw Error(n(160));t2(C,O,_),Dr=null,$s=!1;var ee=_.alternate;ee!==null&&(ee.return=null),_.return=null}catch(he){Yn(_,d,he)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)r2(d,a),d=d.sibling}function r2(a,d){var g=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(zs(d,a),go(a),y&4){try{mf(3,a,a.return),eg(3,a)}catch(Qe){Yn(a,a.return,Qe)}try{mf(5,a,a.return)}catch(Qe){Yn(a,a.return,Qe)}}break;case 1:zs(d,a),go(a),y&512&&g!==null&&fu(g,g.return);break;case 5:if(zs(d,a),go(a),y&512&&g!==null&&fu(g,g.return),a.flags&32){var _=a.stateNode;try{_t(_,"")}catch(Qe){Yn(a,a.return,Qe)}}if(y&4&&(_=a.stateNode,_!=null)){var C=a.memoizedProps,O=g!==null?g.memoizedProps:C,J=a.type,ee=a.updateQueue;if(a.updateQueue=null,ee!==null)try{J==="input"&&C.type==="radio"&&C.name!=null&&mt(_,C),Dt(J,O);var he=Dt(J,C);for(O=0;O<ee.length;O+=2){var Se=ee[O],Ce=ee[O+1];Se==="style"?vn(_,Ce):Se==="dangerouslySetInnerHTML"?nt(_,Ce):Se==="children"?_t(_,Ce):R(_,Se,Ce,he)}switch(J){case"input":vt(_,C);break;case"textarea":jt(_,C);break;case"select":var _e=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!C.multiple;var ze=C.value;ze!=null?Wt(_,!!C.multiple,ze,!1):_e!==!!C.multiple&&(C.defaultValue!=null?Wt(_,!!C.multiple,C.defaultValue,!0):Wt(_,!!C.multiple,C.multiple?[]:"",!1))}_[sf]=C}catch(Qe){Yn(a,a.return,Qe)}}break;case 6:if(zs(d,a),go(a),y&4){if(a.stateNode===null)throw Error(n(162));_=a.stateNode,C=a.memoizedProps;try{_.nodeValue=C}catch(Qe){Yn(a,a.return,Qe)}}break;case 3:if(zs(d,a),go(a),y&4&&g!==null&&g.memoizedState.isDehydrated)try{Wd(d.containerInfo)}catch(Qe){Yn(a,a.return,Qe)}break;case 4:zs(d,a),go(a);break;case 13:zs(d,a),go(a),_=a.child,_.flags&8192&&(C=_.memoizedState!==null,_.stateNode.isHidden=C,!C||_.alternate!==null&&_.alternate.memoizedState!==null||(CA=fn())),y&4&&n2(a);break;case 22:if(Se=g!==null&&g.memoizedState!==null,a.mode&1?(ti=(he=ti)||Se,zs(d,a),ti=he):zs(d,a),go(a),y&8192){if(he=a.memoizedState!==null,(a.stateNode.isHidden=he)&&!Se&&a.mode&1)for(qe=a,Se=a.child;Se!==null;){for(Ce=qe=Se;qe!==null;){switch(_e=qe,ze=_e.child,_e.tag){case 0:case 11:case 14:case 15:mf(4,_e,_e.return);break;case 1:fu(_e,_e.return);var Ke=_e.stateNode;if(typeof Ke.componentWillUnmount=="function"){y=_e,g=_e.return;try{d=y,Ke.props=d.memoizedProps,Ke.state=d.memoizedState,Ke.componentWillUnmount()}catch(Qe){Yn(y,g,Qe)}}break;case 5:fu(_e,_e.return);break;case 22:if(_e.memoizedState!==null){o2(Ce);continue}}ze!==null?(ze.return=_e,qe=ze):o2(Ce)}Se=Se.sibling}e:for(Se=null,Ce=a;;){if(Ce.tag===5){if(Se===null){Se=Ce;try{_=Ce.stateNode,he?(C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(J=Ce.stateNode,ee=Ce.memoizedProps.style,O=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,J.style.display=Pt("display",O))}catch(Qe){Yn(a,a.return,Qe)}}}else if(Ce.tag===6){if(Se===null)try{Ce.stateNode.nodeValue=he?"":Ce.memoizedProps}catch(Qe){Yn(a,a.return,Qe)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===a)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===a)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===a)break e;Se===Ce&&(Se=null),Ce=Ce.return}Se===Ce&&(Se=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:zs(d,a),go(a),y&4&&n2(a);break;case 21:break;default:zs(d,a),go(a)}}function go(a){var d=a.flags;if(d&2){try{e:{for(var g=a.return;g!==null;){if(ZC(g)){var y=g;break e}g=g.return}throw Error(n(160))}switch(y.tag){case 5:var _=y.stateNode;y.flags&32&&(_t(_,""),y.flags&=-33);var C=e2(a);xA(a,C,_);break;case 3:case 4:var O=y.stateNode.containerInfo,J=e2(a);SA(a,J,O);break;default:throw Error(n(161))}}catch(ee){Yn(a,a.return,ee)}a.flags&=-3}d&4096&&(a.flags&=-4097)}function dD(a,d,g){qe=a,i2(a)}function i2(a,d,g){for(var y=(a.mode&1)!==0;qe!==null;){var _=qe,C=_.child;if(_.tag===22&&y){var O=_.memoizedState!==null||Zp;if(!O){var J=_.alternate,ee=J!==null&&J.memoizedState!==null||ti;J=Zp;var he=ti;if(Zp=O,(ti=ee)&&!he)for(qe=_;qe!==null;)O=qe,ee=O.child,O.tag===22&&O.memoizedState!==null?a2(_):ee!==null?(ee.return=O,qe=ee):a2(_);for(;C!==null;)qe=C,i2(C),C=C.sibling;qe=_,Zp=J,ti=he}s2(a)}else _.subtreeFlags&8772&&C!==null?(C.return=_,qe=C):s2(a)}}function s2(a){for(;qe!==null;){var d=qe;if(d.flags&8772){var g=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:ti||eg(5,d);break;case 1:var y=d.stateNode;if(d.flags&4&&!ti)if(g===null)y.componentDidMount();else{var _=d.elementType===d.type?g.memoizedProps:Fs(d.type,g.memoizedProps);y.componentDidUpdate(_,g.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=d.updateQueue;C!==null&&nC(d,C,y);break;case 3:var O=d.updateQueue;if(O!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=d.child.stateNode;break;case 1:g=d.child.stateNode}nC(d,O,g)}break;case 5:var J=d.stateNode;if(g===null&&d.flags&4){g=J;var ee=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&g.focus();break;case"img":ee.src&&(g.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var he=d.alternate;if(he!==null){var Se=he.memoizedState;if(Se!==null){var Ce=Se.dehydrated;Ce!==null&&Wd(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ti||d.flags&512&&_A(d)}catch(_e){Yn(d,d.return,_e)}}if(d===a){qe=null;break}if(g=d.sibling,g!==null){g.return=d.return,qe=g;break}qe=d.return}}function o2(a){for(;qe!==null;){var d=qe;if(d===a){qe=null;break}var g=d.sibling;if(g!==null){g.return=d.return,qe=g;break}qe=d.return}}function a2(a){for(;qe!==null;){var d=qe;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{eg(4,d)}catch(ee){Yn(d,g,ee)}break;case 1:var y=d.stateNode;if(typeof y.componentDidMount=="function"){var _=d.return;try{y.componentDidMount()}catch(ee){Yn(d,_,ee)}}var C=d.return;try{_A(d)}catch(ee){Yn(d,C,ee)}break;case 5:var O=d.return;try{_A(d)}catch(ee){Yn(d,O,ee)}}}catch(ee){Yn(d,d.return,ee)}if(d===a){qe=null;break}var J=d.sibling;if(J!==null){J.return=d.return,qe=J;break}qe=d.return}}var fD=Math.ceil,tg=T.ReactCurrentDispatcher,wA=T.ReactCurrentOwner,fs=T.ReactCurrentBatchConfig,qt=0,Rr=null,pr=null,Fr=0,Wi=0,hu=Ta(0),xr=0,vf=null,Pl=0,ng=0,EA=0,yf=null,Ti=null,CA=0,pu=1/0,Ho=null,rg=!1,kA=null,Oa=null,ig=!1,Va=null,sg=0,Af=0,TA=null,og=-1,ag=0;function hi(){return qt&6?fn():og!==-1?og:og=fn()}function La(a){return a.mode&1?qt&2&&Fr!==0?Fr&-Fr:YB.transition!==null?(ag===0&&(ag=Me()),ag):(a=ft,a!==0||(a=window.event,a=a===void 0?16:lE(a.type)),a):1}function Us(a,d,g,y){if(50<Af)throw Af=0,TA=null,Error(n(185));St(a,g,y),(!(qt&2)||a!==Rr)&&(a===Rr&&(!(qt&2)&&(ng|=g),xr===4&&Na(a,Fr)),Ii(a,y),g===1&&qt===0&&!(d.mode&1)&&(pu=fn()+500,Vp&&Ra()))}function Ii(a,d){var g=a.callbackNode;Te(a,d);var y=ye(a,a===Rr?Fr:0);if(y===0)g!==null&&lo(g),a.callbackNode=null,a.callbackPriority=0;else if(d=y&-y,a.callbackPriority!==d){if(g!=null&&lo(g),d===1)a.tag===0?KB(c2.bind(null,a)):WE(c2.bind(null,a)),HB(function(){!(qt&6)&&Ra()}),g=null;else{switch(Vn(y)){case 1:g=co;break;case 4:g=pp;break;case 16:g=Vo;break;case 536870912:g=gp;break;default:g=Vo}g=v2(g,l2.bind(null,a))}a.callbackPriority=d,a.callbackNode=g}}function l2(a,d){if(og=-1,ag=0,qt&6)throw Error(n(327));var g=a.callbackNode;if(gu()&&a.callbackNode!==g)return null;var y=ye(a,a===Rr?Fr:0);if(y===0)return null;if(y&30||y&a.expiredLanes||d)d=lg(a,y);else{d=y;var _=qt;qt|=2;var C=d2();(Rr!==a||Fr!==d)&&(Ho=null,pu=fn()+500,jl(a,d));do try{gD();break}catch(J){u2(a,J)}while(!0);qy(),tg.current=C,qt=_,pr!==null?d=0:(Rr=null,Fr=0,d=xr)}if(d!==0){if(d===2&&(_=ke(a),_!==0&&(y=_,d=IA(a,_))),d===1)throw g=vf,jl(a,0),Na(a,y),Ii(a,fn()),g;if(d===6)Na(a,y);else{if(_=a.current.alternate,!(y&30)&&!hD(_)&&(d=lg(a,y),d===2&&(C=ke(a),C!==0&&(y=C,d=IA(a,C))),d===1))throw g=vf,jl(a,0),Na(a,y),Ii(a,fn()),g;switch(a.finishedWork=_,a.finishedLanes=y,d){case 0:case 1:throw Error(n(345));case 2:Ol(a,Ti,Ho);break;case 3:if(Na(a,y),(y&130023424)===y&&(d=CA+500-fn(),10<d)){if(ye(a,0)!==0)break;if(_=a.suspendedLanes,(_&y)!==y){hi(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Vy(Ol.bind(null,a,Ti,Ho),d);break}Ol(a,Ti,Ho);break;case 4:if(Na(a,y),(y&4194240)===y)break;for(d=a.eventTimes,_=-1;0<y;){var O=31-Ui(y);C=1<<O,O=d[O],O>_&&(_=O),y&=~C}if(y=_,y=fn()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*fD(y/1960))-y,10<y){a.timeoutHandle=Vy(Ol.bind(null,a,Ti,Ho),y);break}Ol(a,Ti,Ho);break;case 5:Ol(a,Ti,Ho);break;default:throw Error(n(329))}}}return Ii(a,fn()),a.callbackNode===g?l2.bind(null,a):null}function IA(a,d){var g=yf;return a.current.memoizedState.isDehydrated&&(jl(a,d).flags|=256),a=lg(a,d),a!==2&&(d=Ti,Ti=g,d!==null&&RA(d)),a}function RA(a){Ti===null?Ti=a:Ti.push.apply(Ti,a)}function hD(a){for(var d=a;;){if(d.flags&16384){var g=d.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var y=0;y<g.length;y++){var _=g[y],C=_.getSnapshot;_=_.value;try{if(!Bs(C(),_))return!1}catch{return!1}}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Na(a,d){for(d&=~EA,d&=~ng,a.suspendedLanes|=d,a.pingedLanes&=~d,a=a.expirationTimes;0<d;){var g=31-Ui(d),y=1<<g;a[g]=-1,d&=~y}}function c2(a){if(qt&6)throw Error(n(327));gu();var d=ye(a,0);if(!(d&1))return Ii(a,fn()),null;var g=lg(a,d);if(a.tag!==0&&g===2){var y=ke(a);y!==0&&(d=y,g=IA(a,y))}if(g===1)throw g=vf,jl(a,0),Na(a,d),Ii(a,fn()),g;if(g===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=d,Ol(a,Ti,Ho),Ii(a,fn()),null}function PA(a,d){var g=qt;qt|=1;try{return a(d)}finally{qt=g,qt===0&&(pu=fn()+500,Vp&&Ra())}}function Ml(a){Va!==null&&Va.tag===0&&!(qt&6)&&gu();var d=qt;qt|=1;var g=fs.transition,y=ft;try{if(fs.transition=null,ft=1,a)return a()}finally{ft=y,fs.transition=g,qt=d,!(qt&6)&&Ra()}}function MA(){Wi=hu.current,kn(hu)}function jl(a,d){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,UB(g)),pr!==null)for(g=pr.return;g!==null;){var y=g;switch($y(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&jp();break;case 3:uu(),kn(Ei),kn(Xr),nA();break;case 5:eA(y);break;case 4:uu();break;case 13:kn(Un);break;case 19:kn(Un);break;case 10:Wy(y.type._context);break;case 22:case 23:MA()}g=g.return}if(Rr=a,pr=a=Ba(a.current,null),Fr=Wi=d,xr=0,vf=null,EA=ng=Pl=0,Ti=yf=null,Tl!==null){for(d=0;d<Tl.length;d++)if(g=Tl[d],y=g.interleaved,y!==null){g.interleaved=null;var _=y.next,C=g.pending;if(C!==null){var O=C.next;C.next=_,y.next=O}g.pending=y}Tl=null}return a}function u2(a,d){do{var g=pr;try{if(qy(),qp.current=Qp,Wp){for(var y=Hn.memoizedState;y!==null;){var _=y.queue;_!==null&&(_.pending=null),y=y.next}Wp=!1}if(Rl=0,Ir=Sr=Hn=null,df=!1,ff=0,wA.current=null,g===null||g.return===null){xr=1,vf=d,pr=null;break}e:{var C=a,O=g.return,J=g,ee=d;if(d=Fr,J.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var he=ee,Se=J,Ce=Se.tag;if(!(Se.mode&1)&&(Ce===0||Ce===11||Ce===15)){var _e=Se.alternate;_e?(Se.updateQueue=_e.updateQueue,Se.memoizedState=_e.memoizedState,Se.lanes=_e.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var ze=VC(O);if(ze!==null){ze.flags&=-257,LC(ze,O,J,C,d),ze.mode&1&&OC(C,he,d),d=ze,ee=he;var Ke=d.updateQueue;if(Ke===null){var Qe=new Set;Qe.add(ee),d.updateQueue=Qe}else Ke.add(ee);break e}else{if(!(d&1)){OC(C,he,d),jA();break e}ee=Error(n(426))}}else if(Ln&&J.mode&1){var ir=VC(O);if(ir!==null){!(ir.flags&65536)&&(ir.flags|=256),LC(ir,O,J,C,d),Hy(du(ee,J));break e}}C=ee=du(ee,J),xr!==4&&(xr=2),yf===null?yf=[C]:yf.push(C),C=O;do{switch(C.tag){case 3:C.flags|=65536,d&=-d,C.lanes|=d;var le=MC(C,ee,d);tC(C,le);break e;case 1:J=ee;var ne=C.type,ue=C.stateNode;if(!(C.flags&128)&&(typeof ne.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Oa===null||!Oa.has(ue)))){C.flags|=65536,d&=-d,C.lanes|=d;var Pe=jC(C,J,d);tC(C,Pe);break e}}C=C.return}while(C!==null)}h2(g)}catch(Ze){d=Ze,pr===g&&g!==null&&(pr=g=g.return);continue}break}while(!0)}function d2(){var a=tg.current;return tg.current=Qp,a===null?Qp:a}function jA(){(xr===0||xr===3||xr===2)&&(xr=4),Rr===null||!(Pl&268435455)&&!(ng&268435455)||Na(Rr,Fr)}function lg(a,d){var g=qt;qt|=2;var y=d2();(Rr!==a||Fr!==d)&&(Ho=null,jl(a,d));do try{pD();break}catch(_){u2(a,_)}while(!0);if(qy(),qt=g,tg.current=y,pr!==null)throw Error(n(261));return Rr=null,Fr=0,xr}function pD(){for(;pr!==null;)f2(pr)}function gD(){for(;pr!==null&&!$d();)f2(pr)}function f2(a){var d=m2(a.alternate,a,Wi);a.memoizedProps=a.pendingProps,d===null?h2(a):pr=d,wA.current=null}function h2(a){var d=a;do{var g=d.alternate;if(a=d.return,d.flags&32768){if(g=lD(g,d),g!==null){g.flags&=32767,pr=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{xr=6,pr=null;return}}else if(g=aD(g,d,Wi),g!==null){pr=g;return}if(d=d.sibling,d!==null){pr=d;return}pr=d=a}while(d!==null);xr===0&&(xr=5)}function Ol(a,d,g){var y=ft,_=fs.transition;try{fs.transition=null,ft=1,mD(a,d,g,y)}finally{fs.transition=_,ft=y}return null}function mD(a,d,g,y){do gu();while(Va!==null);if(qt&6)throw Error(n(327));g=a.finishedWork;var _=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var C=g.lanes|g.childLanes;if(Yt(a,C),a===Rr&&(pr=Rr=null,Fr=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||ig||(ig=!0,v2(Vo,function(){return gu(),null})),C=(g.flags&15990)!==0,g.subtreeFlags&15990||C){C=fs.transition,fs.transition=null;var O=ft;ft=1;var J=qt;qt|=4,wA.current=null,uD(a,g),r2(g,a),LB(jy),Ap=!!My,jy=My=null,a.current=g,dD(g),Sa(),qt=J,ft=O,fs.transition=C}else a.current=g;if(ig&&(ig=!1,Va=a,sg=_),C=a.pendingLanes,C===0&&(Oa=null),fy(g.stateNode),Ii(a,fn()),d!==null)for(y=a.onRecoverableError,g=0;g<d.length;g++)_=d[g],y(_.value,{componentStack:_.stack,digest:_.digest});if(rg)throw rg=!1,a=kA,kA=null,a;return sg&1&&a.tag!==0&&gu(),C=a.pendingLanes,C&1?a===TA?Af++:(Af=0,TA=a):Af=0,Ra(),null}function gu(){if(Va!==null){var a=Vn(sg),d=fs.transition,g=ft;try{if(fs.transition=null,ft=16>a?16:a,Va===null)var y=!1;else{if(a=Va,Va=null,sg=0,qt&6)throw Error(n(331));var _=qt;for(qt|=4,qe=a.current;qe!==null;){var C=qe,O=C.child;if(qe.flags&16){var J=C.deletions;if(J!==null){for(var ee=0;ee<J.length;ee++){var he=J[ee];for(qe=he;qe!==null;){var Se=qe;switch(Se.tag){case 0:case 11:case 15:mf(8,Se,C)}var Ce=Se.child;if(Ce!==null)Ce.return=Se,qe=Ce;else for(;qe!==null;){Se=qe;var _e=Se.sibling,ze=Se.return;if(XC(Se),Se===he){qe=null;break}if(_e!==null){_e.return=ze,qe=_e;break}qe=ze}}}var Ke=C.alternate;if(Ke!==null){var Qe=Ke.child;if(Qe!==null){Ke.child=null;do{var ir=Qe.sibling;Qe.sibling=null,Qe=ir}while(Qe!==null)}}qe=C}}if(C.subtreeFlags&2064&&O!==null)O.return=C,qe=O;else e:for(;qe!==null;){if(C=qe,C.flags&2048)switch(C.tag){case 0:case 11:case 15:mf(9,C,C.return)}var le=C.sibling;if(le!==null){le.return=C.return,qe=le;break e}qe=C.return}}var ne=a.current;for(qe=ne;qe!==null;){O=qe;var ue=O.child;if(O.subtreeFlags&2064&&ue!==null)ue.return=O,qe=ue;else e:for(O=ne;qe!==null;){if(J=qe,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:eg(9,J)}}catch(Ze){Yn(J,J.return,Ze)}if(J===O){qe=null;break e}var Pe=J.sibling;if(Pe!==null){Pe.return=J.return,qe=Pe;break e}qe=J.return}}if(qt=_,Ra(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(Hc,a)}catch{}y=!0}return y}finally{ft=g,fs.transition=d}}return!1}function p2(a,d,g){d=du(g,d),d=MC(a,d,1),a=Ma(a,d,1),d=hi(),a!==null&&(St(a,1,d),Ii(a,d))}function Yn(a,d,g){if(a.tag===3)p2(a,a,g);else for(;d!==null;){if(d.tag===3){p2(d,a,g);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y))){a=du(g,a),a=jC(d,a,1),d=Ma(d,a,1),a=hi(),d!==null&&(St(d,1,a),Ii(d,a));break}}d=d.return}}function vD(a,d,g){var y=a.pingCache;y!==null&&y.delete(d),d=hi(),a.pingedLanes|=a.suspendedLanes&g,Rr===a&&(Fr&g)===g&&(xr===4||xr===3&&(Fr&130023424)===Fr&&500>fn()-CA?jl(a,0):EA|=g),Ii(a,d)}function g2(a,d){d===0&&(a.mode&1?(d=oe,oe<<=1,!(oe&130023424)&&(oe=4194304)):d=1);var g=hi();a=$o(a,d),a!==null&&(St(a,d,g),Ii(a,g))}function yD(a){var d=a.memoizedState,g=0;d!==null&&(g=d.retryLane),g2(a,g)}function AD(a,d){var g=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(g=_.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(d),g2(a,g)}var m2;m2=function(a,d,g){if(a!==null)if(a.memoizedProps!==d.pendingProps||Ei.current)ki=!0;else{if(!(a.lanes&g)&&!(d.flags&128))return ki=!1,oD(a,d,g);ki=!!(a.flags&131072)}else ki=!1,Ln&&d.flags&1048576&&KE(d,Np,d.index);switch(d.lanes=0,d.tag){case 2:var y=d.type;Xp(a,d),a=d.pendingProps;var _=ru(d,Xr.current);lu(d,g),_=sA(null,d,y,a,_,g);var C=oA();return d.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ci(y)?(C=!0,Op(d)):C=!1,d.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Qy(d),_.updater=Up,d.stateNode=_,_._reactInternals=d,Xy(d,y,a,g),d=pA(null,d,y,!0,C,g)):(d.tag=0,Ln&&C&&Fy(d),fi(null,d,_,g),d=d.child),d;case 16:y=d.elementType;e:{switch(Xp(a,d),a=d.pendingProps,_=y._init,y=_(y._payload),d.type=y,_=d.tag=_D(y),a=Fs(y,a),_){case 0:d=hA(null,d,y,a,g);break e;case 1:d=zC(null,d,y,a,g);break e;case 11:d=NC(null,d,y,a,g);break e;case 14:d=BC(null,d,y,Fs(y.type,a),g);break e}throw Error(n(306,y,""))}return d;case 0:return y=d.type,_=d.pendingProps,_=d.elementType===y?_:Fs(y,_),hA(a,d,y,_,g);case 1:return y=d.type,_=d.pendingProps,_=d.elementType===y?_:Fs(y,_),zC(a,d,y,_,g);case 3:e:{if(UC(d),a===null)throw Error(n(387));y=d.pendingProps,C=d.memoizedState,_=C.element,eC(a,d),zp(d,y,null,g);var O=d.memoizedState;if(y=O.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){_=du(Error(n(423)),d),d=HC(a,d,y,g,_);break e}else if(y!==_){_=du(Error(n(424)),d),d=HC(a,d,y,g,_);break e}else for(qi=ka(d.stateNode.containerInfo.firstChild),Gi=d,Ln=!0,Ds=null,g=cC(d,null,y,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ou(),y===_){d=Uo(a,d,g);break e}fi(a,d,y,g)}d=d.child}return d;case 5:return uC(d),a===null&&Uy(d),y=d.type,_=d.pendingProps,C=a!==null?a.memoizedProps:null,O=_.children,Oy(y,_)?O=null:C!==null&&Oy(y,C)&&(d.flags|=32),$C(a,d),fi(a,d,O,g),d.child;case 6:return a===null&&Uy(d),null;case 13:return GC(a,d,g);case 4:return Zy(d,d.stateNode.containerInfo),y=d.pendingProps,a===null?d.child=cu(d,null,y,g):fi(a,d,y,g),d.child;case 11:return y=d.type,_=d.pendingProps,_=d.elementType===y?_:Fs(y,_),NC(a,d,y,_,g);case 7:return fi(a,d,d.pendingProps,g),d.child;case 8:return fi(a,d,d.pendingProps.children,g),d.child;case 12:return fi(a,d,d.pendingProps.children,g),d.child;case 10:e:{if(y=d.type._context,_=d.pendingProps,C=d.memoizedProps,O=_.value,An(Dp,y._currentValue),y._currentValue=O,C!==null)if(Bs(C.value,O)){if(C.children===_.children&&!Ei.current){d=Uo(a,d,g);break e}}else for(C=d.child,C!==null&&(C.return=d);C!==null;){var J=C.dependencies;if(J!==null){O=C.child;for(var ee=J.firstContext;ee!==null;){if(ee.context===y){if(C.tag===1){ee=zo(-1,g&-g),ee.tag=2;var he=C.updateQueue;if(he!==null){he=he.shared;var Se=he.pending;Se===null?ee.next=ee:(ee.next=Se.next,Se.next=ee),he.pending=ee}}C.lanes|=g,ee=C.alternate,ee!==null&&(ee.lanes|=g),Ky(C.return,g,d),J.lanes|=g;break}ee=ee.next}}else if(C.tag===10)O=C.type===d.type?null:C.child;else if(C.tag===18){if(O=C.return,O===null)throw Error(n(341));O.lanes|=g,J=O.alternate,J!==null&&(J.lanes|=g),Ky(O,g,d),O=C.sibling}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===d){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}fi(a,d,_.children,g),d=d.child}return d;case 9:return _=d.type,y=d.pendingProps.children,lu(d,g),_=us(_),y=y(_),d.flags|=1,fi(a,d,y,g),d.child;case 14:return y=d.type,_=Fs(y,d.pendingProps),_=Fs(y.type,_),BC(a,d,y,_,g);case 15:return DC(a,d,d.type,d.pendingProps,g);case 17:return y=d.type,_=d.pendingProps,_=d.elementType===y?_:Fs(y,_),Xp(a,d),d.tag=1,Ci(y)?(a=!0,Op(d)):a=!1,lu(d,g),sC(d,y,_),Xy(d,y,_,g),pA(null,d,y,!0,a,g);case 19:return WC(a,d,g);case 22:return FC(a,d,g)}throw Error(n(156,d.tag))};function v2(a,d){return _a(a,d)}function bD(a,d,g,y){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(a,d,g,y){return new bD(a,d,g,y)}function OA(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _D(a){if(typeof a=="function")return OA(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===F)return 14}return 2}function Ba(a,d){var g=a.alternate;return g===null?(g=hs(a.tag,d,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=d,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,d=a.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function cg(a,d,g,y,_,C){var O=2;if(y=a,typeof a=="function")OA(a)&&(O=1);else if(typeof a=="string")O=5;else e:switch(a){case N:return Vl(g.children,_,C,d);case j:O=8,_|=8;break;case V:return a=hs(12,g,d,_|2),a.elementType=V,a.lanes=C,a;case B:return a=hs(13,g,d,_),a.elementType=B,a.lanes=C,a;case G:return a=hs(19,g,d,_),a.elementType=G,a.lanes=C,a;case Y:return ug(g,_,C,d);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:O=10;break e;case D:O=9;break e;case H:O=11;break e;case F:O=14;break e;case L:O=16,y=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return d=hs(O,g,d,_),d.elementType=a,d.type=y,d.lanes=C,d}function Vl(a,d,g,y){return a=hs(7,a,y,d),a.lanes=g,a}function ug(a,d,g,y){return a=hs(22,a,y,d),a.elementType=Y,a.lanes=g,a.stateNode={isHidden:!1},a}function VA(a,d,g){return a=hs(6,a,null,d),a.lanes=g,a}function LA(a,d,g){return d=hs(4,a.children!==null?a.children:[],a.key,d),d.lanes=g,d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},d}function SD(a,d,g,y,_){this.tag=d,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=We(0),this.expirationTimes=We(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.identifierPrefix=y,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function NA(a,d,g,y,_,C,O,J,ee){return a=new SD(a,d,g,J,ee),d===1?(d=1,C===!0&&(d|=8)):d=0,C=hs(3,null,null,d),a.current=C,C.stateNode=a,C.memoizedState={element:y,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qy(C),a}function xD(a,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:y==null?null:""+y,children:a,containerInfo:d,implementation:g}}function y2(a){if(!a)return Ia;a=a._reactInternals;e:{if(as(a)!==a||a.tag!==1)throw Error(n(170));var d=a;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ci(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(a.tag===1){var g=a.type;if(Ci(g))return GE(a,g,d)}return d}function A2(a,d,g,y,_,C,O,J,ee){return a=NA(g,y,!0,a,_,C,O,J,ee),a.context=y2(null),g=a.current,y=hi(),_=La(g),C=zo(y,_),C.callback=d??null,Ma(g,C,_),a.current.lanes=_,St(a,_,y),Ii(a,y),a}function dg(a,d,g,y){var _=d.current,C=hi(),O=La(_);return g=y2(g),d.context===null?d.context=g:d.pendingContext=g,d=zo(C,O),d.payload={element:a},y=y===void 0?null:y,y!==null&&(d.callback=y),a=Ma(_,d,O),a!==null&&(Us(a,_,O,C),$p(a,_,O)),O}function fg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function b2(a,d){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<d?g:d}}function BA(a,d){b2(a,d),(a=a.alternate)&&b2(a,d)}function wD(){return null}var _2=typeof reportError=="function"?reportError:function(a){console.error(a)};function DA(a){this._internalRoot=a}hg.prototype.render=DA.prototype.render=function(a){var d=this._internalRoot;if(d===null)throw Error(n(409));dg(a,d,null,null)},hg.prototype.unmount=DA.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var d=a.containerInfo;Ml(function(){dg(null,a,null,null)}),d[No]=null}};function hg(a){this._internalRoot=a}hg.prototype.unstable_scheduleHydration=function(a){if(a){var d=mp();a={blockedOn:null,target:a,priority:d};for(var g=0;g<wa.length&&d!==0&&d<wa[g].priority;g++);wa.splice(g,0,a),g===0&&oE(a)}};function FA(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function S2(){}function ED(a,d,g,y,_){if(_){if(typeof y=="function"){var C=y;y=function(){var he=fg(O);C.call(he)}}var O=A2(d,y,a,0,null,!1,!1,"",S2);return a._reactRootContainer=O,a[No]=O.current,nf(a.nodeType===8?a.parentNode:a),Ml(),O}for(;_=a.lastChild;)a.removeChild(_);if(typeof y=="function"){var J=y;y=function(){var he=fg(ee);J.call(he)}}var ee=NA(a,0,!1,null,null,!1,!1,"",S2);return a._reactRootContainer=ee,a[No]=ee.current,nf(a.nodeType===8?a.parentNode:a),Ml(function(){dg(d,ee,g,y)}),ee}function gg(a,d,g,y,_){var C=g._reactRootContainer;if(C){var O=C;if(typeof _=="function"){var J=_;_=function(){var ee=fg(O);J.call(ee)}}dg(d,O,a,_)}else O=ED(g,d,a,_,y);return fg(O)}di=function(a){switch(a.tag){case 3:var d=a.stateNode;if(d.current.memoizedState.isDehydrated){var g=te(d.pendingLanes);g!==0&&(Gt(d,g|1),Ii(d,fn()),!(qt&6)&&(pu=fn()+500,Ra()))}break;case 13:Ml(function(){var y=$o(a,1);if(y!==null){var _=hi();Us(y,a,1,_)}}),BA(a,1)}},Lo=function(a){if(a.tag===13){var d=$o(a,134217728);if(d!==null){var g=hi();Us(d,a,134217728,g)}BA(a,134217728)}},Gc=function(a){if(a.tag===13){var d=La(a),g=$o(a,d);if(g!==null){var y=hi();Us(g,a,d,y)}BA(a,d)}},mp=function(){return ft},qc=function(a,d){var g=ft;try{return ft=a,d()}finally{ft=g}},En=function(a,d,g){switch(d){case"input":if(vt(a,g),d=g.name,g.type==="radio"&&d!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<g.length;d++){var y=g[d];if(y!==a&&y.form===a.form){var _=Mp(y);if(!_)throw Error(n(90));Xe(y),vt(y,_)}}}break;case"textarea":jt(a,g);break;case"select":d=g.value,d!=null&&Wt(a,!!g.multiple,d,!1)}},Et=PA,rr=Ml;var CD={usingClientEntryPoint:!1,Events:[of,tu,Mp,On,rt,PA]},bf={findFiberByHostInstance:wl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kD={bundleType:bf.bundleType,version:bf.version,rendererPackageName:bf.rendererPackageName,rendererConfig:bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=en(a),a===null?null:a.stateNode},findFiberByHostInstance:bf.findFiberByHostInstance||wD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{Hc=mg.inject(kD),wi=mg}catch{}}return Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CD,Ri.createPortal=function(a,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FA(d))throw Error(n(200));return xD(a,d,null,g)},Ri.createRoot=function(a,d){if(!FA(a))throw Error(n(299));var g=!1,y="",_=_2;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),d=NA(a,1,!1,null,null,g,!1,y,_),a[No]=d.current,nf(a.nodeType===8?a.parentNode:a),new DA(d)},Ri.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var d=a._reactInternals;if(d===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=en(d),a=a===null?null:a.stateNode,a},Ri.flushSync=function(a){return Ml(a)},Ri.hydrate=function(a,d,g){if(!pg(d))throw Error(n(200));return gg(null,a,d,!0,g)},Ri.hydrateRoot=function(a,d,g){if(!FA(a))throw Error(n(405));var y=g!=null&&g.hydratedSources||null,_=!1,C="",O=_2;if(g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onRecoverableError!==void 0&&(O=g.onRecoverableError)),d=A2(d,null,a,1,g??null,_,!1,C,O),a[No]=d.current,nf(a),y)for(a=0;a<y.length;a++)g=y[a],_=g._getVersion,_=_(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,_]:d.mutableSourceEagerHydrationData.push(g,_);return new hg(d)},Ri.render=function(a,d,g){if(!pg(d))throw Error(n(200));return gg(null,a,d,!1,g)},Ri.unmountComponentAtNode=function(a){if(!pg(a))throw Error(n(40));return a._reactRootContainer?(Ml(function(){gg(null,null,a,!1,function(){a._reactRootContainer=null,a[No]=null})}),!0):!1},Ri.unstable_batchedUpdates=PA,Ri.unstable_renderSubtreeIntoContainer=function(a,d,g,y){if(!pg(g))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return gg(a,d,g,!1,y)},Ri.version="18.2.0-next-9e3b772b8-20220608",Ri}var sP;function OL(){if(sP)return B1.exports;sP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),B1.exports=dre(),B1.exports}var Vd=OL();const Xg=Cr(Vd),oP={disabled:!1},q0=Je.createContext(null);var fre=function(t){return t.scrollTop},Qf="unmounted",ql="exited",Wl="entering",Iu="entered",fS="exiting",Aa=function(e){jL(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=ql,s.appearStatus=Wl):u=Iu:r.unmountOnExit||r.mountOnEnter?u=Qf:u=ql,s.state={status:u},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Qf?{status:ql}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Wl&&o!==Iu&&(s=Wl):(o===Wl||o===Iu)&&(s=fS)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Wl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Xg.findDOMNode(this);o&&fre(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ql&&this.setState({status:Qf})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Xg.findDOMNode(this),l],c=u[0],h=u[1],f=this.getTimeouts(),m=l?f.appear:f.enter;if(!i&&!o||oP.disabled){this.safeSetState({status:Iu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:Wl},function(){s.props.onEntering(c,h),s.onTransitionEnd(m,function(){s.safeSetState({status:Iu},function(){s.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Xg.findDOMNode(this);if(!s||oP.disabled){this.safeSetState({status:ql},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:fS},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ql},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Xg.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],h=u[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Qf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=ML(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Je.createElement(q0.Provider,{value:null},typeof o=="function"?o(i,l):Je.cloneElement(Je.Children.only(o),l))},t}(Je.Component);Aa.contextType=q0;Aa.propTypes={};function xu(){}Aa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xu,onEntering:xu,onEntered:xu,onExit:xu,onExiting:xu,onExited:xu};Aa.UNMOUNTED=Qf;Aa.EXITED=ql;Aa.ENTERING=Wl;Aa.ENTERED=Iu;Aa.EXITING=fS;function hre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aw(e,t){var n=function(s){return t&&x.isValidElement(s)?t(s):s},r=Object.create(null);return e&&x.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function pre(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,l={};for(var u in t){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];l[r[u][o]]=n(c)}l[u]=n(u)}for(o=0;o<i.length;o++)l[i[o]]=n(i[o]);return l}function tc(e,t,n){return n[t]!=null?n[t]:e.props[t]}function gre(e,t){return Aw(e.children,function(n){return x.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:tc(n,"appear",e),enter:tc(n,"enter",e),exit:tc(n,"exit",e)})})}function mre(e,t,n){var r=Aw(e.children),i=pre(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(x.isValidElement(o)){var l=s in t,u=s in r,c=t[s],h=x.isValidElement(c)&&!c.props.in;u&&(!l||h)?i[s]=x.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:tc(o,"exit",e),enter:tc(o,"enter",e)}):!u&&l&&!h?i[s]=x.cloneElement(o,{in:!1}):u&&l&&x.isValidElement(c)&&(i[s]=x.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:tc(o,"exit",e),enter:tc(o,"enter",e)}))}}),i}var vre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},yre={component:"div",childFactory:function(t){return t}},bw=function(e){jL(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(hre(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,l=s.handleExited,u=s.firstRender;return{children:u?gre(i,l):mre(i,o,l),firstRender:!1}},n.handleExited=function(i,s){var o=Aw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var u=O0({},l.children);return delete u[i.key],{children:u}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,l=ML(i,["component","childFactory"]),u=this.state.contextValue,c=vre(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,s===null?Je.createElement(q0.Provider,{value:u},c):Je.createElement(q0.Provider,{value:u},Je.createElement(s,l,c))},t}(Je.Component);bw.propTypes={};bw.defaultProps=yre;function Are(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:l,onExited:u,timeout:c}=e,[h,f]=x.useState(!1),m=rn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},A=rn(n.child,h&&n.childLeaving,r&&n.childPulsate);return!l&&!h&&f(!0),x.useEffect(()=>{if(!l&&u!=null){const b=setTimeout(u,c);return()=>{clearTimeout(b)}}},[u,l,c]),p.jsx("span",{className:m,style:v,children:p.jsx("span",{className:A})})}const ys=ci("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),hS=550,bre=80,_re=Dc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Sre=Dc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,xre=Dc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,wre=Mn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ere=Mn(Are,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ys.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${_re};
    animation-duration: ${hS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${ys.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${ys.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ys.childLeaving} {
    opacity: 0;
    animation-name: ${Sre};
    animation-duration: ${hS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${ys.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${xre};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Cre=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...l}=r,[u,c]=x.useState([]),h=x.useRef(0),f=x.useRef(null);x.useEffect(()=>{f.current&&(f.current(),f.current=null)},[u]);const m=x.useRef(!1),v=xee(),A=x.useRef(null),b=x.useRef(null),S=x.useCallback(T=>{const{pulsate:E,rippleX:P,rippleY:N,rippleSize:j,cb:V}=T;c(k=>[...k,p.jsx(Ere,{classes:{ripple:rn(s.ripple,ys.ripple),rippleVisible:rn(s.rippleVisible,ys.rippleVisible),ripplePulsate:rn(s.ripplePulsate,ys.ripplePulsate),child:rn(s.child,ys.child),childLeaving:rn(s.childLeaving,ys.childLeaving),childPulsate:rn(s.childPulsate,ys.childPulsate)},timeout:hS,pulsate:E,rippleX:P,rippleY:N,rippleSize:j},h.current)]),h.current+=1,f.current=V},[s]),w=x.useCallback((T={},E={},P=()=>{})=>{const{pulsate:N=!1,center:j=i||E.pulsate,fakeElement:V=!1}=E;if((T==null?void 0:T.type)==="mousedown"&&m.current){m.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(m.current=!0);const k=V?null:b.current,D=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,B,G;if(j||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)H=Math.round(D.width/2),B=Math.round(D.height/2);else{const{clientX:F,clientY:L}=T.touches&&T.touches.length>0?T.touches[0]:T;H=Math.round(F-D.left),B=Math.round(L-D.top)}if(j)G=Math.sqrt((2*D.width**2+D.height**2)/3),G%2===0&&(G+=1);else{const F=Math.max(Math.abs((k?k.clientWidth:0)-H),H)*2+2,L=Math.max(Math.abs((k?k.clientHeight:0)-B),B)*2+2;G=Math.sqrt(F**2+L**2)}T!=null&&T.touches?A.current===null&&(A.current=()=>{S({pulsate:N,rippleX:H,rippleY:B,rippleSize:G,cb:P})},v.start(bre,()=>{A.current&&(A.current(),A.current=null)})):S({pulsate:N,rippleX:H,rippleY:B,rippleSize:G,cb:P})},[i,S,v]),I=x.useCallback(()=>{w({},{pulsate:!0})},[w]),R=x.useCallback((T,E)=>{if(v.clear(),(T==null?void 0:T.type)==="touchend"&&A.current){A.current(),A.current=null,v.start(0,()=>{R(T,E)});return}A.current=null,c(P=>P.length>0?P.slice(1):P),f.current=E},[v]);return x.useImperativeHandle(n,()=>({pulsate:I,start:w,stop:R}),[I,w,R]),p.jsx(wre,{className:rn(ys.root,s.root,o),ref:b,...l,children:p.jsx(bw,{component:null,exit:!0,children:u})})});function kre(e){return li("MuiButtonBase",e)}const Tre=ci("MuiButtonBase",["root","disabled","focusVisible"]),Ire=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Si({root:["root",t&&"disabled",n&&"focusVisible"]},kre,i);return n&&r&&(o.root+=` ${r}`),o},Rre=Mn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Tre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),VL=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:l,component:u="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:m=!1,focusVisibleClassName:v,LinkComponent:A="a",onBlur:b,onClick:S,onContextMenu:w,onDragLeave:I,onFocus:R,onFocusVisible:T,onKeyDown:E,onKeyUp:P,onMouseDown:N,onMouseLeave:j,onMouseUp:V,onTouchEnd:k,onTouchMove:D,onTouchStart:H,tabIndex:B=0,TouchRippleProps:G,touchRippleRef:F,type:L,...Y}=r,q=x.useRef(null),Q=are(),M=cl(Q.ref,F),[U,X]=x.useState(!1);c&&U&&X(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{X(!0),q.current.focus()}}),[]);const de=Q.shouldMount&&!h&&!c;x.useEffect(()=>{U&&m&&!h&&Q.pulsate()},[h,m,U,Q]);function z(Ge,jt,Xt=f){return Bu(Zt=>(jt&&jt(Zt),Xt||Q[Ge](Zt),!0))}const pe=z("start",N),se=z("stop",w),me=z("stop",I),Ee=z("stop",V),Re=z("stop",Ge=>{U&&Ge.preventDefault(),j&&j(Ge)}),be=z("start",H),je=z("stop",k),Xe=z("stop",D),Ue=z("stop",Ge=>{VR(Ge.target)||X(!1),b&&b(Ge)},!1),Le=Bu(Ge=>{q.current||(q.current=Ge.currentTarget),VR(Ge.target)&&(X(!0),T&&T(Ge)),R&&R(Ge)}),Oe=()=>{const Ge=q.current;return u&&u!=="button"&&!(Ge.tagName==="A"&&Ge.href)},mt=Bu(Ge=>{m&&!Ge.repeat&&U&&Ge.key===" "&&Q.stop(Ge,()=>{Q.start(Ge)}),Ge.target===Ge.currentTarget&&Oe()&&Ge.key===" "&&Ge.preventDefault(),E&&E(Ge),Ge.target===Ge.currentTarget&&Oe()&&Ge.key==="Enter"&&!c&&(Ge.preventDefault(),S&&S(Ge))}),vt=Bu(Ge=>{m&&Ge.key===" "&&U&&!Ge.defaultPrevented&&Q.stop(Ge,()=>{Q.pulsate(Ge)}),P&&P(Ge),S&&Ge.target===Ge.currentTarget&&Oe()&&Ge.key===" "&&!Ge.defaultPrevented&&S(Ge)});let De=u;De==="button"&&(Y.href||Y.to)&&(De=A);const ht={};De==="button"?(ht.type=L===void 0?"button":L,ht.disabled=c):(!Y.href&&!Y.to&&(ht.role="button"),c&&(ht["aria-disabled"]=c));const Ut=cl(n,q),Wt={...r,centerRipple:s,component:u,disabled:c,disableRipple:h,disableTouchRipple:f,focusRipple:m,tabIndex:B,focusVisible:U},Ht=Ire(Wt);return p.jsxs(Rre,{as:De,className:rn(Ht.root,l),ownerState:Wt,onBlur:Ue,onClick:S,onContextMenu:se,onFocus:Le,onKeyDown:mt,onKeyUp:vt,onMouseDown:pe,onMouseLeave:Re,onMouseUp:Ee,onDragLeave:me,onTouchEnd:je,onTouchMove:Xe,onTouchStart:be,ref:Ut,tabIndex:c?-1:B,type:L,...ht,...Y,children:[o,de?p.jsx(Cre,{ref:M,center:s,...G}):null]})});function Pre(e){return li("MuiIconButton",e)}const Mre=ci("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),jre=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Bt(r)}`,i&&`edge${Bt(i)}`,`size${Bt(s)}`]};return Si(o,Pre,t)},Ore=Mn(VL,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Bt(n.color)}`],n.edge&&t[`edge${Bt(n.edge)}`],t[`size${Bt(n.size)}`]]}})(Os(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Qs(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Os(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Lh()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Lh()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Qs((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Mre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),Qv=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:l="default",disabled:u=!1,disableFocusRipple:c=!1,size:h="medium",...f}=r,m={...r,edge:i,color:l,disabled:u,disableFocusRipple:c,size:h},v=jre(m);return p.jsx(Ore,{className:rn(v.root,o),centerRipple:!0,focusRipple:!c,disabled:u,ref:n,...f,ownerState:m,children:s})}),md=Math.min,uc=Math.max,W0=Math.round,Zg=Math.floor,dl=e=>({x:e,y:e}),Vre={left:"right",right:"left",bottom:"top",top:"bottom"},Lre={start:"end",end:"start"};function pS(e,t,n){return uc(e,md(t,n))}function op(e,t){return typeof e=="function"?e(t):e}function Tc(e){return e.split("-")[0]}function ap(e){return e.split("-")[1]}function LL(e){return e==="x"?"y":"x"}function _w(e){return e==="y"?"height":"width"}function vd(e){return["top","bottom"].includes(Tc(e))?"y":"x"}function Sw(e){return LL(vd(e))}function Nre(e,t,n){n===void 0&&(n=!1);const r=ap(e),i=Sw(e),s=_w(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=K0(o)),[o,K0(o)]}function Bre(e){const t=K0(e);return[gS(e),t,gS(t)]}function gS(e){return e.replace(/start|end/g,t=>Lre[t])}function Dre(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Fre(e,t,n,r){const i=ap(e);let s=Dre(Tc(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(gS)))),s}function K0(e){return e.replace(/left|right|bottom|top/g,t=>Vre[t])}function $re(e){return{top:0,right:0,bottom:0,left:0,...e}}function NL(e){return typeof e!="number"?$re(e):{top:e,right:e,bottom:e,left:e}}function Y0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function aP(e,t,n){let{reference:r,floating:i}=e;const s=vd(t),o=Sw(t),l=_w(o),u=Tc(t),c=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let v;switch(u){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-i.width,y:f};break;default:v={x:r.x,y:r.y}}switch(ap(t)){case"start":v[o]-=m*(n&&c?-1:1);break;case"end":v[o]+=m*(n&&c?-1:1);break}return v}const zre=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:f}=aP(c,r,u),m=r,v={},A=0;for(let b=0;b<l.length;b++){const{name:S,fn:w}=l[b],{x:I,y:R,data:T,reset:E}=await w({x:h,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:c,platform:o,elements:{reference:e,floating:t}});h=I??h,f=R??f,v={...v,[S]:{...v[S],...T}},E&&A<=50&&(A++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:h,y:f}=aP(c,m,u)),b=-1)}return{x:h,y:f,placement:m,strategy:i,middlewareData:v}};async function BL(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=op(t,e),A=NL(v),S=l[m?f==="floating"?"reference":"floating":f],w=Y0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:u})),I=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),T=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},E=Y0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:I,offsetParent:R,strategy:u}):I);return{top:(w.top-E.top+A.top)/T.y,bottom:(E.bottom-w.bottom+A.bottom)/T.y,left:(w.left-E.left+A.left)/T.x,right:(E.right-w.right+A.right)/T.x}}const Ure=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=t,{element:c,padding:h=0}=op(e,t)||{};if(c==null)return{};const f=NL(h),m={x:n,y:r},v=Sw(i),A=_w(v),b=await o.getDimensions(c),S=v==="y",w=S?"top":"left",I=S?"bottom":"right",R=S?"clientHeight":"clientWidth",T=s.reference[A]+s.reference[v]-m[v]-s.floating[A],E=m[v]-s.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=P?P[R]:0;(!N||!await(o.isElement==null?void 0:o.isElement(P)))&&(N=l.floating[R]||s.floating[A]);const j=T/2-E/2,V=N/2-b[A]/2-1,k=md(f[w],V),D=md(f[I],V),H=k,B=N-b[A]-D,G=N/2-b[A]/2+j,F=pS(H,G,B),L=!u.arrow&&ap(i)!=null&&G!==F&&s.reference[A]/2-(G<H?k:D)-b[A]/2<0,Y=L?G<H?G-H:G-B:0;return{[v]:m[v]+Y,data:{[v]:F,centerOffset:G-F-Y,...L&&{alignmentOffset:Y}},reset:L}}}),Hre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:c}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:b=!0,...S}=op(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Tc(i),I=vd(l),R=Tc(l)===l,T=await(u.isRTL==null?void 0:u.isRTL(c.floating)),E=m||(R||!b?[K0(l)]:Bre(l)),P=A!=="none";!m&&P&&E.push(...Fre(l,b,A,T));const N=[l,...E],j=await BL(t,S),V=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&V.push(j[w]),f){const G=Nre(i,o,T);V.push(j[G[0]],j[G[1]])}if(k=[...k,{placement:i,overflows:V}],!V.every(G=>G<=0)){var D,H;const G=(((D=s.flip)==null?void 0:D.index)||0)+1,F=N[G];if(F)return{data:{index:G,overflows:k},reset:{placement:F}};let L=(H=k.filter(Y=>Y.overflows[0]<=0).sort((Y,q)=>Y.overflows[1]-q.overflows[1])[0])==null?void 0:H.placement;if(!L)switch(v){case"bestFit":{var B;const Y=(B=k.filter(q=>{if(P){const Q=vd(q.placement);return Q===I||Q==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Q=>Q>0).reduce((Q,M)=>Q+M,0)]).sort((q,Q)=>q[1]-Q[1])[0])==null?void 0:B[0];Y&&(L=Y);break}case"initialPlacement":L=l;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function Gre(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Tc(n),l=ap(n),u=vd(n)==="y",c=["left","top"].includes(o)?-1:1,h=s&&u?-1:1,f=op(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:A}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&typeof A=="number"&&(v=l==="end"?A*-1:A),u?{x:v*h,y:m*c}:{x:m*c,y:v*h}}const qre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=t,u=await Gre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},Wre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:w,y:I}=S;return{x:w,y:I}}},...u}=op(e,t),c={x:n,y:r},h=await BL(t,u),f=vd(Tc(i)),m=LL(f);let v=c[m],A=c[f];if(s){const S=m==="y"?"top":"left",w=m==="y"?"bottom":"right",I=v+h[S],R=v-h[w];v=pS(I,v,R)}if(o){const S=f==="y"?"top":"left",w=f==="y"?"bottom":"right",I=A+h[S],R=A-h[w];A=pS(I,A,R)}const b=l.fn({...t,[m]:v,[f]:A});return{...b,data:{x:b.x-n,y:b.y-r}}}}};function Ld(e){return DL(e)?(e.nodeName||"").toLowerCase():"#document"}function rs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ba(e){var t;return(t=(DL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DL(e){return e instanceof Node||e instanceof rs(e).Node}function Ro(e){return e instanceof Element||e instanceof rs(e).Element}function Po(e){return e instanceof HTMLElement||e instanceof rs(e).HTMLElement}function lP(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rs(e).ShadowRoot}function lp(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=io(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Kre(e){return["table","td","th"].includes(Ld(e))}function Jv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function xw(e){const t=ww(),n=io(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Yre(e){let t=fl(e);for(;Po(t)&&!yd(t);){if(Jv(t))return null;if(xw(t))return t;t=fl(t)}return null}function ww(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yd(e){return["html","body","#document"].includes(Ld(e))}function io(e){return rs(e).getComputedStyle(e)}function Xv(e){return Ro(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fl(e){if(Ld(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lP(e)&&e.host||ba(e);return lP(t)?t.host:t}function FL(e){const t=fl(e);return yd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Po(t)&&lp(t)?t:FL(t)}function Nh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=FL(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=rs(i);return s?t.concat(o,o.visualViewport||[],lp(i)?i:[],o.frameElement&&n?Nh(o.frameElement):[]):t.concat(i,Nh(i,[],n))}function $L(e){const t=io(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Po(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=W0(n)!==s||W0(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Ew(e){return Ro(e)?e:e.contextElement}function Zu(e){const t=Ew(e);if(!Po(t))return dl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=$L(t);let o=(s?W0(n.width):n.width)/r,l=(s?W0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Qre=dl(0);function zL(e){const t=rs(e);return!ww()||!t.visualViewport?Qre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Jre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==rs(e)?!1:t}function Ic(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Ew(e);let o=dl(1);t&&(r?Ro(r)&&(o=Zu(r)):o=Zu(e));const l=Jre(s,n,r)?zL(s):dl(0);let u=(i.left+l.x)/o.x,c=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const m=rs(s),v=r&&Ro(r)?rs(r):r;let A=m,b=A.frameElement;for(;b&&r&&v!==A;){const S=Zu(b),w=b.getBoundingClientRect(),I=io(b),R=w.left+(b.clientLeft+parseFloat(I.paddingLeft))*S.x,T=w.top+(b.clientTop+parseFloat(I.paddingTop))*S.y;u*=S.x,c*=S.y,h*=S.x,f*=S.y,u+=R,c+=T,A=rs(b),b=A.frameElement}}return Y0({width:h,height:f,x:u,y:c})}function Xre(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=ba(r),l=t?Jv(t.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},c=dl(1);const h=dl(0),f=Po(r);if((f||!f&&!s)&&((Ld(r)!=="body"||lp(o))&&(u=Xv(r)),Po(r))){const m=Ic(r);c=Zu(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x,y:n.y*c.y-u.scrollTop*c.y+h.y}}function Zre(e){return Array.from(e.getClientRects())}function UL(e){return Ic(ba(e)).left+Xv(e).scrollLeft}function eie(e){const t=ba(e),n=Xv(e),r=e.ownerDocument.body,i=uc(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=uc(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+UL(e);const l=-n.scrollTop;return io(r).direction==="rtl"&&(o+=uc(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function tie(e,t){const n=rs(e),r=ba(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const c=ww();(!c||c&&t==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function nie(e,t){const n=Ic(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Po(e)?Zu(e):dl(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:l,x:u,y:c}}function cP(e,t,n){let r;if(t==="viewport")r=tie(e,n);else if(t==="document")r=eie(ba(e));else if(Ro(t))r=nie(t,n);else{const i=zL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Y0(r)}function HL(e,t){const n=fl(e);return n===t||!Ro(n)||yd(n)?!1:io(n).position==="fixed"||HL(n,t)}function rie(e,t){const n=t.get(e);if(n)return n;let r=Nh(e,[],!1).filter(l=>Ro(l)&&Ld(l)!=="body"),i=null;const s=io(e).position==="fixed";let o=s?fl(e):e;for(;Ro(o)&&!yd(o);){const l=io(o),u=xw(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lp(o)&&!u&&HL(e,o))?r=r.filter(h=>h!==o):i=l,o=fl(o)}return t.set(e,r),r}function iie(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Jv(t)?[]:rie(t,this._c):[].concat(n),r],l=o[0],u=o.reduce((c,h)=>{const f=cP(t,h,i);return c.top=uc(f.top,c.top),c.right=md(f.right,c.right),c.bottom=md(f.bottom,c.bottom),c.left=uc(f.left,c.left),c},cP(t,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function sie(e){const{width:t,height:n}=$L(e);return{width:t,height:n}}function oie(e,t,n){const r=Po(t),i=ba(t),s=n==="fixed",o=Ic(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const u=dl(0);if(r||!r&&!s)if((Ld(t)!=="body"||lp(i))&&(l=Xv(t)),r){const f=Ic(t,!0,s,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=UL(i));const c=o.left+l.scrollLeft-u.x,h=o.top+l.scrollTop-u.y;return{x:c,y:h,width:o.width,height:o.height}}function $1(e){return io(e).position==="static"}function uP(e,t){return!Po(e)||io(e).position==="fixed"?null:t?t(e):e.offsetParent}function GL(e,t){const n=rs(e);if(Jv(e))return n;if(!Po(e)){let i=fl(e);for(;i&&!yd(i);){if(Ro(i)&&!$1(i))return i;i=fl(i)}return n}let r=uP(e,t);for(;r&&Kre(r)&&$1(r);)r=uP(r,t);return r&&yd(r)&&$1(r)&&!xw(r)?n:r||Yre(e)||n}const aie=async function(e){const t=this.getOffsetParent||GL,n=this.getDimensions,r=await n(e.floating);return{reference:oie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lie(e){return io(e).direction==="rtl"}const cie={convertOffsetParentRelativeRectToViewportRelativeRect:Xre,getDocumentElement:ba,getClippingRect:iie,getOffsetParent:GL,getElementRects:aie,getClientRects:Zre,getDimensions:sie,getScale:Zu,isElement:Ro,isRTL:lie};function uie(e,t){let n=null,r;const i=ba(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:c,top:h,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const v=Zg(h),A=Zg(i.clientWidth-(c+f)),b=Zg(i.clientHeight-(h+m)),S=Zg(c),I={rootMargin:-v+"px "+-A+"px "+-b+"px "+-S+"px",threshold:uc(0,md(1,u))||1};let R=!0;function T(E){const P=E[0].intersectionRatio;if(P!==u){if(!R)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(T,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,I)}n.observe(e)}return o(!0),s}function die(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Ew(e),h=i||s?[...c?Nh(c):[],...Nh(t)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const f=c&&l?uie(c,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(w=>{let[I]=w;I&&I.target===c&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(t)})),n()}),c&&!u&&v.observe(c),v.observe(t));let A,b=u?Ic(e):null;u&&S();function S(){const w=Ic(e);b&&(w.x!==b.x||w.y!==b.y||w.width!==b.width||w.height!==b.height)&&n(),b=w,A=requestAnimationFrame(S)}return n(),()=>{var w;h.forEach(I=>{i&&I.removeEventListener("scroll",n),s&&I.removeEventListener("resize",n)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,u&&cancelAnimationFrame(A)}}const fie=qre,hie=Wre,pie=Hre,gie=Ure,dP=(e,t,n)=>{const r=new Map,i={platform:cie,...n},s={...i.platform,_c:r};return zre(e,t,{...i,platform:s})};var z1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var fP;function mie(){return fP||(fP=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(z1)),z1.exports}var vie=mie();const mS=Cr(vie);var hP={};const yie="react-tooltip-core-styles",Aie="react-tooltip-base-styles",pP={core:!1,base:!1};function gP({css:e,id:t=Aie,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||pP[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:hP)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:hP)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=yie),r||(r={});const{insertAt:o}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const l=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.id=t,u.type="text/css",o==="top"&&l.firstChild?l.insertBefore(u,l.firstChild):l.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e)),pP[n]=!0}const mP=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:o=[fie(Number(i)),pie({fallbackAxisSideDirection:"start"}),hie({padding:5})],border:l})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const u=o;return n?(u.push(gie({element:n,padding:5})),dP(e,t,{placement:r,strategy:s,middleware:u}).then(({x:c,y:h,placement:f,middlewareData:m})=>{var v,A;const b={left:`${c}px`,top:`${h}px`,border:l},{x:S,y:w}=(v=m.arrow)!==null&&v!==void 0?v:{x:0,y:0},I=(A={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]])!==null&&A!==void 0?A:"bottom",R=l&&{borderBottom:l,borderRight:l};let T=0;if(l){const E=`${l}`.match(/(\d+)px/);T=E!=null&&E[1]?Number(E[1]):1}return{tooltipStyles:b,tooltipArrowStyles:{left:S!=null?`${S}px`:"",top:w!=null?`${w}px`:"",right:"",bottom:"",...R,[I]:`-${4+T}px`},place:f}})):dP(e,t,{placement:"bottom",strategy:s,middleware:u}).then(({x:c,y:h,placement:f})=>({tooltipStyles:{left:`${c}px`,top:`${h}px`},tooltipArrowStyles:{},place:f}))},vP=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),yP=(e,t,n)=>{let r=null;const i=function(...s){const o=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(o,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},AP=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",vS=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>vS(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!AP(e)||!AP(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>vS(e[i],t[i]))},bie=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},bP=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(bie(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},_ie=typeof window<"u"?x.useLayoutEffect:x.useEffect,Sie="DEFAULT_TOOLTIP_ID",xie={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},wie=x.createContext({getTooltipData:()=>xie});function qL(e=Sie){return x.useContext(wie).getTooltipData(e)}var wu={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},U1={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Eie=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:o,place:l="top",offset:u=10,events:c=["hover"],openOnClick:h=!1,positionStrategy:f="absolute",middlewares:m,wrapper:v,delayShow:A=0,delayHide:b=0,float:S=!1,hidden:w=!1,noArrow:I=!1,clickable:R=!1,closeOnEsc:T=!1,closeOnScroll:E=!1,closeOnResize:P=!1,openEvents:N,closeEvents:j,globalCloseEvents:V,imperativeModeOnly:k,style:D,position:H,afterShow:B,afterHide:G,content:F,contentWrapperRef:L,isOpen:Y,defaultIsOpen:q=!1,setIsOpen:Q,activeAnchor:M,setActiveAnchor:U,border:X,opacity:de,arrowColor:z,role:pe="tooltip"})=>{var se;const me=x.useRef(null),Ee=x.useRef(null),Re=x.useRef(null),be=x.useRef(null),je=x.useRef(null),[Xe,Ue]=x.useState({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[Le,Oe]=x.useState(!1),[mt,vt]=x.useState(!1),[De,ht]=x.useState(null),Ut=x.useRef(!1),Wt=x.useRef(null),{anchorRefs:Ht,setActiveAnchor:Ge}=qL(t),jt=x.useRef(!1),[Xt,Zt]=x.useState([]),bt=x.useRef(!1),dt=h||c.includes("click"),nt=dt||(N==null?void 0:N.click)||(N==null?void 0:N.dblclick)||(N==null?void 0:N.mousedown),_t=N?{...N}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!N&&dt&&Object.assign(_t,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const cn=j?{...j}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!j&&dt&&Object.assign(cn,{mouseleave:!1,blur:!1,mouseout:!1});const Lt=V?{...V}:{escape:T||!1,scroll:E||!1,resize:P||!1,clickOutsideAnchor:nt||!1};k&&(Object.assign(_t,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(cn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Lt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),_ie(()=>(bt.current=!0,()=>{bt.current=!1}),[]);const Pt=Fe=>{bt.current&&(Fe&&vt(!0),setTimeout(()=>{bt.current&&(Q==null||Q(Fe),Y===void 0&&Oe(Fe))},10))};x.useEffect(()=>{if(Y===void 0)return()=>null;Y&&vt(!0);const Fe=setTimeout(()=>{Oe(Y)},10);return()=>{clearTimeout(Fe)}},[Y]),x.useEffect(()=>{if(Le!==Ut.current)if(je.current&&clearTimeout(je.current),Ut.current=Le,Le)B==null||B();else{const Fe=(st=>{const pt=st.match(/^([\d.]+)(ms|s)$/);if(!pt)return 0;const[,yn,hr]=pt;return Number(yn)*(hr==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));je.current=setTimeout(()=>{vt(!1),ht(null),G==null||G()},Fe+25)}},[Le]);const vn=Fe=>{Ue(st=>vS(st,Fe)?st:Fe)},jn=(Fe=A)=>{Re.current&&clearTimeout(Re.current),mt?Pt(!0):Re.current=setTimeout(()=>{Pt(!0)},Fe)},un=(Fe=b)=>{be.current&&clearTimeout(be.current),be.current=setTimeout(()=>{jt.current||Pt(!1)},Fe)},Dt=Fe=>{var st;if(!Fe)return;const pt=(st=Fe.currentTarget)!==null&&st!==void 0?st:Fe.target;if(!(pt!=null&&pt.isConnected))return U(null),void Ge({current:null});A?jn():Pt(!0),U(pt),Ge({current:pt}),be.current&&clearTimeout(be.current)},zn=()=>{R?un(b||100):b?un():Pt(!1),Re.current&&clearTimeout(Re.current)},dr=({x:Fe,y:st})=>{var pt;const yn={getBoundingClientRect:()=>({x:Fe,y:st,width:0,height:0,top:st,left:Fe,right:Fe,bottom:st})};mP({place:(pt=De==null?void 0:De.place)!==null&&pt!==void 0?pt:l,offset:u,elementReference:yn,tooltipReference:me.current,tooltipArrowReference:Ee.current,strategy:f,middlewares:m,border:X}).then(hr=>{vn(hr)})},En=Fe=>{if(!Fe)return;const st=Fe,pt={x:st.clientX,y:st.clientY};dr(pt),Wt.current=pt},br=Fe=>{var st;if(!Le)return;const pt=Fe.target;pt.isConnected&&(!((st=me.current)===null||st===void 0)&&st.contains(pt)||[document.querySelector(`[id='${s}']`),...Xt].some(yn=>yn==null?void 0:yn.contains(pt))||(Pt(!1),Re.current&&clearTimeout(Re.current)))},fr=yP(Dt,50),Kt=yP(zn,50),On=Fe=>{Kt.cancel(),fr(Fe)},rt=()=>{fr.cancel(),Kt()},Et=x.useCallback(()=>{var Fe,st;const pt=(Fe=De==null?void 0:De.position)!==null&&Fe!==void 0?Fe:H;pt?dr(pt):S?Wt.current&&dr(Wt.current):M!=null&&M.isConnected&&mP({place:(st=De==null?void 0:De.place)!==null&&st!==void 0?st:l,offset:u,elementReference:M,tooltipReference:me.current,tooltipArrowReference:Ee.current,strategy:f,middlewares:m,border:X}).then(yn=>{bt.current&&vn(yn)})},[Le,M,F,D,l,De==null?void 0:De.place,u,f,H,De==null?void 0:De.position,S]);x.useEffect(()=>{var Fe,st;const pt=new Set(Ht);Xt.forEach(en=>{pt.add({current:en})});const yn=document.querySelector(`[id='${s}']`);yn&&pt.add({current:yn});const hr=()=>{Pt(!1)},_r=bP(M),Br=bP(me.current);Lt.scroll&&(window.addEventListener("scroll",hr),_r==null||_r.addEventListener("scroll",hr),Br==null||Br.addEventListener("scroll",hr));let Kn=null;Lt.resize?window.addEventListener("resize",hr):M&&me.current&&(Kn=die(M,me.current,Et,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Tr=en=>{en.key==="Escape"&&Pt(!1)};Lt.escape&&window.addEventListener("keydown",Tr),Lt.clickOutsideAnchor&&window.addEventListener("click",br);const dn=[],Oo=en=>{Le&&(en==null?void 0:en.target)===M||Dt(en)},Fd=en=>{Le&&(en==null?void 0:en.target)===M&&zn()},as=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Sl=["click","dblclick","mousedown","mouseup"];Object.entries(_t).forEach(([en,xi])=>{xi&&(as.includes(en)?dn.push({event:en,listener:On}):Sl.includes(en)&&dn.push({event:en,listener:Oo}))}),Object.entries(cn).forEach(([en,xi])=>{xi&&(as.includes(en)?dn.push({event:en,listener:rt}):Sl.includes(en)&&dn.push({event:en,listener:Fd}))}),S&&dn.push({event:"pointermove",listener:En});const xl=()=>{jt.current=!0},Uc=()=>{jt.current=!1,zn()};return R&&!nt&&((Fe=me.current)===null||Fe===void 0||Fe.addEventListener("mouseenter",xl),(st=me.current)===null||st===void 0||st.addEventListener("mouseleave",Uc)),dn.forEach(({event:en,listener:xi})=>{pt.forEach(_a=>{var lo;(lo=_a.current)===null||lo===void 0||lo.addEventListener(en,xi)})}),()=>{var en,xi;Lt.scroll&&(window.removeEventListener("scroll",hr),_r==null||_r.removeEventListener("scroll",hr),Br==null||Br.removeEventListener("scroll",hr)),Lt.resize?window.removeEventListener("resize",hr):Kn==null||Kn(),Lt.clickOutsideAnchor&&window.removeEventListener("click",br),Lt.escape&&window.removeEventListener("keydown",Tr),R&&!nt&&((en=me.current)===null||en===void 0||en.removeEventListener("mouseenter",xl),(xi=me.current)===null||xi===void 0||xi.removeEventListener("mouseleave",Uc)),dn.forEach(({event:_a,listener:lo})=>{pt.forEach($d=>{var Sa;(Sa=$d.current)===null||Sa===void 0||Sa.removeEventListener(_a,lo)})})}},[M,Et,mt,Ht,Xt,N,j,V,dt,A,b]),x.useEffect(()=>{var Fe,st;let pt=(st=(Fe=De==null?void 0:De.anchorSelect)!==null&&Fe!==void 0?Fe:o)!==null&&st!==void 0?st:"";!pt&&t&&(pt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const yn=new MutationObserver(hr=>{const _r=[],Br=[];hr.forEach(Kn=>{if(Kn.type==="attributes"&&Kn.attributeName==="data-tooltip-id"&&(Kn.target.getAttribute("data-tooltip-id")===t?_r.push(Kn.target):Kn.oldValue===t&&Br.push(Kn.target)),Kn.type==="childList"){if(M){const Tr=[...Kn.removedNodes].filter(dn=>dn.nodeType===1);if(pt)try{Br.push(...Tr.filter(dn=>dn.matches(pt))),Br.push(...Tr.flatMap(dn=>[...dn.querySelectorAll(pt)]))}catch{}Tr.some(dn=>{var Oo;return!!(!((Oo=dn==null?void 0:dn.contains)===null||Oo===void 0)&&Oo.call(dn,M))&&(vt(!1),Pt(!1),U(null),Re.current&&clearTimeout(Re.current),be.current&&clearTimeout(be.current),!0)})}if(pt)try{const Tr=[...Kn.addedNodes].filter(dn=>dn.nodeType===1);_r.push(...Tr.filter(dn=>dn.matches(pt))),_r.push(...Tr.flatMap(dn=>[...dn.querySelectorAll(pt)]))}catch{}}}),(_r.length||Br.length)&&Zt(Kn=>[...Kn.filter(Tr=>!Br.includes(Tr)),..._r])});return yn.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{yn.disconnect()}},[t,o,De==null?void 0:De.anchorSelect,M]),x.useEffect(()=>{Et()},[Et]),x.useEffect(()=>{if(!(L!=null&&L.current))return()=>null;const Fe=new ResizeObserver(()=>{setTimeout(()=>Et())});return Fe.observe(L.current),()=>{Fe.disconnect()}},[F,L==null?void 0:L.current]),x.useEffect(()=>{var Fe;const st=document.querySelector(`[id='${s}']`),pt=[...Xt,st];M&&pt.includes(M)||U((Fe=Xt[0])!==null&&Fe!==void 0?Fe:st)},[s,Xt,M]),x.useEffect(()=>(q&&Pt(!0),()=>{Re.current&&clearTimeout(Re.current),be.current&&clearTimeout(be.current)}),[]),x.useEffect(()=>{var Fe;let st=(Fe=De==null?void 0:De.anchorSelect)!==null&&Fe!==void 0?Fe:o;if(!st&&t&&(st=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),st)try{const pt=Array.from(document.querySelectorAll(st));Zt(pt)}catch{Zt([])}},[t,o,De==null?void 0:De.anchorSelect]),x.useEffect(()=>{Re.current&&(clearTimeout(Re.current),jn(A))},[A]);const rr=(se=De==null?void 0:De.content)!==null&&se!==void 0?se:F,Nr=Le&&Object.keys(Xe.tooltipStyles).length>0;return x.useImperativeHandle(e,()=>({open:Fe=>{if(Fe!=null&&Fe.anchorSelect)try{document.querySelector(Fe.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Fe.anchorSelect}" is not a valid CSS selector`)}ht(Fe??null),Fe!=null&&Fe.delay?jn(Fe.delay):Pt(!0)},close:Fe=>{Fe!=null&&Fe.delay?un(Fe.delay):Pt(!1)},activeAnchor:M,place:Xe.place,isOpen:!!(mt&&!w&&rr&&Nr)})),mt&&!w&&rr?Je.createElement(v,{id:t,role:pe,className:mS("react-tooltip",wu.tooltip,U1.tooltip,U1[i],n,`react-tooltip__place-${Xe.place}`,wu[Nr?"show":"closing"],Nr?"react-tooltip__show":"react-tooltip__closing",f==="fixed"&&wu.fixed,R&&wu.clickable),onTransitionEnd:Fe=>{je.current&&clearTimeout(je.current),Le||Fe.propertyName!=="opacity"||(vt(!1),ht(null),G==null||G())},style:{...D,...Xe.tooltipStyles,opacity:de!==void 0&&Nr?de:void 0},ref:me},rr,Je.createElement(v,{className:mS("react-tooltip-arrow",wu.arrow,U1.arrow,r,I&&wu.noArrow),style:{...Xe.tooltipArrowStyles,background:z?`linear-gradient(to right bottom, transparent 50%, ${z} 50%)`:void 0},ref:Ee})):null},Cie=({content:e})=>Je.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),kie=Je.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:o,classNameArrow:l,variant:u="dark",place:c="top",offset:h=10,wrapper:f="div",children:m=null,events:v=["hover"],openOnClick:A=!1,positionStrategy:b="absolute",middlewares:S,delayShow:w=0,delayHide:I=0,float:R=!1,hidden:T=!1,noArrow:E=!1,clickable:P=!1,closeOnEsc:N=!1,closeOnScroll:j=!1,closeOnResize:V=!1,openEvents:k,closeEvents:D,globalCloseEvents:H,imperativeModeOnly:B=!1,style:G,position:F,isOpen:L,defaultIsOpen:Y=!1,disableStyleInjection:q=!1,border:Q,opacity:M,arrowColor:U,setIsOpen:X,afterShow:de,afterHide:z,role:pe="tooltip"},se)=>{const[me,Ee]=x.useState(r),[Re,be]=x.useState(i),[je,Xe]=x.useState(c),[Ue,Le]=x.useState(u),[Oe,mt]=x.useState(h),[vt,De]=x.useState(w),[ht,Ut]=x.useState(I),[Wt,Ht]=x.useState(R),[Ge,jt]=x.useState(T),[Xt,Zt]=x.useState(f),[bt,dt]=x.useState(v),[nt,_t]=x.useState(b),[cn,Lt]=x.useState(null),[Pt,vn]=x.useState(null),jn=x.useRef(q),{anchorRefs:un,activeAnchor:Dt}=qL(e),zn=Kt=>Kt==null?void 0:Kt.getAttributeNames().reduce((On,rt)=>{var Et;return rt.startsWith("data-tooltip-")&&(On[rt.replace(/^data-tooltip-/,"")]=(Et=Kt==null?void 0:Kt.getAttribute(rt))!==null&&Et!==void 0?Et:null),On},{}),dr=Kt=>{const On={place:rt=>{var Et;Xe((Et=rt)!==null&&Et!==void 0?Et:c)},content:rt=>{Ee(rt??r)},html:rt=>{be(rt??i)},variant:rt=>{var Et;Le((Et=rt)!==null&&Et!==void 0?Et:u)},offset:rt=>{mt(rt===null?h:Number(rt))},wrapper:rt=>{var Et;Zt((Et=rt)!==null&&Et!==void 0?Et:f)},events:rt=>{const Et=rt==null?void 0:rt.split(" ");dt(Et??v)},"position-strategy":rt=>{var Et;_t((Et=rt)!==null&&Et!==void 0?Et:b)},"delay-show":rt=>{De(rt===null?w:Number(rt))},"delay-hide":rt=>{Ut(rt===null?I:Number(rt))},float:rt=>{Ht(rt===null?R:rt==="true")},hidden:rt=>{jt(rt===null?T:rt==="true")},"class-name":rt=>{Lt(rt)}};Object.values(On).forEach(rt=>rt(null)),Object.entries(Kt).forEach(([rt,Et])=>{var rr;(rr=On[rt])===null||rr===void 0||rr.call(On,Et)})};x.useEffect(()=>{Ee(r)},[r]),x.useEffect(()=>{be(i)},[i]),x.useEffect(()=>{Xe(c)},[c]),x.useEffect(()=>{Le(u)},[u]),x.useEffect(()=>{mt(h)},[h]),x.useEffect(()=>{De(w)},[w]),x.useEffect(()=>{Ut(I)},[I]),x.useEffect(()=>{Ht(R)},[R]),x.useEffect(()=>{jt(T)},[T]),x.useEffect(()=>{_t(b)},[b]),x.useEffect(()=>{jn.current!==q&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[q]),x.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:q==="core",disableBase:q}}))},[]),x.useEffect(()=>{var Kt;const On=new Set(un);let rt=n;if(!rt&&e&&(rt=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),rt)try{document.querySelectorAll(rt).forEach(st=>{On.add({current:st})})}catch{console.warn(`[react-tooltip] "${rt}" is not a valid CSS selector`)}const Et=document.querySelector(`[id='${t}']`);if(Et&&On.add({current:Et}),!On.size)return()=>null;const rr=(Kt=Pt??Et)!==null&&Kt!==void 0?Kt:Dt.current,Nr=new MutationObserver(st=>{st.forEach(pt=>{var yn;if(!rr||pt.type!=="attributes"||!(!((yn=pt.attributeName)===null||yn===void 0)&&yn.startsWith("data-tooltip-")))return;const hr=zn(rr);dr(hr)})}),Fe={attributes:!0,childList:!1,subtree:!1};if(rr){const st=zn(rr);dr(st),Nr.observe(rr,Fe)}return()=>{Nr.disconnect()}},[un,Dt,Pt,t,n]),x.useEffect(()=>{G!=null&&G.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Q&&!vP("border",`${Q}`)&&console.warn(`[react-tooltip] "${Q}" is not a valid \`border\`.`),G!=null&&G.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),M&&!vP("opacity",`${M}`)&&console.warn(`[react-tooltip] "${M}" is not a valid \`opacity\`.`)},[]);let En=m;const br=x.useRef(null);if(s){const Kt=s({content:(Pt==null?void 0:Pt.getAttribute("data-tooltip-content"))||me||null,activeAnchor:Pt});En=Kt?Je.createElement("div",{ref:br,className:"react-tooltip-content-wrapper"},Kt):null}else me&&(En=me);Re&&(En=Je.createElement(Cie,{content:Re}));const fr={forwardRef:se,id:e,anchorId:t,anchorSelect:n,className:mS(o,cn),classNameArrow:l,content:En,contentWrapperRef:br,place:je,variant:Ue,offset:Oe,wrapper:Xt,events:bt,openOnClick:A,positionStrategy:nt,middlewares:S,delayShow:vt,delayHide:ht,float:Wt,hidden:Ge,noArrow:E,clickable:P,closeOnEsc:N,closeOnScroll:j,closeOnResize:V,openEvents:k,closeEvents:D,globalCloseEvents:H,imperativeModeOnly:B,style:G,position:F,isOpen:L,defaultIsOpen:Y,border:Q,opacity:M,arrowColor:U,setIsOpen:X,afterShow:de,afterHide:z,activeAnchor:Pt,setActiveAnchor:Kt=>vn(Kt),role:pe};return Je.createElement(Eie,{...fr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||gP({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||gP({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Tie=W(kie,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",xt,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",Ve.colors.text.active,";}}z-index:10000;"),Ad=({children:e,title:t,open:n,...r})=>{const i=x.useRef(null),s=x.useMemo(()=>`${Math.random()}`,[]);return p.jsxs(p.Fragment,{children:[Vd.createPortal(p.jsx(Tie,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),x.cloneElement(e,{"data-tooltip-id":s})]})},_P=e=>`tooltip_dismissed_${e}`,Iie=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[o,l]=x.useState(!ot.local.getItem(_P(e))),u=x.useCallback(()=>{ot.local.setItem(_P(e),!0),l(void 0)},[e]);x.useEffect(()=>{if(t){const h=setTimeout(u,t);return()=>clearTimeout(h)}},[t,u]);const c=(o===void 0||!o&&!n)&&s.open===void 0;return p.jsx(Ad,{clickable:!0,open:c?s.open:o,hidden:s.open===!1,...s,title:p.jsxs(p.Fragment,{children:[i,o&&p.jsx(Rie,{children:p.jsx(Pie,{"data-test":"close-tooltip-button",onClick:u,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Rie=W("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),Pie=W("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",Ve.colors.text.active,";border-color:",Ve.colors.text.active,";}&:active{color:white;background:",Ve.colors.text.active,";border-color:none;}"),Mie=zt(p.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),jie=zt(p.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Oie(){const[,e]=Tt(tx),[t]=Tt(Jr),[n,r]=x.useState(document.fullscreenElement!==null);return x.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),p.jsx(Ad,{title:"Toggle fullscreen",place:"bottom-end",children:p.jsx(Qv,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?p.jsx(jie,{}):p.jsx(Mie,{})})})}const WL=jo("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",xt,",;",""),Vie=jo("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",Ve.colors.text.active,";",""),Lie=jo("transform:scale(1.05);background:",Ve.colors.text.active,";",""),Zv=_i()?Lie:Vie,Nie={animation:"focusAnimation 1000ms ease-in-out infinite both"},yS=jo("&:hover{",Nie,";}&&&:active{background:",Ve.colors.text.active,";}",""),Bie=W("a",{target:"eo7q3x1"})(WL," &&{color:white;text-decoration:none;}&[data-focused='true']{",Zv,";}&[disabled='false']{",yS,";}"),Die=({focused:e,...t})=>p.jsx(Bie,{...t}),Fie=W("button",{target:"eo7q3x0"})(WL,";&:not(:disabled){",yS,";}&[data-focused='true']{",Zv,";}&[disabled='false']{",yS,";}"),ao=({focused:e,...t})=>p.jsx(Fie,{"data-focused":e,...t}),Cw=x.forwardRef(function({as:t,className:n,children:r,...i},s){const o=t||"div";return p.jsx(o,{className:JV("flex flex-col items-center bg-black/50 justify-center box-border",n),...i,ref:s,children:r})}),KL=$n(Cw)(e=>["!flex-row duration-300 text-md typography cursor-pointer justify-center border-0 bg-black/75 !text-white uppercase",!_i()&&e["data-focused"]?"animate-button-focused scale-105":"",e["data-focused"]?"bg-active":"",e.disabled?"cursor-default !text-gray-300 bg-gray-500 pointer-events-none !animate-none !scale-100":"active:bg-active",e["data-inactive"]?"!line-through decoration-white opacity-25":"!no-underline"]),$ie=({children:e,...t})=>p.jsx(KL,{className:"",...t,as:"button",children:e}),YL=({children:e,...t})=>p.jsx(KL,{...t,as:"a",children:e}),zie=({size:e="regular",focused:t=!1,className:n,...r})=>{const i="href"in r?YL:$ie;return p.jsx(i,{...r,"data-size":e,"data-focused":t,className:`my-2 ${e==="small"?"h-20":"h-40"} ${n}`})},Uie=$n(Cw)`w-[100vw] max-w-[75rem] m-[2rem auto 0 auto] [view-transition-name:menu-container] items-stretch`,QL=$n(wc)`text-xl text-active flex items-center justify-center`,Kr=({title:e,children:t,className:n,spacing:r="regular",...i})=>p.jsxs(Uie,{...i,className:`${n} ${r==="tight"?"p-6 gap-1":"p-10 gap-4"}`,children:[e&&p.jsx(QL,{children:e}),t]});Kr.Header=QL;Kr.Button=zie;Kr.Divider=()=>p.jsx("hr",{});const Hie={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},JL=jo("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Hie,";}&[data-size='small']{height:5rem;}",""),Gie=W(Die,{target:"e1llc1k61"})(JL,";"),qie=W(ao,{target:"e1llc1k60"})(JL,";"),ut=({size:e,disabled:t,...n})=>{const r="href"in n?Gie:qie;return p.jsx(r,{...n,"data-disabled":t,"data-size":e})},vl=Kr;function $c({children:e,onClose:t}){return p.jsxs(p.Fragment,{children:[p.jsx(Wie,{onClick:t}),p.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto",children:p.jsx("div",{className:"flex items-center justify-center min-h-full",children:p.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const Wie=W("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Kie=0;function Nd(e,t){const n=x.useRef(`${String(Math.random())}-${Kie++}`),{setKeyboard:r,unsetKeyboard:i}=x.useContext(ew),s=l=>{r(n.current,l)},o=()=>i(n.current);return x.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function kr(e={},t=!1){var T;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[l,u]=x.useState(null),c=x.useRef([]),h=x.useRef([]),f=x.useRef({}),m=(T=f.current[l])==null?void 0:T.label,v=x.useMemo(()=>({[s]:null,accept:m??null,back:r?i:void 0,...o}),[m,f,i,s]);Nd(v,n);const A=()=>{var E;(E=f.current[l])==null||E.callback(),Px.play()},b=()=>{r&&(Mx.play(),r())},S=E=>{const P=l?c.current.indexOf(l):0;Ov.play(),u(c.current.at((P+E)%c.current.length)??null)};Fc({[s==="vertical"?"up":"left"]:()=>S(-1),[s==="vertical"?"down":"right"]:()=>S(1),accept:A,back:b},n,[l,c.current]);let w="";const I=(E,P,N,j=!1,{propName:V="onClick",disabled:k=!1}={})=>{if(k)return{disabled:k,focused:!1};h.current.push(E),P&&(f.current[E]={callback:P,label:N,propName:V}),j&&(w=E);const D=n&&l===E;return{focused:D,[V]:P,$keyboardNavigationChangeFocus:S,"data-test":E,...n?{"data-focused":D,"data-e2e-focused":D}:{}}};return x.useEffect(()=>{var E;(E=document.querySelector(`[data-test="${l}"]`))==null||E.scrollIntoView({behavior:"smooth",block:"center"})},[l]),x.useEffect(()=>{const E=h.current.filter(P=>!c.current.includes(P));t&&E.length&&console.log("new elements",E),c.current=[...h.current],h.current.length=0,c.current.length&&(l===null||c.current.indexOf(l)===-1||E.includes(w))&&u(w||c.current[0])}),{focusElement:E=>{c.current.includes(E)&&u(E)},focused:l,register:I}}var Yie=Object.defineProperty,Q0=Object.getOwnPropertySymbols,XL=Object.prototype.hasOwnProperty,ZL=Object.prototype.propertyIsEnumerable,SP=(e,t,n)=>t in e?Yie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bh=(e,t)=>{for(var n in t||(t={}))XL.call(t,n)&&SP(e,n,t[n]);if(Q0)for(var n of Q0(t))ZL.call(t,n)&&SP(e,n,t[n]);return e},kw=(e,t)=>{var n={};for(var r in e)XL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Q0)for(var r of Q0(e))t.indexOf(r)<0&&ZL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Rc;(e=>{const t=class{constructor(u,c,h,f){if(this.version=u,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],u<t.MIN_VERSION||u>t.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let m=[];for(let A=0;A<this.size;A++)m.push(!1);for(let A=0;A<this.size;A++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(h);if(this.drawCodewords(v),f==-1){let A=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const S=this.getPenaltyScore();S<A&&(f=b,A=S),this.applyMask(b)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(u,c){const h=e.QrSegment.makeSegments(u);return t.encodeSegments(h,c)}static encodeBinary(u,c){const h=e.QrSegment.makeBytes(u);return t.encodeSegments([h],c)}static encodeSegments(u,c,h=1,f=40,m=-1,v=!0){if(!(t.MIN_VERSION<=h&&h<=f&&f<=t.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let A,b;for(A=h;;A++){const R=t.getNumDataCodewords(A,c)*8,T=l.getTotalBits(u,A);if(T<=R){b=T;break}if(A>=f)throw new RangeError("Data too long")}for(const R of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])v&&b<=t.getNumDataCodewords(A,R)*8&&(c=R);let S=[];for(const R of u){r(R.mode.modeBits,4,S),r(R.numChars,R.mode.numCharCountBits(A),S);for(const T of R.getData())S.push(T)}s(S.length==b);const w=t.getNumDataCodewords(A,c)*8;s(S.length<=w),r(0,Math.min(4,w-S.length),S),r(0,(8-S.length%8)%8,S),s(S.length%8==0);for(let R=236;S.length<w;R^=253)r(R,8,S);let I=[];for(;I.length*8<S.length;)I.push(0);return S.forEach((R,T)=>I[T>>>3]|=R<<7-(T&7)),new t(A,c,I,m)}getModule(u,c){return 0<=u&&u<this.size&&0<=c&&c<this.size&&this.modules[c][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),c=u.length;for(let h=0;h<c;h++)for(let f=0;f<c;f++)h==0&&f==0||h==0&&f==c-1||h==c-1&&f==0||this.drawAlignmentPattern(u[h],u[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const c=this.errorCorrectionLevel.formatBits<<3|u;let h=c;for(let m=0;m<10;m++)h=h<<1^(h>>>9)*1335;const f=(c<<10|h)^21522;s(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,i(f,m));this.setFunctionModule(8,7,i(f,6)),this.setFunctionModule(8,8,i(f,7)),this.setFunctionModule(7,8,i(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,i(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,i(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,i(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let h=0;h<12;h++)u=u<<1^(u>>>11)*7973;const c=this.version<<12|u;s(c>>>18==0);for(let h=0;h<18;h++){const f=i(c,h),m=this.size-11+h%3,v=Math.floor(h/3);this.setFunctionModule(m,v,f),this.setFunctionModule(v,m,f)}}drawFinderPattern(u,c){for(let h=-4;h<=4;h++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(h)),v=u+f,A=c+h;0<=v&&v<this.size&&0<=A&&A<this.size&&this.setFunctionModule(v,A,m!=2&&m!=4)}}drawAlignmentPattern(u,c){for(let h=-2;h<=2;h++)for(let f=-2;f<=2;f++)this.setFunctionModule(u+f,c+h,Math.max(Math.abs(f),Math.abs(h))!=1)}setFunctionModule(u,c,h){this.modules[c][u]=h,this.isFunction[c][u]=!0}addEccAndInterleave(u){const c=this.version,h=this.errorCorrectionLevel;if(u.length!=t.getNumDataCodewords(c,h))throw new RangeError("Invalid argument");const f=t.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][c],m=t.ECC_CODEWORDS_PER_BLOCK[h.ordinal][c],v=Math.floor(t.getNumRawDataModules(c)/8),A=f-v%f,b=Math.floor(v/f);let S=[];const w=t.reedSolomonComputeDivisor(m);for(let R=0,T=0;R<f;R++){let E=u.slice(T,T+b-m+(R<A?0:1));T+=E.length;const P=t.reedSolomonComputeRemainder(E,w);R<A&&E.push(0),S.push(E.concat(P))}let I=[];for(let R=0;R<S[0].length;R++)S.forEach((T,E)=>{(R!=b-m||E>=A)&&I.push(T[R])});return s(I.length==v),I}drawCodewords(u){if(u.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const v=h-m,b=(h+1&2)==0?this.size-1-f:f;!this.isFunction[b][v]&&c<u.length*8&&(this.modules[b][v]=i(u[c>>>3],7-(c&7)),c++)}}s(c==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let h=0;h<this.size;h++){let f;switch(u){case 0:f=(h+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=h%3==0;break;case 3:f=(h+c)%3==0;break;case 4:f=(Math.floor(h/3)+Math.floor(c/2))%2==0;break;case 5:f=h*c%2+h*c%3==0;break;case 6:f=(h*c%2+h*c%3)%2==0;break;case 7:f=((h+c)%2+h*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][h]&&f&&(this.modules[c][h]=!this.modules[c][h])}}getPenaltyScore(){let u=0;for(let m=0;m<this.size;m++){let v=!1,A=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[m][S]==v?(A++,A==5?u+=t.PENALTY_N1:A>5&&u++):(this.finderPenaltyAddHistory(A,b),v||(u+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),v=this.modules[m][S],A=1);u+=this.finderPenaltyTerminateAndCount(v,A,b)*t.PENALTY_N3}for(let m=0;m<this.size;m++){let v=!1,A=0,b=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][m]==v?(A++,A==5?u+=t.PENALTY_N1:A>5&&u++):(this.finderPenaltyAddHistory(A,b),v||(u+=this.finderPenaltyCountPatterns(b)*t.PENALTY_N3),v=this.modules[S][m],A=1);u+=this.finderPenaltyTerminateAndCount(v,A,b)*t.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let v=0;v<this.size-1;v++){const A=this.modules[m][v];A==this.modules[m][v+1]&&A==this.modules[m+1][v]&&A==this.modules[m+1][v+1]&&(u+=t.PENALTY_N2)}let c=0;for(const m of this.modules)c=m.reduce((v,A)=>v+(A?1:0),c);const h=this.size*this.size,f=Math.ceil(Math.abs(c*20-h*10)/h)-1;return s(0<=f&&f<=9),u+=f*t.PENALTY_N4,s(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let h=[6];for(let f=this.size-7;h.length<u;f-=c)h.splice(1,0,f);return h}}static getNumRawDataModules(u){if(u<t.MIN_VERSION||u>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*u+128)*u+64;if(u>=2){const h=Math.floor(u/7)+2;c-=(25*h-10)*h-55,u>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(u,c){return Math.floor(t.getNumRawDataModules(u)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<u-1;f++)c.push(0);c.push(1);let h=1;for(let f=0;f<u;f++){for(let m=0;m<c.length;m++)c[m]=t.reedSolomonMultiply(c[m],h),m+1<c.length&&(c[m]^=c[m+1]);h=t.reedSolomonMultiply(h,2)}return c}static reedSolomonComputeRemainder(u,c){let h=c.map(f=>0);for(const f of u){const m=f^h.shift();h.push(0),c.forEach((v,A)=>h[A]^=t.reedSolomonMultiply(v,m))}return h}static reedSolomonMultiply(u,c){if(u>>>8||c>>>8)throw new RangeError("Byte out of range");let h=0;for(let f=7;f>=0;f--)h=h<<1^(h>>>7)*285,h^=(c>>>f&1)*u;return s(h>>>8==0),h}finderPenaltyCountPatterns(u){const c=u[1];s(c<=this.size*3);const h=c>0&&u[2]==c&&u[3]==c*3&&u[4]==c&&u[5]==c;return(h&&u[0]>=c*4&&u[6]>=c?1:0)+(h&&u[6]>=c*4&&u[0]>=c?1:0)}finderPenaltyTerminateAndCount(u,c,h){return u&&(this.finderPenaltyAddHistory(c,h),c=0),c+=this.size,this.finderPenaltyAddHistory(c,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(u,c){c[0]==0&&(u+=this.size),c.pop(),c.unshift(u)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(u,c,h){if(c<0||c>31||u>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)h.push(u>>>f&1)}function i(u,c){return(u>>>c&1)!=0}function s(u){if(!u)throw new Error("Assertion error")}const o=class{constructor(u,c,h){if(this.mode=u,this.numChars=c,this.bitData=h,c<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(u){let c=[];for(const h of u)r(h,8,c);return new o(o.Mode.BYTE,u.length,c)}static makeNumeric(u){if(!o.isNumeric(u))throw new RangeError("String contains non-numeric characters");let c=[];for(let h=0;h<u.length;){const f=Math.min(u.length-h,3);r(parseInt(u.substr(h,f),10),f*3+1,c),h+=f}return new o(o.Mode.NUMERIC,u.length,c)}static makeAlphanumeric(u){if(!o.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],h;for(h=0;h+2<=u.length;h+=2){let f=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h))*45;f+=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h+1)),r(f,11,c)}return h<u.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(h)),6,c),new o(o.Mode.ALPHANUMERIC,u.length,c)}static makeSegments(u){return u==""?[]:o.isNumeric(u)?[o.makeNumeric(u)]:o.isAlphanumeric(u)?[o.makeAlphanumeric(u)]:[o.makeBytes(o.toUtf8ByteArray(u))]}static makeEci(u){let c=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)r(u,8,c);else if(u<16384)r(2,2,c),r(u,14,c);else if(u<1e6)r(6,3,c),r(u,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(u){return o.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return o.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,c){let h=0;for(const f of u){const m=f.mode.numCharCountBits(c);if(f.numChars>=1<<m)return 1/0;h+=4+m+f.bitData.length}return h}static toUtf8ByteArray(u){u=encodeURI(u);let c=[];for(let h=0;h<u.length;h++)u.charAt(h)!="%"?c.push(u.charCodeAt(h)):(c.push(parseInt(u.substr(h+1,2),16)),h+=2);return c}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=l})(Rc||(Rc={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Rc||(Rc={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Rc||(Rc={}));var Du=Rc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var e4={L:Du.QrCode.Ecc.LOW,M:Du.QrCode.Ecc.MEDIUM,Q:Du.QrCode.Ecc.QUARTILE,H:Du.QrCode.Ecc.HIGH},t4=128,n4="L",r4="#FFFFFF",i4="#000000",s4=!1,Tw=4,Qie=.1;function o4(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,l){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${l-s}v1H${s+t}z`),s=null;return}if(l===r.length-1){if(!o)return;s===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${s+t},${i+t} h${l+1-s}v1H${s+t}z`);return}o&&s===null&&(s=l)})}),n.join("")}function a4(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function l4(e,t,n,r){if(r==null)return null;const i=n?Tw:0,s=e.length+i*2,o=Math.floor(t*Qie),l=s/t,u=(r.width||o)*l,c=(r.height||o)*l,h=r.x==null?e.length/2-u/2:r.x*l,f=r.y==null?e.length/2-c/2:r.y*l;let m=null;if(r.excavate){let v=Math.floor(h),A=Math.floor(f),b=Math.ceil(u+h-v),S=Math.ceil(c+f-A);m={x:v,y:A,w:b,h:S}}return{x:h,y:f,h:c,w:u,excavation:m}}var Jie=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function c4(e){const t=e,{value:n,size:r=t4,level:i=n4,bgColor:s=r4,fgColor:o=i4,includeMargin:l=s4,style:u,imageSettings:c}=t,h=kw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),f=c==null?void 0:c.src,m=x.useRef(null),v=x.useRef(null),[A,b]=x.useState(!1);x.useEffect(()=>{if(m.current!=null){const I=m.current,R=I.getContext("2d");if(!R)return;let T=Du.QrCode.encodeText(n,e4[i]).getModules();const E=l?Tw:0,P=T.length+E*2,N=l4(T,r,l,c),j=v.current,V=N!=null&&j!==null&&j.complete&&j.naturalHeight!==0&&j.naturalWidth!==0;V&&N.excavation!=null&&(T=a4(T,N.excavation));const k=window.devicePixelRatio||1;I.height=I.width=r*k;const D=r/P*k;R.scale(D,D),R.fillStyle=s,R.fillRect(0,0,P,P),R.fillStyle=o,Jie?R.fill(new Path2D(o4(T,E))):T.forEach(function(H,B){H.forEach(function(G,F){G&&R.fillRect(F+E,B+E,1,1)})}),V&&R.drawImage(j,N.x+E,N.y+E,N.w,N.h)}}),x.useEffect(()=>{b(!1)},[f]);const S=Bh({height:r,width:r},u);let w=null;return f!=null&&(w=Je.createElement("img",{src:f,key:f,style:{display:"none"},onLoad:()=>{b(!0)},ref:v})),Je.createElement(Je.Fragment,null,Je.createElement("canvas",Bh({style:S,height:r,width:r,ref:m},h)),w)}function u4(e){const t=e,{value:n,size:r=t4,level:i=n4,bgColor:s=r4,fgColor:o=i4,includeMargin:l=s4,imageSettings:u}=t,c=kw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let h=Du.QrCode.encodeText(n,e4[i]).getModules();const f=l?Tw:0,m=h.length+f*2,v=l4(h,r,l,u);let A=null;u!=null&&v!=null&&(v.excavation!=null&&(h=a4(h,v.excavation)),A=Je.createElement("image",{xlinkHref:u.src,height:v.h,width:v.w,x:v.x+f,y:v.y+f,preserveAspectRatio:"none"}));const b=o4(h,f);return Je.createElement("svg",Bh({height:r,width:r,viewBox:`0 0 ${m} ${m}`},c),Je.createElement("path",{fill:s,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),Je.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),A)}var Xie=e=>{const t=e,{renderAs:n}=t,r=kw(t,["renderAs"]);return n==="svg"?Je.createElement(u4,Bh({},r)):Je.createElement(c4,Bh({},r))};const Zie=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:c4,QRCodeSVG:u4,default:Xie},Symbol.toStringTag,{value:"Module"}));var H1={exports:{}},G1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function ese(){if(xP)return G1;xP=1;var e=Pc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var v=m(),A=r({inst:{value:v,getSnapshot:m}}),b=A[0].inst,S=A[1];return s(function(){b.value=v,b.getSnapshot=m,u(b)&&S({inst:b})},[f,v,m]),i(function(){return u(b)&&S({inst:b}),f(function(){u(b)&&S({inst:b})})},[f]),o(v),v}function u(f){var m=f.getSnapshot;f=f.value;try{var v=m();return!n(f,v)}catch{return!0}}function c(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return G1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,G1}var wP;function tse(){return wP||(wP=1,H1.exports=ese()),H1.exports}var nse=tse();const{useEffect:rse,useLayoutEffect:ise,useRef:sse,useInsertionEffect:ose}=v0,ase=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lse=ase?ise:rse,d4=ose||lse,f4=e=>{const t=sse([e,(...n)=>t[0](...n)]).current;return d4(()=>{t[0]=e}),t[1]},cse=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",use=(e,t="")=>e[0]==="~"?e.slice(1):t+e,dse="popstate",Iw="pushState",Rw="replaceState",fse="hashchange",EP=[dse,Iw,Rw,fse],hse=e=>{for(const t of EP)addEventListener(t,e);return()=>{for(const t of EP)removeEventListener(t,e)}},pse=(e,t)=>nse.useSyncExternalStore(hse,e,t),CP=()=>location.pathname,gse=({ssrPath:e}={})=>pse(CP,e?()=>e:CP),mse=(e,{replace:t=!1}={})=>history[t?Rw:Iw](null,"",e),vse=(e={})=>[cse(e.base,gse(e)),f4((t,n)=>mse(use(t,e.base),n))];if(typeof history<"u")for(const e of[Iw,Rw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function yse(e=bse){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),l=s.exec(i);return l?[!0,o.reduce((c,h,f)=>(c[h.name]=l[f+1],c),{})]:[!1,null]}}const kP=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Ase=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},bse=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,l,u]=n,c=u==="+"||u==="*",h=u==="?"||u==="*",f=h&&e[n.index-1]==="/"?1:0,m=e.substring(r,n.index-f);i.push({name:l}),r=t.lastIndex,s+=kP(m)+Ase(c,h,f)}return s+=kP(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},AS={hook:vse,matcher:yse(),base:""},h4=x.createContext(AS),ey=()=>x.useContext(h4),ty=e=>e.hook(e),_se=()=>ty(ey()),p4=e=>{const t=ey(),[n]=ty(t);return t.matcher(e,n)},Sse=x.createContext({params:{}}),xse=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(u,c=i||AS)=>(u.hook=e||c.hook,u.matcher=t||c.matcher,u.ssrPath=n||c.ssrPath,u.ownBase=r,u.parent=i,u),[l]=x.useState(()=>o({get base(){return(l.parent||AS).base+l.ownBase}}));return d4(()=>{o(l)}),x.createElement(h4.Provider,{value:l,children:s})},TP=(e,t)=>x.createElement(Sse.Provider,{value:{params:e},children:t}),ni=({path:e,match:t,component:n,children:r})=>{const i=p4(e),[s,o]=t||i;return s?n?TP(o,x.createElement(n,{params:o})):TP(o,typeof r=="function"?r(o):r):null},Pw=x.forwardRef((e,t)=>{const n=ey(),[,r]=ty(n),{to:i,href:s=i,children:o,onClick:l}=e,u=f4(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(l&&l(f),f.defaultPrevented||(f.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:u,to:null,ref:t},h=x.isValidElement(o)?o:x.createElement("a",e);return x.cloneElement(h,c)}),bS=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===x.Fragment?bS(t.props.children):bS(t))):[e],wse=({children:e,location:t})=>{const n=ey(),r=n.matcher,[i]=ty(n);for(const s of bS(e)){let o=0;if(x.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return x.cloneElement(s,{match:o})}return null},{QRCodeSVG:Ese}=Zie;function q1({gameCode:e,...t}){return p.jsx(Rse,{...t,children:e.split("").map((n,r)=>p.jsx("span",{children:n},r))})}function Mw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=p4("remote-mic"),n=$v("room")??cc.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return x.useEffect(()=>{t||cc.start()},[t]),p.jsxs(Mse,{children:[p.jsx(Ose,{children:p.jsxs("h1",{children:["Code: ",p.jsx(q1,{gameCode:n})]})}),p.jsx(jse,{children:p.jsx(Ese,{value:r,width:"100%",height:"100%",includeMargin:!0})}),p.jsxs(Vse,{children:[p.jsxs(Cse,{children:[p.jsxs("h3",{children:["Game code: ",p.jsx(q1,{gameCode:n,"data-test":"game-code"})]}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Go to"," ",p.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),p.jsxs("li",{children:["Click on ",p.jsx("b",{children:"Join game"})]}),p.jsxs("li",{children:["Enter the code ",p.jsx(q1,{gameCode:n})]}),p.jsx("li",{children:"Follow the instructions"})]})]}),p.jsxs(kse,{children:[p.jsx("h4",{children:"Or copy and send the link"}),p.jsxs(Tse,{children:[p.jsx(Pse,{disabled:!0,value:r,"data-test":"server-link-input"}),p.jsx(Ise,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Cse=W("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),kse=W("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Tse=W("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),Ise=W("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",Ve.colors.text.active,";",xt,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),Rse=W("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",gd,";"),Pse=W("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Mse=W("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),jse=W("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Ose=W("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),Vse=W("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",xt,";color:",Ve.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Lse({closeModal:e}){const{register:t}=kr({onBackspace:e});return p.jsx($c,{onClose:e,children:p.jsxs(vl,{children:[p.jsx(Mw,{}),p.jsx(ao,{...t("quick-connect-close",e),children:"Close"})]})})}function Nse(){const[e,t]=x.useState(!1);Tt(Jr);const[n,r]=Tt(a3),{hasContent:i}=x.useContext(ew),s=()=>t(!1);return p.jsxs(p.Fragment,{children:[e&&p.jsx(Lse,{closeModal:s}),p.jsxs(Bse,{children:[i&&p.jsx(Ad,{title:"Toggle help",place:"bottom-end",children:p.jsx(Dse,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?p.jsx(rre,{}):p.jsx(ire,{})})}),p.jsx(Oie,{}),p.jsx(Ad,{title:"Connect phone",place:"bottom-end",children:p.jsx(Qv,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:p.jsx(H0,{})})})]})]})}const Bse=W("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Dse=W(Qv,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function yl({children:e,toolbar:t=!0}){return p.jsxs(hee,{children:[t&&p.jsx(Nse,{}),e]})}const Fse=zt(p.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),$se=zt(p.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),jw=({christmas:e,...t})=>p.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...t,children:p.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),_S=$n(jw)(e=>[e.christmas?"fill-text-player-0-christmas":"fill-text-player-0"]),g4=$n(jw)(e=>[e.christmas?"fill-text-player-1-christmas":"fill-text-player-1"]);function zse({active:e,setActiveTab:t}){return p.jsxs(Use,{children:[p.jsxs(W1,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[p.jsx(K1,{children:p.jsx(jw,{})}),p.jsx(Y1,{children:"Microphone"})]}),p.jsxs(W1,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[p.jsx(K1,{children:p.jsx(Fse,{})}),p.jsx(Y1,{children:"Song list"})]}),p.jsxs(W1,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[p.jsx(K1,{children:p.jsx($se,{})}),p.jsx(Y1,{children:"Settings"})]})]})}const Use=W("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),W1=W("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?Ve.colors.text.active:"#cecece",";"),K1=W("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),Y1=W("div",{target:"e1c2ys9k0"})(""),Bd=zt(p.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Ow=()=>{const[e,t]=x.useState(il.getStatus());return x.useEffect(()=>il.addListener(t),[]),e};function m4(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Hse="/assets/allow-mic-DleF1-pf.png",Gse="/assets/enable-mic-opera-B5FfRj_P.png",qse="/assets/enable-mic-TGG47ucR.png",Wse=()=>m4()?Gse:qse,cp=({children:e,fallback:t,showImages:n=!0})=>{const r=Ow();return p.jsxs(p.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&p.jsxs(p.Fragment,{children:[p.jsx(Yse,{children:p.jsx(Qse,{})}),t,p.jsxs(Kse,{children:[r==="requested"&&n&&p.jsx("img",{src:Hse,alt:"how-to-allow"}),r==="declined"&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&p.jsx("img",{src:Wse(),alt:"how-to-enable"})]}),m4()&&p.jsxs("h4",{children:[p.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Kse=W("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Yse=W("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Qse=W(Bd,{target:"e1w9vi9z0"})("color:",Ve.colors.text.active,";font-size:3rem;");function Jse(){return!1}const Wm=zt(p.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function up(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Xse(e,t,n=1){return up(e,e.indexOf(t),n)}function dc(e,t,n=1){return e[Xse(e,t,n)]}const Es=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:o,...l})=>p.jsxs(Zse,{children:[p.jsxs(eoe,{"data-focused":e,onClick:i,"data-disabled":t,...l,children:[p.jsx("span",{children:n?p.jsxs(p.Fragment,{children:[n,":"]}):""})," ",p.jsx(toe,{children:r}),o??null]}),s&&p.jsx(v4,{children:s})]}),Zse=W("div",{target:"e84wjn53"})(""),v4=W("div",{target:"e84wjn52"})(xt,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),eoe=W("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",xt,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),toe=W("span",{target:"e84wjn50"})("color:",Ve.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),zc=x.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:l,...u},c)=>{const h=x.useRef(null);return x.useImperativeHandle(c,()=>h.current),mi(rS,()=>{var f;return(f=h.current)==null?void 0:f.focus()},{enabled:e}),p.jsxs("div",{children:[p.jsxs(roe,{"data-focused":e,className:s,children:[p.jsx(ioe,{children:t}),p.jsx(soe,{value:n,onChange:f=>r(f.target.value),...u,disabled:i,ref:h}),o&&p.jsx(noe,{children:o})]}),l&&p.jsx(v4,{children:l})]})}),noe=W("span",{target:"et2ce2n3"})(""),roe=W("div",{target:"et2ce2n2"})("background:black;caret:underscore;",xt,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),ioe=W("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),soe=W("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",xt,";color:",Ve.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function ooe(e){return li("MuiCircularProgress",e)}ci("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ua=44,SS=Dc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,xS=Dc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,aoe=typeof SS!="string"?jo`
        animation: ${SS} 1.4s linear infinite;
      `:null,loe=typeof xS!="string"?jo`
        animation: ${xS} 1.4s ease-in-out infinite;
      `:null,coe=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Bt(r)}`],svg:["svg"],circle:["circle",`circle${Bt(n)}`,i&&"circleDisableShrink"]};return Si(s,ooe,t)},uoe=Mn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Bt(n.color)}`]]}})(Os(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:aoe||{animation:`${SS} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Lh()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),doe=Mn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),foe=Mn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Bt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Os(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:loe||{animation:`${xS} 1.4s ease-in-out infinite`}}]}))),hoe=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:l=40,style:u,thickness:c=3.6,value:h=0,variant:f="indeterminate",...m}=r,v={...r,color:s,disableShrink:o,size:l,thickness:c,value:h,variant:f},A=coe(v),b={},S={},w={};if(f==="determinate"){const I=2*Math.PI*((Ua-c)/2);b.strokeDasharray=I.toFixed(3),w["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*I).toFixed(3)}px`,S.transform="rotate(-90deg)"}return p.jsx(uoe,{className:rn(A.root,i),style:{width:l,height:l,...S,...u},ownerState:v,ref:n,role:"progressbar",...w,...m,children:p.jsx(doe,{className:A.svg,ownerState:v,viewBox:`${Ua/2} ${Ua/2} ${Ua} ${Ua}`,children:p.jsx(foe,{className:A.circle,style:b,ownerState:v,cx:Ua,cy:Ua,r:(Ua-c)/2,fill:"none",strokeWidth:c})})})});function dp(e){return p.jsx(hoe,{...e})}let em=null;function Dh(e){if(!document.startViewTransition)e();else try{em&&!em.finished&&em.skipTransition(),em=document.startViewTransition(async()=>{await e()})}catch(t){console.error(t)}}const J0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function zi(){const[,e]=_se();return(t,n,{smooth:r=!0,...i}={})=>{r?Dh(()=>e(J0(t,n),i)):e(J0(t,n),i)}}const y4=zt(p.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),A4=zt(p.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),IP="confirmed-wifi";function poe({onClose:e}){const[t,n]=Je.useState(ot.session.getItem(IP)??!1),r=()=>{ot.session.setItem(IP,!0),n(!0),e==null||e()};return x.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const l=()=>{var u;((u=navigator==null?void 0:navigator.connection)==null?void 0:u.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",l),()=>{var u,c;return(c=(u=navigator==null?void 0:navigator.connection)==null?void 0:u.removeEventListener)==null?void 0:c.call(u,"change",l)}}},[]),t?null:p.jsx($c,{onClose:r,children:p.jsxs(goe,{children:[p.jsxs(moe,{children:[p.jsxs("h3",{children:["Connect to the ",p.jsx("strong",{children:"same Wi-Fi"})]}),p.jsxs(voe,{children:[p.jsx(A4,{}),"...",p.jsx(Wm,{}),"...",p.jsx(y4,{})]}),p.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),p.jsx("h6",{children:"Otherwise microphones might not work properly."}),p.jsx(ut,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const goe=W(vl,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),moe=W("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),voe=W("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",Ve.colors.text.default,";transform:scale(1);}25%{color:",Ve.colors.text.active,";transform:scale(1.1);}50%{color:",Ve.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function yoe(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=x.useRef(),s=r.capture,o=r.passive,l=r.once;x.useEffect(function(){i.current=t},[t]),x.useEffect(function(){if(n&&n.addEventListener){var u=function(h){return i.current(h)},c={capture:s,passive:o,once:l};return n.addEventListener(e,u,c),function(){n.removeEventListener(e,u,c)}}},[e,n,s,o,l])}var Ul={},Aoe=function(e,t,n){return Ul[e]||(Ul[e]={callbacks:[],value:n}),Ul[e].callbacks.push(t),{deregister:function(){var r=Ul[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ul[e].value!==r&&(Ul[e].value=r,Ul[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Al(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var l=o.get,u=o.set,c=x.useRef(null),h=x.useState(function(){return l(s,i)}),f=h[0],m=h[1];yoe("storage",function(A){if(A.key===s){var b=JSON.parse(A.newValue);f!==b&&m(b)}}),x.useEffect(function(){return c.current=Aoe(s,m,i),function(){c.current.deregister()}},[i,s]);var v=x.useCallback(function(A){var b=typeof A=="function"?A(f):A;u(s,b),m(b),c.current.emit(A)},[f,u,s]);return[f,v]}(r,e,n)}}return x.useState}const boe=Al("remote_mic_name");function _oe({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=boe(""),[l,u]=x.useState(!1),c=x.useRef(null),h=x.useRef(null),[f,m]=x.useState(t??""),v=zi(),A=n!=="uninitialised"&&n!=="error";x.useEffect(()=>{n==="connected"&&!t&&v("remote-mic/",{room:f})},[n,t,f]);const b=(T=!1)=>{Wn.connect(f,s,T),r(T)},S=T=>{var E,P;T.preventDefault(),u(!1),!t&&f.length!==ch?(E=c.current)==null||E.focus():s===""?(P=h.current??c.current)==null||P.focus():b()};x.useEffect(()=>{var T;ar.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(T=c.current)==null||T.focus()},[]),x.useEffect(()=>{ot.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>ot.session.removeItem("reload-mic-request"),1),b(!0))},[]);const[w,I]=x.useState(!1);x.useEffect(()=>{if(I(!1),n==="connecting"||n==="reconnecting"){const T=setTimeout(()=>I(!0),2e3);return()=>clearTimeout(T)}},[n]);const R=n==="error"&&!l;return e?p.jsxs(p.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&p.jsx(poe,{onClose:()=>{var T;(T=c.current)==null||T.focus()}}),p.jsxs(Soe,{onSubmit:S,children:[!A&&p.jsx(woe,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:m,value:f,maxLength:ch,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&u(!0)},onPaste:T=>{T.preventDefault();let E=(T.clipboardData||global.clipboardData).getData("text");E=E.replace(/\s/g,""),m(E.slice(0,ch))}}),p.jsx(zc,{maxLength:Ax,focused:!1,label:"Your name",placeholder:"Enter your name…",value:s,onChange:o,ref:t?c:h,disabled:A,autoFocus:!0,"data-test":"player-name-input"}),p.jsxs(xoe,{type:"submit",disabled:A,"data-test":"connect-button",children:[n==="connecting"&&p.jsx(dp,{size:"1em"}),n==="uninitialised"||l?"Connect":n.toUpperCase()]})]}),(w||R)&&p.jsxs(p.Fragment,{children:[w&&p.jsx("h3",{children:"If it doesn't connect"}),R&&p.jsxs(p.Fragment,{children:[p.jsxs("h3",{children:[p.jsx("strong",{children:p.jsx(Bd,{})})," ","Could not connect:"]}),p.jsxs("h6",{children:["Error code: ",p.jsx("strong",{children:i})]}),p.jsx("br",{}),i==="peer-unavailable"?p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:t===void 0?"Game with this code not found 🤔":"The game seems to be offline 🤔"}),t===void 0&&p.jsxs("h5",{children:["1. Is the code ",p.jsx("strong",{children:f.toUpperCase()})," correct?"]}),p.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",p.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&p.jsxs("h5",{children:["2. Scan the"," ",p.jsxs("strong",{children:[p.jsx(H0,{})," QR Code"]})," ","again"]}),p.jsxs("h5",{children:["3. Make sure you are in the same"," ",p.jsxs("strong",{children:[p.jsx(Wm,{})," Wi-Fi"]})]})]}):i==="network"?p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:"No internet access 💀"}),p.jsxs("h5",{children:["Make sure you are in the same"," ",p.jsxs("strong",{children:[p.jsx(Wm,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("h5",{children:["1. Make sure you are in the same"," ",p.jsxs("strong",{children:[p.jsx(Wm,{})," Wi-Fi"]})]}),p.jsxs("h5",{children:["2. Refresh (",p.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),p.jsxs("h5",{children:["3. Scan the"," ",p.jsxs("strong",{children:[p.jsx(H0,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const Soe=W("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),xoe=W(ut,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),woe=W(zc,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),Eoe=zt(p.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Coe=zt(p.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),koe=zt(p.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),Toe=zt(p.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Ioe=zt(p.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),Roe=zt(p.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Poe=zt(p.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),Moe=zt(p.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),Vw=zt(p.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function Lw(e,t){const[n,r]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function joe({onSearchStateChange:e}){const[t,n]=x.useState(""),r=x.useRef(null),i=Lw(t,100),s=BX(i);return x.useEffect(()=>{s!==i&&Wn.searchSong(i.trim())},[s,i]),NX(()=>e==null?void 0:e(!1)),p.jsx(Ooe,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:Ax,focused:!1,label:p.jsx(Vw,{}),placeholder:"Search for a song…",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Ooe=W(zc,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function Voe({onSearchStateChange:e}){var s;const[t]=ro(ve.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{Wn.sendKeyStroke(o)};return t!==void 0?p.jsxs(Loe,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&p.jsx(joe,{onSearchStateChange:e}),(n||r)&&p.jsxs(J1,{children:[p.jsx(Q1,{children:p.jsx(Ru,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:p.jsx(Poe,{})})}),p.jsxs(Q1,{children:[p.jsx(Ru,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:p.jsx(Ioe,{})}),p.jsx(Ru,{disabled:!0,"data-disabled":!0,children:p.jsx(koe,{})}),p.jsx(Ru,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:p.jsx(Roe,{})})]}),p.jsx(Q1,{children:p.jsx(Ru,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:p.jsx(Toe,{})})})]}),p.jsxs(J1,{children:[p.jsx(X1,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||p.jsxs(p.Fragment,{children:[p.jsx(Eoe,{})," Back"]})}),p.jsx(X1,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||p.jsxs(p.Fragment,{children:["Enter ",p.jsx(Coe,{})]})})]}),p.jsx(Noe,{}),p.jsx(J1,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:p.jsxs(X1,{onClick:i("random"),children:[p.jsx(Moe,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Loe=W("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),Q1=W("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),J1=W("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Noe=W("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Boe=W("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),Ru=W(Boe,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),X1=W(Ru,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),Nw=zt(p.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),tm={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","Blue","Gold"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function b4({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=ro(ve.remoteStyleChanged,!0)??["regular"],s=l=>{Wn.requestPlayerChange(t,l),n()},o=e!==null;return p.jsx($c,{onClose:n,children:p.jsxs(Doe,{children:[r&&p.jsx("h2",{children:r}),p.jsx(ut,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:Ve.colors.players[0].perfect.fill},children:tm[i][0]}),p.jsx(ut,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:Ve.colors.players[1].perfect.fill},children:tm[i][1]}),p.jsx(ut,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:Ve.colors.players[2].perfect.fill},children:tm[i][2]}),p.jsx(ut,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:Ve.colors.players[3].perfect.fill},children:tm[i][3]}),p.jsx(ut,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),p.jsx("hr",{}),p.jsx(ut,{size:"small",onClick:()=>Wn.removePlayer(t),"data-test":"remove-player",children:"Remove"}),p.jsx(ut,{onClick:n,size:"small",children:"Close"})]})})}const Doe=W(vl,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function _4({number:e,...t}){const[n]=ro(ve.remoteStyleChanged,!0)??["regular"],r=HV();return x.useEffect(()=>{r()},[n]),p.jsx(Foe,{style:{background:e!==null?Ve.colors.players[e].perfect.fill:Ve.colors.text.inactive},...t})}const Foe=W("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),$oe=x.memo(function({playerNumber:t}){const[n,r]=x.useState(!1),i=()=>r(!1),s=t!==null;return p.jsxs(p.Fragment,{children:[p.jsxs(zoe,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?p.jsxs(p.Fragment,{children:[p.jsx(_4,{number:t})," Change"]}):"Join game"," ",p.jsx(Nw,{})]}),n&&p.jsx(b4,{id:Wn.getClientId(),playerNumber:t,onModalClose:i})]})}),zoe=W("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",xt,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",gd,";}:hover{",gd,";}:active{",Zv,";}svg{width:2rem;height:2rem;}");function ny(){const[e]=ro(ve.remoteMicPermissionsSet,!0)??["write"];return e}function Uoe({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=x.useState(1e-6),l=ny();x.useEffect(()=>{o(h=>t>h?t:h*.99)},[t]);const u=e!==null?Ve.colors.players[e].miss.stroke:Ve.colors.lines.normal.fill,c=e!==null?Ve.colors.players[e].perfect.fill:Ve.colors.lines.normal.fill;return p.jsxs(qoe,{isMicOn:r,color:u,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&p.jsx(p.Fragment,{children:p.jsxs(Hoe,{children:[n?`${Math.round(n)}Hz`:" ",p.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&l==="write"&&p.jsx($oe,{playerNumber:e}),p.jsx(Goe,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Hoe=W("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Goe=W("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),qoe=W("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function RP({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=x.useState(0),[s,o]=x.useState(0),[l]=ro(ve.remoteMicPlayerSet,!0)??[null],u=x.useCallback(Ku((c,h)=>{o(c),i(h)},150),[i,o]);return x.useEffect(()=>(Ws.startMonitoring(void 0),Ws.addListener(u)),[u]),e?p.jsx(p.Fragment,{children:p.jsx(Uoe,{volume:r,frequency:s,playerNumber:l,isMicOn:t,isConnected:n})}):null}function Woe(){const[e,t]=x.useState(0);return x.useEffect(()=>{const n=setInterval(()=>{const r=bi();Wn.pinging&&r-Wn.pingStart>e?t(r-Wn.pingStart):t(Wn.latency)},333);return()=>{clearInterval(n)}},[]),p.jsxs(p.Fragment,{children:[e,"ms"]})}function Koe({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const l=ny(),[u,c]=x.useState(!1),[h]=Tt(tx),f=async()=>{var A,b;i(!0);try{!Jse()&&h&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((b=(A=global.screen.orientation).lock)==null?void 0:b.call(A,"portrait")))}catch(S){console.warn(S)}},m=o==="connected",v=p.jsx(RP,{isVisible:!0,isMicOn:t,isConnected:m});return p.jsx(Yoe,{children:p.jsxs(cp,{showImages:!1,fallback:p.jsxs(p.Fragment,{children:[v,p.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[p.jsxs(PP,{collapse:u,children:[p.jsx(RP,{isVisible:!0,isMicOn:t,isConnected:m}),p.jsx(_oe,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:f,connectionError:s})]}),p.jsxs(PP,{children:[l==="write"&&p.jsx(Voe,{onSearchStateChange:c}),l==="read"&&p.jsxs(Qoe,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",p.jsx("strong",{children:"Settings"})," menu ➔"," ",p.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),p.jsxs(MP,{onClick:()=>i(!r),children:["WakeLock: ",p.jsx("strong",{children:r?"ON":"OFF"})]}),p.jsxs(S4,{onClick:()=>t?Ws.stopMonitoring():Ws.startMonitoring(void 0),children:["Microphone: ",p.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),m&&p.jsxs(MP,{children:["Ping: ",p.jsx(Woe,{})]})]})]})})}const Yoe=W("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),PP=W("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),S4=W("div",{target:"eakh27i2"})(xt," strong{color:",Ve.colors.text.active,";}align-self:flex-end;"),MP=W(S4,{target:"eakh27i1"})(""),Qoe=W("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Joe({onConfirm:e}){const[t,n]=x.useState(!1),[r,i]=x.useState(!1);x.useEffect(()=>{ot.session.getItem("reload-mic-request")!==null&&i(!0)},[]),oi(ve.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),oi(ve.remoteReadinessRequested,()=>{n(!0)});const s=()=>{Wn.confirmReadiness(),n(!1),e()};return t?p.jsx(Xoe,{children:p.jsx(vl,{children:p.jsx(Zoe,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Xoe=W("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Zoe=W(ut,{target:"eusdifu0"})("aspect-ratio:1;",gd,";");function x4({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return p.jsxs(tae,{...s,children:[p.jsx(jP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),p.jsxs(eae,{children:[p.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),p.jsx(jP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const jP=W("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",xt,";:disabled{opacity:0.5;}"),eae=W("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),tae=W("div",{target:"e1tear4c0"})(xt,";display:flex;align-items:center;justify-self:center;background:black;");function nae(){const[e,t]=x.useState(0),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),Wn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),Wn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Adjust game input lag"}),p.jsx(x4,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),p.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function rae(){x.useEffect(()=>(Wn.subscribe("remote-mics"),()=>{Wn.unsubscribe("remote-mics")}),[]);const[e]=ro(ve.remoteMicListUpdated)??[[]];return p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Manage Players"}),e.map(t=>p.jsx(iae,{mic:t},t.id)),e.length===0&&p.jsx("h4",{children:"No remote microphones connected"})]})}const iae=({mic:e})=>{var r;const[t,n]=x.useState(!1);return Mt.getPermission(e.id),p.jsxs(sae,{"data-test":"manage-players",children:[t&&p.jsx(b4,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:p.jsxs(p.Fragment,{children:["Change ",p.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),p.jsxs(oae,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[p.jsx(_4,{number:e.number}),p.jsx(lae,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),p.jsx(aae,{className:"ph-no-capture",isSelf:e.id===Wn.getClientId(),children:e.name})]})]})},sae=W("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),oae=W(ut,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),aae=W("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${Ve.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),lae=W("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function OP(){const[e,t]=Tt(l3),[n,r]=x.useState(!1);x.useEffect(()=>{r(!0),Wn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),Wn.setMicrophoneInputLag(o).then(({value:l})=>t(l)).catch(l=>console.warn(l)).finally(()=>r(!1))},s=()=>{var o;Wn.disconnect(),ot.local.removeItem("remote_mic_name"),ot.local.removeItem(K_),(o=global.location)==null||o.reload()};return p.jsxs(p.Fragment,{children:[p.jsx(ut,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),p.jsxs("h6",{"data-test":"reset-mic-info",children:[p.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),p.jsx("hr",{}),p.jsx("h3",{children:"Adjust microphone lag"}),p.jsx(x4,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),p.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function cae(){var r;const e=ny(),[t,n]=x.useState(e==="write"?null:"microphone");return p.jsxs(uae,{children:[p.jsxs("h3",{children:["Remote mic ID:"," ",p.jsx("strong",{"data-test":"remote-mic-id",children:((r=Wn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),p.jsx("hr",{}),e==="write"&&t===null&&p.jsxs(p.Fragment,{children:[p.jsx(ut,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),p.jsx(ut,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&p.jsx(OP,{}),t!==null&&e==="write"&&p.jsx($c,{onClose:()=>n(null),children:p.jsxs(vl,{children:[p.jsx(dae,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&p.jsx(OP,{}),t==="manage"&&p.jsxs(p.Fragment,{children:[p.jsx(rae,{}),p.jsx(nae,{})]}),p.jsx("hr",{}),p.jsx(ut,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const uae=W("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),dae=W("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var fae="__lodash_hash_undefined__";function hae(e){return this.__data__.set(e,fae),this}function pae(e){return this.__data__.has(e)}function Fh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new va;++t<n;)this.add(e[t])}Fh.prototype.add=Fh.prototype.push=hae;Fh.prototype.has=pae;function gae(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w4(e,t){return e.has(t)}var mae=1,vae=2;function E4(e,t,n,r,i,s){var o=n&mae,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var f=-1,m=!0,v=n&vae?new Fh:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var A=e[f],b=t[f];if(r)var S=o?r(b,A,f,t,e,s):r(A,b,f,e,t,s);if(S!==void 0){if(S)continue;m=!1;break}if(v){if(!gae(t,function(w,I){if(!w4(v,I)&&(A===w||i(A,w,n,r,s)))return v.push(I)})){m=!1;break}}else if(!(A===b||i(A,b,n,r,s))){m=!1;break}}return s.delete(e),s.delete(t),m}function yae(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Bw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Aae=1,bae=2,_ae="[object Boolean]",Sae="[object Date]",xae="[object Error]",wae="[object Map]",Eae="[object Number]",Cae="[object RegExp]",kae="[object Set]",Tae="[object String]",Iae="[object Symbol]",Rae="[object ArrayBuffer]",Pae="[object DataView]",VP=Ms?Ms.prototype:void 0,Z1=VP?VP.valueOf:void 0;function Mae(e,t,n,r,i,s,o){switch(n){case Pae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rae:return!(e.byteLength!=t.byteLength||!s(new N0(e),new N0(t)));case _ae:case Sae:case Eae:return xv(+e,+t);case xae:return e.name==t.name&&e.message==t.message;case Cae:case Tae:return e==t+"";case wae:var l=yae;case kae:var u=r&Aae;if(l||(l=Bw),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;r|=bae,o.set(e,t);var h=E4(l(e),l(t),r,i,s,o);return o.delete(e),h;case Iae:if(Z1)return Z1.call(e)==Z1.call(t)}return!1}var jae=1,Oae=Object.prototype,Vae=Oae.hasOwnProperty;function Lae(e,t,n,r,i,s){var o=n&jae,l=J_(e),u=l.length,c=J_(t),h=c.length;if(u!=h&&!o)return!1;for(var f=u;f--;){var m=l[f];if(!(o?m in t:Vae.call(t,m)))return!1}var v=s.get(e),A=s.get(t);if(v&&A)return v==t&&A==e;var b=!0;s.set(e,t),s.set(t,e);for(var S=o;++f<u;){m=l[f];var w=e[m],I=t[m];if(r)var R=o?r(I,w,m,t,e,s):r(w,I,m,e,t,s);if(!(R===void 0?w===I||i(w,I,n,r,s):R)){b=!1;break}S||(S=m=="constructor")}if(b&&!S){var T=e.constructor,E=t.constructor;T!=E&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof E=="function"&&E instanceof E)&&(b=!1)}return s.delete(e),s.delete(t),b}var Nae=1,LP="[object Arguments]",NP="[object Array]",nm="[object Object]",Bae=Object.prototype,BP=Bae.hasOwnProperty;function Dae(e,t,n,r,i,s){var o=js(e),l=js(t),u=o?NP:Ks(e),c=l?NP:Ks(t);u=u==LP?nm:u,c=c==LP?nm:c;var h=u==nm,f=c==nm,m=u==c;if(m&&L0(e)){if(!L0(t))return!1;o=!0,h=!1}if(m&&!h)return s||(s=new To),o||IV(e)?E4(e,t,n,r,i,s):Mae(e,t,u,n,r,i,s);if(!(n&Nae)){var v=h&&BP.call(e,"__wrapped__"),A=f&&BP.call(t,"__wrapped__");if(v||A){var b=v?e.value():e,S=A?t.value():t;return s||(s=new To),i(b,S,n,r,s)}}return m?(s||(s=new To),Lae(e,t,n,r,i,s)):!1}function Dw(e,t,n,r,i){return e===t?!0:e==null||t==null||!ha(e)&&!ha(t)?e!==e&&t!==t:Dae(e,t,n,r,Dw,i)}var Fae=1,$ae=2;function zae(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var l=o[0],u=e[l],c=o[1];if(o[2]){if(u===void 0&&!(l in e))return!1}else{var h=new To,f;if(!(f===void 0?Dw(c,u,Fae|$ae,r,h):f))return!1}}return!0}function C4(e){return e===e&&!no(e)}function Uae(e){for(var t=ep(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,C4(i)]}return t}function k4(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Hae(e){var t=Uae(e);return t.length==1&&t[0][2]?k4(t[0][0],t[0][1]):function(n){return n===e||zae(n,e,t)}}function Gae(e,t,n){var r=e==null?void 0:Yx(e,t);return r===void 0?n:r}function qae(e,t){return e!=null&&t in Object(e)}function Wae(e,t,n){t=Dv(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=tp(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&kx(i)&&Ix(o,i)&&(js(e)||Dx(e)))}function Kae(e,t){return e!=null&&Wae(e,t,qae)}var Yae=1,Qae=2;function Jae(e,t){return Wx(e)&&C4(t)?k4(tp(e),t):function(n){var r=Gae(n,e);return r===void 0&&r===t?Kae(n,e):Dw(t,r,Yae|Qae)}}function Xae(e){return function(t){return t==null?void 0:t[e]}}function Zae(e){return function(t){return Yx(t,e)}}function ele(e){return Wx(e)?Xae(tp(e)):Zae(e)}function tle(e){return typeof e=="function"?e:e==null?UV:typeof e=="object"?js(e)?Jae(e[0],e[1]):Hae(e):ele(e)}function nle(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function rle(e){return e!==e}function ile(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function sle(e,t,n){return t===t?ile(e,t,n):nle(e,rle,n)}function ole(e,t){var n=e==null?0:e.length;return!!n&&sle(e,t,0)>-1}function ale(){}var lle=1/0,cle=Qu&&1/Bw(new Qu([,-0]))[1]==lle?function(e){return new Qu(e)}:ale,ule=200;function T4(e,t,n){var r=-1,i=ole,s=e.length,o=!0,l=[],u=l;if(s>=ule){var c=t?null:cle(e);if(c)return Bw(c);o=!1,i=w4,u=new Fh}else u=t?[]:l;e:for(;++r<s;){var h=e[r],f=t?t(h):h;if(h=h!==0?h:0,o&&f===f){for(var m=u.length;m--;)if(u[m]===f)continue e;t&&u.push(f),l.push(h)}else i(u,f,n)||(u!==l&&u.push(f),l.push(h))}return l}function dle(e,t){return e&&e.length?T4(e,tle(t)):[]}const Fw=W("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",Ve.colors.text.active,";font-size:1.75rem;",xt,";color:",Ve.colors.text.default,";padding:0.25rem 0.75rem;border-radius:1.5rem;box-shadow:0 0 2px 1px rgba(0, 0, 0, 0.5);"),fle="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function hle(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){const s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const ple=hle();function I4(e){return ple[e]}const gle=Object.assign({"./Flag/flags/cat.svg":fle}),fc=e=>{var s;const[t,n]=x.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():I4(Array.isArray(e.language)?e.language[0]:e.language);if(x.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=gle[`./Flag/flags/${r}.svg`];return p.jsx(mle,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},mle=W("img",{target:"e1k9lqhf0"})("");function Dd(e=!1){const[t,n]=x.useState(is.getCurrentIndex()),r=x.useRef([]),i=()=>is.getIndex(e).then(n);return x.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}function R4(){const{width:e,height:t}=Od();return x.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}const Km=zt(p.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),Ym=zt(p.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function vle(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function yle(e){return parseFloat(e)}function DP({theme:e,...t}){const n=ca in e?e[ca]:void 0;return p.jsx(wL,{...t,themeId:n?ca:void 0,theme:n||e})}const rm={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Ale,useColorScheme:Bye,getInitColorSchemeScript:Dye}=gne({themeId:ca,theme:()=>gw({cssVariables:!0}),colorSchemeStorageKey:rm.colorSchemeStorageKey,modeStorageKey:rm.modeStorageKey,defaultColorScheme:{light:rm.defaultLightColorScheme,dark:rm.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:TL(e.palette,e.typography)};return t.unstable_sx=function(r){return kc({sx:r,theme:this})},t}}),ble=Ale;function _le({theme:e,...t}){return typeof e=="function"?p.jsx(DP,{theme:e,...t}):"colorSchemes"in(ca in e?e[ca]:e)?p.jsx(ble,{theme:e,...t}):p.jsx(DP,{theme:e,...t})}function Sle(e){return li("MuiSkeleton",e)}ci("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const xle=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return Si({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Sle,t)},wS=Dc`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,ES=Dc`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,wle=typeof wS!="string"?jo`
        animation: ${wS} 2s ease-in-out 0.5s infinite;
      `:null,Ele=typeof ES!="string"?jo`
        &::after {
          animation: ${ES} 2s linear 0.5s infinite;
        }
      `:null,Cle=Mn("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(Os(({theme:e})=>{const t=vle(e.shape.borderRadius)||"px",n=yle(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Qs(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:wle||{animation:`${wS} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Ele||{"&::after":{animation:`${ES} 2s linear 0.5s infinite`}}}]}})),kle=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:l,style:u,variant:c="text",width:h,...f}=r,m={...r,animation:i,component:o,variant:c,hasChildren:!!f.children},v=xle(m);return p.jsx(Cle,{as:o,ref:n,className:rn(v.root,s),ownerState:m,...f,style:{width:h,height:l,...u}})}),Tle="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Ile="/assets/logo-1e2sNsQM.mp4",Rle="/assets/logo-CDt7pIML.webm",Ple="/assets/pride-CMcO3nTB.png",Mle="/assets/santas-hat-DkaW4YUe.webp";var P5;(P5=global.location)!=null&&P5.search.includes("pride")&&ot.session.setItem("pride","true");function $w(e){const[t]=Tt(Jr),{theme:n}=x.useContext(np);return t?null:p.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[ot.session.getItem("pride")==="true"&&p.jsx(FP,{asChild:!0,children:p.jsx("img",{className:"absolute",src:Ple,alt:"AllKaraoke Pride logo part 1"})}),p.jsxs(FP,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[p.jsx("source",{src:Rle,type:"video/webm"}),p.jsx("source",{src:Ile,type:"video/mp4"})]}),p.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Tle,alt:"AllKaraoke Pride logo part 2"}),n==="christmas"&&p.jsx("img",{className:"absolute w-[13.7rem] h-[11.1rem] top-[-3rem] right-[-7rem] rotate-[30deg] object-contain",src:Mle,alt:"AllKaraoke Pride logo part 2"})]})}const FP=$n.video`w-[66rem] h-[16.4rem]`;function zw(){return"chrome"in window}function jle(){return p.jsx(p.Fragment,{children:!zw()&&p.jsxs(Cw,{className:"w-full py-12 bg-red-900 text-center",children:[p.jsxs(wc,{className:"text-lg",children:["This game is tested in ",p.jsx("strong",{children:"Google Chrome"})," and ",p.jsx("strong",{children:"MS Edge"}),"."]}),p.jsx(wc,{children:"It's not guaranteed to work on other browsers (like the one you use now)."})]})})}function P4(){return p.jsx(p.Fragment,{children:p.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",className:"github-corner","aria-label":"View source on GitHub",dangerouslySetInnerHTML:{__html:`
      <svg width="80" height="80" viewBox="0 0 250 250"
           style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
           aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" />
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm" />
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body" />
      </svg>
      <style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes
        octocat-wave{0 %,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media
        (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>`}})})}function bl({children:e,supportedBrowsers:t}){return ya(!0),p.jsxs(yl,{children:[p.jsx(P4,{}),p.jsxs("div",{className:"w-screen h-screen flex items-center flex-col gap-8",children:[p.jsx($w,{}),t&&p.jsx(jle,{}),p.jsx(Kr,{children:e})]})]})}var Vf={},X0=function(){return X0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},X0.apply(this,arguments)},Ole=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var l=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=l?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,l,u,c,h=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var f=(o+="").split(".");if(l=f[0],u=f.length>1?i.options.decimal+f[1]:"",i.options.useGrouping){c="";for(var m=3,v=0,A=0,b=l.length;A<b;++A)i.options.useIndianSeparators&&A===4&&(m=2,v=1),A!==0&&v%m==0&&(c=i.options.separator+c),v++,c=l[b-A-1]+c;l=c}return i.options.numerals&&i.options.numerals.length&&(l=l.replace(/[0-9]/g,function(S){return i.options.numerals[+S]}),u=u.replace(/[0-9]/g,function(S){return i.options.numerals[+S]})),h+i.options.prefix+l+u+i.options.suffix},this.easeOutExpo=function(s,o,l,u){return l*(1-Math.pow(2,-10*s/u))*1024/1023+o},this.options=X0(X0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Vle=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Ole},Symbol.toStringTag,{value:"Module"})),Lle=jD(Vle);var $P;function Nle(){if($P)return Vf;$P=1,Object.defineProperty(Vf,"__esModule",{value:!0});var e=Pc(),t=Lle;function n(j,V){var k=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(k!=null){var D,H,B,G,F=[],L=!0,Y=!1;try{if(B=(k=k.call(j)).next,V!==0)for(;!(L=(D=B.call(k)).done)&&(F.push(D.value),F.length!==V);L=!0);}catch(q){Y=!0,H=q}finally{try{if(!L&&k.return!=null&&(G=k.return(),Object(G)!==G))return}finally{if(Y)throw H}}return F}}function r(j,V){var k=Object.keys(j);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(j);V&&(D=D.filter(function(H){return Object.getOwnPropertyDescriptor(j,H).enumerable})),k.push.apply(k,D)}return k}function i(j){for(var V=1;V<arguments.length;V++){var k=arguments[V]!=null?arguments[V]:{};V%2?r(Object(k),!0).forEach(function(D){s(j,D,k[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(k)):r(Object(k)).forEach(function(D){Object.defineProperty(j,D,Object.getOwnPropertyDescriptor(k,D))})}return j}function s(j,V,k){return V=b(V),V in j?Object.defineProperty(j,V,{value:k,enumerable:!0,configurable:!0,writable:!0}):j[V]=k,j}function o(){return o=Object.assign?Object.assign.bind():function(j){for(var V=1;V<arguments.length;V++){var k=arguments[V];for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&(j[D]=k[D])}return j},o.apply(this,arguments)}function l(j,V){if(j==null)return{};var k={},D=Object.keys(j),H,B;for(B=0;B<D.length;B++)H=D[B],!(V.indexOf(H)>=0)&&(k[H]=j[H]);return k}function u(j,V){if(j==null)return{};var k=l(j,V),D,H;if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(j);for(H=0;H<B.length;H++)D=B[H],!(V.indexOf(D)>=0)&&Object.prototype.propertyIsEnumerable.call(j,D)&&(k[D]=j[D])}return k}function c(j,V){return h(j)||n(j,V)||f(j,V)||v()}function h(j){if(Array.isArray(j))return j}function f(j,V){if(j){if(typeof j=="string")return m(j,V);var k=Object.prototype.toString.call(j).slice(8,-1);if(k==="Object"&&j.constructor&&(k=j.constructor.name),k==="Map"||k==="Set")return Array.from(j);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return m(j,V)}}function m(j,V){(V==null||V>j.length)&&(V=j.length);for(var k=0,D=new Array(V);k<V;k++)D[k]=j[k];return D}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(j,V){if(typeof j!="object"||j===null)return j;var k=j[Symbol.toPrimitive];if(k!==void 0){var D=k.call(j,V||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(j)}function b(j){var V=A(j,"string");return typeof V=="symbol"?V:String(V)}var S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function w(j){var V=e.useRef(j);return S(function(){V.current=j}),e.useCallback(function(){for(var k=arguments.length,D=new Array(k),H=0;H<k;H++)D[H]=arguments[H];return V.current.apply(void 0,D)},[])}var I=function(V,k){var D=k.decimal,H=k.decimals,B=k.duration,G=k.easingFn,F=k.end,L=k.formattingFn,Y=k.numerals,q=k.prefix,Q=k.separator,M=k.start,U=k.suffix,X=k.useEasing,de=k.useGrouping,z=k.useIndianSeparators,pe=k.enableScrollSpy,se=k.scrollSpyDelay,me=k.scrollSpyOnce,Ee=k.plugin;return new t.CountUp(V,F,{startVal:M,duration:B,decimal:D,decimalPlaces:H,easingFn:G,formattingFn:L,numerals:Y,separator:Q,prefix:q,suffix:U,plugin:Ee,useEasing:X,useIndianSeparators:z,useGrouping:de,enableScrollSpy:pe,scrollSpyDelay:se,scrollSpyOnce:me})},R=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],T={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},E=function(V){var k=Object.fromEntries(Object.entries(V).filter(function(Ue){var Le=c(Ue,2),Oe=Le[1];return Oe!==void 0})),D=e.useMemo(function(){return i(i({},T),k)},[V]),H=D.ref,B=D.startOnMount,G=D.enableReinitialize,F=D.delay,L=D.onEnd,Y=D.onStart,q=D.onPauseResume,Q=D.onReset,M=D.onUpdate,U=u(D,R),X=e.useRef(),de=e.useRef(),z=e.useRef(!1),pe=w(function(){return I(typeof H=="string"?H:H.current,U)}),se=w(function(Ue){var Le=X.current;if(Le&&!Ue)return Le;var Oe=pe();return X.current=Oe,Oe}),me=w(function(){var Ue=function(){return se(!0).start(function(){L==null||L({pauseResume:Ee,reset:Re,start:je,update:be})})};F&&F>0?de.current=setTimeout(Ue,F*1e3):Ue(),Y==null||Y({pauseResume:Ee,reset:Re,update:be})}),Ee=w(function(){se().pauseResume(),q==null||q({reset:Re,start:je,update:be})}),Re=w(function(){se().el&&(de.current&&clearTimeout(de.current),se().reset(),Q==null||Q({pauseResume:Ee,start:je,update:be}))}),be=w(function(Ue){se().update(Ue),M==null||M({pauseResume:Ee,reset:Re,start:je})}),je=w(function(){Re(),me()}),Xe=w(function(Ue){B&&(Ue&&Re(),me())});return e.useEffect(function(){z.current?G&&Xe(!0):(z.current=!0,Xe())},[G,z,Xe,F,V.start,V.suffix,V.prefix,V.duration,V.separator,V.decimals,V.decimal,V.formattingFn]),e.useEffect(function(){return function(){Re()}},[Re]),{start:je,pauseResume:Ee,reset:Re,update:be,getCountUp:se}},P=["className","redraw","containerProps","children","style"],N=function(V){var k=V.className,D=V.redraw,H=V.containerProps,B=V.children,G=V.style,F=u(V,P),L=e.useRef(null),Y=e.useRef(!1),q=E(i(i({},F),{},{ref:L,startOnMount:typeof B!="function"||V.delay===0,enableReinitialize:!1})),Q=q.start,M=q.reset,U=q.update,X=q.pauseResume,de=q.getCountUp,z=w(function(){Q()}),pe=w(function(Ee){V.preserveValue||M(),U(Ee)}),se=w(function(){if(typeof V.children=="function"&&!(L.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}de()});e.useEffect(function(){se()},[se]),e.useEffect(function(){Y.current&&pe(V.end)},[V.end,pe]);var me=D&&V;return e.useEffect(function(){D&&Y.current&&z()},[z,D,me]),e.useEffect(function(){!D&&Y.current&&z()},[z,D,V.start,V.suffix,V.prefix,V.duration,V.separator,V.decimals,V.decimal,V.className,V.formattingFn]),e.useEffect(function(){Y.current=!0},[]),typeof B=="function"?B({countUpRef:L,start:Q,reset:M,update:U,pauseResume:X,getCountUp:de}):e.createElement("span",o({className:k,ref:L,style:G},H),typeof V.start<"u"?de().formattingFn(V.start):"")};return Vf.default=N,Vf.useCountUp=E,Vf}var Ble=Nle();const Uw=Cr(Ble),Hw=e=>x.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),Dle=_i()?0:20;function M4({onClose:e,closeText:t}){const{register:n}=kr({onBackspace:e}),[r,i]=Tt(fv),{data:s,isLoading:o}=Dd(),l=Hw(s),u=x.useMemo(()=>l.filter(({name:v,count:A})=>I4(v)&&A>=Dle),[l]),c=x.useMemo(()=>l.filter(({name:v})=>!u.find(A=>A.name===v)).reduce((v,{count:A})=>v+A,0),[l,u]),h=u.filter(({name:v})=>!(r!=null&&r.includes(v))).reduce((v,{count:A})=>v+A,0),f=v=>{r===null?i([v]):r.includes(v)?i(r.filter(A=>A!==v)):i([...r,v])};x.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){const v=new Intl.DisplayNames(["en"],{type:"language"}),A=navigator==null?void 0:navigator.languages.map(S=>{var w;return(w=v.of(S))==null?void 0:w.toLowerCase()}).filter(Boolean),b=u.map(S=>S.name).filter(S=>!A.some(w=>w.includes(S.toLowerCase()))).filter(S=>S!=="English");b.length&&i(b)}},[r,u]);const m=x.useMemo(()=>u.every(v=>r==null?void 0:r.includes(v.name)),[r,u]);return x.useEffect(()=>{r!=null&&r.find(v=>!u.find(A=>A.name===v))&&i(r.filter(v=>u.find(A=>A.name===v)))},[u,r,i]),p.jsxs(bl,{children:[p.jsx("h1",{children:"Select Song Languages"}),p.jsxs(zle,{children:[o&&new Array(6).fill(0).map((v,A)=>p.jsx(kle,{variant:"rectangular",width:"100%",height:"10rem",children:p.jsx(zP,{"data-excluded":!0,focused:!1,children:p.jsx(fc,{language:["English"]})})},A)),u.map(({name:v,count:A})=>{const b=(r==null?void 0:r.includes(v))??!1;return p.jsxs(zP,{"data-excluded":b,...n(`lang-${v}`,()=>f(v)),children:[p.jsx($le,{children:b?p.jsx(Ym,{}):p.jsx(Km,{})}),p.jsxs("span",{children:[p.jsx(Ule,{children:v})," (",A," songs)"]}),p.jsx(Hle,{"data-excluded":b,children:p.jsx(fc,{language:[v]})})]},v)}),c>0&&p.jsxs(eb,{children:["…and ",p.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),p.jsxs("h3",{children:["You can always update the selection in ",p.jsx("strong",{children:"Manage Songs"})," menu"]}),p.jsxs(Fle,{children:[p.jsx(ut,{...n("close-exclude-languages",e,void 0,!0,{disabled:m||o}),children:t}),p.jsxs(eb,{children:["The list will contain"," ",p.jsx("strong",{children:p.jsx(Uw,{duration:1,preserveValue:!0,end:h+c})})," ","songs"]}),m&&p.jsxs(eb,{"data-test":"all-languages-excluded-warning",children:[p.jsx("strong",{children:p.jsx(Bd,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const Fle=W("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),eb=W("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),$le=W("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),zle=W("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),Ule=W("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),Hle=W("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),zP=W(ut,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",xt,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),Gle=_i()?0:30;function qle({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=x.useState(!1),o=()=>s(!1),l=t.filter(c=>c.count>Gle),u=c=>{const h=n.filter(f=>l.find(m=>m.name===f));h.length===0?r(t.filter(f=>f.name!==c).map(f=>f.name)):h.includes(c)?r(n.filter(f=>f!==c)):h.length===l.length-1?r([]):r([...n,c])};return p.jsxs(p.Fragment,{children:[i&&p.jsx($c,{onClose:o,children:p.jsxs(Kr,{"data-test":"languages-container",spacing:"tight",children:[l.map(({name:c,count:h})=>{const f=n.length&&n.includes(c);return p.jsxs(Kr.Button,{size:"small","data-inactive":f,"data-active":!!n.length&&!n.includes(c),onClick:()=>u(c),"data-test":c,className:"!justify-between",children:[p.jsxs("span",{children:[c," ",p.jsxs("small",{className:"text-sm pl-2",children:["(",h," songs)"]})]}),p.jsx(fc,{language:[c],className:" h-full w-32 object-cover"})]},c)}),p.jsx(Kr.Divider,{}),p.jsx(Kr.Button,{size:"small",onClick:o,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const Wle=(e,t,n)=>e>=t&&e<n;function Kle(e,t){var E,P,N;const n=x.useRef(null),r=((E=n.current)==null?void 0:E.getBoundingClientRect().height)??global.innerHeight,i=x.useMemo(()=>{const j=[];return e.groupSizes.forEach((V,k)=>{var D,H;j.push({index:k,type:"group",bottom:(((D=j.at(-1))==null?void 0:D.bottom)??0)+e.groupHeaderHeight,groupIndex:k});for(let B=0;B<V;B++){const G=e.groupSizes.reduce((F,L,Y)=>F+(Y<k?L:0),0)+B;j.push({index:G,type:"item",bottom:(((H=j.at(-1))==null?void 0:H.bottom)??0)+e.itemHeight,groupIndex:k})}}),j},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),s=!i.some(j=>j.type==="item"),o=((P=i.at(-1))==null?void 0:P.bottom)??0,l=x.useCallback(j=>{const V=i.findIndex(D=>D.bottom>j-e.overScan),k=i.findIndex(D=>D.bottom>j+r+e.overScan);return[V,k===-1?i.length:k]},[i,r,e.overScan]),[[u,c],h]=x.useState(l(0));x.useLayoutEffect(()=>{var V;const j=l(((V=n.current)==null?void 0:V.scrollTop)??0);(u!==j[0]||c!==j[1])&&h(j)},[l,e.groupSizes,u,c]),x.useEffect(()=>{if(n.current){const j=()=>{var k;const V=l(((k=n.current)==null?void 0:k.scrollTop)??0);(u!==V[0]||c!==V[1])&&h(V)};return n.current.addEventListener("scroll",j),n.current.scrollTop>o&&n.current.scrollTo({top:0}),()=>{var V;(V=n.current)==null||V.removeEventListener("scroll",j)}}},[u,c,l,o]);const f=x.useCallback((j,V)=>{var k,D;return(((k=i[V])==null?void 0:k.bottom)??0)-(((D=i[j])==null?void 0:D.bottom)??0)},[i]),m=x.useMemo(()=>f(-1,u-1),[u,f]),v=i.slice(0,u).findLastIndex(({type:j})=>j==="group"),A=i.slice(u,c),b=v!==-1?[[]]:[];for(let j=0;j<A.length;j++){const V=A[j];V.type==="group"&&b.push([]),(N=b.at(-1))==null||N.push(V)}x.useImperativeHandle(t,()=>({getItemPositionY:j=>{var V;return(((V=i.find(k=>k.type==="item"&&k.index===j))==null?void 0:V.bottom)??-1)-e.itemHeight},scrollTo:j=>{var V;(V=n.current)==null||V.scrollTo({top:j})},scrollToIndex:async(j,V="auto",k="center")=>{var H,B;const D=i.find(G=>G.type==="item"&&G.index===j);if(D){const G=(e.itemHeight+(k==="center"?(H=n.current)==null?void 0:H.clientHeight:0))/2;(B=n.current)==null||B.scrollTo({top:D.bottom-G,behavior:V})}},scrollToGroup:async(j,V="auto",k="top")=>{var H;const D=i.find(B=>B.type==="group"&&B.index===j);D&&((H=n.current)==null||H.scrollTo({top:D.bottom-e.groupHeaderHeight,behavior:V}))}}));const{Header:S,Footer:w,EmptyPlaceholder:I}=e.components??{},R=i.findIndex(j=>j.type==="item"&&j.index===e.forceRenderItem),T=v!==-1?m-e.groupHeaderHeight:m;return p.jsxs(Qle,{ref:n,children:[p.jsxs(Yle,{style:{height:o},children:[S&&p.jsx(S,{context:e.context}),i[R]&&!Wle(R,u,c)&&p.jsx(p.Fragment,{children:e.itemContent(i[R].index,i[R].groupIndex,{style:{width:"100%",position:"absolute",top:i[R].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":i[R].bottom,"data-virtualized-index":i[R].index})}),p.jsx("div",{style:{transform:`translateY(${T}px)`},children:b.map((j,V)=>p.jsxs("div",{"data-virtualized-group":(j[0]??i[v]).groupIndex,children:[V===0&&v!==-1&&e.groupContent(i[v].index),j.map(({index:k,type:D,bottom:H,groupIndex:B})=>p.jsx(x.Fragment,{children:D==="group"?e.groupContent(k):e.itemContent(k,B,{"data-virtualized-bottom":H,"data-virtualized-index":k})},`${H}`))]},(j[0]??i[v]).groupIndex))})]}),s&&I&&p.jsx(I,{context:e.context}),w&&p.jsx(w,{context:e.context})]})}const Yle=W("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),Qle=W("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),j4=x.forwardRef(Kle),Jle=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,CS=1/0,tb=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),UP="eexxaacctt",Xle="A-Z",Zle="a-z",Lf=(e,t,n)=>e.replace(Xle,t).replace(Zle,n),HP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:CS,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,CS],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:l,start:u,intraIns:c,interIns:h}=e;return r.map((f,m)=>m).sort((f,m)=>i[m]-i[f]||c[f]-c[m]||s[m]+o[m]+.5*l[m]-(s[f]+o[f]+.5*l[f])||h[f]-h[m]||u[f]-u[m]||Jle(t[r[f]],t[r[m]]))}},nb=(e,t)=>t==0?"":t==1?e+"??":t==CS?e+"*?":e+`{0,${t}}?`,GP="(?:\\b|_)";function ry(e){e=Object.assign({},HP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:l,intraTrn:u,intraDel:c,intraContr:h,intraSplit:f,interSplit:m,intraBound:v,intraChars:A}=e;o??(o=i),l??(l=i),u??(u=i),c??(c=i);let b=e.letters??e.alpha;if(b!=null){let U=b.toLocaleUpperCase(),X=b.toLocaleLowerCase();m=Lf(m,U,X),f=Lf(f,U,X),v=Lf(v,U,X),A=Lf(A,U,X),h=Lf(h,U,X)}let S=t?"u":"";const w='".+?"',I=new RegExp(w,"gi"+S),R=new RegExp(`(?:\\s+|^)-(?:${A}+|${w})`,"gi"+S);let{intraRules:T}=e;T==null&&(T=U=>{let X=HP.intraSlice,de=0,z=0,pe=0,se=0;if(/[^\d]/.test(U)){let me=U.length;me<=4?me>=3&&(pe=Math.min(u,1),me==4&&(de=Math.min(o,1))):(X=s,de=o,z=l,pe=u,se=c)}return{intraSlice:X,intraIns:de,intraSub:z,intraTrn:pe,intraDel:se}});let E=!!f,P=new RegExp(f,"g"+S),N=new RegExp(m,"g"+S),j=new RegExp("^"+m+"|"+m+"$","g"+S),V=new RegExp(h,"gi"+S);const k=U=>{let X=[];U=U.replace(I,z=>(X.push(z),UP)),U=U.replace(j,"").toLocaleLowerCase(),E&&(U=U.replace(P,z=>z[0]+" "+z[1]));let de=0;return U.split(N).filter(z=>z!="").map(z=>z===UP?X[de++]:z)},D=/[^\d]+|\d+/g,H=(U,X=0,de=!1)=>{let z=k(U);if(z.length==0)return[];let pe=Array(z.length).fill("");z=z.map((be,je)=>be.replace(V,Xe=>(pe[je]=Xe,"")));let se;if(i==1)se=z.map((be,je)=>{if(be[0]==='"')return tb(be.slice(1,-1));let Xe="";for(let Ue of be.matchAll(D)){let Le=Ue[0],{intraSlice:Oe,intraIns:mt,intraSub:vt,intraTrn:De,intraDel:ht}=T(Le);if(mt+vt+De+ht==0)Xe+=Le+pe[je];else{let[Ut,Wt]=Oe,Ht=Le.slice(0,Ut),Ge=Le.slice(Wt),jt=Le.slice(Ut,Wt);mt==1&&Ht.length==1&&Ht!=jt[0]&&(Ht+="(?!"+Ht+")");let Xt=jt.length,Zt=[Le];if(vt)for(let bt=0;bt<Xt;bt++)Zt.push(Ht+jt.slice(0,bt)+A+jt.slice(bt+1)+Ge);if(De)for(let bt=0;bt<Xt-1;bt++)jt[bt]!=jt[bt+1]&&Zt.push(Ht+jt.slice(0,bt)+jt[bt+1]+jt[bt]+jt.slice(bt+2)+Ge);if(ht)for(let bt=0;bt<Xt;bt++)Zt.push(Ht+jt.slice(0,bt+1)+"?"+jt.slice(bt+1)+Ge);if(mt){let bt=nb(A,1);for(let dt=0;dt<Xt;dt++)Zt.push(Ht+jt.slice(0,dt)+bt+jt.slice(dt)+Ge)}Xe+="(?:"+Zt.join("|")+")"+pe[je]}}return Xe});else{let be=nb(A,o);X==2&&o>0&&(be=")("+be+")("),se=z.map((je,Xe)=>je[0]==='"'?tb(je.slice(1,-1)):je.split("").map((Ue,Le,Oe)=>(o==1&&Le==0&&Oe.length>1&&Ue!=Oe[Le+1]&&(Ue+="(?!"+Ue+")"),Ue)).join(be)+pe[Xe])}let me=n==2?GP:"",Ee=r==2?GP:"",Re=Ee+nb(e.interChars,e.interIns)+me;return X>0?de?se=me+"("+se.join(")"+Ee+"|"+me+"(")+")"+Ee:(se="("+se.join(")("+Re+")(")+")",se="(.??"+me+")"+se+"("+Ee+".*)"):(se=se.join(Re),se=me+se+Ee),[new RegExp(se,"i"+S),z,pe]},B=(U,X,de)=>{let[z]=H(X);if(z==null)return null;let pe=[];if(de!=null)for(let se=0;se<de.length;se++){let me=de[se];z.test(U[me])&&pe.push(me)}else for(let se=0;se<U.length;se++)z.test(U[se])&&pe.push(se);return pe};let G=!!v,F=new RegExp(m,S),L=new RegExp(v,S);const Y=(U,X,de)=>{let[z,pe,se]=H(de,1),[me]=H(de,2),Ee=pe.length,Re=U.length,be=Array(Re).fill(0),je={idx:Array(Re),start:be.slice(),chars:be.slice(),terms:be.slice(),interIns:be.slice(),intraIns:be.slice(),interLft2:be.slice(),interRgt2:be.slice(),interLft1:be.slice(),interRgt1:be.slice(),ranges:Array(Re)},Xe=n==1||r==1,Ue=0;for(let Le=0;Le<U.length;Le++){let Oe=X[U[Le]],mt=Oe.match(z),vt=mt.index+mt[1].length,De=vt,ht=!1,Ut=0,Wt=0,Ht=0,Ge=0,jt=0,Xt=0,Zt=0,bt=0,dt=[];for(let nt=0,_t=2;nt<Ee;nt++,_t+=2){let cn=mt[_t].toLocaleLowerCase(),Lt=pe[nt],Pt=Lt[0]=='"'?Lt.slice(1,-1):Lt+se[nt],vn=Pt.length,jn=cn.length,un=cn==Pt;if(!un&&mt[_t+1].length>=vn){let Dt=mt[_t+1].toLocaleLowerCase().indexOf(Pt);Dt>-1&&(dt.push(De,jn,Dt,vn),De+=q(mt,_t,Dt,vn),cn=Pt,jn=vn,un=!0,nt==0&&(vt=De))}if(Xe||un){let Dt=De-1,zn=De+jn,dr=!1,En=!1;if(Dt==-1||F.test(Oe[Dt]))un&&Ut++,dr=!0;else{if(n==2){ht=!0;break}if(G&&L.test(Oe[Dt]+Oe[Dt+1]))un&&Wt++,dr=!0;else if(n==1){let br=mt[_t+1],fr=De+jn;if(br.length>=vn){let Kt=0,On=!1,rt=new RegExp(Pt,"ig"+S),Et;for(;Et=rt.exec(br);){Kt=Et.index;let rr=fr+Kt,Nr=rr-1;if(Nr==-1||F.test(Oe[Nr])){Ut++,On=!0;break}else if(L.test(Oe[Nr]+Oe[rr])){Wt++,On=!0;break}}On&&(dr=!0,dt.push(De,jn,Kt,vn),De+=q(mt,_t,Kt,vn),cn=Pt,jn=vn,un=!0,nt==0&&(vt=De))}if(!dr){ht=!0;break}}}if(zn==Oe.length||F.test(Oe[zn]))un&&Ht++,En=!0;else{if(r==2){ht=!0;break}if(G&&L.test(Oe[zn-1]+Oe[zn]))un&&Ge++,En=!0;else if(r==1){ht=!0;break}}un&&(jt+=vn,dr&&En&&Xt++)}if(jn>vn&&(bt+=jn-vn),nt>0&&(Zt+=mt[_t-1].length),!e.intraFilt(Pt,cn,De)){ht=!0;break}nt<Ee-1&&(De+=jn+mt[_t+1].length)}if(!ht){je.idx[Ue]=U[Le],je.interLft2[Ue]=Ut,je.interLft1[Ue]=Wt,je.interRgt2[Ue]=Ht,je.interRgt1[Ue]=Ge,je.chars[Ue]=jt,je.terms[Ue]=Xt,je.interIns[Ue]=Zt,je.intraIns[Ue]=bt,je.start[Ue]=vt;let nt=Oe.match(me),_t=nt.index+nt[1].length,cn=dt.length,Lt=cn>0?0:1/0,Pt=cn-4;for(let Dt=2;Dt<nt.length;){let zn=nt[Dt].length;if(Lt<=Pt&&dt[Lt]==_t){let dr=dt[Lt+1],En=dt[Lt+2],br=dt[Lt+3],fr=Dt,Kt="";for(let On=0;On<dr;fr++)Kt+=nt[fr],On+=nt[fr].length;nt.splice(Dt,fr-Dt,Kt),_t+=q(nt,Dt,En,br),Lt+=4}else _t+=zn,Dt++}_t=nt.index+nt[1].length;let vn=je.ranges[Ue]=[],jn=_t,un=_t;for(let Dt=2;Dt<nt.length;Dt++){let zn=nt[Dt].length;_t+=zn,Dt%2==0?un=_t:zn>0&&(vn.push(jn,un),jn=un=_t)}un>jn&&vn.push(jn,un),Ue++}}if(Ue<U.length)for(let Le in je)je[Le]=je[Le].slice(0,Ue);return je},q=(U,X,de,z)=>{let pe=U[X]+U[X+1].slice(0,de);return U[X-1]+=pe,U[X]=U[X+1].slice(de,de+z),U[X+1]=U[X+1].slice(de+z),pe.length},Q=5,M=(U,X,de,z=1e3,pe)=>{de=de?de===!0?Q:de:0;let se=null,me=null,Ee=[];X=X.replace(R,Le=>{let Oe=Le.trim().slice(1);return Oe[0]==='"'&&(Oe=tb(Oe.slice(1,-1))),Ee.push(Oe),""});let Re=k(X),be;if(Ee.length>0){if(be=new RegExp(Ee.join("|"),"i"+S),Re.length==0){let Le=[];for(let Oe=0;Oe<U.length;Oe++)be.test(U[Oe])||Le.push(Oe);return[Le,null,null]}}else if(Re.length==0)return[null,null,null];if(de>0){let Le=k(X);if(Le.length>1){let Oe=Le.slice().sort((vt,De)=>De.length-vt.length);for(let vt=0;vt<Oe.length;vt++){if((pe==null?void 0:pe.length)==0)return[[],null,null];pe=B(U,Oe[vt],pe)}if(Le.length>de)return[pe,null,null];se=O4(Le).map(vt=>vt.join(" ")),me=[];let mt=new Set;for(let vt=0;vt<se.length;vt++)if(mt.size<pe.length){let De=pe.filter(Ut=>!mt.has(Ut)),ht=B(U,se[vt],De);for(let Ut=0;Ut<ht.length;Ut++)mt.add(ht[Ut]);me.push(ht)}else me.push([])}}se==null&&(se=[X],me=[(pe==null?void 0:pe.length)>0?pe:B(U,X)]);let je=null,Xe=null;if(Ee.length>0&&(me=me.map(Le=>Le.filter(Oe=>!be.test(U[Oe])))),me.reduce((Le,Oe)=>Le+Oe.length,0)<=z){je={},Xe=[];for(let Le=0;Le<me.length;Le++){let Oe=me[Le];if(Oe==null||Oe.length==0)continue;let mt=se[Le],vt=Y(Oe,U,mt),De=e.sort(vt,U,mt);if(Le>0)for(let ht=0;ht<De.length;ht++)De[ht]+=Xe.length;for(let ht in vt)je[ht]=(je[ht]??[]).concat(vt[ht]);Xe=Xe.concat(De)}}return[[].concat(...me),je,Xe]};return{search:(...U)=>M(...U),split:k,filter:B,info:Y,sort:e.sort}}const ece=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let l=0;l<s.length;l++)o[l]=s[l].replace(r,i);return o}})();function O4(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const tce=(e,t)=>t?`<mark>${e}</mark>`:e,nce=(e,t)=>e+t;function rce(e,t,n=tce,r="",i=nce){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],l=t[s+1];r=i(r,n(e.substring(o,l),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}ry.latinize=ece;ry.permute=e=>O4([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));ry.highlight=rce;const ice=Zs().subtract(31,"days");function Gw(e){return!!e.lastUpdate&&Zs(e.lastUpdate).isAfter(ice)}var sce=x.createContext({client:ar}),oce=function(){var e=x.useContext(sce).client;return e};function ace(e){var t=oce(),n=x.useState(),r=n[0],i=n[1];return x.useEffect(function(){return t.onFeatureFlags(function(){i(t.isFeatureEnabled(e))})},[t,e]),r}function qw(e){const t=ace(e);return _i()?!0:t}const lce=(e,t,n)=>{const r=_i()?!0:qw(Uh.Christmas),i=Hw(e);return x.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:u,active:c,focused:h})=>p.jsx(Iie,{...c&&h?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:p.jsxs(p.Fragment,{children:["A combination of songs you might like and popular with other players.",p.jsx("br",{}),p.jsx("br",{})," ",p.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:u}),display:p.jsxs("span",{children:[p.jsx("strong",{children:"★"})," Selection ",p.jsx("strong",{children:"★"})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r?{name:"Christmas",display:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{color:et.christmasRed.text},children:"Chris"}),p.jsx("span",{style:{color:et.christmasGreen.text},children:"tmas"})," 🎄"]}),filters:{edition:"christmas"}}:null,i[0]?{name:i[0].name,filters:{language:i[0].name}}:null,i[1]?{name:i[1].name,filters:{language:i[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(u=>u!==null),[i,n,t])},qP=e=>_c((e==null?void 0:e.search)??"").length>2,WP={},cce=/[^0-9a-z ]/gi,rb=e=>Ex(e).toLowerCase().replace(cce,"");function kS(e,t){const n=_c(t);if(n.length>0){const r=new ry({}),[,i,s]=r.search(e.map(o=>`${rb(o.artist)} ${rb(o.title)}`),rb(t));return s&&i?s.map(o=>e[i.idx[o]]):e.filter(o=>o.search.includes(n))}return e}const KP={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n={})=>t.length===0||qP(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>kS(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>_c(t).length?e.filter(r=>_c(r.edition??"").includes(t)):e,recentlyUpdated:e=>e.filter(Gw),specificSongs:(e,t,n)=>qP(n)?e:e.filter(r=>t.includes(r.id)),additionalSongs:(e,t,n,r)=>{const i=r.filter(s=>t.includes(s.id));return[...e,...i.filter(s=>!e.includes(s))]}},YP=(e,t)=>Object.entries(t).filter(n=>n[0]in KP).reduce((n,[r,i])=>KP[r](n,i,t,e),e),uce=(e,t,n,r)=>{var b;const[i]=Tt(fv),s=x.useMemo(()=>YP(e,{excludeLanguages:i??[]}),[e,i]),o=lce(s,t,n),[l,u]=x.useState(new URLSearchParams((b=global.location)==null?void 0:b.search).get("playlist")??null),c=S=>{var I;const w=new URL((I=global.location)==null?void 0:I.href);w.searchParams.set("playlist",S),global.history.replaceState(null,"",w.toString()),u(S)},h=o.find(S=>S.name===l)??o[0],[f,m]=x.useState(WP);x.useEffect(()=>{m(WP)},[l]);const v=x.useDeferredValue(f),A=x.useMemo(()=>YP(e,{...(h==null?void 0:h.filters)??{},...v,excludeLanguages:i??[],additionalSongs:r?[r]:[]}),[e,v,i,h,r]);return{filters:f,filteredList:A,setFilters:m,selectedPlaylist:l,setSelectedPlaylist:c,playlists:o,playlist:h}},dce=Al("remote-mic-saved-songs"),fce=Al("remote-mic-excluded-languages"),hce=Al("remote-mic-selected-song-list"),pce=Al("remote-mic-song-list-search");function gce({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const[l]=ro(ve.remoteKeyboardLayout,!0)??[],u=ny(),c=Dd(),[h,f]=x.useState();x.useEffect(()=>{o==="connected"&&h===void 0&&Wn.getSongList().then(f).catch(console.warn)},[h,o]);const m=x.useMemo(()=>dle(c.data.map(k=>({...k,id:is.generateSongFile(k)})).filter(k=>!((h==null?void 0:h.deleted)??[]).includes(k.id)).map(k=>({id:k.id,artist:k.artist,title:k.title,video:k.video,language:k.language,search:k.search})).concat(...((h==null?void 0:h.custom)??[]).map(k=>({...k,id:is.generateSongFile(k)}))),k=>k.id),[c.data,h]),v=Hw(m),[A,b]=pce(""),[S,w]=fce([]),[I,R]=dce([]),[T,E]=hce("list"),P=R4(),N=k=>{E(k),b("")},j=x.useMemo(()=>{if(T==="list"){const k=kS(m,A);return k.length!==m.length?k:m.filter(D=>!D.language.every(H=>S.includes(H)))}else{const k=I.map(D=>m.find(H=>H.id===D)).filter(Boolean);return kS(k,A)}},[A,m,T,I,S]),V=v.length-S.length;return p.jsxs(mce,{children:[p.jsxs(vce,{children:[p.jsx(zc,{focused:!1,label:p.jsx(Vw,{}),placeholder:"Search for a song…",value:A,onChange:k=>b(k),"data-test":"search-input"}),p.jsxs(yce,{children:[p.jsx(ib,{"data-test":"all-songs-button","data-active":T==="list",onClick:()=>N("list"),children:"All songs"}),p.jsxs(ib,{"data-test":"your-list-button","data-active":T==="queue",onClick:()=>N("queue"),children:["Your list (",I.length,")"]}),p.jsx(qle,{excludedLanguages:S,languageList:v,onListChange:w,children:({open:k})=>p.jsxs(ib,{className:"!flex-grow-[0.3]",onClick:k,"data-test":"song-language-filter","data-active":S.length>0&&T==="list"?!0:void 0,children:["🇺🇳",V<v.length&&p.jsx(Fw,{children:V})]})})]})]}),p.jsx(j4,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[j.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:P*7+1,itemContent:(k,D,H)=>{var F;const B=j[k],G=I.includes(B.id);return p.jsxs(Ace,{className:G?"!bg-black !bg-opacity-35":"","data-test":B.id,...H,children:[p.jsx(bce,{children:p.jsx(fc,{language:B.language})}),p.jsxs(_ce,{children:[p.jsx(xce,{children:B.title}),p.jsx(Sce,{children:B.artist})]}),p.jsxs(wce,{children:[((F=l==null?void 0:l.remote)==null?void 0:F.includes("select-song"))&&u==="write"&&p.jsx(QP,{onClick:L=>{L.stopPropagation(),Wn.selectSong(B.id)},"data-test":"select-song-button",children:"SELECT"}),G?p.jsx(QP,{"data-test":"remove-song-button",onClick:L=>{L.stopPropagation(),R(Y=>Y.filter(q=>q!==B.id))},children:"-"}):p.jsx(V4,{"data-test":"add-song-button",onClick:L=>{L.stopPropagation(),R(Y=>[...Y,B.id])},children:"+"})]})]})}})]})}const mce=W("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),vce=W("div",{target:"emsrjbt8"})(xt,";font-size:2.5rem;display:flex;flex-direction:column;"),yce=W("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),ib=W("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",xt,";font-size:2rem;position:relative;transition:300ms;&[data-active='true']{background:",Ve.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Ace=W("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),bce=W("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),_ce=W("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Sce=W("span",{target:"emsrjbt2"})("color:",Ve.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),xce=W("span",{target:"emsrjbt1"})("color:",Ve.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),wce=W("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),V4=$n.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,QP=$n(V4)`text-active`,sb=new eee;function Ece(){const e=$v("room"),[t]=ro(ve.remoteStyleChanged,!0)??["regular"];x.useLayoutEffect(()=>{Hj(t)},[t]),ya(!0,t);const[n,r]=x.useState("microphone"),[i,s]=ro(ve.karaokeConnectionStatusChange)??["uninitialised"],[o,l]=x.useState(!1);oi(ve.micMonitoringStarted,()=>l(!0)),oi(ve.micMonitoringStopped,()=>l(!1));const[u,c]=x.useState(!1),h=async m=>{try{m&&!sb.isEnabled?await sb.enable():!m&&sb.isEnabled,c(m)}catch(v){console.warn("Couldn't set wakelock",v)}},f=()=>{h(!0)};return p.jsxs(yl,{children:[p.jsx(Joe,{onConfirm:f}),p.jsx(fee,{size:10}),p.jsx(kce,{id:"phone-ui-container",children:p.jsxs(p.Fragment,{children:[n==="microphone"&&p.jsx(Koe,{roomId:e,monitoringStarted:o,setMonitoringStarted:l,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:u,connectionError:s}),n==="song-list"&&p.jsx(gce,{roomId:e,monitoringStarted:o,setMonitoringStarted:l,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:u,connectionError:s}),n==="settings"&&p.jsx(cae,{}),p.jsx(Cce,{}),p.jsx(zse,{setActiveTab:r,active:n})]})})]})}const Cce=W("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),kce=W("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function _l(e){x.useEffect(()=>{e?Fm.playing()||Fm.play(!1):Fm.stop()},[e])}var ob,JP;function Tce(){if(JP)return ob;JP=1;function e(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var t=Pc(),n=e(t);function r(l,u,c){return u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,l}function i(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,u,c){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function h(f){return f.displayName||f.name||"Component"}return function(m){if(typeof m!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],A;function b(){A=l(v.map(function(w){return w.props})),S.canUseDOM?u(A):c&&(A=c(A))}var S=function(w){i(I,w);function I(){return w.apply(this,arguments)||this}I.peek=function(){return A},I.rewind=function(){if(I.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=A;return A=void 0,v=[],E};var R=I.prototype;return R.UNSAFE_componentWillMount=function(){v.push(this),b()},R.componentDidUpdate=function(){b()},R.componentWillUnmount=function(){var E=v.indexOf(this);v.splice(E,1),b()},R.render=function(){return n.createElement(m,this.props)},I}(t.PureComponent);return r(S,"displayName","SideEffect("+h(m)+")"),r(S,"canUseDOM",s),S}}return ob=o,ob}var Ice=Tce();const Rce=Cr(Ice);var ab,XP;function Pce(){if(XP)return ab;XP=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,u,c;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(u=l;u--!==0;)if(!i(s[u],o[u]))return!1;return!0}var h;if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;for(h=s.entries();!(u=h.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(h=s.entries();!(u=h.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(u=l;u--!==0;)if(s[u]!==o[u])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),l=c.length,l!==Object.keys(o).length)return!1;for(u=l;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(e&&s instanceof Element)return!1;for(u=l;u--!==0;)if(!((c[u]==="_owner"||c[u]==="__v"||c[u]==="__o")&&s.$$typeof)&&!i(s[c[u]],o[c[u]]))return!1;return!0}return s!==s&&o!==o}return ab=function(o,l){try{return i(o,l)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},ab}var Mce=Pce();const jce=Cr(Mce);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lb,ZP;function Oce(){if(ZP)return lb;ZP=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var u=Object.getOwnPropertyNames(o).map(function(h){return o[h]});if(u.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(h){c[h]=h}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return lb=i()?Object.assign:function(s,o){for(var l,u=r(s),c,h=1;h<arguments.length;h++){l=Object(arguments[h]);for(var f in l)t.call(l,f)&&(u[f]=l[f]);if(e){c=e(l);for(var m=0;m<c.length;m++)n.call(l,c[m])&&(u[c[m]]=l[c[m]])}}return u},lb}var Vce=Oce();const Lce=Cr(Vce);var hc={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},wt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(wt).map(function(e){return wt[e]});var Dn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Z0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$h={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Nce=Object.keys(Z0).reduce(function(e,t){return e[Z0[t]]=t,e},{}),Bce=[wt.NOSCRIPT,wt.SCRIPT,wt.STYLE],eo="data-react-helmet",Dce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fce=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$ce=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zce=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},eM=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Uce=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},TS=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Hce=function(t){var n=ed(t,wt.TITLE),r=ed(t,$h.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=ed(t,$h.DEFAULT_TITLE);return n||i||void 0},Gce=function(t){return ed(t,$h.ON_CHANGE_CLIENT_STATE)||function(){}},cb=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Mi({},r,i)},{})},qce=function(t,n){return n.filter(function(r){return typeof r[wt.BASE]<"u"}).map(function(r){return r[wt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var l=s[o],u=l.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},Nf=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Qce("Helmet: "+t+' should be of type "Array". Instead found type "'+Dce(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var l={};o.filter(function(m){for(var v=void 0,A=Object.keys(m),b=0;b<A.length;b++){var S=A[b],w=S.toLowerCase();n.indexOf(w)!==-1&&!(v===Dn.REL&&m[v].toLowerCase()==="canonical")&&!(w===Dn.REL&&m[w].toLowerCase()==="stylesheet")&&(v=w),n.indexOf(S)!==-1&&(S===Dn.INNER_HTML||S===Dn.CSS_TEXT||S===Dn.ITEM_PROP)&&(v=S)}if(!v||!m[v])return!1;var I=m[v].toLowerCase();return i[v]||(i[v]={}),l[v]||(l[v]={}),i[v][I]?!1:(l[v][I]=!0,!0)}).reverse().forEach(function(m){return s.push(m)});for(var u=Object.keys(l),c=0;c<u.length;c++){var h=u[c],f=Lce({},i[h],l[h]);i[h]=f}return s},[]).reverse()},ed=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Wce=function(t){return{baseTag:qce([Dn.HREF,Dn.TARGET],t),bodyAttributes:cb(hc.BODY,t),defer:ed(t,$h.DEFER),encode:ed(t,$h.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cb(hc.HTML,t),linkTags:Nf(wt.LINK,[Dn.REL,Dn.HREF],t),metaTags:Nf(wt.META,[Dn.NAME,Dn.CHARSET,Dn.HTTPEQUIV,Dn.PROPERTY,Dn.ITEM_PROP],t),noscriptTags:Nf(wt.NOSCRIPT,[Dn.INNER_HTML],t),onChangeClientState:Gce(t),scriptTags:Nf(wt.SCRIPT,[Dn.SRC,Dn.INNER_HTML],t),styleTags:Nf(wt.STYLE,[Dn.CSS_TEXT],t),title:Hce(t),titleAttributes:cb(hc.TITLE,t)}},IS=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){IS(t)},0)}}(),tM=function(t){return clearTimeout(t)},Kce=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||IS:global.requestAnimationFrame||IS,Yce=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||tM:global.cancelAnimationFrame||tM,Qce=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Bf=null,Jce=function(t){Bf&&Yce(Bf),t.defer?Bf=Kce(function(){nM(t,function(){Bf=null})}):(nM(t),Bf=null)},nM=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,l=t.metaTags,u=t.noscriptTags,c=t.onChangeClientState,h=t.scriptTags,f=t.styleTags,m=t.title,v=t.titleAttributes;RS(wt.BODY,i),RS(wt.HTML,s),Xce(m,v);var A={baseTag:Eu(wt.BASE,r),linkTags:Eu(wt.LINK,o),metaTags:Eu(wt.META,l),noscriptTags:Eu(wt.NOSCRIPT,u),scriptTags:Eu(wt.SCRIPT,h),styleTags:Eu(wt.STYLE,f)},b={},S={};Object.keys(A).forEach(function(w){var I=A[w],R=I.newTags,T=I.oldTags;R.length&&(b[w]=R),T.length&&(S[w]=A[w].oldTags)}),n&&n(),c(t,b,S)},L4=function(t){return Array.isArray(t)?t.join(""):t},Xce=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=L4(t)),RS(wt.TITLE,n)},RS=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(eo),s=i?i.split(","):[],o=[].concat(s),l=Object.keys(n),u=0;u<l.length;u++){var c=l[u],h=n[c]||"";r.getAttribute(c)!==h&&r.setAttribute(c,h),s.indexOf(c)===-1&&s.push(c);var f=o.indexOf(c);f!==-1&&o.splice(f,1)}for(var m=o.length-1;m>=0;m--)r.removeAttribute(o[m]);s.length===o.length?r.removeAttribute(eo):r.getAttribute(eo)!==l.join(",")&&r.setAttribute(eo,l.join(","))}},Eu=function(t,n){var r=document.head||document.querySelector(wt.HEAD),i=r.querySelectorAll(t+"["+eo+"]"),s=Array.prototype.slice.call(i),o=[],l=void 0;return n&&n.length&&n.forEach(function(u){var c=document.createElement(t);for(var h in u)if(u.hasOwnProperty(h))if(h===Dn.INNER_HTML)c.innerHTML=u.innerHTML;else if(h===Dn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{var f=typeof u[h]>"u"?"":u[h];c.setAttribute(h,f)}c.setAttribute(eo,"true"),s.some(function(m,v){return l=v,c.isEqualNode(m)})?s.splice(l,1):o.push(c)}),s.forEach(function(u){return u.parentNode.removeChild(u)}),o.forEach(function(u){return r.appendChild(u)}),{oldTags:s,newTags:o}},N4=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Zce=function(t,n,r,i){var s=N4(r),o=L4(n);return s?"<"+t+" "+eo+'="true" '+s+">"+TS(o,i)+"</"+t+">":"<"+t+" "+eo+'="true">'+TS(o,i)+"</"+t+">"},eue=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Dn.INNER_HTML||c===Dn.CSS_TEXT)}).reduce(function(c,h){var f=typeof s[h]>"u"?h:h+'="'+TS(s[h],r)+'"';return c?c+" "+f:f},""),l=s.innerHTML||s.cssText||"",u=Bce.indexOf(t)===-1;return i+"<"+t+" "+eo+'="true" '+o+(u?"/>":">"+l+"</"+t+">")},"")},B4=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Z0[i]||i]=t[i],r},n)},tue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Nce[i]||i]=t[i],r},n)},nue=function(t,n,r){var i,s=(i={key:n},i[eo]=!0,i),o=B4(r,s);return[Je.createElement(wt.TITLE,o,n)]},rue=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[eo]=!0,s);return Object.keys(r).forEach(function(l){var u=Z0[l]||l;if(u===Dn.INNER_HTML||u===Dn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[u]=r[l]}),Je.createElement(t,o)})},Yo=function(t,n,r){switch(t){case wt.TITLE:return{toComponent:function(){return nue(t,n.title,n.titleAttributes)},toString:function(){return Zce(t,n.title,n.titleAttributes,r)}};case hc.BODY:case hc.HTML:return{toComponent:function(){return B4(n)},toString:function(){return N4(n)}};default:return{toComponent:function(){return rue(t,n)},toString:function(){return eue(t,n,r)}}}},D4=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,l=t.metaTags,u=t.noscriptTags,c=t.scriptTags,h=t.styleTags,f=t.title,m=f===void 0?"":f,v=t.titleAttributes;return{base:Yo(wt.BASE,n,i),bodyAttributes:Yo(hc.BODY,r,i),htmlAttributes:Yo(hc.HTML,s,i),link:Yo(wt.LINK,o,i),meta:Yo(wt.META,l,i),noscript:Yo(wt.NOSCRIPT,u,i),script:Yo(wt.SCRIPT,c,i),style:Yo(wt.STYLE,h,i),title:Yo(wt.TITLE,{title:m,titleAttributes:v},i)}},iue=function(t){var n,r;return r=n=function(i){zce(s,i);function s(){return Fce(this,s),Uce(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!jce(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,u){if(!u)return null;switch(l.type){case wt.SCRIPT:case wt.NOSCRIPT:return{innerHTML:u};case wt.STYLE:return{cssText:u}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var u,c=l.child,h=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return Mi({},h,(u={},u[c.type]=[].concat(h[c.type]||[],[Mi({},f,this.mapNestedChildrenToProps(c,m))]),u))},s.prototype.mapObjectTypeChildren=function(l){var u,c,h=l.child,f=l.newProps,m=l.newChildProps,v=l.nestedChildren;switch(h.type){case wt.TITLE:return Mi({},f,(u={},u[h.type]=v,u.titleAttributes=Mi({},m),u));case wt.BODY:return Mi({},f,{bodyAttributes:Mi({},m)});case wt.HTML:return Mi({},f,{htmlAttributes:Mi({},m)})}return Mi({},f,(c={},c[h.type]=Mi({},m),c))},s.prototype.mapArrayTypeChildrenToProps=function(l,u){var c=Mi({},u);return Object.keys(l).forEach(function(h){var f;c=Mi({},c,(f={},f[h]=l[h],f))}),c},s.prototype.warnOnInvalidChildren=function(l,u){return!0},s.prototype.mapChildrenToProps=function(l,u){var c=this,h={};return Je.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,v=m.children,A=eM(m,["children"]),b=tue(A);switch(c.warnOnInvalidChildren(f,v),f.type){case wt.LINK:case wt.META:case wt.NOSCRIPT:case wt.SCRIPT:case wt.STYLE:h=c.flattenArrayTypeChildren({child:f,arrayTypeChildren:h,newChildProps:b,nestedChildren:v});break;default:u=c.mapObjectTypeChildren({child:f,newProps:u,newChildProps:b,nestedChildren:v});break}}}),u=this.mapArrayTypeChildrenToProps(h,u),u},s.prototype.render=function(){var l=this.props,u=l.children,c=eM(l,["children"]),h=Mi({},c);return u&&(h=this.mapChildrenToProps(u,h)),Je.createElement(t,h)},$ce(s,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),s}(Je.Component),n.propTypes={base:Rt.object,bodyAttributes:Rt.object,children:Rt.oneOfType([Rt.arrayOf(Rt.node),Rt.node]),defaultTitle:Rt.string,defer:Rt.bool,encodeSpecialCharacters:Rt.bool,htmlAttributes:Rt.object,link:Rt.arrayOf(Rt.object),meta:Rt.arrayOf(Rt.object),noscript:Rt.arrayOf(Rt.object),onChangeClientState:Rt.func,script:Rt.arrayOf(Rt.object),style:Rt.arrayOf(Rt.object),title:Rt.string,titleAttributes:Rt.object,titleTemplate:Rt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=D4({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},sue=function(){return null},oue=Rce(Wce,Jce,D4)(sue),os=iue(oue);os.renderStatic=os.rewind;const F4=x.forwardRef(({...e},t)=>{const n=x.useRef(null);x.useImperativeHandle(t,()=>n.current);const[r,i]=Tt(sh);return p.jsx(aue,{className:"text-[2.7rem]",ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),aue=W(zc,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function lue(){_l(!1);const e=zi(),t=()=>e("menu/"),{register:n}=kr({onBackspace:t}),[r,i]=Tt(xs),[s,o]=Tt(rc),[l,u]=Tt(Jr),c=x.useRef(null),[h,f]=x.useState(Js.getPermissionStatus());x.useEffect(()=>Js.addListener(S=>{f(S)}),[]);const[m,v]=x.useState(!1),A=()=>{v(!0),Js.requestPermissions().then(()=>v(!1))};let b="Disabled";return m?b=p.jsx(dp,{size:"0.9em"}):h===null?b="Click to enable":h&&(b="Enabled"),p.jsxs(bl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx("h1",{children:"Settings"}),p.jsx(Es,{...n("graphics-level",()=>i(dc(i3,r))),label:"Graphics",value:r.toUpperCase()}),p.jsx(Es,{...n("fps-count-level",()=>o(dc(o3,s))),label:"FPS Count",value:s}),p.jsx(F4,{ref:c,...n("input-lag",()=>{var S;return(S=c.current)==null?void 0:S.focus()})}),p.jsx("hr",{}),p.jsx(Es,{...n("camera-access",()=>h?Js.disable():A()),label:"Enable camera mode",value:b,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),p.jsx("hr",{}),p.jsx(Es,{...n("mobile-phone-mode",()=>u(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),p.jsx("hr",{}),p.jsx(ut,{...n("remote-mics-settings",()=>e("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),p.jsx(ut,{...n("setup-mics-button",()=>e("select-input/")),size:"small",children:"Setup Microphones"}),p.jsx(ut,{...n("manage-songs-button",()=>e("manage-songs/")),size:"small",children:"Manage Songs"}),p.jsx(ut,{...n("back-button",t),children:"Return To Main Menu"})]})}function cue(e){return li("MuiPaper",e)}ci("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uue=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Si(s,cue,i)},due=Mn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Os(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),iy=x.forwardRef(function(t,n){var v;const r=ui({props:t,name:"MuiPaper"}),i=vw(),{className:s,component:o="div",elevation:l=1,square:u=!1,variant:c="elevation",...h}=r,f={...r,component:o,elevation:l,square:u,variant:c},m=uue(f);return p.jsx(due,{as:o,ownerState:f,className:rn(m.root,s),ref:n,...h,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(v=i.vars.overlays)==null?void 0:v[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Qs("#fff",uS(l))}, ${Qs("#fff",uS(l))})`}},...h.style}})});function $4(e){const{theme:t}=x.useContext(np);return p.jsxs(fue,{...e,children:[p.jsx(z4,{asChild:!0,children:p.jsx(g4,{christmas:t==="christmas"})}),p.jsx(hue,{asChild:!0,children:p.jsx(_S,{christmas:t==="christmas"})})]})}const fue=$n.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,z4=$n.svg`w-[15rem] h-[15rem] transition-[300ms]`,hue=$n(z4)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function U4(){const[e,t]=x.useState(!1);return x.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),p.jsx(pue,{visible:e,children:p.jsx(gue,{})})}const pue=W("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),gue=W($4,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),H4=x.lazy(()=>Rd(()=>import("./SongManagement-DdR3K7fi.js"),[]).then(e=>({default:e.Convert}))),mue=e=>p.jsxs(x.Suspense,{fallback:p.jsx(U4,{}),children:[p.jsx(os,{children:p.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(iy,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:p.jsx(H4,{...e})})]}),vue=zt(p.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var Qm={exports:{}},yue=Qm.exports,rM;function Aue(){return rM||(rM=1,function(e,t){(function(n,r){e.exports=r()})(yue,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(c,h,f,m){return s.fromToBase(c,h,f,m)}i.en.relativeTime=o,s.fromToBase=function(c,h,f,m,v){for(var A,b,S,w=f.$locale().relativeTime||o,I=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],R=I.length,T=0;T<R;T+=1){var E=I[T];E.d&&(A=m?i(c).diff(f,E.d,!0):f.diff(c,E.d,!0));var P=(n.rounding||Math.round)(Math.abs(A));if(S=A>0,P<=E.r||!E.r){P<=1&&T>0&&(E=I[T-1]);var N=w[E.l];v&&(P=v(""+P)),b=typeof N=="string"?N.replace("%d",P):N(P,h,E.l,S);break}}if(h)return b;var j=S?w.future:w.past;return typeof j=="function"?j(b):j.replace("%s",b)},s.to=function(c,h){return l(c,h,this,!0)},s.from=function(c,h){return l(c,h,this)};var u=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(u(this),c)},s.fromNow=function(c){return this.from(u(this),c)}}})}(Qm)),Qm.exports}var bue=Aue();const _ue=Cr(bue),G4=1e3,Sue=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),xue=e=>{const t=e.notes.at(-1);return t.start+t.length},wue=(e,t=10)=>{let n=0;const r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=xue(i)}),r},iM=(e,t)=>({...e,sections:wue(Sue(e.sections.filter(an)),t)});function Eue(e){const t=Pd(e),n=Math.round(G4/t);return{...e,tracks:e.tracks.map(r=>iM(r,n)),mergedTrack:iM(e.mergedTrack,n)}}const Cue=(e,t)=>e.map((n,r)=>an(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),sM=(e,t)=>({...e,sections:Cue(e.sections,t)});function kue(e){const t=Pd(e),n=Math.round(G4/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>sM(s,r)),mergedTrack:sM(e.mergedTrack,r)}}function ev(e,t){return Pd(t)*e}function sy(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?al(n.sections):n.start));return ev(t,e)+e.gap}function Tue(e){const t=sy(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Iue=(e,t)=>e.map((n,r)=>an(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>an(n)||n.start-n.end>0),oM=(e,t)=>({...e,sections:Iue(e.sections,t)});function Rue(e){const t=Pd(e),n=e.tracks.reduce((o,l,u)=>{const c=al(e.tracks[o].sections),h=al(l.sections);return c>h?u:o},0),r=e.tracks[n].sections.find(an);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>oM(o,i)),mergedTrack:oM(e.mergedTrack,i)}}const Pue=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),aM=e=>({...e,sections:e.sections.map(t=>an(t)?{...t,notes:Pue(t.notes)}:t)});function Mue(e){return{...e,tracks:e.tracks.map(aM),mergedTrack:aM(e.mergedTrack)}}const jue=e=>{let t=Rue(e);return t=kue(t),t=Eue(t),t=Mue(t),t=Tue(t),t};function q4(e){const[t,n]=x.useState(null);return x.useEffect(()=>{is.get(e).then(r=>n(r&&jue(r)))},[e]),{data:t}}function Oue(e){return li("MuiButton",e)}const Cu=ci("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Vue=x.createContext({}),Lue=x.createContext(void 0),Nue=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=e,l={root:["root",s,`${s}${Bt(t)}`,`size${Bt(i)}`,`${s}Size${Bt(i)}`,`color${Bt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Bt(i)}`],endIcon:["icon","endIcon",`iconSize${Bt(i)}`]},u=Si(l,Oue,o);return{...o,...u}},W4=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Bue=Mn(VL,{shouldForwardProp:e=>yw(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Bt(n.color)}`],t[`size${Bt(n.size)}`],t[`${n.variant}Size${Bt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(Os(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Cu.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Cu.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Cu.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Cu.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Lh()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Qs(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Qs(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Qs(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Qs(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Qs(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Cu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Cu.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),Due=Mn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Bt(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...W4]}),Fue=Mn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Bt(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...W4]}),lM=x.forwardRef(function(t,n){const r=x.useContext(Vue),i=x.useContext(Lue),s=F0(r,t),o=ui({props:s,name:"MuiButton"}),{children:l,color:u="primary",component:c="button",className:h,disabled:f=!1,disableElevation:m=!1,disableFocusRipple:v=!1,endIcon:A,focusVisibleClassName:b,fullWidth:S=!1,size:w="medium",startIcon:I,type:R,variant:T="text",...E}=o,P={...o,color:u,component:c,disabled:f,disableElevation:m,disableFocusRipple:v,fullWidth:S,size:w,type:R,variant:T},N=Nue(P),j=I&&p.jsx(Due,{className:N.startIcon,ownerState:P,children:I}),V=A&&p.jsx(Fue,{className:N.endIcon,ownerState:P,children:A}),k=i||"";return p.jsxs(Bue,{ownerState:P,className:rn(r.className,N.root,h,k),component:c,disabled:f,focusRipple:!v,focusVisibleClassName:rn(N.focusVisible,b),ref:n,type:R,...E,classes:N,children:[j,l,V]})});function $ue(e){const t=Cc(e);return t.body===e?D0(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function gh(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function cM(e){return parseInt(D0(e).getComputedStyle(e).paddingRight,10)||0}function zue(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function uM(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,o=>{const l=!s.includes(o),u=!zue(o);l&&u&&gh(o,i)})}function ub(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function Uue(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if($ue(r)){const o=wee(D0(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${cM(r)+o}px`;const l=Cc(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${cM(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Cc(r).body;else{const o=r.parentElement,l=D0(r);s=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:l})=>{s?o.style.setProperty(l,s):o.style.removeProperty(l)})}}function Hue(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Gue{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&gh(t.modalRef,!1);const i=Hue(n);uM(n,t.mount,t.modalRef,i,!0);const s=ub(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=ub(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=Uue(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=ub(this.containers,o=>o.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&gh(t.modalRef,n),uM(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&gh(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const que=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Wue(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Kue(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Yue(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Kue(e))}function Que(e){const t=[],n=[];return Array.from(e.querySelectorAll(que)).forEach((r,i)=>{const s=Wue(r);s===-1||!Yue(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Jue(){return!0}function Xue(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Que,isEnabled:o=Jue,open:l}=e,u=x.useRef(!1),c=x.useRef(null),h=x.useRef(null),f=x.useRef(null),m=x.useRef(null),v=x.useRef(!1),A=x.useRef(null),b=cl(nw(t),A),S=x.useRef(null);x.useEffect(()=>{!l||!A.current||(v.current=!n)},[n,l]),x.useEffect(()=>{if(!l||!A.current)return;const R=Cc(A.current);return A.current.contains(R.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex","-1"),v.current&&A.current.focus()),()=>{i||(f.current&&f.current.focus&&(u.current=!0,f.current.focus()),f.current=null)}},[l]),x.useEffect(()=>{if(!l||!A.current)return;const R=Cc(A.current),T=N=>{S.current=N,!(r||!o()||N.key!=="Tab")&&R.activeElement===A.current&&N.shiftKey&&(u.current=!0,h.current&&h.current.focus())},E=()=>{var V,k;const N=A.current;if(N===null)return;if(!R.hasFocus()||!o()||u.current){u.current=!1;return}if(N.contains(R.activeElement)||r&&R.activeElement!==c.current&&R.activeElement!==h.current)return;if(R.activeElement!==m.current)m.current=null;else if(m.current!==null)return;if(!v.current)return;let j=[];if((R.activeElement===c.current||R.activeElement===h.current)&&(j=s(A.current)),j.length>0){const D=!!((V=S.current)!=null&&V.shiftKey&&((k=S.current)==null?void 0:k.key)==="Tab"),H=j[0],B=j[j.length-1];typeof H!="string"&&typeof B!="string"&&(D?B.focus():H.focus())}else N.focus()};R.addEventListener("focusin",E),R.addEventListener("keydown",T,!0);const P=setInterval(()=>{R.activeElement&&R.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(P),R.removeEventListener("focusin",E),R.removeEventListener("keydown",T,!0)}},[n,r,i,o,l,s]);const w=R=>{f.current===null&&(f.current=R.relatedTarget),v.current=!0,m.current=R.target;const T=t.props.onFocus;T&&T(R)},I=R=>{f.current===null&&(f.current=R.relatedTarget),v.current=!0};return p.jsxs(x.Fragment,{children:[p.jsx("div",{tabIndex:l?0:-1,onFocus:I,ref:c,"data-testid":"sentinelStart"}),x.cloneElement(t,{ref:b,onFocus:w}),p.jsx("div",{tabIndex:l?0:-1,onFocus:I,ref:h,"data-testid":"sentinelEnd"})]})}function Zue(e){return typeof e=="function"?e():e}const ede=x.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,l]=x.useState(null),u=cl(x.isValidElement(r)?nw(r):null,n);if(oS(()=>{s||l(Zue(i)||document.body)},[i,s]),oS(()=>{if(o&&!s)return sS(n,o),()=>{sS(n,null)}},[n,o,s]),s){if(x.isValidElement(r)){const c={ref:u};return x.cloneElement(r,c)}return p.jsx(x.Fragment,{children:r})}return p.jsx(x.Fragment,{children:o&&Vd.createPortal(r,o)})});function tv(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:o,internalForwardedProps:l,...u}=t,{component:c,slots:h={[e]:void 0},slotProps:f={[e]:void 0},...m}=s,v=h[e]||r,A=Mee(f[e],i),{props:{component:b,...S},internalRef:w}=Pee({className:n,...u,externalForwardedProps:e==="root"?m:void 0,externalSlotProps:A}),I=cl(w,A==null?void 0:A.ref,t.ref),R=o?o(S):{},T={...i,...R},E=e==="root"?b||c:b,P=Ree(v,{...e==="root"&&!c&&!h[e]&&l,...e!=="root"&&!h[e]&&l,...S,...E&&{as:E},ref:I},T);return Object.keys(R).forEach(N=>{delete P[N]}),[v,P]}const tde=e=>e.scrollTop;function dM(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const nde={entering:{opacity:1},entered:{opacity:1}},K4=x.forwardRef(function(t,n){const r=vw(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:l,easing:u,in:c,onEnter:h,onEntered:f,onEntering:m,onExit:v,onExited:A,onExiting:b,style:S,timeout:w=i,TransitionComponent:I=Aa,...R}=t,T=x.useRef(null),E=cl(T,nw(l),n),P=G=>F=>{if(G){const L=T.current;F===void 0?G(L):G(L,F)}},N=P(m),j=P((G,F)=>{tde(G);const L=dM({style:S,timeout:w,easing:u},{mode:"enter"});G.style.webkitTransition=r.transitions.create("opacity",L),G.style.transition=r.transitions.create("opacity",L),h&&h(G,F)}),V=P(f),k=P(b),D=P(G=>{const F=dM({style:S,timeout:w,easing:u},{mode:"exit"});G.style.webkitTransition=r.transitions.create("opacity",F),G.style.transition=r.transitions.create("opacity",F),v&&v(G)}),H=P(A),B=G=>{s&&s(T.current,G)};return p.jsx(I,{appear:o,in:c,nodeRef:T,onEnter:j,onEntered:V,onEntering:N,onExit:D,onExited:H,onExiting:k,addEndListener:B,timeout:w,...R,children:(G,F)=>x.cloneElement(l,{style:{opacity:0,visibility:G==="exited"&&!c?"hidden":void 0,...nde[G],...S,...l.props.style},ref:E,...F})})});function rde(e){return li("MuiBackdrop",e)}ci("MuiBackdrop",["root","invisible"]);const ide=e=>{const{ownerState:t,...n}=e;return n},sde=e=>{const{classes:t,invisible:n}=e;return Si({root:["root",n&&"invisible"]},rde,t)},ode=Mn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Y4=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:l=!1,open:u,components:c={},componentsProps:h={},slotProps:f={},slots:m={},TransitionComponent:v,transitionDuration:A,...b}=r,S={...r,component:o,invisible:l},w=sde(S),I={transition:v,root:c.Root,...m},R={...h,...f},T={slots:I,slotProps:R},[E,P]=tv("root",{elementType:ode,externalForwardedProps:T,className:rn(w.root,s),ownerState:S}),[N,j]=tv("transition",{elementType:K4,externalForwardedProps:T,ownerState:S}),V=ide(j);return p.jsx(N,{in:u,timeout:A,...b,...V,children:p.jsx(E,{"aria-hidden":!0,...P,classes:w,ref:n,children:i})})});function ade(e){return typeof e=="function"?e():e}function lde(e){return e?e.props.hasOwnProperty("in"):!1}const im=new Gue;function cde(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:l,onClose:u,open:c,rootRef:h}=e,f=x.useRef({}),m=x.useRef(null),v=x.useRef(null),A=cl(v,h),[b,S]=x.useState(!c),w=lde(l);let I=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(I=!1);const R=()=>Cc(m.current),T=()=>(f.current.modalRef=v.current,f.current.mount=m.current,f.current),E=()=>{im.mount(T(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},P=Bu(()=>{const F=ade(t)||R().body;im.add(T(),F),v.current&&E()}),N=()=>im.isTopModal(T()),j=Bu(F=>{m.current=F,F&&(c&&N()?E():v.current&&gh(v.current,I))}),V=x.useCallback(()=>{im.remove(T(),I)},[I]);x.useEffect(()=>()=>{V()},[V]),x.useEffect(()=>{c?P():(!w||!i)&&V()},[c,V,w,i,P]);const k=F=>L=>{var Y;(Y=F.onKeyDown)==null||Y.call(F,L),!(L.key!=="Escape"||L.which===229||!N())&&(n||(L.stopPropagation(),u&&u(L,"escapeKeyDown")))},D=F=>L=>{var Y;(Y=F.onClick)==null||Y.call(F,L),L.target===L.currentTarget&&u&&u(L,"backdropClick")};return{getRootProps:(F={})=>{const L=cL(e);delete L.onTransitionEnter,delete L.onTransitionExited;const Y={...L,...F};return{role:"presentation",...Y,onKeyDown:k(Y),ref:A}},getBackdropProps:(F={})=>{const L=F;return{"aria-hidden":!0,...L,onClick:D(L),open:c}},getTransitionProps:()=>{const F=()=>{S(!1),s&&s()},L=()=>{S(!0),o&&o(),i&&V()};return{onEnter:PR(F,l==null?void 0:l.props.onEnter),onExited:PR(L,l==null?void 0:l.props.onExited)}},rootRef:A,portalRef:j,isTopModal:N,exited:b,hasTransition:w}}function ude(e){return li("MuiModal",e)}ci("MuiModal",["root","hidden","backdrop"]);const dde=e=>{const{open:t,exited:n,classes:r}=e;return Si({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},ude,r)},fde=Mn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Os(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),hde=Mn(Y4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),pde=x.forwardRef(function(t,n){const r=ui({name:"MuiModal",props:t}),{BackdropComponent:i=hde,BackdropProps:s,classes:o,className:l,closeAfterTransition:u=!1,children:c,container:h,component:f,components:m={},componentsProps:v={},disableAutoFocus:A=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:S=!1,disablePortal:w=!1,disableRestoreFocus:I=!1,disableScrollLock:R=!1,hideBackdrop:T=!1,keepMounted:E=!1,onBackdropClick:P,onClose:N,onTransitionEnter:j,onTransitionExited:V,open:k,slotProps:D={},slots:H={},theme:B,...G}=r,F={...r,closeAfterTransition:u,disableAutoFocus:A,disableEnforceFocus:b,disableEscapeKeyDown:S,disablePortal:w,disableRestoreFocus:I,disableScrollLock:R,hideBackdrop:T,keepMounted:E},{getRootProps:L,getBackdropProps:Y,getTransitionProps:q,portalRef:Q,isTopModal:M,exited:U,hasTransition:X}=cde({...F,rootRef:n}),de={...F,exited:U},z=dde(de),pe={};if(c.props.tabIndex===void 0&&(pe.tabIndex="-1"),X){const{onEnter:Xe,onExited:Ue}=q();pe.onEnter=Xe,pe.onExited=Ue}const se={...G,slots:{root:m.Root,backdrop:m.Backdrop,...H},slotProps:{...v,...D}},[me,Ee]=tv("root",{elementType:fde,externalForwardedProps:se,getSlotProps:L,additionalProps:{ref:n,as:f},ownerState:de,className:rn(l,z==null?void 0:z.root,!de.open&&de.exited&&(z==null?void 0:z.hidden))}),[Re,be]=tv("backdrop",{elementType:i,externalForwardedProps:se,additionalProps:s,getSlotProps:Xe=>Y({...Xe,onClick:Ue=>{P&&P(Ue),Xe!=null&&Xe.onClick&&Xe.onClick(Ue)}}),className:rn(s==null?void 0:s.className,z==null?void 0:z.backdrop),ownerState:de}),je=cl(s==null?void 0:s.ref,be.ref);return!E&&!k&&(!X||U)?null:p.jsx(ede,{ref:Q,container:h,disablePortal:w,children:p.jsxs(me,{...Ee,children:[!T&&i?p.jsx(Re,{...be,ref:je}):null,p.jsx(Xue,{disableEnforceFocus:b,disableAutoFocus:A,disableRestoreFocus:I,isEnabled:M,open:k,children:x.cloneElement(c,pe)})]})})});function gde(e){return li("MuiDialog",e)}const db=ci("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Q4=x.createContext({}),mde=Mn(Y4,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),vde=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,o={root:["root"],container:["container",`scroll${Bt(n)}`],paper:["paper",`paperScroll${Bt(n)}`,`paperWidth${Bt(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Si(o,gde,t)},yde=Mn(pde,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ade=Mn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Bt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),bde=Mn(iy,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Bt(n.scroll)}`],t[`paperWidth${Bt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Os(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${db.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${db.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${db.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_de=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiDialog"}),i=vw(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":u=!0,BackdropComponent:c,BackdropProps:h,children:f,className:m,disableEscapeKeyDown:v=!1,fullScreen:A=!1,fullWidth:b=!1,maxWidth:S="sm",onBackdropClick:w,onClick:I,onClose:R,open:T,PaperComponent:E=iy,PaperProps:P={},scroll:N="paper",TransitionComponent:j=K4,transitionDuration:V=s,TransitionProps:k,...D}=r,H={...r,disableEscapeKeyDown:v,fullScreen:A,fullWidth:b,maxWidth:S,scroll:N},B=vde(H),G=x.useRef(),F=Q=>{G.current=Q.target===Q.currentTarget},L=Q=>{I&&I(Q),G.current&&(G.current=null,w&&w(Q),R&&R(Q,"backdropClick"))},Y=bee(l),q=x.useMemo(()=>({titleId:Y}),[Y]);return p.jsx(yde,{className:rn(B.root,m),closeAfterTransition:!0,components:{Backdrop:mde},componentsProps:{backdrop:{transitionDuration:V,as:c,...h}},disableEscapeKeyDown:v,onClose:R,open:T,ref:n,onClick:L,ownerState:H,...D,children:p.jsx(j,{appear:!0,in:T,timeout:V,role:"presentation",...k,children:p.jsx(Ade,{className:rn(B.container),onMouseDown:F,ownerState:H,children:p.jsx(bde,{as:E,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":Y,"aria-modal":u,...P,className:rn(B.paper,P.className),ownerState:H,children:p.jsx(Q4.Provider,{value:q,children:f})})})})})});function Sde(e){return li("MuiDialogActions",e)}ci("MuiDialogActions",["root","spacing"]);const xde=e=>{const{classes:t,disableSpacing:n}=e;return Si({root:["root",!n&&"spacing"]},Sde,t)},wde=Mn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ede=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...o}=r,l={...r,disableSpacing:s},u=xde(l);return p.jsx(wde,{className:rn(u.root,i),ownerState:l,ref:n,...o})});function Cde(e){return li("MuiDialogContent",e)}ci("MuiDialogContent",["root","dividers"]);function kde(e){return li("MuiDialogTitle",e)}const Tde=ci("MuiDialogTitle",["root"]),Ide=e=>{const{classes:t,dividers:n}=e;return Si({root:["root",n&&"dividers"]},Cde,t)},Rde=Mn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Os(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Tde.root} + &`]:{paddingTop:0}}}]}))),Pde=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,l={...r,dividers:s},u=Ide(l);return p.jsx(Rde,{className:rn(u.root,i),ownerState:l,ref:n,...o})});function Mde(e){return li("MuiTypography",e)}const Fye=ci("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),jde={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Ode=Zne(),Vde=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=e,l={root:["root",s,e.align!=="inherit"&&`align${Bt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Si(l,Mde,o)},Lde=Mn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Bt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Os(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(Lh()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Bt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),fM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},J4=x.forwardRef(function(t,n){const{color:r,...i}=ui({props:t,name:"MuiTypography"}),s=!jde[r],o=Ode({...i,...s&&{color:r}}),{align:l="inherit",className:u,component:c,gutterBottom:h=!1,noWrap:f=!1,paragraph:m=!1,variant:v="body1",variantMapping:A=fM,...b}=o,S={...o,align:l,color:r,className:u,component:c,gutterBottom:h,noWrap:f,paragraph:m,variant:v,variantMapping:A},w=c||(m?"p":A[v]||fM[v])||"span",I=Vde(S);return p.jsx(Lde,{as:w,ref:n,className:rn(I.root,u),...b,ownerState:S,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...b.style}})});function Nde(e){return li("MuiDialogContentText",e)}ci("MuiDialogContentText",["root"]);const Bde=e=>{const{classes:t}=e,r=Si({root:["root"]},Nde,t);return{...t,...r}},Dde=Mn(J4,{shouldForwardProp:e=>yw(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Fde=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...o}=r,l=Bde(o);return p.jsx(Dde,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:o,className:rn(l.root,s),...r,classes:l})}),$de=e=>{const{classes:t}=e;return Si({root:["root"]},kde,t)},zde=Mn(J4,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Ude=x.forwardRef(function(t,n){const r=ui({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,l=r,u=$de(l),{titleId:c=s}=x.useContext(Q4);return p.jsx(zde,{component:"h2",className:rn(u.root,i),ownerState:l,ref:n,variant:"h6",id:s??c,...o})});function Qn(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.map(n=>n.trim()).join(", "):t.trim()}`}const hM=e=>e.map(t=>`${fW[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),pM=e=>e.split(":")[0];function Hde(e){const t={artist:Qn("ARTIST",e.artist),title:Qn("TITLE",e.title),author:Qn("CREATOR",e.author),bpm:Qn("BPM",e.bpm),year:Qn("YEAR",e.year),previewStart:Qn("PREVIEWSTART",e.previewStart),video:Qn("VIDEO",`v=${e.video}`),videoGap:Qn("VIDEOGAP",e.videoGap),genre:Qn("GENRE",e.genre),language:Qn("LANGUAGE",e.language),gap:Qn("GAP",e.gap),edition:Qn("EDITION",e.edition),id:Qn("ALLKARAOKE_ID",e.id),lastUpdate:Qn("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:Qn("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:Qn("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:Qn("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:Qn("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:Qn("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:Qn("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(l=>l.name??null),r=[];e.tracks.map(l=>l.sections).forEach(([l,...u])=>{r.push(an(l)?hM(l.notes):`- ${l.start} ${l.end}`),u.forEach(c=>r.push(an(c)?`- ${c.start}
${hM(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?Qn("P1",n[0]):void 0).concat(n[1]?Qn("P2",n[1]):void 0).filter(z_),s=i.map(pM),o=(e.unsupportedProps??[]).filter(l=>!s.includes(pM(l)));return i.concat(...o).concat(r).concat("E").filter(z_).join(`
`)}const X4="share-songs",Z4=Al(X4),Gde=async e=>{try{if(!ot.getItem(X4))return;const n=await is.get(e);n&&ar.capture("share-song",{song:Hde(n),isBuiltIn:is.isBuiltIn(e)})}catch(t){console.error(t),Ps(t)}};function $ye(e){const[t,n]=Z4(null),[r,i]=x.useState(!!e.id&&t===null),s=()=>{i(!1)},o=l=>{n(l),l&&e.id&&Gde(e.id),s()};return p.jsxs(_de,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[p.jsx(Ude,{children:"Share songs?"}),p.jsx(Pde,{children:p.jsx(Fde,{children:p.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play 🥺",p.jsx("br",{}),p.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),p.jsxs(Ede,{children:[p.jsx(lM,{onClick:()=>o(!1),"data-test":"share-songs-disagree",children:"Disagree"}),p.jsx(lM,{onClick:()=>o(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}Zs.extend(_ue);function qde(){const{data:e}=Dd(!0),[t]=Z4(null),n=$v("song");_l(!1);const r=q4(n??"");return r.data?p.jsxs(iy,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[p.jsx(os,{children:p.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsxs(Wde,{children:[p.jsx(Pw,{to:"edit/list/",children:p.jsx("a",{children:"Return to the song list"})}),p.jsxs("span",{children:["Editing:"," ",p.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&p.jsx(Qv,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await is.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&ar.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:p.jsx(vue,{})})]}),p.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",p.jsx("b",{children:r.data.lastUpdate?Zs(r.data.lastUpdate).fromNow():"-"})]})]}),p.jsx(H4,{song:r.data})]}):p.jsx(p.Fragment,{children:"Loading"})}const Wde=W("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var Kde=Math.floor,Yde=Math.random;function Qde(e,t){return e+Kde(Yde()*(t-e+1))}function eN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Qde(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function Jde(e){return eN(jV(e))}function Xde(e,t){return Bx(t,function(n){return e[n]})}function Zde(e){return e==null?[]:Xde(e,ep(e))}function efe(e){return eN(Zde(e))}function tfe(e){var t=js(e)?Jde:efe;return t(e)}var M5;const tN=!((M5=document.getElementById("root"))!=null&&M5.hasChildNodes());function Ww(e){return tN?null:e.children}function Ai(e){const t=zi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return p.jsx(Pw,{...e,onClick:n})}const Pu=e=>new Promise(t=>setTimeout(t,e));function nfe(e,t){x.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var fb,gM;function rfe(){return gM||(gM=1,fb=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),fb}var ife=rfe();const sfe=Cr(ife);var sm={exports:{}},hb,mM;function ofe(){if(mM)return hb;mM=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,i){var s={name:r,handler:i};return n[r]=n[r]||[],n[r].unshift(s),s},t.off=function(r){var i=n[r.name].indexOf(r);i!==-1&&n[r.name].splice(i,1)},t.trigger=function(r,i){var s=n[r],o;if(s)for(o=s.length;o--;)s[o].handler(i)},t},hb=e,hb}var om={exports:{}},pb,vM;function afe(){if(vM)return pb;vM=1,pb=function(i,s,o){var l=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof s=="function"&&(o=s,s={}),s=s||{},o=o||function(){},u.type=s.type||"text/javascript",u.charset=s.charset||"utf8",u.async="async"in s?!!s.async:!0,u.src=i,s.attrs&&e(u,s.attrs),s.text&&(u.text=""+s.text);var c="onload"in u?t:n;c(u,o),u.onload||t(u,o),l.appendChild(u)};function e(r,i){for(var s in i)r.setAttribute(s,i[s])}function t(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function n(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return pb}var yM;function lfe(){return yM||(yM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=afe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),l(window.YT)}});return o},e.exports=t.default}(om,om.exports)),om.exports}var am={exports:{}},lm={exports:{}},cm={exports:{}},gb,AM;function cfe(){if(AM)return gb;AM=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*365.25;gb=function(c,h){h=h||{};var f=typeof c;if(f==="string"&&c.length>0)return s(c);if(f==="number"&&isNaN(c)===!1)return h.long?l(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(h){var f=parseFloat(h[1]),m=(h[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"days":case"day":case"d":return f*r;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=t?Math.round(c/t)+"m":c>=e?Math.round(c/e)+"s":c+"ms"}function l(c){return u(c,r,"day")||u(c,n,"hour")||u(c,t,"minute")||u(c,e,"second")||c+" ms"}function u(c,h,f){if(!(c<h))return c<h*1.5?Math.floor(c/h)+" "+f:Math.ceil(c/h)+" "+f+"s"}return gb}var bM;function ufe(){return bM||(bM=1,function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=u,t.disable=o,t.enable=s,t.enabled=l,t.humanize=cfe(),t.names=[],t.skips=[],t.formatters={};var n;function r(c){var h=0,f;for(f in c)h=(h<<5)-h+c.charCodeAt(f),h|=0;return t.colors[Math.abs(h)%t.colors.length]}function i(c){function h(){if(h.enabled){var f=h,m=+new Date,v=m-(n||m);f.diff=v,f.prev=n,f.curr=m,n=m;for(var A=new Array(arguments.length),b=0;b<A.length;b++)A[b]=arguments[b];A[0]=t.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");var S=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,function(I,R){if(I==="%%")return I;S++;var T=t.formatters[R];if(typeof T=="function"){var E=A[S];I=T.call(f,E),A.splice(S,1),S--}return I}),t.formatArgs.call(f,A);var w=h.log||t.log||console.log.bind(console);w.apply(f,A)}}return h.namespace=c,h.enabled=t.enabled(c),h.useColors=t.useColors(),h.color=r(c),typeof t.init=="function"&&t.init(h),h}function s(c){t.save(c),t.names=[],t.skips=[];for(var h=(typeof c=="string"?c:"").split(/[\s,]+/),f=h.length,m=0;m<f;m++)h[m]&&(c=h[m].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function l(c){var h,f;for(h=0,f=t.skips.length;h<f;h++)if(t.skips[h].test(c))return!1;for(h=0,f=t.names.length;h<f;h++)if(t.names[h].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(cm,cm.exports)),cm.exports}var _M;function dfe(){return _M||(_M=1,function(e,t){var n={};t=e.exports=ufe(),t.log=s,t.formatArgs=i,t.save=o,t.load=l,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function i(c){var h=this.useColors;if(c[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+c[0]+(h?"%c ":" ")+"+"+t.humanize(this.diff),!!h){var f="color: "+this.color;c.splice(1,0,f,"color: inherit");var m=0,v=0;c[0].replace(/%[a-zA-Z%]/g,function(A){A!=="%%"&&(m++,A==="%c"&&(v=m))}),c.splice(v,0,f)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function l(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(l());function u(){try{return window.localStorage}catch{}}}(lm,lm.exports)),lm.exports}var um={exports:{}},SM;function ffe(){return SM||(SM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(um,um.exports)),um.exports}var dm={exports:{}},xM;function hfe(){return xM||(xM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(dm,dm.exports)),dm.exports}var fm={exports:{}},hm={exports:{}},wM;function pfe(){return wM||(wM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(hm,hm.exports)),hm.exports}var EM;function gfe(){return EM||(EM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=pfe(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(fm,fm.exports)),fm.exports}var CM;function mfe(){return CM||(CM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=dfe(),r=h(n),i=ffe(),s=h(i),o=hfe(),l=h(o),u=gfe(),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}var f=(0,r.default)("youtube-player"),m={};m.proxyEvents=function(v){var A={},b=function(N){var j="on"+N.slice(0,1).toUpperCase()+N.slice(1);A[j]=function(V){f('event "%s"',j,V),v.trigger(N,V)}},S=!0,w=!1,I=void 0;try{for(var R=l.default[Symbol.iterator](),T;!(S=(T=R.next()).done);S=!0){var E=T.value;b(E)}}catch(P){w=!0,I=P}finally{try{!S&&R.return&&R.return()}finally{if(w)throw I}}return A},m.promisifyPlayer=function(v){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b={},S=function(j){A&&c.default[j]?b[j]=function(){for(var V=arguments.length,k=Array(V),D=0;D<V;D++)k[D]=arguments[D];return v.then(function(H){var B=c.default[j],G=H.getPlayerState(),F=H[j].apply(H,k);return B.stateChangeRequired||Array.isArray(B.acceptableStates)&&B.acceptableStates.indexOf(G)===-1?new Promise(function(L){var Y=function q(){var Q=H.getPlayerState(),M=void 0;typeof B.timeout=="number"&&(M=setTimeout(function(){H.removeEventListener("onStateChange",q),L()},B.timeout)),Array.isArray(B.acceptableStates)&&B.acceptableStates.indexOf(Q)!==-1&&(H.removeEventListener("onStateChange",q),clearTimeout(M),L())};H.addEventListener("onStateChange",Y)}).then(function(){return F}):F})}:b[j]=function(){for(var V=arguments.length,k=Array(V),D=0;D<V;D++)k[D]=arguments[D];return v.then(function(H){return H[j].apply(H,k)})}},w=!0,I=!1,R=void 0;try{for(var T=s.default[Symbol.iterator](),E;!(w=(E=T.next()).done);w=!0){var P=E.value;S(P)}}catch(N){I=!0,R=N}finally{try{!w&&T.return&&T.return()}finally{if(I)throw R}}return b},t.default=m,e.exports=t.default}(am,am.exports)),am.exports}var kM;function vfe(){return kM||(kM=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},r=ofe(),i=c(r),s=lfe(),o=c(s),l=mfe(),u=c(l);function c(f){return f&&f.__esModule?f:{default:f}}var h=void 0;t.default=function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A=(0,i.default)();if(h||(h=(0,o.default)(A)),m.events)throw new Error("Event handlers cannot be overwritten.");if(typeof f=="string"&&!document.getElementById(f))throw new Error('Element "'+f+'" does not exist.');m.events=u.default.proxyEvents(A);var b=new Promise(function(w){if((typeof f>"u"?"undefined":n(f))==="object"&&f.playVideo instanceof Function){var I=f;w(I)}else h.then(function(R){var T=new R.Player(f,m);return A.on("ready",function(){w(T)}),null})}),S=u.default.promisifyPlayer(b,v);return S.on=A.on,S.off=A.off,S},e.exports=t.default}(sm,sm.exports)),sm.exports}var yfe=vfe();const Afe=Cr(yfe);var bfe=Object.defineProperty,_fe=Object.defineProperties,Sfe=Object.getOwnPropertyDescriptors,TM=Object.getOwnPropertySymbols,xfe=Object.prototype.hasOwnProperty,wfe=Object.prototype.propertyIsEnumerable,IM=(e,t,n)=>t in e?bfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PS=(e,t)=>{for(var n in t||(t={}))xfe.call(t,n)&&IM(e,n,t[n]);if(TM)for(var n of TM(t))wfe.call(t,n)&&IM(e,n,t[n]);return e},MS=(e,t)=>_fe(e,Sfe(t)),Efe=(e,t,n)=>new Promise((r,i)=>{var s=u=>{try{l(n.next(u))}catch(c){i(c)}},o=u=>{try{l(n.throw(u))}catch(c){i(c)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);l((n=n.apply(e,t)).next())});function Cfe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function RM(e={}){return MS(PS({},e),{height:0,width:0,playerVars:MS(PS({},e.playerVars),{autoplay:0,start:0,end:0})})}function kfe(e,t){return e.videoId!==t.videoId||!sfe(RM(e.opts),RM(t.opts))}function Tfe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Ife={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Rfe={videoId:Rt.string,id:Rt.string,className:Rt.string,iframeClassName:Rt.string,style:Rt.object,title:Rt.string,loading:Rt.oneOf(["lazy","eager"]),opts:Rt.objectOf(Rt.any),onReady:Rt.func,onError:Rt.func,onPlay:Rt.func,onPause:Rt.func,onEnd:Rt.func,onStateChange:Rt.func,onPlaybackRateChange:Rt.func,onPlaybackQualityChange:Rt.func},Jm=class extends Je.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,l,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case Jm.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case Jm.PlayerState.PLAYING:(l=(o=this.props).onPlay)==null||l.call(o,t);break;case Jm.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=MS(PS({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Afe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Efe(this,null,function*(){Tfe(e,this.props)&&this.updatePlayer(),kfe(e,this.props)&&(yield this.resetPlayer()),Cfe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Je.createElement("div",{className:this.props.className,style:this.props.style},Je.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},oy=Jm;oy.propTypes=Rfe;oy.defaultProps=Ife;oy.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var bo=oy;function Pfe(e){const[t,n]=x.useState(1);return x.useEffect(()=>{if(e===bo.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function Mfe(e,t){x.useEffect(()=>{if(t===bo.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function jfe(e,t){return Mfe(e,t),Pfe(t)}var er=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(er||{});const PM={[bo.PlayerState.UNSTARTED]:"UNSTARTED",[bo.PlayerState.ENDED]:"ENDED",[bo.PlayerState.PLAYING]:"PLAYING",[bo.PlayerState.PAUSED]:"PAUSED",[bo.PlayerState.BUFFERING]:"BUFFERING",[bo.PlayerState.CUED]:"CUED"},Ofe=x.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:l,height:u,onStateChange:c},h){const f=x.useRef(null),[m,v]=x.useState(bo.PlayerState.UNSTARTED),A=jfe(f,m);return nfe(f,o),x.useEffect(()=>{f.current&&f.current.getInternalPlayer().setSize(l,u)},[f,l,u,t,A]),x.useImperativeHandle(h,()=>({getStatus:()=>PM[m],setSize:(b,S)=>{var w;return(w=f.current)==null?void 0:w.getInternalPlayer().setSize(b,S)},seekTo:b=>{var S;return(S=f.current)==null?void 0:S.getInternalPlayer().seekTo(b,!0)},setPlaybackSpeed:b=>{var S;return(S=f.current)==null?void 0:S.getInternalPlayer().setPlaybackRate(b)},setVolume:b=>{var S;return(S=f.current)==null?void 0:S.getInternalPlayer().setVolume(b)},getCurrentTime:()=>{var b,S,w,I;return((I=(w=(S=(b=f.current)==null?void 0:b.getInternalPlayer)==null?void 0:S.call(b))==null?void 0:w.getCurrentTime)==null?void 0:I.call(w))??Promise.resolve(0)},loadVideoById:b=>{var S;return(S=f.current)==null?void 0:S.getInternalPlayer().loadVideoById(b)},playVideo:()=>{var b;(b=f.current)==null||b.getInternalPlayer().playVideo()},pauseVideo:()=>{var b;return(b=f.current)==null?void 0:b.getInternalPlayer().pauseVideo()},getDuration:()=>{var b,S,w,I;return((I=(w=(S=(b=f.current)==null?void 0:b.getInternalPlayer)==null?void 0:S.call(b))==null?void 0:w.getDuration)==null?void 0:I.call(w))??Promise.resolve(0)}})),p.jsx(bo,{title:" ",ref:f,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:b=>{v(b.data),c==null||c(PM[b.data])}},`${t}-${A}`)}),Vfe=x.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:o,width:l,height:u,onStateChange:c},h){const f=x.useRef(null),[m,v]=x.useState({w:l,h:u}),[A,b]=x.useState(er.UNSTARTED);x.useEffect(()=>{const I=N=>()=>b(N),R=f.current,T=I(er.PLAYING),E=I(er.PAUSED),P=I(er.ENDED);return R==null||R.addEventListener("playing",T),R==null||R.addEventListener("pause",E),R==null||R.addEventListener("ended",P),()=>{R==null||R.removeEventListener("playing",T),R==null||R.removeEventListener("pause",E),R==null||R.removeEventListener("ended",P)}},[b]),x.useEffect(()=>{c==null||c(A)},[A,c]);const S=x.useRef(null),w=x.useMemo(()=>({getStatus:()=>A,setSize:(I,R)=>v({w:I,h:R}),seekTo:I=>(f.current&&(f.current.currentTime=I),I),setPlaybackSpeed:I=>{f.current&&(f.current.playbackRate=I)},setVolume:()=>{},getCurrentTime:()=>{var I;return Promise.resolve(((I=f.current)==null?void 0:I.currentTime)??0)},playVideo:async()=>{var I;return await Pu(200),(I=f.current)==null?void 0:I.play()},pauseVideo:()=>{var I;return(I=f.current)==null?void 0:I.pause()},getDuration:()=>{var I;return Promise.resolve(((I=f.current)==null?void 0:I.duration)??0)},loadVideoById:()=>{var I;clearTimeout(S.current),(I=f.current)==null||I.pause(),b(er.UNSTARTED),S.current=setTimeout(()=>{var R;(R=f.current)==null||R.play()},300)}}),[f]);return x.useEffect(()=>{w.setSize(l,u)},[l,u,w]),x.useEffect(()=>{r!==void 0&&w.seekTo(r)},[r,w]),x.useImperativeHandle(h,()=>w),p.jsx("video",{style:{width:m.w,height:m.h},autoPlay:n,controls:i,ref:f,children:p.jsx("source",{src:t})})}),Lfe="/assets/dummy-video-long-C7qbKeYK.webm",Nfe="/assets/dummy-video-9QP_sTy6.webm",Bfe=x.forwardRef(function({video:t,controls:n,...r},i){return p.jsx(Vfe,{ref:i,video:t==="Vueyx9TBEqE"?Lfe:Nfe,controls:!0,...r})}),Kw=x.forwardRef((e,t)=>_i()?p.jsx(Bfe,{...e,ref:t}):p.jsx(Ofe,{...e,ref:t}));function nN({songData:e,background:t,width:n,height:r,children:i,...s}){return p.jsxs(Dfe,{video:e.video,width:n,height:r,...s,children:[p.jsx($fe,{video:e.video,blur:!0}),t&&p.jsx(rN,{children:t}),p.jsx(zfe,{children:p.jsxs(Ufe,{children:[p.jsx(Hfe,{children:e.title}),p.jsx("br",{}),p.jsx(Gfe,{children:e.artist}),p.jsx("br",{}),e.author&&p.jsxs(qfe,{children:["by ",e.authorUrl?p.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const Dfe=W("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),rN=W("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Ffe=W(rN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),$fe=e=>p.jsx(Ffe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),zfe=W("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),Ufe=W("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),ay=W("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",xt,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Hfe=W(ay,{target:"e1kx27c2"})("color:",Ve.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Gfe=W(ay,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),qfe=W(ay,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Wfe(){var f;ya(!1),_l(!1);const e=zi(),{width:t,height:n}=Od(),[r,i]=x.useState(0),s=Dd(),[o,l]=x.useState([]),{register:u}=kr({onBackspace:()=>e("menu/")});x.useEffect(()=>s.data&&l(tfe(s.data)),[s.data]);const c=()=>s.data&&i(m=>(m+1)%s.data.length);if(!o.length||!t||!n)return null;const h=J0("game/",{song:o[r].id,playlist:"All"});return p.jsxs(yl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Ww,{children:p.jsxs(nN,{width:t,height:n,songData:o[r],"data-test":"jukebox-container","data-song":o[r].id,background:p.jsx(Kw,{autoplay:!0,controls:!0,width:t,height:n,volume:(f=o[r])==null?void 0:f.volume,video:o[r].video,startAt:o[r].videoGap,onStateChange:m=>{m===er.ENDED&&c()}}),children:[p.jsx(Yfe,{...u("skip-button",c),children:"Skip"}),p.jsx(Ai,{to:h,children:p.jsx(Kfe,{...u("sing-button",()=>e(h),void 0,!0),children:"Sing this song"})})]})})]})}const Kfe=W(ao,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Yfe=W(ao,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Qfe=W("svg",{target:"enucs170"})({name:"w3i2x3",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:3.5rem;height:3.5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Jfe=e=>p.jsx(Qfe,{...e,children:p.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[p.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),p.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Xm=zt([p.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),p.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),p.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),MM=zt(p.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),mb=zt(p.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),Xfe=zt([p.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),p.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Zfe=zt(p.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");function ehe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=Tt(Jr),{register:s}=kr({onBackspace:n});return p.jsxs(p.Fragment,{children:[p.jsxs(gm,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[p.jsxs(Xf,{children:[p.jsx(A4,{}),p.jsx(mb,{})]}),p.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",p.jsxs(Jf,{children:["Use"," ",p.jsxs("strong",{children:[p.jsx(Xfe,{}),"Camera app"]})," ","to scan a"," ",p.jsxs("strong",{children:[p.jsx(Zfe,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),p.jsx(Fw,{children:"Recommended"}),p.jsxs(pm,{children:[p.jsx(Xm,{}),p.jsx("strong",{children:"1-4"})]})]}),p.jsxs(gm,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[p.jsxs(Xf,{children:[p.jsx(MM,{}),i?p.jsx(mb,{}):p.jsx(y4,{})]}),p.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",p.jsxs(Jf,{children:["Great to ",p.jsx("strong",{children:"test"})," the app, ",p.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),p.jsxs(pm,{children:[p.jsx(MM,{}),p.jsx("strong",{children:"1"})]})]}),p.jsx("hr",{}),!i&&p.jsxs(gm,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[p.jsxs(Xf,{children:[p.jsx(_S,{}),p.jsx(g4,{})]}),p.jsxs("div",{children:["Multiple microphones",p.jsxs(Jf,{children:["Use either ",p.jsx("strong",{children:"SingStar"})," or ",p.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),p.jsxs(pm,{children:[p.jsx(Xm,{}),p.jsx("strong",{children:"2"})]})]}),p.jsxs(gm,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[p.jsxs(Xf,{children:[p.jsx(_S,{}),p.jsx(mb,{})]}),p.jsxs("div",{children:["Advanced (manual) setup",p.jsx(Jf,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),p.jsxs(pm,{children:[p.jsx(Xm,{}),p.jsx("strong",{children:"1-4"})]})]}),p.jsx("hr",{}),p.jsx(Ai,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:p.jsx(ut,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const pm=W("div",{target:"eb2r3ii3"})(xt,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),Jf=W("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Xf=W("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",Ve.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",Ve.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),gm=W(ut,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",gd,";",Jf,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Xf,"{transform:scale(1.75);}}");function iN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const Yw=(e,t,n=!0,r=1e3/rc.get())=>{x.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=nr.getPlayerVolume(e)??0,o=nr.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},the=(e,t=1e3/rc.get(),n)=>{const[r,i]=x.useState([0,0]);return Yw(e,i,!0,t),x.useEffect(()=>{n&&n(r)},[r,n]),r},sN=e=>x.useMemo(()=>{if(!Ve.colors.players[e])return"0, 0, 0";const t=xe(Ve.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),oN=W("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),nhe=x.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=sN(t);return it.getPlayer(t)?p.jsx(oN,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),Qw=({playerNumber:e,...t})=>{const[n,r]=x.useState(),i=x.useCallback(([o])=>{if(n){const l=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${l})`}},[n]);Yw(e,i);const s=sN(e);return p.jsx(oN,{...t,ref:r,style:{background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`}})};function rhe(e,t){const n=Object.keys(t),[r,i,s]=ss([ve.playerInputChanged,ve.inputListChanged],()=>{var c;const u=(c=it.getPlayer(e))==null?void 0:c.input;return u?[u,Io.getInputForPlayerSelected(u),Io.isPlayerInputInitialised(u)]:[null,null,!0]});x.useEffect(()=>{var u;if(s&&i===null){const c=n[0],h=t[c].getDefault();h&&((u=it.getPlayer(e))==null||u.changeInput(n[0],h.channel,h.deviceId))}});const o=u=>{var f;const c=dc(n,(r==null?void 0:r.source)??n[0]),h=u!==void 0?t[c].list[u]:t[c].getDefault();(f=it.getPlayer(e))==null||f.changeInput(c,h==null?void 0:h.channel,h==null?void 0:h.deviceId)},l=()=>{var f;if(!r)return;const u=t[r.source].list,c=i?u.findIndex(m=>m.id===i.id):0,h=up(u,c);if(h===0)o(0);else{const m=u[h];(f=it.getPlayer(e))==null||f.changeInput(r.source,m==null?void 0:m.channel,m==null?void 0:m.deviceId)}};return[(r==null?void 0:r.source)??null,o,i,l]}const aN=e=>{const t=e.player,[n,r,i,s]=rhe(t.number,e.inputs);return p.jsxs(p.Fragment,{children:[e.blockSourceChange?p.jsxs(ahe,{children:[p.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),p.jsx("h4",{children:"(click to change)"})]}):p.jsx(ohe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:p.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),p.jsx(she,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:p.jsx(ihe,{playerNumber:t.number})})]})},ihe=W(Qw,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),she=W(Es,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),ohe=W(Es,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),ahe=W("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function ly(e=!1,t){const n=ss(ve.inputListChanged,()=>{const r={...Io.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return x.useEffect(()=>{e&&Io.loadMics()},[e]),n}function fp(e,t=I0){x.useEffect(()=>{it.setMinPlayerNumber(e);const n=it.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)it.removePlayer(n[r-1].number);else if(n.length<e){const r=it.getPlayers().map(s=>s.number),i=Array.from(Array(I0).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)it.addPlayer(i.shift())}},[])}function lN(){const e=x.useRef(0);oi(ve.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),it.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=it.getPlayer(e.current);n?n.changeInput(pa.inputName,0,t):(r=it.addPlayer(e.current))==null||r.changeInput(pa.inputName,0,t),e.current=(e.current+1)%I0})}function lhe(e){fp(2);const t=ly(!0),n=Ow();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),lN();const{register:r}=kr({onBackspace:e.onBack}),s=ss(ve.playerInputChanged,()=>it.getInputs()).filter(l=>l.source===la.inputName),o=ss([ve.inputListChanged,ve.playerInputChanged,ve.playerRemoved],()=>it.getPlayers());return p.jsxs(p.Fragment,{children:[p.jsxs(cp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[p.jsx(Mw,{}),o.map((l,u)=>p.jsx(aN,{inputs:t,player:l,register:r,readonly:u>1},l.number)),p.jsx("hr",{}),s.length>1&&zw()&&iN()&&p.jsxs("h3",{children:[p.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",p.jsx("strong",{children:"MS Edge"})," or ",p.jsx("strong",{children:"Firefox"}),")"]})]}),p.jsx(ut,{...r("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const che=zt(p.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),cN=zt(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function Jw({names:e}){return p.jsx(uhe,{children:it.getPlayers().map(t=>p.jsxs(dhe,{"data-test":`mic-check-p${t.number}`,children:[p.jsx(Qw,{playerNumber:t.number}),p.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const uhe=W("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),dhe=W("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function fhe(e){const[t,n]=x.useState(null),r=x.useRef([]),i=x.useRef(0),s=x.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const u=r.current.sort()[Math.floor(r.current.length/2)]>0;u||i.current>7?n(u):i.current++,r.current.length=0}},[e]);return Yw(0,s,t!==!0),x.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function hhe(e){fp(1,1);const{register:t}=kr({onBackspace:e.onBack}),{Microphone:n}=ly(!0,"Microphone"),r=ss([ve.playerInputChanged,ve.inputListChanged],()=>{var h;const u=it.getInputs().find(f=>f.source==="Microphone"),c=Io.getInputList().Microphone.list;return u?((h=c.find(f=>f.id===Sc(u)))==null?void 0:h.label)??"":""}),i=u=>{it.getPlayers().forEach(c=>c.changeInput(la.inputName,u.channel,u.deviceId))},s=()=>{if(r===""){const u=n.getDefault();u&&i(u)}};x.useEffect(s,[]),oi([ve.inputListChanged,ve.playerRemoved],s);const o=()=>{const u=n.list.findIndex(c=>c.label===r);if(u>-1){const c=n.list[up(n.list,u)];i(c)}},l=fhe(r);return x.useEffect(()=>{e.onSetupComplete(!!r&&!!l)},[r,l]),p.jsxs(p.Fragment,{children:[p.jsxs(cp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&p.jsx("h3",{children:"The default device is being selected."}),r&&p.jsxs(p.Fragment,{children:[p.jsxs(phe,{children:[p.jsx("h3",{children:"You'll sing using"}),p.jsx("h4",{children:"(click to change)"})]}),p.jsx(Es,{...t("selected-mic",o),label:"Mic",value:r}),p.jsxs(ghe,{children:[l===!0&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Microphone is audible"}),p.jsx(vb,{children:p.jsx(vhe,{})})]}),l===!1&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Microphone is not audible"}),p.jsx(vb,{children:p.jsx(mhe,{})})]}),l===null&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"Make some noise to the microphone"}),p.jsx(vb,{children:p.jsx(dp,{size:"1em"})})]})]}),l===!1&&p.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),p.jsx(Jw,{}),l===!0&&p.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",p.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const phe=W("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),ghe=W("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),vb=W("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),mhe=W(cN,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),vhe=W(che,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function yhe(e){fp(2);const t=ly(!0,"Microphone"),n=Ow();x.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),x.useEffect(()=>{it.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=kr({onBackspace:e.onBack}),i=ss([ve.inputListChanged,ve.playerInputChanged,ve.playerRemoved],()=>it.getPlayers());return p.jsxs(p.Fragment,{children:[p.jsxs(cp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>p.jsx(aN,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),p.jsx("hr",{})]}),p.jsx(ut,{...r("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Ahe(e){const{register:t}=kr({onBackspace:e.onBack});return p.jsxs(p.Fragment,{children:[p.jsx(ut,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),p.jsx(ut,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),p.jsx("hr",{}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function bhe(e){var s,o;fp(2);const{register:t}=kr({onBackspace:e.onBack});lN();const n=ss([ve.inputListChanged,ve.playerInputChanged,ve.playerRemoved],()=>it.getInputs().map(l=>l.source==="Remote Microphone"?l:null).map(l=>l?Io.getInputForPlayerSelected(l):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return x.useEffect(()=>{e.onSetupComplete(i)},[i]),p.jsxs(p.Fragment,{children:[p.jsx(Mw,{}),p.jsx("h4",{children:"You can connect multiple phones in advance."}),p.jsx("h4",{children:"You will be able to connect phones later."}),p.jsx(Jw,{}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function _he(e){fp(2);const{register:t}=kr({onBackspace:e.onBack}),{Microphone:n}=ly(!0,"Microphone"),[r,i]=x.useState(!1),s=ss([ve.playerInputChanged,ve.inputListChanged],()=>{const c=it.getInputs(),h=[...new Set(c.map(v=>v.deviceId))].length===1,f=!c.find(v=>v.source!=="Microphone"),m=!c.find(v=>{var A;return((A=Io.getInputForPlayerSelected(v))==null?void 0:A.preferred)===void 0});return h&&f&&m});x.useEffect(()=>(s&&nr.startMonitoring(),()=>{nr.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[l,u]=x.useState(!1);return oi(ve.inputListChanged,c=>{const h=n.list.filter(f=>f.preferred!==void 0);h.length===2&&h[0].deviceId===h[1].deviceId&&h.forEach(f=>{var m;(m=it.getPlayer(f.preferred))==null||m.changeInput(la.inputName,f.channel,f.deviceId)}),c||u(!0)}),x.useEffect(()=>{e.onSetupComplete(s)},[s]),x.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),p.jsxs(p.Fragment,{children:[p.jsxs(cp,{fallback:p.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&p.jsxs(p.Fragment,{children:[p.jsxs("h3",{children:[p.jsx(dp,{size:"0.85em"})," Connect your SingStar microphones."]}),p.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),l&&p.jsx("h4",{children:p.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",p.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&p.jsxs(p.Fragment,{children:[!l&&p.jsxs(jM,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",p.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),zw()&&iN()&&p.jsxs(jM,{children:[p.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",p.jsx("strong",{children:"MS Edge"})," or ",p.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&p.jsxs(p.Fragment,{children:[p.jsxs("h2",{"data-test":"setup-completed",children:[p.jsx("strong",{children:"SingStar"})," microphone connected!"]}),p.jsx(Jw,{names:["Blue","Red"]})]})]}),p.jsx(ut,{...t("back-button",e.onBack),children:"Change Input Type"}),p.jsx(ut,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const jM=W("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function She(e){return x.useEffect(()=>{e.onSave()},[]),null}const uN="Previously selected input type",xhe=ot.local.getItem(uN);function Xw({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,l]=Tt(s3),[u,c]=x.useState(o==="skip"?null:o),[h,f]=x.useState(!1);x.useEffect(()=>{const b=nr.monitoringStarted();return nr.startMonitoring(),()=>{!b&&nr.stopMonitoring()}},[]);const m=(...b)=>{s?Dh(()=>{Vd.flushSync(()=>{c(...b)})}):c(...b)},v=b=>()=>{l(b==="skip"?o??"skip":b),b&&(ot.local.setItem(uN,b),ar.capture("sourcePreferenceSet",{source:b})),e==null||e(b)},A=()=>{Dh(()=>{c(null),f(!1)})};return p.jsxs(p.Fragment,{children:[p.jsx(Kr.Header,{children:h?p.jsxs(p.Fragment,{children:[p.jsx(Jfe,{})," Setup completed!"]}):"How do you want to sing?"}),(u===null||u==="skip")&&p.jsx(ehe,{onPreferenceSelected:m,previouslySelected:xhe,onBack:r,skipText:i}),u==="remoteMics"&&p.jsx(bhe,{onSetupComplete:f,onBack:A,onSave:v("remoteMics"),closeButtonText:t,changePreference:c}),u==="multiple-mics"&&p.jsx(Ahe,{onSetupComplete:f,onBack:A,closeButtonText:t,changePreference:c}),u==="singstar-mics"&&p.jsx(_he,{onSetupComplete:f,onBack:A,onSave:v("singstar-mics"),closeButtonText:t,changePreference:c}),u==="different-mics"&&p.jsx(yhe,{onSetupComplete:f,onBack:A,onSave:v("singstar-mics"),closeButtonText:t,changePreference:c}),u==="built-in"&&p.jsx(hhe,{onSetupComplete:f,onBack:A,onSave:v("built-in"),closeButtonText:t,changePreference:c}),u==="advanced"&&p.jsx(lhe,{onSave:v("advanced"),onSetupComplete:f,onBack:A,closeButtonText:t,changePreference:c}),u==="skip"&&p.jsx(She,{onSetupComplete:f,onBack:A,onSave:v("skip"),closeButtonText:t,changePreference:c})]})}function whe(){const e=zi();return p.jsxs(bl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Xw,{onFinish:()=>e("menu/"),closeButtonText:"Go to main menu"})]})}const Ehe=({error:e,resetError:t})=>p.jsxs(bl,{supportedBrowsers:!0,children:[p.jsxs("h1",{children:[p.jsx(Bd,{fontSize:"large"})," An error occurred :("]}),"message"in e?p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:"The game crashed with following error"}),p.jsx(Che,{children:e.message})]}):p.jsx("h3",{children:"The game crashed"}),p.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",p.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",p.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),p.jsx(ut,{onClick:t,children:"Reset Error"}),p.jsx("h4",{children:"If that doesn't help"}),p.jsx(ut,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),p.jsx("h4",{children:"If that doesn't help"}),p.jsx(ut,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(ot.session.clear(),ot.local.clear(),fh.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Che=W("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function khe(){_l(!1);const e=Dd();return x.useEffect(()=>{if(e.data){const t={};(async()=>{for(const n of e.data){if(n.realBpm)continue;const r=[`lookup=song:${encodeURIComponent(n.title)}+artist:${encodeURIComponent(n.artist)}`,"type=both","api_key=undefined"].join("&"),s=await(await fetch(`https://api.getsongbpm.com/search/?${r}`)).json();t[n.id]=Array.isArray(s.search)&&s.search[0]||null}console.log(t)})()}},[e.data]),p.jsx(p.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function The(){const e=zi(),t=()=>e("menu/");return p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Ww,{children:p.jsx(M4,{onClose:t,closeText:"Return to Main Menu"})})]})}function dN(){const[e]=Tt(tx);x.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let yb=0;function fN(){x.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),yb++,()=>{yb--,yb===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const Ihe=zt(p.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function Rhe({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=x.useRef(null),[o,l]=x.useState(!1),u=m=>{e(v=>({...v,search:m}))};mi("down",()=>{var m;(m=s.current)==null||m.blur()},{enabled:o,enableOnTags:["INPUT"]});const h=m=>{m.stopPropagation(),m.preventDefault(),u(m.key)};mi(rS,m=>{h(m),i(!0)},{enabled:!t.search&&n});const f=x.useCallback(m=>{n&&u(m)},[n]);return oi(ve.remoteSongSearch,f),mi(rS,m=>{var v;h(m),(v=s.current)==null||v.focus()},{enabled:!o&&n},[t.search]),mi("Backspace",m=>{var v;(v=s.current)==null||v.focus()},{enabled:!o&&n},[t.search]),x.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:p.jsx(Phe,{"data-test":"song-list-search",children:p.jsx(Mhe,{large:!0,children:p.jsx("form",{"data-test":"filters-search-form",onSubmit:m=>{var v;m.preventDefault(),(v=s.current)==null||v.blur()},children:p.jsx(zc,{onFocus:()=>l(!0),onBlur:()=>l(!1),onKeyDown:m=>{var v;m.key==="Backspace"&&((v=t.search)==null?void 0:v.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:u,ref:s,"data-test":"filters-search"})})})})}const Phe=W("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),Mhe=W("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function jhe({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=x.useState(!1),o=()=>{t(l=>({...l,search:""}))};return p.jsxs(p.Fragment,{children:[p.jsxs(Ohe,{children:[p.jsx(Ad,{title:"Search",place:"left",children:p.jsx(OM,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:p.jsx(Vw,{})})}),p.jsx(Ad,{title:"Pick random",place:"left",children:p.jsx(OM,{onClick:e,"data-test":"random-song-button",children:p.jsx(Ihe,{})})})]}),p.jsx(Rhe,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const OM=W(ao,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",Ve.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),Ohe=W("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function hN({videoId:e,...t}){return p.jsx(Bhe,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Vhe({videoId:e,...t}){const n=FX(e)??e,[r,i]=x.useState(!0);x.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=Tt(xs);return s==="low"?null:p.jsxs(Lhe,{...t,children:[p.jsx(VM,{videoId:r?e:n,visible:r}),p.jsx(VM,{videoId:r?n:e,visible:!r}),p.jsx(Nhe,{videoId:n})]})}const Lhe=W("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Nhe=W(hN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),VM=W(hN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Bhe=W("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function Dhe(e,t,n="mousedown",r={}){LX(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(l=>!!l.current).every(l=>l.current&&!l.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Fhe({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:l}=kr({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),u=x.useRef(null);return Dhe(u,()=>{t()}),Fc({left:()=>t("left"),right:()=>t("right")},e),x.useEffect(()=>{l(`playlist-${r}`)},[r]),x.useEffect(()=>{if(o){const c=n.find(h=>`playlist-${h.name}`===o);c&&i(c.name)}},[o,n]),p.jsx($he,{"data-test":"song-list-playlists",active:e,ref:u,children:n.map(({Wrapper:c,...h})=>{const f=p.jsx(zhe,{"data-selected":`playlist-${h.name}`===o,"data-active":e,...s(`playlist-${h.name}`,()=>l(`playlist-${h.name}`),void 0,h.name===r),children:h.display??h.name},h.name);return c?p.jsx(c,{active:e,focused:`playlist-${h.name}`===o,children:f},h.name):f})})}const $he=W("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",xt,";margin:0;}"),zhe=W(ao,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",CX,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),Zw=e=>{const[t,n]=x.useState(null),r=dd(e),i=async()=>{n(await iV(e))};return x.useEffect(()=>{i()},[r]),oi(ve.songStatStored,i),t},Uhe=e=>async(t,n,r,i)=>{const s=dd(e),o=await iV(e),l=o.scores.map(c=>{if(c.setup.id!==t)return c;const h=c.scores.map(f=>f.name!==r||f.score!==n?f:{name:i.trim(),score:n});return{...c,scores:h}}),u={...o,scores:l};await sV(e,u),ve.songScoreUpdated.dispatch(s,u,i.trim())},Hhe=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Ghe=["US","GB"];function qhe({song:e,forceFlag:t,...n}){const r=e.language[0],i=x.useMemo(()=>{var s;return e.artistOrigin?((s=Hhe[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return p.jsx(p.Fragment,{children:t&&e.artistOrigin?p.jsx(fc,{isocode:e.artistOrigin,...n}):i&&!Ghe.includes(e.artistOrigin)?p.jsx(fc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?p.jsx(fc,{language:e.language,...n}):null})}const Whe=zt(p.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Khe=zt(p.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function Yhe(e){return _c(e.edition??"")==="christmas"}const jS=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function Qhe(e){return!!jS(e)}const pN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Jhe=e=>p.jsxs(Zhe,{children:[e.song.tracksCount>1&&p.jsxs(tpe,{"data-test":"multitrack-indicator",children:[p.jsx(Xm,{}),"  Duet"]}),p.jsx(Xhe,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),Xhe=({song:e,isPopular:t,focused:n})=>{var u,c;const r=x.useMemo(()=>Gw(e),[e]),i=Qhe(e),s=Zw(e),o=((c=(u=s==null?void 0:s.scores)==null?void 0:u.at(-1))==null?void 0:c.date)??!1,l=o&&Zs(o).isAfter(Zs().subtract(1,"days"));return s!=null&&s.plays?p.jsx(mN,{"data-test":"song-stat-indicator",children:l?"Played today":p.jsx(p.Fragment,{children:n?p.jsxs(p.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?p.jsxs(bb,{white:!0,children:[p.jsx(Ab,{children:n?`Eurovision ${jS(e)}`:jS(e)}),p.jsx(epe,{src:pN,alt:e.edition})]}):r?p.jsx(bb,{white:!0,children:n?p.jsx(Ab,{children:"Added recently"}):p.jsx(Whe,{})}):t&&e.language.includes("English")?p.jsx(p.Fragment,{children:p.jsxs(bb,{children:[n&&p.jsx(Ab,{children:"Popular"}),p.jsx(Khe,{})]})}):null},Ab=W("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),Zhe=W("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),gN=W("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),bb=W(gN,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":Ve.colors.text.active,";width:2.5rem;height:2.5rem;}"),epe=W("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),mN=W(gN,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),tpe=W(mN,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),vN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:l,background:u=!0,forceFlag:c=!1,...h})=>{const f=h["data-expanded"]??!1,m=x.useCallback(()=>o?o(i,s):void 0,[o,i,s]),[v]=Tt(xs);return p.jsxs(ipe,{...h,onClick:o?m:void 0,children:[u&&p.jsx(spe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":f?!1:t,"data-expanded":h["data-expanded"],"data-graphic-setting":v}),p.jsxs(rpe,{"data-expanded":f,children:[!f&&p.jsx(Jhe,{song:e,isPopular:l,video:n}),p.jsx(eE,{"data-expanded":f,children:e.artist}),p.jsx(cy,{"data-expanded":f,children:e.title}),p.jsxs(yN,{"data-expanded":f,children:[f&&p.jsxs(p.Fragment,{children:[e.author&&p.jsxs(bN,{expanded:f,children:["by ",e.authorUrl?p.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),p.jsx(ope,{song:e})]}),!f&&p.jsx(npe,{song:e,forceFlag:c})]})]}),r,n]})},npe=W(qhe,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),yN=W("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),rpe=W("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),ipe=W("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),spe=W("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),AN=W("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",xt,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),eE=W(AN,{target:"e1ornw2x2"})("color:",Ve.colors.text.active,";"),cy=W(AN,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),bN=W(cy,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),ope=({song:e})=>{const t=Zw(e);return p.jsx(bN,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function ape({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=x.useState([]);return x.useEffect(()=>{const s=new IntersectionObserver(l=>{l.forEach(u=>{const c=Number(u.target.getAttribute("data-virtualized-group"));u.isIntersecting?i(h=>[...h,c]):i(h=>h.filter(f=>f!==c))})}),o=new MutationObserver(()=>{const l=document.querySelectorAll("[data-virtualized-group]");s.disconnect(),i([]),l.forEach(u=>{s.observe(u)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),p.jsx(p.Fragment,{children:p.jsx(lpe,{children:e.map((s,o)=>{const l=r.includes(o);return p.jsx(cpe,{onClick:()=>t(s),"data-active":l,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const lpe=W("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),cpe=W(ao,{target:"e131hflw0"})("border:none;cursor:pointer;",xt,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",Ve.colors.text.default,";&[data-active='true']{background:",Ve.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}"),LM={[yi.DUEL]:"Duel",[yi.PASS_THE_MIC]:"Pass The Mic",[yi.CO_OP]:"Cooperation"},_b=["Hard","Medium","Easy"],upe=Al("song_settings-game_mode-v3"),dpe=Al("song_settings-tolerance-v2");function fpe({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=upe(null),o=i??(e.tracksCount>1?yi.CO_OP:yi.DUEL),[l,u]=dpe(1),c=()=>{const v={id:M0(),players:[],mode:o,tolerance:l+1};t(v)},h=()=>{s(dc(Object.values(yi),o))},f=()=>u(v=>up(_b,v,-1)),{register:m}=kr({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return p.jsxs(p.Fragment,{children:[p.jsx(NM,{...m("difficulty-setting",f,"Change difficulty"),label:"Difficulty",value:_b[l],"data-test-value":_b[l]}),p.jsx(NM,{...m("game-mode-setting",h,"Change mode"),label:"Mode",value:LM[o],"data-test-value":LM[o]}),p.jsxs(ppe,{children:[o===yi.DUEL&&"Face off against each other - person that earns more points wins.",o===yi.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===yi.PASS_THE_MIC&&p.jsxs(p.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",p.jsx(Nw,{})," symbol."]})]}),p.jsx(hpe,{...m("next-step-button",c,void 0,!0),children:"Next ➤"})]})}const hpe=W(ao,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),ppe=W("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),NM=W(Es,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function gpe(){const t=ss(ve.playerInputChanged,()=>it.getInputs()).some(o=>o.source==="Microphone"),n=x.useRef([]),r=x.useCallback(o=>{n.current.push(o)},[]);the(0,50,r);const[i,s]=x.useState(!1);return x.useEffect(()=>{const o=setInterval(()=>{const l=n.current.filter(([,m])=>m===0),u=n.current.filter(([,m])=>m>0),c=l.reduce((m,[v])=>m+v,0)/(l.length+1),h=u.reduce((m,[v])=>m+v,0)/(u.length+1),f=u.length>l.length*.1&&h>.01&&c>.01&&h-c<c/2;s(f),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),p.jsxs(mpe,{visible:i,children:[p.jsxs("h2",{children:[p.jsx("strong",{children:p.jsx(Bd,{})})," ","Noise detected"]}),p.jsx("hr",{}),p.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&p.jsxs(p.Fragment,{children:["Alternatively, use your ",p.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const mpe=W("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),_N=(e,t=333,n)=>{const[r,i]=x.useState("ok");return x.useEffect(()=>{const s=setInterval(()=>{i(nr.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},SN=e=>{const[t,n]=x.useState(null);return x.useEffect(()=>{const r=setInterval(()=>{const i=Mt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function xN({playerNumber:e,...t}){var r,i;const n=SN((i=(r=it.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return p.jsx(p.Fragment,{children:n!==null?p.jsxs(vpe,{...t,children:[n,"ms"]}):""})}const vpe=W("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function wN({status:e,tooltipPosition:t="end",...n}){return p.jsxs(ype,{...n,children:[e==="ok"?p.jsx(Ape,{"data-test":"status-ok"}):e==="unavailable"?p.jsx(bpe,{"data-test":"status-unavailable"}):p.jsx(_pe,{"data-test":"status-unstable"}),e==="unavailable"?p.jsx(BM,{position:t,children:p.jsxs("span",{children:["The device is ",p.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?p.jsx(BM,{position:t,children:p.jsxs("span",{children:["The connection seems ",p.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const ype=W("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Ape=W("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),bpe=W(cN,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),_pe=W(Bd,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),BM=W("div",{target:"etoberq0"})(xt,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function EN({player:e}){const t=_N(e.number);return p.jsxs(Spe,{"data-test":`indicator-player-${e.number}`,children:[p.jsx(xN,{playerNumber:e.number}),p.jsx(wN,{status:t}),t!=="unavailable"&&p.jsx(Qw,{playerNumber:e.number}),p.jsx(xpe,{className:"ph-no-capture",children:e.getName()})]},e.number)}const Spe=W("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),xpe=W("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function wpe(e){ro(ve.playerNameChanged),x.useEffect(()=>{nr.startMonitoring()},[]);const n=ss(ve.playerInputChanged,()=>it.getInputs()).some(r=>r.source!=="Dummy");return p.jsxs(Epe,{...e,children:[p.jsxs(Cpe,{children:["Microphone Check",n?it.getPlayers().map(r=>p.jsx(EN,{player:r},r.number)):p.jsxs(p.Fragment,{children:[p.jsx(kpe,{children:"Mic not setup"}),p.jsx("h4",{children:"Singing will be emulated"}),p.jsx("h5",{children:"You can setup in the Next step"})]})]}),p.jsx(gpe,{})]})}const Epe=W("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",xt,";margin-bottom:8.6rem;gap:3.5rem;"),Cpe=W("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),kpe=W("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function CN({onClose:e,closeButtonText:t}){return p.jsx($c,{onClose:e,children:p.jsx(vl,{children:p.jsx(Xw,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const tE=x.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,$keyboardNavigationChangeFocus:l,onBlur:u,className:c,...h},f)=>{const m=x.useRef(null);x.useImperativeHandle(f,()=>m.current);const v=x.useRef(null),[A,b]=x.useState(!1),[S,w]=x.useState(-1),I=x.useMemo(()=>e.filter(E=>E.toLowerCase().trim().includes(r.toLowerCase().trim())&&E!==r),[e,r]),R=E=>{var P,N,j;if(E.code==="ArrowUp"||E.code==="ArrowDown")if(I.length){E.preventDefault();const V=up(I,S,E.code==="ArrowUp"?-1:1);w(V);const k=(P=v.current)==null?void 0:P.querySelector(`[data-index="${V}"]`);k==null||k.scrollIntoView({behavior:"smooth",block:"center"})}else(N=m.current)==null||N.blur(),l==null||l(E.code==="ArrowUp"?-1:1);else if(E.code==="Enter"){const V=I[S];V?(w(-1),i(V)):(j=m.current)==null||j.blur()}},T=()=>{setTimeout(()=>{b(!1),u==null||u()},300)};return p.jsxs(Tpe,{className:c,children:[p.jsx(zc,{onFocus:()=>b(!0),onBlur:T,onKeyDown:R,onChange:i,value:r,focused:t,label:n,disabled:s,ref:m,placeholder:o,...h}),A&&!!I.length&&p.jsx(Ipe,{ref:v,role:"listbox",children:I.map((E,P)=>p.jsx(Rpe,{role:"listitem","data-index":P,"data-focused":P===S,"data-e2e-focused":P===S,focused:P===S,onClick:()=>{var N;i(E),w(-1),(N=m.current)==null||N.blur()},children:E},E))})]})});tE.displayName="Autocomplete";const Tpe=W("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),Ipe=W("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),Rpe=W("div",{target:"elw4n420"})(xt,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?Ve.colors.text.active:"white",";cursor:pointer;"),Ppe=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function Mpe({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[l,u]=x.useState(!1),c=x.useRef(null);if(ro(ve.playerNameChanged),t===void 0)return null;const h=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),f=A=>{u(!0),t.setName(A)},m=!l,v=t.getName();return p.jsxs(p.Fragment,{children:[p.jsx(jpe,{maxLength:Ax,className:"ph-no-capture",value:m?"":v,placeholder:m?v:void 0,options:r,onChange:f,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var A;return(A=c.current)==null?void 0:A.focus()})}),e&&p.jsx(Ope,{...i(`player-${t.number}-track-setting`,h,"Change track"),label:"Track",value:Ppe(n.tracks,o.track),"data-test-value":o.track+1})]})}const jpe=W(tE,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Ope=W(Es,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function Vpe({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=Tt(Jr),[s]=Tt(s3),o=it.getPlayers(),l=!i&&o.length===2&&e.tracksCount>1,u=()=>o.map((T,E)=>({number:T.number,track:l?Math.min(E,e.tracksCount-1):0})),[c,h]=x.useState(u());oi([ve.playerAdded,ve.playerRemoved],()=>h(u()));const f=o.map((T,E)=>c.find(P=>P.number===T.number)??u()[E]),m=x.useMemo(()=>JSON.parse(ot.session.getItem(fd))??[],[]),v=T=>E=>{h(P=>P.map(N=>N.number===T?E:N))},[A,b]=x.useState(!1);x.useEffect(()=>{A||nr.startMonitoring()},[A]);const{register:S,focusElement:w}=kr({enabled:n&&!A,onBackspace:r,additionalHelp:{remote:["select-song"]}}),I=()=>{t(f)},R=!!s&&s!=="skip";return p.jsxs(p.Fragment,{children:[A&&p.jsx(CN,{closeButtonText:R?"Continue to the song":"Continue to player setup",onClose:()=>{b(!1),R&&w("play")}}),f.map((T,E)=>p.jsxs(Lpe,{children:[p.jsxs(Npe,{children:["Player ",E+1]}),p.jsx("div",{children:p.jsx(Mpe,{multipleTracks:l,player:it.getPlayer(T.number),setup:T,onChange:v(T.number),playerNames:m,register:S,songPreview:e})})]},T.number)),R&&p.jsx(DM,{...S("play-song-button",I,void 0,!0),children:"Play"}),p.jsx(DM,{...S("select-inputs-button",()=>b(!0),void 0,!1),children:"Setup mics"})]})}const Lpe=W("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),DM=W(ao,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Npe=W("span",{target:"e12y59820"})(xt,";padding:1.3rem;font-size:4.5rem;");function Bpe({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=x.useState(null),[o,l]=x.useState("song"),u=h=>{s(h),l("players")},c=h=>{if(!i)return;const f={...i,players:h};ve.songStarted.dispatch(e,f),t({song:e,...f})};return p.jsxs(Dpe,{children:[p.jsx(wpe,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),p.jsxs(Fpe,{children:[o==="song"&&p.jsx(fpe,{songPreview:e,onNextStep:u,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&p.jsx(Vpe,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>l("song")})]})]})}const Dpe=W("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Fpe=W("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),$pe=30,zpe=(e,t,n)=>{const[r,i]=Tt(Hh),s=n(e);return ya(!0,s?t:"regular"),x.useEffect(()=>{s&&i(t)},[]),x.useEffect(()=>{r!==t&&s?i(t):r===t&&!s&&i("regular")},[t,r,e]),s},Upe=(e,t,n,r)=>{const i=_i()?!0:qw(t);zpe(e,i?r:"regular",i?n:()=>!1)};function Hpe({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:l,isPopular:u,forceFlag:c}){const[h,f]=x.useState(!1),m=x.useRef(null),{width:v,height:A}=Od();Upe(e,Uh.Christmas,Yhe,"christmas");const b=s,S=e.previewStart??(e.videoGap??0)+60,w=e.previewEnd??S+$pe,I=x.useMemo(()=>[e.video,S,w,e.volume],[e.video,S,w,e.volume]),[R,T,E,P]=Lw(I,350);x.useLayoutEffect(()=>{var D;f(e.video===R&&((D=m.current)==null?void 0:D.getStatus())===er.PLAYING)},[e.video,R]),x.useEffect(()=>{var D,H;(D=m.current)==null||D.loadVideoById({videoId:R,startSeconds:T,endSeconds:E}),(H=m.current)==null||H.playVideo()},[R,m,T,E]);const N=b?v:r,j=b?A:i,V=b?Math.min(v/20*9,A*(4/5)):i;x.useEffect(()=>{var D;(D=m.current)==null||D.setSize(N,j)},[N,j,s,R]);const k=x.useCallback(D=>{var H,B;D===er.ENDED?((H=m.current)==null||H.seekTo(S),(B=m.current)==null||B.playVideo()):D===er.PLAYING&&f(!0)},[S]);return p.jsxs(p.Fragment,{children:[b&&p.jsx(Wpe,{onClick:o}),!b&&h&&p.jsx(Jpe,{width:N,height:j,left:n,top:t,song:e}),p.jsx(qpe,{forceFlag:c,isPopular:u,background:b||h,video:p.jsx(Kpe,{"data-show":h,"data-expanded":b,height:V,id:"preview-video-container",children:p.jsx(Kw,{width:0,height:0,disablekb:!0,ref:m,video:"",volume:P,onStateChange:k})}),focused:!0,song:e,top:t,left:n,width:N,height:V,"data-show-video":h,"data-expanded":b,"data-song":e.id,"data-test":"song-preview",children:p.jsx(Ype,{"data-expanded":b,children:b&&p.jsx(Bpe,{songPreview:e,onPlay:l,keyboardControl:s,onExitKeyboardControl:o})})})]})}const Gpe=W(vN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.15);}15%{transform:scale(1.2);}100%{transform:scale(1.15);}}view-transition-name:song-preview;",eE,"{view-transition-name:song-preview-artist;}",cy,"{view-transition-name:song-preview-title;}",yN,"{view-transition-name:song-preview-expanded-data;}"),qpe=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return p.jsx(Gpe,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},Wpe=W("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),Kpe=W("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),Ype=W("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),Qpe=W("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Jpe=e=>{const[t]=Tt(xs);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return p.jsx(Qpe,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Xpe(e){var t=Bm(e),n=t%1;return t===t?n?t-n:t:0}var Zpe=Math.ceil,ege=Math.max;function OS(e,t,n){t===void 0?t=1:t=ege(Xpe(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(Zpe(r/t));i<r;)o[s++]=Qx(e,i,i+=t);return o}function tge(e,t){const n=x.useRef(null),r=x.useMemo(()=>e.groups.map(h=>({group:h,rows:OS(h.songs,e.perRow)})),[e.groups,e.perRow]),i=x.useMemo(()=>r.map(({rows:h})=>h.length),[r]),s=x.useMemo(()=>r.flatMap(({rows:h})=>h),[r]),{ListRowWrapper:o,GroupRowWrapper:l}=e,u=x.useCallback((h,f)=>{const m=e.groups.findIndex(v=>v.name===h);return m===-1?e.groups.findIndex(v=>v.songs.some(A=>A.index===f)):m},[e.groups]),c=x.useCallback((h,f)=>{const m=u(h,f);if(m===-1)return;const v=e.groups[m].songs.findIndex(A=>A.index===f);return r.slice(0,m).reduce((A,{rows:b})=>A+b.length,Math.floor(v/e.perRow))},[u,r,e.groups,e.perRow]);return x.useImperativeHandle(t,()=>({getSongPosition:(h,f)=>{var S;const m=u(h,f);if(m===-1)return;const v=e.groups[m].songs.findIndex(w=>w.index===f),A=r.slice(0,m).reduce((w,{rows:I})=>w+I.length,Math.floor(v/e.perRow));return{y:((S=n.current)==null?void 0:S.getItemPositionY(A))??-1}},scrollToGroup:h=>{var m;const f=e.groups.findIndex(v=>v.name===h);f!==-1&&((m=n.current)==null||m.scrollToGroup(f,"smooth"))},scrollToSongInGroup:async(h,f,m="smooth")=>{var A;const v=c(h,f);v!==void 0&&((A=n.current)==null||A.scrollToIndex(v,_i()?"auto":m))}})),p.jsx(p.Fragment,{children:p.jsx(j4,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(h,f)=>p.jsx(l,{group:r[h].group,...f,children:e.renderGroup(r[h].group)}),ref:n,groupSizes:i,itemContent:(h,f,m)=>p.jsxs(o,{"data-is-new":r[f].group.isNew,...m,children:[s[h].map(v=>e.renderItem(v,r[f].group)),e.placeholder&&s[h].length<e.perRow&&new Array(e.perRow-s[h].length).fill(null).map((v,A)=>p.jsx(x.Fragment,{children:e.placeholder},A))]})},e.itemHeight)})}const nge=x.forwardRef(tge),kN=(e,t)=>e+Math.random()*(t-e),to=(e,t)=>Math.round(kN(e,t)),rge=250,ige=750;function sge(e){const t=uR(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=uR(async()=>XW(),[]),r=x.useMemo(()=>e.filter(Gw).map(u=>u.id),[e]),[i]=Tt(fv),s=t.loading||n.loading||!e.length,o=x.useMemo(()=>{if(s)return;const u=Object.keys(n.value).filter(A=>n.value[A].scores.some(b=>(b.progress??0)>.8)),c=Object.keys(t.value).filter(A=>!(i!=null&&i.includes(A))),h=[...new Set([...c,...i??[]])],f=e.filter(A=>!h.some(b=>A.language.includes(b))||A.local).map(A=>A.id).concat(...u),m=Math.max(rge,ige-Math.round(f.length/1.75)),v=c.map(A=>t.value[A].slice(0,m)).flat();return{popular:[...new Set([...u,...v,...f,...r])]}},[i,s,t.value,e,n.value]),l=x.useMemo(()=>({popular:[]}),[]);return{value:o??l,loading:s}}const oge=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function age(e){const t=Dd(),{value:{popular:n},loading:r}=sge(t.data),i=t.isLoading||r,{filters:s,filteredList:o,setFilters:l,selectedPlaylist:u,setSelectedPlaylist:c,playlists:h,playlist:f}=uce(t.data,n,i,e);return{groupedSongList:x.useMemo(()=>{var A;const v=[];if(s.search)return v.push({name:"Search results",songs:o.map((b,S)=>({index:S,song:b,isPopular:n.includes(b.id)}))}),v;{if(o.length===0)return[];(f!=null&&f.sortingFn?[...o].sort(f.sortingFn):o).forEach(w=>{try{const{name:I,...R}=((f==null?void 0:f.groupData)??oge)(w);let T=v.find(E=>E.name===I);T||(T={name:I,songs:[],...R},v.push(T)),T.songs.push({index:o.indexOf(w),song:w,isPopular:n.includes(w.id)})}catch(I){console.error(I),Ps(I)}});const S=((A=f==null?void 0:f.postGrouping)==null?void 0:A.call(f,v))??v;if(!(f!=null&&f.hideNew)){const w=o.filter(I=>I.isNew);w.length&&w.length<50&&S.unshift({name:"New",isNew:!0,songs:w.map(I=>({song:I,index:o.indexOf(I),isPopular:n.includes(I.id)}))})}return S}},[o,s.search,n,f]),songList:o,filters:s,setFilters:l,isLoading:i,selectedPlaylist:u,setSelectedPlaylist:c,playlists:h}}function nv(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e},[e]),t.current}const lge=30;function cge(e,t,n=lge){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[to(0,i.length-1)]}else r=to(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const uge=(e=[],t)=>{var b;const[n,r]=x.useState([0,0]),i=x.useMemo(()=>e.map(({songs:S})=>OS(S.map(w=>w.index),t)).flat(),[e,t]),s=x.useMemo(()=>e.map(({songs:S,name:w})=>OS(S.map(()=>w),t)).flat(),[e,t]),o=nv(i??[]),l=n[0]===((b=i[n[1]])==null?void 0:b.length)-1,u=x.useCallback((S,w)=>{var T;const I=i.findIndex((E,P)=>E.includes(S)&&(!w||w===s[P][0])),R=(T=i[I])==null?void 0:T.indexOf(S);R>=0&&I>=0?r([R??0,I??0]):r([0,0])},[i]),c=([S,w],I,R)=>{var E;if(e.length===0)return R;const T=I[w];return(T==null?void 0:T[S])??(T==null?void 0:T.at(-1))??((E=I==null?void 0:I[0])==null?void 0:E[0])??R},h=([S,w],I=i)=>c([S,w],I,0),f=([S,w],I=s)=>c([S,w],I,"A");x.useEffect(()=>{const S=h(n,o),w=h(n,i);o.length&&S!==w&&u(S)},[n,i,o,l]);const m=(S,w)=>{Ov.play(),r(([I,R])=>{var P;if(i.length===0)return[0,0];let T=I,E=R;if(S==="y")E=R+w;else{if(i[R]===void 0)debugger;const N=(((P=i[R])==null?void 0:P.length)??1)-1;T=Math.min(I,N)+w,T<0?(E=(i.length+R-1)%i.length,T=i[E].length-1):T>N&&(E=R+1,T=0)}return[T%t,(i.length+E)%i.length]})},v=h(n),A=f(n);return[v,A,n,m,u,l]},dge=(e,t=[],n,r,i,s)=>{const o=zi(),[l,u]=x.useState([!1,null]),c=nv(l),[h,f]=l,[m,v,A,b,S,w]=uge(t,s),I=A[0]===0,R=()=>{Px.play(),n()},[T,E]=x.useState(!1),P=nv(i.search);x.useLayoutEffect(()=>{if(P&&!i.search){E(!0);const F=setTimeout(()=>E(!1),2e3);return()=>{clearTimeout(F),E(!1)}}},[i.search]);const N=()=>{!T&&!i.search&&(Mx.play(),o("menu/"))},j=x.useCallback(Ku((F,L)=>{const Y=(t.length+L+F)%t.length;S(t[Y].songs[0].index),Ov.play()},700,{trailing:!1}),[t]),V=(F,L)=>{if(!(F!=null&&F.repeat))b("y",L);else{const Y=t.findIndex(q=>!!q.songs.find(Q=>Q.index===m));j(L,Y)}},k=(F,L=!1)=>{!L&&F===-1&&I&&!h?u([!0,"left"]):b("x",F)},D=x.useRef([]),H=()=>{const F=cge(r,D.current);S(F)};Fc({accept:R,down:F=>V(F,1),up:F=>V(F,-1),left:()=>k(-1),right:()=>k(1),back:N,random:H},e&&!h,[t,A,h,i,T]);const B=x.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);Nd(B,e);const G=x.useCallback(F=>{u([!1,F??null])},[u,k,t,A]);return x.useLayoutEffect(()=>{const[F,L]=c;F&&!h&&L===f&&k(f==="right"?1:-1,!0)},[h,f,I,w,...A]),[m,v,S,h,G,H]};function fge(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:l,setSelectedPlaylist:u,playlists:c}=age(e),[h,f]=x.useState(!0),m=P=>{Dh(()=>{Vd.flushSync(()=>{f(P)})}),jx.play(!1)},[v,A,b,S,w,I]=dge(h,r,()=>m(!1),n.length,s,t),[R,T]=x.useState(!1);x.useEffect(()=>{if(!R&&n.length&&!o){const P=n.findIndex(V=>V.id===e),N=n.findIndex(V=>V.isNew);let j=to(0,n.length-1);P>-1?j=P:N>-1&&(j=N),T(!0),b(j)}},[b,R,v,n,e,o]),x.useEffect(()=>{T(!1)},[e]),x.useEffect(()=>{var P;if(R&&n.length&&n[v]&&!o){const N=new URL((P=global.location)==null?void 0:P.href);N.searchParams.set("song",n[v].id),global.history.replaceState(null,"",N.toString())}},[R,v,n,o]);const E=n==null?void 0:n[v];return{groupedSongList:r,focusedSong:v,focusedGroup:A,moveToSong:b,setKeyboardControl:m,keyboardControl:h,songPreview:E,songList:n??[],filters:s,setFilters:i,showFilters:S,setShowFilters:w,isLoading:o||!R,randomSong:I,selectedPlaylist:l,setSelectedPlaylist:u,playlists:c}}const hge=1.1,FM=4,TN=7,VS=4.5,$M=TN+VS,mm=3.5,pge={Header:({context:e})=>p.jsxs(p.Fragment,{children:[p.jsx(Sge,{}),e&&e.songPreview.songPreview&&p.jsx(Hpe,{...e.songPreview})]}),Footer:()=>p.jsxs(mge,{children:["Missing a song? Try"," ",p.jsx(Pw,{to:"convert/",children:p.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>p.jsx(bge,{children:"No songs found"})};function gge({onSongSelected:e,preselectedSong:t}){const[n,r]=x.useState(t),[i]=Tt(Jr),s=i?FM-1:FM;_l(!1),ya(!0),fN();const{focusedGroup:o,focusedSong:l,moveToSong:u,groupedSongList:c,keyboardControl:h,songPreview:f,setKeyboardControl:m,setFilters:v,filters:A,setShowFilters:b,showFilters:S,isLoading:w,randomSong:I,selectedPlaylist:R,setSelectedPlaylist:T,playlists:E,songList:P}=fge(n,s),N=x.useMemo(()=>c.map(z=>z.songs).flat().find(z=>z.song.id===(f==null?void 0:f.id)),[f,c]),j=x.useRef(null),V=R4(),{width:k,handleResize:D}=Od(),B=(k-($M+VS)*V-(s-1)*mm*V)/s,G=B*(9/16),F=G/2,L=x.useCallback(()=>m(!1),[m]),Y=w||!c||!k,q=R==="Eurovision",Q=x.useRef(null);x.useEffect(()=>{const z=pe=>P.findIndex(se=>se.id===pe);return global.__songList={scrollToSong:pe=>{var Re;const[se]=pe.split("-new-group"),me=pe.endsWith("-new-group"),Ee=c.find(be=>!!be.isNew===me&&be.songs.some(je=>je.song.id===se));if(Ee){const be=z(se);return(Re=j.current)==null||Re.scrollToSongInGroup(Ee.name,be,"auto"),!0}return!1}},()=>{delete global.__songList}},[c,P]);const[{previewTop:M,previewLeft:U},X]=x.useState({previewTop:0,previewLeft:0});x.useEffect(()=>{var pe;const z=document.querySelector(`[data-song-index="${l}"][data-group="${o}"]`);if(!w&&z){const se=(pe=j.current)==null?void 0:pe.getSongPosition(o,l);X({previewTop:(se==null?void 0:se.y)??0,previewLeft:z.offsetLeft})}else w||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!",l,o)},[l,o,w,k]),x.useEffect(()=>{var z;D(),w||(z=j.current)==null||z.scrollToSongInGroup(o,l)},[k,l,o,c,w,D]);const de=zi();return mi("Shift + E",()=>de(J0("edit/song/",{playlist:null,step:"metadata"})),[de]),oi(ve.remoteSongSelected,async z=>{const pe=P.findIndex(se=>se.id===z);if(pe===-1)return r(z),L();l!==pe?(u(pe),h||m(!0),L()):h&&L()},[]),p.jsx(yl,{children:p.jsxs(vge,{songsPerRow:s,style:{"--song-group-header-height":`${Math.floor(F)}px`,"--song-entry-width":`${Math.floor(B)}px`,"--song-entry-height":`${Math.floor(G)}px`,"--song-list-gap":`${Math.floor(mm*V)}px`,"--song-list-padding-left":`${Math.floor($M*V)}px`,"--song-list-padding-right":`${Math.floor(VS*V)}px`,"--song-sidebar-weight":`${Math.floor(TN*V)}px`},children:[Y?p.jsxs(zM,{children:[p.jsx(HM,{children:p.jsx(qM,{children:p.jsx(LS,{children:"   "})})}),new Array(4).fill(0).map((z,pe)=>p.jsx(GM,{children:new Array(4).fill(0).map((se,me)=>p.jsx(UM,{},me))},pe))]}):p.jsxs(p.Fragment,{children:[f&&p.jsx(yge,{videoId:f.video}),p.jsx(jhe,{setFilters:v,filters:A,onRandom:I,keyboardControl:h}),p.jsx(ape,{container:Q.current,groupedSongList:c,onScrollToGroup:z=>{u(z.songs[0].index),setTimeout(()=>{var pe;return(pe=j.current)==null?void 0:pe.scrollToGroup(z.name)},20)}}),p.jsx(zM,{active:h,dim:S,"data-test":"song-list-container",ref:Q,children:p.jsx(nge,{focusedSong:l,focusedGroup:o,ListRowWrapper:GM,GroupRowWrapper:HM,ref:j,groups:c,itemHeight:Math.floor(G)+Math.floor(mm*V),groupHeight:Math.floor(F)+Math.floor(mm*V),components:pge,renderGroup:z=>p.jsx(qM,{"data-highlight":z.name==="New",children:p.jsx(LS,{"data-group-name":z.name,children:z.displayLong??z.name})},z.name),perRow:s,renderItem:(z,pe)=>{const se=z.index===l&&pe.name===o;return x.createElement(_ge,{...S||!h?{"data-unfocusable":!0}:{},isPopular:z.isPopular,key:z.song.id,song:z.song,handleClick:se?L:u,focused:!S&&h&&se,index:z.index,groupLetter:pe.name,"data-song-index":z.index,"data-focused":!S&&h&&z.index===l,"data-test":`song-${z.song.id}${pe.isNew?"-new-group":""}`,"data-group":pe.name,forceFlag:q})},placeholder:p.jsx(UM,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:q,isPopular:!!(N!=null&&N.isPopular),keyboardControl:!h,onPlay:e,onExitKeyboardControl:()=>m(!0),songPreview:f,top:M,left:U,width:Math.floor(B),height:Math.floor(G)}}})})]}),p.jsx(Fhe,{selectedPlaylist:R,setSelectedPlaylist:T,playlists:E,active:S,closePlaylist:b})]})})}const mge=W("div",{target:"e13s0pn12"})(xt,";text-align:center;font-size:5rem;padding:10rem 0;"),vge=W("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),yge=e=>{const{theme:t}=x.useContext(np);return t==="eurovision"?null:p.jsx(Age,{...e})},Age=W(Vhe,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),bge=W("div",{target:"e13s0pn9"})(xt,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),zM=W("div",{target:"e13s0pn8"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),UM=W("div",{target:"e13s0pn7"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),_ge=x.memo(W(vN,{target:"e13s0pn6"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",hge,");z-index:2;",gd,";}")),Sge=W("div",{target:"e13s0pn5"})(""),IN=W("div",{target:"e13s0pn4"})({name:"cxtvx1",styles:"display:flex;flex-wrap:nowrap;gap:var(--song-list-gap);padding:0 var(--song-list-padding-right) var(--song-list-gap) var(--song-list-padding-left)"}),HM=W(IN,{target:"e13s0pn3"})(""),GM=W(IN,{target:"e13s0pn2"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),LS=W("div",{target:"e13s0pn1"})(xt,";display:flex;padding:0.5rem 1rem;font-size:5.4rem;z-index:1;color:",Ve.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),qM=W("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",LS,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function xge(e){const[t,n]=Tt(fv),[r,i]=x.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?p.jsx(M4,{onClose:s,closeText:"Continue to Song Selection"}):p.jsx(gge,{...e})}const wge=zt(p.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),Sb=15;function Ege({onFinish:e}){const[t,n]=x.useState(!1),[r,i]=x.useState([]);oi(ve.readinessConfirmed,l=>{i(u=>[...u,l])});const s=ss([ve.inputListChanged,ve.readinessConfirmed],()=>it.getPlayers().map((l,u)=>[l.input.deviceId,l.getName(),l]));x.useEffect(()=>{(async()=>{let l=!1;const u=it.requestReadiness().then(()=>{l=!0,n(!0)}),c=Pu(1500),h=Pu(Sb*1e3);await Pu(250),l||await $m.play(),await Promise.race([Promise.all([u,c]),h]),$m.playing()&&oV.play(),await Pu(500),$m.stop(),await Pu(1e3),e()})()},[]);const o=s.map(([l,u,c])=>({confirmed:r.includes(l),name:u,player:c}));return p.jsx(p.Fragment,{children:p.jsxs(Cge,{children:[!t&&p.jsxs("span",{children:["Waiting for all players to click ",p.jsx("strong",{children:'"Ready"'})]}),p.jsx(Tge,{children:o.map(({confirmed:l,name:u,player:c},h)=>p.jsxs(Ige,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":u,"data-confirmed":l,children:[!t&&p.jsx(Rge,{children:l?p.jsx(wge,{}):p.jsx(dp,{color:"info",size:"1em"})})," ",p.jsx(EN,{player:c})]},h))}),!t&&p.jsxs(kge,{children:["The song will start automatically in"," ",p.jsx("strong",{children:p.jsx(Uw,{end:0,start:Sb,duration:Sb,useEasing:!1})})]})]})})}const Cge=W("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",xt,";"),kge=W("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),Tge=W("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),Ige=W("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),Rge=W("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function Pge({register:e,onExit:t}){const n=x.useRef(null),[r,i]=x.useState(!1),[s,o]=x.useState(!1),[l,u]=x.useState(!1);x.useEffect(()=>{var f;(f=n.current)==null||f.focus()},[n]);const c=()=>{const f=ct.getSong(),m={songId:f==null?void 0:f.id,songLastUpdated:f==null?void 0:f.lastUpdate},v=[];r&&v.push("not-in-sync"),s&&v.push("wrong-volume"),l&&v.push("bad-lyrics"),v.length&&ar.capture("rate-song",{issues:v,...m}),t()},h=s||r||l;return p.jsx(p.Fragment,{children:p.jsxs(Kr,{"data-test":"rate-song-container",title:"Is the song OK?",children:[p.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),p.jsxs(xb,{...e("button-not-in-sync",()=>i(f=>!f)),size:"small",children:[p.jsx(wb,{children:r?p.jsx(Km,{}):p.jsx(Ym,{})}),p.jsx("span",{children:"Lyrics are not in sync"})]}),p.jsxs(xb,{...e("button-bad-lyrics",()=>u(f=>!f)),size:"small",children:[p.jsx(wb,{children:l?p.jsx(Km,{}):p.jsx(Ym,{})}),p.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),p.jsxs(xb,{...e("button-wrong-volume",()=>o(f=>!f)),size:"small",children:[p.jsx(wb,{children:s?p.jsx(Km,{}):p.jsx(Ym,{})}),p.jsx("span",{children:"Too loud/quiet"})]}),p.jsx("hr",{}),p.jsx(ut,{...e("button-song-ok",c,void 0,!0),ref:n,children:h?"Submit and exit":"All good, exit the song"})]})})}const xb=W(ut,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),wb=W("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function Mge({onResume:e,onExit:t,onRestart:n}){const r=zi(),i=x.useRef(null),s=x.useRef(null);x.useEffect(()=>{var m;(m=i.current)==null||m.focus()},[i]);const[o,l]=x.useState(!1),{register:u}=kr({enabled:!o}),[c,h]=x.useState(!1),f=async()=>{const m=ct.getSongCompletionProgress(),v=(await is.getIndex()).find(A=>{var b;return A.id===((b=ct.getSong())==null?void 0:b.id)});!(v!=null&&v.local)&&m<.7?h(!0):t()};return p.jsxs($c,{onClose:e,children:[!c&&p.jsxs(p.Fragment,{children:[p.jsxs(Kr,{children:[p.jsx(ut,{...u("button-resume-song",e),ref:i,children:"Resume song"}),p.jsx(ut,{...u("button-restart-song",n),children:"Restart song"}),p.jsx(ut,{...u("button-exit-song",f),children:"Exit song"}),p.jsx(ut,{...u("input-settings",()=>l(!0)),children:"Microphones settings"}),p.jsx("hr",{}),p.jsx(F4,{ref:s,...u("input-lag",()=>{var m;return(m=s.current)==null?void 0:m.focus()})}),p.jsx(ut,{...u("edit-song",()=>{var m;return r("edit/song/",{song:((m=ct.getSong())==null?void 0:m.id)??""})}),size:"small",children:"Edit song"})]}),o&&p.jsx(CN,{onClose:()=>l(!1),closeButtonText:"Back to Pause Menu"})]}),c&&p.jsx(Pge,{onExit:t,register:u})]})}const RN=_i()?1e3:8e3;function jge(e){return Math.floor((sy(e)-RN)/1e3)}const Oge=2e4;function Vge(e){return sy(e)-(e.videoGap??0)*1e3>Oge}function Lge({playerRef:e,isEnabled:t}){const[n]=Tt(Jr),r=ct.getSong(),i=x.useMemo(()=>Vge(r),[r]),s=x.useMemo(()=>sy(r),[r]),o=ct.getCurrentTime(!1)<s-RN*1.2,l=t&&o&&i;Fc({accept:()=>{e==null||e.seekTo(jge(r));const{artist:h,title:f}=ct.getSong();ar.capture("introSkipped",{name:`${h} - ${f}`,artist:h,title:f})}},l);const c=x.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Nd(c,l),!n&&l?p.jsxs(Nge,{visible:l,"data-test":"skip-intro-info",children:["Press ",p.jsx(Bge,{children:"Enter"})," to skip the intro"]}):null}const Nge=W("div",{target:"e167kngm1"})(xt,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),Bge=W("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Dge=15e3;function Fge({onSongEnd:e,isEnabled:t}){const[n]=Tt(Jr),r=ct.getDuration(),i=x.useMemo(()=>Math.max(...ct.getPlayers().map(v=>ud(v.getLastNotesSection()))),[]),s=x.useMemo(()=>{var A;const v=ev(i,ct.getSong())+(((A=ct.getSong())==null?void 0:A.gap)??0);return t&&r*1e3>v+Dge},[r,i,t]),[o,l]=x.useState(0),[u,c]=x.useState(!1);GV(()=>l(ct.getCurrentBeat()),1e3);const h=Lw(s&&o>i,5e3)&&!u;Fc({accept:()=>{c(!0),setTimeout(e,700);const{artist:v,title:A}=ct.getSong();ar.capture("outroSkipped",{name:`${v} - ${A}`,artist:v,title:A})}},h);const m=x.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Nd(m,h),!n&&s?p.jsxs($ge,{visible:h,"data-test":"skip-outro-info","data-visible":h,children:["Press ",p.jsx(zge,{children:"Enter"})," to skip the outro"]}):null}const $ge=W("div",{target:"e1b01y1a1"})(xt,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),zge=W("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),Uge=Je.memo(Fge);function WM(e){return e&&e.length?T4(e):[]}function Hge({players:e}){const t=ct.getCurrentTime(!1),n=ct.getSongBeatLength(),r=ct.getDuration(),i=ct.getSong(),s=x.useMemo(()=>WM(i.tracks.filter((u,c)=>e.find(h=>h.track===c)).map(({sections:u})=>al(u)*n+i.gap)),[i,n,e]),o=x.useMemo(()=>WM(i.tracks.filter((u,c)=>e.find(h=>h.track===c)).map(({sections:u})=>Rh(u)*n+i.gap)),[i,n,e]),l=r*1e3;return!t||!r?null:p.jsxs(nE,{children:[s.map(u=>p.jsx(KM,{position:u/l},u)),o.map(u=>p.jsx(KM,{position:u/l},u)),p.jsx(Wge,{fill:t/l})]})}const nE=W("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),Gge=W(nE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",Ve.colors.text.active,";opacity:75%;"),KM=e=>p.jsx(Gge,{style:{left:`${Math.min(e.position*100,100)}%`}}),qge=W(nE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),Wge=e=>p.jsx(qge,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function Kge({player:e,bottom:t=!1,...n}){const r=nr.getPlayerVolume(e.number),i=_N(e.number);return p.jsxs(Yge,{...n,children:[i!=="unavailable"&&p.jsx(nhe,{playerNumber:e.number,volume:r}),p.jsx(Qge,{status:i,tooltipPosition:"start"}),p.jsx(Jge,{playerNumber:e.number})]})}const Yge=W("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Qge=W(wN,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Jge=W(xN,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function YM({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var T;const i=ct.getPlayer(e.number),[s]=Tt(Jr),o=Ve.colors.players[e.number].text,l=((T=ct.getSingSetup())==null?void 0:T.mode)===yi.PASS_THE_MIC?i.getTrack().changes:[],u=i.getCurrentSection(),c=i.getNextSection(),h=i.getNextSection(2),f=ct.getCurrentBeat(),m=ct.getSongBeatLength(),v=Math.max(0,...l.filter(E=>E<=((u==null?void 0:u.start)??-1/0))),A=l.find(E=>E>((u==null?void 0:u.start)??1/0))??1/0,b=(A-f)*m,S=(A-f)/(A-v),w=b<2500,I=an(u),R=I?al([u])-u.start:0;return p.jsxs(nme,{shouldBlink:w,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&p.jsx(Xge,{children:r?ct.getPlayers().map(E=>p.jsx(QM,{player:it.getPlayer(E.getNumber())},E.getNumber())):p.jsx(QM,{player:e})}),b<1/0&&p.jsx(lme,{color:o,progress:S<=1?S*100:0}),I?p.jsx(p.Fragment,{children:p.jsxs(vm,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[p.jsx(Zge,{children:p.jsx(tme,{color:o,percent:Math.min(2,(f-u.start)/R)})}),u==null?void 0:u.notes.map(E=>{const P=Math.max(0,Math.min(2,(f-E.start)/E.length));return p.jsxs(rme,{type:E.type,children:[p.jsxs(ime,{children:[p.jsx(ome,{fill:P,color:o,children:E.lyrics.trim()}),E.lyrics.endsWith(" ")&&" "]}),E.lyrics]},E.start)}),(c==null?void 0:c.start)===A&&p.jsx(JM,{"data-should-shake":!0})]})}):p.jsx(vm,{effectsEnabled:n,children:" "}),an(c)?p.jsxs(vm,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(E=>p.jsx(x.Fragment,{children:E.lyrics},E.start)),(h==null?void 0:h.start)===A&&p.jsx(JM,{})]}):p.jsx(vm,{effectsEnabled:n,nextLine:!0,children:" "})]})}const QM=W(Kge,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),Xge=W("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),Zge=W("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),eme=W("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),tme=({percent:e,color:t})=>{const n=x.useMemo(()=>{const r=xe(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return p.jsx(eme,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},nme=W("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),rme=W("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),ime=W("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),sme=W("span",{target:"e1j3lo7n3"})(""),ome=({fill:e,color:t,children:n})=>p.jsx(sme,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),ame=W("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),lme=e=>p.jsx(ame,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),JM=W(Nw,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",Ve.colors.text.active,";font-size:4rem;}"),vm=W("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?Ve.colors.text.inactive:Ve.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),PN=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function NS({score:e}){return p.jsx(p.Fragment,{children:PN.format(e)})}var Eb,XM;function cme(){if(XM)return Eb;XM=1;var e=4,t=.001,n=1e-7,r=10,i=11,s=1/(i-1),o=typeof Float32Array=="function";function l(b,S){return 1-3*S+3*b}function u(b,S){return 3*S-6*b}function c(b){return 3*b}function h(b,S,w){return((l(S,w)*b+u(S,w))*b+c(S))*b}function f(b,S,w){return 3*l(S,w)*b*b+2*u(S,w)*b+c(S)}function m(b,S,w,I,R){var T,E,P=0;do E=S+(w-S)/2,T=h(E,I,R)-b,T>0?w=E:S=E;while(Math.abs(T)>n&&++P<r);return E}function v(b,S,w,I){for(var R=0;R<e;++R){var T=f(S,w,I);if(T===0)return S;var E=h(S,w,I)-b;S-=E/T}return S}function A(b){return b}return Eb=function(S,w,I,R){if(!(0<=S&&S<=1&&0<=I&&I<=1))throw new Error("bezier x values must be in [0, 1] range");if(S===w&&I===R)return A;for(var T=o?new Float32Array(i):new Array(i),E=0;E<i;++E)T[E]=h(E*s,S,I);function P(N){for(var j=0,V=1,k=i-1;V!==k&&T[V]<=N;++V)j+=s;--V;var D=(N-T[V])/(T[V+1]-T[V]),H=j+D*s,B=f(H,S,I);return B>=t?v(N,H,S,I):B===0?H:m(N,j,j+s,S,I)}return function(j){return j===0?0:j===1?1:h(P(j),w,R)}},Eb}var ume=cme();const dme=Cr(ume),MN=6,As=30,gr=As+6,fme=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function ZM({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:l,playerCount:u,paddingVertical:c}){var R;const h=o.sections,f=h[t],m=h[t+1],v=fme({canvas:e,playerCount:u,playerIndex:l,paddingVertical:c}),A=an(f)?(R=f==null?void 0:f.notes)==null?void 0:R.at(-1):void 0,b=an(f)?(m==null?void 0:m.start)??A.start+A.length:f.end,S=f.start*r,w=(b-f.start)*r,I=(v.height-20-As)/(s-i+MN*2);return{playerCanvas:v,currentSection:f,sectionEndBeat:b,timeSectionGap:S,maxTime:w,pitchStepHeight:I}}function jN(e,t,n,r,i){return i&&n?Ve.colors.players[t].starPerfect:i?Ve.colors.players[t].perfect:n&&r?Ve.colors.players[t].star:r?Ve.colors.players[t].hit:Ve.colors.players[t].miss}function hme(e,t,n,r){return jN(e,t,r.note.type==="star",n,r.isPerfect)}const Zm={},pme=e=>{if(!Zm[e]){const t=xe(e);Zm[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return Zm[e]};console.log("cachedColors",Zm);function BS(e,t,n,r,i,s,o,l=1){if(i<=0)return;t.globalAlpha=1;const u=t.createRadialGradient(n,r,0,n,r,i/2),[c,h,f]=pme(o);u.addColorStop(0,c[to(0,c.length-1)]),u.addColorStop(.05,c[to(0,c.length-1)]),u.addColorStop(.15,f[to(0,f.length-1)]),u.addColorStop(1,h[to(0,h.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=u,t.fill(),t.fillStyle=o,t.globalAlpha=1}function rE(e,t,n,r,i,s,o,l,u=1){i>0&&BS(e,t,n,r,i,s,l,u)}const mh=(e,t)=>e-t+Math.random()*t*2,e5=(e=0)=>Math.sign(e+Math.random()-.5),gme=500,mme=100,ym=.2;class vme{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const l=1-this.ttl/this.startingTtl,u=this.startingTtl-this.ttl,c=this.width*l,h=this.width*this.heightModifier*l,f=this.x-c/2+u*this.velocityX,m=this.y+h/2+u*this.velocityY;rE(s,i,f,m,c,h,this.initialAngle+u,this.color,.5*l),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=mh(gme,mme),this.velocityX=ym*Math.random()-ym/2,this.velocityY=ym*Math.random()-ym/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class yme{constructor(t,n,r,i,s){this.finished=!0,this.tick=(c,h)=>{};const o=Ve.colors.players[i].starPerfect.fill,l=xe(o).lighten(15).toRgbString(),u=xe(o).darken(15).toRgbString();if(Math.random()>.85){const c=to(0,r/8),h=Math.random();let f=o;h>.66?f=l:h>.33&&(f=u);const m=n+20*(Math.random()-.5);s.add(new vme(t+c*8,m,f))}}}const Ame=300,bme=50,Am=1.3;class _me{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const l=1-this.ttl/this.startingTtl,u=this.ttl,c=this.width*l,h=this.width*this.heightModifier*l,f=this.x-c/2+u*this.velocityX,m=this.y+h/2+u*this.velocityY;rE(s,i,f,m,c,h,this.initialAngle+u,this.color,.7*l),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=mh(Ame,bme),this.velocityX=Am*Math.random()-Am/2,this.velocityY=Am*Math.random()-Am/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const Sme=`
precision mediump float;
`,uy=Sme.replace(/\n/g,""),xme=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,ON=xme.replace(/\n/g,""),wme=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,dy=wme.replace(/\n/g,""),Eme=uy+ON+dy+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;Eme.replace(/\n/g,"");const Cme=uy+dy+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Cme.replace(/\n/g,"");const kme=uy+ON+dy+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;kme.replace(/\n/g,"");const Tme=uy+dy+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;Tme.replace(/\n/g,"");function Ime(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Qx(e,t,n)}var Rme="\\ud800-\\udfff",Pme="\\u0300-\\u036f",Mme="\\ufe20-\\ufe2f",jme="\\u20d0-\\u20ff",Ome=Pme+Mme+jme,Vme="\\ufe0e\\ufe0f",Lme="\\u200d",Nme=RegExp("["+Lme+Rme+Ome+Vme+"]");function VN(e){return Nme.test(e)}function Bme(e){return e.split("")}var LN="\\ud800-\\udfff",Dme="\\u0300-\\u036f",Fme="\\ufe20-\\ufe2f",$me="\\u20d0-\\u20ff",zme=Dme+Fme+$me,Ume="\\ufe0e\\ufe0f",Hme="["+LN+"]",DS="["+zme+"]",FS="\\ud83c[\\udffb-\\udfff]",Gme="(?:"+DS+"|"+FS+")",NN="[^"+LN+"]",BN="(?:\\ud83c[\\udde6-\\uddff]){2}",DN="[\\ud800-\\udbff][\\udc00-\\udfff]",qme="\\u200d",FN=Gme+"?",$N="["+Ume+"]?",Wme="(?:"+qme+"(?:"+[NN,BN,DN].join("|")+")"+$N+FN+")*",Kme=$N+FN+Wme,Yme="(?:"+[NN+DS+"?",DS,BN,DN,Hme].join("|")+")",Qme=RegExp(FS+"(?="+FS+")|"+Yme+Kme,"g");function Jme(e){return e.match(Qme)||[]}function Xme(e){return VN(e)?Jme(e):Bme(e)}function Zme(e){return function(t){t=Kx(t);var n=VN(t)?Xme(t):void 0,r=n?n[0]:t.charAt(0),i=n?Ime(n,1).join(""):t.slice(1);return r[e]()+i}}var e0e=Zme("toUpperCase");function t0e(e){return e0e(Kx(e).toLowerCase())}function t5(e,t,n,r,i,s,o,l){const u=Math.max(r,i/2),c=Math.min(u/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+u-c,n),e.quadraticCurveTo(t+u,n,t+u,n+c),e.lineTo(t+u,n+i-c),e.quadraticCurveTo(t+u,n+i,t+u-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),l&&e.stroke()}function iE(e,t,n,r,i,s,o,l,u=.1){t5(e,t,n,r,i,s,o,l),o&&u>0&&(e.save(),t5(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${u})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Zf(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function eh(e,t,n,r,i,s,o){s==="star"?Zf(e,Ve.colors.lines.star):s==="freestyle"||s==="rap"?Zf(e,Ve.colors.lines.freestyle):s==="rapstar"?Zf(e,{...Ve.colors.lines.star,fill:Ve.colors.lines.freestyle.fill}):Zf(e,Ve.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?Ve.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,iE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function n0e(e,t,n,r,i,s,o,l,u){Zf(e,jN(e,s,u,o,l)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,iE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const vr=10,r0e={start:{x:0,y:0,w:As/2+vr,h:As+vr*2},middle:{x:As/2+vr,y:0,w:1,h:As+vr*2},end:{x:As/2+1+vr,y:0,w:As/2+vr,h:As+vr*2}},Fu={start:{x:0,y:0,w:gr/2+vr,h:gr+vr*2},middle:{x:gr/2+vr,y:0,w:1,h:gr+vr*2},end:{x:gr/2+1+vr,y:0,w:gr/2+vr,h:gr+vr*2}},ku=(e,t,n,r,i)=>({draw:(s,o,l,u,c)=>n0e(s,o,l,u,c,e,t,n,r),width:i?gr:As+1,height:i?gr:As,padding:vr,fragments:i?Fu:r0e}),bm=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>eh(t,n,r,i,s,"normal",e),width:gr+1,height:gr,padding:vr,fragments:Fu},[`p${e}Miss`]:ku(e,!1,!1,!1,!1),[`p${e}Hit`]:ku(e,!0,!1,!1,!0),[`p${e}Perfect`]:ku(e,!0,!0,!1,!0),[`p${e}StarMiss`]:ku(e,!1,!1,!0,!1),[`p${e}StarHit`]:ku(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:ku(e,!0,!0,!0,!0)}),ra={...bm(0),...bm(1),...bm(2),...bm(3),noteStar:{draw:(e,t,n,r,i)=>eh(e,t,n,r,i,"star"),width:gr+1,height:gr,padding:vr,fragments:Fu},noteFreestyle:{draw:(e,t,n,r,i)=>eh(e,t,n,r,i,"freestyle"),width:gr+1,height:gr,padding:vr,fragments:Fu},noteRap:{draw:(e,t,n,r,i)=>eh(e,t,n,r,i,"rap"),width:gr+1,height:gr,padding:vr,fragments:Fu},noteRapstar:{draw:(e,t,n,r,i)=>eh(e,t,n,r,i,"rapstar"),width:gr+1,height:gr,padding:vr,fragments:Fu}};function i0e(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const zN=Math.max(...Object.values(ra).map(e=>e.padding*2+e.width)),UN=Object.values(ra).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),HN=i0e(zN,UN),$S=HN.getContext("2d");let nc=0;const n5=Object.entries(ra).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:nc,w:t.width+n,h:t.height+n};return nc=nc+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),GN=()=>{$S.clearRect(0,0,zN,UN),nc=0,Object.entries(ra).forEach(([e,t])=>{t.draw($S,t.padding,nc+t.padding,t.width,t.height),nc=nc+t.padding*2+t.height})};GN();ve.songStarted.subscribe(GN);const qN=(e,t)=>({canvas:HN,ctx:$S,x:n5[e].x+ra[e].fragments[t].x,y:n5[e].y+ra[e].fragments[t].y,w:ra[e].fragments[t].w,h:ra[e].fragments[t].h,padding:ra[e].padding}),Cb=(e,t,n,r,i,s,o,l=1,u=1)=>{const c=qN(t,n),{canvas:h,w:f,h:m,y:v,x:A,padding:b}=c,S=b*l,w=b*u;return e.imageSmoothingEnabled=!1,e.drawImage(h,A,v,f,m,r-S,i-w,s??f,m),e.imageSmoothingEnabled=!0,c};function WN(e,t,n,r,i){const s=qN(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),l=Math.min(1,o/2/(s.w-s.padding)),u=l*s.w,c=u-s.padding*l,h=o-2*c;Cb(e,t,"start",n,r,u,void 0,l),h>0&&Cb(e,t,"middle",n+u,r,h,void 0,l),Cb(e,t,"end",n+h+u,r,u,void 0,l)}const s0e=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${t0e(e)}`;function KN(e,t,n,r,i,s){const o=s0e(i.type,s);WN(e,o,t,n,r)}function o0e(e,t,n,r,i,s){e.save(),iE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const a0e=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},l0e=["star","rapstar"];function c0e(e,t,n,r,i,s,o){const l=a0e(i,s,o.isPerfect,l0e.includes(o.note.type));WN(e,l,t,n,r)}class u0e{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Qo=new u0e,d0e=50/60*1e3,f0e=25/60*1e3,h0e=100,r5=.3;class p0e{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,l)=>{if(this.delay-- >0)return;const u=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,h=this.width*u,f=this.width*this.heightModifier*u,m=this.x-h/2+c*this.velocityX,v=this.y-f/2+c*this.velocityY;rE(o,s,m,v,h,f,this.initialAngle+c,this.color,.8*u),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.startingTtl=this.ttl=mh(d0e,f0e),this.velocityX=mh(.5,r5)*e5(.2),this.velocityY=mh(.4,r5)*e5(),this.width=h0e,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class g0e{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(f,m)=>{};const l=s.type==="star"?Ve.colors.players[i].star.fill:Ve.colors.players[i].perfect.fill,u=xe(l).lighten(15).toRgbString(),c=xe(l).darken(15).toRgbString(),h=r/9;for(let f=0;f<h;f++){const m=Math.random();let v=l;m>.66?v=u:m>.33&&(v=c);const A=n+20*(Math.random()-.5);o.add(new p0e(t+f*9,A,v,(h-f)/10))}}}const i5=400;class m0e{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=i5,this.tick=(o,l,u)=>{const c=this.ttl/i5;o.save(),o.globalAlpha=c,o.translate(Math.round(l.width*(c-1)),0),KN(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-u,this.finished=this.ttl<=0}}}const kb=50/60*1e3,_m=.05,v0e=200,s5=4,y0e=Math.pow;function o5(e){return 1-y0e(1-e,2)}function A0e(e){const t=Math.round(e*100),n=255,r=Math.min(255,Math.max(0,Math.round(255*(200-t*2)/100))),i=Math.max(0,Math.round(255*(100-t)/100));return`rgb(${n}, ${r}, ${i})`}class b0e{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,l)=>{const u=this.ttl/kb;let c=o5(1-Math.min(1,(1-u)*6));const h=this.maxWidth*c*3/4,f=this.maxWidth*c,m=A0e(1-u);BS(o,s,this.x,this.y,h,f,"white",c*.35),c=o5(u);const v=c*this.maxWidth/2,A=c*this.maxWidth/2,b=this.x,S=this.y,w=kb-this.ttl;s.globalAlpha=c*.2,BS(o,s,b+w*this.velocityX,S+w*this.velocityY,v,A,m,c*.2),this.ttl=this.ttl-l,this.finished=this.ttl<=0},this.ttl=kb,this.velocityX=_m*Math.random()-_m/2,this.velocityY=_m*Math.random()-_m/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*s5+(v0e-s5))}}const a5=20;class _0e{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,l,u)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const h=this.x+this.w-c,f=(this.h/2+2)*Math.sin(h/a5+this.seed/250);o.lineTo(h,this.y+this.h/2+f)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const h=this.x+this.w-c,f=-1*(this.h/2+2)*Math.sin(h/a5+this.seed/250);o.lineTo(h,this.y+this.h/2+f)}o.stroke(),this.ttl=this.ttl-u,this.finished=this.ttl<=0}}}const l5=20;function S0e(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class x0e{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{ve.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),ve.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(ct.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),it.getPlayers().forEach((l,u)=>{this.drawPlayer(l.number,s)}),Qo.tick(s,this.canvas,this.pauseTime)),rc.get()===30){const o=Date.now(),l=1e3/30,u=o-i>l?l:l-(o-i);this.loop&&setTimeout(this.drawFrame,u,rc.get())}rc.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:l}=ZM(o);if(xs.get()==="high"&&this.setDistortionForce(o),!an(l))return;const u=this.calculateDisplacements(l,o);this.drawNotesToSing(s,o,u),this.drawSungNotes(s,o,u),xs.get()==="high"&&(this.drawFlare(s,o,u),this.markGoldNotes(l,o))},this.setDistortionForce=i=>{var o,l,u;const s=i.currentSection;if(!an(s))(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-l5),h=i.currentPlayerNotes.filter(b=>b.note.start+b.note.length>=c).filter(b=>C0(b)===0).reduce((b,S)=>b+S.length-Math.max(0,c-S.start),0),f=i.currentPlayerNotes.at(-1),m=((f==null?void 0:f.start)??0)+((f==null?void 0:f.length)??0),v=i.currentBeat-m,A=Math.max(Math.min(Math.pow((h-v/1.5)/l5,3),.98),0);(u=this.shaders)==null||u.updatePlayerForce(i.playerNumber,A)}},this.drawNotesToSing=(i,s,o)=>{an(s.currentSection)&&s.currentSection.notes.forEach(l=>{const{x:u,y:c,w:h,h:f}=this.getNoteCoords(s,l,l.pitch,!0,o[l.start]);KN(i,u,c,h,l,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{an(s.currentSection)&&s.currentPlayerNotes.forEach(l=>{const u=C0(l),{x:c,y:h,w:f,h:m}=this.getNoteCoords(s,l,l.note.pitch+u,u===0,o[l.note.start]);(u>0||f>m/2.5)&&(c0e(i,c,h,f,s.playerNumber,u===0,l),l.vibrato&&Qo.add(new _0e(c,h,f,m,s.currentTime)),u===0&&l.frequencyRecords.length>3&&!lh.includes(l.note.type)&&o0e(i,c,h,f,m,l))})},this.drawFlare=(i,s,o)=>{var u;if(!an(s.currentSection))return;const l=S0e(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(l&&l.distance===0){const c=o[l.note.start]||[0,0],{x:h,y:f,w:m,h:v}=this.getNoteCoords(s,l,l.note.pitch,!0,c),A=lh.includes(l.note.type)?0:l.frequencyRecords.at(-1).preciseDistance,b=h+m,S=this.getPreciseY(f,v,A);Qo.add(new b0e(b,S,s.currentTime,1)),Qo.add(new _me(kN(Math.max(h,b-50),b),S,hme(i,s.playerNumber,!0,l).fill)),(u=this.shaders)==null||u.updatePlayerCenter(s.playerNumber,b,S)}},this.onSectionEnd=i=>{if(ct.isPlaying()){const s=this.getDrawingData(i,-1);if(!an(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{xs.get()==="high"&&i.notes.forEach(o=>{const{x:l,y:u,w:c,h}=this.getNoteCoords(s,o,o.pitch,!0);Qo.add(new m0e(l,u,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{xs.get()==="high"&&s.playerNotes.filter(l=>(l.distance===0||lh.includes(l.note.type))&&i.notes.includes(l.note)).forEach(l=>{const{x:u,y:c,w:h,h:f}=this.getNoteCoords(s,l,l.note.pitch,!0);Qo.add(new g0e(u,c+f/2,h,s.playerNumber,l.note,Qo))})},this.markGoldNotes=(i,s)=>{i.notes.filter(l=>l.type==="star"||l.type==="rapstar").forEach(l=>{const{x:u,y:c,w:h,h:f}=this.getNoteCoords(s,l,l.pitch,!0);Qo.add(new yme(u,c+f/2,h,s.playerNumber,Qo))})},this.calculateDisplacements=(i,s)=>{const o={};return xs.get()==="high"?i.notes.forEach(l=>{const u=s.playerNotes.filter(m=>m.note.start===l.start).filter(m=>m.note.start+m.note.length+30>=s.currentBeat&&m.distance===0).map(m=>m.start+30<s.currentBeat?m.length-(s.currentBeat-30-m.start):m.length).reduce((m,v)=>Math.min(m+v,30),0),c=Math.max(0,(u-5)/(l.type==="star"?3:5)),h=(Math.random()-.5)*c,f=(Math.random()-.5)*c;o[l.start]=[h,f]}):i.notes.forEach(l=>{o[l.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=it.getPlayers(),l=o.findIndex(b=>b.number===i),u=o.length,c=ct.getPlayer(i),h=c.getCurrentSectionIndex()+s,f=ct.getSong(),m=c.getTrack(),v=m.sections[h],A=c.getPlayerNotes();return{playerNumber:i,playerIndex:l,playerCount:u,song:f,songBeatLength:ct.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:ct.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:A,currentPlayerNotes:A.filter(b=>b.note.start>=((v==null?void 0:v.start)??1/0)),track:m,currentBeat:ct.getCurrentBeat(),currentSectionIndex:h,currentSection:v,paddingVertical:this.verticalMargin}},this.getNoteCoordsBase=(i,{start:s,length:o},l,u)=>{const{sectionEndBeat:c,currentSection:h,playerCanvas:f,pitchStepHeight:m}=ZM(i),v=an(h)?h.notes[0].start:1,A=f.width/(c-v),b=m*(i.maxPitch-l+MN);return{x:f.baseX+A*(s-v),y:f.baseY+10+b-(u?3:0),w:A*o,h:u?gr:As}},this.getNoteSlideInAnimationValue=(i,s)=>{const{song:o,currentBeat:l,currentSection:u}=s;if(!u)return i;const c=ev(an(u)?ud(u)-u.start:u.end-u.start,o),h=ev(l-u.start,o),f=Math.min(1,h/Math.min(2e3,c)),m=Math.round(this.canvas.width*Math.pow(1-f,25)),v=c/30,A=w0e(Math.min(1,h/c)),b=Math.round(v*(.5-A));return{...i,x:i.x+m+b}},this.calculateNoteDisplacement=(i,s,o=[0,0])=>{const[l,u]=s?o:[0,0];return{...i,x:i.x+l,y:i.y+u}},this.getNoteCoords=(i,s,o,l,u=[0,0])=>{let c=this.getNoteCoordsBase(i,s,o,l);return c=this.getNoteSlideInAnimationValue(c,i),c=this.calculateNoteDisplacement(c,l,u),{x:Math.floor(c.x),y:Math.floor(c.y),w:Math.floor(c.w),h:Math.floor(c.h)}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const w0e=dme(.25,.5,.75,.5),E0e=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,C0e=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,k0e=1920,T0e=x.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:l},u){var R,T,E;const[c]=Tt(xs),[h]=Tt(Jr),f=x.useRef(null),m=x.useRef(null),v=x.useRef(null),A=k0e,b=A*(n/t),S=b/n;x.useImperativeHandle(u,()=>({pause:()=>{var P;return(P=m.current)==null?void 0:P.pause()},resume:()=>{var P;return(P=m.current)==null?void 0:P.resume()}}),[m.current,(R=v.current)==null?void 0:R.offsetHeight,S]),x.useEffect(()=>(ct.startInputMonitoring(),()=>{ct.stopInputMonitoring()}),[]),x.useEffect(()=>{if(!(!f.current||!v.current))return m.current=new x0e(f.current,v.current.offsetHeight*S),m.current.start(),()=>{var P;(P=m.current)==null||P.end()}},[(T=v.current)==null?void 0:T.offsetHeight,S]),x.useEffect(()=>{var P,N,j,V;l&&((P=m.current)!=null&&P.isPlaying())?(N=m.current)==null||N.pause():!l&&!((j=m.current)!=null&&j.isPlaying())&&((V=m.current)==null||V.resume())},[l]),x.useEffect(()=>{e===er.ENDED&&i&&i()},[e,i]);const w=it.getPlayers(),I=!h&&w.length>1;return p.jsxs(I0e,{children:[c==="high"&&p.jsxs(p.Fragment,{children:[p.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:E0e}),p.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:C0e}),p.jsx(P0e,{id:"canvas",style:{zIndex:1e4}})]}),p.jsx(R0e,{id:"plane",style:s?void 0:{opacity:0},children:p.jsx("canvas",{ref:f,width:A,height:b,"data-sampler":"planeTexture"})}),s&&p.jsxs(p.Fragment,{children:[p.jsx(Lge,{playerRef:o,isEnabled:!l}),p.jsx(Uge,{onSongEnd:i,isEnabled:!l})]}),p.jsx(Hge,{players:r}),p.jsx(c5,{children:I&&p.jsx(YM,{player:w[0],effectsEnabled:s,showStatusForAllPlayers:w.length>2})}),p.jsx(M0e,{children:s&&p.jsx(p.Fragment,{children:((E=ct.getSingSetup())==null?void 0:E.mode)===yi.CO_OP?p.jsx(u5,{"data-test":"players-score","data-score":Math.floor(ct.getPlayerScore(0)),children:p.jsx(NS,{score:ct.getPlayerScore(0)})}):it.getPlayers().map(P=>p.jsx(u5,{"data-test":`player-${P.number}-score`,"data-score":Math.floor(ct.getPlayerScore(P.number)),children:p.jsx(NS,{score:ct.getPlayerScore(P.number)})},P.number))})}),p.jsx(c5,{ref:v,children:p.jsx(YM,{showStatusForAllPlayers:w.length>2,player:w.length>2?w[0]:w.at(-1),bottom:!0,effectsEnabled:s})})]})}),c5=W("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),I0e=W("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),R0e=W("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),P0e=W("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),M0e=W("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),u5=W("span",{target:"el0barv0"})("");function j0e(e,t){const[n,r]=x.useState(0);return x.useEffect(()=>{e.current&&t===er.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),ct.setDuration(i)})},[n,e,t]),n}function O0e({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:l,players:u,effectsEnabled:c=!0,singSetup:h,restartSong:f,pauseMenu:m=!1,...v},A){const b=x.useRef(null),[S,w]=x.useState(0),[I,R]=x.useState(er.UNSTARTED),[T]=Tt(sh),[E,P]=x.useState(!1);x.useEffect(()=>(ct.setSong(e),ct.setSingSetup(h),()=>{ct.resetSingSetup()}),[e,h]),x.useEffect(()=>{if(b.current&&I===er.PLAYING){const F=setInterval(async()=>{if(!b.current)return;const L=Math.max(0,await b.current.getCurrentTime()*1e3-T);w(L),s==null||s(L),ct.setCurrentTime(L),ct.update()},1e3/rc.get());return()=>clearInterval(F)}},[b,s,I,T]);const N=j0e(b,I);x.useImperativeHandle(A,()=>({seekTo:F=>b.current.seekTo(F),setPlaybackSpeed:F=>b.current.setPlaybackSpeed(F),play:()=>b.current.playVideo(),pause:()=>b.current.pauseVideo()}));const j=x.useCallback(F=>{R(F),l==null||l(F)},[R,l]),V=m,k=()=>{var F;P(!0),(F=b.current)==null||F.pauseVideo()},D=()=>{var F;P(!1),(F=b.current)==null||F.playVideo()},H=()=>{E?D():k()},B=nv(I);x.useEffect(()=>{var L;if(!V)return;const F=B!==er.PAUSED&&B!==er.BUFFERING&&I===er.PAUSED;I===er.PLAYING&&E?(L=b.current)==null||L.pauseVideo():F&&!E&&P(!0)},[E,I,B,V]),Fc({back:H},V,[E]);const G=x.useMemo(()=>({back:"Pause Menu"}),[]);return Nd(G,c),p.jsxs(V0e,{...v,children:[E&&p.jsx(Mge,{onExit:o,onResume:D,onRestart:f}),I!==er.UNSTARTED&&p.jsx(L0e,{style:{width:`${t}px`,height:`${n}px`},children:p.jsx(T0e,{isPauseMenuVisible:E,effectsEnabled:c,duration:N,currentStatus:I,song:e,width:t,height:n,onSongEnd:o,playerSetups:u,videoPlayerRef:b.current})}),p.jsxs(N0e,{children:[p.jsx(Kw,{ref:b,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:j}),I===er.PLAYING&&p.jsx(B0e,{"data-test":"make-song-go-fast",onClick:()=>{var F;(F=b.current)==null||F.setPlaybackSpeed(2)}})]})]})}const V0e=W("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),L0e=W("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),N0e=W("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),B0e=W("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),D0e=x.forwardRef(O0e),d5=[p.jsxs(p.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",p.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:p.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),p.jsxs(p.Fragment,{children:["Start typing a name of a song in ",p.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),p.jsxs(p.Fragment,{children:["Narrow down songs through ",p.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),p.jsxs(p.Fragment,{children:["Select ",p.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),p.jsxs(p.Fragment,{children:["Your scores and ",p.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),p.jsxs(p.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",p.jsx("strong",{children:"Edit Songs"})," page"]}),p.jsxs(p.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",p.jsx("strong",{children:"Settings"})," page"]}),p.jsxs(p.Fragment,{children:["Party is only getting started? Play ",p.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),p.jsxs(p.Fragment,{children:["Research shows that ",p.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),p.jsxs(p.Fragment,{children:["Want to sing a ",p.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",p.jsx("br",{}),p.jsx("strong",{children:"Convert Ultrastar .txt"})]}),p.jsxs(p.Fragment,{children:["The ",p.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),p.jsxs(p.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",p.jsx("strong",{children:"Keyboard"})]}),p.jsxs(p.Fragment,{children:["You can hide or show keyboard navigation help with ",p.jsx("kbd",{children:"H"})," key"]}),p.jsxs(p.Fragment,{children:["In Song Selection, hold ",p.jsx("kbd",{children:"↑"})," or ",p.jsx("kbd",{children:"↓"})," to jump to the next letter"]}),p.jsxs(p.Fragment,{children:["Add ",p.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",p.jsx("strong",{children:"bonus points"})]}),p.jsxs(p.Fragment,{children:["You can control the game with your phone - click on the"," ",p.jsxs("strong",{children:[p.jsx(H0,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],F0e=({as:e="h4",...t})=>{const n=x.useRef(to(0,d5.length-1)),r=e;return p.jsx(r,{...t,children:d5[n.current]})};function $0e({...e}){const[t,n]=x.useState(""),r=x.useRef(null);return x.useEffect(()=>{const i=setTimeout(()=>{n(Js.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),x.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Ps(i)}},[t]),p.jsx(z0e,{...e,children:p.jsx(U0e,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const z0e=W("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),U0e=W("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function H0e(e){return 1-Math.pow(1-e,3)}function G0e(e){return H0e(e)}function Sm({color:e,maxScore:t,score:n}){return p.jsx(q0e,{style:{border:n===0?0:void 0,width:`${G0e(n/t)*24}%`,backgroundColor:e}})}const q0e=W("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var e0={exports:{}},W0e=e0.exports,f5;function K0e(){return f5||(f5=1,function(e,t){(function(n,r){e.exports=r(Pc())})(typeof self<"u"?self:W0e,n=>(()=>{var r={7403:(l,u,c)=>{c.d(u,{default:()=>q});var h=c(4087),f=c.n(h);const m=function(Q){return new RegExp(/<[a-z][\s\S]*>/i).test(Q)},v=function(Q,M){return Math.floor(Math.random()*(M-Q+1))+Q};var A="TYPE_CHARACTER",b="REMOVE_CHARACTER",S="REMOVE_ALL",w="REMOVE_LAST_VISIBLE_NODE",I="PAUSE_FOR",R="CALL_FUNCTION",T="ADD_HTML_TAG_ELEMENT",E="CHANGE_DELETE_SPEED",P="CHANGE_DELAY",N="CHANGE_CURSOR",j="PASTE_STRING",V="HTML_TAG";function k(Q){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},k(Q)}function D(Q,M){var U=Object.keys(Q);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(Q);M&&(X=X.filter(function(de){return Object.getOwnPropertyDescriptor(Q,de).enumerable})),U.push.apply(U,X)}return U}function H(Q){for(var M=1;M<arguments.length;M++){var U=arguments[M]!=null?arguments[M]:{};M%2?D(Object(U),!0).forEach(function(X){L(Q,X,U[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(U)):D(Object(U)).forEach(function(X){Object.defineProperty(Q,X,Object.getOwnPropertyDescriptor(U,X))})}return Q}function B(Q){return function(M){if(Array.isArray(M))return G(M)}(Q)||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(Q)||function(M,U){if(M){if(typeof M=="string")return G(M,U);var X=Object.prototype.toString.call(M).slice(8,-1);return X==="Object"&&M.constructor&&(X=M.constructor.name),X==="Map"||X==="Set"?Array.from(M):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?G(M,U):void 0}}(Q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G(Q,M){(M==null||M>Q.length)&&(M=Q.length);for(var U=0,X=new Array(M);U<M;U++)X[U]=Q[U];return X}function F(Q,M){for(var U=0;U<M.length;U++){var X=M[U];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Q,Y(X.key),X)}}function L(Q,M,U){return(M=Y(M))in Q?Object.defineProperty(Q,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):Q[M]=U,Q}function Y(Q){var M=function(U,X){if(k(U)!=="object"||U===null)return U;var de=U[Symbol.toPrimitive];if(de!==void 0){var z=de.call(U,"string");if(k(z)!=="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(Q);return k(M)==="symbol"?M:String(M)}const q=function(){function Q(X,de){var z=this;if(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")}(this,Q),L(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),L(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),L(this,"setupWrapperElement",function(){z.state.elements.container&&(z.state.elements.wrapper.className=z.options.wrapperClassName,z.state.elements.cursor.className=z.options.cursorClassName,z.state.elements.cursor.innerHTML=z.options.cursor,z.state.elements.container.innerHTML="",z.state.elements.container.appendChild(z.state.elements.wrapper),z.state.elements.container.appendChild(z.state.elements.cursor))}),L(this,"start",function(){return z.state.eventLoopPaused=!1,z.runEventLoop(),z}),L(this,"pause",function(){return z.state.eventLoopPaused=!0,z}),L(this,"stop",function(){return z.state.eventLoop&&((0,h.cancel)(z.state.eventLoop),z.state.eventLoop=null),z}),L(this,"pauseFor",function(se){return z.addEventToQueue(I,{ms:se}),z}),L(this,"typeOutAllStrings",function(){return typeof z.options.strings=="string"?(z.typeString(z.options.strings).pauseFor(z.options.pauseFor),z):(z.options.strings.forEach(function(se){z.typeString(se).pauseFor(z.options.pauseFor).deleteAll(z.options.deleteSpeed)}),z)}),L(this,"typeString",function(se){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(m(se))return z.typeOutHTMLString(se,me);if(se){var Ee=(z.options||{}).stringSplitter,Re=typeof Ee=="function"?Ee(se):se.split("");z.typeCharacters(Re,me)}return z}),L(this,"pasteString",function(se){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return m(se)?z.typeOutHTMLString(se,me,!0):(se&&z.addEventToQueue(j,{character:se,node:me}),z)}),L(this,"typeOutHTMLString",function(se){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ee=arguments.length>2?arguments[2]:void 0,Re=function(Ue){var Le=document.createElement("div");return Le.innerHTML=Ue,Le.childNodes}(se);if(Re.length>0)for(var be=0;be<Re.length;be++){var je=Re[be],Xe=je.innerHTML;je&&je.nodeType!==3?(je.innerHTML="",z.addEventToQueue(T,{node:je,parentNode:me}),Ee?z.pasteString(Xe,je):z.typeString(Xe,je)):je.textContent&&(Ee?z.pasteString(je.textContent,me):z.typeString(je.textContent,me))}return z}),L(this,"deleteAll",function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return z.addEventToQueue(S,{speed:se}),z}),L(this,"changeDeleteSpeed",function(se){if(!se)throw new Error("Must provide new delete speed");return z.addEventToQueue(E,{speed:se}),z}),L(this,"changeDelay",function(se){if(!se)throw new Error("Must provide new delay");return z.addEventToQueue(P,{delay:se}),z}),L(this,"changeCursor",function(se){if(!se)throw new Error("Must provide new cursor");return z.addEventToQueue(N,{cursor:se}),z}),L(this,"deleteChars",function(se){if(!se)throw new Error("Must provide amount of characters to delete");for(var me=0;me<se;me++)z.addEventToQueue(b);return z}),L(this,"callFunction",function(se,me){if(!se||typeof se!="function")throw new Error("Callback must be a function");return z.addEventToQueue(R,{cb:se,thisArg:me}),z}),L(this,"typeCharacters",function(se){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(Ee){z.addEventToQueue(A,{character:Ee,node:me})}),z}),L(this,"removeCharacters",function(se){if(!se||!Array.isArray(se))throw new Error("Characters must be an array");return se.forEach(function(){z.addEventToQueue(b)}),z}),L(this,"addEventToQueue",function(se,me){var Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return z.addEventToStateProperty(se,me,Ee,"eventQueue")}),L(this,"addReverseCalledEvent",function(se,me){var Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return z.options.loop?z.addEventToStateProperty(se,me,Ee,"reverseCalledEvents"):z}),L(this,"addEventToStateProperty",function(se,me){var Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Re=arguments.length>3?arguments[3]:void 0,be={eventName:se,eventArgs:me||{}};return z.state[Re]=Ee?[be].concat(B(z.state[Re])):[].concat(B(z.state[Re]),[be]),z}),L(this,"runEventLoop",function(){z.state.lastFrameTime||(z.state.lastFrameTime=Date.now());var se=Date.now(),me=se-z.state.lastFrameTime;if(!z.state.eventQueue.length){if(!z.options.loop)return;z.state.eventQueue=B(z.state.calledEvents),z.state.calledEvents=[],z.options=H({},z.state.initialOptions)}if(z.state.eventLoop=f()(z.runEventLoop),!z.state.eventLoopPaused){if(z.state.pauseUntil){if(se<z.state.pauseUntil)return;z.state.pauseUntil=null}var Ee,Re=B(z.state.eventQueue),be=Re.shift();if(!(me<=(Ee=be.eventName===w||be.eventName===b?z.options.deleteSpeed==="natural"?v(40,80):z.options.deleteSpeed:z.options.delay==="natural"?v(120,160):z.options.delay))){var je=be.eventName,Xe=be.eventArgs;switch(z.logInDevMode({currentEvent:be,state:z.state,delay:Ee}),je){case j:case A:var Ue=Xe.character,Le=Xe.node,Oe=document.createTextNode(Ue),mt=Oe;z.options.onCreateTextNode&&typeof z.options.onCreateTextNode=="function"&&(mt=z.options.onCreateTextNode(Ue,Oe)),mt&&(Le?Le.appendChild(mt):z.state.elements.wrapper.appendChild(mt)),z.state.visibleNodes=[].concat(B(z.state.visibleNodes),[{type:"TEXT_NODE",character:Ue,node:mt}]);break;case b:Re.unshift({eventName:w,eventArgs:{removingCharacterNode:!0}});break;case I:var vt=be.eventArgs.ms;z.state.pauseUntil=Date.now()+parseInt(vt);break;case R:var De=be.eventArgs,ht=De.cb,Ut=De.thisArg;ht.call(Ut,{elements:z.state.elements});break;case T:var Wt=be.eventArgs,Ht=Wt.node,Ge=Wt.parentNode;Ge?Ge.appendChild(Ht):z.state.elements.wrapper.appendChild(Ht),z.state.visibleNodes=[].concat(B(z.state.visibleNodes),[{type:V,node:Ht,parentNode:Ge||z.state.elements.wrapper}]);break;case S:var jt=z.state.visibleNodes,Xt=Xe.speed,Zt=[];Xt&&Zt.push({eventName:E,eventArgs:{speed:Xt,temp:!0}});for(var bt=0,dt=jt.length;bt<dt;bt++)Zt.push({eventName:w,eventArgs:{removingCharacterNode:!1}});Xt&&Zt.push({eventName:E,eventArgs:{speed:z.options.deleteSpeed,temp:!0}}),Re.unshift.apply(Re,Zt);break;case w:var nt=be.eventArgs.removingCharacterNode;if(z.state.visibleNodes.length){var _t=z.state.visibleNodes.pop(),cn=_t.type,Lt=_t.node,Pt=_t.character;z.options.onRemoveNode&&typeof z.options.onRemoveNode=="function"&&z.options.onRemoveNode({node:Lt,character:Pt}),Lt&&Lt.parentNode.removeChild(Lt),cn===V&&nt&&Re.unshift({eventName:w,eventArgs:{}})}break;case E:z.options.deleteSpeed=be.eventArgs.speed;break;case P:z.options.delay=be.eventArgs.delay;break;case N:z.options.cursor=be.eventArgs.cursor,z.state.elements.cursor.innerHTML=be.eventArgs.cursor}z.options.loop&&(be.eventName===w||be.eventArgs&&be.eventArgs.temp||(z.state.calledEvents=[].concat(B(z.state.calledEvents),[be]))),z.state.eventQueue=Re,z.state.lastFrameTime=se}}}),X)if(typeof X=="string"){var pe=document.querySelector(X);if(!pe)throw new Error("Could not find container element");this.state.elements.container=pe}else this.state.elements.container=X;de&&(this.options=H(H({},this.options),de)),this.state.initialOptions=H({},this.options),this.init()}var M,U;return M=Q,(U=[{key:"init",value:function(){var X,de;this.setupWrapperElement(),this.addEventToQueue(N,{cursor:this.options.cursor},!0),this.addEventToQueue(S,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(X=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(de=document.createElement("style")).appendChild(document.createTextNode(X)),document.head.appendChild(de),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(X){this.options.devMode&&console.log(X)}}])&&F(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),Q}()},8552:(l,u,c)=>{var h=c(852)(c(5639),"DataView");l.exports=h},1989:(l,u,c)=>{var h=c(1789),f=c(401),m=c(7667),v=c(1327),A=c(1866);function b(S){var w=-1,I=S==null?0:S.length;for(this.clear();++w<I;){var R=S[w];this.set(R[0],R[1])}}b.prototype.clear=h,b.prototype.delete=f,b.prototype.get=m,b.prototype.has=v,b.prototype.set=A,l.exports=b},8407:(l,u,c)=>{var h=c(7040),f=c(4125),m=c(2117),v=c(7518),A=c(4705);function b(S){var w=-1,I=S==null?0:S.length;for(this.clear();++w<I;){var R=S[w];this.set(R[0],R[1])}}b.prototype.clear=h,b.prototype.delete=f,b.prototype.get=m,b.prototype.has=v,b.prototype.set=A,l.exports=b},7071:(l,u,c)=>{var h=c(852)(c(5639),"Map");l.exports=h},3369:(l,u,c)=>{var h=c(4785),f=c(1285),m=c(6e3),v=c(9916),A=c(5265);function b(S){var w=-1,I=S==null?0:S.length;for(this.clear();++w<I;){var R=S[w];this.set(R[0],R[1])}}b.prototype.clear=h,b.prototype.delete=f,b.prototype.get=m,b.prototype.has=v,b.prototype.set=A,l.exports=b},3818:(l,u,c)=>{var h=c(852)(c(5639),"Promise");l.exports=h},8525:(l,u,c)=>{var h=c(852)(c(5639),"Set");l.exports=h},8668:(l,u,c)=>{var h=c(3369),f=c(619),m=c(2385);function v(A){var b=-1,S=A==null?0:A.length;for(this.__data__=new h;++b<S;)this.add(A[b])}v.prototype.add=v.prototype.push=f,v.prototype.has=m,l.exports=v},6384:(l,u,c)=>{var h=c(8407),f=c(7465),m=c(3779),v=c(7599),A=c(4758),b=c(4309);function S(w){var I=this.__data__=new h(w);this.size=I.size}S.prototype.clear=f,S.prototype.delete=m,S.prototype.get=v,S.prototype.has=A,S.prototype.set=b,l.exports=S},2705:(l,u,c)=>{var h=c(5639).Symbol;l.exports=h},1149:(l,u,c)=>{var h=c(5639).Uint8Array;l.exports=h},577:(l,u,c)=>{var h=c(852)(c(5639),"WeakMap");l.exports=h},4963:l=>{l.exports=function(u,c){for(var h=-1,f=u==null?0:u.length,m=0,v=[];++h<f;){var A=u[h];c(A,h,u)&&(v[m++]=A)}return v}},4636:(l,u,c)=>{var h=c(2545),f=c(5694),m=c(1469),v=c(4144),A=c(5776),b=c(6719),S=Object.prototype.hasOwnProperty;l.exports=function(w,I){var R=m(w),T=!R&&f(w),E=!R&&!T&&v(w),P=!R&&!T&&!E&&b(w),N=R||T||E||P,j=N?h(w.length,String):[],V=j.length;for(var k in w)!I&&!S.call(w,k)||N&&(k=="length"||E&&(k=="offset"||k=="parent")||P&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||A(k,V))||j.push(k);return j}},2488:l=>{l.exports=function(u,c){for(var h=-1,f=c.length,m=u.length;++h<f;)u[m+h]=c[h];return u}},2908:l=>{l.exports=function(u,c){for(var h=-1,f=u==null?0:u.length;++h<f;)if(c(u[h],h,u))return!0;return!1}},8470:(l,u,c)=>{var h=c(7813);l.exports=function(f,m){for(var v=f.length;v--;)if(h(f[v][0],m))return v;return-1}},8866:(l,u,c)=>{var h=c(2488),f=c(1469);l.exports=function(m,v,A){var b=v(m);return f(m)?b:h(b,A(m))}},4239:(l,u,c)=>{var h=c(2705),f=c(9607),m=c(2333),v=h?h.toStringTag:void 0;l.exports=function(A){return A==null?A===void 0?"[object Undefined]":"[object Null]":v&&v in Object(A)?f(A):m(A)}},9454:(l,u,c)=>{var h=c(4239),f=c(7005);l.exports=function(m){return f(m)&&h(m)=="[object Arguments]"}},939:(l,u,c)=>{var h=c(2492),f=c(7005);l.exports=function m(v,A,b,S,w){return v===A||(v==null||A==null||!f(v)&&!f(A)?v!=v&&A!=A:h(v,A,b,S,m,w))}},2492:(l,u,c)=>{var h=c(6384),f=c(7114),m=c(8351),v=c(6096),A=c(4160),b=c(1469),S=c(4144),w=c(6719),I="[object Arguments]",R="[object Array]",T="[object Object]",E=Object.prototype.hasOwnProperty;l.exports=function(P,N,j,V,k,D){var H=b(P),B=b(N),G=H?R:A(P),F=B?R:A(N),L=(G=G==I?T:G)==T,Y=(F=F==I?T:F)==T,q=G==F;if(q&&S(P)){if(!S(N))return!1;H=!0,L=!1}if(q&&!L)return D||(D=new h),H||w(P)?f(P,N,j,V,k,D):m(P,N,G,j,V,k,D);if(!(1&j)){var Q=L&&E.call(P,"__wrapped__"),M=Y&&E.call(N,"__wrapped__");if(Q||M){var U=Q?P.value():P,X=M?N.value():N;return D||(D=new h),k(U,X,j,V,D)}}return!!q&&(D||(D=new h),v(P,N,j,V,k,D))}},8458:(l,u,c)=>{var h=c(3560),f=c(5346),m=c(3218),v=c(346),A=/^\[object .+?Constructor\]$/,b=Function.prototype,S=Object.prototype,w=b.toString,I=S.hasOwnProperty,R=RegExp("^"+w.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function(T){return!(!m(T)||f(T))&&(h(T)?R:A).test(v(T))}},8749:(l,u,c)=>{var h=c(4239),f=c(1780),m=c(7005),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,l.exports=function(A){return m(A)&&f(A.length)&&!!v[h(A)]}},280:(l,u,c)=>{var h=c(5726),f=c(6916),m=Object.prototype.hasOwnProperty;l.exports=function(v){if(!h(v))return f(v);var A=[];for(var b in Object(v))m.call(v,b)&&b!="constructor"&&A.push(b);return A}},2545:l=>{l.exports=function(u,c){for(var h=-1,f=Array(u);++h<u;)f[h]=c(h);return f}},1717:l=>{l.exports=function(u){return function(c){return u(c)}}},4757:l=>{l.exports=function(u,c){return u.has(c)}},4429:(l,u,c)=>{var h=c(5639)["__core-js_shared__"];l.exports=h},7114:(l,u,c)=>{var h=c(8668),f=c(2908),m=c(4757);l.exports=function(v,A,b,S,w,I){var R=1&b,T=v.length,E=A.length;if(T!=E&&!(R&&E>T))return!1;var P=I.get(v),N=I.get(A);if(P&&N)return P==A&&N==v;var j=-1,V=!0,k=2&b?new h:void 0;for(I.set(v,A),I.set(A,v);++j<T;){var D=v[j],H=A[j];if(S)var B=R?S(H,D,j,A,v,I):S(D,H,j,v,A,I);if(B!==void 0){if(B)continue;V=!1;break}if(k){if(!f(A,function(G,F){if(!m(k,F)&&(D===G||w(D,G,b,S,I)))return k.push(F)})){V=!1;break}}else if(D!==H&&!w(D,H,b,S,I)){V=!1;break}}return I.delete(v),I.delete(A),V}},8351:(l,u,c)=>{var h=c(2705),f=c(1149),m=c(7813),v=c(7114),A=c(8776),b=c(1814),S=h?h.prototype:void 0,w=S?S.valueOf:void 0;l.exports=function(I,R,T,E,P,N,j){switch(T){case"[object DataView]":if(I.byteLength!=R.byteLength||I.byteOffset!=R.byteOffset)return!1;I=I.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(I.byteLength!=R.byteLength||!N(new f(I),new f(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return m(+I,+R);case"[object Error]":return I.name==R.name&&I.message==R.message;case"[object RegExp]":case"[object String]":return I==R+"";case"[object Map]":var V=A;case"[object Set]":var k=1&E;if(V||(V=b),I.size!=R.size&&!k)return!1;var D=j.get(I);if(D)return D==R;E|=2,j.set(I,R);var H=v(V(I),V(R),E,P,N,j);return j.delete(I),H;case"[object Symbol]":if(w)return w.call(I)==w.call(R)}return!1}},6096:(l,u,c)=>{var h=c(8234),f=Object.prototype.hasOwnProperty;l.exports=function(m,v,A,b,S,w){var I=1&A,R=h(m),T=R.length;if(T!=h(v).length&&!I)return!1;for(var E=T;E--;){var P=R[E];if(!(I?P in v:f.call(v,P)))return!1}var N=w.get(m),j=w.get(v);if(N&&j)return N==v&&j==m;var V=!0;w.set(m,v),w.set(v,m);for(var k=I;++E<T;){var D=m[P=R[E]],H=v[P];if(b)var B=I?b(H,D,P,v,m,w):b(D,H,P,m,v,w);if(!(B===void 0?D===H||S(D,H,A,b,w):B)){V=!1;break}k||(k=P=="constructor")}if(V&&!k){var G=m.constructor,F=v.constructor;G==F||!("constructor"in m)||!("constructor"in v)||typeof G=="function"&&G instanceof G&&typeof F=="function"&&F instanceof F||(V=!1)}return w.delete(m),w.delete(v),V}},1957:(l,u,c)=>{var h=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;l.exports=h},8234:(l,u,c)=>{var h=c(8866),f=c(9551),m=c(3674);l.exports=function(v){return h(v,m,f)}},5050:(l,u,c)=>{var h=c(7019);l.exports=function(f,m){var v=f.__data__;return h(m)?v[typeof m=="string"?"string":"hash"]:v.map}},852:(l,u,c)=>{var h=c(8458),f=c(7801);l.exports=function(m,v){var A=f(m,v);return h(A)?A:void 0}},9607:(l,u,c)=>{var h=c(2705),f=Object.prototype,m=f.hasOwnProperty,v=f.toString,A=h?h.toStringTag:void 0;l.exports=function(b){var S=m.call(b,A),w=b[A];try{b[A]=void 0;var I=!0}catch{}var R=v.call(b);return I&&(S?b[A]=w:delete b[A]),R}},9551:(l,u,c)=>{var h=c(4963),f=c(479),m=Object.prototype.propertyIsEnumerable,v=Object.getOwnPropertySymbols,A=v?function(b){return b==null?[]:(b=Object(b),h(v(b),function(S){return m.call(b,S)}))}:f;l.exports=A},4160:(l,u,c)=>{var h=c(8552),f=c(7071),m=c(3818),v=c(8525),A=c(577),b=c(4239),S=c(346),w="[object Map]",I="[object Promise]",R="[object Set]",T="[object WeakMap]",E="[object DataView]",P=S(h),N=S(f),j=S(m),V=S(v),k=S(A),D=b;(h&&D(new h(new ArrayBuffer(1)))!=E||f&&D(new f)!=w||m&&D(m.resolve())!=I||v&&D(new v)!=R||A&&D(new A)!=T)&&(D=function(H){var B=b(H),G=B=="[object Object]"?H.constructor:void 0,F=G?S(G):"";if(F)switch(F){case P:return E;case N:return w;case j:return I;case V:return R;case k:return T}return B}),l.exports=D},7801:l=>{l.exports=function(u,c){return u==null?void 0:u[c]}},1789:(l,u,c)=>{var h=c(4536);l.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:l=>{l.exports=function(u){var c=this.has(u)&&delete this.__data__[u];return this.size-=c?1:0,c}},7667:(l,u,c)=>{var h=c(4536),f=Object.prototype.hasOwnProperty;l.exports=function(m){var v=this.__data__;if(h){var A=v[m];return A==="__lodash_hash_undefined__"?void 0:A}return f.call(v,m)?v[m]:void 0}},1327:(l,u,c)=>{var h=c(4536),f=Object.prototype.hasOwnProperty;l.exports=function(m){var v=this.__data__;return h?v[m]!==void 0:f.call(v,m)}},1866:(l,u,c)=>{var h=c(4536);l.exports=function(f,m){var v=this.__data__;return this.size+=this.has(f)?0:1,v[f]=h&&m===void 0?"__lodash_hash_undefined__":m,this}},5776:l=>{var u=/^(?:0|[1-9]\d*)$/;l.exports=function(c,h){var f=typeof c;return!!(h=h??9007199254740991)&&(f=="number"||f!="symbol"&&u.test(c))&&c>-1&&c%1==0&&c<h}},7019:l=>{l.exports=function(u){var c=typeof u;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?u!=="__proto__":u===null}},5346:(l,u,c)=>{var h,f=c(4429),m=(h=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";l.exports=function(v){return!!m&&m in v}},5726:l=>{var u=Object.prototype;l.exports=function(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||u)}},7040:l=>{l.exports=function(){this.__data__=[],this.size=0}},4125:(l,u,c)=>{var h=c(8470),f=Array.prototype.splice;l.exports=function(m){var v=this.__data__,A=h(v,m);return!(A<0||(A==v.length-1?v.pop():f.call(v,A,1),--this.size,0))}},2117:(l,u,c)=>{var h=c(8470);l.exports=function(f){var m=this.__data__,v=h(m,f);return v<0?void 0:m[v][1]}},7518:(l,u,c)=>{var h=c(8470);l.exports=function(f){return h(this.__data__,f)>-1}},4705:(l,u,c)=>{var h=c(8470);l.exports=function(f,m){var v=this.__data__,A=h(v,f);return A<0?(++this.size,v.push([f,m])):v[A][1]=m,this}},4785:(l,u,c)=>{var h=c(1989),f=c(8407),m=c(7071);l.exports=function(){this.size=0,this.__data__={hash:new h,map:new(m||f),string:new h}}},1285:(l,u,c)=>{var h=c(5050);l.exports=function(f){var m=h(this,f).delete(f);return this.size-=m?1:0,m}},6e3:(l,u,c)=>{var h=c(5050);l.exports=function(f){return h(this,f).get(f)}},9916:(l,u,c)=>{var h=c(5050);l.exports=function(f){return h(this,f).has(f)}},5265:(l,u,c)=>{var h=c(5050);l.exports=function(f,m){var v=h(this,f),A=v.size;return v.set(f,m),this.size+=v.size==A?0:1,this}},8776:l=>{l.exports=function(u){var c=-1,h=Array(u.size);return u.forEach(function(f,m){h[++c]=[m,f]}),h}},4536:(l,u,c)=>{var h=c(852)(Object,"create");l.exports=h},6916:(l,u,c)=>{var h=c(5569)(Object.keys,Object);l.exports=h},1167:(l,u,c)=>{l=c.nmd(l);var h=c(1957),f=u&&!u.nodeType&&u,m=f&&l&&!l.nodeType&&l,v=m&&m.exports===f&&h.process,A=function(){try{return m&&m.require&&m.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();l.exports=A},2333:l=>{var u=Object.prototype.toString;l.exports=function(c){return u.call(c)}},5569:l=>{l.exports=function(u,c){return function(h){return u(c(h))}}},5639:(l,u,c)=>{var h=c(1957),f=typeof self=="object"&&self&&self.Object===Object&&self,m=h||f||Function("return this")();l.exports=m},619:l=>{l.exports=function(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this}},2385:l=>{l.exports=function(u){return this.__data__.has(u)}},1814:l=>{l.exports=function(u){var c=-1,h=Array(u.size);return u.forEach(function(f){h[++c]=f}),h}},7465:(l,u,c)=>{var h=c(8407);l.exports=function(){this.__data__=new h,this.size=0}},3779:l=>{l.exports=function(u){var c=this.__data__,h=c.delete(u);return this.size=c.size,h}},7599:l=>{l.exports=function(u){return this.__data__.get(u)}},4758:l=>{l.exports=function(u){return this.__data__.has(u)}},4309:(l,u,c)=>{var h=c(8407),f=c(7071),m=c(3369);l.exports=function(v,A){var b=this.__data__;if(b instanceof h){var S=b.__data__;if(!f||S.length<199)return S.push([v,A]),this.size=++b.size,this;b=this.__data__=new m(S)}return b.set(v,A),this.size=b.size,this}},346:l=>{var u=Function.prototype.toString;l.exports=function(c){if(c!=null){try{return u.call(c)}catch{}try{return c+""}catch{}}return""}},7813:l=>{l.exports=function(u,c){return u===c||u!=u&&c!=c}},5694:(l,u,c)=>{var h=c(9454),f=c(7005),m=Object.prototype,v=m.hasOwnProperty,A=m.propertyIsEnumerable,b=h(function(){return arguments}())?h:function(S){return f(S)&&v.call(S,"callee")&&!A.call(S,"callee")};l.exports=b},1469:l=>{var u=Array.isArray;l.exports=u},8612:(l,u,c)=>{var h=c(3560),f=c(1780);l.exports=function(m){return m!=null&&f(m.length)&&!h(m)}},4144:(l,u,c)=>{l=c.nmd(l);var h=c(5639),f=c(5062),m=u&&!u.nodeType&&u,v=m&&l&&!l.nodeType&&l,A=v&&v.exports===m?h.Buffer:void 0,b=(A?A.isBuffer:void 0)||f;l.exports=b},8446:(l,u,c)=>{var h=c(939);l.exports=function(f,m){return h(f,m)}},3560:(l,u,c)=>{var h=c(4239),f=c(3218);l.exports=function(m){if(!f(m))return!1;var v=h(m);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},1780:l=>{l.exports=function(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=9007199254740991}},3218:l=>{l.exports=function(u){var c=typeof u;return u!=null&&(c=="object"||c=="function")}},7005:l=>{l.exports=function(u){return u!=null&&typeof u=="object"}},6719:(l,u,c)=>{var h=c(8749),f=c(1717),m=c(1167),v=m&&m.isTypedArray,A=v?f(v):h;l.exports=A},3674:(l,u,c)=>{var h=c(4636),f=c(280),m=c(8612);l.exports=function(v){return m(v)?h(v):f(v)}},479:l=>{l.exports=function(){return[]}},5062:l=>{l.exports=function(){return!1}},75:function(l){(function(){var u,c,h,f,m,v;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(u()-m)/1e6},c=process.hrtime,f=(u=function(){var A;return 1e9*(A=c())[0]+A[1]})(),v=1e9*process.uptime(),m=f-v):Date.now?(l.exports=function(){return Date.now()-h},h=Date.now()):(l.exports=function(){return new Date().getTime()-h},h=new Date().getTime())}).call(this)},4087:(l,u,c)=>{for(var h=c(75),f=typeof window>"u"?c.g:window,m=["moz","webkit"],v="AnimationFrame",A=f["request"+v],b=f["cancel"+v]||f["cancelRequest"+v],S=0;!A&&S<m.length;S++)A=f[m[S]+"Request"+v],b=f[m[S]+"Cancel"+v]||f[m[S]+"CancelRequest"+v];if(!A||!b){var w=0,I=0,R=[];A=function(T){if(R.length===0){var E=h(),P=Math.max(0,16.666666666666668-(E-w));w=P+E,setTimeout(function(){var N=R.slice(0);R.length=0;for(var j=0;j<N.length;j++)if(!N[j].cancelled)try{N[j].callback(w)}catch(V){setTimeout(function(){throw V},0)}},Math.round(P))}return R.push({handle:++I,callback:T,cancelled:!1}),I},b=function(T){for(var E=0;E<R.length;E++)R[E].handle===T&&(R[E].cancelled=!0)}}l.exports=function(T){return A.call(f,T)},l.exports.cancel=function(){b.apply(f,arguments)},l.exports.polyfill=function(T){T||(T=f),T.requestAnimationFrame=A,T.cancelAnimationFrame=b}},8156:l=>{l.exports=n}},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;var c=i[l]={id:l,loaded:!1,exports:{}};return r[l].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=l=>{var u=l&&l.__esModule?()=>l.default:()=>l;return s.d(u,{a:u}),u},s.d=(l,u)=>{for(var c in u)s.o(u,c)&&!s.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:u[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(l,u)=>Object.prototype.hasOwnProperty.call(l,u),s.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var o={};return(()=>{s.d(o,{default:()=>R});var l=s(8156),u=s.n(l),c=s(7403),h=s(8446),f=s.n(h);function m(T){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},m(T)}function v(T,E){for(var P=0;P<E.length;P++){var N=E[P];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,w(N.key),N)}}function A(T,E){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,N){return P.__proto__=N,P},A(T,E)}function b(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function S(T){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},S(T)}function w(T){var E=function(P,N){if(m(P)!=="object"||P===null)return P;var j=P[Symbol.toPrimitive];if(j!==void 0){var V=j.call(P,"string");if(m(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(T);return m(E)==="symbol"?E:String(E)}var I=function(T){(function(D,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(H&&H.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),H&&A(D,H)})(k,T);var E,P,N,j,V=(N=k,j=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,H=S(N);if(j){var B=S(this).constructor;D=Reflect.construct(H,arguments,B)}else D=H.apply(this,arguments);return function(G,F){if(F&&(m(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(G)}(this,D)});function k(){var D,H,B,G;(function(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,k);for(var F=arguments.length,L=new Array(F),Y=0;Y<F;Y++)L[Y]=arguments[Y];return H=b(D=V.call.apply(V,[this].concat(L))),G={instance:null},(B=w(B="state"))in H?Object.defineProperty(H,B,{value:G,enumerable:!0,configurable:!0,writable:!0}):H[B]=G,D}return E=k,(P=[{key:"componentDidMount",value:function(){var D=this,H=new c.default(this.typewriter,this.props.options);this.setState({instance:H},function(){var B=D.props.onInit;B&&B(H)})}},{key:"componentDidUpdate",value:function(D){f()(this.props.options,D.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var D=this,H=this.props.component;return u().createElement(H,{ref:function(B){return D.typewriter=B},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&v(E.prototype,P),Object.defineProperty(E,"prototype",{writable:!1}),k}(l.Component);I.defaultProps={component:"div"};const R=I})(),o.default})())}(e0)),e0.exports}var Y0e=K0e();const YN=Cr(Y0e);function Q0e({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return p.jsxs(J0e,{children:[p.jsx(Sm,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:Ve.colors.players[e].perfect.fill}),p.jsx(Sm,{score:n>0?r.perfect:0,maxScore:i.perfect,color:Ve.colors.players[e].stroke}),p.jsx(Sm,{score:n>1?r.star:0,maxScore:i.star,color:Ve.colors.players[e].starPerfect.stroke}),p.jsx(Sm,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:Ve.colors.players[e].perfect.stroke}),p.jsx(X0e,{children:n<5&&p.jsx(YN,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const J0e=W("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),X0e=W("span",{target:"ejw0p7o0"})("position:absolute;",xt,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function Z0e({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:l}){const[u]=t.detailedScore;let c=0;l>-1&&(c=u.normal+u.rap+u.freestyle),l>0&&(c=c+u.perfect),l>1&&(c=c+u.star),l>2&&(c=c+u.vibrato);const h=f=>r.some(m=>m.singSetupId===i.id&&m.name===f);return p.jsxs(eve,{children:[p.jsx(rve,{children:p.jsxs(nve,{"data-win":o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[p.jsx(tve,{color:s?Ve.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),p.jsx(Uw,{preserveValue:!0,end:c,formattingFn:PN.format,duration:l<5?1:.5})]})}),p.jsx(Q0e,{playerNumber:e,player:t,segment:l}),p.jsx(ive,{"data-highscore":o&&h(t.name),children:"High score!"})]})}const eve=W("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),tve=W("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),nve=W(ay,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",Ve.colors.text.active,";}"),rve=W("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),ive=W(Fw,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",Zv,";opacity:1;}transition:400ms;");function sve({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=x.useState(-1);x.useEffect(()=>{if(i<0)s(0);else if(i<4){const v=setInterval(()=>{s(A=>A+1)},1500);return()=>{clearInterval(v)}}},[i]);const o=i>3,l=()=>{o?e():s(5)};Fc({accept:l},!0,[i]);const u=x.useMemo(()=>({accept:"Next"}),[]);Nd(u,!0);const c=r.mode===yi.CO_OP,h=c?[{...t[0],name:t.map(v=>v.name).join(", ")}]:t,f=h.map(v=>bx(v.detailedScore[0])),m=Math.max(...f);return p.jsxs(ove,{children:[p.jsx(ave,{children:h.map((v,A)=>p.jsx(Z0e,{playerNumber:v.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:v,highScores:n,highestScore:m,singSetup:r},A))}),p.jsx(lve,{onClick:l,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),Js.getPermissionStatus()&&p.jsx(cve,{})]})}const ove=W("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),ave=W("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),lve=W(ao,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),cve=W($0e,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function uve(){return x.useMemo(()=>JSON.parse(ot.session.getItem(fd))??[],[])}function dve({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=x.useRef(null),[o,l]=x.useState(""),u=uve(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return p.jsx(tE,{className:"ph-no-capture",options:u,onChange:l,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var h;return(h=s.current)==null?void 0:h.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function fve({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=kr(),s=Uhe(r);return p.jsxs(p.Fragment,{children:[p.jsx(hve,{"data-test":"highscores-container",children:t.map((o,l)=>p.jsxs(pve,{isCurrentSing:o.singSetupId===n.id,children:[p.jsx(gve,{children:l+1}),p.jsx(mve,{className:"ph-no-capture",children:o.singSetupId===n.id?p.jsx(dve,{index:l,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),p.jsx(vve,{children:p.jsx(NS,{score:o.score})}),p.jsx(yve,{children:Zs(o.date).format("MMMM DD, YYYY")})]},l))}),p.jsx(Ave,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const hve=W("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),pve=W("div",{target:"e1kq1u2t5"})("position:relative;",xt,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),gve=W("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",Ve.colors.text.active,";"),mve=W("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),vve=W("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),yve=W("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),Ave=W(ao,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function bve({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[l]=Tt(Hh);_l(!0);const[u,c]=x.useState("results");return p.jsxs(nN,{songData:e,width:t,height:n,children:[p.jsxs(_ve,{children:[u==="results"&&p.jsx(sve,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),u==="highscores"&&p.jsx(fve,{onNextStep:r,singSetup:o,highScores:s,song:e}),p.jsx(Sve,{"data-active":"true"})]}),l==="christmas"&&p.jsxs(xve,{children:["Credit to ",p.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const _ve=W("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),Sve=W(F0e,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),xve=W("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",xt,";");function wve(e){const[t,n,r,i]=Eve(e);return Cve(t,n,r,i)()}function Eve(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Cve(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const kve=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","Mały Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],h5=new Date("2016-01-01").getTime(),Tve=new Date("2024-01-07").getTime(),Tb=5;function Ive(e,t){const n=Zw(e);return x.useMemo(()=>{const i=[...kve];return[...Array.from({length:Tb},(o,l)=>{const u=wve(e.id+l),c=6e5+14e5/(Tb-1)*l,h=i.splice(Math.floor(u*i.length),1)[0];return{singSetupId:l.toString(),name:h,score:_i()?c/1e3:c,date:new Date((Tve-h5)*u+h5).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(l=>({...l,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,l)=>l.score-o.score).slice(0,Tb)},[e.id,n,t])??[]}function Rve({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=Ive(e,i),o=x.useMemo(()=>it.getPlayers().map(l=>({name:l.getName(),playerNumber:l.number,detailedScore:ct.getPlayerDetailedScore(l.number)})),[]);return p.jsx(yl,{children:p.jsx(bve,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function Pve({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){dN(),fN();const i=x.useRef(null),s=q4(e.id),{width:o,height:l}=Od(),[u,c]=x.useState(!1),[h,f]=x.useState(!0),[m,v]=x.useState(er.UNSTARTED),[A,b]=x.useState(!1);return ya(!A),x.useEffect(()=>{h&&s.data&&(A||m!==er.UNSTARTED)&&f(!1)},[s.data,A,m,h]),u&&s.data?p.jsx(Rve,{width:o,height:l,song:s.data,onClickSongSelection:n,singSetup:t}):p.jsx(yl,{children:p.jsxs(Mve,{children:[p.jsxs(jve,{visible:h,"data-test":"background-container",children:[p.jsx(Vve,{video:e.video,width:o,height:l}),p.jsx(Lve,{"data-test":"song-artist",children:e.artist}),p.jsx(Nve,{"data-test":"song-title",children:e.title}),p.jsx(Ege,{onFinish:()=>{var S;b(!0),(S=i.current)==null||S.play()}})]}),s.data&&p.jsx(D0e,{pauseMenu:!0,ref:i,onStatusChange:v,players:t.players,song:s.data,width:o,height:l,autoplay:!1,onSongEnd:()=>{var I;const S=((I=ct.getSingSetup())==null?void 0:I.mode)===yi.CO_OP?[{name:it.getPlayers().map(R=>R.getName()).join(", "),score:ct.getPlayerScore(0)}]:it.getPlayers().map(R=>({name:R.getName(),score:ct.getPlayerScore(R.number)})),w=ct.getSongCompletionProgress();ve.songEnded.dispatch(s.data,t,S,w),c(!0)},singSetup:t,restartSong:r})]})})}const Mve=W("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),jve=W("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),Ove=W("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),Vve=e=>p.jsx(Ove,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),Lve=W(eE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),Nve=W(cy,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function Bve(){const e=$v("song"),[t,n]=x.useState(null),[r,i]=x.useState(e??null),[s,o]=x.useState(0),l=u=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Dh(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",Vd.flushSync(()=>{n(u)})}),jx.play(!1)};return dN(),p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(Ww,{children:t?p.jsx(Pve,{restartSong:()=>{Js.restartRecord(),o(u=>u+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):p.jsx(xge,{onSongSelected:l,preselectedSong:r})})]})}const Dve="/assets/screenshot1-DaCeVKxL.webp",Fve="/assets/screenshot2-uopWyjAi.webp",$ve=JSON.parse(`["101 Dalmatians","2NE1","3 Doors Down","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","50 Cent","A Day to Remember","A Day To Remember","A Flock Of Seagulls","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Ace of Base","Adam Lambert","Adele","Aerosmith","Afroman","Against The Current","Air Supply","AJR","Akon","Akon feat. Eminem","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alanis Morisette","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Apocalyptica ft. Adam Gontier","Aqua","Aram MP3","Arcade Fire","Arctic Monkeys","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & Justin Bieber","Ariana Grande & Social House","Ariana Grande & The Weeknd","Army Of Lovers","Ashanti","Ashlee Simpson","Ashley Tisdale","Asking Alexandria","A★Teens","Audioslave","AURORA","Ava Max","Avantasia","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Bai Sha JAWS","Baldur’s Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Barry Manilow","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bella Thorne","Bellamy Brothers","Ben Dolič","Ben E. King","BENEE feat. Gus Dapperton","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyoncé","Beyoncé feat. Jay-Z","Beyoncé & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Idol","Billy Joel","Billy Talent","Bing Crosby","Birdy","Björk","Björnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","Blind Guardian","blink-182","Blink 182","Blondie","Blu Cantrell","Blue","Blue Öyster Cult","Blur","Bôa","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Bush","Busted","Calum Scott","Calvin Harris feat. Rihanna","Calvin Harris","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Cardi B","Cardi B & Bruno Mars","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Céline Dion","Chaka Khan","Chappell Roan","Charli XCX","Charli XCX & Troye Sivan","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyoncé","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Crazy Frog","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","Daði Freyr","Daði og Gagnamagnið","Daft Punk","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Damien Rice","Dana International","Daniel Bedingfield","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta feat. Akon","David Guetta feat. Kid Cudi","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta & Sia","David Hasselhoff","David Kushner","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Deftones","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destiny’s Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disney’s Beauty and the Beast","Disney’s Brother Bear","Disney’s Descendants 2","Disney’s Descendants 3","Disney’s Descendants","Disney’s Encanto","Disney’s Frozen","Disney’s Frozen II","Disney’s Hercules","Disney's Moana","Disney’s Mulan","Disney's Pocahontas","Disney's Tangled","Disney’s Tarzan","Disney’s Teen Beach Movie","Disney’s The Jungle Book","Disney’s The Lion King","Disturbed","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","Dove Cameron","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Duran Duran","Dusty Springfield","Earth, Wind & Fire","Echosmith","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Khalid","Ed Sheeran & Pokémon","Eddie Murphy","Edward Maya & Vika Jigulina","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Everlast","Extreme","Faith Hill","Faith No More","Fall Out Boy","Falling In Reverse","Fergie","Fetty Wap","Fifth Harmony feat. Kid Ink","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Foo Fighters","Fool’s Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Monáe","Fun.","Gandalf","Gary Barlow & Elton John","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","girl in red","Girls’ Generation (SNSD)","Glee Cast","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Green Day","Gréta Salóme & Jónsi","Guns N' Roses","Guns N’ Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Hailee Steinfeld feat. DNCE","Hailee Steinfeld","Hairspray (Movie)","Hamilton","Hanson","Harpo","Harry Styles","Hazbin Hotel","Heart","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Björk","High School Musical 2","High School Musical","Hilary Duff","Hillsong United","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Icon For Hire","Icona Pop feat. Charli XCX","Idina Menzel","Iggy Azalea feat. Charli XCX","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","INXS","Iron Maiden","ISAAK","Israel Kamakawiwo’ole","Jack Black","Jack Johnson","Jack White","Jagwar Twin","James Arthur","James Bay","James Blunt","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean","Jay-Z feat. Alicia Keys","Jaymes Young","Jedward","Jelly Roll","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J","Jet","Jethro Tull","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joan Osborne","Joe Cocker","John Cougar Mellencamp","John Denver","John Farnham","John Legend","John Lennon","John Mayer","John Rzeznik","John Travolta (Grease)","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonas Brothers","Jonathan Coulton","Josh Groban","Josh Turner","Journey","Joy Division","Julie and the Phantoms","Jung Kook, Usher","Justin Bieber","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Usher","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kasabian","Kate Bush","Katrina And The Waves","KATSEYE","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kendrick Lamar & SZA","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kyle Justin","Kylie Minogue","La Bouche","La Roux","Lady Antebellum","Lady Gaga","Lady Gaga & Ariana Grande","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga & Bruno Mars","Lady Gaga feat. Beyoncé","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Leony","Les Fatals Picards","Les Misérables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Miley Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Limp Bizkit","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO","Loïc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","Lou Reed","Loverboy","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfør","Madcon feat. Ray Dalton","Madcon","Madness","Madonna","Mae Muller","Magic!","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mando Diao","Mandy Moore","Måneskin","Manfred Mann","Manowar","Måns Zelmerlöw","Manuel","Marc Cohn","Marc DeMarco","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Marina","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5","Maroon 5 feat. Cardi B","Maroon 5 feat. Wiz Khalifa","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Mary J. Blige","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Men At Work","Metallica","Metric","Metro Station","Metronomy","M.I.A.","Michael Bublé","Michael Jackson","Michael Schulte","Michelle Branch","Midnight Oil","Mika","Mika feat. Ariana Grande","Mika Kobayashi","Mike Oldfield","Mike Posner","Miley Cyrus","Miley Cyrus feat. Dua Lipa","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Motionless In White","Mötley Crüe","Moulin Rouge","Mr. Big","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","★N Sync","Nancy Sinatra","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","Naughty Boy feat. Sam Smith","Nazareth","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Neon Trees","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Niall Horan","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","OK Go","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","OutKast","Owl City & Carly Rae Jepsen","Owl City","Ozzy Osbourne","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Passenger","Pat Benatar","Patrice Rushen","Paul Simon","Paula Abdul","Pearl Jam","Pet Shop Boys","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. T-Pain","Pitch Perfect 2","Pixies","Placebo","Placebo feat. David Bowie","Plain White T’s","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Poison","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone feat. Quavo","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFAŁ","Rage Against the Machine","Rage Against The Machine","Rag’n’Bone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Real Life","Red","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","Rosa Walton & Hallie Coggins","ROSÉ & Bruno Mars","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Fender","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Savatage","SawanoHiroyuki[nZk] mizuki","Scars On Broadway","Scissor Sisters","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Seether","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin’ Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMÉS","Silia Kapsis","SiM","Simon & Garfunkel","Simple Minds","Simple Plan","Simply Red","Sinéad O’Connor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Slowdive","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soundgarden","Spandau Ballet","Spice Girls","Spiderbait","Srbuk","Starship","Status Quo","Steindi","Stella Mwangi","Stephen Sanchez","Stereophonics","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting feat. Ray Chen","Sting","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sunrise Ave","Sunrise Avenue","Supergrass","Supertramp","Surf Curse","Survivor","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Taio Cruz feat. Flo Rida","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Bon Iver","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent D’Arby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Keys","The Bloodhound Gang","The Blues Brothers","The Boomtown Rats","The BossHoss","The Cab","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Champs","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Ink Spots","The Jackson 5","The Jacksons","The Jam","The Kelly Family","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Last Dinner Party","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Polar Express","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Stone Roses","The Strokes","The Sweet","The Temptations","The Tony Rich Project","The Verve","The Village People","The Vines","The Weeknd","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","The Zutons","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","Troye Sivan","Twenty One Pilots","twenty øne piløts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Vitamin C","Volbeat","Volbeat feat. Sarah Blackwood","Voyager","Warren Zevon","We Are Domi","Ween","Weezer","“Weird Al” Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zendaya & Bella Thorne","Zoe Wees","ZZ Top"]`),zve=["English","Polish","Korean","Japanese","Spanish","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],Uve=4011,th={artists:$ve,languages:zve,songs:Uve},Hve=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function Gve(){const e=zi(),t=qw(Uh.Christmas);ya(!0,t?"christmas":void 0);const n="menu/";mi("enter",()=>{e(n)},[n]);const[r,i]=x.useState(!1);return x.useEffect(()=>{const s=setTimeout(()=>{i(!0)},4e3);return()=>clearTimeout(s)},[]),p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx(P4,{}),p.jsxs("div",{className:"flex flex-col w-[110rem] items-stretch justify-center h-screen gap-12 mx-auto landscap:flex-row landscap:w-full mobile:w-full shadow-active [&_strong]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)] [&_a]:[text-shadow:_0_0_5rem_var(--tw-shadow-color)]",children:[p.jsxs("div",{className:"flex justify-center gap-24 mobile:hidden",children:[p.jsx($4,{}),p.jsx($w,{})]}),p.jsx(Ai,{to:n,children:p.jsx(Ib,{"data-test":"enter-the-game",className:"mobile:hidden",children:"Enter the game"})}),p.jsxs("div",{className:"flex gap-24 p-24 items-center box-border bg-black/75 landscap:flex-1 [&_hr]:my-12 mobile:flex-col",children:[p.jsxs(p5,{children:[p.jsxs("div",{className:"leading-normal text-justify",children:[p.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",p.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),p.jsx("hr",{}),p.jsxs(Df,{children:["▸ ",p.jsx("strong",{children:Hve.format(th.songs)})," songs in"," ",p.jsx("strong",{children:th.languages.length})," languages",p.jsxs(Ff,{children:["Artists such as"," ",p.jsx("strong",{children:r?p.jsx(YN,{options:{strings:th.artists,autoStart:!0,loop:!0,delay:100}}):th.artists.at(-1)})]})]}),p.jsxs(Df,{children:["▸ Play ",p.jsx("strong",{children:"directly"})," in the browser",p.jsxs(Ff,{children:["No ",p.jsx("strong",{children:"download"})," needed"]})]}),p.jsxs(Df,{children:["▸ Use ",p.jsx("strong",{children:"phones"})," as microphones",p.jsx(Ff,{children:"No need to download an app"})]}),p.jsxs(Df,{children:["▸ Supports ",p.jsx("strong",{children:"1-4"})," players",p.jsx(Ff,{children:"When using phones as microphones"})]}),p.jsxs(Df,{children:["▸ ",p.jsx("strong",{children:"100% Free"})," and open source",p.jsxs(Ff,{children:["Check the"," ",p.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),p.jsxs(p5,{className:"gap-16 mobile:flex-row landscap:hidden",children:[p.jsx(g5,{src:Dve,alt:"Song list screen",className:"[box-shadow:_0_0_5rem_rgba(114,155,255,0.5)]"}),p.jsx(g5,{src:Fve,alt:"In-game screen",className:"[box-shadow:_0_0_10rem_rgb(19,19,19)]"})]})]}),p.jsxs(wc,{className:"mobile:hidden text-md text-right !mt-[-2.5rem]",children:["Using this device as remote microphone?"," ",p.jsx(Ai,{to:"remote-mic/",children:p.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),p.jsxs("div",{className:"flex flex-col gap-12 landscap:flex-1 [&&_a]:min-h-[30rem] justify-center",children:[p.jsx(Ai,{to:"remote-mic/",children:p.jsx(Ib,{"data-test":"join-existing-game",className:"hidden mobile:flex",children:p.jsxs("span",{children:["Join game (with ",p.jsx("strong",{children:"Game Code"}),")"]})})}),p.jsx(Ai,{to:"quick-setup/",children:p.jsx(Ib,{"data-test":"enter-the-game",className:"hidden mobile:flex",children:"Start new game"})})]})]})]})}const Df=$n.div``,Ff=$n.div`pt-2 text-right text-[0.7em] [&_.Typewriter]:inline`,p5=$n(wc)`flex flex-col flex-1 gap-4 typography text-[2.3rem] mobile:text-[8.5rem] landscap:text-[4.9rem]`,g5=$n.img`w-full aspect-video object-cover shadow-5 border-1 border-black/50 rounded-2xl mobile:w-[calc(50%-2rem)] mobile:h-[50rem]`,Ib=$n(YL)`text-[9rem] bg-black w-full px-28 py-4 animate-focused`;function qve(){const e=zi(),t=()=>e("menu/"),{register:n}=kr({onBackspace:t});return p.jsxs(bl,{children:[p.jsx(os,{children:p.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),p.jsx("h1",{children:"Manage Songs"}),p.jsx(Ai,{to:"exclude-languages/",children:p.jsx(ut,{...n("exclude-languages",()=>e("exclude-languages/")),children:"Select Song Languages"})}),p.jsx(Ai,{to:"edit/list/",children:p.jsx(ut,{...n("edit-songs",()=>e("edit/list/")),children:"Edit songs"})}),p.jsx(Ai,{to:"convert/",children:p.jsx(ut,{...n("convert-song",()=>e("convert/")),children:"Convert UltraStar .txt"})}),p.jsx("hr",{}),p.jsx(Ai,{to:"menu/",children:p.jsx(ut,{...n("back-button",t),children:"Return To Main Menu"})})]})}var $f={exports:{}},m5;function Wve(){if(m5)return $f.exports;m5=1,$f.exports=r,$f.exports.isMobile=r,$f.exports.default=r;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,n=/android|ipad|playbook|silk/i;function r(i){i||(i={});let s=i.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;let o=e.test(s)&&!t.test(s)||!!i.tablet&&n.test(s);return!o&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(o=!0),o}return $f.exports}var Kve=Wve();const Yve=Cr(Kve);function Qve(){const[,e]=Tt(Jr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return p.jsx(yl,{children:p.jsx(Jve,{children:p.jsxs(Xve,{children:[p.jsx("h1",{children:"Use Mobile Phone Mode?"}),p.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),p.jsxs("h3",{children:["You can always change the setting in the ",p.jsx("strong",{children:"Settings"})," menu."]}),p.jsx(v5,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),p.jsx(v5,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const v5=W(ut,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),Jve=W("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),Xve=W(vl,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function Zve(){const[e]=Tt(Jr),t=x.useMemo(()=>Yve(),[]),n=zi(),r=async i=>{var s,o;if(n("menu/"),e&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((o=(s=global.screen.orientation).lock)==null?void 0:o.call(s,"landscape"))}catch(l){console.info(l)}};return p.jsxs(p.Fragment,{children:[p.jsx(os,{children:p.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),e===null&&t?p.jsx(Qve,{}):p.jsx(bl,{children:p.jsx(Xw,{onFinish:r,closeButtonText:"Sing a song",smooth:!0})})]})}function eye(){_l(!1);const e=zi(),t=()=>e("settings/"),{register:n}=kr({onBackspace:t}),[r,i]=Tt(y0),[s,o]=Tt(c3),l=ss(ve.inputListChanged,()=>Mt.getRemoteMics()),u=HV();return x.useEffect(()=>Mt.addListener(u),[u]),p.jsxs(bl,{children:[p.jsx("h1",{onClick:()=>{const c=prompt("Code");(c==null?void 0:c.length)===ch-1&&(XO(c),global.location.reload())},children:"Remote Microphone Settings"}),p.jsx(Es,{...n("connection type",()=>i(dc(k$,r))),label:"Connection type",value:r}),p.jsx("hr",{}),p.jsx(Es,{...n("default-permission",()=>o(dc(Yk,s))),label:"Default permission",info:p.jsxs(p.Fragment,{children:[p.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",p.jsx("br",{}),p.jsx("br",{}),p.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:s.toUpperCase()}),p.jsx("hr",{}),p.jsx("h3",{children:"Connected devices permissions:"}),l.map(c=>{const h=Mt.getPermission(c.id);return p.jsx(rye,{...n(`mic-${c.id}`,()=>Mt.setPermission(c.id,dc(Yk,h)),"Change permissions"),"data-test":"remote-mic-entry","data-id":c.id,value:h,label:p.jsxs(nye,{children:[p.jsx(sye,{children:c.id.slice(-4)}),p.jsx(oye,{children:p.jsx(tye,{deviceId:c.id})}),p.jsx(iye,{className:"ph-no-capture",children:c.name})]})},c.id)}),l.length===0&&p.jsx("h4",{children:"No remote microphones connected"}),p.jsx("hr",{}),p.jsx(ut,{...n("back-button",t),children:"Return To Settings"})]})}const tye=({deviceId:e})=>{const t=SN(e);return t===null?null:p.jsxs(p.Fragment,{children:[t,"ms"]})},nye=W("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),rye=W(Es,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),iye=W("span",{target:"expzhs32"})(""),sye=W("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),oye=W("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),Rb=2500,aye=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*Rb)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:et.eurovisionPink.text},{offset:"25%",color:et.eurovisionYellow.text},{offset:"50%",color:et.eurovisionPink.text},{offset:"75%",color:et.eurovisionOrange.text},{offset:"100%",color:et.eurovisionPink.text}];return p.jsxs("svg",{width:Rb,height:Rb,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("defs",{children:Array.from({length:21},(n,r)=>p.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>p.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>p.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},lye=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function cye(){return ya(!1),p.jsxs(yl,{children:[p.jsxs(uye,{children:[p.jsx(dye,{dangerouslySetInnerHTML:{__html:lye}}),p.jsx(QN,{children:p.jsx(kR,{})})]}),p.jsxs(hye,{children:[p.jsx(fye,{children:p.jsx(kR,{})}),p.jsx($w,{}),p.jsx(pye,{src:pN,alt:"Eurovision"})]}),p.jsx(aye,{})]})}const uye=W("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),QN=W("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,et.eurovisionViolet.text,`,
      `,et.eurovisionBlue.text,`,
      `,et.eurovisionYellow.text,`,
      `,et.eurovisionBlue.text,`,
      `,et.eurovisionViolet.text,`
    );}`),dye=W("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",et.red.text,"!important;}path:nth-of-type(2){fill:",et.blue.text,"!important;}"),fye=W(QN,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,et.eurovisionPink.text,`,
      `,et.eurovisionOrange.text,`,
      `,et.eurovisionYellow.text,`,
      `,et.eurovisionPink.text,`
    );}`),hye=W("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,et.red.stroke,`,
    `,et.red.hit.fill,` 49.9%,
    `,et.blue.hit.fill,` 50.1%,
    `,et.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),pye=W("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),gye=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function mye(){const[e]=Tt(Jr),[t,n]=x.useState(!1),[r,i]=x.useState(180),s=x.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return x.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),p.jsxs(vye,{"data-small":!!e,show:t,children:[p.jsx("div",{dangerouslySetInnerHTML:{__html:gye(450,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/450})`}}),p.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const vye=W(vl,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function yye(){ya(!0);const e=zi();_l(!1);const{register:t}=kr();return p.jsxs(bl,{children:[p.jsxs(os,{children:[p.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),p.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),p.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),p.jsxs(Aye,{children:[p.jsxs("span",{children:["Bpm data and release year provided by"," ",p.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),p.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),p.jsx("span",{children:"• Composed & Produced by : Anwar Amr"}),p.jsxs("span",{children:["• Video Link:"," ",p.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),p.jsx(mye,{}),p.jsxs(p.Fragment,{children:[p.jsx(Ai,{to:"game/",children:p.jsx(Kr.Button,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),p.jsx(Ai,{to:"select-input/",children:p.jsx(Kr.Button,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),p.jsx(Ai,{to:"settings/",children:p.jsx(Kr.Button,{...t("settings",()=>e("settings/")),children:"Settings"})}),p.jsx(Ai,{to:"jukebox/",children:p.jsx(Kr.Button,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),p.jsx(Ai,{to:"manage-songs/",children:p.jsx(Kr.Button,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const Aye=W("div",{target:"e1g7uwpd0"})(xt,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),Pi={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},bye=x.lazy(()=>Rd(()=>import("./SongManagement-DdR3K7fi.js"),[]).then(e=>({default:e.SongList})));function _ye(){Tt(Jr);const[e]=Tt(xs),t=x.useMemo(()=>gw({graphicSetting:e}),[e]);return p.jsx(_le,{theme:t,children:p.jsx(yx,{fallback:Ehe,children:p.jsx(aee,{children:p.jsx(QZ,{children:p.jsx(xse,{base:"/",children:p.jsxs(wse,{children:[p.jsx(ni,{path:Pi.QUICK_SETUP,component:Zve}),p.jsx(ni,{path:Pi.MENU,component:yye}),p.jsx(ni,{path:Pi.EXCLUDE_LANGUAGES,component:The}),p.jsx(ni,{path:Pi.JUKEBOX,component:Wfe}),p.jsx(ni,{path:Pi.GAME,children:p.jsx(Bve,{})}),p.jsx(ni,{path:Pi.SELECT_INPUT,component:whe}),p.jsx(ni,{path:Pi.SETTINGS,component:lue}),p.jsx(ni,{path:Pi.SETTINGS_REMOTE_MICS,component:eye}),p.jsx(ni,{path:Pi.REMOTE_MIC,component:Ece}),p.jsx(ni,{path:Pi.MANAGE_SONGS,component:qve}),p.jsx(ni,{path:"social-media-elements",component:cye}),p.jsx(ni,{path:Pi.CONVERT,component:()=>p.jsx(mue,{})}),p.jsx(ni,{path:Pi.EDIT_SONGS_LIST,component:()=>p.jsx(x.Suspense,{fallback:p.jsx(U4,{}),children:p.jsx(bye,{})})}),p.jsx(ni,{path:"edit/get-songs-bpms",component:khe}),p.jsx(ni,{path:Pi.EDIT_SONG,children:p.jsx(qde,{})}),p.jsx(ni,{path:Pi.INDEX,component:Gve})]})})})})})})}const Sye=HH(_ye),xye=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var xm={},y5;function wye(){if(y5)return xm;y5=1;var e=OL();return xm.createRoot=e.createRoot,xm.hydrateRoot=e.hydrateRoot,xm}var Eye=wye();PH({integrations:[kH({enableInp:!0}),j7({filterKeys:["allkaraoke-party-sentry-key"],behaviour:"apply-tag-if-contains-third-party-frames"})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:xye,tracesSampleRate:_i()?0:.01,environment:_i()?"e2e":"production",tunnel:"/stry-tunnel"});_i()||ar.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"/ph-data",loaded:e=>{let t=ot.local.getItem("posthog-user-id");t||(t=M0(),ot.local.setItem("posthog-user-id",t)),e.identify(t);let n=ot.local.getItem("posthog-user-name");if(!n){const r=[...new Set(th.artists.flatMap(i=>GO(i).split("-")))].filter(i=>i.length<=10);n=new Array(to(3,5)).fill(0).map(()=>r[to(0,r.length-1)]).join("-"),ot.local.setItem("posthog-user-name",n),e.alias(n,t)}Tz({id:t})}});const Cye=gV({key:"ec",speedy:!tN}),kye=document.getElementById("root"),Tye=Eye.createRoot(kye);Tye.render(p.jsxs(hY,{value:Cye,children:[p.jsx(Sye,{}),p.jsx(W_,{position:bn.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{Vye as $,NK as A,Wr as B,yo as C,Vx as D,Y_ as E,Xh as F,$i as G,p as H,hY as I,Ote as J,lV as K,kc as L,j0 as M,vL as N,Ete as O,Rt as P,rn as Q,Ox as R,is as S,qte as T,F0 as U,mL as V,tn as W,oS as X,v0 as Y,aw as Z,ga as _,Mee as a,Dd as a$,sw as a0,Bi as a1,Oye as a2,Si as a3,li as a4,ip as a5,jL as a6,fre as a7,ML as a8,Je as a9,wee as aA,Cc as aB,xee as aC,nw as aD,tde as aE,dM as aF,pde as aG,Lye as aH,Xne as aI,bee as aJ,ede as aK,Qs as aL,Bu as aM,tw as aN,VR as aO,W as aP,lM as aQ,Vw as aR,bI as aS,bo as aT,an as aU,sS as aV,Fye as aW,Tee as aX,cL as aY,ct as aZ,vK as a_,Aa as aa,O0 as ab,mw as ac,ca as ad,ci as ae,zt as af,Mn as ag,iy as ah,Bt as ai,Os as aj,ui as ak,tv as al,Qv as am,cw as an,uw as ao,Lh as ap,J4 as aq,vw as ar,U0 as as,VL as at,gw as au,Cee as av,D0 as aw,Nye as ax,Ec as ay,yw as az,Ree as b,fc as b0,Gm as b1,Vue as b2,Lue as b3,uq as b4,al as b5,Rh as b6,ev as b7,Rue as b8,kue as b9,hoe as bA,Ude as bB,jie as bC,Mie as bD,Z4 as bE,J0 as bF,Zs as bG,os as bH,Ww as bI,$ye as bJ,Hde as bK,ar as bL,vue as bM,Eue as ba,Mue as bb,yi as bc,Pd as bd,D0e as be,ya as bf,zi as bg,_l as bh,$v as bi,fee as bj,Pw as bk,Gde as bl,Vd as bm,Nne as bn,K4 as bo,Xue as bp,Ede as bq,O1 as br,bw as bs,_de as bt,db as bu,Pde as bv,PR as bw,Dc as bx,jo as by,kle as bz,AW as c,YK as d,MK as e,KK as f,Cx as g,QK as h,Yu as i,qK as j,fV as k,dV as l,Pee as m,DK as n,BK as o,Pf as p,nn as q,x as r,ot as s,ri as t,cl as u,ns as v,Mh as w,Vv as x,ko as y,Um as z};
//# sourceMappingURL=index-DW61ZpQA.js.map
