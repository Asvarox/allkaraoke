var S6=Object.defineProperty;var _6=(e,t,n)=>t in e?S6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xd=(e,t,n)=>_6(e,typeof t!="symbol"?t+"":t,n);function x6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function w6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var mI={exports:{}},_y={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E6=Symbol.for("react.transitional.element"),T6=Symbol.for("react.fragment");function yI(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:E6,type:e,key:r,ref:t!==void 0?t:null,props:n}}_y.Fragment=T6;_y.jsx=yI;_y.jsxs=yI;mI.exports=_y;var f=mI.exports;class ea{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const f1=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()},keys:()=>{const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e.key(n));return t}});class h1{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}keys(){return Object.keys(this.store)}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const U2=f1((global==null?void 0:global.localStorage)??new h1),Be={...U2,local:U2,session:f1((global==null?void 0:global.sessionStorage)??new h1),memory:f1(new h1)},p1="CAMERA_GRANT_KEY",H2=Be.local.getItem(p1);class C6 extends ea{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=H2!==null?JSON.parse(H2):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Be.local.setItem(p1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Be.local.setItem(p1,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Fs=new C6;function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sh(e){return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t,n){return t&&q2(e.prototype,t),n&&q2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k6(e,t){if(e==null)return{};var n,r,i=function(a,o){if(a==null)return{};var l,c,u={},d=Object.keys(a);for(c=0;c<d.length;c++)l=d[c],o.indexOf(l)>=0||(u[l]=a[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,a,o=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(s=i.next()).done)&&(o.push(s.value),!r||o.length!==r);l=!0);}catch(u){c=!0,a=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw a}}return o}}(e,t)||Sx(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qa(e){return function(t){if(Array.isArray(t))return g1(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Sx(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sx(e,t){if(e){if(typeof e=="string")return g1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g1(e,t):void 0}}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gs(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Sx(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{a||n.return==null||n.return()}finally{if(o)throw s}}}}var Bs={DEBUG:!1,LIB_VERSION:"1.155.0"},M6=Array.isArray,vI=Object.prototype,AI=vI.hasOwnProperty,xy=vI.toString,Zn=M6||function(e){return xy.call(e)==="[object Array]"},Ys=function(e){return typeof e=="function"},xr=function(e){return e===Object(e)&&!Zn(e)},cm=function(e){if(xr(e)){for(var t in e)if(AI.call(e,t))return!1;return!0}return!1},Le=function(e){return e===void 0},Vr=function(e){return xy.call(e)=="[object String]"},Y2=function(e){return Vr(e)&&e.trim().length===0},go=function(e){return e===null},pi=function(e){return Le(e)||go(e)},Zi=function(e){return xy.call(e)=="[object Number]"},ou=function(e){return xy.call(e)==="[object Boolean]"},R6=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,ci=typeof globalThis<"u"?globalThis:X,bI=Array.prototype,K2=bI.forEach,Q2=bI.indexOf,Ga=ci==null?void 0:ci.navigator,Te=ci==null?void 0:ci.document,li=ci==null?void 0:ci.location,m1=ci==null?void 0:ci.fetch,y1=ci!=null&&ci.XMLHttpRequest&&"withCredentials"in new ci.XMLHttpRequest?ci.XMLHttpRequest:void 0,W2=ci==null?void 0:ci.AbortController,Vn=Ga==null?void 0:Ga.userAgent,Tn=X??{},X2="[PostHog.js]",ae={_log:function(e){if(X&&(Bs.DEBUG||Tn.POSTHOG_DEBUG)&&!Le(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[X2].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae._log.apply(ae,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae._log.apply(ae,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae._log.apply(ae,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[X2].concat(n))},uninitializedWarning:function(e){ae.error("You must initialize PostHog before calling ".concat(e))}},Ym={},wy=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Tu(e,t,n){if(Zn(e)){if(K2&&e.forEach===K2)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Ym)return}}}function Yt(e,t,n){if(!pi(e)){if(Zn(e))return Tu(e,t,n);if(R6(e)){var r,i=gs(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===Ym)return}}catch(o){i.e(o)}finally{i.f()}}else for(var a in e)if(AI.call(e,a)&&t.call(n,e[a],a)===Ym)return}}var Yr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tu(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function ft(e,t){return e.indexOf(t)!==-1}function um(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var SI=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},J2=function(e){try{return e()}catch{return}},I6=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){ae.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ae.critical(i)}}},v1=function(e){var t={};return Yt(e,function(n,r){Vr(n)&&n.length>0&&(t[r]=n)}),t},A1=function(e){return e.replace(/^\$/,"")};function O6(e,t){return n=e,r=function(s){return Vr(s)&&!go(t)?s.slice(0,t):s},i=new Set,function s(a,o){return a!==Object(a)?r?r(a,o):a:i.has(a)?void 0:(i.add(a),Zn(a)?(l=[],Tu(a,function(c){l.push(s(c))})):(l={},Yt(a,function(c,u){i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var Ns,j6=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var a=e.charCodeAt(i),o=null;a<128?n++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),go(o)||(n>t&&(s+=e.substring(t,n)),s+=o,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},za=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var a="on"+n,o=t[a];t[a]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;Ys(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,o)}else ae.error("No valid element provided to register_event")}}();function _I(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Ns||(Ns={}));var xI="$people_distinct_id",xf="__alias",wf="__timers",Z2="$autocapture_disabled_server_side",b1="$heatmaps_enabled_server_side",eT="$exception_capture_enabled_server_side",tT="$exception_capture_endpoint",nT="$web_vitals_enabled_server_side",S1="$session_recording_enabled_server_side",rT="$console_log_recording_enabled_server_side",iT="$session_recording_network_payload_capture",sT="$session_recording_canvas_recording",aT="$replay_sample_rate",oT="$replay_minimum_duration",Km="$sesid",Uf="$session_is_sampled",lu="$enabled_feature_flags",_1="$early_access_features",cu="$stored_person_properties",Co="$stored_group_properties",x1="$surveys",Jp="$surveys_activated",Qm="$flag_call_reported",Na="$user_state",w1="$client_session_props",E1="$capture_rate_limit",T1="$initial_campaign_params",C1="$initial_referrer_info",lT="$initial_person_info",Wm="$epp",k1="__POSTHOG_TOOLBAR__",V6=[xI,xf,"__cmpns",wf,S1,b1,Km,lu,Na,_1,Co,cu,x1,Qm,w1,E1,T1,C1,Wm],cA="$active_feature_flags",Zp="$override_feature_flags",cT="$feature_flag_payloads",uT=function(e){var t,n={},r=gs(um(e||{}));try{for(r.s();!(t=r.n()).done;){var i=qr(t.value,2),s=i[0],a=i[1];a&&(n[s]=a)}}catch(o){r.e(o)}finally{r.f()}return n},P6=function(){function e(t){Et(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Tt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(lu),n=this.instance.get_property(Zp);if(!n)return t||{};for(var r=Yr({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(ae.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(cT)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(cu),i=this.instance.get_property(Co),s={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:s,compression:this.instance.config.disable_compression?void 0:Ns.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(a){var o;t.setReloadingPaused(!1);var l=!0;a.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((o=a.json)!==null&&o!==void 0?o:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),a=this.instance.get_property(Qm)||{};return(n.send_event||!("send_event"in n))&&(!(t in a)||!a[t].includes(s))&&(Zn(a[t])?a[t].push(s):a[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register(re({},Qm,a)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}ae.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);ae.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,a){var o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,d=s.featureFlagPayloads;if(u)if(Zn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;a&&a.register((re(h={},cA,u),re(h,lu,p),h))}else{var m=u,S=d;s.errorsWhileComputingFlags&&(m=be(be({},l),m),S=be(be({},c),S)),a&&a.register((re(o={},cA,Object.keys(uT(m))),re(o,lu,m||{}),re(o,cT,S||{}),o))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return ae.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=n,t===!1)this.instance.persistence.unregister(Zp);else if(Zn(t)){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;this.instance.persistence.register(re({},Zp,r))}else this.instance.persistence.register(re({},Zp,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,s=r.flagVariants;t(i,s)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,s=re({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:s}),this.setPersonPropertiesForFlags(s,!1);var a=be(be({},this.getFlagVariants()),{},re({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((re(i={},cA,Object.keys(uT(a))),re(i,lu,a),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(_1);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(s){var a;if(s.json){var o=s.json.earlyAccessFeatures;return(a=n.instance.persistence)===null||a===void 0||a.register(re({},_1,o)),t(o)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(cu)||{};this.instance.register(re({},cu,be(be({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(cu)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Co)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=be(be({},r[i]),t[i]),delete t[i]}),this.instance.register(re({},Co,be(be({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(Co)||{};this.instance.register(re({},Co,be(be({},n),{},re({},t,{}))))}else this.instance.unregister(Co)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Zi(e)&&isFinite(e)&&Math.floor(e)===e});var dT="0123456789abcdef",D6=function(){function e(t){if(Et(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return Tt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+dT.charAt(this.bytes[n]>>>4)+dT.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),B6=function(){function e(){Et(this,e),re(this,"timestamp",0),re(this,"counter",0),re(this,"random",new N6)}return Tt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(Le(t)){this.timestamp=0;var n=this.generateOrAbort();if(Le(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return D6.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),wI=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!Le(X.crypto)&&crypto.getRandomValues&&(wI=function(e){return crypto.getRandomValues(e)});var fT,N6=function(){function e(){Et(this,e),re(this,"buffer",new Uint32Array(8)),re(this,"cursor",1/0)}return Tt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(wI(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),Bo=function(){return L6().toString()},L6=function(){return(fT||(fT=new B6)).generate()},F6="Thu, 01 Jan 1970 00:00:00 GMT",Jd="",$6=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function z6(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Te;if(Jd)return Jd;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var a=i.split("."),o=Math.min(a.length,8),l="dmn_chk_"+Bo(),c=new RegExp("(^|;)\\s*"+l+"=1");!Jd&&o--;){var u=a.slice(o).join("."),d=l+"=1;domain=."+u;s.cookie=d,c.test(s.cookie)&&(s.cookie=d+";expires="+F6,Jd=u)}return Jd}(e);if(!n){var r=function(i){var s=i.match($6);return s?s[0]:""}(e);r!==n&&ae.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var mr,Wa={is_supported:function(){return!!Te},error:function(e){ae.error("cookieStore error: "+e)},get:function(e){if(Te){try{for(var t=e+"=",n=Te.cookie.split(";").filter(function(s){return s.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Wa.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(Te)try{var s="",a="",o=z6(Te.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(a="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+o+a;return c.length>3686.4&&ae.warn("cookieStore warning: large cookie, len="+c.length),Te.cookie=c,c}catch{return}},remove:function(e,t){try{Wa.set(e,"",-1,t)}catch{return}}},uA=null,Xn={is_supported:function(){if(!go(uA))return uA;var e=!0;if(Le(X))e=!1;else try{var t="__mplssupport__";Xn.set(t,"xyz"),Xn.get(t)!=='"xyz"'&&(e=!1),Xn.remove(t)}catch{e=!1}return e||ae.error("localStorage unsupported; falling back to cookie store"),uA=e,e},error:function(e){ae.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){Xn.error(t)}return null},parse:function(e){try{return JSON.parse(Xn.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){Xn.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){Xn.error(t)}}},U6=["distinct_id",Km,Uf,Wm],eg=be(be({},Xn),{},{parse:function(e){try{var t={};try{t=Wa.parse(e)||{}}catch{}var n=Yr(t,JSON.parse(Xn.get(e)||"{}"));return Xn.set(e,n),n}catch{}return null},set:function(e,t,n,r,i,s){try{Xn.set(e,t,void 0,void 0,s);var a={};U6.forEach(function(o){t[o]&&(a[o]=t[o])}),Object.keys(a).length&&Wa.set(e,a,n,r,i,s)}catch(o){Xn.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Wa.remove(e,t)}catch(n){Xn.error(n)}}}),tg={},H6={is_supported:function(){return!0},error:function(e){ae.error("memoryStorage error: "+e)},get:function(e){return tg[e]||null},parse:function(e){return tg[e]||null},set:function(e,t){tg[e]=t},remove:function(e){delete tg[e]}},Al=null,Ar={is_supported:function(){if(!go(Al))return Al;if(Al=!0,Le(X))Al=!1;else try{var e="__support__";Ar.set(e,"xyz"),Ar.get(e)!=='"xyz"'&&(Al=!1),Ar.remove(e)}catch{Al=!1}return Al},error:function(e){ae.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){Ar.error(t)}return null},parse:function(e){try{return JSON.parse(Ar.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Ar.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){Ar.error(t)}}},G6=["localhost","127.0.0.1"],Hf=function(e){var t=Te==null?void 0:Te.createElement("a");return Le(t)?null:(t.href=e,t)},Xm=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},q6=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Yt(e,function(s,a){Le(s)||Le(a)||a==="undefined"||(t=encodeURIComponent(function(o){return o instanceof File}(s)?s.name:s.toString()),n=encodeURIComponent(a),i[i.length]=n+"="+t)}),i.join(r)},hT=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!Zn(n)||n.length<2)return"";var a=n[1];try{a=decodeURIComponent(a)}catch{ae.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Jm=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},us="Mobile",Zm="iOS",pa="Android",_h="Tablet",EI=pa+" "+_h,TI="iPad",CI="Apple",kI=CI+" Watch",xh="Safari",Ku="BlackBerry",MI="Samsung",RI=MI+"Browser",II=MI+" Internet",Ho="Chrome",Y6=Ho+" OS",OI=Ho+" "+Zm,_x="Internet Explorer",jI=_x+" "+us,xx="Opera",K6=xx+" Mini",wx="Edge",VI="Microsoft "+wx,Cu="Firefox",PI=Cu+" "+Zm,wh="Nintendo",Eh="PlayStation",ku="Xbox",DI=pa+" "+us,BI=us+" "+xh,Ef="Windows",M1=Ef+" Phone",pT="Nokia",R1="Ouya",NI="Generic",Q6=NI+" "+us.toLowerCase(),LI=NI+" "+_h.toLowerCase(),I1="Konqueror",Hr="(\\d+(\\.\\d+)?)",dA=new RegExp("Version/"+Hr),W6=new RegExp(ku,"i"),X6=new RegExp(Eh+" \\w+","i"),J6=new RegExp(wh+" \\w+","i"),Ex=new RegExp(Ku+"|PlayBook|BB10","i"),Z6={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},e8=function(e,t){return t&&ft(t,CI)||function(n){return ft(n,xh)&&!ft(n,Ho)&&!ft(n,pa)}(e)},gT=function(e,t){return t=t||"",ft(e," OPR/")&&ft(e,"Mini")?K6:ft(e," OPR/")?xx:Ex.test(e)?Ku:ft(e,"IE"+us)||ft(e,"WPDesktop")?jI:ft(e,RI)?II:ft(e,wx)||ft(e,"Edg/")?VI:ft(e,"FBIOS")?"Facebook "+us:ft(e,"UCWEB")||ft(e,"UCBrowser")?"UC Browser":ft(e,"CriOS")?OI:ft(e,"CrMo")?Ho:ft(e,pa)&&ft(e,xh)?DI:ft(e,Ho)?Ho:ft(e,"FxiOS")?PI:ft(e.toLowerCase(),I1.toLowerCase())?I1:e8(e,t)?ft(e,us)?BI:xh:ft(e,Cu)?Cu:ft(e,"MSIE")||ft(e,"Trident/")?_x:ft(e,"Gecko")?Cu:""},t8=(re(mr={},jI,[new RegExp("rv:"+Hr)]),re(mr,VI,[new RegExp(wx+"?\\/"+Hr)]),re(mr,Ho,[new RegExp("("+Ho+"|CrMo)\\/"+Hr)]),re(mr,OI,[new RegExp("CriOS\\/"+Hr)]),re(mr,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Hr)]),re(mr,xh,[dA]),re(mr,BI,[dA]),re(mr,xx,[new RegExp("(Opera|OPR)\\/"+Hr)]),re(mr,Cu,[new RegExp(Cu+"\\/"+Hr)]),re(mr,PI,[new RegExp("FxiOS\\/"+Hr)]),re(mr,I1,[new RegExp("Konqueror[:/]?"+Hr,"i")]),re(mr,Ku,[new RegExp(Ku+" "+Hr),dA]),re(mr,DI,[new RegExp("android\\s"+Hr,"i")]),re(mr,II,[new RegExp(RI+"\\/"+Hr)]),re(mr,_x,[new RegExp("(rv:|MSIE )"+Hr)]),re(mr,"Mozilla",[new RegExp("rv:"+Hr)]),mr),mT=[[new RegExp(ku+"; "+ku+" (.*?)[);]","i"),function(e){return[ku,e&&e[1]||""]}],[new RegExp(wh,"i"),[wh,""]],[new RegExp(Eh,"i"),[Eh,""]],[Ex,[Ku,""]],[new RegExp(Ef,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[M1,""];if(new RegExp(us).test(t)&&!/IEMobile\b/.test(t))return[Ef+" "+us,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=Z6[r]||"";return/arm/i.test(t)&&(i="RT"),[Ef,i]}return[Ef,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Zm,t.join(".")]}return[Zm,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=Le(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+pa+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+pa+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[pa,t.join(".")]}return[pa,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Y6,""]],[/Linux|debian/i,["Linux",""]]],yT=function(e){return J6.test(e)?wh:X6.test(e)?Eh:W6.test(e)?ku:new RegExp(R1,"i").test(e)?R1:new RegExp("("+M1+"|WPDesktop)","i").test(e)?M1:/iPad/.test(e)?TI:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?kI:Ex.test(e)?Ku:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(pT,"i").test(e)?pT:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(us).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?pa:EI:pa:new RegExp("(pda|"+us+")","i").test(e)?Q6:new RegExp(_h,"i").test(e)&&!new RegExp(_h+" pc","i").test(e)?LI:""},ng="https?://(.*)",n8=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],lr={campaignParams:function(e){return Te?this._campaignParamsFromUrl(Te.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=n8.concat(t||[]),r={};return Yt(n,function(i){var s=hT(e,i);s&&(r[i]=s)}),r},_searchEngine:function(e){return e?e.search(ng+"google.([^/?]*)")===0?"google":e.search(ng+"bing.com")===0?"bing":e.search(ng+"yahoo.com")===0?"yahoo":e.search(ng+"duckduckgo.com")===0?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=lr._searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(!go(t)){r.$search_engine=t;var i=Te?hT(Te.referrer,n):"";i.length&&(r.ph_keyword=i)}return r},searchInfo:function(){var e=Te==null?void 0:Te.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:gT,browserVersion:function(e,t){var n=gT(e,t),r=t8[n];if(Le(r))return null;for(var i=0;i<r.length;i++){var s=r[i],a=e.match(s);if(a)return parseFloat(a[a.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<mT.length;t++){var n=qr(mT[t],2),r=n[0],i=n[1],s=r.exec(e),a=s&&(Ys(i)?i(s,e):i);if(a)return a}return["",""]},device:yT,deviceType:function(e){var t=yT(e);return t===TI||t===EI||t==="Kobo"||t==="Kindle Fire"||t===LI?_h:t===wh||t===ku||t===Eh||t===R1?"Console":t===kI?"Wearable":t?us:"Desktop"},referrer:function(){return(Te==null?void 0:Te.referrer)||"$direct"},referringDomain:function(){var e;return Te!=null&&Te.referrer&&((e=Hf(Te.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:li==null?void 0:li.href}},initialPersonPropsFromInfo:function(e){var t,n=e.r,r=e.u,i={$initial_referrer:n,$initial_referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=Hf(n))===null||t===void 0?void 0:t.host};if(r){i.$initial_current_url=r;var s=Hf(r);i.$initial_host=s==null?void 0:s.host,i.$initial_pathname=s==null?void 0:s.pathname,Yt(this._campaignParamsFromUrl(r),function(a,o){i["$initial_"+A1(o)]=a})}return n&&Yt(this._searchInfoFromReferrer(n),function(a,o){i["$initial_"+A1(o)]=a}),i},properties:function(){if(!Vn)return{};var e=qr(lr.os(Vn),2),t=e[0],n=e[1];return Yr(v1({$os:t,$os_version:n,$browser:lr.browser(Vn,navigator.vendor),$device:lr.device(Vn),$device_type:lr.deviceType(Vn)}),{$current_url:li==null?void 0:li.href,$host:li==null?void 0:li.host,$pathname:li==null?void 0:li.pathname,$raw_user_agent:Vn.length>1e3?Vn.substring(0,997)+"...":Vn,$browser_version:lr.browserVersion(Vn,navigator.vendor),$browser_language:lr.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:Bs.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:SI()/1e3})},people_properties:function(){if(!Vn)return{};var e=qr(lr.os(Vn),2),t=e[0],n=e[1];return Yr(v1({$os:t,$os_version:n,$browser:lr.browser(Vn,navigator.vendor)}),{$browser_version:lr.browserVersion(Vn,navigator.vendor)})}},r8=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],fA=function(){function e(t){Et(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),t.debug&&ae.info("Persistence loaded",t.persistence,be({},this.props)),this.update_config(t,t),this.save()}return Tt(e,[{key:"buildStorage",value:function(t){r8.indexOf(t.persistence.toLowerCase())===-1&&(ae.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Xn.is_supported()?Xn:n==="localstorage+cookie"&&eg.is_supported()?eg:n==="sessionstorage"&&Ar.is_supported()?Ar:n==="memory"?H6:n==="cookie"?Wa:eg.is_supported()?eg:Wa}},{key:"properties",value:function(){var t={};return Yt(this.props,function(n,r){if(r===lu&&xr(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else o=r,l=!1,(go(a=V6)?l:Q2&&a.indexOf===Q2?a.indexOf(o)!=-1:(Yt(a,function(c){if(l||(l=c===o))return Ym}),l))||(t[r]=n);var a,o,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Yr({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(xr(t)){Le(n)&&(n="None"),this.expire_days=Le(r)?this.default_expiry:r;var s=!1;if(Yt(t,function(a,o){i.props.hasOwnProperty(o)&&i.props[o]!==n||(i.props[o]=a,s=!0)}),s)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(xr(t)){this.expire_days=Le(n)?this.default_expiry:n;var i=!1;if(Yt(t,function(s,a){t.hasOwnProperty(a)&&r.props[a]!==s&&(r.props[a]=s,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(lr.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(lr.searchInfo())}},{key:"update_referrer_info",value:function(){this.register_once(lr.referrerInfo(),void 0)}},{key:"set_initial_person_info",value:function(){this.props[T1]||this.props[C1]||this.register_once(re({},lT,lr.initialPersonInfo()),void 0)}},{key:"get_referrer_info",value:function(){return v1({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};Yt([C1,T1],function(s){var a=t.props[s];a&&Yt(a,function(o,l){n["$initial_"+A1(l)]=o})});var r=this.props[lT];if(r){var i=lr.initialPersonPropsFromInfo(r);Yr(n,i)}return n}},{key:"safe_merge",value:function(t){return Yt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[wf]||{};r[t]=n,this.props[wf]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[wf]||{})[t];return Le(n)||(delete this.props[wf][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}();function O1(e){return JSON.stringify(e,(t=[],function(n,r){if(xr(r)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(r)?"[Circular]":(t.push(r),r)}return r})).length;var t}var i8=2,s8=4;function j1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66060288e-1;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[j1({size:O1(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),j1({size:O1(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(function(s){return s})}return[e]}var dm=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(dm||{}),Ba=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(Ba||{});function Tx(e){return e?wy(e).split(/\s+/):[]}function vT(e){var t=X==null?void 0:X.location.href;return!!(t&&e&&e.some(function(n){return t.match(n)}))}function e0(e){var t="";switch(Sh(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Tx(t)}function FI(e){return pi(e)?null:wy(e).split(/(\s+)/).filter(function(t){return Mu(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function t0(e){var t="";return P1(e)&&!HI(e)&&e.childNodes&&e.childNodes.length&&Yt(e.childNodes,function(n){var r;$I(n)&&n.textContent&&(t+=(r=FI(n.textContent))!==null&&r!==void 0?r:"")}),wy(t)}function Cx(e){return!!e&&e.nodeType===1}function Go(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function $I(e){return!!e&&e.nodeType===3}function zI(e){return!!e&&e.nodeType===11}var V1=["a","button","form","input","select","textarea","label"];function UI(e){var t=e.parentNode;return!(!t||!Cx(t))&&t}function a8(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!X||!e||Go(e,"html")||!Cx(e)||n!=null&&n.url_allowlist&&!vT(n.url_allowlist)||n!=null&&n.url_ignorelist&&vT(n.url_ignorelist))return!1;if(n!=null&&n.dom_event_allowlist){var s=n.dom_event_allowlist;if(s&&!s.some(function(p){return t.type===p}))return!1}for(var a=!1,o=[e],l=!0,c=e;c.parentNode&&!Go(c,"body");)if(zI(c.parentNode))o.push(c.parentNode.host),c=c.parentNode.host;else{if(!(l=UI(c)))break;if(r||V1.indexOf(l.tagName.toLowerCase())>-1)a=!0;else{var u=X.getComputedStyle(l);u&&u.getPropertyValue("cursor")==="pointer"&&(a=!0)}o.push(l),c=l}if(!function(p,g){var m=g==null?void 0:g.element_allowlist;if(Le(m))return!0;var S,y=gs(p);try{var b=function(){var _=S.value;if(m.some(function(x){return _.tagName.toLowerCase()===x}))return{v:!0}};for(y.s();!(S=y.n()).done;){var A=b();if(Sh(A)==="object")return A.v}}catch(_){y.e(_)}finally{y.f()}return!1}(o,n)||!function(p,g){var m=g==null?void 0:g.css_selector_allowlist;if(Le(m))return!0;var S,y=gs(p);try{var b=function(){var _=S.value;if(m.some(function(x){return _.matches(x)}))return{v:!0}};for(y.s();!(S=y.n()).done;){var A=b();if(Sh(A)==="object")return A.v}}catch(_){y.e(_)}finally{y.f()}return!1}(o,n))return!1;var d=X.getComputedStyle(e);if(d&&d.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var h=e.tagName.toLowerCase();switch(h){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return a?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(V1.indexOf(h)>-1||e.getAttribute("contenteditable")==="true")}}function P1(e){for(var t=e;t.parentNode&&!Go(t,"body");t=t.parentNode){var n=e0(t);if(ft(n,"ph-sensitive")||ft(n,"ph-no-capture"))return!1}if(ft(e0(e),"ph-include"))return!0;var r=e.type||"";if(Vr(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(Vr(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function HI(e){return!!(Go(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Go(e,"select")||Go(e,"textarea")||e.getAttribute("contenteditable")==="true")}var GI="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",o8=new RegExp("^(?:".concat(GI,")$")),l8=new RegExp(GI),qI="\\d{3}-?\\d{2}-?\\d{4}",c8=new RegExp("^(".concat(qI,")$")),u8=new RegExp("(".concat(qI,")"));function Mu(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(pi(e)||Vr(e)&&(e=wy(e),(t?o8:l8).test((e||"").replace(/[- ]/g,""))||(t?c8:u8).test(e)))}function AT(e){var t=t0(e);return Mu(t="".concat(t," ").concat(YI(e)).trim())?t:""}function YI(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Yt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=t0(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(YI(n)).trim())}catch(s){ae.error(s)}}),t}function d8(e){return function(t){var n=t.map(function(r){var i,s,a="";if(r.tag_name&&(a+=r.tag_name),r.attr_class){r.attr_class.sort();var o,l=gs(r.attr_class);try{for(l.s();!(o=l.n()).done;){var c=o.value;a+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=be(be(be(be({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return um(u).sort(function(h,p){var g=qr(h,1)[0],m=qr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=qr(h,2),g=p[0],m=p[1];return d[bT(g.toString())]=bT(m.toString())}),a+=":",a+=um(u).map(function(h){var p=qr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:f8(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return um(n).filter(function(a){return qr(a,1)[0].indexOf("attr__")===0}).forEach(function(a){var o=qr(a,2),l=o[0],c=o[1];return s.attributes[l]=c}),s})}(e))}function bT(e){return e.replace(/"|\\"/g,'\\"')}function f8(e){var t=e.attr__class;return t?Zn(t)?t:Tx(t):void 0}var D1="[SessionRecording]",B1="redacted",rg={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},h8=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],p8=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],g8=["/s/","/e/","/i/"];function ST(e,t,n,r){if(pi(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return Vr(i)&&(i=parseInt(i)),i>n?D1+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function _T(e,t){if(pi(e))return e;var n=e;return Mu(n,!1)||(n=D1+" "+t+" body "+B1),Yt(p8,function(r){var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=D1+" "+t+" body "+B1+" as might contain: "+r)}),n}var La,m8=function(e,t){var n,r,i,s={payloadSizeLimitBytes:rg.payloadSizeLimitBytes,performanceEntryTypeToObserve:Qa(rg.performanceEntryTypeToObserve),payloadHostDenyList:[].concat(Qa(t.payloadHostDenyList||[]),Qa(rg.payloadHostDenyList))},a=e.session_recording.recordHeaders!==!1&&t.recordHeaders,o=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=ST(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=ST(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var S=Hf(m.name);if(!(S&&S.pathname&&g8.some(function(y){return S.pathname.indexOf(y)===0})))return m}((g=(p=h).requestHeaders,pi(g)||Yt(Object.keys(g??{}),function(m){h8.includes(m.toLowerCase())&&(g[m]=B1)}),p)));var p,g},d=Ys(e.session_recording.maskNetworkRequestFn);return d&&Ys(e.session_recording.maskCapturedNetworkRequestFn)&&ae.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return be(be({},h),{},{name:p==null?void 0:p.url})}),s.maskRequestFn=Ys(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,S=u(h);return S&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,S))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!Le(p))return p.requestBody=_T(p.requestBody,"Request"),p.responseBody=_T(p.responseBody,"Response"),p}(u(h))},be(be(be({},rg),s),{},{recordHeaders:a,recordBody:o,recordPerformance:l,recordInitialRequests:l})},y8=Tt(function e(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Et(this,e),re(this,"bucketSize",100),re(this,"refillRate",10),re(this,"mutationBuckets",{}),re(this,"loggedTracker",{}),re(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(a){i.mutationBuckets[a]=i.mutationBuckets[a]+i.refillRate,i.mutationBuckets[a]>=i.bucketSize&&delete i.mutationBuckets[a]})}),re(this,"getNodeOrRelevantParent",function(a){var o=i.rrweb.mirror.getNode(a);if((o==null?void 0:o.nodeName)!=="svg"&&o instanceof Element){var l=o.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[a,o]}),re(this,"numberOfChanges",function(a){var o,l,c,u,d,h,p,g;return((o=(l=a.removes)===null||l===void 0?void 0:l.length)!==null&&o!==void 0?o:0)+((c=(u=a.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=a.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=a.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),re(this,"throttleMutations",function(a){if(a.type!==3||a.data.source!==0)return a;var o=a.data,l=i.numberOfChanges(o);o.attributes&&(o.attributes=o.attributes.filter(function(u){var d,h,p,g=qr(i.getNodeOrRelevantParent(u.id),2),m=g[0],S=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,S))),u)}));var c=i.numberOfChanges(o);return c!==0||l===c?a:void 0}),this.rrweb=t,this.options=s,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),v8=3e5,A8=[Ba.MouseMove,Ba.MouseInteraction,Ba.Scroll,Ba.ViewportResize,Ba.Input,Ba.TouchMove,Ba.MediaInteraction,Ba.Drag],xT=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},Hi="[SessionRecording]",b8=function(){function e(t){var n=this;if(Et(this,e),re(this,"queuedRRWebEvents",[]),re(this,"isIdle",!1),re(this,"_linkedFlagSeen",!1),re(this,"_lastActivityTimestamp",Date.now()),re(this,"_linkedFlag",null),re(this,"_forceAllowLocalhostNetworkCapture",!1),re(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(Te!=null&&Te.visibilityState){var a="window "+Te.visibilityState;n._tryAddCustomEvent(a,{})}}),!this.instance.sessionManager)throw ae.error(Hi+" started without valid sessionManager"),new Error(Hi+" started without valid sessionManager. This is a bug.");var r=this.sessionManager.checkAndGetSessionAndWindowId(),i=r.sessionId,s=r.windowId;this.sessionId=i,this.windowId=s,this.buffer=this.clearBuffer(),this._setupSampling()}return Tt(e,[{key:"rrwebRecord",get:function(){var t;return Tn==null||(t=Tn.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw new Error(Hi+" must be started with a valid sessionManager.");return this.instance.sessionManager}},{key:"fullSnapshotIntervalMillis",get:function(){var t;return((t=this.instance.config.session_recording)===null||t===void 0?void 0:t.full_snapshot_interval_millis)||v8}},{key:"isSampled",get:function(){var t=this.instance.get_property(Uf);return ou(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(S1),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(rT),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(sT);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(iT),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),a=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),o=xr(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,l=!!(ou(o)?o:r!=null&&r.capturePerformance);return s||a||l?{recordHeaders:s,recordBody:a,recordPerformance:l}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(aT);return Zi(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(oT);return Zi(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?pi(this._linkedFlag)||this._linkedFlagSeen?ou(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),ae.info(Hi+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,ae.info(Hi+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(Zi(i)){var s,a=this.isSampled,o=r||!ou(a);o?s=Math.random()<i:s=a,!s&&o&&ae.warn(Hi+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(re({},Uf,s))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(re({},Uf,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,s=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!pi(this._linkedFlag)){var a=Vr(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,o=Vr(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=xr(c)&&a in c,d=o?c[a]===o:u;if(d){var h={linkedFlag:a,linkedVariant:o},p="linked flag matched";ae.info(Hi+" "+p,h),s._tryAddCustomEvent(p,h)}s._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;Zi(this.sampleRate)&&go(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,s,a,o,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=pi(h)?null:parseFloat(h),g=(s=t.sessionRecording)===null||s===void 0?void 0:s.minimumDurationMilliseconds;n.register((re(d={},S1,!!t.sessionRecording),re(d,rT,(a=t.sessionRecording)===null||a===void 0?void 0:a.consoleLogRecordingEnabled),re(d,iT,be({capturePerformance:t.capturePerformance},(o=t.sessionRecording)===null||o===void 0?void 0:o.networkPayloadCapture)),re(d,sT,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),re(d,aT,p),re(d,oT,Le(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:SI()})}},{key:"_startCapture",value:function(){var t=this;Le(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut()||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():this.instance.requestRouter.loadScript("/static/recorder.js?v=".concat(Bs.LIB_VERSION),function(n){if(n)return ae.error(Hi+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&A8.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0,clearTimeout(this._fullSnapshotTimer),this._flushBuffer());var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),s=i.windowId,a=i.sessionId,o=this.sessionId!==a,l=this.windowId!==s;this.windowId=s,this.sessionId=a,(r||[i8,s8].indexOf(t.type)===-1&&(l||o||Le(this._fullSnapshotTimer)))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ae.warn(Hi+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(xT(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(xT(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,s=0,a=Object.entries(i||{});s<a.length;s++){var o=qr(a[s],2),l=o[0],c=o[1];l in r&&(l==="maskInputOptions"?r.maskInputOptions=be({password:!0},c):r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new y8(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");ae.info(p,{node:h}),n.log(Hi+" "+p,"warn")}});var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(be({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h})}}catch(p){ae.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else ae.error(Hi+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var n=this.fullSnapshotIntervalMillis;n&&(this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},n))}}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return Tn.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(Tn.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&Ys(Tn.getRecordNetworkPlugin)&&(!G6.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(Tn.getRecordNetworkPlugin(m8(this.instance.config,this.networkPayloadCapture))):ae.info(Hi+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&xr(t)){if(t.type===dm.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===dm.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(o){var l=o;if(l&&xr(l)&&l.type===6&&xr(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,o}return o}(r),s=O1(i);if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===dm.Custom){var a={$snapshot_bytes:s,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(a):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Qa(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt<=2e3&&t._tryRRWebMethod(r)})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=Zi(r)&&r>=0,s=Zi(n)&&i&&r<n;return this.status==="buffering"||s?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer):(this.buffer.data.length>0&&j1(this.buffer).forEach(function(a){t._captureSnapshot({$snapshot_bytes:a.size,$snapshot_data:a.data,$session_id:a.sessionId,$window_id:a.windowId})}),this.clearBuffer())}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings"})}}]),e}(),S8=function(){function e(t){Et(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Tt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(cu),group_properties:this.instance.get_property(Co),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:Ns.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)ae.error("Failed to fetch feature flags from PostHog.");else{if(!Te||!Te.body)return ae.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);if(this.instance._afterDecideResponse(t),t.siteApps)if(this.instance.config.opt_in_site_apps){var i,s=gs(t.siteApps);try{var a=function(){var o=i.value,l=o.id,c=o.url,u=n.instance.requestRouter.endpointFor("api",c);Tn["__$$ph_site_app_".concat(l)]=n.instance,n.instance.requestRouter.loadScript(u,function(d){if(d)return ae.error("Error while initializing PostHog app with config id ".concat(l),d)})};for(s.s();!(i=s.n()).done;)a()}catch(o){s.e(o)}finally{s.f()}}else t.siteApps.length>0&&ae.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),_8=X!=null&&X.location?Jm(X.location.hash,"__posthog")||Jm(location.hash,"state"):null,wT="_postHogToolbarParams";(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(La||(La={}));var x8=function(){function e(t){Et(this,e),this.instance=t}return Tt(e,[{key:"setToolbarState",value:function(t){Tn.ph_toolbar_state=t}},{key:"getToolbarState",value:function(){var t;return(t=Tn.ph_toolbar_state)!==null&&t!==void 0?t:La.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!Te)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,s=(n=s)!==null&&n!==void 0?n:X.history;try{if(!i){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}i=X==null?void 0:X.localStorage}var a,o=_8||Jm(r.hash,"__posthog")||Jm(r.hash,"state"),l=o?J2(function(){return JSON.parse(atob(decodeURIComponent(o)))})||J2(function(){return JSON.parse(decodeURIComponent(o))}):null;return l&&l.action==="ph_authorize"?((a=l).source="url",a&&Object.keys(a).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState(s.state,"",r.pathname+r.search):r.hash="")):((a=JSON.parse(i.getItem(wT)||"{}")).source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(Tn.ph_load_toolbar||Tn.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this,r=!(Te==null||!Te.getElementById(k1));if(!X||r)return!1;var i=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=be(be({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});if(X.localStorage.setItem(wT,JSON.stringify(be(be({},s),{},{source:void 0}))),this.getToolbarState()===La.LOADED)this._callLoadToolbar(s);else if(this.getToolbarState()===La.UNINITIALIZED){this.setToolbarState(La.LOADING);var a=3e5,o=Math.floor(Date.now()/a)*a;this.instance.requestRouter.loadScript("/static/toolbar.js?t=".concat(o),function(l){if(l)return ae.error("Failed to load toolbar",l),void n.setToolbarState(La.UNINITIALIZED);n.setToolbarState(La.LOADED),n._callLoadToolbar(s)}),za(X,"turbolinks:load",function(){n.setToolbarState(La.UNINITIALIZED),n.loadToolbar(s)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),w8=function(){function e(t){Et(this,e),re(this,"isPaused",!0),re(this,"queue",[]),re(this,"flushTimeoutMs",3e3),this.sendRequest=t}return Tt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Qa(r.filter(function(i){return i.url.indexOf("/e")===0})),Qa(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(be(be({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(s){var a=n[s],o=new Date().getTime();a.data&&Zn(a.data)&&Yt(a.data,function(l){l.offset=Math.abs(l.timestamp-o),delete l.timestamp}),t.sendRequest(a)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Yt(this.queue,function(n){var r,i=n,s=(i?i.batchKey:null)||i.url;Le(t[s])&&(t[s]=be(be({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),ds=Uint8Array,ui=Uint16Array,Qu=Uint32Array,kx=new ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mx=new ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ET=new ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KI=function(e,t){for(var n=new ui(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Qu(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},QI=KI(kx,2),E8=QI[0],N1=QI[1];E8[28]=258,N1[258]=28;for(var TT=KI(Mx,0)[1],WI=new ui(32768),nn=0;nn<32768;++nn){var bl=(43690&nn)>>>1|(21845&nn)<<1;bl=(61680&(bl=(52428&bl)>>>2|(13107&bl)<<2))>>>4|(3855&bl)<<4,WI[nn]=((65280&bl)>>>8|(255&bl)<<8)>>>1}var Gf=function(e,t,n){for(var r=e.length,i=0,s=new ui(t);i<r;++i)++s[e[i]-1];var a,o=new ui(t);for(i=0;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;for(a=new ui(r),i=0;i<r;++i)a[i]=WI[o[e[i]-1]++]>>>15-e[i];return a},rc=new ds(288);for(nn=0;nn<144;++nn)rc[nn]=8;for(nn=144;nn<256;++nn)rc[nn]=9;for(nn=256;nn<280;++nn)rc[nn]=7;for(nn=280;nn<288;++nn)rc[nn]=8;var n0=new ds(32);for(nn=0;nn<32;++nn)n0[nn]=5;var T8=Gf(rc,9),C8=Gf(n0,5),XI=function(e){return(e/8>>0)+(7&e&&1)},JI=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof ui?ui:e instanceof Qu?Qu:ds)(n-t);return r.set(e.subarray(t,n)),r},ka=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Zd=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},hA=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new ds(0),0];if(i==1){var a=new ds(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(x,E){return x.f-E.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new ui(h+1),g=k8(n[u-1],p,0);if(g>t){r=0;var m=0,S=g-t,y=1<<S;for(s.sort(function(x,E){return p[E.s]-p[x.s]||x.f-E.f});r<i;++r){var b=s[r].s;if(!(p[b]>t))break;m+=y-(1<<g-p[b]),p[b]=t}for(m>>>=S;m>0;){var A=s[r].s;p[A]<t?m-=1<<t-p[A]++-1:++r}for(;r>=0&&m;--r){var _=s[r].s;p[_]==t&&(--p[_],++m)}g=t}return[new ds(p),g]},k8=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},CT=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ui(++t),r=0,i=e[0],s=1,a=function(l){n[r++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return[n.subarray(0,r),t]},ef=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},L1=function(e,t,n){var r=n.length,i=XI(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},kT=function(e,t,n,r,i,s,a,o,l,c,u){ka(t,u++,n),++i[256];for(var d=hA(i,15),h=d[0],p=d[1],g=hA(s,15),m=g[0],S=g[1],y=CT(h),b=y[0],A=y[1],_=CT(m),x=_[0],E=_[1],T=new ui(19),k=0;k<b.length;++k)T[31&b[k]]++;for(k=0;k<x.length;++k)T[31&x[k]]++;for(var w=hA(T,7),O=w[0],B=w[1],F=19;F>4&&!O[ET[F-1]];--F);var j,D,I,C,P=c+5<<3,L=ef(i,rc)+ef(s,n0)+a,$=ef(i,h)+ef(s,m)+a+14+3*F+ef(T,O)+(2*T[16]+3*T[17]+7*T[18]);if(P<=L&&P<=$)return L1(t,u,e.subarray(l,l+c));if(ka(t,u,1+($<L)),u+=2,$<L){j=Gf(h,p),D=h,I=Gf(m,S),C=m;var U=Gf(O,B);for(ka(t,u,A-257),ka(t,u+5,E-1),ka(t,u+10,F-4),u+=14,k=0;k<F;++k)ka(t,u+3*k,O[ET[k]]);u+=3*F;for(var q=[b,x],H=0;H<2;++H){var ne=q[H];for(k=0;k<ne.length;++k){var N=31&ne[k];ka(t,u,U[N]),u+=O[N],N>15&&(ka(t,u,ne[k]>>>5&127),u+=ne[k]>>>12)}}}else j=T8,D=rc,I=C8,C=n0;for(k=0;k<o;++k)if(r[k]>255){N=r[k]>>>18&31,Zd(t,u,j[N+257]),u+=D[N+257],N>7&&(ka(t,u,r[k]>>>23&31),u+=kx[N]);var he=31&r[k];Zd(t,u,I[he]),u+=C[he],he>3&&(Zd(t,u,r[k]>>>5&8191),u+=Mx[he])}else Zd(t,u,j[r[k]]),u+=D[r[k]];return Zd(t,u,j[256]),u+D[256]},M8=new Qu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),R8=function(){for(var e=new Qu(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),I8=function(e,t,n,r,i){return function(s,a,o,l,c,u){var d=s.length,h=new ds(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!a||d<8)for(var m=0;m<=d;m+=65535){var S=m+65535;S<d?g=L1(p,g,s.subarray(m,S)):(p[m]=u,g=L1(p,g,s.subarray(m,d)))}else{for(var y=M8[a-1],b=y>>>13,A=8191&y,_=(1<<o)-1,x=new ui(32768),E=new ui(_+1),T=Math.ceil(o/3),k=2*T,w=function(He){return(s[He]^s[He+1]<<T^s[He+2]<<k)&_},O=new Qu(25e3),B=new ui(288),F=new ui(32),j=0,D=0,I=(m=0,0),C=0,P=0;m<d;++m){var L=w(m),$=32767&m,U=E[L];if(x[$]=U,E[L]=$,C<=m){var q=d-m;if((j>7e3||I>24576)&&q>423){g=kT(s,p,0,O,B,F,D,I,P,m-P,g),I=j=D=0,P=m;for(var H=0;H<286;++H)B[H]=0;for(H=0;H<30;++H)F[H]=0}var ne=2,N=0,he=A,te=$-U&32767;if(q>2&&L==w(m-te))for(var ue=Math.min(b,q)-1,Oe=Math.min(32767,m),_e=Math.min(258,q);te<=Oe&&--he&&$!=U;){if(s[m+ne]==s[m+ne-te]){for(var le=0;le<_e&&s[m+le]==s[m+le-te];++le);if(le>ne){if(ne=le,N=te,le>ue)break;var Ae=Math.min(te,le-2),Pe=0;for(H=0;H<Ae;++H){var Ce=m-te+H+32768&32767,Se=Ce-x[Ce]+32768&32767;Se>Pe&&(Pe=Se,U=Ce)}}}te+=($=U)-(U=x[$])+32768&32767}if(N){O[I++]=268435456|N1[ne]<<18|TT[N];var xe=31&N1[ne],Ne=31&TT[N];D+=kx[xe]+Mx[Ne],++B[257+xe],++F[Ne],C=m+ne,++j}else O[I++]=s[m],++B[s[m]]}}g=kT(s,p,u,O,B,F,D,I,P,m-P,g)}return JI(h,0,l+XI(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},pA=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function O8(e,t){t===void 0&&(t={});var n=function(){var o=4294967295;return{p:function(l){for(var c=o,u=0;u<l.length;++u)c=R8[255&c^l[u]]^c>>>8;o=c},d:function(){return 4294967295^o}}}(),r=e.length;n.p(e);var i,s=I8(e,t,10+((i=t).filename&&i.filename.length+1||0),8),a=s.length;return function(o,l){var c=l.filename;if(o[0]=31,o[1]=139,o[2]=8,o[8]=l.level<2?4:l.level==9?2:0,o[9]=3,l.mtime!=0&&pA(o,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){o[3]=8;for(var u=0;u<=c.length;++u)o[u+10]=c.charCodeAt(u)}}(s,t),pA(s,a-8,n.d()),pA(s,a-4,r),s}var j8=!!y1||!!m1,MT="text/plain",r0=function(e,t){var n=qr(e.split("?"),2),r=n[0],i=n[1],s=be({},t);i==null||i.split("&").forEach(function(o){var l=qr(o.split("="),1)[0];delete s[l]});var a=q6(s);return a=a?(i?i+"&":"")+a:i,"".concat(r,"?").concat(a)},V8=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},gA=function(e){var t=e.data,n=e.compression;if(t){if(n===Ns.GZipJS){var r=O8(function(s,a){var o=s.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(s);for(var l=new ds(s.length+(s.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<o;++d){if(c+5>l.length){var h=new ds(c+8+(o-d<<1));h.set(l),l=h}var p=s.charCodeAt(d);p<128||a?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&s.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return JI(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:MT,body:new Blob([r],{type:MT})}}if(n===Ns.Base64){var i=function(s){var a,o,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!s)return s;s=j6(s);do a=(u=s.charCodeAt(h++)<<16|s.charCodeAt(h++)<<8|s.charCodeAt(h++))>>18&63,o=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(a)+d.charAt(o)+d.charAt(l)+d.charAt(c);while(h<s.length);switch(g=m.join(""),s.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:V8(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},qf=[];y1&&qf.push({transport:"XHR",method:function(e){var t,n=new y1;n.open(e.method||"GET",e.url,!0);var r=(t=gA(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body;Yt(e.headers,function(a,o){n.setRequestHeader(o,a)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var a,o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}(a=e.callback)===null||a===void 0||a.call(e,o)}},n.send(s)}}),m1&&qf.push({transport:"fetch",method:function(e){var t,n,r=(t=gA(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body,a=new Headers;Yt(a,function(u,d){a.append(d,u)}),i&&a.append("Content-Type",i);var o=e.url,l=null;if(W2){var c=new W2;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}m1(o,{method:(e==null?void 0:e.method)||"GET",headers:a,keepalive:e.method==="POST",body:s,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){ae.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;ae.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})}}),Ga!=null&&Ga.sendBeacon&&qf.push({transport:"sendBeacon",method:function(e){var t=r0(e.url,{beacon:"1"});try{var n,r=(n=gA(e))!==null&&n!==void 0?n:{},i=r.contentType,s=r.body,a=typeof s=="string"?new Blob([s],{type:i}):s;Ga.sendBeacon(t,a)}catch{}}});var P8=["retriesPerformedSoFar"],Bl,D8=function(){function e(t){var n=this;Et(this,e),re(this,"isPolling",!1),re(this,"pollIntervalMs",3e3),re(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!Le(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return Tt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=k6(t,P8);Zi(r)&&r>0&&(i.url=r0(i.url,{retry_count:r})),this.instance._send_request(be(be({},i),{},{callback:function(s){var a;s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?n.enqueue(be({retriesPerformedSoFar:r},i)):(a=i.callback)===null||a===void 0||a.call(i,s)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(a){var o=3e3*Math.pow(2,a),l=o/2,c=Math.min(18e5,o),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),ae.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(o){return o.retryAt<t||(n.push(o),!1)});if(this.queue=n,r.length>0){var i,s=gs(r);try{for(s.s();!(i=s.n()).done;){var a=i.value.requestOptions;this.retriableRequest(a)}}catch(o){s.e(o)}finally{s.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=gs(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(be(be({},r),{},{transport:"sendBeacon"}))}catch(i){ae.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),ig=1800,B8=function(){function e(t,n,r,i){var s;Et(this,e),re(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||Bo,this._windowIdGenerator=i||Bo;var a=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||ig;if(Zi(o)?o>ig?ae.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&ae.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(ae.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=ig),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),ig),this._window_id_storage_key="ph_"+a+"_window_id",this._primary_window_exists_storage_key="ph_"+a+"_primary_window_exists",this._canUseSessionStorage()){var l=Ar.parse(this._window_id_storage_key),c=Ar.parse(this._primary_window_exists_storage_key);l&&!c?this._windowId=l:Ar.remove(this._window_id_storage_key),Ar.set(this._primary_window_exists_storage_key,!0)}if((s=this.config.bootstrap)!==null&&s!==void 0&&s.sessionID)try{var u=function(d){var h=d.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)}(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,new Date().getTime(),u)}catch(d){ae.error("Invalid sessionID in bootstrap",d)}this._listenToReloadWindow()}return Tt(e,[{key:"onSessionId",value:function(t){var n=this;return Le(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&Ar.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&Ar.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?Ar.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(re({},Km,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[Km];return Zn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&Ar.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=qr(this._getSessionId(),3),i=r[0],s=r[1],a=r[2],o=this._getWindowId(),l=a&&a>0&&Math.abs(n-a)>864e5,c=!1,u=!s,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(s=this._sessionIdGenerator(),o=this._windowIdGenerator(),ae.info("[SessionId] new session ID generated",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),a=n,c=!0):o||(o=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=a===0?new Date().getTime():a;return this._setWindowId(o),this._setSessionId(s,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(s,o)}),{sessionId:s,windowId:o,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Bl||(Bl={}));var RT="i.posthog.com",N8=function(){function e(t){Et(this,e),re(this,"_regionCache",{}),this.instance=t}return Tt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t,n=(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"");return n==="https://app.posthog.com"?"https://us.posthog.com":n}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Bl.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Bl.EU:this._regionCache[this.apiHost]=Bl.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(RT),".posthog.com"))+n;if(this.region===Bl.CUSTOM)return this.apiHost+n;var r=RT+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}},{key:"loadScript",value:function(t,n){if(this.instance.config.disable_external_dependency_loading)return ae.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=t[0]==="/"?this.endpointFor("assets",t):t,i=function(){if(!Te)return n("document not found");var s=Te.createElement("script");s.type="text/javascript",s.src=r,s.onload=function(l){return n(void 0,l)},s.onerror=function(l){return n(l)};var a,o=Te.querySelectorAll("body > script");o.length>0?(a=o[0].parentNode)===null||a===void 0||a.insertBefore(s,o[0]):Te.body.appendChild(s)};Te!=null&&Te.body?i():Te==null||Te.addEventListener("DOMContentLoaded",i)}}]),e}(),F1="/e/",sg="[Exception Capture]",L8=function(){function e(t){var n,r,i=this;Et(this,e),re(this,"originalOnUnhandledRejectionHandler",void 0),re(this,"startCapturing",function(){var s;if(X&&i.isEnabled&&!i.hasHandlers&&((s=X.onerror)===null||s===void 0||!s.__POSTHOG_INSTRUMENTED__)){var a=X.posthogErrorWrappingFunctions.wrapOnError,o=X.posthogErrorWrappingFunctions.wrapUnhandledRejection;if(a&&o)try{i.unwrapOnError=a(i.captureException.bind(i)),i.unwrapUnhandledRejection=o(i.captureException.bind(i))}catch(l){ae.error(sg+" failed to start",l),i.stopCapturing()}else ae.error(sg+" failed to load error wrapping functions - cannot start")}}),this.instance=t,this.remoteEnabled=!((n=this.instance.persistence)===null||n===void 0||!n.props[eT]),this._endpoint=((r=this.instance.persistence)===null||r===void 0?void 0:r.props[tT])||F1,this.startIfEnabled()}return Tt(e,[{key:"endpoint",get:function(){return this._endpoint}},{key:"isEnabled",get:function(){var t;return(t=this.remoteEnabled)!==null&&t!==void 0&&t}},{key:"isCapturing",get:function(){var t;return!(X==null||(t=X.onerror)===null||t===void 0||!t.__POSTHOG_INSTRUMENTED__)}},{key:"hasHandlers",get:function(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this.isCapturing&&(ae.info(sg+" enabled, starting..."),this.loadScript(this.startCapturing))}},{key:"loadScript",value:function(t){this.hasHandlers&&t(),this.instance.requestRouter.loadScript(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js?v=".concat(Bs.LIB_VERSION)),function(n){if(n)return ae.error(sg+" failed to load script",n);t()})}},{key:"stopCapturing",value:function(){var t,n;(t=this.unwrapOnError)===null||t===void 0||t.call(this),(n=this.unwrapUnhandledRejection)===null||n===void 0||n.call(this)}},{key:"afterDecideResponse",value:function(t){var n=t.autocaptureExceptions;this.remoteEnabled=!!n||!1,this._endpoint=xr(n)&&n.endpoint||F1,this.instance.persistence&&(this.instance.persistence.register(re({},eT,this.remoteEnabled)),this.instance.persistence.register(re({},tT,this._endpoint))),this.startIfEnabled()}},{key:"captureException",value:function(t){var n=this.instance.requestRouter.endpointFor("ui");t.$exception_personURL="".concat(n,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.sendExceptionEvent(t)}},{key:"sendExceptionEvent",value:function(t){this.instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}]),e}(),ZI="posthog-js";function eO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.organization,r=t.projectId,i=t.prefix,s=t.severityAllowList,a=s===void 0?["error"]:s;return function(o){var l,c,u,d,h,p;if(!(a==="*"||a.includes(o.level))||!e.__loaded)return o;o.tags||(o.tags={});var g=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));o.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var m=((l=o.exception)===null||l===void 0?void 0:l.values)||[],S={$exception_message:((c=m[0])===null||c===void 0?void 0:c.value)||o.message,$exception_type:(u=m[0])===null||u===void 0?void 0:u.type,$exception_personURL:g,$exception_level:o.level,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((d=m[0])===null||d===void 0?void 0:d.value)||o.message,$sentry_exception_type:(h=m[0])===null||h===void 0?void 0:h.type,$sentry_tags:o.tags,$level:o.level};return n&&r&&(S.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+o.event_id),e.capture("$exception",S,{_url:((p=e.exceptionObserver)===null||p===void 0?void 0:p.endpoint)||F1}),o}}var F8=Tt(function e(t,n,r,i,s){Et(this,e),this.name=ZI,this.setupOnce=function(a){a(eO(t,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}});function $8(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var a=function(l){var c=function(){return l.anonymousId()||Bo()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Na,"identified")),i()},o=s.user();"then"in o&&Ys(o.then)?o.then(function(l){return a(l)}):a(o)})(e,function(){n.register(function(r){Promise&&Promise.resolve||ae.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(s,a){var o;if(!a)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||r.reset(),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:s.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(a,(o=s.event.properties)!==null&&o!==void 0?o:{},new Date);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(s){return i(s,s.event.event)},page:function(s){return i(s,"$pageview")},identify:function(s){return i(s,"$identify")},screen:function(s){return i(s,"$screen")}}}(e)).then(function(){t()})})}var IT,i0,Is,z8=function(){function e(t){Et(this,e),this._instance=t}return Tt(e,[{key:"doPageView",value:function(t){var n,r=this._previousPageViewProperties(t);return this._currentPath=(n=X==null?void 0:X.location.pathname)!==null&&n!==void 0?n:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=t,r}},{key:"doPageLeave",value:function(t){return this._previousPageViewProperties(t)}},{key:"_previousPageViewProperties",value:function(t){var n=this._currentPath,r=this._prevPageviewTimestamp,i=this._instance.scrollManager.getContext();if(!r)return{};var s={};if(i){var a=i.maxScrollHeight,o=i.lastScrollY,l=i.maxScrollY,c=i.maxContentHeight,u=i.lastContentY,d=i.maxContentY;Le(a)||Le(o)||Le(l)||Le(c)||Le(u)||Le(d)||(a=Math.ceil(a),o=Math.ceil(o),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),s={$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:a<=1?1:ag(o/a,0,1),$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:a<=1?1:ag(l/a,0,1),$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c<=1?1:ag(u/c,0,1),$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:c<=1?1:ag(d/c,0,1)})}return n&&(s.$prev_pageview_pathname=n),r&&(s.$prev_pageview_duration=(t.getTime()-r.getTime())/1e3),s}}]),e}();function ag(e,t,n){return Math.max(t,Math.min(e,n))}(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(IT||(IT={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(i0||(i0={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(Is||(Is={}));var tO=function(){function e(){Et(this,e),re(this,"events",{}),this.events={}}return Tt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=gs(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(o){i.e(o)}finally{i.f()}var s,a=gs(this.events["*"]||[]);try{for(a.s();!(s=a.n()).done;)(0,s.value)(t,n)}catch(o){a.e(o)}finally{a.f()}}}]),e}(),U8=function(){function e(t){var n=this;Et(this,e),re(this,"_debugEventEmitter",new tO),re(this,"checkStep",function(r,i){return n.checkStepEvent(r,i)&&n.checkStepUrl(r,i)&&n.checkStepElement(r,i)}),re(this,"checkStepEvent",function(r,i){return i==null||!i.event||(r==null?void 0:r.event)===(i==null?void 0:i.event)}),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}return Tt(e,[{key:"init",value:function(){var t,n=this;if(!Le((t=this.instance)===null||t===void 0?void 0:t._addCaptureHook)){var r;(r=this.instance)===null||r===void 0||r._addCaptureHook(function(i,s){n.on(i,s)})}}},{key:"register",value:function(t){var n,r,i=this;if(!Le((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)&&(t.forEach(function(o){var l,c;(l=i.actionRegistry)===null||l===void 0||l.add(o),(c=o.steps)===null||c===void 0||c.forEach(function(u){var d;(d=i.actionEvents)===null||d===void 0||d.add((u==null?void 0:u.event)||"")})}),(r=this.instance)!==null&&r!==void 0&&r.autocapture)){var s,a=new Set;t.forEach(function(o){var l;(l=o.steps)===null||l===void 0||l.forEach(function(c){c!=null&&c.selector&&a.add(c==null?void 0:c.selector)})}),(s=this.instance)===null||s===void 0||s.autocapture.setElementSelectors(a)}}},{key:"on",value:function(t,n){var r,i=this;n!=null&&t.length!=0&&(this.actionEvents.has(t)||this.actionEvents.has(n==null?void 0:n.event))&&this.actionRegistry&&((r=this.actionRegistry)===null||r===void 0?void 0:r.size)>0&&this.actionRegistry.forEach(function(s){i.checkAction(n,s)&&i._debugEventEmitter.emit("actionCaptured",s.name)})}},{key:"_addActionHook",value:function(t){this.onAction("actionCaptured",function(n){return t(n)})}},{key:"checkAction",value:function(t,n){if((n==null?void 0:n.steps)==null)return!1;var r,i=gs(n.steps);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(this.checkStep(t,s))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}},{key:"onAction",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"checkStepUrl",value:function(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$current_url;if(!i||typeof i!="string"||!e.matchString(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}},{key:"checkStepElement",value:function(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.getElementsList(t).some(function(s){return!(n!=null&&n.href&&!e.matchString(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!e.matchString(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!e.matchString(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))}))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)===null||r===void 0?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}},{key:"getElementsList",value:function(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}],[{key:"matchString",value:function(t,n,r){switch(r){case"regex":return!!X&&Xm(t,n);case"exact":return n===t;case"contains":var i=e.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return Xm(t,i);default:return!1}}},{key:"escapeStringRegexp",value:function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}]),e}(),$1=function(){function e(t){Et(this,e),this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}return Tt(e,[{key:"register",value:function(t){var n;Le((n=this.instance)===null||n===void 0?void 0:n._addCaptureHook)||(this.setupEventBasedSurveys(t),this.setupActionBasedSurveys(t))}},{key:"setupActionBasedSurveys",value:function(t){var n=this,r=t.filter(function(i){var s,a,o,l;return((s=i.conditions)===null||s===void 0?void 0:s.actions)&&((a=i.conditions)===null||a===void 0||(o=a.actions)===null||o===void 0||(l=o.values)===null||l===void 0?void 0:l.length)>0});r.length!==0&&(this.actionMatcher==null&&(this.actionMatcher=new U8(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook(function(i){n.onAction(i)})),r.forEach(function(i){var s,a,o,l,c,u,d,h,p,g;i.conditions&&(s=i.conditions)!==null&&s!==void 0&&s.actions&&(a=i.conditions)!==null&&a!==void 0&&(o=a.actions)!==null&&o!==void 0&&o.values&&((l=i.conditions)===null||l===void 0||(c=l.actions)===null||c===void 0||(u=c.values)===null||u===void 0?void 0:u.length)>0&&((d=n.actionMatcher)===null||d===void 0||d.register(i.conditions.actions.values),(h=i.conditions)===null||h===void 0||(p=h.actions)===null||p===void 0||(g=p.values)===null||g===void 0||g.forEach(function(m){if(m&&m.name){var S=n.actionToSurveys.get(m.name);S&&S.push(i.id),n.actionToSurveys.set(m.name,S||[i.id])}}))}))}},{key:"setupEventBasedSurveys",value:function(t){var n,r=this;t.filter(function(i){var s,a,o,l;return((s=i.conditions)===null||s===void 0?void 0:s.events)&&((a=i.conditions)===null||a===void 0||(o=a.events)===null||o===void 0||(l=o.values)===null||l===void 0?void 0:l.length)>0}).length!==0&&((n=this.instance)===null||n===void 0||n._addCaptureHook(function(i,s){r.onEvent(i,s)}),t.forEach(function(i){var s,a,o;(s=i.conditions)===null||s===void 0||(a=s.events)===null||a===void 0||(o=a.values)===null||o===void 0||o.forEach(function(l){if(l&&l.name){var c=r.eventToSurveys.get(l.name);c&&c.push(i.id),r.eventToSurveys.set(l.name,c||[i.id])}})}))}},{key:"onEvent",value:function(t,n){var r,i,s=((r=this.instance)===null||r===void 0||(i=r.persistence)===null||i===void 0?void 0:i.props[Jp])||[];if(e.SURVEY_SHOWN_EVENT_NAME==t&&n&&s.length>0){var a,o=n==null||(a=n.properties)===null||a===void 0?void 0:a.$survey_id;if(o){var l=s.indexOf(o);l>=0&&(s.splice(l,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(t)||[]))}},{key:"onAction",value:function(t){var n,r,i=((n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0?void 0:r.props[Jp])||[];this.actionToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.actionToSurveys.get(t)||[]))}},{key:"_updateActivatedSurveys",value:function(t){var n,r;(n=this.instance)===null||n===void 0||(r=n.persistence)===null||r===void 0||r.register(re({},Jp,Qa(new Set(t))))}},{key:"getSurveys",value:function(){var t,n,r=(t=this.instance)===null||t===void 0||(n=t.persistence)===null||n===void 0?void 0:n.props[Jp];return r||[]}},{key:"getEventToSurveys",value:function(){return this.eventToSurveys}},{key:"_getActionMatcher",value:function(){return this.actionMatcher}}]),e}();re($1,"SURVEY_SHOWN_EVENT_NAME","survey shown");var tf="[Surveys]",H8={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())===-1},regex:function(e){return!!X&&Xm(X.location.href,e)},not_regex:function(e){return!!X&&!Xm(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e},is_not:function(e){return(X==null?void 0:X.location.href)!==e}},G8=function(){function e(t){Et(this,e),this.instance=t,this._surveyEventReceiver=null}return Tt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=Tn==null?void 0:Tn.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||(this._surveyEventReceiver==null&&(this._surveyEventReceiver=new $1(this.instance)),this.instance.requestRouter.loadScript("/static/surveys.js",function(r){if(r)return ae.error(tf,"Could not load surveys script",r);t._surveyManager=Tn.extendPostHogWithSurveys(t.instance)}))}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);this._surveyEventReceiver==null&&(this._surveyEventReceiver=new $1(this.instance));var i=this.instance.get_property(x1);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(s){var a;if(s.statusCode!==200||!s.json)return t([]);var o,l=s.json.surveys||[],c=l.filter(function(u){var d,h,p,g,m,S,y,b,A,_,x,E;return((d=u.conditions)===null||d===void 0?void 0:d.events)&&((h=u.conditions)===null||h===void 0||(p=h.events)===null||p===void 0?void 0:p.values)&&((g=u.conditions)===null||g===void 0||(m=g.events)===null||m===void 0||(S=m.values)===null||S===void 0?void 0:S.length)>0||((y=u.conditions)===null||y===void 0?void 0:y.actions)&&((b=u.conditions)===null||b===void 0||(A=b.actions)===null||A===void 0?void 0:A.values)&&((_=u.conditions)===null||_===void 0||(x=_.actions)===null||x===void 0||(E=x.values)===null||E===void 0?void 0:E.length)>0});return c.length>0&&((o=n._surveyEventReceiver)===null||o===void 0||o.register(c)),(a=n.instance.persistence)===null||a===void 0||a.register(re({},x1,l)),t(l)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var s,a=i.filter(function(c){return!(!c.start_date||c.end_date)}).filter(function(c){var u,d,h,p;if(!c.conditions)return!0;var g=(u=c.conditions)===null||u===void 0||!u.url||H8[(d=(h=c.conditions)===null||h===void 0?void 0:h.urlMatchType)!==null&&d!==void 0?d:"icontains"](c.conditions.url),m=(p=c.conditions)===null||p===void 0||!p.selector||(Te==null?void 0:Te.querySelector(c.conditions.selector));return g&&m}),o=(s=n._surveyEventReceiver)===null||s===void 0?void 0:s.getSurveys(),l=a.filter(function(c){var u,d,h,p,g,m,S,y,b,A;if(!c.linked_flag_key&&!c.targeting_flag_key&&!c.internal_targeting_flag_key)return!0;var _=!c.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(c.linked_flag_key),x=!c.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(c.targeting_flag_key),E=((u=c.conditions)===null||u===void 0?void 0:u.events)&&((d=c.conditions)===null||d===void 0||(h=d.events)===null||h===void 0?void 0:h.values)&&((p=c.conditions)===null||p===void 0||(g=p.events)===null||g===void 0?void 0:g.values.length)>0,T=((m=c.conditions)===null||m===void 0?void 0:m.actions)&&((S=c.conditions)===null||S===void 0||(y=S.actions)===null||y===void 0?void 0:y.values)&&((b=c.conditions)===null||b===void 0||(A=b.actions)===null||A===void 0?void 0:A.values.length)>0,k=!E&&!T||(o==null?void 0:o.includes(c.id)),w=n._canActivateRepeatedly(c),O=!(c.internal_targeting_flag_key&&!w)||n.instance.featureFlags.isFeatureEnabled(c.internal_targeting_flag_key);return _&&x&&O&&k});return t(l)},r)}},{key:"getNextSurveyStep",value:function(t,n,r){var i,s=t.questions[n],a=n+1;if((i=s.branching)===null||i===void 0||!i.type)return n===t.questions.length-1?Is.End:a;if(s.branching.type===Is.End)return Is.End;if(s.branching.type===Is.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===Is.ResponseBased){if(s.type===i0.SingleChoice){var o,l,c=s.choices.indexOf("".concat(r));if((o=s.branching)!==null&&o!==void 0&&(l=o.responseValues)!==null&&l!==void 0&&l.hasOwnProperty(c)){var u=s.branching.responseValues[c];return Number.isInteger(u)?u:u===Is.End?Is.End:a}}else if(s.type===i0.Rating){var d,h;if(typeof r!="number"||!Number.isInteger(r))throw new Error("The response type must be an integer");var p=function(m,S){if(S===3){if(m<1||m>3)throw new Error("The response must be in range 1-3");return m===1?"negative":m===2?"neutral":"positive"}if(S===5){if(m<1||m>5)throw new Error("The response must be in range 1-5");return m<=2?"negative":m===3?"neutral":"positive"}if(S===10){if(m<0||m>10)throw new Error("The response must be in range 0-10");return m<=6?"detractors":m<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 10")}(r,s.scale);if((d=s.branching)!==null&&d!==void 0&&(h=d.responseValues)!==null&&h!==void 0&&h.hasOwnProperty(p)){var g=s.branching.responseValues[p];return Number.isInteger(g)?g:g===Is.End?Is.End:a}}return a}return ae.warn(tf,"Falling back to next question index due to unexpected branching type"),a}},{key:"_canActivateRepeatedly",value:function(t){return pi(Tn.__PosthogExtensions__.canActivateRepeatedly)&&ae.warn(tf,"canActivateRepeatedly is not defined, must init before calling"),Tn.__PosthogExtensions__.canActivateRepeatedly(t)}},{key:"canRenderSurvey",value:function(t){var n=this;pi(this._surveyManager)?ae.warn(tf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(r){var i=r.filter(function(s){return s.id===t})[0];n._surveyManager.canRenderSurvey(i)})}},{key:"renderSurvey",value:function(t,n){var r=this;pi(this._surveyManager)?ae.warn(tf,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys(function(i){var s=i.filter(function(a){return a.id===t})[0];r._surveyManager.renderSurvey(s,Te==null?void 0:Te.querySelector(n))})}}]),e}(),q8=function(){function e(t){var n,r,i=this;Et(this,e),re(this,"serverLimits",{}),re(this,"lastEventRateLimited",!1),re(this,"checkForLimiting",function(s){var a=s.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach(function(o){ae.info("[RateLimiter] ".concat(o||"events"," is quota limited.")),i.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void ae.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(o==null?void 0:o.message,'"'),{text:a})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return Tt(e,[{key:"clientRateLimitContext",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),a=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(E1))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};a.tokens+=(s-a.last)/1e3*this.captureEventsPerSecond,a.last=s,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var o=a.tokens<1;return o||i||(a.tokens=Math.max(0,a.tokens-1)),!o||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,(r=this.instance.persistence)===null||r===void 0||r.set_property(E1,a),{isRateLimited:o,remainingTokens:a.tokens}}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),Y8=function(){return be({initialPathName:(li==null?void 0:li.pathname)||"",referringDomain:lr.referringDomain()},lr.campaignParams())},K8=function(){function e(t,n,r){var i=this;Et(this,e),re(this,"_onSessionIdCallback",function(s){var a=i._getStoredProps();if(!a||a.sessionId!==s){var o={sessionId:s,props:i._sessionSourceParamGenerator()};i._persistence.register(re({},w1,o))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Y8,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Tt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[w1]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),Q8=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],OT=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Q8.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},nO=function(){function e(){Et(this,e),this.clicks=[]}return Tt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}();function jT(e){var t;return e.id===k1||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+k1))}var W8=function(){function e(t){var n,r=this;Et(this,e),re(this,"rageclicks",new nO),re(this,"_enabledServerSide",!1),re(this,"_initialized",!1),re(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[b1]),X==null||X.addEventListener("beforeunload",function(){r.flush()})}return Tt(e,[{key:"flushIntervalMilliseconds",get:function(){var t=5e3;return xr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}},{key:"isEnabled",get:function(){return Le(this.instance.config.capture_heatmaps)?Le(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}},{key:"startIfEnabled",value:function(){if(this.isEnabled){if(this._initialized)return;ae.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var t;clearInterval((t=this._flushInterval)!==null&&t!==void 0?t:void 0),this.getAndClearBuffer()}}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(re({},b1,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&Te&&(za(Te,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),za(Te,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),a=function(o,l,c){for(var u=o;u&&!Go(u,"body");){if(u===c)return!1;if(ft(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=UI(u)}return!1}(t.target,["fixed","sticky"],s);return{x:t.clientX+(a?0:i),y:t.clientY+(a?0:r),target_fixed:a,type:n}}},{key:"_onClick",value:function(t){var n;if(!jT(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(be(be({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;jT(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}},{key:"flush",value:function(){this.buffer&&!cm(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}]),e}(),X8=function(){function e(t){var n=this;Et(this,e),re(this,"_updateScrollData",function(){var r,i,s,a;n.context||(n.context={});var o=n.scrollElement(),l=n.scrollY(),c=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=l+((o==null?void 0:o.clientHeight)||0),d=(o==null?void 0:o.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(s=n.context.maxContentY)!==null&&s!==void 0?s:0),n.context.maxContentHeight=Math.max(d,(a=n.context.maxContentHeight)!==null&&a!==void 0?a:0)}),this.instance=t}return Tt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=gs(Zn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=X==null?void 0:X.document.querySelector(r);if(i)return i}}catch(s){n.e(s)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),mA="$copy_autocapture";function yA(e,t){return t.length>e?t.slice(0,e)+"...":t}var ko,J8=function(){function e(t){Et(this,e),re(this,"_initialized",!1),re(this,"_isDisabledServerSide",null),re(this,"rageclicks",new nO),re(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}return Tt(e,[{key:"config",get:function(){var t,n,r=xr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)===null||t===void 0?void 0:t.map(function(i){return new RegExp(i)}),r.url_ignorelist=(n=r.url_ignorelist)===null||n===void 0?void 0:n.map(function(i){return new RegExp(i)}),r}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&Te){var n=function(i){i=i||(X==null?void 0:X.event);try{t._captureEvent(i)}catch(s){ae.error("Failed to capture event",s)}},r=function(i){i=i||(X==null?void 0:X.event),t._captureEvent(i,mA)};za(Te,"submit",n,!1,!0),za(Te,"change",n,!1,!0),za(Te,"click",n,!1,!0),this.config.capture_copied_text&&(za(Te,"copy",r,!1,!0),za(Te,"cut",r,!1,!0))}}else ae.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(re({},Z2,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"setElementSelectors",value:function(t){this._elementSelectors=t}},{key:"getElementSelectors",value:function(t){var n,r=[];return(n=this._elementSelectors)===null||n===void 0||n.forEach(function(i){var s=Te==null?void 0:Te.querySelectorAll(i);s==null||s.forEach(function(a){t===a&&r.push(i)})}),r}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[Z2],i=this._isDisabledServerSide;if(go(i)&&!ou(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!Cx(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!P1(t))return{};var n={};return Yt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&Mu(s)&&(n[i]=s)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,s=t.tagName.toLowerCase(),a={tag_name:s};V1.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?a.$el_text=yA(1024,AT(t)):a.$el_text=yA(1024,t0(t)));var o=e0(t);o.length>0&&(a.classes=o.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Yt(t.attributes,function(h){var p;if((!HI(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&Mu(h.value)&&(p=h.name,!Vr(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=Tx(g).join(" ")),a["attr__"+h.name]=yA(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return a.nth_child=c,a.nth_of_type=u,a}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return Le(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,s=this._getEventTarget(t);$I(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var a=r===mA;if(s&&a8(s,t,this.config,a,a?["copy","cut"]:void 0)){for(var o,l,c=[s],u=s;u.parentNode&&!Go(u,"body");)zI(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h,p=[],g={},m=!1;if(Yt(c,function(w){var O=P1(w);w.tagName.toLowerCase()==="a"&&(d=w.getAttribute("href"),d=O&&Mu(d)&&d),ft(e0(w),"ph-no-capture")&&(m=!0),p.push(n._getPropertiesFromElement(w,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var B=n._getAugmentPropertiesFromElement(w);Yr(g,B)}),this.instance.config.mask_all_text||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?p[0].$el_text=AT(s):p[0].$el_text=t0(s)),d){var S,y;p[0].attr__href=d;var b=(S=Hf(d))===null||S===void 0?void 0:S.host,A=X==null||(y=X.location)===null||y===void 0?void 0:y.host;b&&A&&b!==A&&(h=d)}if(m)return!1;var _=Yr(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:d8(p)}:{$elements:p},(o=p[0])!==null&&o!==void 0&&o.$el_text?{$el_text:(l=p[0])===null||l===void 0?void 0:l.$el_text}:{},h&&t.type==="click"?{$external_click_url:h}:{},g),x=this.getElementSelectors(s);if(x&&x.length>0&&(_.$element_selectors=x),r===mA){var E,T=FI(X==null||(E=X.getSelection())===null||E===void 0?void 0:E.toString()),k=t.type||"clipboard";if(!T)return!1;_.$selected_content=T,_.$copy_type=k}return this.instance.capture(r,_),!0}}}},{key:"isBrowserSupported",value:function(){return Ys(Te==null?void 0:Te.querySelectorAll)}}]),e}(),Z8=function(){function e(t){var n=this;Et(this,e),re(this,"_restoreXHRPatch",void 0),re(this,"_restoreFetchPatch",void 0),re(this,"_startCapturing",function(){Le(n._restoreXHRPatch)&&Tn.postHogTracingHeadersPatchFns._patchXHR(n.instance.sessionManager),Le(n._restoreFetchPatch)&&Tn.postHogTracingHeadersPatchFns._patchFetch(n.instance.sessionManager)}),this.instance=t}return Tt(e,[{key:"_loadScript",value:function(t){Tn.postHogTracingHeadersPatchFns&&t(),this.instance.requestRouter.loadScript("/static/tracing-headers.js?v=".concat(Bs.LIB_VERSION),function(n){if(n)return ae.error("[TRACING-HEADERS] failed to load script",n);t()})}},{key:"startIfEnabledOrStop",value:function(){var t,n;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):((t=this._restoreXHRPatch)===null||t===void 0||t.call(this),(n=this._restoreFetchPatch)===null||n===void 0||n.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}]),e}();(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(ko||(ko={}));var eF=function(){function e(t){Et(this,e),this.instance=t}return Tt(e,[{key:"config",get:function(){return this.instance.config}},{key:"consent",get:function(){return this.getDnt()?ko.DENIED:this.storedConsent}},{key:"isOptedOut",value:function(){return this.consent===ko.DENIED||this.consent===ko.PENDING&&this.config.opt_out_capturing_by_default}},{key:"isOptedIn",value:function(){return!this.isOptedOut()}},{key:"optInOut",value:function(t){this.storage.set(this.storageKey,t?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}},{key:"reset",value:function(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}},{key:"storageKey",get:function(){var t=this.instance.config,n=t.token;return(t.opt_out_capturing_cookie_prefix||"__ph_opt_in_out_")+n}},{key:"storedConsent",get:function(){var t=this.storage.get(this.storageKey);return t==="1"?ko.GRANTED:t==="0"?ko.DENIED:ko.PENDING}},{key:"storage",get:function(){if(!this._storage){var t=this.config.opt_out_capturing_persistence_type;this._storage=t==="localStorage"?Xn:Wa;var n=t==="localStorage"?Wa:Xn;n.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(n.get(this.storageKey)==="1"),n.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}},{key:"getDnt",value:function(){return!!this.config.respect_dnt&&!!_I([Ga==null?void 0:Ga.doNotTrack,Ga==null?void 0:Ga.msDoNotTrack,Tn.doNotTrack],function(t){return ft([!0,1,"1","yes"],t)})}}]),e}(),VT=9e5,Sl="[Web Vitals]",tF=function(){function e(t){var n,r=this;Et(this,e),re(this,"_enabledServerSide",!1),re(this,"_initialized",!1),re(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),re(this,"_flushToCapture",function(){clearTimeout(r._delayedFlushTimer),r.buffer.metrics.length!==0&&(r.instance.capture("$web_vitals",r.buffer.metrics.reduce(function(i,s){var a;return be(be({},i),{},(re(a={},"$web_vitals_".concat(s.name,"_event"),be({},s)),re(a,"$web_vitals_".concat(s.name,"_value"),s.value),a))},{})),r.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})}),re(this,"_addToBuffer",function(i){var s,a=(s=r.instance.sessionManager)===null||s===void 0?void 0:s.checkAndGetSessionAndWindowId(!0);if(Le(a))ae.error(Sl+"Could not read session ID. Dropping metrics!");else{r.buffer=r.buffer||{};var o=r._currentURL();Le(o)||(pi(i==null?void 0:i.name)||pi(i==null?void 0:i.value)?ae.error(Sl+"Invalid metric received",i):r._maxAllowedValue&&i.value>=r._maxAllowedValue?ae.error(Sl+"Ignoring metric with value >= "+r._maxAllowedValue,i):(r.buffer.url!==o&&(r._flushToCapture(),r._delayedFlushTimer=setTimeout(r._flushToCapture,8e3)),Le(r.buffer.url)&&(r.buffer.url=o),r.buffer.firstMetricTimestamp=Le(r.buffer.firstMetricTimestamp)?Date.now():r.buffer.firstMetricTimestamp,r.buffer.metrics.push(be(be({},i),{},{$current_url:o,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),r.buffer.metrics.length===4&&r._flushToCapture()))}}),re(this,"_startCapturing",function(){var i=Tn.postHogWebVitalsCallbacks,s=i.onLCP,a=i.onCLS,o=i.onFCP,l=i.onINP;s&&a&&o&&l?(s(r._addToBuffer),a(r._addToBuffer),o(r._addToBuffer),l(r._addToBuffer),r._initialized=!0):ae.error(Sl+"web vitals callbacks not loaded - not starting")}),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[nT]),this.startIfEnabled()}return Tt(e,[{key:"_maxAllowedValue",get:function(){var t=xr(this.instance.config.capture_performance)&&Zi(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:VT;return 0<t&&t<=6e4?VT:t}},{key:"isEnabled",get:function(){var t=xr(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return ou(t)?t:this._enabledServerSide}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(ae.info(Sl+" enabled, starting..."),this.loadScript(this._startCapturing))}},{key:"afterDecideResponse",value:function(t){var n=xr(t.capturePerformance)&&!!t.capturePerformance.web_vitals;this.instance.persistence&&this.instance.persistence.register(re({},nT,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"loadScript",value:function(t){X.postHogWebVitalsCallbacks&&t(),this.instance.requestRouter.loadScript(this.instance.requestRouter.endpointFor("assets","/static/web-vitals.js?v=".concat(Bs.LIB_VERSION)),function(n){n?ae.error(Sl+" failed to load script",n):t()})}},{key:"_currentURL",value:function(){var t=X?X.location.href:void 0;return t||ae.error(Sl+"Could not determine current URL"),t}}]),e}(),Yf={},PT=function(){},Zc="posthog",rO=!j8&&(Vn==null?void 0:Vn.indexOf("MSIE"))===-1&&(Vn==null?void 0:Vn.indexOf("Mozilla"))===-1,DT=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=Te==null?void 0:Te.location,n=t==null?void 0:t.hostname,!!Vr(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:PT,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:li&&Vr(li==null?void 0:li.search)&&li.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;ae.error(i)},get_device_id:function(r){return r},_onCapture:PT,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always",__add_tracing_headers:!1}},BT=function(e){var t={};Le(e.process_person)||(t.person_profiles=e.process_person),Le(e.xhr_headers)||(t.request_headers=e.xhr_headers),Le(e.cookie_name)||(t.persistence_name=e.cookie_name),Le(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Yr({},t,e);return Zn(e.property_blacklist)&&(Le(e.property_denylist)?n.property_denylist=e.property_blacklist:Zn(e.property_denylist)?n.property_denylist=[].concat(Qa(e.property_blacklist),Qa(e.property_denylist)):ae.error("Invalid value for property_denylist config: "+e.property_denylist)),n},nF=function(){function e(){Et(this,e),re(this,"__forceAllowLocalhost",!1)}return Tt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){ae.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),iO=function(){function e(){var t=this;Et(this,e),re(this,"webPerformance",new nF),re(this,"_internalEventEmitter",new tO),this.config=DT(),this.decideEndpointWasHit=!1,this.SentryIntegration=F8,this.sentryIntegration=function(n){return function(r,i){var s=eO(r,i);return{name:ZI,processEvent:function(a){return s(a)}}}(t,n)},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new P6(this),this.toolbar=new x8(this),this.scrollManager=new X8(this),this.pageViewManager=new z8(this),this.surveys=new G8(this),this.rateLimiter=new q8(this),this.requestRouter=new N8(this),this.consent=new eF(this),this.people={set:function(n,r,i){var s=Vr(n)?re({},n,r):n;t.setPersonProperties(s),i==null||i({})},set_once:function(n,r,i){var s=Vr(n)?re({},n,r):n;t.setPersonProperties(void 0,s),i==null||i({})}},this.on("eventCaptured",function(n){return ae.info("send",n)})}return Tt(e,[{key:"init",value:function(t,n,r){if(r&&r!==Zc){var i,s=(i=Yf[r])!==null&&i!==void 0?i:new e;return s._init(t,n,r),Yf[r]=s,Yf[Zc][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(Le(t)||Y2(t))return ae.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return ae.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Yr({},DT(),BT(s),{name:a,token:t})),this.config.on_xhr_error&&ae.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:Ns.Base64,this.persistence=new fA(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new fA(be(be({},this.config),{},{persistence:"sessionStorage"}));var o=be({},this.persistence.props),l=be({},this.sessionPersistence.props);if(this._requestQueue=new w8(function(b){return i._send_retriable_request(b)}),this._retryQueue=new D8(this),this.__request_queue=[],this.sessionManager=new B8(this.config,this.persistence),this.sessionPropsManager=new K8(this.sessionManager,this.persistence),new Z8(this).startIfEnabledOrStop(),this.sessionRecording=new b8(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new J8(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new W8(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new tF(this),this.exceptionObserver=new L8(this),this.exceptionObserver.startIfEnabled(),Bs.DEBUG=Bs.DEBUG||this.config.debug,Bs.DEBUG&&ae.info("Starting in debug mode",{this:this,config:s,thisC:be({},this.config),p:o,s:l}),this._sync_opt_out_with_persistence(),((n=s.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var c,u,d=this.config.get_device_id(Bo()),h=(c=s.bootstrap)!==null&&c!==void 0&&c.isIdentifiedID?d:s.bootstrap.distinctID;this.persistence.set_property(Na,(u=s.bootstrap)!==null&&u!==void 0&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var p,g,m=Object.keys(((p=s.bootstrap)===null||p===void 0?void 0:p.featureFlags)||{}).filter(function(b){var A,_;return!((A=s.bootstrap)===null||A===void 0||(_=A.featureFlags)===null||_===void 0||!_[b])}).reduce(function(b,A){var _,x;return b[A]=((_=s.bootstrap)===null||_===void 0||(x=_.featureFlags)===null||x===void 0?void 0:x[A])||!1,b},{}),S=Object.keys(((g=s.bootstrap)===null||g===void 0?void 0:g.featureFlagPayloads)||{}).filter(function(b){return m[b]}).reduce(function(b,A){var _,x,E,T;return(_=s.bootstrap)!==null&&_!==void 0&&(x=_.featureFlagPayloads)!==null&&x!==void 0&&x[A]&&(b[A]=(E=s.bootstrap)===null||E===void 0||(T=E.featureFlagPayloads)===null||T===void 0?void 0:T[A]),b},{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:S})}if(!this.get_distinct_id()){var y=this.config.get_device_id(Bo());this.register_once({distinct_id:y,$device_id:y},""),this.persistence.set_property(Na,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?$8(this,function(){return i._loaded()}):this._loaded(),Ys(this.config._onCapture)&&this.on("eventCaptured",function(b){return i.config._onCapture(b.event,b)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,s,a,o,l;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ft(t.supportedCompression,Ns.GZipJS)?Ns.GZipJS:ft(t.supportedCompression,Ns.Base64)?Ns.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(a=this.surveys)===null||a===void 0||a.afterDecideResponse(t),(o=this.webVitalsAutocapture)===null||o===void 0||o.afterDecideResponse(t),(l=this.exceptionObserver)===null||l===void 0||l.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){ae.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){Te&&t.capture("$pageview",{title:Te.title},{send_instantly:!0})},1),n||(new S8(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||Tu(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(rO?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=r0(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i,s,a,o=be({},r);o.timeout=o.timeout||6e4,o.url=r0(o.url,{_:new Date().getTime().toString(),ver:Bs.LIB_VERSION,compression:o.compression});var l=(i=o.transport)!==null&&i!==void 0?i:"XHR",c=(s=(a=_I(qf,function(u){return u.transport===l}))===null||a===void 0?void 0:a.method)!==null&&s!==void 0?s:qf[0].method;if(!c)throw new Error("No available transport method");c(o)}(be(be({},t),{},{callback:function(r){var i,s,a;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((s=(a=n.config).on_request_error)===null||s===void 0||s.call(a,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],s=[],a=[];Tu(t,function(l){l&&(n=l[0],Zn(n)?a.push(l):Ys(l)?l.call(r):Zn(l)&&n==="alias"?i.push(l):Zn(l)&&n.indexOf("capture")!==-1&&Ys(r[n])?a.push(l):s.push(l))});var o=function(l,c){Tu(l,function(u){if(Zn(u[0])){var d=c;Yt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};o(i,this),o(s,this),o(a,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return ae.uninitializedWarning("posthog.capture");if(!this.consent.isOptedOut())if(!Le(t)&&Vr(t)){if(!Vn||this.config.opt_out_useragent_filter||!OT(Vn,this.config.custom_blocked_useragents)){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var a=new Date,o=(r==null?void 0:r.timestamp)||a,l={uuid:Bo(),event:t,properties:this._calculate_event_properties(t,n||{},o)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(l.$set=r==null?void 0:r.$set);var c=this._calculate_set_once_properties(r==null?void 0:r.$set_once);c&&(l.$set_once=c),(l=O6(l,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,Le(r==null?void 0:r.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=a);var u=be(be({},l.properties.$set),l.$set);cm(u)||this.setPersonPropertiesForFlags(u),this._internalEventEmitter.emit("eventCaptured",l);var d={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(d):this._requestQueue.enqueue(d),l}ae.critical("This capture call is ignored due to client rate limiting.")}}else ae.error("No event name provided to posthog.capture")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event,n)})}},{key:"_calculate_event_properties",value:function(t,n,r){if(!this.persistence||!this.sessionPersistence)return n;var i=this.persistence.remove_event_timer(t),s=be({},n);if(s.token=this.config.token,t==="$snapshot"){var a=be(be({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=a.distinct_id,(!Vr(s.distinct_id)&&!Zi(s.distinct_id)||Y2(s.distinct_id))&&ae.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var o=lr.properties();if(this.sessionManager){var l=this.sessionManager.checkAndGetSessionAndWindowId(),c=l.sessionId,u=l.windowId;s.$session_id=c,s.$window_id=u}if(this.requestRouter.region===Bl.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var d=this.sessionPropsManager.getSessionProps();s=Yr(s,d)}if(!this.config.disable_scroll_properties){var h={};t==="$pageview"?h=this.pageViewManager.doPageView(r):t==="$pageleave"&&(h=this.pageViewManager.doPageLeave(r)),s=Yr(s,h)}if(t==="$pageview"&&Te&&(s.title=Te.title),!Le(i)){var p=r.getTime()-i;s.$duration=parseFloat((p/1e3).toFixed(3))}Vn&&this.config.opt_out_useragent_filter&&(s.$browser_type=OT(Vn,this.config.custom_blocked_useragents)?"bot":"browser"),(s=Yr({},o,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),Zn(this.config.property_denylist)?Yt(this.config.property_denylist,function(m){delete s[m]}):ae.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;return g&&(s=g(s,t)),s.$process_person_profile=this._hasPersonProcessing(),s}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Yr({},this.persistence.get_initial_props(),t||{});return cm(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(re({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._internalEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"renderSurvey",value:function(t,n){this.surveys.renderSurvey(t,n)}},{key:"canRenderSurvey",value:function(t){this.surveys.canRenderSurvey(t)}},{key:"getNextSurveyStep",value:function(t,n,r){return this.surveys.getNextSurveyStep(t,n,r)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return ae.uninitializedWarning("posthog.identify");if(Zi(t)&&(t=t.toString(),ae.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))ae.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(xf)&&(this.unregister(xf),this.register({distinct_id:t}));var a=(this.persistence.get_property(Na)||"anonymous")==="anonymous";t!==i&&a?(this.persistence.set_property(Na,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Qm))}}else ae.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:be(be({},i),{},re({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(re({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else ae.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,s;if(ae.info("reset"),!this.__loaded)return ae.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");this.consent.reset(),(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(Na,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();var o=this.config.get_device_id(Bo());this.register_once({distinct_id:o,$device_id:t?o:a},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var a,o=(a=t.timestampLookBack)!==null&&a!==void 0?a:10;if(!i)return s;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-o,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(t,n){return t===this.get_property(xI)?(ae.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Le(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(xf,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(ae.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,s,a=be({},this.config);xr(t)&&(Yr(this.config,BT(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new fA(be(be({},this.config),{},{persistence:"sessionStorage"})),Xn.is_supported()&&Xn.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Bs.DEBUG=!0,ae.info("set_config",{config:t,oldConfig:a,newConfig:be({},this.config)})),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(re({},Uf,!0)),ae.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Zc;return n!==Zc&&(n=Zc+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Na))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Na))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&cm(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[xf])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Wm]))}},{key:"_shouldCapturePageleave",value:function(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&this.config.capture_pageview}},{key:"createPersonProfile",value:function(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(ae.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Wm,!0),!0)}},{key:"_sync_opt_out_with_persistence",value:function(){var t,n,r,i,s=this.consent.isOptedOut(),a=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||s&&!!a;((t=this.persistence)===null||t===void 0?void 0:t.disabled)!==o&&((r=this.persistence)===null||r===void 0||r.set_disabled(o)),((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)!==o&&((i=this.sessionPersistence)===null||i===void 0||i.set_disabled(o))}},{key:"opt_in_capturing",value:function(t){var n;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(Le(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0})}},{key:"opt_out_capturing",value:function(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}},{key:"has_opted_in_capturing",value:function(){return this.consent.isOptedIn()}},{key:"has_opted_out_capturing",value:function(){return this.consent.isOptedOut()}},{key:"clear_opt_in_out_capturing",value:function(){this.consent.reset(),this._sync_opt_out_with_persistence()}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=I6(e.prototype[t[n]])})(iO,["identify"]);var NT,Ln=(NT=Yf[Zc]=new iO,function(){function e(){e.done||(e.done=!0,rO=!1,Yt(Yf,function(t){t._dom_loaded()}))}Te!=null&&Te.addEventListener&&(Te.readyState==="complete"?e():Te.addEventListener("DOMContentLoaded",e,!1)),X&&za(X,"load",e,!0)}(),NT);class mt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&Ln.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const ee={sectionChange:new mt("sectionChange",!1,!1),playerAdded:new mt("playerAdded",!1),playerRemoved:new mt("playerRemoved",!1),songStarted:new mt("songStarted",!1),songEnded:new mt("songEnded",!1),remoteMicConnected:new mt("remoteMicConnected"),remoteMicDisconnected:new mt("remoteMicDisconnected"),playerNameChanged:new mt("playerNameChanged"),playerInputChanged:new mt("playerInputChanged"),inputListChanged:new mt("inputListChanged"),karaokeConnectionStatusChange:new mt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new mt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new mt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new mt("remoteMicMonitoringStopped"),micMonitoringStarted:new mt("micMonitoringStarted"),micMonitoringStopped:new mt("micMonitoringStopped"),playerChangeRequested:new mt("playerChangeRequested",!0),songStatStored:new mt("songStatStored"),songScoreUpdated:new mt("songScoreUpdated",()=>{}),remoteMicSubscribed:new mt("remoteMicSubscribed"),remoteKeyboardPressed:new mt("remoteKeyboardPressed"),remoteSongSearch:new mt("remoteSongSearch"),remoteSongSelected:new mt("remoteSongSelected",!0),remoteMicListUpdated:new mt("remoteMicListUpdated"),remoteKeyboardLayout:new mt("remoteKeyboardLayout"),remoteReadinessRequested:new mt("remoteReadinessRequested"),remoteStyleChanged:new mt("remoteStyleChanged"),remoteMicPermissionsSet:new mt("remoteMicPermissionsSet"),readinessConfirmed:new mt("remoteReadinessConfirmed"),minPlayerNumberChanged:new mt("minPlayerNumberChanged"),micServerStarted:new mt("micServerStarted"),micServerStopped:new mt("micServerStopped")};ee.songStarted.subscribe(()=>{Fs.clearData(),Fs.startRecord()});ee.songEnded.subscribe(()=>{Fs.stopRecord()});function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}var rF=/^\s+/,iF=/\s+$/;function ce(e,t){if(e=e||"",t=t||{},e instanceof ce)return e;if(!(this instanceof ce))return new ce(e,t);var n=sF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ce.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,a,o;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(t){return this._a=sO(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=FT(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=FT(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=LT(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=LT(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return $T(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return cF(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(un(this._r,255)*100)+"%",g:Math.round(un(this._g,255)*100)+"%",b:Math.round(un(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(un(this._r,255)*100)+"%, "+Math.round(un(this._g,255)*100)+"%, "+Math.round(un(this._b,255)*100)+"%)":"rgba("+Math.round(un(this._r,255)*100)+"%, "+Math.round(un(this._g,255)*100)+"%, "+Math.round(un(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:SF[$T(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+zT(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=ce(t);r="#"+zT(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ce(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(hF,arguments)},brighten:function(){return this._applyModification(pF,arguments)},darken:function(){return this._applyModification(gF,arguments)},desaturate:function(){return this._applyModification(uF,arguments)},saturate:function(){return this._applyModification(dF,arguments)},greyscale:function(){return this._applyModification(fF,arguments)},spin:function(){return this._applyModification(mF,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(AF,arguments)},complement:function(){return this._applyCombination(yF,arguments)},monochromatic:function(){return this._applyCombination(bF,arguments)},splitcomplement:function(){return this._applyCombination(vF,arguments)},triad:function(){return this._applyCombination(UT,[3])},tetrad:function(){return this._applyCombination(UT,[4])}};ce.fromRatio=function(e,t){if(s0(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Tf(e[r]));e=n}return ce(e,t)};function sF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof e=="string"&&(e=EF(e)),s0(e)=="object"&&(Ma(e.r)&&Ma(e.g)&&Ma(e.b)?(t=aF(e.r,e.g,e.b),a=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ma(e.h)&&Ma(e.s)&&Ma(e.v)?(r=Tf(e.s),i=Tf(e.v),t=lF(e.h,r,i),a=!0,o="hsv"):Ma(e.h)&&Ma(e.s)&&Ma(e.l)&&(r=Tf(e.s),s=Tf(e.l),t=oF(e.h,r,s),a=!0,o="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=sO(n),{ok:a,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function aF(e,t,n){return{r:un(e,255)*255,g:un(t,255)*255,b:un(n,255)*255}}function LT(e,t,n){e=un(e,255),t=un(t,255),n=un(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,a,o=(r+i)/2;if(r==i)s=a=0;else{var l=r-i;switch(a=o>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:a,l:o}}function oF(e,t,n){var r,i,s;e=un(e,360),t=un(t,100),n=un(n,100);function a(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;r=a(l,o,e+1/3),i=a(l,o,e),s=a(l,o,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function FT(e,t,n){e=un(e,255),t=un(t,255),n=un(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,a,o=r,l=r-i;if(a=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:a,v:o}}function lF(e,t,n){e=un(e,360)*6,t=un(t,100),n=un(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),a=n*(1-i*t),o=n*(1-(1-i)*t),l=r%6,c=[n,a,s,s,o,n][l],u=[o,n,n,a,s,s][l],d=[s,s,o,n,n,a][l];return{r:c*255,g:u*255,b:d*255}}function $T(e,t,n,r){var i=[$s(Math.round(e).toString(16)),$s(Math.round(t).toString(16)),$s(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function cF(e,t,n,r,i){var s=[$s(Math.round(e).toString(16)),$s(Math.round(t).toString(16)),$s(Math.round(n).toString(16)),$s(aO(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function zT(e,t,n,r){var i=[$s(aO(r)),$s(Math.round(e).toString(16)),$s(Math.round(t).toString(16)),$s(Math.round(n).toString(16))];return i.join("")}ce.equals=function(e,t){return!e||!t?!1:ce(e).toRgbString()==ce(t).toRgbString()};ce.random=function(){return ce.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function uF(e,t){t=t===0?0:t||10;var n=ce(e).toHsl();return n.s-=t/100,n.s=Ey(n.s),ce(n)}function dF(e,t){t=t===0?0:t||10;var n=ce(e).toHsl();return n.s+=t/100,n.s=Ey(n.s),ce(n)}function fF(e){return ce(e).desaturate(100)}function hF(e,t){t=t===0?0:t||10;var n=ce(e).toHsl();return n.l+=t/100,n.l=Ey(n.l),ce(n)}function pF(e,t){t=t===0?0:t||10;var n=ce(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ce(n)}function gF(e,t){t=t===0?0:t||10;var n=ce(e).toHsl();return n.l-=t/100,n.l=Ey(n.l),ce(n)}function mF(e,t){var n=ce(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ce(n)}function yF(e){var t=ce(e).toHsl();return t.h=(t.h+180)%360,ce(t)}function UT(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ce(e).toHsl(),r=[ce(e)],i=360/t,s=1;s<t;s++)r.push(ce({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function vF(e){var t=ce(e).toHsl(),n=t.h;return[ce(e),ce({h:(n+72)%360,s:t.s,l:t.l}),ce({h:(n+216)%360,s:t.s,l:t.l})]}function AF(e,t,n){t=t||6,n=n||30;var r=ce(e).toHsl(),i=360/n,s=[ce(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(ce(r));return s}function bF(e,t){t=t||6;for(var n=ce(e).toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/t;t--;)a.push(ce({h:r,s:i,v:s})),s=(s+o)%1;return a}ce.mix=function(e,t,n){n=n===0?0:n||50;var r=ce(e).toRgb(),i=ce(t).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return ce(a)};ce.readability=function(e,t){var n=ce(e),r=ce(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ce.isReadable=function(e,t,n){var r=ce.readability(e,t),i,s;switch(s=!1,i=TF(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};ce.mostReadable=function(e,t,n){var r=null,i=0,s,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var c=0;c<t.length;c++)s=ce.readability(e,t[c]),s>i&&(i=s,r=ce(t[c]));return ce.isReadable(e,r,{level:o,size:l})||!a?r:(n.includeFallbackColors=!1,ce.mostReadable(e,["#fff","#000"],n))};var z1=ce.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},SF=ce.hexNames=_F(z1);function _F(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function sO(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function un(e,t){xF(e)&&(e="100%");var n=wF(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Ey(e){return Math.min(1,Math.max(0,e))}function wi(e){return parseInt(e,16)}function xF(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function wF(e){return typeof e=="string"&&e.indexOf("%")!=-1}function $s(e){return e.length==1?"0"+e:""+e}function Tf(e){return e<=1&&(e=e*100+"%"),e}function aO(e){return Math.round(parseFloat(e)*255).toString(16)}function HT(e){return wi(e)/255}var Rs=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ma(e){return!!Rs.CSS_UNIT.exec(e)}function EF(e){e=e.replace(rF,"").replace(iF,"").toLowerCase();var t=!1;if(z1[e])e=z1[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Rs.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Rs.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Rs.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Rs.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Rs.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Rs.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Rs.hex8.exec(e))?{r:wi(n[1]),g:wi(n[2]),b:wi(n[3]),a:HT(n[4]),format:t?"name":"hex8"}:(n=Rs.hex6.exec(e))?{r:wi(n[1]),g:wi(n[2]),b:wi(n[3]),format:t?"name":"hex"}:(n=Rs.hex4.exec(e))?{r:wi(n[1]+""+n[1]),g:wi(n[2]+""+n[2]),b:wi(n[3]+""+n[3]),a:HT(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Rs.hex3.exec(e))?{r:wi(n[1]+""+n[1]),g:wi(n[2]+""+n[2]),b:wi(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function TF(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const CF=ce("rgb(52, 166, 95)"),kF=ce("rgb(15, 138, 95)"),MF=ce("rgb(245, 98, 77)"),RF=ce("rgb(204, 35, 30)"),oO=ce("rgb(245, 220, 21)"),IF=ce(oO.toRgbString()).darken(15),lO=ce("rgb(255, 70, 223)"),OF=ce(lO.toRgbString()).darken(15),cO=ce("rgb(255, 119, 20)"),jF=ce(cO.toRgbString()).darken(15),uO=ce("rgb(31, 192, 223)"),VF=ce(uO.toRgbString()).darken(15),dO=ce("rgb(102, 44, 182)"),PF=ce(dO.toRgbString()).darken(15),DF=ce("rgb(0, 153, 255)"),BF=ce("rgb(0, 77, 128)"),GT=ce("rgb(255, 54, 54)"),qT=ce("rgb(117, 25, 25)"),NF=ce("rgb(255, 213, 0)"),fm=ce("rgb(255, 183, 0)"),Gi=(e,t)=>e.setAlpha(t).toRgbString(),zr=(e,t)=>({text:Gi(e,1),stroke:Gi(t,1),star:{fill:Gi(fm,.5),stroke:Gi(fm,0),lineWidth:1},perfect:{fill:Gi(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:Gi(NF,1),stroke:Gi(fm,1),lineWidth:2},hit:{fill:Gi(e,.9),stroke:Gi(t,0),lineWidth:1},miss:{fill:Gi(e,.25),stroke:Gi(t,1),lineWidth:1}}),Ie={blue:zr(DF,BF),red:zr(GT,qT),green:zr(ce("rgb(0,183,0)"),ce("rgb(0,84,0)")),yellow:zr(ce("rgb(239,209,0)"),ce("rgb(114,84,0)")),christmasGreen:zr(CF,kF),christmasRed:zr(MF,RF),halloweenOrange:zr(ce("#fd9702"),ce("#ff7100")),halloweenViolet:zr(ce("#e102ff"),ce("#ae03ff")),halloweenRed:zr(GT,qT),halloweenGreen:zr(ce("rgb(0,183,0)"),ce("rgb(0,84,0)")),eurovisionYellow:zr(oO,IF),eurovisionPink:zr(lO,OF),eurovisionOrange:zr(cO,jF),eurovisionBlue:zr(uO,VF),eurovisionViolet:zr(dO,PF)};let hm=[Ie.blue,Ie.red,Ie.green,Ie.yellow];const me={colors:{players:hm,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:Gi(fm,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",default:"white",inactive:"grey"}}},YT={christmas:[Ie.christmasGreen,Ie.christmasRed],eurovision:[Ie.eurovisionBlue,Ie.eurovisionViolet,Ie.eurovisionYellow,Ie.eurovisionPink],halloween:[Ie.halloweenOrange,Ie.halloweenViolet,Ie.halloweenRed,Ie.halloweenGreen],regular:[Ie.blue,Ie.red,Ie.green,Ie.yellow]},fO=e=>{hm[0]!==YT[e][0]&&(hm=YT[e],me.colors.players=hm)};function Ru(e,t,n){e==null||e.send({t,...n})}var U1;try{U1=new TextDecoder}catch{}var ye,ss,K=0,Jt={},ht,No,Yi=0,ua=0,dr,Xa,yi=[],ot,KT={useRecords:!1,mapsAsObjects:!0};class hO{}const pO=new hO;pO.name="MessagePack 0xC1";var qo=!1,gO=2,QT;try{new Function("")}catch{gO=1/0}class Th{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ye)return SO(()=>(G1(),this?this.unpack(t,n):Th.prototype.unpack.call(KT,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(ss=n.end||t.length,K=n.start||0):(K=0,ss=n>-1?n:t.length),ua=0,No=null,dr=null,ye=t;try{ot=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ye=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Th){if(Jt=this,this.structures)return ht=this.structures,og(n);(!ht||ht.length>0)&&(ht=[])}else Jt=KT,(!ht||ht.length>0)&&(ht=[]);return og(n)}unpackMultiple(t,n){let r,i=0;try{qo=!0;let s=t.length,a=this?this.unpack(t,s):Ty.unpack(t,s);if(n){if(n(a,i,K)===!1)return;for(;K<s;)if(i=K,n(og(),i,K)===!1)return}else{for(r=[a];K<s;)i=K,r.push(og());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{qo=!1,G1()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function og(e){try{if(!Jt.trusted&&!qo){let n=ht.sharedLength||0;n<ht.length&&(ht.length=n)}let t;if(Jt.randomAccessStructure&&ye[K]<64&&ye[K]>=32&&QT?(t=QT(ye,K,ss,Jt),ye=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),K=ss):t=Bn(),dr&&(K=dr.postBundlePosition,dr=null),qo&&(ht.restoreStructures=null),K==ss)ht&&ht.restoreStructures&&WT(),ht=null,ye=null,Xa&&(Xa=null);else{if(K>ss)throw new Error("Unexpected end of MessagePack data");if(!qo){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw ht&&ht.restoreStructures&&WT(),G1(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||K>ss)&&(t.incomplete=!0),t}}function WT(){for(let e in ht.restoreStructures)ht[e]=ht.restoreStructures[e];ht.restoreStructures=null}function Bn(){let e=ye[K++];if(e<160)if(e<128){if(e<64)return e;{let t=ht[e&63]||Jt.getStructures&&mO()[e&63];return t?(t.read||(t.read=Rx(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Jt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=vO();r==="__proto__"&&(r="__proto_"),t[r]=Bn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Bn(),Bn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Bn();return Jt.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(ua>=K)return No.slice(K-Yi,(K+=t)-Yi);if(ua==0&&ss<140){let n=t<16?Ix(t):yO(t);if(n!=null)return n}return H1(t)}else{let t;switch(e){case 192:return null;case 193:return dr?(t=Bn(),t>0?dr[1].slice(dr.position1,dr.position1+=t):dr[0].slice(dr.position0,dr.position0-=t)):pO;case 194:return!1;case 195:return!0;case 196:if(t=ye[K++],t===void 0)throw new Error("Unexpected end of buffer");return vA(t);case 197:return t=ot.getUint16(K),K+=2,vA(t);case 198:return t=ot.getUint32(K),K+=4,vA(t);case 199:return _l(ye[K++]);case 200:return t=ot.getUint16(K),K+=2,_l(t);case 201:return t=ot.getUint32(K),K+=4,_l(t);case 202:if(t=ot.getFloat32(K),Jt.useFloat32>2){let n=Ox[(ye[K]&127)<<1|ye[K+1]>>7];return K+=4,(n*t+(t>0?.5:-.5)>>0)/n}return K+=4,t;case 203:return t=ot.getFloat64(K),K+=8,t;case 204:return ye[K++];case 205:return t=ot.getUint16(K),K+=2,t;case 206:return t=ot.getUint32(K),K+=4,t;case 207:return Jt.int64AsType==="number"?(t=ot.getUint32(K)*4294967296,t+=ot.getUint32(K+4)):Jt.int64AsType==="string"?t=ot.getBigUint64(K).toString():Jt.int64AsType==="auto"?(t=ot.getBigUint64(K),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=ot.getBigUint64(K),K+=8,t;case 208:return ot.getInt8(K++);case 209:return t=ot.getInt16(K),K+=2,t;case 210:return t=ot.getInt32(K),K+=4,t;case 211:return Jt.int64AsType==="number"?(t=ot.getInt32(K)*4294967296,t+=ot.getUint32(K+4)):Jt.int64AsType==="string"?t=ot.getBigInt64(K).toString():Jt.int64AsType==="auto"?(t=ot.getBigInt64(K),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=ot.getBigInt64(K),K+=8,t;case 212:if(t=ye[K++],t==114)return nC(ye[K++]&63);{let n=yi[t];if(n)return n.read?(K++,n.read(Bn())):n.noBuffer?(K++,n()):n(ye.subarray(K,++K));throw new Error("Unknown extension "+t)}case 213:return t=ye[K],t==114?(K++,nC(ye[K++]&63,ye[K++])):_l(2);case 214:return _l(4);case 215:return _l(8);case 216:return _l(16);case 217:return t=ye[K++],ua>=K?No.slice(K-Yi,(K+=t)-Yi):FF(t);case 218:return t=ot.getUint16(K),K+=2,ua>=K?No.slice(K-Yi,(K+=t)-Yi):$F(t);case 219:return t=ot.getUint32(K),K+=4,ua>=K?No.slice(K-Yi,(K+=t)-Yi):zF(t);case 220:return t=ot.getUint16(K),K+=2,JT(t);case 221:return t=ot.getUint32(K),K+=4,JT(t);case 222:return t=ot.getUint16(K),K+=2,ZT(t);case 223:return t=ot.getUint32(K),K+=4,ZT(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const LF=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Rx(e,t){function n(){if(n.count++>gO){let i=e.read=new Function("r","return function(){return "+(Jt.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":LF.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(Bn);return e.highByte===0&&(e.read=XT(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let a=e[i];a==="__proto__"&&(a="__proto_"),r[a]=Bn()}return Jt.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?XT(t,n):n}const XT=(e,t)=>function(){let n=ye[K++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=ht[r]||mO()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=Rx(i,e)),i.read()};function mO(){let e=SO(()=>(ye=null,Jt.getStructures()));return ht=Jt._mergeStructures(e,ht)}var H1=hp,FF=hp,$F=hp,zF=hp;function hp(e){let t;if(e<16&&(t=Ix(e)))return t;if(e>64&&U1)return U1.decode(ye.subarray(K,K+=e));const n=K+e,r=[];for(t="";K<n;){const i=ye[K++];if(!(i&128))r.push(i);else if((i&224)===192){const s=ye[K++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=ye[K++]&63,a=ye[K++]&63;r.push((i&31)<<12|s<<6|a)}else if((i&248)===240){const s=ye[K++]&63,a=ye[K++]&63,o=ye[K++]&63;let l=(i&7)<<18|s<<12|a<<6|o;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=sr.apply(String,r),r.length=0)}return r.length>0&&(t+=sr.apply(String,r)),t}function JT(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Bn();return Jt.freezeData?Object.freeze(t):t}function ZT(e){if(Jt.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=vO();r==="__proto__"&&(r="__proto_"),t[r]=Bn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(Bn(),Bn());return t}}var sr=String.fromCharCode;function yO(e){let t=K,n=new Array(e);for(let r=0;r<e;r++){const i=ye[K++];if((i&128)>0){K=t;return}n[r]=i}return sr.apply(String,n)}function Ix(e){if(e<4)if(e<2){if(e===0)return"";{let t=ye[K++];if((t&128)>1){K-=1;return}return sr(t)}}else{let t=ye[K++],n=ye[K++];if((t&128)>0||(n&128)>0){K-=2;return}if(e<3)return sr(t,n);let r=ye[K++];if((r&128)>0){K-=3;return}return sr(t,n,r)}else{let t=ye[K++],n=ye[K++],r=ye[K++],i=ye[K++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){K-=4;return}if(e<6){if(e===4)return sr(t,n,r,i);{let s=ye[K++];if((s&128)>0){K-=5;return}return sr(t,n,r,i,s)}}else if(e<8){let s=ye[K++],a=ye[K++];if((s&128)>0||(a&128)>0){K-=6;return}if(e<7)return sr(t,n,r,i,s,a);let o=ye[K++];if((o&128)>0){K-=7;return}return sr(t,n,r,i,s,a,o)}else{let s=ye[K++],a=ye[K++],o=ye[K++],l=ye[K++];if((s&128)>0||(a&128)>0||(o&128)>0||(l&128)>0){K-=8;return}if(e<10){if(e===8)return sr(t,n,r,i,s,a,o,l);{let c=ye[K++];if((c&128)>0){K-=9;return}return sr(t,n,r,i,s,a,o,l,c)}}else if(e<12){let c=ye[K++],u=ye[K++];if((c&128)>0||(u&128)>0){K-=10;return}if(e<11)return sr(t,n,r,i,s,a,o,l,c,u);let d=ye[K++];if((d&128)>0){K-=11;return}return sr(t,n,r,i,s,a,o,l,c,u,d)}else{let c=ye[K++],u=ye[K++],d=ye[K++],h=ye[K++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){K-=12;return}if(e<14){if(e===12)return sr(t,n,r,i,s,a,o,l,c,u,d,h);{let p=ye[K++];if((p&128)>0){K-=13;return}return sr(t,n,r,i,s,a,o,l,c,u,d,h,p)}}else{let p=ye[K++],g=ye[K++];if((p&128)>0||(g&128)>0){K-=14;return}if(e<15)return sr(t,n,r,i,s,a,o,l,c,u,d,h,p,g);let m=ye[K++];if((m&128)>0){K-=15;return}return sr(t,n,r,i,s,a,o,l,c,u,d,h,p,g,m)}}}}}function eC(){let e=ye[K++],t;if(e<192)t=e-160;else switch(e){case 217:t=ye[K++];break;case 218:t=ot.getUint16(K),K+=2;break;case 219:t=ot.getUint32(K),K+=4;break;default:throw new Error("Expected string")}return hp(t)}function vA(e){return Jt.copyBuffers?Uint8Array.prototype.slice.call(ye,K,K+=e):ye.subarray(K,K+=e)}function _l(e){let t=ye[K++];if(yi[t]){let n;return yi[t](ye.subarray(K,n=K+=e),r=>{K=r;try{return Bn()}finally{K=n}})}else throw new Error("Unknown extension type "+t)}var tC=new Array(4096);function vO(){let e=ye[K++];if(e>=160&&e<192){if(e=e-160,ua>=K)return No.slice(K-Yi,(K+=e)-Yi);if(!(ua==0&&ss<180))return H1(e)}else return K--,AO(Bn());let t=(e<<5^(e>1?ot.getUint16(K):e>0?ye[K]:0))&4095,n=tC[t],r=K,i=K+e-3,s,a=0;if(n&&n.bytes==e){for(;r<i;){if(s=ot.getUint32(r),s!=n[a++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=ye[r++],s!=n[a++]){r=1879048192;break}if(r===i)return K=r,n.string;i-=3,r=K}for(n=[],tC[t]=n,n.bytes=e;r<i;)s=ot.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=ye[r++],n.push(s);let o=e<16?Ix(e):yO(e);return o!=null?n.string=o:n.string=H1(e)}function AO(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const nC=(e,t)=>{let n=Bn().map(AO),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=ht[e];return i&&(i.isShared||qo)&&((ht.restoreStructures||(ht.restoreStructures=[]))[e]=i),ht[e]=n,n.read=Rx(n,r),n.read()};yi[0]=()=>{};yi[0].noBuffer=!0;yi[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let UF={Error,TypeError,ReferenceError};yi[101]=()=>{let e=Bn();return(UF[e[0]]||Error)(e[1])};yi[105]=e=>{if(Jt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=ot.getUint32(K-4);Xa||(Xa=new Map);let n=ye[K],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};Xa.set(t,i);let s=Bn();return i.used?Object.assign(r,s):(i.target=s,s)};yi[112]=e=>{if(Jt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=ot.getUint32(K-4),n=Xa.get(t);return n.used=!0,n.target};yi[115]=()=>new Set(Bn());const bO=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let HF=typeof globalThis=="object"?globalThis:window;yi[116]=e=>{let t=e[0],n=bO[t];if(!n)throw new Error("Could not find typed array for code "+t);return new HF[n](Uint8Array.prototype.slice.call(e,1).buffer)};yi[120]=()=>{let e=Bn();return new RegExp(e[0],e[1])};const GF=[];yi[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=K;return K+=t-e.length,dr=GF,dr=[eC(),eC()],dr.position0=0,dr.position1=0,dr.postBundlePosition=K,K=n,Bn()};yi[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function SO(e){let t=ss,n=K,r=Yi,i=ua,s=No,a=Xa,o=dr,l=new Uint8Array(ye.slice(0,ss)),c=ht,u=ht.slice(0,ht.length),d=Jt,h=qo,p=e();return ss=t,K=n,Yi=r,ua=i,No=s,Xa=a,dr=o,ye=l,qo=h,ht=c,ht.splice(0,ht.length,...u),Jt=d,ot=new DataView(ye.buffer,ye.byteOffset,ye.byteLength),p}function G1(){ye=null,Xa=null,ht=null}const Ox=new Array(147);for(let e=0;e<256;e++)Ox[e]=+("1e"+Math.floor(45.15-e*.30103));var Ty=new Th({useRecords:!1});const qF=Ty.unpack;Ty.unpackMultiple;Ty.unpack;let YF=new Float32Array(1);new Uint8Array(YF.buffer,0,4);let pm;try{pm=new TextEncoder}catch{}let q1,_O;const Cy=typeof Buffer<"u",lg=Cy?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,xO=Cy?Buffer:Uint8Array,rC=Cy?4294967296:2144337920;let J,nf,Gt,Q=0,Ur,pn=null,KF;const QF=21760,WF=/[\u0080-\uFFFF]/,Lc=Symbol("record-id");class XF extends Th{constructor(t){super(t),this.offset=0;let n,r,i,s,a=xO.prototype.utf8Write?function(j,D){return J.utf8Write(j,D,4294967295)}:pm&&pm.encodeInto?function(j,D){return pm.encodeInto(j,J.subarray(D)).written}:!1,o=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],S=0,y=0;this.pack=this.encode=function(j,D){if(J||(J=new lg(8192),Gt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),Q=0),Ur=J.length-10,Ur-Q<2048?(J=new lg(J.length),Gt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),Ur=J.length-10,Q=0):Q=Q+7&2147483640,n=Q,D&r$&&(Q+=D&255),s=o.structuredClone?new Map:null,o.bundleStrings&&typeof j!="string"?(pn=[],pn.size=1/0):pn=null,i=o.structures,i){i.uninitialized&&(i=o._mergeStructures(o.getStructures()));let C=i.sharedLength||0;if(C>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let P=0;P<C;P++){let L=i[P];if(!L)continue;let $,U=i.transitions;for(let q=0,H=L.length;q<H;q++){let ne=L[q];$=U[ne],$||($=U[ne]=Object.create(null)),U=$}U[Lc]=P+64}this.lastNamedStructuresLength=C}l||(i.nextId=C+64)}r&&(r=!1);let I;try{o.randomAccessStructure&&j&&j.constructor&&j.constructor===Object?F(j):_(j);let C=pn;if(pn&&aC(n,_,0),s&&s.idsToInsert){let P=s.idsToInsert.sort((q,H)=>q.offset>H.offset?1:-1),L=P.length,$=-1;for(;C&&L>0;){let q=P[--L].offset+n;q<C.stringsPosition+n&&$===-1&&($=0),q>C.position+n?$>=0&&($+=6):($>=0&&(Gt.setUint32(C.position+n,Gt.getUint32(C.position+n)+$),$=-1),C=C.previous,L++)}$>=0&&C&&Gt.setUint32(C.position+n,Gt.getUint32(C.position+n)+$),Q+=P.length*6,Q>Ur&&w(Q),o.offset=Q;let U=ZF(J.subarray(n,Q),P);return s=null,U}return o.offset=Q,D&t$?(J.start=n,J.end=Q,J):J.subarray(n,Q)}catch(C){throw I=C,C}finally{if(i&&(b(),r&&o.saveStructures)){let C=i.sharedLength||0,P=J.subarray(n,Q),L=e$(i,o);if(!I)return o.saveStructures(L,L.isCompatible)===!1?o.pack(j,D):(o.lastNamedStructuresLength=C,P)}D&n$&&(Q=n)}};const b=()=>{y<10&&y++;let j=i.sharedLength||0;if(i.length>j&&!l&&(i.length=j),S>1e4)i.transitions=null,y=0,S=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let D=0,I=m.length;D<I;D++)m[D][Lc]=0;m=[]}},A=j=>{var D=j.length;D<16?J[Q++]=144|D:D<65536?(J[Q++]=220,J[Q++]=D>>8,J[Q++]=D&255):(J[Q++]=221,Gt.setUint32(Q,D),Q+=4);for(let I=0;I<D;I++)_(j[I])},_=j=>{Q>Ur&&(J=w(Q));var D=typeof j,I;if(D==="string"){let C=j.length;if(pn&&C>=4&&C<4096){if((pn.size+=C)>QF){let U,q=(pn[0]?pn[0].length*3+pn[1].length:0)+10;Q+q>Ur&&(J=w(Q+q));let H;pn.position?(H=pn,J[Q]=200,Q+=3,J[Q++]=98,U=Q-n,Q+=4,aC(n,_,0),Gt.setUint16(U+n-3,Q-n-U)):(J[Q++]=214,J[Q++]=98,U=Q-n,Q+=4),pn=["",""],pn.previous=H,pn.size=0,pn.position=U}let $=WF.test(j);pn[$?0:1]+=j,J[Q++]=193,_($?-C:C);return}let P;C<32?P=1:C<256?P=2:C<65536?P=3:P=5;let L=C*3;if(Q+L>Ur&&(J=w(Q+L)),C<64||!a){let $,U,q,H=Q+P;for($=0;$<C;$++)U=j.charCodeAt($),U<128?J[H++]=U:U<2048?(J[H++]=U>>6|192,J[H++]=U&63|128):(U&64512)===55296&&((q=j.charCodeAt($+1))&64512)===56320?(U=65536+((U&1023)<<10)+(q&1023),$++,J[H++]=U>>18|240,J[H++]=U>>12&63|128,J[H++]=U>>6&63|128,J[H++]=U&63|128):(J[H++]=U>>12|224,J[H++]=U>>6&63|128,J[H++]=U&63|128);I=H-Q-P}else I=a(j,Q+P);I<32?J[Q++]=160|I:I<256?(P<2&&J.copyWithin(Q+2,Q+1,Q+1+I),J[Q++]=217,J[Q++]=I):I<65536?(P<3&&J.copyWithin(Q+3,Q+2,Q+2+I),J[Q++]=218,J[Q++]=I>>8,J[Q++]=I&255):(P<5&&J.copyWithin(Q+5,Q+3,Q+3+I),J[Q++]=219,Gt.setUint32(Q,I),Q+=4),Q+=I}else if(D==="number")if(j>>>0===j)j<32||j<128&&this.useRecords===!1||j<64&&!this.randomAccessStructure?J[Q++]=j:j<256?(J[Q++]=204,J[Q++]=j):j<65536?(J[Q++]=205,J[Q++]=j>>8,J[Q++]=j&255):(J[Q++]=206,Gt.setUint32(Q,j),Q+=4);else if(j>>0===j)j>=-32?J[Q++]=256+j:j>=-128?(J[Q++]=208,J[Q++]=j+256):j>=-32768?(J[Q++]=209,Gt.setInt16(Q,j),Q+=2):(J[Q++]=210,Gt.setInt32(Q,j),Q+=4);else{let C;if((C=this.useFloat32)>0&&j<4294967296&&j>=-2147483648){J[Q++]=202,Gt.setFloat32(Q,j);let P;if(C<4||(P=j*Ox[(J[Q]&127)<<1|J[Q+1]>>7])>>0===P){Q+=4;return}else Q--}J[Q++]=203,Gt.setFloat64(Q,j),Q+=8}else if(D==="object"||D==="function")if(!j)J[Q++]=192;else{if(s){let P=s.get(j);if(P){if(!P.id){let L=s.idsToInsert||(s.idsToInsert=[]);P.id=L.push(P)}J[Q++]=214,J[Q++]=112,Gt.setUint32(Q,P.id),Q+=4;return}else s.set(j,{offset:Q-n})}let C=j.constructor;if(C===Object)k(j,!0);else if(C===Array)A(j);else if(C===Map)if(this.mapAsEmptyObject)J[Q++]=128;else{I=j.size,I<16?J[Q++]=128|I:I<65536?(J[Q++]=222,J[Q++]=I>>8,J[Q++]=I&255):(J[Q++]=223,Gt.setUint32(Q,I),Q+=4);for(let[P,L]of j)_(P),_(L)}else{for(let P=0,L=q1.length;P<L;P++){let $=_O[P];if(j instanceof $){let U=q1[P];if(U.write){U.type&&(J[Q++]=212,J[Q++]=U.type,J[Q++]=0);let he=U.write.call(this,j);he===j?Array.isArray(j)?A(j):k(j):_(he);return}let q=J,H=Gt,ne=Q;J=null;let N;try{N=U.pack.call(this,j,he=>(J=q,q=null,Q+=he,Q>Ur&&w(Q),{target:J,targetView:Gt,position:Q-he}),_)}finally{q&&(J=q,Gt=H,Q=ne,Ur=J.length-10)}N&&(N.length+Q>Ur&&w(N.length+Q),Q=JF(N,J,Q,U.type));return}}if(Array.isArray(j))A(j);else{if(j.toJSON){const P=j.toJSON();if(P!==j)return _(P)}if(D==="function")return _(this.writeFunction&&this.writeFunction(j));k(j,!j.hasOwnProperty)}}}else if(D==="boolean")J[Q++]=j?195:194;else if(D==="bigint"){if(j<BigInt(1)<<BigInt(63)&&j>=-(BigInt(1)<<BigInt(63)))J[Q++]=211,Gt.setBigInt64(Q,j);else if(j<BigInt(1)<<BigInt(64)&&j>0)J[Q++]=207,Gt.setBigUint64(Q,j);else if(this.largeBigIntToFloat)J[Q++]=203,Gt.setFloat64(Q,Number(j));else if(this.useBigIntExtension&&j<2n**1023n&&j>-(2n**1023n)){J[Q++]=199,Q++,J[Q++]=66;let C=[],P;do{let L=j&0xffn;P=(L&0x80n)===(j<0n?0x80n:0n),C.push(L),j>>=8n}while(!((j===0n||j===-1n)&&P));J[Q-2]=C.length;for(let L=C.length;L>0;)J[Q++]=Number(C[--L]);return}else throw new RangeError(j+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Q+=8}else if(D==="undefined")this.encodeUndefinedAsNil?J[Q++]=192:(J[Q++]=212,J[Q++]=0,J[Q++]=0);else throw new Error("Unknown type: "+D)},x=this.variableMapSize||this.coercibleKeyAsNumber?j=>{let D=Object.keys(j),I=D.length;I<16?J[Q++]=128|I:I<65536?(J[Q++]=222,J[Q++]=I>>8,J[Q++]=I&255):(J[Q++]=223,Gt.setUint32(Q,I),Q+=4);let C;if(this.coercibleKeyAsNumber)for(let P=0;P<I;P++){C=D[P];let L=Number(C);_(isNaN(L)?C:L),_(j[C])}else for(let P=0;P<I;P++)_(C=D[P]),_(j[C])}:(j,D)=>{J[Q++]=222;let I=Q-n;Q+=2;let C=0;for(let P in j)(D||j.hasOwnProperty(P))&&(_(P),_(j[P]),C++);J[I+++n]=C>>8,J[I+n]=C&255},E=this.useRecords===!1?x:t.progressiveRecords&&!h?(j,D)=>{let I,C=i.transitions||(i.transitions=Object.create(null)),P=Q++-n,L;for(let $ in j)if(D||j.hasOwnProperty($)){if(I=C[$],I)C=I;else{let U=Object.keys(j),q=C;C=i.transitions;let H=0;for(let ne=0,N=U.length;ne<N;ne++){let he=U[ne];I=C[he],I||(I=C[he]=Object.create(null),H++),C=I}P+n+1==Q?(Q--,O(C,U,H)):B(C,U,P,H),L=!0,C=q[$]}_(j[$])}if(!L){let $=C[Lc];$?J[P+n]=$:B(C,Object.keys(j),P,0)}}:(j,D)=>{let I,C=i.transitions||(i.transitions=Object.create(null)),P=0;for(let $ in j)(D||j.hasOwnProperty($))&&(I=C[$],I||(I=C[$]=Object.create(null),P++),C=I);let L=C[Lc];L?L>=96&&h?(J[Q++]=((L-=96)&31)+96,J[Q++]=L>>5):J[Q++]=L:O(C,C.__keys__||Object.keys(j),P);for(let $ in j)(D||j.hasOwnProperty($))&&_(j[$])},T=typeof this.useRecords=="function"&&this.useRecords,k=T?(j,D)=>{T(j)?E(j,D):x(j,D)}:E,w=j=>{let D;if(j>16777216){if(j-n>rC)throw new Error("Packed buffer would be larger than maximum buffer size");D=Math.min(rC,Math.round(Math.max((j-n)*(j>67108864?1.25:2),4194304)/4096)*4096)}else D=(Math.max(j-n<<2,J.length-1)>>12)+1<<12;let I=new lg(D);return Gt=I.dataView||(I.dataView=new DataView(I.buffer,0,D)),j=Math.min(j,J.length),J.copy?J.copy(I,0,n,j):I.set(J.slice(n,j)),Q-=n,n=0,Ur=I.length-10,J=I},O=(j,D,I)=>{let C=i.nextId;C||(C=64),C<p&&this.shouldShareStructure&&!this.shouldShareStructure(D)?(C=i.nextOwnId,C<g||(C=p),i.nextOwnId=C+1):(C>=g&&(C=p),i.nextId=C+1);let P=D.highByte=C>=96&&h?C-96>>5:-1;j[Lc]=C,j.__keys__=D,i[C-64]=D,C<p?(D.isShared=!0,i.sharedLength=C-63,r=!0,P>=0?(J[Q++]=(C&31)+96,J[Q++]=P):J[Q++]=C):(P>=0?(J[Q++]=213,J[Q++]=114,J[Q++]=(C&31)+96,J[Q++]=P):(J[Q++]=212,J[Q++]=114,J[Q++]=C),I&&(S+=y*I),m.length>=d&&(m.shift()[Lc]=0),m.push(j),_(D))},B=(j,D,I,C)=>{let P=J,L=Q,$=Ur,U=n;J=nf,Q=0,n=0,J||(nf=J=new lg(8192)),Ur=J.length-10,O(j,D,C),nf=J;let q=Q;if(J=P,Q=L,Ur=$,n=U,q>1){let H=Q+q-1;H>Ur&&w(H);let ne=I+n;J.copyWithin(ne+q,ne+1,Q),J.set(nf.slice(0,q),ne),Q=H}else J[I+n]=nf[0]},F=(j,D)=>{let I=KF(j,J,n,Q,i,w,(C,P,L)=>{if(L)return r=!0;Q=P;let $=J;return _(C),b(),$!==J?{position:Q,targetView:Gt,target:J}:Q},this);if(I===0)return k(j,!0);Q=I}}useBuffer(t){J=t,Gt=new DataView(J.buffer,J.byteOffset,J.byteLength),Q=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}_O=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,hO];q1=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:a}=t(6);i[a++]=214,i[a++]=255,s.setUint32(a,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:a}=t(10);i[a++]=215,i[a++]=255,s.setUint32(a,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(a+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:a}=t(3);i[a++]=212,i[a++]=255,i[a++]=255}else{let{target:i,targetView:s,position:a}=t(15);i[a++]=199,i[a++]=12,i[a++]=255,s.setUint32(a,e.getMilliseconds()*1e6),s.setBigInt64(a+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?iC(e,16,t):sC(Cy?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==xO&&this.moreTypes?iC(e,bO.indexOf(n.name),t):sC(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function iC(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:a}=n(4+i);s[a++]=199,s[a++]=i+1}else if(i+1<65536){var{target:s,position:a}=n(5+i);s[a++]=200,s[a++]=i+1>>8,s[a++]=i+1&255}else{var{target:s,position:a,targetView:o}=n(7+i);s[a++]=201,o.setUint32(a,i+1),a+=4}s[a++]=116,s[a++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a)}function sC(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function JF(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function ZF(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,a=n.id;e.copyWithin(s+r,s,i),r-=6;let o=s+r;e[o++]=214,e[o++]=105,e[o++]=a>>24,e[o++]=a>>16&255,e[o++]=a>>8&255,e[o++]=a&255,i=s}return e}function aC(e,t,n){if(pn.length>0){Gt.setUint32(pn.position+e,Q+n-pn.position-e),pn.stringsPosition=Q-e;let r=pn;pn=null,t(r[0]),t(r[1])}}function e$(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let wO=new XF({useRecords:!1});const EO=wO.pack;wO.pack;const t$=512,n$=1024,r$=2048;function Xr(){return Date.now()}const fs=e=>EO(e),Sd=e=>qF(e);let i$=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Ru(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Ru(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Ru(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},s$=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Ru(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Ru(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Xr()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Xr(),this.isPinging=!0,Ru(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Xr()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new i$(r,i),this.pingClient()}};const ky={RemoteMicConnectionType:"remote_mics_connection_type",InitialInputLag:"initial_input_lag",Eurovision:"eurovision",Halloween:"halloween",SkipInitialSetup:"skip_initial_setup"};var TO={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=Symbol.for("react.transitional.element"),a$=Symbol.for("react.portal"),o$=Symbol.for("react.fragment"),l$=Symbol.for("react.strict_mode"),c$=Symbol.for("react.profiler"),u$=Symbol.for("react.consumer"),d$=Symbol.for("react.context"),f$=Symbol.for("react.forward_ref"),h$=Symbol.for("react.suspense"),p$=Symbol.for("react.memo"),CO=Symbol.for("react.lazy"),oC=Symbol.iterator;function g$(e){return e===null||typeof e!="object"?null:(e=oC&&e[oC]||e["@@iterator"],typeof e=="function"?e:null)}var kO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MO=Object.assign,RO={};function _d(e,t,n){this.props=e,this.context=t,this.refs=RO,this.updater=n||kO}_d.prototype.isReactComponent={};_d.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IO(){}IO.prototype=_d.prototype;function Vx(e,t,n){this.props=e,this.context=t,this.refs=RO,this.updater=n||kO}var Px=Vx.prototype=new IO;Px.constructor=Vx;MO(Px,_d.prototype);Px.isPureReactComponent=!0;var lC=Array.isArray,vn={H:null,A:null,T:null},OO=Object.prototype.hasOwnProperty;function Dx(e,t,n,r,i,s,a){return n=a.ref,{$$typeof:jx,type:e,key:t,ref:n!==void 0?n:null,props:a}}function m$(e,t){return Dx(e.type,t,null,void 0,void 0,void 0,e.props)}function Bx(e){return typeof e=="object"&&e!==null&&e.$$typeof===jx}function y$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cC=/\/+/g;function AA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y$(""+e.key):t.toString(36)}function uC(){}function v$(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(uC,uC):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function eu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case jx:case a$:a=!0;break;case CO:return a=e._init,eu(a(e._payload),t,n,r,i)}}if(a)return i=i(e),a=r===""?"."+AA(e,0):r,lC(i)?(n="",a!=null&&(n=a.replace(cC,"$&/")+"/"),eu(i,t,n,"",function(c){return c})):i!=null&&(Bx(i)&&(i=m$(i,n+(!i.key||e&&e.key===i.key?"":(""+i.key).replace(cC,"$&/")+"/")+a)),t.push(i)),1;a=0;var o=r===""?".":r+":";if(lC(e))for(var l=0;l<e.length;l++)r=e[l],s=o+AA(r,l),a+=eu(r,t,n,s,i);else if(l=g$(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,s=o+AA(r,l++),a+=eu(r,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return eu(v$(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function cg(e,t,n){if(e==null)return e;var r=[],i=0;return eu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function A$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dC=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function b$(){}tt.Children={map:cg,forEach:function(e,t,n){cg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cg(e,function(){t++}),t},toArray:function(e){return cg(e,function(t){return t})||[]},only:function(e){if(!Bx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=_d;tt.Fragment=o$;tt.Profiler=c$;tt.PureComponent=Vx;tt.StrictMode=l$;tt.Suspense=h$;tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vn;tt.act=function(){throw Error("act(...) is not supported in production builds of React.")};tt.cache=function(e){return function(){return e.apply(null,arguments)}};tt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=MO({},e.props),i=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(i=""+t.key),t)!OO.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return Dx(e.type,i,null,void 0,void 0,s,r)};tt.createContext=function(e){return e={$$typeof:d$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:u$,_context:e},e};tt.createElement=function(e,t,n){var r,i={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)OO.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return Dx(e,s,null,void 0,void 0,null,i)};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:f$,render:e}};tt.isValidElement=Bx;tt.lazy=function(e){return{$$typeof:CO,_payload:{_status:-1,_result:e},_init:A$}};tt.memo=function(e,t){return{$$typeof:p$,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=vn.T,n=new Set;vn.T={_callbacks:n};var r=vn.T;try{var i=e();typeof i=="object"&&i!==null&&typeof i.then=="function"&&(n.forEach(function(s){return s(r,i)}),i.then(b$,dC))}catch(s){dC(s)}finally{vn.T=t}};tt.unstable_useCacheRefresh=function(){return vn.H.useCacheRefresh()};tt.use=function(e){return vn.H.use(e)};tt.useActionState=function(e,t,n){return vn.H.useActionState(e,t,n)};tt.useCallback=function(e,t){return vn.H.useCallback(e,t)};tt.useContext=function(e){return vn.H.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e,t){return vn.H.useDeferredValue(e,t)};tt.useEffect=function(e,t){return vn.H.useEffect(e,t)};tt.useId=function(){return vn.H.useId()};tt.useImperativeHandle=function(e,t,n){return vn.H.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return vn.H.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return vn.H.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return vn.H.useMemo(e,t)};tt.useOptimistic=function(e,t){return vn.H.useOptimistic(e,t)};tt.useReducer=function(e,t,n){return vn.H.useReducer(e,t,n)};tt.useRef=function(e){return vn.H.useRef(e)};tt.useState=function(e){return vn.H.useState(e)};tt.useSyncExternalStore=function(e,t,n){return vn.H.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return vn.H.useTransition()};tt.version="19.0.0-beta-26f2496093-20240514";TO.exports=tt;var v=TO.exports;const ke=kr(v),a0=x6({__proto__:null,default:ke},[v]);class _s extends ea{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Be[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Be[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const jO=["high","low"],S$="graphics-level",as=new _s(S$,jO[0]),_$=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],x$="mic-setup-preference",Nx=new _s(x$,_$[0],"session"),VO=[60,30],zl=new _s("fps-count",VO[0]),My=new _s("EXCLUDED_LANGUAGES_KEY_V2",null),Mr=new _s("MOBILE_PHONE_MODE_KEY",null),PO=new _s("keyboard-help-visibility",!0);var nI;const fC=(nI=Ln.getFeatureFlagPayload)==null?void 0:nI.call(Ln,ky.InitialInputLag),Kf=new _s("INPUT_LAG_V2",typeof fC=="number"?fC:0),DO=new _s("REMOTE_MIC_INPUT_LAG",0,"session"),hC=["write","read"],BO=new _s("DefaultRemoteMicPermission","write"),pp=new _s("BackgroundThemeSetting","regular","memory"),Lx=new _s("AutoEnableFullscreenSetting",!0,"session"),w$=["WebSockets","PeerJS","PartyKit"],o0=new _s("RemoteMicConnectionType","WebSockets","session");var rI;(rI=Ln.onFeatureFlags)==null||rI.call(Ln,()=>{o0.set(Ln.getFeatureFlagPayload(ky.RemoteMicConnectionType)??"WebSockets")});function We(e){const[t,n]=v.useState(e.get());return v.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const pC="RememberedAccessesKey",bA="rememberedSubscriptionsKey";class E$ extends ea{constructor(){var t,n;super(...arguments),this.remoteMics=[],this.micAccessMap=((t=Be.local)==null?void 0:t.getItem(pC))??{},this.subscriptions=((n=Be.session)==null?void 0:n.getItem(bA))??{"remote-mics":[]},this.addRemoteMic=(r,i,s,a,o)=>{this.remoteMics=this.remoteMics.filter(l=>l.id!==r),this.remoteMics=[...this.remoteMics,new s$(r,i,s,o)],this.setPermission(r,this.getPermission(r)),ee.remoteMicConnected.dispatch({id:r,name:i,silent:a})},this.removeRemoteMic=(r,i=!1)=>{const s=this.remoteMics.find(a=>a.id===r);this.remoteMics=this.remoteMics.filter(a=>a.id!==r),s&&(s.onDisconnect(),ee.remoteMicDisconnected.dispatch(s,i))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=r=>this.remoteMics.find(i=>i.id===r),this.broadcast=r=>{this.getRemoteMics().forEach(i=>i.connection.send(r))},this.broadcastToChannel=(r,i)=>{this.subscriptions[r].forEach(s=>{var a;return(a=this.getRemoteMicById(s))==null?void 0:a.connection.send(i)})},this.getPermission=r=>this.micAccessMap[r]??BO.get(),this.setPermission=(r,i)=>{var s;(s=this.getRemoteMicById(r))==null||s.setPermission(i),this.micAccessMap[r]=i,Be==null||Be.setItem(pC,this.micAccessMap),this.onUpdate(r,i)},this.addSubscription=(r,i)=>{var s;this.subscriptions[i]=[...new Set([...this.subscriptions[i],r])],(s=Be.session)==null||s.setItem(bA,this.subscriptions),ee.remoteMicSubscribed.dispatch(r,i)},this.removeSubscription=(r,i)=>{var s,a;this.subscriptions[i]=((s=this.subscriptions[i])==null?void 0:s.filter(o=>o!==r))??[],(a=Be.session)==null||a.setItem(bA,this.subscriptions)}}}const rt=new E$;pp.addListener(e=>{fO(e),rt.broadcast({t:"style-change",style:e})});ee.remoteMicConnected.subscribe(e=>{var t;(t=rt.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:pp.get()})});class T${constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const C$=new T$;class k${constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const M$=new k$,NO=Object.prototype.toString;function Ry(e){switch(NO.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return io(e,Error)}}function xd(e,t){return NO.call(e)===`[object ${t}]`}function LO(e){return xd(e,"ErrorEvent")}function gC(e){return xd(e,"DOMError")}function R$(e){return xd(e,"DOMException")}function Ja(e){return xd(e,"String")}function Fx(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function $x(e){return e===null||Fx(e)||typeof e!="object"&&typeof e!="function"}function Wu(e){return xd(e,"Object")}function Iy(e){return typeof Event<"u"&&io(e,Event)}function I$(e){return typeof Element<"u"&&io(e,Element)}function O$(e){return xd(e,"RegExp")}function Oy(e){return!!(e&&e.then&&typeof e.then=="function")}function j$(e){return Wu(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function io(e,t){try{return e instanceof t}catch{return!1}}function FO(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Iu(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function mC(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{FO(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function V$(e,t,n=!1){return Ja(e)?O$(t)?t.test(e):Ja(t)?n?e===t:e.includes(t):!1:!1}function Ul(e,t=[],n=!1){return t.some(r=>V$(e,r,n))}function P$(e,t,n=250,r,i,s,a){if(!s.exception||!s.exception.values||!a||!io(a.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=D$(Y1(e,t,i,a.originalException,r,s.exception.values,o,0),n))}function Y1(e,t,n,r,i,s,a,o){if(s.length>=n+1)return s;let l=[...s];if(io(r[i],Error)){yC(a,o);const c=e(t,r[i]),u=l.length;vC(c,i,u,o),l=Y1(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(io(c,Error)){yC(a,o);const d=e(t,c),h=l.length;vC(d,`errors[${u}]`,h,o),l=Y1(e,t,n,c,i,[d,...l],d,h)}}),l}function yC(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function vC(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function D$(e,t){return e.map(n=>(n.value&&(n.value=Iu(n.value,t)),n))}const Hl="8.25.0",wt=globalThis;function zx(e,t,n){const r=wt,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Hl]=i[Hl]||{};return s[e]||(s[e]=t())}const Ou=wt,B$=80;function Xu(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,a=0;const o=" > ",l=o.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||B$;for(;n&&s++<r&&(c=N$(n,u),!(c==="html"||s>1&&a+i.length*l+c.length>=d));)i.push(c),a+=c.length,n=n.parentNode;return i.reverse().join(o)}catch{return"<unknown>"}}function N$(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(Ou.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const a=n.className;if(a&&Ja(a)){const o=a.split(/\s+/);for(const l of o)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const a of s){const o=n.getAttribute(a);o&&r.push(`[${a}="${o}"]`)}return r.join("")}function L$(){try{return Ou.document.location.href}catch{return""}}function F$(e){return Ou.document&&Ou.document.querySelector?Ou.document.querySelector(e):null}function $O(e){if(!Ou.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const wd=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$$="Sentry Logger ",K1=["debug","info","warn","error","log","assert","trace"],l0={};function gp(e){if(!("console"in wt))return e();const t=wt.console,n={},r=Object.keys(l0);r.forEach(i=>{const s=l0[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function z$(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return wd?K1.forEach(n=>{t[n]=(...r)=>{e&&gp(()=>{wt.console[n](`${$$}[${n}]:`,...r)})}}):K1.forEach(n=>{t[n]=()=>{}}),t}const pe=z$(),U$=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function H$(e){return e==="http"||e==="https"}function Ed(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:a,protocol:o,publicKey:l}=e;return`${o}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${a}`}function G$(e){const t=U$.exec(e);if(!t){gp(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",a="",o=""]=t.slice(1);let l="",c=o;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return zO({host:s,pass:i,path:l,projectId:c,port:a,protocol:n,publicKey:r})}function zO(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function q$(e){if(!wd)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(pe.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?H$(r)?t&&isNaN(parseInt(t,10))?(pe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(pe.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(pe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function UO(e){const t=typeof e=="string"?G$(e):zO(e);if(!(!t||!q$(t)))return t}class da extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Er(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&HO(i,r),e[t]=i}function ms(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{wd&&pe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function HO(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ms(e,"__sentry_original__",t)}catch{}}function Ux(e){return e.__sentry_original__}function Y$(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function GO(e){if(Ry(e))return{message:e.message,name:e.name,stack:e.stack,...bC(e)};if(Iy(e)){const t={type:e.type,target:AC(e.target),currentTarget:AC(e.currentTarget),...bC(e)};return typeof CustomEvent<"u"&&io(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function AC(e){try{return I$(e)?Xu(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function bC(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function K$(e,t=40){const n=Object.keys(GO(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Iu(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Iu(s,t)}return""}function Pr(e){return Q1(e,new Map)}function Q1(e,t){if(Q$(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=Q1(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(Q1(i,t))}),r}return e}function Q$(e){if(!Wu(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const qO=50,ic="?",SC=/\(error: (.*)\)/,_C=/captureMessage|captureException/;function YO(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],a=n.split(`
`);for(let o=r;o<a.length;o++){const l=a[o];if(l.length>1024)continue;const c=SC.test(l)?l.replace(SC,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=qO+i)break}}return X$(s.slice(i))}}function W$(e){return Array.isArray(e)?YO(...e):e}function X$(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(ug(t).function||"")&&t.pop(),t.reverse(),_C.test(ug(t).function||"")&&(t.pop(),_C.test(ug(t).function||"")&&t.pop()),t.slice(0,qO).map(n=>({...n,filename:n.filename||ug(t).filename,function:n.function||ic}))}function ug(e){return e[e.length-1]||{}}const SA="<anonymous>";function so(e){try{return!e||typeof e!="function"?SA:e.name||SA}catch{return SA}}function xC(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const gm={},wC={};function fl(e,t){gm[e]=gm[e]||[],gm[e].push(t)}function hl(e,t){wC[e]||(t(),wC[e]=!0)}function hs(e,t){const n=e&&gm[e];if(n)for(const r of n)try{r(t)}catch(i){wd&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${so(r)}
Error:`,i)}}function J$(e){const t="console";fl(t,e),hl(t,Z$)}function Z$(){"console"in wt&&K1.forEach(function(e){e in wt.console&&Er(wt.console,e,function(t){return l0[e]=t,function(...n){hs("console",{args:n,level:e});const i=l0[e];i&&i.apply(wt.console,n)}})})}const W1=wt;function KO(){if(!("fetch"in W1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function X1(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function e7(){if(typeof EdgeRuntime=="string")return!0;if(!KO())return!1;if(X1(W1.fetch))return!0;let e=!1;const t=W1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=X1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){wd&&pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const QO=1e3;function mp(){return Date.now()/QO}function t7(){const{performance:e}=wt;if(!e||!e.now)return mp;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/QO}const Cr=t7(),Vi=(()=>{const{performance:e}=wt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,a=e.timing&&e.timing.navigationStart,l=typeof a=="number"?Math.abs(a+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:a:r})();function WO(e,t){const n="fetch";fl(n,e),hl(n,()=>XO(void 0,t))}function n7(e){const t="fetch-body-resolved";fl(t,e),hl(t,()=>XO(i7))}function XO(e,t=!1){t&&!e7()||Er(wt,"fetch",function(n){return function(...r){const{method:i,url:s}=s7(r),a={args:r,fetchData:{method:i,url:s},startTimestamp:Cr()*1e3};e||hs("fetch",{...a});const o=new Error().stack;return n.apply(wt,r).then(async l=>(e?e(l):hs("fetch",{...a,endTimestamp:Cr()*1e3,response:l}),l),l=>{throw hs("fetch",{...a,endTimestamp:Cr()*1e3,error:l}),Ry(l)&&l.stack===void 0&&(l.stack=o,ms(l,"framesToPop",1)),l})}})}async function r7(e,t){if(e&&e.body&&e.body.getReader){const n=e.body.getReader();async function r({done:i}){if(i)return Promise.resolve();try{const s=await Promise.race([n.read(),new Promise(a=>{setTimeout(()=>{a({done:!0})},5e3)})]);await r(s)}catch{}}return n.read().then(r).then(t).catch(()=>{})}}async function i7(e){let t;try{t=e.clone()}catch{return}await r7(t,()=>{hs("fetch-body-resolved",{endTimestamp:Cr()*1e3,response:e})})}function J1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function EC(e){return typeof e=="string"?e:e?J1(e,"url")?e.url:e.toString?e.toString():"":""}function s7(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:EC(n),method:J1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:EC(t),method:J1(t,"method")?String(t.method).toUpperCase():"GET"}}let dg=null;function JO(e){const t="error";fl(t,e),hl(t,a7)}function a7(){dg=wt.onerror,wt.onerror=function(e,t,n,r,i){return hs("error",{column:r,error:i,line:n,msg:e,url:t}),dg&&!dg.__SENTRY_LOADER__?dg.apply(this,arguments):!1},wt.onerror.__SENTRY_INSTRUMENTED__=!0}let fg=null;function ZO(e){const t="unhandledrejection";fl(t,e),hl(t,o7)}function o7(){fg=wt.onunhandledrejection,wt.onunhandledrejection=function(e){return hs("unhandledrejection",e),fg&&!fg.__SENTRY_LOADER__?fg.apply(this,arguments):!0},wt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function l7(){return"npm"}function c7(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function yn(){const e=wt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function ej(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Mo(e){const{message:t,event_id:n}=e;if(t)return t;const r=ej(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Z1(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Ch(e,t){const n=ej(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function TC(e){if(e&&e.__sentry_captured__)return!0;try{ms(e,"__sentry_captured__",!0)}catch{}return!1}function tj(e){return Array.isArray(e)?e:[e]}function Ro(e,t=100,n=1/0){try{return eS("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function nj(e,t=3,n=100*1024){const r=Ro(e,t);return h7(r)>n?nj(e,t-1,n):r}function eS(e,t,n=1/0,r=1/0,i=c7()){const[s,a]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;const o=u7(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return o.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return eS("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=GO(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=eS(p,g,l-1,r,i),d++}return a(t),u}function u7(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(FO(t))return"[VueViewModel]";if(j$(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${so(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=d7(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function d7(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function f7(e){return~-encodeURI(e).split(/%..|./).length}function h7(e){return f7(JSON.stringify(e))}var Fa;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Fa||(Fa={}));function sc(e){return new es(t=>{t(e)})}function c0(e){return new es((t,n)=>{n(e)})}class es{constructor(t){es.prototype.__init.call(this),es.prototype.__init2.call(this),es.prototype.__init3.call(this),es.prototype.__init4.call(this),this._state=Fa.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new es((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(a){i(a)}},s=>{if(!n)i(s);else try{r(n(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new es((n,r)=>{let i,s;return this.then(a=>{s=!1,i=a,t&&t()},a=>{s=!0,i=a,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Fa.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Fa.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Fa.PENDING){if(Oy(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Fa.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Fa.RESOLVED&&n[1](this._value),this._state===Fa.REJECTED&&n[2](this._value),n[0]=!0)})}}}function p7(e){const t=[];function n(){return e===void 0||t.length<e}function r(a){return t.splice(t.indexOf(a),1)[0]||Promise.resolve(void 0)}function i(a){if(!n())return c0(new da("Not adding Promise because buffer limit was reached."));const o=a();return t.indexOf(o)===-1&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function s(a){return new es((o,l)=>{let c=t.length;if(!c)return o(!0);const u=setTimeout(()=>{a&&a>0&&o(!1)},a);t.forEach(d=>{sc(d).then(()=>{--c||(clearTimeout(u),o(!0))},l)})})}return{$:t,add:i,drain:s}}function Gl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const g7=["fatal","error","warning","log","info","debug"];function m7(e){return e==="warn"?"warning":g7.includes(e)?e:"log"}const tS="baggage",rj="sentry-",y7=/^sentry-/,v7=8192;function ij(e){const t=A7(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(y7)){const a=i.slice(rj.length);r[a]=s}return r},{});if(Object.keys(n).length>0)return n}function sj(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${rj}${r}`]=i),n),{});return b7(t)}function A7(e){if(!(!e||!Ja(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=CC(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):CC(e)}function CC(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function b7(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,a=i===0?s:`${t},${s}`;return a.length>v7?(wd&&pe.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):a},"")}const S7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function _7(e){if(!e)return;const t=e.match(S7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function x7(e,t){const n=_7(e),r=ij(t),{traceId:i,parentSpanId:s,parentSampled:a}=n||{};return n?{traceId:i||yn(),parentSpanId:s||yn().substring(16),spanId:yn().substring(16),sampled:a,dsc:r||{}}:{traceId:i||yn(),spanId:yn().substring(16)}}function Hx(e=yn(),t=yn().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Td(e,t=[]){return[e,t]}function w7(e,t){const[n,r]=e;return[n,[...r,t]]}function kC(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function nS(e){return wt.__SENTRY__&&wt.__SENTRY__.encodePolyfill?wt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function E7(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[nS(r),s]:r.push(typeof s=="string"?nS(s):s)}for(const s of n){const[a,o]=s;if(i(`
${JSON.stringify(a)}
`),typeof o=="string"||o instanceof Uint8Array)i(o);else{let l;try{l=JSON.stringify(o)}catch{l=JSON.stringify(Ro(o))}i(l)}}return typeof r=="string"?r:T7(r)}function T7(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function C7(e){return[{type:"span"},e]}function k7(e){const t=typeof e.data=="string"?nS(e.data):e.data;return[Pr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const M7={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function MC(e){return M7[e]}function aj(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function R7(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Ed(r)},...i&&{trace:Pr({...i})}}}function I7(e,t,n){const r=[{type:"client_report"},{timestamp:mp(),discarded_events:e}];return Td(t?{dsn:t}:{},[r])}const O7=60*1e3;function j7(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?O7:r-t}function V7(e,t){return e[t]||e.all||0}function P7(e,t,n=Date.now()){return V7(e,t)>n}function D7(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const o of s.trim().split(",")){const[l,c,,,u]=o.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else a?i.all=r+j7(a,r):t===429&&(i.all=r+60*1e3);return i}function u0(){return{traceId:yn(),spanId:yn().substring(16)}}const hg=wt;function B7(){const e=hg.chrome,t=e&&e.app&&e.app.runtime,n="history"in hg&&!!hg.history.pushState&&!!hg.history.replaceState;return!t&&n}const Je=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Cd(){return Gx(wt),wt}function Gx(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Hl,t[Hl]=t[Hl]||{}}function N7(e){const t=Cr(),n={sid:yn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>F7(n)};return e&&Ju(n,e),n}function Ju(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Cr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:yn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function L7(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ju(e,n)}function F7(e){return Pr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const rS="_sentrySpan";function kh(e,t){t?ms(e,rS,t):delete e[rS]}function d0(e){return e[rS]}const $7=100;class qx{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=u0()}clone(){const t=new qx;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,kh(t,d0(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ju(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof nl?[n.getScopeData(),n.getRequestSession()]:Wu(n)?[t,t.requestSession]:[],{tags:s,extra:a,user:o,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,kh(this,void 0),this._attachments=[],this._propagationContext=u0(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:$7;if(r<=0)return this;const i={timestamp:mp(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:d0(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:yn();if(!this._client)return pe.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:yn();if(!this._client)return pe.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:yn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(pe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const nl=qx;function z7(){return zx("defaultCurrentScope",()=>new nl)}function U7(){return zx("defaultIsolationScope",()=>new nl)}class H7{constructor(t,n){let r;t?r=t:r=new nl;let i;n?i=n:i=new nl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Oy(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Zu(){const e=Cd(),t=Gx(e);return t.stack=t.stack||new H7(z7(),U7())}function G7(e){return Zu().withScope(e)}function q7(e,t){const n=Zu();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function RC(e){return Zu().withScope(()=>e(Zu().getIsolationScope()))}function Y7(){return{withIsolationScope:RC,withScope:G7,withSetScope:q7,withSetIsolationScope:(e,t)=>RC(t),getCurrentScope:()=>Zu().getScope(),getIsolationScope:()=>Zu().getIsolationScope()}}function yp(e){const t=Gx(e);return t.acs?t.acs:Y7()}function bn(){const e=Cd();return yp(e).getCurrentScope()}function xs(){const e=Cd();return yp(e).getIsolationScope()}function K7(){return zx("globalScope",()=>new nl)}function jy(...e){const t=Cd(),n=yp(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Bt(){return bn().getClient()}const Q7="_sentryMetrics";function iS(e){const t=e[Q7];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Pr(i));return n}const Lo="sentry.source",oj="sentry.sample_rate",Mh="sentry.op",Kn="sentry.origin",sS="sentry.idle_span_finish_reason",Yx="sentry.measurement_unit",Kx="sentry.measurement_value",W7="sentry.profile_id",lj="sentry.exclusive_time",X7=0,cj=1,ar=2;function J7(e){if(e<400&&e>=100)return{code:cj};if(e>=400&&e<500)switch(e){case 401:return{code:ar,message:"unauthenticated"};case 403:return{code:ar,message:"permission_denied"};case 404:return{code:ar,message:"not_found"};case 409:return{code:ar,message:"already_exists"};case 413:return{code:ar,message:"failed_precondition"};case 429:return{code:ar,message:"resource_exhausted"};case 499:return{code:ar,message:"cancelled"};default:return{code:ar,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:ar,message:"unimplemented"};case 503:return{code:ar,message:"unavailable"};case 504:return{code:ar,message:"deadline_exceeded"};default:return{code:ar,message:"internal_error"}}return{code:ar,message:"unknown_error"}}function uj(e,t){e.setAttribute("http.response.status_code",t);const n=J7(t);n.message!=="unknown_error"&&e.setStatus(n)}const dj=0,fj=1;function Z7(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:a,origin:o}=xt(e);return Pr({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:a,origin:o})}function ez(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=xt(e);return Pr({parent_span_id:r,span_id:t,trace_id:n})}function hj(e){const{traceId:t,spanId:n}=e.spanContext(),r=bc(e);return Hx(t,n,r)}function ql(e){return typeof e=="number"?IC(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?IC(e.getTime()):Cr()}function IC(e){return e>9999999999?e/1e3:e}function xt(e){if(nz(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(tz(e)){const{attributes:r,startTime:i,name:s,endTime:a,parentSpanId:o,status:l}=e;return Pr({span_id:t,trace_id:n,data:r,description:s,parent_span_id:o,start_timestamp:ql(i),timestamp:ql(a)||void 0,status:pj(l),op:r[Mh],origin:r[Kn],_metrics_summary:iS(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function tz(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function nz(e){return typeof e.getSpanJSON=="function"}function bc(e){const{traceFlags:t}=e.spanContext();return t===fj}function pj(e){if(!(!e||e.code===X7))return e.code===cj?"ok":e.message||"unknown_error"}const Yl="_sentryChildSpans",aS="_sentryRootSpan";function gj(e,t){const n=e[aS]||e;ms(t,aS,n),e[Yl]?e[Yl].add(t):ms(e,Yl,new Set([t]))}function rz(e,t){e[Yl]&&e[Yl].delete(t)}function mm(e){const t=new Set;function n(r){if(!t.has(r)&&bc(r)){t.add(r);const i=r[Yl]?Array.from(r[Yl]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function Zr(e){return e[aS]||e}function Ai(){const e=Cd(),t=yp(e);return t.getActiveSpan?t.getActiveSpan():d0(bn())}let OC=!1;function iz(){OC||(OC=!0,JO(oS),ZO(oS))}function oS(){const e=Ai(),t=e&&Zr(e);if(t){const n="internal_error";Je&&pe.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:ar,message:n})}}oS.tag="sentry_tracingErrorCallback";const mj="_sentryScope",yj="_sentryIsolationScope";function sz(e,t,n){e&&(ms(e,yj,n),ms(e,mj,t))}function jC(e){return{scope:e[mj],isolationScope:e[yj]}}function rl(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Bt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class kd{constructor(t={}){this._traceId=t.traceId||yn(),this._spanId=t.spanId||yn().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:dj}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const Qx="production",vj="_frozenDsc";function VC(e,t){ms(e,vj,t)}function Vy(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Pr({environment:n.environment||Qx,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function Sc(e){const t=Bt();if(!t)return{};const n=Vy(xt(e).trace_id||"",t),r=Zr(e),i=r[vj];if(i)return i;const s=r.spanContext().traceState,a=s&&s.get("sentry.dsc"),o=a&&ij(a);if(o)return o;const l=xt(r),c=l.data||{},u=c[oj];u!=null&&(n.sample_rate=`${u}`);const d=c[Lo],h=l.description;return d!=="url"&&h&&(n.transaction=h),n.sampled=String(bc(r)),t.emit("createDsc",n,r),n}function az(e){if(!Je)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=xt(e),{spanId:i}=e.spanContext(),s=bc(e),a=Zr(e),o=a===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${o?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!o){const{op:u,description:d}=xt(a);c.push(`root ID: ${a.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}pe.log(`${l}
  ${c.join(`
  `)}`)}function oz(e){if(!Je)return;const{description:t="< unknown name >",op:n="< unknown op >"}=xt(e),{spanId:r}=e.spanContext(),s=Zr(e)===e,a=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;pe.log(a)}function Aj(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Je&&pe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function lz(e,t){if(!rl(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const r=Aj(n);return r===void 0?(Je&&pe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Je&&pe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Je&&pe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}function cz(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function uz(e,t,n,r){const i=aj(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Ed(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Td(s,[a])}function dz(e,t,n,r){const i=aj(n),s=e.type&&e.type!=="replay_event"?e.type:"event";cz(e,n&&n.sdk);const a=R7(e,i,r,t);return delete e.sdkProcessingMetadata,Td(a,[[{type:s},e]])}function fz(e,t){function n(u){return!!u.trace_id&&!!u.public_key}const r=Sc(e[0]),i=t&&t.getDsn(),s=t&&t.getOptions().tunnel,a={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Ed(i)}},o=t&&t.getOptions().beforeSendSpan,l=o?u=>o(xt(u)):u=>xt(u),c=[];for(const u of e){const d=l(u);d&&c.push(C7(d))}return Td(a,c)}function hz(e,t,n){const r=Ai(),i=r&&Zr(r);i&&i.addEvent(e,{[Kx]:t,[Yx]:n})}function PC(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Yx],s=r[Kx];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const DC=1e3;class Wx{constructor(t={}){this._traceId=t.traceId||yn(),this._spanId=t.spanId||yn().substring(16),this._startTime=t.startTimestamp||Cr(),this._attributes={},this.setAttributes({[Kn]:"manual",[Mh]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?fj:dj}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=ql(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=ql(t),oz(this),this._onSpanEnded())}getSpanJSON(){return Pr({data:this._attributes,description:this._name,op:this._attributes[Mh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:pj(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Kn],_metrics_summary:iS(this),profile_id:this._attributes[W7],exclusive_time:this._attributes[lj],measurements:PC(this._events),is_segment:this._isStandaloneSpan&&Zr(this)===this||void 0,segment_id:this._isStandaloneSpan?Zr(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){Je&&pe.log("[Tracing] Adding an event to span:",t);const i=BC(n)?n:r||Cr(),s=BC(n)?{}:n||{},a={name:t,time:ql(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Bt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Zr(this)))return;if(this._isStandaloneSpan){this._sampled?gz(fz([this],t)):(Je&&pe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(jC(this).scope||bn()).captureEvent(r)}_convertSpanToTransaction(){if(!NC(xt(this)))return;this._name||(Je&&pe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=jC(this),i=(t||bn()).getClient()||Bt();if(this._sampled!==!0){Je&&pe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const a=mm(this).filter(d=>d!==this&&!pz(d)).map(d=>xt(d)).filter(NC),o=this._attributes[Lo],l={contexts:{trace:Z7(this)},spans:a.length>DC?a.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,DC):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Pr({dynamicSamplingContext:Sc(this)})},_metrics_summary:iS(this),...o&&{transaction_info:{source:o}}},c=PC(this._events);return c&&Object.keys(c).length&&(Je&&pe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function BC(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function NC(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function pz(e){return e instanceof Wx&&e.isStandaloneSpan()}function gz(e){const t=Bt();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const r=t.getTransport();r&&r.send(e).then(null,i=>{Je&&pe.error("Error while sending span:",i)})}const bj="__SENTRY_SUPPRESS_TRACING__";function Ks(e){const t=Sj();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=yz(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?a=>jy(e.scope,a):i!==void 0?a=>f0(i,a):a=>a())(()=>{const a=bn(),o=Az(a);return e.onlyIfParent&&!o?new kd:mz({parentSpan:o,spanArguments:n,forceTransaction:r,scope:a})})}function f0(e,t){const n=Sj();return n.withActiveSpan?n.withActiveSpan(e,t):jy(r=>(kh(r,e||void 0),t(r)))}function mz({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!rl())return new kd;const i=xs();let s;if(e&&!n)s=vz(e,r,t),gj(e,s);else if(e){const a=Sc(e),{traceId:o,spanId:l}=e.spanContext(),c=bc(e);s=LC({traceId:o,parentSpanId:l,...t},r,c),VC(s,a)}else{const{traceId:a,dsc:o,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=LC({traceId:a,parentSpanId:l,...t},r,c),o&&VC(s,o)}return az(s),sz(s,r,i),s}function yz(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=ql(e.startTime),delete r.startTime,r}return n}function Sj(){const e=Cd();return yp(e)}function LC(e,t,n){const r=Bt(),i=r&&r.getOptions()||{},{name:s="",attributes:a}=e,[o,l]=t.getScopeData().sdkProcessingMetadata[bj]?[!1]:lz(i,{name:s,parentSampled:n,attributes:a,transactionContext:{name:s,parentSampled:n}}),c=new Wx({...e,attributes:{[Lo]:"custom",...e.attributes},sampled:o});return l!==void 0&&c.setAttribute(oj,l),r&&r.emit("spanStart",c),c}function vz(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[bj]?!1:bc(e),a=s?new Wx({...n,parentSpanId:r,traceId:i,sampled:s}):new kd({traceId:i});gj(e,a);const o=Bt();return o&&(o.emit("spanStart",a),n.endTimestamp&&o.emit("spanEnd",a)),a}function Az(e){const t=d0(e);if(!t)return;const n=Bt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Zr(t):t}const ym={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},bz="heartbeatFailed",Sz="idleTimeout",_z="finalTimeout",xz="externalFinish";function _j(e,t={}){const n=new Map;let r=!1,i,s=xz,a=!t.disableAutoFinish;const o=[],{idleTimeout:l=ym.idleTimeout,finalTimeout:c=ym.finalTimeout,childSpanTimeout:u=ym.childSpanTimeout,beforeSpanEnd:d}=t,h=Bt();if(!h||!rl())return new kd;const p=bn(),g=Ai(),m=wz(e);m.end=new Proxy(m.end,{apply(E,T,k){d&&d(m);const[w,...O]=k,B=w||Cr(),F=ql(B),j=mm(m).filter(L=>L!==m);if(!j.length)return x(F),Reflect.apply(E,T,[F,...O]);const D=j.map(L=>xt(L).timestamp).filter(L=>!!L),I=D.length?Math.max(...D):void 0,C=xt(m).start_timestamp,P=Math.min(C?C+c/1e3:1/0,Math.max(C||-1/0,Math.min(F,I||1/0)));return x(P),Reflect.apply(E,T,[P,...O])}});function S(){i&&(clearTimeout(i),i=void 0)}function y(E){S(),i=setTimeout(()=>{!r&&n.size===0&&a&&(s=Sz,m.end(E))},l)}function b(E){i=setTimeout(()=>{!r&&a&&(s=bz,m.end(E))},u)}function A(E){S(),n.set(E,!0);const T=Cr();b(T+u/1e3)}function _(E){if(n.has(E)&&n.delete(E),n.size===0){const T=Cr();y(T+l/1e3)}}function x(E){r=!0,n.clear(),o.forEach(F=>F()),kh(p,g);const T=xt(m),{start_timestamp:k}=T;if(!k)return;(T.data||{})[sS]||m.setAttribute(sS,s),pe.log(`[Tracing] Idle span "${T.op}" finished`);const O=mm(m).filter(F=>F!==m);let B=0;O.forEach(F=>{F.isRecording()&&(F.setStatus({code:ar,message:"cancelled"}),F.end(E),Je&&pe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(F,void 0,2)));const j=xt(F),{timestamp:D=0,start_timestamp:I=0}=j,C=I<=E,P=(c+l)/1e3,L=D-I<=P;if(Je){const $=JSON.stringify(F,void 0,2);C?L||pe.log("[Tracing] Discarding span since it finished after idle span final timeout",$):pe.log("[Tracing] Discarding span since it happened after idle span was finished",$)}(!L||!C)&&(rz(m,F),B++)}),B>0&&m.setAttribute("sentry.idle_span_discarded_spans",B)}return o.push(h.on("spanStart",E=>{if(r||E===m||xt(E).timestamp)return;mm(m).includes(E)&&A(E.spanContext().spanId)})),o.push(h.on("spanEnd",E=>{r||_(E.spanContext().spanId)})),o.push(h.on("idleSpanEnableAutoFinish",E=>{E===m&&(a=!0,y(),n.size&&b())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:ar,message:"deadline_exceeded"}),s=_z,m.end())},c),m}function wz(e){const t=Ks(e);return kh(bn(),t),Je&&pe.log("[Tracing] Started span is an idle span"),t}function lS(e,t,n,r=0){return new es((i,s)=>{const a=e[r];if(t===null||typeof a!="function")i(t);else{const o=a({...t},n);Je&&a.id&&o===null&&pe.log(`Event processor "${a.id}" dropped event`),Oy(o)?o.then(l=>lS(e,l,n,r+1).then(i)).then(null,s):lS(e,o,n,r+1).then(i).then(null,s)}})}function Ez(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;Tz(e,t),r&&Mz(e,r),Rz(e,n),Cz(e,i),kz(e,s)}function FC(e,t){const{extra:n,tags:r,user:i,contexts:s,level:a,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;rf(e,"extra",n),rf(e,"tags",r),rf(e,"user",i),rf(e,"contexts",s),rf(e,"sdkProcessingMetadata",o),a&&(e.level=a),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function rf(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Tz(e,t){const{extra:n,tags:r,user:i,contexts:s,level:a,transactionName:o}=t,l=Pr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Pr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=Pr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Pr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),a&&(e.level=a),o&&e.type!=="transaction"&&(e.transaction=o)}function Cz(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function kz(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Mz(e,t){e.contexts={trace:ez(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Sc(t),...e.sdkProcessingMetadata};const n=Zr(t),r=xt(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Rz(e,t){e.fingerprint=e.fingerprint?tj(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Iz(e,t,n,r,i,s){const{normalizeDepth:a=3,normalizeMaxBreadth:o=1e3}=e,l={...t,event_id:t.event_id||n.event_id||yn(),timestamp:t.timestamp||mp()},c=n.integrations||e.integrations.map(S=>S.name);Oz(l,e),Pz(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&jz(l,e.stackParser);const u=Bz(r,n.captureContext);n.mechanism&&Ch(l,n.mechanism);const d=i?i.getEventProcessors():[],h=K7().getScopeData();if(s){const S=s.getScopeData();FC(h,S)}if(u){const S=u.getScopeData();FC(h,S)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Ez(l,h);const g=[...d,...h.eventProcessors];return lS(g,l,n).then(S=>(S&&Vz(S),typeof a=="number"&&a>0?Dz(S,a,o):S))}function Oz(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:Qx),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Iu(e.message,s));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=Iu(a.value,s));const o=e.request;o&&o.url&&(o.url=Iu(o.url,s))}const $C=new WeakMap;function jz(e,t){const n=wt._sentryDebugIds;if(!n)return;let r;const i=$C.get(t);i?r=i:(r=new Map,$C.set(t,r));const s=Object.entries(n).reduce((a,[o,l])=>{let c;const u=r.get(o);u?c=u:(c=t(o),r.set(o,c));for(let d=c.length-1;d>=0;d--){const h=c[d];if(h.filename){a[h.filename]=l;break}}return a},{});try{e.exception.values.forEach(a=>{a.stacktrace.frames.forEach(o=>{o.filename&&(o.debug_id=s[o.filename])})})}catch{}}function Vz(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Pz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Dz(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Ro(i.data,t,n)}}))},...e.user&&{user:Ro(e.user,t,n)},...e.contexts&&{contexts:Ro(e.contexts,t,n)},...e.extra&&{extra:Ro(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ro(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Ro(i.data,t,n)}}))),r}function Bz(e,t){if(!t)return e;const n=e?e.clone():new nl;return n.update(t),n}function Nz(e){if(e)return Lz(e)?{captureContext:e}:$z(e)?{captureContext:e}:e}function Lz(e){return e instanceof nl||typeof e=="function"}const Fz=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function $z(e){return Object.keys(e).some(t=>Fz.includes(t))}function Ws(e,t){return bn().captureException(e,Nz(t))}function xj(e,t){return bn().captureEvent(e,t)}function zz(e,t){xs().setContext(e,t)}function Uz(e){xs().setUser(e)}function Hz(){return xs().lastEventId()}function zC(e){const t=Bt(),n=xs(),r=bn(),{release:i,environment:s=Qx}=t&&t.getOptions()||{},{userAgent:a}=wt.navigator||{},o=N7({release:i,environment:s,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...e}),l=n.getSession();return l&&l.status==="ok"&&Ju(l,{status:"exited"}),wj(),n.setSession(o),r.setSession(o),o}function wj(){const e=xs(),t=bn(),n=t.getSession()||e.getSession();n&&L7(n),Ej(),e.setSession(),t.setSession()}function Ej(){const e=xs(),t=bn(),n=Bt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function UC(e=!1){if(e){wj();return}Ej()}const Gz="7";function Tj(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function qz(e){return`${Tj(e)}${e.projectId}/envelope/`}function Yz(e,t){return Y$({sentry_key:e.publicKey,sentry_version:Gz,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Kz(e,t,n){return t||`${qz(e)}?${Yz(e,n)}`}function Qz(e,t){const n=UO(e);if(!n)return"";const r=`${Tj(n)}embed/error-page/`;let i=`dsn=${Ed(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const a=t.user;if(!a)continue;a.name&&(i+=`&name=${encodeURIComponent(a.name)}`),a.email&&(i+=`&email=${encodeURIComponent(a.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const HC=[];function Wz(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Xz(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=tj(n(t)):r=t;const i=Wz(r),s=i.findIndex(a=>a.name==="Debug");if(s>-1){const[a]=i.splice(s,1);i.push(a)}return i}function Jz(e,t){const n={};return t.forEach(r=>{r&&Cj(e,r,n)}),n}function GC(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Cj(e,t,n){if(n[t.name]){Je&&pe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,HC.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),HC.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,a)=>r(s,a,e),{id:t.name});e.addEventProcessor(i)}Je&&pe.log(`Integration installed: ${t.name}`)}const qC="Not capturing exception because it's already been captured.";class Zz{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=UO(t.dsn):Je&&pe.warn("No DSN provided, client will not send events."),this._dsn){const n=Kz(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=yn();if(TC(t))return Je&&pe.log(qC),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(a=>this._captureEvent(a,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:yn(),...r},a=Fx(t)?t:String(t),o=$x(t)?this.eventFromMessage(a,n,s):this.eventFromException(t,s);return this._process(o.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=yn();if(n&&n.originalException&&TC(n.originalException))return Je&&pe.log(qC),i;const s={event_id:i,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,o||r)),s.event_id}captureSession(t){typeof t.release!="string"?Je&&pe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ju(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):sc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Cj(this,t,this._integrations),n||GC(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=dz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=w7(r,k7(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=uz(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;Je&&pe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Je&&pe.error("Error while sending event:",n),n)):(Je&&pe.error("Transport disabled"),sc({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Jz(this,t),GC(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&r)&&(Ju(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new es(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=xs()){const s=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a.length>0&&(n.integrations=a),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),Iz(s,t,n,r,this,i).then(o=>{if(o===null)return o;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(o.contexts&&o.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;o.contexts={trace:Pr({trace_id:u,span_id:d,parent_span_id:h}),...o.contexts};const g=p||Vy(u,this);o.sdkProcessingMetadata={dynamicSamplingContext:g,...o.sdkProcessingMetadata}}return o})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Je){const s=i;s.logLevel==="log"?pe.log(s.message):pe.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,a=Mj(t),o=kj(t),l=t.type||"error",c=`before send for type \`${l}\``,u=typeof s>"u"?void 0:Aj(s);if(o&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),c0(new da(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",d,t),new da("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const S=tU(this,i,g,n);return eU(S,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",d,t),a){const b=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw new da(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!a&&m&&this._updateSessionFromEvent(m,g),a){const y=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,b=g.spans?g.spans.length:0,A=y-b;A>0&&this.recordDroppedEvent("before_send","span",A)}const S=g.transaction_info;if(a&&S&&g.transaction!==t.transaction){const y="custom";g.transaction_info={...S,source:y}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof da?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new da(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Je&&pe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Je&&pe.log("No outcomes to send");return}if(!this._dsn){Je&&pe.log("No dsn provided, will not send outcomes");return}Je&&pe.log("Sending outcomes:",t);const n=I7(t,this._options.tunnel&&Ed(this._dsn));this.sendEnvelope(n)}}function eU(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Oy(e))return e.then(r=>{if(!Wu(r)&&r!==null)throw new da(n);return r},r=>{throw new da(`${t} rejected with ${r}`)});if(!Wu(e)&&e!==null)throw new da(n);return e}function tU(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=t;if(kj(n)&&i)return i(n,r);if(Mj(n)){if(n.spans&&a){const o=[];for(const l of n.spans){const c=a(l);c?o.push(c):e.recordDroppedEvent("before_send","span")}n.spans=o}if(s){if(n.spans){const o=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:o}}return s(n,r)}}return n}function kj(e){return e.type===void 0}function Mj(e){return e.type==="transaction"}function nU(e,t){t.debug===!0&&(Je?pe.enable():gp(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),bn().update(t.initialScope);const r=new e(t);return rU(r),r.init(),r}function rU(e){bn().setClient(e)}const iU=64;function sU(e,t,n=p7(e.bufferSize||iU)){let r={};const i=a=>n.drain(a);function s(a){const o=[];if(kC(a,(d,h)=>{const p=MC(h);if(P7(r,p)){const g=YC(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else o.push(d)}),o.length===0)return sc({});const l=Td(a[0],o),c=d=>{kC(l,(h,p)=>{const g=YC(h,p);e.recordDroppedEvent(d,MC(p),g)})},u=()=>t({body:E7(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Je&&pe.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=D7(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof da)return Je&&pe.error("Skipped sending event because buffer is full."),c("queue_overflow"),sc({});throw d})}return{send:s,flush:i}}function YC(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Rj(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Hl})),version:Hl}),e._metadata=i}const aU=100;function ac(e,t){const n=Bt(),r=xs();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=aU}=n.getOptions();if(s<=0)return;const o={timestamp:mp(),...e},l=i?gp(()=>i(o,t)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let KC;const oU="FunctionToString",QC=new WeakMap,lU=()=>({name:oU,setupOnce(){KC=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ux(this),n=QC.has(Bt())&&t!==void 0?t:this;return KC.apply(n,e)}}catch{}},setup(e){QC.set(e,!0)}}),cU=lU,uU=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],dU="InboundFilters",fU=(e={})=>({name:dU,processEvent(t,n,r){const i=r.getOptions(),s=pU(e,i);return gU(t,s)?null:t}}),hU=fU;function pU(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:uU],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function gU(e,t){return t.ignoreInternal&&SU(e)?(Je&&pe.warn(`Event dropped due to being internal Sentry Error.
Event: ${Mo(e)}`),!0):mU(e,t.ignoreErrors)?(Je&&pe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Mo(e)}`),!0):xU(e)?(Je&&pe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Mo(e)}`),!0):yU(e,t.ignoreTransactions)?(Je&&pe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Mo(e)}`),!0):vU(e,t.denyUrls)?(Je&&pe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Mo(e)}.
Url: ${h0(e)}`),!0):AU(e,t.allowUrls)?!1:(Je&&pe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Mo(e)}.
Url: ${h0(e)}`),!0)}function mU(e,t){return e.type||!t||!t.length?!1:bU(e).some(n=>Ul(n,t))}function yU(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Ul(n,t):!1}function vU(e,t){if(!t||!t.length)return!1;const n=h0(e);return n?Ul(n,t):!1}function AU(e,t){if(!t||!t.length)return!0;const n=h0(e);return n?Ul(n,t):!0}function bU(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function SU(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function _U(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function h0(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?_U(t):null}catch{return Je&&pe.error(`Cannot extract url for event ${Mo(e)}`),null}}function xU(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const wU="Dedupe",EU=()=>{let e;return{name:wU,processEvent(t){if(t.type)return t;try{if(CU(t,e))return Je&&pe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},TU=EU;function CU(e,t){return t?!!(kU(e,t)||MU(e,t)):!1}function kU(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Oj(e,t)||!Ij(e,t))}function MU(e,t){const n=WC(t),r=WC(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Oj(e,t)||!Ij(e,t))}function Ij(e,t){let n=xC(e),r=xC(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function Oj(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function WC(e){return e.exception&&e.exception.values&&e.exception.values[0]}function RU(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;const s=rl()&&t(e.fetchData.url);if(e.endTimestamp&&s){const g=e.fetchData.__span;if(!g)return;const m=r[g];m&&(jU(m,e),delete r[g]);return}const a=bn(),o=Bt(),{method:l,url:c}=e.fetchData,u=OU(c),d=u?Gl(u).host:void 0,h=!!Ai(),p=s&&h?Ks({name:`${l} ${c}`,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Kn]:i,[Mh]:"http.client"}}):new kd;if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&o){const g=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=IU(g,o,a,m,rl()&&h?p:void 0)}return p}function IU(e,t,n,r,i){const s=xs(),{traceId:a,spanId:o,sampled:l,dsc:c}={...s.getPropagationContext(),...n.getPropagationContext()},u=i?hj(i):Hx(a,o,l),d=sj(c||(i?Sc(i):Vy(a,t))),h=r.headers||(typeof Request<"u"&&io(e,Request)?e.headers:void 0);if(h)if(typeof Headers<"u"&&io(h,Headers)){const p=new Headers(h);return p.append("sentry-trace",u),d&&p.append(tS,d),p}else if(Array.isArray(h)){const p=[...h,["sentry-trace",u]];return d&&p.push([tS,d]),p}else{const p="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(p)?g.push(...p):p&&g.push(p),d&&g.push(d),{...h,"sentry-trace":u,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}function OU(e){try{return new URL(e).href}catch{return}}function jU(e,t){if(t.response){uj(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:ar,message:"internal_error"});e.end()}const Ue=wt;let cS=0;function jj(){return cS>0}function VU(){cS++,setTimeout(()=>{cS--})}function ed(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Ux(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{const s=i.map(a=>ed(a,t));return e.apply(this,s)}catch(s){throw VU(),jy(a=>{a.addEventProcessor(o=>(t.mechanism&&(Z1(o,void 0),Ch(o,t.mechanism)),o.extra={...o.extra,arguments:i},o)),Ws(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}HO(r,e),ms(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const gi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Xx(e,t){const n=Jx(e,t),r={type:t&&t.name,value:LU(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function PU(e,t,n,r){const i=Bt(),s=i&&i.getOptions().normalizeDepth,a=HU(t),o={__serialized__:nj(t,s)};if(a)return{exception:{values:[Xx(e,a)]},extra:o};const l={exception:{values:[{type:Iy(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:zU(t,{isUnhandledRejection:r})}]},extra:o};if(n){const c=Jx(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function _A(e,t){return{exception:{values:[Xx(e,t)]}}}function Jx(e,t){const n=t.stacktrace||t.stack||"",r=BU(t),i=NU(t);try{return e(n,r,i)}catch{}return[]}const DU=/Minified React error #\d+;/i;function BU(e){return e&&DU.test(e.message)?1:0}function NU(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function LU(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function FU(e,t,n,r){const i=n&&n.syntheticException||void 0,s=Zx(e,t,i,r);return Ch(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),sc(s)}function $U(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,a=uS(e,t,s,i);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),sc(a)}function Zx(e,t,n,r,i){let s;if(LO(t)&&t.error)return _A(e,t.error);if(gC(t)||R$(t)){const a=t;if("stack"in t)s=_A(e,t);else{const o=a.name||(gC(a)?"DOMError":"DOMException"),l=a.message?`${o}: ${a.message}`:o;s=uS(e,l,n,r),Z1(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return Ry(t)?_A(e,t):Wu(t)||Iy(t)?(s=PU(e,t,n,i),Ch(s,{synthetic:!0}),s):(s=uS(e,t,n,r),Z1(s,`${t}`),Ch(s,{synthetic:!0}),s)}function uS(e,t,n,r){const i={};if(r&&n){const s=Jx(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(Fx(t)){const{__sentry_template_string__:s,__sentry_template_values__:a}=t;return i.logentry={message:s,params:a},i}return i.message=t,i}function zU(e,{isUnhandledRejection:t}){const n=K$(e),r=t?"promise rejection":"exception";return LO(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Iy(e)?`Event \`${UU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function UU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function HU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function GU(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Ed(r)}},s=qU(e);return Td(i,[s])}function qU(e){return[{type:"user_report"},e]}class YU extends Zz{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Ue.SENTRY_SDK_SOURCE||l7();Rj(n,"browser",["browser"],r),super(n),n.sendClientReports&&Ue.document&&Ue.document.addEventListener("visibilitychange",()=>{Ue.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return FU(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return $U(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){gi&&pe.warn("SDK not enabled, will not capture user feedback.");return}const n=GU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const ki=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,KU=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Md=(e,t,n,r)=>{let i,s;return a=>{t.value>=0&&(a||r)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=KU(t.value,n),e(t)))}},Ye=wt,QU=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,vp=()=>Ye.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Py=()=>{const e=vp();return e&&e.activationStart||0},Rd=(e,t)=>{const n=vp();let r="navigate";return n&&(Ye.document&&Ye.document.prerendering||Py()>0?r="prerender":Ye.document&&Ye.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:QU(),navigationType:r}},_c=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Dy=e=>{const t=n=>{(n.type==="pagehide"||Ye.document&&Ye.document.visibilityState==="hidden")&&e(n)};Ye.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},ew=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Rh=-1;const WU=()=>{Rh=Ye.document.visibilityState==="hidden"&&!Ye.document.prerendering?0:1/0},p0=e=>{Ye.document.visibilityState==="hidden"&&Rh>-1&&(Rh=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",p0,!0),removeEventListener("prerenderingchange",p0,!0))},XU=()=>{addEventListener("visibilitychange",p0,!0),addEventListener("prerenderingchange",p0,!0)},By=()=>(Ye.document&&Rh<0&&(WU(),XU()),{get firstHiddenTime(){return Rh}}),Ap=e=>{Ye.document&&Ye.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},JU=[1800,3e3],ZU=(e,t={})=>{Ap(()=>{const n=By(),r=Rd("FCP");let i;const a=_c("paint",o=>{o.forEach(l=>{l.name==="first-contentful-paint"&&(a.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Py(),0),r.entries.push(l),i(!0)))})});a&&(i=Md(e,r,JU,t.reportAllChanges))})},e9=[.1,.25],t9=(e,t={})=>{ZU(ew(()=>{const n=Rd("CLS",0);let r,i=0,s=[];const a=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];i&&u&&d&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c])}}),i>n.value&&(n.value=i,n.entries=s,r())},o=_c("layout-shift",a);o&&(r=Md(e,n,e9,t.reportAllChanges),Dy(()=>{a(o.takeRecords()),r(!0)}),setTimeout(r,0))}))},n9=[100,300],r9=(e,t={})=>{Ap(()=>{const n=By(),r=Rd("FID");let i;const s=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),i(!0))},a=l=>{l.forEach(s)},o=_c("first-input",a);i=Md(e,r,n9,t.reportAllChanges),o&&Dy(ew(()=>{a(o.takeRecords()),o.disconnect()}))})};let Vj=0,xA=1/0,pg=0;const i9=e=>{e.forEach(t=>{t.interactionId&&(xA=Math.min(xA,t.interactionId),pg=Math.max(pg,t.interactionId),Vj=pg?(pg-xA)/7+1:0)})};let dS;const s9=()=>dS?Vj:performance.interactionCount||0,a9=()=>{"interactionCount"in performance||dS||(dS=_c("event",i9,{type:"event",buffered:!0,durationThreshold:0}))},o9=[200,500],l9=0,Pj=()=>s9()-l9,XC=10,$a=[],wA={},JC=e=>{const t=$a[$a.length-1],n=wA[e.interactionId];if(n||$a.length<XC||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};wA[r.id]=r,$a.push(r)}$a.sort((r,i)=>i.latency-r.latency),$a.splice(XC).forEach(r=>{delete wA[r.id]})}},c9=()=>{const e=Math.min($a.length-1,Math.floor(Pj()/50));return $a[e]},u9=(e,t={})=>{Ap(()=>{a9();const n=Rd("INP");let r;const i=a=>{a.forEach(l=>{l.interactionId&&JC(l),l.entryType==="first-input"&&!$a.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&JC(l)});const o=c9();o&&o.latency!==n.value&&(n.value=o.latency,n.entries=o.entries,r())},s=_c("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Md(e,n,o9,t.reportAllChanges),s&&("PerformanceEventTiming"in Ye&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),Dy(()=>{i(s.takeRecords()),n.value<0&&Pj()>0&&(n.value=0,n.entries=[]),r(!0)}))})},d9=[2500,4e3],ZC={},f9=(e,t={})=>{Ap(()=>{const n=By(),r=Rd("LCP");let i;const s=o=>{const l=o[o.length-1];l&&l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Py(),0),r.entries=[l],i())},a=_c("largest-contentful-paint",s);if(a){i=Md(e,r,d9,t.reportAllChanges);const o=ew(()=>{ZC[r.id]||(s(a.takeRecords()),a.disconnect(),ZC[r.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ye.document&&addEventListener(l,()=>setTimeout(o,0),!0)}),Dy(o)}})},h9=[800,1800],fS=e=>{Ye.document&&Ye.document.prerendering?Ap(()=>fS(e)):Ye.document&&Ye.document.readyState!=="complete"?addEventListener("load",()=>fS(e),!0):setTimeout(e,0)},p9=(e,t={})=>{const n=Rd("TTFB"),r=Md(e,n,h9,t.reportAllChanges);fS(()=>{const i=vp();if(i){const s=i.responseStart;if(s<=0||s>performance.now())return;n.value=Math.max(s-Py(),0),n.entries=[i],r(!0)}})},Qf={},g0={};let Dj,Bj,Nj,Lj,Fj;function g9(e,t=!1){return bp("cls",e,b9,Dj,t)}function m9(e,t=!1){return bp("lcp",e,_9,Nj,t)}function y9(e){return bp("fid",e,S9,Bj)}function v9(e){return bp("ttfb",e,x9,Lj)}function A9(e){return bp("inp",e,w9,Fj)}function Ih(e,t){return $j(e,t),g0[e]||(E9(e),g0[e]=!0),zj(e,t)}function Id(e,t){const n=Qf[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){ki&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${so(r)}
Error:`,i)}}function b9(){return t9(e=>{Id("cls",{metric:e}),Dj=e},{reportAllChanges:!0})}function S9(){return r9(e=>{Id("fid",{metric:e}),Bj=e})}function _9(){return f9(e=>{Id("lcp",{metric:e}),Nj=e},{reportAllChanges:!0})}function x9(){return p9(e=>{Id("ttfb",{metric:e}),Lj=e})}function w9(){return u9(e=>{Id("inp",{metric:e}),Fj=e})}function bp(e,t,n,r,i=!1){$j(e,t);let s;return g0[e]||(s=n(),g0[e]=!0),r&&t({metric:r}),zj(e,t,i?s:void 0)}function E9(e){const t={};e==="event"&&(t.durationThreshold=0),_c(e,n=>{Id(e,{entries:n})},t)}function $j(e,t){Qf[e]=Qf[e]||[],Qf[e].push(t)}function zj(e,t,n){return()=>{n&&n();const r=Qf[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function T9(e){return"duration"in e}function EA(e){return typeof e=="number"&&isFinite(e)}function td(e,t,n,{...r}){const i=xt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),f0(e,()=>{const s=Ks({startTime:t,...r});return s&&s.end(n),s})}function tw(){return Ye&&Ye.addEventListener&&Ye.performance}function Nn(e){return e/1e3}const C9=2147483647;let ek=0,or={},aa,Wf;function k9(){const e=tw();if(e&&Vi){e.mark&&Ye.performance.mark("sentry-tracing-init");const t=V9(),n=O9(),r=j9(),i=P9();return()=>{t(),n(),r(),i()}}return()=>{}}function M9(){Ih("longtask",({entries:e})=>{if(Ai())for(const t of e){const n=Nn(Vi+t.startTime),r=Nn(t.duration),i=Ks({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[Kn]:"auto.ui.browser.metrics"}});i&&i.end(n+r)}})}function R9(){new PerformanceObserver(t=>{if(Ai())for(const n of t.getEntries()){if(!n.scripts[0])continue;const r=Nn(Vi+n.startTime),i=Nn(n.duration),s={[Kn]:"auto.ui.browser.metrics"},a=n.scripts[0],{invoker:o,invokerType:l,sourceURL:c,sourceFunctionName:u,sourceCharPosition:d}=a;s["browser.script.invoker"]=o,s["browser.script.invoker_type"]=l,c&&(s["code.filepath"]=c),u&&(s["code.function"]=u),d!==-1&&(s["browser.script.source_char_position"]=d);const h=Ks({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:s});h&&h.end(r+i)}}).observe({type:"long-animation-frame",buffered:!0})}function I9(){Ih("event",({entries:e})=>{if(Ai()){for(const t of e)if(t.name==="click"){const n=Nn(Vi+t.startTime),r=Nn(t.duration),i={name:Xu(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[Kn]:"auto.ui.browser.metrics"}},s=$O(t.target);s&&(i.attributes["ui.component_name"]=s);const a=Ks(i);a&&a.end(n+r)}}})}function O9(){return g9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ki&&pe.log("[Measurements] Adding CLS"),or.cls={value:e.value,unit:""},Wf=t)},!0)}function j9(){return m9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ki&&pe.log("[Measurements] Adding LCP"),or.lcp={value:e.value,unit:"millisecond"},aa=t)},!0)}function V9(){return y9(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Nn(Vi),r=Nn(t.startTime);ki&&pe.log("[Measurements] Adding FID"),or.fid={value:e.value,unit:"millisecond"},or["mark.fid"]={value:n+r,unit:"second"}})}function P9(){return v9(({metric:e})=>{e.entries[e.entries.length-1]&&(ki&&pe.log("[Measurements] Adding TTFB"),or.ttfb={value:e.value,unit:"millisecond"})})}function D9(e){const t=tw();if(!t||!Ye.performance.getEntries||!Vi)return;ki&&pe.log("[Tracing] Adding & adjusting spans using Performance API");const n=Nn(Vi),r=t.getEntries(),{op:i,start_timestamp:s}=xt(e);if(r.slice(ek).forEach(a=>{const o=Nn(a.startTime),l=Nn(Math.max(0,a.duration));if(!(i==="navigation"&&s&&n+o<s))switch(a.entryType){case"navigation":{N9(e,a,n);break}case"mark":case"paint":case"measure":{B9(e,a,o,l,n);const c=By(),u=a.startTime<c.firstHiddenTime;a.name==="first-paint"&&u&&(ki&&pe.log("[Measurements] Adding FP"),or.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&u&&(ki&&pe.log("[Measurements] Adding FCP"),or.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{F9(e,a,a.name,o,l,n);break}}}),ek=Math.max(r.length-1,0),$9(e),i==="pageload"){U9(or),["fcp","fp","lcp"].forEach(o=>{const l=or[o];if(!l||!s||n>=s)return;const c=l.value,u=n+Nn(c),d=Math.abs((u-s)*1e3),h=d-c;ki&&pe.log(`[Measurements] Normalized ${o} from ${c} to ${d} (${h})`),l.value=d});const a=or["mark.fid"];a&&or.fid&&(td(e,a.value,a.value+Nn(or.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Kn]:"auto.ui.browser.metrics"}}),delete or["mark.fid"]),"fcp"in or||delete or.cls,Object.entries(or).forEach(([o,l])=>{hz(o,l.value,l.unit)}),z9(e)}aa=void 0,Wf=void 0,or={}}function B9(e,t,n,r,i){const s=vp(),a=Nn(s?s.requestStart:0),o=i+Math.max(n,a),l=i+n,c=l+r,u={[Kn]:"auto.resource.browser.metrics"};return o!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=o),td(e,o,c,{name:t.name,op:t.entryType,attributes:u}),o}function N9(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{gg(e,t,r,n)}),gg(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),gg(e,t,"fetch",n,"cache","domainLookupStart"),gg(e,t,"domainLookup",n,"DNS"),L9(e,t,n)}function gg(e,t,n,r,i,s){const a=s?t[s]:t[`${n}End`],o=t[`${n}Start`];!o||!a||td(e,r+Nn(o),r+Nn(a),{op:"browser",name:i||n,attributes:{[Kn]:"auto.ui.browser.metrics"}})}function L9(e,t,n){const r=n+Nn(t.requestStart),i=n+Nn(t.responseEnd),s=n+Nn(t.responseStart);t.responseEnd&&(td(e,r,i,{op:"browser",name:"request",attributes:{[Kn]:"auto.ui.browser.metrics"}}),td(e,s,i,{op:"browser",name:"response",attributes:{[Kn]:"auto.ui.browser.metrics"}}))}function F9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=Gl(n),o={[Kn]:"auto.resource.browser.metrics"};TA(o,t,"transferSize","http.response_transfer_size"),TA(o,t,"encodedBodySize","http.response_content_length"),TA(o,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus),a.protocol&&(o["url.scheme"]=a.protocol.split(":").pop()),a.host&&(o["server.address"]=a.host),o["url.same_origin"]=n.includes(Ye.location.origin);const l=s+r,c=l+i;td(e,l,c,{name:n.replace(Ye.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:o})}function $9(e){const t=Ye.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),EA(n.rtt)&&(or["connection.rtt"]={value:n.rtt,unit:"millisecond"})),EA(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),EA(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function z9(e){aa&&(ki&&pe.log("[Measurements] Adding LCP Data"),aa.element&&e.setAttribute("lcp.element",Xu(aa.element)),aa.id&&e.setAttribute("lcp.id",aa.id),aa.url&&e.setAttribute("lcp.url",aa.url.trim().slice(0,200)),e.setAttribute("lcp.size",aa.size)),Wf&&Wf.sources&&(ki&&pe.log("[Measurements] Adding CLS Data"),Wf.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,Xu(t.node))))}function TA(e,t,n,r){const i=t[n];i!=null&&i<C9&&(e[r]=i)}function U9(e){const t=vp();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(ki&&pe.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const H9=1e3;let tk,hS,pS;function G9(e){const t="dom";fl(t,e),hl(t,q9)}function q9(){if(!Ye.document)return;const e=hs.bind(null,"dom"),t=nk(e,!0);Ye.document.addEventListener("click",t,!1),Ye.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Ye[n]&&Ye[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Er(r,"addEventListener",function(i){return function(s,a,o){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=nk(e);u.handler=d,i.call(this,s,d,o)}u.refCount++}catch{}return i.call(this,s,a,o)}}),Er(r,"removeEventListener",function(i){return function(s,a,o){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,o),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,o)}}))})}function Y9(e){if(e.type!==hS)return!1;try{if(!e.target||e.target._sentryId!==pS)return!1}catch{}return!0}function K9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function nk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Q9(n);if(K9(n.type,r))return;ms(n,"_sentryCaptured",!0),r&&!r._sentryId&&ms(r,"_sentryId",yn());const i=n.type==="keypress"?"input":n.type;Y9(n)||(e({event:n,name:i,global:t}),hS=n.type,pS=r?r._sentryId:void 0),clearTimeout(tk),tk=Ye.setTimeout(()=>{pS=void 0,hS=void 0},H9)}}function Q9(e){try{return e.target}catch{return null}}let mg;function nw(e){const t="history";fl(t,e),hl(t,W9)}function W9(){if(!B7())return;const e=Ye.onpopstate;Ye.onpopstate=function(...n){const r=Ye.location.href,i=mg;if(mg=r,hs("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=mg,a=String(i);mg=a,hs("history",{from:s,to:a})}return n.apply(this,r)}}Er(Ye.history,"pushState",t),Er(Ye.history,"replaceState",t)}const vm={};function X9(e){const t=vm[e];if(t)return t;let n=Ye[e];if(X1(n))return vm[e]=n.bind(Ye);const r=Ye.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){ki&&pe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(vm[e]=n.bind(Ye))}function rk(e){vm[e]=void 0}const uu="__sentry_xhr_v3__";function Uj(e){const t="xhr";fl(t,e),hl(t,J9)}function J9(){if(!Ye.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Er(e,"open",function(t){return function(...n){const r=Cr()*1e3,i=Ja(n[0])?n[0].toUpperCase():void 0,s=Z9(n[1]);if(!i||!s)return t.apply(this,n);this[uu]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const o=this[uu];if(o&&this.readyState===4){try{o.status_code=this.status}catch{}const l={endTimestamp:Cr()*1e3,startTimestamp:r,xhr:this};hs("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Er(this,"onreadystatechange",function(o){return function(...l){return a(),o.apply(this,l)}}):this.addEventListener("readystatechange",a),Er(this,"setRequestHeader",function(o){return function(...l){const[c,u]=l,d=this[uu];return d&&Ja(c)&&Ja(u)&&(d.request_headers[c.toLowerCase()]=u),o.apply(this,l)}}),t.apply(this,n)}}),Er(e,"send",function(t){return function(...n){const r=this[uu];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={startTimestamp:Cr()*1e3,xhr:this};return hs("xhr",i),t.apply(this,n)}})}function Z9(e){if(Ja(e))return e;try{return e.toString()}catch{}}const CA=[],Am=new Map;function eH(){if(tw()&&Vi){const t=tH();return()=>{t()}}return()=>{}}const ik={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function tH(){return A9(({metric:e})=>{const t=Bt();if(!t||e.value==null)return;const n=e.entries.find(E=>E.duration===e.value&&ik[E.name]);if(!n)return;const{interactionId:r}=n,i=ik[n.name],s=t.getOptions(),a=Nn(Vi+n.startTime),o=Nn(e.value),l=bn(),c=Ai(),u=c?Zr(c):void 0,h=(r!=null?Am.get(r):void 0)||u,p=h?xt(h).description:l.getScopeData().transactionName,g=l.getUser(),m=t.getIntegrationByName("Replay"),S=m&&m.getReplayId(),y=g!==void 0?g.email||g.id||g.ip_address:void 0;let b;try{b=l.getScopeData().contexts.profile.profile_id}catch{}const A=Xu(n.target),_=Pr({release:s.release,environment:s.environment,transaction:p,[lj]:e.value,[Kn]:"auto.http.browser.inp",user:y||void 0,profile_id:b||void 0,replay_id:S||void 0,"user_agent.original":Ye.navigator&&Ye.navigator.userAgent}),x=Ks({name:A,op:`ui.interaction.${i}`,attributes:_,startTime:a,experimental:{standalone:!0}});x.addEvent("inp",{[Yx]:"millisecond",[Kx]:e.value}),x.end(a+o)})}function nH(e){const t=({entries:n})=>{const r=Ai(),i=r&&Zr(r);n.forEach(s=>{if(!T9(s)||!i)return;const a=s.interactionId;if(a!=null&&!Am.has(a)){if(CA.length>10){const o=CA.shift();Am.delete(o)}CA.push(a),Am.set(a,i)}})};Ih("event",t),Ih("first-input",t)}function rH(e,t=X9("fetch")){let n=0,r=0;function i(s){const a=s.body.length;n+=a,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return rk("fetch"),c0("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=a,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return rk("fetch"),n-=a,r--,c0(l)}}return sU(e,i)}const iH=30,sH=50;function gS(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?ic:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const aH=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,oH=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,lH=/\((\S*)(?::(\d+))(?::(\d+))\)/,cH=e=>{const t=aH.exec(e);if(t){const[,r,i,s]=t;return gS(r,ic,+i,+s)}const n=oH.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const a=lH.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}const[i,s]=Hj(n[1]||ic,n[2]);return gS(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},uH=[iH,cH],dH=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,fH=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,hH=e=>{const t=dH.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=fH.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||ic;return[i,r]=Hj(i,r),gS(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},pH=[sH,hH],gH=[uH,pH],mH=YO(...gH),Hj=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ic,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},yg=1024,yH="Breadcrumbs",vH=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:yH,setup(n){t.console&&J$(_H(n)),t.dom&&G9(SH(n,t.dom)),t.xhr&&Uj(xH(n)),t.fetch&&WO(wH(n)),t.history&&nw(EH(n)),t.sentry&&n.on("beforeSendEvent",bH(n))}}},AH=vH;function bH(e){return function(n){Bt()===e&&ac({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Mo(n)},{event:n})}}function SH(e,t){return function(r){if(Bt()!==e)return;let i,s,a=typeof t=="object"?t.serializeAttribute:void 0,o=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;o&&o>yg&&(gi&&pe.warn(`\`dom.maxStringLength\` cannot exceed ${yg}, but a value of ${o} was configured. Sentry will use ${yg} instead.`),o=yg),typeof a=="string"&&(a=[a]);try{const c=r.event,u=TH(c)?c.target:c;i=Xu(u,{keyAttrs:a,maxStringLength:o}),s=$O(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),ac(l,{event:r.event,name:r.name,global:r.global})}}function _H(e){return function(n){if(Bt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:m7(n.level),message:mC(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${mC(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ac(r,{input:n.args,level:n.level})}}function xH(e){return function(n){if(Bt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[uu];if(!r||!i||!s)return;const{method:a,url:o,status_code:l,body:c}=s,u={method:a,url:o,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};ac({category:"xhr",data:u,type:"http"},d)}}function wH(e){return function(n){if(Bt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,a={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};ac({category:"fetch",data:s,level:"error",type:"http"},a)}else{const s=n.response,a={...n.fetchData,status_code:s&&s.status},o={input:n.args,response:s,startTimestamp:r,endTimestamp:i};ac({category:"fetch",data:a,type:"http"},o)}}}function EH(e){return function(n){if(Bt()!==e)return;let r=n.from,i=n.to;const s=Gl(Ue.location.href);let a=r?Gl(r):void 0;const o=Gl(i);(!a||!a.path)&&(a=s),s.protocol===o.protocol&&s.host===o.host&&(i=o.relative),s.protocol===a.protocol&&s.host===a.host&&(r=a.relative),ac({category:"navigation",data:{from:r,to:i}})}}function TH(e){return!!e&&!!e.target}const CH=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],kH="BrowserApiErrors",MH=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:kH,setupOnce(){t.setTimeout&&Er(Ue,"setTimeout",sk),t.setInterval&&Er(Ue,"setInterval",sk),t.requestAnimationFrame&&Er(Ue,"requestAnimationFrame",IH),t.XMLHttpRequest&&"XMLHttpRequest"in Ue&&Er(XMLHttpRequest.prototype,"send",OH);const n=t.eventTarget;n&&(Array.isArray(n)?n:CH).forEach(jH)}}},RH=MH;function sk(e){return function(...t){const n=t[0];return t[0]=ed(n,{mechanism:{data:{function:so(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function IH(e){return function(t){return e.apply(this,[ed(t,{mechanism:{data:{function:"requestAnimationFrame",handler:so(e)},handled:!1,type:"instrument"}})])}}function OH(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Er(n,i,function(s){const a={mechanism:{data:{function:i,handler:so(s)},handled:!1,type:"instrument"}},o=Ux(s);return o&&(a.mechanism.data.handler=so(o)),ed(s,a)})}),e.apply(this,t)}}function jH(e){const t=Ue,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Er(n,"addEventListener",function(r){return function(i,s,a){try{typeof s.handleEvent=="function"&&(s.handleEvent=ed(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:so(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,ed(s,{mechanism:{data:{function:"addEventListener",handler:so(s),target:e},handled:!1,type:"instrument"}}),a])}}),Er(n,"removeEventListener",function(r){return function(i,s,a){const o=s;try{const l=o&&o.__sentry_wrapped__;l&&r.call(this,i,l,a)}catch{}return r.call(this,i,o,a)}}))}const VH="GlobalHandlers",PH=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:VH,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(BH(n),ak("onerror")),t.onunhandledrejection&&(NH(n),ak("onunhandledrejection"))}}},DH=PH;function BH(e){JO(t=>{const{stackParser:n,attachStacktrace:r}=Gj();if(Bt()!==e||jj())return;const{msg:i,url:s,line:a,column:o,error:l}=t,c=$H(Zx(n,l||i,void 0,r,!1),s,a,o);c.level="error",xj(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function NH(e){ZO(t=>{const{stackParser:n,attachStacktrace:r}=Gj();if(Bt()!==e||jj())return;const i=LH(t),s=$x(i)?FH(i):Zx(n,i,void 0,r,!0);s.level="error",xj(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function LH(e){if($x(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function FH(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function $H(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},o=a.stacktrace=a.stacktrace||{},l=o.frames=o.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ja(t)&&t.length>0?t:L$();return l.length===0&&l.push({colno:c,filename:d,function:ic,in_app:!0,lineno:u}),e}function ak(e){gi&&pe.log(`Global Handler attached: ${e}`)}function Gj(){const e=Bt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const zH=()=>({name:"HttpContext",preprocessEvent(e){if(!Ue.navigator&&!Ue.location&&!Ue.document)return;const t=e.request&&e.request.url||Ue.location&&Ue.location.href,{referrer:n}=Ue.document||{},{userAgent:r}=Ue.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),UH="cause",HH=5,GH="LinkedErrors",qH=(e={})=>{const t=e.limit||HH,n=e.key||UH;return{name:GH,preprocessEvent(r,i,s){const a=s.getOptions();P$(Xx,a.stackParser,a.maxValueLength,n,t,r,i)}}},YH=qH;function KH(e){return[hU(),cU(),RH(),AH(),DH(),YH(),TU(),zH()]}function QH(e={}){const t={defaultIntegrations:KH(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Ue.SENTRY_RELEASE&&Ue.SENTRY_RELEASE.id?Ue.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function WH(){const e=typeof Ue.window<"u"&&Ue;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Ue.location&&Ue.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:"],a=!!r&&Ue===Ue.top&&s.some(l=>i.startsWith(`${l}//`)),o=typeof e.nw<"u";return!!r&&!a&&!o}function XH(e={}){const t=QH(e);if(WH()){gp(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}gi&&(KO()||pe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:W$(t.stackParser||mH),integrations:Xz(t),transport:t.transport||rH},r=nU(YU,n);return t.autoSessionTracking&&JH(),r}function ok(e={}){if(!Ue.document){gi&&pe.error("Global document not defined in showReportDialog call");return}const t=bn(),n=t.getClient(),r=n&&n.getDsn();if(!r){gi&&pe.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const o=Hz();o&&(e.eventId=o)}const i=Ue.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Qz(r,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:s}=e;if(s){const o=l=>{if(l.data==="__sentry_reportdialog_closed__")try{s()}finally{Ue.removeEventListener("message",o)}};Ue.addEventListener("message",o)}const a=Ue.document.head||Ue.document.body;a?a.appendChild(i):gi&&pe.error("Not injecting report dialog. No injection point found in HTML")}function JH(){if(typeof Ue.document>"u"){gi&&pe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}zC({ignoreDuration:!0}),UC(),nw(({from:e,to:t})=>{e!==void 0&&e!==t&&(zC({ignoreDuration:!0}),UC())})}const lk=new WeakMap,kA=new Map,mS={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function ZH(e,t){const{traceFetch:n,traceXHR:r,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:a}={traceFetch:mS.traceFetch,traceXHR:mS.traceXHR,...t},o=typeof i=="function"?i:u=>!0,l=u=>rG(u,a),c={};n&&(e.addEventProcessor(u=>(u.type==="transaction"&&u.spans&&u.spans.forEach(d=>{if(d.op==="http.client"){const h=kA.get(d.span_id);h&&(d.timestamp=h/1e3,kA.delete(d.span_id))}}),u)),n7(u=>{if(u.response){const d=lk.get(u.response);d&&u.endTimestamp&&kA.set(d,u.endTimestamp)}}),WO(u=>{const d=RU(u,o,l,c);if(u.response&&u.fetchData.__span&&lk.set(u.response,u.fetchData.__span),d){const h=qj(u.fetchData.url),p=h?Gl(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}s&&d&&ck(d)})),r&&Uj(u=>{const d=iG(u,o,l,c);s&&d&&ck(d)})}function eG(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ck(e){const{url:t}=xt(e).data||{};if(!t||typeof t!="string")return;const n=Ih("resource",({entries:r})=>{r.forEach(i=>{eG(i)&&i.name.endsWith(t)&&(nG(i).forEach(a=>e.setAttribute(...a)),setTimeout(n))})})}function tG(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function ia(e=0){return((Vi||performance.timeOrigin)+e)/1e3}function nG(e){const{name:t,version:n}=tG(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Vi?[...r,["http.request.redirect_start",ia(e.redirectStart)],["http.request.fetch_start",ia(e.fetchStart)],["http.request.domain_lookup_start",ia(e.domainLookupStart)],["http.request.domain_lookup_end",ia(e.domainLookupEnd)],["http.request.connect_start",ia(e.connectStart)],["http.request.secure_connection_start",ia(e.secureConnectionStart)],["http.request.connection_end",ia(e.connectEnd)],["http.request.request_start",ia(e.requestStart)],["http.request.response_start",ia(e.responseStart)],["http.request.response_end",ia(e.responseEnd)]]:r}function rG(e,t){const n=Ue.location&&Ue.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?Ul(r.toString(),t)||s&&Ul(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?Ul(e,t):r}}function iG(e,t,n,r){const i=e.xhr,s=i&&i[uu];if(!i||i.__sentry_own_request__||!s)return;const a=rl()&&t(s.url);if(e.endTimestamp&&a){const h=i.__sentry_xhr_span_id__;if(!h)return;const p=r[h];p&&s.status_code!==void 0&&(uj(p,s.status_code),p.end(),delete r[h]);return}const o=qj(s.url),l=o?Gl(o).host:void 0,c=!!Ai(),u=a&&c?Ks({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":o,url:s.url,"server.address":l,[Kn]:"auto.http.browser",[Mh]:"http.client"}}):new kd;i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u;const d=Bt();return i.setRequestHeader&&n(s.url)&&d&&sG(i,d,rl()&&c?u:void 0),u}function sG(e,t,n){const r=bn(),i=xs(),{traceId:s,spanId:a,sampled:o,dsc:l}={...i.getPropagationContext(),...r.getPropagationContext()},c=n&&rl()?hj(n):Hx(s,a,o),u=sj(l||(n?Sc(n):Vy(s,t)));aG(e,c,u)}function aG(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(tS,n)}catch{}}function qj(e){try{return new URL(e,Ue.location.origin).href}catch{return}}function oG(){Ue&&Ue.document?Ue.document.addEventListener("visibilitychange",()=>{const e=Ai();if(!e)return;const t=Zr(e);if(Ue.document.hidden&&t){const n="cancelled",{op:r,status:i}=xt(t);gi&&pe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:ar,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):gi&&pe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const lG="BrowserTracing",cG={...ym,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...mS},uG=(e={})=>{iz();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i},beforeStartSpan:s,idleTimeout:a,finalTimeout:o,childSpanTimeout:l,markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,instrumentPageLoad:g,instrumentNavigation:m}={...cG,...e},S=k9();t&&eH(),r&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?R9():n&&M9(),i&&I9();const y={name:void 0,source:void 0};function b(A,_){const x=_.op==="pageload",E=s?s(_):_,T=E.attributes||{};_.name!==E.name&&(T[Lo]="custom",E.attributes=T),y.name=E.name,y.source=T[Lo];const k=_j(E,{idleTimeout:a,finalTimeout:o,childSpanTimeout:l,disableAutoFinish:x,beforeSpanEnd:O=>{S(),D9(O)}});function w(){["interactive","complete"].includes(Ue.document.readyState)&&A.emit("idleSpanEnableAutoFinish",k)}return x&&Ue.document&&(Ue.document.addEventListener("readystatechange",()=>{w()}),w()),k}return{name:lG,afterAllSetup(A){let _,x=Ue.location&&Ue.location.href;A.on("startNavigationSpan",E=>{Bt()===A&&(_&&!xt(_).timestamp&&(gi&&pe.log(`[Tracing] Finishing current root span with op: ${xt(_).op}`),_.end()),_=b(A,{op:"navigation",...E}))}),A.on("startPageLoadSpan",(E,T={})=>{if(Bt()!==A)return;_&&!xt(_).timestamp&&(gi&&pe.log(`[Tracing] Finishing current root span with op: ${xt(_).op}`),_.end());const k=T.sentryTrace||uk("sentry-trace"),w=T.baggage||uk("baggage"),O=x7(k,w);bn().setPropagationContext(O),_=b(A,{op:"pageload",...E})}),A.on("spanEnd",E=>{const T=xt(E).op;if(E!==Zr(E)||T!=="navigation"&&T!=="pageload")return;const k=bn(),w=k.getPropagationContext();k.setPropagationContext({...w,sampled:w.sampled!==void 0?w.sampled:bc(E),dsc:w.dsc||Sc(E)})}),Ue.location&&(g&&dG(A,{name:Ue.location.pathname,startTime:Vi?Vi/1e3:void 0,attributes:{[Lo]:"url",[Kn]:"auto.pageload.browser"}}),m&&nw(({to:E,from:T})=>{if(T===void 0&&x&&x.indexOf(E)!==-1){x=void 0;return}T!==E&&(x=void 0,fG(A,{name:Ue.location.pathname,attributes:{[Lo]:"url",[Kn]:"auto.navigation.browser"}}))})),c&&oG(),i&&hG(a,o,l,y),t&&nH(),ZH(A,{traceFetch:u,traceXHR:d,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:p})}}};function dG(e,t,n){e.emit("startPageLoadSpan",t,n),bn().setTransactionName(t.name);const r=Ai();return(r&&xt(r).op)==="pageload"?r:void 0}function fG(e,t){xs().setPropagationContext(u0()),bn().setPropagationContext(u0()),e.emit("startNavigationSpan",t),bn().setTransactionName(t.name);const n=Ai();return(n&&xt(n).op)==="navigation"?n:void 0}function uk(e){const t=F$(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function hG(e,t,n,r){let i;const s=()=>{const a="ui.action.click",o=Ai(),l=o&&Zr(o);if(l){const c=xt(l).op;if(["navigation","pageload"].includes(c)){gi&&pe.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(sS,"interactionInterrupted"),i.end(),i=void 0),!r.name){gi&&pe.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=_j({name:r.name,op:a,attributes:{[Lo]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Ue.document&&addEventListener("click",s,{once:!1,capture:!0})}function pG(e){const t={...e};return Rj(t,"react"),zz("react",{version:v.version}),XH(t)}function gG(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function mG(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function yG(e,{componentStack:t},n){if(gG(v.version)&&Ry(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,mG(e,r)}return Ws(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}})}var Yj={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=typeof Symbol=="function"&&Symbol.for,rw=pr?Symbol.for("react.element"):60103,iw=pr?Symbol.for("react.portal"):60106,Ny=pr?Symbol.for("react.fragment"):60107,Ly=pr?Symbol.for("react.strict_mode"):60108,Fy=pr?Symbol.for("react.profiler"):60114,$y=pr?Symbol.for("react.provider"):60109,zy=pr?Symbol.for("react.context"):60110,sw=pr?Symbol.for("react.async_mode"):60111,Uy=pr?Symbol.for("react.concurrent_mode"):60111,Hy=pr?Symbol.for("react.forward_ref"):60112,Gy=pr?Symbol.for("react.suspense"):60113,vG=pr?Symbol.for("react.suspense_list"):60120,qy=pr?Symbol.for("react.memo"):60115,Yy=pr?Symbol.for("react.lazy"):60116,AG=pr?Symbol.for("react.block"):60121,bG=pr?Symbol.for("react.fundamental"):60117,SG=pr?Symbol.for("react.responder"):60118,_G=pr?Symbol.for("react.scope"):60119;function Li(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rw:switch(e=e.type,e){case sw:case Uy:case Ny:case Fy:case Ly:case Gy:return e;default:switch(e=e&&e.$$typeof,e){case zy:case Hy:case Yy:case qy:case $y:return e;default:return t}}case iw:return t}}}function Kj(e){return Li(e)===Uy}Nt.AsyncMode=sw;Nt.ConcurrentMode=Uy;Nt.ContextConsumer=zy;Nt.ContextProvider=$y;Nt.Element=rw;Nt.ForwardRef=Hy;Nt.Fragment=Ny;Nt.Lazy=Yy;Nt.Memo=qy;Nt.Portal=iw;Nt.Profiler=Fy;Nt.StrictMode=Ly;Nt.Suspense=Gy;Nt.isAsyncMode=function(e){return Kj(e)||Li(e)===sw};Nt.isConcurrentMode=Kj;Nt.isContextConsumer=function(e){return Li(e)===zy};Nt.isContextProvider=function(e){return Li(e)===$y};Nt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rw};Nt.isForwardRef=function(e){return Li(e)===Hy};Nt.isFragment=function(e){return Li(e)===Ny};Nt.isLazy=function(e){return Li(e)===Yy};Nt.isMemo=function(e){return Li(e)===qy};Nt.isPortal=function(e){return Li(e)===iw};Nt.isProfiler=function(e){return Li(e)===Fy};Nt.isStrictMode=function(e){return Li(e)===Ly};Nt.isSuspense=function(e){return Li(e)===Gy};Nt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ny||e===Uy||e===Fy||e===Ly||e===Gy||e===vG||typeof e=="object"&&e!==null&&(e.$$typeof===Yy||e.$$typeof===qy||e.$$typeof===$y||e.$$typeof===zy||e.$$typeof===Hy||e.$$typeof===bG||e.$$typeof===SG||e.$$typeof===_G||e.$$typeof===AG)};Nt.typeOf=Li;Yj.exports=Nt;var xG=Yj.exports,aw=xG,wG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},EG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},TG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ow={};ow[aw.ForwardRef]=TG;ow[aw.Memo]=Qj;function dk(e){return aw.isMemo(e)?Qj:ow[e.$$typeof]||wG}var CG=Object.defineProperty,kG=Object.getOwnPropertyNames,fk=Object.getOwnPropertySymbols,MG=Object.getOwnPropertyDescriptor,RG=Object.getPrototypeOf,hk=Object.prototype;function Wj(e,t,n){if(typeof t!="string"){if(hk){var r=RG(t);r&&r!==hk&&Wj(e,r,n)}var i=kG(t);fk&&(i=i.concat(fk(t)));for(var s=dk(e),a=dk(t),o=0;o<i.length;++o){var l=i[o];if(!EG[l]&&!(n&&n[l])&&!(a&&a[l])&&!(s&&s[l])){var c=MG(t,l);try{CG(e,l,c)}catch{}}}}return e}var IG=Wj;const OG=kr(IG),jG="ui.react.render",VG="ui.react.update",PG="ui.react.mount",DG="unknown";class Xj extends v.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Ks({name:`<${n}>`,onlyIfParent:!0,op:PG,attributes:{[Kn]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=Cr();this._updateSpan=f0(this._mountSpan,()=>Ks({name:`<${this.props.name}>`,onlyIfParent:!0,op:VG,startTime:i,attributes:{[Kn]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=Cr(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=xt(this._mountSpan).timestamp;f0(this._mountSpan,()=>{const s=Ks({onlyIfParent:!0,name:`<${n}>`,op:jG,startTime:i,attributes:{[Kn]:"auto.ui.react.profiler","ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}Xj.__initStatic();function BG(e,t){const n=e.displayName||e.name||DG,r=i=>v.createElement(Xj,{...t,name:n,updateProps:i},v.createElement(e,{...i}));return r.displayName=`profiler(${n})`,OG(r,e),r}const NG=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,pk={componentStack:null,error:null,eventId:null};class lw extends v.Component{constructor(t){super(t),lw.prototype.__init.call(this),this.state=pk,this._openFallbackReportDialog=!0;const n=Bt();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&ok({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,i=r??void 0,{beforeCapture:s,onError:a,showDialog:o,dialogOptions:l}=this.props;jy(c=>{s&&s(c,t,i);const u=yG(t,n,{mechanism:{handled:!!this.props.fallback}});a&&a(t,i,u),o&&(this._lastEventId=u,this._openFallbackReportDialog&&ok({...l,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(pk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=v.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,v.isValidElement(i)?i:(t&&NG&&pe.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const LG="modulepreload",FG=function(e){return"/prs/373/"+e},gk={},Od=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=FG(l),l in gk)return;gk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":LG,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};class Jj{constructor(){this.init=async(t,n)=>{const r=await Od(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class $G extends ea{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Yo=new $G;let Zj=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Yo.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100;const a=this.context.createAnalyser();a.fftSize=2048,a.minDecibels=-100,i.connect(s,0),i.connect(a,1);const o=new Jj;await o.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(s.fftSize),c=new Float32Array(a.fftSize);s.getFloatTimeDomainData(l),a.getFloatTimeDomainData(c),this.frequencies=await Promise.all([o.getFrequency(l),o.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/s.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){Ws(r),console.error(r)}}catch(r){Ws(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new Zj;class zG{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new Zj),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const UG=new zG;class HG{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=rt.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=rt.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=rt.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=rt.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=rt.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const GG=new HG;function Xs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var eV=typeof global=="object"&&global&&global.Object===Object&&global,qG=typeof self=="object"&&self&&self.Object===Object&&self,ta=eV||qG||Function("return this")(),MA=function(){return ta.Date.now()},YG=/\s/;function KG(e){for(var t=e.length;t--&&YG.test(e.charAt(t)););return t}var QG=/^\s+/;function WG(e){return e&&e.slice(0,KG(e)+1).replace(QG,"")}var ys=ta.Symbol,tV=Object.prototype,XG=tV.hasOwnProperty,JG=tV.toString,sf=ys?ys.toStringTag:void 0;function ZG(e){var t=XG.call(e,sf),n=e[sf];try{e[sf]=void 0;var r=!0}catch{}var i=JG.call(e);return r&&(t?e[sf]=n:delete e[sf]),i}var eq=Object.prototype,tq=eq.toString;function nq(e){return tq.call(e)}var rq="[object Null]",iq="[object Undefined]",mk=ys?ys.toStringTag:void 0;function xc(e){return e==null?e===void 0?iq:rq:mk&&mk in Object(e)?ZG(e):nq(e)}function ao(e){return e!=null&&typeof e=="object"}var sq="[object Symbol]";function Ky(e){return typeof e=="symbol"||ao(e)&&xc(e)==sq}var yk=NaN,aq=/^[-+]0x[0-9a-f]+$/i,oq=/^0b[01]+$/i,lq=/^0o[0-7]+$/i,cq=parseInt;function yS(e){if(typeof e=="number")return e;if(Ky(e))return yk;if(Xs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=WG(e);var n=oq.test(e);return n||lq.test(e)?cq(e.slice(2),n?2:8):aq.test(e)?yk:+e}var uq="Expected a function",dq=Math.max,fq=Math.min;function nV(e,t,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(uq);t=yS(t)||0,Xs(n)&&(u=!!n.leading,d="maxWait"in n,s=d?dq(yS(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(E){var T=r,k=i;return r=i=void 0,c=E,a=e.apply(k,T),a}function g(E){return c=E,o=setTimeout(y,t),u?p(E):a}function m(E){var T=E-l,k=E-c,w=t-T;return d?fq(w,s-k):w}function S(E){var T=E-l,k=E-c;return l===void 0||T>=t||T<0||d&&k>=s}function y(){var E=MA();if(S(E))return b(E);o=setTimeout(y,m(E))}function b(E){return o=void 0,h&&r?p(E):(r=i=void 0,a)}function A(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?a:b(MA())}function x(){var E=MA(),T=S(E);if(r=arguments,i=this,l=E,T){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),a}return x.cancel=A,x.flush=_,x}const Kr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},Xf=["freestyle","rap"],rV=[],iV=440,sV=69,cw=20;var hq="[object AsyncFunction]",pq="[object Function]",gq="[object GeneratorFunction]",mq="[object Proxy]";function aV(e){if(!Xs(e))return!1;var t=xc(e);return t==pq||t==gq||t==hq||t==mq}var RA=ta["__core-js_shared__"],vk=function(){var e=/[^.]+$/.exec(RA&&RA.keys&&RA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yq(e){return!!vk&&vk in e}var vq=Function.prototype,Aq=vq.toString;function wc(e){if(e!=null){try{return Aq.call(e)}catch{}try{return e+""}catch{}}return""}var bq=/[\\^$.*+?()[\]{}|]/g,Sq=/^\[object .+?Constructor\]$/,_q=Function.prototype,xq=Object.prototype,wq=_q.toString,Eq=xq.hasOwnProperty,Tq=RegExp("^"+wq.call(Eq).replace(bq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cq(e){if(!Xs(e)||yq(e))return!1;var t=aV(e)?Tq:Sq;return t.test(wc(e))}function kq(e,t){return e==null?void 0:e[t]}function Ec(e,t){var n=kq(e,t);return Cq(n)?n:void 0}var Oh=Ec(Object,"create");function Mq(){this.__data__=Oh?Oh(null):{},this.size=0}function Rq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Iq="__lodash_hash_undefined__",Oq=Object.prototype,jq=Oq.hasOwnProperty;function Vq(e){var t=this.__data__;if(Oh){var n=t[e];return n===Iq?void 0:n}return jq.call(t,e)?t[e]:void 0}var Pq=Object.prototype,Dq=Pq.hasOwnProperty;function Bq(e){var t=this.__data__;return Oh?t[e]!==void 0:Dq.call(t,e)}var Nq="__lodash_hash_undefined__";function Lq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Oh&&t===void 0?Nq:t,this}function oc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oc.prototype.clear=Mq;oc.prototype.delete=Rq;oc.prototype.get=Vq;oc.prototype.has=Bq;oc.prototype.set=Lq;function Fq(){this.__data__=[],this.size=0}function Qy(e,t){return e===t||e!==e&&t!==t}function Wy(e,t){for(var n=e.length;n--;)if(Qy(e[n][0],t))return n;return-1}var $q=Array.prototype,zq=$q.splice;function Uq(e){var t=this.__data__,n=Wy(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():zq.call(t,n,1),--this.size,!0}function Hq(e){var t=this.__data__,n=Wy(t,e);return n<0?void 0:t[n][1]}function Gq(e){return Wy(this.__data__,e)>-1}function qq(e,t){var n=this.__data__,r=Wy(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function mo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mo.prototype.clear=Fq;mo.prototype.delete=Uq;mo.prototype.get=Hq;mo.prototype.has=Gq;mo.prototype.set=qq;var jh=Ec(ta,"Map");function Yq(){this.size=0,this.__data__={hash:new oc,map:new(jh||mo),string:new oc}}function Kq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Xy(e,t){var n=e.__data__;return Kq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Qq(e){var t=Xy(this,e).delete(e);return this.size-=t?1:0,t}function Wq(e){return Xy(this,e).get(e)}function Xq(e){return Xy(this,e).has(e)}function Jq(e,t){var n=Xy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function yo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yo.prototype.clear=Yq;yo.prototype.delete=Qq;yo.prototype.get=Wq;yo.prototype.has=Xq;yo.prototype.set=Jq;var Zq="Expected a function";function Jy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Jy.Cache||yo),n}Jy.Cache=yo;function m0(e){return Xf.includes(e.note.type)?0:e.distance}function Pt(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const eY=35e5,xl={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},Ak=e=>({freestyle:e.freestyle*xl.freestyle,rap:e.rap*xl.rap,rapstar:e.rapstar*xl.rapstar,star:e.star*xl.star,normal:e.normal*xl.normal,perfect:e.perfect*xl.perfect,vibrato:e.vibrato*xl.vibrato}),uw=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,vg=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),bk=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),Sk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),_k=Jy(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(Pt).forEach(r=>{r.notes.filter(s=>!rV.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function oV(e,t,n){const r=_k(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=Ak(_k(t)[n]),a=eY/uw(s);for(let o=0;o<e.length;o++){const l=e[o];rV.includes(l.note.type)||m0(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[a,Ak(i),s]}function tY(e,t,n){const[r,i]=oV(e,t,n);return uw(i)*r}function nY(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function rY(e){return iV*Math.pow(2,(e-sV)/12)}const iY=e=>Math.round(12*(Math.log(e/iV)/Math.log(2)))+sV,sY=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),aY=(e,t,n)=>{const r=rY(e),i=sY(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},oY=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},lY=(e,t)=>{const n=$e.getTolerance(),r=iY(e);let i=-1;const s=oY(r,t,n);return s===0&&(i=aY(t,e,n)),{distance:s,preciseDistance:i}},xk=6;function cY(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-xk;r++){const s=n.slice(r,r+xk-1).map(c=>c.interval),a=Math.max(...s),o=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(a<l*1.75&&o>l/1.75)return!0}return!1}const uY=100;function dY(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...lY(t.frequency,n.pitch)},s=e.at(-1),a=uY/r,o=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!Xf.includes(n.type);if(l||c||i.beat-(s.start+s.length)>a){const u=i.beat-a<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,o),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+a>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&cY(s.frequencyRecords)}const fY=e=>e.notes[0],il=e=>{const t=e.find(Pt);return t?fY(t).start:1/0},Vh=e=>{const n=e.filter(Pt).at(-1);return n?Ph(n):0},Ph=e=>{const t=e.notes.at(-1);return t.start+t.length},wk=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class hY{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=kn.getPlayerFrequency(this.number),s=r-kn.getPlayerInputLag(this.number);if(Array.isArray(i)){const a=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),o=(a==null?void 0:a.timestamp)??0,l=(s-o)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=o+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),kn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(ee.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const a=s.timestamp/this.gameState.getSongBeatLength(),o=this.getSectionByBeat(a);if(Pt(o)){const l=wk(o,a,0)??wk(o,a,.5);l&&dY(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,a)=>r<0?!0:r<i.start?!1:s===a.length-1?!0:a[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return Pt(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>tY(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>oV(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(Pt).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function pY(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(Pt).at(-1);return n?Ph(n):0}))}function dw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(dw.Cache||Map),n}dw.Cache=Map;const jd=dw(function(t){return 60/t.bpm/(t.bar??4)*1e3});class gY{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>jd(this.song),this.getCurrentBeat=()=>nY(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new hY(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===Kr.CO_OP?this.getPlayers().reduce((s,a)=>s+a.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===Kr.CO_OP){const r=this.getPlayers().map(o=>o.getDetailedScore()),[i,...s]=r.map(([o,l,c])=>[vg(l,o),vg(c,o)]),a=s.reduce((o,l)=>[bk(o[0],l[0]),bk(o[1],l[1])],i);return[Sk(a[0],this.getPlayerCount()),Sk(a[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[vg(i,r),vg(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/pY(this.getSong()))),this.startInputMonitoring=async()=>kn.startMonitoring(),this.stopInputMonitoring=()=>kn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const $e=new gY,lV="wss://allkaraoke-partykit.asvarox.partykit.dev";class mY extends ea{constructor(){super(...arguments),this.name="PartyKit",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Xr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Xr(),(t=this.connection)==null||t.send(fs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Xr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Xr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(`${lV}/party/${t}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(fs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",a=>{var l;const o=Sd(a.data);if(o.t==="forward"){["ping","pong","freq"].includes((l=o==null?void 0:o.payload)==null?void 0:l.t)||console.log("received",o);const{sender:c,payload:u}=o,d=new yY(c,this.connection);this.onUpdate(u,d)}else o.t==="pong"?this.onPong():console.warn("Unknown message type",o)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(fs({t:"remove-player",id:t}))}}let yY=class{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(fs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const a=Sd(s.data);if(a.t==="forward"){const{sender:o,payload:l}=a;o===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}};var iI;const vY=(iI=global==null?void 0:global.sessionStorage)==null?void 0:iI.getItem("isE2E");function Pi(){var t,n;if(vY)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const AY=Pi()?{host:"localhost",port:3001,path:"/"}:{},cV={...AY};var bY=Object.create,Zy=Object.defineProperty,SY=Object.defineProperties,_Y=Object.getOwnPropertyDescriptor,xY=Object.getOwnPropertyDescriptors,uV=Object.getOwnPropertyNames,Ek=Object.getOwnPropertySymbols,wY=Object.getPrototypeOf,dV=Object.prototype.hasOwnProperty,EY=Object.prototype.propertyIsEnumerable,Tk=(e,t,n)=>t in e?Zy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fw=(e,t)=>{for(var n in t||(t={}))dV.call(t,n)&&Tk(e,n,t[n]);if(Ek)for(var n of Ek(t))EY.call(t,n)&&Tk(e,n,t[n]);return e},fV=(e,t)=>SY(e,xY(t)),TY=e=>Zy(e,"__esModule",{value:!0}),hw=(e,t)=>function(){return t||(0,e[uV(e)[0]])((t={exports:{}}).exports,t),t.exports},CY=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of uV(t))!dV.call(e,i)&&i!=="default"&&Zy(e,i,{get:()=>t[i],enumerable:!(r=_Y(t,i))||r.enumerable});return e},Sp=(e,t)=>CY(TY(Zy(e!=null?bY(wY(e)):{},"default",e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),du=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{o(n.next(l))}catch(c){i(c)}},a=l=>{try{o(n.throw(l))}catch(c){i(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(e,t)).next())}),Ck=hw({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,a=0,o=this._parts.length;a<o;a++)s.append(this._parts[a]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),kY=hw({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=Ck().BufferBuilder,r=Ck().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new a;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function a(){this.bufferBuilder=new n}a.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},a.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},a.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},a.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},a.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},a.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},a.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,S=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(S)},a.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},a.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},a.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},a.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},a.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},a.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},a.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},a.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},a.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function o(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,o).length}}}),ev=hw({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var S=r?r+u:u;if(!this._events[S])return!1;var y=this._events[S],b=arguments.length,A,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,g),!0;case 6:return y.fn.call(y.context,d,h,p,g,m),!0}for(_=1,A=new Array(b-1);_<b;_++)A[_-1]=arguments[_];y.fn.apply(y.context,A)}else{var x=y.length,E;for(_=0;_<x;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),b){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,h);break;case 4:y[_].fn.call(y[_].context,d,h,p);break;default:if(!A)for(E=1,A=new Array(b-1);E<b;E++)A[E-1]=arguments[E];y[_].fn.apply(y[_].context,A)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&o(this,g);else{for(var S=0,y=[],b=m.length;S<b;S++)(m[S].fn!==d||p&&!m[S].once||h&&m[S].context!==h)&&y.push(m[S]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),kk=Sp(kY()),MY={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},mn=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=MY,this.pack=kk.pack,this.unpack=kk.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/mn.chunkedMTU);let i=0,s=0;for(;s<n;){const a=Math.min(n,s+mn.chunkedMTU),o=e.slice(s,a),l={__peerData:this._dataCount,n:i,data:o,total:r};t.push(l),s=a,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},RY=Sp(ev()),IY="PeerJS: ",OY=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[IY,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},Ee=new OY,jY=Sp(ev()),VY=class extends jY.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:a}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var o;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(o=a==null?void 0:a.WebSocket)!=null?o:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),Ee.log("Server message received:",i)}catch{Ee.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(Ee.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(Ee.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){Ee.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&Ee.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function PY(){}var hV=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ee.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;Ee.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(Ee.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ee.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":Ee.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":Ee.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":Ee.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":Ee.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=PY;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{Ee.log("Received data channel");const a=s.channel;i.getConnection(t,n).initialize(a)},e.ontrack=s=>{Ee.log("Received remote stream");const a=s.streams[0],o=i.getConnection(t,n);if(o.type==="media"){const l=o;this._addStreamToMediaConnection(a,l)}}}cleanup(){Ee.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return du(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;Ee.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ee.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=fV(fw({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),Ee.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),Ee.log("Failed to createOffer, ",n)}})}_makeAnswer(){return du(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;Ee.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),Ee.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),Ee.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),Ee.log("Failed to create answer, ",n)}})}handleSDP(e,t){return du(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;Ee.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),Ee.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(a){i.emitError("webrtc",a),Ee.log("Failed to setRemoteDescription, ",a)}})}handleCandidate(e){return du(this,null,function*(){Ee.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const a=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new a({sdpMid:r,sdpMLineIndex:n,candidate:t})),Ee.log(`Added ICE candidate for:${this.connection.peer}`)}catch(a){s.emitError("webrtc",a),Ee.log("Failed to handleCandidate, ",a)}})}_addTracksToConnection(e,t){if(Ee.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return Ee.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){Ee.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},DY=Sp(ev()),pV=class extends DY.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},gV=class extends pV{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||gV.ID_PREFIX+mn.randomToken(),this._negotiator=new hV(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){Ee.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:Ee.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){Ee.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(fV(fw({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},vS=gV;vS.ID_PREFIX="mc_";var BY=Sp(ev()),NY=class extends BY.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{Ee.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},AS=class extends pV{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||AS.ID_PREFIX+mn.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new NY(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{Ee.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new hV(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{Ee.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{Ee.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{Ee.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){mn.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=mn.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=mn.unpack(e);else if(t===String){const i=mn.binaryStringToArrayBuffer(e);r=mn.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=mn.pack(e);if(!t&&n.size>mn.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>AS.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return Ee.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=mn.chunk(e);Ee.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:Ee.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},y0=AS;y0.ID_PREFIX="dc_";y0.MAX_BUFFERED_AMOUNT=8*1024*1024;var LY=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return du(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ee.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==mn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return du(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===mn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ee.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},FY={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Cl=class extends RY.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=fw({debug:0,host:mn.CLOUD_HOST,port:mn.CLOUD_PORT,path:"/",key:Cl.DEFAULT_KEY,token:mn.randomToken(),config:mn.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==mn.CLOUD_HOST?this._options.secure=mn.isSecure():this._options.host==mn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ee.setLogFunction(this._options.logFunction),Ee.logLevel=this._options.debug||0,this._api=new LY(t),this._socket=this._createServerConnection(),this.features=Cl.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!mn.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new VY(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":Ee.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),Ee.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new vS(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new y0(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{Ee.warn(`Received malformed connection type:${n.type}`);return}const a=this._getMessages(i);for(let o of a)s.handleMessage(o);break}default:{if(!n){Ee.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):Ee.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){Ee.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new y0(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){Ee.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){Ee.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new vS(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){Ee.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){Ee.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){Ee.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(Ee.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ee.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ee.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ee.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Cl._features||(Cl._features=Cl.checkFeatures(e)),Cl._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(mn.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=FY.isUnifiedPlanSupported(e),t}},tv=Cl;tv.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=tv);class $Y extends ea{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.connectedPeers={},this.getCurrentPing=()=>0,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new tv(`allkaraoke-party-room-${t}`,cV),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{this.connectedPeers[i.peer]=i,i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&(this.connectedPeers[i.peer]=i,this.onUpdate({t:"unregister"},i))}),i.on("close",()=>{delete this.connectedPeers[i.peer],rt.removeRemoteMic(i.peer)})})}removePlayer(t){var n;(n=this.connectedPeers[t])==null||n.close()}}const mV="wss://backend.allkaraoke.party";class zY extends ea{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()},this.latency=0,this.pingStart=Xr(),this.pinging=!1,this.pingTimeout=null,this.ping=()=>{var t;this.pinging=!0,this.pingStart=Xr(),(t=this.connection)==null||t.send(fs({t:"ping"}))},this.onPong=()=>{this.pinging&&(this.latency=Xr()-this.pingStart,this.pinging=!1,this.pingTimeout&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(this.ping,5e3))},this.getCurrentPing=()=>this.pinging?Math.max(this.latency,Xr()-this.pingStart):this.latency}connect(t,n,r){this.connection=new WebSocket(mV),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(fs({t:"register-room",id:t})),n(),this.ping(),(s=this.connection)==null||s.addEventListener("message",a=>{var l;const o=Sd(a.data);if(o.t==="forward"){["ping","pong","freq"].includes((l=o==null?void 0:o.payload)==null?void 0:l.t)||console.log("received",o);const{sender:c,payload:u}=o,d=new UY(c,this.connection);this.onUpdate(u,d)}else o.t==="pong"?this.onPong():console.warn("Unknown message type",o)})},this.connection.onclose=i=>{r(i.reason,i)}}removePlayer(t){var n;(n=this.connection)==null||n.send(fs({t:"remove-player",id:t}))}}class UY{constructor(t,n){this.peer=t,this.socket=n,this.currentPing=0,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(fs(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const a=Sd(s.data);if(a.t==="forward"){const{sender:o,payload:l}=a;o===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var yV={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Do,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var I=["th","st","nd","rd"],C=D%100;return"["+D+(I[(C-20)%10]||I[C]||I[0])+"]"}},A=function(D,I,C){var P=String(D);return!P||P.length>=I?D:""+Array(I+1-P.length).join(C)+D},_={s:A,z:function(D){var I=-D.utcOffset(),C=Math.abs(I),P=Math.floor(C/60),L=C%60;return(I<=0?"+":"-")+A(P,2,"0")+":"+A(L,2,"0")},m:function D(I,C){if(I.date()<C.date())return-D(C,I);var P=12*(C.year()-I.year())+(C.month()-I.month()),L=I.clone().add(P,d),$=C-L<0,U=I.clone().add(P+($?-1:1),d);return+(-(P+(C-L)/($?L-U:U-L))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:d,y:p,w:u,d:c,D:g,h:l,m:o,s:a,ms:s,Q:h}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},x="en",E={};E[x]=b;var T="$isDayjsObject",k=function(D){return D instanceof F||!(!D||!D[T])},w=function D(I,C,P){var L;if(!I)return x;if(typeof I=="string"){var $=I.toLowerCase();E[$]&&(L=$),C&&(E[$]=C,L=$);var U=I.split("-");if(!L&&U.length>1)return D(U[0])}else{var q=I.name;E[q]=I,L=q}return!P&&L&&(x=L),L||!P&&x},O=function(D,I){if(k(D))return D.clone();var C=typeof I=="object"?I:{};return C.date=D,C.args=arguments,new F(C)},B=_;B.l=w,B.i=k,B.w=function(D,I){return O(D,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var F=function(){function D(C){this.$L=w(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[T]=!0}var I=D.prototype;return I.parse=function(C){this.$d=function(P){var L=P.date,$=P.utc;if(L===null)return new Date(NaN);if(B.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var U=L.match(S);if(U){var q=U[2]-1||0,H=(U[7]||"0").substring(0,3);return $?new Date(Date.UTC(U[1],q,U[3]||1,U[4]||0,U[5]||0,U[6]||0,H)):new Date(U[1],q,U[3]||1,U[4]||0,U[5]||0,U[6]||0,H)}}return new Date(L)}(C),this.init()},I.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},I.$utils=function(){return B},I.isValid=function(){return this.$d.toString()!==m},I.isSame=function(C,P){var L=O(C);return this.startOf(P)<=L&&L<=this.endOf(P)},I.isAfter=function(C,P){return O(C)<this.startOf(P)},I.isBefore=function(C,P){return this.endOf(P)<O(C)},I.$g=function(C,P,L){return B.u(C)?this[P]:this.set(L,C)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(C,P){var L=this,$=!!B.u(P)||P,U=B.p(C),q=function(_e,le){var Ae=B.w(L.$u?Date.UTC(L.$y,le,_e):new Date(L.$y,le,_e),L);return $?Ae:Ae.endOf(c)},H=function(_e,le){return B.w(L.toDate()[_e].apply(L.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(le)),L)},ne=this.$W,N=this.$M,he=this.$D,te="set"+(this.$u?"UTC":"");switch(U){case p:return $?q(1,0):q(31,11);case d:return $?q(1,N):q(0,N+1);case u:var ue=this.$locale().weekStart||0,Oe=(ne<ue?ne+7:ne)-ue;return q($?he-Oe:he+(6-Oe),N);case c:case g:return H(te+"Hours",0);case l:return H(te+"Minutes",1);case o:return H(te+"Seconds",2);case a:return H(te+"Milliseconds",3);default:return this.clone()}},I.endOf=function(C){return this.startOf(C,!1)},I.$set=function(C,P){var L,$=B.p(C),U="set"+(this.$u?"UTC":""),q=(L={},L[c]=U+"Date",L[g]=U+"Date",L[d]=U+"Month",L[p]=U+"FullYear",L[l]=U+"Hours",L[o]=U+"Minutes",L[a]=U+"Seconds",L[s]=U+"Milliseconds",L)[$],H=$===c?this.$D+(P-this.$W):P;if($===d||$===p){var ne=this.clone().set(g,1);ne.$d[q](H),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else q&&this.$d[q](H);return this.init(),this},I.set=function(C,P){return this.clone().$set(C,P)},I.get=function(C){return this[B.p(C)]()},I.add=function(C,P){var L,$=this;C=Number(C);var U=B.p(P),q=function(N){var he=O($);return B.w(he.date(he.date()+Math.round(N*C)),$)};if(U===d)return this.set(d,this.$M+C);if(U===p)return this.set(p,this.$y+C);if(U===c)return q(1);if(U===u)return q(7);var H=(L={},L[o]=r,L[l]=i,L[a]=n,L)[U]||1,ne=this.$d.getTime()+C*H;return B.w(ne,this)},I.subtract=function(C,P){return this.add(-1*C,P)},I.format=function(C){var P=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var $=C||"YYYY-MM-DDTHH:mm:ssZ",U=B.z(this),q=this.$H,H=this.$m,ne=this.$M,N=L.weekdays,he=L.months,te=L.meridiem,ue=function(le,Ae,Pe,Ce){return le&&(le[Ae]||le(P,$))||Pe[Ae].slice(0,Ce)},Oe=function(le){return B.s(q%12||12,le,"0")},_e=te||function(le,Ae,Pe){var Ce=le<12?"AM":"PM";return Pe?Ce.toLowerCase():Ce};return $.replace(y,function(le,Ae){return Ae||function(Pe){switch(Pe){case"YY":return String(P.$y).slice(-2);case"YYYY":return B.s(P.$y,4,"0");case"M":return ne+1;case"MM":return B.s(ne+1,2,"0");case"MMM":return ue(L.monthsShort,ne,he,3);case"MMMM":return ue(he,ne);case"D":return P.$D;case"DD":return B.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return ue(L.weekdaysMin,P.$W,N,2);case"ddd":return ue(L.weekdaysShort,P.$W,N,3);case"dddd":return N[P.$W];case"H":return String(q);case"HH":return B.s(q,2,"0");case"h":return Oe(1);case"hh":return Oe(2);case"a":return _e(q,H,!0);case"A":return _e(q,H,!1);case"m":return String(H);case"mm":return B.s(H,2,"0");case"s":return String(P.$s);case"ss":return B.s(P.$s,2,"0");case"SSS":return B.s(P.$ms,3,"0");case"Z":return U}return null}(le)||U.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(C,P,L){var $,U=this,q=B.p(P),H=O(C),ne=(H.utcOffset()-this.utcOffset())*r,N=this-H,he=function(){return B.m(U,H)};switch(q){case p:$=he()/12;break;case d:$=he();break;case h:$=he()/3;break;case u:$=(N-ne)/6048e5;break;case c:$=(N-ne)/864e5;break;case l:$=N/i;break;case o:$=N/r;break;case a:$=N/n;break;default:$=N}return L?$:B.a($)},I.daysInMonth=function(){return this.endOf(d).$D},I.$locale=function(){return E[this.$L]},I.locale=function(C,P){if(!C)return this.$L;var L=this.clone(),$=w(C,P,!0);return $&&(L.$L=$),L},I.clone=function(){return B.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},D}(),j=F.prototype;return O.prototype=j,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(D){j[D[1]]=function(I){return this.$g(I,D[0],D[1])}}),O.extend=function(D,I){return D.$i||(D(I,F,O),D.$i=!0),O},O.locale=w,O.isDayjs=k,O.unix=function(D){return O(1e3*D)},O.en=E[x],O.Ls=E,O.p={},O})})(yV);var HY=yV.exports;const zs=kr(HY);function bS(e){return!!e}function GY(e){return[...Array(e).keys()]}const qY=250,IA=(e,t=0,n=1/0)=>e.filter(Pt).filter(r=>il([r])>=t).filter(r=>Vh([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,a)=>s+a.length,0),0),YY=(e,t)=>{const[n,...r]=e.filter(Pt),i=[[n]];return r.forEach(s=>{const a=i.at(-1),o=Vh(a);(il([s])-o)*t>qY?i.push([s]):a.push(s)}),i},vV=(e,t)=>e+t,Mk=e=>{const t=e.map(n=>n.reduce(vV,0));return Math.max(...t)-Math.min(...t)},KY=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const a=n[s-1].pop();n[s].push(a)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[a,...o]=n[s+1];n[s].push(a),n[s+1]=o};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},QY=e=>e.reduce(vV,0);function pw(e,t){const r=jd(t);if(e.sections.length<9)return[];const i=YY(e.sections,r);let s=[],a=[IA(i[0])];for(let o=0;o<i.length-2;o++){const l=i[s.flat().length-1]??[],u=IA(e.sections,Vh(l)??0)/(10-s.length),d=IA(i[o+1]),h=QY(a);h+d<u?a=[...a,d]:u-h<h+d-u?(s.push(a),a=[d]):(s.push([...a,d]),a=[])}for(let o=0;o<100;o++){const l=Mk(s),c=GY((s.length-2)*2+2).map(p=>KY(s,p)),u=c.map(Mk),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(o=>o.length).reduce((o,l)=>[...o,(o.at(-1)??0)+l],[]).map(o=>Vh(i[o-1]))}var AV={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Do,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={Á:"A",Ă:"A",Ắ:"A",Ặ:"A",Ằ:"A",Ẳ:"A",Ẵ:"A",Ǎ:"A",Â:"A",Ấ:"A",Ậ:"A",Ầ:"A",Ẩ:"A",Ẫ:"A",Ä:"A",Ǟ:"A",Ȧ:"A",Ǡ:"A",Ạ:"A",Ȁ:"A",À:"A",Ả:"A",Ȃ:"A",Ā:"A",Ą:"A",Å:"A",Ǻ:"A",Ḁ:"A","Ⱥ":"A",Ã:"A","Ꜳ":"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY",Ḃ:"B",Ḅ:"B",Ɓ:"B",Ḇ:"B","Ƀ":"B",Ƃ:"B",Ć:"C",Č:"C",Ç:"C",Ḉ:"C",Ĉ:"C",Ċ:"C",Ƈ:"C","Ȼ":"C",Ď:"D",Ḑ:"D",Ḓ:"D",Ḋ:"D",Ḍ:"D",Ɗ:"D",Ḏ:"D",ǲ:"D",ǅ:"D",Đ:"D",Ð:"D",Ƌ:"D",Ǳ:"DZ",Ǆ:"DZ",É:"E",Ĕ:"E",Ě:"E",Ȩ:"E",Ḝ:"E",Ê:"E",Ế:"E",Ệ:"E",Ề:"E",Ể:"E",Ễ:"E",Ḙ:"E",Ë:"E",Ė:"E",Ẹ:"E",Ȅ:"E",È:"E",Ẻ:"E",Ȇ:"E",Ē:"E",Ḗ:"E",Ḕ:"E",Ę:"E","Ɇ":"E",Ẽ:"E",Ḛ:"E","Ꝫ":"ET",Ḟ:"F",Ƒ:"F",Ǵ:"G",Ğ:"G",Ǧ:"G",Ģ:"G",Ĝ:"G",Ġ:"G",Ɠ:"G",Ḡ:"G",Ǥ:"G",Ḫ:"H",Ȟ:"H",Ḩ:"H",Ĥ:"H","Ⱨ":"H",Ḧ:"H",Ḣ:"H",Ḥ:"H",Ħ:"H",Í:"I",Ĭ:"I",Ǐ:"I",Î:"I",Ï:"I",Ḯ:"I",İ:"I",Ị:"I",Ȉ:"I",Ì:"I",Ỉ:"I",Ȋ:"I",Ī:"I",Į:"I",Ɨ:"I",Ĩ:"I",Ḭ:"I",І:"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS",Ĵ:"J","Ɉ":"J",Ḱ:"K",Ǩ:"K",Ķ:"K","Ⱪ":"K","Ꝃ":"K",Ḳ:"K",Ƙ:"K",Ḵ:"K","Ꝁ":"K","Ꝅ":"K",Ĺ:"L","Ƚ":"L",Ľ:"L",Ļ:"L",Ḽ:"L",Ḷ:"L",Ḹ:"L","Ⱡ":"L","Ꝉ":"L",Ḻ:"L",Ŀ:"L","Ɫ":"L",ǈ:"L",Ł:"L",Ǉ:"LJ",Ḿ:"M",Ṁ:"M",Ṃ:"M","Ɱ":"M",Ń:"N",Ň:"N",Ņ:"N",Ṋ:"N",Ṅ:"N",Ṇ:"N",Ǹ:"N",Ɲ:"N",Ṉ:"N","Ƞ":"N",ǋ:"N",Ñ:"N",Ǌ:"NJ",Ó:"O",Ŏ:"O",Ǒ:"O",Ô:"O",Ố:"O",Ộ:"O",Ồ:"O",Ổ:"O",Ỗ:"O",Ö:"O",Ȫ:"O",Ȯ:"O",Ȱ:"O",Ọ:"O",Ő:"O",Ȍ:"O",Ò:"O",Ỏ:"O",Ơ:"O",Ớ:"O",Ợ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ȏ:"O","Ꝋ":"O","Ꝍ":"O",Ō:"O",Ṓ:"O",Ṑ:"O",Ɵ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Õ:"O",Ṍ:"O",Ṏ:"O",Ȭ:"O",Ƣ:"OI","Ꝏ":"OO",Ɛ:"E",Ɔ:"O",Ȣ:"OU",Ṕ:"P",Ṗ:"P","Ꝓ":"P",Ƥ:"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q",Ŕ:"R",Ř:"R",Ŗ:"R",Ṙ:"R",Ṛ:"R",Ṝ:"R",Ȑ:"R",Ȓ:"R",Ṟ:"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C",Ǝ:"E",Ś:"S",Ṥ:"S",Š:"S",Ṧ:"S",Ş:"S",Ŝ:"S",Ș:"S",Ṡ:"S",Ṣ:"S",Ṩ:"S",ß:"ss",Ť:"T",Ţ:"T",Ṱ:"T",Ț:"T","Ⱦ":"T",Ṫ:"T",Ṭ:"T",Ƭ:"T",Ṯ:"T",Ʈ:"T",Ŧ:"T","Ɐ":"A","Ꞁ":"L",Ɯ:"M","Ʌ":"V","Ꜩ":"TZ",Ú:"U",Ŭ:"U",Ǔ:"U",Û:"U",Ṷ:"U",Ü:"U",Ǘ:"U",Ǚ:"U",Ǜ:"U",Ǖ:"U",Ṳ:"U",Ụ:"U",Ű:"U",Ȕ:"U",Ù:"U",Ủ:"U",Ư:"U",Ứ:"U",Ự:"U",Ừ:"U",Ử:"U",Ữ:"U",Ȗ:"U",Ū:"U",Ṻ:"U",Ų:"U",Ů:"U",Ũ:"U",Ṹ:"U",Ṵ:"U","Ꝟ":"V",Ṿ:"V",Ʋ:"V",Ṽ:"V","Ꝡ":"VY",Ẃ:"W",Ŵ:"W",Ẅ:"W",Ẇ:"W",Ẉ:"W",Ẁ:"W","Ⱳ":"W",Ẍ:"X",Ẋ:"X",Ý:"Y",Ŷ:"Y",Ÿ:"Y",Ẏ:"Y",Ỵ:"Y",Ỳ:"Y",Ƴ:"Y",Ỷ:"Y","Ỿ":"Y",Ȳ:"Y","Ɏ":"Y",Ỹ:"Y",Ї:"YI",Ź:"Z",Ž:"Z",Ẑ:"Z","Ⱬ":"Z",Ż:"Z",Ẓ:"Z",Ȥ:"Z",Ẕ:"Z",Ƶ:"Z",Þ:"TH",Ĳ:"IJ",Œ:"OE","ᴀ":"A","ᴁ":"AE",ʙ:"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F",ɢ:"G",ʛ:"G",ʜ:"H",ɪ:"I",ʁ:"R","ᴊ":"J","ᴋ":"K",ʟ:"L","ᴌ":"L","ᴍ":"M",ɴ:"N","ᴏ":"O",ɶ:"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P",ʀ:"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W",ʏ:"Y","ᴢ":"Z",á:"a",ă:"a",ắ:"a",ặ:"a",ằ:"a",ẳ:"a",ẵ:"a",ǎ:"a",â:"a",ấ:"a",ậ:"a",ầ:"a",ẩ:"a",ẫ:"a",ä:"a",ǟ:"a",ȧ:"a",ǡ:"a",ạ:"a",ȁ:"a",à:"a",ả:"a",ȃ:"a",ā:"a",ą:"a","ᶏ":"a",ẚ:"a",å:"a",ǻ:"a",ḁ:"a","ⱥ":"a",ã:"a","ꜳ":"aa",æ:"ae",ǽ:"ae",ǣ:"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay",ḃ:"b",ḅ:"b",ɓ:"b",ḇ:"b","ᵬ":"b","ᶀ":"b",ƀ:"b",ƃ:"b",ɵ:"o",ć:"c",č:"c",ç:"c",ḉ:"c",ĉ:"c",ɕ:"c",ċ:"c",ƈ:"c","ȼ":"c",ď:"d",ḑ:"d",ḓ:"d","ȡ":"d",ḋ:"d",ḍ:"d",ɗ:"d","ᶑ":"d",ḏ:"d","ᵭ":"d","ᶁ":"d",đ:"d",ɖ:"d",ƌ:"d",ð:"d",ı:"i","ȷ":"j",ɟ:"j",ʄ:"j",ǳ:"dz",ǆ:"dz",é:"e",ĕ:"e",ě:"e",ȩ:"e",ḝ:"e",ê:"e",ế:"e",ệ:"e",ề:"e",ể:"e",ễ:"e",ḙ:"e",ë:"e",ė:"e",ẹ:"e",ȅ:"e",è:"e",ẻ:"e",ȇ:"e",ē:"e",ḗ:"e",ḕ:"e","ⱸ":"e",ę:"e","ᶒ":"e","ɇ":"e",ẽ:"e",ḛ:"e","ꝫ":"et",ḟ:"f",ƒ:"f","ᵮ":"f","ᶂ":"f",ǵ:"g",ğ:"g",ǧ:"g",ģ:"g",ĝ:"g",ġ:"g",ɠ:"g",ḡ:"g","ᶃ":"g",ǥ:"g",ḫ:"h",ȟ:"h",ḩ:"h",ĥ:"h","ⱨ":"h",ḧ:"h",ḣ:"h",ḥ:"h",ɦ:"h",ẖ:"h",ħ:"h",ƕ:"hv",í:"i",ĭ:"i",ǐ:"i",î:"i",ï:"i",ḯ:"i",ị:"i",ȉ:"i",ì:"i",ỉ:"i",ȋ:"i",ī:"i",į:"i","ᶖ":"i",ɨ:"i",ĩ:"i",ḭ:"i",і:"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is",ǰ:"j",ĵ:"j",ʝ:"j","ɉ":"j",ḱ:"k",ǩ:"k",ķ:"k","ⱪ":"k","ꝃ":"k",ḳ:"k",ƙ:"k",ḵ:"k","ᶄ":"k","ꝁ":"k","ꝅ":"k",ĺ:"l",ƚ:"l",ɬ:"l",ľ:"l",ļ:"l",ḽ:"l","ȴ":"l",ḷ:"l",ḹ:"l","ⱡ":"l","ꝉ":"l",ḻ:"l",ŀ:"l",ɫ:"l","ᶅ":"l",ɭ:"l",ł:"l",ǉ:"lj",ſ:"s","ẜ":"s",ẛ:"s","ẝ":"s",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m","ᵯ":"m","ᶆ":"m",ń:"n",ň:"n",ņ:"n",ṋ:"n","ȵ":"n",ṅ:"n",ṇ:"n",ǹ:"n",ɲ:"n",ṉ:"n",ƞ:"n","ᵰ":"n","ᶇ":"n",ɳ:"n",ñ:"n",ǌ:"nj",ó:"o",ŏ:"o",ǒ:"o",ô:"o",ố:"o",ộ:"o",ồ:"o",ổ:"o",ỗ:"o",ö:"o",ȫ:"o",ȯ:"o",ȱ:"o",ọ:"o",ő:"o",ȍ:"o",ò:"o",ỏ:"o",ơ:"o",ớ:"o",ợ:"o",ờ:"o",ở:"o",ỡ:"o",ȏ:"o","ꝋ":"o","ꝍ":"o","ⱺ":"o",ō:"o",ṓ:"o",ṑ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",õ:"o",ṍ:"o",ṏ:"o",ȭ:"o",ƣ:"oi","ꝏ":"oo",ɛ:"e","ᶓ":"e",ɔ:"o","ᶗ":"o",ȣ:"ou",ṕ:"p",ṗ:"p","ꝓ":"p",ƥ:"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q",ʠ:"q","ɋ":"q","ꝗ":"q",ŕ:"r",ř:"r",ŗ:"r",ṙ:"r",ṛ:"r",ṝ:"r",ȑ:"r",ɾ:"r","ᵳ":"r",ȓ:"r",ṟ:"r",ɼ:"r","ᵲ":"r","ᶉ":"r","ɍ":"r",ɽ:"r","ↄ":"c","ꜿ":"c",ɘ:"e",ɿ:"r",ś:"s",ṥ:"s",š:"s",ṧ:"s",ş:"s",ŝ:"s",ș:"s",ṡ:"s",ṣ:"s",ṩ:"s",ʂ:"s","ᵴ":"s","ᶊ":"s","ȿ":"s",ɡ:"g","ᴑ":"o","ᴓ":"o","ᴝ":"u",ť:"t",ţ:"t",ṱ:"t",ț:"t","ȶ":"t",ẗ:"t","ⱦ":"t",ṫ:"t",ṭ:"t",ƭ:"t",ṯ:"t","ᵵ":"t",ƫ:"t",ʈ:"t",ŧ:"t","ᵺ":"th",ɐ:"a","ᴂ":"ae",ǝ:"e","ᵷ":"g",ɥ:"h","ʮ":"h","ʯ":"h","ᴉ":"i",ʞ:"k","ꞁ":"l",ɯ:"m",ɰ:"m","ᴔ":"oe",ɹ:"r",ɻ:"r",ɺ:"r","ⱹ":"r",ʇ:"t",ʌ:"v",ʍ:"w",ʎ:"y","ꜩ":"tz",ú:"u",ŭ:"u",ǔ:"u",û:"u",ṷ:"u",ü:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǖ:"u",ṳ:"u",ụ:"u",ű:"u",ȕ:"u",ù:"u",ủ:"u",ư:"u",ứ:"u",ự:"u",ừ:"u",ử:"u",ữ:"u",ȗ:"u",ū:"u",ṻ:"u",ų:"u","ᶙ":"u",ů:"u",ũ:"u",ṹ:"u",ṵ:"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v",ṿ:"v",ʋ:"v","ᶌ":"v","ⱱ":"v",ṽ:"v","ꝡ":"vy",ẃ:"w",ŵ:"w",ẅ:"w",ẇ:"w",ẉ:"w",ẁ:"w","ⱳ":"w",ẘ:"w",ẍ:"x",ẋ:"x","ᶍ":"x",ý:"y",ŷ:"y",ÿ:"y",ẏ:"y",ỵ:"y",ỳ:"y",ƴ:"y",ỷ:"y","ỿ":"y",ȳ:"y",ẙ:"y","ɏ":"y",ỹ:"y",ї:"yi",ź:"z",ž:"z",ẑ:"z",ʑ:"z","ⱬ":"z",ż:"z",ẓ:"z",ȥ:"z",ẕ:"z","ᵶ":"z","ᶎ":"z",ʐ:"z",ƶ:"z","ɀ":"z",þ:"th",ﬀ:"ff",ﬃ:"ffi",ﬄ:"ffl",ﬁ:"fi",ﬂ:"fl",ĳ:"ij",œ:"oe",ﬆ:"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x",Ё:"YO",Й:"I",Ц:"TS",У:"U",К:"K",Е:"E",Н:"N",Г:"G",Ґ:"G",Ш:"SH",Щ:"SCH",З:"Z",Х:"H",Ъ:"'",ё:"yo",й:"i",ц:"ts",у:"u",к:"k",е:"e",н:"n",г:"g",ґ:"g",ш:"sh",щ:"sch",з:"z",х:"h",ъ:"'",Ф:"F",Ы:"I",В:"V",А:"a",П:"P",Р:"R",О:"O",Л:"L",Д:"D",Ж:"ZH",Э:"E",ф:"f",ы:"i",в:"v",а:"a",п:"p",р:"r",о:"o",л:"l",д:"d",ж:"zh",э:"e",Я:"Ya",Ч:"CH",С:"S",М:"M",И:"I",Т:"T",Ь:"'",Б:"B",Ю:"YU",я:"ya",ч:"ch",с:"s",м:"m",и:"i",т:"t",ь:"'",б:"b",ю:"yu"},n})})(AV);var WY=AV.exports;const XY=kr(WY),JY=/[^0-9a-z]/gi;function lc(e){return gw(e).toLowerCase().normalize("NFKD").replace(JY,"")}function gw(e){return XY(e)}function bV(e){return gw(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function mw(e){return e.id?e.id:bV(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const Rk=(e,t,n)=>n>=e&&n<=t,Ik=e=>e.notes.map(t=>t.lyrics).join(""),Ok=e=>new Set(lc(e)).size,ZY=(e,t)=>{const n=e.reduce((i,s)=>`${i}${Ik(s)}`,""),r=Ik(t);return Ok(n)/Ok(r)<.5},eK=(e,t)=>{const n=t.start,r=Ph(t),i=e.filter(a=>{const o=a.start,l=Ph(a);return Rk(n,r,o)||Rk(n,r,l)||o<=n&&l>=r}),s=ZY(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function SV(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(a=>a.sections.filter(Pt)),r=n[1].map(a=>eK(n[0],a));let i=[...n[0]];r.forEach((a,o)=>{a.shouldReplace&&(i=i.filter(l=>!a.sectionsToRemove.some(c=>c.start===l.start)),i.push(a.section))});const s={...e[0],sections:i.sort((a,o)=>a.start-o.start),changes:[]};return s.changes=pw(s,t),s}const jk={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},tK={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},nK=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function rK(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!nK.includes(t.substring(1).split(":")[0]))}function Wt(e,t,n="string"){const r=i=>{var o;const s=new RegExp(`#${i}\\:(.*)`),a=(o=e.match(s))==null?void 0:o[1];if(a!==void 0)return n==="number"?Number(a.replace(",","."))??0:n==="array"?a.split(", "):a};return t.map(r).filter(bS).at(0)}function iK(e){var r;const t=Wt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const sK=/- -?\d+ -?\d+/;function Vk(e){try{const t=new URL(e);return t.host==="youtu.be"?t.pathname.substring(1):t.host==="www.youtube.com"||t.host==="youtube.com"?t.searchParams.get("v"):null}catch{return null}}function aK(e,t){try{return JSON.parse(e)}catch{return t}}function oK(e){const t=Wt(e,["P1"]),n=Wt(e,["P2"]);return t||n?[t,n]:aK(Wt(e,["TRACKNAMES"]),[])}function lK(e,t,n,r,i){var p,g;const s=oK(e),a={year:Wt(e,["YEAR"]),artistOrigin:Wt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Wt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Wt(e,["EDITION"]),genre:Wt(e,["GENRE"]),videoGap:Wt(e,["VIDEOGAP"],"number"),realBpm:Wt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Wt(e,["PREVIEWSTART"],"number"),previewEnd:Wt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Wt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Wt(e,["CREATOR"])??n,authorUrl:Wt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Wt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};a.videoGap&&(a.videoGap=Math.floor(a.videoGap));const o=Wt(e,["TITLE"])??"",l=Wt(e,["ARTIST"])??"",c=Wt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??Vk(Wt(e,["AUDIOURL"])??"")??Vk(Wt(e,["VIDEOURL"])??"")??iK(e)??"",u={id:Wt(e,["ALLKARAOKE_ID","ID"])??mw({title:o,artist:l}),title:o,artist:l,video:c,language:Wt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Wt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Wt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...a,tracks:[],unsupportedProps:rK(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const S=m.split(" ");if(Number(S[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),sK.test(m)){const[,y,b]=S;d.push({start:Number(y),end:Number(b),type:"pause"}),d.push({start:Number(b),type:"notes",notes:[]}),h=Number(b)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(jk).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const y=d[d.length-1],[b,A,_,x,...E]=S;y.notes.push({type:jk[b]??"normal",start:Number(A),length:Number(_),pitch:Number(x),lyrics:E.join(" ")}),h=Number(S[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(S=>S.type==="pause"||S.notes.length),changes:[]})).map(m=>({...m,changes:pw(m,u)})),u.mergedTrack=SV(u.tracks,u),u}const _V="CURRENT_VISIT_KEY",xV="LAST_VISIT_KEY",cK=3*60*60*1e3,nv=Date.now();var sI;const OA=Number(((sI=Be.local)==null?void 0:sI.getItem(_V))??nv);var aI;const wV=((aI=Be.local)==null?void 0:aI.getItem("posthog-user-id"))===null,uK=wV?nv:1673642382501;var oI;let EV=Number(((oI=Be.local)==null?void 0:oI.getItem(xV))??uK);var lI;(wV||nv-OA>cK)&&((lI=Be.local)==null||lI.setItem(xV,String(OA)),EV=OA);var cI;(cI=Be.local)==null||cI.setItem(_V,String(nv));const dK=e=>lc(`${e.artist}${e.title}`),fK=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:mw(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:a})=>({name:s,start:il(a)})),search:dK(r),local:i});let af=null;async function xo(){if(!af)if("localStorage"in globalThis)try{af=Od(async()=>{const{default:e}=await Promise.resolve().then(()=>jV);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"songs_v2"}))}catch(e){console.error(e),af=Promise.resolve(Be.memory)}else af=Promise.resolve(Be.memory);return af}const Ag="DELETED_SONGS_V2";class hK{constructor(){this.defaultIndex=null,this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{var n;await((n=await xo())==null?void 0:n.setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()})),await this.reloadIndex()},this.isOverridden=async t=>!!await this.getLocal(t),this.isBuiltIn=t=>{var n;return((n=this.defaultIndex)==null?void 0:n.some(r=>r.id===t))??!1},this.get=async t=>{const n=await this.getLocal(t);return n?{...n,local:!0}:await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(lK).then(r=>({...r,local:!1}))},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>{var n;return await((n=await xo())==null?void 0:n.getItem(Ag))??[]},this.generateSongFile=t=>mw(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(o=>o.json()),this.getLocalIndex(),this.getDeletedSongsList()]);this.defaultIndex=t;const i=zs(EV),s=n.filter(o=>{const l=t.find(c=>c.id===o.id);return l?zs(o.lastUpdate??0).isAfter(zs(l.lastUpdate??0)):!0}),a=s.map(o=>o.id);n.forEach(async o=>{a.includes(o.id)||(await xo()).removeItem(o.id)}),this.indexWithDeletedSongs=[...s,...t.filter(o=>!a.includes(this.generateSongFile(o)))].map(o=>({...o,isNew:o.lastUpdate?zs(o.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(o))})),this.indexWithDeletedSongs.sort((o,l)=>`${o.artist} ${o.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(o=>!o.isDeleted)},this.deleteSong=async t=>(await(await xo()).removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await(await xo()).setItem(Ag,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await(await xo()).setItem(Ag,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{var r;const n=await((r=await xo())==null?void 0:r.getItem(decodeURIComponent(t)));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:SV(n.tracks,n),tracks:n.tracks.map(i=>({...i,changes:pw(i,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return fK(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Ag];return(await(await xo()).keys()).filter(n=>!t.includes(n))}}}const Di=new hK,TV="room_id_key",Jf=5,CV=e=>{Be.session.setItem(TV,e)};class pK{constructor(){var t;if(this.gameCode=Be.session.getItem(TV),this.started=!1,this.start=()=>{if(!this.transport){const n=o0.get();this.transport=n==="WebSockets"?new zY:n==="PartyKit"?new mY:new $Y}this.started||(this.started=!0,console.log("connection started",this.getGameCode()),CV(this.gameCode),this.transport.connect(this.getGameCode(),()=>{console.log("connected",this.getGameCode()),this.transport.addListener((n,r)=>{var s,a;const i=n.t;if(i==="register")rt.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")rt.removeRemoteMic(r.peer);else if(i==="subscribe-event")rt.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")rt.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=rt.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([Di.getLocalIndex(),Di.getDeletedSongsList()]).then(([o,l])=>{r.send({t:"songlist",custom:o.map(c=>({artist:c.artist,title:c.title,video:c.video,language:c.language,search:c.search})),deleted:l})});else if(i==="get-microphone-lag-request"){const o=rt.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const o=rt.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else rt.getPermission(r.peer)==="write"&&(i==="keystroke"?ee.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?ee.remoteSongSearch.dispatch(n.search):i==="select-song"?ee.remoteSongSelected.dispatch(n.id):i==="request-mic-select"?ee.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Kf.get()}):i==="remove-player"?(a=this.transport)==null||a.removePlayer(n.id):i==="set-game-input-lag-request"&&(Kf.set(n.value),r.send({t:"get-game-input-lag-response",value:Kf.get()})))}),ee.micServerStarted.dispatch()},()=>{ee.micServerStopped.dispatch(),this.started=!1,setTimeout(this.start,1e3)}))},this.isStarted=()=>this.started,this.getLatency=()=>{var n;return((n=this.transport)==null?void 0:n.getCurrentPing())??0},this.getGameCode=()=>{const n=o0.get();return(n==="WebSockets"?"w":n==="PartyKit"?"k":"p")+this.gameCode},!this.gameCode){this.gameCode="";for(let n=0;n<Jf-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;rt.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Kl=new pK,cc=e=>`${e.deviceId};${e.channel}`,Pk=[{channels:2,channel:1,label:"Drawing Test Input",id:cc({deviceId:"default",channel:1}),deviceId:"default"}],Vl=class Vl{};Vl.inputName="DrawingTest",Vl.getDefault=()=>Pk[0],Vl.getInputs=async()=>Pk,Vl.subscribeToListChange=t=>{},Vl.unsubscribeToListChange=t=>{};let SS=Vl;const Dk=[{channels:2,channel:0,label:"Dummy Input 1",id:cc({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:cc({deviceId:"default",channel:1}),deviceId:"default"}],Pl=class Pl{};Pl.inputName="Dummy",Pl.getDefault=()=>Dk[0],Pl.getInputs=async()=>Dk,Pl.subscribeToListChange=t=>{},Pl.unsubscribeToListChange=t=>{};let v0=Pl;var gK=Math.ceil,mK=Math.max;function yK(e,t,n,r){for(var i=-1,s=mK(gK((t-e)/(n||1)),0),a=Array(s);s--;)a[++i]=e,e+=n;return a}var vK=9007199254740991;function yw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vK}function vw(e){return e!=null&&yw(e.length)&&!aV(e)}var AK=9007199254740991,bK=/^(?:0|[1-9]\d*)$/;function Aw(e,t){var n=typeof e;return t=t??AK,!!t&&(n=="number"||n!="symbol"&&bK.test(e))&&e>-1&&e%1==0&&e<t}function SK(e,t,n){if(!Xs(n))return!1;var r=typeof t;return(r=="number"?vw(n)&&Aw(t,n.length):r=="string"&&t in n)?Qy(n[t],e):!1}var Bk=1/0,_K=17976931348623157e292;function bm(e){if(!e)return e===0?e:0;if(e=yS(e),e===Bk||e===-Bk){var t=e<0?-1:1;return t*_K}return e===e?e:0}function xK(e){return function(t,n,r){return r&&typeof r!="number"&&SK(t,n,r)&&(n=r=void 0),t=bm(t),n===void 0?(n=t,t=0):n=bm(n),r=r===void 0?t<n?1:-1:bm(r),yK(t,n,r)}}var wK=xK();const _S={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},xS={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},wS={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},EK=(...[e,t,n])=>xS.test(e,t,n)||_S.test(e,t,n)||wS.test(e,t,n)?t:void 0,TK=(e,t,n)=>_S.test(e,t,n)?_S.map(e,t):xS.test(e,t,n)?xS.map(e,t):wS.test(e,t,n)?wS.map(e,t):n>1?`${e} (ch ${t+1})`:e,qi=class qi{};qi.inputList=[],qi.inputName="Microphone",qi.getDefault=()=>qi.inputList.find(t=>t.id===cc({deviceId:"default",channel:0}))??qi.inputList[0]??null,qi.getInputs=async()=>{let t=[];try{await Yo.getUserMedia({audio:!0,video:!1}),t=await Yo.enumerateDevices()}catch(r){Ws(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Yo.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return wK(0,i).map(s=>({label:TK(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:cc({deviceId:r.deviceId,channel:s}),preferred:EK(r.label,s,i)}))}));return qi.inputList=n.flat(),qi.inputList},qi.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),qi.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let Za=qi;const Nk=e=>({label:`📱${e.name}`,id:cc({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Dl=class Dl{};Dl.inputName="Remote Microphone",Dl.getDefault=()=>rt.getRemoteMics().map(Nk)[0]??null,Dl.getInputs=async()=>rt.getRemoteMics().map(Nk),Dl.subscribeToListChange=t=>{ee.remoteMicConnected.subscribe(t),ee.remoteMicDisconnected.subscribe(t)},Dl.unsubscribeToListChange=t=>{ee.remoteMicConnected.unsubscribe(t),ee.remoteMicDisconnected.unsubscribe(t)};let oo=Dl;const CK=e=>`${e.deviceId};${e.channel}`;class kK{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,ee.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),ee.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(Za))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===CK(t))??(n?r.getDefault():null)},this.inputList={[Za.inputName]:this.initialiseInputSource(Za,!0),[v0.inputName]:this.initialiseInputSource(v0),[oo.inputName]:this.initialiseInputSource(oo)}}}const lo=new kK,Lk="playerselectedinputs",A0=4,Sy=class Sy{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,a)=>{let o=null;kn.monitoringStarted()&&(o=kn.stopMonitoring());const l={source:i,deviceId:a,channel:s},c=this.input;this.input=l,ee.playerInputChanged.dispatch(this.number,c,l),o&&o.then(kn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,ee.playerNameChanged.dispatch(this.number,s)}}};Sy.fromJSON=t=>new Sy(t.number,t.input,t.name);let fu=Sy;class MK{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Be.session.setItem(Lk,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>lo.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>kn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{ee.readinessConfirmed.dispatch(s.input.deviceId)}))),ee.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};ee.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,ee.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if($e.isPlaying()||this.getPlayer(n))return;const r=new fu(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),ee.playerAdded.dispatch(r.number),ee.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if($e.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(A0).fill(0).find((i,s)=>!this.players.find(a=>a.number===s))),this.storePlayers(),ee.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Be.session.getItem(Lk)??[];t.length?(this.players=t.map(fu.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&lo.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Kl.start()):this.players=[new fu(0,{source:"Dummy",deviceId:"default",channel:0}),new fu(1,{source:"Dummy",deviceId:"default",channel:1})],ee.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const a=rt.getRemoteMicById(i.deviceId);a&&(s.nameOverride=a.name)}else s.nameOverride="";this.storePlayers()}}),ee.playerNameChanged.subscribe(nV(this.storePlayers,1e3)),ee.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const De=new MK;class RK{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=De.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=De.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=De.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=De.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=De.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(De.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(De.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===Za.inputName?UG:t===SS.inputName?C$:t===oo.inputName?GG:M$,ee.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const kn=new RK;function kV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=kV(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Fo(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=kV(e))&&(r&&(r+=" "),r+=t);return r}const Zf=e=>typeof e=="number"&&!isNaN(e),uc=e=>typeof e=="string",di=e=>typeof e=="function",Sm=e=>uc(e)||di(e)?e:null,jA=e=>v.isValidElement(e)||uc(e)||di(e)||Zf(e);function IK(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function rv(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(a){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=a;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=v.useRef(0);return v.useLayoutEffect(()=>{const S=d.current,y=p.split(" "),b=A=>{A.target===d.current&&(S.dispatchEvent(new Event("d")),S.removeEventListener("animationend",b),S.removeEventListener("animationcancel",b),m.current===0&&A.type!=="animationcancel"&&S.classList.remove(...y))};S.classList.add(...y),S.addEventListener("animationend",b),S.addEventListener("animationcancel",b)},[]),v.useEffect(()=>{const S=d.current,y=()=>{S.removeEventListener("animationend",y),i?IK(S,u,s):u()};h||(c?y():(m.current=1,S.className+=` ${g}`,S.addEventListener("animationend",y)))},[h]),ke.createElement(ke.Fragment,null,o)}}function Fk(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Wi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},bg=e=>{let{theme:t,type:n,...r}=e;return ke.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},VA={info:function(e){return ke.createElement(bg,{...e},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ke.createElement(bg,{...e},ke.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ke.createElement(bg,{...e},ke.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ke.createElement(bg,{...e},ke.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ke.createElement("div",{className:"Toastify__spinner"})}};function OK(e){const[,t]=v.useReducer(p=>p+1,0),[n,r]=v.useState([]),i=v.useRef(null),s=v.useRef(new Map).current,a=p=>n.indexOf(p)!==-1,o=v.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=o.props;!m||g&&o.containerId!==g||(o.count-=o.queue.length,o.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=o.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:S,...y}=g;if(!jA(p)||function(F){return!i.current||o.props.enableMultiContainer&&F.containerId!==o.props.containerId||s.has(F.toastId)&&F.updateId==null}(y))return;const{toastId:b,updateId:A,data:_}=y,{props:x}=o,E=()=>c(b),T=A==null;T&&o.count++;const k={...x,style:x.toastStyle,key:o.toastKey++,...Object.fromEntries(Object.entries(y).filter(F=>{let[j,D]=F;return D!=null})),toastId:b,updateId:A,data:_,closeToast:E,isIn:!1,className:Sm(y.className||x.toastClassName),bodyClassName:Sm(y.bodyClassName||x.bodyClassName),progressClassName:Sm(y.progressClassName||x.progressClassName),autoClose:!y.isLoading&&(w=y.autoClose,O=x.autoClose,w===!1||Zf(w)&&w>0?w:O),deleteToast(){const F=Fk(s.get(b),"removed");s.delete(b),Wi.emit(4,F);const j=o.queue.length;if(o.count=b==null?o.count-o.displayedToast:o.count-1,o.count<0&&(o.count=0),j>0){const D=b==null?o.props.limit:1;if(j===1||D===1)o.displayedToast++,u();else{const I=D>j?j:D;o.displayedToast=I;for(let C=0;C<I;C++)u()}}else t()}};var w,O;k.iconOut=function(F){let{theme:j,type:D,isLoading:I,icon:C}=F,P=null;const L={theme:j,type:D};return C===!1||(di(C)?P=C(L):v.isValidElement(C)?P=v.cloneElement(C,L):uc(C)||Zf(C)?P=C:I?P=VA.spinner():($=>$ in VA)(D)&&(P=VA[D](L))),P}(k),di(y.onOpen)&&(k.onOpen=y.onOpen),di(y.onClose)&&(k.onClose=y.onClose),k.closeButton=x.closeButton,y.closeButton===!1||jA(y.closeButton)?k.closeButton=y.closeButton:y.closeButton===!0&&(k.closeButton=!jA(x.closeButton)||x.closeButton);let B=p;v.isValidElement(p)&&!uc(p.type)?B=v.cloneElement(p,{closeToast:E,toastProps:k,data:_}):di(p)&&(B=p({closeToast:E,toastProps:k,data:_})),x.limit&&x.limit>0&&o.count>x.limit&&T?o.queue.push({toastContent:B,toastProps:k,staleId:S}):Zf(m)?setTimeout(()=>{h(B,k,S)},m):h(B,k,S)}function h(p,g,m){const{toastId:S}=g;m&&s.delete(m);const y={content:p,props:g};s.set(S,y),r(b=>[...b,S].filter(A=>A!==m)),Wi.emit(4,Fk(y,y.props.updateId==null?"added":"updated"))}return v.useEffect(()=>(o.containerId=e.containerId,Wi.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,o),()=>{s.clear(),Wi.emit(3,o)}),[]),v.useEffect(()=>{o.props=e,o.isToastActive=a,o.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(S=>{const{position:y}=S.props;g.has(y)||g.set(y,[]),g.get(y).push(S)}),Array.from(g,S=>p(S[0],S[1]))},containerRef:i,isToastActive:a}}function $k(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function zk(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function jK(e){const[t,n]=v.useState(!1),[r,i]=v.useState(!1),s=v.useRef(null),a=v.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,o=v.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(_){if(e.draggable){_.nativeEvent.type==="touchstart"&&_.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),document.addEventListener("touchmove",y),document.addEventListener("touchend",b);const x=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=x.getBoundingClientRect(),x.style.transition="",a.x=$k(_.nativeEvent),a.y=zk(_.nativeEvent),e.draggableDirection==="x"?(a.start=a.x,a.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(_){if(a.boundingRect){const{top:x,bottom:E,left:T,right:k}=a.boundingRect;_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&a.x>=T&&a.x<=k&&a.y>=x&&a.y<=E?S():m()}}function m(){n(!0)}function S(){n(!1)}function y(_){const x=s.current;a.canDrag&&x&&(a.didMove=!0,t&&S(),a.x=$k(_),a.y=zk(_),a.delta=e.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),x.style.transform=`translate${e.draggableDirection}(${a.delta}px)`,x.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function b(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",b);const _=s.current;if(a.canDrag&&a.didMove&&_){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void e.closeToast();_.style.transition="transform 0.2s, opacity 0.2s",_.style.transform=`translate${e.draggableDirection}(0)`,_.style.opacity="1"}}v.useEffect(()=>{o.current=e}),v.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),di(e.onOpen)&&e.onOpen(v.isValidElement(e.children)&&e.children.props),()=>{const _=o.current;di(_.onClose)&&_.onClose(v.isValidElement(_.children)&&_.children.props)}),[]),v.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||S(),window.addEventListener("focus",m),window.addEventListener("blur",S)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",S))}),[e.pauseOnFocusLoss]);const A={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(A.onMouseEnter=S,A.onMouseLeave=m),h&&(A.onClick=_=>{d&&d(_),a.canCloseOnClick&&u()}),{playToast:m,pauseToast:S,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:A}}function MV(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return ke.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},ke.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ke.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function VK(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:o,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...o,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=Fo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),S=di(a)?a({rtl:u,type:i,defaultClassName:m}):Fo(m,a);return ke.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:S,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const PK=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=jK(e),{closeButton:s,children:a,autoClose:o,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:S,bodyStyle:y,progressClassName:b,progressStyle:A,updateId:_,role:x,progress:E,rtl:T,toastId:k,deleteToast:w,isIn:O,isLoading:B,iconOut:F,closeOnClick:j,theme:D}=e,I=Fo("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":j}),C=di(g)?g({rtl:T,position:p,type:c,defaultClassName:I}):Fo(I,g),P=!!E||!o,L={closeToast:d,type:c,theme:D};let $=null;return s===!1||($=di(s)?s(L):v.isValidElement(s)?v.cloneElement(s,L):MV(L)),ke.createElement(h,{isIn:O,done:w,position:p,preventExitTransition:n,nodeRef:r},ke.createElement("div",{id:k,onClick:l,className:C,...i,style:m,ref:r},ke.createElement("div",{...O&&{role:x},className:di(S)?S({type:c}):Fo("Toastify__toast-body",S),style:y},F!=null&&ke.createElement("div",{className:Fo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},F),ke.createElement("div",null,a)),$,ke.createElement(VK,{..._&&!P?{key:`pb-${_}`}:{},rtl:T,theme:D,delay:o,isRunning:t,isIn:O,closeToast:d,hide:u,type:c,style:A,className:b,controlledProgress:P,progress:E||0})))},iv=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},DK=rv(iv("bounce",!0));rv(iv("slide",!0));rv(iv("zoom"));rv(iv("flip"));const ES=v.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=OK(e),{className:s,style:a,rtl:o,containerId:l}=e;function c(u){const d=Fo("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":o});return di(s)?s({position:u,rtl:o,defaultClassName:d}):Fo(d,Sm(s))}return v.useEffect(()=>{t&&(t.current=r.current)},[]),ke.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...a}:{...a,pointerEvents:"none"};return ke.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:S}=p;return ke.createElement(PK,{...S,isIn:i(S.toastId),style:{...S.style,"--nth":g+1,"--len":d.length},key:`toast-${S.key}`},m)}))}))});ES.displayName="ToastContainer",ES.defaultProps={position:"top-right",transition:DK,autoClose:5e3,closeButton:MV,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let PA,kl=new Map,Cf=[],BK=1;function RV(){return""+BK++}function NK(e){return e&&(uc(e.toastId)||Zf(e.toastId))?e.toastId:RV()}function eh(e,t){return kl.size>0?Wi.emit(0,e,t):Cf.push({content:e,options:t}),t.toastId}function b0(e,t){return{...t,type:t&&t.type||e,toastId:NK(t)}}function Sg(e){return(t,n)=>eh(t,b0(e,n))}function Qt(e,t){return eh(e,b0("default",t))}Qt.loading=(e,t)=>eh(e,b0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Qt.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=uc(i)?Qt.loading(i,n):Qt.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Qt.dismiss(r);const p={type:u,...o,...n,data:h},g=uc(d)?{render:d}:d;return r?Qt.update(r,{...p,...g}):Qt(g.render,{...p,...g}),h},c=di(e)?e():e;return c.then(u=>l("success",a,u)).catch(u=>l("error",s,u)),c},Qt.success=Sg("success"),Qt.info=Sg("info"),Qt.error=Sg("error"),Qt.warning=Sg("warning"),Qt.warn=Qt.warning,Qt.dark=(e,t)=>eh(e,b0("default",{theme:"dark",...t})),Qt.dismiss=e=>{kl.size>0?Wi.emit(1,e):Cf=Cf.filter(t=>e!=null&&t.options.toastId!==e)},Qt.clearWaitingQueue=function(e){return e===void 0&&(e={}),Wi.emit(5,e)},Qt.isActive=e=>{let t=!1;return kl.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Qt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const a=kl.get(s||PA);return a&&a.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:RV()};s.toastId!==e&&(s.staleId=e);const a=s.render||i;delete s.render,eh(a,s)}},0)},Qt.done=e=>{Qt.update(e,{progress:1})},Qt.onChange=e=>(Wi.on(4,e),()=>{Wi.off(4,e)}),Qt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Qt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Wi.on(2,e=>{PA=e.containerId||e,kl.set(PA,e),Cf.forEach(t=>{Wi.emit(0,t.content,t.options)}),Cf=[]}).on(3,e=>{kl.delete(e.containerId||e),kl.size===0&&Wi.off(0).off(1).off(5)});ee.playerRemoved.subscribe(e=>{if(e.input.source===oo.inputName){const t=rt.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});ee.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===oo.inputName){const i=(r=De.getPlayers().find(a=>a.input.source==="Remote Microphone"&&a.input.deviceId===t.deviceId))==null?void 0:r.number,s=rt.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=rt.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});ee.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=De.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=rt.getRemoteMicById(e);i==null||i.setPlayerNumber(t),kn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});ee.playerChangeRequested.subscribe((e,t)=>{var r;const n=De.getPlayers().find(i=>i.input.deviceId===e);if(n&&De.removePlayer(n.number),t!==null){const i=De.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=De.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});ee.remoteMicConnected.subscribe(({name:e,id:t,silent:n})=>{n||Qt.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});ee.remoteMicDisconnected.subscribe(({name:e,id:t},n)=>{n||Qt.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}),{toastId:`connection-status-${t}`,updateId:`connection-status-${t}`})});const bw=()=>{const e=rt.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=De.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});rt.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};ee.inputListChanged.subscribe(bw);ee.playerInputChanged.subscribe(bw);ee.remoteMicSubscribed.subscribe(bw);const IV=e=>({artist:t,title:n,id:r,lastUpdate:i},s,a=[],o)=>{var u;const l=a.length>1&&a.every(d=>d.score===a[0].score),c={};if(De.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=$e.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>m0(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var S,y;return[p[0]-(((S=m[g-1])==null?void 0:S[0])??0),p[1]-(((y=m[g-1])==null?void 0:y[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=EO(d);console.log("compressed",h)}catch(d){Ws(d)}Ln.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:o??null,singId:s.id,sameScores:l,mobilePhoneMode:!!Mr.get(),...c,...a.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};ee.songStarted.subscribe(IV("songStarted"));ee.songEnded.subscribe(IV("songEnded"));function _g(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var OV={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var d=typeof _g=="function"&&_g;if(!u&&d)return d(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return a(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof _g=="function"&&_g,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(n,r,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var l=0,c=new a(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),o=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var S=s.document.createElement("script");S.onreadystatechange=function(){g(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},s.document.documentElement.appendChild(S)}:o=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var S,y,b=p.length;b;){for(y=p,p=[],S=-1;++S<b;)y[S]();b=p.length}h=!1}r.exports=m;function m(S){p.push(S)===1&&!h&&o()}}).call(this,typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==a&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,E){if(typeof x!="function"&&this.state===c||typeof E!="function"&&this.state===l)return this;var T=new this.constructor(a);if(this.state!==u){var k=this.state===c?x:E;p(T,k,this.outcome)}else this.queue.push(new h(T,x,E));return T};function h(x,E,T){this.promise=x,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){o.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){o.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)};function p(x,E,T){s(function(){var k;try{k=E(T)}catch(w){return o.reject(x,w)}k===x?o.reject(x,new TypeError("Cannot resolve promise with itself")):o.resolve(x,k)})}o.resolve=function(x,E){var T=S(g,E);if(T.status==="error")return o.reject(x,T.value);var k=T.value;if(k)m(x,k);else{x.state=c,x.outcome=E;for(var w=-1,O=x.queue.length;++w<O;)x.queue[w].callFulfilled(E)}return x},o.reject=function(x,E){x.state=l,x.outcome=E;for(var T=-1,k=x.queue.length;++T<k;)x.queue[T].callRejected(E);return x};function g(x){var E=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof E=="function")return function(){E.apply(x,arguments)}}function m(x,E){var T=!1;function k(F){T||(T=!0,o.reject(x,F))}function w(F){T||(T=!0,o.resolve(x,F))}function O(){E(w,k)}var B=S(O);B.status==="error"&&k(B.value)}function S(x,E){var T={};try{T.value=x(E),T.status="success"}catch(k){T.status="error",T.value=k}return T}d.resolve=y;function y(x){return x instanceof this?x:o.resolve(new this(a),x)}d.reject=b;function b(x){var E=new this(a);return o.reject(E,x)}d.all=A;function A(x){var E=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,k=!1;if(!T)return this.resolve([]);for(var w=new Array(T),O=0,B=-1,F=new this(a);++B<T;)j(x[B],B);return F;function j(D,I){E.resolve(D).then(C,function(P){k||(k=!0,o.reject(F,P))});function C(P){w[I]=P,++O===T&&!k&&(k=!0,o.resolve(F,w))}}}d.race=_;function _(x){var E=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,k=!1;if(!T)return this.resolve([]);for(var w=-1,O=new this(a);++w<T;)B(x[w]);return O;function B(F){E.resolve(F).then(function(j){k||(k=!0,o.resolve(O,j))},function(j){k||(k=!0,o.reject(O,j))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M};function a(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=o();function c(){try{if(!l||!l.open)return!1;var M=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!M||z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(M,z){M=M||[],z=z||{};try{return new Blob(M,z)}catch(G){if(G.name!=="TypeError")throw G;for(var V=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Y=new V,W=0;W<M.length;W+=1)Y.append(M[W]);return Y.getBlob(z.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(M,z){z&&M.then(function(V){z(null,V)},function(V){z(V)})}function p(M,z,V){typeof z=="function"&&M.then(z),typeof V=="function"&&M.catch(V)}function g(M){return typeof M!="string"&&(console.warn(M+" used as a key, but it is not a string."),M=String(M)),M}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var S="local-forage-detect-blob-support",y=void 0,b={},A=Object.prototype.toString,_="readonly",x="readwrite";function E(M){for(var z=M.length,V=new ArrayBuffer(z),Y=new Uint8Array(V),W=0;W<z;W++)Y[W]=M.charCodeAt(W);return V}function T(M){return new d(function(z){var V=M.transaction(S,x),Y=u([""]);V.objectStore(S).put(Y,"key"),V.onabort=function(W){W.preventDefault(),W.stopPropagation(),z(!1)},V.oncomplete=function(){var W=navigator.userAgent.match(/Chrome\/(\d+)/),G=navigator.userAgent.match(/Edge\//);z(G||!W||parseInt(W[1],10)>=43)}}).catch(function(){return!1})}function k(M){return typeof y=="boolean"?d.resolve(y):T(M).then(function(z){return y=z,y})}function w(M){var z=b[M.name],V={};V.promise=new d(function(Y,W){V.resolve=Y,V.reject=W}),z.deferredOperations.push(V),z.dbReady?z.dbReady=z.dbReady.then(function(){return V.promise}):z.dbReady=V.promise}function O(M){var z=b[M.name],V=z.deferredOperations.pop();if(V)return V.resolve(),V.promise}function B(M,z){var V=b[M.name],Y=V.deferredOperations.pop();if(Y)return Y.reject(z),Y.promise}function F(M,z){return new d(function(V,Y){if(b[M.name]=b[M.name]||H(),M.db)if(z)w(M),M.db.close();else return V(M.db);var W=[M.name];z&&W.push(M.version);var G=l.open.apply(l,W);z&&(G.onupgradeneeded=function(ie){var oe=G.result;try{oe.createObjectStore(M.storeName),ie.oldVersion<=1&&oe.createObjectStore(S)}catch(de){if(de.name==="ConstraintError")console.warn('The database "'+M.name+'" has been upgraded from version '+ie.oldVersion+" to version "+ie.newVersion+', but the storage "'+M.storeName+'" already exists.');else throw de}}),G.onerror=function(ie){ie.preventDefault(),Y(G.error)},G.onsuccess=function(){var ie=G.result;ie.onversionchange=function(oe){oe.target.close()},V(ie),O(M)}})}function j(M){return F(M,!1)}function D(M){return F(M,!0)}function I(M,z){if(!M.db)return!0;var V=!M.db.objectStoreNames.contains(M.storeName),Y=M.version<M.db.version,W=M.version>M.db.version;if(Y&&(M.version!==z&&console.warn('The database "'+M.name+`" can't be downgraded from version `+M.db.version+" to version "+M.version+"."),M.version=M.db.version),W||V){if(V){var G=M.db.version+1;G>M.version&&(M.version=G)}return!0}return!1}function C(M){return new d(function(z,V){var Y=new FileReader;Y.onerror=V,Y.onloadend=function(W){var G=btoa(W.target.result||"");z({__local_forage_encoded_blob:!0,data:G,type:M.type})},Y.readAsBinaryString(M)})}function P(M){var z=E(atob(M.data));return u([z],{type:M.type})}function L(M){return M&&M.__local_forage_encoded_blob}function $(M){var z=this,V=z._initReady().then(function(){var Y=b[z._dbInfo.name];if(Y&&Y.dbReady)return Y.dbReady});return p(V,M,M),V}function U(M){w(M);for(var z=b[M.name],V=z.forages,Y=0;Y<V.length;Y++){var W=V[Y];W._dbInfo.db&&(W._dbInfo.db.close(),W._dbInfo.db=null)}return M.db=null,j(M).then(function(G){return M.db=G,I(M)?D(M):G}).then(function(G){M.db=z.db=G;for(var ie=0;ie<V.length;ie++)V[ie]._dbInfo.db=G}).catch(function(G){throw B(M,G),G})}function q(M,z,V,Y){Y===void 0&&(Y=1);try{var W=M.db.transaction(M.storeName,z);V(null,W)}catch(G){if(Y>0&&(!M.db||G.name==="InvalidStateError"||G.name==="NotFoundError"))return d.resolve().then(function(){if(!M.db||G.name==="NotFoundError"&&!M.db.objectStoreNames.contains(M.storeName)&&M.version<=M.db.version)return M.db&&(M.version=M.db.version+1),D(M)}).then(function(){return U(M).then(function(){q(M,z,V,Y-1)})}).catch(V);V(G)}}function H(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(M){var z=this,V={db:null};if(M)for(var Y in M)V[Y]=M[Y];var W=b[V.name];W||(W=H(),b[V.name]=W),W.forages.push(z),z._initReady||(z._initReady=z.ready,z.ready=$);var G=[];function ie(){return d.resolve()}for(var oe=0;oe<W.forages.length;oe++){var de=W.forages[oe];de!==z&&G.push(de._initReady().catch(ie))}var fe=W.forages.slice(0);return d.all(G).then(function(){return V.db=W.db,j(V)}).then(function(ge){return V.db=ge,I(V,z._defaultConfig.version)?D(V):ge}).then(function(ge){V.db=W.db=ge,z._dbInfo=V;for(var Re=0;Re<fe.length;Re++){var it=fe[Re];it!==z&&(it._dbInfo.db=V.db,it._dbInfo.version=V.version)}})}function N(M,z){var V=this;M=g(M);var Y=new d(function(W,G){V.ready().then(function(){q(V._dbInfo,_,function(ie,oe){if(ie)return G(ie);try{var de=oe.objectStore(V._dbInfo.storeName),fe=de.get(M);fe.onsuccess=function(){var ge=fe.result;ge===void 0&&(ge=null),L(ge)&&(ge=P(ge)),W(ge)},fe.onerror=function(){G(fe.error)}}catch(ge){G(ge)}})}).catch(G)});return h(Y,z),Y}function he(M,z){var V=this,Y=new d(function(W,G){V.ready().then(function(){q(V._dbInfo,_,function(ie,oe){if(ie)return G(ie);try{var de=oe.objectStore(V._dbInfo.storeName),fe=de.openCursor(),ge=1;fe.onsuccess=function(){var Re=fe.result;if(Re){var it=Re.value;L(it)&&(it=P(it));var kt=M(it,Re.key,ge++);kt!==void 0?W(kt):Re.continue()}else W()},fe.onerror=function(){G(fe.error)}}catch(Re){G(Re)}})}).catch(G)});return h(Y,z),Y}function te(M,z,V){var Y=this;M=g(M);var W=new d(function(G,ie){var oe;Y.ready().then(function(){return oe=Y._dbInfo,A.call(z)==="[object Blob]"?k(oe.db).then(function(de){return de?z:C(z)}):z}).then(function(de){q(Y._dbInfo,x,function(fe,ge){if(fe)return ie(fe);try{var Re=ge.objectStore(Y._dbInfo.storeName);de===null&&(de=void 0);var it=Re.put(de,M);ge.oncomplete=function(){de===void 0&&(de=null),G(de)},ge.onabort=ge.onerror=function(){var kt=it.error?it.error:it.transaction.error;ie(kt)}}catch(kt){ie(kt)}})}).catch(ie)});return h(W,V),W}function ue(M,z){var V=this;M=g(M);var Y=new d(function(W,G){V.ready().then(function(){q(V._dbInfo,x,function(ie,oe){if(ie)return G(ie);try{var de=oe.objectStore(V._dbInfo.storeName),fe=de.delete(M);oe.oncomplete=function(){W()},oe.onerror=function(){G(fe.error)},oe.onabort=function(){var ge=fe.error?fe.error:fe.transaction.error;G(ge)}}catch(ge){G(ge)}})}).catch(G)});return h(Y,z),Y}function Oe(M){var z=this,V=new d(function(Y,W){z.ready().then(function(){q(z._dbInfo,x,function(G,ie){if(G)return W(G);try{var oe=ie.objectStore(z._dbInfo.storeName),de=oe.clear();ie.oncomplete=function(){Y()},ie.onabort=ie.onerror=function(){var fe=de.error?de.error:de.transaction.error;W(fe)}}catch(fe){W(fe)}})}).catch(W)});return h(V,M),V}function _e(M){var z=this,V=new d(function(Y,W){z.ready().then(function(){q(z._dbInfo,_,function(G,ie){if(G)return W(G);try{var oe=ie.objectStore(z._dbInfo.storeName),de=oe.count();de.onsuccess=function(){Y(de.result)},de.onerror=function(){W(de.error)}}catch(fe){W(fe)}})}).catch(W)});return h(V,M),V}function le(M,z){var V=this,Y=new d(function(W,G){if(M<0){W(null);return}V.ready().then(function(){q(V._dbInfo,_,function(ie,oe){if(ie)return G(ie);try{var de=oe.objectStore(V._dbInfo.storeName),fe=!1,ge=de.openKeyCursor();ge.onsuccess=function(){var Re=ge.result;if(!Re){W(null);return}M===0||fe?W(Re.key):(fe=!0,Re.advance(M))},ge.onerror=function(){G(ge.error)}}catch(Re){G(Re)}})}).catch(G)});return h(Y,z),Y}function Ae(M){var z=this,V=new d(function(Y,W){z.ready().then(function(){q(z._dbInfo,_,function(G,ie){if(G)return W(G);try{var oe=ie.objectStore(z._dbInfo.storeName),de=oe.openKeyCursor(),fe=[];de.onsuccess=function(){var ge=de.result;if(!ge){Y(fe);return}fe.push(ge.key),ge.continue()},de.onerror=function(){W(de.error)}}catch(ge){W(ge)}})}).catch(W)});return h(V,M),V}function Pe(M,z){z=m.apply(this,arguments);var V=this.config();M=typeof M!="function"&&M||{},M.name||(M.name=M.name||V.name,M.storeName=M.storeName||V.storeName);var Y=this,W;if(!M.name)W=d.reject("Invalid arguments");else{var G=M.name===V.name&&Y._dbInfo.db,ie=G?d.resolve(Y._dbInfo.db):j(M).then(function(oe){var de=b[M.name],fe=de.forages;de.db=oe;for(var ge=0;ge<fe.length;ge++)fe[ge]._dbInfo.db=oe;return oe});M.storeName?W=ie.then(function(oe){if(oe.objectStoreNames.contains(M.storeName)){var de=oe.version+1;w(M);var fe=b[M.name],ge=fe.forages;oe.close();for(var Re=0;Re<ge.length;Re++){var it=ge[Re];it._dbInfo.db=null,it._dbInfo.version=de}var kt=new d(function(jt,zn){var On=l.open(M.name,de);On.onerror=function(Ui){var Wd=On.result;Wd.close(),zn(Ui)},On.onupgradeneeded=function(){var Ui=On.result;Ui.deleteObjectStore(M.storeName)},On.onsuccess=function(){var Ui=On.result;Ui.close(),jt(Ui)}});return kt.then(function(jt){fe.db=jt;for(var zn=0;zn<ge.length;zn++){var On=ge[zn];On._dbInfo.db=jt,O(On._dbInfo)}}).catch(function(jt){throw(B(M,jt)||d.resolve()).catch(function(){}),jt})}}):W=ie.then(function(oe){w(M);var de=b[M.name],fe=de.forages;oe.close();for(var ge=0;ge<fe.length;ge++){var Re=fe[ge];Re._dbInfo.db=null}var it=new d(function(kt,jt){var zn=l.deleteDatabase(M.name);zn.onerror=function(){var On=zn.result;On&&On.close(),jt(zn.error)},zn.onblocked=function(){console.warn('dropInstance blocked for database "'+M.name+'" until all open connections are closed')},zn.onsuccess=function(){var On=zn.result;On&&On.close(),kt(On)}});return it.then(function(kt){de.db=kt;for(var jt=0;jt<fe.length;jt++){var zn=fe[jt];O(zn._dbInfo)}}).catch(function(kt){throw(B(M,kt)||d.resolve()).catch(function(){}),kt})})}return h(W,z),W}var Ce={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:he,getItem:N,setItem:te,removeItem:ue,clear:Oe,length:_e,key:le,keys:Ae,dropInstance:Pe};function Se(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ne="~~local_forage_type~",He=/^~~local_forage_type~([^~]+)~/,Me="__lfsc__:",Xe=Me.length,Mt="arbf",Zt="blob",Rt="si08",we="ui08",ct="uic8",Lt="si16",qe="si32",je="ur16",It="ui32",ut="fl32",st="fl64",Mn=Xe+Mt.length,Ct=Object.prototype.toString;function dt(M){var z=M.length*.75,V=M.length,Y,W=0,G,ie,oe,de;M[M.length-1]==="="&&(z--,M[M.length-2]==="="&&z--);var fe=new ArrayBuffer(z),ge=new Uint8Array(fe);for(Y=0;Y<V;Y+=4)G=xe.indexOf(M[Y]),ie=xe.indexOf(M[Y+1]),oe=xe.indexOf(M[Y+2]),de=xe.indexOf(M[Y+3]),ge[W++]=G<<2|ie>>4,ge[W++]=(ie&15)<<4|oe>>2,ge[W++]=(oe&3)<<6|de&63;return fe}function hn(M){var z=new Uint8Array(M),V="",Y;for(Y=0;Y<z.length;Y+=3)V+=xe[z[Y]>>2],V+=xe[(z[Y]&3)<<4|z[Y+1]>>4],V+=xe[(z[Y+1]&15)<<2|z[Y+2]>>6],V+=xe[z[Y+2]&63];return z.length%3===2?V=V.substring(0,V.length-1)+"=":z.length%3===1&&(V=V.substring(0,V.length-2)+"=="),V}function Sn(M,z){var V="";if(M&&(V=Ct.call(M)),M&&(V==="[object ArrayBuffer]"||M.buffer&&Ct.call(M.buffer)==="[object ArrayBuffer]")){var Y,W=Me;M instanceof ArrayBuffer?(Y=M,W+=Mt):(Y=M.buffer,V==="[object Int8Array]"?W+=Rt:V==="[object Uint8Array]"?W+=we:V==="[object Uint8ClampedArray]"?W+=ct:V==="[object Int16Array]"?W+=Lt:V==="[object Uint16Array]"?W+=je:V==="[object Int32Array]"?W+=qe:V==="[object Uint32Array]"?W+=It:V==="[object Float32Array]"?W+=ut:V==="[object Float64Array]"?W+=st:z(new Error("Failed to get type for BinaryArray"))),z(W+hn(Y))}else if(V==="[object Blob]"){var G=new FileReader;G.onload=function(){var ie=Ne+M.type+"~"+hn(this.result);z(Me+Zt+ie)},G.readAsArrayBuffer(M)}else try{z(JSON.stringify(M))}catch(ie){console.error("Couldn't convert value into a JSON string: ",M),z(null,ie)}}function an(M){if(M.substring(0,Xe)!==Me)return JSON.parse(M);var z=M.substring(Mn),V=M.substring(Xe,Mn),Y;if(V===Zt&&He.test(z)){var W=z.match(He);Y=W[1],z=z.substring(W[0].length)}var G=dt(z);switch(V){case Mt:return G;case Zt:return u([G],{type:Y});case Rt:return new Int8Array(G);case we:return new Uint8Array(G);case ct:return new Uint8ClampedArray(G);case Lt:return new Int16Array(G);case je:return new Uint16Array(G);case qe:return new Int32Array(G);case It:return new Uint32Array(G);case ut:return new Float32Array(G);case st:return new Float64Array(G);default:throw new Error("Unkown type: "+V)}}var vt={serialize:Sn,deserialize:an,stringToBuffer:dt,bufferToString:hn};function Wn(M,z,V,Y){M.executeSql("CREATE TABLE IF NOT EXISTS "+z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],V,Y)}function Rr(M){var z=this,V={db:null};if(M)for(var Y in M)V[Y]=typeof M[Y]!="string"?M[Y].toString():M[Y];var W=new d(function(G,ie){try{V.db=openDatabase(V.name,String(V.version),V.description,V.size)}catch(oe){return ie(oe)}V.db.transaction(function(oe){Wn(oe,V,function(){z._dbInfo=V,G()},function(de,fe){ie(fe)})},ie)});return V.serializer=vt,W}function Rn(M,z,V,Y,W,G){M.executeSql(V,Y,W,function(ie,oe){oe.code===oe.SYNTAX_ERR?ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[z.storeName],function(de,fe){fe.rows.length?G(de,oe):Wn(de,z,function(){de.executeSql(V,Y,W,G)},G)},G):G(ie,oe)},G)}function $i(M,z){var V=this;M=g(M);var Y=new d(function(W,G){V.ready().then(function(){var ie=V._dbInfo;ie.db.transaction(function(oe){Rn(oe,ie,"SELECT * FROM "+ie.storeName+" WHERE key = ? LIMIT 1",[M],function(de,fe){var ge=fe.rows.length?fe.rows.item(0).value:null;ge&&(ge=ie.serializer.deserialize(ge)),W(ge)},function(de,fe){G(fe)})})}).catch(G)});return h(Y,z),Y}function Si(M,z){var V=this,Y=new d(function(W,G){V.ready().then(function(){var ie=V._dbInfo;ie.db.transaction(function(oe){Rn(oe,ie,"SELECT * FROM "+ie.storeName,[],function(de,fe){for(var ge=fe.rows,Re=ge.length,it=0;it<Re;it++){var kt=ge.item(it),jt=kt.value;if(jt&&(jt=ie.serializer.deserialize(jt)),jt=M(jt,kt.key,it+1),jt!==void 0){W(jt);return}}W()},function(de,fe){G(fe)})})}).catch(G)});return h(Y,z),Y}function Ot(M,z,V,Y){var W=this;M=g(M);var G=new d(function(ie,oe){W.ready().then(function(){z===void 0&&(z=null);var de=z,fe=W._dbInfo;fe.serializer.serialize(z,function(ge,Re){Re?oe(Re):fe.db.transaction(function(it){Rn(it,fe,"INSERT OR REPLACE INTO "+fe.storeName+" (key, value) VALUES (?, ?)",[M,ge],function(){ie(de)},function(kt,jt){oe(jt)})},function(it){if(it.code===it.QUOTA_ERR){if(Y>0){ie(Ot.apply(W,[M,de,V,Y-1]));return}oe(it)}})})}).catch(oe)});return h(G,V),G}function In(M,z,V){return Ot.apply(this,[M,z,V,1])}function Fe(M,z){var V=this;M=g(M);var Y=new d(function(W,G){V.ready().then(function(){var ie=V._dbInfo;ie.db.transaction(function(oe){Rn(oe,ie,"DELETE FROM "+ie.storeName+" WHERE key = ?",[M],function(){W()},function(de,fe){G(fe)})})}).catch(G)});return h(Y,z),Y}function nt(M){var z=this,V=new d(function(Y,W){z.ready().then(function(){var G=z._dbInfo;G.db.transaction(function(ie){Rn(ie,G,"DELETE FROM "+G.storeName,[],function(){Y()},function(oe,de){W(de)})})}).catch(W)});return h(V,M),V}function rr(M){var z=this,V=new d(function(Y,W){z.ready().then(function(){var G=z._dbInfo;G.db.transaction(function(ie){Rn(ie,G,"SELECT COUNT(key) as c FROM "+G.storeName,[],function(oe,de){var fe=de.rows.item(0).c;Y(fe)},function(oe,de){W(de)})})}).catch(W)});return h(V,M),V}function _i(M,z){var V=this,Y=new d(function(W,G){V.ready().then(function(){var ie=V._dbInfo;ie.db.transaction(function(oe){Rn(oe,ie,"SELECT key FROM "+ie.storeName+" WHERE id = ? LIMIT 1",[M+1],function(de,fe){var ge=fe.rows.length?fe.rows.item(0).key:null;W(ge)},function(de,fe){G(fe)})})}).catch(G)});return h(Y,z),Y}function ve(M){var z=this,V=new d(function(Y,W){z.ready().then(function(){var G=z._dbInfo;G.db.transaction(function(ie){Rn(ie,G,"SELECT key FROM "+G.storeName,[],function(oe,de){for(var fe=[],ge=0;ge<de.rows.length;ge++)fe.push(de.rows.item(ge).key);Y(fe)},function(oe,de){W(de)})})}).catch(W)});return h(V,M),V}function ze(M){return new d(function(z,V){M.transaction(function(Y){Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(W,G){for(var ie=[],oe=0;oe<G.rows.length;oe++)ie.push(G.rows.item(oe).name);z({db:M,storeNames:ie})},function(W,G){V(G)})},function(Y){V(Y)})})}function Ke(M,z){z=m.apply(this,arguments);var V=this.config();M=typeof M!="function"&&M||{},M.name||(M.name=M.name||V.name,M.storeName=M.storeName||V.storeName);var Y=this,W;return M.name?W=new d(function(G){var ie;M.name===V.name?ie=Y._dbInfo.db:ie=openDatabase(M.name,"","",0),M.storeName?G({db:ie,storeNames:[M.storeName]}):G(ze(ie))}).then(function(G){return new d(function(ie,oe){G.db.transaction(function(de){function fe(kt){return new d(function(jt,zn){de.executeSql("DROP TABLE IF EXISTS "+kt,[],function(){jt()},function(On,Ui){zn(Ui)})})}for(var ge=[],Re=0,it=G.storeNames.length;Re<it;Re++)ge.push(fe(G.storeNames[Re]));d.all(ge).then(function(){ie()}).catch(function(kt){oe(kt)})},function(de){oe(de)})})}):W=d.reject("Invalid arguments"),h(W,z),W}var $n={_driver:"webSQLStorage",_initStorage:Rr,_support:Se(),iterate:Si,getItem:$i,setItem:In,removeItem:Fe,clear:nt,length:rr,key:_i,keys:ve,dropInstance:Ke};function ir(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function xi(M,z){var V=M.name+"/";return M.storeName!==z.storeName&&(V+=M.storeName+"/"),V}function zi(){var M="_localforage_support_test";try{return localStorage.setItem(M,!0),localStorage.removeItem(M),!1}catch{return!0}}function gr(){return!zi()||localStorage.length>0}function ii(M){var z=this,V={};if(M)for(var Y in M)V[Y]=M[Y];return V.keyPrefix=xi(M,z._defaultConfig),gr()?(z._dbInfo=V,V.serializer=vt,d.resolve()):d.reject()}function Kt(M){var z=this,V=z.ready().then(function(){for(var Y=z._dbInfo.keyPrefix,W=localStorage.length-1;W>=0;W--){var G=localStorage.key(W);G.indexOf(Y)===0&&localStorage.removeItem(G)}});return h(V,M),V}function yl(M,z){var V=this;M=g(M);var Y=V.ready().then(function(){var W=V._dbInfo,G=localStorage.getItem(W.keyPrefix+M);return G&&(G=W.serializer.deserialize(G)),G});return h(Y,z),Y}function rA(M,z){var V=this,Y=V.ready().then(function(){for(var W=V._dbInfo,G=W.keyPrefix,ie=G.length,oe=localStorage.length,de=1,fe=0;fe<oe;fe++){var ge=localStorage.key(fe);if(ge.indexOf(G)===0){var Re=localStorage.getItem(ge);if(Re&&(Re=W.serializer.deserialize(Re)),Re=M(Re,ge.substring(ie),de++),Re!==void 0)return Re}}});return h(Y,z),Y}function Yp(M,z){var V=this,Y=V.ready().then(function(){var W=V._dbInfo,G;try{G=localStorage.key(M)}catch{G=null}return G&&(G=G.substring(W.keyPrefix.length)),G});return h(Y,z),Y}function Kp(M){var z=this,V=z.ready().then(function(){for(var Y=z._dbInfo,W=localStorage.length,G=[],ie=0;ie<W;ie++){var oe=localStorage.key(ie);oe.indexOf(Y.keyPrefix)===0&&G.push(oe.substring(Y.keyPrefix.length))}return G});return h(V,M),V}function Qp(M){var z=this,V=z.keys().then(function(Y){return Y.length});return h(V,M),V}function Wp(M,z){var V=this;M=g(M);var Y=V.ready().then(function(){var W=V._dbInfo;localStorage.removeItem(W.keyPrefix+M)});return h(Y,z),Y}function Ft(M,z,V){var Y=this;M=g(M);var W=Y.ready().then(function(){z===void 0&&(z=null);var G=z;return new d(function(ie,oe){var de=Y._dbInfo;de.serializer.serialize(z,function(fe,ge){if(ge)oe(ge);else try{localStorage.setItem(de.keyPrefix+M,fe),ie(G)}catch(Re){(Re.name==="QuotaExceededError"||Re.name==="NS_ERROR_DOM_QUOTA_REACHED")&&oe(Re),oe(Re)}})})});return h(W,V),W}function Cs(M,z){if(z=m.apply(this,arguments),M=typeof M!="function"&&M||{},!M.name){var V=this.config();M.name=M.name||V.name,M.storeName=M.storeName||V.storeName}var Y=this,W;return M.name?W=new d(function(G){M.storeName?G(xi(M,Y._defaultConfig)):G(M.name+"/")}).then(function(G){for(var ie=localStorage.length-1;ie>=0;ie--){var oe=localStorage.key(ie);oe.indexOf(G)===0&&localStorage.removeItem(oe)}}):W=d.reject("Invalid arguments"),h(W,z),W}var Kd={_driver:"localStorageWrapper",_initStorage:ii,_support:ir(),iterate:rA,getItem:yl,setItem:Ft,removeItem:Wp,clear:Kt,length:Qp,key:Yp,keys:Kp,dropInstance:Cs},vl=function(z,V){return z===V||typeof z=="number"&&typeof V=="number"&&isNaN(z)&&isNaN(V)},iA=function(z,V){for(var Y=z.length,W=0;W<Y;){if(vl(z[W],V))return!0;W++}return!1},Bc=Array.isArray||function(M){return Object.prototype.toString.call(M)==="[object Array]"},Qd={},$2={},Nc={INDEXEDDB:Ce,WEBSQL:$n,LOCALSTORAGE:Kd},h6=[Nc.INDEXEDDB._driver,Nc.WEBSQL._driver,Nc.LOCALSTORAGE._driver],Xp=["dropInstance"],sA=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Xp),p6={description:"",driver:h6.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function g6(M,z){M[z]=function(){var V=arguments;return M.ready().then(function(){return M[z].apply(M,V)})}}function aA(){for(var M=1;M<arguments.length;M++){var z=arguments[M];if(z)for(var V in z)z.hasOwnProperty(V)&&(Bc(z[V])?arguments[0][V]=z[V].slice():arguments[0][V]=z[V])}return arguments[0]}var m6=function(){function M(z){a(this,M);for(var V in Nc)if(Nc.hasOwnProperty(V)){var Y=Nc[V],W=Y._driver;this[V]=W,Qd[W]||this.defineDriver(Y)}this._defaultConfig=aA({},p6),this._config=aA({},this._defaultConfig,z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return M.prototype.config=function(V){if((typeof V>"u"?"undefined":s(V))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Y in V){if(Y==="storeName"&&(V[Y]=V[Y].replace(/\W/g,"_")),Y==="version"&&typeof V[Y]!="number")return new Error("Database version must be a number.");this._config[Y]=V[Y]}return"driver"in V&&V.driver?this.setDriver(this._config.driver):!0}else return typeof V=="string"?this._config[V]:this._config},M.prototype.defineDriver=function(V,Y,W){var G=new d(function(ie,oe){try{var de=V._driver,fe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!V._driver){oe(fe);return}for(var ge=sA.concat("_initStorage"),Re=0,it=ge.length;Re<it;Re++){var kt=ge[Re],jt=!iA(Xp,kt);if((jt||V[kt])&&typeof V[kt]!="function"){oe(fe);return}}var zn=function(){for(var Wd=function(A6){return function(){var b6=new Error("Method "+A6+" is not implemented by the current driver"),z2=d.reject(b6);return h(z2,arguments[arguments.length-1]),z2}},oA=0,v6=Xp.length;oA<v6;oA++){var lA=Xp[oA];V[lA]||(V[lA]=Wd(lA))}};zn();var On=function(Wd){Qd[de]&&console.info("Redefining LocalForage driver: "+de),Qd[de]=V,$2[de]=Wd,ie()};"_support"in V?V._support&&typeof V._support=="function"?V._support().then(On,oe):On(!!V._support):On(!0)}catch(Ui){oe(Ui)}});return p(G,Y,W),G},M.prototype.driver=function(){return this._driver||null},M.prototype.getDriver=function(V,Y,W){var G=Qd[V]?d.resolve(Qd[V]):d.reject(new Error("Driver not found."));return p(G,Y,W),G},M.prototype.getSerializer=function(V){var Y=d.resolve(vt);return p(Y,V),Y},M.prototype.ready=function(V){var Y=this,W=Y._driverSet.then(function(){return Y._ready===null&&(Y._ready=Y._initDriver()),Y._ready});return p(W,V,V),W},M.prototype.setDriver=function(V,Y,W){var G=this;Bc(V)||(V=[V]);var ie=this._getSupportedDrivers(V);function oe(){G._config.driver=G.driver()}function de(Re){return G._extend(Re),oe(),G._ready=G._initStorage(G._config),G._ready}function fe(Re){return function(){var it=0;function kt(){for(;it<Re.length;){var jt=Re[it];return it++,G._dbInfo=null,G._ready=null,G.getDriver(jt).then(de).catch(kt)}oe();var zn=new Error("No available storage method found.");return G._driverSet=d.reject(zn),G._driverSet}return kt()}}var ge=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=ge.then(function(){var Re=ie[0];return G._dbInfo=null,G._ready=null,G.getDriver(Re).then(function(it){G._driver=it._driver,oe(),G._wrapLibraryMethodsWithReady(),G._initDriver=fe(ie)})}).catch(function(){oe();var Re=new Error("No available storage method found.");return G._driverSet=d.reject(Re),G._driverSet}),p(this._driverSet,Y,W),this._driverSet},M.prototype.supports=function(V){return!!$2[V]},M.prototype._extend=function(V){aA(this,V)},M.prototype._getSupportedDrivers=function(V){for(var Y=[],W=0,G=V.length;W<G;W++){var ie=V[W];this.supports(ie)&&Y.push(ie)}return Y},M.prototype._wrapLibraryMethodsWithReady=function(){for(var V=0,Y=sA.length;V<Y;V++)g6(this,sA[V])},M.prototype.createInstance=function(V){return new M(V)},M}(),y6=new m6;r.exports=y6},{3:3}]},{},[4])(4)})})(OV);var LK=OV.exports;const th=kr(LK),jV=Object.freeze(Object.defineProperty({__proto__:null,default:th},Symbol.toStringTag,{value:"Module"}));let of=null;async function S0(){if(!of)if("localStorage"in globalThis)try{of=Od(async()=>{const{default:e}=await Promise.resolve().then(()=>jV);return{default:e}},void 0).then(({default:e})=>e.createInstance({name:"localforage"}))}catch(e){console.error(e),of=Promise.resolve(Be.memory)}else of=Promise.resolve(Be.memory);return of}const nd=e=>Di.generateSongFile(e),VV=async e=>{var n;const t=nd(e);return await((n=await S0())==null?void 0:n.getItem(t))||{plays:0,scores:[]}},PV=async(e,t)=>{var n;await((n=await S0())==null?void 0:n.setItem(nd(e),t))},FK=async()=>{var n;const e=await((n=await S0())==null?void 0:n.keys())??[],t={};return await Promise.all(e.map(async r=>{var i;t[r]=await((i=await S0())==null?void 0:i.getItem(r))})),t};ee.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(a=>a.score===0))return;let i=await(th==null?void 0:th.getItem(nd(e)));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await PV(e,i),ee.songStatStored.dispatch(nd(e),i)});const rd="session-player-names",$K="previous-player-names";function zK(e){return e!=null}ee.songStarted.subscribe((e,t)=>{let n=JSON.parse(Be.session.getItem(rd))||[];const r=t.players.map(({number:s})=>De.getPlayer(s)).filter(zK).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Be.session.setItem(rd,JSON.stringify(n)),Be.session.setItem($K,JSON.stringify(r))});ee.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Be.session.getItem(rd))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Be.session.setItem(rd,JSON.stringify(r))});function UK(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return UK(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var HK="Expected a function";function ju(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(HK);return Xs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nV(e,t,{leading:r,maxWait:t,trailing:i})}class GK extends ea{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Yo.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const s=new Jj;await s.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const a=new Float32Array(i.fftSize);i.getFloatTimeDomainData(a);const o=await s.getFrequency(a),l=this.calculateVolume(a);this.frequencies=[o,o],this.volumes=[l,l],this.onUpdate(o,l)},this.context.sampleRate/i.fftSize),ee.micMonitoringStarted.dispatch()}catch(r){Ws(r),console.error(r)}}catch(r){Ws(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}ee.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const js=new GK;class qK extends ea{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(`${lV}/party/${n}`),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var a;(a=this.connection)==null||a.send(fs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=a=>{const o=Sd(a.data);o.t==="forward"?this.onUpdate(o.payload):o.t==="connected"&&r()},this.connection.onclose=a=>{var l;let o="unknown";try{o=(l=JSON.parse(a.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",a)}this.clearAllListeners(),i(o,a)},this.connection.onerror=a=>{this.clearAllListeners(),s("error",a)}}sendEvent(t){var n;(n=this.connection)==null||n.send(fs({t:"forward",recipients:[this.roomId],payload:t}))}}class YK extends ea{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new tv(t,{...cV,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",a=>{var o,l;a.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(o=this.peer)==null?void 0:o.destroy)==null||l.call(o),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(a.type,a),i(a.type,a))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class KK extends ea{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(mV),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var a;(a=this.connection)==null||a.send(fs({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=a=>{const o=Sd(a.data);o.t==="forward"?this.onUpdate(o.payload):o.t==="connected"&&r()},this.connection.onclose=a=>{var l;let o="unknown";try{o=(l=JSON.parse(a.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",a)}this.clearAllListeners(),i(o,a)},this.connection.onerror=a=>{this.clearAllListeners(),s("error",a)}}sendEvent(t){var n;(n=this.connection)==null||n.send(fs({t:"forward",recipients:[this.roomId],payload:t}))}}const Uk=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let xg;const QK=new Uint8Array(16);function WK(){if(!xg&&(xg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xg(QK)}const yr=[];for(let e=0;e<256;++e)yr.push((e+256).toString(16).slice(1));function XK(e,t=0){return yr[e[t+0]]+yr[e[t+1]]+yr[e[t+2]]+yr[e[t+3]]+"-"+yr[e[t+4]]+yr[e[t+5]]+"-"+yr[e[t+6]]+yr[e[t+7]]+"-"+yr[e[t+8]]+yr[e[t+9]]+"-"+yr[e[t+10]]+yr[e[t+11]]+yr[e[t+12]]+yr[e[t+13]]+yr[e[t+14]]+yr[e[t+15]]}const JK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hk={randomUUID:JK};function _0(e,t,n){if(Hk.randomUUID&&!t&&!e)return Hk.randomUUID();e=e||{};const r=e.random||(e.rng||WK)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XK(r)}const TS="MIC_CLIENT_ID";class ZK{constructor(){this.clientId=Be.getItem(TS),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=ju(t=>{const n=this.frequencies.map(r=>Uk(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,Uk(t,4)])},50),this.onFrequencyUpdate=ju((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Be.setItem(TS,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new KK:i.startsWith("k")?new qK:new YK),this.clientId===null&&this.setClientId(_0()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||ee.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,a)=>{var o;if(s==="unavailable-id"){this.setClientId(_0()),this.connect(i,n,r);return}global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?ee.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?ee.karaokeConnectionStatusChange.dispatch("disconnected"):(ee.karaokeConnectionStatusChange.dispatch("error",s),Ln.capture("remote_mic_connection_error",{reason:s,transport:(o=this.roomId)==null?void 0:o.charAt(0)})),ee.remoteMicPlayerSet.dispatch(null),ee.remoteKeyboardLayout.dispatch(void 0),js.removeListener(this.onFrequencyUpdate),js.stopMonitoring(),s!=="player-removed"&&!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Xr(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Xr(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=ju(t=>Ln.capture("remote_mic_ping",{ping:t}),6e4),this.onPong=()=>{this.latency=Xr()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,2e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,ee.karaokeConnectionStatusChange.dispatch("connected"),Ln.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:DO.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var o,l;const a=s.t;a==="start-monitor"?(js.removeListener(this.onFrequencyUpdate),js.addListener(this.onFrequencyUpdate),js.startMonitoring(void 0,!0)):a==="stop-monitor"?(js.removeListener(this.onFrequencyUpdate),js.stopMonitoring()):a==="set-player-number"?ee.remoteMicPlayerSet.dispatch(s.playerNumber):a==="keyboard-layout"?ee.remoteKeyboardLayout.dispatch(s.help):a==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Be.session.setItem("reload-mic-request","1"),(o=document.getElementById("phone-ui-container"))==null||o.remove(),(l=global.location)==null||l.reload()):a==="request-readiness"?ee.remoteReadinessRequested.dispatch():a==="pong"?this.onPong():a==="ping"?this.sendEvent("pong"):a==="set-permissions"?ee.remoteMicPermissionsSet.dispatch(s.level):a==="remote-mics-list"?ee.remoteMicListUpdated.dispatch(s.list):a==="style-change"&&ee.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(ee.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.selectSong=t=>{this.sendEvent("select-song",{id:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.removePlayer=t=>this.sendEvent("remove-player",{id:t}),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const a=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(o),s(`${t} timed out waiting for ${r}`)},1e4),o=c=>{var u;c.t===r&&(clearTimeout(a),(u=this.transport)==null||u.removeListener(o),i(c))};(l=this.transport)==null||l.addListener(o),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const An=new ZK,eQ="/prs/373/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",tQ="/prs/373/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",nQ="/prs/373/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",rQ="/prs/373/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",iQ="/prs/373/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",sQ="/prs/373/assets/boo-and-laugh-7060-BidOOj5I.mp3",aQ="/prs/373/assets/croworraven1-6749-Ce48aK2E.mp3",oQ="/prs/373/assets/Halloween%20Cinematic%20by%20Infraction%20_No%20Copyright%20Music_%20%20Halloween%202024%20_%20ezmp3.cc%20_-C2nU6gX4.mp3",lQ="/prs/373/assets/halloween-impact-05-93808-BCpJmIL8.mp3",cQ="/prs/373/assets/scary-music-box-for-spooky-scenes-165983-BgDUokgm.mp3",uQ="/prs/373/assets/menu_back-CXKu2j7w.mp3",dQ="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",fQ="/prs/373/assets/menu_navigate-C6GUIZQM.mp3";class Ri{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}class sv{constructor(t,n){this.defaultSound=t,this.themeOverrides=n,this.getProperSound=()=>{var i;const r=pp.get();return((i=this.themeOverrides)==null?void 0:i[r])??this.defaultSound},this.play=async(r=!0)=>this.getProperSound().play(r),this.pause=()=>this.getProperSound().pause(),this.stop=()=>this.getProperSound().stop(),this.playing=()=>this.getProperSound().playing()}}const av=new Ri({src:fQ}),Sw=new Ri({src:dQ}),_w=new Ri({src:uQ}),xw=new sv(new Ri({src:rQ,preload:!0,volume:.5}),{halloween:new Ri({src:aQ,preload:!0,volume:.7})}),_m=new sv(new Ri({src:iQ,volume:.3,loop:!0}),{christmas:new Ri({src:eQ,volume:.25,loop:!0}),halloween:new Ri({src:oQ,volume:.3,loop:!0})}),DV=new sv(new Ri({src:tQ,preload:!0}),{halloween:new Ri({src:sQ,preload:!0,volume:.4})}),xm=new sv(new Ri({src:nQ,volume:.8}),{halloween:new Ri({src:cQ,volume:.2})}),CS=new Ri({src:lQ,preload:!0,volume:.5}),hQ=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:_m,menuBack:_w,menuEnter:Sw,menuNavigate:av,selectHalloweenSong:CS,waitFinished:DV,waitForReadinessMusic:xm,woosh:xw},Symbol.toStringTag,{value:"Module"})),pQ={RemoteMicClient:An,RemoteMicServer:Kl,GameState:$e,GameEvents:ee,RemoteMicManager:rt,SongDao:Di,InputManager:kn,InputSourceManager:lo,CameraManager:Fs,UserMediaService:Yo,PlayersManager:De,SoundManager:hQ,importSongs:async()=>{await(await Od(()=>import("./importSongsFromPostHog-LXEIj0o1.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=pQ};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");var gQ=!1;function mQ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function yQ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var vQ=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!gQ:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yQ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=mQ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Or="-ms-",x0="-moz-",At="-webkit-",BV="comm",ww="rule",Ew="decl",AQ="@import",NV="@keyframes",bQ="@layer",SQ=Math.abs,ov=String.fromCharCode,_Q=Object.assign;function xQ(e,t){return Sr(e,0)^45?(((t<<2^Sr(e,0))<<2^Sr(e,1))<<2^Sr(e,2))<<2^Sr(e,3):0}function LV(e){return e.trim()}function wQ(e,t){return(e=t.exec(e))?e[0]:e}function bt(e,t,n){return e.replace(t,n)}function kS(e,t){return e.indexOf(t)}function Sr(e,t){return e.charCodeAt(t)|0}function Dh(e,t,n){return e.slice(t,n)}function oa(e){return e.length}function Tw(e){return e.length}function wg(e,t){return t.push(e),e}function EQ(e,t){return e.map(t).join("")}var lv=1,id=1,FV=0,vi=0,Yn=0,Vd="";function cv(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:lv,column:id,length:a,return:""}}function lf(e,t){return _Q(cv("",null,null,"",null,null,0),e,{length:-e.length},t)}function TQ(){return Yn}function CQ(){return Yn=vi>0?Sr(Vd,--vi):0,id--,Yn===10&&(id=1,lv--),Yn}function Ii(){return Yn=vi<FV?Sr(Vd,vi++):0,id++,Yn===10&&(id=1,lv++),Yn}function ya(){return Sr(Vd,vi)}function wm(){return vi}function _p(e,t){return Dh(Vd,e,t)}function Bh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $V(e){return lv=id=1,FV=oa(Vd=e),vi=0,[]}function zV(e){return Vd="",e}function Em(e){return LV(_p(vi-1,MS(e===91?e+2:e===40?e+1:e)))}function kQ(e){for(;(Yn=ya())&&Yn<33;)Ii();return Bh(e)>2||Bh(Yn)>3?"":" "}function MQ(e,t){for(;--t&&Ii()&&!(Yn<48||Yn>102||Yn>57&&Yn<65||Yn>70&&Yn<97););return _p(e,wm()+(t<6&&ya()==32&&Ii()==32))}function MS(e){for(;Ii();)switch(Yn){case e:return vi;case 34:case 39:e!==34&&e!==39&&MS(Yn);break;case 40:e===41&&MS(e);break;case 92:Ii();break}return vi}function RQ(e,t){for(;Ii()&&e+Yn!==57;)if(e+Yn===84&&ya()===47)break;return"/*"+_p(t,vi-1)+"*"+ov(e===47?e:Ii())}function IQ(e){for(;!Bh(ya());)Ii();return _p(e,vi)}function OQ(e){return zV(Tm("",null,null,null,[""],e=$V(e),0,[0],e))}function Tm(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,d=a,h=0,p=0,g=0,m=1,S=1,y=1,b=0,A="",_=i,x=s,E=r,T=A;S;)switch(g=b,b=Ii()){case 40:if(g!=108&&Sr(T,d-1)==58){kS(T+=bt(Em(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Em(b);break;case 9:case 10:case 13:case 32:T+=kQ(g);break;case 92:T+=MQ(wm()-1,7);continue;case 47:switch(ya()){case 42:case 47:wg(jQ(RQ(Ii(),wm()),t,n),l);break;default:T+="/"}break;case 123*m:o[c++]=oa(T)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:S=0;case 59+u:y==-1&&(T=bt(T,/\f/g,"")),p>0&&oa(T)-d&&wg(p>32?qk(T+";",r,n,d-1):qk(bt(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(wg(E=Gk(T,t,n,c,u,i,o,A,_=[],x=[],d),s),b===123)if(u===0)Tm(T,t,E,E,_,s,d,o,x);else switch(h===99&&Sr(T,3)===110?100:h){case 100:case 108:case 109:case 115:Tm(e,E,E,r&&wg(Gk(e,E,E,0,0,i,o,A,i,_=[],d),x),i,x,d,o,r?_:x);break;default:Tm(T,E,E,E,[""],x,0,o,x)}}c=u=p=0,m=y=1,A=T="",d=a;break;case 58:d=1+oa(T),p=g;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&CQ()==125)continue}switch(T+=ov(b),b*m){case 38:y=u>0?1:(T+="\f",-1);break;case 44:o[c++]=(oa(T)-1)*y,y=1;break;case 64:ya()===45&&(T+=Em(Ii())),h=ya(),u=d=oa(A=T+=IQ(wm())),b++;break;case 45:g===45&&oa(T)==2&&(m=0)}}return s}function Gk(e,t,n,r,i,s,a,o,l,c,u){for(var d=i-1,h=i===0?s:[""],p=Tw(h),g=0,m=0,S=0;g<r;++g)for(var y=0,b=Dh(e,d+1,d=SQ(m=a[g])),A=e;y<p;++y)(A=LV(m>0?h[y]+" "+b:bt(b,/&\f/g,h[y])))&&(l[S++]=A);return cv(e,t,n,i===0?ww:o,l,c,u)}function jQ(e,t,n){return cv(e,t,n,BV,ov(TQ()),Dh(e,2,-2),0)}function qk(e,t,n,r){return cv(e,t,n,Ew,Dh(e,0,r),Dh(e,r+1,-1),r)}function Vu(e,t){for(var n="",r=Tw(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function VQ(e,t,n,r){switch(e.type){case bQ:if(e.children.length)break;case AQ:case Ew:return e.return=e.return||e.value;case BV:return"";case NV:return e.return=e.value+"{"+Vu(e.children,r)+"}";case ww:e.value=e.props.join(",")}return oa(n=Vu(e.children,r))?e.return=e.value+"{"+n+"}":""}function PQ(e){var t=Tw(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}function DQ(e){return function(t){t.root||(t=t.return)&&e(t)}}var BQ=function(t,n,r){for(var i=0,s=0;i=s,s=ya(),i===38&&s===12&&(n[r]=1),!Bh(s);)Ii();return _p(t,vi)},NQ=function(t,n){var r=-1,i=44;do switch(Bh(i)){case 0:i===38&&ya()===12&&(n[r]=1),t[r]+=BQ(vi-1,n,r);break;case 2:t[r]+=Em(i);break;case 4:if(i===44){t[++r]=ya()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=ov(i)}while(i=Ii());return t},LQ=function(t,n){return zV(NQ($V(t),n))},Yk=new WeakMap,FQ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Yk.get(r))&&!i){Yk.set(t,!0);for(var s=[],a=LQ(n,s),o=r.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)t.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},$Q=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function UV(e,t){switch(xQ(e,t)){case 5103:return At+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return At+e+x0+e+Or+e+e;case 6828:case 4268:return At+e+Or+e+e;case 6165:return At+e+Or+"flex-"+e+e;case 5187:return At+e+bt(e,/(\w+).+(:[^]+)/,At+"box-$1$2"+Or+"flex-$1$2")+e;case 5443:return At+e+Or+"flex-item-"+bt(e,/flex-|-self/,"")+e;case 4675:return At+e+Or+"flex-line-pack"+bt(e,/align-content|flex-|-self/,"")+e;case 5548:return At+e+Or+bt(e,"shrink","negative")+e;case 5292:return At+e+Or+bt(e,"basis","preferred-size")+e;case 6060:return At+"box-"+bt(e,"-grow","")+At+e+Or+bt(e,"grow","positive")+e;case 4554:return At+bt(e,/([^-])(transform)/g,"$1"+At+"$2")+e;case 6187:return bt(bt(bt(e,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),e,"")+e;case 5495:case 3959:return bt(e,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return bt(bt(e,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+Or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+e+e;case 4095:case 3583:case 4068:case 2532:return bt(e,/(.+)-inline(.+)/,At+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oa(e)-1-t>6)switch(Sr(e,t+1)){case 109:if(Sr(e,t+4)!==45)break;case 102:return bt(e,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+x0+(Sr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~kS(e,"stretch")?UV(bt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Sr(e,t+1)!==115)break;case 6444:switch(Sr(e,oa(e)-3-(~kS(e,"!important")&&10))){case 107:return bt(e,":",":"+At)+e;case 101:return bt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(Sr(e,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+Or+"$2box$3")+e}break;case 5936:switch(Sr(e,t+11)){case 114:return At+e+Or+bt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return At+e+Or+bt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return At+e+Or+bt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return At+e+Or+e+e}return e}var zQ=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Ew:t.return=UV(t.value,t.length);break;case NV:return Vu([lf(t,{value:bt(t.value,"@","@"+At)})],i);case ww:if(t.length)return EQ(t.props,function(s){switch(wQ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vu([lf(t,{props:[bt(s,/:(read-\w+)/,":"+x0+"$1")]})],i);case"::placeholder":return Vu([lf(t,{props:[bt(s,/:(plac\w+)/,":"+At+"input-$1")]}),lf(t,{props:[bt(s,/:(plac\w+)/,":"+x0+"$1")]}),lf(t,{props:[bt(s,/:(plac\w+)/,Or+"input-$1")]})],i)}return""})}},UQ=[zQ],HV=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var S=m.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||UQ,s={},a,o=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var S=m.getAttribute("data-emotion").split(" "),y=1;y<S.length;y++)s[S[y]]=!0;o.push(m)});var l,c=[FQ,$Q];{var u,d=[VQ,DQ(function(m){u.insert(m)})],h=PQ(c.concat(i,d)),p=function(S){return Vu(OQ(S),h)};l=function(S,y,b,A){u=b,p(S?S+"{"+y.styles+"}":y.styles),A&&(g.inserted[y.name]=!0)}}var g={key:n,sheet:new vQ({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(o),g};function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}var HQ=!0;function GQ(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var GV=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||HQ===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},qV=function(t,n,r){GV(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function qQ(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var YQ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function YV(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var KQ=/[A-Z]|^ms/g,QQ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,KV=function(t){return t.charCodeAt(1)===45},Kk=function(t){return t!=null&&typeof t!="boolean"},DA=YV(function(e){return KV(e)?e:e.replace(KQ,"-$&").toLowerCase()}),Qk=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(QQ,function(r,i,s){return la={name:i,styles:s,next:la},i})}return YQ[t]!==1&&!KV(t)&&typeof n=="number"&&n!==0?n+"px":n};function Nh(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return la={name:n.name,styles:n.styles,next:la},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)la={name:r.name,styles:r.styles,next:la},r=r.next;var i=n.styles+";";return i}return WQ(e,t,n)}case"function":{if(e!==void 0){var s=la,a=n(e);return la=s,Nh(e,t,a)}break}}if(t==null)return n;var o=t[n];return o!==void 0?o:n}function WQ(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Nh(e,t,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=s+"{"+t[a]+"}":Kk(a)&&(r+=DA(s)+":"+Qk(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var o=0;o<a.length;o++)Kk(a[o])&&(r+=DA(s)+":"+Qk(s,a[o])+";");else{var l=Nh(e,t,a);switch(s){case"animation":case"animationName":{r+=DA(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Wk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,la,Cw=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";la=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,s+=Nh(r,n,a)):s+=a[0];for(var o=1;o<t.length;o++)s+=Nh(r,n,t[o]),i&&(s+=a[o]);Wk.lastIndex=0;for(var l="",c;(c=Wk.exec(s))!==null;)l+="-"+c[1];var u=qQ(s)+l;return{name:u,styles:s,next:la}},XQ=function(t){return t()},QV=a0.useInsertionEffect?a0.useInsertionEffect:!1,JQ=QV||XQ,Xk=QV||v.useLayoutEffect,WV=v.createContext(typeof HTMLElement<"u"?HV({key:"css"}):null),ZQ=WV.Provider,XV=function(t){return v.forwardRef(function(n,r){var i=v.useContext(WV);return t(n,i,r)})},uv=v.createContext({}),eW=XV(function(e,t){var n=e.styles,r=Cw([n],void 0,v.useContext(uv)),i=v.useRef();return Xk(function(){var s=t.key+"-global",a=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[t]),Xk(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(r.next!==void 0&&qV(t,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function ws(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cw(t)}var Tc=function(){var t=ws.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function kw(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function tW(){this.__data__=new mo,this.size=0}function nW(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function rW(e){return this.__data__.get(e)}function iW(e){return this.__data__.has(e)}var sW=200;function aW(e,t){var n=this.__data__;if(n instanceof mo){var r=n.__data__;if(!jh||r.length<sW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yo(r)}return n.set(e,t),this.size=n.size,this}function va(e){var t=this.__data__=new mo(e);this.size=t.size}va.prototype.clear=tW;va.prototype.delete=nW;va.prototype.get=rW;va.prototype.has=iW;va.prototype.set=aW;function oW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var E0=function(){try{var e=Ec(Object,"defineProperty");return e({},"",{}),e}catch{}}();function JV(e,t,n){t=="__proto__"&&E0?E0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var lW=Object.prototype,cW=lW.hasOwnProperty;function ZV(e,t,n){var r=e[t];(!(cW.call(e,t)&&Qy(r,n))||n===void 0&&!(t in e))&&JV(e,t,n)}function xp(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=e[o]),i?JV(n,o,l):ZV(n,o,l)}return n}function uW(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var dW="[object Arguments]";function Jk(e){return ao(e)&&xc(e)==dW}var e4=Object.prototype,fW=e4.hasOwnProperty,hW=e4.propertyIsEnumerable,Mw=Jk(function(){return arguments}())?Jk:function(e){return ao(e)&&fW.call(e,"callee")&&!hW.call(e,"callee")},vs=Array.isArray;function pW(){return!1}var t4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zk=t4&&typeof module=="object"&&module&&!module.nodeType&&module,gW=Zk&&Zk.exports===t4,eM=gW?ta.Buffer:void 0,mW=eM?eM.isBuffer:void 0,T0=mW||pW,yW="[object Arguments]",vW="[object Array]",AW="[object Boolean]",bW="[object Date]",SW="[object Error]",_W="[object Function]",xW="[object Map]",wW="[object Number]",EW="[object Object]",TW="[object RegExp]",CW="[object Set]",kW="[object String]",MW="[object WeakMap]",RW="[object ArrayBuffer]",IW="[object DataView]",OW="[object Float32Array]",jW="[object Float64Array]",VW="[object Int8Array]",PW="[object Int16Array]",DW="[object Int32Array]",BW="[object Uint8Array]",NW="[object Uint8ClampedArray]",LW="[object Uint16Array]",FW="[object Uint32Array]",en={};en[OW]=en[jW]=en[VW]=en[PW]=en[DW]=en[BW]=en[NW]=en[LW]=en[FW]=!0;en[yW]=en[vW]=en[RW]=en[AW]=en[IW]=en[bW]=en[SW]=en[_W]=en[xW]=en[wW]=en[EW]=en[TW]=en[CW]=en[kW]=en[MW]=!1;function $W(e){return ao(e)&&yw(e.length)&&!!en[xc(e)]}function Rw(e){return function(t){return e(t)}}var n4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nh=n4&&typeof module=="object"&&module&&!module.nodeType&&module,zW=nh&&nh.exports===n4,BA=zW&&eV.process,sd=function(){try{var e=nh&&nh.require&&nh.require("util").types;return e||BA&&BA.binding&&BA.binding("util")}catch{}}(),tM=sd&&sd.isTypedArray,r4=tM?Rw(tM):$W,UW=Object.prototype,HW=UW.hasOwnProperty;function i4(e,t){var n=vs(e),r=!n&&Mw(e),i=!n&&!r&&T0(e),s=!n&&!r&&!i&&r4(e),a=n||r||i||s,o=a?uW(e.length,String):[],l=o.length;for(var c in e)(t||HW.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Aw(c,l)))&&o.push(c);return o}var GW=Object.prototype;function Iw(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||GW;return e===n}function s4(e,t){return function(n){return e(t(n))}}var qW=s4(Object.keys,Object),YW=Object.prototype,KW=YW.hasOwnProperty;function QW(e){if(!Iw(e))return qW(e);var t=[];for(var n in Object(e))KW.call(e,n)&&n!="constructor"&&t.push(n);return t}function wp(e){return vw(e)?i4(e):QW(e)}function WW(e,t){return e&&xp(t,wp(t),e)}function XW(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var JW=Object.prototype,ZW=JW.hasOwnProperty;function eX(e){if(!Xs(e))return XW(e);var t=Iw(e),n=[];for(var r in e)r=="constructor"&&(t||!ZW.call(e,r))||n.push(r);return n}function Ow(e){return vw(e)?i4(e,!0):eX(e)}function tX(e,t){return e&&xp(t,Ow(t),e)}var a4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nM=a4&&typeof module=="object"&&module&&!module.nodeType&&module,nX=nM&&nM.exports===a4,rM=nX?ta.Buffer:void 0,iM=rM?rM.allocUnsafe:void 0;function rX(e,t){if(t)return e.slice();var n=e.length,r=iM?iM(n):new e.constructor(n);return e.copy(r),r}function o4(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function iX(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}function l4(){return[]}var sX=Object.prototype,aX=sX.propertyIsEnumerable,sM=Object.getOwnPropertySymbols,jw=sM?function(e){return e==null?[]:(e=Object(e),iX(sM(e),function(t){return aX.call(e,t)}))}:l4;function oX(e,t){return xp(e,jw(e),t)}function Vw(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Pw=s4(Object.getPrototypeOf,Object),lX=Object.getOwnPropertySymbols,c4=lX?function(e){for(var t=[];e;)Vw(t,jw(e)),e=Pw(e);return t}:l4;function cX(e,t){return xp(e,c4(e),t)}function u4(e,t,n){var r=t(e);return vs(e)?r:Vw(r,n(e))}function RS(e){return u4(e,wp,jw)}function d4(e){return u4(e,Ow,c4)}var IS=Ec(ta,"DataView"),OS=Ec(ta,"Promise"),Pu=Ec(ta,"Set"),jS=Ec(ta,"WeakMap"),aM="[object Map]",uX="[object Object]",oM="[object Promise]",lM="[object Set]",cM="[object WeakMap]",uM="[object DataView]",dX=wc(IS),fX=wc(jh),hX=wc(OS),pX=wc(Pu),gX=wc(jS),Ps=xc;(IS&&Ps(new IS(new ArrayBuffer(1)))!=uM||jh&&Ps(new jh)!=aM||OS&&Ps(OS.resolve())!=oM||Pu&&Ps(new Pu)!=lM||jS&&Ps(new jS)!=cM)&&(Ps=function(e){var t=xc(e),n=t==uX?e.constructor:void 0,r=n?wc(n):"";if(r)switch(r){case dX:return uM;case fX:return aM;case hX:return oM;case pX:return lM;case gX:return cM}return t});var mX=Object.prototype,yX=mX.hasOwnProperty;function vX(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&yX.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var C0=ta.Uint8Array;function Dw(e){var t=new e.constructor(e.byteLength);return new C0(t).set(new C0(e)),t}function AX(e,t){var n=t?Dw(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var bX=/\w*$/;function SX(e){var t=new e.constructor(e.source,bX.exec(e));return t.lastIndex=e.lastIndex,t}var dM=ys?ys.prototype:void 0,fM=dM?dM.valueOf:void 0;function _X(e){return fM?Object(fM.call(e)):{}}function xX(e,t){var n=t?Dw(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var wX="[object Boolean]",EX="[object Date]",TX="[object Map]",CX="[object Number]",kX="[object RegExp]",MX="[object Set]",RX="[object String]",IX="[object Symbol]",OX="[object ArrayBuffer]",jX="[object DataView]",VX="[object Float32Array]",PX="[object Float64Array]",DX="[object Int8Array]",BX="[object Int16Array]",NX="[object Int32Array]",LX="[object Uint8Array]",FX="[object Uint8ClampedArray]",$X="[object Uint16Array]",zX="[object Uint32Array]";function UX(e,t,n){var r=e.constructor;switch(t){case OX:return Dw(e);case wX:case EX:return new r(+e);case jX:return AX(e,n);case VX:case PX:case DX:case BX:case NX:case LX:case FX:case $X:case zX:return xX(e,n);case TX:return new r;case CX:case RX:return new r(e);case kX:return SX(e);case MX:return new r;case IX:return _X(e)}}var hM=Object.create,HX=function(){function e(){}return function(t){if(!Xs(t))return{};if(hM)return hM(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function GX(e){return typeof e.constructor=="function"&&!Iw(e)?HX(Pw(e)):{}}var qX="[object Map]";function YX(e){return ao(e)&&Ps(e)==qX}var pM=sd&&sd.isMap,KX=pM?Rw(pM):YX,QX="[object Set]";function WX(e){return ao(e)&&Ps(e)==QX}var gM=sd&&sd.isSet,XX=gM?Rw(gM):WX,JX=1,ZX=2,eJ=4,f4="[object Arguments]",tJ="[object Array]",nJ="[object Boolean]",rJ="[object Date]",iJ="[object Error]",h4="[object Function]",sJ="[object GeneratorFunction]",aJ="[object Map]",oJ="[object Number]",p4="[object Object]",lJ="[object RegExp]",cJ="[object Set]",uJ="[object String]",dJ="[object Symbol]",fJ="[object WeakMap]",hJ="[object ArrayBuffer]",pJ="[object DataView]",gJ="[object Float32Array]",mJ="[object Float64Array]",yJ="[object Int8Array]",vJ="[object Int16Array]",AJ="[object Int32Array]",bJ="[object Uint8Array]",SJ="[object Uint8ClampedArray]",_J="[object Uint16Array]",xJ="[object Uint32Array]",Xt={};Xt[f4]=Xt[tJ]=Xt[hJ]=Xt[pJ]=Xt[nJ]=Xt[rJ]=Xt[gJ]=Xt[mJ]=Xt[yJ]=Xt[vJ]=Xt[AJ]=Xt[aJ]=Xt[oJ]=Xt[p4]=Xt[lJ]=Xt[cJ]=Xt[uJ]=Xt[dJ]=Xt[bJ]=Xt[SJ]=Xt[_J]=Xt[xJ]=!0;Xt[iJ]=Xt[h4]=Xt[fJ]=!1;function Cm(e,t,n,r,i,s){var a,o=t&JX,l=t&ZX,c=t&eJ;if(n&&(a=i?n(e,r,i,s):n(e)),a!==void 0)return a;if(!Xs(e))return e;var u=vs(e);if(u){if(a=vX(e),!o)return o4(e,a)}else{var d=Ps(e),h=d==h4||d==sJ;if(T0(e))return rX(e,o);if(d==p4||d==f4||h&&!i){if(a=l||h?{}:GX(e),!o)return l?cX(e,tX(a,e)):oX(e,WW(a,e))}else{if(!Xt[d])return i?e:{};a=UX(e,d,o)}}s||(s=new va);var p=s.get(e);if(p)return p;s.set(e,a),XX(e)?e.forEach(function(S){a.add(Cm(S,t,n,S,e,s))}):KX(e)&&e.forEach(function(S,y){a.set(y,Cm(S,t,n,y,e,s))});var g=c?l?d4:RS:l?Ow:wp,m=u?void 0:g(e);return oW(m||e,function(S,y){m&&(y=S,S=e[y]),ZV(a,y,Cm(S,t,n,y,e,s))}),a}var wJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EJ=/^\w*$/;function Bw(e,t){if(vs(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ky(e)?!0:EJ.test(e)||!wJ.test(e)||t!=null&&e in Object(t)}var TJ=500;function CJ(e){var t=Jy(e,function(r){return n.size===TJ&&n.clear(),r}),n=t.cache;return t}var kJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MJ=/\\(\\)?/g,RJ=CJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kJ,function(n,r,i,s){t.push(i?s.replace(MJ,"$1"):r||n)}),t}),IJ=1/0,mM=ys?ys.prototype:void 0,yM=mM?mM.toString:void 0;function g4(e){if(typeof e=="string")return e;if(vs(e))return kw(e,g4)+"";if(Ky(e))return yM?yM.call(e):"";var t=e+"";return t=="0"&&1/e==-IJ?"-0":t}function Nw(e){return e==null?"":g4(e)}function dv(e,t){return vs(e)?e:Bw(e,t)?[e]:RJ(Nw(e))}function OJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jJ=1/0;function Ep(e){if(typeof e=="string"||Ky(e))return e;var t=e+"";return t=="0"&&1/e==-jJ?"-0":t}function Lw(e,t){t=dv(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ep(t[n++])];return n&&n==r?e:void 0}function Fw(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function VJ(e,t){return t.length<2?e:Lw(e,Fw(t,0,-1))}function PJ(e,t){return t=dv(t,e),e=VJ(e,t),e==null||delete e[Ep(OJ(t))]}var DJ="[object Object]",BJ=Function.prototype,NJ=Object.prototype,m4=BJ.toString,LJ=NJ.hasOwnProperty,FJ=m4.call(Object);function $J(e){if(!ao(e)||xc(e)!=DJ)return!1;var t=Pw(e);if(t===null)return!0;var n=LJ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&m4.call(n)==FJ}function zJ(e){return $J(e)?void 0:e}var vM=ys?ys.isConcatSpreadable:void 0;function UJ(e){return vs(e)||Mw(e)||!!(vM&&e&&e[vM])}function HJ(e,t,n,r,i){var s=-1,a=e.length;for(n||(n=UJ),i||(i=[]);++s<a;){var o=e[s];n(o)?Vw(i,o):i[i.length]=o}return i}function GJ(e){var t=e==null?0:e.length;return t?HJ(e):[]}function qJ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var AM=Math.max;function YJ(e,t,n){return t=AM(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=AM(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),qJ(e,this,o)}}function KJ(e){return function(){return e}}function y4(e){return e}var QJ=E0?function(e,t){return E0(e,"toString",{configurable:!0,enumerable:!1,value:KJ(t),writable:!0})}:y4,WJ=800,XJ=16,JJ=Date.now;function ZJ(e){var t=0,n=0;return function(){var r=JJ(),i=XJ-(r-n);if(n=r,i>0){if(++t>=WJ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eZ=ZJ(QJ);function tZ(e){return eZ(YJ(e,void 0,GJ),e+"")}var nZ=1,rZ=2,iZ=4,sZ=tZ(function(e,t){var n={};if(e==null)return n;var r=!1;t=kw(t,function(s){return s=dv(s,e),r||(r=s.length>1),s}),xp(e,d4(e),n),r&&(n=Cm(n,nZ|rZ|iZ,zJ));for(var i=t.length;i--;)PJ(n,t[i]);return n});function Js(e,t=!1){const[n,r]=v.useState(null);return v.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Nr(e,t,n=[]){const r=Array.isArray(e)?e:[e];v.useEffect(()=>(r.forEach(i=>i.subscribe(t)),()=>r.forEach(i=>i.unsubscribe(t))),[...r,t,...n])}function Bi(e,t,n=[]){const[r,i]=v.useState(t),s=Array.isArray(e)?e:[e];return v.useEffect(()=>{i(t())},n),v.useEffect(()=>{const a=()=>i(t());return s.forEach(o=>o.subscribe(a)),()=>s.forEach(o=>o.unsubscribe(a))},[...s]),r}var aZ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oZ=YV(function(e){return aZ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),lZ=oZ,cZ=function(t){return t!=="theme"},bM=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?lZ:cZ},SM=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(a){return t.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},uZ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return GV(n,r,i),JQ(function(){return qV(n,r,i)}),null},R=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,a;n!==void 0&&(s=n.label,a=n.target);var o=SM(t,n,r),l=o||bM(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=XV(function(m,S,y){var b=c&&m.as||i,A="",_=[],x=m;if(m.theme==null){x={};for(var E in m)x[E]=m[E];x.theme=v.useContext(uv)}typeof m.className=="string"?A=GQ(S.registered,_,m.className):m.className!=null&&(A=m.className+" ");var T=Cw(d.concat(_),S.registered,x);A+=S.key+"-"+T.name,a!==void 0&&(A+=" "+a);var k=c&&o===void 0?bM(b):l,w={};for(var O in m)c&&O==="as"||k(O)&&(w[O]=m[O]);return w.className=A,w.ref=y,v.createElement(v.Fragment,null,v.createElement(uZ,{cache:S,serialized:T,isStringTag:typeof b=="string"}),v.createElement(b,w))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=o,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(m,S){return e(m,w0({},n,S,{shouldForwardProp:SM(g,S,!0)})).apply(void 0,d)},g}};const ad={animation:"focusAnimation 1000ms ease-in-out infinite both"},dZ={boxShadow:`inset 0px 0px 0px 4px ${me.colors.text.active}`},Ge={fontWeight:"bold",WebkitTextStroke:"0.1rem black",color:"white","& strong":{color:me.colors.text.active}},Lh="@media (hover: none)",fv="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";function fZ(){var e=v.useRef(!0);return e.current?(e.current=!1,!0):e.current}var k0=function(){return k0=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},k0.apply(this,arguments)};function hZ(){var e=v.useRef(!1),t=v.useCallback(function(){return e.current},[]);return v.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function pZ(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=v.useRef(0),i=hZ(),s=v.useState(n),a=s[0],o=s[1],l=v.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return a.loading||o(function(h){return k0(k0({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&o({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&o({error:h,loading:!1}),h})},t);return[a,l]}function _M(e,t){t===void 0&&(t=[]);var n=pZ(e,t,{loading:!0}),r=n[0],i=n[1];return v.useEffect(function(){i()},[i]),r}function gZ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function mZ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var yZ=typeof window<"u",vZ=function(e){return(e+1)%1e6};function v4(){var e=v.useReducer(vZ,0),t=e[1];return t}var AZ=function(e){v.useEffect(e,[])},bZ=yZ?window:null,xM=function(e){return!!e.addEventListener},wM=function(e){return!!e.on},SZ=function(e,t,n,r){n===void 0&&(n=bZ),v.useEffect(function(){if(t&&n)return xM(n)?gZ(n,e,t,r):wM(n)&&n.on(e,t,r),function(){xM(n)?mZ(n,e,t,r):wM(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},A4=function(e,t){var n=v.useRef(function(){});v.useEffect(function(){n.current=e}),v.useEffect(function(){{var r=setInterval(function(){return n.current()},t);return function(){return clearInterval(r)}}},[t])},_Z=function(e){var t=v.useRef(e);t.current=e,AZ(function(){return function(){return t.current()}})};function xZ(e){var t=v.useRef();return v.useEffect(function(){t.current=e}),t.current}var wZ=function(e,t){return e===t};function EZ(e,t){t===void 0&&(t=wZ);var n=v.useRef(),r=v.useRef(e),i=fZ();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function TZ(){const[e,t]=v.useState(null),[n,r]=v.useState(Kl.isStarted()),[i,s]=v.useState(Kl.getLatency());A4(()=>{s(Kl.getLatency())},1e3),Nr(ee.micServerStarted,()=>{r(!0)}),Nr(ee.micServerStopped,()=>{r(!1)});const a=Bi([ee.remoteMicConnected,ee.remoteMicDisconnected],()=>rt.getRemoteMics(),[n]);return v.useEffect(()=>{e===null&&n&&t(!0)},[n,e]),e?f.jsxs(CZ,{children:[f.jsxs(EM,{children:[f.jsx("strong",{children:"Remote mic server"}),": ",n?"Online":"Offline",n&&i&&f.jsxs(f.Fragment,{children:[" (",i,"ms)"]})]}),n&&f.jsx(f.Fragment,{children:f.jsxs(EM,{children:[f.jsx("strong",{children:"connected mics"}),": ",a.length]})})]}):null}const CZ=R("div",{target:"eeky7rp1"})("opacity:0.75;position:fixed;bottom:0;right:0;",Ge,";font-size:1.5rem;padding:0.5rem;display:flex;gap:1rem;z-index:100000;pointer-events:none;"),EM=R("div",{target:"eeky7rp0"})("");var NA=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function LA(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function b4(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function S4(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function kZ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var $w={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":NA?173:189,"=":NA?61:187,";":NA?59:186,"'":222,"[":219,"]":221,"\\":220},sl={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},VS={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},br={16:!1,18:!1,17:!1,91:!1},Gn={};for(var Eg=1;Eg<20;Eg++)$w["f".concat(Eg)]=111+Eg;var ln=[],TM=!1,_4="all",x4=[],hv=function(t){return $w[t.toLowerCase()]||sl[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function w4(e){_4=e||"all"}function Fh(){return _4||"all"}function MZ(){return ln.slice(0)}function RZ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function IZ(e){return typeof e=="string"&&(e=hv(e)),ln.indexOf(e)!==-1}function OZ(e,t){var n,r;e||(e=Fh());for(var i in Gn)if(Object.prototype.hasOwnProperty.call(Gn,i))for(n=Gn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Fh()===e&&w4(t||"all")}function jZ(e){var t=e.keyCode||e.which||e.charCode,n=ln.indexOf(t);if(n>=0&&ln.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&ln.splice(0,ln.length),(t===93||t===224)&&(t=91),t in br){br[t]=!1;for(var r in sl)sl[r]===t&&(Mi[r]=!1)}}function VZ(e){if(typeof e>"u")Object.keys(Gn).forEach(function(a){return delete Gn[a]});else if(Array.isArray(e))e.forEach(function(a){a.key&&FA(a)});else if(typeof e=="object")e.key&&FA(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),FA({key:e,scope:i,method:s,splitKey:"+"})}}var FA=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,a=s===void 0?"+":s,o=S4(n);o.forEach(function(l){var c=l.split(a),u=c.length,d=c[u-1],h=d==="*"?"*":hv(d);if(Gn[h]){r||(r=Fh());var p=u>1?b4(sl,c):[];Gn[h]=Gn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&kZ(g.mods,p))})}})};function CM(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in br)Object.prototype.hasOwnProperty.call(br,s)&&(!br[s]&&t.mods.indexOf(+s)>-1||br[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!br[16]&&!br[18]&&!br[17]&&!br[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function kM(e,t){var n=Gn["*"],r=e.keyCode||e.which||e.charCode;if(Mi.filter.call(this,e)){if((r===93||r===224)&&(r=91),ln.indexOf(r)===-1&&r!==229&&ln.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=VS[g];e[g]&&ln.indexOf(m)===-1?ln.push(m):!e[g]&&ln.indexOf(m)>-1?ln.splice(ln.indexOf(m),1):g==="metaKey"&&e[g]&&ln.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(ln=ln.slice(ln.indexOf(m))))}),r in br){br[r]=!0;for(var i in sl)sl[i]===r&&(Mi[i]=!0);if(!n)return}for(var s in br)Object.prototype.hasOwnProperty.call(br,s)&&(br[s]=e[VS[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(ln.indexOf(17)===-1&&ln.push(17),ln.indexOf(18)===-1&&ln.push(18),br[17]=!0,br[18]=!0);var a=Fh();if(n)for(var o=0;o<n.length;o++)n[o].scope===a&&(e.type==="keydown"&&n[o].keydown||e.type==="keyup"&&n[o].keyup)&&CM(e,n[o],a,t);if(r in Gn){for(var l=0;l<Gn[r].length;l++)if((e.type==="keydown"&&Gn[r][l].keydown||e.type==="keyup"&&Gn[r][l].keyup)&&Gn[r][l].key){for(var c=Gn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(hv(d[p]));h.sort().join("")===ln.sort().join("")&&CM(e,c,a,t)}}}}function PZ(e){return x4.indexOf(e)>-1}function Mi(e,t,n){ln=[];var r=S4(e),i=[],s="all",a=document,o=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(a=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);o<r.length;o++)e=r[o].split(u),i=[],e.length>1&&(i=b4(sl,e)),e=e[e.length-1],e=e==="*"?"*":hv(e),e in Gn||(Gn[e]=[]),Gn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[o],method:n,key:r[o],splitKey:u,element:a});typeof a<"u"&&!PZ(a)&&window&&(x4.push(a),LA(a,"keydown",function(h){kM(h,a)},d),TM||(TM=!0,LA(window,"focus",function(){ln=[]},d)),LA(a,"keyup",function(h){kM(h,a),jZ(h)},d))}function DZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Gn).forEach(function(n){var r=Gn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var $A={setScope:w4,getScope:Fh,deleteScope:OZ,getPressedKeyCodes:MZ,isPressed:IZ,filter:RZ,trigger:DZ,unbind:VZ,keyMap:$w,modifier:sl,modifierMap:VS};for(var zA in $A)Object.prototype.hasOwnProperty.call($A,zA)&&(Mi[zA]=$A[zA]);if(typeof window<"u"){var BZ=window.hotkeys;Mi.noConflict=function(e){return e&&window.hotkeys===Mi&&(window.hotkeys=BZ),Mi},window.hotkeys=Mi}Mi.filter=function(){return!0};var E4=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},NZ=function(t){return E4(t,["INPUT","TEXTAREA","SELECT"])};function Gr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,a=i.filter,o=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=v.useRef(null),S=v.useCallback(function(y,b){var A,_;return a&&!a(y)?!u:NZ(y)&&!E4(y,s)||(A=y.target)!=null&&A.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(_=m.current)!=null&&_.contains(document.activeElement)?(t(y,b),!0):!1},r?[m,s,a].concat(r):[m,s,a]);return v.useEffect(function(){if(!h){Mi.unbind(e,S);return}return o&&l!==!0&&(n.keydown=!1),Mi(e,n||{},S),function(){return Mi.unbind(e,S)}},[S,e,h]),m}Mi.isPressed;const PS="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var uI,lm,dI;try{(dI=(lm=(uI=global==null?void 0:global.navigator)==null?void 0:uI.keyboard)==null?void 0:lm.lock)==null||dI.call(lm,["Escape"])}catch(e){console.warn(e)}var fI,hI;const LZ=!!((hI=(fI=global==null?void 0:global.navigator)==null?void 0:fI.keyboard)!=null&&hI.lock),wl=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Cc(e,t=!0,n){Nr(ee.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),Gr("up",wl(e.up),{enabled:t&&!!(e!=null&&e.up)},n),Gr("down",wl(e.down),{enabled:t&&!!(e!=null&&e.down)},n),Gr("left",wl(e.left),{enabled:t&&!!(e!=null&&e.left)},n),Gr("right",wl(e.right),{enabled:t&&!!(e!=null&&e.right)},n),Gr("Enter",wl(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),Gr("Escape,Backspace",wl(e.back),{enabled:t&&!!(e!=null&&e.back)},n),Gr("Shift+R",wl(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function FZ({help:e}){const[t]=We(Mr),[n,r]=We(PO);Gr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(KZ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(C4,{children:"Use indicated keys on your keyboard"}),i.map(([s,a])=>{const{view:o,defaultLabel:l}=YZ[s];return f.jsxs(MM,{children:[f.jsx(IM,{children:a??l}),f.jsx(RM,{children:f.jsx(o,{})})]},s)}),f.jsxs(MM,{children:[f.jsx(IM,{children:"Show/hide this help"}),f.jsx(RM,{children:T4("h")()})]})]})})})}const zw=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(ga,{disabled:!e,children:"↑"}),f.jsx("br",{}),f.jsx(ga,{disabled:!t,children:"←"}),f.jsx(ga,{disabled:!e,children:"↓"}),f.jsx(ga,{disabled:!t,children:"→"})]}),$Z=()=>f.jsx(zw,{horizontal:!0}),zZ=()=>f.jsx(zw,{vertical:!0}),UZ=()=>f.jsx(zw,{vertical:!0,horizontal:!0}),HZ=()=>f.jsx(ga,{children:"Enter ⏎"}),GZ=()=>LZ?f.jsx(ga,{children:"Escape"}):f.jsx(ga,{children:"Backspace ⌫"}),T4=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(ga,{children:"Shift"})," + ",f.jsx(ga,{children:e.toUpperCase()})]}),qZ=()=>f.jsx(f.Fragment,{children:f.jsx(ga,{children:"start typing"})}),YZ={"horizontal-vertical":{view:UZ,defaultLabel:"Navigate"},horizontal:{view:$Z,defaultLabel:"Navigate"},vertical:{view:zZ,defaultLabel:"Navigate"},accept:{view:HZ,defaultLabel:"Select"},back:{view:GZ,defaultLabel:"Go back"},shiftR:{view:T4("r"),defaultLabel:"Pick random"},alphanumeric:{view:qZ,defaultLabel:"Search"}},MM=R("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),RM=R("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),IM=R("span",{target:"efq3fs03"})("flex:3;",Ge,";font-size:2rem;text-align:right;"),C4=R("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",Ge,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),KZ=R("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",C4,"{opacity:1;visibility:visible;}}svg{fill:white;}"),ga=R("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),Uw=v.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),QZ=({children:e})=>{const[t,n]=v.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>sZ(d,[u])),[s,a]=Object.entries(t).at(-1)??[];Nr(ee.remoteMicConnected,({id:u})=>{var d;(d=rt.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:a})}),v.useEffect(()=>{rt.broadcast({t:"keyboard-layout",help:a})},[s]);const{remote:o,...l}=a??{},c=!!Object.values(l).length;return f.jsxs(Uw.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(FZ,{help:l}),f.jsx(TZ,{})]})};var WZ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:XZ,mp4:JZ}=WZ,UA=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,HA=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class ZZ{constructor(){if(this.enabled=!1,HA()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else UA()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",XZ),this._addSourceToVideo(this.noSleepVideo,"mp4",JZ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return HA()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):UA()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){HA()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):UA()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var eee=ZZ;const tee=kr(eee),nee="/prs/373/assets/eurovisionbg-CvR5q-FP.svg",Hw=v.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),vo=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=v.useContext(Hw);v.useEffect(()=>{n(e)},[e,n]),v.useEffect(()=>{r(t)},[t,r])};function ree({children:e}){const[t,n]=v.useState(!0),[r,i]=v.useState("regular"),[s]=We(as);return f.jsxs(Hw.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(fee,{"data-theme":r,"data-graphic-level":s,bgtheme:r,children:r==="eurovision"&&f.jsx(DS,{})}),e]})}const iee={name:"1skrp57",styles:"animation:escGradient 46s linear infinite;flex:1;@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}"},see=R("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",nee,");background-size:100% 50%;height:100%;&[data-animate='true']{",iee,";}"),DS=()=>{var e;return f.jsx(see,{"data-animate":!((e=global.location)!=null&&e.href.includes("/remote-mic"))})},aee=ws(`background-image:linear-gradient(
    -45deg,
    `,Ie.christmasGreen.text,`,
    `,Ie.christmasGreen.stroke,`,
    `,Ie.christmasRed.stroke,`,
    `,Ie.christmasRed.stroke,`
  );background-size:400% 400%;`,""),oee={name:"zjik7",styles:"display:flex"},lee={name:"j7x51j",styles:"background:black"},cee=ws(`background-image:linear-gradient(
    -45deg,
    `,Ie.red.stroke,`,
    `,Ie.blue.text,`,
    `,Ie.blue.stroke,`,
    `,Ie.red.stroke,`
  );background-size:400% 400%;`,""),uee=R("div",{target:"ev6htcq1"})({name:"18w86be",styles:"background-color:white;width:100%;height:100%"}),dee={name:"x35kb",styles:"animation:gradient 15s ease infinite;@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}"},fee=R(uee,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;&[data-theme='eurovision']{",oee,";}&[data-theme='christmas']{",aee,";}&[data-theme='regular']{",cee,";}&[data-theme='halloween']{",lee,";}background-position:100% 50%;&[data-graphic-level='high']{",dee,";}");function hee({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function pv(e){return v.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const pee=R("div",{target:"e1py91zd0"})(":root{--player-blue-text:",Ie.blue.text,";--player-blue-stroke:",Ie.blue.stroke,";--player-blue-star-fill:",Ie.blue.star.fill,";--player-blue-star-stroke:",Ie.blue.star.stroke,";--player-blue-perfect-fill:",Ie.blue.perfect.fill,";--player-blue-perfect-stroke:",Ie.blue.perfect.stroke,";--player-blue-starPerfect-fill:",Ie.blue.starPerfect.fill,";--player-blue-starPerfect-stroke:",Ie.blue.starPerfect.stroke,";--player-blue-hit-fill:",Ie.blue.hit.fill,";--player-blue-hit-stroke:",Ie.blue.hit.stroke,";--player-blue-miss-fill:",Ie.blue.miss.fill,";--player-blue-miss-stroke:",Ie.blue.miss.stroke,";}h1{",Ge,";margin:0;text-align:center;font-size:4rem;color:",me.colors.text.active,";}h2{",Ge,";margin:0;font-size:2.9rem;}h3{",Ge,";margin:0;font-size:2.7rem;strong{color:",me.colors.text.active,";}}h4{",Ge,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Ge,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Ge,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Ge,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",me.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",Ge,";color:",me.colors.text.active,";text-decoration:underline;}strong{color:",me.colors.text.active,";}");function fa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function k4(e){if(!fa(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=k4(e[n])}),t}function mi(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return fa(e)&&fa(t)&&Object.keys(t).forEach(i=>{fa(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&fa(e[i])?r[i]=mi(e[i],t[i],n):n.clone?r[i]=fa(t[i])?k4(t[i]):t[i]:r[i]=t[i]}),r}var M4={exports:{}},gee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mee=gee,yee=mee;function R4(){}function I4(){}I4.resetWarningCache=R4;var vee=function(){function e(r,i,s,a,o,l){if(l!==yee){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:I4,resetWarningCache:R4};return n.PropTypes=n,n};M4.exports=vee();var Aee=M4.exports;const Ze=kr(Aee);function dc(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function lt(e){if(typeof e!="string")throw new Error(dc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function OM(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Ko(e){return e&&e.ownerDocument||document}function Gw(e){return Ko(e).defaultView||window}function BS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const NS=typeof window<"u"?v.useLayoutEffect:v.useEffect;let jM=0;function bee(e){const[t,n]=v.useState(e),r=e||t;return v.useEffect(()=>{t==null&&(jM+=1,n(`mui-${jM}`))},[t]),r}const See={...a0},VM=See.useId;function _ee(e){if(VM!==void 0){const t=VM();return e??t}return bee(e)}function hu(e){const t=v.useRef(e);return NS(()=>{t.current=e}),v.useRef((...n)=>(0,t.current)(...n)).current}function al(...e){return v.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{BS(n,t)})},e)}const PM={};function O4(e,t){const n=v.useRef(PM);return n.current===PM&&(n.current=e(t)),n}const xee=[];function wee(e){v.useEffect(e,xee)}class qw{constructor(){Xd(this,"currentId",null);Xd(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Xd(this,"disposeEffect",()=>this.clear)}static create(){return new qw}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Eee(){const e=O4(qw.create).current;return wee(e.disposeEffect),e}function DM(e){try{return e.matches(":focus-visible")}catch{}return!1}function Tee(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function M0(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],a=t[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o)){const l=o;n[i][l]=M0(s[l],a[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function ni(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let a="",o=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(a+=(o===!0?"":" ")+t(c),o=!1,n&&n[c]&&(a+=" "+n[c]))}r[i]=a}return r}const BM=e=>e,Cee=()=>{let e=BM;return{configure(t){e=t},generate(t){return e(t)},reset(){e=BM}}},kee=Cee(),Mee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Lr(e,t,n="Mui"){const r=Mee[t];return r?`${n}-${r}`:`${kee.generate(e)}-${t}`}function Fr(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Lr(e,i,n)}),r}function Ree(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Iee(e){return typeof e=="string"}function Oee(e,t,n){return e===void 0||Iee(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function j4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=j4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=j4(e))&&(r&&(r+=" "),r+=t);return r}function V4(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function NM(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function jee(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const p=St(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},m={...n,...i,...r};return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const a=V4({...i,...r}),o=NM(r),l=NM(i),c=t(a),u=St(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...o};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function Vee(e,t,n){return typeof e=="function"?e(t,n):e}function Yw(e){return!e||!v.isValidElement(e)?null:e.props.propertyIsEnumerable("ref")?e.props.ref:e.ref}function rh(e,t){return t?mi(e,t,{clone:!1}):e}function Pee(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,o;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((o=i.match(s))==null?void 0:o[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function Dee(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Bee(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function Nee(e){const t=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...o)=>t(e.breakpoints.up(...o),a),s.down=(...o)=>t(e.breakpoints.down(...o),a),s.between=(...o)=>t(e.breakpoints.between(...o),a),s.only=(...o)=>t(e.breakpoints.only(...o),a),s.not=(...o)=>{const l=t(e.breakpoints.not(...o),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const gv={xs:0,sm:600,md:900,lg:1200,xl:1536},LM={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${gv[e]}px)`},Lee={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:gv[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function co(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||LM;return t.reduce((a,o,l)=>(a[s.up(s.keys[l])]=n(t[l]),a),{})}if(typeof t=="object"){const s=r.breakpoints||LM;return Object.keys(t).reduce((a,o)=>{if(Dee(s.keys,o)){const l=Bee(r.containerQueries?r:Lee,o);l&&(a[l]=n(t[o],o))}else if(Object.keys(s.values||gv).includes(o)){const l=s.up(o);a[l]=n(t[o],o)}else{const l=o;a[l]=t[l]}return a},{})}return n(t)}function P4(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function D4(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function U1e(e,...t){const n=P4(e),r=[n,...t].reduce((i,s)=>mi(i,s),{});return D4(Object.keys(n),r)}function Fee(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function H1e({values:e,breakpoints:t,base:n}){const r=n||Fee(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((a,o,l)=>(Array.isArray(e)?(a[o]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(a[o]=e[o]!=null?e[o]:e[s],s=o):a[o]=e,a),{})}function mv(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function R0(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=mv(e,n)||r,t&&(i=t(i,r,e)),i}function Fn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=a=>{if(a[t]==null)return null;const o=a[t],l=a.theme,c=mv(l,r)||{};return co(a,o,d=>{let h=R0(c,i,d);return d===h&&typeof d=="string"&&(h=R0(c,i,`${t}${d==="default"?"":lt(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function $ee(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const zee={m:"margin",p:"padding"},Uee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},FM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Hee=$ee(e=>{if(e.length>2)if(FM[e])e=FM[e];else return[e];const[t,n]=e.split(""),r=zee[t],i=Uee[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Kw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Qw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Kw,...Qw];function Tp(e,t,n,r){const i=mv(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=i[a];return s>=0?o:typeof o=="number"?-o:`-${o}`}:typeof i=="function"?i:()=>{}}function Ww(e){return Tp(e,"spacing",8)}function Cp(e,t){return typeof t=="string"||t==null?t:e(t)}function Gee(e,t){return n=>e.reduce((r,i)=>(r[i]=Cp(t,n),r),{})}function qee(e,t,n,r){if(!t.includes(n))return null;const i=Hee(n),s=Gee(i,r),a=e[n];return co(e,a,s)}function B4(e,t){const n=Ww(e.theme);return Object.keys(e).map(r=>qee(e,t,r,n)).reduce(rh,{})}function wn(e){return B4(e,Kw)}wn.propTypes={};wn.filterProps=Kw;function En(e){return B4(e,Qw)}En.propTypes={};En.filterProps=Qw;function yv(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?rh(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ts(e){return typeof e!="number"?e:`${e}px solid`}function Es(e,t){return Fn({prop:e,themeKey:"borders",transform:t})}const Yee=Es("border",ts),Kee=Es("borderTop",ts),Qee=Es("borderRight",ts),Wee=Es("borderBottom",ts),Xee=Es("borderLeft",ts),Jee=Es("borderColor"),Zee=Es("borderTopColor"),ete=Es("borderRightColor"),tte=Es("borderBottomColor"),nte=Es("borderLeftColor"),rte=Es("outline",ts),ite=Es("outlineColor"),vv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Tp(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Cp(t,r)});return co(e,e.borderRadius,n)}return null};vv.propTypes={};vv.filterProps=["borderRadius"];yv(Yee,Kee,Qee,Wee,Xee,Jee,Zee,ete,tte,nte,vv,rte,ite);const Av=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Tp(e.theme,"spacing",8),n=r=>({gap:Cp(t,r)});return co(e,e.gap,n)}return null};Av.propTypes={};Av.filterProps=["gap"];const bv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Tp(e.theme,"spacing",8),n=r=>({columnGap:Cp(t,r)});return co(e,e.columnGap,n)}return null};bv.propTypes={};bv.filterProps=["columnGap"];const Sv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Tp(e.theme,"spacing",8),n=r=>({rowGap:Cp(t,r)});return co(e,e.rowGap,n)}return null};Sv.propTypes={};Sv.filterProps=["rowGap"];const ste=Fn({prop:"gridColumn"}),ate=Fn({prop:"gridRow"}),ote=Fn({prop:"gridAutoFlow"}),lte=Fn({prop:"gridAutoColumns"}),cte=Fn({prop:"gridAutoRows"}),ute=Fn({prop:"gridTemplateColumns"}),dte=Fn({prop:"gridTemplateRows"}),fte=Fn({prop:"gridTemplateAreas"}),hte=Fn({prop:"gridArea"});yv(Av,bv,Sv,ste,ate,ote,lte,cte,ute,dte,fte,hte);function Du(e,t){return t==="grey"?t:e}const pte=Fn({prop:"color",themeKey:"palette",transform:Du}),gte=Fn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Du}),mte=Fn({prop:"backgroundColor",themeKey:"palette",transform:Du});yv(pte,gte,mte);function Ti(e){return e<=1&&e!==0?`${e*100}%`:e}const yte=Fn({prop:"width",transform:Ti}),Xw=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,a,o,l;const r=((a=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||gv[n];return r?((l=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ti(n)}};return co(e,e.maxWidth,t)}return null};Xw.filterProps=["maxWidth"];const vte=Fn({prop:"minWidth",transform:Ti}),Ate=Fn({prop:"height",transform:Ti}),bte=Fn({prop:"maxHeight",transform:Ti}),Ste=Fn({prop:"minHeight",transform:Ti});Fn({prop:"size",cssProperty:"width",transform:Ti});Fn({prop:"size",cssProperty:"height",transform:Ti});const _te=Fn({prop:"boxSizing"});yv(yte,Xw,vte,Ate,bte,Ste,_te);const kp={border:{themeKey:"borders",transform:ts},borderTop:{themeKey:"borders",transform:ts},borderRight:{themeKey:"borders",transform:ts},borderBottom:{themeKey:"borders",transform:ts},borderLeft:{themeKey:"borders",transform:ts},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ts},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vv},color:{themeKey:"palette",transform:Du},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Du},backgroundColor:{themeKey:"palette",transform:Du},p:{style:En},pt:{style:En},pr:{style:En},pb:{style:En},pl:{style:En},px:{style:En},py:{style:En},padding:{style:En},paddingTop:{style:En},paddingRight:{style:En},paddingBottom:{style:En},paddingLeft:{style:En},paddingX:{style:En},paddingY:{style:En},paddingInline:{style:En},paddingInlineStart:{style:En},paddingInlineEnd:{style:En},paddingBlock:{style:En},paddingBlockStart:{style:En},paddingBlockEnd:{style:En},m:{style:wn},mt:{style:wn},mr:{style:wn},mb:{style:wn},ml:{style:wn},mx:{style:wn},my:{style:wn},margin:{style:wn},marginTop:{style:wn},marginRight:{style:wn},marginBottom:{style:wn},marginLeft:{style:wn},marginX:{style:wn},marginY:{style:wn},marginInline:{style:wn},marginInlineStart:{style:wn},marginInlineEnd:{style:wn},marginBlock:{style:wn},marginBlockStart:{style:wn},marginBlockEnd:{style:wn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Av},rowGap:{style:Sv},columnGap:{style:bv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ti},maxWidth:{style:Xw},minWidth:{transform:Ti},height:{transform:Ti},maxHeight:{transform:Ti},minHeight:{transform:Ti},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function xte(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function wte(e,t){return typeof e=="function"?e(t):e}function Ete(){function e(n,r,i,s){const a={[n]:r,theme:i},o=s[n];if(!o)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=o;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=mv(i,c)||{};return d?d(a):co(a,r,g=>{let m=R0(h,u,g);return g===m&&typeof g=="string"&&(m=R0(h,u,`${n}${g==="default"?"":lt(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??kp;function a(o){let l=o;if(typeof o=="function")l=o(i);else if(typeof o!="object")return o;if(!l)return null;const c=P4(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(h=>{const p=wte(l[h],i);if(p!=null)if(typeof p=="object")if(s[h])d=rh(d,e(h,p,i,s));else{const g=co({theme:i},p,m=>({[h]:m}));xte(g,p)?d[h]=t({sx:p,theme:i}):d=rh(d,g)}else d=rh(d,e(h,p,i,s))}),Pee(i,D4(u,d))}return Array.isArray(r)?r.map(a):a(r)}return t}const Pd=Ete();Pd.filterProps=["sx"];const Tte=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??kp;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Cte(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Tte(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...a)=>{const o=t(...a);return fa(o)?{...r,...o}:r}:s={...r,...t},{...i,sx:s}}var kte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],LS=R.bind();kte.forEach(function(e){LS[e]=LS(e)});function Mte(e){return e==null||Object.keys(e).length===0}function N4(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Mte(i)?n:i):t;return f.jsx(eW,{styles:r})}/**
 * @mui/styled-engine v6.1.1
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Rte(e,t){return LS(e,t)}const Ite=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Ote=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function jte(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Ote(t),a=Object.keys(s);function o(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=a.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[a[g]]=="number"?t[a[g]]:p)-r/100}${n})`}function u(h){return a.indexOf(h)+1<a.length?c(h,a[a.indexOf(h)+1]):o(h)}function d(h){const p=a.indexOf(h);return p===0?o(a[1]):p===a.length-1?l(a[p]):c(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:l,between:c,only:u,not:d,unit:n,...i}}const Vte={borderRadius:4};function L4(e=8,t=Ww({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=t(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Pte(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Jw(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=e,o=jte(n),l=L4(i);let c=mi({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Vte,...s}},a);return c=Nee(c),c.applyStyles=Pte,c=t.reduce((u,d)=>mi(u,d),c),c.unstable_sxConfig={...kp,...a==null?void 0:a.unstable_sxConfig},c.unstable_sx=function(d){return Pd({sx:d,theme:this})},c}function Dte(e){return Object.keys(e).length===0}function F4(e=null){const t=v.useContext(uv);return!t||Dte(t)?e:t}const Bte=Jw();function $4(e=Bte){return F4(e)}function Nte({styles:e,themeId:t,defaultTheme:n={}}){const r=$4(n),i=typeof e=="function"?e(t&&r[t]||r):e;return f.jsx(N4,{styles:i})}const Lte=Jw();function GA(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function FS(e,t,n){return zte(t)?n:t[e]||t}const Tg=Symbol("mui.processed_props");function Cg(e,t,n){if(Tg in e)return e[Tg];const r={...e,theme:FS(t,e.theme,n)};return e[Tg]=r,r[Tg]=r,r}function Fte(e){return e?(t,n)=>n[e]:null}function km(e,t){var r;const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>km(i,t));if(Array.isArray(n==null?void 0:n.variants)){const{variants:i,...s}=n;let a=s,o;e:for(let l=0;l<i.length;l+=1){const c=i[l];if(typeof c.props=="function"){if(o??(o={...t,...t.ownerState,ownerState:t.ownerState}),!c.props(o))continue}else for(const u in c.props)if(t[u]!==c.props[u]&&((r=t.ownerState)==null?void 0:r[u])!==c.props[u])continue e;Array.isArray(a)||(a=[a]),typeof c.style=="function"?(o??(o={...t,...t.ownerState,ownerState:t.ownerState}),a.push(c.style(o))):a.push(c.style)}return a}return n}function $te(e={}){const{themeId:t,defaultTheme:n=Lte,rootShouldForwardProp:r=GA,slotShouldForwardProp:i=GA}=e,s=o=>Pd(Cg(o,t,n));return s.__mui_systemSx=!0,(o,l={})=>{Ite(o,E=>E.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=Fte(Hte(u)),...g}=l,m=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,S=h||!1;let y,b=GA;u==="Root"||u==="root"?b=r:u?b=i:Ute(o)&&(b=void 0);const A=Rte(o,{shouldForwardProp:b,label:y,...g}),_=E=>typeof E=="function"&&E.__emotion_real!==E||fa(E)?T=>km(E,Cg(T,t,n)):E,x=(E,...T)=>{let k=_(E);const w=T?T.map(_):[];c&&p&&w.push(F=>{const j=FS(t,F.theme,n);if(!j.components||!j.components[c]||!j.components[c].styleOverrides)return null;const D=j.components[c].styleOverrides,I={},C=Cg(F,t,n);for(const P in D)I[P]=km(D[P],C);return p(F,I)}),c&&!m&&w.push(F=>{var I,C;const j=FS(t,F.theme,n),D=(C=(I=j==null?void 0:j.components)==null?void 0:I[c])==null?void 0:C.variants;return D?km({variants:D},Cg(F,t,n)):null}),S||w.push(s);const O=w.length-T.length;if(Array.isArray(E)&&O>0){const F=new Array(O).fill("");k=[...E,...F],k.raw=[...E.raw,...F]}const B=A(k,...w);return o.muiName&&(B.muiName=o.muiName),B};return A.withConfig&&(x.withConfig=A.withConfig),x}}function zte(e){for(const t in e)return!1;return!0}function Ute(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Hte(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Zw(e,t=0,n=1){return Ree(e,t,n)}function Gte(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ol(e){if(e.type)return e;if(e.charAt(0)==="#")return ol(Gte(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(dc(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(dc(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const qte=e=>{const t=ol(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},kf=(e,t)=>{try{return qte(e)}catch{return e}};function _v(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function z4(e){e=ol(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),a=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(o+="a",l.push(t[3])),_v({type:o,values:l})}function $S(e){e=ol(e);let t=e.type==="hsl"||e.type==="hsla"?ol(z4(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Yte(e,t){const n=$S(e),r=$S(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ls(e,t){return e=ol(e),t=Zw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,_v(e)}function kg(e,t,n){try{return Ls(e,t)}catch{return e}}function eE(e,t){if(e=ol(e),t=Zw(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return _v(e)}function Ut(e,t,n){try{return eE(e,t)}catch{return e}}function tE(e,t){if(e=ol(e),t=Zw(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return _v(e)}function Ht(e,t,n){try{return tE(e,t)}catch{return e}}function Kte(e,t=.15){return $S(e)>.5?eE(e,t):tE(e,t)}function Mg(e,t,n){try{return Kte(e,t)}catch{return e}}const U4=v.createContext(null);function nE(){return v.useContext(U4)}const Qte=typeof Symbol=="function"&&Symbol.for,Wte=Qte?Symbol.for("mui.nested"):"__THEME_NESTED__";function Xte(e,t){return typeof t=="function"?t(e):{...e,...t}}function Jte(e){const{children:t,theme:n}=e,r=nE(),i=v.useMemo(()=>{const s=r===null?{...n}:Xte(r,n);return s!=null&&(s[Wte]=r!==null),s},[n,r]);return f.jsx(U4.Provider,{value:i,children:t})}const H4=v.createContext();function Zte({value:e,...t}){return f.jsx(H4.Provider,{value:e??!0,...t})}const G1e=()=>v.useContext(H4)??!1,G4=v.createContext(void 0);function ene({value:e,children:t}){return f.jsx(G4.Provider,{value:e,children:t})}function tne(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?M0(i.defaultProps,r):!i.styleOverrides&&!i.variants?M0(i,r):r}function nne({props:e,name:t}){const n=v.useContext(G4);return tne({props:e,name:t,theme:{components:n}})}const $M={};function zM(e,t,n,r=!1){return v.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),a=e?{...t,[e]:s}:s;return r?()=>a:a}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function q4(e){const{children:t,theme:n,themeId:r}=e,i=F4($M),s=nE()||$M,a=zM(r,i,n),o=zM(r,s,n,!0),l=a.direction==="rtl";return f.jsx(Jte,{theme:o,children:f.jsx(uv.Provider,{value:a,children:f.jsx(Zte,{value:l,children:f.jsx(ene,{value:a==null?void 0:a.components,children:t})})})})}const rE="mode",iE="color-scheme",rne="data-color-scheme";function ine(e){const{defaultLightColorScheme:t="light",defaultDarkColorScheme:n="dark",modeStorageKey:r=rE,colorSchemeStorageKey:i=iE,attribute:s=rne,colorSchemeNode:a="document.documentElement",nonce:o}=e||{};let l="",c=s;if(s==="class"&&(c=".%s"),s==="data"&&(c="[data-%s]"),c.startsWith(".")){const d=c.substring(1);l+=`${a}.classList.remove('${d}'.replace('%s', light), '${d}'.replace('%s', dark));
      ${a}.classList.add('${d}'.replace('%s', colorScheme));`}const u=c.match(/\[([^\]]+)\]/);if(u){const[d,h]=u[1].split("=");h||(l+=`${a}.removeAttribute('${d}'.replace('%s', light));
      ${a}.removeAttribute('${d}'.replace('%s', dark));`),l+=`
      ${a}.setAttribute('${d}'.replace('%s', colorScheme), ${h?`${h}.replace('%s', colorScheme)`:'""'});`}else l+=`${a}.setAttribute('${c}', colorScheme);`;return f.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?o:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || 'system';
  const dark = localStorage.getItem('${i}-dark') || '${n}';
  const light = localStorage.getItem('${i}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${l}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function UM(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Y4(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function sne(e){return Y4(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function qA(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function ane(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=rE,colorSchemeStorageKey:a=iE,storageWindow:o=typeof window>"u"?void 0:window}=e,l=i.join(","),c=i.length>1,[u,d]=v.useState(()=>{const A=qA(s,t),_=qA(`${a}-light`,n),x=qA(`${a}-dark`,r);return{mode:A,systemMode:UM(A),lightColorScheme:_,darkColorScheme:x}}),[,h]=v.useState(!1),p=v.useRef(!1);v.useEffect(()=>{c&&h(!0),p.current=!0},[c]);const g=sne(u),m=v.useCallback(A=>{d(_=>{if(A===_.mode)return _;const x=A??t;try{localStorage.setItem(s,x)}catch{}return{..._,mode:x,systemMode:UM(x)}})},[s,t]),S=v.useCallback(A=>{A?typeof A=="string"?A&&!l.includes(A)?console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`):d(_=>{const x={..._};return Y4(_,E=>{try{localStorage.setItem(`${a}-${E}`,A)}catch{}E==="light"&&(x.lightColorScheme=A),E==="dark"&&(x.darkColorScheme=A)}),x}):d(_=>{const x={..._},E=A.light===null?n:A.light,T=A.dark===null?r:A.dark;if(E)if(!l.includes(E))console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`);else{x.lightColorScheme=E;try{localStorage.setItem(`${a}-light`,E)}catch{}}if(T)if(!l.includes(T))console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`);else{x.darkColorScheme=T;try{localStorage.setItem(`${a}-dark`,T)}catch{}}return x}):d(_=>{try{localStorage.setItem(`${a}-light`,n),localStorage.setItem(`${a}-dark`,r)}catch{}return{..._,lightColorScheme:n,darkColorScheme:r}})},[l,a,n,r]),y=v.useCallback(A=>{u.mode==="system"&&d(_=>{const x=A!=null&&A.matches?"dark":"light";return _.systemMode===x?_:{..._,systemMode:x}})},[u.mode]),b=v.useRef(y);return b.current=y,v.useEffect(()=>{if(typeof window.matchMedia!="function"||!c)return;const A=(...x)=>b.current(...x),_=window.matchMedia("(prefers-color-scheme: dark)");return _.addListener(A),A(_),()=>{_.removeListener(A)}},[c]),v.useEffect(()=>{if(o&&c){const A=_=>{const x=_.newValue;typeof _.key=="string"&&_.key.startsWith(a)&&(!x||l.match(x))&&(_.key.endsWith("light")&&S({light:x}),_.key.endsWith("dark")&&S({dark:x})),_.key===s&&(!x||["light","dark","system"].includes(x))&&m(x||t)};return o.addEventListener("storage",A),()=>{o.removeEventListener("storage",A)}}},[S,m,s,a,l,t,o,c]),{...u,mode:p.current||!c?u.mode:void 0,systemMode:p.current||!c?u.systemMode:void 0,colorScheme:p.current||!c?g:void 0,setMode:m,setColorScheme:S}}const one="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function lne(e){const{themeId:t,theme:n={},modeStorageKey:r=rE,colorSchemeStorageKey:i=iE,disableTransitionOnChange:s=!1,defaultColorScheme:a,resolveTheme:o}=e,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},c=v.createContext(void 0),u=()=>v.useContext(c)||l;function d(m){var Zt,Rt,we,ct,Lt;const{children:S,theme:y,modeStorageKey:b=r,colorSchemeStorageKey:A=i,disableTransitionOnChange:_=s,storageWindow:x=typeof window>"u"?void 0:window,documentNode:E=typeof document>"u"?void 0:document,colorSchemeNode:T=typeof document>"u"?void 0:document.documentElement,disableNestedContext:k=!1,disableStyleSheetGeneration:w=!1}=m,O=v.useRef(!1),B=nE(),F=v.useContext(c),j=!!F&&!k,D=v.useMemo(()=>y||(typeof n=="function"?n():n),[y]),I=D[t],{colorSchemes:C={},components:P={},cssVarPrefix:L,...$}=I||D,U=Object.keys(C).filter(qe=>!!C[qe]).join(","),q=v.useMemo(()=>U.split(","),[U]),H=typeof a=="string"?a:a.light,ne=typeof a=="string"?a:a.dark,N=C[H]&&C[ne]?"system":((Rt=(Zt=C[$.defaultColorScheme])==null?void 0:Zt.palette)==null?void 0:Rt.mode)||((we=$.palette)==null?void 0:we.mode),{mode:he,setMode:te,systemMode:ue,lightColorScheme:Oe,darkColorScheme:_e,colorScheme:le,setColorScheme:Ae}=ane({supportedColorSchemes:q,defaultLightColorScheme:H,defaultDarkColorScheme:ne,modeStorageKey:b,colorSchemeStorageKey:A,defaultMode:N,storageWindow:x});let Pe=he,Ce=le;j&&(Pe=F.mode,Ce=F.colorScheme);const Se=Ce||$.defaultColorScheme,xe=((ct=$.generateThemeVars)==null?void 0:ct.call($))||$.vars,Ne={...$,components:P,colorSchemes:C,cssVarPrefix:L,vars:xe};if(typeof Ne.generateSpacing=="function"&&(Ne.spacing=Ne.generateSpacing()),Se){const qe=C[Se];qe&&typeof qe=="object"&&Object.keys(qe).forEach(je=>{qe[je]&&typeof qe[je]=="object"?Ne[je]={...Ne[je],...qe[je]}:Ne[je]=qe[je]})}const He=$.colorSchemeSelector;v.useEffect(()=>{if(Ce&&T&&He&&He!=="media"){const qe=He;let je=He;if(qe==="class"&&(je=".%s"),qe==="data"&&(je="[data-%s]"),qe!=null&&qe.startsWith("data-")&&!qe.includes("%s")&&(je=`[${qe}="%s"]`),je.startsWith("."))T.classList.remove(...q.map(It=>je.substring(1).replace("%s",It))),T.classList.add(je.substring(1).replace("%s",Ce));else{const It=je.replace("%s",Ce).match(/\[([^\]]+)\]/);if(It){const[ut,st]=It[1].split("=");st||q.forEach(Mn=>{T.removeAttribute(ut.replace(Ce,Mn))}),T.setAttribute(ut,st?st.replace(/"|'/g,""):"")}else T.setAttribute(je,Ce)}}},[Ce,He,T,q]),v.useEffect(()=>{let qe;if(_&&O.current&&E){const je=E.createElement("style");je.appendChild(E.createTextNode(one)),E.head.appendChild(je),window.getComputedStyle(E.body),qe=setTimeout(()=>{E.head.removeChild(je)},1)}return()=>{clearTimeout(qe)}},[Ce,_,E]),v.useEffect(()=>(O.current=!0,()=>{O.current=!1}),[]);const Me=v.useMemo(()=>({allColorSchemes:q,colorScheme:Ce,darkColorScheme:_e,lightColorScheme:Oe,mode:Pe,setColorScheme:Ae,setMode:te,systemMode:ue}),[q,Ce,_e,Oe,Pe,Ae,te,ue]);let Xe=!0;(w||$.cssVariables===!1||j&&(B==null?void 0:B.cssVarPrefix)===L)&&(Xe=!1);const Mt=f.jsxs(v.Fragment,{children:[f.jsx(q4,{themeId:I?t:void 0,theme:o?o(Ne):Ne,children:S}),Xe&&f.jsx(N4,{styles:((Lt=Ne.generateStyleSheets)==null?void 0:Lt.call(Ne))||[]})]});return j?Mt:f.jsx(c.Provider,{value:Me,children:Mt})}const h=typeof a=="string"?a:a.light,p=typeof a=="string"?a:a.dark;return{CssVarsProvider:d,useColorScheme:u,getInitColorSchemeScript:m=>ine({colorSchemeStorageKey:i,defaultLightColorScheme:h,defaultDarkColorScheme:p,modeStorageKey:r,...m})}}function cne(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const HM=(e,t,n,r=[])=>{let i=e;t.forEach((s,a)=>{a===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},une=(e,t,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([o,l])=>{(!n||n&&!n([...s,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,o],Array.isArray(l)?[...a,o]:a):t([...s,o],l,a))})}r(e)},dne=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function YA(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},a={};return une(e,(o,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(o,l))){const u=`--${n?`${n}-`:""}${o.join("-")}`,d=dne(o,l);Object.assign(i,{[u]:d}),HM(s,o,`var(${u})`,c),HM(a,o,`var(${u}, ${d})`,c)}},o=>o[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function fne(e,t={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:o="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=YA(l,t);let h=d;const p={},{[o]:g,...m}=s;if(Object.entries(m||{}).forEach(([A,_])=>{const{vars:x,css:E,varsWithDefaults:T}=YA(_,t);h=mi(h,T),p[A]={css:E,vars:x}}),g){const{css:A,vars:_,varsWithDefaults:x}=YA(g,t);h=mi(h,x),p[o]={css:A,vars:_}}function S(A,_){var E,T;let x=i;if(i==="class"&&(x=".%s"),i==="data"&&(x="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(x=`[${i}="%s"]`),A){if(x==="media")return e.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${((T=(E=s[A])==null?void 0:E.palette)==null?void 0:T.mode)||A})`]:{":root":_}};if(x)return e.defaultColorScheme===A?`:root, ${x.replace("%s",String(A))}`:x.replace("%s",String(A))}return":root"}return{vars:h,generateThemeVars:()=>{let A={...c};return Object.entries(p).forEach(([,{vars:_}])=>{A=mi(A,_)}),A},generateStyleSheets:()=>{var k,w;const A=[],_=e.defaultColorScheme||"light";function x(O,B){Object.keys(B).length&&A.push(typeof O=="string"?{[O]:{...B}}:O)}x(n(void 0,{...u}),u);const{[_]:E,...T}=p;if(E){const{css:O}=E,B=(w=(k=s[_])==null?void 0:k.palette)==null?void 0:w.mode,F=!r&&B?{colorScheme:B,...O}:{...O};x(n(_,{...F}),F)}return Object.entries(T).forEach(([O,{css:B}])=>{var D,I;const F=(I=(D=s[O])==null?void 0:D.palette)==null?void 0:I.mode,j=!r&&F?{colorScheme:F,...B}:{...B};x(n(O,{...j}),j)}),A}}}function hne(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const $h={black:"#000",white:"#fff"},pne={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Fc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},$c={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},cf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},zc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Uc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Hc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},GM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$h.white,default:$h.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},KA={text:{primary:$h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function qM(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=tE(e.main,i):t==="dark"&&(e.dark=eE(e.main,s)))}function gne(e="light"){return e==="dark"?{main:zc[200],light:zc[50],dark:zc[400]}:{main:zc[700],light:zc[400],dark:zc[800]}}function mne(e="light"){return e==="dark"?{main:Fc[200],light:Fc[50],dark:Fc[400]}:{main:Fc[500],light:Fc[300],dark:Fc[700]}}function yne(e="light"){return e==="dark"?{main:$c[500],light:$c[300],dark:$c[700]}:{main:$c[700],light:$c[400],dark:$c[800]}}function vne(e="light"){return e==="dark"?{main:Uc[400],light:Uc[300],dark:Uc[700]}:{main:Uc[700],light:Uc[500],dark:Uc[900]}}function Ane(e="light"){return e==="dark"?{main:Hc[400],light:Hc[300],dark:Hc[700]}:{main:Hc[800],light:Hc[500],dark:Hc[900]}}function bne(e="light"){return e==="dark"?{main:cf[400],light:cf[300],dark:cf[700]}:{main:"#ed6c02",light:cf[500],dark:cf[900]}}function sE(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||gne(t),a=e.secondary||mne(t),o=e.error||yne(t),l=e.info||vne(t),c=e.success||Ane(t),u=e.warning||bne(t);function d(m){return Yte(m,KA.text.primary)>=n?KA.text.primary:GM.text.primary}const h=({color:m,name:S,mainShade:y=500,lightShade:b=300,darkShade:A=700})=>{if(m={...m},!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(dc(11,S?` (${S})`:"",y));if(typeof m.main!="string")throw new Error(dc(12,S?` (${S})`:"",JSON.stringify(m.main)));return qM(m,"light",b,r),qM(m,"dark",A,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:KA,light:GM};return mi({common:{...$h},mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:o,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:pne,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p[t]},i)}function Sne(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function _ne(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function xne(e){return Math.round(e*1e5)/1e5}const YM={textTransform:"uppercase"},KM='"Roboto", "Helvetica", "Arial", sans-serif';function K4(e,t){const{fontFamily:n=KM,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof t=="function"?t(e):t,h=r/14,p=u||(S=>`${S/l*h}rem`),g=(S,y,b,A,_)=>({fontFamily:n,fontWeight:S,fontSize:p(y),lineHeight:b,...n===KM?{letterSpacing:`${xne(A/y)}em`}:{},..._,...c}),m={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,YM),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,YM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mi({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...m},d,{clone:!1})}const wne=.2,Ene=.14,Tne=.12;function on(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${wne})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Ene})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Tne})`].join(",")}const Cne=["none",on(0,2,1,-1,0,1,1,0,0,1,3,0),on(0,3,1,-2,0,2,2,0,0,1,5,0),on(0,3,3,-2,0,3,4,0,0,1,8,0),on(0,2,4,-1,0,4,5,0,0,1,10,0),on(0,3,5,-1,0,5,8,0,0,1,14,0),on(0,3,5,-1,0,6,10,0,0,1,18,0),on(0,4,5,-2,0,7,10,1,0,2,16,1),on(0,5,5,-3,0,8,10,1,0,3,14,2),on(0,5,6,-3,0,9,12,1,0,3,16,2),on(0,6,6,-3,0,10,14,1,0,4,18,3),on(0,6,7,-4,0,11,15,1,0,4,20,3),on(0,7,8,-4,0,12,17,2,0,5,22,4),on(0,7,8,-4,0,13,19,2,0,5,24,4),on(0,7,9,-4,0,14,21,2,0,5,26,4),on(0,8,9,-5,0,15,22,2,0,6,28,5),on(0,8,10,-5,0,16,24,2,0,6,30,5),on(0,8,11,-5,0,17,26,2,0,6,32,5),on(0,9,11,-5,0,18,28,2,0,7,34,6),on(0,9,12,-6,0,19,29,2,0,7,36,6),on(0,10,13,-6,0,20,31,3,0,8,38,7),on(0,10,13,-6,0,21,33,3,0,8,40,7),on(0,10,14,-6,0,22,35,3,0,8,42,7),on(0,11,14,-7,0,23,36,3,0,9,44,8),on(0,11,15,-7,0,24,38,3,0,9,46,8)],kne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Mne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function QM(e){return`${Math.round(e)}ms`}function Rne(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Ine(e){const t={...kne,...e.easing},n={...Mne,...e.duration};return{getAutoHeightDuration:Rne,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:o=t.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:QM(a)} ${o} ${typeof l=="string"?l:QM(l)}`).join(",")},...e,easing:t,duration:n}}const One={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function zS(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:o={},shape:l,...c}=e;if(e.vars)throw new Error(dc(20));const u=sE(s),d=Jw(e);let h=mi(d,{mixins:_ne(d.breakpoints,r),palette:u,shadows:Cne.slice(),typography:K4(u,o),transitions:Ine(a),zIndex:{...One}});return h=mi(h,c),h=t.reduce((p,g)=>mi(p,g),h),h.unstable_sxConfig={...kp,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(g){return Pd({sx:g,theme:this})},h}function US(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const jne=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=US(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Q4(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function W4(e){return e==="dark"?jne:[]}function Vne(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=sE(t);return{palette:s,opacity:{...Q4(s.mode),...n},overlays:r||W4(s.mode),...i}}function Pne(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Dne=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Bne=e=>(t,n)=>{const r=e.colorSchemeSelector;let i=r;if(r==="class"&&(i=".%s"),r==="data"&&(i="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(i=`[${r}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return Dne(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),i==="media"?{":root":n,"@media (prefers-color-scheme: dark)":{":root":s}}:i?{[i.replace("%s",t)]:s,[`:root, ${i.replace("%s",t)}`]:n}:{":root":{...n,...s}}}if(i&&i!=="media")return`:root, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{":root":n}};if(i)return i.replace("%s",String(t))}return":root"};function Nne(e){return fa(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Lne(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,o]=i[s];!Nne(o)||a.startsWith("unstable_")?delete r[a]:fa(o)&&(r[a]={...o},n(r[a]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Fne(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function Z(e,t,n){!e[t]&&n&&(e[t]=n)}function Mf(e){return!e||!e.startsWith("hsl")?e:z4(e)}function Ra(e,t){`${t}Channel`in e||(e[`${t}Channel`]=kf(Mf(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function $ne(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const sa=e=>{try{return e()}catch{}},zne=(e="mui")=>cne(e);function QA(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Vne({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...a}=zS({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...Q4(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||W4(i)},a}function Une(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=Pne,colorSchemeSelector:o=n.light&&n.dark?"media":void 0,...l}=e,c=Object.keys(n)[0],u=r||(n.light&&c!=="light"?"light":c),d=zne(s),{[u]:h,light:p,dark:g,...m}=n,S={...m};let y=h;if((u==="dark"&&!("dark"in n)||u==="light"&&!("light"in n))&&(y=!0),!y)throw new Error(dc(21,u));const b=QA(S,y,l,u);p&&!S.light&&QA(S,p,void 0,"light"),g&&!S.dark&&QA(S,g,void 0,"dark");let A={defaultColorScheme:u,...b,cssVarPrefix:s,colorSchemeSelector:o,getCssVar:d,colorSchemes:S,font:{...Sne(b.typography),...b.font},spacing:$ne(l.spacing)};Object.keys(A.colorSchemes).forEach(k=>{const w=A.colorSchemes[k].palette,O=B=>{const F=B.split("-"),j=F[1],D=F[2];return d(B,w[j][D])};if(w.mode==="light"&&(Z(w.common,"background","#fff"),Z(w.common,"onBackground","#000")),w.mode==="dark"&&(Z(w.common,"background","#000"),Z(w.common,"onBackground","#fff")),Fne(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){Z(w.Alert,"errorColor",Ut(w.error.light,.6)),Z(w.Alert,"infoColor",Ut(w.info.light,.6)),Z(w.Alert,"successColor",Ut(w.success.light,.6)),Z(w.Alert,"warningColor",Ut(w.warning.light,.6)),Z(w.Alert,"errorFilledBg",O("palette-error-main")),Z(w.Alert,"infoFilledBg",O("palette-info-main")),Z(w.Alert,"successFilledBg",O("palette-success-main")),Z(w.Alert,"warningFilledBg",O("palette-warning-main")),Z(w.Alert,"errorFilledColor",sa(()=>w.getContrastText(w.error.main))),Z(w.Alert,"infoFilledColor",sa(()=>w.getContrastText(w.info.main))),Z(w.Alert,"successFilledColor",sa(()=>w.getContrastText(w.success.main))),Z(w.Alert,"warningFilledColor",sa(()=>w.getContrastText(w.warning.main))),Z(w.Alert,"errorStandardBg",Ht(w.error.light,.9)),Z(w.Alert,"infoStandardBg",Ht(w.info.light,.9)),Z(w.Alert,"successStandardBg",Ht(w.success.light,.9)),Z(w.Alert,"warningStandardBg",Ht(w.warning.light,.9)),Z(w.Alert,"errorIconColor",O("palette-error-main")),Z(w.Alert,"infoIconColor",O("palette-info-main")),Z(w.Alert,"successIconColor",O("palette-success-main")),Z(w.Alert,"warningIconColor",O("palette-warning-main")),Z(w.AppBar,"defaultBg",O("palette-grey-100")),Z(w.Avatar,"defaultBg",O("palette-grey-400")),Z(w.Button,"inheritContainedBg",O("palette-grey-300")),Z(w.Button,"inheritContainedHoverBg",O("palette-grey-A100")),Z(w.Chip,"defaultBorder",O("palette-grey-400")),Z(w.Chip,"defaultAvatarColor",O("palette-grey-700")),Z(w.Chip,"defaultIconColor",O("palette-grey-700")),Z(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Z(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Z(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Z(w.LinearProgress,"primaryBg",Ht(w.primary.main,.62)),Z(w.LinearProgress,"secondaryBg",Ht(w.secondary.main,.62)),Z(w.LinearProgress,"errorBg",Ht(w.error.main,.62)),Z(w.LinearProgress,"infoBg",Ht(w.info.main,.62)),Z(w.LinearProgress,"successBg",Ht(w.success.main,.62)),Z(w.LinearProgress,"warningBg",Ht(w.warning.main,.62)),Z(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),Z(w.Slider,"primaryTrack",Ht(w.primary.main,.62)),Z(w.Slider,"secondaryTrack",Ht(w.secondary.main,.62)),Z(w.Slider,"errorTrack",Ht(w.error.main,.62)),Z(w.Slider,"infoTrack",Ht(w.info.main,.62)),Z(w.Slider,"successTrack",Ht(w.success.main,.62)),Z(w.Slider,"warningTrack",Ht(w.warning.main,.62));const B=Mg(w.background.default,.8);Z(w.SnackbarContent,"bg",B),Z(w.SnackbarContent,"color",sa(()=>w.getContrastText(B))),Z(w.SpeedDialAction,"fabHoverBg",Mg(w.background.paper,.15)),Z(w.StepConnector,"border",O("palette-grey-400")),Z(w.StepContent,"border",O("palette-grey-400")),Z(w.Switch,"defaultColor",O("palette-common-white")),Z(w.Switch,"defaultDisabledColor",O("palette-grey-100")),Z(w.Switch,"primaryDisabledColor",Ht(w.primary.main,.62)),Z(w.Switch,"secondaryDisabledColor",Ht(w.secondary.main,.62)),Z(w.Switch,"errorDisabledColor",Ht(w.error.main,.62)),Z(w.Switch,"infoDisabledColor",Ht(w.info.main,.62)),Z(w.Switch,"successDisabledColor",Ht(w.success.main,.62)),Z(w.Switch,"warningDisabledColor",Ht(w.warning.main,.62)),Z(w.TableCell,"border",Ht(kg(w.divider,1),.88)),Z(w.Tooltip,"bg",kg(w.grey[700],.92))}if(w.mode==="dark"){Z(w.Alert,"errorColor",Ht(w.error.light,.6)),Z(w.Alert,"infoColor",Ht(w.info.light,.6)),Z(w.Alert,"successColor",Ht(w.success.light,.6)),Z(w.Alert,"warningColor",Ht(w.warning.light,.6)),Z(w.Alert,"errorFilledBg",O("palette-error-dark")),Z(w.Alert,"infoFilledBg",O("palette-info-dark")),Z(w.Alert,"successFilledBg",O("palette-success-dark")),Z(w.Alert,"warningFilledBg",O("palette-warning-dark")),Z(w.Alert,"errorFilledColor",sa(()=>w.getContrastText(w.error.dark))),Z(w.Alert,"infoFilledColor",sa(()=>w.getContrastText(w.info.dark))),Z(w.Alert,"successFilledColor",sa(()=>w.getContrastText(w.success.dark))),Z(w.Alert,"warningFilledColor",sa(()=>w.getContrastText(w.warning.dark))),Z(w.Alert,"errorStandardBg",Ut(w.error.light,.9)),Z(w.Alert,"infoStandardBg",Ut(w.info.light,.9)),Z(w.Alert,"successStandardBg",Ut(w.success.light,.9)),Z(w.Alert,"warningStandardBg",Ut(w.warning.light,.9)),Z(w.Alert,"errorIconColor",O("palette-error-main")),Z(w.Alert,"infoIconColor",O("palette-info-main")),Z(w.Alert,"successIconColor",O("palette-success-main")),Z(w.Alert,"warningIconColor",O("palette-warning-main")),Z(w.AppBar,"defaultBg",O("palette-grey-900")),Z(w.AppBar,"darkBg",O("palette-background-paper")),Z(w.AppBar,"darkColor",O("palette-text-primary")),Z(w.Avatar,"defaultBg",O("palette-grey-600")),Z(w.Button,"inheritContainedBg",O("palette-grey-800")),Z(w.Button,"inheritContainedHoverBg",O("palette-grey-700")),Z(w.Chip,"defaultBorder",O("palette-grey-700")),Z(w.Chip,"defaultAvatarColor",O("palette-grey-300")),Z(w.Chip,"defaultIconColor",O("palette-grey-300")),Z(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Z(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Z(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Z(w.LinearProgress,"primaryBg",Ut(w.primary.main,.5)),Z(w.LinearProgress,"secondaryBg",Ut(w.secondary.main,.5)),Z(w.LinearProgress,"errorBg",Ut(w.error.main,.5)),Z(w.LinearProgress,"infoBg",Ut(w.info.main,.5)),Z(w.LinearProgress,"successBg",Ut(w.success.main,.5)),Z(w.LinearProgress,"warningBg",Ut(w.warning.main,.5)),Z(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),Z(w.Slider,"primaryTrack",Ut(w.primary.main,.5)),Z(w.Slider,"secondaryTrack",Ut(w.secondary.main,.5)),Z(w.Slider,"errorTrack",Ut(w.error.main,.5)),Z(w.Slider,"infoTrack",Ut(w.info.main,.5)),Z(w.Slider,"successTrack",Ut(w.success.main,.5)),Z(w.Slider,"warningTrack",Ut(w.warning.main,.5));const B=Mg(w.background.default,.98);Z(w.SnackbarContent,"bg",B),Z(w.SnackbarContent,"color",sa(()=>w.getContrastText(B))),Z(w.SpeedDialAction,"fabHoverBg",Mg(w.background.paper,.15)),Z(w.StepConnector,"border",O("palette-grey-600")),Z(w.StepContent,"border",O("palette-grey-600")),Z(w.Switch,"defaultColor",O("palette-grey-300")),Z(w.Switch,"defaultDisabledColor",O("palette-grey-600")),Z(w.Switch,"primaryDisabledColor",Ut(w.primary.main,.55)),Z(w.Switch,"secondaryDisabledColor",Ut(w.secondary.main,.55)),Z(w.Switch,"errorDisabledColor",Ut(w.error.main,.55)),Z(w.Switch,"infoDisabledColor",Ut(w.info.main,.55)),Z(w.Switch,"successDisabledColor",Ut(w.success.main,.55)),Z(w.Switch,"warningDisabledColor",Ut(w.warning.main,.55)),Z(w.TableCell,"border",Ut(kg(w.divider,1),.68)),Z(w.Tooltip,"bg",kg(w.grey[700],.92))}Ra(w.background,"default"),Ra(w.background,"paper"),Ra(w.common,"background"),Ra(w.common,"onBackground"),Ra(w,"divider"),Object.keys(w).forEach(B=>{const F=w[B];F&&typeof F=="object"&&(F.main&&Z(w[B],"mainChannel",kf(Mf(F.main))),F.light&&Z(w[B],"lightChannel",kf(Mf(F.light))),F.dark&&Z(w[B],"darkChannel",kf(Mf(F.dark))),F.contrastText&&Z(w[B],"contrastTextChannel",kf(Mf(F.contrastText))),B==="text"&&(Ra(w[B],"primary"),Ra(w[B],"secondary")),B==="action"&&(F.active&&Ra(w[B],"active"),F.selected&&Ra(w[B],"selected")))})}),A=t.reduce((k,w)=>mi(k,w),A);const _={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:Bne(A)},{vars:x,generateThemeVars:E,generateStyleSheets:T}=fne(A,_);return A.vars=x,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([k,w])=>{A[k]=w}),A.generateThemeVars=E,A.generateStyleSheets=T,A.generateSpacing=function(){return L4(l.spacing,Ww(this))},A.getColorSchemeSelector=hne(o),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=a,A.unstable_sxConfig={...kp,...l==null?void 0:l.unstable_sxConfig},A.unstable_sx=function(w){return Pd({sx:w,theme:this})},A.toRuntimeSource=Lne,A}function WM(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:sE({...n===!0?{}:n.palette,mode:t})})}function aE(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=e,o=s||"light",l=i==null?void 0:i[o],c={...i,...n?{[o]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return zS(e,...t);let u=n;"palette"in e||c[o]&&(c[o]!==!0?u=c[o].palette:o==="dark"&&(u={mode:"dark"}));const d=zS({...e,palette:u},...t);return d.defaultColorScheme=o,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},WM(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},WM(d,"light",c.light)),d}return!n&&!("light"in c)&&o==="light"&&(c.light=!0),Une({...a,colorSchemes:c,defaultColorScheme:o,...typeof r!="boolean"&&r},...t)}const oE=aE(),eo="$$material";function lE(){const e=$4(oE);return e[eo]||e}function Hne(e){return f.jsx(Nte,{...e,defaultTheme:oE,themeId:eo})}function Gne(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const cE=e=>Gne(e)&&e!=="classes",sn=$te({themeId:eo,defaultTheme:oE,rootShouldForwardProp:cE});function q1e(e){return function(n){return f.jsx(Hne,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function qne(){return Cte}const XM={theme:void 0};function As(e){let t,n;return r=>{let i=t;return(i===void 0||r.theme!==n)&&(XM.theme=r.theme,i=e(XM),t=i,n=r.theme),i}}function $r(e){return nne(e)}function Yne(e){return Lr("MuiSvgIcon",e)}Fr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Kne=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${lt(t)}`,`fontSize${lt(n)}`]};return ni(i,Yne,r)},Qne=sn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${lt(n.color)}`],t[`fontSize${lt(n.fontSize)}`]]}})(As(({theme:e})=>{var t,n,r,i,s,a,o,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:m=>!m.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=e.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,m])=>m&&m.main).map(([m])=>{var S,y;return{props:{color:m},style:{color:(y=(S=(e.vars??e).palette)==null?void 0:S[m])==null?void 0:y.main}}}),{props:{color:"action"},style:{color:(h=(d=(e.vars??e).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(g=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),I0=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,g=v.isValidElement(i)&&i.type==="svg",m={...r,color:a,component:o,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},S={};u||(S.viewBox=h);const y=Kne(m);return f.jsxs(Qne,{as:o,className:St(y.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...S,...p,...g&&i.props,ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]})});I0&&(I0.muiName="SvgIcon");function gt(e,t){function n(r,i){return f.jsx(I0,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=I0.muiName,v.memo(v.forwardRef(n))}const Wne=gt(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),Xne=gt(f.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),O0=gt(f.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function Jne(e){return typeof e.main=="string"}function Zne(e,t=[]){if(!Jne(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function zh(e=[]){return([,t])=>t&&Zne(t,e)}class j0{constructor(){Xd(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new j0}static use(){const t=O4(j0.create).current,[n,r]=v.useState(!1);return t.shouldMount=n,t.setShouldMount=r,v.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=tre(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function ere(){return j0.use()}function tre(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function X4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function HS(e,t){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},HS(e,t)}function J4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,HS(e,t)}var Z4={exports:{}},ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function eP(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ih=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function wo(){}var Jr={d:{f:wo,r:function(){throw Error(eP(522))},D:wo,C:wo,L:wo,m:wo,X:wo,S:wo,M:wo},p:0,findDOMNode:null},nre=Symbol.for("react.portal");function rre(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nre,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xv(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Jr;ri.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(eP(299));return rre(e,t,null,n)};ri.flushSync=function(e){var t=ih.T,n=Jr.p;try{if(ih.T=null,Jr.p=2,e)return e()}finally{ih.T=t,Jr.p=n,Jr.d.f()}};ri.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Jr.d.C(e,t))};ri.prefetchDNS=function(e){typeof e=="string"&&Jr.d.D(e)};ri.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=xv(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Jr.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Jr.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ri.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=xv(t.as,t.crossOrigin);Jr.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Jr.d.M(e)};ri.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=xv(n,t.crossOrigin);Jr.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ri.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=xv(t.as,t.crossOrigin);Jr.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Jr.d.m(e)};ri.requestFormReset=function(e){Jr.d.r(e)};ri.unstable_batchedUpdates=function(e,t){return e(t)};ri.useFormState=function(e,t,n){return ih.H.useFormState(e,t,n)};ri.useFormStatus=function(){return ih.H.useHostTransitionStatus()};ri.version="19.0.0-beta-26f2496093-20240514";function tP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tP)}catch(e){console.error(e)}}tP(),Z4.exports=ri;var kc=Z4.exports;const Rg=kr(kc),JM={disabled:!1},V0=ke.createContext(null);var ire=function(t){return t.scrollTop},Rf="unmounted",Ml="exited",Rl="entering",tu="entered",GS="exiting",Ao=function(e){J4(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=i,o=a&&!a.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?o?(l=Ml,s.appearStatus=Rl):l=tu:r.unmountOnExit||r.mountOnEnter?l=Rf:l=Ml,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Rf?{status:Ml}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Rl&&a!==tu&&(s=Rl):(a===Rl||a===tu)&&(s=GS)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Rl){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Rg.findDOMNode(this);a&&ire(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ml&&this.setState({status:Rf})},n.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[Rg.findDOMNode(this),o],c=l[0],u=l[1],d=this.getTimeouts(),h=o?d.appear:d.enter;if(!i&&!a||JM.disabled){this.safeSetState({status:tu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Rl},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:tu},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Rg.findDOMNode(this);if(!s||JM.disabled){this.safeSetState({status:Ml},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:GS},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Ml},function(){i.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Rg.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Rf)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=X4(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(V0.Provider,{value:null},typeof a=="function"?a(i,o):ke.cloneElement(ke.Children.only(a),o))},t}(ke.Component);Ao.contextType=V0;Ao.propTypes={};function Gc(){}Ao.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gc,onEntering:Gc,onEntered:Gc,onExit:Gc,onExiting:Gc,onExited:Gc};Ao.UNMOUNTED=Rf;Ao.EXITED=Ml;Ao.ENTERING=Rl;Ao.ENTERED=tu;Ao.EXITING=GS;function sre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uE(e,t){var n=function(s){return t&&v.isValidElement(s)?t(s):s},r=Object.create(null);return e&&v.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function are(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var a,o={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var c=r[l][a];o[r[l][a]]=n(c)}o[l]=n(l)}for(a=0;a<i.length;a++)o[i[a]]=n(i[a]);return o}function Nl(e,t,n){return n[t]!=null?n[t]:e.props[t]}function ore(e,t){return uE(e.children,function(n){return v.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Nl(n,"appear",e),enter:Nl(n,"enter",e),exit:Nl(n,"exit",e)})})}function lre(e,t,n){var r=uE(e.children),i=are(t,r);return Object.keys(i).forEach(function(s){var a=i[s];if(v.isValidElement(a)){var o=s in t,l=s in r,c=t[s],u=v.isValidElement(c)&&!c.props.in;l&&(!o||u)?i[s]=v.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Nl(a,"exit",e),enter:Nl(a,"enter",e)}):!l&&o&&!u?i[s]=v.cloneElement(a,{in:!1}):l&&o&&v.isValidElement(c)&&(i[s]=v.cloneElement(a,{onExited:n.bind(null,a),in:c.props.in,exit:Nl(a,"exit",e),enter:Nl(a,"enter",e)}))}}),i}var cre=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ure={component:"div",childFactory:function(t){return t}},dE=function(e){J4(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=s.handleExited.bind(sre(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?ore(i,o):lre(i,a,o),firstRender:!1}},n.handleExited=function(i,s){var a=uE(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var l=w0({},o.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=X4(i,["component","childFactory"]),l=this.state.contextValue,c=cre(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?ke.createElement(V0.Provider,{value:l},c):ke.createElement(V0.Provider,{value:l},ke.createElement(s,o,c))},t}(ke.Component);dE.propTypes={};dE.defaultProps=ure;function dre(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:c}=e,[u,d]=v.useState(!1),h=St(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},g=St(n.child,u&&n.childLeaving,r&&n.childPulsate);return!o&&!u&&d(!0),v.useEffect(()=>{if(!o&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,o,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Xi=Fr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qS=550,fre=80,hre=Tc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,pre=Tc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,gre=Tc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,mre=sn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),yre=sn(dre,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Xi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${hre};
    animation-duration: ${qS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Xi.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Xi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Xi.childLeaving} {
    opacity: 0;
    animation-name: ${pre};
    animation-duration: ${qS}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Xi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${gre};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,vre=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...o}=r,[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=v.useRef(!1),p=Eee(),g=v.useRef(null),m=v.useRef(null),S=v.useCallback(_=>{const{pulsate:x,rippleX:E,rippleY:T,rippleSize:k,cb:w}=_;c(O=>[...O,f.jsx(yre,{classes:{ripple:St(s.ripple,Xi.ripple),rippleVisible:St(s.rippleVisible,Xi.rippleVisible),ripplePulsate:St(s.ripplePulsate,Xi.ripplePulsate),child:St(s.child,Xi.child),childLeaving:St(s.childLeaving,Xi.childLeaving),childPulsate:St(s.childPulsate,Xi.childPulsate)},timeout:qS,pulsate:x,rippleX:E,rippleY:T,rippleSize:k},u.current)]),u.current+=1,d.current=w},[s]),y=v.useCallback((_={},x={},E=()=>{})=>{const{pulsate:T=!1,center:k=i||x.pulsate,fakeElement:w=!1}=x;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const O=w?null:m.current,B=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,j,D;if(k||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)F=Math.round(B.width/2),j=Math.round(B.height/2);else{const{clientX:I,clientY:C}=_.touches&&_.touches.length>0?_.touches[0]:_;F=Math.round(I-B.left),j=Math.round(C-B.top)}if(k)D=Math.sqrt((2*B.width**2+B.height**2)/3),D%2===0&&(D+=1);else{const I=Math.max(Math.abs((O?O.clientWidth:0)-F),F)*2+2,C=Math.max(Math.abs((O?O.clientHeight:0)-j),j)*2+2;D=Math.sqrt(I**2+C**2)}_!=null&&_.touches?g.current===null&&(g.current=()=>{S({pulsate:T,rippleX:F,rippleY:j,rippleSize:D,cb:E})},p.start(fre,()=>{g.current&&(g.current(),g.current=null)})):S({pulsate:T,rippleX:F,rippleY:j,rippleSize:D,cb:E})},[i,S,p]),b=v.useCallback(()=>{y({},{pulsate:!0})},[y]),A=v.useCallback((_,x)=>{if(p.clear(),(_==null?void 0:_.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{A(_,x)});return}g.current=null,c(E=>E.length>0?E.slice(1):E),d.current=x},[p]);return v.useImperativeHandle(n,()=>({pulsate:b,start:y,stop:A}),[b,y,A]),f.jsx(mre,{className:St(Xi.root,s.root,a),ref:m,...o,children:f.jsx(dE,{component:null,exit:!0,children:l})})});function Are(e){return Lr("MuiButtonBase",e)}const bre=Fr("MuiButtonBase",["root","disabled","focusVisible"]),Sre=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,a=ni({root:["root",t&&"disabled",n&&"focusVisible"]},Are,i);return n&&r&&(a.root+=` ${r}`),a},_re=sn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${bre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),nP=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:m,onClick:S,onContextMenu:y,onDragLeave:b,onFocus:A,onFocusVisible:_,onKeyDown:x,onKeyUp:E,onMouseDown:T,onMouseLeave:k,onMouseUp:w,onTouchEnd:O,onTouchMove:B,onTouchStart:F,tabIndex:j=0,TouchRippleProps:D,touchRippleRef:I,type:C,...P}=r,L=v.useRef(null),$=ere(),U=al($.ref,I),[q,H]=v.useState(!1);c&&q&&H(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{H(!0),L.current.focus()}}),[]);const ne=$.shouldMount&&!u&&!c;v.useEffect(()=>{q&&h&&!u&&$.pulsate()},[u,h,q,$]);function N(we,ct,Lt=d){return hu(qe=>(ct&&ct(qe),Lt||$[we](qe),!0))}const he=N("start",T),te=N("stop",y),ue=N("stop",b),Oe=N("stop",w),_e=N("stop",we=>{q&&we.preventDefault(),k&&k(we)}),le=N("start",F),Ae=N("stop",O),Pe=N("stop",B),Ce=N("stop",we=>{DM(we.target)||H(!1),m&&m(we)},!1),Se=hu(we=>{L.current||(L.current=we.currentTarget),DM(we.target)&&(H(!0),_&&_(we)),A&&A(we)}),xe=()=>{const we=L.current;return l&&l!=="button"&&!(we.tagName==="A"&&we.href)},Ne=hu(we=>{h&&!we.repeat&&q&&we.key===" "&&$.stop(we,()=>{$.start(we)}),we.target===we.currentTarget&&xe()&&we.key===" "&&we.preventDefault(),x&&x(we),we.target===we.currentTarget&&xe()&&we.key==="Enter"&&!c&&(we.preventDefault(),S&&S(we))}),He=hu(we=>{h&&we.key===" "&&q&&!we.defaultPrevented&&$.stop(we,()=>{$.pulsate(we)}),E&&E(we),S&&we.target===we.currentTarget&&xe()&&we.key===" "&&!we.defaultPrevented&&S(we)});let Me=l;Me==="button"&&(P.href||P.to)&&(Me=g);const Xe={};Me==="button"?(Xe.type=C===void 0?"button":C,Xe.disabled=c):(!P.href&&!P.to&&(Xe.role="button"),c&&(Xe["aria-disabled"]=c));const Mt=al(n,L),Zt={...r,centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:j,focusVisible:q},Rt=Sre(Zt);return f.jsxs(_re,{as:Me,className:St(Rt.root,o),ownerState:Zt,onBlur:Ce,onClick:S,onContextMenu:te,onFocus:Se,onKeyDown:Ne,onKeyUp:He,onMouseDown:he,onMouseLeave:_e,onMouseUp:Oe,onDragLeave:ue,onTouchEnd:Ae,onTouchMove:Pe,onTouchStart:le,ref:Mt,tabIndex:c?-1:j,type:C,...Xe,...P,children:[a,ne?f.jsx(vre,{ref:U,center:s,...D}):null]})});function xre(e){return Lr("MuiIconButton",e)}const wre=Fr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ere=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${lt(r)}`,i&&`edge${lt(i)}`,`size${lt(s)}`]};return ni(a,xre,t)},Tre=sn(nP,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${lt(n.color)}`],n.edge&&t[`edge${lt(n.edge)}`],t[`size${lt(n.size)}`]]}})(As(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ls(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),As(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(zh()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(zh()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ls((e.vars||e).palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${wre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}}))),wv=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:c=!1,disableRipple:u=!1,size:d="medium",...h}=r,p={...r,edge:i,color:o,disabled:l,disableFocusRipple:c,disableRipple:u,size:d},g=Ere(p);return f.jsx(Tre,{className:St(g.root,a),centerRipple:!0,focusRipple:!c,disabled:l,disableRipple:u,ref:n,...h,ownerState:p,children:s})}),od=Math.min,Ql=Math.max,P0=Math.round,Ig=Math.floor,ll=e=>({x:e,y:e}),Cre={left:"right",right:"left",bottom:"top",top:"bottom"},kre={start:"end",end:"start"};function YS(e,t,n){return Ql(e,od(t,n))}function Mp(e,t){return typeof e=="function"?e(t):e}function fc(e){return e.split("-")[0]}function Rp(e){return e.split("-")[1]}function rP(e){return e==="x"?"y":"x"}function fE(e){return e==="y"?"height":"width"}function ld(e){return["top","bottom"].includes(fc(e))?"y":"x"}function hE(e){return rP(ld(e))}function Mre(e,t,n){n===void 0&&(n=!1);const r=Rp(e),i=hE(e),s=fE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=D0(a)),[a,D0(a)]}function Rre(e){const t=D0(e);return[KS(e),t,KS(t)]}function KS(e){return e.replace(/start|end/g,t=>kre[t])}function Ire(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function Ore(e,t,n,r){const i=Rp(e);let s=Ire(fc(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(KS)))),s}function D0(e){return e.replace(/left|right|bottom|top/g,t=>Cre[t])}function jre(e){return{top:0,right:0,bottom:0,left:0,...e}}function iP(e){return typeof e!="number"?jre(e):{top:e,right:e,bottom:e,left:e}}function B0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ZM(e,t,n){let{reference:r,floating:i}=e;const s=ld(t),a=hE(t),o=fE(a),l=fc(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Rp(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1);break}return p}const Vre=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ZM(c,r,l),h=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:S,fn:y}=o[m],{x:b,y:A,data:_,reset:x}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=b??u,d=A??d,p={...p,[S]:{...p[S],..._}},x&&g<=50&&(g++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(c=x.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:u,y:d}=ZM(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function sP(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Mp(t,e),g=iP(p),S=o[h?d==="floating"?"reference":"floating":d],y=B0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),_=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},x=B0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:A,strategy:l}):b);return{top:(y.top-x.top+g.top)/_.y,bottom:(x.bottom-y.bottom+g.bottom)/_.y,left:(y.left-x.left+g.left)/_.x,right:(x.right-y.right+g.right)/_.x}}const Pre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=Mp(e,t)||{};if(c==null)return{};const d=iP(u),h={x:n,y:r},p=hE(i),g=fE(p),m=await a.getDimensions(c),S=p==="y",y=S?"top":"left",b=S?"bottom":"right",A=S?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[p]-h[p]-s.floating[g],x=h[p]-s.reference[p],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let T=E?E[A]:0;(!T||!await(a.isElement==null?void 0:a.isElement(E)))&&(T=o.floating[A]||s.floating[g]);const k=_/2-x/2,w=T/2-m[g]/2-1,O=od(d[y],w),B=od(d[b],w),F=O,j=T-m[g]-B,D=T/2-m[g]/2+k,I=YS(F,D,j),C=!l.arrow&&Rp(i)!=null&&D!==I&&s.reference[g]/2-(D<F?O:B)-m[g]/2<0,P=C?D<F?D-F:D-j:0;return{[p]:h[p]+P,data:{[p]:I,centerOffset:D-I-P,...C&&{alignmentOffset:P}},reset:C}}}),Dre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...S}=Mp(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=fc(i),b=ld(o),A=fc(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=h||(A||!m?[D0(o)]:Rre(o)),E=g!=="none";!h&&E&&x.push(...Ore(o,m,g,_));const T=[o,...x],k=await sP(t,S),w=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&w.push(k[y]),d){const D=Mre(i,a,_);w.push(k[D[0]],k[D[1]])}if(O=[...O,{placement:i,overflows:w}],!w.every(D=>D<=0)){var B,F;const D=(((B=s.flip)==null?void 0:B.index)||0)+1,I=T[D];if(I)return{data:{index:D,overflows:O},reset:{placement:I}};let C=(F=O.filter(P=>P.overflows[0]<=0).sort((P,L)=>P.overflows[1]-L.overflows[1])[0])==null?void 0:F.placement;if(!C)switch(p){case"bestFit":{var j;const P=(j=O.filter(L=>{if(E){const $=ld(L.placement);return $===b||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,U)=>$+U,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:j[0];P&&(C=P);break}case"initialPlacement":C=o;break}if(i!==C)return{reset:{placement:C}}}return{}}}};async function Bre(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=fc(n),o=Rp(n),l=ld(n)==="y",c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,d=Mp(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Nre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await Bre(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Lre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:S=>{let{x:y,y:b}=S;return{x:y,y:b}}},...l}=Mp(e,t),c={x:n,y:r},u=await sP(t,l),d=ld(fc(i)),h=rP(d);let p=c[h],g=c[d];if(s){const S=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+u[S],A=p-u[y];p=YS(b,p,A)}if(a){const S=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=g+u[S],A=g-u[y];g=YS(b,g,A)}const m=o.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function Dd(e){return aP(e)?(e.nodeName||"").toLowerCase():"#document"}function Oi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bo(e){var t;return(t=(aP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aP(e){return e instanceof Node||e instanceof Oi(e).Node}function _a(e){return e instanceof Element||e instanceof Oi(e).Element}function xa(e){return e instanceof HTMLElement||e instanceof Oi(e).HTMLElement}function eR(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Oi(e).ShadowRoot}function Ip(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Zs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Fre(e){return["table","td","th"].includes(Dd(e))}function Ev(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pE(e){const t=gE(),n=Zs(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $re(e){let t=cl(e);for(;xa(t)&&!cd(t);){if(Ev(t))return null;if(pE(t))return t;t=cl(t)}return null}function gE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cd(e){return["html","body","#document"].includes(Dd(e))}function Zs(e){return Oi(e).getComputedStyle(e)}function Tv(e){return _a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cl(e){if(Dd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eR(e)&&e.host||bo(e);return eR(t)?t.host:t}function oP(e){const t=cl(e);return cd(t)?e.ownerDocument?e.ownerDocument.body:e.body:xa(t)&&Ip(t)?t:oP(t)}function Uh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=oP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Oi(i);return s?t.concat(a,a.visualViewport||[],Ip(i)?i:[],a.frameElement&&n?Uh(a.frameElement):[]):t.concat(i,Uh(i,[],n))}function lP(e){const t=Zs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=xa(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=P0(n)!==s||P0(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function mE(e){return _a(e)?e:e.contextElement}function Bu(e){const t=mE(e);if(!xa(t))return ll(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=lP(t);let a=(s?P0(n.width):n.width)/r,o=(s?P0(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const zre=ll(0);function cP(e){const t=Oi(e);return!gE()||!t.visualViewport?zre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ure(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Oi(e)?!1:t}function hc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=mE(e);let a=ll(1);t&&(r?_a(r)&&(a=Bu(r)):a=Bu(e));const o=Ure(s,n,r)?cP(s):ll(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const h=Oi(s),p=r&&_a(r)?Oi(r):r;let g=h,m=g.frameElement;for(;m&&r&&p!==g;){const S=Bu(m),y=m.getBoundingClientRect(),b=Zs(m),A=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*S.x,_=y.top+(m.clientTop+parseFloat(b.paddingTop))*S.y;l*=S.x,c*=S.y,u*=S.x,d*=S.y,l+=A,c+=_,g=Oi(m),m=g.frameElement}}return B0({width:u,height:d,x:l,y:c})}function Hre(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=bo(r),o=t?Ev(t.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ll(1);const u=ll(0),d=xa(r);if((d||!d&&!s)&&((Dd(r)!=="body"||Ip(a))&&(l=Tv(r)),xa(r))){const h=hc(r);c=Bu(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Gre(e){return Array.from(e.getClientRects())}function uP(e){return hc(bo(e)).left+Tv(e).scrollLeft}function qre(e){const t=bo(e),n=Tv(e),r=e.ownerDocument.body,i=Ql(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ql(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+uP(e);const o=-n.scrollTop;return Zs(r).direction==="rtl"&&(a+=Ql(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Yre(e,t){const n=Oi(e),r=bo(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=gE();(!c||c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function Kre(e,t){const n=hc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=xa(e)?Bu(e):ll(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function tR(e,t,n){let r;if(t==="viewport")r=Yre(e,n);else if(t==="document")r=qre(bo(e));else if(_a(t))r=Kre(t,n);else{const i=cP(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return B0(r)}function dP(e,t){const n=cl(e);return n===t||!_a(n)||cd(n)?!1:Zs(n).position==="fixed"||dP(n,t)}function Qre(e,t){const n=t.get(e);if(n)return n;let r=Uh(e,[],!1).filter(o=>_a(o)&&Dd(o)!=="body"),i=null;const s=Zs(e).position==="fixed";let a=s?cl(e):e;for(;_a(a)&&!cd(a);){const o=Zs(a),l=pE(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ip(a)&&!l&&dP(e,a))?r=r.filter(u=>u!==a):i=o,a=cl(a)}return t.set(e,r),r}function Wre(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Ev(t)?[]:Qre(t,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,u)=>{const d=tR(t,u,i);return c.top=Ql(d.top,c.top),c.right=od(d.right,c.right),c.bottom=od(d.bottom,c.bottom),c.left=Ql(d.left,c.left),c},tR(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xre(e){const{width:t,height:n}=lP(e);return{width:t,height:n}}function Jre(e,t,n){const r=xa(t),i=bo(t),s=n==="fixed",a=hc(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=ll(0);if(r||!r&&!s)if((Dd(t)!=="body"||Ip(i))&&(o=Tv(t)),r){const d=hc(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=uP(i));const c=a.left+o.scrollLeft-l.x,u=a.top+o.scrollTop-l.y;return{x:c,y:u,width:a.width,height:a.height}}function WA(e){return Zs(e).position==="static"}function nR(e,t){return!xa(e)||Zs(e).position==="fixed"?null:t?t(e):e.offsetParent}function fP(e,t){const n=Oi(e);if(Ev(e))return n;if(!xa(e)){let i=cl(e);for(;i&&!cd(i);){if(_a(i)&&!WA(i))return i;i=cl(i)}return n}let r=nR(e,t);for(;r&&Fre(r)&&WA(r);)r=nR(r,t);return r&&cd(r)&&WA(r)&&!pE(r)?n:r||$re(e)||n}const Zre=async function(e){const t=this.getOffsetParent||fP,n=this.getDimensions,r=await n(e.floating);return{reference:Jre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eie(e){return Zs(e).direction==="rtl"}const tie={convertOffsetParentRelativeRectToViewportRelativeRect:Hre,getDocumentElement:bo,getClippingRect:Wre,getOffsetParent:fP,getElementRects:Zre,getClientRects:Gre,getDimensions:Xre,getScale:Bu,isElement:_a,isRTL:eie};function nie(e,t){let n=null,r;const i=bo(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(o||t(),!d||!h)return;const p=Ig(u),g=Ig(i.clientWidth-(c+d)),m=Ig(i.clientHeight-(u+h)),S=Ig(c),b={rootMargin:-p+"px "+-g+"px "+-m+"px "+-S+"px",threshold:Ql(0,od(1,l))||1};let A=!0;function _(x){const E=x[0].intersectionRatio;if(E!==l){if(!A)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A=!1}try{n=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return a(!0),s}function rie(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=mE(e),u=i||s?[...c?Uh(c):[],...Uh(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&o?nie(c,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?hc(e):null;l&&S();function S(){const y=hc(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,g=requestAnimationFrame(S)}return n(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const iie=Nre,sie=Lre,aie=Dre,oie=Pre,rR=(e,t,n)=>{const r=new Map,i={platform:tie,...n},s={...i.platform,_c:r};return Vre(e,t,{...i,platform:s})};var hP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)t.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(hP);var lie=hP.exports;const QS=kr(lie);var iR={};const cie="react-tooltip-core-styles",uie="react-tooltip-base-styles",sR={core:!1,base:!1};function aR({css:e,id:t=uie,type:n="base",ref:r}){var i,s;if(!e||typeof document>"u"||sR[n]||n==="core"&&typeof process<"u"&&(!((i=process==null?void 0:iR)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||n!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:iR)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;n==="core"&&(t=cie),r||(r={});const{insertAt:a}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",a==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),sR[n]=!0}const oR=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:a=[iie(Number(i)),aie({fallbackAxisSideDirection:"start"}),sie({padding:5})],border:o})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=a;return n?(l.push(oie({element:n,padding:5})),rR(e,t,{placement:r,strategy:s,middleware:l}).then(({x:c,y:u,placement:d,middlewareData:h})=>{var p,g;const m={left:`${c}px`,top:`${u}px`,border:o},{x:S,y}=(p=h.arrow)!==null&&p!==void 0?p:{x:0,y:0},b=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]])!==null&&g!==void 0?g:"bottom",A=o&&{borderBottom:o,borderRight:o};let _=0;if(o){const x=`${o}`.match(/(\d+)px/);_=x!=null&&x[1]?Number(x[1]):1}return{tooltipStyles:m,tooltipArrowStyles:{left:S!=null?`${S}px`:"",top:y!=null?`${y}px`:"",right:"",bottom:"",...A,[b]:`-${4+_}px`},place:d}})):rR(e,t,{placement:"bottom",strategy:s,middleware:l}).then(({x:c,y:u,placement:d})=>({tooltipStyles:{left:`${c}px`,top:`${u}px`},tooltipArrowStyles:{},place:d}))},lR=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),cR=(e,t,n)=>{let r=null;const i=function(...s){const a=()=>{r=null};!r&&(e.apply(this,s),r=setTimeout(a,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},uR=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",WS=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,s)=>WS(i,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!uR(e)||!uR(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>WS(e[i],t[i]))},die=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(n=>{const r=t.getPropertyValue(n);return r==="auto"||r==="scroll"})},dR=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(die(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},fie=typeof window<"u"?v.useLayoutEffect:v.useEffect,hie="DEFAULT_TOOLTIP_ID",pie={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},gie=v.createContext({getTooltipData:()=>pie});function pP(e=hie){return v.useContext(gie).getTooltipData(e)}var qc={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},XA={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const mie=({forwardRef:e,id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:a,place:o="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:g=0,delayHide:m=0,float:S=!1,hidden:y=!1,noArrow:b=!1,clickable:A=!1,closeOnEsc:_=!1,closeOnScroll:x=!1,closeOnResize:E=!1,openEvents:T,closeEvents:k,globalCloseEvents:w,imperativeModeOnly:O,style:B,position:F,afterShow:j,afterHide:D,content:I,contentWrapperRef:C,isOpen:P,defaultIsOpen:L=!1,setIsOpen:$,activeAnchor:U,setActiveAnchor:q,border:H,opacity:ne,arrowColor:N,role:he="tooltip"})=>{var te;const ue=v.useRef(null),Oe=v.useRef(null),_e=v.useRef(null),le=v.useRef(null),Ae=v.useRef(null),[Pe,Ce]=v.useState({tooltipStyles:{},tooltipArrowStyles:{},place:o}),[Se,xe]=v.useState(!1),[Ne,He]=v.useState(!1),[Me,Xe]=v.useState(null),Mt=v.useRef(!1),Zt=v.useRef(null),{anchorRefs:Rt,setActiveAnchor:we}=pP(t),ct=v.useRef(!1),[Lt,qe]=v.useState([]),je=v.useRef(!1),It=u||c.includes("click"),ut=It||(T==null?void 0:T.click)||(T==null?void 0:T.dblclick)||(T==null?void 0:T.mousedown),st=T?{...T}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!T&&It&&Object.assign(st,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Mn=k?{...k}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!k&&It&&Object.assign(Mn,{mouseleave:!1,blur:!1,mouseout:!1});const Ct=w?{...w}:{escape:_||!1,scroll:x||!1,resize:E||!1,clickOutsideAnchor:ut||!1};O&&(Object.assign(st,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Mn,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ct,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),fie(()=>(je.current=!0,()=>{je.current=!1}),[]);const dt=ve=>{je.current&&(ve&&He(!0),setTimeout(()=>{je.current&&($==null||$(ve),P===void 0&&xe(ve))},10))};v.useEffect(()=>{if(P===void 0)return()=>null;P&&He(!0);const ve=setTimeout(()=>{xe(P)},10);return()=>{clearTimeout(ve)}},[P]),v.useEffect(()=>{if(Se!==Mt.current)if(Ae.current&&clearTimeout(Ae.current),Mt.current=Se,Se)j==null||j();else{const ve=(ze=>{const Ke=ze.match(/^([\d.]+)(ms|s)$/);if(!Ke)return 0;const[,$n,ir]=Ke;return Number($n)*(ir==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Ae.current=setTimeout(()=>{He(!1),Xe(null),D==null||D()},ve+25)}},[Se]);const hn=ve=>{Ce(ze=>WS(ze,ve)?ze:ve)},Sn=(ve=g)=>{_e.current&&clearTimeout(_e.current),Ne?dt(!0):_e.current=setTimeout(()=>{dt(!0)},ve)},an=(ve=m)=>{le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{ct.current||dt(!1)},ve)},vt=ve=>{var ze;if(!ve)return;const Ke=(ze=ve.currentTarget)!==null&&ze!==void 0?ze:ve.target;if(!(Ke!=null&&Ke.isConnected))return q(null),void we({current:null});g?Sn():dt(!0),q(Ke),we({current:Ke}),le.current&&clearTimeout(le.current)},Wn=()=>{A?an(m||100):m?an():dt(!1),_e.current&&clearTimeout(_e.current)},Rr=({x:ve,y:ze})=>{var Ke;const $n={getBoundingClientRect:()=>({x:ve,y:ze,width:0,height:0,top:ze,left:ve,right:ve,bottom:ze})};oR({place:(Ke=Me==null?void 0:Me.place)!==null&&Ke!==void 0?Ke:o,offset:l,elementReference:$n,tooltipReference:ue.current,tooltipArrowReference:Oe.current,strategy:d,middlewares:h,border:H}).then(ir=>{hn(ir)})},Rn=ve=>{if(!ve)return;const ze=ve,Ke={x:ze.clientX,y:ze.clientY};Rr(Ke),Zt.current=Ke},$i=ve=>{var ze;if(!Se)return;const Ke=ve.target;Ke.isConnected&&(!((ze=ue.current)===null||ze===void 0)&&ze.contains(Ke)||[document.querySelector(`[id='${s}']`),...Lt].some($n=>$n==null?void 0:$n.contains(Ke))||(dt(!1),_e.current&&clearTimeout(_e.current)))},Si=cR(vt,50),Ot=cR(Wn,50),In=ve=>{Ot.cancel(),Si(ve)},Fe=()=>{Si.cancel(),Ot()},nt=v.useCallback(()=>{var ve,ze;const Ke=(ve=Me==null?void 0:Me.position)!==null&&ve!==void 0?ve:F;Ke?Rr(Ke):S?Zt.current&&Rr(Zt.current):U!=null&&U.isConnected&&oR({place:(ze=Me==null?void 0:Me.place)!==null&&ze!==void 0?ze:o,offset:l,elementReference:U,tooltipReference:ue.current,tooltipArrowReference:Oe.current,strategy:d,middlewares:h,border:H}).then($n=>{je.current&&hn($n)})},[Se,U,I,B,o,Me==null?void 0:Me.place,l,d,F,Me==null?void 0:Me.position,S]);v.useEffect(()=>{var ve,ze;const Ke=new Set(Rt);Lt.forEach(Ft=>{Ke.add({current:Ft})});const $n=document.querySelector(`[id='${s}']`);$n&&Ke.add({current:$n});const ir=()=>{dt(!1)},xi=dR(U),zi=dR(ue.current);Ct.scroll&&(window.addEventListener("scroll",ir),xi==null||xi.addEventListener("scroll",ir),zi==null||zi.addEventListener("scroll",ir));let gr=null;Ct.resize?window.addEventListener("resize",ir):U&&ue.current&&(gr=rie(U,ue.current,nt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const ii=Ft=>{Ft.key==="Escape"&&dt(!1)};Ct.escape&&window.addEventListener("keydown",ii),Ct.clickOutsideAnchor&&window.addEventListener("click",$i);const Kt=[],yl=Ft=>{Se&&(Ft==null?void 0:Ft.target)===U||vt(Ft)},rA=Ft=>{Se&&(Ft==null?void 0:Ft.target)===U&&Wn()},Yp=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Kp=["click","dblclick","mousedown","mouseup"];Object.entries(st).forEach(([Ft,Cs])=>{Cs&&(Yp.includes(Ft)?Kt.push({event:Ft,listener:In}):Kp.includes(Ft)&&Kt.push({event:Ft,listener:yl}))}),Object.entries(Mn).forEach(([Ft,Cs])=>{Cs&&(Yp.includes(Ft)?Kt.push({event:Ft,listener:Fe}):Kp.includes(Ft)&&Kt.push({event:Ft,listener:rA}))}),S&&Kt.push({event:"pointermove",listener:Rn});const Qp=()=>{ct.current=!0},Wp=()=>{ct.current=!1,Wn()};return A&&!ut&&((ve=ue.current)===null||ve===void 0||ve.addEventListener("mouseenter",Qp),(ze=ue.current)===null||ze===void 0||ze.addEventListener("mouseleave",Wp)),Kt.forEach(({event:Ft,listener:Cs})=>{Ke.forEach(Kd=>{var vl;(vl=Kd.current)===null||vl===void 0||vl.addEventListener(Ft,Cs)})}),()=>{var Ft,Cs;Ct.scroll&&(window.removeEventListener("scroll",ir),xi==null||xi.removeEventListener("scroll",ir),zi==null||zi.removeEventListener("scroll",ir)),Ct.resize?window.removeEventListener("resize",ir):gr==null||gr(),Ct.clickOutsideAnchor&&window.removeEventListener("click",$i),Ct.escape&&window.removeEventListener("keydown",ii),A&&!ut&&((Ft=ue.current)===null||Ft===void 0||Ft.removeEventListener("mouseenter",Qp),(Cs=ue.current)===null||Cs===void 0||Cs.removeEventListener("mouseleave",Wp)),Kt.forEach(({event:Kd,listener:vl})=>{Ke.forEach(iA=>{var Bc;(Bc=iA.current)===null||Bc===void 0||Bc.removeEventListener(Kd,vl)})})}},[U,nt,Ne,Rt,Lt,T,k,w,It,g,m]),v.useEffect(()=>{var ve,ze;let Ke=(ze=(ve=Me==null?void 0:Me.anchorSelect)!==null&&ve!==void 0?ve:a)!==null&&ze!==void 0?ze:"";!Ke&&t&&(Ke=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const $n=new MutationObserver(ir=>{const xi=[],zi=[];ir.forEach(gr=>{if(gr.type==="attributes"&&gr.attributeName==="data-tooltip-id"&&(gr.target.getAttribute("data-tooltip-id")===t?xi.push(gr.target):gr.oldValue===t&&zi.push(gr.target)),gr.type==="childList"){if(U){const ii=[...gr.removedNodes].filter(Kt=>Kt.nodeType===1);if(Ke)try{zi.push(...ii.filter(Kt=>Kt.matches(Ke))),zi.push(...ii.flatMap(Kt=>[...Kt.querySelectorAll(Ke)]))}catch{}ii.some(Kt=>{var yl;return!!(!((yl=Kt==null?void 0:Kt.contains)===null||yl===void 0)&&yl.call(Kt,U))&&(He(!1),dt(!1),q(null),_e.current&&clearTimeout(_e.current),le.current&&clearTimeout(le.current),!0)})}if(Ke)try{const ii=[...gr.addedNodes].filter(Kt=>Kt.nodeType===1);xi.push(...ii.filter(Kt=>Kt.matches(Ke))),xi.push(...ii.flatMap(Kt=>[...Kt.querySelectorAll(Ke)]))}catch{}}}),(xi.length||zi.length)&&qe(gr=>[...gr.filter(ii=>!zi.includes(ii)),...xi])});return $n.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{$n.disconnect()}},[t,a,Me==null?void 0:Me.anchorSelect,U]),v.useEffect(()=>{nt()},[nt]),v.useEffect(()=>{if(!(C!=null&&C.current))return()=>null;const ve=new ResizeObserver(()=>{setTimeout(()=>nt())});return ve.observe(C.current),()=>{ve.disconnect()}},[I,C==null?void 0:C.current]),v.useEffect(()=>{var ve;const ze=document.querySelector(`[id='${s}']`),Ke=[...Lt,ze];U&&Ke.includes(U)||q((ve=Lt[0])!==null&&ve!==void 0?ve:ze)},[s,Lt,U]),v.useEffect(()=>(L&&dt(!0),()=>{_e.current&&clearTimeout(_e.current),le.current&&clearTimeout(le.current)}),[]),v.useEffect(()=>{var ve;let ze=(ve=Me==null?void 0:Me.anchorSelect)!==null&&ve!==void 0?ve:a;if(!ze&&t&&(ze=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ze)try{const Ke=Array.from(document.querySelectorAll(ze));qe(Ke)}catch{qe([])}},[t,a,Me==null?void 0:Me.anchorSelect]),v.useEffect(()=>{_e.current&&(clearTimeout(_e.current),Sn(g))},[g]);const rr=(te=Me==null?void 0:Me.content)!==null&&te!==void 0?te:I,_i=Se&&Object.keys(Pe.tooltipStyles).length>0;return v.useImperativeHandle(e,()=>({open:ve=>{if(ve!=null&&ve.anchorSelect)try{document.querySelector(ve.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ve.anchorSelect}" is not a valid CSS selector`)}Xe(ve??null),ve!=null&&ve.delay?Sn(ve.delay):dt(!0)},close:ve=>{ve!=null&&ve.delay?an(ve.delay):dt(!1)},activeAnchor:U,place:Pe.place,isOpen:!!(Ne&&!y&&rr&&_i)})),Ne&&!y&&rr?ke.createElement(p,{id:t,role:he,className:QS("react-tooltip",qc.tooltip,XA.tooltip,XA[i],n,`react-tooltip__place-${Pe.place}`,qc[_i?"show":"closing"],_i?"react-tooltip__show":"react-tooltip__closing",d==="fixed"&&qc.fixed,A&&qc.clickable),onTransitionEnd:ve=>{Ae.current&&clearTimeout(Ae.current),Se||ve.propertyName!=="opacity"||(He(!1),Xe(null),D==null||D())},style:{...B,...Pe.tooltipStyles,opacity:ne!==void 0&&_i?ne:void 0},ref:ue},rr,ke.createElement(p,{className:QS("react-tooltip-arrow",qc.arrow,XA.arrow,r,b&&qc.noArrow),style:{...Pe.tooltipArrowStyles,background:N?`linear-gradient(to right bottom, transparent 50%, ${N} 50%)`:void 0},ref:Oe})):null},yie=({content:e})=>ke.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),vie=ke.forwardRef(({id:e,anchorId:t,anchorSelect:n,content:r,html:i,render:s,className:a,classNameArrow:o,variant:l="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:S,delayShow:y=0,delayHide:b=0,float:A=!1,hidden:_=!1,noArrow:x=!1,clickable:E=!1,closeOnEsc:T=!1,closeOnScroll:k=!1,closeOnResize:w=!1,openEvents:O,closeEvents:B,globalCloseEvents:F,imperativeModeOnly:j=!1,style:D,position:I,isOpen:C,defaultIsOpen:P=!1,disableStyleInjection:L=!1,border:$,opacity:U,arrowColor:q,setIsOpen:H,afterShow:ne,afterHide:N,role:he="tooltip"},te)=>{const[ue,Oe]=v.useState(r),[_e,le]=v.useState(i),[Ae,Pe]=v.useState(c),[Ce,Se]=v.useState(l),[xe,Ne]=v.useState(u),[He,Me]=v.useState(y),[Xe,Mt]=v.useState(b),[Zt,Rt]=v.useState(A),[we,ct]=v.useState(_),[Lt,qe]=v.useState(d),[je,It]=v.useState(p),[ut,st]=v.useState(m),[Mn,Ct]=v.useState(null),[dt,hn]=v.useState(null),Sn=v.useRef(L),{anchorRefs:an,activeAnchor:vt}=pP(e),Wn=Ot=>Ot==null?void 0:Ot.getAttributeNames().reduce((In,Fe)=>{var nt;return Fe.startsWith("data-tooltip-")&&(In[Fe.replace(/^data-tooltip-/,"")]=(nt=Ot==null?void 0:Ot.getAttribute(Fe))!==null&&nt!==void 0?nt:null),In},{}),Rr=Ot=>{const In={place:Fe=>{var nt;Pe((nt=Fe)!==null&&nt!==void 0?nt:c)},content:Fe=>{Oe(Fe??r)},html:Fe=>{le(Fe??i)},variant:Fe=>{var nt;Se((nt=Fe)!==null&&nt!==void 0?nt:l)},offset:Fe=>{Ne(Fe===null?u:Number(Fe))},wrapper:Fe=>{var nt;qe((nt=Fe)!==null&&nt!==void 0?nt:d)},events:Fe=>{const nt=Fe==null?void 0:Fe.split(" ");It(nt??p)},"position-strategy":Fe=>{var nt;st((nt=Fe)!==null&&nt!==void 0?nt:m)},"delay-show":Fe=>{Me(Fe===null?y:Number(Fe))},"delay-hide":Fe=>{Mt(Fe===null?b:Number(Fe))},float:Fe=>{Rt(Fe===null?A:Fe==="true")},hidden:Fe=>{ct(Fe===null?_:Fe==="true")},"class-name":Fe=>{Ct(Fe)}};Object.values(In).forEach(Fe=>Fe(null)),Object.entries(Ot).forEach(([Fe,nt])=>{var rr;(rr=In[Fe])===null||rr===void 0||rr.call(In,nt)})};v.useEffect(()=>{Oe(r)},[r]),v.useEffect(()=>{le(i)},[i]),v.useEffect(()=>{Pe(c)},[c]),v.useEffect(()=>{Se(l)},[l]),v.useEffect(()=>{Ne(u)},[u]),v.useEffect(()=>{Me(y)},[y]),v.useEffect(()=>{Mt(b)},[b]),v.useEffect(()=>{Rt(A)},[A]),v.useEffect(()=>{ct(_)},[_]),v.useEffect(()=>{st(m)},[m]),v.useEffect(()=>{Sn.current!==L&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[L]),v.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:L==="core",disableBase:L}}))},[]),v.useEffect(()=>{var Ot;const In=new Set(an);let Fe=n;if(!Fe&&e&&(Fe=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Fe)try{document.querySelectorAll(Fe).forEach(ze=>{In.add({current:ze})})}catch{console.warn(`[react-tooltip] "${Fe}" is not a valid CSS selector`)}const nt=document.querySelector(`[id='${t}']`);if(nt&&In.add({current:nt}),!In.size)return()=>null;const rr=(Ot=dt??nt)!==null&&Ot!==void 0?Ot:vt.current,_i=new MutationObserver(ze=>{ze.forEach(Ke=>{var $n;if(!rr||Ke.type!=="attributes"||!(!(($n=Ke.attributeName)===null||$n===void 0)&&$n.startsWith("data-tooltip-")))return;const ir=Wn(rr);Rr(ir)})}),ve={attributes:!0,childList:!1,subtree:!1};if(rr){const ze=Wn(rr);Rr(ze),_i.observe(rr,ve)}return()=>{_i.disconnect()}},[an,vt,dt,t,n]),v.useEffect(()=>{D!=null&&D.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),$&&!lR("border",`${$}`)&&console.warn(`[react-tooltip] "${$}" is not a valid \`border\`.`),D!=null&&D.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),U&&!lR("opacity",`${U}`)&&console.warn(`[react-tooltip] "${U}" is not a valid \`opacity\`.`)},[]);let Rn=h;const $i=v.useRef(null);if(s){const Ot=s({content:(dt==null?void 0:dt.getAttribute("data-tooltip-content"))||ue||null,activeAnchor:dt});Rn=Ot?ke.createElement("div",{ref:$i,className:"react-tooltip-content-wrapper"},Ot):null}else ue&&(Rn=ue);_e&&(Rn=ke.createElement(yie,{content:_e}));const Si={forwardRef:te,id:e,anchorId:t,anchorSelect:n,className:QS(a,Mn),classNameArrow:o,content:Rn,contentWrapperRef:$i,place:Ae,variant:Ce,offset:xe,wrapper:Lt,events:je,openOnClick:g,positionStrategy:ut,middlewares:S,delayShow:He,delayHide:Xe,float:Zt,hidden:we,noArrow:x,clickable:E,closeOnEsc:T,closeOnScroll:k,closeOnResize:w,openEvents:O,closeEvents:B,globalCloseEvents:F,imperativeModeOnly:j,style:D,position:I,isOpen:C,defaultIsOpen:P,border:$,opacity:U,arrowColor:q,setIsOpen:H,afterShow:ne,afterHide:N,activeAnchor:dt,setActiveAnchor:Ot=>hn(Ot),role:he};return ke.createElement(mie,{...Si})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||aR({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||aR({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Aie=R(vie,{target:"e21jg9v2"})("&&&{background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Ge,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",me.colors.text.active,";}}z-index:10000;"),ud=({children:e,title:t,open:n,...r})=>{const i=v.useRef(null),s=v.useMemo(()=>`${Math.random()}`,[]);return f.jsxs(f.Fragment,{children:[kc.createPortal(f.jsx(Aie,{...r,id:s,ref:i,isOpen:n,children:t}),document.body),v.cloneElement(e,{"data-tooltip-id":s})]})},fR=e=>`tooltip_dismissed_${e}`,bie=({dismissKey:e,timeoutMs:t,oneTime:n=!0,children:r,title:i,...s})=>{const[a,o]=v.useState(!Be.local.getItem(fR(e))),l=v.useCallback(()=>{Be.local.setItem(fR(e),!0),o(void 0)},[e]);v.useEffect(()=>{if(t){const u=setTimeout(l,t);return()=>clearTimeout(u)}},[t,l]);const c=(a===void 0||!a&&!n)&&s.open===void 0;return f.jsx(ud,{clickable:!0,open:c?s.open:a,hidden:s.open===!1,...s,title:f.jsxs(f.Fragment,{children:[i,a&&f.jsx(Sie,{children:f.jsx(_ie,{"data-test":"close-tooltip-button",onClick:l,children:"Close"})})]}),children:r},c?"uncontrolled":"controlled")},Sie=R("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),_ie=R("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",me.colors.text.active,";border-color:",me.colors.text.active,";}&:active{color:white;background:",me.colors.text.active,";border-color:none;}"),xie=gt(f.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),wie=gt(f.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function Eie(){const[,e]=We(Lx),[t]=We(Mr),[n,r]=v.useState(document.fullscreenElement!==null);return v.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(ud,{title:"Toggle fullscreen",place:"bottom-end",children:f.jsx(wv,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(a){console.info(a)}},children:n?f.jsx(wie,{}):f.jsx(xie,{})})})}const gP=ws("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;pointer-events:auto;box-sizing:border-box;transition:300ms;",Ge,",;",""),Tie=ws("@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both;transform:scale(1.05);background:",me.colors.text.active,";",""),Cie=ws("transform:scale(1.05);background:",me.colors.text.active,";",""),Cv=Pi()?Cie:Tie,mP={animation:"focusAnimation 1000ms ease-in-out infinite both"},XS=ws("&:hover{",mP,";}&&&:active{background:",me.colors.text.active,";}",""),kie=R("a",{target:"eo7q3x1"})(gP," &&{color:white;text-decoration:none;}&[data-focused='true']{",Cv,";}&[disabled='false']{",XS,";}"),yP=({focused:e,...t})=>f.jsx(kie,{...t}),Mie=R("button",{target:"eo7q3x0"})(gP,";&:not(:disabled){",XS,";}&[data-focused='true']{",Cv,";}&[disabled='false']{",XS,";}"),na=({focused:e,...t})=>f.jsx(Mie,{"data-focused":e,...t}),Rie={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"},vP=ws("margin:0.5rem 0;height:10rem;border:0 solid black;&[data-disabled='true']{",Rie,";}&[data-size='small']{height:5rem;}",""),Iie=R(yP,{target:"e1llc1k62"})(vP,";"),Oie=R(na,{target:"e1llc1k61"})(vP,";"),Ve=({size:e,disabled:t,...n})=>{const r="href"in n?Iie:Oie;return f.jsx(r,{...n,"data-disabled":t,"data-size":e})},Ts=R("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function Mc({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(jie,{onClick:t}),f.jsx("div",{onClick:t,className:"fixed top-0 left-0 w-screen h-screen z-[20001] overflow-auto",children:f.jsx("div",{className:"flex items-center justify-center min-h-full",children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})})]})}const jie=R("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let Vie=0;function Bd(e,t){const n=v.useRef(`${String(Math.random())}-${Vie++}`),{setKeyboard:r,unsetKeyboard:i}=v.useContext(Uw),s=o=>{r(n.current,o)},a=()=>i(n.current);return v.useEffect(()=>(t&&s(e),a),[e,t]),{setHelp:s,clearHelp:a}}function nr(e={},t=!1){var _;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:a={}}=e,[o,l]=v.useState(null),c=v.useRef([]),u=v.useRef([]),d=v.useRef({}),h=(_=d.current[o])==null?void 0:_.label,p=v.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...a}),[h,d,i,s]);Bd(p,n);const g=()=>{var x;(x=d.current[o])==null||x.callback(),Sw.play()},m=()=>{r&&(_w.play(),r())},S=x=>{const E=o?c.current.indexOf(o):0;av.play(),l(c.current.at((E+x)%c.current.length)??null)};Cc({[s==="vertical"?"up":"left"]:()=>S(-1),[s==="vertical"?"down":"right"]:()=>S(1),accept:g,back:m},n,[o,c.current]);let y="";const b=(x,E,T,k=!1,{propName:w="onClick",disabled:O=!1}={})=>{if(O)return{disabled:O,focused:!1};u.current.push(x),E&&(d.current[x]={callback:E,label:T,propName:w}),k&&(y=x);const B=n&&o===x;return{focused:B,[w]:E,keyboardNavigationChangeFocus:S,"data-test":x,...n?{"data-focused":B,"data-e2e-focused":B}:{}}};return v.useEffect(()=>{var x;(x=document.querySelector(`[data-test="${o}"]`))==null||x.scrollIntoView({behavior:"smooth",block:"center"})},[o]),v.useEffect(()=>{let x=u.current.filter(E=>!c.current.includes(E));t&&x.length&&console.log("new elements",x),c.current=[...u.current],u.current.length=0,c.current.length&&(o===null||c.current.indexOf(o)===-1||x.includes(y))&&l(y||c.current[0])}),{focusElement:x=>{c.current.includes(x)&&l(x)},focused:o,register:b}}var Pie=Object.defineProperty,N0=Object.getOwnPropertySymbols,AP=Object.prototype.hasOwnProperty,bP=Object.prototype.propertyIsEnumerable,hR=(e,t,n)=>t in e?Pie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hh=(e,t)=>{for(var n in t||(t={}))AP.call(t,n)&&hR(e,n,t[n]);if(N0)for(var n of N0(t))bP.call(t,n)&&hR(e,n,t[n]);return e},yE=(e,t)=>{var n={};for(var r in e)AP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&N0)for(var r of N0(e))t.indexOf(r)<0&&bP.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var pc;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const S=this.getPenaltyScore();S<g&&(d=m,g=S),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const A=t.getNumDataCodewords(g,c)*8,_=o.getTotalBits(l,g);if(_<=A){m=_;break}if(g>=d)throw new RangeError("Data too long")}for(const A of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,A)*8&&(c=A);let S=[];for(const A of l){r(A.mode.modeBits,4,S),r(A.numChars,A.mode.numCharCountBits(g),S);for(const _ of A.getData())S.push(_)}s(S.length==m);const y=t.getNumDataCodewords(g,c)*8;s(S.length<=y),r(0,Math.min(4,y-S.length),S),r(0,(8-S.length%8)%8,S),s(S.length%8==0);for(let A=236;S.length<y;A^=253)r(A,8,S);let b=[];for(;b.length*8<S.length;)b.push(0);return S.forEach((A,_)=>b[_>>>3]|=A<<7-(_&7)),new t(g,c,b,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let S=[];const y=t.reedSolomonComputeDivisor(h);for(let A=0,_=0;A<d;A++){let x=l.slice(_,_+m-h+(A<g?0:1));_+=x.length;const E=t.reedSolomonComputeRemainder(x,y);A<g&&x.push(0),S.push(x.concat(E))}let b=[];for(let A=0;A<S[0].length;A++)S.forEach((_,x)=>{(A!=m-h||x>=g)&&b.push(_[A])});return s(b.length==p),b}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[h][S]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][S],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[S][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const a=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new a(a.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!a.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new a(a.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!a.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=a.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=a.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(a.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new a(a.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:a.isNumeric(l)?[a.makeNumeric(l)]:a.isAlphanumeric(l)?[a.makeAlphanumeric(l)]:[a.makeBytes(a.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,c)}static isNumeric(l){return a.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return a.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let o=a;o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=o})(pc||(pc={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(pc||(pc={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(pc||(pc={}));var pu=pc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var SP={L:pu.QrCode.Ecc.LOW,M:pu.QrCode.Ecc.MEDIUM,Q:pu.QrCode.Ecc.QUARTILE,H:pu.QrCode.Ecc.HIGH},_P=128,xP="L",wP="#FFFFFF",EP="#000000",TP=!1,vE=4,Die=.1;function CP(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(a,o){if(!a&&s!==null){n.push(`M${s+t} ${i+t}h${o-s}v1H${s+t}z`),s=null;return}if(o===r.length-1){if(!a)return;s===null?n.push(`M${o+t},${i+t} h1v1H${o+t}z`):n.push(`M${s+t},${i+t} h${o+1-s}v1H${s+t}z`);return}a&&s===null&&(s=o)})}),n.join("")}function kP(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function MP(e,t,n,r){if(r==null)return null;const i=n?vE:0,s=e.length+i*2,a=Math.floor(t*Die),o=s/t,l=(r.width||a)*o,c=(r.height||a)*o,u=r.x==null?e.length/2-l/2:r.x*o,d=r.y==null?e.length/2-c/2:r.y*o;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),S=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:S}}return{x:u,y:d,h:c,w:l,excavation:h}}var Bie=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function RP(e){const t=e,{value:n,size:r=_P,level:i=xP,bgColor:s=wP,fgColor:a=EP,includeMargin:o=TP,style:l,imageSettings:c}=t,u=yE(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=v.useRef(null),p=v.useRef(null),[g,m]=v.useState(!1);v.useEffect(()=>{if(h.current!=null){const b=h.current,A=b.getContext("2d");if(!A)return;let _=pu.QrCode.encodeText(n,SP[i]).getModules();const x=o?vE:0,E=_.length+x*2,T=MP(_,r,o,c),k=p.current,w=T!=null&&k!==null&&k.complete&&k.naturalHeight!==0&&k.naturalWidth!==0;w&&T.excavation!=null&&(_=kP(_,T.excavation));const O=window.devicePixelRatio||1;b.height=b.width=r*O;const B=r/E*O;A.scale(B,B),A.fillStyle=s,A.fillRect(0,0,E,E),A.fillStyle=a,Bie?A.fill(new Path2D(CP(_,x))):_.forEach(function(F,j){F.forEach(function(D,I){D&&A.fillRect(I+x,j+x,1,1)})}),w&&A.drawImage(k,T.x+x,T.y+x,T.w,T.h)}}),v.useEffect(()=>{m(!1)},[d]);const S=Hh({height:r,width:r},l);let y=null;return d!=null&&(y=ke.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),ke.createElement(ke.Fragment,null,ke.createElement("canvas",Hh({style:S,height:r,width:r,ref:h},u)),y)}function IP(e){const t=e,{value:n,size:r=_P,level:i=xP,bgColor:s=wP,fgColor:a=EP,includeMargin:o=TP,imageSettings:l}=t,c=yE(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=pu.QrCode.encodeText(n,SP[i]).getModules();const d=o?vE:0,h=u.length+d*2,p=MP(u,r,o,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=kP(u,p.excavation)),g=ke.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=CP(u,d);return ke.createElement("svg",Hh({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),ke.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),ke.createElement("path",{fill:a,d:m,shapeRendering:"crispEdges"}),g)}var Nie=e=>{const t=e,{renderAs:n}=t,r=yE(t,["renderAs"]);return n==="svg"?ke.createElement(IP,Hh({},r)):ke.createElement(RP,Hh({},r))};const Lie=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:RP,QRCodeSVG:IP,default:Nie},Symbol.toStringTag,{value:"Module"}));var OP={exports:{}},jP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=v;function Fie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $ie=typeof Object.is=="function"?Object.is:Fie,zie=dd.useState,Uie=dd.useEffect,Hie=dd.useLayoutEffect,Gie=dd.useDebugValue;function qie(e,t){var n=t(),r=zie({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Hie(function(){i.value=n,i.getSnapshot=t,JA(i)&&s({inst:i})},[e,n,t]),Uie(function(){return JA(i)&&s({inst:i}),e(function(){JA(i)&&s({inst:i})})},[e]),Gie(n),n}function JA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$ie(e,n)}catch{return!0}}function Yie(e,t){return t()}var Kie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yie:qie;jP.useSyncExternalStore=dd.useSyncExternalStore!==void 0?dd.useSyncExternalStore:Kie;OP.exports=jP;var Qie=OP.exports;const{useEffect:Wie,useLayoutEffect:Xie,useRef:Jie,useInsertionEffect:Zie}=a0,ese=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tse=ese?Xie:Wie,VP=Zie||tse,PP=e=>{const t=Jie([e,(...n)=>t[0](...n)]).current;return VP(()=>{t[0]=e}),t[1]},nse=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",rse=(e,t="")=>e[0]==="~"?e.slice(1):t+e,ise="popstate",AE="pushState",bE="replaceState",sse="hashchange",pR=[ise,AE,bE,sse],ase=e=>{for(const t of pR)addEventListener(t,e);return()=>{for(const t of pR)removeEventListener(t,e)}},ose=(e,t)=>Qie.useSyncExternalStore(ase,e,t),gR=()=>location.pathname,lse=({ssrPath:e}={})=>ose(gR,e?()=>e:gR),cse=(e,{replace:t=!1}={})=>history[t?bE:AE](null,"",e),use=(e={})=>[nse(e.base,lse(e)),PP((t,n)=>cse(rse(t,e.base),n))];if(typeof history<"u")for(const e of[AE,bE]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function dse(e=hse){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:a}=n(r||""),o=s.exec(i);return o?[!0,a.reduce((c,u,d)=>(c[u.name]=o[d+1],c),{})]:[!1,null]}}const mR=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),fse=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},hse=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[a,o,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:o}),r=t.lastIndex,s+=mR(h)+fse(c,u,d)}return s+=mR(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},JS={hook:use,matcher:dse(),base:""},DP=v.createContext(JS),kv=()=>v.useContext(DP),Mv=e=>e.hook(e),pse=()=>Mv(kv()),BP=e=>{const t=kv(),[n]=Mv(t);return t.matcher(e,n)},gse=v.createContext({params:{}}),mse=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const a=(l,c=i||JS)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[o]=v.useState(()=>a({get base(){return(o.parent||JS).base+o.ownBase}}));return VP(()=>{a(o)}),v.createElement(DP.Provider,{value:o,children:s})},yR=(e,t)=>v.createElement(gse.Provider,{value:{params:e},children:t}),Ir=({path:e,match:t,component:n,children:r})=>{const i=BP(e),[s,a]=t||i;return s?n?yR(a,v.createElement(n,{params:a})):yR(a,typeof r=="function"?r(a):r):null},SE=v.forwardRef((e,t)=>{const n=kv(),[,r]=Mv(n),{to:i,href:s=i,children:a,onClick:o}=e,l=PP(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(o&&o(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=v.isValidElement(a)?a:v.createElement("a",e);return v.cloneElement(u,c)}),ZS=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===v.Fragment?ZS(t.props.children):ZS(t))):[e],yse=({children:e,location:t})=>{const n=kv(),r=n.matcher,[i]=Mv(n);for(const s of ZS(e)){let a=0;if(v.isValidElement(s)&&(a=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return v.cloneElement(s,{match:a})}return null},{QRCodeSVG:vse}=Lie;function ZA({gameCode:e,...t}){return f.jsx(xse,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function _E(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=BP("remote-mic"),n=pv("room")??Kl.getGameCode();e.pathname="/prs/373/remote-mic",e.searchParams.set("room",n);const r=e.href;return v.useEffect(()=>{t||Kl.start()},[t]),f.jsxs(Ese,{children:[f.jsx(Cse,{children:f.jsxs("h1",{children:["Code: ",f.jsx(ZA,{gameCode:n})]})}),f.jsx(Tse,{children:f.jsx(vse,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(kse,{children:[f.jsxs(Ase,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(ZA,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(ZA,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(bse,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(Sse,{children:[f.jsx(wse,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(_se,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const Ase=R("div",{target:"eg58fmd9"})({name:"82a6rk",styles:"flex:1"}),bse=R("div",{target:"eg58fmd8"})({name:"4dmv1c",styles:"flex:0"}),Sse=R("div",{target:"eg58fmd7"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),_se=R("button",{target:"eg58fmd6"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",me.colors.text.active,";",Ge,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),xse=R("strong",{target:"eg58fmd5"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",ad,";"),wse=R("input",{target:"eg58fmd4"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),Ese=R("div",{target:"eg58fmd3"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),Tse=R("div",{target:"eg58fmd2"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),Cse=R("div",{target:"eg58fmd1"})({name:"mhlr3w",styles:"display:none;@media (max-width: 560px){display:block;}margin-bottom:2rem"}),kse=R("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Ge,";color:",me.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function Mse({closeModal:e}){const{register:t}=nr({onBackspace:e});return f.jsx(Mc,{onClose:e,children:f.jsxs(Ts,{children:[f.jsx(_E,{}),f.jsx(na,{...t("quick-connect-close",e),children:"Close"})]})})}function Rse(){const[e,t]=v.useState(!1);We(Mr);const[n,r]=We(PO),{hasContent:i}=v.useContext(Uw),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(Mse,{closeModal:s}),f.jsxs(Ise,{children:[i&&f.jsx(ud,{title:"Toggle help",place:"bottom-end",children:f.jsx(Ose,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(Wne,{}):f.jsx(Xne,{})})}),f.jsx(Eie,{}),f.jsx(ud,{title:"Connect phone",place:"bottom-end",children:f.jsx(wv,{size:"small",onClick:()=>t(a=>!a),"data-test":"quick-connect-phone",children:f.jsx(O0,{})})})]})]})}const Ise=R("div",{target:"efkmcew1"})({name:"17druna",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.25rem;height:3.25rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),Ose=R(wv,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function So({children:e,toolbar:t=!0}){return f.jsxs(pee,{children:[t&&f.jsx(Rse,{}),e]})}const jse=gt(f.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List"),Vse=gt(f.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),xE=({...e})=>f.jsx("svg",{viewBox:"0 0 512 512",fill:"currentcolor",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),NP=R(xE,{target:"e1uhpuaa1"})("fill:",me.colors.players[1].text,";"),e_=R(xE,{target:"e1uhpuaa0"})("fill:",me.colors.players[0].text,";");function Pse({active:e,setActiveTab:t}){return f.jsxs(Dse,{children:[f.jsxs(eb,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(tb,{children:f.jsx(xE,{})}),f.jsx(nb,{children:"Microphone"})]}),f.jsxs(eb,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(tb,{children:f.jsx(jse,{})}),f.jsx(nb,{children:"Song list"})]}),f.jsxs(eb,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(tb,{children:f.jsx(Vse,{})}),f.jsx(nb,{children:"Settings"})]})]})}const Dse=R("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),eb=R("div",{target:"e1c2ys9k2"})("cursor:pointer;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?me.colors.text.active:"#cecece",";"),tb=R("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),nb=R("div",{target:"e1c2ys9k0"})(""),Nd=gt(f.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),wE=()=>{const[e,t]=v.useState(Yo.getStatus());return v.useEffect(()=>Yo.addListener(t),[]),e};function LP(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const Bse="/prs/373/assets/allow-mic-DleF1-pf.png",Nse="/prs/373/assets/enable-mic-opera-B5FfRj_P.png",Lse="/prs/373/assets/enable-mic-TGG47ucR.png",Fse=()=>LP()?Nse:Lse,Op=({children:e,fallback:t,showImages:n=!0})=>{const r=wE();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(zse,{children:f.jsx(Use,{})}),t,f.jsxs($se,{children:[r==="requested"&&n&&f.jsx("img",{src:Bse,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:Fse(),alt:"how-to-enable"})]}),LP()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},$se=R("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),zse=R("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Use=R(Nd,{target:"e1w9vi9z0"})("color:",me.colors.text.active,";font-size:3rem;");function Hse(){return!1}const Mm=gt(f.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function jp(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Gse(e,t,n=1){return jp(e,e.indexOf(t),n)}function Wl(e,t,n=1){return e[Gse(e,t,n)]}const cs=({focused:e,disabled:t=!1,label:n,value:r,onClick:i,info:s,children:a,...o})=>f.jsxs(qse,{children:[f.jsxs(Yse,{"data-focused":e,onClick:i,"data-disabled":t,...o,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(Kse,{children:r}),a??null]}),s&&f.jsx(FP,{children:s})]}),qse=R("div",{target:"e84wjn53"})(""),FP=R("div",{target:"e84wjn52"})(Ge,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Yse=R("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Ge,";text-align:right;font-size:2.7rem;cursor:pointer;padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;&[data-expanded='true']{font-size:6rem;}&[data-disabled='true']{cursor:default;}&[data-focused='true'][data-disabled='false']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Kse=R("span",{target:"e84wjn50"})("color:",me.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),Rc=v.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:a,info:o,...l},c)=>{const u=v.useRef(null);return v.useImperativeHandle(c,()=>u.current),Gr(PS,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(Wse,{"data-focused":e,className:s,children:[f.jsx(Xse,{children:t}),f.jsx(Jse,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),a&&f.jsx(Qse,{children:a})]}),o&&f.jsx(FP,{children:o})]})}),Qse=R("span",{target:"et2ce2n3"})(""),Wse=R("div",{target:"et2ce2n2"})("background:black;caret:underscore;",Ge,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;&[data-focused='true']{animation:focusAnimation 1000ms ease-in-out infinite both;}&:hover{animation:focusAnimation 1000ms ease-in-out infinite both;}"),Xse=R("span",{target:"et2ce2n1"})({name:"1vbnwdc",styles:"display:inline-flex;align-items:center;justify-content:center;padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),Jse=R("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Ge,";color:",me.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function Zse(e){return Lr("MuiCircularProgress",e)}Fr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Eo=44,t_=Tc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,n_=Tc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,eae=typeof t_!="string"?ws`
        animation: ${t_} 1.4s linear infinite;
      `:null,tae=typeof n_!="string"?ws`
        animation: ${n_} 1.4s ease-in-out infinite;
      `:null,nae=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${lt(r)}`],svg:["svg"],circle:["circle",`circle${lt(n)}`,i&&"circleDisableShrink"]};return ni(s,Zse,t)},rae=sn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${lt(n.color)}`]]}})(As(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:eae||{animation:`${t_} 1.4s linear infinite`}},...Object.entries(e.palette).filter(zh()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),iae=sn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),sae=sn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${lt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(As(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:tae||{animation:`${n_} 1.4s ease-in-out infinite`}}]}))),aae=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:o=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...h}=r,p={...r,color:s,disableShrink:a,size:o,thickness:c,value:u,variant:d},g=nae(p),m={},S={},y={};if(d==="determinate"){const b=2*Math.PI*((Eo-c)/2);m.strokeDasharray=b.toFixed(3),y["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,S.transform="rotate(-90deg)"}return f.jsx(rae,{className:St(g.root,i),style:{width:o,height:o,...S,...l},ownerState:p,ref:n,role:"progressbar",...y,...h,children:f.jsx(iae,{className:g.svg,ownerState:p,viewBox:`${Eo/2} ${Eo/2} ${Eo} ${Eo}`,children:f.jsx(sae,{className:g.circle,style:m,ownerState:p,cx:Eo,cy:Eo,r:(Eo-c)/2,fill:"none",strokeWidth:c})})})});function Vp(e){return f.jsx(aae,{...e})}function Gh(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const L0=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function bi(){const[,e]=pse();return(t,n,{smooth:r=!0,...i}={})=>{r?Gh(()=>e(L0(t,n),i)):e(L0(t,n),i)}}const $P=gt(f.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),zP=gt(f.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),vR="confirmed-wifi";function oae({onClose:e}){const[t,n]=ke.useState(Be.session.getItem(vR)??!1),r=()=>{Be.session.setItem(vR,!0),n(!0),e==null||e()};return v.useEffect(()=>{var i,s,a;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const o=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(a=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||a.call(s,"change",o),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",o)}}},[]),t?null:f.jsx(Mc,{onClose:r,children:f.jsxs(lae,{children:[f.jsxs(cae,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(uae,{children:[f.jsx(zP,{}),"...",f.jsx(Mm,{}),"...",f.jsx($P,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Ve,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const lae=R(Ts,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),cae=R("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),uae=R("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",me.colors.text.default,";transform:scale(1);}25%{color:",me.colors.text.active,";transform:scale(1.1);}50%{color:",me.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function dae(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=v.useRef(),s=r.capture,a=r.passive,o=r.once;v.useEffect(function(){i.current=t},[t]),v.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:a,once:o};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,a,o])}var El={},fae=function(e,t,n){return El[e]||(El[e]={callbacks:[],value:n}),El[e].callbacks.push(t),{deregister:function(){var r=El[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){El[e].value!==r&&(El[e].value=r,El[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Pp(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var a=r.getItem(i);return a==null?typeof s=="function"?s():s:JSON.parse(a)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,a){var o=a.get,l=a.set,c=v.useRef(null),u=v.useState(function(){return o(s,i)}),d=u[0],h=u[1];dae("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),v.useEffect(function(){return c.current=fae(s,h,i),function(){c.current.deregister()}},[i,s]);var p=v.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return v.useState}const hae=Pp("remote_mic_name");function pae({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,a]=hae(""),[o,l]=v.useState(!1),c=v.useRef(null),u=v.useRef(null),[d,h]=v.useState(t??""),p=bi(),g=n!=="uninitialised"&&n!=="error";v.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(_=!1)=>{An.connect(d,s,_),r(_)},S=_=>{var x,E;_.preventDefault(),l(!1),!t&&d.length!==Jf?(x=c.current)==null||x.focus():s===""?(E=u.current??c.current)==null||E.focus():m()};v.useEffect(()=>{var _;Ln.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(_=c.current)==null||_.focus()},[]),v.useEffect(()=>{Be.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Be.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[y,b]=v.useState(!1);v.useEffect(()=>{if(b(!1),n==="connecting"||n==="reconnecting"){const _=setTimeout(()=>b(!0),2e3);return()=>clearTimeout(_)}},[n]);const A=n==="error"&&!o;return e?f.jsxs(f.Fragment,{children:[(t==null?void 0:t.startsWith("p"))&&f.jsx(oae,{onClose:()=>{var _;(_=c.current)==null||_.focus()}}),f.jsxs(gae,{onSubmit:S,children:[!g&&f.jsx(yae,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Jf,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:_=>{_.preventDefault();let x=(_.clipboardData||global.clipboardData).getData("text");x=x.replace(/\s/g,""),h(x.slice(0,Jf))}}),f.jsx(Rc,{maxLength:cw,focused:!1,label:"Your name",placeholder:"Enter your name…",value:s,onChange:a,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(mae,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(Vp,{size:"1em"}),n==="uninitialised"||o?"Connect":n.toUpperCase()]})]}),(y||A)&&f.jsxs(f.Fragment,{children:[y&&f.jsx("h3",{children:"If it doesn't connect"}),A&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Nd,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found 🤔":"The game seems to be offline 🤔"}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(O0,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Mm,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access 💀"}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Mm,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Mm,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(O0,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const gae=R("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),mae=R(Ve,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),yae=R(Rc,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"}),vae=gt(f.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Aae=gt(f.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),bae=gt(f.jsx("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games"),Sae=gt(f.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),_ae=gt(f.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),xae=gt(f.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),wae=gt(f.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),Eae=gt(f.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),EE=gt(f.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function TE(e,t){const[n,r]=v.useState(e);return v.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function Tae({onSearchStateChange:e}){const[t,n]=v.useState(""),r=v.useRef(null),i=TE(t,100),s=xZ(i);return v.useEffect(()=>{s!==i&&An.searchSong(i.trim())},[s,i]),_Z(()=>e==null?void 0:e(!1)),f.jsx(Cae,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:cw,focused:!1,label:f.jsx(EE,{}),placeholder:"Search for a song…",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const Cae=R(Rc,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function kae({onSearchStateChange:e}){var s;const[t]=Js(ee.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=a=>()=>{An.sendKeyStroke(a)};return t!==void 0?f.jsxs(Mae,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(Tae,{onSearchStateChange:e}),(n||r)&&f.jsxs(ib,{children:[f.jsx(rb,{children:f.jsx(nu,{onClick:i("up"),disabled:!r,"data-disabled":!r,"data-test":"arrow-up",children:f.jsx(wae,{})})}),f.jsxs(rb,{children:[f.jsx(nu,{onClick:i("left"),disabled:!n,"data-disabled":!n,"data-test":"arrow-left",children:f.jsx(_ae,{})}),f.jsx(nu,{disabled:!0,"data-disabled":!0,children:f.jsx(bae,{})}),f.jsx(nu,{onClick:i("right"),disabled:!n,"data-disabled":!n,"data-test":"arrow-right",children:f.jsx(xae,{})})]}),f.jsx(rb,{children:f.jsx(nu,{onClick:i("down"),disabled:!r,"data-disabled":!r,"data-test":"arrow-down",children:f.jsx(Sae,{})})})]}),f.jsxs(ib,{children:[f.jsx(sb,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(vae,{})," Back"]})}),f.jsx(sb,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(Aae,{})]})})]}),f.jsx(Rae,{}),f.jsx(ib,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(sb,{onClick:i("random"),children:[f.jsx(Eae,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const Mae=R("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),rb=R("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),ib=R("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),Rae=R("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),Iae=R("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";"),nu=R(Iae,{target:"epl0eil1"})({name:"1dzx4ce",styles:"display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;&[data-disabled='false']{cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}}color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff"}),sb=R(nu,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"}),CE=gt(f.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Og={regular:["Blue","Red","Green","Yellow"],christmas:["Green","Red","?????","?????"],eurovision:["Blue","Violet","Yellow","Pink"],halloween:["Orange","Violet","Red","Green"]};function UP({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Js(ee.remoteStyleChanged,!0)??["regular"],s=o=>{An.requestPlayerChange(t,o),n()},a=e!==null;return f.jsx(Mc,{onClose:n,children:f.jsxs(Oae,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Ve,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:me.colors.players[0].perfect.fill},children:Og[i][0]}),f.jsx(Ve,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:me.colors.players[1].perfect.fill},children:Og[i][1]}),f.jsx(Ve,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:me.colors.players[2].perfect.fill},children:Og[i][2]}),f.jsx(Ve,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:me.colors.players[3].perfect.fill},children:Og[i][3]}),f.jsx(Ve,{size:"small",onClick:()=>s(null),disabled:!a,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Ve,{size:"small",onClick:()=>An.removePlayer(t),"data-test":"remove-player",children:"Remove"}),f.jsx(Ve,{onClick:n,size:"small",children:"Close"})]})})}const Oae=R(Ts,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function HP({number:e,...t}){const[n]=Js(ee.remoteStyleChanged,!0)??["regular"],r=v4();return v.useEffect(()=>{r()},[n]),f.jsx(jae,{style:{background:e!==null?me.colors.players[e].perfect.fill:me.colors.text.inactive},...t})}const jae=R("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),Vae=v.memo(function({playerNumber:t}){const[n,r]=v.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(Pae,{onClick:()=>r(!0),"data-test":"change-player","data-joined":s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(HP,{number:t})," Change"]}):"Join game"," ",f.jsx(CE,{})]}),n&&f.jsx(UP,{id:An.getClientId(),playerNumber:t,onModalClose:i})]})}),Pae=R("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Ge,";background:rgba(0, 0, 0, 0.75);&[data-joined='false']{font-size:3rem;padding:3rem;",ad,";}:hover{",ad,";}:active{",Cv,";}svg{width:2rem;height:2rem;}");function Rv(){const[e]=Js(ee.remoteMicPermissionsSet,!0)??["write"];return e}function Dae({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,a]=v.useState(1e-6),o=Rv();v.useEffect(()=>{a(u=>t>u?t:u*.99)},[t]);const l=e!==null?me.colors.players[e].miss.stroke:me.colors.lines.normal.fill,c=e!==null?me.colors.players[e].perfect.fill:me.colors.lines.normal.fill;return f.jsxs(Lae,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(Bae,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&o==="write"&&f.jsx(Vae,{playerNumber:e}),f.jsx(Nae,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const Bae=R("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),Nae=R("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Lae=R("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function AR({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=v.useState(0),[s,a]=v.useState(0),[o]=Js(ee.remoteMicPlayerSet,!0)??[null],l=v.useMemo(()=>ju((c,u)=>{a(c),i(u)},150),[]);return v.useEffect(()=>(js.startMonitoring(void 0),js.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(Dae,{volume:r,frequency:s,playerNumber:o,isMicOn:t,isConnected:n})}):null}function Fae({}){const[e,t]=v.useState(0);return v.useEffect(()=>{const n=setInterval(()=>{const r=Xr();An.pinging&&r-An.pingStart>e?t(r-An.pingStart):t(An.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function $ae({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:a}){const o=Rv(),[l,c]=v.useState(!1),[u]=We(Lx),d=async()=>{var g,m;i(!0);try{!Hse()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(S){console.warn(S)}},h=a==="connected",p=f.jsx(AR,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(zae,{children:f.jsxs(Op,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(bR,{collapse:l,children:[f.jsx(AR,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(pae,{roomId:e,isVisible:!0,connectionStatus:a,onConnect:d,connectionError:s})]}),f.jsxs(bR,{children:[o==="write"&&f.jsx(kae,{onSearchStateChange:c}),o==="read"&&f.jsxs(Uae,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu ➔"," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(SR,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(GP,{onClick:()=>t?js.stopMonitoring():js.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(SR,{children:["Ping: ",f.jsx(Fae,{})]})]})]})})}const zae=R("div",{target:"eakh27i4"})({name:"15sh5r0",styles:"font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"}),bR=R("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),GP=R("div",{target:"eakh27i2"})(Ge," strong{color:",me.colors.text.active,";}align-self:flex-end;"),SR=R(GP,{target:"eakh27i1"})(""),Uae=R("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Hae({onConfirm:e}){const[t,n]=v.useState(!1),[r,i]=v.useState(!1);v.useEffect(()=>{Be.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Nr(ee.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Nr(ee.remoteReadinessRequested,()=>{n(!0)});const s=()=>{An.confirmReadiness(),n(!1),e()};return t?f.jsx(Gae,{children:f.jsx(Ts,{children:f.jsx(qae,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Gae=R("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),qae=R(Ve,{target:"eusdifu0"})("aspect-ratio:1;",ad,";");function qP({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(Kae,{...s,children:[f.jsx(_R,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Yae,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(_R,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const _R=R("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",Ge,";:disabled{opacity:0.5;}"),Yae=R("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Kae=R("div",{target:"e1tear4c0"})(Ge,";display:flex;align-items:center;justify-self:center;background:black;");function Qae({}){const[e,t]=v.useState(0),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),An.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),An.setGameInputLag(s).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(qP,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Wae(e){v.useEffect(()=>(An.subscribe("remote-mics"),()=>{An.unsubscribe("remote-mics")}),[]);const[t]=Js(ee.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(Xae,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const Xae=({mic:e})=>{var r;const[t,n]=v.useState(!1);return rt.getPermission(e.id),f.jsxs(Jae,{"data-test":"manage-players",children:[t&&f.jsx(UP,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(Zae,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(HP,{number:e.number}),f.jsx(toe,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx(eoe,{className:"ph-no-capture",isSelf:e.id===An.getClientId(),children:e.name})]})]})},Jae=R("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Zae=R(Ve,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),eoe=R("div",{target:"e1sg8znb1"})("color:",e=>e.isSelf?`${me.colors.text.active}`:"auto",";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),toe=R("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function xR(){const[e,t]=We(DO),[n,r]=v.useState(!1);v.useEffect(()=>{r(!0),An.getMicrophoneInputLag().then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},[]);const i=a=>{r(!0),An.setMicrophoneInputLag(a).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},s=()=>{var a;An.disconnect(),Be.local.removeItem("remote_mic_name"),Be.local.removeItem(TS),(a=global.location)==null||a.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Ve,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{"data-test":"reset-mic-info",children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(qP,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function noe(){var r;const e=Rv(),[t,n]=v.useState(e==="write"?null:"microphone");return f.jsxs(roe,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=An.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Ve,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Ve,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(xR,{}),t!==null&&e==="write"&&f.jsx(Mc,{onClose:()=>n(null),children:f.jsxs(Ts,{children:[f.jsx(ioe,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(xR,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Wae,{}),f.jsx(Qae,{})]}),f.jsx("hr",{}),f.jsx(Ve,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const roe=R("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),ioe=R("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var soe="__lodash_hash_undefined__";function aoe(e){return this.__data__.set(e,soe),this}function ooe(e){return this.__data__.has(e)}function qh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new yo;++t<n;)this.add(e[t])}qh.prototype.add=qh.prototype.push=aoe;qh.prototype.has=ooe;function loe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function YP(e,t){return e.has(t)}var coe=1,uoe=2;function KP(e,t,n,r,i,s){var a=n&coe,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&uoe?new qh:void 0;for(s.set(e,t),s.set(t,e);++d<o;){var g=e[d],m=t[d];if(r)var S=a?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(S!==void 0){if(S)continue;h=!1;break}if(p){if(!loe(t,function(y,b){if(!YP(p,b)&&(g===y||i(g,y,n,r,s)))return p.push(b)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function doe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function kE(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var foe=1,hoe=2,poe="[object Boolean]",goe="[object Date]",moe="[object Error]",yoe="[object Map]",voe="[object Number]",Aoe="[object RegExp]",boe="[object Set]",Soe="[object String]",_oe="[object Symbol]",xoe="[object ArrayBuffer]",woe="[object DataView]",wR=ys?ys.prototype:void 0,ab=wR?wR.valueOf:void 0;function Eoe(e,t,n,r,i,s,a){switch(n){case woe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xoe:return!(e.byteLength!=t.byteLength||!s(new C0(e),new C0(t)));case poe:case goe:case voe:return Qy(+e,+t);case moe:return e.name==t.name&&e.message==t.message;case Aoe:case Soe:return e==t+"";case yoe:var o=doe;case boe:var l=r&foe;if(o||(o=kE),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=hoe,a.set(e,t);var u=KP(o(e),o(t),r,i,s,a);return a.delete(e),u;case _oe:if(ab)return ab.call(e)==ab.call(t)}return!1}var Toe=1,Coe=Object.prototype,koe=Coe.hasOwnProperty;function Moe(e,t,n,r,i,s){var a=n&Toe,o=RS(e),l=o.length,c=RS(t),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in t:koe.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var S=a;++d<l;){h=o[d];var y=e[h],b=t[h];if(r)var A=a?r(b,y,h,t,e,s):r(y,b,h,e,t,s);if(!(A===void 0?y===b||i(y,b,n,r,s):A)){m=!1;break}S||(S=h=="constructor")}if(m&&!S){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof x=="function"&&x instanceof x)&&(m=!1)}return s.delete(e),s.delete(t),m}var Roe=1,ER="[object Arguments]",TR="[object Array]",jg="[object Object]",Ioe=Object.prototype,CR=Ioe.hasOwnProperty;function Ooe(e,t,n,r,i,s){var a=vs(e),o=vs(t),l=a?TR:Ps(e),c=o?TR:Ps(t);l=l==ER?jg:l,c=c==ER?jg:c;var u=l==jg,d=c==jg,h=l==c;if(h&&T0(e)){if(!T0(t))return!1;a=!0,u=!1}if(h&&!u)return s||(s=new va),a||r4(e)?KP(e,t,n,r,i,s):Eoe(e,t,l,n,r,i,s);if(!(n&Roe)){var p=u&&CR.call(e,"__wrapped__"),g=d&&CR.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,S=g?t.value():t;return s||(s=new va),i(m,S,n,r,s)}}return h?(s||(s=new va),Moe(e,t,n,r,i,s)):!1}function ME(e,t,n,r,i){return e===t?!0:e==null||t==null||!ao(e)&&!ao(t)?e!==e&&t!==t:Ooe(e,t,n,r,ME,i)}var joe=1,Voe=2;function Poe(e,t,n,r){var i=n.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var o=a[0],l=e[o],c=a[1];if(a[2]){if(l===void 0&&!(o in e))return!1}else{var u=new va,d;if(!(d===void 0?ME(c,l,joe|Voe,r,u):d))return!1}}return!0}function QP(e){return e===e&&!Xs(e)}function Doe(e){for(var t=wp(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,QP(i)]}return t}function WP(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Boe(e){var t=Doe(e);return t.length==1&&t[0][2]?WP(t[0][0],t[0][1]):function(n){return n===e||Poe(n,e,t)}}function Noe(e,t,n){var r=e==null?void 0:Lw(e,t);return r===void 0?n:r}function Loe(e,t){return e!=null&&t in Object(e)}function Foe(e,t,n){t=dv(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var a=Ep(t[r]);if(!(s=e!=null&&n(e,a)))break;e=e[a]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&yw(i)&&Aw(a,i)&&(vs(e)||Mw(e)))}function $oe(e,t){return e!=null&&Foe(e,t,Loe)}var zoe=1,Uoe=2;function Hoe(e,t){return Bw(e)&&QP(t)?WP(Ep(e),t):function(n){var r=Noe(n,e);return r===void 0&&r===t?$oe(n,e):ME(t,r,zoe|Uoe)}}function Goe(e){return function(t){return t==null?void 0:t[e]}}function qoe(e){return function(t){return Lw(t,e)}}function Yoe(e){return Bw(e)?Goe(Ep(e)):qoe(e)}function Koe(e){return typeof e=="function"?e:e==null?y4:typeof e=="object"?vs(e)?Hoe(e[0],e[1]):Boe(e):Yoe(e)}function Qoe(e,t,n,r){for(var i=e.length,s=n+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function Woe(e){return e!==e}function Xoe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Joe(e,t,n){return t===t?Xoe(e,t,n):Qoe(e,Woe,n)}function Zoe(e,t){var n=e==null?0:e.length;return!!n&&Joe(e,t,0)>-1}function ele(){}var tle=1/0,nle=Pu&&1/kE(new Pu([,-0]))[1]==tle?function(e){return new Pu(e)}:ele,rle=200;function XP(e,t,n){var r=-1,i=Zoe,s=e.length,a=!0,o=[],l=o;if(s>=rle){var c=t?null:nle(e);if(c)return kE(c);a=!1,i=YP,l=new qh}else l=t?[]:o;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=u!==0?u:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}function ile(e,t){return e&&e.length?XP(e,Koe(t)):[]}const sle="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function ale(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let s=String.fromCharCode(97+r)+String.fromCharCode(97+i),a=e.of(s);a!==s&&a!==void 0&&(t[a]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat",Ukrainian:"ua"}}}const ole=ale();function JP(e){return ole[e]}const lle=Object.assign({"./Flag/flags/cat.svg":sle}),Xl=e=>{var s;const[t,n]=v.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():JP(Array.isArray(e.language)?e.language[0]:e.language);if(v.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=lle[`./Flag/flags/${r}.svg`];return f.jsx(cle,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},cle=R("img",{target:"e1k9lqhf0"})("");function Ld(e=!1){const t=Di.getCurrentIndex(),[n,r]=v.useState(()=>t||[]),i=v.useCallback(()=>Di.getIndex(e).then(r),[e]);return v.useEffect(()=>{i()},[i]),{data:n,reload:i,isLoading:t===null}}const kR=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function Dp(){const[e,t]=v.useState(kR()),n=v.useMemo(()=>ju(()=>{t(kR())},1e3),[]);return v.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function ZP(){const{width:e,height:t}=Dp();return v.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}function ule(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function dle(...e){return t=>e.forEach(n=>ule(n,t))}var eD=v.forwardRef((e,t)=>{const{children:n,...r}=e,i=v.Children.toArray(n),s=i.find(hle);if(s){const a=s.props.children,o=i.map(l=>l===s?v.Children.count(a)>1?v.Children.only(null):v.isValidElement(a)?a.props.children:null:l);return f.jsx(r_,{...r,ref:t,children:v.isValidElement(a)?v.cloneElement(a,void 0,o):null})}return f.jsx(r_,{...r,ref:t,children:n})});eD.displayName="Slot";var r_=v.forwardRef((e,t)=>{const{children:n,...r}=e;if(v.isValidElement(n)){const i=gle(n);return v.cloneElement(n,{...ple(r,n.props),ref:t?dle(t,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});r_.displayName="SlotClone";var fle=({children:e})=>f.jsx(f.Fragment,{children:e});function hle(e){return v.isValidElement(e)&&e.type===fle}function ple(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function gle(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function mle(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i];t(s)&&(n[s]=e[s])}return n}const yle=(e={})=>{const t=e.compose||St,n=e.shouldForwardProp||(i=>i[0]!=="$"),r=i=>{const s=(a,o=n)=>{const l=(c,...u)=>{const d=typeof c=="function",h=!d&&String.raw({raw:c},...u);return v.forwardRef((p,g)=>{const{className:m,asChild:S,...y}=p,b=typeof a=="function"?a(p):a||{},A=mle({...b,...y},o),_=S?eD:i,x=d?c(p):h;return v.createElement(_,{ref:g,className:typeof x=="function"?E=>t(x(E),typeof m=="function"?m(E):m):t(x,m),...A})})};return l.transientProps=c=>s(a,typeof c=="function"?d=>!c(d):d=>!c.includes(d)),a===void 0&&(l.attrs=c=>s(c)),l};return s()};return new Proxy(i=>r(i),{get(i,s){return r(s)}})},Fd=yle(),Rm=gt(f.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),Im=gt(f.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function vle(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ale(e){return parseFloat(e)}function MR({theme:e,...t}){const n=eo in e?e[eo]:void 0;return f.jsx(q4,{...t,themeId:n?eo:void 0,theme:n||e})}const Vg={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:ble,useColorScheme:Y1e,getInitColorSchemeScript:K1e}=lne({themeId:eo,theme:()=>aE({cssVariables:!0}),colorSchemeStorageKey:Vg.colorSchemeStorageKey,modeStorageKey:Vg.modeStorageKey,defaultColorScheme:{light:Vg.defaultLightColorScheme,dark:Vg.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:K4(e.palette,e.typography)};return t.unstable_sx=function(r){return Pd({sx:r,theme:this})},t}}),Sle=ble;function _le({theme:e,...t}){return typeof e=="function"?f.jsx(MR,{theme:e,...t}):"colorSchemes"in(eo in e?e[eo]:e)?f.jsx(Sle,{theme:e,...t}):f.jsx(MR,{theme:e,...t})}function xle(e){return Lr("MuiSkeleton",e)}Fr("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const wle=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:a}=e;return ni({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!a&&"heightAuto"]},xle,t)},i_=Tc`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,s_=Tc`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Ele=typeof i_!="string"?ws`
        animation: ${i_} 2s ease-in-out 0.5s infinite;
      `:null,Tle=typeof s_!="string"?ws`
        &::after {
          animation: ${s_} 2s linear 0.5s infinite;
        }
      `:null,Cle=sn("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(As(({theme:e})=>{const t=vle(e.shape.borderRadius)||"px",n=Ale(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Ls(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Ele||{animation:`${i_} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Tle||{"&::after":{animation:`${s_} 2s linear 0.5s infinite`}}}]}})),kle=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:a="span",height:o,style:l,variant:c="text",width:u,...d}=r,h={...r,animation:i,component:a,variant:c,hasChildren:!!d.children},p=wle(h);return f.jsx(Cle,{as:a,ref:n,className:St(p.root,s),ownerState:h,...d,style:{width:u,height:o,...l}})}),Mle="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",Rle="/prs/373/assets/logo-1e2sNsQM.mp4",Ile="/prs/373/assets/logo-CDt7pIML.webm",Ole="/prs/373/assets/pride-CMcO3nTB.png";var pI;(pI=global.location)!=null&&pI.search.includes("pride")&&Be.session.setItem("pride","true");function RE(e){const[t]=We(Mr);return t?null:f.jsxs("div",{className:"relative h-[16.4rem] [view-transition-name:logo]",children:[Be.session.getItem("pride")==="true"&&f.jsx(RR,{asChild:!0,children:f.jsx("img",{className:"absolute",src:Ole,alt:"AllKaraoke Pride logo part 1"})}),f.jsxs(RR,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:Ile,type:"video/webm"}),f.jsx("source",{src:Rle,type:"video/mp4"})]}),f.jsx("img",{className:"absolute w-[13.7rem] h-[5.1rem] bottom-[-0.5rem] right-[-1rem]",src:Mle,alt:"AllKaraoke Pride logo part 2"})]})}const RR=Fd.video`w-[66rem] h-[16.4rem]`;function IE(){return"chrome"in window}function jle(){return f.jsx(f.Fragment,{children:!IE()&&f.jsxs(Vle,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const Vle=R("div",{target:"e95w1v80"})("width:100%;",Ge,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",me.colors.text.active,";}");function tD(){return f.jsx(f.Fragment,{children:f.jsx(Ple,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const Ple=R("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function pl({children:e,supportedBrowsers:t}){return vo(!0),f.jsxs(So,{children:[f.jsx(tD,{}),f.jsxs(Dle,{children:[f.jsx(RE,{}),t&&f.jsx(jle,{}),f.jsx(Ts,{children:e})]})]})}const Dle=R("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});var OE={},F0=function(){return F0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F0.apply(this,arguments)},Ble=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var a=s-i.startTime;i.remaining=i.duration-a,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(a,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(a,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(a/i.duration);var o=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=o?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),a<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var a,o,l,c,u=s<0?"-":"";a=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(a+="").split(".");if(o=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=o.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=o[m-g-1]+c;o=c}return i.options.numerals&&i.options.numerals.length&&(o=o.replace(/[0-9]/g,function(S){return i.options.numerals[+S]}),l=l.replace(/[0-9]/g,function(S){return i.options.numerals[+S]})),u+i.options.prefix+o+l+i.options.suffix},this.easeOutExpo=function(s,a,o,l){return o*(1-Math.pow(2,-10*s/l))*1024/1023+a},this.options=F0(F0({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Nle=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Ble},Symbol.toStringTag,{value:"Module"})),Lle=w6(Nle);Object.defineProperty(OE,"__esModule",{value:!0});var cr=v,Fle=Lle;function $le(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){zle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zle(e,t,n){return t=Qle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a_.apply(this,arguments)}function Ule(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nD(e,t){if(e==null)return{};var n=Ule(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hle(e,t){return Gle(e)||$le(e,t)||qle(e,t)||Yle()}function Gle(e){if(Array.isArray(e))return e}function qle(e,t){if(e){if(typeof e=="string")return OR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kle(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qle(e){var t=Kle(e,"string");return typeof t=="symbol"?t:String(t)}var Wle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?cr.useLayoutEffect:cr.useEffect;function Os(e){var t=cr.useRef(e);return Wle(function(){t.current=e}),cr.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var Xle=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,a=n.easingFn,o=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,S=n.useIndianSeparators,y=n.enableScrollSpy,b=n.scrollSpyDelay,A=n.scrollSpyOnce,_=n.plugin;return new Fle.CountUp(t,o,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:a,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:_,useEasing:g,useIndianSeparators:S,useGrouping:m,enableScrollSpy:y,scrollSpyDelay:b,scrollSpyOnce:A})},Jle=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Zle={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},rD=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(w){var O=Hle(w,2),B=O[1];return B!==void 0})),r=cr.useMemo(function(){return $0($0({},Zle),n)},[t]),i=r.ref,s=r.startOnMount,a=r.enableReinitialize,o=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=nD(r,Jle),g=cr.useRef(),m=cr.useRef(),S=cr.useRef(!1),y=Os(function(){return Xle(typeof i=="string"?i:i.current,p)}),b=Os(function(w){var O=g.current;if(O&&!w)return O;var B=y();return g.current=B,B}),A=Os(function(){var w=function(){return b(!0).start(function(){l==null||l({pauseResume:_,reset:x,start:T,update:E})})};o&&o>0?m.current=setTimeout(w,o*1e3):w(),c==null||c({pauseResume:_,reset:x,update:E})}),_=Os(function(){b().pauseResume(),u==null||u({reset:x,start:T,update:E})}),x=Os(function(){b().el&&(m.current&&clearTimeout(m.current),b().reset(),d==null||d({pauseResume:_,start:T,update:E}))}),E=Os(function(w){b().update(w),h==null||h({pauseResume:_,reset:x,start:T})}),T=Os(function(){x(),A()}),k=Os(function(w){s&&(w&&x(),A())});return cr.useEffect(function(){S.current?a&&k(!0):(S.current=!0,k())},[a,S,k,o,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),cr.useEffect(function(){return function(){x()}},[x]),{start:T,pauseResume:_,reset:x,update:E,getCountUp:b}},ece=["className","redraw","containerProps","children","style"],tce=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,a=t.style,o=nD(t,ece),l=cr.useRef(null),c=cr.useRef(!1),u=rD($0($0({},o),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,S=Os(function(){d()}),y=Os(function(_){t.preserveValue||h(),p(_)}),b=Os(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});cr.useEffect(function(){b()},[b]),cr.useEffect(function(){c.current&&y(t.end)},[t.end,y]);var A=r&&t;return cr.useEffect(function(){r&&c.current&&S()},[S,r,A]),cr.useEffect(function(){!r&&c.current&&S()},[S,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),cr.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):cr.createElement("span",a_({className:n,ref:l,style:a},i),typeof t.start<"u"?m().formattingFn(t.start):"")},jE=OE.default=tce;OE.useCountUp=rD;const VE=e=>v.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const a=s.toLowerCase();t[a]||(t[a]={name:s,count:0}),t[a].count=t[a].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),nce=Pi()?0:10;function iD({onClose:e,closeText:t}){const{register:n}=nr({onBackspace:e}),[r,i]=We(My),{data:s,isLoading:a}=Ld(),o=VE(s),l=v.useMemo(()=>o.filter(({name:p,count:g})=>JP(p)&&g>=nce),[o]),c=v.useMemo(()=>o.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[o,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};v.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(S=>{var y;return(y=p.of(S))==null?void 0:y.toLowerCase()}).filter(Boolean),m=l.map(S=>S.name).filter(S=>!g.some(y=>y.includes(S.toLowerCase()))).filter(S=>S!=="English");m.length&&i(m)}},[r,l]);const h=v.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return v.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(pl,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(sce,{children:[a&&new Array(6).fill(0).map((p,g)=>f.jsx(kle,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(jR,{"data-excluded":!0,focused:!1,children:f.jsx(Xl,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(jR,{"data-excluded":m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(ice,{children:m?f.jsx(Im,{}):f.jsx(Rm,{})}),f.jsxs("span",{children:[f.jsx(ace,{children:p})," (",g," songs)"]}),f.jsx(oce,{"data-excluded":m,children:f.jsx(Xl,{language:[p]})})]},p)}),c>0&&f.jsxs(ob,{children:["…and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(rce,{children:[f.jsx(Ve,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||a}),children:t}),f.jsxs(ob,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(jE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(ob,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Nd,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const rce=R("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),ob=R("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),ice=R("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),sce=R("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),ace=R("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"}),oce=R("div",{target:"e17pzmm1"})({name:"5606u9",styles:"transition:300ms;opacity:0.95;&[data-excluded='true']{filter:grayscale(0.6);opacity:0.5;}position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem"}),jR=R(Ve,{target:"e17pzmm0"})("&[data-excluded='true']{text-decoration:line-through white;opacity:0.5;&[data-focused='false']{background:rgba(0, 0, 0, 0.55);}}",Ge,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;"),lce=Pi()?0:30;function cce({children:e,languageList:t,excludedLanguages:n,onListChange:r}){const[i,s]=v.useState(!1),a=()=>s(!1),o=t.filter(c=>c.count>lce);console.log(n);const l=c=>{const u=n.filter(d=>o.find(h=>h.name===d));u.length===0?r(t.filter(d=>d.name!==c).map(d=>d.name)):u.includes(c)?r(n.filter(d=>d!==c)):u.length===o.length-1?r([]):r([...n,c])};return f.jsxs(f.Fragment,{children:[i&&f.jsx(Mc,{onClose:a,children:f.jsxs(Ts,{"data-test":"languages-container",className:"!gap-1",children:[o.map(({name:c,count:u})=>{const d=n.length&&n.includes(c);return f.jsxs(Ve,{size:"small","data-active":!!n.length&&!n.includes(c),onClick:()=>l(c),"data-test":c,className:`flex !justify-between ${d&&"line-through decoration-white opacity-25"}`,children:[f.jsxs("span",{className:d?"line-through decoration-white":"",children:[c,f.jsxs("small",{className:"text-2xl pl-2",children:["(",u,")"]})]}),f.jsx(Xl,{language:[c],className:" h-full w-32 object-cover"})]},c)}),f.jsx("hr",{}),f.jsx(Ve,{size:"small",onClick:a,"data-test":"close-language-filter",children:"Close"})]})}),e({open:()=>s(!0)})]})}const uce=(e,t,n)=>e>=t&&e<n;function dce(e,t){var b,A;const n=v.useMemo(()=>{const _=[];return e.groupSizes.forEach((x,E)=>{var T,k;_.push({index:E,type:"group",bottom:(((T=_.at(-1))==null?void 0:T.bottom)??0)+e.groupHeaderHeight,groupIndex:E});for(let w=0;w<x;w++){const O=e.groupSizes.reduce((B,F,j)=>B+(j<E?F:0),0)+w;_.push({index:O,type:"item",bottom:(((k=_.at(-1))==null?void 0:k.bottom)??0)+e.itemHeight,groupIndex:E})}}),_},[e.itemHeight,e.groupHeaderHeight,e.groupSizes]),r=((b=n.at(-1))==null?void 0:b.bottom)??0,i=v.useRef(null),s=v.useCallback(_=>{var k;const x=((k=i.current)==null?void 0:k.getBoundingClientRect().height)??global.innerHeight,E=n.findIndex(w=>w.bottom>_-e.overScan),T=n.findIndex(w=>w.bottom>_+x+e.overScan);return[E,T===-1?n.length:T]},[n,e.overScan]),[[a,o],l]=v.useState(()=>s(0));v.useLayoutEffect(()=>{var x;const _=s(((x=i.current)==null?void 0:x.scrollTop)??0);(a!==_[0]||o!==_[1])&&l(_)},[s,e.groupSizes,a,o]),v.useEffect(()=>{if(i.current){const _=()=>{var E;const x=s(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==x[0]||o!==x[1])&&l(x)};return i.current.addEventListener("scroll",_),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var x;(x=i.current)==null||x.removeEventListener("scroll",_)}}},[a,o,s,r]);const c=v.useCallback((_,x)=>{var E,T;return(((E=n[x])==null?void 0:E.bottom)??0)-(((T=n[_])==null?void 0:T.bottom)??0)},[n]),u=v.useMemo(()=>c(-1,a-1),[a,c]),d=n.slice(0,a).findLastIndex(({type:_})=>_==="group"),h=n.slice(a,o),p=d!==-1?[[]]:[];for(let _=0;_<h.length;_++){const x=h[_];x.type==="group"&&p.push([]),(A=p.at(-1))==null||A.push(x)}v.useImperativeHandle(t,()=>({getItemPositionY:_=>{var x;return(((x=n.find(E=>E.type==="item"&&E.index===_))==null?void 0:x.bottom)??-1)-e.itemHeight},scrollTo:_=>{var x;(x=i.current)==null||x.scrollTo({top:_})},scrollToIndex:async(_,x="auto",E="center")=>{var k,w;const T=n.find(O=>O.type==="item"&&O.index===_);if(T){const O=(e.itemHeight+(E==="center"?(k=i.current)==null?void 0:k.clientHeight:0))/2;(w=i.current)==null||w.scrollTo({top:T.bottom-O,behavior:x})}},scrollToGroup:async(_,x="auto",E="top")=>{var k;const T=n.find(w=>w.type==="group"&&w.index===_);T&&((k=i.current)==null||k.scrollTo({top:T.bottom-e.groupHeaderHeight,behavior:x}))}}));const{Header:g,Footer:m,EmptyPlaceholder:S}=e.components??{},y=n.findIndex(_=>_.type==="item"&&_.index===e.forceRenderItem);return f.jsxs(hce,{ref:i,children:[f.jsxs(fce,{style:{height:r,paddingTop:d!==-1?u-e.groupHeaderHeight:u},children:[g&&f.jsx(g,{context:e.context}),n[y]&&!uce(y,a,o)&&f.jsx(f.Fragment,{children:e.itemContent(n[y].index,n[y].groupIndex,{style:{width:"100%",position:"absolute",top:n[y].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[y].bottom,"data-virtualized-index":n[y].index})}),p.map((_,x)=>f.jsxs("div",{children:[x===0&&d!==-1&&e.groupContent(n[d].index),_.map(({index:E,type:T,bottom:k,groupIndex:w})=>f.jsx(v.Fragment,{children:T==="group"?e.groupContent(E):e.itemContent(E,w,{"data-virtualized-bottom":k,"data-virtualized-index":E})},`${k}`))]},(_[0]??n[d]).groupIndex))]}),p.length===0&&S&&f.jsx(S,{context:e.context}),m&&f.jsx(m,{context:e.context})]})}const fce=R("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),hce=R("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),sD=v.forwardRef(dce),pce=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,o_=1/0,lb=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),VR="eexxaacctt",gce="A-Z",mce="a-z",uf=(e,t,n)=>e.replace(gce,t).replace(mce,n),PR={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:o_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,o_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:a,interLft1:o,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+a[h]+.5*o[h]-(s[d]+a[d]+.5*o[d])||u[d]-u[h]||l[d]-l[h]||pce(t[r[d]],t[r[h]]))}},cb=(e,t)=>t==0?"":t==1?e+"??":t==o_?e+"*?":e+`{0,${t}}?`,DR="(?:\\b|_)";function Iv(e){e=Object.assign({},PR,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:a,intraSub:o,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;a??(a=i),o??(o=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let q=m.toLocaleUpperCase(),H=m.toLocaleLowerCase();h=uf(h,q,H),d=uf(d,q,H),p=uf(p,q,H),g=uf(g,q,H),u=uf(u,q,H)}let S=t?"u":"";const y='".+?"',b=new RegExp(y,"gi"+S),A=new RegExp(`(?:\\s+|^)-(?:${g}+|${y})`,"gi"+S);let{intraRules:_}=e;_==null&&(_=q=>{let H=PR.intraSlice,ne=0,N=0,he=0,te=0;if(/[^\d]/.test(q)){let ue=q.length;ue<=4?ue>=3&&(he=Math.min(l,1),ue==4&&(ne=Math.min(a,1))):(H=s,ne=a,N=o,he=l,te=c)}return{intraSlice:H,intraIns:ne,intraSub:N,intraTrn:he,intraDel:te}});let x=!!d,E=new RegExp(d,"g"+S),T=new RegExp(h,"g"+S),k=new RegExp("^"+h+"|"+h+"$","g"+S),w=new RegExp(u,"gi"+S);const O=q=>{let H=[];q=q.replace(b,N=>(H.push(N),VR)),q=q.replace(k,"").toLocaleLowerCase(),x&&(q=q.replace(E,N=>N[0]+" "+N[1]));let ne=0;return q.split(T).filter(N=>N!="").map(N=>N===VR?H[ne++]:N)},B=/[^\d]+|\d+/g,F=(q,H=0,ne=!1)=>{let N=O(q);if(N.length==0)return[];let he=Array(N.length).fill("");N=N.map((le,Ae)=>le.replace(w,Pe=>(he[Ae]=Pe,"")));let te;if(i==1)te=N.map((le,Ae)=>{if(le[0]==='"')return lb(le.slice(1,-1));let Pe="";for(let Ce of le.matchAll(B)){let Se=Ce[0],{intraSlice:xe,intraIns:Ne,intraSub:He,intraTrn:Me,intraDel:Xe}=_(Se);if(Ne+He+Me+Xe==0)Pe+=Se+he[Ae];else{let[Mt,Zt]=xe,Rt=Se.slice(0,Mt),we=Se.slice(Zt),ct=Se.slice(Mt,Zt);Ne==1&&Rt.length==1&&Rt!=ct[0]&&(Rt+="(?!"+Rt+")");let Lt=ct.length,qe=[Se];if(He)for(let je=0;je<Lt;je++)qe.push(Rt+ct.slice(0,je)+g+ct.slice(je+1)+we);if(Me)for(let je=0;je<Lt-1;je++)ct[je]!=ct[je+1]&&qe.push(Rt+ct.slice(0,je)+ct[je+1]+ct[je]+ct.slice(je+2)+we);if(Xe)for(let je=0;je<Lt;je++)qe.push(Rt+ct.slice(0,je+1)+"?"+ct.slice(je+1)+we);if(Ne){let je=cb(g,1);for(let It=0;It<Lt;It++)qe.push(Rt+ct.slice(0,It)+je+ct.slice(It)+we)}Pe+="(?:"+qe.join("|")+")"+he[Ae]}}return Pe});else{let le=cb(g,a);H==2&&a>0&&(le=")("+le+")("),te=N.map((Ae,Pe)=>Ae[0]==='"'?lb(Ae.slice(1,-1)):Ae.split("").map((Ce,Se,xe)=>(a==1&&Se==0&&xe.length>1&&Ce!=xe[Se+1]&&(Ce+="(?!"+Ce+")"),Ce)).join(le)+he[Pe])}let ue=n==2?DR:"",Oe=r==2?DR:"",_e=Oe+cb(e.interChars,e.interIns)+ue;return H>0?ne?te=ue+"("+te.join(")"+Oe+"|"+ue+"(")+")"+Oe:(te="("+te.join(")("+_e+")(")+")",te="(.??"+ue+")"+te+"("+Oe+".*)"):(te=te.join(_e),te=ue+te+Oe),[new RegExp(te,"i"+S),N,he]},j=(q,H,ne)=>{let[N]=F(H);if(N==null)return null;let he=[];if(ne!=null)for(let te=0;te<ne.length;te++){let ue=ne[te];N.test(q[ue])&&he.push(ue)}else for(let te=0;te<q.length;te++)N.test(q[te])&&he.push(te);return he};let D=!!p,I=new RegExp(h,S),C=new RegExp(p,S);const P=(q,H,ne)=>{let[N,he,te]=F(ne,1),[ue]=F(ne,2),Oe=he.length,_e=q.length,le=Array(_e).fill(0),Ae={idx:Array(_e),start:le.slice(),chars:le.slice(),terms:le.slice(),interIns:le.slice(),intraIns:le.slice(),interLft2:le.slice(),interRgt2:le.slice(),interLft1:le.slice(),interRgt1:le.slice(),ranges:Array(_e)},Pe=n==1||r==1,Ce=0;for(let Se=0;Se<q.length;Se++){let xe=H[q[Se]],Ne=xe.match(N),He=Ne.index+Ne[1].length,Me=He,Xe=!1,Mt=0,Zt=0,Rt=0,we=0,ct=0,Lt=0,qe=0,je=0,It=[];for(let ut=0,st=2;ut<Oe;ut++,st+=2){let Mn=Ne[st].toLocaleLowerCase(),Ct=he[ut],dt=Ct[0]=='"'?Ct.slice(1,-1):Ct+te[ut],hn=dt.length,Sn=Mn.length,an=Mn==dt;if(!an&&Ne[st+1].length>=hn){let vt=Ne[st+1].toLocaleLowerCase().indexOf(dt);vt>-1&&(It.push(Me,Sn,vt,hn),Me+=L(Ne,st,vt,hn),Mn=dt,Sn=hn,an=!0,ut==0&&(He=Me))}if(Pe||an){let vt=Me-1,Wn=Me+Sn,Rr=!1,Rn=!1;if(vt==-1||I.test(xe[vt]))an&&Mt++,Rr=!0;else{if(n==2){Xe=!0;break}if(D&&C.test(xe[vt]+xe[vt+1]))an&&Zt++,Rr=!0;else if(n==1){let $i=Ne[st+1],Si=Me+Sn;if($i.length>=hn){let Ot=0,In=!1,Fe=new RegExp(dt,"ig"+S),nt;for(;nt=Fe.exec($i);){Ot=nt.index;let rr=Si+Ot,_i=rr-1;if(_i==-1||I.test(xe[_i])){Mt++,In=!0;break}else if(C.test(xe[_i]+xe[rr])){Zt++,In=!0;break}}In&&(Rr=!0,It.push(Me,Sn,Ot,hn),Me+=L(Ne,st,Ot,hn),Mn=dt,Sn=hn,an=!0,ut==0&&(He=Me))}if(!Rr){Xe=!0;break}}}if(Wn==xe.length||I.test(xe[Wn]))an&&Rt++,Rn=!0;else{if(r==2){Xe=!0;break}if(D&&C.test(xe[Wn-1]+xe[Wn]))an&&we++,Rn=!0;else if(r==1){Xe=!0;break}}an&&(ct+=hn,Rr&&Rn&&Lt++)}if(Sn>hn&&(je+=Sn-hn),ut>0&&(qe+=Ne[st-1].length),!e.intraFilt(dt,Mn,Me)){Xe=!0;break}ut<Oe-1&&(Me+=Sn+Ne[st+1].length)}if(!Xe){Ae.idx[Ce]=q[Se],Ae.interLft2[Ce]=Mt,Ae.interLft1[Ce]=Zt,Ae.interRgt2[Ce]=Rt,Ae.interRgt1[Ce]=we,Ae.chars[Ce]=ct,Ae.terms[Ce]=Lt,Ae.interIns[Ce]=qe,Ae.intraIns[Ce]=je,Ae.start[Ce]=He;let ut=xe.match(ue),st=ut.index+ut[1].length,Mn=It.length,Ct=Mn>0?0:1/0,dt=Mn-4;for(let vt=2;vt<ut.length;){let Wn=ut[vt].length;if(Ct<=dt&&It[Ct]==st){let Rr=It[Ct+1],Rn=It[Ct+2],$i=It[Ct+3],Si=vt,Ot="";for(let In=0;In<Rr;Si++)Ot+=ut[Si],In+=ut[Si].length;ut.splice(vt,Si-vt,Ot),st+=L(ut,vt,Rn,$i),Ct+=4}else st+=Wn,vt++}st=ut.index+ut[1].length;let hn=Ae.ranges[Ce]=[],Sn=st,an=st;for(let vt=2;vt<ut.length;vt++){let Wn=ut[vt].length;st+=Wn,vt%2==0?an=st:Wn>0&&(hn.push(Sn,an),Sn=an=st)}an>Sn&&hn.push(Sn,an),Ce++}}if(Ce<q.length)for(let Se in Ae)Ae[Se]=Ae[Se].slice(0,Ce);return Ae},L=(q,H,ne,N)=>{let he=q[H]+q[H+1].slice(0,ne);return q[H-1]+=he,q[H]=q[H+1].slice(ne,ne+N),q[H+1]=q[H+1].slice(ne+N),he.length},$=5,U=(q,H,ne,N=1e3,he)=>{ne=ne?ne===!0?$:ne:0;let te=null,ue=null,Oe=[];H=H.replace(A,Se=>{let xe=Se.trim().slice(1);return xe[0]==='"'&&(xe=lb(xe.slice(1,-1))),Oe.push(xe),""});let _e=O(H),le;if(Oe.length>0){if(le=new RegExp(Oe.join("|"),"i"+S),_e.length==0){let Se=[];for(let xe=0;xe<q.length;xe++)le.test(q[xe])||Se.push(xe);return[Se,null,null]}}else if(_e.length==0)return[null,null,null];if(ne>0){let Se=O(H);if(Se.length>1){let xe=Se.slice().sort((He,Me)=>Me.length-He.length);for(let He=0;He<xe.length;He++){if((he==null?void 0:he.length)==0)return[[],null,null];he=j(q,xe[He],he)}if(Se.length>ne)return[he,null,null];te=aD(Se).map(He=>He.join(" ")),ue=[];let Ne=new Set;for(let He=0;He<te.length;He++)if(Ne.size<he.length){let Me=he.filter(Mt=>!Ne.has(Mt)),Xe=j(q,te[He],Me);for(let Mt=0;Mt<Xe.length;Mt++)Ne.add(Xe[Mt]);ue.push(Xe)}else ue.push([])}}te==null&&(te=[H],ue=[(he==null?void 0:he.length)>0?he:j(q,H)]);let Ae=null,Pe=null;if(Oe.length>0&&(ue=ue.map(Se=>Se.filter(xe=>!le.test(q[xe])))),ue.reduce((Se,xe)=>Se+xe.length,0)<=N){Ae={},Pe=[];for(let Se=0;Se<ue.length;Se++){let xe=ue[Se];if(xe==null||xe.length==0)continue;let Ne=te[Se],He=P(xe,q,Ne),Me=e.sort(He,q,Ne);if(Se>0)for(let Xe=0;Xe<Me.length;Xe++)Me[Xe]+=Pe.length;for(let Xe in He)Ae[Xe]=(Ae[Xe]??[]).concat(He[Xe]);Pe=Pe.concat(Me)}}return[[].concat(...ue),Ae,Pe]};return{search:(...q)=>U(...q),split:O,filter:j,info:P,sort:e.sort}}const yce=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let s in e)e[s].split("").forEach(a=>{n+=a,t.set(a,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let a=Array(s.length);for(let o=0;o<s.length;o++)a[o]=s[o].replace(r,i);return a}})();function aD(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,a;for(;i<t;)r[i]<i?(s=i%2&&r[i],a=e[i],e[i]=e[s],e[s]=a,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const vce=(e,t)=>t?`<mark>${e}</mark>`:e,Ace=(e,t)=>e+t;function bce(e,t,n=vce,r="",i=Ace){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let a=t[s],o=t[s+1];r=i(r,n(e.substring(a,o),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}Iv.latinize=yce;Iv.permute=e=>aD([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));Iv.highlight=bce;const Sce=(e,t,n)=>{const r=VE(e);return v.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:o,active:l,focused:c})=>f.jsx(bie,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",place:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:o}),display:f.jsxs("span",{children:[f.jsx("strong",{children:"★"})," Selection ",f.jsx("strong",{children:"★"})]}),filters:{specificSongs:t}},{name:"All",filters:{}},{name:"Halloween",display:f.jsxs(f.Fragment,{children:[f.jsx("span",{style:{color:Ie.halloweenViolet.text},children:"Hallo"}),f.jsx("span",{style:{color:Ie.halloweenOrange.text},children:"ween"})," 🎃"]}),filters:{edition:"halloween"}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(o=>o!==null),[r,n,t])},BR=e=>lc((e==null?void 0:e.search)??"").length>2,NR={},_ce=/[^0-9a-z ]/gi,ub=e=>gw(e).toLowerCase().replace(_ce,"");function oD(e,t){const n=lc(t);if(n.length>0){const r=new Iv({}),[,i,s]=r.search(e.map(a=>`${ub(a.artist)} ${ub(a.title)}`),ub(t));return s&&i?s.map(a=>e[i.idx[a]]):e.filter(a=>a.search.includes(n))}return e}const z0={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||BR(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>oD(e,t),duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>lc(t).length?e.filter(r=>lc(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=zs().subtract(31,"days");return e.filter(n=>n.lastUpdate&&zs(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>BR(n)?e:e.filter(r=>t.includes(r.id))},LR=(e,t)=>Object.entries(t).filter(n=>n[0]in z0).reduce((n,[r,i])=>z0[r](n,i,t,e),e),xce=(e,t,n)=>{var g;const[r]=We(My),i=v.useMemo(()=>LR(e,{excludeLanguages:r??[]}),[e,r]),s=Sce(i,t,n),[a,o]=v.useState(new URLSearchParams((g=global.location)==null?void 0:g.search).get("playlist")??null),l=m=>{var y;const S=new URL((y=global.location)==null?void 0:y.href);S.searchParams.set("playlist",m),global.history.replaceState(null,"",S.toString()),o(m)},c=s.find(m=>m.name===a)??s[0],[u,d]=v.useState(NR);v.useEffect(()=>{d(NR)},[a]);const h=v.useDeferredValue(u),p=v.useMemo(()=>LR(e,{...(c==null?void 0:c.filters)??{},...h,excludeLanguages:r??[]}),[e,h,r,c]);return{filters:u,filteredList:p,setFilters:d,selectedPlaylist:a,setSelectedPlaylist:l,playlists:s,playlist:c}},wce=Pp("remote-mic-saved-songs");function Ece({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:a}){const[o]=Js(ee.remoteKeyboardLayout,!0)??[],l=Rv(),c=Ld(),[u,d]=v.useState();v.useEffect(()=>{a==="connected"&&u===void 0&&An.getSongList().then(d).catch(console.warn)},[u,a]);const h=v.useMemo(()=>ile(c.data.map(w=>({...w,id:Di.generateSongFile(w)})).filter(w=>!((u==null?void 0:u.deleted)??[]).includes(w.id)).map(w=>({id:w.id,artist:w.artist,title:w.title,video:w.video,language:w.language,search:w.search})).concat(...((u==null?void 0:u.custom)??[]).map(w=>({...w,id:Di.generateSongFile(w)}))),w=>w.id),[c.data,u]),p=VE(h),[g,m]=v.useState(""),[S,y]=v.useState([]),[b,A]=wce([]),[_,x]=v.useState("list"),E=ZP(),T=w=>{x(w),m("")},k=v.useMemo(()=>{if(_==="list"){const w=oD(h,g);return w.length!==h.length?w:h.filter(O=>!O.language.every(B=>S.includes(B)))}else return b.map(w=>h.find(O=>O.id===w)).filter(Boolean)},[g,h,_,b,S]);return f.jsxs(Tce,{children:[f.jsxs(Cce,{children:[f.jsx(Rc,{focused:!1,label:f.jsx(EE,{}),placeholder:"Search for a song…",value:g,onChange:w=>m(w),"data-test":"search-input"}),f.jsxs(kce,{children:[f.jsx(db,{"data-test":"all-songs-button","data-active":_==="list",onClick:()=>T("list"),children:"All songs"}),f.jsxs(db,{"data-test":"your-list-button","data-active":_==="queue",onClick:()=>T("queue"),children:["Your list (",b.length,")"]}),f.jsx(cce,{excludedLanguages:S,languageList:p,onListChange:y,children:({open:w})=>f.jsx(db,{className:"!flex-grow-[0.3]",onClick:w,"data-test":"song-language-filter","data-active":S.length>0&&_==="list"?!0:void 0,children:"🇺🇳"})})]})]}),f.jsx(sD,{forceRenderItem:-1,overScan:100,components:{},context:{},groupSizes:[k.length],groupHeaderHeight:1,groupContent:()=>null,itemHeight:E*7+1,itemContent:(w,O,B)=>{var D;const F=k[w],j=b.includes(F.id);return f.jsxs(Mce,{className:j?"!bg-black !bg-opacity-35":"","data-test":F.id,...B,children:[f.jsx(Rce,{children:f.jsx(Xl,{language:F.language})}),f.jsxs(Ice,{children:[f.jsx(jce,{children:F.title}),f.jsx(Oce,{children:F.artist})]}),f.jsxs(Vce,{children:[((D=o==null?void 0:o.remote)==null?void 0:D.includes("select-song"))&&l==="write"&&f.jsx(FR,{onClick:I=>{I.stopPropagation(),An.selectSong(F.id)},"data-test":"select-song-button",children:"SELECT"}),j?f.jsx(FR,{"data-test":"remove-song-button",onClick:I=>{I.stopPropagation(),A(C=>C.filter(P=>P!==F.id))},children:"-"}):f.jsx(lD,{"data-test":"add-song-button",onClick:I=>{I.stopPropagation(),A(C=>[...C,F.id])},children:"+"})]})]})}})]})}const Tce=R("div",{target:"emsrjbt9"})({name:"lrzqpm",styles:"display:flex;flex-direction:column;position:relative;flex:1 1 auto;min-height:calc(100vh - 6rem);max-height:calc(100vh - 6rem)"}),Cce=R("div",{target:"emsrjbt8"})(Ge,";font-size:2.5rem;display:flex;flex-direction:column;"),kce=R("div",{target:"emsrjbt7"})({name:"7whenc",styles:"display:flex;width:100%"}),db=R("button",{target:"emsrjbt6"})("border:none;flex:1;display:flex;align-items:center;justify-content:center;min-width:4rem;height:4rem;background:rgba(0, 0, 0, 0.75);",Ge,";font-size:2rem;transition:300ms;&[data-active='true']{background:",me.colors.text.active,";}&[data-active='false']{box-shadow:inset 0px 0px 0px 2px orange;}"),Mce=R("div",{target:"emsrjbt5"})({name:"16qu2op",styles:"background:rgba(0, 0, 0, 0.15);display:flex;align-items:center;height:7rem;padding:0 1rem;gap:1rem;border-bottom:1px solid black;overflow:hidden;position:relative;transition:100ms"}),Rce=R("div",{target:"emsrjbt4"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Ice=R("div",{target:"emsrjbt3"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),Oce=R("span",{target:"emsrjbt2"})("color:",me.colors.text.default,";font-size:1.25rem;white-space:nowrap;"),jce=R("span",{target:"emsrjbt1"})("color:",me.colors.text.active,";font-size:1.5rem;white-space:nowrap;"),Vce=R("div",{target:"emsrjbt0"})({name:"1m2flic",styles:"position:absolute;top:0;right:0;display:flex;height:7rem;align-items:center;justify-content:center;gap:1rem;padding-right:1rem"}),lD=Fd.button`transition-all duration-300 active:text-text-default active:bg-active typography p-[1rem] min-w-[4rem] h-[4rem] rounded-full text-center bg-black text-[1.5rem] border-none cursor-pointer transition-[300ms]`,FR=Fd(lD)`text-active`,fb=new tee;function Pce(){const e=pv("room"),[t]=Js(ee.remoteStyleChanged,!0)??["regular"];v.useLayoutEffect(()=>{fO(t)},[t]),vo(!0,t);const[n,r]=v.useState("microphone"),[i,s]=Js(ee.karaokeConnectionStatusChange)??["uninitialised"],[a,o]=v.useState(!1);Nr(ee.micMonitoringStarted,()=>o(!0)),Nr(ee.micMonitoringStopped,()=>o(!1));const[l,c]=v.useState(!1),u=async h=>{try{h&&!fb.isEnabled?await fb.enable():!h&&fb.isEnabled,c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(So,{children:[f.jsx(Hae,{onConfirm:d}),f.jsx(hee,{size:10}),f.jsx(Bce,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx($ae,{roomId:e,monitoringStarted:a,setMonitoringStarted:o,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(Ece,{roomId:e,monitoringStarted:a,setMonitoringStarted:o,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(noe,{}),f.jsx(Dce,{}),f.jsx(Pse,{setActiveTab:r,active:n})]})})]})}const Dce=R("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),Bce=R("div",{target:"e1ky75ep0"})({name:"1tjfysn",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;max-height:100vh;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"});function gl(e){v.useEffect(()=>{e?_m.playing()||_m.play(!1):_m.stop()},[e])}function Nce(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var cD=v,Lce=Nce(cD);function $R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var $ce=!!(typeof window<"u"&&window.document&&window.document.createElement);function zce(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],o;function l(){o=e(a.map(function(u){return u.props})),c.canUseDOM?t(o):n&&(o=n(o))}var c=function(u){Fce(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return o},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=o;return o=void 0,a=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){a.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=a.indexOf(this);a.splice(g,1),l()},h.render=function(){return Lce.createElement(s,this.props)},d}(cD.PureComponent);return $R(c,"displayName","SideEffect("+r(s)+")"),$R(c,"canUseDOM",$ce),c}}var Uce=zce;const Hce=kr(Uce);var Gce=typeof Element<"u",qce=typeof Map=="function",Yce=typeof Set=="function",Kce=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Om(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Om(e[r],t[r]))return!1;return!0}var s;if(qce&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Om(r.value[1],t.get(r.value[0])))return!1;return!0}if(Yce&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Kce&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Gce&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Om(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Qce=function(t,n){try{return Om(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Wce=kr(Qce);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var zR=Object.getOwnPropertySymbols,Xce=Object.prototype.hasOwnProperty,Jce=Object.prototype.propertyIsEnumerable;function Zce(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function eue(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var tue=eue()?Object.assign:function(e,t){for(var n,r=Zce(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)Xce.call(n,a)&&(r[a]=n[a]);if(zR){i=zR(n);for(var o=0;o<i.length;o++)Jce.call(n,i[o])&&(r[i[o]]=n[i[o]])}}return r};const nue=kr(tue);var Jl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Qe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Qe).map(function(e){return Qe[e]});var cn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},U0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Yh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},rue=Object.keys(U0).reduce(function(e,t){return e[U0[t]]=t,e},{}),iue=[Qe.NOSCRIPT,Qe.SCRIPT,Qe.STYLE],Us="data-react-helmet",sue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aue=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},oue=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lue=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},UR=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},cue=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},l_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},uue=function(t){var n=Nu(t,Qe.TITLE),r=Nu(t,Yh.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Nu(t,Yh.DEFAULT_TITLE);return n||i||void 0},due=function(t){return Nu(t,Yh.ON_CHANGE_CLIENT_STATE)||function(){}},hb=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return ai({},r,i)},{})},fue=function(t,n){return n.filter(function(r){return typeof r[Qe.BASE]<"u"}).map(function(r){return r[Qe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),a=0;a<s.length;a++){var o=s[a],l=o.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},df=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&mue("Helmet: "+t+' should be of type "Array". Instead found type "'+sue(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,a){var o={};a.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var S=g[m],y=S.toLowerCase();n.indexOf(y)!==-1&&!(p===cn.REL&&h[p].toLowerCase()==="canonical")&&!(y===cn.REL&&h[y].toLowerCase()==="stylesheet")&&(p=y),n.indexOf(S)!==-1&&(S===cn.INNER_HTML||S===cn.CSS_TEXT||S===cn.ITEM_PROP)&&(p=S)}if(!p||!h[p])return!1;var b=h[p].toLowerCase();return i[p]||(i[p]={}),o[p]||(o[p]={}),i[p][b]?!1:(o[p][b]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(o),c=0;c<l.length;c++){var u=l[c],d=nue({},i[u],o[u]);i[u]=d}return s},[]).reverse()},Nu=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},hue=function(t){return{baseTag:fue([cn.HREF,cn.TARGET],t),bodyAttributes:hb(Jl.BODY,t),defer:Nu(t,Yh.DEFER),encode:Nu(t,Yh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:hb(Jl.HTML,t),linkTags:df(Qe.LINK,[cn.REL,cn.HREF],t),metaTags:df(Qe.META,[cn.NAME,cn.CHARSET,cn.HTTPEQUIV,cn.PROPERTY,cn.ITEM_PROP],t),noscriptTags:df(Qe.NOSCRIPT,[cn.INNER_HTML],t),onChangeClientState:due(t),scriptTags:df(Qe.SCRIPT,[cn.SRC,cn.INNER_HTML],t),styleTags:df(Qe.STYLE,[cn.CSS_TEXT],t),title:uue(t),titleAttributes:hb(Jl.TITLE,t)}},c_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){c_(t)},0)}}(),HR=function(t){return clearTimeout(t)},pue=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||c_:global.requestAnimationFrame||c_,gue=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||HR:global.cancelAnimationFrame||HR,mue=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},ff=null,yue=function(t){ff&&gue(ff),t.defer?ff=pue(function(){GR(t,function(){ff=null})}):(GR(t),ff=null)},GR=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,a=t.linkTags,o=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;u_(Qe.BODY,i),u_(Qe.HTML,s),vue(h,p);var g={baseTag:Yc(Qe.BASE,r),linkTags:Yc(Qe.LINK,a),metaTags:Yc(Qe.META,o),noscriptTags:Yc(Qe.NOSCRIPT,l),scriptTags:Yc(Qe.SCRIPT,u),styleTags:Yc(Qe.STYLE,d)},m={},S={};Object.keys(g).forEach(function(y){var b=g[y],A=b.newTags,_=b.oldTags;A.length&&(m[y]=A),_.length&&(S[y]=g[y].oldTags)}),n&&n(),c(t,m,S)},uD=function(t){return Array.isArray(t)?t.join(""):t},vue=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=uD(t)),u_(Qe.TITLE,n)},u_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Us),s=i?i.split(","):[],a=[].concat(s),o=Object.keys(n),l=0;l<o.length;l++){var c=o[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=a.indexOf(c);d!==-1&&a.splice(d,1)}for(var h=a.length-1;h>=0;h--)r.removeAttribute(a[h]);s.length===a.length?r.removeAttribute(Us):r.getAttribute(Us)!==o.join(",")&&r.setAttribute(Us,o.join(","))}},Yc=function(t,n){var r=document.head||document.querySelector(Qe.HEAD),i=r.querySelectorAll(t+"["+Us+"]"),s=Array.prototype.slice.call(i),a=[],o=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===cn.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===cn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Us,"true"),s.some(function(h,p){return o=p,c.isEqualNode(h)})?s.splice(o,1):a.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),a.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:a}},dD=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Aue=function(t,n,r,i){var s=dD(r),a=uD(n);return s?"<"+t+" "+Us+'="true" '+s+">"+l_(a,i)+"</"+t+">":"<"+t+" "+Us+'="true">'+l_(a,i)+"</"+t+">"},bue=function(t,n,r){return n.reduce(function(i,s){var a=Object.keys(s).filter(function(c){return!(c===cn.INNER_HTML||c===cn.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+l_(s[u],r)+'"';return c?c+" "+d:d},""),o=s.innerHTML||s.cssText||"",l=iue.indexOf(t)===-1;return i+"<"+t+" "+Us+'="true" '+a+(l?"/>":">"+o+"</"+t+">")},"")},fD=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[U0[i]||i]=t[i],r},n)},Sue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[rue[i]||i]=t[i],r},n)},_ue=function(t,n,r){var i,s=(i={key:n},i[Us]=!0,i),a=fD(r,s);return[ke.createElement(Qe.TITLE,a,n)]},xue=function(t,n){return n.map(function(r,i){var s,a=(s={key:i},s[Us]=!0,s);return Object.keys(r).forEach(function(o){var l=U0[o]||o;if(l===cn.INNER_HTML||l===cn.CSS_TEXT){var c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[o]}),ke.createElement(t,a)})},Ia=function(t,n,r){switch(t){case Qe.TITLE:return{toComponent:function(){return _ue(t,n.title,n.titleAttributes)},toString:function(){return Aue(t,n.title,n.titleAttributes,r)}};case Jl.BODY:case Jl.HTML:return{toComponent:function(){return fD(n)},toString:function(){return dD(n)}};default:return{toComponent:function(){return xue(t,n)},toString:function(){return bue(t,n,r)}}}},hD=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,a=t.linkTags,o=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:Ia(Qe.BASE,n,i),bodyAttributes:Ia(Jl.BODY,r,i),htmlAttributes:Ia(Jl.HTML,s,i),link:Ia(Qe.LINK,a,i),meta:Ia(Qe.META,o,i),noscript:Ia(Qe.NOSCRIPT,l,i),script:Ia(Qe.SCRIPT,c,i),style:Ia(Qe.STYLE,u,i),title:Ia(Qe.TITLE,{title:h,titleAttributes:p},i)}},wue=function(t){var n,r;return r=n=function(i){lue(s,i);function s(){return aue(this,s),cue(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(o){return!Wce(this.props,o)},s.prototype.mapNestedChildrenToProps=function(o,l){if(!l)return null;switch(o.type){case Qe.SCRIPT:case Qe.NOSCRIPT:return{innerHTML:l};case Qe.STYLE:return{cssText:l}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(o){var l,c=o.child,u=o.arrayTypeChildren,d=o.newChildProps,h=o.nestedChildren;return ai({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[ai({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(o){var l,c,u=o.child,d=o.newProps,h=o.newChildProps,p=o.nestedChildren;switch(u.type){case Qe.TITLE:return ai({},d,(l={},l[u.type]=p,l.titleAttributes=ai({},h),l));case Qe.BODY:return ai({},d,{bodyAttributes:ai({},h)});case Qe.HTML:return ai({},d,{htmlAttributes:ai({},h)})}return ai({},d,(c={},c[u.type]=ai({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(o,l){var c=ai({},l);return Object.keys(o).forEach(function(u){var d;c=ai({},c,(d={},d[u]=o[u],d))}),c},s.prototype.warnOnInvalidChildren=function(o,l){return!0},s.prototype.mapChildrenToProps=function(o,l){var c=this,u={};return ke.Children.forEach(o,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=UR(h,["children"]),m=Sue(g);switch(c.warnOnInvalidChildren(d,p),d.type){case Qe.LINK:case Qe.META:case Qe.NOSCRIPT:case Qe.SCRIPT:case Qe.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var o=this.props,l=o.children,c=UR(o,["children"]),u=ai({},c);return l&&(u=this.mapChildrenToProps(l,u)),ke.createElement(t,u)},oue(s,null,[{key:"canUseDOM",set:function(o){t.canUseDOM=o}}]),s}(ke.Component),n.propTypes={base:Ze.object,bodyAttributes:Ze.object,children:Ze.oneOfType([Ze.arrayOf(Ze.node),Ze.node]),defaultTitle:Ze.string,defer:Ze.bool,encodeSpecialCharacters:Ze.bool,htmlAttributes:Ze.object,link:Ze.arrayOf(Ze.object),meta:Ze.arrayOf(Ze.object),noscript:Ze.arrayOf(Ze.object),onChangeClientState:Ze.func,script:Ze.arrayOf(Ze.object),style:Ze.arrayOf(Ze.object),title:Ze.string,titleAttributes:Ze.object,titleTemplate:Ze.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=hD({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Eue=function(){return null},Tue=Hce(hue,yue,hD)(Eue),Ni=wue(Tue);Ni.renderStatic=Ni.rewind;const pD=v.forwardRef(({...e},t)=>{const n=v.useRef(null);v.useImperativeHandle(t,()=>n.current);const[r,i]=We(Kf);return f.jsx(Cue,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var a;s.code==="Enter"&&((a=n.current)==null||a.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),Cue=R(Rc,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function kue(e){gl(!1);const t=bi(),n=()=>t("menu/"),{register:r}=nr({onBackspace:n}),[i,s]=We(as),[a,o]=We(zl),[l,c]=We(Mr),u=v.useRef(null),[d,h]=v.useState(Fs.getPermissionStatus());v.useEffect(()=>Fs.addListener(y=>{h(y)}),[]);const[p,g]=v.useState(!1),m=()=>{g(!0),Fs.requestPermissions().then(()=>g(!1))};let S="Disabled";return p?S=f.jsx(Vp,{size:"0.9em"}):d===null?S="Click to enable":d&&(S="Enabled"),f.jsxs(pl,{children:[f.jsx(Ni,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(cs,{...r("graphics-level",()=>s(Wl(jO,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(cs,{...r("fps-count-level",()=>o(Wl(VO,a))),label:"FPS Count",value:a}),f.jsx(pD,{ref:u,...r("input-lag",()=>{var y;return(y=u.current)==null?void 0:y.focus()})}),f.jsx("hr",{}),f.jsx(cs,{...r("camera-access",()=>d?Fs.disable():m()),label:"Enable camera mode",value:S,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(cs,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Ve,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Ve,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Ve,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Ve,{...r("back-button",n),children:"Return To Main Menu"})]})}function Mue(e){return Lr("MuiPaper",e)}Fr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Rue=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return ni(s,Mue,i)},Iue=sn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(As(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ov=v.forwardRef(function(t,n){var p;const r=$r({props:t,name:"MuiPaper"}),i=lE(),{className:s,component:a="div",elevation:o=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:a,elevation:o,square:l,variant:c},h=Rue(d);return f.jsx(Iue,{as:a,ownerState:d,className:St(h.root,s),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[o],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[o]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ls("#fff",US(o))}, ${Ls("#fff",US(o))})`}},...u.style}})});function gD(e){return f.jsxs(Oue,{...e,children:[f.jsx(mD,{asChild:!0,children:f.jsx(NP,{})}),f.jsx(jue,{asChild:!0,children:f.jsx(e_,{})})]})}const Oue=Fd.div`relative transition-[300ms] [&_svg]:w-[15rem] [&_svg]:h-[15rem]`,mD=Fd.svg`w-[15rem] h-[15rem] transition-[300ms]`,jue=Fd(mD)`absolute top-[1.6rem] left-[3.5rem] z-[100] scale-x-[-1]`;function yD(){const[e,t]=v.useState(!1);return v.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(Vue,{visible:e,children:f.jsx(Pue,{})})}const Vue=R("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),Pue=R(gD,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),vD=v.lazy(()=>Od(()=>import("./SongManagement-_HXHgci-.js"),[]).then(e=>({default:e.Convert}))),Due=e=>f.jsxs(v.Suspense,{fallback:f.jsx(yD,{}),children:[f.jsx(Ni,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(Ov,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:f.jsx(vD,{...e})})]}),Bue=gt(f.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var AD={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Do,function(){return function(n,r,i){n=n||{};var s=r.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=a,s.fromToBase=function(c,u,d,h,p){for(var g,m,S,y=d.$locale().relativeTime||a,b=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],A=b.length,_=0;_<A;_+=1){var x=b[_];x.d&&(g=h?i(c).diff(d,x.d,!0):d.diff(c,x.d,!0));var E=(n.rounding||Math.round)(Math.abs(g));if(S=g>0,E<=x.r||!x.r){E<=1&&_>0&&(x=b[_-1]);var T=y[x.l];p&&(E=p(""+E)),m=typeof T=="string"?T.replace("%d",E):T(E,u,x.l,S);break}}if(u)return m;var k=S?y.future:y.past;return typeof k=="function"?k(m):k.replace("%s",m)},s.to=function(c,u){return o(c,u,this,!0)},s.from=function(c,u){return o(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(AD);var Nue=AD.exports;const Lue=kr(Nue),bD=1e3,Fue=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),$ue=e=>{const t=e.notes.at(-1);return t.start+t.length},zue=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=$ue(i)}),r},qR=(e,t)=>({...e,sections:zue(Fue(e.sections.filter(Pt)),t)});function Uue(e){const t=jd(e),n=Math.round(bD/t);return{...e,tracks:e.tracks.map(r=>qR(r,n)),mergedTrack:qR(e.mergedTrack,n)}}const Hue=(e,t)=>e.map((n,r)=>Pt(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),YR=(e,t)=>({...e,sections:Hue(e.sections,t)});function Gue(e){const t=jd(e),n=Math.round(bD/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>YR(s,r)),mergedTrack:YR(e.mergedTrack,r)}}function SD(e,t){return jd(t)*e}function jv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?il(n.sections):n.start));return SD(t,e)+e.gap}function que(e){const t=jv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const Yue=(e,t)=>e.map((n,r)=>Pt(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>Pt(n)||n.start-n.end>0),KR=(e,t)=>({...e,sections:Yue(e.sections,t)});function Kue(e){const t=jd(e),n=e.tracks.reduce((a,o,l)=>{const c=il(e.tracks[a].sections),u=il(o.sections);return c>u?l:a},0),r=e.tracks[n].sections.find(Pt);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(a=>KR(a,i)),mergedTrack:KR(e.mergedTrack,i)}}const Que=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trimStart(),n>0&&(e[n-1].lyrics=e[n-1].lyrics.trimEnd()+" ")),n===e.length-1&&(t.lyrics=t.lyrics.trimEnd())}),e),QR=e=>({...e,sections:e.sections.map(t=>Pt(t)?{...t,notes:Que(t.notes)}:t)});function Wue(e){return{...e,tracks:e.tracks.map(QR),mergedTrack:QR(e.mergedTrack)}}const Xue=e=>{let t=Kue(e);return t=Gue(t),t=Uue(t),t=Wue(t),t=que(t),t};function _D(e){const[t,n]=v.useState(null);return v.useEffect(()=>{Di.get(e).then(r=>n(r&&Xue(r)))},[e]),{data:t}}function Jue(e){return Lr("MuiButton",e)}const Kc=Fr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Zue=v.createContext({}),ede=v.createContext(void 0),tde=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:a}=e,o={root:["root",s,`${s}${lt(t)}`,`size${lt(i)}`,`${s}Size${lt(i)}`,`color${lt(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${lt(i)}`],endIcon:["icon","endIcon",`iconSize${lt(i)}`]},l=ni(o,Jue,a);return{...a,...l}},xD=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],nde=sn(nP,{shouldForwardProp:e=>cE(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${lt(n.color)}`],t[`size${lt(n.size)}`],t[`${n.variant}Size${lt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(As(({theme:e})=>{var r,i;const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Kc.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Kc.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Kc.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Kc.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(zh(["dark","contrastText"])).map(([s])=>({props:{color:s},style:{"--variant-textColor":(e.vars||e).palette[s].main,"--variant-outlinedColor":(e.vars||e).palette[s].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[s].mainChannel} / 0.5)`:Ls(e.palette[s].main,.5),"--variant-containedColor":(e.vars||e).palette[s].contrastText,"--variant-containedBg":(e.vars||e).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[s].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ls(e.palette[s].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[s].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ls(e.palette[s].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{"--variant-containedColor":e.vars?e.vars.palette.text.primary:(i=(r=e.palette).getContrastText)==null?void 0:i.call(r,t),"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ls(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ls(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Kc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Kc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),rde=sn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${lt(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...xD]}),ide=sn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${lt(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...xD]}),WR=v.forwardRef(function(t,n){const r=v.useContext(Zue),i=v.useContext(ede),s=M0(r,t),a=$r({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:m,fullWidth:S=!1,size:y="medium",startIcon:b,type:A,variant:_="text",...x}=a,E={...a,color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:S,size:y,type:A,variant:_},T=tde(E),k=b&&f.jsx(rde,{className:T.startIcon,ownerState:E,children:b}),w=g&&f.jsx(ide,{className:T.endIcon,ownerState:E,children:g}),O=i||"";return f.jsxs(nde,{ownerState:E,className:St(r.className,T.root,u,O),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:St(T.focusVisible,m),ref:n,type:A,...x,classes:T,children:[k,o,w]})});function sde(e){const t=Ko(e);return t.body===e?Gw(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function sh(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function XR(e){return parseInt(Gw(e).getComputedStyle(e).paddingRight,10)||0}function ade(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function JR(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,a=>{const o=!s.includes(a),l=!ade(a);o&&l&&sh(a,i)})}function pb(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function ode(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(sde(r)){const a=Tee(Ko(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${XR(r)+a}px`;const o=Ko(r).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${XR(l)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Ko(r).body;else{const a=r.parentElement,o=Gw(r);s=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function lde(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class cde{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&sh(t.modalRef,!1);const i=lde(n);JR(n,t.mount,t.modalRef,i,!0);const s=pb(this.containers,a=>a.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=pb(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=ode(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=pb(this.containers,a=>a.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&sh(t.modalRef,n),JR(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&sh(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const ude=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function dde(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function fde(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function hde(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||fde(e))}function pde(e){const t=[],n=[];return Array.from(e.querySelectorAll(ude)).forEach((r,i)=>{const s=dde(r);s===-1||!hde(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function gde(){return!0}function mde(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=pde,isEnabled:a=gde,open:o}=e,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=v.useRef(!1),g=v.useRef(null),m=al(Yw(t),g),S=v.useRef(null);v.useEffect(()=>{!o||!g.current||(p.current=!n)},[n,o]),v.useEffect(()=>{if(!o||!g.current)return;const A=Ko(g.current);return g.current.contains(A.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[o]),v.useEffect(()=>{if(!o||!g.current)return;const A=Ko(g.current),_=T=>{S.current=T,!(r||!a()||T.key!=="Tab")&&A.activeElement===g.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},x=()=>{var w,O;const T=g.current;if(T===null)return;if(!A.hasFocus()||!a()||l.current){l.current=!1;return}if(T.contains(A.activeElement)||r&&A.activeElement!==c.current&&A.activeElement!==u.current)return;if(A.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let k=[];if((A.activeElement===c.current||A.activeElement===u.current)&&(k=s(g.current)),k.length>0){const B=!!((w=S.current)!=null&&w.shiftKey&&((O=S.current)==null?void 0:O.key)==="Tab"),F=k[0],j=k[k.length-1];typeof F!="string"&&typeof j!="string"&&(B?j.focus():F.focus())}else T.focus()};A.addEventListener("focusin",x),A.addEventListener("keydown",_,!0);const E=setInterval(()=>{A.activeElement&&A.activeElement.tagName==="BODY"&&x()},50);return()=>{clearInterval(E),A.removeEventListener("focusin",x),A.removeEventListener("keydown",_,!0)}},[n,r,i,a,o,s]);const y=A=>{d.current===null&&(d.current=A.relatedTarget),p.current=!0,h.current=A.target;const _=t.props.onFocus;_&&_(A)},b=A=>{d.current===null&&(d.current=A.relatedTarget),p.current=!0};return f.jsxs(v.Fragment,{children:[f.jsx("div",{tabIndex:o?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(t,{ref:m,onFocus:y}),f.jsx("div",{tabIndex:o?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}function yde(e){return typeof e=="function"?e():e}const vde=v.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[a,o]=v.useState(null),l=al(Yw(r),n);if(NS(()=>{s||o(yde(i)||document.body)},[i,s]),NS(()=>{if(a&&!s)return BS(n,a),()=>{BS(n,null)}},[n,a,s]),s){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return f.jsx(v.Fragment,{children:r})}return f.jsx(v.Fragment,{children:a&&kc.createPortal(r,a)})});function H0(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:a,internalForwardedProps:o,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=s,p=u[e]||r,g=Vee(d[e],i),{props:{component:m,...S},internalRef:y}=jee({className:n,...l,externalForwardedProps:e==="root"?h:void 0,externalSlotProps:g}),b=al(y,g==null?void 0:g.ref,t.ref),A=a?a(S):{},_={...i,...A},x=e==="root"?m||c:m,E=Oee(p,{...e==="root"&&!c&&!u[e]&&o,...e!=="root"&&!u[e]&&o,...S,...x&&{as:x},ref:b},_);return Object.keys(A).forEach(T=>{delete E[T]}),[p,E]}const Ade=e=>e.scrollTop;function ZR(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const bde={entering:{opacity:1},entered:{opacity:1}},wD=v.forwardRef(function(t,n){const r=lE(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:m,style:S,timeout:y=i,TransitionComponent:b=Ao,...A}=t,_=v.useRef(null),x=al(_,Yw(o),n),E=D=>I=>{if(D){const C=_.current;I===void 0?D(C):D(C,I)}},T=E(h),k=E((D,I)=>{Ade(D);const C=ZR({style:S,timeout:y,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",C),D.style.transition=r.transitions.create("opacity",C),u&&u(D,I)}),w=E(d),O=E(m),B=E(D=>{const I=ZR({style:S,timeout:y,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",I),D.style.transition=r.transitions.create("opacity",I),p&&p(D)}),F=E(g),j=D=>{s&&s(_.current,D)};return f.jsx(b,{appear:a,in:c,nodeRef:_,onEnter:k,onEntered:w,onEntering:T,onExit:B,onExited:F,onExiting:O,addEndListener:j,timeout:y,...A,children:(D,I)=>v.cloneElement(o,{style:{opacity:0,visibility:D==="exited"&&!c?"hidden":void 0,...bde[D],...S,...o.props.style},ref:x,...I})})});function Sde(e){return Lr("MuiBackdrop",e)}Fr("MuiBackdrop",["root","invisible"]);const _de=e=>{const{ownerState:t,...n}=e;return n},xde=e=>{const{classes:t,invisible:n}=e;return ni({root:["root",n&&"invisible"]},Sde,t)},wde=sn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ED=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:o=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:g,...m}=r,S={...r,component:a,invisible:o},y=xde(S),b={transition:p,root:c.Root,...h},A={...u,...d},_={slots:b,slotProps:A},[x,E]=H0("root",{elementType:wde,externalForwardedProps:_,className:St(y.root,s),ownerState:S}),[T,k]=H0("transition",{elementType:wD,externalForwardedProps:_,ownerState:S}),w=_de(k);return f.jsx(T,{in:l,timeout:g,...m,...w,children:f.jsx(x,{"aria-hidden":!0,...E,classes:y,ref:n,children:i})})});function Ede(e){return typeof e=="function"?e():e}function Tde(e){return e?e.props.hasOwnProperty("in"):!1}const Cde=new cde;function kde(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Cde,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:c,open:u,rootRef:d}=e,h=v.useRef({}),p=v.useRef(null),g=v.useRef(null),m=al(g,d),[S,y]=v.useState(!u),b=Tde(l);let A=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(A=!1);const _=()=>Ko(p.current),x=()=>(h.current.modalRef=g.current,h.current.mount=p.current,h.current),E=()=>{i.mount(x(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},T=hu(()=>{const C=Ede(t)||_().body;i.add(x(),C),g.current&&E()}),k=v.useCallback(()=>i.isTopModal(x()),[i]),w=hu(C=>{p.current=C,C&&(u&&k()?E():g.current&&sh(g.current,A))}),O=v.useCallback(()=>{i.remove(x(),A)},[A,i]);v.useEffect(()=>()=>{O()},[O]),v.useEffect(()=>{u?T():(!b||!s)&&O()},[u,O,b,s,T]);const B=C=>P=>{var L;(L=C.onKeyDown)==null||L.call(C,P),!(P.key!=="Escape"||P.which===229||!k())&&(n||(P.stopPropagation(),c&&c(P,"escapeKeyDown")))},F=C=>P=>{var L;(L=C.onClick)==null||L.call(C,P),P.target===P.currentTarget&&c&&c(P,"backdropClick")};return{getRootProps:(C={})=>{const P=V4(e);delete P.onTransitionEnter,delete P.onTransitionExited;const L={...P,...C};return{role:"presentation",...L,onKeyDown:B(L),ref:m}},getBackdropProps:(C={})=>{const P=C;return{"aria-hidden":!0,...P,onClick:F(P),open:u}},getTransitionProps:()=>{const C=()=>{y(!1),a&&a()},P=()=>{y(!0),o&&o(),s&&O()};return{onEnter:OM(C,l==null?void 0:l.props.onEnter),onExited:OM(P,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:w,isTopModal:k,exited:S,hasTransition:b}}function Mde(e){return Lr("MuiModal",e)}Fr("MuiModal",["root","hidden","backdrop"]);const Rde=e=>{const{open:t,exited:n,classes:r}=e;return ni({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Mde,r)},Ide=sn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(As(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),Ode=sn(ED,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),jde=v.forwardRef(function(t,n){const r=$r({name:"MuiModal",props:t}),{BackdropComponent:i=Ode,BackdropProps:s,classes:a,className:o,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:S=!1,disablePortal:y=!1,disableRestoreFocus:b=!1,disableScrollLock:A=!1,hideBackdrop:_=!1,keepMounted:x=!1,onBackdropClick:E,onClose:T,onTransitionEnter:k,onTransitionExited:w,open:O,slotProps:B={},slots:F={},theme:j,...D}=r,I={...r,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:m,disableEscapeKeyDown:S,disablePortal:y,disableRestoreFocus:b,disableScrollLock:A,hideBackdrop:_,keepMounted:x},{getRootProps:C,getBackdropProps:P,getTransitionProps:L,portalRef:$,isTopModal:U,exited:q,hasTransition:H}=kde({...I,rootRef:n}),ne={...I,exited:q},N=Rde(ne),he={};if(c.props.tabIndex===void 0&&(he.tabIndex="-1"),H){const{onEnter:Pe,onExited:Ce}=L();he.onEnter=Pe,he.onExited=Ce}const te={...D,slots:{root:h.Root,backdrop:h.Backdrop,...F},slotProps:{...p,...B}},[ue,Oe]=H0("root",{elementType:Ide,externalForwardedProps:te,getSlotProps:C,additionalProps:{ref:n,as:d},ownerState:ne,className:St(o,N==null?void 0:N.root,!ne.open&&ne.exited&&(N==null?void 0:N.hidden))}),[_e,le]=H0("backdrop",{elementType:i,externalForwardedProps:te,additionalProps:s,getSlotProps:Pe=>P({...Pe,onClick:Ce=>{E&&E(Ce),Pe!=null&&Pe.onClick&&Pe.onClick(Ce)}}),className:St(s==null?void 0:s.className,N==null?void 0:N.backdrop),ownerState:ne}),Ae=al(s==null?void 0:s.ref,le.ref);return!x&&!O&&(!H||q)?null:f.jsx(vde,{ref:$,container:u,disablePortal:y,children:f.jsxs(ue,{...Oe,children:[!_&&i?f.jsx(_e,{...le,ref:Ae}):null,f.jsx(mde,{disableEnforceFocus:m,disableAutoFocus:g,disableRestoreFocus:b,isEnabled:U,open:O,children:v.cloneElement(c,he)})]})})});function Vde(e){return Lr("MuiDialog",e)}const gb=Fr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),TD=v.createContext({}),Pde=sn(ED,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Dde=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=e,a={root:["root"],container:["container",`scroll${lt(n)}`],paper:["paper",`paperScroll${lt(n)}`,`paperWidth${lt(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return ni(a,Vde,t)},Bde=sn(jde,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Nde=sn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${lt(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Lde=sn(Ov,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${lt(n.scroll)}`],t[`paperWidth${lt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(As(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${gb.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${gb.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${gb.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Fde=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiDialog"}),i=lE(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:m="sm",onBackdropClick:S,onClick:y,onClose:b,open:A,PaperComponent:_=Ov,PaperProps:x={},scroll:E="paper",TransitionComponent:T=wD,transitionDuration:k=s,TransitionProps:w,...O}=r,B={...r,disableEscapeKeyDown:h,fullScreen:p,fullWidth:g,maxWidth:m,scroll:E},F=Dde(B),j=v.useRef(),D=L=>{j.current=L.target===L.currentTarget},I=L=>{y&&y(L),j.current&&(j.current=null,S&&S(L),b&&b(L,"backdropClick"))},C=_ee(o),P=v.useMemo(()=>({titleId:C}),[C]);return f.jsx(Bde,{className:St(F.root,d),closeAfterTransition:!0,components:{Backdrop:Pde},componentsProps:{backdrop:{transitionDuration:k,as:l,...c}},disableEscapeKeyDown:h,onClose:b,open:A,ref:n,onClick:I,ownerState:B,...O,children:f.jsx(T,{appear:!0,in:A,timeout:k,role:"presentation",...w,children:f.jsx(Nde,{className:St(F.container),onMouseDown:D,ownerState:B,children:f.jsx(Lde,{as:_,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":C,...x,className:St(F.paper,x.className),ownerState:B,children:f.jsx(TD.Provider,{value:P,children:u})})})})})});function $de(e){return Lr("MuiDialogActions",e)}Fr("MuiDialogActions",["root","spacing"]);const zde=e=>{const{classes:t,disableSpacing:n}=e;return ni({root:["root",!n&&"spacing"]},$de,t)},Ude=sn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Hde=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...a}=r,o={...r,disableSpacing:s},l=zde(o);return f.jsx(Ude,{className:St(l.root,i),ownerState:o,ref:n,...a})});function Gde(e){return Lr("MuiDialogContent",e)}Fr("MuiDialogContent",["root","dividers"]);function qde(e){return Lr("MuiDialogTitle",e)}const Yde=Fr("MuiDialogTitle",["root"]),Kde=e=>{const{classes:t,dividers:n}=e;return ni({root:["root",n&&"dividers"]},Gde,t)},Qde=sn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(As(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Yde.root} + &`]:{paddingTop:0}}}]}))),Wde=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...a}=r,o={...r,dividers:s},l=Kde(o);return f.jsx(Qde,{className:St(l.root,i),ownerState:o,ref:n,...a})});function Xde(e){return Lr("MuiTypography",e)}const Q1e=Fr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Jde={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Zde=qne(),efe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=e,o={root:["root",s,e.align!=="inherit"&&`align${lt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ni(o,Xde,a)},tfe=sn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${lt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(As(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(e.palette).filter(zh()).map(([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${lt(n)}`},style:{color:(e.vars||e).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),e5={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},CD=v.forwardRef(function(t,n){const{color:r,...i}=$r({props:t,name:"MuiTypography"}),s=!Jde[r],a=Zde({...i,...s&&{color:r}}),{align:o="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:g=e5,...m}=a,S={...a,align:o,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:g},y=c||(h?"p":g[p]||e5[p])||"span",b=efe(S);return f.jsx(tfe,{as:y,ref:n,className:St(b.root,l),...m,ownerState:S,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...m.style}})});function nfe(e){return Lr("MuiDialogContentText",e)}Fr("MuiDialogContentText",["root"]);const rfe=e=>{const{classes:t}=e,r=ni({root:["root"]},nfe,t);return{...t,...r}},ife=sn(CD,{shouldForwardProp:e=>cE(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),sfe=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiDialogContentText"}),{children:i,className:s,...a}=r,o=rfe(a);return f.jsx(ife,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:a,className:St(o.root,s),...r,classes:o})}),afe=e=>{const{classes:t}=e;return ni({root:["root"]},qde,t)},ofe=sn(CD,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),lfe=v.forwardRef(function(t,n){const r=$r({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...a}=r,o=r,l=afe(o),{titleId:c=s}=v.useContext(TD);return f.jsx(ofe,{component:"h2",className:St(l.root,i),ownerState:o,ref:n,variant:"h6",id:s??c,...a})});function _n(e,t){if(t!==void 0)return`#${e}:${typeof t=="number"?t.toString(10).replace(".",","):Array.isArray(t)?t.join(", "):t}`}const t5=e=>e.map(t=>`${tK[t.type]} ${t.start} ${t.length} ${t.pitch} ${t.lyrics}`).join(`
`),n5=e=>e.split(":")[0];function cfe(e){const t={artist:_n("ARTIST",e.artist),title:_n("TITLE",e.title),author:_n("CREATOR",e.author),bpm:_n("BPM",e.bpm),year:_n("YEAR",e.year),previewStart:_n("PREVIEWSTART",e.previewStart),video:_n("VIDEO",`v=${e.video}`),videoGap:_n("VIDEOGAP",e.videoGap),genre:_n("GENRE",e.genre),language:_n("LANGUAGE",e.language),gap:_n("GAP",e.gap),edition:_n("EDITION",e.edition),id:_n("ALLKARAOKE_ID",e.id),lastUpdate:_n("ALLKARAOKE_LASTUPDATE",e.lastUpdate),artistOrigin:_n("ALLKARAOKE_ARTISTORIGIN",e.artistOrigin),authorUrl:_n("ALLKARAOKE_CREATORURL",e.authorUrl),realBpm:_n("ALLKARAOKE_REALBPM",e.realBpm),sourceUrl:_n("ALLKARAOKE_SOURCEURL",e.sourceUrl),previewEnd:_n("ALLKARAOKE_PREVIEWEND",e.previewEnd),volume:_n("ALLKARAOKE_VOLUME",e.volume)},n=e.tracks.map(o=>o.name??null),r=[];e.tracks.map(o=>o.sections).forEach(([o,...l])=>{r.push(Pt(o)?t5(o.notes):`- ${o.start} ${o.end}`),l.forEach(c=>r.push(Pt(c)?`- ${c.start}
${t5(c.notes)}`:`- ${c.start} ${c.end}`))});const i=Object.values(t).concat(n[0]?_n("P1",n[0]):void 0).concat(n[1]?_n("P2",n[1]):void 0).filter(bS),s=i.map(n5),a=(e.unsupportedProps??[]).filter(o=>!s.includes(n5(o)));return i.concat(...a).concat(r).concat("E").filter(bS).join(`
`)}const kD="share-songs",MD=Pp(kD),ufe=async e=>{try{if(!Be.getItem(kD))return;const n=await Di.get(e);n&&Ln.capture("share-song",{song:cfe(n),isBuiltIn:Di.isBuiltIn(e)})}catch(t){console.error(t),Ws(t)}};function W1e(e){const[t,n]=MD(null),[r,i]=v.useState(!!e.id&&t===null),s=()=>{i(!1)},a=o=>{n(o),o&&e.id&&ufe(e.id),s()};return f.jsxs(Fde,{open:r,onClose:()=>i(!1),fullWidth:!0,children:[f.jsx(lfe,{children:"Share songs?"}),f.jsx(Wde,{children:f.jsx(sfe,{children:f.jsxs("p",{children:["Can you share songs you add? This would help tremendously as I will be able to add it for everyone to play 🥺",f.jsx("br",{}),f.jsx("br",{}),"Shared songs appear for other players with a couple of days of delay."]})})}),f.jsxs(Hde,{children:[f.jsx(WR,{onClick:()=>a(!1),"data-test":"share-songs-disagree",children:"Disagree"}),f.jsx(WR,{onClick:()=>a(!0),autoFocus:!0,variant:"contained","data-test":"share-songs-agree",children:"Agree"})]})]})}zs.extend(Lue);function dfe(){const{data:e}=Ld(!0),[t]=MD(null),n=pv("song");gl(!1);const r=_D(n??"");return r.data?f.jsxs(Ov,{elevation:2,sx:{minHeight:"100vh",width:"1260px",margin:"0 auto",paddingTop:"30px"},children:[f.jsx(Ni,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(ffe,{children:[f.jsx(SE,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[r.data.artist," - ",r.data.title]}),r.data.local&&f.jsx(wv,{title:"Delete the song",onClick:async()=>{global.confirm("Are you sure you want to delete this song?")&&(await Di.deleteSong(r.data.id),t&&e.some(s=>s.id===r.data.id)&&Ln.capture("unshare-song",{songId:r.data.id}))},"data-test":"delete-song",children:f.jsx(Bue,{})})]}),f.jsxs("abbr",{title:r.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:r.data.lastUpdate?zs(r.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(vD,{song:r.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const ffe=R("div",{target:"e104ojv10"})({name:"12zd36v",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 8px"});var hfe=Math.floor,pfe=Math.random;function gfe(e,t){return e+hfe(pfe()*(t-e+1))}function RD(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=gfe(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}function mfe(e){return RD(o4(e))}function yfe(e,t){return kw(t,function(n){return e[n]})}function vfe(e){return e==null?[]:yfe(e,wp(e))}function Afe(e){return RD(vfe(e))}function bfe(e){var t=vs(e)?mfe:Afe;return t(e)}var gI;const ID=!((gI=document.getElementById("root"))!=null&&gI.hasChildNodes());function PE(e){return ID?null:e.children}function Qr(e){const t=bi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(SE,{...e,onClick:n})}const ru=e=>new Promise(t=>setTimeout(t,e));function Sfe(e,t){v.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var _fe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const xfe=kr(_fe);var d_={exports:{}},OD;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/OD=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var wfe=OD,f_={exports:{}},Efe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&Tfe(s,n.attrs),n.text&&(s.text=""+n.text);var a="onload"in s?r5:Cfe;a(s,r),s.onload||r5(s,r),i.appendChild(s)};function Tfe(e,t){for(var n in t)e.setAttribute(n,t[n])}function r5(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Cfe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Efe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var a=new Promise(function(o){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),o(window.YT)}});return a},e.exports=t.default})(f_,f_.exports);var kfe=f_.exports,h_={exports:{}},p_={exports:{}},g_={exports:{}},Kh=1e3,Qh=Kh*60,Wh=Qh*60,Xh=Wh*24,Mfe=Xh*365.25,Rfe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Ife(e);if(n==="number"&&isNaN(e)===!1)return t.long?jfe(e):Ofe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ife(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Mfe;case"days":case"day":case"d":return n*Xh;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Wh;case"minutes":case"minute":case"mins":case"min":case"m":return n*Qh;case"seconds":case"second":case"secs":case"sec":case"s":return n*Kh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Ofe(e){return e>=Xh?Math.round(e/Xh)+"d":e>=Wh?Math.round(e/Wh)+"h":e>=Qh?Math.round(e/Qh)+"m":e>=Kh?Math.round(e/Kh)+"s":e+"ms"}function jfe(e){return Pg(e,Xh,"day")||Pg(e,Wh,"hour")||Pg(e,Qh,"minute")||Pg(e,Kh,"second")||e+" ms"}function Pg(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=a,t.enable=s,t.enabled=o,t.humanize=Rfe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var S=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(b,A){if(b==="%%")return b;S++;var _=t.formatters[A];if(typeof _=="function"){var x=g[S];b=_.call(d,x),g.splice(S,1),S--}return b}),t.formatArgs.call(d,g);var y=u.log||t.log||console.log.bind(console);y.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function a(){t.enable("")}function o(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(g_,g_.exports);var Vfe=g_.exports;(function(e,t){var n={};t=e.exports=Vfe,t.log=s,t.formatArgs=i,t.save=a,t.load=o,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function o(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(o());function l(){try{return window.localStorage}catch{}}})(p_,p_.exports);var Pfe=p_.exports,m_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(m_,m_.exports);var Dfe=m_.exports,y_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(y_,y_.exports);var Bfe=y_.exports,v_={exports:{}},A_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(A_,A_.exports);var Nfe=A_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Nfe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(v_,v_.exports);var Lfe=v_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Pfe,r=u(n),i=Dfe,s=u(i),a=Bfe,o=u(a),l=Lfe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(T){var k="on"+T.slice(0,1).toUpperCase()+T.slice(1);g[k]=function(w){d('event "%s"',k,w),p.trigger(T,w)}},S=!0,y=!1,b=void 0;try{for(var A=o.default[Symbol.iterator](),_;!(S=(_=A.next()).done);S=!0){var x=_.value;m(x)}}catch(E){y=!0,b=E}finally{try{!S&&A.return&&A.return()}finally{if(y)throw b}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},S=function(k){g&&c.default[k]?m[k]=function(){for(var w=arguments.length,O=Array(w),B=0;B<w;B++)O[B]=arguments[B];return p.then(function(F){var j=c.default[k],D=F.getPlayerState(),I=F[k].apply(F,O);return j.stateChangeRequired||Array.isArray(j.acceptableStates)&&j.acceptableStates.indexOf(D)===-1?new Promise(function(C){var P=function L(){var $=F.getPlayerState(),U=void 0;typeof j.timeout=="number"&&(U=setTimeout(function(){F.removeEventListener("onStateChange",L),C()},j.timeout)),Array.isArray(j.acceptableStates)&&j.acceptableStates.indexOf($)!==-1&&(F.removeEventListener("onStateChange",L),clearTimeout(U),C())};F.addEventListener("onStateChange",P)}).then(function(){return I}):I})}:m[k]=function(){for(var w=arguments.length,O=Array(w),B=0;B<w;B++)O[B]=arguments[B];return p.then(function(F){return F[k].apply(F,O)})}},y=!0,b=!1,A=void 0;try{for(var _=s.default[Symbol.iterator](),x;!(y=(x=_.next()).done);y=!0){var E=x.value;S(E)}}catch(T){b=!0,A=T}finally{try{!y&&_.return&&_.return()}finally{if(b)throw A}}return m},t.default=h,e.exports=t.default})(h_,h_.exports);var Ffe=h_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=wfe,i=c(r),s=kfe,a=c(s),o=Ffe,l=c(o);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,a.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(y){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var b=d;y(b)}else u.then(function(A){var _=new A.Player(d,h);return g.on("ready",function(){y(_)}),null})}),S=l.default.promisifyPlayer(m,p);return S.on=g.on,S.off=g.off,S},e.exports=t.default})(d_,d_.exports);var $fe=d_.exports;const zfe=kr($fe);var Ufe=Object.defineProperty,Hfe=Object.defineProperties,Gfe=Object.getOwnPropertyDescriptors,i5=Object.getOwnPropertySymbols,qfe=Object.prototype.hasOwnProperty,Yfe=Object.prototype.propertyIsEnumerable,s5=(e,t,n)=>t in e?Ufe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b_=(e,t)=>{for(var n in t||(t={}))qfe.call(t,n)&&s5(e,n,t[n]);if(i5)for(var n of i5(t))Yfe.call(t,n)&&s5(e,n,t[n]);return e},S_=(e,t)=>Hfe(e,Gfe(t)),Kfe=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{o(n.next(l))}catch(c){i(c)}},a=l=>{try{o(n.throw(l))}catch(c){i(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(e,t)).next())});function Qfe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function a5(e={}){return S_(b_({},e),{height:0,width:0,playerVars:S_(b_({},e.playerVars),{autoplay:0,start:0,end:0})})}function Wfe(e,t){return e.videoId!==t.videoId||!xfe(a5(e.opts),a5(t.opts))}function Xfe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var Jfe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Zfe={videoId:Ze.string,id:Ze.string,className:Ze.string,iframeClassName:Ze.string,style:Ze.object,title:Ze.string,loading:Ze.oneOf(["lazy","eager"]),opts:Ze.objectOf(Ze.any),onReady:Ze.func,onError:Ze.func,onPlay:Ze.func,onPause:Ze.func,onEnd:Ze.func,onStateChange:Ze.func,onPlaybackRateChange:Ze.func,onPlaybackQualityChange:Ze.func},jm=class extends ke.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,a,o,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case jm.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case jm.PlayerState.PLAYING:(o=(a=this.props).onPlay)==null||o.call(a,t);break;case jm.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=S_(b_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=zfe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const a={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(a);return}(i=this.internalPlayer)==null||i.cueVideoById(a)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return Kfe(this,null,function*(){Xfe(e,this.props)&&this.updatePlayer(),Wfe(e,this.props)&&(yield this.resetPlayer()),Qfe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return ke.createElement("div",{className:this.props.className,style:this.props.style},ke.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Vv=jm;Vv.propTypes=Zfe;Vv.defaultProps=Jfe;Vv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var ca=Vv;function ehe(e){const[t,n]=v.useState(1);return v.useEffect(()=>{if(e===ca.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function the(e,t){v.useEffect(()=>{if(t===ca.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const a=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(a-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function nhe(e,t){return the(e,t),ehe(t)}var Pn=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(Pn||{});const rhe={[ca.PlayerState.UNSTARTED]:"UNSTARTED",[ca.PlayerState.ENDED]:"ENDED",[ca.PlayerState.PLAYING]:"PLAYING",[ca.PlayerState.PAUSED]:"PAUSED",[ca.PlayerState.BUFFERING]:"BUFFERING",[ca.PlayerState.CUED]:"CUED"},ihe=v.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:a,width:o,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState(ca.PlayerState.UNSTARTED),g=nhe(d,h);return Sfe(d,a),v.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(o,l)},[d,o,l,t,g]),v.useImperativeHandle(u,()=>({setSize:(m,S)=>{var y;return(y=d.current)==null?void 0:y.getInternalPlayer().setSize(m,S)},seekTo:m=>{var S;return(S=d.current)==null?void 0:S.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var S;return(S=d.current)==null?void 0:S.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var S;return(S=d.current)==null?void 0:S.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var S;return(S=d.current)==null?void 0:S.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(ca,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(rhe[m.data])}},`${t}-${g}`)}),she=v.forwardRef(function({video:t,autoplay:n=!0,startAt:r,controls:i,disablekb:s,volume:a,width:o,height:l,onStateChange:c},u){const d=v.useRef(null),[h,p]=v.useState({w:o,h:l}),[g,m]=v.useState(Pn.UNSTARTED);v.useEffect(()=>{const b=T=>()=>m(T),A=d.current,_=b(Pn.PLAYING),x=b(Pn.PAUSED),E=b(Pn.ENDED);return A==null||A.addEventListener("playing",_),A==null||A.addEventListener("pause",x),A==null||A.addEventListener("ended",E),()=>{A==null||A.removeEventListener("playing",_),A==null||A.removeEventListener("pause",x),A==null||A.removeEventListener("ended",E)}},[m]),v.useEffect(()=>{c==null||c(g)},[g,c]);const S=v.useRef(null),y=v.useMemo(()=>({setSize:(b,A)=>p({w:b,h:A}),seekTo:b=>(d.current&&(d.current.currentTime=b),b),setPlaybackSpeed:b=>{d.current&&(d.current.playbackRate=b)},setVolume:()=>{},getCurrentTime:()=>{var b;return Promise.resolve(((b=d.current)==null?void 0:b.currentTime)??0)},playVideo:async()=>{var b;return await ru(200),(b=d.current)==null?void 0:b.play()},pauseVideo:()=>{var b;return(b=d.current)==null?void 0:b.pause()},getDuration:()=>{var b;return Promise.resolve(((b=d.current)==null?void 0:b.duration)??0)},loadVideoById:()=>{var b;clearTimeout(S.current),(b=d.current)==null||b.pause(),m(Pn.UNSTARTED),S.current=setTimeout(()=>{var A;(A=d.current)==null||A.play()},300)}}),[d]);return v.useEffect(()=>{y.setSize(o,l)},[o,l,y]),v.useEffect(()=>{r!==void 0&&y.seekTo(r)},[r,y]),v.useImperativeHandle(u,()=>y),f.jsx("video",{style:{width:h.w,height:h.h},autoPlay:n,controls:i,ref:d,children:f.jsx("source",{src:t})})}),ahe="/prs/373/assets/dummy-video-long-C7qbKeYK.webm",ohe="/prs/373/assets/dummy-video-9QP_sTy6.webm",lhe=v.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(she,{ref:i,video:t==="Vueyx9TBEqE"?ahe:ohe,controls:!0,...r})}),DE=v.forwardRef((e,t)=>Pi()?f.jsx(lhe,{...e,ref:t}):f.jsx(ihe,{...e,ref:t}));function jD({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(che,{video:e.video,width:n,height:r,...s,children:[f.jsx(dhe,{video:e.video,blur:!0}),t&&f.jsx(VD,{children:t}),f.jsx(fhe,{children:f.jsxs(hhe,{children:[f.jsx(phe,{children:e.title}),f.jsx("br",{}),f.jsx(ghe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(mhe,{children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const che=R("div",{target:"e1kx27c8"})("width:",e=>e.width,"px;top:0;height:",e=>e.height,"px;overflow-y:hidden;background:black;position:relative;"),VD=R("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),uhe=R(VD,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),dhe=e=>f.jsx(uhe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),fhe=R("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),hhe=R("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),Pv=R("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Ge,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),phe=R(Pv,{target:"e1kx27c2"})("color:",me.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),ghe=R(Pv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),mhe=R(Pv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function yhe(e){var h;vo(!1),gl(!1);const t=bi(),{width:n,height:r}=Dp(),[i,s]=v.useState(0),a=Ld(),[o,l]=v.useState([]),{register:c}=nr({onBackspace:()=>t("menu/")});v.useEffect(()=>a.data&&l(bfe(a.data)),[a.data]);const u=()=>a.data&&s(p=>(p+1)%a.data.length);if(!o.length||!n||!r)return null;const d=L0("game/",{song:o[i].id,playlist:"All"});return f.jsxs(So,{children:[f.jsx(Ni,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(PE,{children:f.jsxs(jD,{width:n,height:r,songData:o[i],"data-test":"jukebox-container","data-song":o[i].id,background:f.jsx(DE,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=o[i])==null?void 0:h.volume,video:o[i].video,startAt:o[i].videoGap,onStateChange:p=>{p===Pn.ENDED&&u()}}),children:[f.jsx(Ahe,{...c("skip-button",u),children:"Skip"}),f.jsx(Qr,{to:d,children:f.jsx(vhe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const vhe=R(na,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Ahe=R(na,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),bhe=R("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),She=R("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),_he=e=>f.jsx(She,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Vm=gt([f.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),f.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),f.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),o5=gt(f.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),mb=gt(f.jsx("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone"),xhe=gt([f.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),f.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),whe=gt(f.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),PD=R("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",me.colors.text.active,";font-size:1.5rem;",Ge,";color:",me.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function Ehe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=We(Mr),{register:s}=nr({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(Bg,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(Of,{children:[f.jsx(zP,{}),f.jsx(mb,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(If,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(xhe,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(whe,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsx(PD,{children:"Recommended"}),f.jsxs(Dg,{children:[f.jsx(Vm,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(Bg,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(Of,{children:[f.jsx(o5,{}),i?f.jsx(mb,{}):f.jsx($P,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(If,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(Dg,{children:[f.jsx(o5,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(Bg,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(Of,{children:[f.jsx(e_,{}),f.jsx(NP,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(If,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsxs(Dg,{children:[f.jsx(Vm,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(Bg,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(Of,{children:[f.jsx(e_,{}),f.jsx(mb,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(If,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(Dg,{children:[f.jsx(Vm,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(Qr,{to:"menu/",onClick:a=>{a==null||a.preventDefault(),e("skip")},children:f.jsx(Ve,{...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const Dg=R("div",{target:"eb2r3ii3"})(Ge,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),If=R("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),Of=R("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",me.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",me.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),Bg=R(Ve,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;&:hover,&[data-focused='true']{height:16.5rem;background:black;",ad,";",If,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",Of,"{transform:scale(1.75);}}");function DD(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const BE=(e,t,n=!0,r=1e3/zl.get())=>{v.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=kn.getPlayerVolume(e)??0,a=kn.getPlayerFrequency(e)??0;t([s,Array.isArray(a)?a[0]:a])},r);return()=>{clearInterval(i)}},[e,r,t,n])},The=(e,t=1e3/zl.get(),n)=>{const[r,i]=v.useState([0,0]);return BE(e,i,!0,t),v.useEffect(()=>{n&&n(r)},[r,n]),r},BD=e=>v.useMemo(()=>{if(!me.colors.players[e])return"0, 0, 0";const t=ce(me.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),ND=R("div",{target:"eq7cjwi0"})({name:"5jivz6",styles:"height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none"}),Che=v.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=BD(t);return De.getPlayer(t)?f.jsx(ND,{...n,style:{transform:`scaleX(${i})`,background:`linear-gradient(270deg, rgba(${s}, 1) 0%, rgba(${s}, 0) 100%)`},ref:r}):null}),NE=({playerNumber:e,...t})=>{const n=v.useRef(null),r=v.useCallback(([s])=>{if(n.current){const a=`${Math.min(1,s*20)}`;n.current.style.transform=`scaleX(${a})`}},[]);BE(e,r);const i=BD(e);return f.jsx(ND,{...t,ref:n,style:{background:`linear-gradient(270deg, rgba(${i}, 1) 0%, rgba(${i}, 0) 100%)`}})};function khe(e,t){const n=Object.keys(t),[r,i]=Bi([ee.playerInputChanged,ee.inputListChanged],()=>{var l;const o=(l=De.getPlayer(e))==null?void 0:l.input;return o?[o,lo.getInputForPlayerSelected(o)]:[null,null]});v.useEffect(()=>{var o;if(i===null){const l=n[0],c=t[l].getDefault();c&&((o=De.getPlayer(e))==null||o.changeInput(n[0],c.channel,c.deviceId))}});const s=o=>{var u;const l=Wl(n,(r==null?void 0:r.source)??n[0]),c=o!==void 0?t[l].list[o]:t[l].getDefault();(u=De.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},a=()=>{var u;if(!r)return;const o=t[r.source].list,l=i?o.findIndex(d=>d.id===i.id):0,c=jp(o,l);if(c===0)s(0);else{const d=o[c];(u=De.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,s,i,a]}const LD=e=>{const t=e.player,[n,r,i,s]=khe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(Ohe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(Ihe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(Rhe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(Mhe,{playerNumber:t.number})})]})},Mhe=R(NE,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),Rhe=R(cs,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),Ihe=R(cs,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),Ohe=R("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function Dv(e=!1,t){const n=Bi(ee.inputListChanged,()=>{const r={...lo.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return v.useEffect(()=>{e&&lo.loadMics()},[e]),n}function Bp(e,t=A0){v.useEffect(()=>{De.setMinPlayerNumber(e);const n=De.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)De.removePlayer(n[r-1].number);else if(n.length<e){const r=De.getPlayers().map(s=>s.number),i=Array.from(Array(A0).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)De.addPlayer(i.shift())}},[])}function FD(){const e=v.useRef(0);Nr(ee.remoteMicConnected,({id:t})=>{var r;if(console.log("useRemoteMicAutoselect",t),De.getInputs().some(i=>i.deviceId===t)){console.log(`Input ${t} already assigned to player`);return}const n=De.getPlayer(e.current);n?n.changeInput(oo.inputName,0,t):(r=De.addPlayer(e.current))==null||r.changeInput(oo.inputName,0,t),e.current=(e.current+1)%A0})}function jhe(e){Bp(2);const t=Dv(!0),n=wE();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),FD();const{register:r}=nr({onBackspace:e.onBack}),s=Bi(ee.playerInputChanged,()=>De.getInputs()).filter(o=>o.source===Za.inputName),a=Bi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>De.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(Op,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(_E,{}),a.map((o,l)=>f.jsx(LD,{inputs:t,player:o,register:r,readonly:l>1},o.number)),f.jsx("hr",{}),s.length>1&&IE()&&DD()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Ve,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Ve,{...r("save-button",e.onSave),children:e.closeButtonText})]})}const Vhe=gt(f.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),$D=gt(f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function LE({names:e}){return f.jsx(Phe,{children:De.getPlayers().map(t=>f.jsxs(Dhe,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(NE,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const Phe=R("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),Dhe=R("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function Bhe(e){const[t,n]=v.useState(null),r=v.useRef([]),i=v.useRef(0),s=v.useCallback(([a])=>{if(r.current.push(a),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return BE(0,s,t!==!0),v.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function Nhe(e){Bp(1,1);const{register:t}=nr({onBackspace:e.onBack}),{Microphone:n}=Dv(!0,"Microphone"),r=Bi([ee.playerInputChanged,ee.inputListChanged],()=>{var u;const l=De.getInputs().find(d=>d.source==="Microphone"),c=lo.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===cc(l)))==null?void 0:u.label)??"":""}),i=l=>{De.getPlayers().forEach(c=>c.changeInput(Za.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};v.useEffect(s,[]),Nr([ee.inputListChanged,ee.playerRemoved],s);const a=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[jp(n.list,l)];i(c)}},o=Bhe(r);return v.useEffect(()=>{e.onSetupComplete(!!r&&!!o)},[r,o]),f.jsxs(f.Fragment,{children:[f.jsxs(Op,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(Lhe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(cs,{...t("selected-mic",a),label:"Mic",value:r}),f.jsxs(Fhe,{children:[o===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(yb,{children:f.jsx(zhe,{})})]}),o===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(yb,{children:f.jsx($he,{})})]}),o===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(yb,{children:f.jsx(Vp,{size:"1em"})})]})]}),o===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(LE,{}),o===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Ve,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Ve,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const Lhe=R("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),Fhe=R("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),yb=R("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),$he=R($D,{target:"e19x30ho1"})({name:"72zlrs",styles:"&&{width:2em;height:2em;}color:red"}),zhe=R(Vhe,{target:"e19x30ho0"})({name:"17t2lqr",styles:"&&{width:2em;height:2em;}color:white"});function Uhe(e){Bp(2);const t=Dv(!0,"Microphone"),n=wE();v.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),v.useEffect(()=>{De.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=nr({onBackspace:e.onBack}),i=Bi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>De.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(Op,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,a)=>f.jsx(LD,{inputs:t,player:s,register:r,readonly:a>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Ve,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Ve,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function Hhe(e){const{register:t}=nr({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Ve,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Ve,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Ve,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function Ghe(e){var s,a;Bp(2);const{register:t}=nr({onBackspace:e.onBack});FD();const n=Bi([ee.inputListChanged,ee.playerInputChanged,ee.playerRemoved],()=>De.getInputs().map(o=>o.source==="Remote Microphone"?o:null).map(o=>o?lo.getInputForPlayerSelected(o):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((a=n[1])!=null&&a.label);return v.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(_E,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(LE,{}),f.jsx(Ve,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Ve,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function qhe(e){Bp(2);const{register:t}=nr({onBackspace:e.onBack}),{Microphone:n}=Dv(!0,"Microphone"),[r,i]=v.useState(!1),s=Bi([ee.playerInputChanged,ee.inputListChanged],()=>{const c=De.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=lo.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});v.useEffect(()=>(s&&kn.startMonitoring(),()=>{kn.stopMonitoring()}),[s]);const a=()=>{e.onSave()},[o,l]=v.useState(!1);return Nr(ee.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=De.getPlayer(d.preferred))==null||h.changeInput(Za.inputName,d.channel,d.deviceId)}),c||l(!0)}),v.useEffect(()=>{e.onSetupComplete(s)},[s]),v.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(Op,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(Vp,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),o&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!o&&f.jsxs(l5,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),IE()&&DD()&&f.jsxs(l5,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(LE,{names:["Blue","Red"]})]})]}),f.jsx(Ve,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Ve,{...t("save-button",a,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const l5=R("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function Yhe(e){return v.useEffect(()=>{e.onSave()},[]),null}const zD="Previously selected input type",Khe=Be.local.getItem(zD);function FE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[a,o]=We(Nx),[l,c]=v.useState(a==="skip"?null:a),[u,d]=v.useState(!1);v.useEffect(()=>{const m=kn.monitoringStarted();return kn.startMonitoring(),()=>{!m&&kn.stopMonitoring()}},[]);const h=(...m)=>{s?Gh(()=>{kc.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{o(m==="skip"?a??"skip":m),m&&(Be.local.setItem(zD,m),Ln.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{Gh(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(bhe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(_he,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Ehe,{onPreferenceSelected:h,previouslySelected:Khe,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(Ghe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(Hhe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(qhe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(Uhe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(Nhe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(jhe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(Yhe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function Qhe(e){const t=bi();return f.jsxs(pl,{children:[f.jsx(Ni,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(FE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const Whe=({error:e,resetError:t})=>f.jsxs(pl,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Nd,{fontSize:"large"})," An error occurred :("]}),"message"in e?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(Xhe,{children:e.message})]}):f.jsx("h3",{children:"The game crashed"}),f.jsxs("h3",{children:["Help fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Ve,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Ve,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Ve,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Be.session.clear(),Be.local.clear(),th.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Xhe=R("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});function Jhe(e){gl(!1);const t=Ld();return v.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both","api_key=undefined"].join("&"),a=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(a.search)&&a.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}function Zhe(e){const t=bi(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(Ni,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(PE,{children:f.jsx(iD,{onClose:n,closeText:"Return to Main Menu"})})]})}function UD(){const[e]=We(Lx);v.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}let vb=0;function HD(){v.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),vb++,()=>{vb--,vb===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}const epe=gt(f.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function tpe({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=v.useRef(null),[a,o]=v.useState(!1),l=h=>{e(p=>({...p,search:h}))};Gr("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:a,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};Gr(PS,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=v.useCallback(h=>{n&&l(h)},[n]);return Nr(ee.remoteSongSearch,d),Gr(PS,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!a&&n},[t.search]),Gr("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!a&&n},[t.search]),v.useEffect(()=>{a||i(!!t.search)},[a,t.search,i]),!t.search&&!r?null:f.jsx(npe,{"data-test":"song-list-search",children:f.jsx(rpe,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(Rc,{onFocus:()=>o(!0),onBlur:()=>o(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:a,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const npe=R("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),rpe=R("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function ipe({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=v.useState(!1),a=()=>{t(o=>({...o,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(spe,{children:[f.jsx(ud,{title:"Search",place:"left",children:f.jsx(c5,{onClick:()=>i?a():s(!0),"data-test":"search-song-button",children:f.jsx(EE,{})})}),f.jsx(ud,{title:"Pick random",place:"left",children:f.jsx(c5,{onClick:e,"data-test":"random-song-button",children:f.jsx(epe,{})})})]}),f.jsx(tpe,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const c5=R(na,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",me.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),spe=R("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function GD({videoId:e,...t}){return f.jsx(cpe,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function ape({videoId:e,...t}){const n=EZ(e)??e,[r,i]=v.useState(!0);v.useLayoutEffect(()=>{i(a=>!a)},[e]);const[s]=We(as);return s==="low"?null:f.jsxs(ope,{...t,children:[f.jsx(u5,{videoId:r?e:n,visible:r}),f.jsx(u5,{videoId:r?n:e,visible:!r}),f.jsx(lpe,{videoId:n})]})}const ope=R("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),lpe=R(GD,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),u5=R(GD,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),cpe=R("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function upe(e,t,n="mousedown",r={}){SZ(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(o=>!!o.current).every(o=>o.current&&!o.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function dpe({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:a,focusElement:o}=nr({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=v.useRef(null);return upe(l,()=>{t()}),Cc({left:()=>t("left"),right:()=>t("right")},e),v.useEffect(()=>{o(`playlist-${r}`)},[r]),v.useEffect(()=>{if(a){const c=n.find(u=>`playlist-${u.name}`===a);c&&i(c.name)}},[a,n]),f.jsx(fpe,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(hpe,{"data-selected":`playlist-${u.name}`===a,"data-active":e,...s(`playlist-${u.name}`,()=>o(`playlist-${u.name}`),void 0,u.name===r),children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===a,children:d},u.name):d})})}const fpe=R("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Ge,";margin:0;}"),hpe=R(na,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;&[data-focused='false'][data-active='true']{background-color:transparent;}&[data-selected='true']{",dZ,";}&[data-selected='false'][data-active='false']{opacity:0.75;}padding:1.5rem 1rem;"),$E=e=>{const[t,n]=v.useState(null),r=nd(e),i=async()=>{n(await VV(e))};return v.useEffect(()=>{i()},[r]),Nr(ee.songStatStored,i),t},ppe=e=>async(t,n,r,i)=>{const s=nd(e),a=await VV(e),o=a.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...a,scores:o};await PV(e,l),ee.songScoreUpdated.dispatch(s,l,i.trim())},gpe=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),mpe=["US","GB"];function ype({song:e,forceFlag:t,...n}){const r=e.language[0],i=v.useMemo(()=>{var s;return e.artistOrigin?((s=gpe[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Xl,{isocode:e.artistOrigin,...n}):i&&!mpe.includes(e.artistOrigin)?f.jsx(Xl,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Xl,{language:e.language,...n}):null})}const vpe=gt(f.jsx("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined"),Ape=gt(f.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),__=e=>{var t,n,r;return((r=(n=(t=e.edition)==null?void 0:t.split(",").find(i=>i.toLowerCase().startsWith("esc ")))==null?void 0:n.replace("Esc ",""))==null?void 0:r.trim())??void 0};function bpe(e){return!!__(e)}function Spe(e){return lc(e.edition??"").includes("halloween")}const qD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",_pe=e=>f.jsxs(wpe,{children:[e.song.tracksCount>1&&f.jsxs(Tpe,{"data-test":"multitrack-indicator",children:[f.jsx(Vm,{}),"  Duet"]}),f.jsx(xpe,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),xpe=({song:e,isPopular:t,focused:n})=>{var l,c;const r=v.useMemo(()=>z0.recentlyUpdated([e]).length>0,[e]),i=bpe(e),s=$E(e),a=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,o=a&&zs(a).isAfter(zs().subtract(1,"days"));return s!=null&&s.plays?f.jsx(KD,{"data-test":"song-stat-indicator",children:o?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(bb,{white:!0,children:[f.jsx(Ab,{children:n?`Eurovision ${__(e)}`:__(e)}),f.jsx(Epe,{src:qD,alt:e.edition})]}):r?f.jsx(bb,{white:!0,children:n?f.jsx(Ab,{children:"Added recently"}):f.jsx(vpe,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(bb,{children:[n&&f.jsx(Ab,{children:"Popular"}),f.jsx(Ape,{})]})}):null},Ab=R("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),wpe=R("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),YD=R("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),bb=R(YD,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":me.colors.text.active,";width:2.5rem;height:2.5rem;}"),Epe=R("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),KD=R(YD,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),Tpe=R(KD,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),QD=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:a,isPopular:o,background:l=!0,forceFlag:c=!1,...u})=>{const d=u["data-expanded"]??!1,h=v.useCallback(()=>a?a(i,s):void 0,[a,i,s]),[p]=We(as);return f.jsxs(Mpe,{...u,onClick:a?h:void 0,children:[l&&f.jsx(Rpe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},"data-focused":d?!1:t,"data-expanded":u["data-expanded"],"data-graphic-setting":p}),f.jsxs(kpe,{"data-expanded":d,children:[!d&&f.jsx(_pe,{song:e,isPopular:o,video:n}),f.jsx(zE,{"data-expanded":d,children:e.artist}),f.jsx(Bv,{"data-expanded":d,children:e.title}),f.jsxs(WD,{"data-expanded":d,children:[d&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(JD,{expanded:d,children:["by ",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(Ipe,{song:e})]}),!d&&f.jsx(Cpe,{song:e,forceFlag:c})]})]}),r,n]})},Cpe=R(ype,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),WD=R("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"}),kpe=R("div",{target:"e1ornw2x6"})({name:"cwmgde",styles:"width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;&[data-expanded='true']{align-items:flex-start;justify-content:flex-start;}"}),Mpe=R("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),Rpe=R("div",{target:"e1ornw2x4"})({name:"10xrxr9",styles:"background-color:#2b2b2b;border-radius:1rem;&[data-expanded='true']{border-radius:0;}position:absolute;z-index:-1;inset:0;&[data-graphic-setting='high']{transition:300ms;&[data-focused='true']{background-size:100%;opacity:1;}&[data-focused='false']{background-size:110%;filter:grayscale(90%);opacity:0.8;}&[data-expanded='true']{filter:blur(10px);}}&[data-graphic-setting='low']{background-size:100%;opacity:0.6;&[data-focused='true']{opacity:1;}}background-position:center center"}),XD=R("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Ge,";text-align:right;font-size:2.7rem;&[data-expanded='true']{font-size:6rem;}"),zE=R(XD,{target:"e1ornw2x2"})("color:",me.colors.text.active,";"),Bv=R(XD,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),JD=R(Bv,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),Ipe=({song:e})=>{const t=$E(e);return f.jsx(JD,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function Ope({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=v.useState([]);return v.useEffect(()=>{const s=new IntersectionObserver(o=>{o.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),a=new MutationObserver(()=>{const o=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),o.forEach(l=>{s.observe(l)})});if(n)return a.observe(n,{childList:!0,subtree:!0}),()=>{a.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(jpe,{children:e.map(s=>{const a=r.includes(s.name);return f.jsx(Vpe,{onClick:()=>t(s),"data-active":a,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const jpe=R("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Vpe=R(na,{target:"e131hflw0"})("border:none;cursor:pointer;",Ge,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",me.colors.text.default,";&[data-active='true']{background:",me.colors.text.active,";}&[data-active='false']{background:rgba(0, 0, 0, 0.7);}");var Ppe=v.createContext({client:Ln}),ZD=function(){var e=v.useContext(Ppe).client;return e};function Dpe(e){var t=ZD(),n=v.useState(),r=n[0],i=n[1];return v.useEffect(function(){return t.onFeatureFlags(function(){i(t.isFeatureEnabled(e))})},[t,e]),r}function Bpe(e){var t=ZD(),n=v.useState(),r=n[0],i=n[1];return v.useEffect(function(){return t.onFeatureFlags(function(){i(t.getFeatureFlag(e))})},[t,e]),r}function Npe(e){const t=Dpe(e);return Pi()?!0:t}const d5={[Kr.DUEL]:"Duel",[Kr.PASS_THE_MIC]:"Pass The Mic",[Kr.CO_OP]:"Cooperation"},Sb=["Hard","Medium","Easy"],Lpe=Pp("song_settings-game_mode-v3"),Fpe=Pp("song_settings-tolerance-v2");function $pe({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=Lpe(null),a=i??(e.tracksCount>1?Kr.CO_OP:Kr.DUEL),[o,l]=Fpe(1),c=()=>{const p={id:_0(),players:[],mode:a,tolerance:o+1};t(p)},u=()=>{s(Wl(Object.values(Kr),a))},d=()=>l(p=>jp(Sb,p,-1)),{register:h}=nr({enabled:n,onBackspace:r,additionalHelp:{remote:["select-song"]}});return f.jsxs(f.Fragment,{children:[f.jsx(f5,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:Sb[o],"data-test-value":Sb[o]}),f.jsx(f5,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:d5[a],"data-test-value":d5[a]}),f.jsxs(Upe,{children:[a===Kr.DUEL&&"Face off against each other - person that earns more points wins.",a===Kr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",a===Kr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(CE,{})," symbol."]})]}),f.jsx(zpe,{...h("next-step-button",c,void 0,!0),children:"Next ➤"})]})}const zpe=R(na,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),Upe=R("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),f5=R(cs,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Hpe(){const t=Bi(ee.playerInputChanged,()=>De.getInputs()).some(a=>a.source==="Microphone"),n=v.useRef([]),r=v.useCallback(a=>{n.current.push(a)},[]);The(0,50,r);const[i,s]=v.useState(!1);return v.useEffect(()=>{const a=setInterval(()=>{const o=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=o.reduce((h,[p])=>h+p,0)/(o.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>o.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(a)},[i]),f.jsxs(Gpe,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Nd,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const Gpe=R("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),eB=(e,t=333,n)=>{const[r,i]=v.useState("ok");return v.useEffect(()=>{const s=setInterval(()=>{i(kn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},tB=e=>{const[t,n]=v.useState(null);return v.useEffect(()=>{const r=setInterval(()=>{const i=rt.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function nB({playerNumber:e,...t}){var r,i;const n=tB((i=(r=De.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(qpe,{...t,children:[n,"ms"]}):""})}const qpe=R("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});function rB({status:e,tooltipPosition:t="end",...n}){return f.jsxs(Ype,{...n,children:[e==="ok"?f.jsx(Kpe,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(Qpe,{"data-test":"status-unavailable"}):f.jsx(Wpe,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(h5,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(h5,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const Ype=R("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Kpe=R("div",{target:"etoberq3"})({name:"1jjo9fl",styles:"margin:0.15rem;width:2.7rem;height:2.7rem;display:inline-block;background:#ffffff;border:1px solid black;border-radius:50%"}),Qpe=R($D,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),Wpe=R(Nd,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),h5=R("div",{target:"etoberq0"})(Ge,";position:absolute;left:",e=>e.position==="end"?"100%":"auto",";right:",e=>e.position==="end"?"auto":"150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function iB({player:e}){const t=eB(e.number);return f.jsxs(Xpe,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(nB,{playerNumber:e.number}),f.jsx(rB,{status:t}),t!=="unavailable"&&f.jsx(NE,{playerNumber:e.number}),f.jsx(Jpe,{className:"ph-no-capture",children:e.getName()})]},e.number)}const Xpe=R("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Jpe=R("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function Zpe(e){Js(ee.playerNameChanged),v.useEffect(()=>{kn.startMonitoring()},[]);const n=Bi(ee.playerInputChanged,()=>De.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs(ege,{...e,children:[f.jsxs(tge,{children:["Microphone Check",n?De.getPlayers().map(r=>f.jsx(iB,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(nge,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Hpe,{})]})}const ege=R("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Ge,";margin-bottom:8.6rem;gap:3.5rem;"),tge=R("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),nge=R("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function sB({onClose:e,closeButtonText:t}){return f.jsx(Mc,{onClose:e,children:f.jsx(Ts,{children:f.jsx(FE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const aB=v.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:a,keyboardNavigationChangeFocus:o,onBlur:l,className:c,...u},d)=>{const h=v.useRef(null);v.useImperativeHandle(d,()=>h.current);const p=v.useRef(null),[g,m]=v.useState(!1),[S,y]=v.useState(-1),b=v.useMemo(()=>e.filter(x=>x.toLowerCase().trim().includes(r.toLowerCase().trim())&&x!==r),[e,r]),A=x=>{var E,T,k;if(x.code==="ArrowUp"||x.code==="ArrowDown")if(b.length){x.preventDefault();const w=jp(b,S,x.code==="ArrowUp"?-1:1);y(w);const O=(E=p.current)==null?void 0:E.querySelector(`[data-index="${w}"]`);O==null||O.scrollIntoView({behavior:"smooth",block:"center"})}else(T=h.current)==null||T.blur(),o==null||o(x.code==="ArrowUp"?-1:1);else if(x.code==="Enter"){const w=b[S];w?(y(-1),i(w)):(k=h.current)==null||k.blur()}},_=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(rge,{className:c,children:[f.jsx(Rc,{onFocus:()=>m(!0),onBlur:_,onKeyDown:A,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:a,...u}),g&&!!b.length&&f.jsx(ige,{ref:p,role:"listbox",children:b.map((x,E)=>f.jsx(sge,{role:"listitem","data-index":E,"data-focused":E===S,"data-e2e-focused":E===S,focused:E===S,onClick:()=>{var T;i(x),y(-1),(T=h.current)==null||T.blur()},children:x},x))})]})}),rge=R("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),ige=R("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),sge=R("div",{target:"elw4n420"})(Ge,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?me.colors.text.active:"white",";cursor:pointer;"),age=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function oge({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:a}){const[o,l]=v.useState(!1),c=v.useRef(null);Js(ee.playerNameChanged);const u=v.useCallback(()=>{var m;return(m=c.current)==null?void 0:m.focus()},[]);if(t===void 0)return null;const d=()=>s({number:t.number,track:(a.track+1)%n.tracksCount}),h=m=>{l(!0),t.setName(m)},p=!o,g=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(lge,{maxLength:cw,className:"ph-no-capture",value:p?"":g,placeholder:p?g:void 0,options:r,onChange:h,label:"Name:",ref:c,...i(`player-${t.number}-name`,u)}),e&&f.jsx(cge,{...i(`player-${t.number}-track-setting`,d,"Change track"),label:"Track",value:age(n.tracks,a.track),"data-test-value":a.track+1})]})}const lge=R(aB,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),cge=R(cs,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function uge({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=We(Mr),[s]=We(Nx),a=De.getPlayers(),o=!i&&a.length===2&&e.tracksCount>1,l=()=>a.map((_,x)=>({number:_.number,track:o?Math.min(x,e.tracksCount-1):0})),[c,u]=v.useState(l());Nr([ee.playerAdded,ee.playerRemoved],()=>u(l()));const d=a.map((_,x)=>c.find(E=>E.number===_.number)??l()[x]),h=v.useMemo(()=>JSON.parse(Be.session.getItem(rd))??[],[]),p=_=>x=>{u(E=>E.map(T=>T.number===_?x:T))},[g,m]=v.useState(!1);v.useEffect(()=>{g||kn.startMonitoring()},[g]);const{register:S,focusElement:y}=nr({enabled:n&&!g,onBackspace:r,additionalHelp:{remote:["select-song"]}}),b=()=>{t(d)},A=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(sB,{closeButtonText:A?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),A&&y("play")}}),d.map((_,x)=>f.jsxs(dge,{children:[f.jsxs(fge,{children:["Player ",x+1]}),f.jsx("div",{children:f.jsx(oge,{multipleTracks:o,player:De.getPlayer(_.number),setup:_,onChange:p(_.number),playerNames:h,register:S,songPreview:e})})]},_.number)),A&&f.jsx(p5,{...S("play-song-button",b,void 0,!0),children:"Play"}),f.jsx(p5,{...S("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const dge=R("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),p5=R(na,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),fge=R("span",{target:"e12y59820"})(Ge,";padding:1.3rem;font-size:4.5rem;");function hge({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=v.useState(null),[a,o]=v.useState("song"),l=u=>{s(u),o("players")},c=u=>{if(!i)return;const d={...i,players:u};ee.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(pge,{children:[f.jsx(Zpe,{style:a==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(gge,{children:[a==="song"&&f.jsx($pe,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),a==="players"&&f.jsx(uge,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>o("song")})]})]})}const pge=R("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),gge=R("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),mge=30,yge=(e,t,n)=>{const[r,i]=We(pp),s=n(e);return vo(!0,s?t:"regular"),v.useEffect(()=>{s&&i(t)},[]),v.useEffect(()=>{r!==t&&s?i(t):r===t&&!s&&i("regular")},[t,r,e]),s},vge=e=>{const t=Npe(ky.Halloween),n=yge(e,t?"halloween":"regular",t?Spe:()=>!1);v.useEffect(()=>{n?CS.play(!1):CS.stop()},[n])};function Age({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:a,onPlay:o,isPopular:l,forceFlag:c}){const[u,d]=v.useState(!1),h=v.useRef(null),{width:p,height:g}=Dp();vge(e);const m=s;v.useLayoutEffect(()=>{d(!1)},[e.video]);const S=e.previewStart??(e.videoGap??0)+60,y=e.previewEnd??S+mge,b=v.useMemo(()=>[e.video,S,y,e.volume],[e.video,S,y,e.volume]),[A,_,x,E]=TE(b,350);v.useEffect(()=>{var B;(B=h.current)==null||B.loadVideoById({videoId:A,startSeconds:_,endSeconds:x})},[A,h,_,x]);const T=m?p:r,k=m?g:i,w=m?Math.min(p/20*9,g*(4/5)):i;v.useEffect(()=>{var B;(B=h.current)==null||B.setSize(T,k)},[T,k,s]);const O=v.useCallback(B=>{var F,j;B===Pn.ENDED?((F=h.current)==null||F.seekTo(S),(j=h.current)==null||j.playVideo()):B===Pn.PLAYING&&d(!0)},[S]);return f.jsxs(f.Fragment,{children:[m&&f.jsx(_ge,{onClick:a}),!m&&u&&f.jsx(Tge,{width:T,height:k,left:n,top:t,song:e}),f.jsx(Sge,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(xge,{"data-show":u,"data-expanded":m,height:w,id:"preview-video-container",children:f.jsx(DE,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:E,onStateChange:O})}),focused:!0,song:e,top:t,left:n,width:T,height:w,"data-show-video":u,"data-expanded":m,"data-song":e.id,"data-test":"song-preview",children:f.jsx(wge,{"data-expanded":m,children:m&&f.jsx(hge,{songPreview:e,onPlay:o,keyboardControl:s,onExitKeyboardControl:a})})})]})}const bge=R(QD,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:3;overflow:hidden;visibility:hidden;&[data-expanded='true'],&[data-show-video='true']{visibility:visible;}&[data-expanded='true']{z-index:201;border-radius:0;border:0;position:fixed;padding:var(--preview-padding);}&[data-expanded='false']{pointer-events:none;&[data-show-video='true']{animation:rhythmPulse 1s infinite;}}@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",zE,"{view-transition-name:song-preview-artist;}",Bv,"{view-transition-name:song-preview-title;}",WD,"{view-transition-name:song-preview-expanded-data;}"),Sge=e=>{const t=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2),n=e["data-expanded"];return f.jsx(bge,{...e,style:{...e.style,top:n?`calc(50vh - ${e.height}px / 2)`:e.top,left:n?0:e.left,animationDuration:`${60/t}s`}})},_ge=R("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"}),xge=R("div",{target:"e1vaewax2"})("&[data-expanded='true']{position:fixed;inset:0;clip-path:inset(calc((100vh - ",e=>e.height,"px) / 2) 0);}&[data-expanded='true'],&[data-show='true']{div{transition:1000ms;}}&[data-expanded='false']{position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem;}&[data-show='false']{div{opacity:0;}}&[data-show='true']{div{opacity:1;}}"),wge=R("div",{target:"e1vaewax1"})({name:"uljwlo",styles:"inset:auto var(--preview-padding);position:fixed;z-index:100;&[data-expanded='false']{transform:scale(0.1);}border-radius:0.5rem;view-transition-name:song-preview-content"}),Ege=R("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),Tge=e=>{const[t]=We(as);if(t==="low")return null;const n=e.song.realBpm||(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(Ege,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function Cge(e){var t=bm(e),n=t%1;return t===t?n?t-n:t:0}var kge=Math.ceil,Mge=Math.max;function x_(e,t,n){t===void 0?t=1:t=Mge(Cge(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,a=Array(kge(r/t));i<r;)a[s++]=Fw(e,i,i+=t);return a}function Rge(e,t){const n=v.useRef(null),r=v.useMemo(()=>e.groups.map(u=>({group:u,rows:x_(u.songs,e.perRow)})),[e.groups,e.perRow]),i=v.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=v.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:a,GroupRowWrapper:o}=e,l=v.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=v.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return v.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var y;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(b=>b.index===d),g=r.slice(0,h).reduce((b,{rows:A})=>b+A.length,Math.floor(p/e.perRow)),m=((y=n.current)==null?void 0:y.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,Pi()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(sD,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeaderHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(o,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(a,{"data-is-new":r[d].group.isNew,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(v.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const Ige=v.forwardRef(Rge),oB=(e,t)=>e+Math.random()*(t-e),Hs=(e,t)=>Math.round(oB(e,t)),Oge=250,jge=750;function Vge(e){const t=_M(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=_M(async()=>FK(),[]),r=v.useMemo(()=>z0.recentlyUpdated(e),[e]).map(l=>l.id),[i]=We(My),s=t.loading||n.loading||!e.length,a=v.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(Oge,jge-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),o=v.useMemo(()=>({popular:[]}),[]);return{value:a??o,loading:s}}const Pge=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}};function Dge(){const e=Ld(),{value:{popular:t},loading:n}=Vge(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:a,selectedPlaylist:o,setSelectedPlaylist:l,playlists:c,playlist:u}=xce(e.data,t,r);return{groupedSongList:v.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(S=>{try{const{name:y,...b}=((u==null?void 0:u.groupData)??Pge)(S);let A=h.find(_=>_.name===y);A||(A={name:y,songs:[],...b},h.push(A)),A.songs.push({index:s.indexOf(S),song:S,isPopular:t.includes(S.id)})}catch(y){console.error(y),Ws(y)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const S=s.filter(y=>y.isNew);S.length&&S.length<50&&m.unshift({name:"New",isNew:!0,songs:S.map(y=>({song:y,index:s.indexOf(y),isPopular:t.includes(y.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:a,isLoading:r,selectedPlaylist:o,setSelectedPlaylist:l,playlists:c}}function G0(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e},[e]),t.current}const Bge=30;function Nge(e,t,n=Bge){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Hs(0,i.length-1)]}else r=Hs(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const Lge=(e=[],t)=>{var S;const[n,r]=v.useState([0,0]),i=v.useMemo(()=>e.map(({songs:y})=>y.length).join(","),[e]),s=v.useMemo(()=>e.map(({songs:y})=>x_(y.map(b=>b.index),t)).flat(),[i,t]),a=v.useMemo(()=>e.map(({songs:y,name:b})=>x_(y.map(()=>b),t)).flat(),[i,t]),o=G0(s??[]),l=n[0]===((S=s[n[1]])==null?void 0:S.length)-1,c=v.useCallback((y,b)=>{var x;const A=s.findIndex((E,T)=>E.includes(y)&&(!b||b===a[T][0])),_=(x=s[A])==null?void 0:x.indexOf(y);_>=0&&A>=0?r([_??0,A??0]):r([0,0])},[s,a]),u=([y,b],A,_)=>{var E;if(e.length===0)return _;const x=A[b];return(x==null?void 0:x[y])??(x==null?void 0:x.at(-1))??((E=A==null?void 0:A[0])==null?void 0:E[0])??_},d=([y,b],A=s)=>u([y,b],A,0),h=([y,b],A=a)=>u([y,b],A,"A");v.useEffect(()=>{const y=d(n,o),b=d(n,s);o.length&&y!==b&&c(y)},[n,s,o,l]);const p=(y,b)=>{av.play(),r(([A,_])=>{let x=A,E=_;if(y==="y")E=_+b;else{if(s[_]===void 0)debugger;const T=s[_].length-1;x=Math.min(A,T)+b,x<0?(E=(s.length+_-1)%s.length,x=s[E].length-1):x>T&&(E=_+1,x=0)}return[x%t,(s.length+E)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},Fge=(e,t=[],n,r,i,s)=>{const a=bi(),[o,l]=v.useState([!1,null]),c=G0(o),[u,d]=o,[h,p,g,m,S,y]=Lge(t,s),b=g[0]===0,A=()=>{Sw.play(),n()},[_,x]=v.useState(!1),E=G0(i.search);v.useLayoutEffect(()=>{if(E&&!i.search){x(!0);const I=setTimeout(()=>x(!1),2e3);return()=>{clearTimeout(I),x(!1)}}},[i.search]);const T=()=>{!_&&!i.search&&(_w.play(),a("menu/"))},k=v.useMemo(()=>ju((I,C)=>{const P=(t.length+C+I)%t.length;S(t[P].songs[0].index),av.play()},700,{trailing:!1}),[t,S]),w=(I,C)=>{if(!(I!=null&&I.repeat))m("y",C);else{const P=t.findIndex(L=>!!L.songs.find($=>$.index===h));k(C,P)}},O=(I,C=!1)=>{!C&&I===-1&&b&&!u?l([!0,"left"]):m("x",I)},B=v.useRef([]),F=()=>{const I=Nge(r,B.current);S(I)};Cc({accept:A,down:I=>w(I,1),up:I=>w(I,-1),left:()=>O(-1),right:()=>O(1),back:T,random:F},e&&!u,[t,g,u,i,_]);const j=v.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search","select-song"]}),[]);Bd(j,e);const D=v.useCallback(I=>{l([!1,I??null])},[l,O,t,g]);return v.useLayoutEffect(()=>{const[I,C]=c;I&&!u&&C===d&&O(d==="right"?1:-1,!0)},[u,d,b,y,...g]),[h,p,S,u,D,F]};function $ge(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:a,selectedPlaylist:o,setSelectedPlaylist:l,playlists:c}=Dge(),[u,d]=v.useState(!0),h=E=>{Gh(()=>{kc.flushSync(()=>{d(E)})}),xw.play(!1)},[p,g,m,S,y,b]=Fge(u,r,()=>h(!1),n.length,s,t),[A,_]=v.useState(!1);v.useEffect(()=>{if(!A&&n.length&&!a){const E=n.findIndex(w=>w.id===e),T=n.findIndex(w=>w.isNew);let k=Hs(0,n.length-1);(E>-1||T>-1)&&(k=E),_(!0),m(k)}},[m,A,p,n,e,a]),v.useEffect(()=>{var E;if(A&&n.length&&n[p]&&!a){const T=new URL((E=global.location)==null?void 0:E.href);T.searchParams.set("song",n[p].id),global.history.replaceState(null,"",T.toString())}},[A,p,n,a]);const x=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:x,songList:n??[],filters:s,setFilters:i,showFilters:S,setShowFilters:y,isLoading:a||!A,randomSong:b,selectedPlaylist:o,setSelectedPlaylist:l,playlists:c}}const zge=1.2,g5=4,lB=7,w_=4.5,m5=lB+w_,Ng=3.5,Uge={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(Xge,{}),e&&e.songPreview.songPreview&&f.jsx(Age,{...e.songPreview})]}),Footer:()=>f.jsxs(Gge,{children:["Missing a song? Try"," ",f.jsx(SE,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(Qge,{children:"No songs found"})};function Hge({onSongSelected:e,preselectedSong:t}){const[n]=We(Mr),r=n?g5-1:g5;gl(!1),vo(!0),HD();const{focusedGroup:i,focusedSong:s,moveToSong:a,groupedSongList:o,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:S,selectedPlaylist:y,setSelectedPlaylist:b,playlists:A,songList:_}=$ge(t,r),x=v.useMemo(()=>o.map(H=>H.songs).flat().find(H=>H.song.id===(c==null?void 0:c.id)),[c,o]),E=v.useRef(null),T=ZP(),{width:k,handleResize:w}=Dp(),B=(k-(m5+w_)*T-(r-1)*Ng*T)/r,F=B*(9/16),j=F/2,D=v.useCallback(()=>u(!1),[u]),I=m||!o||!k,C=y==="Eurovision",P=v.useRef(null);v.useEffect(()=>{const H=ne=>_.findIndex(N=>N.id===ne);return global.__songList={scrollToSong:ne=>{var ue;const[N]=ne.split("-new-group"),he=ne.endsWith("-new-group"),te=o.find(Oe=>!!Oe.isNew===he&&Oe.songs.some(_e=>_e.song.id===N));if(te){const Oe=H(N);return(ue=E.current)==null||ue.scrollToSongInGroup(te.name,Oe,"auto"),!0}return!1}},()=>{delete global.__songList}},[o,_]);const[{previewTop:L,previewLeft:$},U]=v.useState({previewTop:0,previewLeft:0});v.useEffect(()=>{const H=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&H?U({previewTop:H.offsetTop+H.parentNode.offsetTop,previewLeft:H.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,k]),v.useEffect(()=>{var H;w(),m||(H=E.current)==null||H.scrollToSongInGroup(i,s)},[k,s,i,o,m,w]);const q=bi();return Gr("Shift + E",()=>q(L0("edit/song/",{playlist:null,step:"metadata"})),[q]),Nr(ee.remoteSongSelected,async H=>{b("All");const ne=_.findIndex(N=>N.id===H);ne&&(s!==ne?(a(ne),l||u(!0),D()):l&&D())},[_,a,D,b,u,l,s]),f.jsx(So,{children:f.jsxs(qge,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(j)}px`,"--song-entry-width":`${Math.floor(B)}px`,"--song-entry-height":`${Math.floor(F)}px`,"--song-list-gap":`${Math.floor(Ng*T)}px`,"--song-list-padding-left":`${Math.floor(m5*T)}px`,"--song-list-padding-right":`${Math.floor(w_*T)}px`,"--song-sidebar-weight":`${Math.floor(lB*T)}px`},children:[I?f.jsxs(y5,{children:[f.jsx(A5,{children:f.jsx(S5,{children:f.jsx(E_,{children:"   "})})}),new Array(4).fill(0).map((H,ne)=>f.jsx(b5,{children:new Array(4).fill(0).map((N,he)=>f.jsx(v5,{},he))},ne))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(Yge,{videoId:c.video}),f.jsx(ipe,{setFilters:d,filters:h,onRandom:S,keyboardControl:l}),f.jsx(Ope,{container:P.current,groupedSongList:o,onScrollToGroup:H=>{a(H.songs[0].index),setTimeout(()=>{var ne;return(ne=E.current)==null?void 0:ne.scrollToGroup(H.name)},20)}}),f.jsx(y5,{active:l,dim:g,"data-test":"song-list-container",ref:P,children:f.jsx(Ige,{focusedSong:s,focusedGroup:i,ListRowWrapper:b5,GroupRowWrapper:A5,ref:E,groups:o,itemHeight:Math.floor(F)+Math.floor(Ng*T),groupHeight:Math.floor(j)+Math.floor(Ng*T),components:Uge,renderGroup:H=>f.jsx(S5,{"data-highlight":H.name==="New",children:f.jsx(E_,{"data-group-name":H.name,children:H.displayLong??H.name})},H.name),perRow:r,renderItem:(H,ne)=>{const N=H.index===s&&ne.name===i;return v.createElement(Wge,{...g||!l?{"data-unfocusable":!0}:{},isPopular:H.isPopular,key:H.song.id,song:H.song,handleClick:N?D:a,focused:!g&&l&&N,index:H.index,groupLetter:ne.name,"data-song-index":H.index,"data-focused":!g&&l&&H.index===s,"data-test":`song-${H.song.id}${ne.isNew?"-new-group":""}`,"data-group":ne.name,forceFlag:C})},placeholder:f.jsx(v5,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:C,isPopular:!!(x!=null&&x.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:L,left:$,width:Math.floor(B),height:Math.floor(F)}}})})]}),f.jsx(dpe,{selectedPlaylist:y,setSelectedPlaylist:b,playlists:A,active:g,closePlaylist:p})]})})}const Gge=R("div",{target:"e13s0pn12"})(Ge,";text-align:center;font-size:5rem;padding:10rem 0;"),qge=R("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),Yge=e=>{const{theme:t}=v.useContext(Hw);return t==="eurovision"?null:f.jsx(Kge,{...e})},Kge=R(ape,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),Qge=R("div",{target:"e13s0pn9"})(Ge,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),E_=R("div",{target:"e13s0pn8"})(Ge,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",me.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),y5=R("div",{target:"e13s0pn7"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),v5=R("div",{target:"e13s0pn6"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"}),Wge=v.memo(R(QD,{target:"e13s0pn5"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);transition:300ms;transform:scale(1);&[data-focused='true']{transform:scale(",zge,");z-index:2;",ad,";}")),Xge=R("div",{target:"e13s0pn4"})(""),cB=R("div",{target:"e13s0pn3"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),A5=R(cB,{target:"e13s0pn2"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"}),b5=R(cB,{target:"e13s0pn1"})({name:"s8hqg9",styles:"position:relative;&[data-is-new='true']{background:rgba(0, 0, 0, 0.7);}"}),S5=R("div",{target:"e13s0pn0"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);&[data-highlight='true']{",E_,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}}");function Jge(e){const[t,n]=We(My),[r,i]=v.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(iD,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(Hge,{...e})}const Zge=gt(f.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),_b=15;function eme({onFinish:e}){const[t,n]=v.useState(!1),[r,i]=v.useState([]);Nr(ee.readinessConfirmed,o=>{i(l=>[...l,o])});const s=Bi([ee.inputListChanged,ee.readinessConfirmed],()=>De.getPlayers().map((o,l)=>[o.input.deviceId,o.getName(),o]));v.useEffect(()=>{(async()=>{let o=!1;const l=De.requestReadiness().then(()=>{o=!0,n(!0)}),c=ru(1500),u=ru(_b*1e3);await ru(250),o||await xm.play(),await Promise.race([Promise.all([l,c]),u]),xm.playing()&&DV.play(),await ru(500),xm.stop(),await ru(1e3),e()})()},[]);const a=s.map(([o,l,c])=>({confirmed:r.includes(o),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(tme,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(rme,{children:a.map(({confirmed:o,name:l,player:c},u)=>f.jsxs(ime,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":o,children:[!t&&f.jsx(sme,{children:o?f.jsx(Zge,{}):f.jsx(Vp,{color:"info",size:"1em"})})," ",f.jsx(iB,{player:c})]},u))}),!t&&f.jsxs(nme,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(jE,{end:0,start:_b,duration:_b,useEasing:!1})})]})]})})}const tme=R("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Ge,";"),nme=R("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),rme=R("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),ime=R("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),sme=R("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function ame({register:e,onExit:t}){const n=v.useRef(null),[r,i]=v.useState(!1),[s,a]=v.useState(!1),[o,l]=v.useState(!1);v.useEffect(()=>{var d;(d=n.current)==null||d.focus()},[n]);const c=()=>{const d=$e.getSong(),h={songId:d==null?void 0:d.id,songLastUpdated:d==null?void 0:d.lastUpdate},p=[];r&&p.push("not-in-sync"),s&&p.push("wrong-volume"),o&&p.push("bad-lyrics"),p.length&&Ln.capture("rate-song",{issues:p,...h}),t()},u=s||r||o;return f.jsx(f.Fragment,{children:f.jsxs(Ts,{"data-test":"rate-song-container",children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(xb,{...e("button-not-in-sync",()=>i(d=>!d)),size:"small",children:[f.jsx(wb,{children:r?f.jsx(Rm,{}):f.jsx(Im,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(xb,{...e("button-bad-lyrics",()=>l(d=>!d)),size:"small",children:[f.jsx(wb,{children:o?f.jsx(Rm,{}):f.jsx(Im,{})}),f.jsx("span",{children:"Wrong lyrics, missing spaces etc."})]}),f.jsxs(xb,{...e("button-wrong-volume",()=>a(d=>!d)),size:"small",children:[f.jsx(wb,{children:s?f.jsx(Rm,{}):f.jsx(Im,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Ve,{...e("button-song-ok",c,void 0,!0),ref:n,children:u?"Submit and exit":"All good, exit the song"})]})})}const xb=R(Ve,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),wb=R("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function ome({onResume:e,onExit:t,onRestart:n}){const r=bi(),i=v.useRef(null),s=v.useRef(null);v.useEffect(()=>{var p;(p=i.current)==null||p.focus()},[i]);const[a,o]=v.useState(!1),{register:l}=nr({enabled:!a}),[c,u]=v.useState(!1),d=async()=>{const p=$e.getSongCompletionProgress(),g=(await Di.getIndex()).find(m=>{var S;return m.id===((S=$e.getSong())==null?void 0:S.id)});!(g!=null&&g.local)&&p<.7?u(!0):t()},h=v.useCallback(()=>{var p;return(p=s.current)==null?void 0:p.focus()},[]);return f.jsxs(Mc,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(Ts,{children:[f.jsx(Ve,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Ve,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Ve,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Ve,{...l("input-settings",()=>o(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(pD,{ref:s,...l("input-lag",h)}),f.jsx(Ve,{...l("edit-song",()=>{var p;return r("edit/song/",{song:((p=$e.getSong())==null?void 0:p.id)??""})}),size:"small",children:"Edit song"})]}),a&&f.jsx(sB,{onClose:()=>o(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(ame,{onExit:t,register:l})]})}const uB=Pi()?1e3:8e3;function lme(e){return Math.floor((jv(e)-uB)/1e3)}const cme=2e4;function ume(e){return jv(e)-(e.videoGap??0)*1e3>cme}function dme({playerRef:e,isEnabled:t}){const[n]=We(Mr),r=$e.getSong(),i=v.useMemo(()=>ume(r),[r]),s=v.useMemo(()=>jv(r),[r]),a=$e.getCurrentTime(!1)<s-uB*1.2,o=t&&a&&i;Cc({accept:()=>{e==null||e.seekTo(lme(r));const{artist:u,title:d}=$e.getSong();Ln.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},o);const c=v.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Bd(c,o),!n&&o?f.jsxs(fme,{visible:o,"data-test":"skip-intro-info",children:["Press ",f.jsx(hme,{children:"Enter"})," to skip the intro"]}):null}const fme=R("div",{target:"e167kngm1"})(Ge,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),hme=R("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),pme=15e3;function gme({onSongEnd:e,isEnabled:t}){const[n]=We(Mr),r=$e.getDuration(),i=v.useMemo(()=>Math.max(...$e.getPlayers().map(p=>Ph(p.getLastNotesSection()))),[]),s=v.useMemo(()=>{var g;const p=SD(i,$e.getSong())+(((g=$e.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+pme},[r,i,t]),[a,o]=v.useState(0),[l,c]=v.useState(!1);A4(()=>o($e.getCurrentBeat()),1e3);const u=TE(s&&a>i,5e3)&&!l;Cc({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=$e.getSong();Ln.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=v.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Bd(h,u),!n&&s?f.jsxs(mme,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(yme,{children:"Enter"})," to skip the outro"]}):null}const mme=R("div",{target:"e1b01y1a1"})(Ge,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),yme=R("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),vme=ke.memo(gme);function _5(e){return e&&e.length?XP(e):[]}function Ame({players:e}){const t=$e.getCurrentTime(!1),n=$e.getSongBeatLength(),r=$e.getDuration(),i=$e.getSong(),s=v.useMemo(()=>_5(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>il(l)*n+i.gap)),[i,n,e]),a=v.useMemo(()=>_5(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>Vh(l)*n+i.gap)),[i,n,e]),o=r*1e3;return!t||!r?null:f.jsxs(UE,{children:[s.map(l=>f.jsx(x5,{position:l/o},l)),a.map(l=>f.jsx(x5,{position:l/o},l)),f.jsx(_me,{fill:t/o})]})}const UE=R("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),bme=R(UE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",me.colors.text.active,";opacity:75%;"),x5=e=>f.jsx(bme,{style:{left:`${Math.min(e.position*100,100)}%`}}),Sme=R(UE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),_me=e=>f.jsx(Sme,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function xme({player:e,bottom:t=!1,...n}){const r=kn.getPlayerVolume(e.number),i=eB(e.number);return f.jsxs(wme,{...n,children:[i!=="unavailable"&&f.jsx(Che,{playerNumber:e.number,volume:r}),f.jsx(Eme,{status:i,tooltipPosition:"start"}),f.jsx(Tme,{playerNumber:e.number})]})}const wme=R("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),Eme=R(rB,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),Tme=R(nB,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function w5({player:e,bottom:t=!1,effectsEnabled:n,showStatusForAllPlayers:r}){var _;const i=$e.getPlayer(e.number),[s]=We(Mr),a=me.colors.players[e.number].text,o=((_=$e.getSingSetup())==null?void 0:_.mode)===Kr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=$e.getCurrentBeat(),h=$e.getSongBeatLength(),p=Math.max(0,...o.filter(x=>x<=((l==null?void 0:l.start)??-1/0))),g=o.find(x=>x>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,S=(g-d)/(g-p),y=m<2500,b=Pt(l),A=b?il([l])-l.start:0;return f.jsxs(Ime,{shouldBlink:y,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(Cme,{children:r?$e.getPlayers().map(x=>f.jsx(E5,{player:De.getPlayer(x.getNumber())},x.getNumber())):f.jsx(E5,{player:e})}),m<1/0&&f.jsx(Bme,{color:a,progress:S<=1?S*100:0}),b?f.jsx(f.Fragment,{children:f.jsxs(Lg,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(kme,{children:f.jsx(Rme,{color:a,percent:Math.min(2,(d-l.start)/A)})}),l==null?void 0:l.notes.map(x=>{const E=Math.max(0,Math.min(2,(d-x.start)/x.length));return f.jsxs(Ome,{type:x.type,children:[f.jsxs(jme,{children:[f.jsx(Pme,{fill:E,color:a,children:x.lyrics.trim()}),x.lyrics.endsWith(" ")&&" "]}),x.lyrics]},x.start)}),(c==null?void 0:c.start)===g&&f.jsx(T5,{"data-should-shake":!0})]})}):f.jsx(Lg,{effectsEnabled:n,children:" "}),Pt(c)?f.jsxs(Lg,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(x=>f.jsx(v.Fragment,{children:x.lyrics},x.start)),(u==null?void 0:u.start)===g&&f.jsx(T5,{})]}):f.jsx(Lg,{effectsEnabled:n,nextLine:!0,children:" "})]})}const E5=R(xme,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),Cme=R("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),kme=R("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),Mme=R("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),Rme=({percent:e,color:t})=>{const n=v.useMemo(()=>{const r=ce(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(Mme,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},Ime=R("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),Ome=R("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),jme=R("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),Vme=R("span",{target:"e1j3lo7n3"})(""),Pme=({fill:e,color:t,children:n})=>f.jsx(Vme,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),Dme=R("div",{target:"e1j3lo7n2"})({name:"d6fl9l",styles:"position:absolute;height:1rem;width:100%"}),Bme=e=>f.jsx(Dme,{"data-test":"pass-the-mic-progress",style:{background:e.color,transformOrigin:"left",transform:`scaleX(${e.progress/100})`}}),T5=R(CE,{target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}font-size:3rem;margin-left:2rem;&[data-should-shake='true']{animation:shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;fill:",me.colors.text.active,";font-size:4rem;}"),Lg=R("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;-webkit-text-stroke-width:",({effectsEnabled:e})=>e?"0.2rem":"1px",";color:",({nextLine:e})=>e?me.colors.text.inactive:me.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),dB=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function T_({score:e}){return f.jsx(f.Fragment,{children:dB.format(e)})}const fB=6,Ji=30,Dn=Ji+6,Nme=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function C5({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:a,playerIndex:o,playerCount:l,paddingVertical:c}){var A;const u=a.sections,d=u[t],h=u[t+1],p=Nme({canvas:e,playerCount:l,playerIndex:o,paddingVertical:c}),g=Pt(d)?(A=d==null?void 0:d.notes)==null?void 0:A.at(-1):void 0,m=Pt(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,S=d.start*r,y=(m-d.start)*r,b=(p.height-20-Ji)/(s-i+fB*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:S,maxTime:y,pitchStepHeight:b}}function hB(e,t,n,r,i){return i&&n?me.colors.players[t].starPerfect:i?me.colors.players[t].perfect:n&&r?me.colors.players[t].star:r?me.colors.players[t].hit:me.colors.players[t].miss}function Lme(e,t,n,r){return hB(e,t,r.note.type==="star",n,r.isPerfect)}const Eb={},Fme=e=>{if(!Eb[e]){const t=ce(e);Eb[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return Eb[e]};function C_(e,t,n,r,i,s,a,o=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=Fme(a);l.addColorStop(0,c[Hs(0,c.length-1)]),l.addColorStop(.05,c[Hs(0,c.length-1)]),l.addColorStop(.15,d[Hs(0,d.length-1)]),l.addColorStop(1,u[Hs(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=a,t.globalAlpha=1}function HE(e,t,n,r,i,s,a,o,l=1){i>0&&C_(e,t,n,r,i,s,o,l)}const ah=(e,t)=>e-t+Math.random()*t*2,k5=(e=0)=>Math.sign(e+Math.random()-.5),$me=500,zme=100,Fg=.2;class Ume{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,a)=>{const o=1-this.ttl/this.startingTtl,l=this.startingTtl-this.ttl,c=this.width*o,u=this.width*this.heightModifier*o,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;HE(s,i,d,h,c,u,this.initialAngle+l,this.color,.5*o),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ah($me,zme),this.velocityX=Fg*Math.random()-Fg/2,this.velocityY=Fg*Math.random()-Fg/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Hme{constructor(t,n,r,i,s){this.finished=!0,this.tick=(c,u)=>{};const a=me.colors.players[i].starPerfect.fill,o=ce(a).lighten(15).toRgbString(),l=ce(a).darken(15).toRgbString();if(Math.random()>.85){const c=Hs(0,r/8),u=Math.random();let d=a;u>.66?d=o:u>.33&&(d=l);const h=n+20*(Math.random()-.5);s.add(new Ume(t+c*8,h,d))}}}const Gme=300,qme=50,$g=1.3;class Yme{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,a)=>{const o=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*o,u=this.width*this.heightModifier*o,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;HE(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*o),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ah(Gme,qme),this.velocityX=$g*Math.random()-$g/2,this.velocityY=$g*Math.random()-$g/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const Kme=`
precision mediump float;
`,Nv=Kme.replace(/\n/g,""),Qme=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,pB=Qme.replace(/\n/g,""),Wme=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,Lv=Wme.replace(/\n/g,""),Xme=Nv+pB+Lv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;Xme.replace(/\n/g,"");const Jme=Nv+Lv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Jme.replace(/\n/g,"");const Zme=Nv+pB+Lv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;Zme.replace(/\n/g,"");const e0e=Nv+Lv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;e0e.replace(/\n/g,"");function t0e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Fw(e,t,n)}var n0e="\\ud800-\\udfff",r0e="\\u0300-\\u036f",i0e="\\ufe20-\\ufe2f",s0e="\\u20d0-\\u20ff",a0e=r0e+i0e+s0e,o0e="\\ufe0e\\ufe0f",l0e="\\u200d",c0e=RegExp("["+l0e+n0e+a0e+o0e+"]");function gB(e){return c0e.test(e)}function u0e(e){return e.split("")}var mB="\\ud800-\\udfff",d0e="\\u0300-\\u036f",f0e="\\ufe20-\\ufe2f",h0e="\\u20d0-\\u20ff",p0e=d0e+f0e+h0e,g0e="\\ufe0e\\ufe0f",m0e="["+mB+"]",k_="["+p0e+"]",M_="\\ud83c[\\udffb-\\udfff]",y0e="(?:"+k_+"|"+M_+")",yB="[^"+mB+"]",vB="(?:\\ud83c[\\udde6-\\uddff]){2}",AB="[\\ud800-\\udbff][\\udc00-\\udfff]",v0e="\\u200d",bB=y0e+"?",SB="["+g0e+"]?",A0e="(?:"+v0e+"(?:"+[yB,vB,AB].join("|")+")"+SB+bB+")*",b0e=SB+bB+A0e,S0e="(?:"+[yB+k_+"?",k_,vB,AB,m0e].join("|")+")",_0e=RegExp(M_+"(?="+M_+")|"+S0e+b0e,"g");function x0e(e){return e.match(_0e)||[]}function w0e(e){return gB(e)?x0e(e):u0e(e)}function E0e(e){return function(t){t=Nw(t);var n=gB(t)?w0e(t):void 0,r=n?n[0]:t.charAt(0),i=n?t0e(n,1).join(""):t.slice(1);return r[e]()+i}}var T0e=E0e("toUpperCase");function C0e(e){return T0e(Nw(e).toLowerCase())}function M5(e,t,n,r,i,s,a,o){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),a&&e.fill(),o&&e.stroke()}function GE(e,t,n,r,i,s,a,o,l=.1){M5(e,t,n,r,i,s,a,o),a&&l>0&&(e.save(),M5(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function jf(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function Vf(e,t,n,r,i,s,a){s==="star"?jf(e,me.colors.lines.star):s==="freestyle"||s==="rap"?jf(e,me.colors.lines.freestyle):s==="rapstar"?jf(e,{...me.colors.lines.star,fill:me.colors.lines.freestyle.fill}):jf(e,me.colors.lines.normal),e.shadowBlur=10,e.shadowColor=a!==void 0?me.colors.players[a].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,GE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function k0e(e,t,n,r,i,s,a,o,l){jf(e,hB(e,s,l,a,o)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,GE(e,t,n,r,i,100,!0,!0,a?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const qn=10,M0e={start:{x:0,y:0,w:Ji/2+qn,h:Ji+qn*2},middle:{x:Ji/2+qn,y:0,w:1,h:Ji+qn*2},end:{x:Ji/2+1+qn,y:0,w:Ji/2+qn,h:Ji+qn*2}},gu={start:{x:0,y:0,w:Dn/2+qn,h:Dn+qn*2},middle:{x:Dn/2+qn,y:0,w:1,h:Dn+qn*2},end:{x:Dn/2+1+qn,y:0,w:Dn/2+qn,h:Dn+qn*2}},Qc=(e,t,n,r,i)=>({draw:(s,a,o,l,c)=>k0e(s,a,o,l,c,e,t,n,r),width:i?Dn:Ji+1,height:i?Dn:Ji,padding:qn,fragments:i?gu:M0e}),zg=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>Vf(t,n,r,i,s,"normal",e),width:Dn+1,height:Dn,padding:qn,fragments:gu},[`p${e}Miss`]:Qc(e,!1,!1,!1,!1),[`p${e}Hit`]:Qc(e,!0,!1,!1,!0),[`p${e}Perfect`]:Qc(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Qc(e,!1,!1,!0,!1),[`p${e}StarHit`]:Qc(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Qc(e,!0,!0,!0,!0)}),Ua={...zg(0),...zg(1),...zg(2),...zg(3),noteStar:{draw:(e,t,n,r,i)=>Vf(e,t,n,r,i,"star"),width:Dn+1,height:Dn,padding:qn,fragments:gu},noteFreestyle:{draw:(e,t,n,r,i)=>Vf(e,t,n,r,i,"freestyle"),width:Dn+1,height:Dn,padding:qn,fragments:gu},noteRap:{draw:(e,t,n,r,i)=>Vf(e,t,n,r,i,"rap"),width:Dn+1,height:Dn,padding:qn,fragments:gu},noteRapstar:{draw:(e,t,n,r,i)=>Vf(e,t,n,r,i,"rapstar"),width:Dn+1,height:Dn,padding:qn,fragments:gu}};function R0e(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const _B=Math.max(...Object.values(Ua).map(e=>e.padding*2+e.width)),xB=Object.values(Ua).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),wB=R0e(_B,xB),R_=wB.getContext("2d");let Ll=0;const R5=Object.entries(Ua).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:Ll,w:t.width+n,h:t.height+n};return Ll=Ll+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),EB=()=>{R_.clearRect(0,0,_B,xB),Ll=0,Object.entries(Ua).forEach(([e,t])=>{t.draw(R_,t.padding,Ll+t.padding,t.width,t.height),Ll=Ll+t.padding*2+t.height})};EB();ee.songStarted.subscribe(EB);const TB=(e,t)=>({canvas:wB,ctx:R_,x:R5[e].x+Ua[e].fragments[t].x,y:R5[e].y+Ua[e].fragments[t].y,w:Ua[e].fragments[t].w,h:Ua[e].fragments[t].h,padding:Ua[e].padding}),Tb=(e,t,n,r,i,s,a,o=1,l=1)=>{const c=TB(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,S=m*o,y=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-S,i-y,s??d,h),e.imageSmoothingEnabled=!0,c};function CB(e,t,n,r,i){const s=TB(t,"start"),a=Math.max(i,(s.h-s.padding*2)/2),o=Math.min(1,a/2/(s.w-s.padding)),l=o*s.w,c=l-s.padding*o,u=a-2*c;Tb(e,t,"start",n,r,l,void 0,o),u>0&&Tb(e,t,"middle",n+l,r,u,void 0,o),Tb(e,t,"end",n+u+l,r,l,void 0,o)}const I0e=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${C0e(e)}`;function kB(e,t,n,r,i,s){const a=I0e(i.type,s);CB(e,a,t,n,r)}function O0e(e,t,n,r,i,s){e.save(),GE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let a=1;a<s.frequencyRecords.length;a++)e.lineTo(t+a*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[a].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const j0e=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},V0e=["star","rapstar"];function P0e(e,t,n,r,i,s,a){const o=j0e(i,s,a.isPerfect,V0e.includes(a.note.type));CB(e,o,t,n,r)}class D0e{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Oa=new D0e,B0e=50/60*1e3,N0e=25/60*1e3,L0e=60,I5=.3;class F0e{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,a,o)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;HE(a,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=ah(B0e,N0e),this.velocityX=ah(.5,I5)*k5(.2),this.velocityY=ah(.4,I5)*k5(),this.width=L0e,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class $0e{constructor(t,n,r,i,s,a){this.finished=!0,this.tick=(d,h)=>{};const o=s.type==="star"?me.colors.players[i].star.fill:me.colors.players[i].perfect.fill,l=ce(o).lighten(15).toRgbString(),c=ce(o).darken(15).toRgbString(),u=r/9;for(let d=0;d<u;d++){const h=Math.random();let p=o;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);a.add(new F0e(t+d*9,g,p,(u-d)/10))}}}const O5=200;class z0e{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=O5,this.tick=(a,o,l)=>{const c=this.ttl/O5;a.save(),a.globalAlpha=c,a.translate(0,Dn*(1-c)),kB(a,this.x,this.y,this.width,this.note,this.playerNumber),a.globalAlpha=1,a.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const Cb=50/60*1e3,Ug=.05,U0e=200,j5=4,H0e=Math.pow;function V5(e){return 1-H0e(1-e,2)}class G0e{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,a,o)=>{const l=this.ttl/Cb;let c=V5(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;C_(a,s,this.x,this.y,u,d,"white",c*.35),c=V5(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,S=Cb-this.ttl;s.globalAlpha=c*.2,C_(a,s,g+S*this.velocityX,m+S*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.ttl=Cb,this.velocityX=Ug*Math.random()-Ug/2,this.velocityY=Ug*Math.random()-Ug/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*j5+(U0e-j5))}}const P5=20;class q0e{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(a,o,l)=>{a.strokeStyle="rgba(255,255,255,.25)",a.lineWidth=2,a.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/P5+this.seed/250);a.lineTo(u,this.y+this.h/2+d)}a.stroke(),a.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/P5+this.seed/250);a.lineTo(u,this.y+this.h/2+d)}a.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const D5=20;function Y0e(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class K0e{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{ee.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),ee.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if($e.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),De.getPlayers().forEach((o,l)=>{this.drawPlayer(o.number,s)}),Oa.tick(s,this.canvas,this.pauseTime)),zl.get()===30){const a=Date.now(),o=1e3/30,l=a-i>o?o:o-(a-i);this.loop&&setTimeout(this.drawFrame,l,zl.get())}zl.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const a=this.getDrawingData(i),{currentSection:o}=C5(a);if(as.get()==="high"&&this.setDistortionForce(a),!Pt(o))return;const l=this.calculateDisplacements(o,a);this.drawNotesToSing(s,a,l),this.drawSungNotes(s,a,l),as.get()==="high"&&(this.drawFlare(s,a,l),this.markGoldNotes(o,a))},this.setDistortionForce=i=>{var a,o,l;const s=i.currentSection;if(!Pt(s))(o=this.shaders)==null||o.updatePlayerForce(i.playerNumber,(((a=this.shaders)==null?void 0:a.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-D5),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>m0(m)===0).reduce((m,S)=>m+S.length-Math.max(0,c-S.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/D5,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,a)=>{Pt(s.currentSection)&&s.currentSection.notes.forEach(o=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,o,o.pitch,!0,a[o.start]);kB(i,l,c,u,o,s.playerNumber)})},this.drawSungNotes=(i,s,a)=>{Pt(s.currentSection)&&s.currentPlayerNotes.forEach(o=>{const l=m0(o),{x:c,y:u,w:d,h}=this.getNoteCoords(s,o,o.note.pitch+l,l===0,a[o.note.start]);(l>0||d>h/2.5)&&(P0e(i,c,u,d,s.playerNumber,l===0,o),o.vibrato&&Oa.add(new q0e(c,u,d,h,s.currentTime)),l===0&&o.frequencyRecords.length>3&&!Xf.includes(o.note.type)&&O0e(i,c,u,d,h,o))})},this.drawFlare=(i,s,a)=>{var l;if(!Pt(s.currentSection))return;const o=Y0e(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(o&&o.distance===0){const c=a[o.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,o,o.note.pitch,!0,c),g=Xf.includes(o.note.type)?0:o.frequencyRecords.at(-1).preciseDistance,m=u+h,S=this.getPreciseY(d,p,g);Oa.add(new G0e(m,S,s.currentTime,1)),Oa.add(new Yme(oB(Math.max(u,m-50),m),S,Lme(i,s.playerNumber,!0,o).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,S)}},this.onSectionEnd=i=>{if($e.isPlaying()){const s=this.getDrawingData(i,-1);if(!Pt(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{as.get()==="high"&&i.notes.forEach(a=>{const{x:o,y:l,w:c,h:u}=this.getNoteCoords(s,a,a.pitch,!0);Oa.add(new z0e(o,l,c,a,s.playerNumber))})},this.explodeNotes=(i,s)=>{as.get()==="high"&&s.playerNotes.filter(o=>(o.distance===0||Xf.includes(o.note.type))&&i.notes.includes(o.note)).forEach(o=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,o,o.note.pitch,!0);Oa.add(new $0e(l,c+d/2,u,s.playerNumber,o.note,Oa))})},this.markGoldNotes=(i,s)=>{i.notes.filter(o=>o.type==="star"||o.type==="rapstar").forEach(o=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,o,o.pitch,!0);Oa.add(new Hme(l,c+d/2,u,s.playerNumber,Oa))})},this.calculateDisplacements=(i,s)=>{const a={};return as.get()==="high"?i.notes.forEach(o=>{const l=s.playerNotes.filter(h=>h.note.start===o.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(o.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;a[o.start]=[u,d]}):i.notes.forEach(o=>{a[o.start]=[0,0]}),a},this.getDrawingData=(i,s=0)=>{const a=De.getPlayers(),o=a.findIndex(m=>m.number===i),l=a.length,c=$e.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=$e.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:o,playerCount:l,song:d,songBeatLength:$e.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:$e.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:$e.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:a},o,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=C5(i),g=Pt(d)?d.notes[0].start:1,m=h.width/(u-g),[S,y]=l?c:[0,0],b=p*(i.maxPitch-o+fB);return{x:Math.floor(h.baseX+m*(s-g)+S),y:Math.floor(h.baseY+10+b+y-(l?3:0)),w:Math.floor(m*a),h:l?Dn:Ji}},this.getPreciseY=(i,s,a)=>i+s/2-a*s/3}}const Q0e=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,W0e=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,X0e=1920,J0e=v.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:a,isPauseMenuVisible:o},l){var A;const[c]=We(as),[u]=We(Mr),d=v.useRef(null),h=v.useRef(null),p=v.useRef(null),g=X0e,m=g*(n/t),S=m/n;v.useImperativeHandle(l,()=>({pause:()=>{var _;return(_=h.current)==null?void 0:_.pause()},resume:()=>{var _;return(_=h.current)==null?void 0:_.resume()}}),[]),v.useEffect(()=>($e.startInputMonitoring(),()=>{$e.stopInputMonitoring()}),[]),v.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new K0e(d.current,p.current.offsetHeight*S),h.current.start(),()=>{var _;(_=h.current)==null||_.end()}},[S]),v.useEffect(()=>{var _,x,E,T;o&&((_=h.current)!=null&&_.isPlaying())?(x=h.current)==null||x.pause():!o&&!((E=h.current)!=null&&E.isPlaying())&&((T=h.current)==null||T.resume())},[o]),v.useEffect(()=>{e===Pn.ENDED&&i&&i()},[e,i]);const y=De.getPlayers(),b=!u&&y.length>1;return f.jsxs(Z0e,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:Q0e}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:W0e}),f.jsx(tye,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx(eye,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(dme,{playerRef:a,isEnabled:!o}),f.jsx(vme,{onSongEnd:i,isEnabled:!o})]}),f.jsx(Ame,{players:r}),f.jsx(B5,{children:b&&f.jsx(w5,{player:y[0],effectsEnabled:s,showStatusForAllPlayers:y.length>2})}),f.jsx(nye,{children:s&&f.jsx(f.Fragment,{children:((A=$e.getSingSetup())==null?void 0:A.mode)===Kr.CO_OP?f.jsx(N5,{"data-test":"players-score","data-score":Math.floor($e.getPlayerScore(0)),children:f.jsx(T_,{score:$e.getPlayerScore(0)})}):De.getPlayers().map(_=>f.jsx(N5,{"data-test":`player-${_.number}-score`,"data-score":Math.floor($e.getPlayerScore(_.number)),children:f.jsx(T_,{score:$e.getPlayerScore(_.number)})},_.number))})}),f.jsx(B5,{ref:p,children:f.jsx(w5,{showStatusForAllPlayers:y.length>2,player:y.length>2?y[0]:y.at(-1),bottom:!0,effectsEnabled:s})})]})}),B5=R("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),Z0e=R("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),eye=R("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),tye=R("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),nye=R("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),N5=R("span",{target:"el0barv0"})("");function rye(e,t){const[n,r]=v.useState(0);return v.useEffect(()=>{e.current&&t===Pn.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),$e.setDuration(i)})},[n,e,t]),n}function iye({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:a,onStatusChange:o,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=v.useRef(null),[S,y]=v.useState(0),[b,A]=v.useState(Pn.UNSTARTED),[_]=We(Kf),[x,E]=v.useState(!1);v.useEffect(()=>($e.setSong(e),$e.setSingSetup(u),()=>{$e.resetSingSetup()}),[e,u]),v.useEffect(()=>{if(m.current&&b===Pn.PLAYING){const I=setInterval(async()=>{if(!m.current)return;const C=Math.max(0,await m.current.getCurrentTime()*1e3-_);y(C),s==null||s(C),$e.setCurrentTime(C),$e.update()},1e3/zl.get());return()=>clearInterval(I)}},[m,s,b,_]);const T=rye(m,b);v.useImperativeHandle(g,()=>({seekTo:I=>m.current.seekTo(I),setPlaybackSpeed:I=>m.current.setPlaybackSpeed(I),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const k=v.useCallback(I=>{A(I),o==null||o(I)},[A,o]),w=h,O=()=>{var I;E(!0),(I=m.current)==null||I.pauseVideo()},B=()=>{var I;E(!1),(I=m.current)==null||I.playVideo()},F=()=>{x?B():O()},j=G0(b);v.useEffect(()=>{var C;if(!w)return;const I=j!==Pn.PAUSED&&j!==Pn.BUFFERING&&b===Pn.PAUSED;b===Pn.PLAYING&&x?(C=m.current)==null||C.pauseVideo():I&&!x&&E(!0)},[x,b,j,w]),Cc({back:F},w,[x]);const D=v.useMemo(()=>({back:"Pause Menu"}),[]);return Bd(D,c),f.jsxs(sye,{...p,children:[x&&f.jsx(ome,{onExit:a,onResume:B,onRestart:d}),b!==Pn.UNSTARTED&&f.jsx(aye,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(J0e,{isPauseMenuVisible:x,effectsEnabled:c,duration:T,currentStatus:b,song:e,width:t,height:n,onSongEnd:a,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(oye,{children:[f.jsx(DE,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:k}),b===Pn.PLAYING&&f.jsx(lye,{"data-test":"make-song-go-fast",onClick:()=>{var I;(I=m.current)==null||I.setPlaybackSpeed(2)}})]})]})}const sye=R("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),aye=R("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),oye=R("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),lye=R("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),cye=v.forwardRef(iye),L5=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:"↑"})," or ",f.jsx("kbd",{children:"↓"})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(O0,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],uye=({as:e="h4",...t})=>{const n=v.useMemo(()=>Hs(0,L5.length-1),[]),r=e;return f.jsx(r,{...t,children:L5[n]})};function dye({...e}){const[t,n]=v.useState(""),r=v.useRef(null);return v.useEffect(()=>{const i=setTimeout(()=>{n(Fs.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),v.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Ws(i)}},[t]),f.jsx(fye,{...e,children:f.jsx(hye,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const fye=R("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),hye=R("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function pye(e){return 1-Math.pow(1-e,3)}function gye(e){return pye(e)}function Hg({color:e,maxScore:t,score:n}){return f.jsx(mye,{style:{border:n===0?0:void 0,width:`${gye(n/t)*24}%`,backgroundColor:e}})}const mye=R("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var MB={exports:{}};(function(e,t){(function(n,r){e.exports=r(v)})(typeof self<"u"?self:Do,n=>(()=>{var r={7403:(o,l,c)=>{c.d(l,{default:()=>L});var u=c(4087),d=c.n(u);const h=function($){return new RegExp(/<[a-z][\s\S]*>/i).test($)},p=function($,U){return Math.floor(Math.random()*(U-$+1))+$};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",S="REMOVE_ALL",y="REMOVE_LAST_VISIBLE_NODE",b="PAUSE_FOR",A="CALL_FUNCTION",_="ADD_HTML_TAG_ELEMENT",x="CHANGE_DELETE_SPEED",E="CHANGE_DELAY",T="CHANGE_CURSOR",k="PASTE_STRING",w="HTML_TAG";function O($){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},O($)}function B($,U){var q=Object.keys($);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols($);U&&(H=H.filter(function(ne){return Object.getOwnPropertyDescriptor($,ne).enumerable})),q.push.apply(q,H)}return q}function F($){for(var U=1;U<arguments.length;U++){var q=arguments[U]!=null?arguments[U]:{};U%2?B(Object(q),!0).forEach(function(H){C($,H,q[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(q)):B(Object(q)).forEach(function(H){Object.defineProperty($,H,Object.getOwnPropertyDescriptor(q,H))})}return $}function j($){return function(U){if(Array.isArray(U))return D(U)}($)||function(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}($)||function(U,q){if(U){if(typeof U=="string")return D(U,q);var H=Object.prototype.toString.call(U).slice(8,-1);return H==="Object"&&U.constructor&&(H=U.constructor.name),H==="Map"||H==="Set"?Array.from(U):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?D(U,q):void 0}}($)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D($,U){(U==null||U>$.length)&&(U=$.length);for(var q=0,H=new Array(U);q<U;q++)H[q]=$[q];return H}function I($,U){for(var q=0;q<U.length;q++){var H=U[q];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,P(H.key),H)}}function C($,U,q){return(U=P(U))in $?Object.defineProperty($,U,{value:q,enumerable:!0,configurable:!0,writable:!0}):$[U]=q,$}function P($){var U=function(q,H){if(O(q)!=="object"||q===null)return q;var ne=q[Symbol.toPrimitive];if(ne!==void 0){var N=ne.call(q,"string");if(O(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}($);return O(U)==="symbol"?U:String(U)}const L=function(){function $(H,ne){var N=this;if(function(te,ue){if(!(te instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,$),C(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),C(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),C(this,"setupWrapperElement",function(){N.state.elements.container&&(N.state.elements.wrapper.className=N.options.wrapperClassName,N.state.elements.cursor.className=N.options.cursorClassName,N.state.elements.cursor.innerHTML=N.options.cursor,N.state.elements.container.innerHTML="",N.state.elements.container.appendChild(N.state.elements.wrapper),N.state.elements.container.appendChild(N.state.elements.cursor))}),C(this,"start",function(){return N.state.eventLoopPaused=!1,N.runEventLoop(),N}),C(this,"pause",function(){return N.state.eventLoopPaused=!0,N}),C(this,"stop",function(){return N.state.eventLoop&&((0,u.cancel)(N.state.eventLoop),N.state.eventLoop=null),N}),C(this,"pauseFor",function(te){return N.addEventToQueue(b,{ms:te}),N}),C(this,"typeOutAllStrings",function(){return typeof N.options.strings=="string"?(N.typeString(N.options.strings).pauseFor(N.options.pauseFor),N):(N.options.strings.forEach(function(te){N.typeString(te).pauseFor(N.options.pauseFor).deleteAll(N.options.deleteSpeed)}),N)}),C(this,"typeString",function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(te))return N.typeOutHTMLString(te,ue);if(te){var Oe=(N.options||{}).stringSplitter,_e=typeof Oe=="function"?Oe(te):te.split("");N.typeCharacters(_e,ue)}return N}),C(this,"pasteString",function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(te)?N.typeOutHTMLString(te,ue,!0):(te&&N.addEventToQueue(k,{character:te,node:ue}),N)}),C(this,"typeOutHTMLString",function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Oe=arguments.length>2?arguments[2]:void 0,_e=function(Ce){var Se=document.createElement("div");return Se.innerHTML=Ce,Se.childNodes}(te);if(_e.length>0)for(var le=0;le<_e.length;le++){var Ae=_e[le],Pe=Ae.innerHTML;Ae&&Ae.nodeType!==3?(Ae.innerHTML="",N.addEventToQueue(_,{node:Ae,parentNode:ue}),Oe?N.pasteString(Pe,Ae):N.typeString(Pe,Ae)):Ae.textContent&&(Oe?N.pasteString(Ae.textContent,ue):N.typeString(Ae.textContent,ue))}return N}),C(this,"deleteAll",function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return N.addEventToQueue(S,{speed:te}),N}),C(this,"changeDeleteSpeed",function(te){if(!te)throw new Error("Must provide new delete speed");return N.addEventToQueue(x,{speed:te}),N}),C(this,"changeDelay",function(te){if(!te)throw new Error("Must provide new delay");return N.addEventToQueue(E,{delay:te}),N}),C(this,"changeCursor",function(te){if(!te)throw new Error("Must provide new cursor");return N.addEventToQueue(T,{cursor:te}),N}),C(this,"deleteChars",function(te){if(!te)throw new Error("Must provide amount of characters to delete");for(var ue=0;ue<te;ue++)N.addEventToQueue(m);return N}),C(this,"callFunction",function(te,ue){if(!te||typeof te!="function")throw new Error("Callback must be a function");return N.addEventToQueue(A,{cb:te,thisArg:ue}),N}),C(this,"typeCharacters",function(te){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!te||!Array.isArray(te))throw new Error("Characters must be an array");return te.forEach(function(Oe){N.addEventToQueue(g,{character:Oe,node:ue})}),N}),C(this,"removeCharacters",function(te){if(!te||!Array.isArray(te))throw new Error("Characters must be an array");return te.forEach(function(){N.addEventToQueue(m)}),N}),C(this,"addEventToQueue",function(te,ue){var Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return N.addEventToStateProperty(te,ue,Oe,"eventQueue")}),C(this,"addReverseCalledEvent",function(te,ue){var Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return N.options.loop?N.addEventToStateProperty(te,ue,Oe,"reverseCalledEvents"):N}),C(this,"addEventToStateProperty",function(te,ue){var Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_e=arguments.length>3?arguments[3]:void 0,le={eventName:te,eventArgs:ue||{}};return N.state[_e]=Oe?[le].concat(j(N.state[_e])):[].concat(j(N.state[_e]),[le]),N}),C(this,"runEventLoop",function(){N.state.lastFrameTime||(N.state.lastFrameTime=Date.now());var te=Date.now(),ue=te-N.state.lastFrameTime;if(!N.state.eventQueue.length){if(!N.options.loop)return;N.state.eventQueue=j(N.state.calledEvents),N.state.calledEvents=[],N.options=F({},N.state.initialOptions)}if(N.state.eventLoop=d()(N.runEventLoop),!N.state.eventLoopPaused){if(N.state.pauseUntil){if(te<N.state.pauseUntil)return;N.state.pauseUntil=null}var Oe,_e=j(N.state.eventQueue),le=_e.shift();if(!(ue<=(Oe=le.eventName===y||le.eventName===m?N.options.deleteSpeed==="natural"?p(40,80):N.options.deleteSpeed:N.options.delay==="natural"?p(120,160):N.options.delay))){var Ae=le.eventName,Pe=le.eventArgs;switch(N.logInDevMode({currentEvent:le,state:N.state,delay:Oe}),Ae){case k:case g:var Ce=Pe.character,Se=Pe.node,xe=document.createTextNode(Ce),Ne=xe;N.options.onCreateTextNode&&typeof N.options.onCreateTextNode=="function"&&(Ne=N.options.onCreateTextNode(Ce,xe)),Ne&&(Se?Se.appendChild(Ne):N.state.elements.wrapper.appendChild(Ne)),N.state.visibleNodes=[].concat(j(N.state.visibleNodes),[{type:"TEXT_NODE",character:Ce,node:Ne}]);break;case m:_e.unshift({eventName:y,eventArgs:{removingCharacterNode:!0}});break;case b:var He=le.eventArgs.ms;N.state.pauseUntil=Date.now()+parseInt(He);break;case A:var Me=le.eventArgs,Xe=Me.cb,Mt=Me.thisArg;Xe.call(Mt,{elements:N.state.elements});break;case _:var Zt=le.eventArgs,Rt=Zt.node,we=Zt.parentNode;we?we.appendChild(Rt):N.state.elements.wrapper.appendChild(Rt),N.state.visibleNodes=[].concat(j(N.state.visibleNodes),[{type:w,node:Rt,parentNode:we||N.state.elements.wrapper}]);break;case S:var ct=N.state.visibleNodes,Lt=Pe.speed,qe=[];Lt&&qe.push({eventName:x,eventArgs:{speed:Lt,temp:!0}});for(var je=0,It=ct.length;je<It;je++)qe.push({eventName:y,eventArgs:{removingCharacterNode:!1}});Lt&&qe.push({eventName:x,eventArgs:{speed:N.options.deleteSpeed,temp:!0}}),_e.unshift.apply(_e,qe);break;case y:var ut=le.eventArgs.removingCharacterNode;if(N.state.visibleNodes.length){var st=N.state.visibleNodes.pop(),Mn=st.type,Ct=st.node,dt=st.character;N.options.onRemoveNode&&typeof N.options.onRemoveNode=="function"&&N.options.onRemoveNode({node:Ct,character:dt}),Ct&&Ct.parentNode.removeChild(Ct),Mn===w&&ut&&_e.unshift({eventName:y,eventArgs:{}})}break;case x:N.options.deleteSpeed=le.eventArgs.speed;break;case E:N.options.delay=le.eventArgs.delay;break;case T:N.options.cursor=le.eventArgs.cursor,N.state.elements.cursor.innerHTML=le.eventArgs.cursor}N.options.loop&&(le.eventName===y||le.eventArgs&&le.eventArgs.temp||(N.state.calledEvents=[].concat(j(N.state.calledEvents),[le]))),N.state.eventQueue=_e,N.state.lastFrameTime=te}}}),H)if(typeof H=="string"){var he=document.querySelector(H);if(!he)throw new Error("Could not find container element");this.state.elements.container=he}else this.state.elements.container=H;ne&&(this.options=F(F({},this.options),ne)),this.state.initialOptions=F({},this.options),this.init()}var U,q;return U=$,(q=[{key:"init",value:function(){var H,ne;this.setupWrapperElement(),this.addEventToQueue(T,{cursor:this.options.cursor},!0),this.addEventToQueue(S,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(H=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(H)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(H){this.options.devMode&&console.log(H)}}])&&I(U.prototype,q),Object.defineProperty(U,"prototype",{writable:!1}),$}()},8552:(o,l,c)=>{var u=c(852)(c(5639),"DataView");o.exports=u},1989:(o,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(S){var y=-1,b=S==null?0:S.length;for(this.clear();++y<b;){var A=S[y];this.set(A[0],A[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,o.exports=m},8407:(o,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(S){var y=-1,b=S==null?0:S.length;for(this.clear();++y<b;){var A=S[y];this.set(A[0],A[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,o.exports=m},7071:(o,l,c)=>{var u=c(852)(c(5639),"Map");o.exports=u},3369:(o,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(S){var y=-1,b=S==null?0:S.length;for(this.clear();++y<b;){var A=S[y];this.set(A[0],A[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,o.exports=m},3818:(o,l,c)=>{var u=c(852)(c(5639),"Promise");o.exports=u},8525:(o,l,c)=>{var u=c(852)(c(5639),"Set");o.exports=u},8668:(o,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,S=g==null?0:g.length;for(this.__data__=new u;++m<S;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,o.exports=p},6384:(o,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function S(y){var b=this.__data__=new u(y);this.size=b.size}S.prototype.clear=d,S.prototype.delete=h,S.prototype.get=p,S.prototype.has=g,S.prototype.set=m,o.exports=S},2705:(o,l,c)=>{var u=c(5639).Symbol;o.exports=u},1149:(o,l,c)=>{var u=c(5639).Uint8Array;o.exports=u},577:(o,l,c)=>{var u=c(852)(c(5639),"WeakMap");o.exports=u},4963:o=>{o.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(o,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),S=Object.prototype.hasOwnProperty;o.exports=function(y,b){var A=h(y),_=!A&&d(y),x=!A&&!_&&p(y),E=!A&&!_&&!x&&m(y),T=A||_||x||E,k=T?u(y.length,String):[],w=k.length;for(var O in y)!b&&!S.call(y,O)||T&&(O=="length"||x&&(O=="offset"||O=="parent")||E&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||g(O,w))||k.push(O);return k}},2488:o=>{o.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:o=>{o.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(o,l,c)=>{var u=c(7813);o.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(o,l,c)=>{var u=c(2488),d=c(1469);o.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(o,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;o.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(o,l,c)=>{var u=c(4239),d=c(7005);o.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(o,l,c)=>{var u=c(2492),d=c(7005);o.exports=function h(p,g,m,S,y){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,S,h,y))}},2492:(o,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),S=c(4144),y=c(6719),b="[object Arguments]",A="[object Array]",_="[object Object]",x=Object.prototype.hasOwnProperty;o.exports=function(E,T,k,w,O,B){var F=m(E),j=m(T),D=F?A:g(E),I=j?A:g(T),C=(D=D==b?_:D)==_,P=(I=I==b?_:I)==_,L=D==I;if(L&&S(E)){if(!S(T))return!1;F=!0,C=!1}if(L&&!C)return B||(B=new u),F||y(E)?d(E,T,k,w,O,B):h(E,T,D,k,w,O,B);if(!(1&k)){var $=C&&x.call(E,"__wrapped__"),U=P&&x.call(T,"__wrapped__");if($||U){var q=$?E.value():E,H=U?T.value():T;return B||(B=new u),O(q,H,k,w,B)}}return!!L&&(B||(B=new u),p(E,T,k,w,O,B))}},8458:(o,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,S=Object.prototype,y=m.toString,b=S.hasOwnProperty,A=RegExp("^"+y.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");o.exports=function(_){return!(!h(_)||d(_))&&(u(_)?A:g).test(p(_))}},8749:(o,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,o.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(o,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;o.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:o=>{o.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:o=>{o.exports=function(l){return function(c){return l(c)}}},4757:o=>{o.exports=function(l,c){return l.has(c)}},4429:(o,l,c)=>{var u=c(5639)["__core-js_shared__"];o.exports=u},7114:(o,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);o.exports=function(p,g,m,S,y,b){var A=1&m,_=p.length,x=g.length;if(_!=x&&!(A&&x>_))return!1;var E=b.get(p),T=b.get(g);if(E&&T)return E==g&&T==p;var k=-1,w=!0,O=2&m?new u:void 0;for(b.set(p,g),b.set(g,p);++k<_;){var B=p[k],F=g[k];if(S)var j=A?S(F,B,k,g,p,b):S(B,F,k,p,g,b);if(j!==void 0){if(j)continue;w=!1;break}if(O){if(!d(g,function(D,I){if(!h(O,I)&&(B===D||y(B,D,m,S,b)))return O.push(I)})){w=!1;break}}else if(B!==F&&!y(B,F,m,S,b)){w=!1;break}}return b.delete(p),b.delete(g),w}},8351:(o,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),S=u?u.prototype:void 0,y=S?S.valueOf:void 0;o.exports=function(b,A,_,x,E,T,k){switch(_){case"[object DataView]":if(b.byteLength!=A.byteLength||b.byteOffset!=A.byteOffset)return!1;b=b.buffer,A=A.buffer;case"[object ArrayBuffer]":return!(b.byteLength!=A.byteLength||!T(new d(b),new d(A)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+b,+A);case"[object Error]":return b.name==A.name&&b.message==A.message;case"[object RegExp]":case"[object String]":return b==A+"";case"[object Map]":var w=g;case"[object Set]":var O=1&x;if(w||(w=m),b.size!=A.size&&!O)return!1;var B=k.get(b);if(B)return B==A;x|=2,k.set(b,A);var F=p(w(b),w(A),x,E,T,k);return k.delete(b),F;case"[object Symbol]":if(y)return y.call(b)==y.call(A)}return!1}},6096:(o,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;o.exports=function(h,p,g,m,S,y){var b=1&g,A=u(h),_=A.length;if(_!=u(p).length&&!b)return!1;for(var x=_;x--;){var E=A[x];if(!(b?E in p:d.call(p,E)))return!1}var T=y.get(h),k=y.get(p);if(T&&k)return T==p&&k==h;var w=!0;y.set(h,p),y.set(p,h);for(var O=b;++x<_;){var B=h[E=A[x]],F=p[E];if(m)var j=b?m(F,B,E,p,h,y):m(B,F,E,h,p,y);if(!(j===void 0?B===F||S(B,F,g,m,y):j)){w=!1;break}O||(O=E=="constructor")}if(w&&!O){var D=h.constructor,I=p.constructor;D==I||!("constructor"in h)||!("constructor"in p)||typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I||(w=!1)}return y.delete(h),y.delete(p),w}},1957:(o,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;o.exports=u},8234:(o,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);o.exports=function(p){return u(p,h,d)}},5050:(o,l,c)=>{var u=c(7019);o.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(o,l,c)=>{var u=c(8458),d=c(7801);o.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(o,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;o.exports=function(m){var S=h.call(m,g),y=m[g];try{m[g]=void 0;var b=!0}catch{}var A=p.call(m);return b&&(S?m[g]=y:delete m[g]),A}},9551:(o,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(S){return h.call(m,S)}))}:d;o.exports=g},4160:(o,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),S=c(346),y="[object Map]",b="[object Promise]",A="[object Set]",_="[object WeakMap]",x="[object DataView]",E=S(u),T=S(d),k=S(h),w=S(p),O=S(g),B=m;(u&&B(new u(new ArrayBuffer(1)))!=x||d&&B(new d)!=y||h&&B(h.resolve())!=b||p&&B(new p)!=A||g&&B(new g)!=_)&&(B=function(F){var j=m(F),D=j=="[object Object]"?F.constructor:void 0,I=D?S(D):"";if(I)switch(I){case E:return x;case T:return y;case k:return b;case w:return A;case O:return _}return j}),o.exports=B},7801:o=>{o.exports=function(l,c){return l==null?void 0:l[c]}},1789:(o,l,c)=>{var u=c(4536);o.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:o=>{o.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(o,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;o.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(o,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;o.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(o,l,c)=>{var u=c(4536);o.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:o=>{var l=/^(?:0|[1-9]\d*)$/;o.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:o=>{o.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(o,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";o.exports=function(p){return!!h&&h in p}},5726:o=>{var l=Object.prototype;o.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:o=>{o.exports=function(){this.__data__=[],this.size=0}},4125:(o,l,c)=>{var u=c(8470),d=Array.prototype.splice;o.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(o,l,c)=>{var u=c(8470);o.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(o,l,c)=>{var u=c(8470);o.exports=function(d){return u(this.__data__,d)>-1}},4705:(o,l,c)=>{var u=c(8470);o.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(o,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);o.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(o,l,c)=>{var u=c(5050);o.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(o,l,c)=>{var u=c(5050);o.exports=function(d){return u(this,d).get(d)}},9916:(o,l,c)=>{var u=c(5050);o.exports=function(d){return u(this,d).has(d)}},5265:(o,l,c)=>{var u=c(5050);o.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:o=>{o.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(o,l,c)=>{var u=c(852)(Object,"create");o.exports=u},6916:(o,l,c)=>{var u=c(5569)(Object.keys,Object);o.exports=u},1167:(o,l,c)=>{o=c.nmd(o);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&o&&!o.nodeType&&o,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();o.exports=g},2333:o=>{var l=Object.prototype.toString;o.exports=function(c){return l.call(c)}},5569:o=>{o.exports=function(l,c){return function(u){return l(c(u))}}},5639:(o,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();o.exports=h},619:o=>{o.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:o=>{o.exports=function(l){return this.__data__.has(l)}},1814:o=>{o.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(o,l,c)=>{var u=c(8407);o.exports=function(){this.__data__=new u,this.size=0}},3779:o=>{o.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:o=>{o.exports=function(l){return this.__data__.get(l)}},4758:o=>{o.exports=function(l){return this.__data__.has(l)}},4309:(o,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);o.exports=function(p,g){var m=this.__data__;if(m instanceof u){var S=m.__data__;if(!d||S.length<199)return S.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(S)}return m.set(p,g),this.size=m.size,this}},346:o=>{var l=Function.prototype.toString;o.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:o=>{o.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(o,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(S){return d(S)&&p.call(S,"callee")&&!g.call(S,"callee")};o.exports=m},1469:o=>{var l=Array.isArray;o.exports=l},8612:(o,l,c)=>{var u=c(3560),d=c(1780);o.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(o,l,c)=>{o=c.nmd(o);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&o&&!o.nodeType&&o,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;o.exports=m},8446:(o,l,c)=>{var u=c(939);o.exports=function(d,h){return u(d,h)}},3560:(o,l,c)=>{var u=c(4239),d=c(3218);o.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:o=>{o.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:o=>{o.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:o=>{o.exports=function(l){return l!=null&&typeof l=="object"}},6719:(o,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;o.exports=g},3674:(o,l,c)=>{var u=c(4636),d=c(280),h=c(8612);o.exports=function(p){return h(p)?u(p):d(p)}},479:o=>{o.exports=function(){return[]}},5062:o=>{o.exports=function(){return!1}},75:function(o){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?o.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(o.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(o.exports=function(){return Date.now()-u},u=Date.now()):(o.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(o,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],S=0;!g&&S<h.length;S++)g=d[h[S]+"Request"+p],m=d[h[S]+"Cancel"+p]||d[h[S]+"CancelRequest"+p];if(!g||!m){var y=0,b=0,A=[];g=function(_){if(A.length===0){var x=u(),E=Math.max(0,16.666666666666668-(x-y));y=E+x,setTimeout(function(){var T=A.slice(0);A.length=0;for(var k=0;k<T.length;k++)if(!T[k].cancelled)try{T[k].callback(y)}catch(w){setTimeout(function(){throw w},0)}},Math.round(E))}return A.push({handle:++b,callback:_,cancelled:!1}),b},m=function(_){for(var x=0;x<A.length;x++)A[x].handle===_&&(A[x].cancelled=!0)}}o.exports=function(_){return g.call(d,_)},o.exports.cancel=function(){m.apply(d,arguments)},o.exports.polyfill=function(_){_||(_=d),_.requestAnimationFrame=g,_.cancelAnimationFrame=m}},8156:o=>{o.exports=n}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var c=i[o]={id:o,loaded:!1,exports:{}};return r[o].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return s.d(l,{a:l}),l},s.d=(o,l)=>{for(var c in l)s.o(l,c)&&!s.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),s.nmd=o=>(o.paths=[],o.children||(o.children=[]),o);var a={};return(()=>{s.d(a,{default:()=>A});var o=s(8156),l=s.n(o),c=s(7403),u=s(8446),d=s.n(u);function h(_){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h(_)}function p(_,x){for(var E=0;E<x.length;E++){var T=x[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,y(T.key),T)}}function g(_,x){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,T){return E.__proto__=T,E},g(_,x)}function m(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function S(_){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},S(_)}function y(_){var x=function(E,T){if(h(E)!=="object"||E===null)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var w=k.call(E,"string");if(h(w)!=="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(_);return h(x)==="symbol"?x:String(x)}var b=function(_){(function(B,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),F&&g(B,F)})(O,_);var x,E,T,k,w=(T=O,k=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var B,F=S(T);if(k){var j=S(this).constructor;B=Reflect.construct(F,arguments,j)}else B=F.apply(this,arguments);return function(D,I){if(I&&(h(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(D)}(this,B)});function O(){var B,F,j,D;(function(L,$){if(!(L instanceof $))throw new TypeError("Cannot call a class as a function")})(this,O);for(var I=arguments.length,C=new Array(I),P=0;P<I;P++)C[P]=arguments[P];return F=m(B=w.call.apply(w,[this].concat(C))),D={instance:null},(j=y(j="state"))in F?Object.defineProperty(F,j,{value:D,enumerable:!0,configurable:!0,writable:!0}):F[j]=D,B}return x=O,(E=[{key:"componentDidMount",value:function(){var B=this,F=new c.default(this.typewriter,this.props.options);this.setState({instance:F},function(){var j=B.props.onInit;j&&j(F)})}},{key:"componentDidUpdate",value:function(B){d()(this.props.options,B.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var B=this,F=this.props.component;return l().createElement(F,{ref:function(j){return B.typewriter=j},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(x.prototype,E),Object.defineProperty(x,"prototype",{writable:!1}),O}(o.Component);b.defaultProps={component:"div"};const A=b})(),a.default})())})(MB);var yye=MB.exports;const RB=kr(yye);function vye({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(Aye,{children:[f.jsx(Hg,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:me.colors.players[e].perfect.fill}),f.jsx(Hg,{score:n>0?r.perfect:0,maxScore:i.perfect,color:me.colors.players[e].stroke}),f.jsx(Hg,{score:n>1?r.star:0,maxScore:i.star,color:me.colors.players[e].starPerfect.stroke}),f.jsx(Hg,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:me.colors.players[e].perfect.stroke}),f.jsx(bye,{children:n<5&&f.jsx(RB,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const Aye=R("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),bye=R("span",{target:"ejw0p7o0"})("position:absolute;",Ge,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function Sye({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:a,segment:o}){const[l]=t.detailedScore;let c=0;o>-1&&(c=l.normal+l.rap+l.freestyle),o>0&&(c=c+l.perfect),o>1&&(c=c+l.star),o>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(_ye,{children:[f.jsx(Eye,{children:f.jsxs(wye,{"data-win":a&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(xye,{color:s?me.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(jE,{preserveValue:!0,end:c,formattingFn:dB.format,duration:o<5?1:.5})]})}),f.jsx(vye,{playerNumber:e,player:t,segment:o}),f.jsx(Tye,{"data-highscore":a&&u(t.name),children:"High score!"})]})}const _ye=R("div",{target:"e1vy0af44"})({name:"1kta8sk",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem;position:relative"}),xye=R("span",{target:"e1vy0af43"})("color:",e=>e.color,";font-size:4rem;"),wye=R(Pv,{target:"e1vy0af42"})("background:transparent;font-size:5.5rem;color:white;transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;&[data-win='true']{font-size:8.5rem;color:",me.colors.text.active,";}"),Eye=R("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),Tye=R(PD,{target:"e1vy0af40"})("font-size:3rem;opacity:0;&[data-highscore='true']{top:-2.5rem;right:-9rem;",Cv,";opacity:1;}transition:400ms;");function Cye({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=v.useState(-1);v.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const a=i>3,o=()=>{a?e():s(5)};Cc({accept:o},!0,[i]);const l=v.useMemo(()=>({accept:"Next"}),[]);Bd(l,!0);const c=r.mode===Kr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>uw(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(kye,{children:[f.jsx(Mye,{children:u.map((p,g)=>f.jsx(Sye,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(Rye,{onClick:o,focused:!0,"data-test":a?"highscores-button":"skip-animation-button",children:a?"Next":"Skip"}),Fs.getPermissionStatus()&&f.jsx(Iye,{})]})}const kye=R("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),Mye=R("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),Rye=R(na,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),Iye=R(dye,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function Oye(){return v.useMemo(()=>JSON.parse(Be.session.getItem(rd))??[],[])}function jye({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=v.useRef(null),[a,o]=v.useState(""),l=Oye(),c=()=>{a.trim().length&&a.trim()!==e.name&&r(n,e.score,e.name,a)};return f.jsx(aB,{className:"ph-no-capture",options:l,onChange:o,onBlur:c,value:a,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function Vye({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=nr(),s=ppe(r);return f.jsxs(f.Fragment,{children:[f.jsx(Pye,{"data-test":"highscores-container",children:t.map((a,o)=>f.jsxs(Dye,{isCurrentSing:a.singSetupId===n.id,children:[f.jsx(Bye,{children:o+1}),f.jsx(Nye,{className:"ph-no-capture",children:a.singSetupId===n.id?f.jsx(jye,{index:o,score:a,register:i,singSetupId:n.id,onSave:s}):a.name}),f.jsx(Lye,{children:f.jsx(T_,{score:a.score})}),f.jsx(Fye,{children:zs(a.date).format("MMMM DD, YYYY")})]},o))}),f.jsx($ye,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const Pye=R("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),Dye=R("div",{target:"e1kq1u2t5"})("position:relative;",Ge,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),Bye=R("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",me.colors.text.active,";"),Nye=R("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),Lye=R("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),Fye=R("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),$ye=R(na,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function zye({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:a}){const[o]=We(pp);gl(!0);const[l,c]=v.useState("results");return f.jsxs(jD,{songData:e,width:t,height:n,children:[f.jsxs(Uye,{children:[l==="results"&&f.jsx(Cye,{onNextStep:()=>c("highscores"),players:i,singSetup:a,highScores:s}),l==="highscores"&&f.jsx(Vye,{onNextStep:r,singSetup:a,highScores:s,song:e}),f.jsx(Hye,{"data-active":"true"})]}),o==="christmas"&&f.jsxs(Gye,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const Uye=R("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),Hye=R(uye,{target:"e1fxxvcx1"})({name:"1l1st43",styles:"transition:300ms;position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;transform:scale(0);&[data-active='true']{transform:scale(1);}padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"}),Gye=R("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Ge,";");function qye(e){const[t,n,r,i]=Yye(e);return Kye(t,n,r,i)()}function Yye(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,a;s<e.length;s++)a=e.charCodeAt(s),t=n^Math.imul(t^a,597399067),n=r^Math.imul(n^a,2869860233),r=i^Math.imul(r^a,951274213),i=t^Math.imul(i^a,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function Kye(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const Qye=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","Mały Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],F5=new Date("2016-01-01").getTime(),Wye=new Date("2024-01-07").getTime(),kb=5;function Xye(e,t){const n=$E(e);return v.useMemo(()=>{const i=[...Qye];return[...Array.from({length:kb},(a,o)=>{const l=qye(e.id+o),c=6e5+14e5/(kb-1)*o,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:o.toString(),name:u,score:Pi()?c/1e3:c,date:new Date((Wye-F5)*l+F5).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:a})=>a.mode===t.mode&&a.tolerance===t.tolerance).map(a=>a.scores.map(o=>({...o,date:a.date,singSetupId:a.setup.id}))).flat())??[]].sort((a,o)=>o.score-a.score).slice(0,kb)},[e.id,n,t])??[]}function Jye({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=Xye(e,i),a=v.useMemo(()=>De.getPlayers().map(o=>({name:o.getName(),playerNumber:o.number,detailedScore:$e.getPlayerDetailedScore(o.number)})),[]);return f.jsx(So,{children:f.jsx(zye,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:a,highScores:s})})}function Zye({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){UD(),HD();const i=v.useRef(null),s=_D(e.id),{width:a,height:o}=Dp(),[l,c]=v.useState(!1),[u,d]=v.useState(!0),[h,p]=v.useState(Pn.UNSTARTED),[g,m]=v.useState(!1);return vo(!g),v.useEffect(()=>{u&&s.data&&(g||h!==Pn.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(Jye,{width:a,height:o,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(So,{children:f.jsxs(eve,{children:[f.jsxs(tve,{visible:u,"data-test":"background-container",children:[f.jsx(rve,{video:e.video,width:a,height:o}),f.jsx(ive,{"data-test":"song-artist",children:e.artist}),f.jsx(sve,{"data-test":"song-title",children:e.title}),f.jsx(eme,{onFinish:()=>{var S;m(!0),(S=i.current)==null||S.play()}})]}),s.data&&f.jsx(cye,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:a,height:o,autoplay:!1,onSongEnd:()=>{var b;const S=((b=$e.getSingSetup())==null?void 0:b.mode)===Kr.CO_OP?[{name:De.getPlayers().map(A=>A.getName()).join(", "),score:$e.getPlayerScore(0)}]:De.getPlayers().map(A=>({name:A.getName(),score:$e.getPlayerScore(A.number)})),y=$e.getSongCompletionProgress();ee.songEnded.dispatch(s.data,t,S,y),c(!0)},singSetup:t,restartSong:r})]})})}const eve=R("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),tve=R("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),nve=R("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),rve=e=>f.jsx(nve,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),ive=R(zE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),sve=R(Bv,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function ave(){const e=pv("song"),[t,n]=v.useState(null),[r,i]=v.useState(e??null),[s,a]=v.useState(0),o=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Gh(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",kc.flushSync(()=>{n(l)})}),xw.play(!1)};return UD(),f.jsxs(f.Fragment,{children:[f.jsx(Ni,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(PE,{children:t?f.jsx(Zye,{restartSong:()=>{Fs.restartRecord(),a(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx(Jge,{onSongSelected:o,preselectedSong:r})})]})}const $5=R("div",{target:"e1x9yhuz2"})({name:"1259b8f",styles:"@media (hover: hover){display:none;}"}),z5=R("div",{target:"e1x9yhuz1"})({name:"b0iqx8",styles:"@media (hover: none){display:none;}"}),ove="/prs/373/assets/screenshot1-DaCeVKxL.webp",lve="/prs/373/assets/screenshot2-uopWyjAi.webp",cve=["2NE1","2Pac feat. Dr. Dre & Roger Troutman","3 Doors Down","3OH!3","3OH!3 feat. Katy Perry","3OH!3 feat. Ke$ha","4 Non Blondes","5 Seconds of Summer","A Day to Remember","A Great Big World","a-ha","A Perfect Circle","AaRON","ABBA","Abby Trott","AC/DC","Adam Lambert","Adele","Aerosmith","Against The Current","AJR","Akon","Akon feat. Eminem","Akon feat. Kardinal Offishall & Colby O’Donis","Alan Jackson","Alan Walker","Alan Walker & Ava Max","Alan Walker, K-391 & Emelie Hollow","Alanis Morissette","Alannah Myles","Alec Benjamin","Alessandra","Alessia Cara","Alesso feat. Tove Lo","Alesso & Katy Perry","Alexander Rybak","Alexis Jordan","Alice Cooper","Alice In Chains","Alice in Chains","Alice Merton","Alicia Keys","ALIKA","All Time Low feat. Demi Lovato & Blackbear","Alphaville","Alter Bridge","Alvvays","Aly & AJ","Alyona Alyona & Jerry Heil","America","Amy Grant","Amy MacDonald","Amy Winehouse","Amy Winehouse feat. Mark Ronson","Anastacia","Andrew Lambrou","Andy Williams","Anitta","Anna Kendrick","Anna Margaret","Anna Naklab feat. Alle Farben & YouNotUs","Apocalyptica ft. Adam Gontier","Aqua","A.R. Rahman & The Pussycat Dolls feat Nicole Scherzinger","Aram MP3","Arcade Fire","Arctic Monkeys","Aretha Franklin & George Michael","Aretha Franklin & The Blues Brothers Band","Ariana Grande","Ariana Grande feat. Future","Ariana Grande feat. Iggy Azalea","Ariana Grande feat. Mac Miller","Ariana Grande feat. Zedd","Ariana Grande & John Legend","Ariana Grande & The Weeknd","Ashanti","Ashlee Simpson","Ashley Tisdale","Ashley Tisdale (The Little Mermaid)","Asking Alexandria","A★Teens","Audioslave","AURORA","Ava Max","Avenged Sevenfold","Avicii feat. Sandro Cavazza","Avicii","Avril Lavigne","Awolnation","B52s","Baby Lasagna","Babymetal x Electric Callboy","Baccara","Backstreet Boys","Bad Lip Reading","Bad Omens","Baldur’s Gate 3","Bambie Thug","Banana minnions family","Band Aid","Barbie (Ryan Gosling)","Barei","Bastille","Beastie Boys","Bebe Rexha y David Guetta","Bee Gees","Bella Poarch","Bellamy Brothers","Ben Dolič","Ben E. King","Benny Blanco, Halsey & Khalid","Benny Cristo","Benson Boone","Bette Midler","Beyoncé","Beyoncé feat. Jay-Z","Beyoncé & Shakira","Big Time Rush","Bikini Kill","Bill Medley & Jennifer Warnes","Billie Eilish","Billie Eilish & Khalid","Billy Boyd","Billy Joel","Billy Talent","Bing Crosby","Björnzone","Black Eyed Peas, Shakira","Black Sabbath","Black Veil Brides","BLACKPINK & Selena Gomez","Blackstreet feat. Dr. Dre","Blanche","Blanka","blink-182","Blink 182","Blondie","Blu Cantrell","Blue Öyster Cult","Blur","Bôa","B.o.B feat. Bruno Mars","B.o.B feat. Hayley Williams","Bob Marley & The Wailers","Bob Seger & The Silver Bullet Band","Bobby “Boris“ Pickett & The Crypt-Kickers","Bobby Helms","Bon Jovi","Boney M","Boney M.","Bonnie Tyler","Borislav Slavov (Baldur's Gate 3)","Bowling For Soup","Boyz II Men","Bradley Cooper & Lady Gaga","Brandy & Monica","Breaking Benjamin","Brenda Lee","Bridgit Mendler","Bring Me The Horizon","Britney Spears","Britney Spears / Elton John","Britney Spears feat. Madonna","Britney Spears feat. Tinashe","Britney Spears & Iggy Azalea","Brotherhood Of Man","Bruno Mars & Cardi B","Bruno Mars","Bryan Adams","Bryan Adams, Rod Stewart & Sting","Bryce Pinkham","BTS","BTS feat. Desiigner","BTS featuring  Desiigner","BTS - J-Hope feat. Becky G","Bucks Fizz","Busted","Cailin Russo & Chrissy Costanza","Calum Scott","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Calvin Harris feat. Rihanna","Camila Cabello feat. Daddy Yankee","Camila Cabello ft. Ed Sheeran","Camp Rock 2","Capital Cities","Carly Rae Jepsen","Carpenters","Carrie Underwood","Cascada","Cat Stevens","Cee Lo Green","Céline Dion","Chappell Roan","Charli XCX","Charlie Puth","Charlie Puth & Selena Gomez","Chenoa","Cher","Cheryl Cole","Chicago","Childish Gambino","Chingiz","Chris Brown","Chris Brown feat. Benny Benassi","Chris Brown feat. Justin Bieber","Chris Brown feat. Rihanna","Chris Isaak","Chris Rea","Christina Aguilera","Christina Aguilera feat. Redman","Christina Aguilera, Lil’ Kim, Mya & P!nk (Moulin Rouge)","Christina Milian","Christina Perri","Chuck Berry","Chumbawamba","Clean Bandit feat. Marina & Luis Fonsi","Clean Bandit feat. Zara Larsson","Clean Bandit featuring  Zara Larsson","Cliff Richard","Colbie Caillat","Coldplay","Coldplay feat. Beyoncé","Coldplay x BTS","Conchita Wurst","Coolio feat. L.V.","Corey Hart","Corinne Bailey Rae","Cornelia Jakobs","Counting Crows","Creed","Creedence Clearwater Revival","Crowded House","Crush 40","Crusher-P feat. GUMI","Culture Club","Cutting Crew","Cyndi Lauper","Cynthia Harrell","Daði Freyr","Daði og Gagnamagnið","Daft Punk","Daft Punk feat. Julian Casablancas","Daft Punk feat. Pharrell Williams & Nile Rodgers","Daft Punk Feat. Todd Edwards","Daisuke Ishiwatari","Dami Im","Dana International","Daniel Caesar","Daniel Powter","Danzel","Darius Rucker","Daryl Hall & John Oates","Dashboard Confessional","Daughtry","Dave Rodgers","David Archuleta","David Bowie","David Cook","David Guetta & Chris Willis feat. Fergie & LMFAO","David Guetta feat. Akon","David Guetta feat. Chris Willis","David Guetta feat. Flo Rida & Nicki Minaj","David Guetta feat. Justin Bieber","David Guetta feat. Kelly Rowland","David Guetta feat. Kid Cudi","David Guetta feat. Nicki Minaj & Afrojack","David Guetta feat. Nicki Minaj","David Guetta feat. Rihanna","David Guetta feat. Usher","David Guetta feat. Zara Larsson","David Guetta & Sia","David Hasselhoff","Dead Or Alive","deadmau5 feat. Chris James","deadmau5 feat. Gerard Way","Deadmau5 & Kaskade","Dean Lewis","Dean Martin","Dear Evan Hansen","Deep Purple","Def Leppard","Demi Lovato","Demi Lovato feat. Cher Lloyd","Deorro x Chris Brown","Depeche Mode","Destiny","Destiny’s Child","Diana Ross","Dido","Dimash Kudaibergen","Dio","Dire Straits","Disney's Aladin","Disney’s Beauty and the Beast","Disney’s Descendants","Disney’s DuckTales 2017 (Felicia Barton)","Disney’s Encanto ","Disney’s Encanto","Disney’s Frozen","Disney’s Frozen II","Disney’s Hercules","Disney’s High School Musical 3","Disney’s Kim Possible (Christina Milian)","Disney’s Moana (Dwayne Johnson)","Disney's Moana","Disney’s Mulan","Disney’s Phineas & Ferb (Candace Flynn)","Disney’s Phineas & Ferb (Phineas Flynn, Candace Flynn)","Disney's Pocahontas","Disney's Tangled","Disney’s The Jungle Book","Disney’s The Lion King","Disturbed","DJ Jazzy Jeff & The Fresh Prince","DJ Sammy & Yanou feat. Do","DJ Snake feat. Justin Bieber","DNCE","Doja Cat feat. SZA","Doja Cat","Doki Doki Literature Club!","Dolly Parton","Don McLean","Donna Summer","Doris Day","DragonForce","Drake Bell","Drake feat. Rihanna","Drake feat. Wizkid & Kyla","Drake","Dream Theater","Drowning Pool","Dua Lipa","Dua Lipa & BLACKPINK","Duck Sauce","Duncan Laurence","Ed Sheeran and Elton John","Ed Sheeran and Justin Bieber","Ed Sheeran","Ed Sheeran feat. Camila Cabello & Cardi B","Eddie Murphy","Edward Maya & Vika Jigulina","Edward Sharpe And The Magnetic Zeros","Electric Callboy","Electric Callboy feat. Sido","Electric Light Orchestra","Elena Siegman","Eleni Foureira","Ellie Goulding","Elton John","Elton John & Dua Lipa","Elton John & RuPaul","Elvis Presley","Eminem feat. Dido","Eminem feat. Juice WRLD","Eminem feat. Rihanna","Eminem","Emmelie de Forest","Empire Of The Sun","Enrique Iglesias","Enrique Iglesias feat. Pitbull","Enya","Eric Clapton","Eric Saade","Estelle feat. Kanye West","Europe","Eurythmics","Eva Rivas","Evanescence","Extreme","Faith Hill","Faith No More","Fall Out Boy","Falling In Reverse","Far East Movement feat. The Cataracs & DEV","Fergie","Fetty Wap","Fifth Harmony feat. Kid Ink","Fifth Harmony feat. Ty Dolla $ign","Fifth Harmony","FIFTY FIFTY","Finger Eleven","Five For Fighting","Fleetwood Mac","Flo Rida feat. David Guetta","Flo Rida feat. Ke$ha","Flo Rida feat. Sia","Flo Rida feat. T-Pain","Flo Rida","Florence + the Machine","Foo Fighters","Fool’s Garden","Foreigner","Foster The People","Fountains Of Wayne","Frank Ocean","Frank Sinatra","Frankie Goes To Hollywood","Frankie Valli","Franz Ferdinand","Freddie Mercury","Fredi and Friends","Fugees","Fun. feat. Janelle Monáe","Fun.","Gandalf","Gayle","Genesis","George Ezra","George Michael","George Michael & Elton John","Getter Jaani","Ghost","Gina G","Ginuwine","Girls’ Generation (SNSD)","Glee Cast","Glee Cast (Lea Michele & Jake Zyrus)","Glen Hansard And Markéta Irglová","Gloria Gaynor","GloryHammer","Gnarls Barkley","Goo Goo Dolls","Good Charlotte","Gorillaz","Gorillaz feat. Shaun Ryder","Gotye & Kimbra","Grabbitz","Grease (John Travolta & Olivia Newton-John)","Green Day","Gréta Salóme & Jónsi","Guns N' Roses","Guns N’ Roses","Gustaph","Gwen Stefani","Gwen Stefani & Eve","Gwen Stefani Feat Akon","Gym Class Heroes feat. Adam Levine","Haddaway & Jim Carrey & The Roxbury Guys","Hailee Steinfeld feat. DNCE","Hailee Steinfeld & Grey feat. Zedd","Hailee Steinfeld","Hamilton","Hanson","Harry Styles","Hazbin Hotel","Hazbin Hotel (Black Gryph0n & Baasik)","Heathers","Helena Paparizou","Hellogoodbye","Helloween","Henry Moodie","Hera Björk","High School Musical","Hilary Duff","Hillsong United","Himesh Patel","Hinder","Hole","Hollywood Undead","Hoobastank","Hootie & The Blowfish","Hooverphonic","Hozier","Huey Lewis & The News","Hunter Hayes","Ice Cube","Idina Menzel","Idina Menzel with Michael Bublé","Iggy Pop","Ike & Tina Turner","Imagine Dragons","Imagine Dragons x JID","Inna","Interpol","Into the Woods","ISAAK","Israel Kamakawiwo’ole","Jack Black","Jack Johnson","Jack Ü (Skrillex & Diplo) with Justin Bieber","Jack White","Jagwar Twin","James Arthur","James Blunt","James Morrison feat. Nelly Furtado","James Newton Howard feat. Jennifer Lawrence","Jamiroquai","Janet Jackson","Jason Derulo","Jason Derulo feat. 2 Chainz","Jason Derulo feat. Snoop Dogg","Jason Mraz","Jason Paige","Jay Sean feat. Lil Wayne","Jay Sean feat. Sean Paul & Lil Jon","Jay Sean feat. The Rishi Rich Project","Jay Sean","Jay-Z feat. Alicia Keys","Jay-Z feat. Rihanna & Kanye West","Jaymes Young","Jedward","Jennette McCurdy","Jennifer Lopez","Jennifer Lopez & Pitbull","Jesse McCartney","Jessica Simpson","Jessie J feat. Ariana Grande & Nicki Minaj","Jessie J","Jet","Jewel","Jim Croce","Jimi Jamison","Jimmy Eat World","Joan Jett","Joan Jett & The Blackhearts","Joe Cocker","John Denver","John Legend","John Lennon","John Mayer","John Rzeznik ","John Waite","Johnny Cash","Johnny Logan","Johnny Rivers","Joji","JoJo","Jojo","Jon Bellion","Jonathan Coulton","Jordin Sparks feat. Chris Brown","Josh Groban","Journey","Joy Division","Julie and the Phantoms","Justin Bieber & Benny Blanco","Justin Bieber feat. Big Sean","Justin Bieber feat. Jaden Smith","Justin Bieber feat. Usher","Justin Bieber","Justin Bieber & Ludacris","Justin Bieber & Nicki Minaj","Justin Timberlake","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Kaiser Chiefs","Kaleen","Kaleo","Kane Brown","Kansas","Kanye West","Kanye West feat. Dwele","Kanye West feat. Pusha T","Kanye West feat. Various Artists","Kanye West feat. Young Jeezy","Kardinal Offishall feat. Akon","Kate Bush","Katrina And The Waves","Katy Perry","Katy Perry feat. Kanye West","Katy Perry feat. Migos","Katy Perry feat. Nicki Minaj","Katy Perry feat. Snoop Dogg","Kay Starr","K/DA ft. Madison Beer, (G)I-DLE, Jaira Burns","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Keane","Keep Shelly in Athens","Keep Shelly In Athens","Ke$ha feat. 3OH!3","Ke$ha","KEiiNO","Kellie Pickler","Kelly Clarkson","Kendrick Lamar feat. Drake","Kendrick Lamar","Kenny Rogers & Dolly Parton","Kenya Grace","Khalid x Normani","Kid Cudi","Kid Cudi feat. MGMT & Ratatat","Kid Rock","Kid Rock feat. Sheryl Crow","Kim Petras","Kim Petras & Nicki Minaj","Kim Wilde"," Kinect Star Wars (Renee Wagner)","Kings Of Leon","Kings of Leon","KISS","Kodaline","KoRn","KT Tunstall","Kygo feat. Maty Noyes","Kygo & Selena Gomez","Kygo x Whitney Houston","Kylie Minogue","La Bouche","La La Land (Ryan Gosling & Emma Stone)","La Roux","Lady Antebellum","Lady Gaga & Ariana Grande","Lady Gaga","Lady Gaga & BLACKPINK","Lady Gaga, Bradley Cooper","Lady Gaga feat. Beyoncé","Lady Gaga feat. Colby O'Donis","Lana Del Rey","Lana Del Rey feat. The Weeknd","Lauv feat. BTS","LazyTown","LE SSERAFIM","Lea Salonga and Brad Kane","League of Legends","LeAnn Rimes","Led Zeppelin","Lena","Lenny Kravitz","Leona Lewis","Les Fatals Picards","Les Misérables","Lewis Capaldi","Lifehouse","Lil Dicky","Lil Nas X feat. Billy Ray Cyrus","Lil Nas X","Lil Wayne feat. Bruno Mars","Lil Wayne feat. Eminem","Lily Allen","Lindsey Stirling feat. Becky G","Linkin Park","Lionel Richie","Lipps, Inc.","Little Big","Little Mix feat. Stormzy","Little Mix","Lizzo","LMFAO, Lauren Bennett & Goon Rock","LMFAO","Loïc Nottet","Lord Of The Lost","Lorde","Lordi","Loreen","LP","LSD","Lucy Hale","Lulu","Lykke Li","Lyn","Lynyrd Skynyrd","M83 feat. Susanne Sundfør","Machine Gun Kelly feat. blackbear","Macklemore & Ryan Lewis feat. Ray Dalton","Macklemore & Ryan Lewis feat. Wanz","Madcon feat. Ray Dalton","Madcon","Madonna","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Mae Muller","Magic!","Major Lazer & DJ Snake feat. MØ","Major Lazer feat. Justin Bieber & MØ","Malik Harris","Mamma Mia! (Movie)","Man With A Mission","Manchester Orchestra","Mandaryna","Mandy Moore","Måneskin","Manowar","Måns Zelmerlöw","Manuel","Marc Cohn","Marcus & Martinus","Margaret Berger","Maria Yaremchuk","Mariah Carey","Mariah Carey & Boyz II Men","Mariah Carey feat. Jay-Z","Mariah Carey & Whitney Houston","Marillion","Marilyn Manson","Marina and the Diamonds","Marina & The Diamonds","Mark Ronson feat. Bruno Mars","Mark Ronson ft  Miley Cyrus","Maroon 5 feat. Cardi B","Maroon 5 feat. Christina Aguilera","Maroon 5 feat. Wiz Khalifa","Maroon 5","Marshmello & Anne-Marie","Marshmello & Bastille","Marshmello & Kane Brown","Marshmello x Jonas Brothers","Martin Garrix & Bebe Rexha","Martin Garrix feat. Bonn","Martin Solveig & Dragonette","Martin Solveig & GTA","Martina McBride","Marvin Gaye & Tammi Terrell","Matchbox Twenty","Matt Redman","Max Coveri","Meat Loaf","Meatloaf","Meduza x James Carter feat. Elley Duhé + Fast Boy","Meghan Trainor","Melanie Martinez","Melanie Thornton","Melissa Etheridge","MELOVIN","Men at Work","Metallica","Metric","Metro Station","M.I.A.","Michael Bublé","Michael Jackson","Michael Jackson feat. Justin Timberlake","Michael Schulte","Michelle Branch","Midnight Oil","Mika feat. Ariana Grande","Mika","Mike Posner","Miley Cyrus","Miley Cyrus & Jessie J","Mili","Milo Manheim & Meg Donnelly","Miracle Of Sound","Miranda Lambert","Mitski","Modern Talking","Modest Mouse","Montaigne","Morandi","Morgan Wallen","Mother Mother","Mötley Crüe","Moulin Rouge","Mumford and Sons","Mumford & Sons","Muse","My Chemical Romance","My Little Pony","Myles Smith","★N Sync","N-Trance feat. Ricardo Da Force","Natalia Kills","Natalie Imbruglia","Natasha Bedingfield","Natasha Farrow","Nathan Evans","NCT 127","NCT DREAM","Ne-Yo","Neil Young","Nelly feat. Kelly Rowland","Nelly Furtado","Nelly Furtado feat. Timbaland","Nemo","Nena","Neon Genesis Evangelion","Netflix","Netta","New Kids On The Block","New Order","NewJeans; League of Legends","NF","Nick Cave & The Bad Seeds + Kylie Minogue","Nick Cave & The Bad Seeds","Nick Jonas","Nickelback","Nicki Minaj feat. Rihanna","Nicki Minaj","Nicki Taylor","Nico Bruno","Nico & Vinz","Nightwish","NIKI","Nilsson","Nirvana","No Doubt","No Secrets","Noah Kahan","Nothing But Thieves","O.A.R.","Oasis","Ochman","Olivia Newton-John","Olivia Rodrigo","Olly Murs","Olly Murs feat. Flo-Rida","Olsen Brothers","One Direction","OneRepublic","Owl City & Carly Rae Jepsen","Owl City","Panic! at the Disco","Papa Roach","Paramore","Paris Hilton","Parry Gripp & Brianne Drouhard","Passenger","Pat Benatar","Patrice Rushen","Paul McCartney & Michael Jackson","Paul Simon","Paula Abdul","Pearl Jam","Peter Cetera","Peter Gabriel","Peter Gabriel & Kate Bush","Petula Clark","Phantom Planet","Pharrell Williams","Phil Collins","Philip Bailey with Phil Collins","Phoebe Bridgers","Pink Floyd","PinkPantheress & Ice Spice","Pitbull feat. Chris Brown","Pitbull feat. Marc Anthony","Pitbull feat. Ne-Yo, Afrojack & Nayer","Pitbull feat. T-Pain","Pixies","Placebo","Placebo feat. David Bowie","Plain White T’s","P!nk feat. Lily Allen","P!nk feat. Nate Ruess","P!nk","Poets Of The Fall","Poets of the Fall","Pointer Sisters","Portal","Post Malone","Post Malone feat. 21 Savage","Post Malone & Swae Lee","Powerwolf","Pretenders","Prince and the Revolution","Psy feat. Suga of BTS","Psychostick","Queen","Queen & David Bowie","Queens Of The Stone Age","R. City feat. Adam Levine","R. Kelly","Radical Face","Radiohead","RAFAŁ","Rage Against the Machine","Rage Against The Machine","Rag’n’Bone Man","Rag'n'Bone Man","Rainbow","Ramones","Rascal Flatts","Rasmussen","Ray Parker Jr.","Reba McEntire & Kelly Clarkson","Reba McEntire with Brooks & Dunn","Red Hot Chili Peppers","Rednex","R.E.M.","Remo Forrer","Ren","REO Speedwagon","Rhapsody","Richard Marx & Donna Lewis","Richard Marx","Rick Astley","Ricky Martin","Ricky Martin with Christina Aguilera","Rihanna","Rihanna feat. Calvin Harris","Rihanna feat. Drake","Rihanna feat. Eminem","Rihanna feat. Jay-Z","Rihanna feat. Jeezy","Rihanna feat. Mikky Ekko","Rihanna, Kanye West & Paul McCartney","Rihanna & Ne-Yo","Rise Against","Rob Thomas","Rob Zombie","Robbie Williams","Rockwell","Rod Stewart","Roman Lob","Rosa Linn","Roxette","Roy Orbison","Rufus Wainwright","Run DMC","RuPaul","Rupert Holmes","Ruslana","Rusted Root","S Club 7","Sabaton","Sabrina Carpenter","Sam Ryder","Sam Smith","Sam The Sham And The Pharaohs","Sandie Shaw","Santana feat. Rob Thomas","Sara Bareilles","Sara Evans","Sarah McLachlan","Savage Garden","Scars On Broadway","Scissor Sisters","Scooter vs. Marc Acardipane & Dick Rules","Scorpions","Scott McKenzie","Sean Kingston","Sean Kingston / Justin Bieber","SEBalter","Secondhand Serenade","Selena Gomez","Selena Gomez feat. Gucci Mane","Selena Gomez & The Scene","Selena Gomez x Marshmello","Serj Tankian","Set It Off","Shaggy feat. RikRok","Shakin’ Stevens","Shakira","Shakira feat. Carlinhos Brown","Shakira feat. Dizzee Rascal","Shakira feat. Rihanna","Shakira feat. Wyclef Jean","Shakira ft. Freshlyground","Shania Twain","Shawn Mendes & Camila Cabello","Shawn Mendes, Camila Cabello","Shawn Mendes","Sheryl Crow","Shinedown","Shrek 2","Sia","Sia feat. Kendrick Lamar","SIAMÉS","Silia Kapsis","Silk Sonic - Bruno Mars & Anderson .Paak","SiM","Simon & Garfunkel","Simple Plan","Simply Red","Sinéad O’Connor","SING (Taron Egerton)","Sixpence None The Richer","Skid Row","Skillet","Skunk Anansie","Slade","SLANDER feat. Dylan Matthews","Slayyyter","Slipknot","Smash Into Pieces","Smash Mouth","SMiLE.dk","Smokie","Snoop Dogg & Wiz Khalifa feat. Bruno Mars","Snow Patrol","Sophie Ellis-Bextor","Soul Asylum","Soulja Boy Tellem feat. Sammie","Soundgarden","Spandau Ballet","Spice Girls","Srbuk","Starship","Steindi","Stella Mwangi","Stephen Sanchez","Steve Aoki feat. BTS","Steve Lacy","Steven Curtis Chapman","Stevie Wonder","Sting","Stone Temple Pilots","Sublime","Subwoolfer","Sudden Lights","Sugababes","Sum 41","Sun Stroke Project & Olia Tira","Supergrass","Survivor","Swedish House Mafia & The Weeknd","Sylver","Symphony X","System of a Down","System Of A Down","SZA","Taio Cruz","Take That","Taking Back Sunday","Tal Bachman","Talking Heads","Tally Hall","Tate McRae","t.A.T.u.","Taylor Swift","Taylor Swift feat. Brendon Urie","Taylor Swift feat. Kendrick Lamar","Taylor Swift feat. Post Malone","Teach-In","Tears For Fears","Technotronic feat. Felly","Teddy Swims","Tenacious D","Terence Trent D’Arby","Terri Clark","Texas","Teya & Salena","The 1975","The Animals","The Anxiety (Willow & Tyler Cole)","The Baseballs","The Beach Boys","The Beatles","The Beautiful South","The Black Eyed Peas","The Black Eyed Peas Feat. Justin Timberlake","The Black Keys","The Bloodhound Gang","The Blues Brothers","The BossHoss","The Calling","The Cardigans","The Chainsmokers & Coldplay","The Chainsmokers feat. Daya","The Chainsmokers feat. Halsey","The Charlie Daniels Band","The Cinematic Orchestra","The Clash","The Common Linnets","The Corrs","The Cranberries","The Cure","The Darkness","The Doors","The Eagles","The Fray","The Greatest Showman","The Gregory Brothers feat. Takeo Ischi","The Ink Spots","The Jackson 5","The Jacksons","The Kelly Family","The Kid LAROI feat. Justin Bieber","The Kid Laroi & Justin Bieber","The Kid Laroi & Miley Cyrus","The Killers","The Kooks","The Little Mermaid","The Living Tombstone","The Lonely Island feat. Akon","The Lonely Island feat. Connor4real","The Lonely Island feat. Michael Bolton","The Makemakes","The Mamas & The Papas","The Neighbourhood","The Offspring","The Phantom of the Opera","The Pogues feat. Kirsty MacColl","The Police","The Postal Service","The Proclaimers","The Psychedelic Furs","The Pussycat Dolls","The Rasmus","The Rembrandts","The Rocky Horror Picture Show","The Rolling Stones","The Ronettes","The Script","The Script feat. will.i.am","The Smashing Pumpkins","The Smiths","The Specials","The Strokes","The Temptations","The Tony Rich Project","The Village People","The Vines","The Weeknd","The Weeknd feat. Ariana Grande","The Weeknd feat. Daft Punk","The White Stripes","The Who","The Witcher (Joey Batey)","TheFatRat feat. Laura Brehm","TheFatRat","Third Eye Blind","Thirty Seconds to Mars","Three Days Grace","Thundercats","Tiffany","Timbaland feat. Keri Hilson","Timbaland presents OneRepublic","Tina Turner","Tix","TLC","Tokio Hotel","Tom Dice","Tom Jones and Mousse T.","Tom Jones","Tom Odell","Tones And I","Toni Braxton","Tool","Toto","Tove Lo","Tracy Chapman","Train","Travie McCoy feat. Bruno Mars","TryHardNinja feat. CaptainSparklez","Twenty One Pilots","twenty øne piløts","TWICE","Tyler, The Creator","U2","Ultravox","USA for Africa","Usher & Alicia Keys","Usher feat. Lil’ Jon & Ludacris","Usher feat. Pitbull","Usher feat. will.i.am","Usher & Pitbull","Usher","Utada Hikaru","Vampire Weekend","Van Halen","Vance Joy","Vanessa Carlton","Vanessa Hudgens","Vanessa Williams","Vanilla Ice","Vengaboys","Verka Serduchka","Victoria Justice","Victoria Justice & Ariana Grande","Victorious Cast feat. Victoria Justice","Vitamin C","Voyager","Warren Zevon","We Are Domi","We The Kings feat. Demi Lovato","Ween","Weezer","“Weird Al” Yankovic","Westlife","Wham!","Wham","Wheatus","Whitesnake","Whitney Houston","Wicked","Wilbur Soot","Will Ferrell & Rachel McAdams","Will Smith","will.i.am & Britney Spears","will.i.am feat. Eva Simons","will.i.am feat. Justin Bieber","will.i.am ","Willie Nelson and Merle Haggard","Wilson Phillips","Windows95man","Wiz Khalifa","Wiz Khalifa ft. Charlie Puth","Xavier Rudd","Yazoo","Ylvis","Yohanna","Young The Giant","Zara Larsson","Zara Larsson & MNEK","ZAYN feat. Sia","ZAYN","ZAYN & Taylor Swift","Zedd & Alessia Cara","Zedd feat. Selena Gomez","Zedd & Foxes","Zoe Wees","ZZ Top"],uve=["Polish","Korean","English","Japanese","Spanish","Estonian","German","Swedish","Indonesian","Chinese","French","Ukrainian","Portuguese","Dutch","Italian","Catalan","Finnish","Czech","Norwegian","Croatian","Latin","Icelandic","Serbian","Slovenian","ENGL","Armenian","Romanian","Lithuanian","Latvian"],dve=3504,Pf={artists:cve,languages:uve,songs:dve},fve=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function hve(){const[e]=We(Nx),t=Bpe(ky.SkipInitialSetup),n=bi();vo(!0);const r=t==="test"&&!Pi()?"menu/":e===null?"quick-setup/":"menu/";Gr("enter",()=>{n(r)},[r]);const[i,s]=v.useState(!1);return v.useEffect(()=>{const a=setTimeout(()=>{s(!0)},4e3);return()=>clearTimeout(a)},[]),f.jsxs(So,{toolbar:!1,children:[f.jsx(Ni,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(tD,{}),f.jsxs(vve,{children:[f.jsx(z5,{children:f.jsxs(pve,{children:[f.jsx(gD,{}),f.jsx(RE,{})]})}),f.jsx(z5,{children:f.jsx(Qr,{to:r,children:f.jsx(Mb,{"data-test":"enter-the-game",focused:!0,children:"Enter the game"})})}),f.jsxs(gve,{children:[f.jsxs(IB,{children:[f.jsxs(mve,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(hf,{children:["▸ ",f.jsx("strong",{children:fve.format(Pf.songs)})," songs in"," ",f.jsx("strong",{children:Pf.languages.length})," languages",f.jsxs(pf,{children:["Artists such as"," ",f.jsx("strong",{children:i?f.jsx(RB,{options:{strings:Pf.artists,autoStart:!0,loop:!0,delay:100}}):Pf.artists.at(-1)})]})]}),f.jsxs(hf,{children:["▸ Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(pf,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(hf,{children:["▸ Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(pf,{children:"No need to download an app"})]}),f.jsxs(hf,{children:["▸ Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(pf,{children:"When using phones as microphones"})]}),f.jsxs(hf,{children:["▸ ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(pf,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(yve,{children:[f.jsx("img",{src:ove,alt:"Song list screen"}),f.jsx("img",{src:lve,alt:"In-game screen"})]})]}),f.jsxs(bve,{children:["Using this device as remote microphone?",f.jsx(Qr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(Ave,{children:[f.jsx($5,{children:f.jsx(Qr,{to:"remote-mic/",children:f.jsx(Mb,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})})}),f.jsx($5,{children:f.jsx(Qr,{to:"quick-setup/",children:f.jsx(Mb,{"data-test":"enter-the-game",children:"Start new game"})})})]})]})]})}const pve=R("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),gve=R("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",Lh,"{width:90%;flex-direction:column;font-size:8.5rem;}",fv,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),mve=R("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",Lh,"{font-size:8.5rem;}",fv,"{font-size:4.9rem;}"),hf=R("div",{target:"e1n22rxp7"})(""),pf=R("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),IB=R("div",{target:"e1n22rxp5"})("display:flex;flex-direction:column;flex:1;gap:1rem;",Ge,";"),yve=R(IB,{target:"e1n22rxp4"})(fv,"{display:none;}",Lh,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",Lh,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),vve=R("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",fv,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",me.colors.text.active,";}"),Ave=R("div",{target:"e1n22rxp2"})({name:"inasn2",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;&& a{width:100%;flex:1;min-height:30rem;}"}),bve=R("h3",{target:"e1n22rxp1"})(Lh,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),Mb=R(yP,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;transform:none;",mP,";");function Sve(e){const t=bi(),n=()=>t("menu/"),{register:r}=nr({onBackspace:n});return f.jsxs(pl,{children:[f.jsx(Ni,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(Qr,{to:"exclude-languages/",children:f.jsx(Ve,{...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(Qr,{to:"edit/list/",children:f.jsx(Ve,{...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(Qr,{to:"convert/",children:f.jsx(Ve,{...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(Qr,{to:"menu/",children:f.jsx(Ve,{...r("back-button",n),children:"Return To Main Menu"})})]})}var Fv={exports:{}};Fv.exports=qE;Fv.exports.isMobile=qE;Fv.exports.default=qE;const _ve=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,xve=/CrOS/,wve=/android|ipad|playbook|silk/i;function qE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=_ve.test(t)&&!xve.test(t)||!!e.tablet&&wve.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var Eve=Fv.exports;const Tve=kr(Eve);function Cve(){const[,e]=We(Mr),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(So,{children:f.jsx(kve,{children:f.jsxs(Mve,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(U5,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(U5,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const U5=R(Ve,{target:"e6hg0672"})({name:"h427ha",styles:"font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh))"}),kve=R("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),Mve=R(Ts,{target:"e6hg0670"})({name:"x689zy",styles:"max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}"});function Rve(e){const[t]=We(Mr),n=v.useMemo(()=>Tve(),[]),r=bi(),i=async s=>{var a,o;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((o=(a=global.screen.orientation).lock)==null?void 0:o.call(a,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(Ni,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(Cve,{}):f.jsx(pl,{children:f.jsx(FE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function Ive(e){gl(!1);const t=bi(),n=()=>t("settings/"),{register:r}=nr({onBackspace:n}),[i,s]=We(o0),[a,o]=We(BO),l=Bi(ee.inputListChanged,()=>rt.getRemoteMics()),c=v4();return v.useEffect(()=>rt.addListener(c),[c]),f.jsxs(pl,{children:[f.jsx("h1",{onClick:()=>{const u=prompt("Code");(u==null?void 0:u.length)===Jf-1&&(CV(u),global.location.reload())},children:"Remote Microphone Settings"}),f.jsx(cs,{...r("connection type",()=>s(Wl(w$,i))),label:"Connection type",value:i}),f.jsx("hr",{}),f.jsx(cs,{...r("default-permission",()=>o(Wl(hC,a))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:a.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=rt.getPermission(u.id);return f.jsx(Vve,{...r(`mic-${u.id}`,()=>rt.setPermission(u.id,Wl(hC,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(jve,{children:[f.jsx(Dve,{children:u.id.slice(-4)}),f.jsx(Bve,{children:f.jsx(Ove,{deviceId:u.id})}),f.jsx(Pve,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Ve,{...r("back-button",n),children:"Return To Settings"})]})}const Ove=({deviceId:e})=>{const t=tB(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},jve=R("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),Vve=R(cs,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),Pve=R("span",{target:"expzhs32"})(""),Dve=R("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),Bve=R("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),Rb=2500,Nve=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*Rb)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Ie.eurovisionPink.text},{offset:"25%",color:Ie.eurovisionYellow.text},{offset:"50%",color:Ie.eurovisionPink.text},{offset:"75%",color:Ie.eurovisionOrange.text},{offset:"100%",color:Ie.eurovisionPink.text}];return f.jsxs("svg",{width:Rb,height:Rb,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},Lve=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function Fve(){return vo(!1),f.jsxs(So,{children:[f.jsxs($ve,{children:[f.jsx(zve,{dangerouslySetInnerHTML:{__html:Lve}}),f.jsx(OB,{children:f.jsx(DS,{})})]}),f.jsxs(Hve,{children:[f.jsx(Uve,{children:f.jsx(DS,{})}),f.jsx(RE,{}),f.jsx(Gve,{src:qD,alt:"Eurovision"})]}),f.jsx(Nve,{})]})}const $ve=R("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),OB=R("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Ie.eurovisionViolet.text,`,
      `,Ie.eurovisionBlue.text,`,
      `,Ie.eurovisionYellow.text,`,
      `,Ie.eurovisionBlue.text,`,
      `,Ie.eurovisionViolet.text,`
    );}`),zve=R("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Ie.red.text,"!important;}path:nth-of-type(2){fill:",Ie.blue.text,"!important;}"),Uve=R(OB,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Ie.eurovisionPink.text,`,
      `,Ie.eurovisionOrange.text,`,
      `,Ie.eurovisionYellow.text,`,
      `,Ie.eurovisionPink.text,`
    );}`),Hve=R("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Ie.red.stroke,`,
    `,Ie.red.hit.fill,` 49.9%,
    `,Ie.blue.hit.fill,` 50.1%,
    `,Ie.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),Gve=R("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),qve=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function Yve(){const[e]=We(Mr),[t,n]=v.useState(!1),[r,i]=v.useState(200),s=v.useCallback(a=>{i(Math.round(a==null?void 0:a.getBoundingClientRect().width)??200)},[]);return v.useEffect(()=>{const a=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(a)}},[]),f.jsxs(Kve,{"data-small":!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:qve(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}const Kve=R(Ts,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;&[data-small='true'] &{width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}}view-transition-name:fb-notification;");function Qve(){vo(!0);const e=bi();gl(!1);const{register:t}=nr();return f.jsxs(pl,{children:[f.jsxs(Ni,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),f.jsxs(Wve,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:"• Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:["• Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(Yve,{}),f.jsxs(f.Fragment,{children:[f.jsx(Qr,{to:"game/",children:f.jsx(Ve,{...t("sing-a-song",()=>e("game/")),children:"Sing a song"})}),f.jsx(Qr,{to:"select-input/",children:f.jsx(Ve,{...t("select-input",()=>e("select-input/")),children:"Setup Microphones"})}),f.jsx(Qr,{to:"settings/",children:f.jsx(Ve,{...t("settings",()=>e("settings/")),children:"Settings"})}),f.jsx(Qr,{to:"jukebox/",children:f.jsx(Ve,{...t("jukebox",()=>e("jukebox/")),children:"Jukebox"})}),f.jsx(Qr,{to:"manage-songs/",children:f.jsx(Ve,{...t("manage-songs",()=>e("manage-songs/")),children:"Manage Songs"})})]})]})}const Wve=R("div",{target:"e1g7uwpd0"})(Ge,";text-decoration:none;flex-direction:column;display:flex;font-size:1.5rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:4rem;left:1rem;view-transition-name:background-music-credit;"),si={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},Xve=v.lazy(()=>Od(()=>import("./SongManagement-_HXHgci-.js"),[]).then(e=>({default:e.SongList})));function Jve(){We(Mr);const[e]=We(as),t=v.useMemo(()=>aE({graphicSetting:e}),[e]);return f.jsx(_le,{theme:t,children:f.jsx(lw,{fallback:Whe,children:f.jsx(ree,{children:f.jsx(QZ,{children:f.jsx(mse,{base:"/prs/373/",children:f.jsxs(yse,{children:[f.jsx(Ir,{path:si.QUICK_SETUP,component:Rve}),f.jsx(Ir,{path:si.MENU,component:Qve}),f.jsx(Ir,{path:si.EXCLUDE_LANGUAGES,component:Zhe}),f.jsx(Ir,{path:si.JUKEBOX,component:yhe}),f.jsx(Ir,{path:si.GAME,children:f.jsx(ave,{})}),f.jsx(Ir,{path:si.SELECT_INPUT,component:Qhe}),f.jsx(Ir,{path:si.SETTINGS,component:kue}),f.jsx(Ir,{path:si.SETTINGS_REMOTE_MICS,component:Ive}),f.jsx(Ir,{path:si.REMOTE_MIC,component:Pce}),f.jsx(Ir,{path:si.MANAGE_SONGS,component:Sve}),f.jsx(Ir,{path:"social-media-elements",component:Fve}),f.jsx(Ir,{path:si.CONVERT,component:()=>f.jsx(Due,{})}),f.jsx(Ir,{path:si.EDIT_SONGS_LIST,component:()=>f.jsx(v.Suspense,{fallback:f.jsx(yD,{}),children:f.jsx(Xve,{})})}),f.jsx(Ir,{path:"edit/get-songs-bpms",component:Jhe}),f.jsx(Ir,{path:si.EDIT_SONG,children:f.jsx(dfe,{})}),f.jsx(Ir,{path:si.INDEX,component:hve})]})})})})})})}const Zve=BG(Jve),eAe=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var jB={exports:{}},$v={},VB={exports:{}},PB={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var L=C.length;C.push(P);e:for(;0<L;){var $=L-1>>>1,U=C[$];if(0<i(U,P))C[$]=P,C[L]=U,L=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],L=C.pop();if(L!==P){C[0]=L;e:for(var $=0,U=C.length,q=U>>>1;$<q;){var H=2*($+1)-1,ne=C[H],N=H+1,he=C[N];if(0>i(ne,L))N<U&&0>i(he,ne)?(C[$]=he,C[N]=L,$=N):(C[$]=ne,C[H]=L,$=H);else if(N<U&&0>i(he,L))C[$]=he,C[N]=L,$=N;else break e}}return P}function i(C,P){var L=C.sortIndex-P.sortIndex;return L!==0?L:C.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function A(C){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=C)r(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(c)}}function _(C){if(m=!1,A(C),!g)if(n(l)!==null)g=!0,D();else{var P=n(c);P!==null&&I(_,P.startTime-C)}}var x=!1,E=-1,T=5,k=-1;function w(){return!(e.unstable_now()-k<T)}function O(){if(x){var C=e.unstable_now();k=C;var P=!0;try{e:{g=!1,m&&(m=!1,y(E),E=-1),p=!0;var L=h;try{t:{for(A(C),d=n(l);d!==null&&!(d.expirationTime>C&&w());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var U=$(d.expirationTime<=C);if(C=e.unstable_now(),typeof U=="function"){d.callback=U,A(C),P=!0;break t}d===n(l)&&r(l),A(C)}else r(l);d=n(l)}if(d!==null)P=!0;else{var q=n(c);q!==null&&I(_,q.startTime-C),P=!1}}break e}finally{d=null,h=L,p=!1}P=void 0}}finally{P?B():x=!1}}}var B;if(typeof b=="function")B=function(){b(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,j=F.port2;F.port1.onmessage=O,B=function(){j.postMessage(null)}}else B=function(){S(O,0)};function D(){x||(x=!0,B())}function I(C,P){E=S(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,D())},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var L=h;h=P;try{return C()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=h;h=C;try{return P()}finally{h=L}},e.unstable_scheduleCallback=function(C,P,L){var $=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,C={id:u++,callback:P,priorityLevel:C,startTime:L,expirationTime:U,sortIndex:-1},L>$?(C.sortIndex=L,t(c,C),n(l)===null&&C===n(c)&&(m?(y(E),E=-1):m=!0,I(_,L-$))):(C.sortIndex=U,t(l,C),g||p||(g=!0,D())),C},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(C){var P=h;return function(){var L=h;h=P;try{return C.apply(this,arguments)}finally{h=L}}}})(PB);VB.exports=PB;var tAe=VB.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tr=tAe,nAe=v,rAe=kc;function se(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function DB(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var iAe=Symbol.for("react.element"),Gg=Symbol.for("react.transitional.element"),qg=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),sAe=Symbol.for("react.strict_mode"),H5=Symbol.for("react.profiler"),aAe=Symbol.for("react.provider"),oAe=Symbol.for("react.consumer"),$o=Symbol.for("react.context"),BB=Symbol.for("react.forward_ref"),G5=Symbol.for("react.suspense"),q5=Symbol.for("react.suspense_list"),NB=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),LB=Symbol.for("react.offscreen"),lAe=Symbol.for("react.memo_cache_sentinel"),Y5=Symbol.iterator;function gf(e){return e===null||typeof e!="object"?null:(e=Y5&&e[Y5]||e["@@iterator"],typeof e=="function"?e:null)}function $d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function K5(e){if($d(e)!==e)throw Error(se(188))}function cAe(e){var t=e.alternate;if(!t){if(t=$d(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return K5(i),e;if(s===r)return K5(i),t;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function $B(e){return e=cAe(e),e!==null?zB(e):null}function zB(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=zB(e),t!==null)return t;e=e.sibling}return null}var fn=Object.assign,Bf=Array.isArray,at=nAe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rn=rAe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oh={pending:!1,data:null,method:null,action:null},I_=[],mu=-1;function Ca(e){return{current:e}}function hr(e){0>mu||(e.current=I_[mu],I_[mu]=null,mu--)}function dn(e,t){mu++,I_[mu]=e.current,e.current=t}var Aa=Ca(null),Jh=Ca(null),Qo=Ca(null),O_=Ca(null),q0={$$typeof:$o,Provider:null,Consumer:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y0(e,t){switch(dn(Qo,t),dn(Jh,e),dn(Aa,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?G3(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=G3(e),t=t6(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}hr(Aa),dn(Aa,t)}function fd(){hr(Aa),hr(Jh),hr(Qo)}function j_(e){e.memoizedState!==null&&dn(O_,e);var t=Aa.current,n=t6(t,e.type);t!==n&&(dn(Jh,e),dn(Aa,n))}function K0(e){Jh.current===e&&(hr(Aa),hr(Jh)),O_.current===e&&(hr(O_),q0._currentValue=null)}var V_=Object.prototype.hasOwnProperty,YE=tr.unstable_scheduleCallback,Ib=tr.unstable_cancelCallback,uAe=tr.unstable_shouldYield,dAe=tr.unstable_requestPaint,ba=tr.unstable_now,fAe=tr.unstable_getCurrentPriorityLevel,KE=tr.unstable_ImmediatePriority,UB=tr.unstable_UserBlockingPriority,Q0=tr.unstable_NormalPriority,hAe=tr.unstable_LowPriority,HB=tr.unstable_IdlePriority,pAe=tr.log,gAe=tr.unstable_setDisableYieldValue,Np=null,ji=null;function mAe(e){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Np,e,void 0,(e.current.flags&128)===128)}catch{}}function zo(e){if(typeof pAe=="function"&&gAe(e),ji&&typeof ji.setStrictMode=="function")try{ji.setStrictMode(Np,e)}catch{}}var ps=Math.clz32?Math.clz32:AAe,yAe=Math.log,vAe=Math.LN2;function AAe(e){return e>>>=0,e===0?32:31-(yAe(e)/vAe|0)|0}var Yg=128,Kg=4194304;function Nf(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function W0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes;e=e.pingedLanes;var s=n&134217727;return s!==0?(n=s&~i,n!==0?r=Nf(n):(e&=s,e!==0&&(r=Nf(e)))):(n&=~i,n!==0?r=Nf(n):e!==0&&(r=Nf(e))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,e=t&-t,i>=e||i===32&&(e&4194176)!==0)?t:r}function bAe(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GB(e,t){return e.errorRecoveryDisabledLanes&t?0:(e=e.pendingLanes&-536870913,e!==0?e:e&536870912?536870912:0)}function qB(){var e=Yg;return Yg<<=1,!(Yg&4194176)&&(Yg=128),e}function YB(){var e=Kg;return Kg<<=1,!(Kg&62914560)&&(Kg=4194304),e}function Ob(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function SAe(e,t,n){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0,t=e.entanglements;for(var i=e.expirationTimes,s=e.hiddenUpdates;0<r;){var a=31-ps(r),o=1<<a;t[a]=0,i[a]=-1;var l=s[a];if(l!==null)for(s[a]=null,a=0;a<l.length;a++){var c=l[a];c!==null&&(c.lane&=-536870913)}r&=~o}n!==0&&KB(e,n,0)}function KB(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ps(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194218}function QB(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ps(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function WB(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function XB(){var e=rn.p;return e!==0?e:(e=window.event,e===void 0?32:u6(e.type))}function _Ae(e,t){var n=rn.p;try{return rn.p=e,t()}finally{rn.p=n}}var ml=Math.random().toString(36).slice(2),Dr="__reactFiber$"+ml,ei="__reactProps$"+ml,zd="__reactContainer$"+ml,P_="__reactEvents$"+ml,xAe="__reactListeners$"+ml,wAe="__reactHandles$"+ml,Q5="__reactResources$"+ml,Zh="__reactMarker$"+ml;function QE(e){delete e[Dr],delete e[ei],delete e[P_],delete e[xAe],delete e[wAe]}function Fl(e){var t=e[Dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zd]||n[Dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Y3(e);e!==null;){if(n=e[Dr])return n;e=Y3(e)}return t}e=n,n=e.parentNode}return null}function Ud(e){if(e=e[Dr]||e[zd]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Lf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(se(33))}function Lu(e){var t=e[Q5];return t||(t=e[Q5]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function fr(e){e[Zh]=!0}var JB=new Set,ZB={};function Ic(e,t){hd(e,t),hd(e+"Capture",t)}function hd(e,t){for(ZB[e]=t,e=0;e<t.length;e++)JB.add(t[e])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),EAe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W5={},X5={};function TAe(e){return V_.call(X5,e)?!0:V_.call(W5,e)?!1:EAe.test(e)?X5[e]=!0:(W5[e]=!0,!1)}function D_(e,t,n){if(TAe(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function jb(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ja(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Vb;function Ff(e){if(Vb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vb=t&&t[1]||""}return`
`+Vb+e}var Pb=!1;function Db(e,t){if(!e||Pb)return"";Pb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var h=p}Reflect.construct(e,[],d)}else{try{d.call()}catch(p){h=p}e.call(d.prototype)}}else{try{throw Error()}catch(p){h=p}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});try{var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var u=`
`+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Pb=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ff(n):""}function CAe(e){switch(e.tag){case 26:case 27:case 5:return Ff(e.type);case 16:return Ff("Lazy");case 13:return Ff("Suspense");case 19:return Ff("SuspenseList");case 0:case 15:return e=Db(e.type,!1),e;case 11:return e=Db(e.type.render,!1),e;case 1:return e=Db(e.type,!0),e;default:return""}}function J5(e){try{var t="";do t+=CAe(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ns(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kAe(e){var t=eN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function X0(e){e._valueTracker||(e._valueTracker=kAe(e))}function tN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function J0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var MAe=/[\n"\\]/g;function os(e){return e.replace(MAe,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function B_(e,t,n,r,i,s,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ns(t)):e.value!==""+ns(t)&&(e.value=""+ns(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?N_(e,a,ns(t)):n!=null?N_(e,a,ns(n)):r!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+ns(o):e.removeAttribute("name")}function nN(e,t,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+ns(n):"",t=t!=null?""+ns(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function N_(e,t,n){t==="number"&&J0(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ns(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rN(e,t,n){if(t!=null&&(t=""+ns(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ns(n):""}function iN(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(se(92));if(Bf(r)){if(1<r.length)throw Error(se(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=ns(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function pd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var RAe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Z5(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||RAe.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function sN(e,t,n){if(t!=null&&typeof t!="object")throw Error(se(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Z5(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Z5(e,s,t[s])}function WE(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IAe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OAe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pm(e){return OAe.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var L_=null;function XE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yu=null,$u=null;function e3(e){var t=Ud(e);if(t&&(e=t.stateNode)){var n=e[ei]||null;e:switch(e=t.stateNode,t.type){case"input":if(B_(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+os(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[ei]||null;if(!i)throw Error(se(90));B_(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&tN(r)}break e;case"textarea":rN(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Fu(e,!!n.multiple,t,!1)}}}var Bb=!1;function aN(e,t,n){if(Bb)return e(t,n);Bb=!0;try{var r=e(t);return r}finally{if(Bb=!1,(yu!==null||$u!==null)&&(Zv(),yu&&(t=yu,e=$u,$u=yu=null,e3(t),e)))for(t=0;t<e.length;t++)e3(e[t])}}function ep(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ei]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var F_=!1;if(uo)try{var mf={};Object.defineProperty(mf,"passive",{get:function(){F_=!0}}),window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{F_=!1}var Uo=null,JE=null,Dm=null;function oN(){if(Dm)return Dm;var e,t=JE,n=t.length,r,i="value"in Uo?Uo.value:Uo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Dm=i.slice(e,1<r?1-r:void 0)}function Bm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qg(){return!0}function t3(){return!1}function Fi(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qg:t3,this.isPropagationStopped=t3,this}return fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qg)},persist:function(){},isPersistent:Qg}),t}var Hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zv=Fi(Hd),Lp=fn({},Hd,{view:0,detail:0}),jAe=Fi(Lp),Nb,Lb,yf,Uv=fn({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yf&&(yf&&e.type==="mousemove"?(Nb=e.screenX-yf.screenX,Lb=e.screenY-yf.screenY):Lb=Nb=0,yf=e),Nb)},movementY:function(e){return"movementY"in e?e.movementY:Lb}}),n3=Fi(Uv),VAe=fn({},Uv,{dataTransfer:0}),PAe=Fi(VAe),DAe=fn({},Lp,{relatedTarget:0}),Fb=Fi(DAe),BAe=fn({},Hd,{animationName:0,elapsedTime:0,pseudoElement:0}),NAe=Fi(BAe),LAe=fn({},Hd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FAe=Fi(LAe),$Ae=fn({},Hd,{data:0}),r3=Fi($Ae),zAe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UAe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HAe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GAe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HAe[e])?!!t[e]:!1}function ZE(){return GAe}var qAe=fn({},Lp,{key:function(e){if(e.key){var t=zAe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UAe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZE,charCode:function(e){return e.type==="keypress"?Bm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YAe=Fi(qAe),KAe=fn({},Uv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i3=Fi(KAe),QAe=fn({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZE}),WAe=Fi(QAe),XAe=fn({},Hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),JAe=Fi(XAe),ZAe=fn({},Uv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ebe=Fi(ZAe),tbe=[9,13,27,32],e2=uo&&"CompositionEvent"in window,lh=null;uo&&"documentMode"in document&&(lh=document.documentMode);var nbe=uo&&"TextEvent"in window&&!lh,lN=uo&&(!e2||lh&&8<lh&&11>=lh),s3=" ",a3=!1;function cN(e,t){switch(e){case"keyup":return tbe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vu=!1;function rbe(e,t){switch(e){case"compositionend":return uN(t);case"keypress":return t.which!==32?null:(a3=!0,s3);case"textInput":return e=t.data,e===s3&&a3?null:e;default:return null}}function ibe(e,t){if(vu)return e==="compositionend"||!e2&&cN(e,t)?(e=oN(),Dm=JE=Uo=null,vu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lN&&t.locale!=="ko"?null:t.data;default:return null}}var sbe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sbe[e.type]:t==="textarea"}function dN(e,t,n,r){yu?$u?$u.push(r):$u=[r]:yu=r,t=py(t,"onChange"),0<t.length&&(n=new zv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ch=null,tp=null;function abe(e){JL(e,0)}function Hv(e){var t=Lf(e);if(tN(t))return e}function l3(e,t){if(e==="change")return t}var fN=!1;if(uo){var $b;if(uo){var zb="oninput"in document;if(!zb){var c3=document.createElement("div");c3.setAttribute("oninput","return;"),zb=typeof c3.oninput=="function"}$b=zb}else $b=!1;fN=$b&&(!document.documentMode||9<document.documentMode)}function u3(){ch&&(ch.detachEvent("onpropertychange",hN),tp=ch=null)}function hN(e){if(e.propertyName==="value"&&Hv(tp)){var t=[];dN(t,tp,e,XE(e)),aN(abe,t)}}function obe(e,t,n){e==="focusin"?(u3(),ch=t,tp=n,ch.attachEvent("onpropertychange",hN)):e==="focusout"&&u3()}function lbe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hv(tp)}function cbe(e,t){if(e==="click")return Hv(t)}function ube(e,t){if(e==="input"||e==="change")return Hv(t)}function dbe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bs=typeof Object.is=="function"?Object.is:dbe;function np(e,t){if(bs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!V_.call(t,i)||!bs(e[i],t[i]))return!1}return!0}function d3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f3(e,t){var n=d3(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d3(n)}}function pN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gN(){for(var e=window,t=J0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=J0(e.document)}return t}function t2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fbe(e){var t=gN(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pN(n.ownerDocument.documentElement,n)){if(r!==null&&t2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=f3(n,s);var a=f3(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hbe=uo&&"documentMode"in document&&11>=document.documentMode,Au=null,$_=null,uh=null,z_=!1;function h3(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;z_||Au==null||Au!==J0(r)||(r=Au,"selectionStart"in r&&t2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uh&&np(uh,r)||(uh=r,r=py($_,"onSelect"),0<r.length&&(t=new zv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Au)))}function Tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bu={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},Ub={},mN={};uo&&(mN=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function Oc(e){if(Ub[e])return Ub[e];if(!bu[e])return e;var t=bu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mN)return Ub[e]=t[n];return e}var yN=Oc("animationend"),vN=Oc("animationiteration"),AN=Oc("animationstart"),pbe=Oc("transitionrun"),gbe=Oc("transitionstart"),mbe=Oc("transitioncancel"),bN=Oc("transitionend"),SN=new Map,p3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ra(e,t){SN.set(e,t),Ic(t,[e])}var Ki=[],Su=0,n2=0;function Gv(){for(var e=Su,t=n2=Su=0;t<e;){var n=Ki[t];Ki[t++]=null;var r=Ki[t];Ki[t++]=null;var i=Ki[t];Ki[t++]=null;var s=Ki[t];if(Ki[t++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&_N(n,i,s)}}function qv(e,t,n,r){Ki[Su++]=e,Ki[Su++]=t,Ki[Su++]=n,Ki[Su++]=r,n2|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function r2(e,t,n,r){return qv(e,t,n,r),Z0(e)}function ul(e,t){return qv(e,null,null,t),Z0(e)}function _N(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;i&&t!==null&&e.tag===3&&(s=e.stateNode,i=31-ps(n),s=s.hiddenUpdates,e=s[i],e===null?s[i]=[t]:e.push(t),t.lane=n|536870912)}function Z0(e){O2();for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var _u={},g3=new WeakMap;function ls(e,t){if(typeof e=="object"&&e!==null){var n=g3.get(e);typeof n!="string"&&(n=J5(t),g3.set(e,n))}else n=J5(t);return{value:e,source:t,stack:n}}var xu=[],wu=0,ey=null,ty=0,rs=[],is=0,Zl=null,qa=1,Ya="";function Ol(e,t){xu[wu++]=ty,xu[wu++]=ey,ey=e,ty=t}function xN(e,t,n){rs[is++]=qa,rs[is++]=Ya,rs[is++]=Zl,Zl=e;var r=qa;e=Ya;var i=32-ps(r)-1;r&=~(1<<i),n+=1;var s=32-ps(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qa=1<<32-ps(t)+i|n<<i|r,Ya=s+e}else qa=1<<s|n<<i|r,Ya=e}function i2(e){e.return!==null&&(Ol(e,1),xN(e,1,0))}function s2(e){for(;e===ey;)ey=xu[--wu],xu[wu]=null,ty=xu[--wu],xu[wu]=null;for(;e===Zl;)Zl=rs[--is],rs[is]=null,Ya=rs[--is],rs[is]=null,qa=rs[--is],rs[is]=null}var Wr=null,_r=null,_t=!1,Ds=null,ha=!1,U_=Error(se(519));function gc(e){var t=Error(se(418,""));throw rp(ls(t,e)),U_}function m3(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Dr]=e,t[ei]=r,n){case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":case"embed":Vt("load",t);break;case"video":case"audio":for(n=0;n<op.length;n++)Vt(op[n],t);break;case"source":Vt("error",t);break;case"img":case"image":case"link":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"input":Vt("invalid",t),nN(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),X0(t);break;case"select":Vt("invalid",t);break;case"textarea":Vt("invalid",t),iN(t,r.value,r.defaultValue,r.children),X0(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||e6(t.textContent,n)?(r.onScroll!=null&&Vt("scroll",t),r.onScrollEnd!=null&&Vt("scrollend",t),r.onClick!=null&&(t.onclick=tA),t=!0):t=!1,t||gc(e)}function y3(e){for(Wr=e.return;Wr;)switch(Wr.tag){case 3:case 27:ha=!0;return;case 5:case 13:ha=!1;return;default:Wr=Wr.return}}function vf(e){if(e!==Wr)return!1;if(!_t)return y3(e),_t=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||mx(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&_r&&gc(e),y3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){_r=Qs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}_r=null}}else _r=Wr?Qs(e.stateNode.nextSibling):null;return!0}function Fp(){_r=Wr=null,_t=!1}function rp(e){Ds===null?Ds=[e]:Ds.push(e)}var Nm=Error(se(460)),wN=Error(se(474)),H_={then:function(){}};function v3(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(){}function EN(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wg,Wg),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Nm?Error(se(483)):e;default:if(typeof t.status=="string")t.then(Wg,Wg);else{if(e=zt,e!==null&&100<e.shellSuspendCounter)throw Error(se(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Nm?Error(se(483)):e}throw dh=t,Nm}}var dh=null;function A3(){if(dh===null)throw Error(se(459));var e=dh;return dh=null,e}var zu=null,ip=0;function Xg(e){var t=ip;return ip+=1,zu===null&&(zu=[]),EN(zu,e,t)}function Af(e,t,n,r){e=r.props.ref,n.ref=e!==void 0?e:null}function Jg(e,t){throw t.$$typeof===iAe?Error(se(525)):(e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function b3(e){var t=e._init;return t(e._payload)}function TN(e){function t(y,b){if(e){var A=y.deletions;A===null?(y.deletions=[b],y.flags|=16):A.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y){for(var b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(y,b){return y=Xo(y,b),y.index=0,y.sibling=null,y}function s(y,b,A){return y.index=A,e?(A=y.alternate,A!==null?(A=A.index,A<b?(y.flags|=33554434,b):A):(y.flags|=33554434,b)):(y.flags|=1048576,b)}function a(y){return e&&y.alternate===null&&(y.flags|=33554434),y}function o(y,b,A,_){return b===null||b.tag!==6?(b=n1(A,y.mode,_),b.return=y,b):(b=i(b,A),b.return=y,b)}function l(y,b,A,_){var x=A.type;return x===Df?u(y,b,A.props.children,_,A.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Il&&b3(x)===b.type)?(_=i(b,A.props),Af(y,b,_,A),_.return=y,_):(_=Um(A.type,A.key,A.props,null,y.mode,_),Af(y,b,_,A),_.return=y,_)}function c(y,b,A,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=r1(A,y.mode,_),b.return=y,b):(b=i(b,A.children||[]),b.return=y,b)}function u(y,b,A,_,x){return b===null||b.tag!==7?(b=tc(A,y.mode,_,x),b.return=y,b):(b=i(b,A),b.return=y,b)}function d(y,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=n1(""+b,y.mode,A),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gg:return A=Um(b.type,b.key,b.props,null,y.mode,A),Af(y,null,A,b),A.return=y,A;case qg:return b=r1(b,y.mode,A),b.return=y,b;case Il:var _=b._init;return d(y,_(b._payload),A)}if(Bf(b)||gf(b))return b=tc(b,y.mode,A,null),b.return=y,b;if(typeof b.then=="function")return d(y,Xg(b),A);if(b.$$typeof===$o)return d(y,tm(y,b,A),A);Jg(y,b)}return null}function h(y,b,A,_){var x=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return x!==null?null:o(y,b,""+A,_);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Gg:return A.key===x?l(y,b,A,_):null;case qg:return A.key===x?c(y,b,A,_):null;case Il:return x=A._init,h(y,b,x(A._payload),_)}if(Bf(A)||gf(A))return x!==null?null:u(y,b,A,_,null);if(typeof A.then=="function")return h(y,b,Xg(A),_);if(A.$$typeof===$o)return h(y,b,tm(y,A,_),_);Jg(y,A)}return null}function p(y,b,A,_,x){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return y=y.get(A)||null,o(b,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gg:return y=y.get(_.key===null?A:_.key)||null,l(b,y,_,x);case qg:return y=y.get(_.key===null?A:_.key)||null,c(b,y,_,x);case Il:var E=_._init;return p(y,b,A,E(_._payload),x)}if(Bf(_)||gf(_))return y=y.get(A)||null,u(b,y,_,x,null);if(typeof _.then=="function")return p(y,b,A,Xg(_),x);if(_.$$typeof===$o)return p(y,b,A,tm(b,_,x),x);Jg(b,_)}return null}function g(y,b,A,_){for(var x=null,E=null,T=b,k=b=0,w=null;T!==null&&k<A.length;k++){T.index>k?(w=T,T=null):w=T.sibling;var O=h(y,T,A[k],_);if(O===null){T===null&&(T=w);break}e&&T&&O.alternate===null&&t(y,T),b=s(O,b,k),E===null?x=O:E.sibling=O,E=O,T=w}if(k===A.length)return n(y,T),_t&&Ol(y,k),x;if(T===null){for(;k<A.length;k++)T=d(y,A[k],_),T!==null&&(b=s(T,b,k),E===null?x=T:E.sibling=T,E=T);return _t&&Ol(y,k),x}for(T=r(T);k<A.length;k++)w=p(T,y,k,A[k],_),w!==null&&(e&&w.alternate!==null&&T.delete(w.key===null?k:w.key),b=s(w,b,k),E===null?x=w:E.sibling=w,E=w);return e&&T.forEach(function(B){return t(y,B)}),_t&&Ol(y,k),x}function m(y,b,A,_){if(A==null)throw Error(se(151));for(var x=null,E=null,T=b,k=b=0,w=null,O=A.next();T!==null&&!O.done;k++,O=A.next(),null){T.index>k?(w=T,T=null):w=T.sibling;var B=h(y,T,O.value,_);if(B===null){T===null&&(T=w);break}e&&T&&B.alternate===null&&t(y,T),b=s(B,b,k),E===null?x=B:E.sibling=B,E=B,T=w}if(O.done)return n(y,T),_t&&Ol(y,k),x;if(T===null){for(;!O.done;k++,O=A.next(),null)O=d(y,O.value,_),O!==null&&(b=s(O,b,k),E===null?x=O:E.sibling=O,E=O);return _t&&Ol(y,k),x}for(T=r(T);!O.done;k++,O=A.next(),null)O=p(T,y,k,O.value,_),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?k:O.key),b=s(O,b,k),E===null?x=O:E.sibling=O,E=O);return e&&T.forEach(function(F){return t(y,F)}),_t&&Ol(y,k),x}function S(y,b,A,_){if(typeof A=="object"&&A!==null&&A.type===Df&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Gg:e:{for(var x=A.key,E=b;E!==null;){if(E.key===x){if(x=A.type,x===Df){if(E.tag===7){n(y,E.sibling),b=i(E,A.props.children),b.return=y,y=b;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Il&&b3(x)===E.type){n(y,E.sibling),b=i(E,A.props),Af(y,E,b,A),b.return=y,y=b;break e}n(y,E);break}else t(y,E);E=E.sibling}A.type===Df?(b=tc(A.props.children,y.mode,_,A.key),b.return=y,y=b):(_=Um(A.type,A.key,A.props,null,y.mode,_),Af(y,b,_,A),_.return=y,y=_)}return a(y);case qg:e:{for(E=A.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){n(y,b.sibling),b=i(b,A.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else t(y,b);b=b.sibling}b=r1(A,y.mode,_),b.return=y,y=b}return a(y);case Il:return E=A._init,S(y,b,E(A._payload),_)}if(Bf(A))return g(y,b,A,_);if(gf(A)){if(E=gf(A),typeof E!="function")throw Error(se(150));return A=E.call(A),m(y,b,A,_)}if(typeof A.then=="function")return S(y,b,Xg(A),_);if(A.$$typeof===$o)return S(y,b,tm(y,A,_),_);Jg(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,A),b.return=y,y=b):(n(y,b),b=n1(A,y.mode,_),b.return=y,y=b),a(y)):n(y,b)}return function(y,b,A,_){return ip=0,y=S(y,b,A,_),zu=null,y}}var mc=TN(!0),CN=TN(!1),gd=Ca(null),ny=Ca(0);function S3(e,t){e=ho,dn(ny,e),dn(gd,t),ho=e|t.baseLanes}function G_(){dn(ny,ho),dn(gd,gd.current)}function a2(){ho=ny.current,hr(gd),hr(ny)}var wa=Ca(null),Sa=null;function Oo(e){var t=e.alternate;dn(er,er.current&1),dn(wa,e),Sa===null&&(t===null||gd.current!==null||t.memoizedState!==null)&&(Sa=e)}function kN(e){if(e.tag===22){if(dn(er,er.current),dn(wa,e),Sa===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Sa=e)}}else jo()}function jo(){dn(er,er.current),dn(wa,wa.current)}function Ka(e){hr(wa),Sa===e&&(Sa=null),hr(er)}var er=Ca(0);function ry(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ybe=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},vbe=tr.unstable_scheduleCallback,Abe=tr.unstable_NormalPriority,Jn={$$typeof:$o,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function o2(){return{controller:new ybe,data:new Map,refCount:0}}function $p(e){e.refCount--,e.refCount===0&&vbe(Abe,function(){e.controller.abort()})}var fh=null,q_=0,md=0,Uu=null;function bbe(e,t){if(fh===null){var n=fh=[];q_=0,md=j2(),Uu={status:"pending",value:void 0,then:function(r){n.push(r)}}}return q_++,t.then(_3,_3),t}function _3(){if(fh!==null&&--q_===0){Uu!==null&&(Uu.status="fulfilled");var e=fh;fh=null,md=0,Uu=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Sbe(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}function l2(){var e=at.T;return e!==null&&e._callbacks.add(_be),e}function _be(e,t){bbe(e,t)}function MN(e,t){e._callbacks.forEach(function(n){return n(e,t)})}var ec=Ca(null);function c2(){var e=ec.current;return e!==null?e:zt.pooledCache}function Lm(e,t){t===null?dn(ec,ec.current):dn(ec,t.pool)}function RN(){var e=c2();return e===null?null:{parent:Jn._currentValue,pool:e}}var dl=0,et=null,$t=null,Hn=null,iy=!1,Hu=!1,yc=!1,sy=0,sp=0,Gu=null,xbe=0;function jn(){throw Error(se(321))}function u2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bs(e[n],t[n]))return!1;return!0}function d2(e,t,n,r,i,s){return dl=s,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,at.H=e===null||e.memoizedState===null?jc:Vc,yc=!1,e=n(r,i),yc=!1,Hu&&(e=ON(t,n,r,i)),IN(),e}function IN(){at.H=Ea;var e=$t!==null&&$t.next!==null;if(dl=0,Hn=$t=et=null,iy=!1,sp=0,Gu=null,e)throw Error(se(300))}function ON(e,t,n,r){et=e;var i=0;do{if(Hu&&(Gu=null),sp=0,Hu=!1,25<=i)throw Error(se(301));i+=1,Hn=$t=null,e.updateQueue=null,at.H=Pc;var s=t(n,r)}while(Hu);return s}function wbe(){var e=at.H,t=e.useState()[0];return t=typeof t.then=="function"?zp(t):t,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(et.flags|=1024),t}function f2(){var e=sy!==0;return sy=0,e}function h2(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function p2(e){if(iy){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}iy=!1}dl=0,Hn=$t=et=null,Hu=!1,sp=sy=0,Gu=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?et.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function Qn(){if($t===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=Hn===null?et.memoizedState:Hn.next;if(t!==null)Hn=t,$t=e;else{if(e===null)throw et.alternate===null?Error(se(467)):Error(se(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Hn===null?et.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}var Yv;Yv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function zp(e){var t=sp;return sp+=1,Gu===null&&(Gu=[]),e=EN(Gu,e,t),et.alternate===null&&(Hn===null?et.memoizedState===null:Hn.next===null)&&(at.H=jc),e}function Kv(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zp(e);if(e.$$typeof===$o)return Br(e)}throw Error(se(438,String(e)))}function g2(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=et.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Yv(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=lAe;return t.index++,n}function fo(e,t){return typeof t=="function"?t(e):t}function Fm(e){var t=Qn();return m2(t,$t,e)}function m2(e,t,n){var r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var o=a=null,l=null,c=t,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(yt&d)===d:(dl&d)===d){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===md&&(u=!0);else if((dl&h)===h){c=c.next,h===md&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,et.lanes|=h,po|=h;d=c.action,yc&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,a=s):l=l.next=h,et.lanes|=d,po|=d;c=c.next}while(c!==null&&c!==t);if(l===null?a=s:l.next=o,!bs(s,e.memoizedState)&&(wr=!0,u&&(n=Uu,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Hb(e){var t=Qn(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);bs(s,t.memoizedState)||(wr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function jN(e,t,n){var r=et,i=Qn(),s=_t;if(s){if(n===void 0)throw Error(se(407));n=n()}else n=t();var a=!bs(($t||i).memoizedState,n);if(a&&(i.memoizedState=n,wr=!0),i=i.queue,y2(DN.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,yd(9,PN.bind(null,r,i,n,t),{destroy:void 0},null),zt===null)throw Error(se(349));s||dl&60||VN(r,t,n)}return n}function VN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=Yv(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PN(e,t,n,r){t.value=n,t.getSnapshot=r,BN(t)&&NN(e)}function DN(e,t,n){return n(function(){BN(t)&&NN(e)})}function BN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bs(e,n)}catch{return!0}}function NN(e){var t=ul(e,2);t!==null&&ti(t,e,2)}function Y_(e){var t=oi();if(typeof e=="function"){var n=e;e=n(),yc&&(zo(!0),n(),zo(!1))}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function LN(e,t,n,r){return e.baseState=n,m2(e,$t,typeof r=="function"?r:fo)}function Ebe(e,t,n,r,i){if(Wv(e))throw Error(se(485));e=t.pending,e===null?(e={payload:i,next:null},e.next=t.pending=e,FN(t,n,r,i)):t.pending=e.next={payload:i,next:e.next}}function FN(e,t,n,r){var i=e.action,s=e.state,a=at.T,o={_callbacks:new Set};at.T=o,t(!0);try{var l=i(s,r);l!==null&&typeof l=="object"&&typeof l.then=="function"?(MN(o,l),l.then(function(c){e.state=c,Zg(e,t,n)},function(){return Zg(e,t,n)}),n(l)):(n(l),e.state=l,Zg(e,t,n))}catch(c){n({then:function(){},status:"rejected",reason:c}),Zg(e,t,n)}finally{at.T=a}}function Zg(e,t,n){var r=e.pending;if(r!==null){var i=r.next;i===r?e.pending=null:(i=i.next,r.next=i,FN(e,t,n,i.payload))}}function $N(e,t){return t}function zN(e,t){if(_t){var n=zt.formState;if(n!==null){e:{var r=et;if(_t){if(_r){t:{for(var i=_r,s=ha;i.nodeType!==8;){if(!s){i=null;break t}if(i=Qs(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){_r=Qs(i.nextSibling),r=i.data==="F!";break e}}gc(r)}r=!1}r&&(t=n[0])}}return n=oi(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$N,lastRenderedState:t},n.queue=r,n=qu.bind(null,et,r),r.dispatch=n,r=Y_(!1),s=S2.bind(null,et,!1,r.queue),r=oi(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Ebe.bind(null,et,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function UN(e){var t=Qn();return HN(t,$t,e)}function HN(e,t,n){t=m2(e,t,$N)[0],e=Fm(fo)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?zp(t):t;var r=Qn(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(et.flags|=2048,yd(9,Tbe.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function Tbe(e,t){e.action=t}function GN(e){var t=Qn(),n=$t;if(n!==null)return HN(t,n,e);Qn(),t=t.memoizedState,n=Qn();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function yd(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},t=et.updateQueue,t===null?(t=Yv(),et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qN(){return Qn().memoizedState}function $m(e,t,n,r){var i=oi();et.flags|=e,i.memoizedState=yd(1|t,n,{destroy:void 0},r===void 0?null:r)}function Qv(e,t,n,r){var i=Qn();r=r===void 0?null:r;var s=i.memoizedState.inst;$t!==null&&r!==null&&u2(r,$t.memoizedState.deps)?i.memoizedState=yd(t,n,s,r):(et.flags|=e,i.memoizedState=yd(1|t,n,s,r))}function x3(e,t){$m(8390656,8,e,t)}function y2(e,t){Qv(2048,8,e,t)}function YN(e,t){return Qv(4,2,e,t)}function KN(e,t){return Qv(4,4,e,t)}function QN(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WN(e,t,n){n=n!=null?n.concat([e]):null,Qv(4,4,QN.bind(null,t,e),n)}function v2(){}function XN(e,t){var n=Qn();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&u2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function JN(e,t){var n=Qn();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&u2(t,r[1])?r[0]:(r=e(),yc&&(zo(!0),e(),zo(!1)),n.memoizedState=[r,t],r)}function A2(e,t,n){return n===void 0||dl&1073741824?e.memoizedState=t:(e.memoizedState=n,e=$L(),et.lanes|=e,po|=e,n)}function ZN(e,t,n,r){return bs(n,t)?n:gd.current!==null?(e=A2(e,n,r),bs(e,t)||(wr=!0),e):dl&42?(e=$L(),et.lanes|=e,po|=e,t):(wr=!0,e.memoizedState=n)}function eL(e,t,n,r,i){var s=rn.p;rn.p=s!==0&&8>s?s:8;var a=at.T,o={_callbacks:new Set};at.T=o,S2(e,!1,t,n);try{var l=i();if(l!==null&&typeof l=="object"&&typeof l.then=="function"){MN(o,l);var c=Sbe(l,r);qu(e,t,c)}else qu(e,t,r)}catch(u){qu(e,t,{then:function(){},status:"rejected",reason:u})}finally{rn.p=s,at.T=a}}function Cbe(){}function K_(e,t,n,r){if(e.tag!==5)throw Error(se(476));var i=tL(e).queue;eL(e,i,t,oh,n===null?Cbe:function(){return nL(e),n(r)})}function tL(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oh,baseState:oh,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:oh},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function nL(e){l2();var t=tL(e).next.queue;qu(e,t,{})}function b2(){var e=Br(q0);return e!==null?e:oh}function rL(){return Qn().memoizedState}function iL(){return Qn().memoizedState}function kbe(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ro();e=no(n);var r=Wo(t,e,n);r!==null&&(ti(r,t,n),ph(r,t,n)),t={cache:o2()},e.payload=t;return}t=t.return}}function Mbe(e,t,n){var r=ro();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wv(e)?sL(t,n):(n=r2(e,t,n,r),n!==null&&(ti(n,e,r),aL(n,t,r)))}function qu(e,t,n){var r=ro(),i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wv(e))sL(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,bs(o,a)){qv(e,t,i,0),zt===null&&Gv();return}}catch{}finally{}n=r2(e,t,i,r),n!==null&&(ti(n,e,r),aL(n,t,r))}}function S2(e,t,n,r){if(l2(),r={lane:2,revertLane:j2(),action:r,hasEagerState:!1,eagerState:null,next:null},Wv(e)){if(t)throw Error(se(479))}else t=r2(e,n,r,2),t!==null&&ti(t,e,2)}function Wv(e){var t=e.alternate;return e===et||t!==null&&t===et}function sL(e,t){Hu=iy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aL(e,t,n){if(n&4194176){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,QB(e,n)}}var Ea={readContext:Br,use:Kv,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn};Ea.useCacheRefresh=jn;Ea.useMemoCache=jn;Ea.useHostTransitionStatus=jn;Ea.useFormState=jn;Ea.useActionState=jn;Ea.useOptimistic=jn;var jc={readContext:Br,use:Kv,useCallback:function(e,t){return oi().memoizedState=[e,t===void 0?null:t],e},useContext:Br,useEffect:x3,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,$m(4194308,4,QN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $m(4194308,4,e,t)},useInsertionEffect:function(e,t){$m(4,2,e,t)},useMemo:function(e,t){var n=oi();t=t===void 0?null:t;var r=e();return yc&&(zo(!0),e(),zo(!1)),n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=oi();if(n!==void 0){var i=n(t);yc&&(zo(!0),n(t),zo(!1))}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Mbe.bind(null,et,e),[r.memoizedState,e]},useRef:function(e){var t=oi();return e={current:e},t.memoizedState=e},useState:function(e){e=Y_(e);var t=e.queue,n=qu.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:v2,useDeferredValue:function(e,t){var n=oi();return A2(n,e,t)},useTransition:function(){var e=Y_(!1);return e=eL.bind(null,et,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=et,i=oi();if(_t){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),zt===null)throw Error(se(349));yt&60||VN(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,x3(DN.bind(null,r,s,e),[e]),r.flags|=2048,yd(9,PN.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=oi(),t=zt.identifierPrefix;if(_t){var n=Ya,r=qa;n=(r&~(1<<32-ps(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xbe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return oi().memoizedState=kbe.bind(null,et)}};jc.useMemoCache=g2;jc.useHostTransitionStatus=b2;jc.useFormState=zN;jc.useActionState=zN;jc.useOptimistic=function(e){var t=oi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=S2.bind(null,et,!0,n),n.dispatch=t,[e,t]};var Vc={readContext:Br,use:Kv,useCallback:XN,useContext:Br,useEffect:y2,useImperativeHandle:WN,useInsertionEffect:YN,useLayoutEffect:KN,useMemo:JN,useReducer:Fm,useRef:qN,useState:function(){return Fm(fo)},useDebugValue:v2,useDeferredValue:function(e,t){var n=Qn();return ZN(n,$t.memoizedState,e,t)},useTransition:function(){var e=Fm(fo)[0],t=Qn().memoizedState;return[typeof e=="boolean"?e:zp(e),t]},useSyncExternalStore:jN,useId:rL};Vc.useCacheRefresh=iL;Vc.useMemoCache=g2;Vc.useHostTransitionStatus=b2;Vc.useFormState=UN;Vc.useActionState=UN;Vc.useOptimistic=function(e,t){var n=Qn();return LN(n,$t,e,t)};var Pc={readContext:Br,use:Kv,useCallback:XN,useContext:Br,useEffect:y2,useImperativeHandle:WN,useInsertionEffect:YN,useLayoutEffect:KN,useMemo:JN,useReducer:Hb,useRef:qN,useState:function(){return Hb(fo)},useDebugValue:v2,useDeferredValue:function(e,t){var n=Qn();return $t===null?A2(n,e,t):ZN(n,$t.memoizedState,e,t)},useTransition:function(){var e=Hb(fo)[0],t=Qn().memoizedState;return[typeof e=="boolean"?e:zp(e),t]},useSyncExternalStore:jN,useId:rL};Pc.useCacheRefresh=iL;Pc.useMemoCache=g2;Pc.useHostTransitionStatus=b2;Pc.useFormState=GN;Pc.useActionState=GN;Pc.useOptimistic=function(e,t){var n=Qn();return $t!==null?LN(n,$t,e,t):(n.baseState=e,[e,n.queue.dispatch])};var ay=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function oL(e){ay(e)}function lL(e){console.error(e)}function cL(e){ay(e)}function oy(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function w3(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Q_(e,t,n){return n=no(n),n.tag=3,n.payload={element:null},n.callback=function(){oy(e,t)},n}function uL(e){return e=no(e),e.tag=3,e}function dL(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){w3(t,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){w3(t,n,r),typeof i!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function Rbe(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=wa.current,n!==null){switch(n.tag){case 13:return Sa===null?ux():n.alternate===null&&Cn===0&&(Cn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===H_?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),i1(e,r,i)),!1;case 22:return n.flags|=65536,r===H_?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),i1(e,r,i)),!1}throw Error(se(435,n.tag))}return i1(e,r,i),ux(),!1}if(_t)return t=wa.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==U_&&(e=Error(se(422),{cause:r}),rp(ls(e,n)))):(r!==U_&&(t=Error(se(423),{cause:r}),rp(ls(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=ls(r,n),i=Q_(e.stateNode,r,i),Wb(e,i),Cn!==4&&(Cn=2)),!1;var s=Error(se(520),{cause:r});if(s=ls(s,n),vh===null?vh=[s]:vh.push(s),Cn!==4&&(Cn=2),t===null)return!0;r=ls(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Q_(n.stateNode,r,e),Wb(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Jo===null||!Jo.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=uL(i),dL(i,e,n,r),Wb(n,i),!1}n=n.return}while(n!==null);return!1}var fL=Error(se(461)),wr=!1;function vr(e,t,n,r){t.child=e===null?CN(t,null,n,r):mc(t,e.child,n,r)}function E3(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return vc(t,i),r=d2(e,t,n,a,s,i),o=f2(),e!==null&&!wr?(h2(e,t,i),Ta(e,t,i)):(_t&&o&&i2(t),t.flags|=1,vr(e,t,r,i),t.child)}function T3(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!C2(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,hL(e,t,s,r,i)):(e=Um(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:np,n(a,r)&&e.ref===t.ref)return Ta(e,t,i)}return t.flags|=1,e=Xo(s,r),e.ref=t.ref,e.return=t,t.child=e}function hL(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(np(s,r)&&e.ref===t.ref)if(wr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(wr=!0);else return t.lanes=e.lanes,Ta(e,t,i)}return W_(e,t,n,r,i)}function pL(e,t,n){var r=t.pendingProps,i=r.children,s=(t.stateNode._pendingVisibility&2)!==0,a=e!==null?e.memoizedState:null;if(hh(e,t),r.mode==="hidden"||s){if(t.flags&128){if(n=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~n}else t.childLanes=0,t.child=null;return C3(e,t,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lm(t,a!==null?a.cachePool:null),a!==null?S3(t,a):G_(),kN(t);else return t.lanes=t.childLanes=536870912,C3(e,t,a!==null?a.baseLanes|n:n)}else a!==null?(Lm(t,a.cachePool),S3(t,a),jo(),t.memoizedState=null):(e!==null&&Lm(t,null),G_(),jo());return vr(e,t,i,n),t.child}function C3(e,t,n){var r=c2();return r=r===null?null:{parent:Jn._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Lm(t,null),G_(),kN(t),null}function hh(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(se(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function W_(e,t,n,r,i){return vc(t,i),n=d2(e,t,n,r,void 0,i),r=f2(),e!==null&&!wr?(h2(e,t,i),Ta(e,t,i)):(_t&&r&&i2(t),t.flags|=1,vr(e,t,n,i),t.child)}function k3(e,t,n,r,i,s){return vc(t,s),n=ON(t,r,n,i),IN(),r=f2(),e!==null&&!wr?(h2(e,t,s),Ta(e,t,s)):(_t&&r&&i2(t),t.flags|=1,vr(e,t,n,s),t.child)}function M3(e,t,n,r,i){if(vc(t,i),t.stateNode===null){var s=_u,a=n.contextType;typeof a=="object"&&a!==null&&(s=Br(a)),s=new n(r,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=rx,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=r,s.state=t.memoizedState,s.refs={},x2(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Br(a):_u,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Xb(t,n,a,r),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&rx.enqueueReplaceState(s,s.state,null),mh(t,r,s,i),gh(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,l=Ac(n,o);s.props=l;var c=s.context,u=n.contextType;a=_u,typeof u=="object"&&u!==null&&(a=Br(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&j3(t,s,r,a),Io=!1;var h=t.memoizedState;s.state=h,mh(t,r,s,i),gh(),c=t.memoizedState,o||h!==c||Io?(typeof d=="function"&&(Xb(t,n,d,r),c=t.memoizedState),(l=Io||O3(t,n,l,r,h,c,a))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,tx(e,t),a=t.memoizedProps,u=Ac(n,a),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=_u,typeof c=="object"&&c!==null&&(l=Br(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&j3(t,s,r,l),Io=!1,h=t.memoizedState,s.state=h,mh(t,r,s,i),gh();var p=t.memoizedState;a!==d||h!==p||Io?(typeof o=="function"&&(Xb(t,n,o,r),p=t.memoizedState),(u=Io||O3(t,n,u,r,h,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,hh(e,t),r=(t.flags&128)!==0,s||r?(s=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&r?(t.child=mc(t,e.child,null,i),t.child=mc(t,null,n,i)):vr(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Ta(e,t,i),e}function R3(e,t,n,r){return Fp(),t.flags|=256,vr(e,t,n,r),t.child}var Gb={dehydrated:null,treeContext:null,retryLane:0};function qb(e){return{baseLanes:e,cachePool:RN()}}function Yb(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=fi),e}function gL(e,t,n){var r=t.pendingProps,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(er.current&2)!==0),a&&(i=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(_t){if(i?Oo(t):jo(),_t){var o=_r,l;if(l=o){e:{for(l=o,o=ha;l.nodeType!==8;){if(!o){o=null;break e}if(l=Qs(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:Zl!==null?{id:qa,overflow:Ya}:null,retryLane:536870912},l=Gs(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Wr=t,_r=null,l=!0):l=!1}l||gc(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?t.lanes=16:t.lanes=536870912,null;Ka(t)}return o=r.children,r=r.fallback,i?(jo(),i=t.mode,o=J_({mode:"hidden",children:o},i),r=tc(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,i=t.child,i.memoizedState=qb(n),i.childLanes=Yb(e,a,n),t.memoizedState=Gb,r):(Oo(t),X_(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)t.flags&256?(Oo(t),t.flags&=-257,t=Kb(e,t,n)):t.memoizedState!==null?(jo(),t.child=e.child,t.flags|=128,t=null):(jo(),i=r.fallback,o=t.mode,r=J_({mode:"visible",children:r.children},o),i=tc(i,o,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,mc(t,e.child,null,n),r=t.child,r.memoizedState=qb(n),r.childLanes=Yb(e,a,n),t.memoizedState=Gb,t=i);else if(Oo(t),o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(se(419)),r.stack="",r.digest=a,rp({value:r,source:null,stack:null}),t=Kb(e,t,n)}else if(a=(n&e.childLanes)!==0,wr||a){if(a=zt,a!==null){if(r=n&-n,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane)throw l.retryLane=r,ul(e,r),ti(a,e,r),fL}o.data==="$?"||ux(),t=Kb(e,t,n)}else o.data==="$?"?(t.flags|=128,t.child=e.child,t=qbe.bind(null,e),o._reactRetry=t,t=null):(e=l.treeContext,_r=Qs(o.nextSibling),Wr=t,_t=!0,Ds=null,ha=!1,e!==null&&(rs[is++]=qa,rs[is++]=Ya,rs[is++]=Zl,qa=e.id,Ya=e.overflow,Zl=t),t=X_(t,r.children),t.flags|=4096);return t}return i?(jo(),i=r.fallback,o=t.mode,l=e.child,c=l.sibling,r=Xo(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&31457280,c!==null?i=Xo(c,i):(i=tc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o===null?o=qb(n):(l=o.cachePool,l!==null?(c=Jn._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=RN(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=Yb(e,a,n),t.memoizedState=Gb,r):(Oo(t),n=e.child,e=n.sibling,n=Xo(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function X_(e,t){return t=J_({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function J_(e,t){return LL(e,t,0,null)}function Kb(e,t,n){return mc(t,e.child,null,n),e=X_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I3(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ex(e.return,t,n)}function Qb(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mL(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vr(e,t,r.children,n),r=er.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I3(e,n,t);else if(e.tag===19)I3(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(dn(er,r),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ry(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qb(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ry(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qb(t,!0,n,null,s);break;case"together":Qb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),po|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=Xo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ibe(e,t,n){switch(t.tag){case 3:Y0(t,t.stateNode.containerInfo),Vo(t,Jn,e.memoizedState.cache),Fp();break;case 27:case 5:j_(t);break;case 4:Y0(t,t.stateNode.containerInfo);break;case 10:Vo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Oo(t),t.flags|=128,null):n&t.child.childLanes?gL(e,t,n):(Oo(t),e=Ta(e,t,n),e!==null?e.sibling:null);Oo(t);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mL(e,t,n);t.flags|=128}var i=t.memoizedState;if(i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dn(er,er.current),r)break;return null;case 22:case 23:return t.lanes=0,pL(e,t,n);case 24:Vo(t,Jn,e.memoizedState.cache)}return Ta(e,t,n)}function yL(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)wr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wr=!1,Ibe(e,t,n);wr=!!(e.flags&131072)}else wr=!1,_t&&t.flags&1048576&&xN(t,ty,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,typeof r=="function")C2(r)?(e=Ac(r,e),t.tag=1,t=M3(null,t,r,e,n)):(t.tag=0,t=W_(null,t,r,e,n));else{if(r!=null){if(i=r.$$typeof,i===BB){t.tag=11,t=E3(null,t,r,e,n);break e}else if(i===NB){t.tag=14,t=T3(null,t,r,e,n);break e}}throw Error(se(306,r,""))}}return t;case 0:return W_(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Ac(r,t.pendingProps),M3(e,t,r,i,n);case 3:e:{if(Y0(t,t.stateNode.containerInfo),e===null)throw Error(se(387));var s=t.pendingProps;i=t.memoizedState,r=i.element,tx(e,t),mh(t,s,null,n);var a=t.memoizedState;if(s=a.cache,Vo(t,Jn,s),s!==i.cache&&em(t,Jn,n),gh(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=R3(e,t,s,n);break e}else if(s!==r){r=ls(Error(se(424)),t),rp(r),t=R3(e,t,s,n);break e}else for(_r=Qs(t.stateNode.containerInfo.firstChild),Wr=t,_t=!0,Ds=null,ha=!0,n=CN(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fp(),s===r){t=Ta(e,t,n);break e}vr(e,t,s,n)}t=t.child}return t;case 26:return hh(e,t),n=t.memoizedState=v1e(t.type,e===null?null:e.memoizedProps,t.pendingProps),e!==null||_t||n!==null||(n=t.type,e=t.pendingProps,r=gy(Qo.current).createElement(n),r[Dr]=t,r[ei]=e,Tr(r,n,e),fr(r),t.stateNode=r),null;case 27:return j_(t),e===null&&_t&&(r=t.stateNode=r6(t.type,t.pendingProps,Qo.current),Wr=t,ha=!0,_r=Qs(r.firstChild)),r=t.pendingProps.children,e!==null||_t?vr(e,t,r,n):t.child=mc(t,null,r,n),hh(e,t),t.child;case 5:return e===null&&_t&&((i=r=_r)&&(r=o1e(r,t.type,t.pendingProps,ha),r!==null?(t.stateNode=r,Wr=t,_r=Qs(r.firstChild),ha=!1,i=!0):i=!1),i||gc(t)),j_(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,r=s.children,mx(i,s)?r=null:a!==null&&mx(i,a)&&(t.flags|=32),t.memoizedState!==null&&(i=d2(e,t,wbe,null,null,n),q0._currentValue=i,wr&&e!==null&&e.memoizedState.memoizedState!==i&&em(t,q0,n)),hh(e,t),vr(e,t,r,n),t.child;case 6:return e===null&&_t&&((e=n=_r)&&(n=l1e(n,t.pendingProps,ha),n!==null?(t.stateNode=n,Wr=t,_r=null,e=!0):e=!1),e||gc(t)),null;case 13:return gL(e,t,n);case 4:return Y0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mc(t,null,r,n):vr(e,t,r,n),t.child;case 11:return E3(e,t,t.type,t.pendingProps,n);case 7:return vr(e,t,t.pendingProps,n),t.child;case 8:return vr(e,t,t.pendingProps.children,n),t.child;case 12:return vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type,i=t.pendingProps,s=t.memoizedProps,a=i.value,Vo(t,r,a),s!==null)if(bs(s.value,a)){if(s.children===i.children){t=Ta(e,t,n);break e}}else em(t,r,n);vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type._context,r=t.pendingProps.children,vc(t,n),i=Br(i),r=r(i),t.flags|=1,vr(e,t,r,n),t.child;case 14:return T3(e,t,t.type,t.pendingProps,n);case 15:return hL(e,t,t.type,t.pendingProps,n);case 19:return mL(e,t,n);case 22:return pL(e,t,n);case 24:return vc(t,n),r=Br(Jn),e===null?(i=c2(),i===null&&(i=zt,s=o2(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},x2(t),Vo(t,Jn,i)):(e.lanes&n&&(tx(e,t),mh(t,null,null,n),gh()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Vo(t,Jn,r)):(r=s.cache,Vo(t,Jn,r),r!==i.cache&&em(t,Jn,n))),vr(e,t,t.pendingProps.children,n),t.child}throw Error(se(156,t.tag))}var Z_=Ca(null),Xv=null,Eu=null,_2=null;function Jv(){_2=Eu=Xv=null}function Vo(e,t,n){dn(Z_,t._currentValue),t._currentValue=n}function to(e){e._currentValue=Z_.current,hr(Z_)}function ex(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function em(e,t,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null)for(var s=r.child,a=i.firstContext;a!==null;){if(a.context===t){if(r.tag===1){a=no(n&-n),a.tag=2;var o=r.updateQueue;if(o!==null){o=o.shared;var l=o.pending;l===null?a.next=a:(a.next=l.next,l.next=a),o.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),ex(r.return,n,e),i.lanes|=n;break}a=a.next}else if(r.tag===10)s=r.type===e.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(se(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),ex(s,n,e),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function vc(e,t){Xv=e,_2=Eu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wr=!0),e.firstContext=null)}function Br(e){return vL(Xv,e)}function tm(e,t,n){return Xv===null&&vc(e,n),vL(e,t)}function vL(e,t){var n=t._currentValue;if(_2!==t)if(t={context:t,memoizedValue:n,next:null},Eu===null){if(e===null)throw Error(se(308));Eu=t,e.dependencies={lanes:0,firstContext:t}}else Eu=Eu.next=t;return n}var Io=!1;function x2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function no(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Z0(e),_N(e,null,n),t}return qv(e,r,t,n),Z0(e)}function ph(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,QB(e,n)}}function Wb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nx=!1;function gh(){if(nx){var e=Uu;if(e!==null)throw e}}function mh(e,t,n,r){nx=!1;var i=e.updateQueue;Io=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane&-536870913,p=h!==o.lane;if(p?(yt&h)===h:(r&h)===h){h!==0&&h===md&&(nx=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,m=o;h=t;var S=n;switch(m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(S,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(S,d,h):g,h==null)break e;d=fn({},d,h);break e;case 2:Io=!0}}h=o.callback,h!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,s===null&&(i.shared.lanes=0),po|=a,e.lanes=a,e.memoizedState=d}}function AL(e,t){if(typeof e!="function")throw Error(se(191,e));e.call(t)}function bL(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)AL(n[e],t)}function Xb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rx={isMounted:function(e){return(e=e._reactInternals)?$d(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ro(),i=no(r);i.payload=t,n!=null&&(i.callback=n),t=Wo(e,i,r),t!==null&&(ti(t,e,r),ph(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ro(),i=no(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wo(e,i,r),t!==null&&(ti(t,e,r),ph(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ro(),r=no(n);r.tag=2,t!=null&&(r.callback=t),t=Wo(e,r,n),t!==null&&(ti(t,e,n),ph(t,e,n))}};function O3(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!np(n,r)||!np(i,s):!0}function j3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rx.enqueueReplaceState(t,t.state,null)}function Ac(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=fn({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var Ha=!1,jr=!1,Jb=!1,V3=typeof WeakSet=="function"?WeakSet:Set,ur=null;function SL(e,t){t.props=Ac(e.type,e.memoizedProps),t.state=e.memoizedState,t.componentWillUnmount()}function $l(e,t){try{var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){qt(e,t,s)}}function Ci(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){qt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){qt(e,t,i)}else n.current=null}function ix(e,t,n){try{n()}catch(r){qt(e,t,r)}}var P3=!1;function Obe(e,t){if(px=Ay,e=gN(),t2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(o=a),h===s&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gx={focusedElem:e,selectionRange:n},Ay=!1,ur=t;ur!==null;)if(t=ur,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ur=e;else for(;ur!==null;){t=ur;try{var g=t.alternate,m=t.flags;switch(t.tag){case 0:break;case 11:case 15:break;case 1:if(m&1024&&g!==null){var S=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(Ac(t.type,g.memoizedProps),S);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:if(m&1024){var A=t.stateNode.containerInfo,_=A.nodeType;if(_===9)yx(A);else if(_===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":yx(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(m&1024)throw Error(se(163))}}catch(x){qt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,ur=e;break}ur=t.return}return g=P3,P3=!1,g}function vd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;a!==void 0&&(s.destroy=void 0,ix(t,n,a))}i=i.next}while(i!==r)}}function w2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create,i=n.inst;r=r(),i.destroy=r}n=n.next}while(n!==t)}}function _L(e,t){try{w2(t,e)}catch(n){qt(e,e.return,n)}}function xL(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{bL(t,n)}catch(r){qt(e,e.return,r)}}}function wL(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src&&(r.src=n.src)}}catch(i){qt(e,e.return,i)}}function EL(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Pa(e,n),r&4&&_L(n,5);break;case 1:if(Pa(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){qt(n,n.return,o)}else{var i=Ac(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){qt(n,n.return,o)}}r&64&&xL(n),r&512&&$l(n,n.return);break;case 3:if(Pa(e,n),r&64&&(r=n.updateQueue,r!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{bL(r,e)}catch(o){qt(n,n.return,o)}}break;case 26:Pa(e,n),r&512&&$l(n,n.return);break;case 27:case 5:Pa(e,n),t===null&&r&4&&wL(n),r&512&&$l(n,n.return);break;case 12:Pa(e,n);break;case 13:Pa(e,n),r&4&&ML(e,n);break;case 22:if(i=n.memoizedState!==null||Ha,!i){t=t!==null&&t.memoizedState!==null||jr;var s=Ha,a=jr;Ha=i,(jr=t)&&!a?To(e,n,(n.subtreeFlags&8772)!==0):Pa(e,n),Ha=s,jr=a}r&512&&(n.memoizedProps.mode==="manual"?$l(n,n.return):Ci(n,n.return));break;default:Pa(e,n)}}function TL(e){var t=e.alternate;t!==null&&(e.alternate=null,TL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&QE(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CL(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Zb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tA));else if(r!==4&&r!==27&&(e=e.child,e!==null))for(sx(e,t,n),e=e.sibling;e!==null;)sx(e,t,n),e=e.sibling}function ly(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&r!==27&&(e=e.child,e!==null))for(ly(e,t,n),e=e.sibling;e!==null;)ly(e,t,n),e=e.sibling}var Un=null,Ei=!1;function Va(e,t,n){for(n=n.child;n!==null;)kL(e,t,n),n=n.sibling}function kL(e,t,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Np,n)}catch{}switch(n.tag){case 26:jr||Ci(n,t),Va(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jr||Ci(n,t);var r=Un,i=Ei;for(Un=n.stateNode,Va(e,t,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);QE(n),Un=r,Ei=i;break;case 5:jr||Ci(n,t);case 6:r=Un,i=Ei,Un=null,Va(e,t,n),Un=r,Ei=i,Un!==null&&(Ei?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(Ei?(e=Un,n=n.stateNode,e.nodeType===8?d1(e.parentNode,n):e.nodeType===1&&d1(e,n),fp(e)):d1(Un,n.stateNode));break;case 4:r=Un,i=Ei,Un=n.stateNode.containerInfo,Ei=!0,Va(e,t,n),Un=r,Ei=i;break;case 0:case 11:case 14:case 15:if(!jr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i.tag,a=i.inst,o=a.destroy;o!==void 0&&(s&2||s&4)&&(a.destroy=void 0,ix(n,t,o)),i=i.next}while(i!==r)}Va(e,t,n);break;case 1:if(!jr&&(Ci(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{SL(n,r)}catch(l){qt(n,t,l)}Va(e,t,n);break;case 21:Va(e,t,n);break;case 22:Ci(n,t),jr=(r=jr)||n.memoizedState!==null,Va(e,t,n),jr=r;break;default:Va(e,t,n)}}function ML(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fp(e)}catch(n){qt(t,t.return,n)}}function jbe(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new V3),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new V3),t;default:throw Error(se(435,e.tag))}}function e1(e,t){var n=jbe(e);t.forEach(function(r){var i=Ybe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}function ks(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 27:case 5:Un=o.stateNode,Ei=!1;break e;case 3:Un=o.stateNode.containerInfo,Ei=!0;break e;case 4:Un=o.stateNode.containerInfo,Ei=!0;break e}o=o.return}if(Un===null)throw Error(se(160));kL(s,a,i),Un=null,Ei=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qt(i,t,c)}}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)RL(t,e),t=t.sibling}var Vs=null;function RL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ks(t,e),Ms(e),r&4){try{vd(3,e,e.return),w2(3,e)}catch(p){qt(e,e.return,p)}try{vd(5,e,e.return)}catch(p){qt(e,e.return,p)}}break;case 1:ks(t,e),Ms(e),r&512&&n!==null&&Ci(n,n.return),r&64&&Ha&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Vs;if(ks(t,e),Ms(e),r&512&&n!==null&&Ci(n,n.return),r&4){if(t=n!==null?n.memoizedState:null,r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,t=i.ownerDocument||i;t:switch(r){case"title":i=t.getElementsByTagName("title")[0],(!i||i[Zh]||i[Dr]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=t.createElement(r),t.head.insertBefore(i,t.querySelector("head > title"))),Tr(i,r,n),i[Dr]=e,fr(i),r=i;break e;case"link":var s=W3("link","href",t).get(r+(n.href||""));if(s){for(var a=0;a<s.length;a++)if(i=s[a],i.getAttribute("href")===(n.href==null?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(a,1);break t}}i=t.createElement(r),Tr(i,r,n),t.head.appendChild(i);break;case"meta":if(s=W3("meta","content",t).get(r+(n.content||""))){for(a=0;a<s.length;a++)if(i=s[a],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(a,1);break t}}i=t.createElement(r),Tr(i,r,n),t.head.appendChild(i);break;default:throw Error(se(468,r))}i[Dr]=e,fr(i),r=i}e.stateNode=r}else X3(i,e.type,e.stateNode);else e.stateNode=Q3(i,r,e.memoizedProps);else if(t!==r)t===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):t.count--,r===null?X3(i,e.type,e.stateNode):Q3(i,r,e.memoizedProps);else if(r===null&&e.stateNode!==null)try{var o=e.stateNode,l=e.memoizedProps;H3(o,e.type,n.memoizedProps,l),o[ei]=l}catch(p){qt(e,e.return,p)}}break;case 27:if(r&4&&e.alternate===null){for(i=e.stateNode,s=e.memoizedProps,a=i.firstChild;a;){var c=a.nextSibling,u=a.nodeName;a[Zh]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||i.removeChild(a),a=c}for(a=e.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);Tr(i,a,s),i[Dr]=e,i[ei]=s}case 5:if(ks(t,e),Ms(e),r&512&&n!==null&&Ci(n,n.return),e.flags&32){t=e.stateNode;try{pd(t,"")}catch(p){qt(e,e.return,p)}}if(r&4&&(t=e.stateNode,t!=null)){i=e.memoizedProps,n=n!==null?n.memoizedProps:i,s=e.type;try{H3(t,s,n,i),t[ei]=i}catch(p){qt(e,e.return,p)}}r&1024&&(Jb=!0);break;case 6:if(ks(t,e),Ms(e),r&4){if(e.stateNode===null)throw Error(se(162));r=e.stateNode,n=e.memoizedProps;try{r.nodeValue=n}catch(p){qt(e,e.return,p)}}break;case 3:if(Gm=null,i=Vs,Vs=my(t.containerInfo),ks(t,e),Vs=i,Ms(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fp(t.containerInfo)}catch(p){qt(e,e.return,p)}Jb&&(Jb=!1,IL(e));break;case 4:r=Vs,Vs=my(e.stateNode.containerInfo),ks(t,e),Ms(e),Vs=r;break;case 13:ks(t,e),Ms(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(R2=ba()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,e1(e,r)));break;case 22:r&512&&n!==null&&Ci(n,n.return),o=e.memoizedState!==null,l=n!==null&&n.memoizedState!==null;var d=Ha,h=jr;if(Ha=d||o,jr=h||l,ks(t,e),jr=h,Ha=d,Ms(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,r&8192&&(t._visibility=o?t._visibility&-2:t._visibility|1,o&&(t=Ha||jr,n===null||l||t||iu(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){n=t;try{i=t.stateNode,o?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=t.stateNode,c=t.memoizedProps.style,u=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=u==null||typeof u=="boolean"?"":(""+u).trim())}catch(p){qt(e,e.return,p)}}}else if(t.tag===6){if(n===null)try{t.stateNode.nodeValue=o?"":t.memoizedProps}catch(p){qt(e,e.return,p)}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,e1(e,n))));break;case 19:ks(t,e),Ms(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,e1(e,r)));break;case 21:break;default:ks(t,e),Ms(e)}}function Ms(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var n=e.return;n!==null;){if(CL(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 27:var i=r.stateNode,s=Zb(e);ly(e,s,i);break;case 5:var a=r.stateNode;r.flags&32&&(pd(a,""),r.flags&=-33);var o=Zb(e);ly(e,o,a);break;case 3:case 4:var l=r.stateNode.containerInfo,c=Zb(e);sx(e,c,l);break;default:throw Error(se(161))}}}catch(u){qt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IL(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;IL(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)EL(e,t.alternate,t),t=t.sibling}function iu(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vd(4,t,t.return),iu(t);break;case 1:Ci(t,t.return);var n=t.stateNode;if(typeof n.componentWillUnmount=="function"){var r=t,i=t.return;try{SL(r,n)}catch(s){qt(r,i,s)}}iu(t);break;case 26:case 27:case 5:Ci(t,t.return),iu(t);break;case 22:Ci(t,t.return),t.memoizedState===null&&iu(t);break;default:iu(t)}e=e.sibling}}function To(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:To(i,s,n),_L(s,4);break;case 1:if(To(i,s,n),i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(l){qt(s,s.return,l)}if(r=s.updateQueue,r!==null){var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)AL(o[r],i)}n&&a&64&&xL(s),$l(s,s.return);break;case 26:case 27:case 5:To(i,s,n),n&&r===null&&a&4&&wL(s),$l(s,s.return);break;case 12:To(i,s,n);break;case 13:To(i,s,n),n&&a&4&&ML(i,s);break;case 22:s.memoizedState===null&&To(i,s,n),$l(s,s.return);break;default:To(i,s,n)}t=t.sibling}}function OL(e,t){try{w2(t,e)}catch(n){qt(e,e.return,n)}}function E2(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$p(n))}function T2(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$p(e))}function Wc(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jL(e,t,n,r),t=t.sibling}function jL(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Wc(e,t,n,r),i&2048&&OL(t,9);break;case 3:Wc(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$p(e)));break;case 23:break;case 22:var s=t.stateNode;t.memoizedState!==null?s._visibility&4?Wc(e,t,n,r):yh(e,t):s._visibility&4?Wc(e,t,n,r):(s._visibility|=4,su(e,t,n,r,(t.subtreeFlags&10256)!==0)),i&2048&&E2(t.alternate,t);break;case 24:Wc(e,t,n,r),i&2048&&T2(t.alternate,t);break;default:Wc(e,t,n,r)}}function su(e,t,n,r,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:su(s,a,o,l,i),OL(a,8);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&4?su(s,a,o,l,i):yh(s,a):(u._visibility|=4,su(s,a,o,l,i)),i&&c&2048&&E2(a.alternate,a);break;case 24:su(s,a,o,l,i),i&&c&2048&&T2(a.alternate,a);break;default:su(s,a,o,l,i)}t=t.sibling}}function yh(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:yh(n,r),i&2048&&E2(r.alternate,r);break;case 24:yh(n,r),i&2048&&T2(r.alternate,r);break;default:yh(n,r)}t=t.sibling}}var $f=8192;function Xc(e){if(e.subtreeFlags&$f)for(e=e.child;e!==null;)VL(e),e=e.sibling}function VL(e){switch(e.tag){case 26:Xc(e),e.flags&$f&&e.memoizedState!==null&&_1e(Vs,e.memoizedState,e.memoizedProps);break;case 5:Xc(e);break;case 3:case 4:var t=Vs;Vs=my(e.stateNode.containerInfo),Xc(e),Vs=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=$f,$f=16777216,Xc(e),$f=t):Xc(e));break;default:Xc(e)}}function PL(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function t1(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ur=r,BL(r,e)}PL(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DL(e),e=e.sibling}function DL(e){switch(e.tag){case 0:case 11:case 15:t1(e),e.flags&2048&&vd(9,e,e.return);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,zm(e)):t1(e);break;default:t1(e)}}function zm(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ur=r,BL(r,e)}PL(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vd(8,t,t.return),zm(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,zm(t));break;default:zm(t)}e=e.sibling}}function BL(e,t){for(;ur!==null;){var n=ur;switch(n.tag){case 0:case 11:case 15:vd(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:$p(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ur=r;else e:for(n=e;ur!==null;){r=ur;var i=r.sibling,s=r.return;if(TL(r),r===n){ur=null;break e}if(i!==null){i.return=s,ur=i;break e}ur=s}}}function Vbe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(e,t,n,r){return new Vbe(e,t,n,r)}function C2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xo(e,t){var n=e.alternate;return n===null?(n=Gs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function NL(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Um(e,t,n,r,i,s){var a=0;if(r=e,typeof e=="function")C2(e)&&(a=1);else if(typeof e=="string")a=b1e(e,n,Aa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Df:return tc(n.children,i,s,t);case sAe:a=8,i|=24;break;case H5:return e=Gs(12,n,t,i|2),e.elementType=H5,e.lanes=s,e;case G5:return e=Gs(13,n,t,i),e.elementType=G5,e.lanes=s,e;case q5:return e=Gs(19,n,t,i),e.elementType=q5,e.lanes=s,e;case LB:return LL(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aAe:case $o:a=10;break e;case oAe:a=9;break e;case BB:a=11;break e;case NB:a=14;break e;case Il:a=16,r=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=Gs(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function tc(e,t,n,r){return e=Gs(7,e,r,t),e.lanes=n,e}function LL(e,t,n,r){e=Gs(22,e,r,t),e.elementType=LB,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var s=i._current;if(s===null)throw Error(se(456));if(!(i._pendingVisibility&2)){var a=ul(s,2);a!==null&&(i._pendingVisibility|=2,ti(a,s,2))}},attach:function(){var s=i._current;if(s===null)throw Error(se(456));if(i._pendingVisibility&2){var a=ul(s,2);a!==null&&(i._pendingVisibility&=-3,ti(a,s,2))}}};return e.stateNode=i,e}function n1(e,t,n){return e=Gs(6,e,null,t),e.lanes=n,e}function r1(e,t,n){return t=Gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Da(e){e.flags|=4}function D3(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,(yt&42)===0&&(t=!(t.type==="stylesheet"&&!(t.state.loading&3)),!t))if(GL())e.flags|=8192;else throw dh=H_,wN}function nm(e,t){t!==null?e.flags|=4:e.flags&16384&&(t=e.tag!==22?YB():536870912,e.lanes|=t)}function bf(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&31457280,r|=i.flags&31457280,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pbe(e,t,n){var r=t.pendingProps;switch(s2(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(t),null;case 1:return xn(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),to(Jn),fd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(vf(t)?Da(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ds!==null&&(cx(Ds),Ds=null))),xn(t),null;case 26:if(n=t.memoizedState,e===null)Da(t),n!==null?(xn(t),D3(t,n)):(xn(t),t.flags&=-16777217);else{var i=e.memoizedState;n!==i&&Da(t),n!==null?(xn(t),n===i?t.flags&=-16777217:D3(t,n)):(e.memoizedProps!==r&&Da(t),xn(t),t.flags&=-16777217)}return null;case 27:if(K0(t),n=Qo.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Da(t);else{if(!r){if(t.stateNode===null)throw Error(se(166));return xn(t),null}e=Aa.current,vf(t)?m3(t):(e=r6(i,r,n),t.stateNode=e,Da(t))}return xn(t),null;case 5:if(K0(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Da(t);else{if(!r){if(t.stateNode===null)throw Error(se(166));return xn(t),null}if(e=Aa.current,vf(t))m3(t);else{switch(i=gy(Qo.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Dr]=t,e[ei]=r;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Tr(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Da(t)}}return xn(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Da(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(e=Qo.current,vf(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=Wr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Dr]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||e6(e.nodeValue,n)),e||gc(t)}else e=gy(e).createTextNode(r),e[Dr]=t,t.stateNode=e}return xn(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=vf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[Dr]=t}else Fp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xn(t),i=!1}else Ds!==null&&(cx(Ds),Ds=null),i=!0;if(!i)return t.flags&256?(Ka(t),t):(Ka(t),null)}if(Ka(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nm(t,t.updateQueue),xn(t),null;case 4:return fd(),e===null&&V2(t.stateNode.containerInfo),xn(t),null;case 10:return to(t.type),xn(t),null;case 19:if(hr(er),i=t.memoizedState,i===null)return xn(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)bf(i,!1);else{if(Cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ry(e),s!==null){for(t.flags|=128,bf(i,!1),e=s.updateQueue,t.updateQueue=e,nm(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)NL(n,e),n=n.sibling;return dn(er,er.current&1|2),t.child}e=e.sibling}i.tail!==null&&ba()>uy&&(t.flags|=128,r=!0,bf(i,!1),t.lanes=4194304)}else{if(!r)if(e=ry(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,nm(t,e),bf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!_t)return xn(t),null}else 2*ba()-i.renderingStartTime>uy&&n!==536870912&&(t.flags|=128,r=!0,bf(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ba(),t.sibling=null,e=er.current,dn(er,r?e&1|2:e&1),t):(xn(t),null);case 22:case 23:return Ka(t),a2(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(xn(t),t.subtreeFlags&6&&(t.flags|=8192)):xn(t),n=t.updateQueue,n!==null&&nm(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&hr(ec),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),to(Jn),xn(t),null;case 25:return null}throw Error(se(156,t.tag))}function Dbe(e,t){switch(s2(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return to(Jn),fd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return K0(t),null;case 13:if(Ka(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));Fp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hr(er),null;case 4:return fd(),null;case 10:return to(t.type),null;case 22:case 23:return Ka(t),a2(),e!==null&&hr(ec),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return to(Jn),null;case 25:return null;default:return null}}function FL(e,t){switch(s2(t),t.tag){case 3:to(Jn),fd();break;case 26:case 27:case 5:K0(t);break;case 4:fd();break;case 13:Ka(t);break;case 19:hr(er);break;case 10:to(t.type);break;case 22:case 23:Ka(t),a2(),e!==null&&hr(ec);break;case 24:to(Jn)}}var Bbe={getCacheForType:function(e){var t=Br(Jn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Nbe=typeof WeakMap=="function"?WeakMap:Map,Dt=0,zt=null,pt=null,yt=0,gn=0,Qi=null,k2=!1,ho=0,Cn=0,po=0,Gd=0,M2=0,fi=0,vh=null,qs=null,Ad=!1,cy=!1,R2=0,uy=1/0,ap=null,Jo=null,rm=!1,jl=null,Ah=0,ax=0,ox=null,bh=0,lx=null;function ro(){if(Dt&2&&yt!==0)return yt&-yt;if(l2()!==null){var e=md;return e!==0?e:j2()}return XB()}function $L(){fi===0&&(fi=!(yt&536870912)||_t?qB():536870912);var e=wa.current;return e!==null&&(e.flags|=32),fi}function ti(e,t,n){(e===zt&&gn===2||e.cancelPendingCommit!==null)&&(Dc(e,0),ma(e,yt,fi)),Up(e,n),(!(Dt&2)||e!==zt)&&(e===zt&&(!(Dt&2)&&(Gd|=n),Cn===4&&ma(e,yt,fi)),hi(e))}function zL(e,t){if(Dt&6)throw Error(se(327));var n=e.callbackNode;if(Yu()&&e.callbackNode!==n)return null;var r=W0(e,e===zt?yt:0);if(r===0)return null;var i=(r&60)===0&&(r&e.expiredLanes)===0&&!t;if(t=i?zbe(e,r):dy(e,r),t!==0){var s=i;do{if(t===6)ma(e,r,0);else{if(i=e.current.alternate,s&&!Lbe(i)){t=dy(e,r),s=!1;continue}if(t===2){s=r;var a=GB(e,s);if(a!==0&&(r=a,t=UL(e,s,a),s=!1,t!==2))continue}if(t===1){Dc(e,0),ma(e,r,0);break}e.finishedWork=i,e.finishedLanes=r;e:{switch(s=e,t){case 0:case 1:throw Error(se(345));case 4:if((r&4194176)===r){ma(s,r,fi);break e}break;case 2:qs=null;break;case 3:case 5:break;default:throw Error(se(329))}if((r&62914560)===r&&(t=R2+300-ba(),10<t)){if(ma(s,r,fi),W0(s,0)!==0)break e;s.timeoutHandle=n6(B3.bind(null,s,i,qs,ap,Ad,r,fi),t);break e}B3(s,i,qs,ap,Ad,r,fi)}}break}while(!0)}return hi(e),XL(e,ba()),e=e.callbackNode===n?zL.bind(null,e):null,e}function UL(e,t,n){var r=vh,i=e.current.memoizedState.isDehydrated;if(i&&(Dc(e,n).flags|=256),n=dy(e,n),n!==2){if(k2&&!i)return e.errorRecoveryDisabledLanes|=t,Gd|=t,4;e=qs,qs=r,e!==null&&cx(e)}return n}function cx(e){qs===null?qs=e:qs.push.apply(qs,e)}function B3(e,t,n,r,i,s,a){if(!(s&42)&&(cp={stylesheets:null,count:0,unsuspend:S1e},VL(t),t=x1e(),t!==null)){e.cancelPendingCommit=t(dx.bind(null,e,n,r,i)),ma(e,s,a);return}dx(e,n,r,i,a)}function Lbe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bs(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Up(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0),Dt&2?Ad=!0:Dt&4&&(cy=!0),O2()}function ma(e,t,n){t&=~M2,t&=~Gd,e.suspendedLanes|=t,e.pingedLanes&=~t;for(var r=e.expirationTimes,i=t;0<i;){var s=31-ps(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&KB(e,n,t)}function Fbe(e,t){if(Dt&6)throw Error(se(327));if(Yu())return hi(e),null;var n=dy(e,t);if(n===2){var r=t,i=GB(e,r);i!==0&&(t=i,n=UL(e,r,i))}return n===1?(Dc(e,0),ma(e,t,0),hi(e),null):n===6?(ma(e,t,fi),hi(e),null):(e.finishedWork=e.current.alternate,e.finishedLanes=t,dx(e,qs,ap,Ad,fi),hi(e),null)}function Zv(){return Dt&6?!0:(Hp(),!1)}function I2(){if(pt!==null){if(gn===0)var e=pt.return;else e=pt,Jv(),p2(e),zu=null,ip=0,e=pt;for(;e!==null;)FL(e.alternate,e),e=e.return;pt=null}}function Dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,i1e(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),I2(),zt=e,pt=n=Xo(e.current,null),yt=t,gn=0,Qi=null,k2=!1,fi=M2=Gd=po=Cn=0,qs=vh=null,Ad=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-ps(r),s=1<<i;t|=e[i],r&=~s}return ho=t,Gv(),n}function HL(e,t){et=null,at.H=Ea,t===Nm?(t=A3(),gn=GL()&&!(po&134217727)&&!(Gd&134217727)?2:3):t===wN?(t=A3(),gn=4):gn=t===fL?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Qi=t,pt===null&&(Cn=1,oy(e,ls(t,e.current)))}function GL(){var e=wa.current;return e===null?!0:(yt&4194176)===yt?Sa===null:(yt&62914560)===yt||yt&536870912?e===Sa:!1}function qL(){var e=at.H;return at.H=Ea,e===null?Ea:e}function YL(){var e=at.A;return at.A=Bbe,e}function ux(){Cn=4,!(po&134217727)&&!(Gd&134217727)||zt===null||ma(zt,yt,fi)}function dy(e,t){var n=Dt;Dt|=2;var r=qL(),i=YL();(zt!==e||yt!==t)&&(ap=null,Dc(e,t)),t=!1;e:do try{if(gn!==0&&pt!==null){var s=pt,a=Qi;switch(gn){case 8:I2(),Cn=6;break e;case 3:case 2:t||wa.current!==null||(t=!0);default:gn=0,Qi=null,zf(e,s,a)}}$be();break}catch(o){HL(e,o)}while(!0);if(t&&e.shellSuspendCounter++,Jv(),Dt=n,at.H=r,at.A=i,pt!==null)throw Error(se(261));return zt=null,yt=0,Gv(),Cn}function $be(){for(;pt!==null;)KL(pt)}function zbe(e,t){var n=Dt;Dt|=2;var r=qL(),i=YL();(zt!==e||yt!==t)&&(ap=null,uy=ba()+500,Dc(e,t));e:do try{if(gn!==0&&pt!==null){t=pt;var s=Qi;t:switch(gn){case 1:gn=0,Qi=null,zf(e,t,s);break;case 2:if(v3(s)){gn=0,Qi=null,N3(t);break}t=function(){gn===2&&zt===e&&(gn=7),hi(e)},s.then(t,t);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:v3(s)?(gn=0,Qi=null,N3(t)):(gn=0,Qi=null,zf(e,t,s));break;case 5:switch(pt.tag){case 5:case 26:case 27:t=pt,gn=0,Qi=null;var a=t.sibling;if(a!==null)pt=a;else{var o=t.return;o!==null?(pt=o,eA(o)):pt=null}break t}gn=0,Qi=null,zf(e,t,s);break;case 6:gn=0,Qi=null,zf(e,t,s);break;case 8:I2(),Cn=6;break e;default:throw Error(se(462))}}Ube();break}catch(l){HL(e,l)}while(!0);return Jv(),at.H=r,at.A=i,Dt=n,pt!==null?0:(zt=null,yt=0,Gv(),Cn)}function Ube(){for(;pt!==null&&!uAe();)KL(pt)}function KL(e){var t=yL(e.alternate,e,ho);e.memoizedProps=e.pendingProps,t===null?eA(e):pt=t}function N3(e){var t=e.alternate;switch(e.tag){case 15:case 0:t=k3(t,e,e.pendingProps,e.type,void 0,yt);break;case 11:t=k3(t,e,e.pendingProps,e.type.render,e.ref,yt);break;case 5:p2(e);default:FL(t,e),e=pt=NL(e,ho),t=yL(t,e,ho)}e.memoizedProps=e.pendingProps,t===null?eA(e):pt=t}function zf(e,t,n){Jv(),p2(t),zu=null,ip=0;var r=t.return;try{if(Rbe(e,r,t,n,yt)){Cn=1,oy(e,ls(n,e.current)),pt=null;return}}catch(i){if(r!==null)throw pt=r,i;Cn=1,oy(e,ls(n,e.current)),pt=null;return}if(t.flags&32768)e:{e=t;do{if(t=Dbe(e.alternate,e),t!==null){t.flags&=32767,pt=t;break e}e=e.return,e!==null&&(e.flags|=32768,e.subtreeFlags=0,e.deletions=null),pt=e}while(e!==null);Cn=6,pt=null}else eA(t)}function eA(e){var t=e;do{e=t.return;var n=Pbe(t.alternate,t,ho);if(n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);Cn===0&&(Cn=5)}function dx(e,t,n,r,i){var s=at.T,a=rn.p;try{rn.p=2,at.T=null,Hbe(e,t,n,r,a,i)}finally{at.T=s,rn.p=a}return null}function Hbe(e,t,n,r,i,s){do Yu();while(jl!==null);if(Dt&6)throw Error(se(327));var a=e.finishedWork,o=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var l=a.lanes|a.childLanes;if(l|=n2,SAe(e,l,s),cy=!1,e===zt&&(pt=zt=null,yt=0),!(a.subtreeFlags&10256)&&!(a.flags&10256)||rm||(rm=!0,ax=l,ox=n,Kbe(Q0,function(){return Yu(),null})),n=(a.flags&15990)!==0,a.subtreeFlags&15990||n){n=at.T,at.T=null,s=rn.p,rn.p=2;var c=Dt;Dt|=4,Obe(e,a),RL(a,e),fbe(gx),Ay=!!px,gx=px=null,e.current=a,EL(e,a.alternate,a),dAe(),Dt=c,rn.p=s,at.T=n}else e.current=a;if(rm?(rm=!1,jl=e,Ah=o):QL(e,l),l=e.pendingLanes,l===0&&(Jo=null),mAe(a.stateNode),hi(e),t!==null)for(i=e.onRecoverableError,a=0;a<t.length;a++)l=t[a],i(l.value,{componentStack:l.stack});return Ah&3&&Yu(),l=e.pendingLanes,r||cy||o&4194218&&l&42?e===lx?bh++:(bh=0,lx=e):bh=0,Hp(),null}function QL(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$p(t)))}function Yu(){if(jl!==null){var e=jl,t=ax;ax=0;var n=WB(Ah),r=at.T,i=rn.p;try{if(rn.p=32>n?32:n,at.T=null,jl===null)var s=!1;else{n=ox,ox=null;var a=jl,o=Ah;if(jl=null,Ah=0,Dt&6)throw Error(se(331));var l=Dt;if(Dt|=4,DL(a.current),jL(a,a.current,o,n),Dt=l,Hp(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Np,a)}catch{}s=!0}return s}finally{rn.p=i,at.T=r,QL(e,t)}}return!1}function L3(e,t,n){t=ls(n,t),t=Q_(e.stateNode,t,2),e=Wo(e,t,2),e!==null&&(Up(e,2),hi(e))}function qt(e,t,n){if(e.tag===3)L3(e,e,n);else for(;t!==null;){if(t.tag===3){L3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jo===null||!Jo.has(r))){e=ls(n,e),n=uL(2),r=Wo(t,n,2),r!==null&&(dL(n,r,t,e),Up(r,2),hi(r));break}}t=t.return}}function i1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Nbe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(k2=!0,i.add(n),e=Gbe.bind(null,e,t,n),t.then(e,e))}function Gbe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,Dt&2?Ad=!0:Dt&4&&(cy=!0),O2(),zt===e&&(yt&n)===n&&(Cn===4||Cn===3&&(yt&62914560)===yt&&300>ba()-R2?!(Dt&2)&&Dc(e,0):M2|=n),hi(e)}function WL(e,t){t===0&&(t=YB()),e=ul(e,t),e!==null&&(Up(e,t),hi(e))}function qbe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),WL(e,n)}function Ybe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(se(314))}r!==null&&r.delete(t),WL(e,n)}function O2(){if(50<bh)throw bh=0,lx=null,Dt&2&&zt!==null&&(zt.errorRecoveryDisabledLanes|=yt),Error(se(185))}function Kbe(e,t){return YE(e,t)}var fy=null,au=null,fx=!1,hy=!1,s1=!1,nc=0;function hi(e){e!==au&&e.next===null&&(au===null?fy=au=e:au=au.next=e),hy=!0,fx||(fx=!0,Wbe(Qbe))}function Hp(){if(!s1&&hy){s1=!0;do for(var e=!1,t=fy;t!==null;){var n=yt;n=W0(t,t===zt?n:0),n&3&&(e=!0,Fbe(t,n)),t=t.next}while(e);s1=!1}}function Qbe(){hy=fx=!1;for(var e=ba(),t=null,n=fy;n!==null;){var r=n.next;if(nc!==0&&r1e()){var i=n,s=nc;i.pendingLanes|=2,i.entangledLanes|=2,i.entanglements[1]|=s}i=XL(n,e),i===0?(n.next=null,t===null?fy=r:t.next=r,r===null&&(au=t)):(t=n,i&3&&(hy=!0)),n=r}nc=0,Hp()}function XL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-ps(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=bAe(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(t=zt,n=yt,n=W0(e,e===t?n:0),r=e.callbackNode,n===0||e===t&&gn===2||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ib(r),e.callbackNode=null,e.callbackPriority=0;if(n&3)return r!==null&&r!==null&&Ib(r),e.callbackPriority=2,e.callbackNode=null,2;if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ib(r),WB(n)){case 2:n=KE;break;case 8:n=UB;break;case 32:n=Q0;break;case 268435456:n=HB;break;default:n=Q0}return r=zL.bind(null,e),n=YE(n,r),e.callbackPriority=t,e.callbackNode=n,t}function Wbe(e){s1e(function(){Dt&6?YE(KE,e):e()})}function j2(){return nc===0&&(nc=qB()),nc}function F3(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pm(""+e)}function $3(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xbe(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var s=F3((i[ei]||null).action),a=r.submitter;a&&(t=(t=a[ei]||null)?F3(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var o=new zv("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(nc!==0){var l=a?$3(i,a):new FormData(i);K_(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?$3(i,a):new FormData(i),K_(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var a1=0;a1<p3.length;a1++){var o1=p3[a1],Jbe=o1.toLowerCase(),Zbe=o1[0].toUpperCase()+o1.slice(1);ra(Jbe,"on"+Zbe)}ra(yN,"onAnimationEnd");ra(vN,"onAnimationIteration");ra(AN,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(pbe,"onTransitionRun");ra(gbe,"onTransitionStart");ra(mbe,"onTransitionCancel");ra(bN,"onTransitionEnd");hd("onMouseEnter",["mouseout","mouseover"]);hd("onMouseLeave",["mouseout","mouseover"]);hd("onPointerEnter",["pointerout","pointerover"]);hd("onPointerLeave",["pointerout","pointerover"]);Ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var op="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1e=new Set("cancel close invalid load scroll scrollend toggle".split(" ").concat(op));function JL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){ay(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){ay(u)}i.currentTarget=null,s=l}}}}function Vt(e,t){var n=t[P_];n===void 0&&(n=t[P_]=new Set);var r=e+"__bubble";n.has(r)||(ZL(t,e,2,!1),n.add(r))}function l1(e,t,n){var r=0;t&&(r|=4),ZL(n,e,r,t)}var im="_reactListening"+Math.random().toString(36).slice(2);function V2(e){if(!e[im]){e[im]=!0,JB.forEach(function(n){n!=="selectionchange"&&(e1e.has(n)||l1(n,!1,e),l1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[im]||(t[im]=!0,l1("selectionchange",!1,t))}}function ZL(e,t,n,r){switch(u6(t)){case 2:var i=C1e;break;case 8:i=k1e;break;default:i=N2}n=i.bind(null,t,n,e),i=void 0,!F_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function c1(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Fl(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}aN(function(){var c=s,u=XE(n),d=[];e:{var h=SN.get(e);if(h!==void 0){var p=zv,g=e;switch(e){case"keypress":if(Bm(n)===0)break e;case"keydown":case"keyup":p=YAe;break;case"focusin":g="focus",p=Fb;break;case"focusout":g="blur",p=Fb;break;case"beforeblur":case"afterblur":p=Fb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=n3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PAe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WAe;break;case yN:case vN:case AN:p=NAe;break;case bN:p=JAe;break;case"scroll":case"scrollend":p=jAe;break;case"wheel":p=ebe;break;case"copy":case"cut":case"paste":p=FAe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=i3}var m=(t&4)!==0,S=!m&&(e==="scroll"||e==="scrollend"),y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,A;b!==null;){var _=b;if(A=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||A===null||y===null||(_=ep(b,y),_!=null&&m.push(lp(b,_,A))),S)break;b=b.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==L_&&(g=n.relatedTarget||n.fromElement)&&(Fl(g)||g[zd]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Fl(g):null,g!==null&&(S=$d(g),m=g.tag,g!==S||m!==5&&m!==27&&m!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=n3,_="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=i3,_="onPointerLeave",y="onPointerEnter",b="pointer"),S=p==null?h:Lf(p),A=g==null?h:Lf(g),h=new m(_,b+"leave",p,n,u),h.target=S,h.relatedTarget=A,_=null,Fl(u)===c&&(m=new m(y,b+"enter",g,n,u),m.target=A,m.relatedTarget=S,_=m),S=_,p&&g)t:{for(m=p,y=g,b=0,A=m;A;A=Jc(A))b++;for(A=0,_=y;_;_=Jc(_))A++;for(;0<b-A;)m=Jc(m),b--;for(;0<A-b;)y=Jc(y),A--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Jc(m),y=Jc(y)}m=null}else m=null;p!==null&&z3(d,h,p,m,!1),g!==null&&S!==null&&z3(d,S,g,m,!0)}}e:{if(h=c?Lf(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=l3;else if(o3(h))if(fN)x=ube;else{x=lbe;var E=obe}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&WE(c.elementType)&&(x=l3):x=cbe;if(x&&(x=x(e,c))){dN(d,x,n,u);break e}E&&E(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&N_(h,"number",h.value)}switch(E=c?Lf(c):window,e){case"focusin":(o3(E)||E.contentEditable==="true")&&(Au=E,$_=c,uh=null);break;case"focusout":uh=$_=Au=null;break;case"mousedown":z_=!0;break;case"contextmenu":case"mouseup":case"dragend":z_=!1,h3(d,n,u);break;case"selectionchange":if(hbe)break;case"keydown":case"keyup":h3(d,n,u)}var T;if(e2)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else vu?cN(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(lN&&n.locale!=="ko"&&(vu||k!=="onCompositionStart"?k==="onCompositionEnd"&&vu&&(T=oN()):(Uo=u,JE="value"in Uo?Uo.value:Uo.textContent,vu=!0)),E=py(c,k),0<E.length&&(k=new r3(k,e,null,n,u),d.push({event:k,listeners:E}),T?k.data=T:(T=uN(n),T!==null&&(k.data=T)))),(T=nbe?rbe(e,n):ibe(e,n))&&(k=py(c,"onBeforeInput"),0<k.length&&(E=new r3("onBeforeInput","beforeinput",null,n,u),d.push({event:E,listeners:k}),E.data=T)),Xbe(d,e,c,n,u)}JL(d,t)})}function lp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function py(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=ep(e,n),i!=null&&r.unshift(lp(e,i,s)),i=ep(e,t),i!=null&&r.push(lp(e,i,s))),e=e.return}return r}function Jc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function z3(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=ep(n,s),c!=null&&a.unshift(lp(n,c,l))):i||(c=ep(n,s),c!=null&&a.push(lp(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var t1e=/\r\n?/g,n1e=/\u0000|\uFFFD/g;function U3(e){return(typeof e=="string"?e:""+e).replace(t1e,`
`).replace(n1e,"")}function e6(e,t){return t=U3(t),U3(e)===t}function tA(){}function tn(e,t,n,r,i,s){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||pd(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&pd(e,""+r);break;case"className":jb(e,"class",r);break;case"tabIndex":jb(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":jb(e,n,r);break;case"style":sN(e,r,s);break;case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Pm(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&tn(e,t,"name",i.name,i,null),tn(e,t,"formEncType",i.formEncType,i,null),tn(e,t,"formMethod",i.formMethod,i,null),tn(e,t,"formTarget",i.formTarget,i,null)):(tn(e,t,"encType",i.encType,i,null),tn(e,t,"method",i.method,i,null),tn(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Pm(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=tA);break;case"onScroll":r!=null&&Vt("scroll",e);break;case"onScrollEnd":r!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(se(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(se(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Pm(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":D_(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=IAe.get(n)||n,D_(e,n,r))}}function hx(e,t,n,r,i,s){switch(n){case"style":sN(e,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(se(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(se(60));e.innerHTML=n}}break;case"children":typeof r=="string"?pd(e,r):(typeof r=="number"||typeof r=="bigint")&&pd(e,""+r);break;case"onScroll":r!=null&&Vt("scroll",e);break;case"onScrollEnd":r!=null&&Vt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=tA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ZB.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[ei]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):D_(e,n,r)}}}function Tr(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":Vt("invalid",e);var r=null,i=null,s=null,a=null,o=null,l=null;for(u in n)if(n.hasOwnProperty(u)){var c=n[u];if(c!=null)switch(u){case"name":r=c;break;case"type":i=c;break;case"checked":o=c;break;case"defaultChecked":l=c;break;case"value":s=c;break;case"defaultValue":a=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(se(137,t));break;default:tn(e,t,u,c,n,null)}}nN(e,s,a,o,l,i,r,!1),X0(e);return;case"select":Vt("invalid",e);var u=i=s=null;for(r in n)if(n.hasOwnProperty(r)&&(a=n[r],a!=null))switch(r){case"value":s=a;break;case"defaultValue":i=a;break;case"multiple":u=a;default:tn(e,t,r,a,n,null)}t=s,n=i,e.multiple=!!u,t!=null?Fu(e,!!u,t,!1):n!=null&&Fu(e,!!u,n,!0);return;case"textarea":Vt("invalid",e),s=r=u=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":u=a;break;case"defaultValue":r=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(se(91));break;default:tn(e,t,i,a,n,null)}iN(e,u,r,s),X0(e);return;case"option":for(a in n)if(n.hasOwnProperty(a)&&(u=n[a],u!=null))switch(a){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tn(e,t,a,u,n,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(u=0;u<op.length;u++)Vt(op[u],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"img":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in n)if(n.hasOwnProperty(o)&&(u=n[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(se(137,t));default:tn(e,t,o,u,n,null)}return;default:if(WE(t)){for(l in n)n.hasOwnProperty(l)&&(u=n[l],u!==void 0&&hx(e,t,l,u,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(u=n[s],u!=null&&tn(e,t,s,u,n,null))}function H3(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,u=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||tn(e,t,p,null,r,d)}}for(var h in r){var p=r[h];if(d=n[h],r.hasOwnProperty(h)&&(p!=null||d!=null))switch(h){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(se(137,t));break;default:p!==d&&tn(e,t,h,p,r,d)}}B_(e,a,o,l,c,u,s,i);return;case"select":p=a=o=h=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||tn(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":h=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&tn(e,t,i,s,r,l)}t=o,n=a,r=p,h!=null?Fu(e,!!n,h,!1):!!r!=!!n&&(t!=null?Fu(e,!!n,t,!0):Fu(e,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:tn(e,t,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(se(91));break;default:i!==s&&tn(e,t,a,i,r,s)}rN(e,h,p);return;case"option":for(var g in n)if(h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:tn(e,t,g,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:tn(e,t,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&h!=null&&!r.hasOwnProperty(m)&&tn(e,t,m,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(se(137,t));break;default:tn(e,t,c,h,r,p)}return;default:if(WE(t)){for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!==void 0&&!r.hasOwnProperty(S)&&hx(e,t,S,void 0,r,h);for(u in r)h=r[u],p=n[u],!r.hasOwnProperty(u)||h===p||h===void 0&&p===void 0||hx(e,t,u,h,r,p);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&tn(e,t,y,null,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||h==null&&p==null||tn(e,t,d,h,r,p)}var px=null,gx=null;function gy(e){return e.nodeType===9?e:e.ownerDocument}function G3(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t6(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var u1=null;function r1e(){var e=window.event;return e&&e.type==="popstate"?e===u1?!1:(u1=e,!0):(u1=null,!1)}var n6=typeof setTimeout=="function"?setTimeout:void 0,i1e=typeof clearTimeout=="function"?clearTimeout:void 0,q3=typeof Promise=="function"?Promise:void 0,s1e=typeof queueMicrotask=="function"?queueMicrotask:typeof q3<"u"?function(e){return q3.resolve(null).then(e).catch(a1e)}:n6;function a1e(e){setTimeout(function(){throw e})}function d1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),fp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fp(t)}function yx(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yx(n),QE(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function o1e(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Zh])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Qs(e.nextSibling),e===null)break}return null}function l1e(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qs(e.nextSibling),e===null))return null;return e}function Qs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Y3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function r6(e,t,n){switch(t=gy(n),e){case"html":if(e=t.documentElement,!e)throw Error(se(452));return e;case"head":if(e=t.head,!e)throw Error(se(453));return e;case"body":if(e=t.body,!e)throw Error(se(454));return e;default:throw Error(se(451))}}var Ss=new Map,K3=new Set;function my(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var _o=rn.d;rn.d={f:c1e,r:u1e,D:d1e,C:f1e,L:h1e,m:p1e,X:m1e,S:g1e,M:y1e};function c1e(){var e=_o.f(),t=Zv();return e||t}function u1e(e){var t=Ud(e);t!==null&&t.tag===5&&t.type==="form"?nL(t):_o.r(e)}var qd=typeof document>"u"?null:document;function i6(e,t,n){var r=qd;if(r&&typeof t=="string"&&t){var i=os(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),K3.has(i)||(K3.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Tr(t,"link",e),fr(t),r.head.appendChild(t)))}}function d1e(e){_o.D(e),i6("dns-prefetch",e,null)}function f1e(e,t){_o.C(e,t),i6("preconnect",e,t)}function h1e(e,t,n){_o.L(e,t,n);var r=qd;if(r&&e&&t){var i='link[rel="preload"][as="'+os(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+os(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+os(n.imageSizes)+'"]')):i+='[href="'+os(e)+'"]';var s=i;switch(t){case"style":s=bd(e);break;case"script":s=Yd(e)}Ss.has(s)||(e=fn({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ss.set(s,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Gp(s))||t==="script"&&r.querySelector(qp(s))||(t=r.createElement("link"),Tr(t,"link",e),fr(t),r.head.appendChild(t)))}}function p1e(e,t){_o.m(e,t);var n=qd;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+os(r)+'"][href="'+os(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yd(e)}if(!Ss.has(s)&&(e=fn({rel:"modulepreload",href:e},t),Ss.set(s,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qp(s)))return}r=n.createElement("link"),Tr(r,"link",e),fr(r),n.head.appendChild(r)}}}function g1e(e,t,n){_o.S(e,t,n);var r=qd;if(r&&e){var i=Lu(r).hoistableStyles,s=bd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Gp(s)))o.loading=5;else{e=fn({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ss.get(s))&&P2(e,n);var l=a=r.createElement("link");fr(l),Tr(l,"link",e),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Hm(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function m1e(e,t){_o.X(e,t);var n=qd;if(n&&e){var r=Lu(n).hoistableScripts,i=Yd(e),s=r.get(i);s||(s=n.querySelector(qp(i)),s||(e=fn({src:e,async:!0},t),(t=Ss.get(i))&&D2(e,t),s=n.createElement("script"),fr(s),Tr(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function y1e(e,t){_o.M(e,t);var n=qd;if(n&&e){var r=Lu(n).hoistableScripts,i=Yd(e),s=r.get(i);s||(s=n.querySelector(qp(i)),s||(e=fn({src:e,async:!0,type:"module"},t),(t=Ss.get(i))&&D2(e,t),s=n.createElement("script"),fr(s),Tr(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function v1e(e,t,n){if(t=(t=Qo.current)?my(t):null,!t)throw Error(se(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(n=bd(n.href),t=Lu(t).hoistableStyles,e=t.get(n),e||(e={type:"style",instance:null,count:0,state:null},t.set(n,e)),e):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=bd(n.href);var r=Lu(t).hoistableStyles,i=r.get(e);return i||(t=t.ownerDocument||t,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),Ss.has(e)||A1e(t,e,{rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},i.state)),i}return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(n=Yd(n),t=Lu(t).hoistableScripts,e=t.get(n),e||(e={type:"script",instance:null,count:0,state:null},t.set(n,e)),e):{type:"void",instance:null,count:0,state:null};default:throw Error(se(444,e))}}function bd(e){return'href="'+os(e)+'"'}function Gp(e){return'link[rel="stylesheet"]['+e+"]"}function s6(e){return fn({},e,{"data-precedence":e.precedence,precedence:null})}function A1e(e,t,n,r){Ss.set(t,n),e.querySelector(Gp(t))||(e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Tr(t,"link",n),fr(t),e.head.appendChild(t)))}function Yd(e){return'[src="'+os(e)+'"]'}function qp(e){return"script[async]"+e}function Q3(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+os(n.href)+'"]');if(r)return t.instance=r,fr(r),r;var i=fn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),fr(r),Tr(r,"style",i),Hm(r,n.precedence,e),t.instance=r;case"stylesheet":i=bd(n.href);var s=e.querySelector(Gp(i));if(s)return t.state.loading|=4,t.instance=s,fr(s),s;r=s6(n),(i=Ss.get(i))&&P2(r,i),s=(e.ownerDocument||e).createElement("link"),fr(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Tr(s,"link",r),t.state.loading|=4,Hm(s,n.precedence,e),t.instance=s;case"script":return s=Yd(n.src),(i=e.querySelector(qp(s)))?(t.instance=i,fr(i),i):(r=n,(i=Ss.get(s))&&(r=fn({},n),D2(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),fr(i),Tr(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(se(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Hm(r,n.precedence,e));return t.instance}function Hm(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function P2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function D2(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gm=null;function W3(e,t,n){if(Gm===null){var r=new Map,i=Gm=new Map;i.set(n,r)}else i=Gm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Zh]||s[Dr]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function X3(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function b1e(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}var cp=null;function S1e(){}function _1e(e,t,n){if(cp===null)throw Error(se(475));var r=cp;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=bd(n.href),s=e.querySelector(Gp(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=yy.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,fr(s);return}s=e.ownerDocument||e,n=s6(n),(i=Ss.get(i))&&P2(n,i),s=s.createElement("link"),fr(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Tr(s,"link",n),t.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=yy.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function x1e(){if(cp===null)throw Error(se(475));var e=cp;return e.stylesheets&&e.count===0&&vx(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&vx(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function yy(){if(this.count--,this.count===0){if(this.stylesheets)vx(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vy=null;function vx(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vy=new Map,t.forEach(w1e,e),vy=null,yy.call(e))}function w1e(e,t){if(!(t.state.loading&4)){var n=vy.get(e);if(n)var r=n.get(null);else{n=new Map,vy.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="link"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=t.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=yy.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}function E1e(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ob(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ob(0),this.hiddenUpdates=Ob(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function a6(e,t,n,r,i,s,a,o,l,c,u,d,h){return e=new E1e(e,t,n,o,l,c,u,h),t=1,s===!0&&(t|=24),s=Gs(3,null,null,t),e.current=s,s.stateNode=e,t=o2(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},x2(s),e}function o6(e){return e?(e=_u,e):_u}function l6(e,t,n,r,i,s){i=o6(i),r.context===null?r.context=i:r.pendingContext=i,r=no(t),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Wo(e,r,t),n!==null&&(ti(n,e,t),ph(n,e,t))}function J3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function B2(e,t){J3(e,t),(e=e.alternate)&&J3(e,t)}function c6(e){if(e.tag===13){var t=ul(e,67108864);t!==null&&ti(t,e,67108864),B2(e,67108864)}}function T1e(){return null}var Ay=!0;function C1e(e,t,n,r){var i=at.T;at.T=null;var s=rn.p;try{rn.p=2,N2(e,t,n,r)}finally{rn.p=s,at.T=i}}function k1e(e,t,n,r){var i=at.T;at.T=null;var s=rn.p;try{rn.p=8,N2(e,t,n,r)}finally{rn.p=s,at.T=i}}function N2(e,t,n,r){if(Ay){var i=Ax(r);if(i===null)c1(e,t,r,by,n),Z3(e,r);else if(R1e(i,e,t,n,r))r.stopPropagation();else if(Z3(e,r),t&4&&-1<M1e.indexOf(e)){for(;i!==null;){var s=Ud(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Nf(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-ps(a);o.entanglements[1]|=l,a&=~l}hi(s),!(Dt&6)&&(uy=ba()+500,Hp())}}break;case 13:o=ul(s,2),o!==null&&ti(o,s,2),Zv(),B2(s,2)}if(s=Ax(r),s===null&&c1(e,t,r,by,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else c1(e,t,r,null,n)}}function Ax(e){return e=XE(e),L2(e)}var by=null;function L2(e){if(by=null,e=Fl(e),e!==null){var t=$d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=FB(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return by=e,null}function u6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fAe()){case KE:return 2;case UB:return 8;case Q0:case hAe:return 32;case HB:return 268435456;default:return 32}default:return 32}}var bx=!1,Zo=null,el=null,tl=null,up=new Map,dp=new Map,Po=[],M1e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z3(e,t){switch(e){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":up.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dp.delete(t.pointerId)}}function Sf(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ud(t),t!==null&&c6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function R1e(e,t,n,r,i){switch(t){case"focusin":return Zo=Sf(Zo,e,t,n,r,i),!0;case"dragenter":return el=Sf(el,e,t,n,r,i),!0;case"mouseover":return tl=Sf(tl,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return up.set(s,Sf(up.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,dp.set(s,Sf(dp.get(s)||null,e,t,n,r,i)),!0}return!1}function d6(e){var t=Fl(e.target);if(t!==null){var n=$d(t);if(n!==null){if(t=n.tag,t===13){if(t=FB(n),t!==null){e.blockedOn=t,_Ae(e.priority,function(){if(n.tag===13){var r=ro(),i=ul(n,r);i!==null&&ti(i,n,r),B2(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ax(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);L_=r,n.target.dispatchEvent(r),L_=null}else return t=Ud(n),t!==null&&c6(t),e.blockedOn=n,!1;t.shift()}return!0}function eI(e,t,n){qm(e)&&n.delete(t)}function I1e(){bx=!1,Zo!==null&&qm(Zo)&&(Zo=null),el!==null&&qm(el)&&(el=null),tl!==null&&qm(tl)&&(tl=null),up.forEach(eI),dp.forEach(eI)}function sm(e,t){e.blockedOn===t&&(e.blockedOn=null,bx||(bx=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,I1e)))}var am=null;function tI(e){am!==e&&(am=e,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,function(){am===e&&(am=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(L2(r||n)===null)continue;break}var s=Ud(n);s!==null&&(e.splice(t,3),t-=3,K_(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function fp(e){function t(l){return sm(l,e)}Zo!==null&&sm(Zo,e),el!==null&&sm(el,e),tl!==null&&sm(tl,e),up.forEach(t),dp.forEach(t);for(var n=0;n<Po.length;n++){var r=Po[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Po.length&&(n=Po[0],n.blockedOn===null);)d6(n),n.blockedOn===null&&Po.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[ei]||null;if(typeof s=="function")a||tI(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[ei]||null)o=a.formAction;else if(L2(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),tI(n)}}}function F2(e){this._internalRoot=e}nA.prototype.render=F2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));var n=t.current,r=ro();l6(n,r,e,t,null,null)};nA.prototype.unmount=F2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Yu(),l6(e.current,2,null,e,null,null),Zv(),t[zd]=null}};function nA(e){this._internalRoot=e}nA.prototype.unstable_scheduleHydration=function(e){if(e){var t=XB();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Po.length&&t!==0&&t<Po[n].priority;n++);Po.splice(n,0,e),n===0&&d6(e)}};rn.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=$B(t),e=e===null?null:e.stateNode,e};var _f={findFiberByHostInstance:Fl,bundleType:0,version:"19.0.0-beta-26f2496093-20240514",rendererPackageName:"react-dom"},O1e={bundleType:_f.bundleType,version:_f.version,rendererPackageName:_f.rendererPackageName,rendererConfig:_f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:at,findHostInstanceByFiber:function(e){return e=$B(e),e===null?null:e.stateNode},findFiberByHostInstance:_f.findFiberByHostInstance||T1e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"19.0.0-beta-26f2496093-20240514"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{Np=om.inject(O1e),ji=om}catch{}}$v.createRoot=function(e,t){if(!DB(e))throw Error(se(299));var n=!1,r="",i=oL,s=lL,a=cL,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=a6(e,1,!1,null,null,n,!1,r,i,s,a,o,null),e[zd]=t.current,V2(e.nodeType===8?e.parentNode:e),new F2(t)};$v.hydrateRoot=function(e,t,n){if(!DB(e))throw Error(se(299));var r=!1,i="",s=oL,a=lL,o=cL,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=a6(e,1,!0,t,n??null,r,!1,i,s,a,o,l,c),t.context=o6(null),n=t.current,r=ro(),i=no(r),i.callback=null,Wo(n,i,r),t.current.lanes=r,Up(t,r),hi(t),e[zd]=t.current,V2(e),new nA(t)};$v.version="19.0.0-beta-26f2496093-20240514";function f6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f6)}catch(e){console.error(e)}}f6(),jB.exports=$v;var j1e=jB.exports;pG({integrations:[uG({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:eAe,tracesSampleRate:Pi()?0:.01,environment:Pi()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});Pi()||Ln.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Be.local.getItem("posthog-user-id");t||(t=_0(),Be.local.setItem("posthog-user-id",t)),e.identify(t);let n=Be.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Pf.artists.flatMap(i=>bV(i).split("-")))].filter(i=>i.length<=10);n=new Array(Hs(3,5)).fill(0).map(()=>r[Hs(0,r.length-1)]).join("-"),Be.local.setItem("posthog-user-name",n),e.alias(n,t)}Uz({id:t})}});const V1e=HV({key:"ec",speedy:!ID}),P1e=document.getElementById("root"),D1e=j1e.createRoot(P1e);D1e.render(f.jsxs(ZQ,{value:V1e,children:[f.jsx(Zve,{}),f.jsx(ES,{position:Qt.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{lE as $,ni as A,Lr as B,ZQ as C,Cp as D,ire as E,X4 as F,ke as G,w0 as H,oE as I,eo as J,Fr as K,gt as L,sn as M,lt as N,As as O,Ov as P,eE as Q,a0 as R,Di as S,Ao as T,tE as U,zh as V,$r as W,H0 as X,wv as Y,CD as Z,J4 as _,Vee as a,Hde as a$,I0 as a0,nP as a1,aE as a2,kee as a3,Gw as a4,q1e as a5,dc as a6,cE as a7,Tee as a8,Ko as a9,Xl as aA,Cm as aB,Zue as aC,ede as aD,nY as aE,il as aF,Vh as aG,SD as aH,Kue as aI,Gue as aJ,Uue as aK,Wue as aL,Kr as aM,jd as aN,cye as aO,vo as aP,bi as aQ,gl as aR,pv as aS,hee as aT,SE as aU,ufe as aV,kc as aW,Mne as aX,Ze as aY,wD as aZ,mde as a_,Eee as aa,Yw as ab,Ade as ac,ZR as ad,jde as ae,G1e as af,Gne as ag,_ee as ah,vde as ai,Ls as aj,hu as ak,qw as al,DM as am,R as an,WR as ao,EE as ap,Vk as aq,ca as ar,Pt as as,BS as at,Q1e as au,Ree as av,V4 as aw,$e as ax,iQ as ay,Ld as az,Oee as b,GA as b0,dE as b1,Fde as b2,gb as b3,Wde as b4,OM as b5,Tc as b6,ws as b7,kle as b8,aae as b9,lfe as ba,wie as bb,xie as bc,MD as bd,L0 as be,zs as bf,Ni as bg,PE as bh,W1e as bi,cfe as bj,Ln as bk,Bue as bl,lK as c,HV as d,vQ as e,Rte as f,mw as g,Pd as h,$4 as i,f as j,Cte as k,St as l,jee as m,$te as n,M0 as o,F4 as p,NS as q,v as r,Be as s,Jw as t,al as u,co as v,H1e as w,Ww as x,mi as y,U1e as z};
//# sourceMappingURL=index-ChIFeuLz.js.map
