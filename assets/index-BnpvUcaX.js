const __vite__fileDeps=["assets/ConvertView-UaaC3ClS.js","assets/ShareSongsModal-CawYDAgP.js","assets/SongList-bySaAdlZ.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function Y$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fs(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var CR={exports:{}},Om={},TR={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),K$=Symbol.for("react.portal"),Q$=Symbol.for("react.fragment"),J$=Symbol.for("react.strict_mode"),X$=Symbol.for("react.profiler"),Z$=Symbol.for("react.provider"),eB=Symbol.for("react.context"),tB=Symbol.for("react.forward_ref"),nB=Symbol.for("react.suspense"),rB=Symbol.for("react.memo"),iB=Symbol.for("react.lazy"),xE=Symbol.iterator;function sB(e){return e===null||typeof e!="object"?null:(e=xE&&e[xE]||e["@@iterator"],typeof e=="function"?e:null)}var IR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PR=Object.assign,RR={};function mu(e,t,n){this.props=e,this.context=t,this.refs=RR,this.updater=n||IR}mu.prototype.isReactComponent={};mu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MR(){}MR.prototype=mu.prototype;function lb(e,t,n){this.props=e,this.context=t,this.refs=RR,this.updater=n||IR}var cb=lb.prototype=new MR;cb.constructor=lb;PR(cb,mu.prototype);cb.isPureReactComponent=!0;var SE=Array.isArray,jR=Object.prototype.hasOwnProperty,ub={current:null},OR={key:!0,ref:!0,__self:!0,__source:!0};function VR(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)jR.call(t,r)&&!OR.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gf,type:e,key:s,ref:o,props:i,_owner:ub.current}}function oB(e,t){return{$$typeof:Gf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function db(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gf}function aB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wE=/\/+/g;function jv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aB(""+e.key):t.toString(36)}function jp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gf:case K$:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+jv(o,0):r,SE(i)?(n="",e!=null&&(n=e.replace(wE,"$&/")+"/"),jp(i,t,n,"",function(c){return c})):i!=null&&(db(i)&&(i=oB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wE,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",SE(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+jv(s,a);o+=jp(s,t,n,l,i)}else if(l=sB(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+jv(s,a++),o+=jp(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ih(e,t,n){if(e==null)return e;var r=[],i=0;return jp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function lB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _r={current:null},Op={transition:null},cB={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:Op,ReactCurrentOwner:ub};et.Children={map:Ih,forEach:function(e,t,n){Ih(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ih(e,function(){t++}),t},toArray:function(e){return Ih(e,function(t){return t})||[]},only:function(e){if(!db(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=mu;et.Fragment=Q$;et.Profiler=X$;et.PureComponent=lb;et.StrictMode=J$;et.Suspense=nB;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cB;et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=PR({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ub.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)jR.call(t,l)&&!OR.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gf,type:e.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(e){return e={$$typeof:eB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z$,_context:e},e.Consumer=e};et.createElement=VR;et.createFactory=function(e){var t=VR.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:tB,render:e}};et.isValidElement=db;et.lazy=function(e){return{$$typeof:iB,_payload:{_status:-1,_result:e},_init:lB}};et.memo=function(e,t){return{$$typeof:rB,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Op.transition;Op.transition={};try{e()}finally{Op.transition=t}};et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};et.useCallback=function(e,t){return _r.current.useCallback(e,t)};et.useContext=function(e){return _r.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return _r.current.useDeferredValue(e)};et.useEffect=function(e,t){return _r.current.useEffect(e,t)};et.useId=function(){return _r.current.useId()};et.useImperativeHandle=function(e,t,n){return _r.current.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return _r.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return _r.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return _r.current.useMemo(e,t)};et.useReducer=function(e,t,n){return _r.current.useReducer(e,t,n)};et.useRef=function(e){return _r.current.useRef(e)};et.useState=function(e){return _r.current.useState(e)};et.useSyncExternalStore=function(e,t,n){return _r.current.useSyncExternalStore(e,t,n)};et.useTransition=function(){return _r.current.useTransition()};et.version="18.2.0";TR.exports=et;var _=TR.exports;const Pe=lr(_),pg=Y$({__proto__:null,default:Pe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uB=_,dB=Symbol.for("react.element"),fB=Symbol.for("react.fragment"),hB=Object.prototype.hasOwnProperty,pB=uB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gB={key:!0,ref:!0,__self:!0,__source:!0};function LR(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)hB.call(t,r)&&!gB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:dB,type:e,key:s,ref:o,props:i,_owner:pB.current}}Om.Fragment=fB;Om.jsx=LR;Om.jsxs=LR;CR.exports=Om;var f=CR.exports;function mB(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function vB(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var yB=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=mB(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ir="-ms-",gg="-moz-",ct="-webkit-",NR="comm",fb="rule",hb="decl",AB="@import",$R="@keyframes",_B="@layer",bB=Math.abs,Vm=String.fromCharCode,xB=Object.assign;function SB(e,t){return Kn(e,0)^45?(((t<<2^Kn(e,0))<<2^Kn(e,1))<<2^Kn(e,2))<<2^Kn(e,3):0}function BR(e){return e.trim()}function wB(e,t){return(e=t.exec(e))?e[0]:e}function ut(e,t,n){return e.replace(t,n)}function AA(e,t){return e.indexOf(t)}function Kn(e,t){return e.charCodeAt(t)|0}function Jd(e,t,n){return e.slice(t,n)}function ys(e){return e.length}function pb(e){return e.length}function Ph(e,t){return t.push(e),e}function EB(e,t){return e.map(t).join("")}var Lm=1,zc=1,DR=0,Or=0,wn=0,vu="";function Nm(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Lm,column:zc,length:o,return:""}}function Nu(e,t){return xB(Nm("",null,null,"",null,null,0),e,{length:-e.length},t)}function kB(){return wn}function CB(){return wn=Or>0?Kn(vu,--Or):0,zc--,wn===10&&(zc=1,Lm--),wn}function Yr(){return wn=Or<DR?Kn(vu,Or++):0,zc++,wn===10&&(zc=1,Lm++),wn}function Is(){return Kn(vu,Or)}function Vp(){return Or}function Wf(e,t){return Jd(vu,e,t)}function Xd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function FR(e){return Lm=zc=1,DR=ys(vu=e),Or=0,[]}function zR(e){return vu="",e}function Lp(e){return BR(Wf(Or-1,_A(e===91?e+2:e===40?e+1:e)))}function TB(e){for(;(wn=Is())&&wn<33;)Yr();return Xd(e)>2||Xd(wn)>3?"":" "}function IB(e,t){for(;--t&&Yr()&&!(wn<48||wn>102||wn>57&&wn<65||wn>70&&wn<97););return Wf(e,Vp()+(t<6&&Is()==32&&Yr()==32))}function _A(e){for(;Yr();)switch(wn){case e:return Or;case 34:case 39:e!==34&&e!==39&&_A(wn);break;case 40:e===41&&_A(e);break;case 92:Yr();break}return Or}function PB(e,t){for(;Yr()&&e+wn!==57;)if(e+wn===84&&Is()===47)break;return"/*"+Wf(t,Or-1)+"*"+Vm(e===47?e:Yr())}function RB(e){for(;!Xd(Is());)Yr();return Wf(e,Or)}function MB(e){return zR(Np("",null,null,null,[""],e=FR(e),0,[0],e))}function Np(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,m=1,A=1,v=1,y=0,b="",S=i,x=s,w=r,E=b;A;)switch(g=y,y=Yr()){case 40:if(g!=108&&Kn(E,d-1)==58){AA(E+=ut(Lp(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:E+=Lp(y);break;case 9:case 10:case 13:case 32:E+=TB(g);break;case 92:E+=IB(Vp()-1,7);continue;case 47:switch(Is()){case 42:case 47:Ph(jB(PB(Yr(),Vp()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=ys(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:A=0;case 59+u:v==-1&&(E=ut(E,/\f/g,"")),p>0&&ys(E)-d&&Ph(p>32?kE(E+";",r,n,d-1):kE(ut(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Ph(w=EE(E,t,n,c,u,i,a,b,S=[],x=[],d),s),y===123)if(u===0)Np(E,t,w,w,S,s,d,a,x);else switch(h===99&&Kn(E,3)===110?100:h){case 100:case 108:case 109:case 115:Np(e,w,w,r&&Ph(EE(e,w,w,0,0,i,a,b,i,S=[],d),x),i,x,d,a,r?S:x);break;default:Np(E,w,w,w,[""],x,0,a,x)}}c=u=p=0,m=v=1,b=E="",d=o;break;case 58:d=1+ys(E),p=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&CB()==125)continue}switch(E+=Vm(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(ys(E)-1)*v,v=1;break;case 64:Is()===45&&(E+=Lp(Yr())),h=Is(),u=d=ys(b=E+=RB(Vp())),y++;break;case 45:g===45&&ys(E)==2&&(m=0)}}return s}function EE(e,t,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=pb(h),g=0,m=0,A=0;g<r;++g)for(var v=0,y=Jd(e,d+1,d=bB(m=o[g])),b=e;v<p;++v)(b=BR(m>0?h[v]+" "+y:ut(y,/&\f/g,h[v])))&&(l[A++]=b);return Nm(e,t,n,i===0?fb:a,l,c,u)}function jB(e,t,n){return Nm(e,t,n,NR,Vm(kB()),Jd(e,2,-2),0)}function kE(e,t,n,r){return Nm(e,t,n,hb,Jd(e,0,r),Jd(e,r+1,-1),r)}function xc(e,t){for(var n="",r=pb(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function OB(e,t,n,r){switch(e.type){case _B:if(e.children.length)break;case AB:case hb:return e.return=e.return||e.value;case NR:return"";case $R:return e.return=e.value+"{"+xc(e.children,r)+"}";case fb:e.value=e.props.join(",")}return ys(n=xc(e.children,r))?e.return=e.value+"{"+n+"}":""}function VB(e){var t=pb(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function LB(e){return function(t){t.root||(t=t.return)&&e(t)}}function UR(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var NB=function(t,n,r){for(var i=0,s=0;i=s,s=Is(),i===38&&s===12&&(n[r]=1),!Xd(s);)Yr();return Wf(t,Or)},$B=function(t,n){var r=-1,i=44;do switch(Xd(i)){case 0:i===38&&Is()===12&&(n[r]=1),t[r]+=NB(Or-1,n,r);break;case 2:t[r]+=Lp(i);break;case 4:if(i===44){t[++r]=Is()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Vm(i)}while(i=Yr());return t},BB=function(t,n){return zR($B(FR(t),n))},CE=new WeakMap,DB=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!CE.get(r))&&!i){CE.set(t,!0);for(var s=[],o=BB(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},FB=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function HR(e,t){switch(SB(e,t)){case 5103:return ct+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+e+gg+e+ir+e+e;case 6828:case 4268:return ct+e+ir+e+e;case 6165:return ct+e+ir+"flex-"+e+e;case 5187:return ct+e+ut(e,/(\w+).+(:[^]+)/,ct+"box-$1$2"+ir+"flex-$1$2")+e;case 5443:return ct+e+ir+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return ct+e+ir+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return ct+e+ir+ut(e,"shrink","negative")+e;case 5292:return ct+e+ir+ut(e,"basis","preferred-size")+e;case 6060:return ct+"box-"+ut(e,"-grow","")+ct+e+ir+ut(e,"grow","positive")+e;case 4554:return ct+ut(e,/([^-])(transform)/g,"$1"+ct+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+ir+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,ct+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ys(e)-1-t>6)switch(Kn(e,t+1)){case 109:if(Kn(e,t+4)!==45)break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+gg+(Kn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~AA(e,"stretch")?HR(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Kn(e,t+1)!==115)break;case 6444:switch(Kn(e,ys(e)-3-(~AA(e,"!important")&&10))){case 107:return ut(e,":",":"+ct)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ct+(Kn(e,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+ir+"$2box$3")+e}break;case 5936:switch(Kn(e,t+11)){case 114:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ct+e+ir+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ct+e+ir+e+e}return e}var zB=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case hb:t.return=HR(t.value,t.length);break;case $R:return xc([Nu(t,{value:ut(t.value,"@","@"+ct)})],i);case fb:if(t.length)return EB(t.props,function(s){switch(wB(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xc([Nu(t,{props:[ut(s,/:(read-\w+)/,":"+gg+"$1")]})],i);case"::placeholder":return xc([Nu(t,{props:[ut(s,/:(plac\w+)/,":"+ct+"input-$1")]}),Nu(t,{props:[ut(s,/:(plac\w+)/,":"+gg+"$1")]}),Nu(t,{props:[ut(s,/:(plac\w+)/,ir+"input-$1")]})],i)}return""})}},UB=[zB],gb=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var A=m.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||UB,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var A=m.getAttribute("data-emotion").split(" "),v=1;v<A.length;v++)s[A[v]]=!0;a.push(m)});var l,c=[DB,FB];{var u,d=[OB,LB(function(m){u.insert(m)})],h=VB(c.concat(i,d)),p=function(A){return xc(MB(A),h)};l=function(A,v,y,b){u=y,p(A?A+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new yB({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}var qR={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Un=typeof Symbol=="function"&&Symbol.for,mb=Un?Symbol.for("react.element"):60103,vb=Un?Symbol.for("react.portal"):60106,$m=Un?Symbol.for("react.fragment"):60107,Bm=Un?Symbol.for("react.strict_mode"):60108,Dm=Un?Symbol.for("react.profiler"):60114,Fm=Un?Symbol.for("react.provider"):60109,zm=Un?Symbol.for("react.context"):60110,yb=Un?Symbol.for("react.async_mode"):60111,Um=Un?Symbol.for("react.concurrent_mode"):60111,Hm=Un?Symbol.for("react.forward_ref"):60112,qm=Un?Symbol.for("react.suspense"):60113,HB=Un?Symbol.for("react.suspense_list"):60120,Gm=Un?Symbol.for("react.memo"):60115,Wm=Un?Symbol.for("react.lazy"):60116,qB=Un?Symbol.for("react.block"):60121,GB=Un?Symbol.for("react.fundamental"):60117,WB=Un?Symbol.for("react.responder"):60118,YB=Un?Symbol.for("react.scope"):60119;function ti(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mb:switch(e=e.type,e){case yb:case Um:case $m:case Dm:case Bm:case qm:return e;default:switch(e=e&&e.$$typeof,e){case zm:case Hm:case Wm:case Gm:case Fm:return e;default:return t}}case vb:return t}}}function GR(e){return ti(e)===Um}vt.AsyncMode=yb;vt.ConcurrentMode=Um;vt.ContextConsumer=zm;vt.ContextProvider=Fm;vt.Element=mb;vt.ForwardRef=Hm;vt.Fragment=$m;vt.Lazy=Wm;vt.Memo=Gm;vt.Portal=vb;vt.Profiler=Dm;vt.StrictMode=Bm;vt.Suspense=qm;vt.isAsyncMode=function(e){return GR(e)||ti(e)===yb};vt.isConcurrentMode=GR;vt.isContextConsumer=function(e){return ti(e)===zm};vt.isContextProvider=function(e){return ti(e)===Fm};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mb};vt.isForwardRef=function(e){return ti(e)===Hm};vt.isFragment=function(e){return ti(e)===$m};vt.isLazy=function(e){return ti(e)===Wm};vt.isMemo=function(e){return ti(e)===Gm};vt.isPortal=function(e){return ti(e)===vb};vt.isProfiler=function(e){return ti(e)===Dm};vt.isStrictMode=function(e){return ti(e)===Bm};vt.isSuspense=function(e){return ti(e)===qm};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$m||e===Um||e===Dm||e===Bm||e===qm||e===HB||typeof e=="object"&&e!==null&&(e.$$typeof===Wm||e.$$typeof===Gm||e.$$typeof===Fm||e.$$typeof===zm||e.$$typeof===Hm||e.$$typeof===GB||e.$$typeof===WB||e.$$typeof===YB||e.$$typeof===qB)};vt.typeOf=ti;qR.exports=vt;var KB=qR.exports,Ab=KB,QB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},JB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},WR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_b={};_b[Ab.ForwardRef]=XB;_b[Ab.Memo]=WR;function TE(e){return Ab.isMemo(e)?WR:_b[e.$$typeof]||QB}var ZB=Object.defineProperty,eD=Object.getOwnPropertyNames,IE=Object.getOwnPropertySymbols,tD=Object.getOwnPropertyDescriptor,nD=Object.getPrototypeOf,PE=Object.prototype;function YR(e,t,n){if(typeof t!="string"){if(PE){var r=nD(t);r&&r!==PE&&YR(e,r,n)}var i=eD(t);IE&&(i=i.concat(IE(t)));for(var s=TE(e),o=TE(t),a=0;a<i.length;++a){var l=i[a];if(!JB[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=tD(t,l);try{ZB(e,l,c)}catch{}}}}return e}var rD=YR;const iD=lr(rD);var sD=!0;function oD(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var KR=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||sD===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},QR=function(t,n,r){KR(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function aD(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var lD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cD=/[A-Z]|^ms/g,uD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JR=function(t){return t.charCodeAt(1)===45},RE=function(t){return t!=null&&typeof t!="boolean"},Ov=UR(function(e){return JR(e)?e:e.replace(cD,"-$&").toLowerCase()}),ME=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(uD,function(r,i,s){return As={name:i,styles:s,next:As},i})}return lD[t]!==1&&!JR(t)&&typeof n=="number"&&n!==0?n+"px":n};function Zd(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return As={name:n.name,styles:n.styles,next:As},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)As={name:r.name,styles:r.styles,next:As},r=r.next;var i=n.styles+";";return i}return dD(e,t,n)}case"function":{if(e!==void 0){var s=As,o=n(e);return As=s,Zd(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function dD(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zd(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":RE(o)&&(r+=Ov(s)+":"+ME(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)RE(o[a])&&(r+=Ov(s)+":"+ME(s,o[a])+";");else{var l=Zd(e,t,o);switch(s){case"animation":case"animationName":{r+=Ov(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var jE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,As,bb=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";As=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=Zd(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=Zd(r,n,t[a]),i&&(s+=o[a]);jE.lastIndex=0;for(var l="",c;(c=jE.exec(s))!==null;)l+="-"+c[1];var u=aD(s)+l;return{name:u,styles:s,next:As}},fD=function(t){return t()},XR=pg.useInsertionEffect?pg.useInsertionEffect:!1,hD=XR||fD,OE=XR||_.useLayoutEffect,ZR=_.createContext(typeof HTMLElement<"u"?gb({key:"css"}):null),eM=ZR.Provider,tM=function(t){return _.forwardRef(function(n,r){var i=_.useContext(ZR);return t(n,i,r)})},Yf=_.createContext({}),nM=tM(function(e,t){var n=e.styles,r=bb([n],void 0,_.useContext(Yf)),i=_.useRef();return OE(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),OE(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&QR(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bb(t)}var _o=function(){var t=Ot.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};class bo{constructor(){this.listeners=[],this.onUpdate=(...t)=>{this.listeners.forEach(n=>n(...t))},this.addListener=t=>(this.listeners.push(t),()=>{this.removeListener(t)}),this.removeListener=t=>{this.listeners=this.listeners.filter(n=>n!==t)},this.clearAllListeners=()=>{console.log("clearing all listeners"),this.listeners=[]}}}const bA=e=>({setItem:(t,n)=>{e.setItem(t,JSON.stringify(n))},getItem:t=>{const n=e.getItem(t);if(n===null)return null;try{return JSON.parse(n)}catch{return n}},removeItem:t=>{e.removeItem(t)},clear:()=>{e.clear()}});class xA{constructor(){this.store={}}setItem(t,n){this.store[t]=n}getItem(t){const n=this.store[t];return n===void 0?null:n}removeItem(t){delete this.store[t]}get length(){return Object.keys(this.store).length}key(t){return Object.keys(this.store)[t]}clear(){this.store={}}}const VE=bA((global==null?void 0:global.localStorage)??new xA),Oe={...VE,local:VE,session:bA((global==null?void 0:global.sessionStorage)??new xA),memory:bA(new xA)},SA="CAMERA_GRANT_KEY",LE=Oe.local.getItem(SA);class pD extends bo{constructor(){super(),this.stream=null,this.recorder=null,this.videoData=[],this.permissionGranted=LE!==null?JSON.parse(LE):null,this.requestPermissions=async()=>{try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.permissionGranted=!0,await this.stopRecord()}catch{this.permissionGranted=!1}return Oe.local.setItem(SA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted),this.permissionGranted},this.disable=()=>{this.permissionGranted=!1,Oe.local.setItem(SA,JSON.stringify(this.permissionGranted)),this.onUpdate(this.permissionGranted)},this.startRecord=async()=>{if(this.permissionGranted)try{this.stream=await navigator.mediaDevices.getUserMedia({video:{frameRate:2}});const t=this.stream.getVideoTracks()[0].getSettings();this.video.width=t.width??this.video.width,this.video.height=t.height??this.video.height,this.canvas.width=this.video.width,this.canvas.height=this.video.height,this.video.srcObject=this.stream,await this.video.play(),this.recorder=new MediaRecorder(this.stream,{mimeType:"video/webm"}),this.recorder.ondataavailable=n=>{this.videoData.push(n.data)},this.recorder.start()}catch(t){console.warn(t)}},this.getVideo=()=>{const t=new Blob(this.videoData,{type:"video/webm"});return URL.createObjectURL(t)},this.stopRecord=async()=>{var t,n;this.permissionGranted&&((t=this.recorder)==null||t.stop(),(n=this.stream)==null||n.getTracks().forEach(r=>r.stop()))},this.clearData=()=>{this.videoData.length=0},this.restartRecord=async()=>{await this.stopRecord(),await this.clearData(),await this.startRecord()},this.getPermissionStatus=()=>this.permissionGranted,this.video=document.createElement("video"),this.video.width=480,this.video.height=this.video.width*(9/16),this.canvas=document.createElement("canvas"),this.canvas.width=this.video.width,this.canvas.height=this.video.height}}const Qi=new pD;function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(r){ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ef(e){return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&$E(e.prototype,t),n&&$E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gD(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,o,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(s=i.next()).done)&&(a.push(s.value),!r||a.length!==r);l=!0);}catch(u){c=!0,o=u}finally{try{l||i.return==null||i.return()}finally{if(c)throw o}}return a}}(e,t)||xb(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uc(e){return function(t){if(Array.isArray(t))return wA(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||xb(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xb(e,t){if(e){if(typeof e=="string")return wA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wA(e,t):void 0}}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function os(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}var Da={DEBUG:!1,LIB_VERSION:"1.130.0"},mD=Array.isArray,rM=Object.prototype,iM=rM.hasOwnProperty,Ym=rM.toString,Mn=mD||function(e){return Ym.call(e)==="[object Array]"},es=function(e){return typeof e=="function"},Es=function(e){return e===Object(e)&&!Mn(e)},Vv=function(e){if(Es(e)){for(var t in e)if(iM.call(e,t))return!1;return!0}return!1},Fe=function(e){return e===void 0},or=function(e){return Ym.call(e)=="[object String]"},ts=function(e){return e===null},Yo=function(e){return Fe(e)||ts(e)},Gi=function(e){return Ym.call(e)=="[object Number]"},$p=function(e){return Ym.call(e)==="[object Boolean]"},vD=function(e){return e instanceof FormData},X=typeof window<"u"?window:void 0,kr=typeof globalThis<"u"?globalThis:X,sM=Array.prototype,BE=sM.forEach,DE=sM.indexOf,tf=kr==null?void 0:kr.navigator,Se=kr==null?void 0:kr.document,gi=kr==null?void 0:kr.location,Sb=kr==null?void 0:kr.fetch,wb=kr!=null&&kr.XMLHttpRequest&&"withCredentials"in new kr.XMLHttpRequest?kr.XMLHttpRequest:void 0,FE=kr==null?void 0:kr.AbortController,cn=tf==null?void 0:tf.userAgent,Fr=X??{},zE="[PostHog.js]",me={_log:function(e){if(X&&(Da.DEBUG||Fr.POSTHOG_DEBUG)&&!Fe(X.console)&&X.console){for(var t=("__rrweb_original__"in X.console[e])?X.console[e].__rrweb_original__:X.console[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[zE].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];me._log.apply(me,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[zE].concat(n))},uninitializedWarning:function(e){me.error("You must initialize PostHog before calling ".concat(e))}},mg={},Km=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Sc(e,t,n){if(Mn(e)){if(BE&&e.forEach===BE)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===mg)return}}}function Tt(e,t,n){if(!Yo(e)){if(Mn(e))return Sc(e,t,n);if(vD(e)){var r,i=os(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===mg)return}}catch(a){i.e(a)}finally{i.f()}}else for(var o in e)if(iM.call(e,o)&&t.call(n,e[o],o)===mg)return}}var Nn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sc(n,function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])}),e};function ot(e,t){return e.indexOf(t)!==-1}function Bp(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var oM=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},UE=function(e){try{return e()}catch{return}},yD=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){me.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),me.critical(i)}}},EA=function(e){var t={};return Tt(e,function(n,r){or(n)&&n.length>0&&(t[r]=n)}),t};function AD(e,t){return n=e,r=function(s){return or(s)&&!ts(t)?s.slice(0,t):s},i=new Set,function s(o,a){return o!==Object(o)?r?r(o,a):o:i.has(o)?void 0:(i.add(o),Mn(o)?(l=[],Sc(o,function(c){l.push(s(c))})):(l={},Tt(o,function(c,u){i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var Yi,_D=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),ts(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},Js=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t)if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(l,c,u){return function(d){if(d=d||e(X==null?void 0:X.event)){var h,p=!0;es(u)&&(h=u(d));var g=c.call(l,d);return h!==!1&&g!==!1||(p=!1),p}}}(t,r,a)}else me.error("No valid element provided to register_event")}}();function nf(e,t){var n=function(){if(!Se)return t("document not found");var r=Se.createElement("script");r.type="text/javascript",r.src=e,r.onload=function(o){return t(void 0,o)},r.onerror=function(o){return t(o)};var i,s=Se.querySelectorAll("body > script");s.length>0?(i=s[0].parentNode)===null||i===void 0||i.insertBefore(r,s[0]):Se.body.appendChild(r)};Se!=null&&Se.body?n():Se==null||Se.addEventListener("DOMContentLoaded",n)}(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(Yi||(Yi={}));var aM="$people_distinct_id",ld="__alias",cd="__timers",HE="$autocapture_disabled_server_side",kA="$heatmaps_enabled_server_side",CA="$session_recording_enabled_server_side",qE="$console_log_recording_enabled_server_side",GE="$session_recording_network_payload_capture",WE="$session_recording_canvas_recording",YE="$replay_sample_rate",KE="$replay_minimum_duration",vg="$sesid",kd="$session_is_sampled",ec="$enabled_feature_flags",TA="$early_access_features",tc="$stored_person_properties",jo="$stored_group_properties",IA="$surveys",yg="$flag_call_reported",Gs="$user_state",PA="$client_session_props",RA="$capture_rate_limit",MA="$initial_campaign_params",jA="$initial_referrer_info",Ag="$epp",bD=[aM,ld,"__cmpns",cd,CA,kA,vg,ec,Gs,TA,jo,tc,IA,yg,PA,RA,MA,jA,Ag],Lv="$active_feature_flags",Rh="$override_feature_flags",QE="$feature_flag_payloads",JE=function(e){var t,n={},r=os(Bp(e||{}));try{for(r.s();!(t=r.n()).done;){var i=gr(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(a){r.e(a)}finally{r.f()}return n},xD=function(){function e(t){Vt(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Lt(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var t=this.instance.get_property(ec),n=this.instance.get_property(Rh);if(!n)return t||{};for(var r=Nn({},t),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this._override_warning||(me.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(QE)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(t){this.$anon_distinct_id=t}},{key:"setReloadingPaused",value:function(t){this.reloadFeatureFlagsInAction=t}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var t=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!t.reloadFeatureFlagsInAction&&t.reloadFeatureFlagsQueued&&(t.reloadFeatureFlagsQueued=!1,t._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var t=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(tc),i=this.instance.get_property(jo),s={token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:s,compression:this.instance.config.disable_compression?void 0:Yi.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(o){var a;t.setReloadingPaused(!1);var l=!0;o.statusCode===200&&(t.$anon_distinct_id=void 0,l=!1),t.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},l),t._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[t],s="".concat(i),o=this.instance.get_property(yg)||{};return(n.send_event||!("send_event"in n))&&(!(t in o)||!o[t].includes(s))&&(Mn(o[t])?o[t].push(s):o[t]=[s],(r=this.instance.persistence)===null||r===void 0||r.register(ie({},yg,o)),this.instance.capture("$feature_flag_called",{$feature_flag:t,$feature_flag_response:i})),i}me.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(t){return this.getFlagPayloads()[t]}},{key:"isFeatureEnabled",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);me.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers.push(t)}},{key:"removeFeatureFlagsHandler",value:function(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==t})}},{key:"receivedFeatureFlags",value:function(t,n){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads();(function(s,o){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.featureFlags,d=s.featureFlagPayloads;if(u)if(Mn(u)){var h,p={};if(u)for(var g=0;g<u.length;g++)p[u[g]]=!0;o&&o.register((ie(h={},Lv,u),ie(h,ec,p),h))}else{var m=u,A=d;s.errorsWhileComputingFlags&&(m=Ce(Ce({},l),m),A=Ce(Ce({},c),A)),o&&o.register((ie(a={},Lv,Object.keys(JE(m))),ie(a,ec,m||{}),ie(a,QE,A||{}),a))}})(t,this.instance.persistence,r,i),this._fireFeatureFlagsCallbacks(n)}}},{key:"override",value:function(t){if(!this.instance.__loaded||!this.instance.persistence)return me.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,t===!1)this.instance.persistence.unregister(Rh);else if(Mn(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;this.instance.persistence.register(ie({},Rh,n))}else this.instance.persistence.register(ie({},Rh,t))}},{key:"onFeatureFlags",value:function(t){var n=this;if(this.addFeatureFlagsHandler(t),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,s=r.flagVariants;t(i,s)}return function(){return n.removeFeatureFlagsHandler(t)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){var r,i,s=ie({},"$feature_enrollment/".concat(t),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:t,$feature_enrollment:n,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=Ce(Ce({},this.getFlagVariants()),{},ie({},t,n));(r=this.instance.persistence)===null||r===void 0||r.register((ie(i={},Lv,Object.keys(JE(o))),ie(i,ec,o),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(TA);if(i&&!r)return t(i);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(s){var o;if(s.json){var a=s.json.earlyAccessFeatures;return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},TA,a)),t(a)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(t){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,i=n.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,i,{errorsLoading:t})})}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(tc)||{};this.instance.register(ie({},tc,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(tc)}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(jo)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=Ce(Ce({},r[i]),t[i]),delete t[i]}),this.instance.register(ie({},jo,Ce(Ce({},r),t))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(t){if(t){var n=this.instance.get_property(jo)||{};this.instance.register(ie({},jo,Ce(Ce({},n),{},ie({},t,{}))))}else this.instance.unregister(jo)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Gi(e)&&isFinite(e)&&Math.floor(e)===e});var XE="0123456789abcdef",SD=function(){function e(t){if(Vt(this,e),this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}return Lt(e,[{key:"toString",value:function(){for(var t="",n=0;n<this.bytes.length;n++)t=t+XE.charAt(this.bytes[n]>>>4)+XE.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(t){return this.compareTo(t)===0}},{key:"compareTo",value:function(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),wD=function(){function e(){Vt(this,e),ie(this,"timestamp",0),ie(this,"counter",0),ie(this,"random",new ED)}return Lt(e,[{key:"generate",value:function(){var t=this.generateOrAbort();if(Fe(t)){this.timestamp=0;var n=this.generateOrAbort();if(Fe(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}},{key:"generateOrAbort",value:function(){var t=Date.now();if(t>this.timestamp)this.timestamp=t,this.resetCounter();else{if(!(t+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return SD.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),lM=function(e){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};X&&!Fe(X.crypto)&&crypto.getRandomValues&&(lM=function(e){return crypto.getRandomValues(e)});var ZE,ED=function(){function e(){Vt(this,e),ie(this,"buffer",new Uint32Array(8)),ie(this,"cursor",1/0)}return Lt(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(lM(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),zo=function(){return kD().toString()},kD=function(){return(ZE||(ZE=new wD)).generate()},CD="Thu, 01 Jan 1970 00:00:00 GMT",$u="",TD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function ID(e,t){if(t){var n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Se;if($u)return $u;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),a=Math.min(o.length,8),l="dmn_chk_"+zo(),c=new RegExp("(^|;)\\s*"+l+"=1");!$u&&a--;){var u=o.slice(a).join("."),d=l+"=1;domain=."+u;s.cookie=d,c.test(s.cookie)&&(s.cookie=d+";expires="+CD,$u=u)}return $u}(e);if(!n){var r=function(i){var s=i.match(TD);return s?s[0]:""}(e);r!==n&&me.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Hn,Ps={is_supported:function(){return!!Se},error:function(e){me.error("cookieStore error: "+e)},get:function(e){if(Se){try{for(var t=e+"=",n=Se.cookie.split(";").filter(function(s){return s.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},parse:function(e){var t;try{t=JSON.parse(Ps.get(e))||{}}catch{}return t},set:function(e,t,n,r,i){if(Se)try{var s="",o="",a=ID(Se.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&me.warn("cookieStore warning: large cookie, len="+c.length),Se.cookie=c,c}catch{return}},remove:function(e,t){try{Ps.set(e,"",-1,t)}catch{return}}},Nv=null,_n={is_supported:function(){if(!ts(Nv))return Nv;var e=!0;if(Fe(X))e=!1;else try{var t="__mplssupport__";_n.set(t,"xyz"),_n.get(t)!=='"xyz"'&&(e=!1),_n.remove(t)}catch{e=!1}return e||me.error("localStorage unsupported; falling back to cookie store"),Nv=e,e},error:function(e){me.error("localStorage error: "+e)},get:function(e){try{return X==null?void 0:X.localStorage.getItem(e)}catch(t){_n.error(t)}return null},parse:function(e){try{return JSON.parse(_n.get(e))||{}}catch{}return null},set:function(e,t){try{X==null||X.localStorage.setItem(e,JSON.stringify(t))}catch(n){_n.error(n)}},remove:function(e){try{X==null||X.localStorage.removeItem(e)}catch(t){_n.error(t)}}},PD=["distinct_id",vg,kd,Ag],ud=Ce(Ce({},_n),{},{parse:function(e){try{var t={};try{t=Ps.parse(e)||{}}catch{}var n=Nn(t,JSON.parse(_n.get(e)||"{}"));return _n.set(e,n),n}catch{}return null},set:function(e,t,n,r,i){try{_n.set(e,t);var s={};PD.forEach(function(o){t[o]&&(s[o]=t[o])}),Object.keys(s).length&&Ps.set(e,s,n,r,i)}catch(o){_n.error(o)}},remove:function(e,t){try{X==null||X.localStorage.removeItem(e),Ps.remove(e,t)}catch(n){_n.error(n)}}}),Mh={},RD={is_supported:function(){return!0},error:function(e){me.error("memoryStorage error: "+e)},get:function(e){return Mh[e]||null},parse:function(e){return Mh[e]||null},set:function(e,t){Mh[e]=t},remove:function(e){delete Mh[e]}},Sa=null,Wn={is_supported:function(){if(!ts(Sa))return Sa;if(Sa=!0,Fe(X))Sa=!1;else try{var e="__support__";Wn.set(e,"xyz"),Wn.get(e)!=='"xyz"'&&(Sa=!1),Wn.remove(e)}catch{Sa=!1}return Sa},error:function(e){me.error("sessionStorage error: ",e)},get:function(e){try{return X==null?void 0:X.sessionStorage.getItem(e)}catch(t){Wn.error(t)}return null},parse:function(e){try{return JSON.parse(Wn.get(e))||null}catch{}return null},set:function(e,t){try{X==null||X.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Wn.error(n)}},remove:function(e){try{X==null||X.sessionStorage.removeItem(e)}catch(t){Wn.error(t)}}},MD=["localhost","127.0.0.1"],cM=function(e){var t=Se==null?void 0:Se.createElement("a");return Fe(t)?null:(t.href=e,t)},jD=function(e,t){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(t)&&new RegExp(t).test(e)},OD=function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",i=[];return Tt(e,function(s,o){Fe(s)||Fe(o)||o==="undefined"||(t=encodeURIComponent(function(a){return a instanceof File}(s)?s.name:s.toString()),n=encodeURIComponent(o),i[i.length]=n+"="+t)}),i.join(r)},e2=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!Mn(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{me.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},_g=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},xi="Mobile",bg="iOS",ks="Android",rf="Tablet",uM=ks+" "+rf,dM="iPad",fM="Apple",hM=fM+" Watch",Qm="Safari",Hc="BlackBerry",pM="Samsung",gM=pM+"Browser",mM=pM+" Internet",tl="Chrome",VD=tl+" OS",vM=tl+" "+bg,Eb="Internet Explorer",yM=Eb+" "+xi,kb="Opera",LD=kb+" Mini",Cb="Edge",AM="Microsoft "+Cb,wc="Firefox",_M=wc+" "+bg,sf="Nintendo",of="PlayStation",Ec="Xbox",bM=ks+" "+xi,xM=xi+" "+Qm,dd="Windows",OA=dd+" Phone",t2="Nokia",VA="Ouya",SM="Generic",ND=SM+" "+xi.toLowerCase(),wM=SM+" "+rf.toLowerCase(),LA="Konqueror",hr="(\\d+(\\.\\d+)?)",$v=new RegExp("Version/"+hr),$D=new RegExp(Ec,"i"),BD=new RegExp(of+" \\w+","i"),DD=new RegExp(sf+" \\w+","i"),Tb=new RegExp(Hc+"|PlayBook|BB10","i"),FD={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},zD=function(e,t){return t&&ot(t,fM)||function(n){return ot(n,Qm)&&!ot(n,tl)&&!ot(n,ks)}(e)},n2=function(e,t){return t=t||"",ot(e," OPR/")&&ot(e,"Mini")?LD:ot(e," OPR/")?kb:Tb.test(e)?Hc:ot(e,"IE"+xi)||ot(e,"WPDesktop")?yM:ot(e,gM)?mM:ot(e,Cb)||ot(e,"Edg/")?AM:ot(e,"FBIOS")?"Facebook "+xi:ot(e,tl)?tl:ot(e,"CriOS")?vM:ot(e,"UCWEB")||ot(e,"UCBrowser")?"UC Browser":ot(e,"FxiOS")?_M:ot(e,ks)?bM:ot(e.toLowerCase(),LA.toLowerCase())?LA:zD(e,t)?ot(e,xi)?xM:Qm:ot(e,wc)?wc:ot(e,"MSIE")||ot(e,"Trident/")?Eb:ot(e,"Gecko")?wc:""},UD=(ie(Hn={},yM,[new RegExp("rv:"+hr)]),ie(Hn,AM,[new RegExp(Cb+"?\\/"+hr)]),ie(Hn,tl,[new RegExp(tl+"/"+hr)]),ie(Hn,vM,[new RegExp("CriOS\\/"+hr)]),ie(Hn,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+hr)]),ie(Hn,Qm,[$v]),ie(Hn,xM,[$v]),ie(Hn,kb,[new RegExp("(Opera|OPR)\\/"+hr)]),ie(Hn,wc,[new RegExp(wc+"\\/"+hr)]),ie(Hn,_M,[new RegExp("FxiOS\\/"+hr)]),ie(Hn,LA,[new RegExp("Konqueror[:/]?"+hr,"i")]),ie(Hn,Hc,[new RegExp(Hc+" "+hr),$v]),ie(Hn,bM,[new RegExp("android\\s"+hr)]),ie(Hn,mM,[new RegExp(gM+"\\/"+hr)]),ie(Hn,Eb,[new RegExp("(rv:|MSIE )"+hr)]),ie(Hn,"Mozilla",[new RegExp("rv:"+hr)]),Hn),r2=[[new RegExp(Ec+"; "+Ec+" (.*?)[);]","i"),function(e){return[Ec,e&&e[1]||""]}],[new RegExp(sf,"i"),[sf,""]],[new RegExp(of,"i"),[of,""]],[Tb,[Hc,""]],[new RegExp(dd,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[OA,""];if(new RegExp(xi).test(t)&&!/IEMobile\b/.test(t))return[dd+" "+xi,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=FD[r]||"";return/arm/i.test(t)&&(i="RT"),[dd,i]}return[dd,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[bg,t.join(".")]}return[bg,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=Fe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+ks+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ks+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[ks,t.join(".")]}return[ks,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[VD,""]],[/Linux|debian/i,["Linux",""]]],i2=function(e){return DD.test(e)?sf:BD.test(e)?of:$D.test(e)?Ec:new RegExp(VA,"i").test(e)?VA:new RegExp("("+OA+"|WPDesktop)","i").test(e)?OA:/iPad/.test(e)?dM:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?hM:Tb.test(e)?Hc:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(t2,"i").test(e)?t2:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(xi).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ks:uM:ks:new RegExp("(pda|"+xi+")","i").test(e)?ND:new RegExp(rf,"i").test(e)&&!new RegExp(rf+" pc","i").test(e)?wM:""},jh="https?://(.*)",HD=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],$n={campaignParams:function(e){var t=HD.concat(e||[]),n={};return Tt(t,function(r){var i=Se?e2(Se.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var e=Se==null?void 0:Se.referrer;return e?e.search(jh+"google.([^/?]*)")===0?"google":e.search(jh+"bing.com")===0?"bing":e.search(jh+"yahoo.com")===0?"yahoo":e.search(jh+"duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var e=$n.searchEngine(),t=e!="yahoo"?"q":"p",n={};if(!ts(e)){n.$search_engine=e;var r=Se?e2(Se.referrer,t):"";r.length&&(n.ph_keyword=r)}return n},browser:n2,browserVersion:function(e,t){var n=n2(e,t),r=UD[n];if(Fe(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<r2.length;t++){var n=gr(r2[t],2),r=n[0],i=n[1],s=r.exec(e),o=s&&(es(i)?i(s,e):i);if(o)return o}return["",""]},device:i2,deviceType:function(e){var t=i2(e);return t===dM||t===uM||t==="Kobo"||t==="Kindle Fire"||t===wM?rf:t===sf||t===Ec||t===of||t===VA?"Console":t===hM?"Wearable":t?xi:"Desktop"},referrer:function(){return(Se==null?void 0:Se.referrer)||"$direct"},referringDomain:function(){var e;return Se!=null&&Se.referrer&&((e=cM(Se.referrer))===null||e===void 0?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!cn)return{};var e=gr($n.os(cn),2),t=e[0],n=e[1];return Nn(EA({$os:t,$os_version:n,$browser:$n.browser(cn,navigator.vendor),$device:$n.device(cn),$device_type:$n.deviceType(cn)}),{$current_url:gi==null?void 0:gi.href,$host:gi==null?void 0:gi.host,$pathname:gi==null?void 0:gi.pathname,$raw_user_agent:cn.length>1e3?cn.substring(0,997)+"...":cn,$browser_version:$n.browserVersion(cn,navigator.vendor),$browser_language:$n.browserLanguage(),$screen_height:X==null?void 0:X.screen.height,$screen_width:X==null?void 0:X.screen.width,$viewport_height:X==null?void 0:X.innerHeight,$viewport_width:X==null?void 0:X.innerWidth,$lib:"web",$lib_version:Da.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:oM()/1e3})},people_properties:function(){if(!cn)return{};var e=gr($n.os(cn),2),t=e[0],n=e[1];return Nn(EA({$os:t,$os_version:n,$browser:$n.browser(cn,navigator.vendor)}),{$browser_version:$n.browserVersion(cn,navigator.vendor)})}},qD=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Bv=function(){function e(t){Vt(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(n){var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return Lt(e,[{key:"buildStorage",value:function(t){qD.indexOf(t.persistence.toLowerCase())===-1&&(me.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&_n.is_supported()?_n:n==="localstorage+cookie"&&ud.is_supported()?ud:n==="sessionstorage"&&Wn.is_supported()?Wn:n==="memory"?RD:n==="cookie"?Ps:ud.is_supported()?ud:Ps}},{key:"properties",value:function(){var t={};return Tt(this.props,function(n,r){if(r===ec&&Es(n))for(var i=Object.keys(n),s=0;s<i.length;s++)t["$feature/".concat(i[s])]=n[i[s]];else a=r,l=!1,(ts(o=bD)?l:DE&&o.indexOf===DE?o.indexOf(a)!=-1:(Tt(o,function(c){if(l||(l=c===a))return mg}),l))||(t[r]=n);var o,a,l}),t}},{key:"load",value:function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Nn({},t))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(t,n,r){var i=this;if(Es(t)){Fe(n)&&(n="None"),this.expire_days=Fe(r)?this.default_expiry:r;var s=!1;if(Tt(t,function(o,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"register",value:function(t,n){var r=this;if(Es(t)){this.expire_days=Fe(n)?this.default_expiry:n;var i=!1;if(Tt(t,function(s,o){t.hasOwnProperty(o)&&r.props[o]!==s&&(r.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(t){t in this.props&&(delete this.props[t],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register($n.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(ie({},MA,$n.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register($n.searchInfo())}},{key:"update_referrer_info",value:function(){this.register($n.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(ie({},jA,$n.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return EA({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var t=this,n={};return Tt([jA,MA],function(r){var i=t.props[r];i&&Tt(i,function(s,o){var a;n["$initial_"+(a=o,a.replace(/^\$/,""))]=s})}),n}},{key:"safe_merge",value:function(t){return Tt(this.props,function(n,r){r in t||(t[r]=n)}),t}},{key:"update_config",value:function(t,n){if(this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.buildStorage(t),i=this.props;this.clear(),this.storage=r,this.props=i,this.save()}}},{key:"set_disabled",value:function(t){this.disabled=t,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(t){t!==this.secure&&(this.secure=t,this.remove(),this.save())}},{key:"set_event_timer",value:function(t,n){var r=this.props[cd]||{};r[t]=n,this.props[cd]=r,this.save()}},{key:"remove_event_timer",value:function(t){var n=(this.props[cd]||{})[t];return Fe(n)||(delete this.props[cd][t],this.save()),n}},{key:"get_property",value:function(t){return this.props[t]}},{key:"set_property",value:function(t,n){this.props[t]=n,this.save()}}]),e}(),GD=2,WD=4,YD=Lt(function e(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vt(this,e),ie(this,"bucketSize",100),ie(this,"refillRate",10),ie(this,"mutationBuckets",{}),ie(this,"loggedTracker",{}),ie(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(o){i.mutationBuckets[o]=i.mutationBuckets[o]+i.refillRate,i.mutationBuckets[o]>=i.bucketSize&&delete i.mutationBuckets[o]})}),ie(this,"getNodeOrRelevantParent",function(o){var a=i.rrweb.mirror.getNode(o);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[o,a]}),ie(this,"numberOfChanges",function(o){var a,l,c,u,d,h,p,g;return((a=(l=o.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((c=(u=o.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((d=(h=o.texts)===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0)+((p=(g=o.adds)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0)}),ie(this,"throttleMutations",function(o){if(o.type!==3||o.data.source!==0)return o;var a=o.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var d,h,p,g=gr(i.getNodeOrRelevantParent(u.id),2),m=g[0],A=g[1];return i.mutationBuckets[m]===0?!1:(i.mutationBuckets[m]=(d=i.mutationBuckets[m])!==null&&d!==void 0?d:i.bucketSize,i.mutationBuckets[m]=Math.max(i.mutationBuckets[m]-1,0),i.mutationBuckets[m]===0&&(i.loggedTracker[m]||(i.loggedTracker[m]=!0,(h=(p=i.options).onBlockedNode)===null||h===void 0||h.call(p,m,A))),u)}));var c=i.numberOfChanges(a);return c!==0||l===c?o:void 0}),this.rrweb=t,this.options=s,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),Dp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Dp||{});function Ib(e){return e?Km(e).split(/\s+/):[]}function xg(e){var t="";switch(ef(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Ib(t)}function EM(e){return Yo(e)?null:Km(e).split(/(\s+)/).filter(function(t){return kc(t)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Sg(e){var t="";return $A(e)&&!IM(e)&&e.childNodes&&e.childNodes.length&&Tt(e.childNodes,function(n){var r;kM(n)&&n.textContent&&(t+=(r=EM(n.textContent))!==null&&r!==void 0?r:"")}),Km(t)}function Pb(e){return!!e&&e.nodeType===1}function Ko(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function kM(e){return!!e&&e.nodeType===3}function CM(e){return!!e&&e.nodeType===11}var NA=["a","button","form","input","select","textarea","label"];function TM(e){var t=e.parentNode;return!(!t||!Pb(t))&&t}function KD(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!X||!e||Ko(e,"html")||!Pb(e))return!1;if(n!=null&&n.url_allowlist){var s=X.location.href,o=n.url_allowlist;if(o&&!o.some(function(m){return s.match(m)}))return!1}if(n!=null&&n.dom_event_allowlist){var a=n.dom_event_allowlist;if(a&&!a.some(function(m){return t.type===m}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!Ko(d,"body");)if(CM(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=TM(d)))break;if(r||NA.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=X.getComputedStyle(u);h&&h.getPropertyValue("cursor")==="pointer"&&(l=!0)}c.push(u),d=u}if(!function(m,A){var v=A==null?void 0:A.element_allowlist;if(Fe(v))return!0;var y,b=os(m);try{var S=function(){var w=y.value;if(v.some(function(E){return w.tagName.toLowerCase()===E}))return{v:!0}};for(b.s();!(y=b.n()).done;){var x=S();if(ef(x)==="object")return x.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n)||!function(m,A){var v=A==null?void 0:A.css_selector_allowlist;if(Fe(v))return!0;var y,b=os(m);try{var S=function(){var w=y.value;if(v.some(function(E){return w.matches(E)}))return{v:!0}};for(b.s();!(y=b.n()).done;){var x=S();if(ef(x)==="object")return x.v}}catch(w){b.e(w)}finally{b.f()}return!1}(c,n))return!1;var p=X.getComputedStyle(e);if(p&&p.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return l?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(NA.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function $A(e){for(var t=e;t.parentNode&&!Ko(t,"body");t=t.parentNode){var n=xg(t);if(ot(n,"ph-sensitive")||ot(n,"ph-no-capture"))return!1}if(ot(xg(e),"ph-include"))return!0;var r=e.type||"";if(or(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(or(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function IM(e){return!!(Ko(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Ko(e,"select")||Ko(e,"textarea")||e.getAttribute("contenteditable")==="true")}var PM="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",QD=new RegExp("^(?:".concat(PM,")$")),JD=new RegExp(PM),RM="\\d{3}-?\\d{2}-?\\d{4}",XD=new RegExp("^(".concat(RM,")$")),ZD=new RegExp("(".concat(RM,")"));function kc(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(Yo(e)||or(e)&&(e=Km(e),(t?QD:JD).test((e||"").replace(/[- ]/g,""))||(t?XD:ZD).test(e)))}function s2(e){var t=Sg(e);return kc(t="".concat(t," ").concat(MM(e)).trim())?t:""}function MM(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Tt(e.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Sg(n);t="".concat(t," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(t="".concat(t," ").concat(MM(n)).trim())}catch(s){me.error(s)}}),t}function eF(e){return function(t){var n=t.map(function(r){var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=os(r.attr_class);try{for(l.s();!(a=l.n()).done;){var c=a.value;o+=".".concat(c.replace(/"/g,""))}}catch(h){l.e(h)}finally{l.f()}}var u=Ce(Ce(Ce(Ce({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),d={};return Bp(u).sort(function(h,p){var g=gr(h,1)[0],m=gr(p,1)[0];return g.localeCompare(m)}).forEach(function(h){var p=gr(h,2),g=p[0],m=p[1];return d[o2(g.toString())]=o2(m.toString())}),o+=":",o+=Bp(u).map(function(h){var p=gr(h,2),g=p[0],m=p[1];return"".concat(g,'="').concat(m,'"')}).join("")});return n.join(";")}(function(t){return t.map(function(n){var r,i,s={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:tF(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Bp(n).filter(function(o){return gr(o,1)[0].indexOf("attr__")===0}).forEach(function(o){var a=gr(o,2),l=a[0],c=a[1];return s.attributes[l]=c}),s})}(e))}function o2(e){return e.replace(/"|\\"/g,'\\"')}function tF(e){var t=e.attr__class;return t?Mn(t)?t:Ib(t):void 0}var BA="[SessionRecording]",Dv={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},nF=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],rF=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],iF=["/s/","/e/","/i/"];function a2(e,t,n,r){if(Yo(e))return e;var i=(t==null?void 0:t["content-length"])||function(s){return new Blob([s]).size}(e);return or(i)&&(i=parseInt(i)),i>n?BA+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function l2(e,t){if(Yo(e))return e;var n=e;return kc(n,!1)||(n=BA+" "+t+" body redacted"),Tt(rF,function(r){var i,s;(i=n)!==null&&i!==void 0&&i.length&&((s=n)===null||s===void 0?void 0:s.indexOf(r))!==-1&&(n=BA+" "+t+" body redacted as might contain: "+r)}),n}var sF=function(e,t){var n,r,i,s={payloadSizeLimitBytes:Dv.payloadSizeLimitBytes,performanceEntryTypeToObserve:Uc(Dv.performanceEntryTypeToObserve)},o=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(h){return h!=null&&h.requestBody&&(h.requestBody=a2(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=a2(h.responseBody,h.responseHeaders,i,"Response")),h}),u=function(h){return c(function(m){var A=cM(m.name);if(!(A&&A.pathname&&iF.some(function(v){return A.pathname.indexOf(v)===0})))return m}((p=h,Tt(Object.keys((g=p.requestHeaders)!==null&&g!==void 0?g:{}),function(m){var A;nF.includes(m.toLowerCase())&&((A=p.requestHeaders)===null||A===void 0||delete A[m])}),p)));var p,g},d=es(e.session_recording.maskNetworkRequestFn);return d&&es(e.session_recording.maskCapturedNetworkRequestFn)&&me.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(h){var p=e.session_recording.maskNetworkRequestFn({url:h.name});return Ce(Ce({},h),{},{name:p==null?void 0:p.url})}),s.maskRequestFn=es(e.session_recording.maskCapturedNetworkRequestFn)?function(h){var p,g,m,A=u(h);return A&&(p=(g=(m=e.session_recording).maskCapturedNetworkRequestFn)===null||g===void 0?void 0:g.call(m,A))!==null&&p!==void 0?p:void 0}:function(h){return function(p){if(!Fe(p))return p.requestBody=l2(p.requestBody,"Request"),p.responseBody=l2(p.responseBody,"Response"),p}(u(h))},Ce(Ce(Ce({},Dv),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})},oF="__ph_opt_in_out_";function aF(e,t){VM(!0,e,t)}function lF(e,t){VM(!1,e,t)}function cF(e,t){return OM(e,t)==="1"}function jM(e,t){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||X,i=r==null?void 0:r.navigator,s=!1;return Tt([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(o){ot([!0,1,"1","yes"],o)&&(s=!0)}),s}return!1}(t)||OM(e,t)==="0"}function uF(e,t){Rb(t=t||{}).remove(Mb(e,t),!!t.crossSubdomainCookie)}function Rb(e){return(e=e||{}).persistenceType==="localStorage"?_n:e.persistenceType==="localStorage+cookie"?ud:Ps}function Mb(e,t){return((t=t||{}).persistencePrefix||oF)+e}function OM(e,t){return Rb(t).get(Mb(e,t))}function VM(e,t,n){or(t)&&t.length?(Rb(n=n||{}).set(Mb(t,n),e?1:0,Gi(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):me.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function LM(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=jM(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(a){me.error("Unexpected error when checking capturing opt-out status: "+a)}return t}var gs,NM=3e5,c2=NM;(function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(gs||(gs={}));var dF=[gs.MouseMove,gs.MouseInteraction,gs.Scroll,gs.ViewportResize,gs.Input,gs.TouchMove,gs.MediaInteraction,gs.Drag],u2=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},$r="[SessionRecording]",fF=function(){function e(t){var n=this;if(Vt(this,e),ie(this,"queuedRRWebEvents",[]),ie(this,"isIdle",!1),ie(this,"_linkedFlagSeen",!1),ie(this,"_lastActivityTimestamp",Date.now()),ie(this,"windowId",null),ie(this,"sessionId",null),ie(this,"_linkedFlag",null),ie(this,"_forceAllowLocalhostNetworkCapture",!1),ie(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,X==null||X.addEventListener("beforeunload",function(){n._flushBuffer()}),X==null||X.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),X==null||X.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),X==null||X.addEventListener("visibilitychange",function(){if(Se!=null&&Se.visibilityState){var r="window "+Se.visibilityState;n._tryAddCustomEvent(r,{})}}),!this.instance.sessionManager)throw me.error($r+" started without valid sessionManager"),new Error($r+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return Lt(e,[{key:"rrwebRecord",get:function(){var t;return Fr==null||(t=Fr.rrweb)===null||t===void 0?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw me.error($r+" started without valid sessionManager"),new Error($r+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var t=this.instance.get_property(kd);return $p(t)?t:null}},{key:"sessionDuration",get:function(){var t,n,r=(t=this.buffer)===null||t===void 0?void 0:t.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var t=!!this.instance.get_property(CA),n=!this.instance.config.disable_session_recording;return X&&t&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var t=!!this.instance.get_property(qE),n=this.instance.config.enable_recording_console_log;return n??t}},{key:"canvasRecording",get:function(){var t=this.instance.get_property(WE);return t&&t.fps&&t.quality?{enabled:t.enabled,fps:t.fps,quality:t.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var t,n,r=this.instance.get_property(GE),i={recordHeaders:(t=this.instance.config.session_recording)===null||t===void 0?void 0:t.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return s||o||a?{recordHeaders:s,recordBody:o,recordPerformance:a}:void 0}},{key:"sampleRate",get:function(){var t=this.instance.get_property(YE);return Gi(t)?t:null}},{key:"minimumDuration",get:function(){var t=this.instance.get_property(KE);return Gi(t)?t:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Yo(this._linkedFlag)||this._linkedFlagSeen?$p(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),me.info($r+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,me.info($r+" stopped"))}},{key:"makeSamplingDecision",value:function(t){var n,r=this.sessionId!==t,i=this.sampleRate;if(Gi(i)){var s,o=this.isSampled,a=r||!$p(o);a?s=Math.random()<i:s=o,!s&&a&&me.warn($r+" Sample rate (".concat(i,") has determined that this sessionId (").concat(t,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),(n=this.instance.persistence)===null||n===void 0||n.register(ie({},kd,s))}else{var l;(l=this.instance.persistence)===null||l===void 0||l.register(ie({},kd,null))}}},{key:"afterDecideResponse",value:function(t){var n,r,i,s=this;if(this._persistDecideResponse(t),this._linkedFlag=((n=t.sessionRecording)===null||n===void 0?void 0:n.linkedFlag)||null,(r=t.sessionRecording)!==null&&r!==void 0&&r.endpoint&&(this._endpoint=(i=t.sessionRecording)===null||i===void 0?void 0:i.endpoint),this._setupSampling(),!Yo(this._linkedFlag)){var o=or(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=or(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(l,c){var u=Es(c)&&o in c,d=a?c[o]===a:u;if(d){var h={linkedFlag:o,linkedVariant:a},p="linked flag matched";me.info($r+" "+p,h),s._tryAddCustomEvent(p,h)}s._linkedFlagSeen=d})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var t=this;Gi(this.sampleRate)&&ts(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(n){t.makeSamplingDecision(n)}))}},{key:"_persistDecideResponse",value:function(t){if(this.instance.persistence){var n=this.instance.persistence,r=function(){var i,s,o,a,l,c,u,d,h=(i=t.sessionRecording)===null||i===void 0?void 0:i.sampleRate,p=Yo(h)?null:parseFloat(h),g=(s=t.sessionRecording)===null||s===void 0?void 0:s.minimumDurationMilliseconds;n.register((ie(d={},CA,!!t.sessionRecording),ie(d,qE,(o=t.sessionRecording)===null||o===void 0?void 0:o.consoleLogRecordingEnabled),ie(d,GE,Ce({capturePerformance:t.capturePerformance},(a=t.sessionRecording)===null||a===void 0?void 0:a.networkPayloadCapture)),ie(d,WE,{enabled:(l=t.sessionRecording)===null||l===void 0?void 0:l.recordCanvas,fps:(c=t.sessionRecording)===null||c===void 0?void 0:c.canvasFps,quality:(u=t.sessionRecording)===null||u===void 0?void 0:u.canvasQuality}),ie(d,YE,p),ie(d,KE,Fe(g)?null:g),d))};r(),this.sessionManager.onSessionId(r)}}},{key:"log",value:function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(t)]}},timestamp:oM()})}},{key:"_startCapture",value:function(){var t=this;Fe(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||LM(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():nf(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(Da.LIB_VERSION)),function(n){if(n)return me.error($r+" could not load recorder.js",n);t._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(t){var n;return t.type===3&&dF.indexOf((n=t.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(t){var n=this.isInteractiveEvent(t);n||this.isIdle||t.timestamp-this._lastActivityTimestamp>c2&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:t.timestamp-this._lastActivityTimestamp,threshold:c2}));var r=!1;if(n&&(this._lastActivityTimestamp=t.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)),!this.isIdle){var i=this.sessionManager.checkAndGetSessionAndWindowId(!n,t.timestamp),s=i.windowId,o=i.sessionId,a=this.sessionId!==o,l=this.windowId!==s;this.windowId=s,this.sessionId=o,(r||[GD,WD].indexOf(t.type)===-1&&(l||a))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(t){try{return t.rrwebMethod(),!0}catch(n){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):me.warn($r+" could not emit queued rrweb event.",n,t),!1}}},{key:"_tryAddCustomEvent",value:function(t,n){var r=this;return this._tryRRWebMethod(u2(function(){return r.rrwebRecord.addCustomEvent(t,n)}))}},{key:"_tryTakeFullSnapshot",value:function(){var t=this;return this._tryRRWebMethod(u2(function(){return t.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var t,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording,s=0,o=Object.entries(i||{});s<o.length;s++){var a=gr(o[s],2),l=a[0],c=a[1];l in r&&(r[l]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=(t=this.mutationRateLimiter)!==null&&t!==void 0?t:new YD(this.rrwebRecord,{onBlockedNode:function(d,h){var p="Too many mutations on node '".concat(d,"'. Rate limiting. This could be due to SVG animations or something similar");me.info(p,{node:h}),n.log($r+" "+p,"warn")}}),this._scheduleFullSnapshot();var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(Ce({emit:function(d){n.onRRwebEmit(d)},plugins:u},r)),this.instance._addCaptureHook(function(d){try{if(d==="$pageview"){var h=X?n._maskUrl(X.location.href):"";if(!h)return;n._tryAddCustomEvent("$pageview",{href:h}),n._tryTakeFullSnapshot()}}catch(p){me.error("Could not add $pageview to rrweb session",p)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:r,activePlugins:u.map(function(d){return d==null?void 0:d.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else me.error($r+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var t=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){t._tryTakeFullSnapshot()},NM)}},{key:"_gatherRRWebPlugins",value:function(){var t=[];return Fr.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&t.push(Fr.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&es(Fr.getRecordNetworkPlugin)&&(!MD.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?t.push(Fr.getRecordNetworkPlugin(sF(this.instance.config,this.networkPayloadCapture))):me.info($r+" NetworkCapture not started because we are on localhost.")),t}},{key:"onRRwebEmit",value:function(t){if(this._processQueuedEvents(),t&&Es(t)){if(t.type===Dp.Meta){var n=this._maskUrl(t.data.href);if(this._lastHref=n,!n)return;t.data.href=n}else this._pageViewFallBack();t.type===Dp.FullSnapshot&&this._scheduleFullSnapshot();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(t):t;if(r){var i=function(a){var l=a;if(l&&Es(l)&&l.type===6&&Es(l.data)&&l.data.plugin==="rrweb/console@1"){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var c=[],u=0;u<l.data.payload.payload.length;u++)l.data.payload.payload[u]&&l.data.payload.payload[u].length>2e3?c.push(l.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):c.push(l.data.payload.payload[u]);return l.data.payload.payload=c,a}return a}(r),s=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle||i.type===Dp.Custom){var o={$snapshot_bytes:s,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(o):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&X){var t=this._maskUrl(X.location.href);this._lastHref!==t&&(this._tryAddCustomEvent("$url_changed",{href:t}),this._lastHref=t)}}},{key:"_processQueuedEvents",value:function(){var t=this;if(this.queuedRRWebEvents.length){var n=Uc(this.queuedRRWebEvents);this.queuedRRWebEvents=[],n.forEach(function(r){Date.now()-r.enqueuedAt>2e3?t._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length}):t._tryRRWebMethod(r)&&t._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:r.enqueuedAt,attempt:r.attempt,queueLength:n.length})})}}},{key:"_maskUrl",value:function(t){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return t}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var t=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this.minimumDuration,r=this.sessionDuration,i=Gi(r)&&r>=0,s=Gi(n)&&i&&r<n;return this.status==="buffering"||s?(this.flushBufferTimer=setTimeout(function(){t._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(t){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+t.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),ts(this.buffer.sessionId)&&!ts(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=t.$snapshot_bytes,this.buffer.data.push(t.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),hF=function(){function e(t){Vt(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Lt(e,[{key:"call",value:function(){var t=this,n={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(tc),group_properties:this.instance.get_property(jo),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:n,compression:this.instance.config.disable_compression?void 0:Yi.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(r){return t.parseDecideResponse(r.json)}})}},{key:"parseDecideResponse",value:function(t){var n=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var r=!t;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(t??{},r),r)me.error("Failed to fetch feature flags from PostHog.");else{if(!Se||!Se.body)return me.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(t)},500);this.instance._afterDecideResponse(t);var i=X==null?void 0:X.extendPostHogWithExceptionAutoCapture;if(t.autocaptureExceptions&&t.autocaptureExceptions&&Fe(i)&&nf(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(l){if(l)return me.error("Could not load exception autocapture script",l);X.extendPostHogWithExceptionAutocapture(n.instance,t)}),t.siteApps)if(this.instance.config.opt_in_site_apps){var s,o=os(t.siteApps);try{var a=function(){var l=s.value,c=l.id,u=l.url,d=n.instance.requestRouter.endpointFor("api",u);Fr["__$$ph_site_app_".concat(c)]=n.instance,nf(d,function(h){h&&me.error("Error while initializing PostHog app with config id ".concat(c),h)})};for(o.s();!(s=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else t.siteApps.length>0&&me.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),pF=X!=null&&X.location?_g(X.location.hash,"__posthog")||_g(location.hash,"state"):null,Fv="_postHogToolbarParams",gF=function(){function e(t){Vt(this,e),ie(this,"_toolbarScriptLoaded",!1),this.instance=t}return Lt(e,[{key:"maybeLoadToolbar",value:function(){var t,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!X||!Se)return!1;r=(t=r)!==null&&t!==void 0?t:X.location,s=(n=s)!==null&&n!==void 0?n:X.history;try{if(!i){try{X.localStorage.setItem("test","test"),X.localStorage.removeItem("test")}catch{return!1}i=X==null?void 0:X.localStorage}var o,a=pF||_g(r.hash,"__posthog")||_g(r.hash,"state"),l=a?UE(function(){return JSON.parse(atob(decodeURIComponent(a)))})||UE(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((o=l).source="url",o&&Object.keys(o).length>0&&(l.desiredHash?r.hash=l.desiredHash:s?s.replaceState("",Se.title,r.pathname+r.search):r.hash="")):((o=JSON.parse(i.getItem(Fv)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}},{key:"_callLoadToolbar",value:function(t){(Fr.ph_load_toolbar||Fr.ph_load_editor)(t,this.instance)}},{key:"loadToolbar",value:function(t){var n=this;if(!X||X.localStorage.getItem(Fv)&&this._toolbarScriptLoaded)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ce(Ce({token:this.instance.config.token},t),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(X.localStorage.setItem(Fv,JSON.stringify(Ce(Ce({},i),{},{source:void 0}))),this._toolbarScriptLoaded)this._callLoadToolbar(i);else{this._toolbarScriptLoaded=!0;var s=3e5,o=Math.floor(Date.now()/s)*s;nf(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(a){if(a)return me.error("Failed to load toolbar",a),void(n._toolbarScriptLoaded=!1);n._callLoadToolbar(i)}),Js(X,"turbolinks:load",function(){n._toolbarScriptLoaded=!1,n.loadToolbar(i)})}return!0}},{key:"_loadEditor",value:function(t){return this.loadToolbar(t)}},{key:"maybeLoadEditor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(t,n,r)}}]),e}(),mF=function(){function e(t){Vt(this,e),ie(this,"isPaused",!0),ie(this,"queue",[]),ie(this,"flushTimeoutMs",3e3),this.sendRequest=t}return Lt(e,[{key:"enqueue",value:function(t){this.queue.push(t),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var t=this;this.clearFlushTimeout();var n=this.queue.length>0?this.formatQueue():{},r=Object.values(n);[].concat(Uc(r.filter(function(i){return i.url.indexOf("/e")===0})),Uc(r.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){t.sendRequest(Ce(Ce({},i),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var t=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(t.clearFlushTimeout(),t.queue.length>0){var n=t.formatQueue(),r=function(s){var o=n[s],a=new Date().getTime();o.data&&Mn(o.data)&&Tt(o.data,function(l){l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.sendRequest(o)};for(var i in n)r(i)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var t={};return Tt(this.queue,function(n){var r,i=n,s=(i?i.batchKey:null)||i.url;Fe(t[s])&&(t[s]=Ce(Ce({},i),{},{data:[]})),(r=t[s].data)===null||r===void 0||r.push(i.data)}),this.queue=[],t}}]),e}(),Kr=Uint8Array,yr=Uint16Array,qc=Uint32Array,jb=new Kr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ob=new Kr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d2=new Kr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$M=function(e,t){for(var n=new yr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new qc(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},BM=$M(jb,2),vF=BM[0],DA=BM[1];vF[28]=258,DA[258]=28;for(var f2=$M(Ob,0)[1],FA=new yr(32768),Mt=0;Mt<32768;++Mt){var wa=(43690&Mt)>>>1|(21845&Mt)<<1;wa=(61680&(wa=(52428&wa)>>>2|(13107&wa)<<2))>>>4|(3855&wa)<<4,FA[Mt]=((65280&wa)>>>8|(255&wa)<<8)>>>1}var Cd=function(e,t,n){for(var r=e.length,i=0,s=new yr(t);i<r;++i)++s[e[i]-1];var o,a=new yr(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new yr(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[FA[d]>>>l]=c}else for(o=new yr(r),i=0;i<r;++i)o[i]=FA[a[e[i]-1]++]>>>15-e[i];return o},nl=new Kr(288);for(Mt=0;Mt<144;++Mt)nl[Mt]=8;for(Mt=144;Mt<256;++Mt)nl[Mt]=9;for(Mt=256;Mt<280;++Mt)nl[Mt]=7;for(Mt=280;Mt<288;++Mt)nl[Mt]=8;var wg=new Kr(32);for(Mt=0;Mt<32;++Mt)wg[Mt]=5;var yF=Cd(nl,9,0),AF=Cd(wg,5,0),DM=function(e){return(e/8>>0)+(7&e&&1)},FM=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof yr?yr:e instanceof qc?qc:Kr)(n-t);return r.set(e.subarray(t,n)),r},Us=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Bu=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},zv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new Kr(0),0];if(i==1){var o=new Kr(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(x,w){return x.f-w.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new yr(h+1),g=_F(n[u-1],p,0);if(g>t){r=0;var m=0,A=g-t,v=1<<A;for(s.sort(function(x,w){return p[w.s]-p[x.s]||x.f-w.f});r<i;++r){var y=s[r].s;if(!(p[y]>t))break;m+=v-(1<<g-p[y]),p[y]=t}for(m>>>=A;m>0;){var b=s[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var S=s[r].s;p[S]==t&&(--p[S],++m)}g=t}return[new Kr(p),g]},_F=function e(t,n,r){return t.s==-1?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},h2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new yr(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},Du=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Fp=function(e,t,n){var r=n.length,i=DM(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},p2=function(e,t,n,r,i,s,o,a,l,c,u){Us(t,u++,n),++i[256];for(var d=zv(i,15),h=d[0],p=d[1],g=zv(s,15),m=g[0],A=g[1],v=h2(h),y=v[0],b=v[1],S=h2(m),x=S[0],w=S[1],E=new yr(19),I=0;I<y.length;++I)E[31&y[I]]++;for(I=0;I<x.length;++I)E[31&x[I]]++;for(var L=zv(E,7),j=L[0],B=L[1],Q=19;Q>4&&!j[d2[Q-1]];--Q);var M,U,P,T,z=c+5<<3,O=Du(i,nl)+Du(s,wg)+o,N=Du(i,h)+Du(s,m)+o+14+3*Q+Du(E,j)+(2*E[16]+3*E[17]+7*E[18]);if(z<=O&&z<=N)return Fp(t,u,e.subarray(l,l+c));if(Us(t,u,1+(N<O)),u+=2,N<O){M=Cd(h,p,0),U=h,P=Cd(m,A,0),T=m;var D=Cd(j,B,0);for(Us(t,u,b-257),Us(t,u+5,w-1),Us(t,u+10,Q-4),u+=14,I=0;I<Q;++I)Us(t,u+3*I,j[d2[I]]);u+=3*Q;for(var $=[y,x],q=0;q<2;++q){var ne=$[q];for(I=0;I<ne.length;++I){var V=31&ne[I];Us(t,u,D[V]),u+=j[V],V>15&&(Us(t,u,ne[I]>>>5&127),u+=ne[I]>>>12)}}}else M=yF,U=nl,P=AF,T=wg;for(I=0;I<a;++I)if(r[I]>255){V=r[I]>>>18&31,Bu(t,u,M[V+257]),u+=U[V+257],V>7&&(Us(t,u,r[I]>>>23&31),u+=jb[V]);var ce=31&r[I];Bu(t,u,P[ce]),u+=T[ce],ce>3&&(Bu(t,u,r[I]>>>5&8191),u+=Ob[ce])}else Bu(t,u,M[r[I]]),u+=U[r[I]];return Bu(t,u,M[256]),u+U[256]},bF=new qc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xF=new Kr(0),SF=function(){for(var e=new qc(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),wF=function(e,t,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new Kr(l+d+5*(1+Math.floor(d/7e3))+c),p=h.subarray(l,h.length-c),g=0;if(!o||d<8)for(var m=0;m<=d;m+=65535){var A=m+65535;A<d?g=Fp(p,g,s.subarray(m,A)):(p[m]=u,g=Fp(p,g,s.subarray(m,d)))}else{for(var v=bF[o-1],y=v>>>13,b=8191&v,S=(1<<a)-1,x=new yr(32768),w=new yr(S+1),E=Math.ceil(a/3),I=2*E,L=function(Ge){return(s[Ge]^s[Ge+1]<<E^s[Ge+2]<<I)&S},j=new qc(25e3),B=new yr(288),Q=new yr(32),M=0,U=0,P=(m=0,0),T=0,z=0;m<d;++m){var O=L(m),N=32767&m,D=w[O];if(x[N]=D,w[O]=N,T<=m){var $=d-m;if((M>7e3||P>24576)&&$>423){g=p2(s,p,0,j,B,Q,U,P,z,m-z,g),P=M=U=0,z=m;for(var q=0;q<286;++q)B[q]=0;for(q=0;q<30;++q)Q[q]=0}var ne=2,V=0,ce=b,Z=N-D&32767;if($>2&&O==L(m-Z))for(var de=Math.min(y,$)-1,we=Math.min(32767,m),Ee=Math.min(258,$);Z<=we&&--ce&&N!=D;){if(s[m+ne]==s[m+ne-Z]){for(var pe=0;pe<Ee&&s[m+pe]==s[m+pe-Z];++pe);if(pe>ne){if(ne=pe,V=Z,pe>de)break;var Ae=Math.min(Z,pe-2),qe=0;for(q=0;q<Ae;++q){var Ve=m-Z+q+32768&32767,Ie=Ve-x[Ve]+32768&32767;Ie>qe&&(qe=Ie,D=Ve)}}}Z+=(N=D)-(D=x[N])+32768&32767}if(V){j[P++]=268435456|DA[ne]<<18|f2[V];var _e=31&DA[ne],Ue=31&f2[V];U+=jb[_e]+Ob[Ue],++B[257+_e],++Q[Ue],T=m+ne,++M}else j[P++]=s[m],++B[s[m]]}}g=p2(s,p,u,j,B,Q,U,P,z,m-z,g),u||(g=Fp(p,g,xF))}return FM(h,0,l+DM(g)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},Uv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function EF(e,t){t===void 0&&(t={});var n=function(){var a=4294967295;return{p:function(l){for(var c=a,u=0;u<l.length;++u)c=SF[255&c^l[u]]^c>>>8;a=c},d:function(){return 4294967295^a}}}(),r=e.length;n.p(e);var i,s=wF(e,t,10+((i=t).filename&&i.filename.length+1||0),8),o=s.length;return function(a,l){var c=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&Uv(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),c){a[3]=8;for(var u=0;u<=c.length;++u)a[u+10]=c.charCodeAt(u)}}(s,t),Uv(s,o-8,n.d()),Uv(s,o-4,r),s}var kF=!!wb||!!Sb,g2="text/plain",Eg=function(e,t){var n=gr(e.split("?"),2),r=n[0],i=n[1],s=Ce({},t);i==null||i.split("&").forEach(function(a){var l=gr(a.split("="),1)[0];delete s[l]});var o=OD(s);return o=o?(i?i+"&":"")+o:i,"".concat(r,"?").concat(o)},CF=function(e){return"data="+encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},Vb=function(e){var t=e.data,n=e.compression;if(t){if(n===Yi.GZipJS){var r=EF(function(s,o){var a=s.length;if(!o&&typeof TextEncoder<"u")return new TextEncoder().encode(s);for(var l=new Kr(s.length+(s.length>>>1)),c=0,u=function(g){l[c++]=g},d=0;d<a;++d){if(c+5>l.length){var h=new Kr(c+8+(a-d<<1));h.set(l),l=h}var p=s.charCodeAt(d);p<128||o?u(p):p<2048?(u(192|p>>>6),u(128|63&p)):p>55295&&p<57344?(u(240|(p=65536+(1047552&p)|1023&s.charCodeAt(++d))>>>18),u(128|p>>>12&63),u(128|p>>>6&63),u(128|63&p)):(u(224|p>>>12),u(128|p>>>6&63),u(128|63&p))}return FM(l,0,c)}(JSON.stringify(t)),{mtime:0});return{contentType:g2,body:new Blob([r],{type:g2})}}if(n===Yi.Base64){var i=function(s){var o,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,g="",m=[];if(!s)return s;s=_D(s);do o=(u=s.charCodeAt(h++)<<16|s.charCodeAt(h++)<<8|s.charCodeAt(h++))>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(o)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<s.length);switch(g=m.join(""),s.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g}(JSON.stringify(t));return{contentType:"application/x-www-form-urlencoded",body:CF(i)}}return{contentType:"application/json",body:JSON.stringify(t)}}},TF=function(e){var t,n=new wb;n.open(e.method||"GET",e.url,!0);var r=(t=Vb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body;Tt(e.headers,function(o,a){n.setRequestHeader(a,o)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(n.readyState===4){var o,a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}(o=e.callback)===null||o===void 0||o.call(e,a)}},n.send(s)},IF=function(e){var t,n,r=(t=Vb(e))!==null&&t!==void 0?t:{},i=r.contentType,s=r.body,o=new Headers;Tt(o,function(u,d){o.append(d,u)}),i&&o.append("Content-Type",i);var a=e.url,l=null;if(FE){var c=new FE;l={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}Sb(a,{method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST",body:s,signal:(n=l)===null||n===void 0?void 0:n.signal}).then(function(u){return u.text().then(function(d){var h,p={statusCode:u.status,text:d};if(u.status===200)try{p.json=JSON.parse(d)}catch(g){me.error(g)}(h=e.callback)===null||h===void 0||h.call(e,p)})}).catch(function(u){var d;me.error(u),(d=e.callback)===null||d===void 0||d.call(e,{statusCode:0,text:u})}).finally(function(){return l?clearTimeout(l.timeout):null})},PF=function(e){var t=Eg(e.url,{beacon:"1"});try{var n,r=(n=Vb(e))!==null&&n!==void 0?n:{},i=r.contentType,s=r.body,o=typeof s=="string"?new Blob([s],{type:i}):s;tf.sendBeacon(t,o)}catch{}},RF=function(e){var t;if(Se){var n=Se.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e.url;var r=Se.getElementsByTagName("script")[0];(t=r.parentNode)===null||t===void 0||t.insertBefore(n,r)}},MF=["retriesPerformedSoFar"],Fa,jF=function(){function e(t){var n=this;Vt(this,e),ie(this,"isPolling",!1),ie(this,"pollIntervalMs",3e3),ie(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!Fe(X)&&"onLine"in X.navigator&&(this.areWeOnline=X.navigator.onLine,X.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),X.addEventListener("offline",function(){n.areWeOnline=!1}))}return Lt(e,[{key:"retriableRequest",value:function(t){var n=this,r=t.retriesPerformedSoFar,i=gD(t,MF);Gi(r)&&r>0&&(i.url=Eg(i.url,{retry_count:r})),this.instance._send_request(Ce(Ce({},i),{},{callback:function(s){var o;s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?n.enqueue(Ce({},i)):(o=i.callback)===null||o===void 0||o.call(i,s)}}))}},{key:"enqueue",value:function(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.queue.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in ".concat(r);navigator.onLine||(s+=" (Browser is offline)"),me.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var t=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){t.areWeOnline&&t.queue.length>0&&t.flush(),t.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var t=Date.now(),n=[],r=this.queue.filter(function(a){return a.retryAt<t||(n.push(a),!1)});if(this.queue=n,r.length>0){var i,s=os(r);try{for(s.s();!(i=s.n()).done;){var o=i.value.requestOptions;this.retriableRequest(o)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var t,n=os(this.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value.requestOptions;try{this.instance._send_request(Ce(Ce({},r),{},{transport:"sendBeacon"}))}catch(i){me.error(i)}}}catch(i){n.e(i)}finally{n.f()}this.queue=[]}}]),e}(),Oh=1800,OF=function(){function e(t,n,r,i){Vt(this,e),ie(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||zo,this._windowIdGenerator=i||zo;var s=t.persistence_name||t.token,o=t.session_idle_timeout_seconds||Oh;if(Gi(o)?o>Oh?me.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):o<60&&me.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(me.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),o=Oh),this._sessionTimeoutMs=1e3*Math.min(Math.max(o,60),Oh),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var a=Wn.parse(this._window_id_storage_key),l=Wn.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:Wn.remove(this._window_id_storage_key),Wn.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return Lt(e,[{key:"onSessionId",value:function(t){var n=this;return Fe(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(t),this._sessionId&&t(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==t})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&Wn.is_supported()}},{key:"_setWindowId",value:function(t){t!==this._windowId&&(this._windowId=t,this._canUseSessionStorage()&&Wn.set(this._window_id_storage_key,t))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?Wn.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(t,n,r){t===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=t,this.persistence.register(ie({},vg,[n,t,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var t=this.persistence.props[vg];return Mn(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var t=this;X==null||X.addEventListener("beforeunload",function(){t._canUseSessionStorage()&&Wn.remove(t._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=gr(this._getSessionId(),3),i=r[0],s=r[1],o=r[2],a=this._getWindowId(),l=o&&o>0&&Math.abs(n-o)>864e5,c=!1,u=!s,d=!t&&Math.abs(n-i)>this._sessionTimeoutMs;u||d||l?(s=this._sessionIdGenerator(),a=this._windowIdGenerator(),me.info("[SessionId] new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,c=!0):a||(a=this._windowIdGenerator(),c=!0);var h=i===0||!t||l?n:i,p=o===0?new Date().getTime():o;return this._setWindowId(a),this._setSessionId(s,h,p),c&&this._sessionIdChangedHandlers.forEach(function(g){return g(s,a)}),{sessionId:s,windowId:a,sessionStartTimestamp:p}}}]),e}();(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Fa||(Fa={}));var m2="i.posthog.com",VF=function(){function e(t){Vt(this,e),ie(this,"_regionCache",{}),this.instance=t}return Lt(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var t;return(t=this.instance.config.ui_host)===null||t===void 0?void 0:t.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Fa.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Fa.EU:this._regionCache[this.apiHost]=Fa.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n&&(n=n[0]==="/"?n:"/".concat(n)),t==="ui")return(this.uiHost||this.apiHost.replace(".".concat(m2),".posthog.com"))+n;if(this.region===Fa.CUSTOM)return this.apiHost+n;var r=m2+n;switch(t){case"assets":return"https://".concat(this.region,"-assets.").concat(r);case"api":return"https://".concat(this.region,".").concat(r)}}}]),e}(),LF=Lt(function e(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:["error"];Vt(this,e),this.name="posthog-js",this.setupOnce=function(o){o(function(a){var l,c,u,d,h;if(!(s==="*"||s.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var p=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));a.tags["PostHog Person URL"]=p,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)===null||l===void 0?void 0:l.values)||[],m={$exception_message:((c=g[0])===null||c===void 0?void 0:c.value)||a.message,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:p,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])===null||d===void 0?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])===null||h===void 0?void 0:h.type,$sentry_tags:a.tags,$level:a.level};return n&&r&&(m.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+a.event_id),t.capture("$exception",m),a})}});function NF(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var s=r.config.segment;if(!s)return i();var o=function(l){var c=function(){return l.anonymousId()||zo()};r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Gs,"identified")),i()},a=s.user();"then"in a&&es(a.then)?a.then(function(l){return o(l)}):o(a)})(e,function(){n.register(function(r){Promise&&Promise.resolve||me.warn("This browser does not have Promise support, and can not use the segment integration");var i=function(s,o){var a;if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||r.reset(),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(r.register({distinct_id:s.event.userId}),r.reloadFeatureFlags());var l=r._calculate_event_properties(o,(a=s.event.properties)!==null&&a!==void 0?a:{});return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(s){return i(s,s.event.event)},page:function(s){return i(s,"$pageview")},identify:function(s){return i(s,"$identify")},screen:function(s){return i(s,"$screen")}}}(e)).then(function(){t()})})}var $F=function(){function e(t){Vt(this,e),this._instance=t}return Lt(e,[{key:"doPageView",value:function(){var t,n=this._previousScrollProperties();return this._currentPath=(t=X==null?void 0:X.location.pathname)!==null&&t!==void 0?t:"",this._instance.scrollManager.resetContext(),n}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var t=this._currentPath,n=this._instance.scrollManager.getContext();if(!t||!n)return{};var r=n.maxScrollHeight,i=n.lastScrollY,s=n.maxScrollY,o=n.maxContentHeight,a=n.lastContentY,l=n.maxContentY;return Fe(r)||Fe(i)||Fe(s)||Fe(o)||Fe(a)||Fe(l)?{}:(r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),{$prev_pageview_pathname:t,$prev_pageview_last_scroll:i,$prev_pageview_last_scroll_percentage:r<=1?1:Vh(i/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Vh(s/r,0,1),$prev_pageview_last_content:a,$prev_pageview_last_content_percentage:o<=1?1:Vh(a/o,0,1),$prev_pageview_max_content:l,$prev_pageview_max_content_percentage:o<=1?1:Vh(l/o,0,1)})}}]),e}();function Vh(e,t,n){return Math.max(t,Math.min(e,n))}var BF={icontains:function(e){return!!X&&X.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){return!!X&&jD(X.location.href,e)},exact:function(e){return(X==null?void 0:X.location.href)===e}},DF=function(){function e(t){Vt(this,e),this.instance=t}return Lt(e,[{key:"afterDecideResponse",value:function(t){this._decideServerResponse=!!t.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var t=this,n=Fr==null?void 0:Fr.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||n||nf(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(r){if(r)return me.error("Could not load surveys script",r);Fr.extendPostHogWithSurveys(t.instance)})}},{key:"getSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.instance.config.disable_surveys)return t([]);var i=this.instance.get_property(IA);if(i&&!r)return t(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(s){var o;if(s.statusCode!==200||!s.json)return t([]);var a=s.json.surveys||[];return(o=n.instance.persistence)===null||o===void 0||o.register(ie({},IA,a)),t(a)}})}},{key:"getActiveMatchingSurveys",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var s=i.filter(function(o){return!(!o.start_date||o.end_date)}).filter(function(o){var a,l,c,u;if(!o.conditions)return!0;var d=(a=o.conditions)===null||a===void 0||!a.url||BF[(l=(c=o.conditions)===null||c===void 0?void 0:c.urlMatchType)!==null&&l!==void 0?l:"icontains"](o.conditions.url),h=(u=o.conditions)===null||u===void 0||!u.selector||(Se==null?void 0:Se.querySelector(o.conditions.selector));return d&&h}).filter(function(o){if(!o.linked_flag_key&&!o.targeting_flag_key)return!0;var a=!o.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(o.linked_flag_key),l=!o.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(o.targeting_flag_key);return a&&l});return t(s)},r)}}]),e}(),FF=function(){function e(t){var n,r,i=this;Vt(this,e),ie(this,"serverLimits",{}),ie(this,"lastEventRateLimited",!1),ie(this,"checkForLimiting",function(s){var o=s.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(function(a){me.info("[RateLimiter] ".concat(a||"events"," is quota limited.")),i.serverLimits[a]=new Date().getTime()+6e4})}catch(a){return void me.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(a==null?void 0:a.message,'"'),{text:o})}}),this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)===null||n===void 0?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)===null||r===void 0?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.isCaptureClientSideRateLimited(!0)}return Lt(e,[{key:"isCaptureClientSideRateLimited",value:function(){var t,n,r,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=new Date().getTime(),o=(t=(n=this.instance.persistence)===null||n===void 0?void 0:n.get_property(RA))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||i||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||i||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(r=this.instance.persistence)===null||r===void 0||r.set_property(RA,o),a}},{key:"isServerRateLimited",value:function(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),e}(),zF=function(){return Ce({initialPathName:(gi==null?void 0:gi.pathname)||"",referringDomain:$n.referringDomain()},$n.campaignParams())},UF=function(){function e(t,n,r){var i=this;Vt(this,e),ie(this,"_onSessionIdCallback",function(s){var o=i._getStoredProps();if(!o||o.sessionId!==s){var a={sessionId:s,props:i._sessionSourceParamGenerator()};i._persistence.register(ie({},PA,a))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||zF,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Lt(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[PA]}},{key:"getSessionProps",value:function(){var t,n=(t=this._getStoredProps())===null||t===void 0?void 0:t.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),e}(),HF=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],v2=function(e,t){if(!e)return!1;var n=e.toLowerCase();return HF.concat(t||[]).some(function(r){var i=r.toLowerCase();return n.indexOf(i)!==-1})},zM=function(){function e(){Vt(this,e),this.clicks=[]}return Lt(e,[{key:"isRageClick",value:function(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}]),e}(),y2="__POSTHOG_TOOLBAR__";function A2(e){var t;return e.id===y2||!((t=e.closest)===null||t===void 0||!t.call(e,"#"+y2))}var qF=function(){function e(t){var n;Vt(this,e),ie(this,"rageclicks",new zM),ie(this,"_enabledServerSide",!1),ie(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!((n=this.instance.persistence)===null||n===void 0||!n.props[kA])}return Lt(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&this._setupListeners()}},{key:"isEnabled",get:function(){return Fe(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register(ie({},kA,n)),this._enabledServerSide=n,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var t=this.buffer;return this.buffer=void 0,t}},{key:"_setupListeners",value:function(){var t=this;X&&Se&&(Js(Se,"click",function(n){return t._onClick(n||(X==null?void 0:X.event))},!1,!0),Js(Se,"mousemove",function(n){return t._onMouseMove(n||(X==null?void 0:X.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&!Ko(u,"body");){if(u===c)return!1;if(ot(l,X==null?void 0:X.getComputedStyle(u).position))return!0;u=TM(u)}return!1}(t.target,["fixed","sticky"],s);return{x:t.clientX+(o?0:i),y:t.clientY+(o?0:r),target_fixed:o,type:n}}},{key:"_onClick",value:function(t){var n;if(!A2(t.target)){var r=this._getProperties(t,"click");(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._capture(Ce(Ce({},r),{},{type:"rageclick"})),this._capture(r)}}},{key:"_onMouseMove",value:function(t){var n=this;A2(t.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){n._capture(n._getProperties(t,"mousemove"))},500))}},{key:"_capture",value:function(t){if(X){var n=X.location.href;this.buffer=this.buffer||{},this.buffer[n]||(this.buffer[n]=[]),this.buffer[n].push(t)}}}]),e}(),GF=function(){function e(t){var n=this;Vt(this,e),ie(this,"_updateScrollData",function(){var r,i,s,o;n.context||(n.context={});var a=n.scrollElement(),l=n.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,u=l+((a==null?void 0:a.clientHeight)||0),d=(a==null?void 0:a.scrollHeight)||0;n.context.lastScrollY=Math.ceil(l),n.context.maxScrollY=Math.max(l,(r=n.context.maxScrollY)!==null&&r!==void 0?r:0),n.context.maxScrollHeight=Math.max(c,(i=n.context.maxScrollHeight)!==null&&i!==void 0?i:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,(s=n.context.maxContentY)!==null&&s!==void 0?s:0),n.context.maxContentHeight=Math.max(d,(o=n.context.maxContentHeight)!==null&&o!==void 0?o:0)}),this.instance=t}return Lt(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var t=this.context;return setTimeout(this._updateScrollData,0),t}},{key:"startMeasuringScrollPosition",value:function(){X==null||X.addEventListener("scroll",this._updateScrollData,!0),X==null||X.addEventListener("scrollend",this._updateScrollData,!0),X==null||X.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return X==null?void 0:X.document.documentElement;var t,n=os(Mn(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=X==null?void 0:X.document.querySelector(r);if(i)return i}}catch(s){n.e(s)}finally{n.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return X&&(X.scrollY||X.pageYOffset||X.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return X&&(X.scrollX||X.pageXOffset||X.document.documentElement.scrollLeft)||0}}]),e}(),WF=function(){function e(){Vt(this,e),ie(this,"events",{}),this.events={}}return Lt(e,[{key:"on",value:function(t,n){var r=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(n),function(){r.events[t]=r.events[t].filter(function(i){return i!==n})}}},{key:"emit",value:function(t,n){var r,i=os(this.events[t]||[]);try{for(i.s();!(r=i.n()).done;)(0,r.value)(n)}catch(a){i.e(a)}finally{i.f()}var s,o=os(this.events["*"]||[]);try{for(o.s();!(s=o.n()).done;)(0,s.value)(t,n)}catch(a){o.e(a)}finally{o.f()}}}]),e}(),Hv="$copy_autocapture";function qv(e,t){return t.length>e?t.slice(0,e)+"...":t}var YF=function(){function e(t){Vt(this,e),ie(this,"_initialized",!1),ie(this,"_isDisabledServerSide",null),ie(this,"rageclicks",new zM),ie(this,"_elementsChainAsString",!1),this.instance=t}return Lt(e,[{key:"config",get:function(){var t,n=Es(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)===null||t===void 0?void 0:t.map(function(r){return new RegExp(r)}),n}},{key:"_addDomEventHandlers",value:function(){var t=this;if(this.isBrowserSupported()){if(X&&Se){var n=function(i){i=i||(X==null?void 0:X.event);try{t._captureEvent(i)}catch(s){me.error("Failed to capture event",s)}},r=function(i){i=i||(X==null?void 0:X.event),t._captureEvent(i,Hv)};Js(Se,"submit",n,!1,!0),Js(Se,"change",n,!1,!0),Js(Se,"click",n,!1,!0),this.config.capture_copied_text&&(Js(Se,"copy",r,!1,!0),Js(Se,"cut",r,!1,!0))}}else me.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(t){t.elementsChainAsString&&(this._elementsChainAsString=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(ie({},HE,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var t,n,r=(t=this.instance.persistence)===null||t===void 0?void 0:t.props[HE],i=this._isDisabledServerSide;if(ts(i)&&!$p(r)&&!this.instance.config.advanced_disable_decide)return!1;var s=(n=this._isDisabledServerSide)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}},{key:"_previousElementSibling",value:function(t){if(t.previousElementSibling)return t.previousElementSibling;var n=t;do n=n.previousSibling;while(n&&!Pb(n));return n}},{key:"_getAugmentPropertiesFromElement",value:function(t){if(!$A(t))return{};var n={};return Tt(t.attributes,function(r){if(r.name&&r.name.indexOf("data-ph-capture-attribute")===0){var i=r.name.replace("data-ph-capture-attribute-",""),s=r.value;i&&s&&kc(s)&&(n[i]=s)}}),n}},{key:"_getPropertiesFromElement",value:function(t,n,r){var i,s=t.tagName.toLowerCase(),o={tag_name:s};NA.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=qv(1024,s2(t)):o.$el_text=qv(1024,Sg(t)));var a=xg(t);a.length>0&&(o.classes=a.filter(function(h){return h!==""}));var l=(i=this.config)===null||i===void 0?void 0:i.element_attribute_ignorelist;Tt(t.attributes,function(h){var p;if((!IM(t)||["name","id","class","aria-label"].indexOf(h.name)!==-1)&&(l==null||!l.includes(h.name))&&!n&&kc(h.value)&&(p=h.name,!or(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var g=h.value;h.name==="class"&&(g=Ib(g).join(" ")),o["attr__"+h.name]=qv(1024,g)}});for(var c=1,u=1,d=t;d=this._previousElementSibling(d);)c++,d.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o}},{key:"_getDefaultProperties",value:function(t){return{$event_type:t,$ce_version:1}}},{key:"_getEventTarget",value:function(t){return Fe(t.target)?t.srcElement||null:(n=t.target)!==null&&n!==void 0&&n.shadowRoot?t.composedPath()[0]||null:t.target||null;var n}},{key:"_captureEvent",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$autocapture";if(this.isEnabled){var i,s=this._getEventTarget(t);kM(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!==null&&i!==void 0&&i.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,"$rageclick");var o=r===Hv;if(s&&KD(s,t,this.config,o,o?["copy","cut"]:void 0)){for(var a,l,c=[s],u=s;u.parentNode&&!Ko(u,"body");)CM(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(Tt(c,function(b){var S=$A(b);b.tagName.toLowerCase()==="a"&&(d=b.getAttribute("href"),d=S&&kc(d)&&d),ot(xg(b),"ph-no-capture")&&(g=!0),h.push(n._getPropertiesFromElement(b,n.instance.config.mask_all_element_attributes,n.instance.config.mask_all_text));var x=n._getAugmentPropertiesFromElement(b);Nn(p,x)}),this.instance.config.mask_all_text||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?h[0].$el_text=s2(s):h[0].$el_text=Sg(s)),d&&(h[0].attr__href=d),g)return!1;var m=Nn(this._getDefaultProperties(t.type),this._elementsChainAsString?{$elements_chain:eF(h)}:{$elements:h},(a=h[0])!==null&&a!==void 0&&a.$el_text?{$el_text:(l=h[0])===null||l===void 0?void 0:l.$el_text}:{},p);if(r===Hv){var A,v=EM(X==null||(A=X.getSelection())===null||A===void 0?void 0:A.toString()),y=t.type||"clipboard";if(!v)return!1;m.$selected_content=v,m.$copy_type=y}return this.instance.capture(r,m),!0}}}},{key:"isBrowserSupported",value:function(){return es(Se==null?void 0:Se.querySelectorAll)}}]),e}(),Td={},_2=function(){},Ql="posthog",UM=!kF&&(cn==null?void 0:cn.indexOf("MSIE"))===-1&&(cn==null?void 0:cn.indexOf("Mozilla"))===-1,b2=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=Se==null?void 0:Se.location,n=t==null?void 0:t.hostname,!!or(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",loaded:_2,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:gi&&or(gi==null?void 0:gi.search)&&gi.search.indexOf("__posthog_debug=true")!==-1||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:(X==null||(e=X.location)===null||e===void 0?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(r){var i="Bad HTTP status: "+r.statusCode+" "+r.text;me.error(i)},get_device_id:function(r){return r},_onCapture:_2,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},x2=function(e){var t={};Fe(e.process_person)||(t.person_profiles=e.process_person),Fe(e.xhr_headers)||(t.request_headers=e.xhr_headers),Fe(e.cookie_name)||(t.persistence_name=e.cookie_name),Fe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=Nn({},t,e);return Mn(e.property_blacklist)&&(Fe(e.property_denylist)?n.property_denylist=e.property_blacklist:Mn(e.property_denylist)?n.property_denylist=[].concat(Uc(e.property_blacklist),Uc(e.property_denylist)):me.error("Invalid value for property_denylist config: "+e.property_denylist)),n},KF=function(){function e(){Vt(this,e),ie(this,"__forceAllowLocalhost",!1)}return Lt(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(t){me.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}]),e}(),HM=function(){function e(){var t=this;Vt(this,e),ie(this,"webPerformance",new KF),ie(this,"_debugEventEmitter",new WF),this.config=b2(),this.decideEndpointWasHit=!1,this.SentryIntegration=LF,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new xD(this),this.toolbar=new gF(this),this.scrollManager=new GF(this),this.pageViewManager=new $F(this),this.surveys=new DF(this),this.rateLimiter=new FF(this),this.requestRouter=new VF(this),this.people={set:function(n,r,i){var s=or(n)?ie({},n,r):n;t.setPersonProperties(s),i==null||i({})},set_once:function(n,r,i){var s=or(n)?ie({},n,r):n;t.setPersonProperties(void 0,s),i==null||i({})}},this.on("eventCaptured",function(n){return me.info("send",n)})}return Lt(e,[{key:"init",value:function(t,n,r){if(r&&r!==Ql){var i,s=(i=Td[r])!==null&&i!==void 0?i:new e;return s._init(t,n,r),Td[r]=s,Td[Ql][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(t){var n,r,i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(Fe(t)||function(A){return or(A)&&A.trim().length===0}(t))return me.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return me.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(Nn({},b2(),x2(s),{name:o,token:t})),this.compression=s.disable_compression?void 0:Yi.Base64,this.persistence=new Bv(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Bv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new mF(function(A){return i._send_request(A)}),this._retryQueue=new jF(this),this.__request_queue=[],this.sessionManager=new OF(this.config,this.persistence),this.sessionPropsManager=new UF(this.sessionManager,this.persistence),this.sessionRecording=new fF(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new YF(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new qF(this),this.heatmaps.startIfEnabled(),Da.DEBUG=Da.DEBUG||this.config.debug,this._gdpr_init(),((n=s.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var a,l,c=this.config.get_device_id(zo()),u=(a=s.bootstrap)!==null&&a!==void 0&&a.isIdentifiedID?c:s.bootstrap.distinctID;this.persistence.set_property(Gs,(l=s.bootstrap)!==null&&l!==void 0&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:u})}if(this._hasBootstrappedFeatureFlags()){var d,h,p=Object.keys(((d=s.bootstrap)===null||d===void 0?void 0:d.featureFlags)||{}).filter(function(A){var v,y;return!((v=s.bootstrap)===null||v===void 0||(y=v.featureFlags)===null||y===void 0||!y[A])}).reduce(function(A,v){var y,b;return A[v]=((y=s.bootstrap)===null||y===void 0||(b=y.featureFlags)===null||b===void 0?void 0:b[v])||!1,A},{}),g=Object.keys(((h=s.bootstrap)===null||h===void 0?void 0:h.featureFlagPayloads)||{}).filter(function(A){return p[A]}).reduce(function(A,v){var y,b,S,x;return(y=s.bootstrap)!==null&&y!==void 0&&(b=y.featureFlagPayloads)!==null&&b!==void 0&&b[v]&&(A[v]=(S=s.bootstrap)===null||S===void 0||(x=S.featureFlagPayloads)===null||x===void 0?void 0:x[v]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:g})}if(!this.get_distinct_id()){var m=this.config.get_device_id(zo());this.register_once({distinct_id:m,$device_id:m},""),this.persistence.set_property(Gs,"anonymous")}return X==null||(r=X.addEventListener)===null||r===void 0||r.call(X,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?NF(this,function(){return i._loaded()}):this._loaded(),es(this.config._onCapture)&&this.on("eventCaptured",function(A){return i.config._onCapture(A.event,A)}),this}},{key:"_afterDecideResponse",value:function(t){var n,r,i,s,o;this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=ot(t.supportedCompression,Yi.GZipJS)?Yi.GZipJS:ot(t.supportedCompression,Yi.Base64)?Yi.Base64:void 0),(n=t.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),(r=this.sessionRecording)===null||r===void 0||r.afterDecideResponse(t),(i=this.autocapture)===null||i===void 0||i.afterDecideResponse(t),(s=this.heatmaps)===null||s===void 0||s.afterDecideResponse(t),(o=this.surveys)===null||o===void 0||o.afterDecideResponse(t)}},{key:"_loaded",value:function(){var t=this,n=this.config.advanced_disable_decide;n||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){me.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){Se&&t.capture("$pageview",{title:Se.title},{send_instantly:!0})},1),n||(new hF(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this._requestQueue)===null||t===void 0||t.enable())}},{key:"_dom_loaded",value:function(){var t=this;this.has_opted_out_capturing()||Sc(this.__request_queue,function(n){return t._send_retriable_request(n)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var t,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(t=this._requestQueue)===null||t===void 0||t.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(t){var n=this;this.__loaded&&(UM?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Eg(t.url,{ip:this.config.ip?1:0}),t.headers=this.config.request_headers,t.compression=t.compression==="best-available"?this.compression:t.compression,function(r){var i=Ce({},r);i.timeout=i.timeout||6e4,i.url=Eg(i.url,{_:new Date().getTime().toString(),ver:Da.LIB_VERSION,compression:i.compression}),i.transport==="sendBeacon"&&tf!=null&&tf.sendBeacon?PF(i):i.transport==="fetch"&&Sb?IF(i):wb||!Se?TF(i):RF(i)}(Ce(Ce({},t),{},{callback:function(r){var i,s,o;n.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((s=(o=n.config).on_request_error)===null||s===void 0||s.call(o,r)),(i=t.callback)===null||i===void 0||i.call(t,r)}}))))}},{key:"_send_retriable_request",value:function(t){this._retryQueue?this._retryQueue.retriableRequest(t):this._send_request(t)}},{key:"_execute_array",value:function(t){var n,r=this,i=[],s=[],o=[];Sc(t,function(l){l&&(n=l[0],Mn(n)?o.push(l):es(l)?l.call(r):Mn(l)&&n==="alias"?i.push(l):Mn(l)&&n.indexOf("capture")!==-1&&es(r[n])?o.push(l):s.push(l))});var a=function(l,c){Sc(l,function(u){if(Mn(u[0])){var d=c;Tt(u,function(h){d=d[h[0]].apply(d,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};a(i,this),a(s,this),a(o,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var t,n;return((t=this.config.bootstrap)===null||t===void 0?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(t){this._execute_array([t])}},{key:"capture",value:function(t,n,r){var i;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return me.uninitializedWarning("posthog.capture");if(!LM(this))if(r!=null&&r.skip_client_rate_limiting||!this.rateLimiter.isCaptureClientSideRateLimited())if(!Fe(t)&&or(t)){if(!cn||this.config.opt_out_useragent_filter||!v2(cn,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var s={uuid:zo(),event:t,properties:this._calculate_event_properties(t,n||{})};if(r==null||!r._noHeatmaps){var o,a=(o=this.heatmaps)===null||o===void 0?void 0:o.getAndClearBuffer();a&&(s.properties.$heatmap_data=a)}r!=null&&r.$set&&(s.$set=r==null?void 0:r.$set);var l=this._calculate_set_once_properties(r==null?void 0:r.$set_once);l&&(s.$set_once=l),(s=AD(s,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=(r==null?void 0:r.timestamp)||new Date,Fe(r==null?void 0:r.timestamp)||(s.properties.$event_time_override_provided=!0,s.properties.$event_time_override_system_time=new Date);var c=Ce(Ce({},s.properties.$set),s.$set);Vv(c)||this.setPersonPropertiesForFlags(c),this._debugEventEmitter.emit("eventCaptured",s);var u={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:s,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),s}}else me.error("No event name provided to posthog.capture");else me.critical("This capture call is ignored due to client rate limiting.")}},{key:"_addCaptureHook",value:function(t){this.on("eventCaptured",function(n){return t(n.event)})}},{key:"_calculate_event_properties",value:function(t,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(t),i=Ce({},n);if(i.token=this.config.token,t==="$snapshot"){var s=Ce(Ce({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=s.distinct_id,i}var o=$n.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;i.$session_id=l,i.$window_id=c}if(this.requestRouter.region===Fa.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(t==="$pageview"||t==="$pageleave"||t==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();i=Nn(i,u)}if(!this.config.disable_scroll_properties){var d={};t==="$pageview"?d=this.pageViewManager.doPageView():t==="$pageleave"&&(d=this.pageViewManager.doPageLeave()),i=Nn(i,d)}if(t==="$pageview"&&Se&&(i.title=Se.title),!Fe(r)){var h=new Date().getTime()-r;i.$duration=parseFloat((h/1e3).toFixed(3))}cn&&this.config.opt_out_useragent_filter&&(i.$browser_type=v2(cn,this.config.custom_blocked_useragents)?"bot":"browser"),(i=Nn({},o,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),Mn(this.config.property_denylist)?Tt(this.config.property_denylist,function(g){delete i[g]}):me.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(i=p(i,t)),i.$process_person_profile=this._hasPersonProcessing(),i}},{key:"_calculate_set_once_properties",value:function(t){if(!this.persistence||!this._hasPersonProcessing())return t;var n=Nn({},this.persistence.get_initial_props(),t||{});return Vv(n)?void 0:n}},{key:"register",value:function(t,n){var r;(r=this.persistence)===null||r===void 0||r.register(t,n)}},{key:"register_once",value:function(t,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(t,n,r)}},{key:"register_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(t)}},{key:"unregister",value:function(t){var n;(n=this.persistence)===null||n===void 0||n.unregister(t)}},{key:"unregister_for_session",value:function(t){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(t)}},{key:"_register_single",value:function(t,n){this.register(ie({},t,n))}},{key:"getFeatureFlag",value:function(t,n){return this.featureFlags.getFeatureFlag(t,n)}},{key:"getFeatureFlagPayload",value:function(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(t,n){return this.featureFlags.isFeatureEnabled(t,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}},{key:"getEarlyAccessFeatures",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(t,n)}},{key:"on",value:function(t,n){return this._debugEventEmitter.on(t,n)}},{key:"onFeatureFlags",value:function(t){return this.featureFlags.onFeatureFlags(t)}},{key:"onSessionId",value:function(t){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(t))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(t,n)}},{key:"getActiveMatchingSurveys",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(t,n)}},{key:"identify",value:function(t,n,r){if(!this.__loaded||!this.persistence)return me.uninitializedWarning("posthog.identify");if(Gi(t)&&(t=t.toString(),me.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))me.critical('The string "'.concat(t,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(ld)&&(this.unregister(ld),this.register({distinct_id:t}));var o=(this.persistence.get_property(Gs)||"anonymous")==="anonymous";t!==i&&o?(this.persistence.set_property(Gs,"identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(yg))}}else me.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(t,n){(t||n)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(t||{}),this.capture("$set",{$set:t||{},$set_once:n||{}}))}},{key:"group",value:function(t,n,r){if(t&&n){if(this._requirePersonProcessing("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ce(Ce({},i),{},ie({},t,n))}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(ie({},t,r))),i[t]===n||r||this.reloadFeatureFlags()}}else me.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(t,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(t){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}},{key:"resetGroupPropertiesForFlags",value:function(t){this.featureFlags.resetGroupPropertiesForFlags(t)}},{key:"reset",value:function(t){var n,r,i,s;if(!this.__loaded)return me.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_property(Gs,"anonymous"),(s=this.sessionManager)===null||s===void 0||s.resetSessionId();var a=this.config.get_device_id(zo());this.register_once({distinct_id:a,$device_id:t?a:o},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var t,n;return(t=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}},{key:"get_session_replay_url",value:function(t){if(!this.sessionManager)return"";var n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(r));if(t!=null&&t.withTimestamp&&i){var o,a=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!i)return s;var l=Math.max(Math.floor((new Date().getTime()-i)/1e3)-a,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(t,n){return t===this.get_property(aM)?(me.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Fe(n)&&(n=this.get_distinct_id()),t!==n?(this._register_single(ld,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(me.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}},{key:"set_config",value:function(t){var n,r,i,s,o=Ce({},this.config);Es(t)&&(Nn(this.config,x2(t)),(n=this.persistence)===null||n===void 0||n.update_config(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Bv(Ce(Ce({},this.config),{},{persistence:"sessionStorage"})),_n.is_supported()&&_n.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Da.DEBUG=!0),(r=this.sessionRecording)===null||r===void 0||r.startIfEnabledOrStop(),(i=this.autocapture)===null||i===void 0||i.startIfEnabled(),(s=this.heatmaps)===null||s===void 0||s.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(t){if(t!=null&&t.sampling){var n,r,i=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId();(r=this.persistence)===null||r===void 0||r.register(ie({},kd,!0)),me.info("Session recording started with sampling override for session: ",i==null?void 0:i.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var t;return!((t=this.sessionRecording)===null||t===void 0||!t.started)}},{key:"loadToolbar",value:function(t){return this.toolbar.loadToolbar(t)}},{key:"get_property",value:function(t){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[t]}},{key:"getSessionProperty",value:function(t){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[t]}},{key:"toString",value:function(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Ql;return n!==Ql&&(n=Ql+"."+n),n}},{key:"_isIdentified",value:function(){var t,n;return((t=this.persistence)===null||t===void 0?void 0:t.get_property(Gs))==="identified"||((n=this.sessionPersistence)===null||n===void 0?void 0:n.get_property(Gs))==="identified"}},{key:"_hasPersonProcessing",value:function(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Vv(this.getGroups())&&((t=this.persistence)===null||t===void 0||(n=t.props)===null||n===void 0||!n[ld])&&((r=this.persistence)===null||r===void 0||(i=r.props)===null||i===void 0||!i[Ag]))}},{key:"_requirePersonProcessing",value:function(t){return this.config.person_profiles==="never"?(me.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(Ag,!0),!0)}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&_n.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Ps.get("ph_optout")||(Ps.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(t){var n,r,i,s,o;if(t&&t.clear_persistence)i=!0;else{if(!t||!t.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(s=this.persistence)===null||s===void 0||s.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(o=this.sessionPersistence)===null||o===void 0||o.set_disabled(i)}},{key:"_gdpr_call_func",value:function(t,n){return n=Nn({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),_n.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),t(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(t){t=Nn({enable_persistence:!0},t||{}),this._gdpr_call_func(aF,t),this._gdpr_update_persistence(t)}},{key:"opt_out_capturing",value:function(t){var n=Nn({clear_persistence:!0},t||{});this._gdpr_call_func(lF,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(t){return this._gdpr_call_func(cF,t)}},{key:"has_opted_out_capturing",value:function(t){return this._gdpr_call_func(jM,t)}},{key:"clear_opt_in_out_capturing",value:function(t){var n=Nn({enable_persistence:!0},t??{});this._gdpr_call_func(uF,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(t){t===!1?(X==null||X.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(X==null||X.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=yD(e.prototype[t[n]])})(HM,["identify"]);var S2,w2;(function(e){e.Popover="popover",e.API="api",e.Widget="widget"})(S2||(S2={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(w2||(w2={}));var E2,kn=(E2=Td[Ql]=new HM,function(){function e(){e.done||(e.done=!0,UM=!1,Tt(Td,function(t){t._dom_loaded()}))}Se!=null&&Se.addEventListener&&(Se.readyState==="complete"?e():Se.addEventListener("DOMContentLoaded",e,!1)),X&&Js(X,"load",e,!0)}(),E2);class gt{constructor(t,n=!1,r=!0){this.name=t,this.track=n,this.log=r,this.subscribers=[],this.lastParams=null,this.subscribe=(i,s=!1)=>{this.unsubscribe(i),this.subscribers.push(i),s&&this.lastParams!==null&&i(...this.lastParams)},this.unsubscribe=i=>{this.subscribers=this.subscribers.filter(s=>s!==i)},this.dispatch=(...i)=>{this.log&&console.log("dispatch",this.name,...i),this.subscribers.forEach(s=>s(...i)),this.lastParams=i,this.track&&kn.capture(this.name,this.track instanceof Function?this.track(...i):i)}}}const te={sectionChange:new gt("sectionChange",void 0,!1),playerAdded:new gt("playerAdded",!1),playerRemoved:new gt("playerRemoved",!1),songStarted:new gt("songStarted",!1),songEnded:new gt("songEnded",!1),remoteMicConnected:new gt("remoteMicConnected"),remoteMicDisconnected:new gt("remoteMicDisconnected"),playerNameChanged:new gt("playerNameChanged"),playerInputChanged:new gt("playerInputChanged",(e,t,n)=>({player:e,old:t==null?void 0:t.source,new:n==null?void 0:n.source})),inputListChanged:new gt("inputListChanged"),karaokeConnectionStatusChange:new gt("karaokeConnectionStatusChange"),remoteMicPlayerSet:new gt("remoteMicPlayerSet"),remoteMicMonitoringStarted:new gt("remoteMicMonitoringStarted"),remoteMicMonitoringStopped:new gt("remoteMicMonitoringStopped"),micMonitoringStarted:new gt("micMonitoringStarted"),micMonitoringStopped:new gt("micMonitoringStopped"),playerChangeRequested:new gt("playerChangeRequested",!0),songStatStored:new gt("songStatStored"),songScoreUpdated:new gt("songScoreUpdated",()=>{}),remoteMicSubscribed:new gt("remoteMicSubscribed"),remoteKeyboardPressed:new gt("remoteKeyboardPressed"),remoteSongSearch:new gt("remoteSongSearch",!0),remoteMicListUpdated:new gt("remoteMicListUpdated"),remoteKeyboardLayout:new gt("remoteKeyboardLayout"),remoteReadinessRequested:new gt("remoteReadinessRequested"),remoteStyleChanged:new gt("remoteStyleChanged"),remoteMicPermissionsSet:new gt("remoteMicPermissionsSet"),readinessConfirmed:new gt("remoteReadinessConfirmed"),minPlayerNumberChanged:new gt("minPlayerNumberChanged")};te.songStarted.subscribe(()=>{Qi.clearData(),Qi.startRecord()});te.songEnded.subscribe(()=>{Qi.stopRecord()});function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}var QF=/^\s+/,JF=/\s+$/;function fe(e,t){if(e=e||"",t=t||{},e instanceof fe)return e;if(!(this instanceof fe))return new fe(e,t);var n=XF(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}fe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,s,o,a;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=qM(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=C2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=C2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=k2(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=k2(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return T2(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return n6(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ut(this._r,255)*100)+"%",g:Math.round(Ut(this._g,255)*100)+"%",b:Math.round(Ut(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ut(this._r,255)*100)+"%, "+Math.round(Ut(this._g,255)*100)+"%, "+Math.round(Ut(this._b,255)*100)+"%)":"rgba("+Math.round(Ut(this._r,255)*100)+"%, "+Math.round(Ut(this._g,255)*100)+"%, "+Math.round(Ut(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:p6[T2(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+I2(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=fe(t);r="#"+I2(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return fe(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(o6,arguments)},brighten:function(){return this._applyModification(a6,arguments)},darken:function(){return this._applyModification(l6,arguments)},desaturate:function(){return this._applyModification(r6,arguments)},saturate:function(){return this._applyModification(i6,arguments)},greyscale:function(){return this._applyModification(s6,arguments)},spin:function(){return this._applyModification(c6,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(f6,arguments)},complement:function(){return this._applyCombination(u6,arguments)},monochromatic:function(){return this._applyCombination(h6,arguments)},splitcomplement:function(){return this._applyCombination(d6,arguments)},triad:function(){return this._applyCombination(P2,[3])},tetrad:function(){return this._applyCombination(P2,[4])}};fe.fromRatio=function(e,t){if(kg(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=fd(e[r]));e=n}return fe(e,t)};function XF(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=y6(e)),kg(e)=="object"&&(Hs(e.r)&&Hs(e.g)&&Hs(e.b)?(t=ZF(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Hs(e.h)&&Hs(e.s)&&Hs(e.v)?(r=fd(e.s),i=fd(e.v),t=t6(e.h,r,i),o=!0,a="hsv"):Hs(e.h)&&Hs(e.s)&&Hs(e.l)&&(r=fd(e.s),s=fd(e.l),t=e6(e.h,r,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=qM(n),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function ZF(e,t,n){return{r:Ut(e,255)*255,g:Ut(t,255)*255,b:Ut(n,255)*255}}function k2(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function e6(e,t,n){var r,i,s;e=Ut(e,360),t=Ut(t,100),n=Ut(n,100);function o(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(t===0)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=o(l,a,e+1/3),i=o(l,a,e),s=o(l,a,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function C2(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function t6(e,t,n){e=Ut(e,360)*6,t=Ut(t,100),n=Ut(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,o,s,s,a,n][l],u=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:c*255,g:u*255,b:d*255}}function T2(e,t,n,r){var i=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function n6(e,t,n,r,i){var s=[Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16)),Ji(GM(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function I2(e,t,n,r){var i=[Ji(GM(r)),Ji(Math.round(e).toString(16)),Ji(Math.round(t).toString(16)),Ji(Math.round(n).toString(16))];return i.join("")}fe.equals=function(e,t){return!e||!t?!1:fe(e).toRgbString()==fe(t).toRgbString()};fe.random=function(){return fe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function r6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.s-=t/100,n.s=Jm(n.s),fe(n)}function i6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.s+=t/100,n.s=Jm(n.s),fe(n)}function s6(e){return fe(e).desaturate(100)}function o6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.l+=t/100,n.l=Jm(n.l),fe(n)}function a6(e,t){t=t===0?0:t||10;var n=fe(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),fe(n)}function l6(e,t){t=t===0?0:t||10;var n=fe(e).toHsl();return n.l-=t/100,n.l=Jm(n.l),fe(n)}function c6(e,t){var n=fe(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,fe(n)}function u6(e){var t=fe(e).toHsl();return t.h=(t.h+180)%360,fe(t)}function P2(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=fe(e).toHsl(),r=[fe(e)],i=360/t,s=1;s<t;s++)r.push(fe({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function d6(e){var t=fe(e).toHsl(),n=t.h;return[fe(e),fe({h:(n+72)%360,s:t.s,l:t.l}),fe({h:(n+216)%360,s:t.s,l:t.l})]}function f6(e,t,n){t=t||6,n=n||30;var r=fe(e).toHsl(),i=360/n,s=[fe(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(fe(r));return s}function h6(e,t){t=t||6;for(var n=fe(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(fe({h:r,s:i,v:s})),s=(s+a)%1;return o}fe.mix=function(e,t,n){n=n===0?0:n||50;var r=fe(e).toRgb(),i=fe(t).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return fe(o)};fe.readability=function(e,t){var n=fe(e),r=fe(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};fe.isReadable=function(e,t,n){var r=fe.readability(e,t),i,s;switch(s=!1,i=A6(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};fe.mostReadable=function(e,t,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<t.length;c++)s=fe.readability(e,t[c]),s>i&&(i=s,r=fe(t[c]));return fe.isReadable(e,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,fe.mostReadable(e,["#fff","#000"],n))};var zA=fe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},p6=fe.hexNames=g6(zA);function g6(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function qM(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ut(e,t){m6(e)&&(e="100%");var n=v6(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Jm(e){return Math.min(1,Math.max(0,e))}function Br(e){return parseInt(e,16)}function m6(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function v6(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ji(e){return e.length==1?"0"+e:""+e}function fd(e){return e<=1&&(e=e*100+"%"),e}function GM(e){return Math.round(parseFloat(e)*255).toString(16)}function R2(e){return Br(e)/255}var Fi=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Hs(e){return!!Fi.CSS_UNIT.exec(e)}function y6(e){e=e.replace(QF,"").replace(JF,"").toLowerCase();var t=!1;if(zA[e])e=zA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Fi.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Fi.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Fi.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Fi.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Fi.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Fi.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Fi.hex8.exec(e))?{r:Br(n[1]),g:Br(n[2]),b:Br(n[3]),a:R2(n[4]),format:t?"name":"hex8"}:(n=Fi.hex6.exec(e))?{r:Br(n[1]),g:Br(n[2]),b:Br(n[3]),format:t?"name":"hex"}:(n=Fi.hex4.exec(e))?{r:Br(n[1]+""+n[1]),g:Br(n[2]+""+n[2]),b:Br(n[3]+""+n[3]),a:R2(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Fi.hex3.exec(e))?{r:Br(n[1]+""+n[1]),g:Br(n[2]+""+n[2]),b:Br(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function A6(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const _6=fe("rgb(52, 166, 95)"),b6=fe("rgb(15, 138, 95)"),x6=fe("rgb(245, 98, 77)"),S6=fe("rgb(204, 35, 30)"),WM=fe("rgb(245, 220, 21)"),w6=fe(WM.toRgbString()).darken(15),YM=fe("rgb(255, 70, 223)"),E6=fe(YM.toRgbString()).darken(15),KM=fe("rgb(255, 119, 20)"),k6=fe(KM.toRgbString()).darken(15),QM=fe("rgb(31, 192, 223)"),C6=fe(QM.toRgbString()).darken(15),JM=fe("rgb(102, 44, 182)"),T6=fe(JM.toRgbString()).darken(15),I6=fe("rgb(0, 153, 255)"),P6=fe("rgb(0, 77, 128)"),R6=fe("rgb(255, 54, 54)"),M6=fe("rgb(117, 25, 25)"),j6=fe("rgb(255, 213, 0)"),zp=fe("rgb(255, 183, 0)"),li=(e,t)=>e.setAlpha(t).toRgbString(),Bi=(e,t)=>({text:li(e,1),stroke:li(t,1),star:{fill:li(zp,.5),stroke:li(zp,0),lineWidth:1},perfect:{fill:li(e,1),stroke:"white",lineWidth:1},starPerfect:{fill:li(j6,1),stroke:li(zp,1),lineWidth:2},hit:{fill:li(e,.9),stroke:li(t,0),lineWidth:1},miss:{fill:li(e,.25),stroke:li(t,1),lineWidth:1}}),Le={blue:Bi(I6,P6),red:Bi(R6,M6),green:Bi(fe("rgb(0,183,0)"),fe("rgb(0,84,0)")),yellow:Bi(fe("rgb(239,209,0)"),fe("rgb(114,84,0)")),christmasGreen:Bi(_6,b6),christmasRed:Bi(x6,S6),eurovisionYellow:Bi(WM,w6),eurovisionPink:Bi(YM,E6),eurovisionOrange:Bi(KM,k6),eurovisionBlue:Bi(QM,C6),eurovisionViolet:Bi(JM,T6)};let ps=[Le.blue,Le.red,Le.green,Le.yellow];const he={colors:{players:ps,lines:{normal:{fill:"rgba(127, 127, 127, .7)",stroke:"black",lineWidth:1},star:{fill:"rgba(158, 144, 106, 1)",stroke:li(zp,1),lineWidth:1},freestyle:{fill:"rgba(255, 255, 255, 0.1)",stroke:"black",lineWidth:2}},text:{active:"rgb(255, 165, 0)",activeBorder:"rgb(101,75,22)",default:"white",inactive:"grey"}}},XM=e=>{e==="christmas"&&ps[0]!==Le.christmasGreen?(ps=[Le.christmasGreen,Le.christmasRed],he.colors.players=ps):e==="eurovision"&&ps[0]!==Le.eurovisionYellow?(ps=[Le.eurovisionBlue,Le.eurovisionViolet,Le.eurovisionYellow,Le.eurovisionPink],he.colors.players=ps):e==="regular"&&ps[0]!==Le.blue&&(ps=[Le.blue,Le.red,Le.green,Le.yellow],he.colors.players=ps)};function Cc(e,t,n){e==null||e.send({t,...n})}var UA;try{UA=new TextDecoder}catch{}var ve,Ai,W=0,Ct={},tt,Uo,ui=0,bs=0,Fn,no,Vr=[],Ze,M2={useRecords:!1,mapsAsObjects:!0};class ZM{}const ej=new ZM;ej.name="MessagePack 0xC1";var Qo=!1,tj=2,j2;try{new Function("")}catch{tj=1/0}class af{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,n){if(ve)return aj(()=>(qA(),this?this.unpack(t,n):af.prototype.unpack.call(M2,t,n)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof n=="object"?(Ai=n.end||t.length,W=n.start||0):(W=0,Ai=n>-1?n:t.length),bs=0,Uo=null,Fn=null,ve=t;try{Ze=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw ve=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof af){if(Ct=this,this.structures)return tt=this.structures,Lh(n);(!tt||tt.length>0)&&(tt=[])}else Ct=M2,(!tt||tt.length>0)&&(tt=[]);return Lh(n)}unpackMultiple(t,n){let r,i=0;try{Qo=!0;let s=t.length,o=this?this.unpack(t,s):Xm.unpack(t,s);if(n){if(n(o,i,W)===!1)return;for(;W<s;)if(i=W,n(Lh(),i,W)===!1)return}else{for(r=[o];W<s;)i=W,r.push(Lh());return r}}catch(s){throw s.lastPosition=i,s.values=r,s}finally{Qo=!1,qA()}}_mergeStructures(t,n){t=t||[],Object.isFrozen(t)&&(t=t.map(r=>r.slice(0)));for(let r=0,i=t.length;r<i;r++){let s=t[r];s&&(s.isShared=!0,r>=32&&(s.highByte=r-32>>5))}t.sharedLength=t.length;for(let r in n||[])if(r>=0){let i=t[r],s=n[r];s&&(i&&((t.restoreStructures||(t.restoreStructures=[]))[r]=i),t[r]=s)}return this.structures=t}decode(t,n){return this.unpack(t,n)}}function Lh(e){try{if(!Ct.trusted&&!Qo){let n=tt.sharedLength||0;n<tt.length&&(tt.length=n)}let t;if(Ct.randomAccessStructure&&ve[W]<64&&ve[W]>=32&&j2?(t=j2(ve,W,Ai,Ct),ve=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),W=Ai):t=dn(),Fn&&(W=Fn.postBundlePosition,Fn=null),Qo&&(tt.restoreStructures=null),W==Ai)tt&&tt.restoreStructures&&O2(),tt=null,ve=null,no&&(no=null);else{if(W>Ai)throw new Error("Unexpected end of MessagePack data");if(!Qo){let n;try{n=JSON.stringify(t,(r,i)=>typeof i=="bigint"?`${i}n`:i).slice(0,100)}catch(r){n="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+n)}}return t}catch(t){throw tt&&tt.restoreStructures&&O2(),qA(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||W>Ai)&&(t.incomplete=!0),t}}function O2(){for(let e in tt.restoreStructures)tt[e]=tt.restoreStructures[e];tt.restoreStructures=null}function dn(){let e=ve[W++];if(e<160)if(e<128){if(e<64)return e;{let t=tt[e&63]||Ct.getStructures&&nj()[e&63];return t?(t.read||(t.read=Lb(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,Ct.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=ij();r==="__proto__"&&(r="__proto_"),t[r]=dn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(dn(),dn());return t}else{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=dn();return Ct.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(bs>=W)return Uo.slice(W-ui,(W+=t)-ui);if(bs==0&&Ai<140){let n=t<16?Nb(t):rj(t);if(n!=null)return n}return HA(t)}else{let t;switch(e){case 192:return null;case 193:return Fn?(t=dn(),t>0?Fn[1].slice(Fn.position1,Fn.position1+=t):Fn[0].slice(Fn.position0,Fn.position0-=t)):ej;case 194:return!1;case 195:return!0;case 196:if(t=ve[W++],t===void 0)throw new Error("Unexpected end of buffer");return Gv(t);case 197:return t=Ze.getUint16(W),W+=2,Gv(t);case 198:return t=Ze.getUint32(W),W+=4,Gv(t);case 199:return Ea(ve[W++]);case 200:return t=Ze.getUint16(W),W+=2,Ea(t);case 201:return t=Ze.getUint32(W),W+=4,Ea(t);case 202:if(t=Ze.getFloat32(W),Ct.useFloat32>2){let n=$b[(ve[W]&127)<<1|ve[W+1]>>7];return W+=4,(n*t+(t>0?.5:-.5)>>0)/n}return W+=4,t;case 203:return t=Ze.getFloat64(W),W+=8,t;case 204:return ve[W++];case 205:return t=Ze.getUint16(W),W+=2,t;case 206:return t=Ze.getUint32(W),W+=4,t;case 207:return Ct.int64AsType==="number"?(t=Ze.getUint32(W)*4294967296,t+=Ze.getUint32(W+4)):Ct.int64AsType==="string"?t=Ze.getBigUint64(W).toString():Ct.int64AsType==="auto"?(t=Ze.getBigUint64(W),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ze.getBigUint64(W),W+=8,t;case 208:return Ze.getInt8(W++);case 209:return t=Ze.getInt16(W),W+=2,t;case 210:return t=Ze.getInt32(W),W+=4,t;case 211:return Ct.int64AsType==="number"?(t=Ze.getInt32(W)*4294967296,t+=Ze.getUint32(W+4)):Ct.int64AsType==="string"?t=Ze.getBigInt64(W).toString():Ct.int64AsType==="auto"?(t=Ze.getBigInt64(W),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Ze.getBigInt64(W),W+=8,t;case 212:if(t=ve[W++],t==114)return D2(ve[W++]&63);{let n=Vr[t];if(n)return n.read?(W++,n.read(dn())):n.noBuffer?(W++,n()):n(ve.subarray(W,++W));throw new Error("Unknown extension "+t)}case 213:return t=ve[W],t==114?(W++,D2(ve[W++]&63,ve[W++])):Ea(2);case 214:return Ea(4);case 215:return Ea(8);case 216:return Ea(16);case 217:return t=ve[W++],bs>=W?Uo.slice(W-ui,(W+=t)-ui):V6(t);case 218:return t=Ze.getUint16(W),W+=2,bs>=W?Uo.slice(W-ui,(W+=t)-ui):L6(t);case 219:return t=Ze.getUint32(W),W+=4,bs>=W?Uo.slice(W-ui,(W+=t)-ui):N6(t);case 220:return t=Ze.getUint16(W),W+=2,L2(t);case 221:return t=Ze.getUint32(W),W+=4,L2(t);case 222:return t=Ze.getUint16(W),W+=2,N2(t);case 223:return t=Ze.getUint32(W),W+=4,N2(t);default:if(e>=224)return e-256;if(e===void 0){let n=new Error("Unexpected end of MessagePack data");throw n.incomplete=!0,n}throw new Error("Unknown MessagePack token "+e)}}}const O6=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Lb(e,t){function n(){if(n.count++>tj){let i=e.read=new Function("r","return function(){return "+(Ct.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":O6.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(dn);return e.highByte===0&&(e.read=V2(t,e.read)),i()}let r={};for(let i=0,s=e.length;i<s;i++){let o=e[i];o==="__proto__"&&(o="__proto_"),r[o]=dn()}return Ct.freezeData?Object.freeze(r):r}return n.count=0,e.highByte===0?V2(t,n):n}const V2=(e,t)=>function(){let n=ve[W++];if(n===0)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=tt[r]||nj()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=Lb(i,e)),i.read()};function nj(){let e=aj(()=>(ve=null,Ct.getStructures()));return tt=Ct._mergeStructures(e,tt)}var HA=Kf,V6=Kf,L6=Kf,N6=Kf;function Kf(e){let t;if(e<16&&(t=Nb(e)))return t;if(e>64&&UA)return UA.decode(ve.subarray(W,W+=e));const n=W+e,r=[];for(t="";W<n;){const i=ve[W++];if(!(i&128))r.push(i);else if((i&224)===192){const s=ve[W++]&63;r.push((i&31)<<6|s)}else if((i&240)===224){const s=ve[W++]&63,o=ve[W++]&63;r.push((i&31)<<12|s<<6|o)}else if((i&248)===240){const s=ve[W++]&63,o=ve[W++]&63,a=ve[W++]&63;let l=(i&7)<<18|s<<12|o<<6|a;l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|l&1023),r.push(l)}else r.push(i);r.length>=4096&&(t+=Ln.apply(String,r),r.length=0)}return r.length>0&&(t+=Ln.apply(String,r)),t}function L2(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=dn();return Ct.freezeData?Object.freeze(t):t}function N2(e){if(Ct.mapsAsObjects){let t={};for(let n=0;n<e;n++){let r=ij();r==="__proto__"&&(r="__proto_"),t[r]=dn()}return t}else{let t=new Map;for(let n=0;n<e;n++)t.set(dn(),dn());return t}}var Ln=String.fromCharCode;function rj(e){let t=W,n=new Array(e);for(let r=0;r<e;r++){const i=ve[W++];if((i&128)>0){W=t;return}n[r]=i}return Ln.apply(String,n)}function Nb(e){if(e<4)if(e<2){if(e===0)return"";{let t=ve[W++];if((t&128)>1){W-=1;return}return Ln(t)}}else{let t=ve[W++],n=ve[W++];if((t&128)>0||(n&128)>0){W-=2;return}if(e<3)return Ln(t,n);let r=ve[W++];if((r&128)>0){W-=3;return}return Ln(t,n,r)}else{let t=ve[W++],n=ve[W++],r=ve[W++],i=ve[W++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){W-=4;return}if(e<6){if(e===4)return Ln(t,n,r,i);{let s=ve[W++];if((s&128)>0){W-=5;return}return Ln(t,n,r,i,s)}}else if(e<8){let s=ve[W++],o=ve[W++];if((s&128)>0||(o&128)>0){W-=6;return}if(e<7)return Ln(t,n,r,i,s,o);let a=ve[W++];if((a&128)>0){W-=7;return}return Ln(t,n,r,i,s,o,a)}else{let s=ve[W++],o=ve[W++],a=ve[W++],l=ve[W++];if((s&128)>0||(o&128)>0||(a&128)>0||(l&128)>0){W-=8;return}if(e<10){if(e===8)return Ln(t,n,r,i,s,o,a,l);{let c=ve[W++];if((c&128)>0){W-=9;return}return Ln(t,n,r,i,s,o,a,l,c)}}else if(e<12){let c=ve[W++],u=ve[W++];if((c&128)>0||(u&128)>0){W-=10;return}if(e<11)return Ln(t,n,r,i,s,o,a,l,c,u);let d=ve[W++];if((d&128)>0){W-=11;return}return Ln(t,n,r,i,s,o,a,l,c,u,d)}else{let c=ve[W++],u=ve[W++],d=ve[W++],h=ve[W++];if((c&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){W-=12;return}if(e<14){if(e===12)return Ln(t,n,r,i,s,o,a,l,c,u,d,h);{let p=ve[W++];if((p&128)>0){W-=13;return}return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p)}}else{let p=ve[W++],g=ve[W++];if((p&128)>0||(g&128)>0){W-=14;return}if(e<15)return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p,g);let m=ve[W++];if((m&128)>0){W-=15;return}return Ln(t,n,r,i,s,o,a,l,c,u,d,h,p,g,m)}}}}}function $2(){let e=ve[W++],t;if(e<192)t=e-160;else switch(e){case 217:t=ve[W++];break;case 218:t=Ze.getUint16(W),W+=2;break;case 219:t=Ze.getUint32(W),W+=4;break;default:throw new Error("Expected string")}return Kf(t)}function Gv(e){return Ct.copyBuffers?Uint8Array.prototype.slice.call(ve,W,W+=e):ve.subarray(W,W+=e)}function Ea(e){let t=ve[W++];if(Vr[t]){let n;return Vr[t](ve.subarray(W,n=W+=e),r=>{W=r;try{return dn()}finally{W=n}})}else throw new Error("Unknown extension type "+t)}var B2=new Array(4096);function ij(){let e=ve[W++];if(e>=160&&e<192){if(e=e-160,bs>=W)return Uo.slice(W-ui,(W+=e)-ui);if(!(bs==0&&Ai<180))return HA(e)}else return W--,sj(dn());let t=(e<<5^(e>1?Ze.getUint16(W):e>0?ve[W]:0))&4095,n=B2[t],r=W,i=W+e-3,s,o=0;if(n&&n.bytes==e){for(;r<i;){if(s=Ze.getUint32(r),s!=n[o++]){r=1879048192;break}r+=4}for(i+=3;r<i;)if(s=ve[r++],s!=n[o++]){r=1879048192;break}if(r===i)return W=r,n.string;i-=3,r=W}for(n=[],B2[t]=n,n.bytes=e;r<i;)s=Ze.getUint32(r),n.push(s),r+=4;for(i+=3;r<i;)s=ve[r++],n.push(s);let a=e<16?Nb(e):rj(e);return a!=null?n.string=a:n.string=HA(e)}function sj(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid property type for record",typeof e)}const D2=(e,t)=>{let n=dn().map(sj),r=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=tt[e];return i&&(i.isShared||Qo)&&((tt.restoreStructures||(tt.restoreStructures=[]))[e]=i),tt[e]=n,n.read=Lb(n,r),n.read()};Vr[0]=()=>{};Vr[0].noBuffer=!0;Vr[66]=e=>{let t=e.length,n=BigInt(e[0]&128?e[0]-256:e[0]);for(let r=1;r<t;r++)n<<=8n,n+=BigInt(e[r]);return n};let $6={Error,TypeError,ReferenceError};Vr[101]=()=>{let e=dn();return($6[e[0]]||Error)(e[1])};Vr[105]=e=>{if(Ct.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ze.getUint32(W-4);no||(no=new Map);let n=ve[W],r;n>=144&&n<160||n==220||n==221?r=[]:r={};let i={target:r};no.set(t,i);let s=dn();return i.used?Object.assign(r,s):(i.target=s,s)};Vr[112]=e=>{if(Ct.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Ze.getUint32(W-4),n=no.get(t);return n.used=!0,n.target};Vr[115]=()=>new Set(dn());const oj=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let B6=typeof globalThis=="object"?globalThis:window;Vr[116]=e=>{let t=e[0],n=oj[t];if(!n)throw new Error("Could not find typed array for code "+t);return new B6[n](Uint8Array.prototype.slice.call(e,1).buffer)};Vr[120]=()=>{let e=dn();return new RegExp(e[0],e[1])};const D6=[];Vr[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=W;return W+=t-e.length,Fn=D6,Fn=[$2(),$2()],Fn.position0=0,Fn.position1=0,Fn.postBundlePosition=W,W=n,dn()};Vr[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function aj(e){let t=Ai,n=W,r=ui,i=bs,s=Uo,o=no,a=Fn,l=new Uint8Array(ve.slice(0,Ai)),c=tt,u=tt.slice(0,tt.length),d=Ct,h=Qo,p=e();return Ai=t,W=n,ui=r,bs=i,Uo=s,no=o,Fn=a,ve=l,Qo=h,tt=c,tt.splice(0,tt.length,...u),Ct=d,Ze=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),p}function qA(){ve=null,no=null,tt=null}const $b=new Array(147);for(let e=0;e<256;e++)$b[e]=+("1e"+Math.floor(45.15-e*.30103));var Xm=new af({useRecords:!1});const F6=Xm.unpack;Xm.unpackMultiple;Xm.unpack;let z6=new Float32Array(1);new Uint8Array(z6.buffer,0,4);let Up;try{Up=new TextEncoder}catch{}let GA,lj;const Zm=typeof Buffer<"u",Nh=Zm?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,cj=Zm?Buffer:Uint8Array,F2=Zm?4294967296:2144337920;let J,Fu,xt,Y=0,fr,Wt=null,U6;const H6=21760,q6=/[\u0080-\uFFFF]/,Bl=Symbol("record-id");class G6 extends af{constructor(t){super(t),this.offset=0;let n,r,i,s,o=cj.prototype.utf8Write?function(M,U){return J.utf8Write(M,U,4294967295)}:Up&&Up.encodeInto?function(M,U){return Up.encodeInto(M,J.subarray(U)).written}:!1,a=this;t||(t={});let l=t&&t.sequential,c=t.structures||t.saveStructures,u=t.maxSharedStructures;if(u==null&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let d=t.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let h=u>32||d+u>64,p=u+64,g=u+d+64;if(g>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],A=0,v=0;this.pack=this.encode=function(M,U){if(J||(J=new Nh(8192),xt=J.dataView||(J.dataView=new DataView(J.buffer,0,8192)),Y=0),fr=J.length-10,fr-Y<2048?(J=new Nh(J.length),xt=J.dataView||(J.dataView=new DataView(J.buffer,0,J.length)),fr=J.length-10,Y=0):Y=Y+7&2147483640,n=Y,U&X6&&(Y+=U&255),s=a.structuredClone?new Map:null,a.bundleStrings&&typeof M!="string"?(Wt=[],Wt.size=1/0):Wt=null,i=a.structures,i){i.uninitialized&&(i=a._mergeStructures(a.getStructures()));let T=i.sharedLength||0;if(T>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+i.sharedLength);if(!i.transitions){i.transitions=Object.create(null);for(let z=0;z<T;z++){let O=i[z];if(!O)continue;let N,D=i.transitions;for(let $=0,q=O.length;$<q;$++){let ne=O[$];N=D[ne],N||(N=D[ne]=Object.create(null)),D=N}D[Bl]=z+64}this.lastNamedStructuresLength=T}l||(i.nextId=T+64)}r&&(r=!1);let P;try{a.randomAccessStructure&&M&&M.constructor&&M.constructor===Object?Q(M):S(M);let T=Wt;if(Wt&&H2(n,S,0),s&&s.idsToInsert){let z=s.idsToInsert.sort(($,q)=>$.offset>q.offset?1:-1),O=z.length,N=-1;for(;T&&O>0;){let $=z[--O].offset+n;$<T.stringsPosition+n&&N===-1&&(N=0),$>T.position+n?N>=0&&(N+=6):(N>=0&&(xt.setUint32(T.position+n,xt.getUint32(T.position+n)+N),N=-1),T=T.previous,O++)}N>=0&&T&&xt.setUint32(T.position+n,xt.getUint32(T.position+n)+N),Y+=z.length*6,Y>fr&&L(Y),a.offset=Y;let D=Y6(J.subarray(n,Y),z);return s=null,D}return a.offset=Y,U&Q6?(J.start=n,J.end=Y,J):J.subarray(n,Y)}catch(T){throw P=T,T}finally{if(i&&(y(),r&&a.saveStructures)){let T=i.sharedLength||0,z=J.subarray(n,Y),O=K6(i,a);if(!P)return a.saveStructures(O,O.isCompatible)===!1?a.pack(M,U):(a.lastNamedStructuresLength=T,z)}U&J6&&(Y=n)}};const y=()=>{v<10&&v++;let M=i.sharedLength||0;if(i.length>M&&!l&&(i.length=M),A>1e4)i.transitions=null,v=0,A=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let U=0,P=m.length;U<P;U++)m[U][Bl]=0;m=[]}},b=M=>{var U=M.length;U<16?J[Y++]=144|U:U<65536?(J[Y++]=220,J[Y++]=U>>8,J[Y++]=U&255):(J[Y++]=221,xt.setUint32(Y,U),Y+=4);for(let P=0;P<U;P++)S(M[P])},S=M=>{Y>fr&&(J=L(Y));var U=typeof M,P;if(U==="string"){let T=M.length;if(Wt&&T>=4&&T<4096){if((Wt.size+=T)>H6){let D,$=(Wt[0]?Wt[0].length*3+Wt[1].length:0)+10;Y+$>fr&&(J=L(Y+$));let q;Wt.position?(q=Wt,J[Y]=200,Y+=3,J[Y++]=98,D=Y-n,Y+=4,H2(n,S,0),xt.setUint16(D+n-3,Y-n-D)):(J[Y++]=214,J[Y++]=98,D=Y-n,Y+=4),Wt=["",""],Wt.previous=q,Wt.size=0,Wt.position=D}let N=q6.test(M);Wt[N?0:1]+=M,J[Y++]=193,S(N?-T:T);return}let z;T<32?z=1:T<256?z=2:T<65536?z=3:z=5;let O=T*3;if(Y+O>fr&&(J=L(Y+O)),T<64||!o){let N,D,$,q=Y+z;for(N=0;N<T;N++)D=M.charCodeAt(N),D<128?J[q++]=D:D<2048?(J[q++]=D>>6|192,J[q++]=D&63|128):(D&64512)===55296&&(($=M.charCodeAt(N+1))&64512)===56320?(D=65536+((D&1023)<<10)+($&1023),N++,J[q++]=D>>18|240,J[q++]=D>>12&63|128,J[q++]=D>>6&63|128,J[q++]=D&63|128):(J[q++]=D>>12|224,J[q++]=D>>6&63|128,J[q++]=D&63|128);P=q-Y-z}else P=o(M,Y+z);P<32?J[Y++]=160|P:P<256?(z<2&&J.copyWithin(Y+2,Y+1,Y+1+P),J[Y++]=217,J[Y++]=P):P<65536?(z<3&&J.copyWithin(Y+3,Y+2,Y+2+P),J[Y++]=218,J[Y++]=P>>8,J[Y++]=P&255):(z<5&&J.copyWithin(Y+5,Y+3,Y+3+P),J[Y++]=219,xt.setUint32(Y,P),Y+=4),Y+=P}else if(U==="number")if(M>>>0===M)M<32||M<128&&this.useRecords===!1||M<64&&!this.randomAccessStructure?J[Y++]=M:M<256?(J[Y++]=204,J[Y++]=M):M<65536?(J[Y++]=205,J[Y++]=M>>8,J[Y++]=M&255):(J[Y++]=206,xt.setUint32(Y,M),Y+=4);else if(M>>0===M)M>=-32?J[Y++]=256+M:M>=-128?(J[Y++]=208,J[Y++]=M+256):M>=-32768?(J[Y++]=209,xt.setInt16(Y,M),Y+=2):(J[Y++]=210,xt.setInt32(Y,M),Y+=4);else{let T;if((T=this.useFloat32)>0&&M<4294967296&&M>=-2147483648){J[Y++]=202,xt.setFloat32(Y,M);let z;if(T<4||(z=M*$b[(J[Y]&127)<<1|J[Y+1]>>7])>>0===z){Y+=4;return}else Y--}J[Y++]=203,xt.setFloat64(Y,M),Y+=8}else if(U==="object"||U==="function")if(!M)J[Y++]=192;else{if(s){let z=s.get(M);if(z){if(!z.id){let O=s.idsToInsert||(s.idsToInsert=[]);z.id=O.push(z)}J[Y++]=214,J[Y++]=112,xt.setUint32(Y,z.id),Y+=4;return}else s.set(M,{offset:Y-n})}let T=M.constructor;if(T===Object)I(M,!0);else if(T===Array)b(M);else if(T===Map)if(this.mapAsEmptyObject)J[Y++]=128;else{P=M.size,P<16?J[Y++]=128|P:P<65536?(J[Y++]=222,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=223,xt.setUint32(Y,P),Y+=4);for(let[z,O]of M)S(z),S(O)}else{for(let z=0,O=GA.length;z<O;z++){let N=lj[z];if(M instanceof N){let D=GA[z];if(D.write){D.type&&(J[Y++]=212,J[Y++]=D.type,J[Y++]=0);let ce=D.write.call(this,M);ce===M?Array.isArray(M)?b(M):I(M):S(ce);return}let $=J,q=xt,ne=Y;J=null;let V;try{V=D.pack.call(this,M,ce=>(J=$,$=null,Y+=ce,Y>fr&&L(Y),{target:J,targetView:xt,position:Y-ce}),S)}finally{$&&(J=$,xt=q,Y=ne,fr=J.length-10)}V&&(V.length+Y>fr&&L(V.length+Y),Y=W6(V,J,Y,D.type));return}}if(Array.isArray(M))b(M);else{if(M.toJSON){const z=M.toJSON();if(z!==M)return S(z)}if(U==="function")return S(this.writeFunction&&this.writeFunction(M));I(M,!M.hasOwnProperty)}}}else if(U==="boolean")J[Y++]=M?195:194;else if(U==="bigint"){if(M<BigInt(1)<<BigInt(63)&&M>=-(BigInt(1)<<BigInt(63)))J[Y++]=211,xt.setBigInt64(Y,M);else if(M<BigInt(1)<<BigInt(64)&&M>0)J[Y++]=207,xt.setBigUint64(Y,M);else if(this.largeBigIntToFloat)J[Y++]=203,xt.setFloat64(Y,Number(M));else if(this.useBigIntExtension&&M<2n**1023n&&M>-(2n**1023n)){J[Y++]=199,Y++,J[Y++]=66;let T=[],z;do{let O=M&0xffn;z=(O&0x80n)===(M<0n?0x80n:0n),T.push(O),M>>=8n}while(!((M===0n||M===-1n)&&z));J[Y-2]=T.length;for(let O=T.length;O>0;)J[Y++]=Number(T[--O]);return}else throw new RangeError(M+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Y+=8}else if(U==="undefined")this.encodeUndefinedAsNil?J[Y++]=192:(J[Y++]=212,J[Y++]=0,J[Y++]=0);else throw new Error("Unknown type: "+U)},x=this.variableMapSize||this.coercibleKeyAsNumber?M=>{let U=Object.keys(M),P=U.length;P<16?J[Y++]=128|P:P<65536?(J[Y++]=222,J[Y++]=P>>8,J[Y++]=P&255):(J[Y++]=223,xt.setUint32(Y,P),Y+=4);let T;if(this.coercibleKeyAsNumber)for(let z=0;z<P;z++){T=U[z];let O=Number(T);S(isNaN(O)?T:O),S(M[T])}else for(let z=0;z<P;z++)S(T=U[z]),S(M[T])}:(M,U)=>{J[Y++]=222;let P=Y-n;Y+=2;let T=0;for(let z in M)(U||M.hasOwnProperty(z))&&(S(z),S(M[z]),T++);J[P+++n]=T>>8,J[P+n]=T&255},w=this.useRecords===!1?x:t.progressiveRecords&&!h?(M,U)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),z=Y++-n,O;for(let N in M)if(U||M.hasOwnProperty(N)){if(P=T[N],P)T=P;else{let D=Object.keys(M),$=T;T=i.transitions;let q=0;for(let ne=0,V=D.length;ne<V;ne++){let ce=D[ne];P=T[ce],P||(P=T[ce]=Object.create(null),q++),T=P}z+n+1==Y?(Y--,j(T,D,q)):B(T,D,z,q),O=!0,T=$[N]}S(M[N])}if(!O){let N=T[Bl];N?J[z+n]=N:B(T,Object.keys(M),z,0)}}:(M,U)=>{let P,T=i.transitions||(i.transitions=Object.create(null)),z=0;for(let N in M)(U||M.hasOwnProperty(N))&&(P=T[N],P||(P=T[N]=Object.create(null),z++),T=P);let O=T[Bl];O?O>=96&&h?(J[Y++]=((O-=96)&31)+96,J[Y++]=O>>5):J[Y++]=O:j(T,T.__keys__||Object.keys(M),z);for(let N in M)(U||M.hasOwnProperty(N))&&S(M[N])},E=typeof this.useRecords=="function"&&this.useRecords,I=E?(M,U)=>{E(M)?w(M,U):x(M,U)}:w,L=M=>{let U;if(M>16777216){if(M-n>F2)throw new Error("Packed buffer would be larger than maximum buffer size");U=Math.min(F2,Math.round(Math.max((M-n)*(M>67108864?1.25:2),4194304)/4096)*4096)}else U=(Math.max(M-n<<2,J.length-1)>>12)+1<<12;let P=new Nh(U);return xt=P.dataView||(P.dataView=new DataView(P.buffer,0,U)),M=Math.min(M,J.length),J.copy?J.copy(P,0,n,M):P.set(J.slice(n,M)),Y-=n,n=0,fr=P.length-10,J=P},j=(M,U,P)=>{let T=i.nextId;T||(T=64),T<p&&this.shouldShareStructure&&!this.shouldShareStructure(U)?(T=i.nextOwnId,T<g||(T=p),i.nextOwnId=T+1):(T>=g&&(T=p),i.nextId=T+1);let z=U.highByte=T>=96&&h?T-96>>5:-1;M[Bl]=T,M.__keys__=U,i[T-64]=U,T<p?(U.isShared=!0,i.sharedLength=T-63,r=!0,z>=0?(J[Y++]=(T&31)+96,J[Y++]=z):J[Y++]=T):(z>=0?(J[Y++]=213,J[Y++]=114,J[Y++]=(T&31)+96,J[Y++]=z):(J[Y++]=212,J[Y++]=114,J[Y++]=T),P&&(A+=v*P),m.length>=d&&(m.shift()[Bl]=0),m.push(M),S(U))},B=(M,U,P,T)=>{let z=J,O=Y,N=fr,D=n;J=Fu,Y=0,n=0,J||(Fu=J=new Nh(8192)),fr=J.length-10,j(M,U,T),Fu=J;let $=Y;if(J=z,Y=O,fr=N,n=D,$>1){let q=Y+$-1;q>fr&&L(q);let ne=P+n;J.copyWithin(ne+$,ne+1,Y),J.set(Fu.slice(0,$),ne),Y=q}else J[P+n]=Fu[0]},Q=(M,U)=>{let P=U6(M,J,n,Y,i,L,(T,z,O)=>{if(O)return r=!0;Y=z;let N=J;return S(T),y(),N!==J?{position:Y,targetView:xt,target:J}:Y},this);if(P===0)return I(M,!0);Y=P}}useBuffer(t){J=t,xt=new DataView(J.buffer,J.byteOffset,J.byteLength),Y=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}lj=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,ZM];GA=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:i,targetView:s,position:o}=t(6);i[o++]=214,i[o++]=255,s.setUint32(o,r)}else if(r>0&&r<4294967296){let{target:i,targetView:s,position:o}=t(10);i[o++]=215,i[o++]=255,s.setUint32(o,e.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),s.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:i,targetView:s,position:o}=t(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:s,position:o}=t(15);i[o++]=199,i[o++]=12,i[o++]=255,s.setUint32(o,e.getMilliseconds()*1e6),s.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){if(this.setAsEmptyObject)return t(0),n({});let r=Array.from(e),{target:i,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(i[s++]=212,i[s++]=115,i[s++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?z2(e,16,t):U2(Zm?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==cj&&this.moreTypes?z2(e,oj.indexOf(n.name),t):U2(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];function z2(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:s,position:o}=n(4+i);s[o++]=199,s[o++]=i+1}else if(i+1<65536){var{target:s,position:o}=n(5+i);s[o++]=200,s[o++]=i+1>>8,s[o++]=i+1&255}else{var{target:s,position:o,targetView:a}=n(7+i);s[o++]=201,a.setUint32(o,i+1),o+=4}s[o++]=116,s[o++]=t,s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function U2(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=n&255}else{var{target:r,position:i,targetView:s}=t(n+5);r[i++]=198,s.setUint32(i,n),i+=4}r.set(e,i)}function W6(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=i&255):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=i&255)}return t[n++]=r,t.set(e,n),n+=i,n}function Y6(e,t){let n,r=t.length*6,i=e.length-r;for(;n=t.pop();){let s=n.offset,o=n.id;e.copyWithin(s+r,s,i),r-=6;let a=s+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=o&255,i=s}return e}function H2(e,t,n){if(Wt.length>0){xt.setUint32(Wt.position+e,Y+n-Wt.position-e),Wt.stringsPosition=Y-e;let r=Wt;Wt=null,t(r[0]),t(r[1])}}function K6(e,t){return e.isCompatible=n=>{let r=!n||(t.lastNamedStructuresLength||0)===n.length;return r||t._mergeStructures(n),r},e}let uj=new G6({useRecords:!1});const dj=uj.pack;uj.pack;const Q6=512,J6=1024,X6=2048;function Tc(){return Date.now()}const Cg=e=>dj(e),Bb=e=>F6(e);let Z6=class{constructor(t,n){this.connection=t,this.inputLag=n,this.frequencies=[0],this.volumes=[0],this.requestReadinessPromise=null,this.getFrequencies=()=>this.frequencies,this.clearFrequencies=()=>{Array.isArray(this.frequencies[0])&&(this.frequencies=[this.frequencies[0].at(-1)])},this.getVolumes=()=>this.volumes,this.getInputLag=()=>this.inputLag,this.setInputLag=r=>{this.inputLag=r},this.requestReadiness=()=>(console.log("requestReadiness"),this.requestReadinessPromise||(this.requestReadinessPromise=new Promise(r=>{const i=s=>{s.t==="confirm-readiness"&&(r(!0),this.connection.off("data",i),this.requestReadinessPromise=null)};this.connection.on("data",i),Cc(this.connection,"request-readiness")})),this.requestReadinessPromise),this.startMonitoring=async()=>{var r,i;(r=this.connection)==null||r.off("data",this.handleRTCData),Cc(this.connection,"start-monitor"),(i=this.connection)==null||i.on("data",this.handleRTCData)},this.stopMonitoring=async()=>{var r;Cc(this.connection,"stop-monitor"),(r=this.connection)==null||r.off("data",this.handleRTCData)},this.handleRTCData=r=>{r.t==="freq"&&(this.frequencies=[r[0],r[0]],this.volumes=[r[1],r[1]])}}},e8=class{constructor(t,n,r,i){this.id=t,this.name=n,this.connection=r,this.pingTime=9999,this.pingInterval=null,this.getInput=()=>this.input,this.setPlayerNumber=s=>{Cc(this.connection,"set-player-number",{playerNumber:s})},this.onDisconnect=()=>{this.pingInterval!==null&&clearInterval(this.pingInterval)},this.setPermission=s=>{Cc(this.connection,"set-permissions",{level:s})},this.isPinging=!1,this.latency=9999,this.onPong=()=>{this.latency=Tc()-this.pingTime,this.isPinging=!1,this.pingClient()},this.pingClient=()=>{this.pingInterval=setTimeout(()=>{this.pingTime=Tc(),this.isPinging=!0,Cc(this.connection,"ping")},1e3)},this.getLatency=()=>this.isPinging?Tc()-this.pingTime:this.latency,this.getPingTime=()=>this.pingTime,this.input=new Z6(r,i),this.pingClient()}};const fj={SelectionOnTop:"selection_on_top",WebsocketsRemoteMics:"websockets_remote_mics",InitialInputLag:"initial_input_lag",LandingPageBackground:"landing_page_background",VirtualizedSongSelection:"virtualized_song_selection",Eurovision:"eurovision"};class ni extends bo{constructor(t,n,r="local"){super(),this.name=t,this.defaultValue=n,this.driver=r,this.value=void 0,this.get=()=>(this.value===void 0&&(this.value=Oe[this.driver].getItem(`settings-${this.name}`)??this.defaultValue),this.value),this.set=i=>{this.value=i,Oe[this.driver].setItem(`settings-${this.name}`,i),this.onUpdate(i)}}}const hj=["high","low"],t8="graphics-level",xs=new ni(t8,hj[0]),n8=[null,"skip","remoteMics","singstar-mics","different-mics","advanced","built-in"],r8="mic-setup-preference",Db=new ni(r8,n8[0],"session"),pj=[60,30],Ya=new ni("fps-count",pj[0]),e0=new ni("EXCLUDED_LANGUAGES_KEY_V2",null),Zn=new ni("MOBILE_PHONE_MODE_KEY",null),gj=new ni("keyboard-help-visibility",!0);var yR;const q2=(yR=kn.getFeatureFlagPayload)==null?void 0:yR.call(kn,fj.InitialInputLag),Id=new ni("INPUT_LAG_V2",typeof q2=="number"?q2:0),mj=new ni("REMOTE_MIC_INPUT_LAG",0,"session"),G2=["write","read"],vj=new ni("DefaultRemoteMicPermission","write"),yj=["New","Classic"],Fb=new ni("background-music",yj[0]),t0=new ni("BackgroundThemeSetting","regular","memory"),zb=new ni("AutoEnableFullscreenSetting",!0,"session"),Tg=new ni("UseWebsocketsSettings",!1,"session");var AR;(AR=kn.onFeatureFlags)==null||AR.call(kn,()=>{Tg.set(kn.isFeatureEnabled(fj.WebsocketsRemoteMics)??!1)});function $e(e){const[t,n]=_.useState(e.get());return _.useLayoutEffect(()=>e.addListener(n),[e]),[t,e.set]}const W2="RememberedAccessesKey",Wv="rememberedSubscriptionsKey";class i8 extends bo{constructor(){super(...arguments),this.remoteMics=[],this.micAccessMap=Oe.getItem(W2)??{},this.subscriptions=Oe.session.getItem(Wv)??{"remote-mics":[]},this.addRemoteMic=(t,n,r,i,s)=>{this.remoteMics=this.remoteMics.filter(o=>o.id!==t),this.remoteMics=[...this.remoteMics,new e8(t,n,r,s)],this.setPermission(t,this.getPermission(t)),te.remoteMicConnected.dispatch({id:t,name:n,silent:i})},this.removeRemoteMic=(t,n=!1)=>{const r=this.remoteMics.find(i=>i.id===t);this.remoteMics=this.remoteMics.filter(i=>i.id!==t),r&&(r.onDisconnect(),te.remoteMicDisconnected.dispatch(r,n))},this.getRemoteMics=()=>this.remoteMics,this.getRemoteMicById=t=>this.remoteMics.find(n=>n.id===t),this.broadcast=t=>{this.getRemoteMics().forEach(n=>n.connection.send(t))},this.broadcastToChannel=(t,n)=>{this.subscriptions[t].forEach(r=>{var i;return(i=this.getRemoteMicById(r))==null?void 0:i.connection.send(n)})},this.getPermission=t=>this.micAccessMap[t]??vj.get(),this.setPermission=(t,n)=>{var r;(r=this.getRemoteMicById(t))==null||r.setPermission(n),this.micAccessMap[t]=n,Oe.setItem(W2,this.micAccessMap),this.onUpdate(t,n)},this.addSubscription=(t,n)=>{this.subscriptions[n]=[...new Set([...this.subscriptions[n],t])],Oe.session.setItem(Wv,this.subscriptions),te.remoteMicSubscribed.dispatch(t,n)},this.removeSubscription=(t,n)=>{var r;this.subscriptions[n]=((r=this.subscriptions[n])==null?void 0:r.filter(i=>i!==t))??[],Oe.session.setItem(Wv,this.subscriptions)}}}const Je=new i8;t0.addListener(e=>{XM(e),Je.broadcast({t:"style-change",style:e})});te.remoteMicConnected.subscribe(e=>{var t;(t=Je.getRemoteMicById(e.id))==null||t.connection.send({t:"style-change",style:t0.get()})});class s8{constructor(){this.frequencies=[440,410],this.volumes=[1,1],this.startMonitoring=async()=>{},this.getFrequencies=t=>this.frequencies,this.getVolumes=t=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async t=>{},this.getInputLag=()=>0,this.setFrequency=(t,n)=>this.frequencies[t]=n,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const o8=new s8;class a8{constructor(){this.frequencies=[410,210],this.volumes=[1,1],this.timestamp=0,this.interval=null,this.isMonitoring=!1,this.startMonitoring=async()=>{this.isMonitoring||(this.isMonitoring=!0,this.interval=global.setInterval(()=>{this.timestamp=this.timestamp+32,this.frequencies[0]=Math.sin(this.timestamp/1e3)*50+100,this.frequencies[1]=Math.cos(this.timestamp/1e3)*50+200},32))},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{this.isMonitoring&&(this.isMonitoring=!1,this.interval&&global.clearInterval(this.interval))},this.getInputLag=()=>150,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}}const l8=new a8,Aj=Object.prototype.toString;function Ub(e){switch(Aj.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return oo(e,Error)}}function yu(e,t){return Aj.call(e)===`[object ${t}]`}function Hb(e){return yu(e,"ErrorEvent")}function Y2(e){return yu(e,"DOMError")}function c8(e){return yu(e,"DOMException")}function Rs(e){return yu(e,"String")}function qb(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Gb(e){return e===null||qb(e)||typeof e!="object"&&typeof e!="function"}function Gc(e){return yu(e,"Object")}function n0(e){return typeof Event<"u"&&oo(e,Event)}function u8(e){return typeof Element<"u"&&oo(e,Element)}function d8(e){return yu(e,"RegExp")}function r0(e){return!!(e&&e.then&&typeof e.then=="function")}function f8(e){return Gc(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _j(e){return typeof e=="number"&&e!==e}function oo(e,t){try{return e instanceof t}catch{return!1}}function bj(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ic(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function K2(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{bj(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function h8(e,t,n=!1){return Rs(e)?d8(t)?t.test(e):Rs(t)?n?e===t:e.includes(t):!1:!1}function Qf(e,t=[],n=!1){return t.some(r=>h8(e,r,n))}function p8(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!oo(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=g8(WA(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function WA(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(oo(r[i],Error)){Q2(o,a);const c=e(t,r[i]),u=l.length;J2(c,i,u,a),l=WA(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(oo(c,Error)){Q2(o,a);const d=e(t,c),h=l.length;J2(d,`errors[${u}]`,h,a),l=WA(e,t,n,c,i,[d,...l],d,h)}}),l}function Q2(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function J2(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function g8(e,t){return e.map(n=>(n.value&&(n.value=Ic(n.value,t)),n))}function $h(e){return e&&e.Math==Math?e:void 0}const dt=typeof globalThis=="object"&&$h(globalThis)||typeof window=="object"&&$h(window)||typeof self=="object"&&$h(self)||typeof global=="object"&&$h(global)||function(){return this}()||{};function Wb(){return dt}function xj(e,t,n){const r=n||dt,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const Pc=Wb(),m8=80;function Wc(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||m8;for(;n&&s++<r&&(c=v8(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function v8(e,t){const n=e,r=[];let i,s,o,a,l;if(!n||!n.tagName)return"";if(Pc.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&Rs(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)r.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function y8(){try{return Pc.document.location.href}catch{return""}}function A8(e){return Pc.document&&Pc.document.querySelector?Pc.document.querySelector(e):null}function Sj(e){if(!Pc.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Au=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_8="Sentry Logger ",YA=["debug","info","warn","error","log","assert","trace"],Ig={};function i0(e){if(!("console"in dt))return e();const t=dt.console,n={},r=Object.keys(Ig);r.forEach(i=>{const s=Ig[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function b8(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Au?YA.forEach(n=>{t[n]=(...r)=>{e&&i0(()=>{dt.console[n](`${_8}[${n}]:`,...r)})}}):YA.forEach(n=>{t[n]=()=>{}}),t}const re=b8(),x8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function S8(e){return e==="http"||e==="https"}function Al(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function w8(e){const t=x8.exec(e);if(!t){i0(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s,o="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return wj({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function wj(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function E8(e){if(!Au)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(re.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?S8(r)?t&&isNaN(parseInt(t,10))?(re.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(re.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(re.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Ej(e){const t=typeof e=="string"?w8(e):wj(e);if(!(!t||!E8(t)))return t}class Ss extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Qn(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&kj(i,r),e[t]=i}function rl(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Au&&re.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function kj(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,rl(e,"__sentry_original__",t)}catch{}}function Yb(e){return e.__sentry_original__}function k8(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Cj(e){if(Ub(e))return{message:e.message,name:e.name,stack:e.stack,...Z2(e)};if(n0(e)){const t={type:e.type,target:X2(e.target),currentTarget:X2(e.currentTarget),...Z2(e)};return typeof CustomEvent<"u"&&oo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function X2(e){try{return u8(e)?Wc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Z2(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function C8(e,t=40){const n=Object.keys(Cj(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ic(n[0],t);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Ic(i,t)}return""}function qr(e){return KA(e,new Map)}function KA(e,t){if(T8(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=KA(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(KA(i,t))}),r}return e}function T8(e){if(!Gc(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const Tj=50,ek=/\(error: (.*)\)/,tk=/captureMessage|captureException/;function Ij(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const l=ek.test(a)?a.replace(ek,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of t){const u=c(l);if(u){i.push(u);break}}if(i.length>=Tj)break}}return P8(i)}}function I8(e){return Array.isArray(e)?Ij(...e):e}function P8(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),tk.test(t[t.length-1].function||"")&&(t.pop(),tk.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Tj).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const Yv="<anonymous>";function ao(e){try{return!e||typeof e!="function"?Yv:e.name||Yv}catch{return Yv}}const Hp={},nk={};function _l(e,t){Hp[e]=Hp[e]||[],Hp[e].push(t)}function bl(e,t){nk[e]||(t(),nk[e]=!0)}function ns(e,t){const n=e&&Hp[e];if(n)for(const r of n)try{r(t)}catch(i){Au&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ao(r)}
Error:`,i)}}function R8(e){const t="console";_l(t,e),bl(t,M8)}function M8(){"console"in dt&&YA.forEach(function(e){e in dt.console&&Qn(dt.console,e,function(t){return Ig[e]=t,function(...n){ns("console",{args:n,level:e});const i=Ig[e];i&&i.apply(dt.console,n)}})})}function hn(){const e=dt,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Pj(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function No(e){const{message:t,event_id:n}=e;if(t)return t;const r=Pj(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function QA(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function lf(e,t){const n=Pj(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function rk(e){if(e&&e.__sentry_captured__)return!0;try{rl(e,"__sentry_captured__",!0)}catch{}return!1}function Rj(e){return Array.isArray(e)?e:[e]}const Jl=dt,j8=1e3;let ik,JA,XA;function O8(e){const t="dom";_l(t,e),bl(t,V8)}function V8(){if(!Jl.document)return;const e=ns.bind(null,"dom"),t=sk(e,!0);Jl.document.addEventListener("click",t,!1),Jl.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Jl[n]&&Jl[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Qn(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=sk(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),Qn(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function L8(e){if(e.type!==JA)return!1;try{if(!e.target||e.target._sentryId!==XA)return!1}catch{}return!0}function N8(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function sk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=$8(n);if(N8(n.type,r))return;rl(n,"_sentryCaptured",!0),r&&!r._sentryId&&rl(r,"_sentryId",hn());const i=n.type==="keypress"?"input":n.type;L8(n)||(e({event:n,name:i,global:t}),JA=n.type,XA=r?r._sentryId:void 0),clearTimeout(ik),ik=Jl.setTimeout(()=>{XA=void 0,JA=void 0},j8)}}function $8(e){try{return e.target}catch{return null}}const ZA=Wb();function Mj(){if(!("fetch"in ZA))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function e1(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function B8(){if(typeof EdgeRuntime=="string")return!0;if(!Mj())return!1;if(e1(ZA.fetch))return!0;let e=!1;const t=ZA.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=e1(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Au&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function jj(e){const t="fetch";_l(t,e),bl(t,D8)}function D8(){B8()&&Qn(dt,"fetch",function(e){return function(...t){const{method:n,url:r}=F8(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return ns("fetch",{...i}),e.apply(dt,t).then(s=>{const o={...i,endTimestamp:Date.now(),response:s};return ns("fetch",o),s},s=>{const o={...i,endTimestamp:Date.now(),error:s};throw ns("fetch",o),s})}})}function t1(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ok(e){return typeof e=="string"?e:e?t1(e,"url")?e.url:e.toString?e.toString():"":""}function F8(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:ok(n),method:t1(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:ok(t),method:t1(t,"method")?String(t.method).toUpperCase():"GET"}}let Bh=null;function Oj(e){const t="error";_l(t,e),bl(t,z8)}function z8(){Bh=dt.onerror,dt.onerror=function(e,t,n,r,i){return ns("error",{column:r,error:i,line:n,msg:e,url:t}),Bh&&!Bh.__SENTRY_LOADER__?Bh.apply(this,arguments):!1},dt.onerror.__SENTRY_INSTRUMENTED__=!0}let Dh=null;function Vj(e){const t="unhandledrejection";_l(t,e),bl(t,U8)}function U8(){Dh=dt.onunhandledrejection,dt.onunhandledrejection=function(e){return ns("unhandledrejection",e),Dh&&!Dh.__SENTRY_LOADER__?Dh.apply(this,arguments):!0},dt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Fh=Wb();function H8(){const e=Fh.chrome,t=e&&e.app&&e.app.runtime,n="history"in Fh&&!!Fh.history.pushState&&!!Fh.history.replaceState;return!t&&n}const zu=dt;let zh;function Kb(e){const t="history";_l(t,e),bl(t,q8)}function q8(){if(!H8())return;const e=zu.onpopstate;zu.onpopstate=function(...n){const r=zu.location.href,i=zh;if(zh=r,ns("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=zh,o=String(i);zh=o,ns("history",{from:s,to:o})}return n.apply(this,r)}}Qn(zu.history,"pushState",t),Qn(zu.history,"replaceState",t)}const G8=dt,nc="__sentry_xhr_v3__";function Lj(e){const t="xhr";_l(t,e),bl(t,W8)}function W8(){if(!G8.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Qn(e,"open",function(t){return function(...n){const r=Date.now(),i=Rs(n[0])?n[0].toUpperCase():void 0,s=Y8(n[1]);if(!i||!s)return t.apply(this,n);this[nc]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[nc];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={args:[i,s],endTimestamp:Date.now(),startTimestamp:r,xhr:this};ns("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Qn(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),Qn(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[nc];return d&&Rs(c)&&Rs(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,n)}}),Qn(e,"send",function(t){return function(...n){const r=this[nc];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return ns("xhr",i),t.apply(this,n)}})}function Y8(e){if(Rs(e))return e;try{return e.toString()}catch{}}function K8(){return"npm"}function Q8(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Oo(e,t=100,n=1/0){try{return n1("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Nj(e,t=3,n=100*1024){const r=Oo(e,t);return e7(r)>n?Nj(e,t-1,n):r}function n1(e,t,n=1/0,r=1/0,i=Q8()){const[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!_j(t))return t;const a=J8(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return n1("",p,l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const h=Cj(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const g=h[p];u[p]=n1(p,g,l-1,r,i),d++}return o(t),u}function J8(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(bj(t))return"[VueViewModel]";if(f8(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${ao(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=X8(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function X8(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Z8(e){return~-encodeURI(e).split(/%..|./).length}function e7(e){return Z8(JSON.stringify(e))}var Ws;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Ws||(Ws={}));function Yc(e){return new zr(t=>{t(e)})}function Qb(e){return new zr((t,n)=>{n(e)})}class zr{constructor(t){zr.prototype.__init.call(this),zr.prototype.__init2.call(this),zr.prototype.__init3.call(this),zr.prototype.__init4.call(this),this._state=Ws.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new zr((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new zr((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Ws.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Ws.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Ws.PENDING){if(r0(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ws.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Ws.RESOLVED&&n[1](this._value),this._state===Ws.REJECTED&&n[2](this._value),n[0]=!0)})}}}function t7(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return Qb(new Ss("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new zr((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Yc(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}return{$:t,add:i,drain:s}}function Ka(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const n7=["fatal","error","warning","log","info","debug"];function r7(e){return e==="warn"?"warning":n7.includes(e)?e:"log"}const $j=1e3;function Jf(){return Date.now()/$j}function i7(){const{performance:e}=dt;if(!e||!e.now)return Jf;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/$j}const il=i7(),Ei=(()=>{const{performance:e}=dt;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?e.timeOrigin:o:r})(),r1="baggage",Bj="sentry-",s7=/^sentry-/,o7=8192;function a7(e){if(!Rs(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,i)=>{const s=ak(i);for(const o of Object.keys(s))r[o]=s[o];return r},{});else{if(!e)return;t=ak(e)}const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(s7)){const o=i.slice(Bj.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function Dj(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${Bj}${r}`]=i),n),{});return l7(t)}function ak(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function l7(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>o7?(Au&&re.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const c7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function u7(e){if(!e)return;const t=e.match(c7);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function d7(e,t){const n=u7(e),r=a7(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||hn(),parentSpanId:s||hn().substring(16),spanId:hn().substring(16),sampled:o,dsc:r||{}}:{traceId:i||hn(),spanId:hn().substring(16)}}function Jb(e=hn(),t=hn().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function xl(e,t=[]){return[e,t]}function f7(e,t){const[n,r]=e;return[n,[...r,t]]}function lk(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function i1(e,t){return(t||new TextEncoder).encode(e)}function h7(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[i1(i,t),o]:i.push(typeof o=="string"?i1(o,t):o)}for(const o of r){const[a,l]=o;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Oo(l))}s(c)}}return typeof i=="string"?i:p7(i)}function p7(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function g7(e,t){const n=typeof e.data=="string"?i1(e.data,t):e.data;return[qr({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const m7={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ck(e){return m7[e]}function Fj(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function v7(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Al(r)},...i&&{trace:qr({...i})}}}function y7(e,t,n){const r=[{type:"client_report"},{timestamp:n||Jf(),discarded_events:e}];return xl(t?{dsn:t}:{},[r])}const A7=60*1e3;function _7(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?A7:r-t}function b7(e,t){return e[t]||e.all||0}function x7(e,t,n=Date.now()){return b7(e,t)>n}function S7(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),h=(isNaN(d)?60:d)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+_7(o,r):t===429&&(i.all=r+60*1e3);return i}const Me=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,s0="production";function Xb(){return xj("globalEventProcessors",()=>[])}function w7(e){Xb().push(e)}function Pg(e,t,n,r=0){return new zr((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);Me&&o.id&&a===null&&re.log(`Event processor "${o.id}" dropped event`),r0(a)?a.then(l=>Pg(e,l,n,r+1).then(i)).then(null,s):Pg(e,a,n,r+1).then(i).then(null,s)}})}function zj(e){const t=il(),n={sid:hn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>E7(n)};return e&&sl(n,e),n}function sl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||il(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:hn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Uj(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),sl(e,n)}function E7(e){return qr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const k7=0,Hj=1;function Zb(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,tags:a,origin:l}=Tn(e);return qr({data:r,op:i,parent_span_id:s,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function o0(e){const{traceId:t,spanId:n}=e.spanContext(),r=ex(e);return Jb(t,n,r)}function a0(e){return typeof e=="number"?uk(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?uk(e.getTime()):il()}function uk(e){return e>9999999999?e/1e3:e}function Tn(e){return C7(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function C7(e){return typeof e.getSpanJSON=="function"}function ex(e){const{traceFlags:t}=e.spanContext();return!!(t&Hj)}function T7(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||hn(),timestamp:t.timestamp||Jf()},c=n.integrations||e.integrations.map(A=>A.name);I7(l,e),M7(l,c),t.type===void 0&&P7(l,e.stackParser);const u=O7(r,n.captureContext);n.mechanism&&lf(l,n.mechanism);const d=i&&i.getEventProcessors?i.getEventProcessors():[],h=G7().getScopeData();if(s){const A=s.getScopeData();gk(h,A)}if(u){const A=u.getScopeData();gk(h,A)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Yj(l,h);const g=[...d,...Xb(),...h.eventProcessors];return Pg(g,l,n).then(A=>(A&&R7(A),typeof o=="number"&&o>0?j7(A,o,a):A))}function I7(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:s0),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Ic(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Ic(o.value,s));const a=e.request;a&&a.url&&(a.url=Ic(a.url,s))}const dk=new WeakMap;function P7(e,t){const n=dt._sentryDebugIds;if(!n)return;let r;const i=dk.get(t);i?r=i:(r=new Map,dk.set(t,r));const s=Object.keys(n).reduce((o,a)=>{let l;const c=r.get(a);c?l=c:(l=t(a),r.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function R7(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function M7(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function j7(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Oo(i.data,t,n)}}))},...e.user&&{user:Oo(e.user,t,n)},...e.contexts&&{contexts:Oo(e.contexts,t,n)},...e.extra&&{extra:Oo(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Oo(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>{const s=Tn(i).data;return s&&(i.data=Oo(s,t,n)),i})),r}function O7(e,t){if(!t)return e;const n=e?e.clone():new ro;return n.update(t),n}function V7(e){if(e)return L7(e)?{captureContext:e}:$7(e)?{captureContext:e}:e}function L7(e){return e instanceof ro||typeof e=="function"}const N7=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function $7(e){return Object.keys(e).some(t=>N7.includes(t))}function Ls(e,t){return cr().captureException(e,V7(t))}function qj(e,t){return cr().captureEvent(e,t)}function ol(e,t){cr().addBreadcrumb(e,t)}function B7(e){cr().setUser(e)}function tx(...e){const t=cr();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function fk(e,t){return tx(n=>(n.setSpan(e),t(n)))}function In(){return cr().getClient()}function zs(){return cr().getScope()}function hk(e){const t=In(),n=Sl(),r=zs(),{release:i,environment:s=s0}=t&&t.getOptions()||{},{userAgent:o}=dt.navigator||{},a=zj({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&sl(l,{status:"exited"}),Gj(),n.setSession(a),r.setSession(a),a}function Gj(){const e=Sl(),t=zs(),n=t.getSession()||e.getSession();n&&Uj(n),Wj(),e.setSession(),t.setSession()}function Wj(){const e=Sl(),t=zs(),n=In(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function pk(e=!1){if(e){Gj();return}Wj()}function Rg(e){return e.transaction}function l0(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=qr({environment:r.environment||s0,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Kc(e){const t=In();if(!t)return{};const n=l0(Tn(e).trace_id||"",t,zs()),r=Rg(e);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:o}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const a=Tn(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(ex(r)),t.emit&&t.emit("createDsc",n),n}function Yj(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;D7(e,t),r&&U7(e,r),H7(e,n),F7(e,i),z7(e,s)}function gk(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:g}=t;Uu(e,"extra",n),Uu(e,"tags",r),Uu(e,"user",i),Uu(e,"contexts",s),Uu(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Uu(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function D7(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=qr(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=qr(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=qr(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=qr(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function F7(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function z7(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function U7(e,t){e.contexts={trace:Zb(t),...e.contexts};const n=Rg(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Kc(t),...e.sdkProcessingMetadata};const r=Tn(n).description;r&&(e.tags={transaction:r,...e.tags})}}function H7(e,t){e.fingerprint=e.fingerprint?Rj(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const q7=100;let Kv;class ro{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=mk()}static clone(t){return t?t.clone():new ro}clone(){const t=new ro;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&sl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof ro){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Gc(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=mk(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:q7;if(r<=0)return this;const i={timestamp:Jf(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:o,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:h,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:i,extra:s,user:o,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:h,span:p}}applyToEvent(t,n={},r=[]){Yj(t,this.getScopeData());const i=[...r,...Xb(),...this._eventProcessors];return Pg(i,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:hn();if(!this._client)return re.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:hn();if(!this._client)return re.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(re.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function G7(){return Kv||(Kv=new ro),Kv}function mk(){return{traceId:hn(),spanId:hn().substring(16)}}const s1="7.112.2",Kj=parseFloat(s1),W7=100;class Qj{constructor(t,n,r,i=Kj){this._version=i;let s;n?s=n:(s=new ro,s.setClient(t));let o;r?o=r:(o=new ro,o.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(i){throw this.popScope(),i}return r0(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:hn(),i=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:i,...n,event_id:r}),r}captureMessage(t,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:hn(),s=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i}),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:hn();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=W7}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const l={timestamp:Jf(),...t},c=s?i0(()=>s(l,n)):l;c!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",c,n),r.addBreadcrumb(c,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=vk(this);try{t(this)}finally{vk(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return Me&&re.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return Me&&!r&&(this.getClient()?re.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):re.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Uj(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=s0}=r&&r.getOptions()||{},{userAgent:o}=dt.navigator||{},a=zj({release:i,environment:s,user:n.getUser(),...o&&{userAgent:o},...t}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&sl(l,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const i=Xf().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);Me&&re.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Xf(){return dt.__SENTRY__=dt.__SENTRY__||{extensions:{},hub:void 0},dt}function vk(e){const t=Xf(),n=o1(t);return Jj(t,e),n}function cr(){const e=Xf();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Y7(e)}function Sl(){return cr().getIsolationScope()}function Y7(e=Xf()){return(!K7(e)||o1(e).isOlderThan(Kj))&&Jj(e,new Qj),o1(e)}function K7(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function o1(e){return xj("hub",()=>new Qj,e)}function Jj(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function wl(e){return(e||cr()).getScope().getTransaction()}let yk=!1;function Q7(){yk||(yk=!0,Oj(a1),Vj(a1))}function a1(){const e=wl();if(e){const t="internal_error";Me&&re.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}a1.tag="sentry_tracingErrorCallback";var Ak;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const i="permission_denied";e.PermissionDenied=i;const s="not_found";e.NotFound=s;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const l="unimplemented";e.Unimplemented=l;const c="unavailable";e.Unavailable=c;const u="internal_error";e.InternalError=u;const d="unknown_error";e.UnknownError=d;const h="cancelled";e.Cancelled=h;const p="already_exists";e.AlreadyExists=p;const g="failed_precondition";e.FailedPrecondition=g;const m="aborted";e.Aborted=m;const A="out_of_range";e.OutOfRange=A;const v="data_loss";e.DataLoss=v})(Ak||(Ak={}));function J7(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function nx(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=J7(t);n!=="unknown_error"&&e.setStatus(n)}function _u(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=In(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Pd(e){if(!_u())return;const t=Z7(e),n=cr(),r=e.scope?e.scope.getSpan():rx();if(e.onlyIfParent&&!r)return;const o=(e.scope||zs()).clone();return X7(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function rx(){return zs().getSpan()}function X7(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:i}){if(!_u())return;const s=Sl();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=Kc(t),{traceId:l,spanId:c}=t.spanContext(),u=ex(t);o=e.startTransaction({traceId:l,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...i.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:c,parentSampled:u,...n,metadata:{dynamicSamplingContext:l,...n.metadata}})}return i.setSpan(o),ez(o,i,s),o}function Z7(e){if(e.startTime){const t={...e};return t.startTimestamp=a0(e.startTime),delete t.startTime,t}return e}const Xj="_sentryScope",Zj="_sentryIsolationScope";function ez(e,t,n){e&&(rl(e,Zj,n),rl(e,Xj,t))}function tz(e){return{scope:e[Xj],isolationScope:e[Zj]}}const Jo="sentry.source",rc="sentry.sample_rate",Uh="sentry.op",ic="sentry.origin",nz="profile_id";class e5{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class c0{constructor(t={}){this._traceId=t.traceId||hn(),this._spanId=t.spanId||hn().substring(16),this._startTime=t.startTimestamp||il(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[ic]:t.origin||"manual",[Uh]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[Uh]}set op(t){this.setAttribute(Uh,t)}get origin(){return this._attributes[ic]}set origin(t){this.setAttribute(ic,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Hj:k7}}startChild(t){const n=new c0({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Rg(this);if(n.transaction=r,Me&&r){const i=t&&t.op||"< unknown op >",s=Tn(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${i}' span on transaction '${s}' (${o}).`;re.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return nx(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=Rg(this);if(Me&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&re.log(r.replace("Starting","Finishing"))}this._endTime=a0(t)}toTraceparent(){return o0(this)}toContext(){return qr({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return Zb(this)}getSpanJSON(){return qr({data:this._getData(),description:this._name,op:this._attributes[Uh],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ic],_metrics_summary:void 0,profile_id:this._attributes[nz],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?{...t,...n}:r?t:n}}class t5 extends c0{constructor(t,n){super(t),this._contexts={},this._hub=n||cr(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Jo]&&{source:this._attributes[Jo]},...this._attributes[rc]&&{sampleRate:this._attributes[rc]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(Jo,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new e5(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=a0(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return qr({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Kc(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(Me&&re.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){Me&&re.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&Tn(u).timestamp):[];if(this._trimEnd&&r.length>0){const u=r.map(d=>Tn(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,h)=>d>h?d:h)}const{scope:i,isolationScope:s}=tz(this),{metadata:o}=this,{source:a}=o,l={contexts:{...this._contexts,trace:Zb(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:i,capturedSpanIsolationScope:s,...qr({dynamicSamplingContext:Kc(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(Me&&re.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),Me&&re.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const qp={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},rz="finishReason",Dl=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class iz extends e5{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),Tn(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class sz extends t5{constructor(t,n,r=qp.idleTimeout,i=qp.finalTimeout,s=qp.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Dl[4],this._autoFinishAllowed=!a,o&&(Me&&re.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Dl[3],this.end())},this._finalTimeout)}end(t){const n=a0(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(rz,this._finishReason),this.spanRecorder){Me&&re.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;Tn(r).timestamp||(r.setStatus("cancelled"),r.end(n),Me&&re.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:i,timestamp:s}=Tn(r),o=i&&i<n,a=(this._finalTimeout+this._idleTimeout)/1e3,l=s&&i&&s-i<a;if(Me){const c=JSON.stringify(r,void 0,2);o?l||re.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):re.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return o&&l}),Me&&re.log("[Tracing] flushing IdleTransaction")}else Me&&re.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new iz(n,r,this.spanContext().spanId,t),Me&&re.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Dl[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(Me&&re.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Dl[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),Me&&re.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,Me&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(Me&&re.log(`[Tracing] popActivity ${t}`),delete this.activities[t],Me&&re.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=il();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Dl[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(Me&&re.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Dl[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){Me&&re.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function n5(e,t,n){if(!_u(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(rc,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(rc,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(rc,Number(r))):(r=1,e.setAttribute(rc,r)),r5(r)?r?(e.sampled=Math.random()<r,e.sampled?(Me&&re.log(`[Tracing] starting ${e.op} transaction - ${Tn(e).description}`),e):(Me&&re.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(Me&&re.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(Me&&re.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function r5(e){return _j(e)||!(typeof e=="number"||typeof e=="boolean")?(Me&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(Me&&re.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function oz(){const t=this.getScope().getSpan();return t?{"sentry-trace":o0(t)}:{}}function az(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&(Me&&re.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new t5(e,this);return o=n5(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function i5(e,t,n,r,i,s,o,a=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new sz(t,e,n,r,o,i,a);return u=n5(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...s}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function lz(){const e=Xf();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=az),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=oz),Q7())}function cz(e,t,n){const r=wl();r&&r.setMeasurement(e,t,n)}function uz(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function dz(e,t,n,r){const i=Fj(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Al(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return xl(s,[o])}function fz(e,t,n,r){const i=Fj(n),s=e.type&&e.type!=="replay_event"?e.type:"event";uz(e,n&&n.sdk);const o=v7(e,i,r,t);return delete e.sdkProcessingMetadata,xl(o,[[{type:s},e]])}const hz="7";function s5(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function pz(e){return`${s5(e)}${e.projectId}/envelope/`}function gz(e,t){return k8({sentry_key:e.publicKey,sentry_version:hz,...t&&{sentry_client:`${t.name}/${t.version}`}})}function mz(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${pz(e)}?${gz(e,r)}`}function vz(e,t){const n=Ej(e);if(!n)return"";const r=`${s5(n)}embed/error-page/`;let i=`dsn=${Al(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const _k=[];function yz(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Az(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Rj(n(t)):r=t;const i=yz(r),s=bz(i,o=>o.name==="Debug");if(s!==-1){const[o]=i.splice(s,1);i.push(o)}return i}function _z(e,t){const n={};return t.forEach(r=>{r&&o5(e,r,n)}),n}function bk(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function o5(e,t,n){if(n[t.name]){Me&&re.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,_k.indexOf(t.name)===-1&&(t.setupOnce(w7,cr),_k.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}Me&&re.log(`Integration installed: ${t.name}`)}function bz(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function da(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}function xz(e){let t="";for(const n of e){const r=Object.entries(n.tags),i=r.length>0?`|#${r.map(([s,o])=>`${s}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${i}|T${n.timestamp}
`}return t}function Sz(e,t,n,r){const i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=Al(t));const s=wz(e);return xl(i,[s])}function wz(e){const t=xz(e);return[{type:"statsd",length:t.length},t]}const xk="Not capturing exception because it's already been captured.";class Ez{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Ej(t.dsn):Me&&re.warn("No DSN provided, client will not send events."),this._dsn){const n=mz(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(rk(t)){Me&&re.log(xk);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id;const o=qb(t)?t:String(t),a=Gb(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(l=>this._captureEvent(l,r,i)).then(l=>{s=l})),s}captureEvent(t,n,r){if(n&&n.originalException&&rk(n.originalException)){Me&&re.log(xk);return}let i=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{i=a})),i}captureSession(t){typeof t.release!="string"?Me&&re.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),sl(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Yc(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return Me&&re.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];o5(this,t,this._integrations),n||bk(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=fz(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=f7(r,g7(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=dz(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;Me&&re.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(t){Me&&re.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Sz(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=_z(this,t),bk(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(sl(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new zr(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=Sl()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),T7(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:h,dsc:p}=l;a.contexts={trace:{trace_id:u,span_id:d,parent_span_id:h},...a.contexts};const g=p||l0(u,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:g,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Me){const s=i;s.logLevel==="log"?re.log(s.message):re.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=l5(t),a=a5(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),Qb(new Ss(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u=l==="replay_event"?"replay":l,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u,t),new Ss("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const m=Cz(i,p,n);return kz(m,c)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",u,t),new Ss(`${c} returned \`null\`, will not send event.`,"log");const g=r&&r.getSession();!o&&g&&this._updateSessionFromEvent(g,p);const m=p.transaction_info;if(o&&m&&p.transaction!==t.transaction){const A="custom";p.transaction_info={...m,source:A}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Ss?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Ss(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{Me&&re.error("Error while sending event:",n)});Me&&re.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function kz(e,t){const n=`${t} must return \`null\` or a valid event.`;if(r0(e))return e.then(r=>{if(!Gc(r)&&r!==null)throw new Ss(n);return r},r=>{throw new Ss(`${t} rejected with ${r}`)});if(!Gc(e)&&e!==null)throw new Ss(n);return e}function Cz(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return a5(t)&&r?r(t,n):l5(t)&&i?i(t,n):t}function a5(e){return e.type===void 0}function l5(e){return e.type==="transaction"}function Tz(e,t){t.debug===!0&&(Me?re.enable():i0(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),zs().update(t.initialScope);const r=new e(t);Iz(r),Pz(r)}function Iz(e){const n=cr().getStackTop();n.client=e,n.scope.setClient(e)}function Pz(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const Rz=30;function c5(e,t,n=t7(e.bufferSize||Rz)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(lk(o,(d,h)=>{const p=ck(h);if(x7(r,p)){const g=Sk(d,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else a.push(d)}),a.length===0)return Yc();const l=xl(o[0],a),c=d=>{lk(l,(h,p)=>{const g=Sk(h,p);e.recordDroppedEvent(d,ck(p),g)})},u=()=>t({body:h7(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Me&&re.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=S7(r,d),d),d=>{throw c("network_error"),d});return n.add(u).then(d=>d,d=>{if(d instanceof Ss)return Me&&re.error("Skipped sending event because buffer is full."),c("queue_overflow"),Yc();throw d})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function Sk(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Mz(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=Al(t));const r=e.map(jz);return xl(n,r)}function jz(e){return[{type:"span"},e]}function u5(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:s1})),version:s1}),e._metadata=i}const Oz=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Vz=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],d5="InboundFilters",Lz=(e={})=>({name:d5,setupOnce(){},processEvent(t,n,r){const i=r.getOptions(),s=Nz(e,i);return $z(t,s)?null:t}}),f5=Lz;da(d5,f5);function Nz(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Oz],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Vz],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function $z(e,t){return t.ignoreInternal&&Hz(e)?(Me&&re.warn(`Event dropped due to being internal Sentry Error.
Event: ${No(e)}`),!0):Bz(e,t.ignoreErrors)?(Me&&re.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${No(e)}`),!0):Dz(e,t.ignoreTransactions)?(Me&&re.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${No(e)}`),!0):Fz(e,t.denyUrls)?(Me&&re.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${No(e)}.
Url: ${Mg(e)}`),!0):zz(e,t.allowUrls)?!1:(Me&&re.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${No(e)}.
Url: ${Mg(e)}`),!0)}function Bz(e,t){return e.type||!t||!t.length?!1:Uz(e).some(n=>Qf(n,t))}function Dz(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Qf(n,t):!1}function Fz(e,t){if(!t||!t.length)return!1;const n=Mg(e);return n?Qf(n,t):!1}function zz(e,t){if(!t||!t.length)return!0;const n=Mg(e);return n?Qf(n,t):!0}function Uz(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),Me&&t.length===0&&re.error(`Could not extract message for event ${No(e)}`),t}function Hz(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function qz(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Mg(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?qz(t):null}catch{return Me&&re.error(`Cannot extract url for event ${No(e)}`),null}}let wk;const h5="FunctionToString",Ek=new WeakMap,Gz=()=>({name:h5,setupOnce(){wk=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Yb(this),n=Ek.has(In())&&t!==void 0?t:this;return wk.apply(n,e)}}catch{}},setup(e){Ek.set(e,!0)}}),p5=Gz;da(h5,p5);const Ht=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Be=dt;function Wz(){Be.document?Be.document.addEventListener("visibilitychange",()=>{const e=wl();if(Be.document.hidden&&e){const t="cancelled",{op:n,status:r}=Tn(e);Ht&&re.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):Ht&&re.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Zf=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&(i=t.value-(r||0),(i||r===void 0)&&(r=t.value,t.delta=i,e(t)))}},Yz=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Kz=()=>{const e=Be.performance.timing,t=Be.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},u0=()=>Be.__WEB_VITALS_POLYFILL__?Be.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Kz()):Be.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ix=()=>{const e=u0();return e&&e.activationStart||0},eh=(e,t)=>{const n=u0();let r="navigate";return n&&(Be.document&&Be.document.prerendering||ix()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Yz(),navigationType:r}},bu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{t(i.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},th=(e,t)=>{const n=r=>{(r.type==="pagehide"||Be.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Be.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},Qz=e=>{const t=eh("CLS",0);let n,r=0,i=[];const s=a=>{a.forEach(l=>{if(!l.hadRecentInput){const c=i[0],u=i[i.length-1];r&&i.length!==0&&l.startTime-u.startTime<1e3&&l.startTime-c.startTime<5e3?(r+=l.value,i.push(l)):(r=l.value,i=[l]),r>t.value&&(t.value=r,t.entries=i,n&&n())}})},o=bu("layout-shift",s);if(o){n=Zf(e,t);const a=()=>{s(o.takeRecords()),n(!0)};return th(a),a}};let jg=-1;const Jz=()=>{Be.document&&Be.document.visibilityState&&(jg=Be.document.visibilityState==="hidden"&&!Be.document.prerendering?0:1/0)},Xz=()=>{th(({timeStamp:e})=>{jg=e},!0)},sx=()=>(jg<0&&(Jz(),Xz()),{get firstHiddenTime(){return jg}}),Zz=e=>{const t=sx(),n=eh("FID");let r;const i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=bu("first-input",s);r=Zf(e,n),o&&th(()=>{s(o.takeRecords()),o.disconnect()},!0)};let g5=0,Qv=1/0,Hh=0;const e9=e=>{e.forEach(t=>{t.interactionId&&(Qv=Math.min(Qv,t.interactionId),Hh=Math.max(Hh,t.interactionId),g5=Hh?(Hh-Qv)/7+1:0)})};let l1;const t9=()=>l1?g5:performance.interactionCount||0,n9=()=>{"interactionCount"in performance||l1||(l1=bu("event",e9,{type:"event",buffered:!0,durationThreshold:0}))},m5=()=>t9(),kk=10,Ks=[],Jv={},Ck=e=>{const t=Ks[Ks.length-1],n=Jv[e.interactionId];if(n||Ks.length<kk||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Jv[r.id]=r,Ks.push(r)}Ks.sort((r,i)=>i.latency-r.latency),Ks.splice(kk).forEach(r=>{delete Jv[r.id]})}},r9=()=>{const e=Math.min(Ks.length-1,Math.floor(m5()/50));return Ks[e]},i9=(e,t)=>{t=t||{},n9();const n=eh("INP");let r;const i=o=>{o.forEach(l=>{l.interactionId&&Ck(l),l.entryType==="first-input"&&!Ks.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&Ck(l)});const a=r9();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},s=bu("event",i,{durationThreshold:t.durationThreshold||40});r=Zf(e,n,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),th(()=>{i(s.takeRecords()),n.value<0&&m5()>0&&(n.value=0,n.entries=[]),r(!0)}))},Tk={},s9=e=>{const t=sx(),n=eh("LCP");let r;const i=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-ix(),0);l<t.firstHiddenTime&&(n.value=l,n.entries=[a],r())}},s=bu("largest-contentful-paint",i);if(s){r=Zf(e,n);const o=()=>{Tk[n.id]||(i(s.takeRecords()),s.disconnect(),Tk[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{Be.document&&addEventListener(a,o,{once:!0,capture:!0})}),th(o,!0),o}},c1=e=>{Be.document&&(Be.document.prerendering?addEventListener("prerenderingchange",()=>c1(e),!0):Be.document.readyState!=="complete"?addEventListener("load",()=>c1(e),!0):setTimeout(e,0))},o9=(e,t)=>{t=t||{};const n=eh("TTFB"),r=Zf(e,n,t.reportAllChanges);c1(()=>{const i=u0();if(i){if(n.value=Math.max(i.responseStart-ix(),0),n.value<0||n.value>performance.now())return;n.entries=[i],r(!0)}})},Rd={},Og={};let v5,y5,A5,_5,b5;function a9(e,t=!1){return nh("cls",e,f9,v5,t)}function l9(e,t=!1){return nh("lcp",e,p9,A5,t)}function c9(e){return nh("ttfb",e,g9,_5)}function u9(e){return nh("fid",e,h9,y5)}function d9(e){return nh("inp",e,m9,b5)}function cf(e,t){return x5(e,t),Og[e]||(v9(e),Og[e]=!0),S5(e,t)}function xu(e,t){const n=Rd[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Ht&&re.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ao(r)}
Error:`,i)}}function f9(){return Qz(e=>{xu("cls",{metric:e}),v5=e})}function h9(){return Zz(e=>{xu("fid",{metric:e}),y5=e})}function p9(){return s9(e=>{xu("lcp",{metric:e}),A5=e})}function g9(){return o9(e=>{xu("ttfb",{metric:e}),_5=e})}function m9(){return i9(e=>{xu("inp",{metric:e}),b5=e})}function nh(e,t,n,r,i=!1){x5(e,t);let s;return Og[e]||(s=n(),Og[e]=!0),r&&t({metric:r}),S5(e,t,i?s:void 0)}function v9(e){const t={};e==="event"&&(t.durationThreshold=0),bu(e,n=>{xu(e,{entries:n})},t)}function x5(e,t){Rd[e]=Rd[e]||[],Rd[e].push(t)}function S5(e,t,n){return()=>{n&&n();const r=Rd[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function Xv(e){return typeof e=="number"&&isFinite(e)}function Qc(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const y9=2147483647;function jn(e){return e/1e3}function ox(){return Be&&Be.addEventListener&&Be.performance}let Ik=0,nn={},ms,Md;function A9(){const e=ox();if(e&&Ei){e.mark&&Be.performance.mark("sentry-tracing-init");const t=E9(),n=S9(),r=w9(),i=k9();return()=>{t(),n(),r(),i()}}return()=>{}}function _9(){cf("longtask",({entries:e})=>{for(const t of e){const n=wl();if(!n)return;const r=jn(Ei+t.startTime),i=jn(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}})}function b9(){cf("event",({entries:e})=>{for(const t of e){const n=wl();if(!n)return;if(t.name==="click"){const r=jn(Ei+t.startTime),i=jn(t.duration),s={description:Wc(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i},o=Sj(t.target);o&&(s.attributes={"ui.component_name":o}),n.startChild(s)}}})}function x9(e,t){if(ox()&&Ei){const r=C9(e,t);return()=>{r()}}return()=>{}}function S9(){return a9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ht&&re.log("[Measurements] Adding CLS"),nn.cls={value:e.value,unit:""},Md=t)},!0)}function w9(){return l9(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ht&&re.log("[Measurements] Adding LCP"),nn.lcp={value:e.value,unit:"millisecond"},ms=t)},!0)}function E9(){return u9(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=jn(Ei),r=jn(t.startTime);Ht&&re.log("[Measurements] Adding FID"),nn.fid={value:e.value,unit:"millisecond"},nn["mark.fid"]={value:n+r,unit:"second"}})}function k9(){return c9(({metric:e})=>{e.entries[e.entries.length-1]&&(Ht&&re.log("[Measurements] Adding TTFB"),nn.ttfb={value:e.value,unit:"millisecond"})})}const Pk={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function C9(e,t){return d9(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(b=>b.duration===n.value&&Pk[b.name]!==void 0),i=In();if(!r||!i)return;const s=Pk[r.name],o=i.getOptions(),a=jn(Ei+r.startTime),l=jn(n.value),c=r.interactionId!==void 0?e[r.interactionId]:void 0;if(c===void 0)return;const{routeName:u,parentContext:d,activeTransaction:h,user:p,replayId:g}=c,m=p!==void 0?p.email||p.id||p.ip_address:void 0,A=h!==void 0?h.getProfileId():void 0,v=new c0({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${s}`,name:Wc(r.target),attributes:{release:o.release,environment:o.environment,transaction:u,...m!==void 0&&m!==""?{user:m}:{},...A!==void 0?{profile_id:A}:{},...g!==void 0?{replay_id:g}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=L9(d,o,t);if(y&&Math.random()<y){const b=v?Mz([v],i.getDsn()):void 0,S=i&&i.getTransport();S&&b&&S.send(b).then(null,x=>{Ht&&re.error("Error while sending interaction:",x)});return}})}function T9(e){const t=ox();if(!t||!Be.performance.getEntries||!Ei)return;Ht&&re.log("[Tracing] Adding & adjusting spans using Performance API");const n=jn(Ei),r=t.getEntries(),{op:i,start_timestamp:s}=Tn(e);if(r.slice(Ik).forEach(o=>{const a=jn(o.startTime),l=jn(o.duration);if(!(e.op==="navigation"&&s&&n+a<s))switch(o.entryType){case"navigation":{P9(e,o,n);break}case"mark":case"paint":case"measure":{I9(e,o,a,l,n);const c=sx(),u=o.startTime<c.firstHiddenTime;o.name==="first-paint"&&u&&(Ht&&re.log("[Measurements] Adding FP"),nn.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(Ht&&re.log("[Measurements] Adding FCP"),nn.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{M9(e,o,o.name,a,l,n);break}}}),Ik=Math.max(r.length-1,0),j9(e),i==="pageload"){V9(nn),["fcp","fp","lcp"].forEach(a=>{if(!nn[a]||!s||n>=s)return;const l=nn[a].value,c=n+jn(l),u=Math.abs((c-s)*1e3),d=u-l;Ht&&re.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${d})`),nn[a].value=u});const o=nn["mark.fid"];o&&nn.fid&&(Qc(e,{description:"first input delay",endTimestamp:o.value+jn(nn.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete nn["mark.fid"]),"fcp"in nn||delete nn.cls,Object.keys(nn).forEach(a=>{cz(a,nn[a].value,nn[a].unit)}),O9(e)}ms=void 0,Md=void 0,nn={}}function I9(e,t,n,r,i){const s=i+n,o=s+r;return Qc(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function P9(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{qh(e,t,r,n)}),qh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),qh(e,t,"fetch",n,"cache","domainLookupStart"),qh(e,t,"domainLookup",n,"DNS"),R9(e,t,n)}function qh(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+jn(a),endTimestamp:r+jn(o)})}function R9(e,t,n){t.responseEnd&&(Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+jn(t.requestStart),endTimestamp:n+jn(t.responseEnd)}),Qc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+jn(t.responseStart),endTimestamp:n+jn(t.responseEnd)}))}function M9(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Ka(n),a={};Zv(a,t,"transferSize","http.response_transfer_size"),Zv(a,t,"encodedBodySize","http.response_content_length"),Zv(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(Be.location.origin);const l=s+r,c=l+i;Qc(e,{description:n.replace(Be.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}function j9(e){const t=Be.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Xv(n.rtt)&&(nn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Xv(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Xv(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function O9(e){ms&&(Ht&&re.log("[Measurements] Adding LCP Data"),ms.element&&e.setTag("lcp.element",Wc(ms.element)),ms.id&&e.setTag("lcp.id",ms.id),ms.url&&e.setTag("lcp.url",ms.url.trim().slice(0,200)),e.setTag("lcp.size",ms.size)),Md&&Md.sources&&(Ht&&re.log("[Measurements] Adding CLS Data"),Md.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Wc(t.node))))}function Zv(e,t,n,r){const i=t[n];i!=null&&i<y9&&(e[r]=i)}function V9(e){const t=u0();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Ht&&re.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function L9(e,t,n){if(!_u(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Be.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,r5(r)?r===!0?n:r===!1?0:r*n:(Ht&&re.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function N9(e,t,n,r,i="auto.http.browser"){if(!_u()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const p=e.fetchData.__span;if(!p)return;const g=r[p];g&&(D9(g,e),delete r[p]);return}const o=zs(),a=In(),{method:l,url:c}=e.fetchData,u=B9(c),d=u?Ka(u).host:void 0,h=s?Pd({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[ic]:i},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const g=e.args[1];g.headers=$9(p,a,o,g,h)}return h}function $9(e,t,n,r,i){const s=i||n.getSpan(),o=Sl(),{traceId:a,spanId:l,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},d=s?o0(s):Jb(a,l,c),h=Dj(u||(s?Kc(s):l0(a,t,n))),p=r.headers||(typeof Request<"u"&&oo(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&oo(p,Headers)){const g=new Headers(p);return g.append("sentry-trace",d),h&&g.append(r1,h),g}else if(Array.isArray(p)){const g=[...p,["sentry-trace",d]];return h&&g.push([r1,h]),g}else{const g="baggage"in p?p.baggage:void 0,m=[];return Array.isArray(g)?m.push(...g):g&&m.push(g),h&&m.push(h),{...p,"sentry-trace":d,baggage:m.length>0?m.join(","):void 0}}else return{"sentry-trace":d,baggage:h}}function B9(e){try{return new URL(e).href}catch{return}}function D9(e,t){if(t.response){nx(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const u1=["localhost",/^\/(?!\/)/],d1={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:u1,tracePropagationTargets:u1};function F9(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:d1.traceFetch,traceXHR:d1.traceXHR,...e},a=typeof s=="function"?s:u=>!0,l=u=>q9(u,r||i),c={};t&&jj(u=>{const d=N9(u,a,l,c);if(d){const h=w5(u.fetchData.url),p=h?Ka(h).host:void 0;d.setAttributes({"http.url":h,"server.address":p})}o&&d&&Rk(d)}),n&&Lj(u=>{const d=G9(u,a,l,c);o&&d&&Rk(d)})}function z9(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Rk(e){const{url:t}=Tn(e).data||{};if(!t||typeof t!="string")return;const n=cf("resource",({entries:r})=>{r.forEach(i=>{z9(i)&&i.name.endsWith(t)&&(H9(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function U9(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function fs(e=0){return((Ei||performance.timeOrigin)+e)/1e3}function H9(e){const{name:t,version:n}=U9(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Ei?[...r,["http.request.redirect_start",fs(e.redirectStart)],["http.request.fetch_start",fs(e.fetchStart)],["http.request.domain_lookup_start",fs(e.domainLookupStart)],["http.request.domain_lookup_end",fs(e.domainLookupEnd)],["http.request.connect_start",fs(e.connectStart)],["http.request.secure_connection_start",fs(e.secureConnectionStart)],["http.request.connection_end",fs(e.connectEnd)],["http.request.request_start",fs(e.requestStart)],["http.request.response_start",fs(e.responseStart)],["http.request.response_end",fs(e.responseEnd)]]:r}function q9(e,t){return Qf(e,t||u1)}function G9(e,t,n,r){const i=e.xhr,s=i&&i[nc];if(!_u()||!i||i.__sentry_own_request__||!s)return;const o=t(s.url);if(e.endTimestamp&&o){const p=i.__sentry_xhr_span_id__;if(!p)return;const g=r[p];g&&s.status_code!==void 0&&(nx(g,s.status_code),g.end(),delete r[p]);return}const a=zs(),l=Sl(),c=w5(s.url),u=c?Ka(c).host:void 0,d=o?Pd({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":u,[ic]:"auto.http.browser"},op:"http.client"}):void 0;d&&(i.__sentry_xhr_span_id__=d.spanContext().spanId,r[i.__sentry_xhr_span_id__]=d);const h=In();if(i.setRequestHeader&&n(s.url)&&h){const{traceId:p,spanId:g,sampled:m,dsc:A}={...l.getPropagationContext(),...a.getPropagationContext()},v=d?o0(d):Jb(p,g,m),y=Dj(A||(d?Kc(d):l0(p,h,a)));W9(i,v,y)}return d}function W9(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(r1,n)}catch{}}function w5(e){try{return new URL(e,Be.location.origin).href}catch{return}}const Y9="BrowserTracing",K9={...qp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...d1},Q9=(e={})=>{const t=Ht?!!(e.tracePropagationTargets||e.tracingOrigins):!1;lz(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...K9,...e},r=A9(),i={};n.enableInp&&x9(i,n.interactionsSampleRate),n.enableLongTask&&_9(),n._experiments.enableInteractions&&b9();const s={name:void 0,context:void 0};function o(a){const l=cr(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:h}=n,p=a.op==="pageload";let g;if(p){const y=p?Mk("sentry-trace"):"",b=p?Mk("baggage"):void 0,{traceId:S,dsc:x,parentSpanId:w,sampled:E}=d7(y,b);g={traceId:S,parentSpanId:w,parentSampled:E,...a,metadata:{...a.metadata,dynamicSamplingContext:x},trimEnd:!0}}else g={trimEnd:!0,...a};const m=c?c(g):g;m.metadata=m.name!==g.name?{...m.metadata,source:"custom"}:m.metadata,s.name=m.name,s.context=m,m.sampled===!1&&Ht&&re.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),Ht&&re.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:A}=Be,v=i5(l,m,u,d,!0,{location:A},h,p);return p&&Be.document&&(Be.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Be.document.readyState)&&v.sendAutoFinishSignal()}),["interactive","complete"].includes(Be.document.readyState)&&v.sendAutoFinishSignal()),v.registerBeforeFinishCallback(y=>{r(),T9(y)}),v}return{name:Y9,setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:h,enableHTTPTimings:p,_experiments:g}=n,m=l&&l.tracePropagationTargets,A=m||n.tracePropagationTargets;Ht&&t&&m&&re.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let v,y=Be.location&&Be.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{v&&(Ht&&re.log(`[Tracing] Finishing current transaction with op: ${Tn(v).op}`),v.end()),v=o({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{v&&(Ht&&re.log(`[Tracing] Finishing current transaction with op: ${Tn(v).op}`),v.end()),v=o({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&Be.location){const b={name:Be.location.pathname,startTimestamp:Ei?Ei/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Jo]:"url"}};J9(a,b)}n.instrumentNavigation&&a.emit&&Be.location&&Kb(({to:b,from:S})=>{if(S===void 0&&y&&y.indexOf(b)!==-1){y=void 0;return}if(S!==b){y=void 0;const x={name:Be.location.pathname,origin:"auto.navigation.browser",attributes:{[Jo]:"url"}};X9(a,x)}}),c&&Wz(),g.enableInteractions&&Z9(n,s),n.enableInp&&tU(i,s),F9({traceFetch:u,traceXHR:d,tracePropagationTargets:A,shouldCreateSpanForRequest:h,enableHTTPTimings:p})},options:n}};function J9(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=rx();return(n&&Tn(n).op)==="pageload"?n:void 0}function X9(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=rx();return(n&&Tn(n).op)==="navigation"?n:void 0}function Mk(e){const t=A8(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Z9(e,t){let n;const r=()=>{const{idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=e,a="ui.action.click",l=wl();if(l&&l.op&&["navigation","pageload"].includes(l.op)){Ht&&re.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){Ht&&re.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:c}=Be,u={name:t.name,op:a,trimEnd:!0,data:{[Jo]:t.context?nU(t.context):"url"}};n=i5(cr(),u,i,s,!0,{location:c},o)};["click"].forEach(i=>{Be.document&&addEventListener(i,r,{once:!1,capture:!0})})}function eU(e){return"duration"in e}const jk=10;function tU(e,t){const n=({entries:r})=>{const i=In(),s=i!==void 0&&i.getIntegrationByName!==void 0?i.getIntegrationByName("Replay"):void 0,o=s!==void 0?s.getReplayId():void 0,a=wl(),l=zs(),c=l!==void 0?l.getUser():void 0;r.forEach(u=>{if(eU(u)){const d=u.interactionId;if(d===void 0)return;const h=e[d],p=u.duration,g=u.startTime,m=Object.keys(e),A=m.length>0?m.reduce((v,y)=>e[v].duration<e[y].duration?v:y):void 0;if(u.entryType==="first-input"&&m.map(y=>e[y]).some(y=>y.duration===p&&y.startTime===g)||!d)return;if(h)h.duration=Math.max(h.duration,p);else if(m.length<jk||A===void 0||p>e[A].duration){const v=t.name,y=t.context;v&&y&&(A&&Object.keys(e).length>=jk&&delete e[A],e[d]={routeName:v,duration:p,parentContext:y,user:c,activeTransaction:a,replayId:o,startTime:g})}}})};cf("event",n),cf("first-input",n)}function nU(e){const t=e.attributes&&e.attributes[Jo],n=e.data&&e.data[Jo],r=e.metadata&&e.metadata.source;return t||n||r}const at=dt;let f1=0;function E5(){return f1>0}function rU(){f1++,setTimeout(()=>{f1--})}function Jc(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Yb(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Jc(o,t));return e.apply(this,s)}catch(s){throw rU(),tx(o=>{o.addEventProcessor(a=>(t.mechanism&&(QA(a,void 0,void 0),lf(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Ls(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}kj(r,e),rl(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const _i=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function k5(e,t){const n=ax(e,t),r={type:t&&t.name,value:aU(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function iU(e,t,n,r){const i=In(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:n0(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:uU(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Nj(t,s)}};if(n){const a=ax(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function ey(e,t){return{exception:{values:[k5(e,t)]}}}function ax(e,t){const n=t.stacktrace||t.stack||"",r=oU(t);try{return e(n,r)}catch{}return[]}const sU=/Minified React error #\d+;/i;function oU(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(sU.test(e.message))return 1}return 0}function aU(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function lU(e,t,n,r){const i=n&&n.syntheticException||void 0,s=lx(e,t,i,r);return lf(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Yc(s)}function cU(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=h1(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Yc(o)}function lx(e,t,n,r,i){let s;if(Hb(t)&&t.error)return ey(e,t.error);if(Y2(t)||c8(t)){const o=t;if("stack"in t)s=ey(e,t);else{const a=o.name||(Y2(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=h1(e,l,n,r),QA(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return Ub(t)?ey(e,t):Gc(t)||n0(t)?(s=iU(e,t,n,i),lf(s,{synthetic:!0}),s):(s=h1(e,t,n,r),QA(s,`${t}`,void 0),lf(s,{synthetic:!0}),s)}function h1(e,t,n,r){const i={};if(r&&n){const s=ax(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(qb(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function uU(e,{isUnhandledRejection:t}){const n=C8(e),r=t?"promise rejection":"exception";return Hb(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:n0(e)?`Event \`${dU(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function dU(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function fU(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Al(r)}},s=hU(e);return xl(i,[s])}function hU(e){return[{type:"user_report"},e]}class pU extends Ez{constructor(t){const n=at.SENTRY_SDK_SOURCE||K8();u5(t,"browser",["browser"],n),super(t),t.sendClientReports&&at.document&&at.document.addEventListener("visibilitychange",()=>{at.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return lU(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return cU(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){_i&&re.warn("SDK not enabled, will not capture user feedback.");return}const n=fU(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){_i&&re.log("No outcomes to send");return}if(!this._dsn){_i&&re.log("No dsn provided, will not send outcomes");return}_i&&re.log("Sending outcomes:",t);const n=y7(t,this._options.tunnel&&Al(this._dsn));this._sendEnvelope(n)}}let hd;function gU(){if(hd)return hd;if(e1(at.fetch))return hd=at.fetch.bind(at);const e=at.document;let t=at.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){_i&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return hd=t.bind(at)}function mU(){hd=void 0}function vU(e,t=gU()){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return mU(),n-=o,r--,Qb(l)}}return c5(e,i)}const yU=4;function AU(e){function t(n){return new zr((r,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===yU&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&s.setRequestHeader(o,e.headers[o]);s.send(n.body)})}return c5(e,t)}const d0="?",_U=30,bU=40,xU=50;function cx(e,t,n,r){const i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const SU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,wU=/\((\S*)(?::(\d+))(?::(\d+))\)/,EU=e=>{const t=SU.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=wU.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,i]=C5(t[1]||d0,t[2]);return cx(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},kU=[_U,EU],CU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,TU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,IU=e=>{const t=CU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=TU.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||d0;return[i,r]=C5(i,r),cx(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},PU=[xU,IU],RU=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,MU=e=>{const t=RU.exec(e);return t?cx(t[2],t[1]||d0,+t[3],t[4]?+t[4]:void 0):void 0},jU=[bU,MU],OU=[kU,PU,jU],VU=Ij(...OU),C5=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:d0,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Gh=1024,T5="Breadcrumbs",LU=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:T5,setupOnce(){},setup(n){t.console&&R8(BU(n)),t.dom&&O8($U(n,t.dom)),t.xhr&&Lj(DU(n)),t.fetch&&jj(FU(n)),t.history&&Kb(zU(n)),t.sentry&&n.on&&n.on("beforeSendEvent",NU(n))}}},I5=LU;da(T5,I5);function NU(e){return function(n){In()===e&&ol({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:No(n)},{event:n})}}function $U(e,t){return function(r){if(In()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Gh&&(_i&&re.warn(`\`dom.maxStringLength\` cannot exceed ${Gh}, but a value of ${a} was configured. Sentry will use ${Gh} instead.`),a=Gh),typeof o=="string"&&(o=[o]);try{const c=r.event,u=UU(c)?c.target:c;i=Wc(u,{keyAttrs:o,maxStringLength:a}),s=Sj(u)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),ol(l,{event:r.event,name:r.name,global:r.global})}}function BU(e){return function(n){if(In()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:r7(n.level),message:K2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${K2(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ol(r,{input:n.args,level:n.level})}}function DU(e){return function(n){if(In()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[nc];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i};ol({category:"xhr",data:u,type:"http"},d)}}function FU(e){return function(n){if(In()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};ol({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};ol({category:"fetch",data:o,type:"http"},a)}}}function zU(e){return function(n){if(In()!==e)return;let r=n.from,i=n.to;const s=Ka(at.location.href);let o=r?Ka(r):void 0;const a=Ka(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),ol({category:"navigation",data:{from:r,to:i}})}}function UU(e){return!!e&&!!e.target}const P5="Dedupe",HU=()=>{let e;return{name:P5,setupOnce(){},processEvent(t){if(t.type)return t;try{if(qU(t,e))return _i&&re.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},R5=HU;da(P5,R5);function qU(e,t){return t?!!(GU(e,t)||WU(e,t)):!1}function GU(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!j5(e,t)||!M5(e,t))}function WU(e,t){const n=Ok(t),r=Ok(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!j5(e,t)||!M5(e,t))}function M5(e,t){let n=Vk(e),r=Vk(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function j5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ok(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Vk(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const O5="GlobalHandlers",YU=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:O5,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(KU(n),Lk("onerror")),t.onunhandledrejection&&(QU(n),Lk("onunhandledrejection"))}}},V5=YU;da(O5,V5);function KU(e){Oj(t=>{const{stackParser:n,attachStacktrace:r}=N5();if(In()!==e||E5())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=l===void 0&&Rs(i)?ZU(i,s,o,a):L5(lx(n,l||i,void 0,r,!1),s,o,a);c.level="error",qj(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function QU(e){Vj(t=>{const{stackParser:n,attachStacktrace:r}=N5();if(In()!==e||E5())return;const i=JU(t),s=Gb(i)?XU(i):lx(n,i,void 0,r,!0);s.level="error",qj(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function JU(e){if(Gb(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function XU(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function ZU(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Hb(e)?e.message:e,o="Error";const a=s.match(i);return a&&(o=a[1],s=a[2]),L5({exception:{values:[{type:o,value:s}]}},t,n,r)}function L5(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Rs(t)&&t.length>0?t:y8();return l.length===0&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function Lk(e){_i&&re.log(`Global Handler attached: ${e}`)}function N5(){const e=In();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const $5="HttpContext",eH=()=>({name:$5,setupOnce(){},preprocessEvent(e){if(!at.navigator&&!at.location&&!at.document)return;const t=e.request&&e.request.url||at.location&&at.location.href,{referrer:n}=at.document||{},{userAgent:r}=at.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),B5=eH;da($5,B5);const tH="cause",nH=5,D5="LinkedErrors",rH=(e={})=>{const t=e.limit||nH,n=e.key||tH;return{name:D5,setupOnce(){},preprocessEvent(r,i,s){const o=s.getOptions();p8(k5,o.stackParser,o.maxValueLength,n,t,r,i)}}},F5=rH;da(D5,F5);const iH=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],z5="TryCatch",sH=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:z5,setupOnce(){t.setTimeout&&Qn(at,"setTimeout",Nk),t.setInterval&&Qn(at,"setInterval",Nk),t.requestAnimationFrame&&Qn(at,"requestAnimationFrame",oH),t.XMLHttpRequest&&"XMLHttpRequest"in at&&Qn(XMLHttpRequest.prototype,"send",aH);const n=t.eventTarget;n&&(Array.isArray(n)?n:iH).forEach(lH)}}},U5=sH;da(z5,U5);function Nk(e){return function(...t){const n=t[0];return t[0]=Jc(n,{mechanism:{data:{function:ao(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function oH(e){return function(t){return e.apply(this,[Jc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ao(e)},handled:!1,type:"instrument"}})])}}function aH(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Qn(n,i,function(s){const o={mechanism:{data:{function:i,handler:ao(s)},handled:!1,type:"instrument"}},a=Yb(s);return a&&(o.mechanism.data.handler=ao(a)),Jc(s,o)})}),e.apply(this,t)}}function lH(e){const t=at,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Qn(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Jc(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ao(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Jc(s,{mechanism:{data:{function:"addEventListener",handler:ao(s),target:e},handled:!1,type:"instrument"}}),o])}}),Qn(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const cH=[f5(),p5(),U5(),I5(),V5(),F5(),R5(),B5()];function uH(e){return[...cH]}function dH(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=uH()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),at.SENTRY_RELEASE&&at.SENTRY_RELEASE.id&&(e.release=at.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:I8(e.stackParser||VU),integrations:Az(e),transport:e.transport||(Mj()?vU:AU)};Tz(pU,t),e.autoSessionTracking&&fH()}const $k=(e={},t=cr())=>{if(!at.document){_i&&re.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),i=e.dsn||n&&n.getDsn();if(!i){_i&&re.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const s=at.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=vz(i,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const l=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{at.removeEventListener("message",l)}};at.addEventListener("message",l)}const a=at.document.head||at.document.body;a?a.appendChild(s):_i&&re.error("Not injecting report dialog. No injection point found in HTML")};function fH(){if(typeof at.document>"u"){_i&&re.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}hk({ignoreDuration:!0}),pk(),Kb(({from:e,to:t})=>{e!==void 0&&e!==t&&(hk({ignoreDuration:!0}),pk())})}function Wh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var H5={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var d=typeof Wh=="function"&&Wh;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(g){var m=r[c][1][g];return o(m||g)},p,p.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Wh=="function"&&Wh,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var A=s.document.createElement("script");A.onreadystatechange=function(){g(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},s.document.documentElement.appendChild(A)}:a=function(){setTimeout(g,0)};var h,p=[];function g(){h=!0;for(var A,v,y=p.length;y;){for(v=p,p=[],A=-1;++A<y;)v[A]();y=p.length}h=!1}r.exports=m;function m(A){p.push(A)===1&&!h&&a()}}).call(this,typeof Fo<"u"?Fo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=d;function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==o&&m(this,x)}d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,w){if(typeof x!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(o);if(this.state!==u){var I=this.state===c?x:w;p(E,I,this.outcome)}else this.queue.push(new h(E,x,w));return E};function h(x,w,E){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){a.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)};function p(x,w,E){s(function(){var I;try{I=w(E)}catch(L){return a.reject(x,L)}I===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,I)})}a.resolve=function(x,w){var E=A(g,w);if(E.status==="error")return a.reject(x,E.value);var I=E.value;if(I)m(x,I);else{x.state=c,x.outcome=w;for(var L=-1,j=x.queue.length;++L<j;)x.queue[L].callFulfilled(w)}return x},a.reject=function(x,w){x.state=l,x.outcome=w;for(var E=-1,I=x.queue.length;++E<I;)x.queue[E].callRejected(w);return x};function g(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function m(x,w){var E=!1;function I(Q){E||(E=!0,a.reject(x,Q))}function L(Q){E||(E=!0,a.resolve(x,Q))}function j(){w(L,I)}var B=A(j);B.status==="error"&&I(B.value)}function A(x,w){var E={};try{E.value=x(w),E.status="success"}catch(I){E.status="error",E.value=I}return E}d.resolve=v;function v(x){return x instanceof this?x:a.resolve(new this(o),x)}d.reject=y;function y(x){var w=new this(o);return a.reject(w,x)}d.all=b;function b(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,I=!1;if(!E)return this.resolve([]);for(var L=new Array(E),j=0,B=-1,Q=new this(o);++B<E;)M(x[B],B);return Q;function M(U,P){w.resolve(U).then(T,function(z){I||(I=!0,a.reject(Q,z))});function T(z){L[P]=z,++j===E&&!I&&(I=!0,a.resolve(Q,L))}}}d.race=S;function S(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,I=!1;if(!E)return this.resolve([]);for(var L=-1,j=new this(o);++L<E;)B(x[L]);return j;function B(Q){w.resolve(Q).then(function(M){I||(I=!0,a.resolve(j,M))},function(M){I||(I=!0,a.reject(j,M))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Fo<"u"?Fo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,F){if(!(k instanceof F))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),F=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||F)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(k,F){k=k||[],F=F||{};try{return new Blob(k,F)}catch(H){if(H.name!=="TypeError")throw H;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,G=new R,K=0;K<k.length;K+=1)G.append(k[K]);return G.getBlob(F.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(k,F){F&&k.then(function(R){F(null,R)},function(R){F(R)})}function p(k,F,R){typeof F=="function"&&k.then(F),typeof R=="function"&&k.catch(R)}function g(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var A="local-forage-detect-blob-support",v=void 0,y={},b=Object.prototype.toString,S="readonly",x="readwrite";function w(k){for(var F=k.length,R=new ArrayBuffer(F),G=new Uint8Array(R),K=0;K<F;K++)G[K]=k.charCodeAt(K);return R}function E(k){return new d(function(F){var R=k.transaction(A,x),G=u([""]);R.objectStore(A).put(G,"key"),R.onabort=function(K){K.preventDefault(),K.stopPropagation(),F(!1)},R.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),H=navigator.userAgent.match(/Edge\//);F(H||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function I(k){return typeof v=="boolean"?d.resolve(v):E(k).then(function(F){return v=F,v})}function L(k){var F=y[k.name],R={};R.promise=new d(function(G,K){R.resolve=G,R.reject=K}),F.deferredOperations.push(R),F.dbReady?F.dbReady=F.dbReady.then(function(){return R.promise}):F.dbReady=R.promise}function j(k){var F=y[k.name],R=F.deferredOperations.pop();if(R)return R.resolve(),R.promise}function B(k,F){var R=y[k.name],G=R.deferredOperations.pop();if(G)return G.reject(F),G.promise}function Q(k,F){return new d(function(R,G){if(y[k.name]=y[k.name]||q(),k.db)if(F)L(k),k.db.close();else return R(k.db);var K=[k.name];F&&K.push(k.version);var H=l.open.apply(l,K);F&&(H.onupgradeneeded=function(ee){var se=H.result;try{se.createObjectStore(k.storeName),ee.oldVersion<=1&&se.createObjectStore(A)}catch(le){if(le.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw le}}),H.onerror=function(ee){ee.preventDefault(),G(H.error)},H.onsuccess=function(){var ee=H.result;ee.onversionchange=function(se){se.target.close()},R(ee),j(k)}})}function M(k){return Q(k,!1)}function U(k){return Q(k,!0)}function P(k,F){if(!k.db)return!0;var R=!k.db.objectStoreNames.contains(k.storeName),G=k.version<k.db.version,K=k.version>k.db.version;if(G&&(k.version!==F&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),K||R){if(R){var H=k.db.version+1;H>k.version&&(k.version=H)}return!0}return!1}function T(k){return new d(function(F,R){var G=new FileReader;G.onerror=R,G.onloadend=function(K){var H=btoa(K.target.result||"");F({__local_forage_encoded_blob:!0,data:H,type:k.type})},G.readAsBinaryString(k)})}function z(k){var F=w(atob(k.data));return u([F],{type:k.type})}function O(k){return k&&k.__local_forage_encoded_blob}function N(k){var F=this,R=F._initReady().then(function(){var G=y[F._dbInfo.name];if(G&&G.dbReady)return G.dbReady});return p(R,k,k),R}function D(k){L(k);for(var F=y[k.name],R=F.forages,G=0;G<R.length;G++){var K=R[G];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return k.db=null,M(k).then(function(H){return k.db=H,P(k)?U(k):H}).then(function(H){k.db=F.db=H;for(var ee=0;ee<R.length;ee++)R[ee]._dbInfo.db=H}).catch(function(H){throw B(k,H),H})}function $(k,F,R,G){G===void 0&&(G=1);try{var K=k.db.transaction(k.storeName,F);R(null,K)}catch(H){if(G>0&&(!k.db||H.name==="InvalidStateError"||H.name==="NotFoundError"))return d.resolve().then(function(){if(!k.db||H.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),U(k)}).then(function(){return D(k).then(function(){$(k,F,R,G-1)})}).catch(R);R(H)}}function q(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(k){var F=this,R={db:null};if(k)for(var G in k)R[G]=k[G];var K=y[R.name];K||(K=q(),y[R.name]=K),K.forages.push(F),F._initReady||(F._initReady=F.ready,F.ready=N);var H=[];function ee(){return d.resolve()}for(var se=0;se<K.forages.length;se++){var le=K.forages[se];le!==F&&H.push(le._initReady().catch(ee))}var ue=K.forages.slice(0);return d.all(H).then(function(){return R.db=K.db,M(R)}).then(function(ge){return R.db=ge,P(R,F._defaultConfig.version)?U(R):ge}).then(function(ge){R.db=K.db=ge,F._dbInfo=R;for(var ke=0;ke<ue.length;ke++){var Qe=ue[ke];Qe!==F&&(Qe._dbInfo.db=R.db,Qe._dbInfo.version=R.version)}})}function V(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){$(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.get(k);ue.onsuccess=function(){var ge=ue.result;ge===void 0&&(ge=null),O(ge)&&(ge=z(ge)),K(ge)},ue.onerror=function(){H(ue.error)}}catch(ge){H(ge)}})}).catch(H)});return h(G,F),G}function ce(k,F){var R=this,G=new d(function(K,H){R.ready().then(function(){$(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.openCursor(),ge=1;ue.onsuccess=function(){var ke=ue.result;if(ke){var Qe=ke.value;O(Qe)&&(Qe=z(Qe));var ft=k(Qe,ke.key,ge++);ft!==void 0?K(ft):ke.continue()}else K()},ue.onerror=function(){H(ue.error)}}catch(ke){H(ke)}})}).catch(H)});return h(G,F),G}function Z(k,F,R){var G=this;k=g(k);var K=new d(function(H,ee){var se;G.ready().then(function(){return se=G._dbInfo,b.call(F)==="[object Blob]"?I(se.db).then(function(le){return le?F:T(F)}):F}).then(function(le){$(G._dbInfo,x,function(ue,ge){if(ue)return ee(ue);try{var ke=ge.objectStore(G._dbInfo.storeName);le===null&&(le=void 0);var Qe=ke.put(le,k);ge.oncomplete=function(){le===void 0&&(le=null),H(le)},ge.onabort=ge.onerror=function(){var ft=Qe.error?Qe.error:Qe.transaction.error;ee(ft)}}catch(ft){ee(ft)}})}).catch(ee)});return h(K,R),K}function de(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){$(R._dbInfo,x,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=le.delete(k);se.oncomplete=function(){K()},se.onerror=function(){H(ue.error)},se.onabort=function(){var ge=ue.error?ue.error:ue.transaction.error;H(ge)}}catch(ge){H(ge)}})}).catch(H)});return h(G,F),G}function we(k){var F=this,R=new d(function(G,K){F.ready().then(function(){$(F._dbInfo,x,function(H,ee){if(H)return K(H);try{var se=ee.objectStore(F._dbInfo.storeName),le=se.clear();ee.oncomplete=function(){G()},ee.onabort=ee.onerror=function(){var ue=le.error?le.error:le.transaction.error;K(ue)}}catch(ue){K(ue)}})}).catch(K)});return h(R,k),R}function Ee(k){var F=this,R=new d(function(G,K){F.ready().then(function(){$(F._dbInfo,S,function(H,ee){if(H)return K(H);try{var se=ee.objectStore(F._dbInfo.storeName),le=se.count();le.onsuccess=function(){G(le.result)},le.onerror=function(){K(le.error)}}catch(ue){K(ue)}})}).catch(K)});return h(R,k),R}function pe(k,F){var R=this,G=new d(function(K,H){if(k<0){K(null);return}R.ready().then(function(){$(R._dbInfo,S,function(ee,se){if(ee)return H(ee);try{var le=se.objectStore(R._dbInfo.storeName),ue=!1,ge=le.openKeyCursor();ge.onsuccess=function(){var ke=ge.result;if(!ke){K(null);return}k===0||ue?K(ke.key):(ue=!0,ke.advance(k))},ge.onerror=function(){H(ge.error)}}catch(ke){H(ke)}})}).catch(H)});return h(G,F),G}function Ae(k){var F=this,R=new d(function(G,K){F.ready().then(function(){$(F._dbInfo,S,function(H,ee){if(H)return K(H);try{var se=ee.objectStore(F._dbInfo.storeName),le=se.openKeyCursor(),ue=[];le.onsuccess=function(){var ge=le.result;if(!ge){G(ue);return}ue.push(ge.key),ge.continue()},le.onerror=function(){K(le.error)}}catch(ge){K(ge)}})}).catch(K)});return h(R,k),R}function qe(k,F){F=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var G=this,K;if(!k.name)K=d.reject("Invalid arguments");else{var H=k.name===R.name&&G._dbInfo.db,ee=H?d.resolve(G._dbInfo.db):M(k).then(function(se){var le=y[k.name],ue=le.forages;le.db=se;for(var ge=0;ge<ue.length;ge++)ue[ge]._dbInfo.db=se;return se});k.storeName?K=ee.then(function(se){if(se.objectStoreNames.contains(k.storeName)){var le=se.version+1;L(k);var ue=y[k.name],ge=ue.forages;se.close();for(var ke=0;ke<ge.length;ke++){var Qe=ge[ke];Qe._dbInfo.db=null,Qe._dbInfo.version=le}var ft=new d(function(pt,yn){var ln=l.open(k.name,le);ln.onerror=function(ai){var Lu=ln.result;Lu.close(),yn(ai)},ln.onupgradeneeded=function(){var ai=ln.result;ai.deleteObjectStore(k.storeName)},ln.onsuccess=function(){var ai=ln.result;ai.close(),pt(ai)}});return ft.then(function(pt){ue.db=pt;for(var yn=0;yn<ge.length;yn++){var ln=ge[yn];ln._dbInfo.db=pt,j(ln._dbInfo)}}).catch(function(pt){throw(B(k,pt)||d.resolve()).catch(function(){}),pt})}}):K=ee.then(function(se){L(k);var le=y[k.name],ue=le.forages;se.close();for(var ge=0;ge<ue.length;ge++){var ke=ue[ge];ke._dbInfo.db=null}var Qe=new d(function(ft,pt){var yn=l.deleteDatabase(k.name);yn.onerror=function(){var ln=yn.result;ln&&ln.close(),pt(yn.error)},yn.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},yn.onsuccess=function(){var ln=yn.result;ln&&ln.close(),ft(ln)}});return Qe.then(function(ft){le.db=ft;for(var pt=0;pt<ue.length;pt++){var yn=ue[pt];j(yn._dbInfo)}}).catch(function(ft){throw(B(k,ft)||d.resolve()).catch(function(){}),ft})})}return h(K,F),K}var Ve={_driver:"asyncStorage",_initStorage:ne,_support:c(),iterate:ce,getItem:V,setItem:Z,removeItem:de,clear:we,length:Ee,key:pe,keys:Ae,dropInstance:qe};function Ie(){return typeof openDatabase=="function"}var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="~~local_forage_type~",Ge=/^~~local_forage_type~([^~]+)~/,He="__lfsc__:",rt=He.length,it="arbf",Nt="blob",At="si08",Gt="ui08",st="uic8",_t="si16",wt="si32",Ye="ur16",$t="ui32",ye="fl32",We="fl64",Pn=rt+it.length,bt=Object.prototype.toString;function vn(k){var F=k.length*.75,R=k.length,G,K=0,H,ee,se,le;k[k.length-1]==="="&&(F--,k[k.length-2]==="="&&F--);var ue=new ArrayBuffer(F),ge=new Uint8Array(ue);for(G=0;G<R;G+=4)H=_e.indexOf(k[G]),ee=_e.indexOf(k[G+1]),se=_e.indexOf(k[G+2]),le=_e.indexOf(k[G+3]),ge[K++]=H<<2|ee>>4,ge[K++]=(ee&15)<<4|se>>2,ge[K++]=(se&3)<<6|le&63;return ue}function on(k){var F=new Uint8Array(k),R="",G;for(G=0;G<F.length;G+=3)R+=_e[F[G]>>2],R+=_e[(F[G]&3)<<4|F[G+1]>>4],R+=_e[(F[G+1]&15)<<2|F[G+2]>>6],R+=_e[F[G+2]&63];return F.length%3===2?R=R.substring(0,R.length-1)+"=":F.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function an(k,F){var R="";if(k&&(R=bt.call(k)),k&&(R==="[object ArrayBuffer]"||k.buffer&&bt.call(k.buffer)==="[object ArrayBuffer]")){var G,K=He;k instanceof ArrayBuffer?(G=k,K+=it):(G=k.buffer,R==="[object Int8Array]"?K+=At:R==="[object Uint8Array]"?K+=Gt:R==="[object Uint8ClampedArray]"?K+=st:R==="[object Int16Array]"?K+=_t:R==="[object Uint16Array]"?K+=Ye:R==="[object Int32Array]"?K+=wt:R==="[object Uint32Array]"?K+=$t:R==="[object Float32Array]"?K+=ye:R==="[object Float64Array]"?K+=We:F(new Error("Failed to get type for BinaryArray"))),F(K+on(G))}else if(R==="[object Blob]"){var H=new FileReader;H.onload=function(){var ee=Ue+k.type+"~"+on(this.result);F(He+Nt+ee)},H.readAsArrayBuffer(k)}else try{F(JSON.stringify(k))}catch(ee){console.error("Couldn't convert value into a JSON string: ",k),F(null,ee)}}function Zt(k){if(k.substring(0,rt)!==He)return JSON.parse(k);var F=k.substring(Pn),R=k.substring(rt,Pn),G;if(R===Nt&&Ge.test(F)){var K=F.match(Ge);G=K[1],F=F.substring(K[0].length)}var H=vn(F);switch(R){case it:return H;case Nt:return u([H],{type:G});case At:return new Int8Array(H);case Gt:return new Uint8Array(H);case st:return new Uint8ClampedArray(H);case _t:return new Int16Array(H);case Ye:return new Uint16Array(H);case wt:return new Int32Array(H);case $t:return new Uint32Array(H);case ye:return new Float32Array(H);case We:return new Float64Array(H);default:throw new Error("Unkown type: "+R)}}var ht={serialize:an,deserialize:Zt,stringToBuffer:vn,bufferToString:on};function ur(k,F,R,G){k.executeSql("CREATE TABLE IF NOT EXISTS "+F.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,G)}function Li(k){var F=this,R={db:null};if(k)for(var G in k)R[G]=typeof k[G]!="string"?k[G].toString():k[G];var K=new d(function(H,ee){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(se){return ee(se)}R.db.transaction(function(se){ur(se,R,function(){F._dbInfo=R,H()},function(le,ue){ee(ue)})},ee)});return R.serializer=ht,K}function er(k,F,R,G,K,H){k.executeSql(R,G,K,function(ee,se){se.code===se.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[F.storeName],function(le,ue){ue.rows.length?H(le,se):ur(le,F,function(){le.executeSql(R,G,K,H)},H)},H):H(ee,se)},H)}function To(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[k],function(le,ue){var ge=ue.rows.length?ue.rows.item(0).value:null;ge&&(ge=ee.serializer.deserialize(ge)),K(ge)},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Ni(k,F){var R=this,G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT * FROM "+ee.storeName,[],function(le,ue){for(var ge=ue.rows,ke=ge.length,Qe=0;Qe<ke;Qe++){var ft=ge.item(Qe),pt=ft.value;if(pt&&(pt=ee.serializer.deserialize(pt)),pt=k(pt,ft.key,Qe+1),pt!==void 0){K(pt);return}}K()},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Lr(k,F,R,G){var K=this;k=g(k);var H=new d(function(ee,se){K.ready().then(function(){F===void 0&&(F=null);var le=F,ue=K._dbInfo;ue.serializer.serialize(F,function(ge,ke){ke?se(ke):ue.db.transaction(function(Qe){er(Qe,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[k,ge],function(){ee(le)},function(ft,pt){se(pt)})},function(Qe){if(Qe.code===Qe.QUOTA_ERR){if(G>0){ee(Lr.apply(K,[k,le,R,G-1]));return}se(Qe)}})})}).catch(se)});return h(H,R),H}function $i(k,F,R){return Lr.apply(this,[k,F,R,1])}function Vl(k,F){var R=this;k=g(k);var G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[k],function(){K()},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Ll(k){var F=this,R=new d(function(G,K){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(ee){er(ee,H,"DELETE FROM "+H.storeName,[],function(){G()},function(se,le){K(le)})})}).catch(K)});return h(R,k),R}function Nl(k){var F=this,R=new d(function(G,K){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(ee){er(ee,H,"SELECT COUNT(key) as c FROM "+H.storeName,[],function(se,le){var ue=le.rows.item(0).c;G(ue)},function(se,le){K(le)})})}).catch(K)});return h(R,k),R}function _a(k,F){var R=this,G=new d(function(K,H){R.ready().then(function(){var ee=R._dbInfo;ee.db.transaction(function(se){er(se,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[k+1],function(le,ue){var ge=ue.rows.length?ue.rows.item(0).key:null;K(ge)},function(le,ue){H(ue)})})}).catch(H)});return h(G,F),G}function Mu(k){var F=this,R=new d(function(G,K){F.ready().then(function(){var H=F._dbInfo;H.db.transaction(function(ee){er(ee,H,"SELECT key FROM "+H.storeName,[],function(se,le){for(var ue=[],ge=0;ge<le.rows.length;ge++)ue.push(le.rows.item(ge).key);G(ue)},function(se,le){K(le)})})}).catch(K)});return h(R,k),R}function Sv(k){return new d(function(F,R){k.transaction(function(G){G.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,H){for(var ee=[],se=0;se<H.rows.length;se++)ee.push(H.rows.item(se).name);F({db:k,storeNames:ee})},function(K,H){R(H)})},function(G){R(G)})})}function ba(k,F){F=m.apply(this,arguments);var R=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||R.name,k.storeName=k.storeName||R.storeName);var G=this,K;return k.name?K=new d(function(H){var ee;k.name===R.name?ee=G._dbInfo.db:ee=openDatabase(k.name,"","",0),k.storeName?H({db:ee,storeNames:[k.storeName]}):H(Sv(ee))}).then(function(H){return new d(function(ee,se){H.db.transaction(function(le){function ue(ft){return new d(function(pt,yn){le.executeSql("DROP TABLE IF EXISTS "+ft,[],function(){pt()},function(ln,ai){yn(ai)})})}for(var ge=[],ke=0,Qe=H.storeNames.length;ke<Qe;ke++)ge.push(ue(H.storeNames[ke]));d.all(ge).then(function(){ee()}).catch(function(ft){se(ft)})},function(le){se(le)})})}):K=d.reject("Invalid arguments"),h(K,F),K}var ju={_driver:"webSQLStorage",_initStorage:Li,_support:Ie(),iterate:Ni,getItem:To,setItem:$i,removeItem:Vl,clear:Ll,length:Nl,key:_a,keys:Mu,dropInstance:ba};function Nr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Io(k,F){var R=k.name+"/";return k.storeName!==F.storeName&&(R+=k.storeName+"/"),R}function wv(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function xa(){return!wv()||localStorage.length>0}function Ou(k){var F=this,R={};if(k)for(var G in k)R[G]=k[G];return R.keyPrefix=Io(k,F._defaultConfig),xa()?(F._dbInfo=R,R.serializer=ht,d.resolve()):d.reject()}function wh(k){var F=this,R=F.ready().then(function(){for(var G=F._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var H=localStorage.key(K);H.indexOf(G)===0&&localStorage.removeItem(H)}});return h(R,k),R}function Eh(k,F){var R=this;k=g(k);var G=R.ready().then(function(){var K=R._dbInfo,H=localStorage.getItem(K.keyPrefix+k);return H&&(H=K.serializer.deserialize(H)),H});return h(G,F),G}function kh(k,F){var R=this,G=R.ready().then(function(){for(var K=R._dbInfo,H=K.keyPrefix,ee=H.length,se=localStorage.length,le=1,ue=0;ue<se;ue++){var ge=localStorage.key(ue);if(ge.indexOf(H)===0){var ke=localStorage.getItem(ge);if(ke&&(ke=K.serializer.deserialize(ke)),ke=k(ke,ge.substring(ee),le++),ke!==void 0)return ke}}});return h(G,F),G}function Ch(k,F){var R=this,G=R.ready().then(function(){var K=R._dbInfo,H;try{H=localStorage.key(k)}catch{H=null}return H&&(H=H.substring(K.keyPrefix.length)),H});return h(G,F),G}function Ev(k){var F=this,R=F.ready().then(function(){for(var G=F._dbInfo,K=localStorage.length,H=[],ee=0;ee<K;ee++){var se=localStorage.key(ee);se.indexOf(G.keyPrefix)===0&&H.push(se.substring(G.keyPrefix.length))}return H});return h(R,k),R}function kv(k){var F=this,R=F.keys().then(function(G){return G.length});return h(R,k),R}function Cv(k,F){var R=this;k=g(k);var G=R.ready().then(function(){var K=R._dbInfo;localStorage.removeItem(K.keyPrefix+k)});return h(G,F),G}function Tv(k,F,R){var G=this;k=g(k);var K=G.ready().then(function(){F===void 0&&(F=null);var H=F;return new d(function(ee,se){var le=G._dbInfo;le.serializer.serialize(F,function(ue,ge){if(ge)se(ge);else try{localStorage.setItem(le.keyPrefix+k,ue),ee(H)}catch(ke){(ke.name==="QuotaExceededError"||ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&se(ke),se(ke)}})})});return h(K,R),K}function Ke(k,F){if(F=m.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var R=this.config();k.name=k.name||R.name,k.storeName=k.storeName||R.storeName}var G=this,K;return k.name?K=new d(function(H){k.storeName?H(Io(k,G._defaultConfig)):H(k.name+"/")}).then(function(H){for(var ee=localStorage.length-1;ee>=0;ee--){var se=localStorage.key(ee);se.indexOf(H)===0&&localStorage.removeItem(se)}}):K=d.reject("Invalid arguments"),h(K,F),K}var dr={_driver:"localStorageWrapper",_initStorage:Ou,_support:Nr(),iterate:kh,getItem:Eh,setItem:Tv,removeItem:Cv,clear:wh,length:kv,key:Ch,keys:Ev,dropInstance:Ke},$$=function(F,R){return F===R||typeof F=="number"&&typeof R=="number"&&isNaN(F)&&isNaN(R)},B$=function(F,R){for(var G=F.length,K=0;K<G;){if($$(F[K],R))return!0;K++}return!1},AE=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Vu={},_E={},$l={INDEXEDDB:Ve,WEBSQL:ju,LOCALSTORAGE:dr},D$=[$l.INDEXEDDB._driver,$l.WEBSQL._driver,$l.LOCALSTORAGE._driver],Th=["dropInstance"],Iv=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Th),F$={description:"",driver:D$.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function z$(k,F){k[F]=function(){var R=arguments;return k.ready().then(function(){return k[F].apply(k,R)})}}function Pv(){for(var k=1;k<arguments.length;k++){var F=arguments[k];if(F)for(var R in F)F.hasOwnProperty(R)&&(AE(F[R])?arguments[0][R]=F[R].slice():arguments[0][R]=F[R])}return arguments[0]}var U$=function(){function k(F){o(this,k);for(var R in $l)if($l.hasOwnProperty(R)){var G=$l[R],K=G._driver;this[R]=K,Vu[K]||this.defineDriver(G)}this._defaultConfig=Pv({},F$),this._config=Pv({},this._defaultConfig,F),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(R){if((typeof R>"u"?"undefined":s(R))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var G in R){if(G==="storeName"&&(R[G]=R[G].replace(/\W/g,"_")),G==="version"&&typeof R[G]!="number")return new Error("Database version must be a number.");this._config[G]=R[G]}return"driver"in R&&R.driver?this.setDriver(this._config.driver):!0}else return typeof R=="string"?this._config[R]:this._config},k.prototype.defineDriver=function(R,G,K){var H=new d(function(ee,se){try{var le=R._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!R._driver){se(ue);return}for(var ge=Iv.concat("_initStorage"),ke=0,Qe=ge.length;ke<Qe;ke++){var ft=ge[ke],pt=!B$(Th,ft);if((pt||R[ft])&&typeof R[ft]!="function"){se(ue);return}}var yn=function(){for(var Lu=function(G$){return function(){var W$=new Error("Method "+G$+" is not implemented by the current driver"),bE=d.reject(W$);return h(bE,arguments[arguments.length-1]),bE}},Rv=0,q$=Th.length;Rv<q$;Rv++){var Mv=Th[Rv];R[Mv]||(R[Mv]=Lu(Mv))}};yn();var ln=function(Lu){Vu[le]&&console.info("Redefining LocalForage driver: "+le),Vu[le]=R,_E[le]=Lu,ee()};"_support"in R?R._support&&typeof R._support=="function"?R._support().then(ln,se):ln(!!R._support):ln(!0)}catch(ai){se(ai)}});return p(H,G,K),H},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(R,G,K){var H=Vu[R]?d.resolve(Vu[R]):d.reject(new Error("Driver not found."));return p(H,G,K),H},k.prototype.getSerializer=function(R){var G=d.resolve(ht);return p(G,R),G},k.prototype.ready=function(R){var G=this,K=G._driverSet.then(function(){return G._ready===null&&(G._ready=G._initDriver()),G._ready});return p(K,R,R),K},k.prototype.setDriver=function(R,G,K){var H=this;AE(R)||(R=[R]);var ee=this._getSupportedDrivers(R);function se(){H._config.driver=H.driver()}function le(ke){return H._extend(ke),se(),H._ready=H._initStorage(H._config),H._ready}function ue(ke){return function(){var Qe=0;function ft(){for(;Qe<ke.length;){var pt=ke[Qe];return Qe++,H._dbInfo=null,H._ready=null,H.getDriver(pt).then(le).catch(ft)}se();var yn=new Error("No available storage method found.");return H._driverSet=d.reject(yn),H._driverSet}return ft()}}var ge=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=ge.then(function(){var ke=ee[0];return H._dbInfo=null,H._ready=null,H.getDriver(ke).then(function(Qe){H._driver=Qe._driver,se(),H._wrapLibraryMethodsWithReady(),H._initDriver=ue(ee)})}).catch(function(){se();var ke=new Error("No available storage method found.");return H._driverSet=d.reject(ke),H._driverSet}),p(this._driverSet,G,K),this._driverSet},k.prototype.supports=function(R){return!!_E[R]},k.prototype._extend=function(R){Pv(this,R)},k.prototype._getSupportedDrivers=function(R){for(var G=[],K=0,H=R.length;K<H;K++){var ee=R[K];this.supports(ee)&&G.push(ee)}return G},k.prototype._wrapLibraryMethodsWithReady=function(){for(var R=0,G=Iv.length;R<G;R++)z$(this,Iv[R])},k.prototype.createInstance=function(R){return new k(R)},k}(),H$=new U$;r.exports=H$},{3:3}]},{},[4])(4)})})(H5);var hH=H5.exports;const al=lr(hH);function pH(e){const t={...e};u5(t,"react"),dH(t)}const gH="ui.react.render",mH="ui.react.update",vH="ui.react.mount",Bk="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",yH="unknown";class q5 extends _.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Pd({name:`<${n}>`,onlyIfParent:!0,op:vH,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(i=>t[i]!==this.props.updateProps[i]);if(r.length>0){const i=il();this._updateSpan=fk(this._mountSpan,()=>Pd({name:`<${this.props.name}>`,onlyIfParent:!0,op:mH,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=il(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const i=Tn(this._mountSpan).timestamp;fk(this._mountSpan,()=>{const s=Pd({onlyIfParent:!0,name:`<${n}>`,op:gH,origin:"auto.ui.react.profiler",startTimestamp:i,attributes:{"ui.component_name":n}});s&&s.end(t)})}}render(){return this.props.children}}q5.__initStatic();function AH(e,t){const n=t&&t.name||e.displayName||e.name||yH,r=i=>_.createElement(q5,{...t,name:n,updateProps:i,__self:this,__source:{fileName:Bk,lineNumber:159}},_.createElement(e,{...i,__self:this,__source:{fileName:Bk,lineNumber:160}}));return r.displayName=`profiler(${n})`,iD(r,e),r}const _H=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function bH(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const Dk={componentStack:null,error:null,eventId:null};function xH(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}class ux extends _.Component{constructor(t){super(t),ux.prototype.__init.call(this),this.state=Dk,this._openFallbackReportDialog=!0;const n=In();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&$k({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:i,showDialog:s,dialogOptions:o}=this.props;tx(a=>{if(bH(_.version)&&Ub(t)){const c=new Error(t.message);c.name=`React ErrorBoundary ${t.name}`,c.stack=n,xH(t,c)}r&&r(a,t,n);const l=Ls(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});i&&i(t,n,l),s&&(this._lastEventId=l,this._openFallbackReportDialog&&$k({...o,eventId:l})),this.setState({error:t,componentStack:n,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&i(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(Dk)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):i=t,_.isValidElement(i)?i:(t&&_H&&re.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}const SH="modulepreload",wH=function(e){return"/"+e},Fk={},f0=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=wH(l),l in Fk)return;Fk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":SH,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};class G5{constructor(){this.init=async(t,n)=>{const r=await f0(()=>import("./aubio-BXVQmmIs.js"),[]),{Pitch:i}=await r.default();this.detector=new i("default",n,n/8,t.sampleRate),this.detector.setTolerance(.5)},this.getFrequency=async t=>this.detector.do(t)}getSampleSize(){return 2048}}class EH extends bo{constructor(){super(...arguments),this.status="uninitialised",this.getUserMedia=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.getUserMedia(...t)),this.enumerateDevices=async(...t)=>this.requestAndTrack(()=>navigator.mediaDevices.enumerateDevices(...t)),this.requestAndTrack=async t=>{try{this.status!=="accepted"&&this.setStatus("requested");const n=await t();return this.setStatus("accepted"),n}catch(n){throw this.setStatus("declined"),n}},this.setStatus=t=>{this.status=t,this.onUpdate(t)},this.getStatus=()=>this.status}}const Xo=new EH;let W5=class{constructor(){this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Xo.getUserMedia({audio:{...t?{deviceId:t,exact:!0}:{},echoCancellation:n},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createChannelSplitter(2);r.connect(i);const s=this.context.createAnalyser();s.fftSize=2048,s.minDecibels=-100;const o=this.context.createAnalyser();o.fftSize=2048,o.minDecibels=-100,i.connect(s,0),i.connect(o,1);const a=new G5;await a.init(this.context,s.fftSize),this.interval=setInterval(async()=>{const l=new Float32Array(s.fftSize),c=new Float32Array(o.fftSize);s.getFloatTimeDomainData(l),o.getFloatTimeDomainData(c),this.frequencies=await Promise.all([a.getFrequency(l),a.getFrequency(c)]),this.volumes=[this.calculateVolume(l),this.calculateVolume(c)]},this.context.sampleRate/s.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Ls(r),console.error(r)}}catch(r){Ls(r,{level:"warning"}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}};new W5;class kH{constructor(){this.devices={},this.startMonitoring=async(t,n=!1)=>{t&&(this.devices[t]||(this.devices[t]=new W5),await this.devices[t].startMonitoring(t,n))},this.getFrequencies=t=>t&&this.devices[t]?this.devices[t].getFrequencies():[0,0],this.getVolumes=t=>t&&this.devices[t]?this.devices[t].getVolumes():[0,0],this.clearFrequencies=t=>{if(t&&this.devices[t])return this.devices[t].clearFrequencies(t)},this.stopMonitoring=async()=>{Object.values(this.devices).forEach(t=>t.stopMonitoring())},this.getInputLag=t=>t&&this.devices[t]?this.devices[t].getInputLag():180,this.requestReadiness=async t=>t&&this.devices[t]?this.devices[t].requestReadiness():!0,this.getStatus=t=>t&&this.devices[t]?this.devices[t].getStatus():"ok"}}const CH=new kH;class TH{constructor(){this.frequencies=[0],this.volumes=[1],this.startMonitoring=async t=>{var n;return(n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().startMonitoring()},this.getFrequencies=t=>{var r;return((r=Je.getRemoteMicById(t??""))==null?void 0:r.getInput().getFrequencies())??this.frequencies},this.clearFrequencies=t=>{var n;(n=Je.getRemoteMicById(t??""))==null||n.getInput().clearFrequencies()},this.getVolumes=t=>{var r;return((r=Je.getRemoteMicById(t??""))==null?void 0:r.getInput().getVolumes())??this.volumes},this.stopMonitoring=async t=>{var n;return(n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().stopMonitoring()},this.requestReadiness=t=>{var n;return((n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().requestReadiness())??Promise.resolve(!0)},this.getInputLag=t=>{var n;return((n=Je.getRemoteMicById(t??""))==null?void 0:n.getInput().getInputLag())??0},this.getStatus=t=>{const n=Je.getRemoteMicById(t??"");return!n||n.getLatency()>1500?"unavailable":n.getLatency()>500?"unstable":"ok"}}}const IH=new TH;function as(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Y5=typeof global=="object"&&global&&global.Object===Object&&global,PH=typeof self=="object"&&self&&self.Object===Object&&self,cs=Y5||PH||Function("return this")(),ty=function(){return cs.Date.now()},RH=/\s/;function MH(e){for(var t=e.length;t--&&RH.test(e.charAt(t)););return t}var jH=/^\s+/;function OH(e){return e&&e.slice(0,MH(e)+1).replace(jH,"")}var ki=cs.Symbol,K5=Object.prototype,VH=K5.hasOwnProperty,LH=K5.toString,Hu=ki?ki.toStringTag:void 0;function NH(e){var t=VH.call(e,Hu),n=e[Hu];try{e[Hu]=void 0;var r=!0}catch{}var i=LH.call(e);return r&&(t?e[Hu]=n:delete e[Hu]),i}var $H=Object.prototype,BH=$H.toString;function DH(e){return BH.call(e)}var FH="[object Null]",zH="[object Undefined]",zk=ki?ki.toStringTag:void 0;function El(e){return e==null?e===void 0?zH:FH:zk&&zk in Object(e)?NH(e):DH(e)}function lo(e){return e!=null&&typeof e=="object"}var UH="[object Symbol]";function h0(e){return typeof e=="symbol"||lo(e)&&El(e)==UH}var Uk=NaN,HH=/^[-+]0x[0-9a-f]+$/i,qH=/^0b[01]+$/i,GH=/^0o[0-7]+$/i,WH=parseInt;function p1(e){if(typeof e=="number")return e;if(h0(e))return Uk;if(as(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=as(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=OH(e);var n=qH.test(e);return n||GH.test(e)?WH(e.slice(2),n?2:8):HH.test(e)?Uk:+e}var YH="Expected a function",KH=Math.max,QH=Math.min;function Q5(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(YH);t=p1(t)||0,as(n)&&(u=!!n.leading,d="maxWait"in n,s=d?KH(p1(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function p(w){var E=r,I=i;return r=i=void 0,c=w,o=e.apply(I,E),o}function g(w){return c=w,a=setTimeout(v,t),u?p(w):o}function m(w){var E=w-l,I=w-c,L=t-E;return d?QH(L,s-I):L}function A(w){var E=w-l,I=w-c;return l===void 0||E>=t||E<0||d&&I>=s}function v(){var w=ty();if(A(w))return y(w);a=setTimeout(v,m(w))}function y(w){return a=void 0,h&&r?p(w):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:y(ty())}function x(){var w=ty(),E=A(w);if(r=arguments,i=this,l=w,E){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return x.cancel=b,x.flush=S,x}const mr={DUEL:"DUEL",PASS_THE_MIC:"PASS_THE_MIC",CO_OP:"CO_OP"},jd=["freestyle","rap"],J5=[],X5=440,Z5=69,dx=20;var JH="[object AsyncFunction]",XH="[object Function]",ZH="[object GeneratorFunction]",eq="[object Proxy]";function e3(e){if(!as(e))return!1;var t=El(e);return t==XH||t==ZH||t==JH||t==eq}var ny=cs["__core-js_shared__"],Hk=function(){var e=/[^.]+$/.exec(ny&&ny.keys&&ny.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tq(e){return!!Hk&&Hk in e}var nq=Function.prototype,rq=nq.toString;function kl(e){if(e!=null){try{return rq.call(e)}catch{}try{return e+""}catch{}}return""}var iq=/[\\^$.*+?()[\]{}|]/g,sq=/^\[object .+?Constructor\]$/,oq=Function.prototype,aq=Object.prototype,lq=oq.toString,cq=aq.hasOwnProperty,uq=RegExp("^"+lq.call(cq).replace(iq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dq(e){if(!as(e)||tq(e))return!1;var t=e3(e)?uq:sq;return t.test(kl(e))}function fq(e,t){return e==null?void 0:e[t]}function Cl(e,t){var n=fq(e,t);return dq(n)?n:void 0}var uf=Cl(Object,"create");function hq(){this.__data__=uf?uf(null):{},this.size=0}function pq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gq="__lodash_hash_undefined__",mq=Object.prototype,vq=mq.hasOwnProperty;function yq(e){var t=this.__data__;if(uf){var n=t[e];return n===gq?void 0:n}return vq.call(t,e)?t[e]:void 0}var Aq=Object.prototype,_q=Aq.hasOwnProperty;function bq(e){var t=this.__data__;return uf?t[e]!==void 0:_q.call(t,e)}var xq="__lodash_hash_undefined__";function Sq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=uf&&t===void 0?xq:t,this}function ll(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ll.prototype.clear=hq;ll.prototype.delete=pq;ll.prototype.get=yq;ll.prototype.has=bq;ll.prototype.set=Sq;function wq(){this.__data__=[],this.size=0}function p0(e,t){return e===t||e!==e&&t!==t}function g0(e,t){for(var n=e.length;n--;)if(p0(e[n][0],t))return n;return-1}var Eq=Array.prototype,kq=Eq.splice;function Cq(e){var t=this.__data__,n=g0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kq.call(t,n,1),--this.size,!0}function Tq(e){var t=this.__data__,n=g0(t,e);return n<0?void 0:t[n][1]}function Iq(e){return g0(this.__data__,e)>-1}function Pq(e,t){var n=this.__data__,r=g0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xo.prototype.clear=wq;xo.prototype.delete=Cq;xo.prototype.get=Tq;xo.prototype.has=Iq;xo.prototype.set=Pq;var df=Cl(cs,"Map");function Rq(){this.size=0,this.__data__={hash:new ll,map:new(df||xo),string:new ll}}function Mq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function m0(e,t){var n=e.__data__;return Mq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function jq(e){var t=m0(this,e).delete(e);return this.size-=t?1:0,t}function Oq(e){return m0(this,e).get(e)}function Vq(e){return m0(this,e).has(e)}function Lq(e,t){var n=m0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function So(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}So.prototype.clear=Rq;So.prototype.delete=jq;So.prototype.get=Oq;So.prototype.has=Vq;So.prototype.set=Lq;var Nq="Expected a function";function v0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Nq);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(v0.Cache||So),n}v0.Cache=So;function Vg(e){return jd.includes(e.note.type)?0:e.distance}function St(e){return(e==null?void 0:e.type)==="notes"&&!!e.notes.length}const $q=35e5,ka={freestyle:.25,rap:.25,rapstar:.5,star:2,normal:1,perfect:.5,vibrato:.25},qk=e=>({freestyle:e.freestyle*ka.freestyle,rap:e.rap*ka.rap,rapstar:e.rapstar*ka.rapstar,star:e.star*ka.star,normal:e.normal*ka.normal,perfect:e.perfect*ka.perfect,vibrato:e.vibrato*ka.vibrato}),fx=e=>e.freestyle+e.rap+e.star+e.normal+e.perfect+e.vibrato,Yh=(e,t)=>({freestyle:e.freestyle*t,rap:e.rap*t,rapstar:e.rapstar*t,star:e.star*t,normal:e.normal*t,perfect:e.perfect*t,vibrato:e.vibrato*t}),Gk=(e,t)=>({freestyle:e.freestyle+t.freestyle,rap:e.rap+t.rap,rapstar:e.rapstar+t.rapstar,star:e.star+t.star,normal:e.normal+t.normal,perfect:e.perfect+t.perfect,vibrato:e.vibrato+t.vibrato}),Wk=(e,t)=>({freestyle:e.freestyle/t,rap:e.rap/t,rapstar:e.rapstar/t,star:e.star/t,normal:e.normal/t,perfect:e.perfect/t,vibrato:e.vibrato/t}),Yk=v0(e=>e.tracks.map(({sections:t})=>{const n={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};return t.filter(St).forEach(r=>{r.notes.filter(s=>!J5.includes(s.type)).forEach(s=>{n[s.type]=n[s.type]+s.length,n.perfect=n.perfect+s.length,n.vibrato=n.vibrato+s.length})}),n}));function t3(e,t,n){const r=Yk(t),i={freestyle:0,rap:0,rapstar:0,star:0,normal:0,perfect:0,vibrato:0};if(!r[n])return console.error(`No beat count for track ${n} in song`,t),[0,i,i];const s=qk(Yk(t)[n]),o=$q/fx(s);for(let a=0;a<e.length;a++){const l=e[a];J5.includes(l.note.type)||Vg(l)===0&&(i[l.note.type]=i[l.note.type]+l.length,l.isPerfect&&(i.perfect=i.perfect+l.length),l.vibrato&&(i.vibrato=i.vibrato+l.length))}return[o,qk(i),s]}function Bq(e,t,n){const[r,i]=t3(e,t,n);return fx(i)*r}function Dq(e,t,n,r=!0){const i=(e-n)/t;return r?Math.floor(i):i}function Fq(e){return X5*Math.pow(2,(e-Z5)/12)}const zq=e=>Math.round(12*(Math.log(e/X5)/Math.log(2)))+Z5,Uq=(e,t)=>Math.floor(1200*Math.log(t/e)/Math.log(2)),Hq=(e,t,n)=>{const r=Fq(e),i=Uq(r,t);return Math.sign(i)*((Math.abs(i)%1200+600)%1200-600)/(n*100+50)},qq=(e,t,n)=>{const r=(e%12-t%12+18)%12-6;return Math.abs(r)<=n?0:r},Gq=(e,t)=>{const n=je.getTolerance(),r=zq(e);let i=-1;const s=qq(r,t,n);return s===0&&(i=Hq(t,e,n)),{distance:s,preciseDistance:i}},Kk=6;function Wq(e){const t=[];for(let r=1;r<e.length;r++){if(Math.round(e[r].frequency/2)===Math.round(e[r-1].frequency/2))continue;const i=e[r].frequency>e[r-1].frequency?">":"<";if(t.length===0)t.push({...e[r],interval:e[r].timestamp-e[r-1].timestamp,change:i});else{const s=t.at(-1);s.change!==i&&t.push({...e[r],interval:e[r].timestamp-s.timestamp,change:i})}}const n=t;for(let r=0;r<n.length-Kk;r++){const s=n.slice(r,r+Kk-1).map(c=>c.interval),o=Math.max(...s),a=Math.min(...s),l=s.reduce((c,u)=>c+u,0)/s.length;if(o<l*1.75&&a>l/1.75)return!0}return!1}const Yq=100;function Kq(e,t,n,r){if(t.frequency===0)return;const i={...t,beat:Math.max(0,t.timestamp)/r,...Gq(t.frequency,n.pitch)},s=e.at(-1),o=Yq/r,a=n.start+n.length,l=!s||s.note.start!==n.start,c=!s||s.distance!==i.distance&&!jd.includes(n.type);if(l||c||i.beat-(s.start+s.length)>o){const u=i.beat-o<n.start?n.start:i.beat;if(e.push({start:Math.min(l?u:i.beat,a),length:0,distance:i.distance,note:n,isPerfect:!1,vibrato:!1,frequencyRecords:[{frequency:i.frequency,preciseDistance:i.preciseDistance,timestamp:i.timestamp}]}),s&&n.start!==s.note.start){const d=s.start+s.length,h=s.note.start+s.note.length,p=d+o>h?h:d;s.length=Math.max(0,p-s.start)}}else s.length=Math.max(0,Math.min(i.beat,n.start+n.length)-s.start),s.frequencyRecords.push({frequency:i.frequency,timestamp:i.timestamp,preciseDistance:i.preciseDistance}),s.isPerfect=s.distance===0&&Math.abs(s.length-s.note.length)<.5,s.vibrato=s.distance===0&&Wq(s.frequencyRecords)}const Qq=e=>e.notes[0],aa=e=>{const t=e.find(St);return t?Qq(t).start:1/0},ff=e=>{const n=e.filter(St).at(-1);return n?hf(n):0},hf=e=>{const t=e.notes.at(-1);return t.start+t.length},Qk=(e,t,n=0)=>e.notes.find(r=>r.start-n<=t&&r.start+r.length+n>=t);class Jq{constructor(t,n){this.number=t,this.gameState=n,this.frequencyRecords=[],this.playerNotes=[],this.realFrequencyRecords=[],this.realPlayerNotes=[],this.min=1/0,this.max=-1/0,this.storedSectionIndex=0,this.getNumber=()=>this.number,this.update=()=>{const r=this.gameState.getCurrentTime(),i=sn.getPlayerFrequency(this.number),s=r-sn.getPlayerInputLag(this.number);if(Array.isArray(i)){const o=this.realFrequencyRecords.at(-1)||this.frequencyRecords.at(0),a=(o==null?void 0:o.timestamp)??0,l=(s-a)/i.length;this.frequencyRecords=this.realFrequencyRecords,this.playerNotes=this.realPlayerNotes;for(let u=0;u<i.length;u++){const d=a+l*(u+1);this.updatePlayerNotes(d,i[u])}this.realFrequencyRecords=[...this.frequencyRecords],this.realPlayerNotes=[...this.playerNotes];const c=this.realPlayerNotes.at(-1);c&&(this.realPlayerNotes[this.realPlayerNotes.length-1]={...c,frequencyRecords:[...c.frequencyRecords??[]]}),sn.clearPlayerCachedFrequencies(this.number)}else this.updatePlayerNotes(s,i);this.dispatchSectionUpdate()},this.dispatchSectionUpdate=()=>{const r=this.getCurrentSectionIndex();this.storedSectionIndex!==r&&(te.sectionChange.dispatch(this.number,this.storedSectionIndex),this.storedSectionIndex=r)},this.updatePlayerNotes=(r,i)=>{const s={timestamp:r,frequency:i};this.frequencyRecords.push(s);const o=s.timestamp/this.gameState.getSongBeatLength(),a=this.getSectionByBeat(o);if(St(a)){const l=Qk(a,o,0)??Qk(a,o,.5);l&&Kq(this.playerNotes,s,l,this.gameState.getSongBeatLength())}},this.getPlayerNotes=()=>this.playerNotes,this.getPlayerFrequencies=()=>this.frequencyRecords,this.getSectionIndexByBeat=r=>this.getTrack().sections.findIndex((i,s,o)=>r<0?!0:r<i.start?!1:s===o.length-1?!0:o[s+1].start>r),this.getCurrentSectionIndex=()=>this.getSectionIndexByBeat(this.gameState.getCurrentBeat()),this.getSectionByBeat=r=>this.getTrack().sections[this.getSectionIndexByBeat(r)]??null,this.getCurrentSection=()=>{const r=this.getCurrentSectionIndex();return this.getTrack().sections[r]??null},this.getNextSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i+r]??null:null},this.getPreviousSection=(r=1)=>{const i=this.getCurrentSectionIndex();return i>-1?this.getTrack().sections[i-r]??null:null},this.getLastNotesSection=()=>{const r=this.getTrack().sections.at(-1);return St(r)?r:this.getTrack().sections.at(-2)},this.getScore=()=>Bq(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getDetailedScore=()=>t3(this.playerNotes,this.gameState.getSong(),this.getTrackIndex()),this.getMinPitch=()=>this.min,this.getMaxPitch=()=>this.max,this.getTrackIndex=()=>this.gameState.getSingSetup().players.find(r=>r.number===this.number).track,this.getTrack=()=>{var r;return this.gameState.isMergedTrack()?(r=this.gameState.getSong())==null?void 0:r.mergedTrack:this.gameState.getSong().tracks[this.getTrackIndex()]},this.resetNotes=()=>{this.playerNotes=[]},this.getTrack().sections.filter(St).forEach(r=>r.notes.forEach(i=>{this.min=Math.min(this.min,i.pitch),this.max=Math.max(this.max,i.pitch)}))}}function Xq(e){return Math.max(...e.tracks.map(t=>{const n=t.sections.filter(St).at(-1);return n?hf(n):0}))}function hx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const n=function(...r){const i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);const o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(hx.Cache||Map),n}hx.Cache=Map;const Su=hx(function(t){return 60/t.bpm/(t.bar??4)*1e3});class Zq{constructor(){this.song=null,this.currentTime=0,this.duration=0,this.singSetup=null,this.playerStates=[],this.playing=!1,this.setCurrentTime=t=>this.currentTime=t,this.getCurrentTime=(t=!0)=>this.currentTime-(t&&this.song?this.song.gap:0),this.getSongBeatLength=()=>Su(this.song),this.getCurrentBeat=()=>Dq(this.getCurrentTime(),this.getSongBeatLength(),0,!1),this.setSong=t=>this.song=t,this.getSong=()=>this.song,this.getSingSetup=()=>this.singSetup,this.setSingSetup=t=>{this.singSetup=t,this.playerStates=t.players.map(({number:n},r)=>new Jq(n,this)),this.currentTime=0,this.playing=!0},this.resetSingSetup=()=>{this.playing=!1},this.isPlaying=()=>this.playing,this.getTolerance=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.tolerance)??2},this.setDuration=t=>this.duration=t,this.getDuration=()=>this.duration,this.getPlayer=t=>this.playerStates.find(n=>n.getNumber()===t),this.getPlayers=()=>this.playerStates,this.getPlayerCount=()=>this.playerStates.length,this.getPlayerScore=t=>{var n,r;return((n=this.getSingSetup())==null?void 0:n.mode)===mr.CO_OP?this.getPlayers().reduce((s,o)=>s+o.getScore(),0)/this.getPlayerCount():((r=this.getPlayer(t))==null?void 0:r.getScore())??-1},this.getPlayerDetailedScore=t=>{var n;if(((n=this.getSingSetup())==null?void 0:n.mode)===mr.CO_OP){const r=this.getPlayers().map(a=>a.getDetailedScore()),[i,...s]=r.map(([a,l,c])=>[Yh(l,a),Yh(c,a)]),o=s.reduce((a,l)=>[Gk(a[0],l[0]),Gk(a[1],l[1])],i);return[Wk(o[0],this.getPlayerCount()),Wk(o[1],this.getPlayerCount())]}else{const[r,i,s]=this.getPlayer(t).getDetailedScore();return[Yh(i,r),Yh(s,r)]}},this.getSongCompletionProgress=()=>Math.max(0,Math.min(1,this.getCurrentBeat()/Xq(this.getSong()))),this.startInputMonitoring=async()=>sn.startMonitoring(),this.stopInputMonitoring=()=>sn.stopMonitoring(),this.update=()=>{this.playerStates.forEach(t=>t.update())},this.resetPlayerNotes=()=>{this.playerStates.forEach(t=>t.resetNotes())},this.isMergedTrack=()=>{var t;return((t=this.getSingSetup())==null?void 0:t.players.length)!==2}}}const je=new Zq;var _R;const eG=(_R=global==null?void 0:global.sessionStorage)==null?void 0:_R.getItem("isE2E");function Ns(){var t,n;if(eG)return!0;const e=(global==null?void 0:global.isE2ETests)||((t=global==null?void 0:global.location)==null?void 0:t.search.includes("e2e-test"));return e&&((n=global==null?void 0:global.sessionStorage)==null||n.setItem("isE2E","true")),e}const tG=Ns()?{host:"localhost",port:3001,path:"/"}:{},n3={...tG};var nG=Object.create,y0=Object.defineProperty,rG=Object.defineProperties,iG=Object.getOwnPropertyDescriptor,sG=Object.getOwnPropertyDescriptors,r3=Object.getOwnPropertyNames,Jk=Object.getOwnPropertySymbols,oG=Object.getPrototypeOf,i3=Object.prototype.hasOwnProperty,aG=Object.prototype.propertyIsEnumerable,Xk=(e,t,n)=>t in e?y0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,px=(e,t)=>{for(var n in t||(t={}))i3.call(t,n)&&Xk(e,n,t[n]);if(Jk)for(var n of Jk(t))aG.call(t,n)&&Xk(e,n,t[n]);return e},s3=(e,t)=>rG(e,sG(t)),lG=e=>y0(e,"__esModule",{value:!0}),gx=(e,t)=>function(){return t||(0,e[r3(e)[0]])((t={exports:{}}).exports,t),t.exports},cG=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of r3(t))!i3.call(e,i)&&(n||i!=="default")&&y0(e,i,{get:()=>t[i],enumerable:!(r=iG(t,i))||r.enumerable});return e},rh=(e,t)=>cG(lG(y0(e!=null?nG(oG(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),sc=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())}),Zk=gx({"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js"(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=n;var r=t.exports.BlobBuilder;typeof window<"u"&&(r=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function i(){this._pieces=[],this._parts=[]}i.prototype.append=function(s){typeof s=="number"?this._pieces.push(s):(this.flush(),this._parts.push(s))},i.prototype.flush=function(){if(this._pieces.length>0){var s=new Uint8Array(this._pieces);n.useArrayBufferView||(s=s.buffer),this._parts.push(s),this._pieces=[]}},i.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var s=new r,o=0,a=this._parts.length;o<a;o++)s.append(this._parts[o]);return s.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=i}}),uG=gx({"node_modules/peerjs-js-binarypack/lib/binarypack.js"(e,t){var n=Zk().BufferBuilder,r=Zk().binaryFeatures,i={unpack:function(c){var u=new s(c);return u.unpack()},pack:function(c){var u=new o;u.pack(c);var d=u.getBuffer();return d}};t.exports=i;function s(c){this.index=0,this.dataBuffer=c,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var c=this.unpack_uint8();if(c<128)return c;if((c^224)<32)return(c^224)-32;var u;if((u=c^160)<=15)return this.unpack_raw(u);if((u=c^176)<=15)return this.unpack_string(u);if((u=c^144)<=15)return this.unpack_array(u);if((u=c^128)<=15)return this.unpack_map(u);switch(c){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return u=this.unpack_uint16(),this.unpack_string(u);case 217:return u=this.unpack_uint32(),this.unpack_string(u);case 218:return u=this.unpack_uint16(),this.unpack_raw(u);case 219:return u=this.unpack_uint32(),this.unpack_raw(u);case 220:return u=this.unpack_uint16(),this.unpack_array(u);case 221:return u=this.unpack_uint32(),this.unpack_array(u);case 222:return u=this.unpack_uint16(),this.unpack_map(u);case 223:return u=this.unpack_uint32(),this.unpack_map(u)}},s.prototype.unpack_uint8=function(){var c=this.dataView[this.index]&255;return this.index++,c},s.prototype.unpack_uint16=function(){var c=this.read(2),u=(c[0]&255)*256+(c[1]&255);return this.index+=2,u},s.prototype.unpack_uint32=function(){var c=this.read(4),u=((c[0]*256+c[1])*256+c[2])*256+c[3];return this.index+=4,u},s.prototype.unpack_uint64=function(){var c=this.read(8),u=((((((c[0]*256+c[1])*256+c[2])*256+c[3])*256+c[4])*256+c[5])*256+c[6])*256+c[7];return this.index+=8,u},s.prototype.unpack_int8=function(){var c=this.unpack_uint8();return c<128?c:c-256},s.prototype.unpack_int16=function(){var c=this.unpack_uint16();return c<32768?c:c-65536},s.prototype.unpack_int32=function(){var c=this.unpack_uint32();return c<Math.pow(2,31)?c:c-Math.pow(2,32)},s.prototype.unpack_int64=function(){var c=this.unpack_uint64();return c<Math.pow(2,63)?c:c-Math.pow(2,64)},s.prototype.unpack_raw=function(c){if(this.length<this.index+c)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+c+" "+this.length);var u=this.dataBuffer.slice(this.index,this.index+c);return this.index+=c,u},s.prototype.unpack_string=function(c){for(var u=this.read(c),d=0,h="",p,g;d<c;)p=u[d],p<128?(h+=String.fromCharCode(p),d++):(p^192)<32?(g=(p^192)<<6|u[d+1]&63,h+=String.fromCharCode(g),d+=2):(g=(p&15)<<12|(u[d+1]&63)<<6|u[d+2]&63,h+=String.fromCharCode(g),d+=3);return this.index+=c,h},s.prototype.unpack_array=function(c){for(var u=new Array(c),d=0;d<c;d++)u[d]=this.unpack();return u},s.prototype.unpack_map=function(c){for(var u={},d=0;d<c;d++){var h=this.unpack(),p=this.unpack();u[h]=p}return u},s.prototype.unpack_float=function(){var c=this.unpack_uint32(),u=c>>31,d=(c>>23&255)-127,h=c&8388607|8388608;return(u===0?1:-1)*h*Math.pow(2,d-23)},s.prototype.unpack_double=function(){var c=this.unpack_uint32(),u=this.unpack_uint32(),d=c>>31,h=(c>>20&2047)-1023,p=c&1048575|1048576,g=p*Math.pow(2,h-20)+u*Math.pow(2,h-52);return(d===0?1:-1)*g},s.prototype.read=function(c){var u=this.index;if(u+c<=this.length)return this.dataView.subarray(u,u+c);throw new Error("BinaryPackFailure: read index out of range")};function o(){this.bufferBuilder=new n}o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(c){var u=typeof c;if(u==="string")this.pack_string(c);else if(u==="number")Math.floor(c)===c?this.pack_integer(c):this.pack_double(c);else if(u==="boolean")c===!0?this.bufferBuilder.append(195):c===!1&&this.bufferBuilder.append(194);else if(u==="undefined")this.bufferBuilder.append(192);else if(u==="object")if(c===null)this.bufferBuilder.append(192);else{var d=c.constructor;if(d==Array)this.pack_array(c);else if(d==Blob||d==File||c instanceof Blob||c instanceof File)this.pack_bin(c);else if(d==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(c)):this.pack_bin(c);else if("BYTES_PER_ELEMENT"in c)r.useArrayBufferView?this.pack_bin(new Uint8Array(c.buffer)):this.pack_bin(c.buffer);else if(d==Object||d.toString().startsWith("class"))this.pack_object(c);else if(d==Date)this.pack_string(c.toString());else if(typeof c.toBinaryPack=="function")this.bufferBuilder.append(c.toBinaryPack());else throw new Error('Type "'+d.toString()+'" not yet supported')}else throw new Error('Type "'+u+'" not yet supported');this.bufferBuilder.flush()},o.prototype.pack_bin=function(c){var u=c.length||c.byteLength||c.size;if(u<=15)this.pack_uint8(160+u);else if(u<=65535)this.bufferBuilder.append(218),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_string=function(c){var u=l(c);if(u<=15)this.pack_uint8(176+u);else if(u<=65535)this.bufferBuilder.append(216),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(u);else throw new Error("Invalid length");this.bufferBuilder.append(c)},o.prototype.pack_array=function(c){var u=c.length;if(u<=15)this.pack_uint8(144+u);else if(u<=65535)this.bufferBuilder.append(220),this.pack_uint16(u);else if(u<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(u);else throw new Error("Invalid length");for(var d=0;d<u;d++)this.pack(c[d])},o.prototype.pack_integer=function(c){if(c>=-32&&c<=127)this.bufferBuilder.append(c&255);else if(c>=0&&c<=255)this.bufferBuilder.append(204),this.pack_uint8(c);else if(c>=-128&&c<=127)this.bufferBuilder.append(208),this.pack_int8(c);else if(c>=0&&c<=65535)this.bufferBuilder.append(205),this.pack_uint16(c);else if(c>=-32768&&c<=32767)this.bufferBuilder.append(209),this.pack_int16(c);else if(c>=0&&c<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(c);else if(c>=-2147483648&&c<=2147483647)this.bufferBuilder.append(210),this.pack_int32(c);else if(c>=-9223372036854776e3&&c<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(c);else if(c>=0&&c<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(c);else throw new Error("Invalid integer")},o.prototype.pack_double=function(c){var u=0;c<0&&(u=1,c=-c);var d=Math.floor(Math.log(c)/Math.LN2),h=c/Math.pow(2,d)-1,p=Math.floor(h*Math.pow(2,52)),g=Math.pow(2,32),m=u<<31|d+1023<<20|p/g&1048575,A=p%g;this.bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(A)},o.prototype.pack_object=function(c){var u=Object.keys(c),d=u.length;if(d<=15)this.pack_uint8(128+d);else if(d<=65535)this.bufferBuilder.append(222),this.pack_uint16(d);else if(d<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(d);else throw new Error("Invalid length");for(var h in c)c.hasOwnProperty(h)&&(this.pack(h),this.pack(c[h]))},o.prototype.pack_uint8=function(c){this.bufferBuilder.append(c)},o.prototype.pack_uint16=function(c){this.bufferBuilder.append(c>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_uint32=function(c){var u=c&4294967295;this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255)},o.prototype.pack_uint64=function(c){var u=c/Math.pow(2,32),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)},o.prototype.pack_int8=function(c){this.bufferBuilder.append(c&255)},o.prototype.pack_int16=function(c){this.bufferBuilder.append((c&65280)>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int32=function(c){this.bufferBuilder.append(c>>>24&255),this.bufferBuilder.append((c&16711680)>>>16),this.bufferBuilder.append((c&65280)>>>8),this.bufferBuilder.append(c&255)},o.prototype.pack_int64=function(c){var u=Math.floor(c/Math.pow(2,32)),d=c%Math.pow(2,32);this.bufferBuilder.append((u&4278190080)>>>24),this.bufferBuilder.append((u&16711680)>>>16),this.bufferBuilder.append((u&65280)>>>8),this.bufferBuilder.append(u&255),this.bufferBuilder.append((d&4278190080)>>>24),this.bufferBuilder.append((d&16711680)>>>16),this.bufferBuilder.append((d&65280)>>>8),this.bufferBuilder.append(d&255)};function a(c){var u=c.charCodeAt(0);return u<=2047?"00":u<=65535?"000":u<=2097151?"0000":u<=67108863?"00000":"000000"}function l(c){return c.length>600?new Blob([c]).size:c.replace(/[^\u0000-\u007F]/g,a).length}}}),A0=gx({"node_modules/eventemitter3/index.js"(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)n.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,m=new Array(g);p<g;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,g,m){var A=r?r+u:u;if(!this._events[A])return!1;var v=this._events[A],y=arguments.length,b,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,m),!0}for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v.fn.apply(v.context,b)}else{var x=v.length,w;for(S=0;S<x;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),y){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,h);break;case 4:v[S].fn.call(v[S].context,d,h,p);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v[S].fn.apply(v[S].context,b)}}return!0},l.prototype.on=function(u,d,h){return o(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return o(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&a(this,g);else{for(var A=0,v=[],y=m.length;A<y;A++)(m[A].fn!==d||p&&!m[A].once||h&&m[A].context!==h)&&v.push(m[A]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)}}),eC=rh(uG()),dG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},Yt=new class{constructor(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedMTU=16300,this.defaultConfig=dG,this.pack=eC.pack,this.unpack=eC.unpack,this._dataCount=1}validateId(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)}chunk(e){const t=[],n=e.size,r=Math.ceil(n/Yt.chunkedMTU);let i=0,s=0;for(;s<n;){const o=Math.min(n,s+Yt.chunkedMTU),a=e.slice(s,o),l={__peerData:this._dataCount,n:i,data:a,total:r};t.push(l),s=o,i++}return this._dataCount++,t}blobToArrayBuffer(e,t,n){const r=new e;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n)&255;return t.buffer}randomToken(){return Math.random().toString(36).substr(2)}isSecure(){return location.protocol==="https:"}},fG=rh(A0()),hG="PeerJS: ",pG=class{constructor(){this._logLevel=0}get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){const n=[hG,...t];for(let r in n)n[r]instanceof Error&&(n[r]="("+n[r].name+") "+n[r].message);e>=3?console.log(...n):e>=2?console.warn("WARNING",...n):e>=1&&console.error("ERROR",...n)}},xe=new pG,gG=rh(A0()),mG=class extends gG.EventEmitter{constructor({secure:e,host:t,port:n,path:r,key:i,pingInterval:s=5e3,polyfills:o}){super(),this._disconnected=!0,this._id=null,this._messagesQueue=[],this.alive=!1,this._destroyed=!1;var a;this.pingInterval=s;const l=e?"wss://":"ws://";this._baseUrl=l+t+":"+n+r+"peerjs?key="+i,this.WebSocketConstructor=(a=o==null?void 0:o.WebSocket)!=null?a:window.WebSocket}get messagesQueue(){return this._messagesQueue}get destroyed(){return this._destroyed}start(e,t){if(this._destroyed)throw new Error("Socket was destroyed!");if(this._id=e,this._socket||!this._disconnected)return;const n=`${this._baseUrl}&id=${e}&token=${t}`;this._socket=new this.WebSocketConstructor(n),this._disconnected=!1,this._socket.onmessage=r=>{if(this._destroyed)return;let i;try{i=JSON.parse(r.data),xe.log("Server message received:",i)}catch{xe.log("Invalid server message",r.data);return}this.emit("message",i)},this._socket.onclose=r=>{this._disconnected||this._destroyed||(xe.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit("disconnected"))},this._socket.onopen=()=>{this._disconnected||this._destroyed||(xe.log("Socket open"),this.emit("open"),this._sendQueuedMessages(),this._scheduleHeartbeat())}}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(this._destroyed)return;if(!this._wsOpen()){xe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:"HEARTBEAT"});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const t of e)this.send(t);e.length>0&&xe.log(`${e.length} queued messages was sent`)}send(e){if(this._destroyed)throw new Error("Socket was destroyed!");if(!e.type){this.emit("error","Invalid message");return}if(!this.alive)return;if(this._id==null||!this._wsOpen()){this._messagesQueue.push(e);return}const t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._id=null,this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}destroy(){this._destroyed||(this.close(),this._messagesQueue.length=0,this._destroyed=!0)}};function vG(){}var o3=class{constructor(e){this.connection=e}get webRtc(){var e,t;return(t=(e=this.connection.provider.options.polyfills)==null?void 0:e.WebRTC)!=null?t:window}startConnection(e){const t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type==="media"&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type==="data"){const n=this.connection,r={ordered:!!e.reliable},i=t.createDataChannel(n.label,r);n.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){xe.log("Creating RTCPeerConnection.");const e=this.webRtc.RTCPeerConnection,t=new e(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(e){const t=this.connection.peer,n=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;xe.log("Listening for ICE candidates, remote streams and data channels."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(xe.log(`Received ICE candidates for ${t}:`,s.candidate),i.socket.send({type:"CANDIDATE",payload:{candidate:s.candidate,type:r,connectionId:n},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":xe.log("iceConnectionState is failed, closing connections to "+t),this.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),this.connection.close();break;case"closed":xe.log("iceConnectionState is closed, closing connections to "+t),this.connection.emit("error",new Error("Connection to "+t+" closed.")),this.connection.close();break;case"connected":xe.log("iceConnectionState changed to connected on the connection with "+t);break;case"disconnected":xe.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":xe.log("iceConnectionState changed to completed on the connection with "+t),e.onicecandidate=vG;break}this.connection.emit("iceStateChanged",e.iceConnectionState)},e.ondatachannel=s=>{xe.log("Received data channel");const o=s.channel;i.getConnection(t,n).initialize(o)},e.ontrack=s=>{xe.log("Received remote stream");const o=s.streams[0],a=i.getConnection(t,n);if(a.type==="media"){const l=a;this._addStreamToMediaConnection(o,l)}}}cleanup(){xe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=null;const t=e.signalingState!=="closed";let n=!1;if(this.connection.type==="data"){const i=this.connection.dataChannel;i&&(n=!!i.readyState&&i.readyState!=="closed")}(t||n)&&e.close()}_makeOffer(){return sc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createOffer(this.connection.options.constraints);if(e.signalingState==="closed")return;xe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`);let r={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type==="data"){const i=this.connection;r=s3(px({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})}t.socket.send({type:"OFFER",payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r))}}catch(n){t.emitError("webrtc",n),xe.log("Failed to createOffer, ",n)}})}_makeAnswer(){return sc(this,null,function*(){const e=this.connection.peerConnection,t=this.connection.provider;try{const n=yield e.createAnswer();if(e.signalingState==="closed")return;xe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp);try{yield e.setLocalDescription(n),xe.log("Set localDescription:",n,`for:${this.connection.peer}`),t.socket.send({type:"ANSWER",payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){t.emitError("webrtc",r),xe.log("Failed to setLocalDescription, ",r)}}catch(n){t.emitError("webrtc",n),xe.log("Failed to create answer, ",n)}})}handleSDP(e,t){return sc(this,null,function*(){const n=this.webRtc.RTCSessionDescription;t=new n(t);const r=this.connection.peerConnection,i=this.connection.provider;xe.log("Setting remote description",t);const s=this;try{yield r.setRemoteDescription(t),xe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield s._makeAnswer())}catch(o){i.emitError("webrtc",o),xe.log("Failed to setRemoteDescription, ",o)}})}handleCandidate(e){return sc(this,null,function*(){xe.log("handleCandidate:",e);const t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider;try{const o=this.webRtc.RTCIceCandidate;yield i.addIceCandidate(new o({sdpMid:r,sdpMLineIndex:n,candidate:t})),xe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){s.emitError("webrtc",o),xe.log("Failed to handleCandidate, ",o)}})}_addTracksToConnection(e,t){if(xe.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return xe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(n=>{t.addTrack(n,e)})}_addStreamToMediaConnection(e,t){xe.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}},yG=rh(A0()),a3=class extends yG.EventEmitter{constructor(e,t,n){super(),this.peer=e,this.provider=t,this.options=n,this._open=!1,this.metadata=n.metadata}get open(){return this._open}},l3=class extends a3{get type(){return"media"}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,n){super(e,t,n),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||l3.ID_PREFIX+Yt.randomToken(),this._negotiator=new o3(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}addStream(e){xe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const t=e.type,n=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case"CANDIDATE":this._negotiator.handleCandidate(n.candidate);break;default:xe.warn(`Unrecognized message type:${t} from peer:${this.peer}`);break}}answer(e,t={}){if(this._localStream){xe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(s3(px({},this.options._payload),{_stream:e}));const n=this.provider._getMessages(this.connectionId);for(let r of n)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},g1=l3;g1.ID_PREFIX="mc_";var AG=rh(A0()),_G=class extends AG.EventEmitter{constructor(e){super(),this.fileReader=e,this._queue=[],this._processing=!1,this.fileReader.onload=t=>{this._processing=!1,t.target&&this.emit("done",t.target.result),this.doNextTask()},this.fileReader.onerror=t=>{xe.error("EncodingQueue error:",t),this._processing=!1,this.destroy(),this.emit("error",t)}}get queue(){return this._queue}get size(){return this.queue.length}get processing(){return this._processing}enque(e){this.queue.push(e),!this.processing&&this.doNextTask()}destroy(){this.fileReader.abort(),this._queue=[]}doNextTask(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))}},m1=class extends a3{constructor(e,t,n){super(e,t,n),this.stringify=JSON.stringify,this.parse=JSON.parse,this._buffer=[],this._bufferSize=0,this._buffering=!1,this._chunkedData={};var r,i;this.connectionId=this.options.connectionId||m1.ID_PREFIX+Yt.randomToken(),this.label=this.options.label||this.connectionId,this.serialization=this.options.serialization||"binary",this.reliable=!!this.options.reliable,this.FileReaderCtr=(i=(r=t.options.polyfills)==null?void 0:r.FileReader)!=null?i:window.FileReader,this._encodingQueue=new _G(new this.FileReaderCtr),this._encodingQueue.on("done",s=>{this._bufferedSend(s)}),this._encodingQueue.on("error",()=>{xe.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`),this.close()}),this._negotiator=new o3(this),this._negotiator.startConnection(this.options._payload||{originator:!0})}get type(){return"data"}get dataChannel(){return this._dc}get bufferSize(){return this._bufferSize}initialize(e){this._dc=e,this._configureDataChannel()}_configureDataChannel(){(!this.provider.features.binaryBlob||this.provider.features.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=()=>{xe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{xe.log(`DC#${this.connectionId} dc onmessage:`,e.data),this._handleDataMessage(e)},this.dataChannel.onclose=()=>{xe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}_handleDataMessage({data:e}){const t=e.constructor,n=this.serialization==="binary"||this.serialization==="binary-utf8";let r=e;if(n){if(t===Blob){Yt.blobToArrayBuffer(this.FileReaderCtr,e,i=>{const s=Yt.unpack(i);this.emit("data",s)});return}else if(t===ArrayBuffer)r=Yt.unpack(e);else if(t===String){const i=Yt.binaryStringToArrayBuffer(e);r=Yt.unpack(i)}}else this.serialization==="json"&&(r=this.parse(e));if(r.__peerData){this._handleChunk(r);return}super.emit("data",r)}_handleChunk(e){const t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];const r=new Blob(n.data);this._handleDataMessage({data:r})}}close(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t){if(!this.open){super.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization==="json")this._bufferedSend(this.stringify(e));else if(this.serialization==="binary"||this.serialization==="binary-utf8"){const n=Yt.pack(e);if(!t&&n.size>Yt.chunkedMTU){this._sendChunks(n);return}this.provider.features.binaryBlob?this._bufferedSend(n):this._encodingQueue.enque(n)}else this._bufferedSend(e)}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>m1.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(t){return xe.error(`DC#:${this.connectionId} Error when sending:`,t),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}_sendChunks(e){const t=Yt.chunk(e);xe.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`);for(let n of t)this.send(n,!0)}handleMessage(e){const t=e.payload;switch(e.type){case"ANSWER":this._negotiator.handleSDP(e.type,t.sdp);break;case"CANDIDATE":this._negotiator.handleCandidate(t.candidate);break;default:xe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}},Lg=m1;Lg.ID_PREFIX="dc_";Lg.MAX_BUFFERED_AMOUNT=8*1024*1024;var bG=class{constructor(e){this._options=e}_request(e){var t,n;return((n=(t=this._options.polyfills)==null?void 0:t.fetch)!=null?n:window.fetch)(e)}_buildUrl(e){let n=(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e;const r="?ts="+new Date().getTime()+Math.random();return n+=r,n}retrieveId(){return sc(this,null,function*(){const e=this._buildUrl("id");try{const t=yield this._request(e);if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){xe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Yt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return sc(this,null,function*(){const e=this._buildUrl("peers");try{const t=yield this._request(e);if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Yt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw xe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}})}},xG={isUnifiedPlanSupported(e){if(!e&&typeof window<"u"&&(e=window),typeof e.RTCRtpTransceiver>"u"||!("currentDirection"in e.RTCRtpTransceiver.prototype))return!1;let t,n=!1;try{t=new e.RTCPeerConnection,t.addTransceiver("audio"),n=!0}catch{}finally{t&&t.close()}return n}},Pa=class extends fG.EventEmitter{constructor(e,t){super(),this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;var n;let r;if(e&&e.constructor==Object?t=e:e&&(r=e.toString()),t=px({debug:0,host:Yt.CLOUD_HOST,port:Yt.CLOUD_PORT,path:"/",key:Pa.DEFAULT_KEY,token:Yt.randomToken(),config:Yt.defaultConfig},t),this._options=t,typeof window<"u"&&this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Yt.CLOUD_HOST?this._options.secure=Yt.isSecure():this._options.host==Yt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&xe.setLogFunction(this._options.logFunction),xe.logLevel=this._options.debug||0,this._api=new bG(t),this._socket=this._createServerConnection(),this.features=Pa.getFeatures((n=this._options.polyfills)==null?void 0:n.WebRTC),!this.features.audioVideo&&!this.features.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(r&&!Yt.validateId(r)){this._delayedAbort("invalid-id",`ID "${r}" is invalid`);return}this.socket.alive=!0,r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort("server-error",i))}get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(let[t,n]of this._connections)e[t]=n;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}_createServerConnection(){const e=new mG(this._options);return e.on("message",t=>{this._handleMessage(t)}),e.on("error",t=>{this._abort("socket-error",t)}),e.on("disconnected",()=>{this.disconnected||(this.emitError("network","Lost connection to server."),this.disconnect())}),e.on("close",()=>{this.disconnected||this._abort("socket-closed","Underlying socket is already closed.")}),e}_initialize(e){this.destroyed||(this._id=e,this.socket.start(e,this._options.token))}_handleMessage(e){const t=e.type,n=e.payload,r=e.src;switch(t){case"OPEN":this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case"ERROR":this._abort("server-error",n.msg);break;case"ID-TAKEN":this._abort("unavailable-id",`ID "${this.id}" is taken`);break;case"INVALID-KEY":this._abort("invalid-key",`API KEY "${this._options.key}" is invalid`);break;case"LEAVE":xe.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case"EXPIRE":this.emitError("peer-unavailable",`Could not connect to peer ${r}`);break;case"OFFER":{const i=n.connectionId;let s=this.getConnection(r,i);if(s&&(s.close(),xe.warn(`Offer received for existing Connection ID:${i}`)),n.type==="media")s=new g1(r,this,{connectionId:i,_payload:n,metadata:n.metadata}),this._addConnection(r,s),this.emit("call",s);else if(n.type==="data")s=new Lg(r,this,{connectionId:i,_payload:n,metadata:n.metadata,label:n.label,serialization:n.serialization,reliable:n.reliable}),this._addConnection(r,s),this.emit("connection",s);else{xe.warn(`Received malformed connection type:${n.type}`);return}const o=this._getMessages(i);for(let a of o)s.handleMessage(a);break}default:{if(!n){xe.warn(`You received a malformed message from ${r} of type ${t}`);return}const i=n.connectionId,s=this.getConnection(r,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):xe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){const t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}const n=new Lg(e,this,t);return this._addConnection(e,n),n}call(e,t,n={}){if(this.disconnected){xe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){xe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}n._stream=t;const r=new g1(e,this,n);return this._addConnection(e,r),r}_addConnection(e,t){xe.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){const t=this._connections.get(e.peer);if(t){const n=t.indexOf(e);n!==-1&&(t.splice(n,1),t.length===0&&this._connections.delete(e.peer))}this._lostMessages.delete(e.connectionId)}getConnection(e,t){const n=this._connections.get(e);if(!n)return null;for(let r of n)if(r.connectionId===t)return r;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){xe.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}emitError(e,t){xe.error("Error:",t);let n;typeof t=="string"?n=new Error(t):n=t,n.type=e,this.emit("error",n)}destroy(){this.destroyed||(xe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this.socket.destroy(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const t=this._connections.get(e);if(t)for(let n of t)n.close()}disconnect(){if(this.disconnected)return;const e=this.id;xe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.alive=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)xe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this.socket.alive=!0,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)xe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=t=>{}){this._api.listAllPeers().then(t=>e(t)).catch(t=>this._abort("server-error",t))}static getFeatures(e){return!e&&typeof window<"u"&&(e=window),Pa._features||(Pa._features=Pa.checkFeatures(e)),Pa._features}static checkFeatures(e){!e&&typeof window<"u"&&(e=window);const t={webRTC:typeof e.RTCPeerConnection<"u",audioVideo:!0,data:!1,binaryBlob:!1,reliable:!1,unifiedPlan:!1};if(!t.webRTC)return t;let n;try{n=new e.RTCPeerConnection(Yt.defaultConfig);let r;try{r=n.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!0}catch{}}catch{}finally{r&&r.close()}}catch{}finally{n&&n.close()}return t.unifiedPlan=xG.isUnifiedPlanSupported(e),t}},_0=Pa;_0.DEFAULT_KEY="peerjs";typeof window<"u"&&(window.Peer=_0);class SG extends bo{constructor(){super(...arguments),this.name="PeerJS",this.peer=null,this.disconnect=()=>{var t;(t=this.peer)==null||t.disconnect()}}connect(t,n,r){this.peer=new _0(`allkaraoke-party-room-${t}`,n3),this.peer.on("open",function(i){n(),console.log("My peer ID is: "+i)}),this.peer.on("connection",i=>{i.on("data",s=>{this.onUpdate(s,i)}),i.on("error",s=>console.warn("error",s)),i.on("iceStateChanged",s=>{(s==="disconnected"||s==="closed")&&this.onUpdate({t:"unregister"},i)}),i.on("close",()=>{Je.removeRemoteMic(i.peer)})})}}const c3="wss://backend.allkaraoke.party";class wG extends bo{constructor(){super(),this.name="WebSockets",this.connection=null,this.disconnect=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r){this.connection=new WebSocket(c3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var i,s;(i=this.connection)==null||i.send(Cg({t:"register-room",id:t})),n(),(s=this.connection)==null||s.addEventListener("message",o=>{var l;const a=Bb(o.data);if(["ping","pong","freq"].includes((l=a==null?void 0:a.payload)==null?void 0:l.t)||console.log("received",a),a.t==="forward"){const{sender:c,payload:u}=a,d=new EG(c,this.connection);this.onUpdate(u,d)}})}}}class EG{constructor(t,n){this.peer=t,this.socket=n,this.send=r=>{const i={t:"forward",recipients:[this.peer],payload:r};["ping","pong","freq"].includes(r==null?void 0:r.t)||console.log("sending",this.peer,r),this.socket.send(Cg(i))},this.callbacksMap=new Map,this.on=(r,i)=>{r==="data"&&(this.callbacksMap.set(i,s=>{const o=Bb(s.data);if(o.t==="forward"){const{sender:a,payload:l}=o;a===this.peer&&i(l)}}),this.socket.addEventListener("message",this.callbacksMap.get(i)))},this.off=(r,i)=>{if(r==="data"){const s=this.callbacksMap.get(i);this.socket.removeEventListener("message",s),this.callbacksMap.delete(i)}},this.close=()=>{this.socket.close()}}}var u3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fo,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",p="year",g="date",m="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var P=["th","st","nd","rd"],T=U%100;return"["+U+(P[(T-20)%10]||P[T]||P[0])+"]"}},b=function(U,P,T){var z=String(U);return!z||z.length>=P?U:""+Array(P+1-z.length).join(T)+U},S={s:b,z:function(U){var P=-U.utcOffset(),T=Math.abs(P),z=Math.floor(T/60),O=T%60;return(P<=0?"+":"-")+b(z,2,"0")+":"+b(O,2,"0")},m:function U(P,T){if(P.date()<T.date())return-U(T,P);var z=12*(T.year()-P.year())+(T.month()-P.month()),O=P.clone().add(z,d),N=T-O<0,D=P.clone().add(z+(N?-1:1),d);return+(-(z+(T-O)/(N?O-D:D-O))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:h}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},x="en",w={};w[x]=y;var E="$isDayjsObject",I=function(U){return U instanceof Q||!(!U||!U[E])},L=function U(P,T,z){var O;if(!P)return x;if(typeof P=="string"){var N=P.toLowerCase();w[N]&&(O=N),T&&(w[N]=T,O=N);var D=P.split("-");if(!O&&D.length>1)return U(D[0])}else{var $=P.name;w[$]=P,O=$}return!z&&O&&(x=O),O||!z&&x},j=function(U,P){if(I(U))return U.clone();var T=typeof P=="object"?P:{};return T.date=U,T.args=arguments,new Q(T)},B=S;B.l=L,B.i=I,B.w=function(U,P){return j(U,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var Q=function(){function U(T){this.$L=L(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[E]=!0}var P=U.prototype;return P.parse=function(T){this.$d=function(z){var O=z.date,N=z.utc;if(O===null)return new Date(NaN);if(B.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var D=O.match(A);if(D){var $=D[2]-1||0,q=(D[7]||"0").substring(0,3);return N?new Date(Date.UTC(D[1],$,D[3]||1,D[4]||0,D[5]||0,D[6]||0,q)):new Date(D[1],$,D[3]||1,D[4]||0,D[5]||0,D[6]||0,q)}}return new Date(O)}(T),this.init()},P.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},P.$utils=function(){return B},P.isValid=function(){return this.$d.toString()!==m},P.isSame=function(T,z){var O=j(T);return this.startOf(z)<=O&&O<=this.endOf(z)},P.isAfter=function(T,z){return j(T)<this.startOf(z)},P.isBefore=function(T,z){return this.endOf(z)<j(T)},P.$g=function(T,z,O){return B.u(T)?this[z]:this.set(O,T)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(T,z){var O=this,N=!!B.u(z)||z,D=B.p(T),$=function(Ee,pe){var Ae=B.w(O.$u?Date.UTC(O.$y,pe,Ee):new Date(O.$y,pe,Ee),O);return N?Ae:Ae.endOf(c)},q=function(Ee,pe){return B.w(O.toDate()[Ee].apply(O.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(pe)),O)},ne=this.$W,V=this.$M,ce=this.$D,Z="set"+(this.$u?"UTC":"");switch(D){case p:return N?$(1,0):$(31,11);case d:return N?$(1,V):$(0,V+1);case u:var de=this.$locale().weekStart||0,we=(ne<de?ne+7:ne)-de;return $(N?ce-we:ce+(6-we),V);case c:case g:return q(Z+"Hours",0);case l:return q(Z+"Minutes",1);case a:return q(Z+"Seconds",2);case o:return q(Z+"Milliseconds",3);default:return this.clone()}},P.endOf=function(T){return this.startOf(T,!1)},P.$set=function(T,z){var O,N=B.p(T),D="set"+(this.$u?"UTC":""),$=(O={},O[c]=D+"Date",O[g]=D+"Date",O[d]=D+"Month",O[p]=D+"FullYear",O[l]=D+"Hours",O[a]=D+"Minutes",O[o]=D+"Seconds",O[s]=D+"Milliseconds",O)[N],q=N===c?this.$D+(z-this.$W):z;if(N===d||N===p){var ne=this.clone().set(g,1);ne.$d[$](q),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else $&&this.$d[$](q);return this.init(),this},P.set=function(T,z){return this.clone().$set(T,z)},P.get=function(T){return this[B.p(T)]()},P.add=function(T,z){var O,N=this;T=Number(T);var D=B.p(z),$=function(V){var ce=j(N);return B.w(ce.date(ce.date()+Math.round(V*T)),N)};if(D===d)return this.set(d,this.$M+T);if(D===p)return this.set(p,this.$y+T);if(D===c)return $(1);if(D===u)return $(7);var q=(O={},O[a]=r,O[l]=i,O[o]=n,O)[D]||1,ne=this.$d.getTime()+T*q;return B.w(ne,this)},P.subtract=function(T,z){return this.add(-1*T,z)},P.format=function(T){var z=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var N=T||"YYYY-MM-DDTHH:mm:ssZ",D=B.z(this),$=this.$H,q=this.$m,ne=this.$M,V=O.weekdays,ce=O.months,Z=O.meridiem,de=function(pe,Ae,qe,Ve){return pe&&(pe[Ae]||pe(z,N))||qe[Ae].slice(0,Ve)},we=function(pe){return B.s($%12||12,pe,"0")},Ee=Z||function(pe,Ae,qe){var Ve=pe<12?"AM":"PM";return qe?Ve.toLowerCase():Ve};return N.replace(v,function(pe,Ae){return Ae||function(qe){switch(qe){case"YY":return String(z.$y).slice(-2);case"YYYY":return B.s(z.$y,4,"0");case"M":return ne+1;case"MM":return B.s(ne+1,2,"0");case"MMM":return de(O.monthsShort,ne,ce,3);case"MMMM":return de(ce,ne);case"D":return z.$D;case"DD":return B.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return de(O.weekdaysMin,z.$W,V,2);case"ddd":return de(O.weekdaysShort,z.$W,V,3);case"dddd":return V[z.$W];case"H":return String($);case"HH":return B.s($,2,"0");case"h":return we(1);case"hh":return we(2);case"a":return Ee($,q,!0);case"A":return Ee($,q,!1);case"m":return String(q);case"mm":return B.s(q,2,"0");case"s":return String(z.$s);case"ss":return B.s(z.$s,2,"0");case"SSS":return B.s(z.$ms,3,"0");case"Z":return D}return null}(pe)||D.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(T,z,O){var N,D=this,$=B.p(z),q=j(T),ne=(q.utcOffset()-this.utcOffset())*r,V=this-q,ce=function(){return B.m(D,q)};switch($){case p:N=ce()/12;break;case d:N=ce();break;case h:N=ce()/3;break;case u:N=(V-ne)/6048e5;break;case c:N=(V-ne)/864e5;break;case l:N=V/i;break;case a:N=V/r;break;case o:N=V/n;break;default:N=V}return O?N:B.a(N)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return w[this.$L]},P.locale=function(T,z){if(!T)return this.$L;var O=this.clone(),N=L(T,z,!0);return N&&(O.$L=N),O},P.clone=function(){return B.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},U}(),M=Q.prototype;return j.prototype=M,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",p],["$D",g]].forEach(function(U){M[U[1]]=function(P){return this.$g(P,U[0],U[1])}}),j.extend=function(U,P){return U.$i||(U(P,Q,j),U.$i=!0),j},j.locale=L,j.isDayjs=I,j.unix=function(U){return j(1e3*U)},j.en=w[x],j.Ls=w,j.p={},j})})(u3);var kG=u3.exports;const Xi=lr(kG);function CG(e){return!!e}function TG(e){return[...Array(e).keys()]}const IG=250,ry=(e,t=0,n=1/0)=>e.filter(St).filter(r=>aa([r])>=t).filter(r=>ff([r])<=n).reduce((r,i)=>r+i.notes.reduce((s,o)=>s+o.length,0),0),PG=(e,t)=>{const[n,...r]=e.filter(St),i=[[n]];return r.forEach(s=>{const o=i.at(-1),a=ff(o);(aa([s])-a)*t>IG?i.push([s]):o.push(s)}),i},d3=(e,t)=>e+t,tC=e=>{const t=e.map(n=>n.reduce(d3,0));return Math.max(...t)-Math.min(...t)},RG=(e,t)=>{const n=JSON.parse(JSON.stringify(e)),r=s=>{if(n[s-1].length<2)return;const o=n[s-1].pop();n[s].push(o)},i=s=>{var l;if(((l=n[s+1])==null?void 0:l.length)<2)return;const[o,...a]=n[s+1];n[s].push(o),n[s+1]=a};return t%2===1?r(Math.ceil(t/2)):i(Math.ceil(t/2)),n},MG=e=>e.reduce(d3,0);function mx(e,t){const r=Su(t);if(e.sections.length<9)return[];const i=PG(e.sections,r);let s=[],o=[ry(i[0])];for(let a=0;a<i.length-2;a++){const l=i[s.flat().length-1]??[],u=ry(e.sections,ff(l)??0)/(10-s.length),d=ry(i[a+1]),h=MG(o);h+d<u?o=[...o,d]:u-h<h+d-u?(s.push(o),o=[d]):(s.push([...o,d]),o=[])}for(let a=0;a<100;a++){const l=tC(s),c=TG((s.length-2)*2+2).map(p=>RG(s,p)),u=c.map(tC),d=Math.min(...u);if(l<=d)break;const h=u.indexOf(d);s=c[h]}return s.map(a=>a.length).reduce((a,l)=>[...a,(a.at(-1)??0)+l],[]).map(a=>ff(i[a-1]))}var f3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fo,function(){function n(r){return typeof r=="string"?r.replace(/[^A-Za-z0-9]/g,function(i){return n.characters[i]||i}):r}return n.characters={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A",:"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY",:"B",:"B",:"B",:"B","":"B",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"DZ",:"DZ",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"E",:"E",:"E","":"ET",:"F",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H","":"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS",:"J","":"J",:"K",:"K",:"K","":"K","":"K",:"K",:"K",:"K","":"K","":"K",:"L","":"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L",:"L",:"L","":"L",:"L",:"L",:"LJ",:"M",:"M",:"M","":"M",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N",:"N",:"NJ",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"OI","":"OO",:"E",:"O",:"OU",:"P",:"P","":"P",:"P","":"P","":"P","":"P","":"Q","":"Q",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"C",:"E",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"ss",:"T",:"T",:"T",:"T","":"T",:"T",:"T",:"T",:"T",:"T",:"T","":"A","":"L",:"M","":"V","":"TZ",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"V",:"V",:"V",:"V","":"VY",:"W",:"W",:"W",:"W",:"W",:"W","":"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y",:"Y","":"Y",:"Y",:"YI",:"Z",:"Z",:"Z","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"TH",:"IJ",:"OE","":"A","":"AE",:"B","":"B","":"C","":"D","":"E","":"F",:"G",:"G",:"H",:"I",:"R","":"J","":"K",:"L","":"L","":"M",:"N","":"O",:"OE","":"O","":"OU","":"P",:"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W",:"Y","":"Z",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay",:"b",:"b",:"b",:"b","":"b","":"b",:"b",:"b",:"o",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c",:"d",:"d",:"d","":"d",:"d",:"d",:"d","":"d",:"d","":"d","":"d",:"d",:"d",:"d",:"d",:"i","":"j",:"j",:"j",:"dz",:"dz",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e","":"e","":"e",:"e",:"e","":"et",:"f",:"f","":"f","":"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g",:"g",:"h",:"h",:"h",:"h","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"hv",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"i",:"i",:"i",:"i",:"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is",:"j",:"j",:"j","":"j",:"k",:"k",:"k","":"k","":"k",:"k",:"k",:"k","":"k","":"k","":"k",:"l",:"l",:"l",:"l",:"l",:"l","":"l",:"l",:"l","":"l","":"l",:"l",:"l",:"l","":"l",:"l",:"l",:"lj",:"s","":"s",:"s","":"s",:"m",:"m",:"m",:"m","":"m","":"m",:"n",:"n",:"n",:"n","":"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"n",:"n",:"nj",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"oi","":"oo",:"e","":"e",:"o","":"o",:"ou",:"p",:"p","":"p",:"p","":"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r",:"r",:"r","":"r","":"r","":"r",:"r","":"c","":"c",:"e",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"g","":"o","":"o","":"u",:"t",:"t",:"t",:"t","":"t",:"t","":"t",:"t",:"t",:"t",:"t","":"t",:"t",:"t",:"t","":"th",:"a","":"ae",:"e","":"g",:"h","":"h","":"h","":"i",:"k","":"l",:"m",:"m","":"oe",:"r",:"r",:"r","":"r",:"t",:"v",:"w",:"y","":"tz",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"u",:"u",:"u",:"u",:"u","":"ue","":"um","":"v","":"v",:"v",:"v","":"v","":"v",:"v","":"vy",:"w",:"w",:"w",:"w",:"w",:"w","":"w",:"w",:"x",:"x","":"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y",:"y",:"y","":"y",:"y",:"yi",:"z",:"z",:"z",:"z","":"z",:"z",:"z",:"z",:"z","":"z","":"z",:"z",:"z","":"z",:"th",:"ff",:"ffi",:"ffl",:"fi",:"fl",:"ij",:"oe",:"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x",:"YO",:"I",:"TS",:"U",:"K",:"E",:"N",:"G",:"G",:"SH",:"SCH",:"Z",:"H",:"'",:"yo",:"i",:"ts",:"u",:"k",:"e",:"n",:"g",:"g",:"sh",:"sch",:"z",:"h",:"'",:"F",:"I",:"V",:"a",:"P",:"R",:"O",:"L",:"D",:"ZH",:"E",:"f",:"i",:"v",:"a",:"p",:"r",:"o",:"l",:"d",:"zh",:"e",:"Ya",:"CH",:"S",:"M",:"I",:"T",:"'",:"B",:"YU",:"ya",:"ch",:"s",:"m",:"i",:"t",:"'",:"b",:"yu"},n})})(f3);var jG=f3.exports;const OG=lr(jG),VG=/[^0-9a-z]/gi;function Xs(e){return h3(e).toLowerCase().normalize("NFKD").replace(VG,"")}function h3(e){return OG(e)}function p3(e){return h3(e).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+$/,"").replace(/^-+/,"").replace(/-+/g,"-")}function vx(e){return e.id?e.id:p3(`${e==null?void 0:e.artist}-${e==null?void 0:e.title}`)}const nC=(e,t,n)=>n>=e&&n<=t,rC=e=>e.notes.map(t=>t.lyrics).join(""),iC=e=>new Set(Xs(e)).size,LG=(e,t)=>{const n=e.reduce((i,s)=>`${i}${rC(s)}`,""),r=rC(t);return iC(n)/iC(r)<.5},NG=(e,t)=>{const n=t.start,r=hf(t),i=e.filter(o=>{const a=o.start,l=hf(o);return nC(n,r,a)||nC(n,r,l)||a<=n&&l>=r}),s=LG(i,t);return{section:t,shouldReplace:i.length===0||s,sectionsToRemove:i}};function g3(e,t){if(e){if(e.length===1)return e[0]}else return e;const n=e.map(o=>o.sections.filter(St)),r=n[1].map(o=>NG(n[0],o));let i=[...n[0]];r.forEach((o,a)=>{o.shouldReplace&&(i=i.filter(l=>!o.sectionsToRemove.some(c=>c.start===l.start)),i.push(o.section))});const s={...e[0],sections:i.sort((o,a)=>o.start-a.start),changes:[]};return s.changes=mx(s,t),s}const sC={R:"rap",F:"freestyle","*":"star",":":"normal",G:"rapstar"},K1e={rap:"R",freestyle:"F",star:"*",normal:":",rapstar:"G"},$G=["TRACKNAMES","YEAR","EDITION","GENRE","LANGUAGE","VIDEOGAP","PREVIEWSTART","CREATOR","TITLE","ARTIST","BPM","GAP","ID","LASTUPDATE","VOLUME","REALBPM","PREVIEWEND","CREATORURL","SOURCEURL","ARTISTORIGIN","VIDEOID","ALLKARAOKE_ID","ALLKARAOKE_LASTUPDATE","ALLKARAOKE_VOLUME","ALLKARAOKE_REALBPM","ALLKARAOKE_PREVIEWEND","ALLKARAOKE_CREATORURL","ALLKARAOKE_SOURCEURL","ALLKARAOKE_ARTISTORIGIN","ALLKARAOKE_VIDEOID"];function BG(e){return e.split(`
`).filter(t=>t.startsWith("#")&&!$G.includes(t.substring(1).split(":")[0]))}function Dt(e,t,n="string"){const r=i=>{var a;const s=new RegExp(`#${i}\\:(.*)`),o=(a=e.match(s))==null?void 0:a[1];if(o!==void 0)return n==="number"?Number(o.replace(",","."))??0:n==="array"?o.split(", "):o};return t.map(r).filter(CG).at(0)}function DG(e){var r;const t=Dt(e,["VIDEO"])??"",n=new RegExp("v=(.*?)(,|$)");return(r=t.match(n))==null?void 0:r[1]}const FG=/- -?\d+ -?\d+/;function Q1e(e){try{return new URL(e).searchParams.get("v")||!1}catch{return!1}}function zG(e,t){try{return JSON.parse(e)}catch{return t}}function UG(e){const t=Dt(e,["P1"]),n=Dt(e,["P2"]);return t||n?[t,n]:zG(Dt(e,["TRACKNAMES"]),[])}function HG(e,t,n,r,i){var p,g;const s=UG(e),o={year:Dt(e,["YEAR"]),artistOrigin:Dt(e,["ALLKARAOKE_ARTISTORIGIN","ARTISTORIGIN"]),lastUpdate:Dt(e,["ALLKARAOKE_LASTUPDATE","LASTUPDATE"]),edition:Dt(e,["EDITION"]),genre:Dt(e,["GENRE"]),videoGap:Dt(e,["VIDEOGAP"],"number"),realBpm:Dt(e,["ALLKARAOKE_REALBPM","REALBPM"],"number"),previewStart:Dt(e,["PREVIEWSTART"],"number"),previewEnd:Dt(e,["ALLKARAOKE_PREVIEWEND","PREVIEWEND"],"number"),volume:Dt(e,["ALLKARAOKE_VOLUME","VOLUME"],"number"),author:Dt(e,["CREATOR"])??n,authorUrl:Dt(e,["ALLKARAOKE_CREATORURL","CREATORURL"])??r,sourceUrl:Dt(e,["ALLKARAOKE_SOURCEURL","SOURCEURL"])??i};o.videoGap&&(o.videoGap=Math.floor(o.videoGap));const a=Dt(e,["TITLE"])??"",l=Dt(e,["ARTIST"])??"",c=Dt(e,["ALLKARAOKE_VIDEOID","VIDEOID"])??DG(e)??"",u={id:Dt(e,["ALLKARAOKE_ID","ID"])??vx({title:a,artist:l}),title:a,artist:l,video:c,language:Dt(e,["LANGUAGE"],"array")??[],bpm:Number(((p=Dt(e,["BPM"]))==null?void 0:p.replace(",","."))??0),bar:4,gap:Number(((g=Dt(e,["GAP"]))==null?void 0:g.replace(",","."))??0),...o,tracks:[],unsupportedProps:BG(e),mergedTrack:{}};if((t==null?void 0:t.length)===11)u.video=t;else if(t)try{const m=new URL(t);u.video=m.searchParams.get("v")||"Invalid link"}catch(m){u.video=`Invalid link: ${m.message}`}let d=[],h=0;return e.split(`
`).forEach(m=>{if(m.startsWith("#"))return;const A=m.split(" ");if(Number(A[1])<h*.75&&d.length&&(s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),d=[]),FG.test(m)){const[,v,y]=A;d.push({start:Number(v),end:Number(y),type:"pause"}),d.push({start:Number(y),type:"notes",notes:[]}),h=Number(y)}else if(m.startsWith("-"))d.push({start:Number(m.split("-")[1].trim()),notes:[],type:"notes"});else if(Object.keys(sC).includes(m[0])){d.length===0&&(d=[{start:0,notes:[],type:"notes"}]);const v=d[d.length-1],[y,b,S,x,...w]=A;v.notes.push({type:sC[y]??"normal",start:Number(b),length:Number(S),pitch:Number(x),lyrics:w.join(" ")}),h=Number(A[1])}}),s[u.tracks.length]?u.tracks.push({sections:d,name:s[u.tracks.length],changes:[]}):u.tracks.push({sections:d,changes:[]}),u.tracks=u.tracks.map(m=>({...m,sections:m.sections.filter(A=>A.type==="pause"||A.notes.length),changes:[]})).map(m=>({...m,changes:mx(m,u)})),u.mergedTrack=g3(u.tracks,u),u}const m3="CURRENT_VISIT_KEY",v3="LAST_VISIT_KEY",qG=3*60*60*1e3,b0=Date.now(),iy=Number(Oe.local.getItem(m3)??b0),y3=Oe.local.getItem("posthog-user-id")===null,GG=y3?b0:1673642382501;let A3=Number(Oe.local.getItem(v3)??GG);(y3||b0-iy>qG)&&(Oe.local.setItem(v3,String(iy)),A3=iy);Oe.local.setItem(m3,String(b0));const WG=e=>Xs(`${e.artist}${e.title}`),YG=({bar:e,unsupportedProps:t,mergedTrack:n,...r},i=!1)=>({...r,id:vx(r),language:Array.isArray(r.language)?r.language:[r.language],tracksCount:r.tracks.length,tracks:r.tracks.map(({name:s,sections:o})=>({name:s,start:aa(o)})),search:WG(r),local:i});let sy=null;const Po=()=>(sy||(sy=al.createInstance({name:"songs_v2"})),sy),Kh="DELETED_SONGS_V2";class KG{constructor(){this.finalIndex=null,this.indexWithDeletedSongs=null,this.store=async t=>{await Po().setItem(this.generateSongFile(t),{...t,lastUpdate:new Date().toISOString()}),await this.reloadIndex()},this.get=async t=>{const n=await this.getLocal(t);return n||await fetch(`/songs/${t}.txt`).then(r=>r.text()).then(HG)},this.getIndex=async(t=!1)=>(this.finalIndex===null&&await this.reloadIndex(),t?this.indexWithDeletedSongs:this.finalIndex),this.getCurrentIndex=()=>this.finalIndex,this.getDeletedSongsList=async()=>await Po().getItem(Kh)??[],this.generateSongFile=t=>vx(t),this.reloadIndex=async()=>{const[t,n,r]=await Promise.all([fetch("/songs/index.json").then(a=>a.json()),this.getLocalIndex(),this.getDeletedSongsList()]),i=Xi(A3),s=n.filter(a=>{const l=t.find(c=>c.id===a.id);return l?Xi(a.lastUpdate??0).isAfter(Xi(l.lastUpdate??0)):!0}),o=s.map(a=>a.id);n.forEach(a=>{o.includes(a.id)||Po().removeItem(a.id)}),this.indexWithDeletedSongs=[...s,...t.filter(a=>!o.includes(this.generateSongFile(a)))].map(a=>({...a,isNew:a.lastUpdate?Xi(a.lastUpdate).isAfter(i):!1,isDeleted:r==null?void 0:r.includes(this.generateSongFile(a))})),this.indexWithDeletedSongs.sort((a,l)=>`${a.artist} ${a.title}`.localeCompare(`${l.artist} ${l.title}`.toLowerCase())),this.finalIndex=this.indexWithDeletedSongs.filter(a=>!a.isDeleted)},this.deleteSong=async t=>(await Po().removeItem(t),this.reloadIndex()),this.softDeleteSong=async t=>{const n=await this.getDeletedSongsList();return await Po().setItem(Kh,[...new Set([...n,t])]),this.reloadIndex()},this.restoreSong=async t=>{const n=await this.getDeletedSongsList();return await Po().setItem(Kh,n.filter(r=>r!==t)),this.reloadIndex()},this.getLocal=async t=>{const n=await Po().getItem(decodeURIComponent(t));return n&&n.tracks?{...n,language:Array.isArray(n.language)?n.language:[n.language],mergedTrack:g3(n.tracks,n),tracks:n.tracks.map(r=>({...r,changes:mx(r,n)}))}:null},this.getLocalIndex=async()=>(await Promise.all((await this.getKeys()).map(this.getLocal))).filter(n=>n!==null).map(n=>{try{return YG(n,!0)}catch(r){return console.error(r),null}}).filter(n=>n!==null),this.getKeys=async()=>{const t=[Kh];return(await Po().keys()).filter(n=>!t.includes(n))}}}const $s=new KG,oC="room_id_key",Gp=5;class QG{constructor(){var t;if(this.gameCode=Oe.session.getItem(oC),this.started=!1,this.start=()=>{this.transport||(this.transport=Tg.get()?new wG:new SG),!this.started&&(this.started=!0,console.log("connection started",this.getGameCode()),Oe.session.setItem(oC,this.gameCode),this.transport.connect(this.getGameCode(),()=>{this.transport.addListener((n,r)=>{var s;const i=n.t;if(i==="register")Je.addRemoteMic(n.id,n.name,r,n.silent,n.lag);else if(i==="unregister")Je.removeRemoteMic(r.peer,!0);else if(i==="subscribe-event")Je.addSubscription(r.peer,n.channel);else if(i==="unsubscribe-event")Je.removeSubscription(r.peer,n.channel);else if(i==="ping")r.send({t:"pong"});else if(i==="pong")(s=Je.getRemoteMicById(r.peer))==null||s.onPong();else if(i==="request-songlist")Promise.all([$s.getLocalIndex(),$s.getDeletedSongsList()]).then(([o,a])=>{r.send({t:"songlist",custom:o.map(l=>({artist:l.artist,title:l.title,video:l.video,language:l.language})),deleted:a})});else if(i==="get-microphone-lag-request"){const o=Je.getRemoteMicById(r.peer);o&&r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()})}else if(i==="set-microphone-lag-request"){const o=Je.getRemoteMicById(r.peer);o&&(o.getInput().setInputLag(n.value),r.send({t:"get-microphone-lag-response",value:o.getInput().getInputLag()}))}else Je.getPermission(r.peer)==="write"&&(i==="keystroke"?te.remoteKeyboardPressed.dispatch(n.key):i==="search-song"?te.remoteSongSearch.dispatch(n.search):i==="request-mic-select"?te.playerChangeRequested.dispatch(n.id,n.playerNumber):i==="get-game-input-lag-request"?r.send({t:"get-game-input-lag-response",value:Id.get()}):i==="set-game-input-lag-request"&&(Id.set(n.value),r.send({t:"get-game-input-lag-response",value:Id.get()})))})},()=>{this.started=!1}))},this.getGameCode=()=>(Tg.get()?"w":"p")+this.gameCode,!this.gameCode){this.gameCode="";for(let n=0;n<Gp-1;n++)this.gameCode+=String.fromCharCode(Math.floor(Math.random()*26)+97)}(t=global==null?void 0:global.addEventListener)==null||t.call(global,"beforeunload",()=>{var n;Je.getRemoteMics().forEach(r=>r.connection.close()),(n=this.transport)==null||n.disconnect()})}}const Ng=new QG,cl=e=>`${e.deviceId};${e.channel}`,aC=[{channels:2,channel:1,label:"Drawing Test Input",id:cl({deviceId:"default",channel:1}),deviceId:"default"}],Na=class Na{};Na.inputName="DrawingTest",Na.getDefault=()=>aC[0],Na.getInputs=async()=>aC,Na.subscribeToListChange=t=>{},Na.unsubscribeToListChange=t=>{};let v1=Na;const lC=[{channels:2,channel:0,label:"Dummy Input 1",id:cl({deviceId:"default",channel:0}),deviceId:"default"},{channels:2,channel:1,label:"Dummy Input 2",id:cl({deviceId:"default",channel:1}),deviceId:"default"}],$a=class $a{};$a.inputName="Dummy",$a.getDefault=()=>lC[0],$a.getInputs=async()=>lC,$a.subscribeToListChange=t=>{},$a.unsubscribeToListChange=t=>{};let $g=$a;var JG=Math.ceil,XG=Math.max;function ZG(e,t,n,r){for(var i=-1,s=XG(JG((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}var eW=9007199254740991;function yx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eW}function Ax(e){return e!=null&&yx(e.length)&&!e3(e)}var tW=9007199254740991,nW=/^(?:0|[1-9]\d*)$/;function _x(e,t){var n=typeof e;return t=t??tW,!!t&&(n=="number"||n!="symbol"&&nW.test(e))&&e>-1&&e%1==0&&e<t}function _3(e,t,n){if(!as(n))return!1;var r=typeof t;return(r=="number"?Ax(n)&&_x(t,n.length):r=="string"&&t in n)?p0(n[t],e):!1}var cC=1/0,rW=17976931348623157e292;function Wp(e){if(!e)return e===0?e:0;if(e=p1(e),e===cC||e===-cC){var t=e<0?-1:1;return t*rW}return e===e?e:0}function iW(e){return function(t,n,r){return r&&typeof r!="number"&&_3(t,n,r)&&(n=r=void 0),t=Wp(t),n===void 0?(n=t,t=0):n=Wp(n),r=r===void 0?t<n?1:-1:Wp(r),ZG(t,n,r,e)}}var sW=iW();const y1={test:e=>e.toLowerCase().includes("wireless mic #")||e.toLowerCase().includes("sony wireless singstar"),map:(e,t)=>`SingStar Wireless - ${t===0?"Blue":"Red"}`},A1={test:e=>e.toLowerCase().includes("usbmic serial#")||e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Wired - ${t===0?"Blue":"Red"}`},_1={test:(e,t,n)=>n===2&&e.toLowerCase().includes("singstar"),map:(e,t)=>`SingStar Mic - ${t===0?"Blue":"Red"}`},oW=(...[e,t,n])=>A1.test(e,t,n)||y1.test(e,t,n)||_1.test(e,t,n)?t:void 0,aW=(e,t,n)=>y1.test(e,t,n)?y1.map(e,t):A1.test(e,t,n)?A1.map(e,t):_1.test(e,t,n)?_1.map(e,t):n>1?`${e} (ch ${t+1})`:e,ci=class ci{};ci.inputList=[],ci.inputName="Microphone",ci.getDefault=()=>ci.inputList.find(t=>t.id===cl({deviceId:"default",channel:0}))??ci.inputList[0]??null,ci.getInputs=async()=>{let t=[];try{await Xo.getUserMedia({audio:!0,video:!1}),t=await Xo.enumerateDevices()}catch(r){Ls(r,{level:"warning",extra:{message:"Microphone.getInputs"}}),console.warn(r)}const n=await Promise.all(t.filter(r=>r.kind==="audioinput").map(async r=>{let i=1;try{i=(await Xo.getUserMedia({audio:{deviceId:{exact:r.deviceId},echoCancellation:{exact:!1}},video:!1})).getAudioTracks()[0].getSettings().channelCount??1}catch(s){console.warn(s)}return sW(0,i).map(s=>({label:aW(r.label,s,i),channel:s,channels:i,deviceId:r.deviceId,id:cl({deviceId:r.deviceId,channel:s}),preferred:oW(r.label,s,i)}))}));return ci.inputList=n.flat(),ci.inputList},ci.subscribeToListChange=t=>navigator.mediaDevices.addEventListener("devicechange",t),ci.unsubscribeToListChange=t=>navigator.mediaDevices.removeEventListener("devicechange",t);let io=ci;const uC=e=>({label:`${e.name}`,id:cl({deviceId:e.id,channel:0}),deviceId:e.id,channels:1,channel:0}),Ba=class Ba{};Ba.inputName="Remote Microphone",Ba.getDefault=()=>Je.getRemoteMics().map(uC)[0]??null,Ba.getInputs=async()=>Je.getRemoteMics().map(uC),Ba.subscribeToListChange=t=>{te.remoteMicConnected.subscribe(t),te.remoteMicDisconnected.subscribe(t)},Ba.unsubscribeToListChange=t=>{te.remoteMicConnected.unsubscribe(t),te.remoteMicDisconnected.unsubscribe(t)};let co=Ba;const lW=e=>`${e.deviceId};${e.channel}`;class cW{constructor(){this.initialiseInputSource=(t,n=!1)=>(n||t.getInputs().then(r=>{this.inputList[t.inputName].list=r,te.inputListChanged.dispatch(!0),t.subscribeToListChange(async()=>{this.inputList[t.inputName].list=await t.getInputs(),te.inputListChanged.dispatch(!1)})}),{list:[],getDefault:t.getDefault}),this.loadMics=()=>{this.inputList.Microphone.list.length||(this.inputList.Microphone=this.initialiseInputSource(io))},this.getInputList=()=>this.inputList,this.getInputForPlayerSelected=(t,n=!0)=>{const r=this.inputList[t.source];return r.list.find(i=>i.id===lW(t))??(n?r.getDefault():null)},this.inputList={[io.inputName]:this.initialiseInputSource(io,!0),[$g.inputName]:this.initialiseInputSource($g),[co.inputName]:this.initialiseInputSource(co)}}}const uo=new cW,dC="playerselectedinputs",Bg=4,jm=class jm{constructor(t,n,r){this.number=t,this.input=n,this.name=r,this.nameOverride="",this.changeInput=(i,s=0,o)=>{let a=null;sn.monitoringStarted()&&(a=sn.stopMonitoring());const l={source:i,deviceId:o,channel:s},c=this.input;this.input=l,te.playerInputChanged.dispatch(this.number,c,l),a&&a.then(sn.startMonitoring)},this.toJSON=()=>({number:this.number,input:this.input,name:this.name}),this.getName=()=>this.nameOverride||(this.name??`Player #${this.number+1}`),this.isDefaultName=()=>this.name===void 0,this.setName=i=>{const s=this.name;this.name=i,te.playerNameChanged.dispatch(this.number,s)}}};jm.fromJSON=t=>new jm(t.number,t.input,t.name);let oc=jm;class uW{constructor(){this.minPlayerNumber=2,this.players=[],this.requestingPromise=null,this.storePlayers=()=>{Oe.session.setItem(dC,this.getPlayers().map(n=>n.toJSON()))},this.requestReadiness=async()=>(this.requestingPromise||(this.requestingPromise=new Promise(n=>{const r=async()=>{!this.getPlayers().filter(s=>s.input.source==="Remote Microphone").some(s=>uo.getInputForPlayerSelected(s.input,!1)===null)&&(await Promise.all(this.getPlayers().map(s=>sn.sourceNameToInput(s.input.source).requestReadiness(s.input.deviceId).then(()=>{te.readinessConfirmed.dispatch(s.input.deviceId)}))),te.inputListChanged.unsubscribe(r),this.requestingPromise=null,n(!0))};te.inputListChanged.subscribe(r),r()})),this.requestingPromise),this.getPlayers=()=>this.players,this.getPlayer=n=>this.players.find(r=>r.number===n),this.getMinPlayerNumber=()=>this.minPlayerNumber,this.setMinPlayerNumber=n=>{const r=this.minPlayerNumber;this.minPlayerNumber=n,te.minPlayerNumberChanged.dispatch(r,n)},this.addPlayer=n=>{if(je.isPlaying()||this.getPlayer(n))return;const r=new oc(n,{source:"Dummy",deviceId:"default",channel:0});return this.players.push(r),this.storePlayers(),te.playerAdded.dispatch(r.number),te.playerInputChanged.dispatch(r.number,void 0,r.input),r},this.removePlayer=n=>{if(je.isPlaying())return;const r=this.getPlayer(n);r&&(this.players=this.players.filter(i=>i.number!==n),this.players.length<this.minPlayerNumber&&this.addPlayer(new Array(Bg).fill(0).find((i,s)=>!this.players.find(o=>o.number===s))),this.storePlayers(),te.playerRemoved.dispatch(r))},this.getInputs=()=>this.getPlayers().map(n=>n.input);const t=Oe.session.getItem(dC)??[];t.length?(this.players=t.map(oc.fromJSON),this.getPlayers().some(n=>n.input.source==="Microphone")&&uo.loadMics(),this.getPlayers().some(n=>n.input.source==="Remote Microphone")&&Ng.start()):this.players=[new oc(0,{source:"Dummy",deviceId:"default",channel:0}),new oc(1,{source:"Dummy",deviceId:"default",channel:1})],te.playerInputChanged.subscribe((n,r,i)=>{const s=this.getPlayer(n);if(!(!i||!s)){if(i.source==="Remote Microphone"){const o=Je.getRemoteMicById(i.deviceId);o&&(s.nameOverride=o.name)}else s.nameOverride="";this.storePlayers()}}),te.playerNameChanged.subscribe(Q5(this.storePlayers,1e3)),te.remoteMicConnected.subscribe(({id:n,name:r})=>{this.getPlayers().forEach(i=>{i.input.source==="Remote Microphone"&&i.input.deviceId===n&&i.getName()!==r&&(i.nameOverride=r)})})}}const Re=new uW;class dW{constructor(){this.isMonitoring=!1,this.getInputStatus=t=>{const n=Re.getPlayer(t);return n?this.sourceNameToInput(n.input.source).getStatus(n.input.deviceId,n.input.channel):"unavailable"},this.getPlayerFrequency=t=>{var i;const n=(i=Re.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getFrequencies(n.deviceId)[n.channel]:0},this.clearPlayerCachedFrequencies=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;if(!n)return 0;this.sourceNameToInput(n.source).clearFrequencies(n.deviceId)},this.getPlayerVolume=t=>{var i;const n=(i=Re.getPlayer(t))==null?void 0:i.input;return n?this.sourceNameToInput(n.source).getVolumes(n.deviceId)[n.channel]:0},this.getPlayerInputLag=t=>{var r;const n=(r=Re.getPlayer(t))==null?void 0:r.input;return n?this.sourceNameToInput(n.source).getInputLag(n.deviceId):0},this.startMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).startMonitoring(t.input.deviceId))),this.isMonitoring=!0},this.stopMonitoring=async()=>{await Promise.all(Re.getPlayers().map(t=>this.sourceNameToInput(t.input.source).stopMonitoring(t.input.deviceId))),this.isMonitoring=!1},this.monitoringStarted=()=>this.isMonitoring,this.sourceNameToInput=t=>t===io.inputName?CH:t===v1.inputName?o8:t===co.inputName?IH:l8,te.inputListChanged.subscribe(async()=>{this.isMonitoring&&(await this.stopMonitoring(),this.startMonitoring())})}}const sn=new dW;function b3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=b3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ho(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=b3(e))&&(r&&(r+=" "),r+=t);return r}const Od=e=>typeof e=="number"&&!isNaN(e),ul=e=>typeof e=="string",Cr=e=>typeof e=="function",Yp=e=>ul(e)||Cr(e)?e:null,oy=e=>_.isValidElement(e)||ul(e)||Cr(e)||Od(e);function fW(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function x0(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=o;const p=r?`${t}--${l}`:t,g=r?`${n}--${l}`:n,m=_.useRef(0);return _.useLayoutEffect(()=>{const A=d.current,v=p.split(" "),y=b=>{b.target===d.current&&(A.dispatchEvent(new Event("d")),A.removeEventListener("animationend",y),A.removeEventListener("animationcancel",y),m.current===0&&b.type!=="animationcancel"&&A.classList.remove(...v))};A.classList.add(...v),A.addEventListener("animationend",y),A.addEventListener("animationcancel",y)},[]),_.useEffect(()=>{const A=d.current,v=()=>{A.removeEventListener("animationend",v),i?fW(A,u,s):u()};h||(c?v():(m.current=1,A.className+=` ${g}`,A.addEventListener("animationend",v)))},[h]),Pe.createElement(Pe.Fragment,null,a)}}function fC(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const fi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Qh=e=>{let{theme:t,type:n,...r}=e;return Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},ay={info:function(e){return Pe.createElement(Qh,{...e},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Pe.createElement(Qh,{...e},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Pe.createElement(Qh,{...e},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Pe.createElement(Qh,{...e},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pe.createElement("div",{className:"Toastify__spinner"})}};function hW(e){const[,t]=_.useReducer(p=>p+1,0),[n,r]=_.useState([]),i=_.useRef(null),s=_.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=_.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:g}=p;const{limit:m}=a.props;!m||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function c(p){r(g=>p==null?[]:g.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:g,staleId:m}=a.queue.shift();h(p,g,m)}function d(p,g){let{delay:m,staleId:A,...v}=g;if(!oy(p)||function(Q){return!i.current||a.props.enableMultiContainer&&Q.containerId!==a.props.containerId||s.has(Q.toastId)&&Q.updateId==null}(v))return;const{toastId:y,updateId:b,data:S}=v,{props:x}=a,w=()=>c(y),E=b==null;E&&a.count++;const I={...x,style:x.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(v).filter(Q=>{let[M,U]=Q;return U!=null})),toastId:y,updateId:b,data:S,closeToast:w,isIn:!1,className:Yp(v.className||x.toastClassName),bodyClassName:Yp(v.bodyClassName||x.bodyClassName),progressClassName:Yp(v.progressClassName||x.progressClassName),autoClose:!v.isLoading&&(L=v.autoClose,j=x.autoClose,L===!1||Od(L)&&L>0?L:j),deleteToast(){const Q=fC(s.get(y),"removed");s.delete(y),fi.emit(4,Q);const M=a.queue.length;if(a.count=y==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const U=y==null?a.props.limit:1;if(M===1||U===1)a.displayedToast++,u();else{const P=U>M?M:U;a.displayedToast=P;for(let T=0;T<P;T++)u()}}else t()}};var L,j;I.iconOut=function(Q){let{theme:M,type:U,isLoading:P,icon:T}=Q,z=null;const O={theme:M,type:U};return T===!1||(Cr(T)?z=T(O):_.isValidElement(T)?z=_.cloneElement(T,O):ul(T)||Od(T)?z=T:P?z=ay.spinner():(N=>N in ay)(U)&&(z=ay[U](O))),z}(I),Cr(v.onOpen)&&(I.onOpen=v.onOpen),Cr(v.onClose)&&(I.onClose=v.onClose),I.closeButton=x.closeButton,v.closeButton===!1||oy(v.closeButton)?I.closeButton=v.closeButton:v.closeButton===!0&&(I.closeButton=!oy(x.closeButton)||x.closeButton);let B=p;_.isValidElement(p)&&!ul(p.type)?B=_.cloneElement(p,{closeToast:w,toastProps:I,data:S}):Cr(p)&&(B=p({closeToast:w,toastProps:I,data:S})),x.limit&&x.limit>0&&a.count>x.limit&&E?a.queue.push({toastContent:B,toastProps:I,staleId:A}):Od(m)?setTimeout(()=>{h(B,I,A)},m):h(B,I,A)}function h(p,g,m){const{toastId:A}=g;m&&s.delete(m);const v={content:p,props:g};s.set(A,v),r(y=>[...y,A].filter(b=>b!==m)),fi.emit(4,fC(v,v.props.updateId==null?"added":"updated"))}return _.useEffect(()=>(a.containerId=e.containerId,fi.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),fi.emit(3,a)}),[]),_.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const g=new Map,m=Array.from(s.values());return e.newestOnTop&&m.reverse(),m.forEach(A=>{const{position:v}=A.props;g.has(v)||g.set(v,[]),g.get(v).push(A)}),Array.from(g,A=>p(A[0],A[1]))},containerRef:i,isToastActive:o}}function hC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function pC(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function pW(e){const[t,n]=_.useState(!1),[r,i]=_.useState(!1),s=_.useRef(null),o=_.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=_.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function p(S){if(e.draggable){S.nativeEvent.type==="touchstart"&&S.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=x.getBoundingClientRect(),x.style.transition="",o.x=hC(S.nativeEvent),o.y=pC(S.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(S){if(o.boundingRect){const{top:x,bottom:w,left:E,right:I}=o.boundingRect;S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=E&&o.x<=I&&o.y>=x&&o.y<=w?A():m()}}function m(){n(!0)}function A(){n(!1)}function v(S){const x=s.current;o.canDrag&&x&&(o.didMove=!0,t&&A(),o.x=hC(S),o.y=pC(S),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),x.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();S.style.transition="transform 0.2s, opacity 0.2s",S.style.transform=`translate${e.draggableDirection}(0)`,S.style.opacity="1"}}_.useEffect(()=>{a.current=e}),_.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),Cr(e.onOpen)&&e.onOpen(_.isValidElement(e.children)&&e.children.props),()=>{const S=a.current;Cr(S.onClose)&&S.onClose(_.isValidElement(S.children)&&S.children.props)}),[]),_.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||A(),window.addEventListener("focus",m),window.addEventListener("blur",A)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",A))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:g,onTouchEnd:g};return l&&c&&(b.onMouseEnter=A,b.onMouseLeave=m),h&&(b.onClick=S=>{d&&d(S),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:A,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:b}}function x3(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gW(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=e;const p=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(g.transform=`scaleX(${c})`);const m=Ho("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),A=Cr(o)?o({rtl:u,type:i,defaultClassName:m}):Ho(m,o);return Pe.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:A,style:g,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const mW=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=pW(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:h,position:p,className:g,style:m,bodyClassName:A,bodyStyle:v,progressClassName:y,progressStyle:b,updateId:S,role:x,progress:w,rtl:E,toastId:I,deleteToast:L,isIn:j,isLoading:B,iconOut:Q,closeOnClick:M,theme:U}=e,P=Ho("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":M}),T=Cr(g)?g({rtl:E,position:p,type:c,defaultClassName:P}):Ho(P,g),z=!!w||!a,O={closeToast:d,type:c,theme:U};let N=null;return s===!1||(N=Cr(s)?s(O):_.isValidElement(s)?_.cloneElement(s,O):x3(O)),Pe.createElement(h,{isIn:j,done:L,position:p,preventExitTransition:n,nodeRef:r},Pe.createElement("div",{id:I,onClick:l,className:T,...i,style:m,ref:r},Pe.createElement("div",{...j&&{role:x},className:Cr(A)?A({type:c}):Ho("Toastify__toast-body",A),style:v},Q!=null&&Pe.createElement("div",{className:Ho("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},Q),Pe.createElement("div",null,o)),N,Pe.createElement(gW,{...S&&!z?{key:`pb-${S}`}:{},rtl:E,theme:U,delay:a,isRunning:t,isIn:j,closeToast:d,hide:u,type:c,style:b,className:y,controlledProgress:z,progress:w||0})))},S0=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},vW=x0(S0("bounce",!0));x0(S0("slide",!0));x0(S0("zoom"));x0(S0("flip"));const b1=_.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=hW(e),{className:s,style:o,rtl:a,containerId:l}=e;function c(u){const d=Ho("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return Cr(s)?s({position:u,rtl:a,defaultClassName:d}):Ho(d,Yp(s))}return _.useEffect(()=>{t&&(t.current=r.current)},[]),Pe.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const h=d.length?{...o}:{...o,pointerEvents:"none"};return Pe.createElement("div",{className:c(u),style:h,key:`container-${u}`},d.map((p,g)=>{let{content:m,props:A}=p;return Pe.createElement(mW,{...A,isIn:i(A.toastId),style:{...A.style,"--nth":g+1,"--len":d.length},key:`toast-${A.key}`},m)}))}))});b1.displayName="ToastContainer",b1.defaultProps={position:"top-right",transition:vW,autoClose:5e3,closeButton:x3,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ly,Ra=new Map,pd=[],yW=1;function S3(){return""+yW++}function AW(e){return e&&(ul(e.toastId)||Od(e.toastId))?e.toastId:S3()}function Vd(e,t){return Ra.size>0?fi.emit(0,e,t):pd.push({content:e,options:t}),t.toastId}function Dg(e,t){return{...t,type:t&&t.type||e,toastId:AW(t)}}function Jh(e){return(t,n)=>Vd(t,Dg(e,n))}function Et(e,t){return Vd(e,Dg("default",t))}Et.loading=(e,t)=>Vd(e,Dg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Et.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=ul(i)?Et.loading(i,n):Et.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Et.dismiss(r);const p={type:u,...a,...n,data:h},g=ul(d)?{render:d}:d;return r?Et.update(r,{...p,...g}):Et(g.render,{...p,...g}),h},c=Cr(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},Et.success=Jh("success"),Et.info=Jh("info"),Et.error=Jh("error"),Et.warning=Jh("warning"),Et.warn=Et.warning,Et.dark=(e,t)=>Vd(e,Dg("default",{theme:"dark",...t})),Et.dismiss=e=>{Ra.size>0?fi.emit(1,e):pd=pd.filter(t=>e!=null&&t.options.toastId!==e)},Et.clearWaitingQueue=function(e){return e===void 0&&(e={}),fi.emit(5,e)},Et.isActive=e=>{let t=!1;return Ra.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Et.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=Ra.get(s||ly);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:S3()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Vd(o,s)}},0)},Et.done=e=>{Et.update(e,{progress:1})},Et.onChange=e=>(fi.on(4,e),()=>{fi.off(4,e)}),Et.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Et.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},fi.on(2,e=>{ly=e.containerId||e,Ra.set(ly,e),pd.forEach(t=>{fi.emit(0,t.content,t.options)}),pd=[]}).on(3,e=>{Ra.delete(e.containerId||e),Ra.size===0&&fi.off(0).off(1).off(5)});te.playerRemoved.subscribe(e=>{if(e.input.source===co.inputName){const t=Je.getRemoteMicById(e.input.deviceId);t&&t.setPlayerNumber(null)}});te.playerInputChanged.subscribe((e,t,n)=>{var r;if((t==null?void 0:t.source)===co.inputName){const i=(r=Re.getPlayers().find(o=>o.input.source==="Remote Microphone"&&o.input.deviceId===t.deviceId))==null?void 0:r.number,s=Je.getRemoteMicById(t.deviceId);s==null||s.setPlayerNumber(i!==void 0?i:null)}if((n==null?void 0:n.source)==="Remote Microphone"){const i=Je.getRemoteMicById(n.deviceId);i==null||i.setPlayerNumber(e)}});te.remoteMicConnected.subscribe(({id:e})=>{var n,r;const t=(n=Re.getPlayers().find(i=>i.input.source==="Remote Microphone"&&i.input.deviceId===e))==null?void 0:n.number;if(t!==void 0){const i=Je.getRemoteMicById(e);i==null||i.setPlayerNumber(t),sn.monitoringStarted()&&((r=i==null?void 0:i.getInput())==null||r.startMonitoring())}});te.playerChangeRequested.subscribe((e,t)=>{var r;const n=Re.getPlayers().find(i=>i.input.deviceId===e);if(n&&Re.removePlayer(n.number),t!==null){const i=Re.getPlayer(t);i?i.changeInput("Remote Microphone",0,e):(r=Re.addPlayer(t))==null||r.changeInput("Remote Microphone",0,e)}});te.remoteMicConnected.subscribe(({name:e,silent:t})=>{t||Et.success(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," connected!"]}))});te.remoteMicDisconnected.subscribe(({name:e},t)=>{t||Et.warning(f.jsxs(f.Fragment,{children:["Remote microphone ",f.jsx("b",{className:"ph-no-capture",children:e})," disconnected!"]}))});const bx=()=>{const e=Je.getRemoteMics().map(t=>{var n;return{id:t.id,name:t.name,number:((n=Re.getPlayers().find(r=>r.input.deviceId===t.id))==null?void 0:n.number)??null}});Je.broadcastToChannel("remote-mics",{t:"remote-mics-list",list:e})};te.inputListChanged.subscribe(bx);te.playerInputChanged.subscribe(bx);te.remoteMicSubscribed.subscribe(bx);const w3=e=>({artist:t,title:n,id:r,lastUpdate:i},s,o=[],a)=>{var u;const l=o.length>1&&o.every(d=>d.score===o[0].score),c={};if(Re.getPlayers().forEach((d,h)=>c[`input${h}`]=d.input.source),e==="songEnded")try{const d=(u=je.getPlayer(0))==null?void 0:u.getPlayerNotes().filter(p=>Vg(p)===0).map(p=>p.frequencyRecords).flat().map(p=>[p.timestamp,p.frequency]).map((p,g,m)=>{var A,v;return[p[0]-(((A=m[g-1])==null?void 0:A[0])??0),p[1]-(((v=m[g-1])==null?void 0:v[1])??0)]}).map(p=>[Math.round(p[0]*100),Math.round(p[1]*100)]).map(p=>p[1]===0?p[0]:p),h=dj(d);console.log("compressed",h)}catch(d){Ls(d)}kn.capture(e,{songId:r,songLastUpdated:i,name:`${t} - ${n}`,artist:t,title:n,mode:s.mode,tolerance:s.tolerance,players:s.players.length,tracks:s.players.map(d=>d.track),progress:a??null,singId:s.id,sameScores:l,mobilePhoneMode:!!Zn.get(),...c,...o.reduce((d,h,p)=>({...d,[`score${p}`]:h.score}),{}),...s.players.reduce((d,h,p)=>({...d,[`track${p}`]:h.track}),{})})};te.songStarted.subscribe(w3("songStarted"));te.songEnded.subscribe(w3("songEnded"));const Xc=e=>$s.generateSongFile(e),E3=async e=>{const t=Xc(e);return await al.getItem(t)||{plays:0,scores:[]}},k3=async(e,t)=>{await al.setItem(Xc(e),t)},_W=async()=>{const e=await al.keys(),t={};return await Promise.all(e.map(async n=>{t[n]=await al.getItem(n)})),t};te.songEnded.subscribe(async(e,t,n,r)=>{if(n.every(o=>o.score===0))return;let i=await al.getItem(Xc(e));const s={setup:t,scores:n,date:new Date().toISOString(),progress:r};i?(i.scores=[...(i==null?void 0:i.scores)??[],s],i.plays=i.scores.length):i={plays:1,scores:[s]},await k3(e,i),te.songStatStored.dispatch(Xc(e),i)});const Zc="session-player-names",bW="previous-player-names";function xW(e){return e!=null}te.songStarted.subscribe((e,t)=>{let n=JSON.parse(Oe.session.getItem(Zc))||[];const r=t.players.map(({number:s})=>Re.getPlayer(s)).filter(xW).map(s=>s.getName().trim()),i=[...n].concat(...r);n=[...new Set(i)].filter(Boolean),Oe.session.setItem(Zc,JSON.stringify(n)),Oe.session.setItem(bW,JSON.stringify(r))});te.songScoreUpdated.subscribe((e,t,n)=>{let r=JSON.parse(Oe.session.getItem(Zc))||[];const i=[...r].concat(n);r=[...new Set(i)].filter(Boolean),Oe.session.setItem(Zc,JSON.stringify(r))});function SW(e,t){const n=t<0?e.length+t:t;return e[n]}[].at||(Array.prototype.at=function(e){return SW(this,e)});[].findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let n=this.length-1;n>=0;n--)if(e.call(t,this[n],n,this))return n;return-1});var wW="Expected a function";function Rc(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(wW);return as(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Q5(e,t,{leading:r,maxWait:t,trailing:i})}class EW extends bo{constructor(){super(...arguments),this.stream=null,this.context=null,this.interval=null,this.frequencies=[0,0],this.volumes=[0,0],this.startedMonitoring=!1,this.startMonitoring=async(t,n=!1)=>{if(!this.startedMonitoring){this.startedMonitoring=!0;try{this.stream=await Xo.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:!1});try{this.context=new AudioContext;const r=this.context.createMediaStreamSource(this.stream),i=this.context.createAnalyser();i.fftSize=2048,i.minDecibels=-100,r.connect(i);const s=new G5;await s.init(this.context,i.fftSize),this.interval=setInterval(async()=>{const o=new Float32Array(i.fftSize);i.getFloatTimeDomainData(o);const a=await s.getFrequency(o),l=this.calculateVolume(o);this.frequencies=[a,a],this.volumes=[l,l],this.onUpdate(a,l)},this.context.sampleRate/i.fftSize),te.micMonitoringStarted.dispatch()}catch(r){Ls(r),console.error(r)}}catch(r){Ls(r,{level:"warning",extra:{message:"SimplifiedMic.startMonitoring"}}),console.warn(r)}}},this.getFrequencies=()=>this.frequencies,this.getVolumes=()=>this.volumes,this.clearFrequencies=t=>{},this.stopMonitoring=async()=>{var t,n;if(this.startedMonitoring){this.startedMonitoring=!1,this.interval&&clearInterval(this.interval),(t=this.stream)==null||t.getTracks().forEach(function(r){r.stop()});try{await((n=this.context)==null?void 0:n.close())}catch(r){console.log("MicInput.stoMonitoring error",r)}te.micMonitoringStopped.dispatch()}},this.getInputLag=()=>180,this.requestReadiness=()=>Promise.resolve(!0),this.getStatus=()=>"ok"}calculateVolume(t){let n,r=0;for(n=0;n<t.length;++n)r+=t[n]*t[n];return Math.sqrt(r/t.length)}}const Hi=new EW;class kW extends bo{constructor(){super(...arguments),this.peer=null,this.connection=null,this.unavailableIdRetries=0,this.unavailableIdRetryTimeout=null,this.connectToRoom=(t,n,r)=>{var i;this.connection=this.peer.connect(`allkaraoke-party-room-${t}`),this.connection.on("open",()=>{n()}),this.connection.on("close",()=>r("closed",null)),(i=this.connection)==null||i.on("data",s=>{console.log(s),this.onUpdate(s)})},this.isConnected=()=>{var t,n;return!!((t=this.connection)!=null&&t.open)&&!((n=this.peer)!=null&&n.disconnected)},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.peer&&!this.peer.disconnected?this.connectToRoom(n,r,i):(this.peer=new _0(t,{...n3,debug:3}),this.peer.on("open",()=>{this.connectToRoom(n,r,i)}),this.peer.on("error",o=>{var a,l;o.type==="unavailable-id"&&this.unavailableIdRetries<3&&this.unavailableIdRetryTimeout===null?((l=(a=this.peer)==null?void 0:a.destroy)==null||l.call(a),this.unavailableIdRetryTimeout=setTimeout(()=>{this.unavailableIdRetryTimeout=null,this.unavailableIdRetries++,this.connect(t,n,r,i,s)},1750)):(this.unavailableIdRetries=0,console.error(o.type,o),i(o.type,o))}))}sendEvent(t){var n;(n=this.connection)==null||n.send(t)}}class CW extends bo{constructor(){super(...arguments),this.connection=null,this.roomId=null,this.isConnected=()=>{var t;return(((t=this.connection)==null?void 0:t.readyState)??1/0)<2},this.close=()=>{var t;(t=this.connection)==null||t.close()}}connect(t,n,r,i,s){this.roomId=n,this.connection=new WebSocket(c3),this.connection.binaryType="arraybuffer",this.connection.onopen=()=>{var o;(o=this.connection)==null||o.send(Cg({t:"register-player",id:t,roomId:n}))},this.connection.onmessage=o=>{const a=Bb(o.data);a.t==="forward"?this.onUpdate(a.payload):a.t==="connected"&&r()},this.connection.onclose=o=>{var l;let a="unknown";try{a=(l=JSON.parse(o.reason))==null?void 0:l.error}catch{console.info("could not parse close reason",o)}this.clearAllListeners(),i(a,o)},this.connection.onerror=o=>{this.clearAllListeners(),s("error",o)}}sendEvent(t){var n;(n=this.connection)==null||n.send(Cg({t:"forward",recipients:[this.roomId],payload:t}))}}const gC=(e,t)=>{if(e===0)return 0;const n=Math.pow(10,t);return Math.round(e*n)/n};let Xh;const TW=new Uint8Array(16);function IW(){if(!Xh&&(Xh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xh(TW)}const qn=[];for(let e=0;e<256;++e)qn.push((e+256).toString(16).slice(1));function PW(e,t=0){return qn[e[t+0]]+qn[e[t+1]]+qn[e[t+2]]+qn[e[t+3]]+"-"+qn[e[t+4]]+qn[e[t+5]]+"-"+qn[e[t+6]]+qn[e[t+7]]+"-"+qn[e[t+8]]+qn[e[t+9]]+"-"+qn[e[t+10]]+qn[e[t+11]]+qn[e[t+12]]+qn[e[t+13]]+qn[e[t+14]]+qn[e[t+15]]}const RW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mC={randomUUID:RW};function Fg(e,t,n){if(mC.randomUUID&&!t&&!e)return mC.randomUUID();e=e||{};const r=e.random||(e.rng||IW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return PW(r)}const x1="MIC_CLIENT_ID";class MW{constructor(){this.clientId=Oe.getItem(x1),this.roomId=null,this.reconnecting=!1,this.connected=!1,this.frequencies=[],this.sendFrequencies=Rc(t=>{const n=this.frequencies.map(r=>gC(r,2));this.frequencies.length=0,this.sendEvent("freq",[n,gC(t,4)])},50),this.onFrequencyUpdate=Rc((t,n)=>{this.frequencies.push(t),this.sendFrequencies(n)},1e3/60),this.getClientId=()=>this.clientId,this.setClientId=t=>{this.clientId=t,Oe.setItem(x1,t)},this.connect=(t,n,r)=>{const i=t.toLowerCase();if(this.transport||(this.transport=i.startsWith("w")?new CW:new kW),this.clientId===null&&this.setClientId(Fg()),this.roomId=i,this.transport.isConnected()){console.log("not reconnecting",this.transport);return}this.reconnecting||te.karaokeConnectionStatusChange.dispatch("connecting"),this.transport.connect(this.clientId,this.roomId,()=>{this.connectToServer(i,n,r)},(s,o)=>{var a;if(s==="unavailable-id"){this.setClientId(Fg()),this.connect(i,n,r);return}console.log("closed connection :o",s,o),global.removeEventListener("beforeunload",this.disconnect),this.reconnecting?te.karaokeConnectionStatusChange.dispatch("reconnecting"):this.connected?te.karaokeConnectionStatusChange.dispatch("disconnected"):(te.karaokeConnectionStatusChange.dispatch("error",s),kn.capture("remote_mic_connection_error",{reason:s,transport:(a=this.roomId)==null?void 0:a.charAt(0)})),te.remoteMicPlayerSet.dispatch(null),te.remoteKeyboardLayout.dispatch(void 0),Hi.removeListener(this.onFrequencyUpdate),Hi.stopMonitoring(),!this.reconnecting&&this.connected&&(this.reconnecting=!0,setTimeout(()=>this.reconnect(i,n),1500)),this.connected=!1},console.warn)},this.latency=999,this.pingStart=Date.now(),this.pinging=!1,this.ping=()=>{this.pinging=!0,this.pingStart=Tc(),this.sendEvent("ping",{p:this.pingStart})},this.reportPing=Rc(t=>kn.capture("remote_mic_ping",{ping:t}),1e4),this.onPong=()=>{this.latency=Tc()-this.pingStart,this.pinging=!1,this.reportPing(this.latency),setTimeout(this.ping,1e3)},this.connectToServer=(t,n,r)=>{var i;this.connected=!0,this.reconnecting=!1,te.karaokeConnectionStatusChange.dispatch("connected"),kn.capture("remote_mic_connection_successful",{transport:(i=this.roomId)==null?void 0:i.charAt(0)}),this.sendEvent("register",{name:n,id:this.clientId,silent:r,lag:mj.get()}),this.ping(),global==null||global.addEventListener("beforeunload",this.disconnect),this.transport.addListener(s=>{var a,l;const o=s.t;o==="start-monitor"?(Hi.removeListener(this.onFrequencyUpdate),Hi.addListener(this.onFrequencyUpdate),Hi.startMonitoring(void 0,!0)):o==="stop-monitor"?(Hi.removeListener(this.onFrequencyUpdate),Hi.stopMonitoring()):o==="set-player-number"?te.remoteMicPlayerSet.dispatch(s.playerNumber):o==="keyboard-layout"?te.remoteKeyboardLayout.dispatch(s.help):o==="reload-mic"?(global.removeEventListener("beforeunload",this.disconnect),this.sendEvent("unregister"),Oe.session.setItem("reload-mic-request","1"),(a=document.getElementById("phone-ui-container"))==null||a.remove(),(l=global.location)==null||l.reload()):o==="request-readiness"?te.remoteReadinessRequested.dispatch():o==="pong"?this.onPong():o==="ping"?this.sendEvent("pong"):o==="set-permissions"?te.remoteMicPermissionsSet.dispatch(s.level):o==="remote-mics-list"?te.remoteMicListUpdated.dispatch(s.list):o==="style-change"&&te.remoteStyleChanged.dispatch(s.style)})},this.reconnect=(t,n)=>{this.reconnecting&&(te.karaokeConnectionStatusChange.dispatch("reconnecting"),this.connect(t,n,!1),setTimeout(()=>this.reconnect(t,n),2e3))},this.sendKeyStroke=t=>{this.sendEvent("keystroke",{key:t})},this.searchSong=t=>{this.sendEvent("search-song",{search:t})},this.requestPlayerChange=(t,n)=>{this.sendEvent("request-mic-select",{id:t,playerNumber:n})},this.confirmReadiness=()=>{this.sendEvent("confirm-readiness")},this.subscribe=t=>{this.sendEvent("subscribe-event",{channel:t})},this.unsubscribe=t=>{this.sendEvent("unsubscribe-event",{channel:t})},this.getSongList=()=>this.sendRequest({t:"request-songlist"},"songlist"),this.getGameInputLag=()=>this.sendRequest({t:"get-game-input-lag-request"},"get-game-input-lag-response"),this.setGameInputLag=t=>this.sendRequest({t:"set-game-input-lag-request",value:t},"get-game-input-lag-response"),this.getMicrophoneInputLag=()=>this.sendRequest({t:"get-microphone-lag-request"},"get-microphone-lag-response"),this.setMicrophoneInputLag=t=>this.sendRequest({t:"set-microphone-lag-request",value:t},"get-microphone-lag-response"),this.sendEvent=(t,n)=>{var r;(r=this.transport)!=null&&r.isConnected()?this.transport.sendEvent({t,...n}):console.debug("not connected, skipping",t,n)},this.sendRequest=({t,...n},r)=>new Promise((i,s)=>{var l;const o=setTimeout(()=>{var c;(c=this.transport)==null||c.removeListener(a),s(`${t} timed out waiting for ${r}`)},1e4),a=c=>{var u;c.t===r&&(clearTimeout(o),(u=this.transport)==null||u.removeListener(a),i(c))};(l=this.transport)==null||l.addListener(a),this.sendEvent(t,n)}),this.disconnect=()=>{var t;(t=this.transport)==null||t.close()}}}const pn=new MW,jW="/assets/2020-12-16_-_Christmas_Rock_-_www.FesliyanStudios.com_Steve_Oxen-DMCunqoI.ogg",OW="/assets/376817__original_sound__impact-cinematic-CwEVHJ3C.ogg",VW="/assets/421888__b-sean__retro-CErSO5v-.ogg",LW="/assets/459342__papaninkasettratat__cinematic-music-short-rn-rfKrG.ogg",NW="/assets/60013__qubodup__whoosh-CRSX-bwR.mp3",$W="/assets/Funk%20Cool%20Groove%20(No%20Copyright%20Music)%20By%20Anwar%20Amr-Chfv45i1.ogg",BW="/assets/menu_back-CXKu2j7w.mp3",DW="data:audio/mpeg;base64,SUQzBAAAAAAAIlRTU0UAAAAOAAADTGF2ZjYwLjMuMTAwAAAAAAAAAAAAAAD/+1QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAABMAAA04AEFBQUFBZWVlZWV/f39/f5GRkZGRkZqampqaoaGhoaGoqKioqLCwsLCwsLe3t7e3vr6+vr7FxcXFxc3Nzc3NzdTU1NTU29vb29vi4uLi4urq6urq6vHx8fHx+Pj4+Pj//////wAAAABMYXZjNjAuMy4AAAAAAAAAAAAAAAAkAuUAAAAAAAANOLGcZrL/+8REAAEA/ADLaAAACh+AGY0AAAFGhC0ZtYMAKP4GYzKwkAUAFJyXj/AAAB7QAAB4eHh4YYAOM////jh4eAAAAAIw8AlNybj/AAAB/AAADw8PDwxwAAGf///5h4eAAAAAIw9hSJuIlQJTskunEz5RFv1Y2byK7n/97llcFmmyCgoMFBQUFAoKCgoMFDX////qAoKChQUFESxJ2AfoAZiMJDhIyAqTJk81xxarn/97lWmgXEJCQoUJCChQUFBQSCgoKChQUv//6YKFAoKCgwUFBQUhBQU0WgEEAFZUiUdVZ7urwsAwAAAoTmeCxjBAdkrnZm5gCuz2BTRyEx8VJUhukDsoNVBjExsWZAsIvo6ZtcOZTJhAKFQlp6a7oGrhgQ1GypacseeN5GgM7LimCHZWKo200F2pFIbcrBxGTFxgYmAAQQh6wspcVlNfLCxvO2HAzIQgDZSzJWt9XFnYFf27////7/0ko32xTymMyqLclUq8QECiT3+7//+laf///9uMHyGvGu2u2so2EgAAAAADIAEGFguPUQDJhoMKHjtm/ExnBISAuP5tq7A0VjIBuAgFjyzu0ITEAhWvB/0sPUTU5MzMnhocNpDqll1v/GBSiOTAAAWq/agAGAMGDkG2YBxmZlUXgGO2D0YAgS4cGyYBIAoNAqIQNjBRA4BAFZgOABuLCYbR9W0P1ijMzWyHU3rL3T2m1K3RtqSLDrfcC31jHuH9r6RUOFIwt0G+T2Y9yNS/FrmLTOcX1qpRxdapf/+f4gPaOLN2fYACixdruAAAHzMDQmBJhGTdzmMADioJDwTNcGAFKgEmAwApvBgDS6/hLpkYzDFewH6hgRt+3pCrr5/3651XUGvoTGe1AAACh1ZV5WQADAgMzFkSzVCXT2T/+6Rk5IAFRzBLfm9kgFGDij/NsCRO4MEnXeeAIQ0NZLe68ATIzWYcjI0FQUTAYG4GARMBYUYAQQoAsBHktFznLy0sSlohrcySM0V97trfW6mUEZ4r3G0Su6apFIYlLPRjDC0HKnNGDPCbCtAP2eeEAA3ZmhL+AAAG5JEGTcHdpB80aHvkDv0YiAhA2mHHOna1doX/uZ6qnnDUzTgKUABohnh230QAAMbEBQnNCETYME2cNbMBjy7BqoGICdqx1SsFklW0zpKswQnCikdnsJ4tsbhp/ASpfR1JaY61CrDJgx/F3EWoNSoEVBqRvuTG5yhcItANgUThn9//+tgCHmIeH3wBoCkKCxgISgSstpAzImgHGYaQ6AVraQgJgaXZN2SAGyriKC3mDpVtvoo5FXA4mYiIj/aAABUhpCZgEAUnGtWKCEAZ/BEFQDhceXTMw8yUktRRlhhbRJYUkSpDzpdNaErxzPiWxVMqtHMxstZL1/1froSdU2dnUSBCnAUUTDiw2FdX+MCo0MrMuDAAAE84aw5jGXtZrP0+3AGAJVVUyjYENrIhERZuDyP8PUISzy7xH/4MlwUJsBBcI7GR4DyaWF6iCwni4hbZmGQWTQIi6L3h+abmhZzs1OZ7gOu0RcL/+4Rk6AAS+iLI+68a+C5DOV9rAxlLuHch7eXlYMgNZP2WFVzAmUIpCmxCchkYSLdCTM0X2sVgAjJ+gEAnQkJe1v9aZjJCCJfFH1YIagNfLtAJODmCQtYaPzBF//yVIIAAAUHjJAVCHeXwjlgBxVOjKgO1ddIsKHgBBT1MQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAABzCFdZkkAAAsCDOBkGYUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ0kMkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoZVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+2Rk7wEStyFJ+08a+icCKR9h4ycGxGkp7CSn6HKE4u2GCJRVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjH/+yRk7Idw1QbEowxBAA1AyIgl4wMBUA0PBWMAIBUBolQUmAYwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk6g9wQAJDKU8ACARASJUEQAEAXAsOA4wgIAaAYgAQAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4w/wDwDEAMAACAAAD/AAAAEAGAMUAQAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4o/wBgDEgEAACAAAD/AAAAEADAMaAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDGACAACAAAD/AAAAEADAMWAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4g/wAwDFgCAACAAAD/AAAAEADAMUAIAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRE4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAADSAAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAH+AAAAIAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAAB/gAAACAAAD/AAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xRk4Y/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",FW="/assets/menu_navigate-C6GUIZQM.mp3";class wo{constructor(t){this.options=t,this.sound=null,this.play=async(n=!0)=>{var r,i;try{if(n&&this.playing()){const s=(r=this.sound)==null?void 0:r.cloneNode(!0);await s.play(),s.remove()}else await((i=this.sound)==null?void 0:i.play())}catch(s){return console.warn(s)}},this.pause=()=>{var n;(n=this.sound)==null||n.pause()},this.stop=()=>{this.sound&&(this.sound.pause(),this.sound.currentTime=0)},this.playing=()=>{var n;return!((n=this.sound)!=null&&n.paused)},global.Audio&&(this.sound=new Audio(t.src),this.sound.preload=t.preload?"auto":"none",this.sound.volume=t.volume??1,this.sound.loop=t.loop??!1)}}const w0=new wo({src:FW}),xx=new wo({src:DW}),Sx=new wo({src:BW}),C3=new wo({src:OW,preload:!0}),wx=new wo({src:NW,preload:!0,volume:.5}),T3=new wo({src:$W,volume:.3,loop:!0}),I3=new wo({src:VW,volume:.4,loop:!0}),P3=new wo({src:jW,volume:.25,loop:!0}),Kp=new wo({src:LW,volume:.8}),zW=Object.freeze(Object.defineProperty({__proto__:null,backgroundMusic:T3,christmasBackgroundMusic:P3,classicBackgroundMusic:I3,menuBack:Sx,menuEnter:xx,menuNavigate:w0,waitFinished:C3,waitForReadinessMusic:Kp,woosh:wx},Symbol.toStringTag,{value:"Module"})),UW={RemoteMicClient:pn,RemoteMicServer:Ng,GameState:je,GameEvents:te,RemoteMicManager:Je,SongDao:$s,InputManager:sn,InputSourceManager:uo,CameraManager:Qi,UserMediaService:Xo,PlayersManager:Re,SoundManager:zW,importSongs:async()=>{await(await f0(()=>import("./importSongsFromPostHog-Clcs5Cxu.js"),[])).default()}};global.__exposeSingletons=()=>{global.__singletons=UW};console.log("Run global.__exposeSingletons() and inspect global.__singletons for debugging");function Ex(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function HW(){this.__data__=new xo,this.size=0}function qW(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function GW(e){return this.__data__.get(e)}function WW(e){return this.__data__.has(e)}var YW=200;function KW(e,t){var n=this.__data__;if(n instanceof xo){var r=n.__data__;if(!df||r.length<YW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new So(r)}return n.set(e,t),this.size=n.size,this}function Ms(e){var t=this.__data__=new xo(e);this.size=t.size}Ms.prototype.clear=HW;Ms.prototype.delete=qW;Ms.prototype.get=GW;Ms.prototype.has=WW;Ms.prototype.set=KW;function QW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var zg=function(){try{var e=Cl(Object,"defineProperty");return e({},"",{}),e}catch{}}();function R3(e,t,n){t=="__proto__"&&zg?zg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var JW=Object.prototype,XW=JW.hasOwnProperty;function M3(e,t,n){var r=e[t];(!(XW.call(e,t)&&p0(r,n))||n===void 0&&!(t in e))&&R3(e,t,n)}function ih(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?R3(n,a,l):M3(n,a,l)}return n}function ZW(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var eY="[object Arguments]";function vC(e){return lo(e)&&El(e)==eY}var j3=Object.prototype,tY=j3.hasOwnProperty,nY=j3.propertyIsEnumerable,kx=vC(function(){return arguments}())?vC:function(e){return lo(e)&&tY.call(e,"callee")&&!nY.call(e,"callee")},Ci=Array.isArray;function rY(){return!1}var O3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yC=O3&&typeof module=="object"&&module&&!module.nodeType&&module,iY=yC&&yC.exports===O3,AC=iY?cs.Buffer:void 0,sY=AC?AC.isBuffer:void 0,Ug=sY||rY,oY="[object Arguments]",aY="[object Array]",lY="[object Boolean]",cY="[object Date]",uY="[object Error]",dY="[object Function]",fY="[object Map]",hY="[object Number]",pY="[object Object]",gY="[object RegExp]",mY="[object Set]",vY="[object String]",yY="[object WeakMap]",AY="[object ArrayBuffer]",_Y="[object DataView]",bY="[object Float32Array]",xY="[object Float64Array]",SY="[object Int8Array]",wY="[object Int16Array]",EY="[object Int32Array]",kY="[object Uint8Array]",CY="[object Uint8ClampedArray]",TY="[object Uint16Array]",IY="[object Uint32Array]",Rt={};Rt[bY]=Rt[xY]=Rt[SY]=Rt[wY]=Rt[EY]=Rt[kY]=Rt[CY]=Rt[TY]=Rt[IY]=!0;Rt[oY]=Rt[aY]=Rt[AY]=Rt[lY]=Rt[_Y]=Rt[cY]=Rt[uY]=Rt[dY]=Rt[fY]=Rt[hY]=Rt[pY]=Rt[gY]=Rt[mY]=Rt[vY]=Rt[yY]=!1;function PY(e){return lo(e)&&yx(e.length)&&!!Rt[El(e)]}function Cx(e){return function(t){return e(t)}}var V3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ld=V3&&typeof module=="object"&&module&&!module.nodeType&&module,RY=Ld&&Ld.exports===V3,cy=RY&&Y5.process,eu=function(){try{var e=Ld&&Ld.require&&Ld.require("util").types;return e||cy&&cy.binding&&cy.binding("util")}catch{}}(),_C=eu&&eu.isTypedArray,L3=_C?Cx(_C):PY,MY=Object.prototype,jY=MY.hasOwnProperty;function N3(e,t){var n=Ci(e),r=!n&&kx(e),i=!n&&!r&&Ug(e),s=!n&&!r&&!i&&L3(e),o=n||r||i||s,a=o?ZW(e.length,String):[],l=a.length;for(var c in e)(t||jY.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_x(c,l)))&&a.push(c);return a}var OY=Object.prototype;function Tx(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||OY;return e===n}function $3(e,t){return function(n){return e(t(n))}}var VY=$3(Object.keys,Object),LY=Object.prototype,NY=LY.hasOwnProperty;function $Y(e){if(!Tx(e))return VY(e);var t=[];for(var n in Object(e))NY.call(e,n)&&n!="constructor"&&t.push(n);return t}function sh(e){return Ax(e)?N3(e):$Y(e)}function BY(e,t){return e&&ih(t,sh(t),e)}function DY(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var FY=Object.prototype,zY=FY.hasOwnProperty;function UY(e){if(!as(e))return DY(e);var t=Tx(e),n=[];for(var r in e)r=="constructor"&&(t||!zY.call(e,r))||n.push(r);return n}function Ix(e){return Ax(e)?N3(e,!0):UY(e)}function HY(e,t){return e&&ih(t,Ix(t),e)}var B3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bC=B3&&typeof module=="object"&&module&&!module.nodeType&&module,qY=bC&&bC.exports===B3,xC=qY?cs.Buffer:void 0,SC=xC?xC.allocUnsafe:void 0;function GY(e,t){if(t)return e.slice();var n=e.length,r=SC?SC(n):new e.constructor(n);return e.copy(r),r}function D3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function WY(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function F3(){return[]}var YY=Object.prototype,KY=YY.propertyIsEnumerable,wC=Object.getOwnPropertySymbols,Px=wC?function(e){return e==null?[]:(e=Object(e),WY(wC(e),function(t){return KY.call(e,t)}))}:F3;function QY(e,t){return ih(e,Px(e),t)}function Rx(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var JY=$3(Object.getPrototypeOf,Object);const Mx=JY;var XY=Object.getOwnPropertySymbols,z3=XY?function(e){for(var t=[];e;)Rx(t,Px(e)),e=Mx(e);return t}:F3;function ZY(e,t){return ih(e,z3(e),t)}function U3(e,t,n){var r=t(e);return Ci(e)?r:Rx(r,n(e))}function S1(e){return U3(e,sh,Px)}function H3(e){return U3(e,Ix,z3)}var w1=Cl(cs,"DataView"),E1=Cl(cs,"Promise"),Mc=Cl(cs,"Set"),k1=Cl(cs,"WeakMap"),EC="[object Map]",eK="[object Object]",kC="[object Promise]",CC="[object Set]",TC="[object WeakMap]",IC="[object DataView]",tK=kl(w1),nK=kl(df),rK=kl(E1),iK=kl(Mc),sK=kl(k1),Ma=El;(w1&&Ma(new w1(new ArrayBuffer(1)))!=IC||df&&Ma(new df)!=EC||E1&&Ma(E1.resolve())!=kC||Mc&&Ma(new Mc)!=CC||k1&&Ma(new k1)!=TC)&&(Ma=function(e){var t=El(e),n=t==eK?e.constructor:void 0,r=n?kl(n):"";if(r)switch(r){case tK:return IC;case nK:return EC;case rK:return kC;case iK:return CC;case sK:return TC}return t});const pf=Ma;var oK=Object.prototype,aK=oK.hasOwnProperty;function lK(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&aK.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Hg=cs.Uint8Array;function jx(e){var t=new e.constructor(e.byteLength);return new Hg(t).set(new Hg(e)),t}function cK(e,t){var n=t?jx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var uK=/\w*$/;function dK(e){var t=new e.constructor(e.source,uK.exec(e));return t.lastIndex=e.lastIndex,t}var PC=ki?ki.prototype:void 0,RC=PC?PC.valueOf:void 0;function fK(e){return RC?Object(RC.call(e)):{}}function hK(e,t){var n=t?jx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var pK="[object Boolean]",gK="[object Date]",mK="[object Map]",vK="[object Number]",yK="[object RegExp]",AK="[object Set]",_K="[object String]",bK="[object Symbol]",xK="[object ArrayBuffer]",SK="[object DataView]",wK="[object Float32Array]",EK="[object Float64Array]",kK="[object Int8Array]",CK="[object Int16Array]",TK="[object Int32Array]",IK="[object Uint8Array]",PK="[object Uint8ClampedArray]",RK="[object Uint16Array]",MK="[object Uint32Array]";function jK(e,t,n){var r=e.constructor;switch(t){case xK:return jx(e);case pK:case gK:return new r(+e);case SK:return cK(e,n);case wK:case EK:case kK:case CK:case TK:case IK:case PK:case RK:case MK:return hK(e,n);case mK:return new r;case vK:case _K:return new r(e);case yK:return dK(e);case AK:return new r;case bK:return fK(e)}}var MC=Object.create,OK=function(){function e(){}return function(t){if(!as(t))return{};if(MC)return MC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function VK(e){return typeof e.constructor=="function"&&!Tx(e)?OK(Mx(e)):{}}var LK="[object Map]";function NK(e){return lo(e)&&pf(e)==LK}var jC=eu&&eu.isMap,$K=jC?Cx(jC):NK,BK="[object Set]";function DK(e){return lo(e)&&pf(e)==BK}var OC=eu&&eu.isSet,FK=OC?Cx(OC):DK,zK=1,UK=2,HK=4,q3="[object Arguments]",qK="[object Array]",GK="[object Boolean]",WK="[object Date]",YK="[object Error]",G3="[object Function]",KK="[object GeneratorFunction]",QK="[object Map]",JK="[object Number]",W3="[object Object]",XK="[object RegExp]",ZK="[object Set]",eQ="[object String]",tQ="[object Symbol]",nQ="[object WeakMap]",rQ="[object ArrayBuffer]",iQ="[object DataView]",sQ="[object Float32Array]",oQ="[object Float64Array]",aQ="[object Int8Array]",lQ="[object Int16Array]",cQ="[object Int32Array]",uQ="[object Uint8Array]",dQ="[object Uint8ClampedArray]",fQ="[object Uint16Array]",hQ="[object Uint32Array]",kt={};kt[q3]=kt[qK]=kt[rQ]=kt[iQ]=kt[GK]=kt[WK]=kt[sQ]=kt[oQ]=kt[aQ]=kt[lQ]=kt[cQ]=kt[QK]=kt[JK]=kt[W3]=kt[XK]=kt[ZK]=kt[eQ]=kt[tQ]=kt[uQ]=kt[dQ]=kt[fQ]=kt[hQ]=!0;kt[YK]=kt[G3]=kt[nQ]=!1;function Qp(e,t,n,r,i,s){var o,a=t&zK,l=t&UK,c=t&HK;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!as(e))return e;var u=Ci(e);if(u){if(o=lK(e),!a)return D3(e,o)}else{var d=pf(e),h=d==G3||d==KK;if(Ug(e))return GY(e,a);if(d==W3||d==q3||h&&!i){if(o=l||h?{}:VK(e),!a)return l?ZY(e,HY(o,e)):QY(e,BY(o,e))}else{if(!kt[d])return i?e:{};o=jK(e,d,a)}}s||(s=new Ms);var p=s.get(e);if(p)return p;s.set(e,o),FK(e)?e.forEach(function(A){o.add(Qp(A,t,n,A,e,s))}):$K(e)&&e.forEach(function(A,v){o.set(v,Qp(A,t,n,v,e,s))});var g=c?l?H3:S1:l?Ix:sh,m=u?void 0:g(e);return QW(m||e,function(A,v){m&&(v=A,A=e[v]),M3(o,v,Qp(A,t,n,v,e,s))}),o}var pQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gQ=/^\w*$/;function Ox(e,t){if(Ci(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||h0(e)?!0:gQ.test(e)||!pQ.test(e)||t!=null&&e in Object(t)}var mQ=500;function vQ(e){var t=v0(e,function(r){return n.size===mQ&&n.clear(),r}),n=t.cache;return t}var yQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AQ=/\\(\\)?/g,_Q=vQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yQ,function(n,r,i,s){t.push(i?s.replace(AQ,"$1"):r||n)}),t}),bQ=1/0,VC=ki?ki.prototype:void 0,LC=VC?VC.toString:void 0;function Y3(e){if(typeof e=="string")return e;if(Ci(e))return Ex(e,Y3)+"";if(h0(e))return LC?LC.call(e):"";var t=e+"";return t=="0"&&1/e==-bQ?"-0":t}function Vx(e){return e==null?"":Y3(e)}function E0(e,t){return Ci(e)?e:Ox(e,t)?[e]:_Q(Vx(e))}function xQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var SQ=1/0;function oh(e){if(typeof e=="string"||h0(e))return e;var t=e+"";return t=="0"&&1/e==-SQ?"-0":t}function Lx(e,t){t=E0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[oh(t[n++])];return n&&n==r?e:void 0}function Nx(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function wQ(e,t){return t.length<2?e:Lx(e,Nx(t,0,-1))}function EQ(e,t){return t=E0(t,e),e=wQ(e,t),e==null||delete e[oh(xQ(t))]}var kQ="[object Object]",CQ=Function.prototype,TQ=Object.prototype,K3=CQ.toString,IQ=TQ.hasOwnProperty,PQ=K3.call(Object);function RQ(e){if(!lo(e)||El(e)!=kQ)return!1;var t=Mx(e);if(t===null)return!0;var n=IQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&K3.call(n)==PQ}function MQ(e){return RQ(e)?void 0:e}var NC=ki?ki.isConcatSpreadable:void 0;function jQ(e){return Ci(e)||kx(e)||!!(NC&&e&&e[NC])}function Q3(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=jQ),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?Q3(a,t-1,n,r,i):Rx(i,a):r||(i[i.length]=a)}return i}function OQ(e){var t=e==null?0:e.length;return t?Q3(e,1):[]}function VQ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var $C=Math.max;function LQ(e,t,n){return t=$C(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=$C(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),VQ(e,this,a)}}function NQ(e){return function(){return e}}function J3(e){return e}var $Q=zg?function(e,t){return zg(e,"toString",{configurable:!0,enumerable:!1,value:NQ(t),writable:!0})}:J3;const BQ=$Q;var DQ=800,FQ=16,zQ=Date.now;function UQ(e){var t=0,n=0;return function(){var r=zQ(),i=FQ-(r-n);if(n=r,i>0){if(++t>=DQ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var HQ=UQ(BQ);function qQ(e){return HQ(LQ(e,void 0,OQ),e+"")}var GQ=1,WQ=2,YQ=4,KQ=qQ(function(e,t){var n={};if(e==null)return n;var r=!1;t=Ex(t,function(s){return s=E0(s,e),r||(r=s.length>1),s}),ih(e,H3(e),n),r&&(n=Qp(n,GQ|WQ|YQ,MQ));for(var i=t.length;i--;)EQ(n,t[i]);return n});function Bs(e,t=!1){const[n,r]=_.useState(null);return _.useEffect(()=>{const i=(...s)=>{r(s)};return e.subscribe(i,t),()=>e.unsubscribe(i)},[e]),n}function Jr(e,t){const n=Array.isArray(e)?e:[e];_.useEffect(()=>(n.forEach(r=>r.subscribe(t)),()=>n.forEach(r=>r.unsubscribe(t))),[...n,t])}function Ti(e,t,n=[]){const r=_.useMemo(t,[]),[i,s]=_.useState(r),o=Array.isArray(e)?e:[e];return _.useEffect(()=>{s(t())},n),_.useEffect(()=>{const a=()=>s(t());return o.forEach(l=>l.subscribe(a)),()=>o.forEach(l=>l.unsubscribe(a))},[...o]),i}var QQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JQ=UR(function(e){return QQ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),XQ=JQ,ZQ=function(t){return t!=="theme"},BC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?XQ:ZQ},DC=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},eJ=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return KR(n,r,i),hD(function(){return QR(n,r,i)}),null},C=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=DC(t,n,r),l=a||BC(i),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=tM(function(m,A,v){var y=c&&m.as||i,b="",S=[],x=m;if(m.theme==null){x={};for(var w in m)x[w]=m[w];x.theme=_.useContext(Yf)}typeof m.className=="string"?b=oD(A.registered,S,m.className):m.className!=null&&(b=m.className+" ");var E=bb(d.concat(S),A.registered,x);b+=A.key+"-"+E.name,o!==void 0&&(b+=" "+o);var I=c&&a===void 0?BC(y):l,L={};for(var j in m)c&&j==="as"||I(j)&&(L[j]=m[j]);return L.className=b,L.ref=v,_.createElement(_.Fragment,null,_.createElement(eJ,{cache:A,serialized:E,isStringTag:typeof y=="string"}),_.createElement(y,L))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,A){return e(m,oe({},n,A,{shouldForwardProp:DC(g,A,!0)})).apply(void 0,d)},g}};const $x=e=>Ot(!!e.focused&&fo,";:hover{",fo,";}",""),X3=Ot("box-shadow:inset 0px 0px 0px 4px ",he.colors.text.active,";",""),tJ=_o`
  100% {
    box-shadow: inset 0px 0px 0px 2px ${he.colors.text.active};
  }
  50% {
    ${X3};
  }
  0% {
    box-shadow: inset 0px 0px 0px 2px ${he.colors.text.active};
  }
`,fo=Ot("animation:",tJ," 1000ms ease-in-out infinite both;",""),Ne={name:"uo792j",styles:"font-weight:bold;-webkit-text-stroke:thin black;color:white"},tu="@media (hover: none)",nJ="@media (hover: hover)",k0="  @media (max-height: 500px) and (min-aspect-ratio: 16/10)";var uy=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function dy(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function Z3(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function eO(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function rJ(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,s=0;s<n.length;s++)r.indexOf(n[s])===-1&&(i=!1);return i}var Bx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":uy?173:189,"=":uy?61:187,";":uy?59:186,"'":222,"[":219,"]":221,"\\":220},la={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},C1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Yn={16:!1,18:!1,17:!1,91:!1},bn={};for(var Zh=1;Zh<20;Zh++)Bx["f".concat(Zh)]=111+Zh;var Ft=[],FC=!1,tO="all",nO=[],C0=function(t){return Bx[t.toLowerCase()]||la[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function rO(e){tO=e||"all"}function gf(){return tO||"all"}function iJ(){return Ft.slice(0)}function sJ(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function oJ(e){return typeof e=="string"&&(e=C0(e)),Ft.indexOf(e)!==-1}function aJ(e,t){var n,r;e||(e=gf());for(var i in bn)if(Object.prototype.hasOwnProperty.call(bn,i))for(n=bn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;gf()===e&&rO(t||"all")}function lJ(e){var t=e.keyCode||e.which||e.charCode,n=Ft.indexOf(t);if(n>=0&&Ft.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Ft.splice(0,Ft.length),(t===93||t===224)&&(t=91),t in Yn){Yn[t]=!1;for(var r in la)la[r]===t&&(Gr[r]=!1)}}function cJ(e){if(typeof e>"u")Object.keys(bn).forEach(function(o){return delete bn[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&fy(o)});else if(typeof e=="object")e.key&&fy(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],s=n[1];typeof i=="function"&&(s=i,i=""),fy({key:e,scope:i,method:s,splitKey:"+"})}}var fy=function(t){var n=t.key,r=t.scope,i=t.method,s=t.splitKey,o=s===void 0?"+":s,a=eO(n);a.forEach(function(l){var c=l.split(o),u=c.length,d=c[u-1],h=d==="*"?"*":C0(d);if(bn[h]){r||(r=gf());var p=u>1?Z3(la,c):[];bn[h]=bn[h].filter(function(g){var m=i?g.method===i:!0;return!(m&&g.scope===r&&rJ(g.mods,p))})}})};function zC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var s in Yn)Object.prototype.hasOwnProperty.call(Yn,s)&&(!Yn[s]&&t.mods.indexOf(+s)>-1||Yn[s]&&t.mods.indexOf(+s)===-1)&&(i=!1);(t.mods.length===0&&!Yn[16]&&!Yn[18]&&!Yn[17]&&!Yn[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function UC(e,t){var n=bn["*"],r=e.keyCode||e.which||e.charCode;if(Gr.filter.call(this,e)){if((r===93||r===224)&&(r=91),Ft.indexOf(r)===-1&&r!==229&&Ft.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=C1[g];e[g]&&Ft.indexOf(m)===-1?Ft.push(m):!e[g]&&Ft.indexOf(m)>-1?Ft.splice(Ft.indexOf(m),1):g==="metaKey"&&e[g]&&Ft.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Ft=Ft.slice(Ft.indexOf(m))))}),r in Yn){Yn[r]=!0;for(var i in la)la[i]===r&&(Gr[i]=!0);if(!n)return}for(var s in Yn)Object.prototype.hasOwnProperty.call(Yn,s)&&(Yn[s]=e[C1[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Ft.indexOf(17)===-1&&Ft.push(17),Ft.indexOf(18)===-1&&Ft.push(18),Yn[17]=!0,Yn[18]=!0);var o=gf();if(n)for(var a=0;a<n.length;a++)n[a].scope===o&&(e.type==="keydown"&&n[a].keydown||e.type==="keyup"&&n[a].keyup)&&zC(e,n[a],o,t);if(r in bn){for(var l=0;l<bn[r].length;l++)if((e.type==="keydown"&&bn[r][l].keydown||e.type==="keyup"&&bn[r][l].keyup)&&bn[r][l].key){for(var c=bn[r][l],u=c.splitKey,d=c.key.split(u),h=[],p=0;p<d.length;p++)h.push(C0(d[p]));h.sort().join("")===Ft.sort().join("")&&zC(e,c,o,t)}}}}function uJ(e){return nO.indexOf(e)>-1}function Gr(e,t,n){Ft=[];var r=eO(e),i=[],s="all",o=document,a=0,l=!1,c=!0,u="+",d=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(s=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(d=t.capture),typeof t.splitKey=="string"&&(u=t.splitKey)),typeof t=="string"&&(s=t);a<r.length;a++)e=r[a].split(u),i=[],e.length>1&&(i=Z3(la,e)),e=e[e.length-1],e=e==="*"?"*":C0(e),e in bn||(bn[e]=[]),bn[e].push({keyup:l,keydown:c,scope:s,mods:i,shortcut:r[a],method:n,key:r[a],splitKey:u,element:o});typeof o<"u"&&!uJ(o)&&window&&(nO.push(o),dy(o,"keydown",function(h){UC(h,o)},d),FC||(FC=!0,dy(window,"focus",function(){Ft=[]},d)),dy(o,"keyup",function(h){UC(h,o),lJ(h)},d))}function dJ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(bn).forEach(function(n){var r=bn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var hy={setScope:rO,getScope:gf,deleteScope:aJ,getPressedKeyCodes:iJ,isPressed:oJ,filter:sJ,trigger:dJ,unbind:cJ,keyMap:Bx,modifier:la,modifierMap:C1};for(var py in hy)Object.prototype.hasOwnProperty.call(hy,py)&&(Gr[py]=hy[py]);if(typeof window<"u"){var fJ=window.hotkeys;Gr.noConflict=function(e){return e&&window.hotkeys===Gr&&(window.hotkeys=fJ),Gr},window.hotkeys=Gr}Gr.filter=function(){return!0};var iO=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},hJ=function(t){return iO(t,["INPUT","TEXTAREA","SELECT"])};function wr(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},s=i.enableOnTags,o=i.filter,a=i.keyup,l=i.keydown,c=i.filterPreventDefault,u=c===void 0?!0:c,d=i.enabled,h=d===void 0?!0:d,p=i.enableOnContentEditable,g=p===void 0?!1:p,m=_.useRef(null),A=_.useCallback(function(v,y){var b,S;return o&&!o(v)?!u:hJ(v)&&!iO(v,s)||(b=v.target)!=null&&b.isContentEditable&&!g?!0:m.current===null||document.activeElement===m.current||(S=m.current)!=null&&S.contains(document.activeElement)?(t(v,y),!0):!1},r?[m,s,o].concat(r):[m,s,o]);return _.useEffect(function(){if(!h){Gr.unbind(e,A);return}return a&&l!==!0&&(n.keydown=!1),Gr(e,n||{},A),function(){return Gr.unbind(e,A)}},[A,e,h]),m}Gr.isPressed;const T1="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x,y,z,1,2,3,4,5,6,7,8,9,0";var bR,Mp,xR;try{(xR=(Mp=(bR=global==null?void 0:global.navigator)==null?void 0:bR.keyboard)==null?void 0:Mp.lock)==null||xR.call(Mp,["Escape"])}catch(e){console.warn(e)}var SR,wR;const pJ=!!((wR=(SR=global==null?void 0:global.navigator)==null?void 0:SR.keyboard)!=null&&wR.lock),Ca=e=>t=>{e&&(t.preventDefault(),t.stopPropagation(),e(t))};function Tl(e,t=!0,n){Jr(te.remoteKeyboardPressed,r=>{var i;t&&r in e&&((i=e[r])==null||i.call(e))}),wr("up",Ca(e.up),{enabled:t&&!!(e!=null&&e.up)},n),wr("down",Ca(e.down),{enabled:t&&!!(e!=null&&e.down)},n),wr("left",Ca(e.left),{enabled:t&&!!(e!=null&&e.left)},n),wr("right",Ca(e.right),{enabled:t&&!!(e!=null&&e.right)},n),wr("Enter",Ca(e.accept),{enabled:t&&!!(e!=null&&e.accept)},n),wr("Escape,Backspace",Ca(e.back),{enabled:t&&!!(e!=null&&e.back)},n),wr("Shift+R",Ca(e.random),{enabled:t&&!!(e!=null&&e.random)},n)}function gJ({help:e}){const[t]=$e(Zn),[n,r]=$e(gj);wr("shift+h",()=>r(!n),void 0,[n]);const i=Object.entries(e??{}).filter(([,s])=>s!==void 0);return t?null:f.jsx(f.Fragment,{children:f.jsx(SJ,{"data-test":"help-container",onClick:()=>r(!n),visible:!!i.length&&n,children:n&&f.jsxs(f.Fragment,{children:[f.jsx(oO,{children:"Use indicated keys on your keyboard"}),i.map(([s,o])=>{const{view:a,defaultLabel:l}=xJ[s];return f.jsxs(HC,{children:[f.jsx(GC,{children:o??l}),f.jsx(qC,{children:f.jsx(a,{})})]},s)}),f.jsxs(HC,{children:[f.jsx(GC,{children:"Show/hide this help"}),f.jsx(qC,{children:sO("h")()})]})]})})})}const Dx=({vertical:e=!1,horizontal:t=!1})=>f.jsxs(f.Fragment,{children:[f.jsx(Cs,{disabled:!e,children:""}),f.jsx("br",{}),f.jsx(Cs,{disabled:!t,children:""}),f.jsx(Cs,{disabled:!e,children:""}),f.jsx(Cs,{disabled:!t,children:""})]}),mJ=()=>f.jsx(Dx,{horizontal:!0}),vJ=()=>f.jsx(Dx,{vertical:!0}),yJ=()=>f.jsx(Dx,{vertical:!0,horizontal:!0}),AJ=()=>f.jsx(Cs,{children:"Enter "}),_J=()=>pJ?f.jsx(Cs,{children:"Escape"}):f.jsx(Cs,{children:"Backspace "}),sO=e=>()=>f.jsxs(f.Fragment,{children:[f.jsx(Cs,{children:"Shift"})," + ",f.jsx(Cs,{children:e.toUpperCase()})]}),bJ=()=>f.jsx(f.Fragment,{children:f.jsx(Cs,{children:"start typing"})}),xJ={"horizontal-vertical":{view:yJ,defaultLabel:"Navigate"},horizontal:{view:mJ,defaultLabel:"Navigate"},vertical:{view:vJ,defaultLabel:"Navigate"},accept:{view:AJ,defaultLabel:"Select"},back:{view:_J,defaultLabel:"Go back"},shiftR:{view:sO("r"),defaultLabel:"Pick random"},alphanumeric:{view:bJ,defaultLabel:"Search"}},HC=C("div",{target:"efq3fs05"})({name:"1m596lt",styles:"display:flex;flex-direction:row;align-items:center;gap:1rem"}),qC=C("div",{target:"efq3fs04"})({name:"w84kwe",styles:"flex-wrap:nowrap;text-align:center;flex:2;color:white;font-weight:bold"}),GC=C("span",{target:"efq3fs03"})("flex:3;",Ne,";font-size:2rem;text-align:right;"),oO=C("div",{target:"efq3fs02"})("position:absolute;inset:0 0 0 0;background:rgba(0, 0, 0, 0.75);",Ne,";font-size:2rem;padding:2rem;display:flex;align-items:center;justify-content:center;text-align:center;opacity:0;transition:300ms;visibility:hidden;"),SJ=C("div",{target:"efq3fs01"})("position:fixed;top:5rem;right:0;padding:0.5rem;background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;gap:1rem;width:34rem;visibility:",e=>e.visible?"visible":"hidden",";cursor:pointer;transform:scale(0.75);z-index:1000;@media (max-width: 560px){display:none;}view-transition-name:help-view;:hover{",oO,"{opacity:1;visibility:visible;}}svg{fill:white;}"),Cs=C("kbd",{target:"efq3fs00"})("margin:0.2rem;padding:0.12rem 0.9rem;border-radius:0.3rem;border:0.1rem solid rgb(204, 204, 204);color:rgb(51, 51, 51);line-height:1.4;font-size:1.6rem;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;opacity:",e=>e.disabled?.25:1,";"),Fx=_.createContext({setKeyboard:(e,t)=>{},unsetKeyboard:e=>{},hasContent:!1}),wJ=({children:e})=>{const[t,n]=_.useState({}),r=(u,d)=>{n(h=>({...h,[u]:d}))},i=u=>n(d=>KQ(d,[u])),[s,o]=Object.entries(t).at(-1)??[];Jr(te.remoteMicConnected,({id:u})=>{var d;(d=Je.getRemoteMicById(u))==null||d.connection.send({t:"keyboard-layout",help:o})}),_.useEffect(()=>{Je.broadcast({t:"keyboard-layout",help:o})},[s]);const{remote:a,...l}=o??{},c=!!Object.values(l).length;return f.jsxs(Fx.Provider,{value:{setKeyboard:r,unsetKeyboard:i,hasContent:c},children:[e,f.jsx(gJ,{help:l})]})};var EJ={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"};const{webm:kJ,mp4:CJ}=EJ,gy=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,my=()=>"wakeLock"in navigator&&window.navigator.userAgent.indexOf("Samsung")===-1;class TJ{constructor(){if(this.enabled=!1,my()){this._wakeLock=null;const t=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else gy()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",kJ),this._addSourceToVideo(this.noSleepVideo,"mp4",CJ),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),document.querySelector("body").append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(t,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,t.appendChild(i)}get isEnabled(){return this.enabled}enable(){return my()?navigator.wakeLock.request("screen").then(t=>{this._wakeLock=t,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(t=>{throw this.enabled=!1,console.error(`${t.name}, ${t.message}`),t}):gy()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(n=>(this.enabled=!0,n)).catch(n=>{throw this.enabled=!1,n})}disable(){my()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):gy()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}var IJ=TJ;const PJ=lr(IJ),RJ="/assets/eurovisionbg-CvR5q-FP.svg",zx=_.createContext({visible:!0,theme:"regular",setVisibility:e=>{},setTheme:e=>{}}),fa=(e,t="regular")=>{const{setVisibility:n,setTheme:r}=_.useContext(zx);_.useEffect(()=>{n(e)},[e,n]),_.useEffect(()=>{r(t)},[t,r])};function MJ({children:e}){const[t,n]=_.useState(!0),[r,i]=_.useState("regular");return f.jsxs(zx.Provider,{value:{visible:t,setVisibility:n,setTheme:i,theme:r},children:[t&&f.jsx(NJ,{bgtheme:r,children:r==="eurovision"&&f.jsx(I1,{})}),e]})}const I1=()=>{var e;return f.jsx(f.Fragment,{children:f.jsx(OJ,{disableAnimation:(e=global.location)==null?void 0:e.href.includes("/remote-mic")})})};var jJ={name:"14nwa94",styles:"animation:escGradient 46s linear infinite;flex:1"};const OJ=C("div",{target:"ev6htcq2"})("transform:scale(1, 4);background-image:url(",RJ,");background-size:100% 50%;height:100%;",e=>!e.disableAnimation&&jJ,"@keyframes escGradient{0%{background-position:0% 800%;}100%{background-position:0% 0%;}}");var VJ={name:"zjik7",styles:"display:flex"};const LJ=C("div",{target:"ev6htcq1"})("background-color:white;",e=>e.bgtheme==="christmas"?Ot(`background-image:linear-gradient(
            -45deg,
            `,Le.christmasGreen.text,`,
            `,Le.christmasGreen.stroke,`,
            `,Le.christmasRed.stroke,`,
            `,Le.christmasRed.stroke,`
          );background-size:400% 400%;`,""):e.bgtheme==="eurovision"?VJ:Ot(`background-image:linear-gradient(
              -45deg,
              `,Le.red.stroke,`,
              `,Le.blue.text,`,
              `,Le.blue.stroke,`,
              `,Le.red.stroke,`
            );background-size:400% 400%;`,"")," width:100%;height:100%;"),NJ=C(LJ,{target:"ev6htcq0"})("z-index:-1;top:0;position:fixed;",e=>e.theme.graphicSetting==="high"?"animation: gradient 15s ease infinite":"",";",e=>e.theme.graphicSetting==="low"?"background-position: 100% 50%":"",";@keyframes gradient{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}");function $J({size:e=16}){return f.jsx("style",{children:`html {
                font-size: ${e}px !important;
            }`})}function T0(e){return _.useMemo(()=>{var t;return new URLSearchParams((t=global.location)==null?void 0:t.search).get(e)},[e])}const BJ=Ot("h1{",Ne,";margin:0;text-align:center;font-size:4rem;color:",he.colors.text.active,";}h2{",Ne,";margin:0;font-size:2.9rem;}h3{",Ne,";margin:0;font-size:2.7rem;strong{color:",he.colors.text.active,";}}h4{",Ne,";margin:0;font-size:2.2rem;line-height:1.15;}h5{",Ne,";margin:0;font-size:1.6rem;line-height:1.5;}h6{",Ne,";margin:0;line-height:1.5;font-size:1.3rem;}hr{margin:0.5rem 1rem;opacity:0.25;}h1,h2,h3,h4,h5{button{",Ne,";background:none;padding:0;margin:0;border:none;font-size:inherit;color:",he.colors.text.active,";text-decoration:underline;cursor:pointer;}svg{font-size:0.8em;}}a{",Ne,";color:",he.colors.text.active,";text-decoration:underline;}strong{color:",he.colors.text.active,";}"),DJ=C("div",{target:"e1py91zd0"})(BJ,";");var Ux={},aO={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(aO);var Xe=aO.exports,vy={};function $o(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lO(e){if(!$o(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=lO(e[n])}),t}function rs(e,t,n={clone:!0}){const r=n.clone?oe({},e):e;return $o(e)&&$o(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&($o(t[i])&&i in e&&$o(e[i])?r[i]=rs(e[i],t[i],n):n.clone?r[i]=$o(t[i])?lO(t[i]):t[i]:r[i]=t[i])}),r}const FJ=Object.freeze(Object.defineProperty({__proto__:null,default:rs,isPlainObject:$o},Symbol.toStringTag,{value:"Module"}));var cO={exports:{}},zJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UJ=zJ,HJ=UJ;function uO(){}function dO(){}dO.resetWarningCache=uO;var qJ=function(){function e(r,i,s,o,a,l){if(l!==HJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:dO,resetWarningCache:uO};return n.PropTypes=n,n};cO.exports=qJ();var GJ=cO.exports;const ze=lr(GJ);function dl(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const WJ=Object.freeze(Object.defineProperty({__proto__:null,default:dl},Symbol.toStringTag,{value:"Module"}));var fO={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=Symbol.for("react.element"),qx=Symbol.for("react.portal"),I0=Symbol.for("react.fragment"),P0=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),M0=Symbol.for("react.provider"),j0=Symbol.for("react.context"),YJ=Symbol.for("react.server_context"),O0=Symbol.for("react.forward_ref"),V0=Symbol.for("react.suspense"),L0=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),$0=Symbol.for("react.lazy"),KJ=Symbol.for("react.offscreen"),hO;hO=Symbol.for("react.module.reference");function Oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Hx:switch(e=e.type,e){case I0:case R0:case P0:case V0:case L0:return e;default:switch(e=e&&e.$$typeof,e){case YJ:case j0:case O0:case $0:case N0:case M0:return e;default:return t}}case qx:return t}}}yt.ContextConsumer=j0;yt.ContextProvider=M0;yt.Element=Hx;yt.ForwardRef=O0;yt.Fragment=I0;yt.Lazy=$0;yt.Memo=N0;yt.Portal=qx;yt.Profiler=R0;yt.StrictMode=P0;yt.Suspense=V0;yt.SuspenseList=L0;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return Oi(e)===j0};yt.isContextProvider=function(e){return Oi(e)===M0};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hx};yt.isForwardRef=function(e){return Oi(e)===O0};yt.isFragment=function(e){return Oi(e)===I0};yt.isLazy=function(e){return Oi(e)===$0};yt.isMemo=function(e){return Oi(e)===N0};yt.isPortal=function(e){return Oi(e)===qx};yt.isProfiler=function(e){return Oi(e)===R0};yt.isStrictMode=function(e){return Oi(e)===P0};yt.isSuspense=function(e){return Oi(e)===V0};yt.isSuspenseList=function(e){return Oi(e)===L0};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===I0||e===R0||e===P0||e===V0||e===L0||e===KJ||typeof e=="object"&&e!==null&&(e.$$typeof===$0||e.$$typeof===N0||e.$$typeof===M0||e.$$typeof===j0||e.$$typeof===O0||e.$$typeof===hO||e.getModuleId!==void 0)};yt.typeOf=Oi;fO.exports=yt;var WC=fO.exports;const QJ=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function pO(e){const t=`${e}`.match(QJ);return t&&t[1]||""}function gO(e,t=""){return e.displayName||e.name||pO(e)||t}function YC(e,t,n){const r=gO(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function JJ(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return gO(e,"Component");if(typeof e=="object")switch(e.$$typeof){case WC.ForwardRef:return YC(e,e.render,"ForwardRef");case WC.Memo:return YC(e,e.type,"memo");default:return}}}const XJ=Object.freeze(Object.defineProperty({__proto__:null,default:JJ,getFunctionName:pO},Symbol.toStringTag,{value:"Module"}));function Cn(e){if(typeof e!="string")throw new Error(dl(7));return e.charAt(0).toUpperCase()+e.slice(1)}const ZJ=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"}));function eX(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function tX(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function nX(e,t){return()=>null}function rX(e,t){var n,r;return _.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function qg(e){return e&&e.ownerDocument||document}function iX(e){return qg(e).defaultView||window}function sX(e,t){return()=>null}function Gg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const nu=typeof window<"u"?_.useLayoutEffect:_.useEffect;let KC=0;function oX(e){const[t,n]=_.useState(e),r=e||t;return _.useEffect(()=>{t==null&&(KC+=1,n(`mui-${KC}`))},[t]),r}const QC=pg.useId;function mO(e){if(QC!==void 0){const t=QC();return e??t}return oX(e)}function aX(e,t,n,r,i){return null}function vO({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=_.useRef(e!==void 0),[s,o]=_.useState(t),a=i?e:s,l=_.useCallback(c=>{i||o(c)},[]);return[a,l]}function za(e){const t=_.useRef(e);return nu(()=>{t.current=e}),_.useRef((...n)=>(0,t.current)(...n)).current}function ho(...e){return _.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Gg(n,t)})},e)}const JC={};function lX(e,t){const n=_.useRef(JC);return n.current===JC&&(n.current=e(t)),n}const cX=[];function uX(e){_.useEffect(e,cX)}class ah{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ah}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function ac(){const e=lX(ah.create).current;return uX(e.disposeEffect),e}let B0=!0,P1=!1;const dX=new ah,fX={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function hX(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&fX[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function pX(e){e.metaKey||e.altKey||e.ctrlKey||(B0=!0)}function yy(){B0=!1}function gX(){this.visibilityState==="hidden"&&P1&&(B0=!0)}function mX(e){e.addEventListener("keydown",pX,!0),e.addEventListener("mousedown",yy,!0),e.addEventListener("pointerdown",yy,!0),e.addEventListener("touchstart",yy,!0),e.addEventListener("visibilitychange",gX,!0)}function vX(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return B0||hX(t)}function Gx(){const e=_.useCallback(i=>{i!=null&&mX(i.ownerDocument)},[]),t=_.useRef(!1);function n(){return t.current?(P1=!0,dX.start(100,()=>{P1=!1}),t.current=!1,!0):!1}function r(i){return vX(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function yO(e,t){const n=oe({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=oe({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=oe({},s),Object.keys(i).forEach(o=>{n[r][o]=yO(i[o],s[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Il(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((s,o)=>{if(o){const a=t(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const XC=e=>e,yX=()=>{let e=XC;return{configure(t){e=t},generate(t){return e(t)},reset(){e=XC}}},AX=yX(),AO=AX,_O={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pl(e,t,n="Mui"){const r=_O[t];return r?`${n}-${r}`:`${AO.generate(e)}-${t}`}function Rl(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Pl(e,i,n)}),r}function bO(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const _X=Object.freeze(Object.defineProperty({__proto__:null,default:bO},Symbol.toStringTag,{value:"Module"}));function Xt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function xO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xO(e))&&(r&&(r+=" "),r+=t);return r}function bX(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:yO(t.components[n].defaultProps,r)}const xX=["values","unit","step"],SX=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>oe({},n,{[r.key]:r.val}),{})};function SO(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Xt(e,xX),s=SX(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(g!==-1&&typeof t[o[g]]=="number"?t[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return oe({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const wX={borderRadius:4},EX=wX;function Nd(e,t){return t?rs(e,t,{clone:!1}):e}const Wx={xs:0,sm:600,md:900,lg:1200,xl:1536},ZC={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Wx[e]}px)`};function po(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||ZC;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||ZC;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||Wx).indexOf(a)!==-1){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function wO(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function EO(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function J1e(e,...t){const n=wO(e),r=[n,...t].reduce((i,s)=>rs(i,s),{});return EO(Object.keys(n),r)}function kX(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,s)=>{s<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function X1e({values:e,breakpoints:t,base:n}){const r=n||kX(e,t),i=Object.keys(r);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function D0(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Wg(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=D0(e,n)||r,t&&(i=t(i,r,e)),i}function gn(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=D0(l,r)||{};return po(o,a,d=>{let h=Wg(c,i,d);return d===h&&typeof d=="string"&&(h=Wg(c,i,`${t}${d==="default"?"":Cn(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[t],s}function CX(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const TX={m:"margin",p:"padding"},IX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PX=CX(e=>{if(e.length>2)if(eT[e])e=eT[e];else return[e];const[t,n]=e.split(""),r=TX[t],i=IX[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Yx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Kx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Yx,...Kx];function lh(e,t,n,r){var i;const s=(i=D0(e,t,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function kO(e){return lh(e,"spacing",8)}function ch(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function RX(e,t){return n=>e.reduce((r,i)=>(r[i]=ch(t,n),r),{})}function MX(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=PX(n),s=RX(i,r),o=e[n];return po(e,o,s)}function CO(e,t){const n=kO(e.theme);return Object.keys(e).map(r=>MX(e,t,r,n)).reduce(Nd,{})}function en(e){return CO(e,Yx)}en.propTypes={};en.filterProps=Yx;function tn(e){return CO(e,Kx)}tn.propTypes={};tn.filterProps=Kx;function jX(e=8){if(e.mui)return e;const t=kO({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function F0(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?Nd(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function mi(e){return typeof e!="number"?e:`${e}px solid`}function Vi(e,t){return gn({prop:e,themeKey:"borders",transform:t})}const OX=Vi("border",mi),VX=Vi("borderTop",mi),LX=Vi("borderRight",mi),NX=Vi("borderBottom",mi),$X=Vi("borderLeft",mi),BX=Vi("borderColor"),DX=Vi("borderTopColor"),FX=Vi("borderRightColor"),zX=Vi("borderBottomColor"),UX=Vi("borderLeftColor"),HX=Vi("outline",mi),qX=Vi("outlineColor"),z0=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=lh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:ch(t,r)});return po(e,e.borderRadius,n)}return null};z0.propTypes={};z0.filterProps=["borderRadius"];F0(OX,VX,LX,NX,$X,BX,DX,FX,zX,UX,z0,HX,qX);const U0=e=>{if(e.gap!==void 0&&e.gap!==null){const t=lh(e.theme,"spacing",8),n=r=>({gap:ch(t,r)});return po(e,e.gap,n)}return null};U0.propTypes={};U0.filterProps=["gap"];const H0=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=lh(e.theme,"spacing",8),n=r=>({columnGap:ch(t,r)});return po(e,e.columnGap,n)}return null};H0.propTypes={};H0.filterProps=["columnGap"];const q0=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=lh(e.theme,"spacing",8),n=r=>({rowGap:ch(t,r)});return po(e,e.rowGap,n)}return null};q0.propTypes={};q0.filterProps=["rowGap"];const GX=gn({prop:"gridColumn"}),WX=gn({prop:"gridRow"}),YX=gn({prop:"gridAutoFlow"}),KX=gn({prop:"gridAutoColumns"}),QX=gn({prop:"gridAutoRows"}),JX=gn({prop:"gridTemplateColumns"}),XX=gn({prop:"gridTemplateRows"}),ZX=gn({prop:"gridTemplateAreas"}),eZ=gn({prop:"gridArea"});F0(U0,H0,q0,GX,WX,YX,KX,QX,JX,XX,ZX,eZ);function jc(e,t){return t==="grey"?t:e}const tZ=gn({prop:"color",themeKey:"palette",transform:jc}),nZ=gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jc}),rZ=gn({prop:"backgroundColor",themeKey:"palette",transform:jc});F0(tZ,nZ,rZ);function Ur(e){return e<=1&&e!==0?`${e*100}%`:e}const iZ=gn({prop:"width",transform:Ur}),Qx=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const s=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Wx[n];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ur(n)}};return po(e,e.maxWidth,t)}return null};Qx.filterProps=["maxWidth"];const sZ=gn({prop:"minWidth",transform:Ur}),oZ=gn({prop:"height",transform:Ur}),aZ=gn({prop:"maxHeight",transform:Ur}),lZ=gn({prop:"minHeight",transform:Ur});gn({prop:"size",cssProperty:"width",transform:Ur});gn({prop:"size",cssProperty:"height",transform:Ur});const cZ=gn({prop:"boxSizing"});F0(iZ,Qx,sZ,oZ,aZ,lZ,cZ);const uZ={border:{themeKey:"borders",transform:mi},borderTop:{themeKey:"borders",transform:mi},borderRight:{themeKey:"borders",transform:mi},borderBottom:{themeKey:"borders",transform:mi},borderLeft:{themeKey:"borders",transform:mi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:mi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:z0},color:{themeKey:"palette",transform:jc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jc},backgroundColor:{themeKey:"palette",transform:jc},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:U0},rowGap:{style:q0},columnGap:{style:H0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ur},maxWidth:{style:Qx},minWidth:{transform:Ur},height:{transform:Ur},maxHeight:{transform:Ur},minHeight:{transform:Ur},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},uh=uZ;function dZ(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function fZ(e,t){return typeof e=="function"?e(t):e}function TO(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=D0(i,c)||{};return d?d(o):po(o,r,g=>{let m=Wg(h,u,g);return g===m&&typeof g=="string"&&(m=Wg(h,u,`${n}${g==="default"?"":Cn(g)}`,g)),l===!1?m:{[l]:m}})}function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:uh;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=wO(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=fZ(c[p],s);if(g!=null)if(typeof g=="object")if(o[p])h=Nd(h,e(p,g,s,o));else{const m=po({theme:s},g,A=>({[p]:A}));dZ(m,g)?h[p]=t({sx:g,theme:s}):h=Nd(h,m)}else h=Nd(h,e(p,g,s,o))}),EO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const IO=TO();IO.filterProps=["sx"];const Jx=IO;function PO(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const hZ=["breakpoints","palette","spacing","shape"];function Xx(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=e,o=Xt(e,hZ),a=SO(n),l=jX(i);let c=rs({breakpoints:a,direction:"ltr",components:{},palette:oe({mode:"light"},r),spacing:l,shape:oe({},EX,s)},o);return c.applyStyles=PO,c=t.reduce((u,d)=>rs(u,d),c),c.unstable_sxConfig=oe({},uh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Jx({sx:d,theme:this})},c}const pZ=Object.freeze(Object.defineProperty({__proto__:null,default:Xx,private_createBreakpoints:SO,unstable_applyStyles:PO},Symbol.toStringTag,{value:"Module"}));var gZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],R1=C.bind();gZ.forEach(function(e){R1[e]=R1(e)});let M1;typeof document=="object"&&(M1=gb({key:"css",prepend:!0}));function mZ(e){const{injectFirst:t,children:n}=e;return t&&M1?f.jsx(eM,{value:M1,children:n}):n}function vZ(e){return e==null||Object.keys(e).length===0}function yZ(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(vZ(i)?n:i):t;return f.jsx(nM,{styles:r})}function AZ(e,t){return R1(e,t)}const _Z=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},bZ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:yZ,StyledEngineProvider:mZ,ThemeContext:Yf,css:Ot,default:AZ,internal_processStyles:_Z,keyframes:_o},Symbol.toStringTag,{value:"Module"}));function xZ(e){return Object.keys(e).length===0}function RO(e=null){const t=_.useContext(Yf);return!t||xZ(t)?e:t}const SZ=Xx();function MO(e=SZ){return RO(e)}function wZ({props:e,name:t,defaultTheme:n,themeId:r}){let i=MO(n);return r&&(i=i[r]||i),bX({theme:i,name:t,props:e})}const EZ=["sx"],kZ=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:uh;return Object.keys(e).forEach(s=>{i[s]?r.systemProps[s]=e[s]:r.otherProps[s]=e[s]}),r};function CZ(e){const{sx:t}=e,n=Xt(e,EZ),{systemProps:r,otherProps:i}=kZ(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return $o(a)?oe({},r,a):r}:s=oe({},r,t),oe({},i,{sx:s})}const TZ=Object.freeze(Object.defineProperty({__proto__:null,default:Jx,extendSxProp:CZ,unstable_createStyleFunctionSx:TO,unstable_defaultSxConfig:uh},Symbol.toStringTag,{value:"Module"}));function IZ(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var mn={};const PZ=Fs(WJ),RZ=Fs(_X);var jO=Xe;Object.defineProperty(mn,"__esModule",{value:!0});var Yg=mn.alpha=NO;mn.blend=HZ;mn.colorChannel=void 0;var MZ=mn.darken=eS;mn.decomposeColor=Ii;mn.emphasize=UZ;var jZ=mn.getContrastRatio=BZ;mn.getLuminance=Kg;mn.hexToRgb=OO;mn.hslToRgb=LO;var OZ=mn.lighten=tS;mn.private_safeAlpha=DZ;mn.private_safeColorChannel=void 0;mn.private_safeDarken=FZ;mn.private_safeEmphasize=$O;mn.private_safeLighten=zZ;mn.recomposeColor=wu;mn.rgbToHex=$Z;var tT=jO(PZ),VZ=jO(RZ);function Zx(e,t=0,n=1){return(0,VZ.default)(e,t,n)}function OO(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function LZ(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ii(e){if(e.type)return e;if(e.charAt(0)==="#")return Ii(OO(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,tT.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,tT.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const VO=e=>{const t=Ii(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};mn.colorChannel=VO;const NZ=(e,t)=>{try{return VO(e)}catch{return e}};mn.private_safeColorChannel=NZ;function wu(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function $Z(e){if(e.indexOf("#")===0)return e;const{values:t}=Ii(e);return`#${t.map((n,r)=>LZ(r===3?Math.round(255*n):n)).join("")}`}function LO(e){e=Ii(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),wu({type:a,values:l})}function Kg(e){e=Ii(e);let t=e.type==="hsl"||e.type==="hsla"?Ii(LO(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function BZ(e,t){const n=Kg(e),r=Kg(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function NO(e,t){return e=Ii(e),t=Zx(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,wu(e)}function DZ(e,t,n){try{return NO(e,t)}catch{return e}}function eS(e,t){if(e=Ii(e),t=Zx(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return wu(e)}function FZ(e,t,n){try{return eS(e,t)}catch{return e}}function tS(e,t){if(e=Ii(e),t=Zx(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return wu(e)}function zZ(e,t,n){try{return tS(e,t)}catch{return e}}function UZ(e,t=.15){return Kg(e)>.5?eS(e,t):tS(e,t)}function $O(e,t,n){try{return $O(e,t)}catch{return e}}function HZ(e,t,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Ii(e),o=Ii(t),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return wu({type:"rgb",values:a})}const qZ={black:"#000",white:"#fff"},mf=qZ,GZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},WZ=GZ,YZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fl=YZ,KZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},zl=KZ,QZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qu=QZ,JZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ul=JZ,XZ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Hl=XZ,ZZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ql=ZZ,eee=["mode","contrastThreshold","tonalOffset"],nT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mf.white,default:mf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ay={text:{primary:mf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rT(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=OZ(e.main,i):t==="dark"&&(e.dark=MZ(e.main,s)))}function tee(e="light"){return e==="dark"?{main:Ul[200],light:Ul[50],dark:Ul[400]}:{main:Ul[700],light:Ul[400],dark:Ul[800]}}function nee(e="light"){return e==="dark"?{main:Fl[200],light:Fl[50],dark:Fl[400]}:{main:Fl[500],light:Fl[300],dark:Fl[700]}}function ree(e="light"){return e==="dark"?{main:zl[500],light:zl[300],dark:zl[700]}:{main:zl[700],light:zl[400],dark:zl[800]}}function iee(e="light"){return e==="dark"?{main:Hl[400],light:Hl[300],dark:Hl[700]}:{main:Hl[700],light:Hl[500],dark:Hl[900]}}function see(e="light"){return e==="dark"?{main:ql[400],light:ql[300],dark:ql[700]}:{main:ql[800],light:ql[500],dark:ql[900]}}function oee(e="light"){return e==="dark"?{main:qu[400],light:qu[300],dark:qu[700]}:{main:"#ed6c02",light:qu[500],dark:qu[900]}}function aee(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Xt(e,eee),s=e.primary||tee(t),o=e.secondary||nee(t),a=e.error||ree(t),l=e.info||iee(t),c=e.success||see(t),u=e.warning||oee(t);function d(m){return jZ(m,Ay.text.primary)>=n?Ay.text.primary:nT.text.primary}const h=({color:m,name:A,mainShade:v=500,lightShade:y=300,darkShade:b=700})=>{if(m=oe({},m),!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(dl(11,A?` (${A})`:"",v));if(typeof m.main!="string")throw new Error(dl(12,A?` (${A})`:"",JSON.stringify(m.main)));return rT(m,"light",y,r),rT(m,"dark",b,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Ay,light:nT};return rs(oe({common:oe({},mf),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:WZ,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),i)}const lee=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function cee(e){return Math.round(e*1e5)/1e5}const iT={textTransform:"uppercase"},sT='"Roboto", "Helvetica", "Arial", sans-serif';function uee(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=sT,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Xt(n,lee),p=i/14,g=d||(v=>`${v/c*p}rem`),m=(v,y,b,S,x)=>oe({fontFamily:r,fontWeight:v,fontSize:g(y),lineHeight:b},r===sT?{letterSpacing:`${cee(S/y)}em`}:{},x,u),A={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,iT),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,iT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rs(oe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},A),h,{clone:!1})}const dee=.2,fee=.14,hee=.12;function Bt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${dee})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${fee})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${hee})`].join(",")}const pee=["none",Bt(0,2,1,-1,0,1,1,0,0,1,3,0),Bt(0,3,1,-2,0,2,2,0,0,1,5,0),Bt(0,3,3,-2,0,3,4,0,0,1,8,0),Bt(0,2,4,-1,0,4,5,0,0,1,10,0),Bt(0,3,5,-1,0,5,8,0,0,1,14,0),Bt(0,3,5,-1,0,6,10,0,0,1,18,0),Bt(0,4,5,-2,0,7,10,1,0,2,16,1),Bt(0,5,5,-3,0,8,10,1,0,3,14,2),Bt(0,5,6,-3,0,9,12,1,0,3,16,2),Bt(0,6,6,-3,0,10,14,1,0,4,18,3),Bt(0,6,7,-4,0,11,15,1,0,4,20,3),Bt(0,7,8,-4,0,12,17,2,0,5,22,4),Bt(0,7,8,-4,0,13,19,2,0,5,24,4),Bt(0,7,9,-4,0,14,21,2,0,5,26,4),Bt(0,8,9,-5,0,15,22,2,0,6,28,5),Bt(0,8,10,-5,0,16,24,2,0,6,30,5),Bt(0,8,11,-5,0,17,26,2,0,6,32,5),Bt(0,9,11,-5,0,18,28,2,0,7,34,6),Bt(0,9,12,-6,0,19,29,2,0,7,36,6),Bt(0,10,13,-6,0,20,31,3,0,8,38,7),Bt(0,10,13,-6,0,21,33,3,0,8,40,7),Bt(0,10,14,-6,0,22,35,3,0,8,42,7),Bt(0,11,14,-7,0,23,36,3,0,9,44,8),Bt(0,11,15,-7,0,24,38,3,0,9,46,8)],gee=["duration","easing","delay"],mee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oT(e){return`${Math.round(e)}ms`}function yee(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Aee(e){const t=oe({},mee,e.easing),n=oe({},vee,e.duration);return oe({getAutoHeightDuration:yee,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0}=s;return Xt(s,gee),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:oT(o)} ${a} ${typeof l=="string"?l:oT(l)}`).join(",")}},e,{easing:t,duration:n})}const _ee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},bee=_ee,xee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function BO(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=e,o=Xt(e,xee);if(e.vars)throw new Error(dl(18));const a=aee(r),l=Xx(e);let c=rs(l,{mixins:IZ(l.breakpoints,n),palette:a,shadows:pee.slice(),typography:uee(a,s),transitions:Aee(i),zIndex:oe({},bee)});return c=rs(c,o),c=t.reduce((u,d)=>rs(u,d),c),c.unstable_sxConfig=oe({},uh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Jx({sx:d,theme:this})},c}const See=BO(),nS=See,vf="$$material";function ha({props:e,name:t}){return wZ({props:e,name:t,defaultTheme:nS,themeId:vf})}var dh={},_y={exports:{}},aT;function wee(){return aT||(aT=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_y)),_y.exports}var by={exports:{}},lT;function Eee(){return lT||(lT=1,function(e){function t(n,r){if(n==null)return{};var i={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(i[o]=n[o]);return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(by)),by.exports}const DO=Fs(bZ),kee=Fs(FJ),Cee=Fs(ZJ),Tee=Fs(XJ),Iee=Fs(pZ),Pee=Fs(TZ);var Eu=Xe;Object.defineProperty(dh,"__esModule",{value:!0});var Ree=dh.default=Hee;dh.shouldForwardProp=Jp;dh.systemDefaultTheme=void 0;var di=Eu(wee()),j1=Eu(Eee()),cT=$ee(DO),Mee=kee;Eu(Cee);Eu(Tee);var jee=Eu(Iee),Oee=Eu(Pee);const Vee=["ownerState"],Lee=["variants"],Nee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function FO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(FO=function(r){return r?n:t})(e)}function $ee(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=FO(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Bee(e){return Object.keys(e).length===0}function Dee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Jp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Fee=dh.systemDefaultTheme=(0,jee.default)(),zee=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function ep({defaultTheme:e,theme:t,themeId:n}){return Bee(t)?e:t[n]||t}function Uee(e){return e?(t,n)=>n[e]:null}function Xp(e,t){let{ownerState:n}=t,r=(0,j1.default)(t,Vee);const i=typeof e=="function"?e((0,di.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap(s=>Xp(s,(0,di.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,j1.default)(i,Lee);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,di.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,di.default)({ownerState:n},r,n)):l.style))}),a}return i}function Hee(e={}){const{themeId:t,defaultTheme:n=Fee,rootShouldForwardProp:r=Jp,slotShouldForwardProp:i=Jp}=e,s=o=>(0,Oee.default)((0,di.default)({},o,{theme:ep((0,di.default)({},o,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,cT.internal_processStyles)(o,x=>x.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Uee(zee(c))}=a,p=(0,j1.default)(a,Nee),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,m=d||!1;let A,v=Jp;c==="Root"||c==="root"?v=r:c?v=i:Dee(o)&&(v=void 0);const y=(0,cT.default)(o,(0,di.default)({shouldForwardProp:v,label:A},p)),b=x=>typeof x=="function"&&x.__emotion_real!==x||(0,Mee.isPlainObject)(x)?w=>Xp(x,(0,di.default)({},w,{theme:ep({theme:w.theme,defaultTheme:n,themeId:t})})):x,S=(x,...w)=>{let E=b(x);const I=w?w.map(b):[];l&&h&&I.push(B=>{const Q=ep((0,di.default)({},B,{defaultTheme:n,themeId:t}));if(!Q.components||!Q.components[l]||!Q.components[l].styleOverrides)return null;const M=Q.components[l].styleOverrides,U={};return Object.entries(M).forEach(([P,T])=>{U[P]=Xp(T,(0,di.default)({},B,{theme:Q}))}),h(B,U)}),l&&!g&&I.push(B=>{var Q;const M=ep((0,di.default)({},B,{defaultTheme:n,themeId:t})),U=M==null||(Q=M.components)==null||(Q=Q[l])==null?void 0:Q.variants;return Xp({variants:U},(0,di.default)({},B,{theme:M}))}),m||I.push(s);const L=I.length-w.length;if(Array.isArray(x)&&L>0){const B=new Array(L).fill("");E=[...x,...B],E.raw=[...x.raw,...B]}const j=y(E,...I);return o.muiName&&(j.muiName=o.muiName),j};return y.withConfig&&(S.withConfig=y.withConfig),S}}function qee(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Gee=e=>qee(e)&&e!=="classes",ri=Ree({themeId:vf,defaultTheme:nS,rootShouldForwardProp:Gee});function Wee(e){return Pl("MuiSvgIcon",e)}Rl("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Yee=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Kee=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Cn(t)}`,`fontSize${Cn(n)}`]};return Il(i,Wee,r)},Qee=ri("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Cn(n.color)}`],t[`fontSize${Cn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,s,o,a,l,c,u,d,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[t.color]}}),Qg=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Xt(r,Yee),g=_.isValidElement(i)&&i.type==="svg",m=oe({},r,{color:o,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g}),A={};u||(A.viewBox=h);const v=Kee(m);return f.jsxs(Qee,oe({as:a,className:xn(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},A,p,g&&i.props,{ownerState:m,children:[g?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});Qg.muiName="SvgIcon";function Jee(e,t){function n(r,i){return f.jsx(Qg,oe({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=Qg.muiName,_.memo(_.forwardRef(n))}const Xee={configure:e=>{AO.configure(e)}},Zee=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Cn,createChainedFunction:eX,createSvgIcon:Jee,debounce:tX,deprecatedPropType:nX,isMuiElement:rX,ownerDocument:qg,ownerWindow:iX,requirePropFactory:sX,setRef:Gg,unstable_ClassNameGenerator:Xee,unstable_useEnhancedEffect:nu,unstable_useId:mO,unsupportedProp:aX,useControlled:vO,useEventCallback:za,useForkRef:ho,useIsFocusVisible:Gx},Symbol.toStringTag,{value:"Module"})),ete=Fs(Zee);var uT;function nt(){return uT||(uT=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=ete}(vy)),vy}var tte=Xe;Object.defineProperty(Ux,"__esModule",{value:!0});var zO=Ux.default=void 0,nte=tte(nt()),rte=f;zO=Ux.default=(0,nte.default)((0,rte.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var rS={},ite=Xe;Object.defineProperty(rS,"__esModule",{value:!0});var UO=rS.default=void 0,ste=ite(nt()),ote=f;UO=rS.default=(0,ste.default)((0,ote.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var iS={},ate=Xe;Object.defineProperty(iS,"__esModule",{value:!0});var yf=iS.default=void 0,lte=ate(nt()),cte=f;yf=iS.default=(0,lte.default)((0,cte.jsx)("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2");function O1(e,t){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O1(e,t)}function HO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,O1(e,t)}var qO={exports:{}},ii={},GO={exports:{}},WO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,N){var D=O.length;O.push(N);e:for(;0<D;){var $=D-1>>>1,q=O[$];if(0<i(q,N))O[$]=N,O[D]=q,D=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var N=O[0],D=O.pop();if(D!==N){O[0]=D;e:for(var $=0,q=O.length,ne=q>>>1;$<ne;){var V=2*($+1)-1,ce=O[V],Z=V+1,de=O[Z];if(0>i(ce,D))Z<q&&0>i(de,ce)?(O[$]=de,O[Z]=D,$=Z):(O[$]=ce,O[V]=D,$=V);else if(Z<q&&0>i(de,D))O[$]=de,O[Z]=D,$=Z;else break e}}return N}function i(O,N){var D=O.sortIndex-N.sortIndex;return D!==0?D:O.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,A=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=O)r(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(c)}}function S(O){if(m=!1,b(O),!g)if(n(l)!==null)g=!0,T(x);else{var N=n(c);N!==null&&z(S,N.startTime-O)}}function x(O,N){g=!1,m&&(m=!1,v(I),I=-1),p=!0;var D=h;try{for(b(N),d=n(l);d!==null&&(!(d.expirationTime>N)||O&&!B());){var $=d.callback;if(typeof $=="function"){d.callback=null,h=d.priorityLevel;var q=$(d.expirationTime<=N);N=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),b(N)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var V=n(c);V!==null&&z(S,V.startTime-N),ne=!1}return ne}finally{d=null,h=D,p=!1}}var w=!1,E=null,I=-1,L=5,j=-1;function B(){return!(e.unstable_now()-j<L)}function Q(){if(E!==null){var O=e.unstable_now();j=O;var N=!0;try{N=E(!0,O)}finally{N?M():(w=!1,E=null)}}else w=!1}var M;if(typeof y=="function")M=function(){y(Q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=Q,M=function(){P.postMessage(null)}}else M=function(){A(Q,0)};function T(O){E=O,w||(w=!0,M())}function z(O,N){I=A(function(){O(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(x))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var D=h;h=N;try{return O()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=h;h=O;try{return N()}finally{h=D}},e.unstable_scheduleCallback=function(O,N,D){var $=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=D+q,O={id:u++,callback:N,priorityLevel:O,startTime:D,expirationTime:q,sortIndex:-1},D>$?(O.sortIndex=D,t(c,O),n(l)===null&&O===n(c)&&(m?(v(I),I=-1):m=!0,z(S,D-$))):(O.sortIndex=q,t(l,O),g||p||(g=!0,T(x))),O},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(O){var N=h;return function(){var D=h;h=N;try{return O.apply(this,arguments)}finally{h=D}}}})(WO);GO.exports=WO;var ute=GO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO=_,Xr=ute;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KO=new Set,Af={};function Ml(e,t){ru(e,t),ru(e+"Capture",t)}function ru(e,t){for(Af[e]=t,e=0;e<t.length;e++)KO.add(t[e])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V1=Object.prototype.hasOwnProperty,dte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dT={},fT={};function fte(e){return V1.call(fT,e)?!0:V1.call(dT,e)?!1:dte.test(e)?fT[e]=!0:(dT[e]=!0,!1)}function hte(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pte(e,t,n,r){if(t===null||typeof t>"u"||hte(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function br(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var sS=/[\-:]([a-z])/g;function oS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sS,oS);Xn[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sS,oS);Xn[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sS,oS);Xn[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function aS(e,t,n,r){var i=Xn.hasOwnProperty(t)?Xn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pte(t,n,i,r)&&(n=null),r||i===null?fte(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Eo=YO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),L1=Symbol.for("react.profiler"),QO=Symbol.for("react.provider"),JO=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),$1=Symbol.for("react.suspense_list"),uS=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),XO=Symbol.for("react.offscreen"),hT=Symbol.iterator;function Gu(e){return e===null||typeof e!="object"?null:(e=hT&&e[hT]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,xy;function gd(e){if(xy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xy=t&&t[1]||""}return`
`+xy+e}var Sy=!1;function wy(e,t){if(!e||Sy)return"";Sy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gd(e):""}function gte(e){switch(e.tag){case 5:return gd(e.type);case 16:return gd("Lazy");case 13:return gd("Suspense");case 19:return gd("SuspenseList");case 0:case 2:case 15:return e=wy(e.type,!1),e;case 11:return e=wy(e.type.render,!1),e;case 1:return e=wy(e.type,!0),e;default:return""}}function B1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cc:return"Fragment";case lc:return"Portal";case L1:return"Profiler";case lS:return"StrictMode";case N1:return"Suspense";case $1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JO:return(e.displayName||"Context")+".Consumer";case QO:return(e._context.displayName||"Context")+".Provider";case cS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uS:return t=e.displayName||null,t!==null?t:B1(e.type)||"Memo";case Vo:t=e._payload,e=e._init;try{return B1(e(t))}catch{}}return null}function mte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B1(t);case 8:return t===lS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ca(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ZO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vte(e){var t=ZO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function np(e){e._valueTracker||(e._valueTracker=vte(e))}function eV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ZO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function D1(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ca(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tV(e,t){t=t.checked,t!=null&&aS(e,"checked",t,!1)}function F1(e,t){tV(e,t);var n=ca(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?z1(e,t.type,n):t.hasOwnProperty("defaultValue")&&z1(e,t.type,ca(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function z1(e,t,n){(t!=="number"||Jg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var md=Array.isArray;function Oc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ca(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function U1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(md(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ca(n)}}function nV(e,t){var n=ca(t.value),r=ca(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rp,iV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _f(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yte=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(e){yte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$d[t]=$d[e]})});function sV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$d.hasOwnProperty(e)&&$d[e]?(""+t).trim():t+"px"}function oV(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ate=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function q1(e,t){if(t){if(Ate[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function G1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W1=null;function dS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Y1=null,Vc=null,Lc=null;function yT(e){if(e=ph(e)){if(typeof Y1!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=Q0(t),Y1(e.stateNode,e.type,t))}}function aV(e){Vc?Lc?Lc.push(e):Lc=[e]:Vc=e}function lV(){if(Vc){var e=Vc,t=Lc;if(Lc=Vc=null,yT(e),t)for(e=0;e<t.length;e++)yT(t[e])}}function cV(e,t){return e(t)}function uV(){}var Ey=!1;function dV(e,t,n){if(Ey)return e(t,n);Ey=!0;try{return cV(e,t,n)}finally{Ey=!1,(Vc!==null||Lc!==null)&&(uV(),lV())}}function bf(e,t){var n=e.stateNode;if(n===null)return null;var r=Q0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var K1=!1;if(go)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){K1=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{K1=!1}function _te(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,Xg=null,Zg=!1,Q1=null,bte={onError:function(e){Bd=!0,Xg=e}};function xte(e,t,n,r,i,s,o,a,l){Bd=!1,Xg=null,_te.apply(bte,arguments)}function Ste(e,t,n,r,i,s,o,a,l){if(xte.apply(this,arguments),Bd){if(Bd){var c=Xg;Bd=!1,Xg=null}else throw Error(ae(198));Zg||(Zg=!0,Q1=c)}}function jl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AT(e){if(jl(e)!==e)throw Error(ae(188))}function wte(e){var t=e.alternate;if(!t){if(t=jl(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return AT(i),e;if(s===r)return AT(i),t;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function hV(e){return e=wte(e),e!==null?pV(e):null}function pV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pV(e);if(t!==null)return t;e=e.sibling}return null}var gV=Xr.unstable_scheduleCallback,_T=Xr.unstable_cancelCallback,Ete=Xr.unstable_shouldYield,kte=Xr.unstable_requestPaint,fn=Xr.unstable_now,Cte=Xr.unstable_getCurrentPriorityLevel,fS=Xr.unstable_ImmediatePriority,mV=Xr.unstable_UserBlockingPriority,em=Xr.unstable_NormalPriority,Tte=Xr.unstable_LowPriority,vV=Xr.unstable_IdlePriority,G0=null,js=null;function Ite(e){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(G0,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:Mte,Pte=Math.log,Rte=Math.LN2;function Mte(e){return e>>>=0,e===0?32:31-(Pte(e)/Rte|0)|0}var ip=64,sp=4194304;function vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vd(a):(s&=o,s!==0&&(r=vd(s)))}else o=n&~i,o!==0?r=vd(o):s!==0&&(r=vd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-is(t),i=1<<n,r|=e[n],t&=~i;return r}function jte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ote(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-is(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=jte(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function J1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yV(){var e=ip;return ip<<=1,!(ip&4194240)&&(ip=64),e}function ky(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-is(t),e[t]=n}function Vte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-is(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function hS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-is(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var mt=0;function AV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _V,pS,bV,xV,SV,X1=!1,op=[],Zo=null,ea=null,ta=null,xf=new Map,Sf=new Map,Bo=[],Lte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bT(e,t){switch(e){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":xf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(t.pointerId)}}function Yu(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ph(t),t!==null&&pS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Nte(e,t,n,r,i){switch(t){case"focusin":return Zo=Yu(Zo,e,t,n,r,i),!0;case"dragenter":return ea=Yu(ea,e,t,n,r,i),!0;case"mouseover":return ta=Yu(ta,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return xf.set(s,Yu(xf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sf.set(s,Yu(Sf.get(s)||null,e,t,n,r,i)),!0}return!1}function wV(e){var t=Ua(e.target);if(t!==null){var n=jl(t);if(n!==null){if(t=n.tag,t===13){if(t=fV(n),t!==null){e.blockedOn=t,SV(e.priority,function(){bV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Z1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);W1=r,n.target.dispatchEvent(r),W1=null}else return t=ph(n),t!==null&&pS(t),e.blockedOn=n,!1;t.shift()}return!0}function xT(e,t,n){Zp(e)&&n.delete(t)}function $te(){X1=!1,Zo!==null&&Zp(Zo)&&(Zo=null),ea!==null&&Zp(ea)&&(ea=null),ta!==null&&Zp(ta)&&(ta=null),xf.forEach(xT),Sf.forEach(xT)}function Ku(e,t){e.blockedOn===t&&(e.blockedOn=null,X1||(X1=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,$te)))}function wf(e){function t(i){return Ku(i,e)}if(0<op.length){Ku(op[0],e);for(var n=1;n<op.length;n++){var r=op[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zo!==null&&Ku(Zo,e),ea!==null&&Ku(ea,e),ta!==null&&Ku(ta,e),xf.forEach(t),Sf.forEach(t),n=0;n<Bo.length;n++)r=Bo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bo.length&&(n=Bo[0],n.blockedOn===null);)wV(n),n.blockedOn===null&&Bo.shift()}var Nc=Eo.ReactCurrentBatchConfig,nm=!0;function Bte(e,t,n,r){var i=mt,s=Nc.transition;Nc.transition=null;try{mt=1,gS(e,t,n,r)}finally{mt=i,Nc.transition=s}}function Dte(e,t,n,r){var i=mt,s=Nc.transition;Nc.transition=null;try{mt=4,gS(e,t,n,r)}finally{mt=i,Nc.transition=s}}function gS(e,t,n,r){if(nm){var i=Z1(e,t,n,r);if(i===null)Ly(e,t,r,rm,n),bT(e,r);else if(Nte(i,e,t,n,r))r.stopPropagation();else if(bT(e,r),t&4&&-1<Lte.indexOf(e)){for(;i!==null;){var s=ph(i);if(s!==null&&_V(s),s=Z1(e,t,n,r),s===null&&Ly(e,t,r,rm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ly(e,t,r,null,n)}}var rm=null;function Z1(e,t,n,r){if(rm=null,e=dS(r),e=Ua(e),e!==null)if(t=jl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rm=e,null}function EV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cte()){case fS:return 1;case mV:return 4;case em:case Tte:return 16;case vV:return 536870912;default:return 16}default:return 16}}var qo=null,mS=null,eg=null;function kV(){if(eg)return eg;var e,t=mS,n=t.length,r,i="value"in qo?qo.value:qo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return eg=i.slice(e,1<r?1-r:void 0)}function tg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ap(){return!0}function ST(){return!1}function si(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ap:ST,this.isPropagationStopped=ST,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),t}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vS=si(ku),hh=Jt({},ku,{view:0,detail:0}),Fte=si(hh),Cy,Ty,Qu,W0=Jt({},hh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(Cy=e.screenX-Qu.screenX,Ty=e.screenY-Qu.screenY):Ty=Cy=0,Qu=e),Cy)},movementY:function(e){return"movementY"in e?e.movementY:Ty}}),wT=si(W0),zte=Jt({},W0,{dataTransfer:0}),Ute=si(zte),Hte=Jt({},hh,{relatedTarget:0}),Iy=si(Hte),qte=Jt({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),Gte=si(qte),Wte=Jt({},ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yte=si(Wte),Kte=Jt({},ku,{data:0}),ET=si(Kte),Qte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xte[e])?!!t[e]:!1}function yS(){return Zte}var ene=Jt({},hh,{key:function(e){if(e.key){var t=Qte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yS,charCode:function(e){return e.type==="keypress"?tg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tne=si(ene),nne=Jt({},W0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kT=si(nne),rne=Jt({},hh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yS}),ine=si(rne),sne=Jt({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),one=si(sne),ane=Jt({},W0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lne=si(ane),cne=[9,13,27,32],AS=go&&"CompositionEvent"in window,Dd=null;go&&"documentMode"in document&&(Dd=document.documentMode);var une=go&&"TextEvent"in window&&!Dd,CV=go&&(!AS||Dd&&8<Dd&&11>=Dd),CT=" ",TT=!1;function TV(e,t){switch(e){case"keyup":return cne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uc=!1;function dne(e,t){switch(e){case"compositionend":return IV(t);case"keypress":return t.which!==32?null:(TT=!0,CT);case"textInput":return e=t.data,e===CT&&TT?null:e;default:return null}}function fne(e,t){if(uc)return e==="compositionend"||!AS&&TV(e,t)?(e=kV(),eg=mS=qo=null,uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return CV&&t.locale!=="ko"?null:t.data;default:return null}}var hne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hne[e.type]:t==="textarea"}function PV(e,t,n,r){aV(r),t=im(t,"onChange"),0<t.length&&(n=new vS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fd=null,Ef=null;function pne(e){FV(e,0)}function Y0(e){var t=hc(e);if(eV(t))return e}function gne(e,t){if(e==="change")return t}var RV=!1;if(go){var Py;if(go){var Ry="oninput"in document;if(!Ry){var PT=document.createElement("div");PT.setAttribute("oninput","return;"),Ry=typeof PT.oninput=="function"}Py=Ry}else Py=!1;RV=Py&&(!document.documentMode||9<document.documentMode)}function RT(){Fd&&(Fd.detachEvent("onpropertychange",MV),Ef=Fd=null)}function MV(e){if(e.propertyName==="value"&&Y0(Ef)){var t=[];PV(t,Ef,e,dS(e)),dV(pne,t)}}function mne(e,t,n){e==="focusin"?(RT(),Fd=t,Ef=n,Fd.attachEvent("onpropertychange",MV)):e==="focusout"&&RT()}function vne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Y0(Ef)}function yne(e,t){if(e==="click")return Y0(t)}function Ane(e,t){if(e==="input"||e==="change")return Y0(t)}function _ne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ls=typeof Object.is=="function"?Object.is:_ne;function kf(e,t){if(ls(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!V1.call(t,i)||!ls(e[i],t[i]))return!1}return!0}function MT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jT(e,t){var n=MT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MT(n)}}function jV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OV(){for(var e=window,t=Jg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jg(e.document)}return t}function _S(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bne(e){var t=OV(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jV(n.ownerDocument.documentElement,n)){if(r!==null&&_S(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=jT(n,s);var o=jT(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xne=go&&"documentMode"in document&&11>=document.documentMode,dc=null,e_=null,zd=null,t_=!1;function OT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;t_||dc==null||dc!==Jg(r)||(r=dc,"selectionStart"in r&&_S(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&kf(zd,r)||(zd=r,r=im(e_,"onSelect"),0<r.length&&(t=new vS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dc)))}function lp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fc={animationend:lp("Animation","AnimationEnd"),animationiteration:lp("Animation","AnimationIteration"),animationstart:lp("Animation","AnimationStart"),transitionend:lp("Transition","TransitionEnd")},My={},VV={};go&&(VV=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function K0(e){if(My[e])return My[e];if(!fc[e])return e;var t=fc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in VV)return My[e]=t[n];return e}var LV=K0("animationend"),NV=K0("animationiteration"),$V=K0("animationstart"),BV=K0("transitionend"),DV=new Map,VT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(e,t){DV.set(e,t),Ml(t,[e])}for(var jy=0;jy<VT.length;jy++){var Oy=VT[jy],Sne=Oy.toLowerCase(),wne=Oy[0].toUpperCase()+Oy.slice(1);pa(Sne,"on"+wne)}pa(LV,"onAnimationEnd");pa(NV,"onAnimationIteration");pa($V,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(BV,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ene=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function LT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ste(r,t,void 0,e),e.currentTarget=null}function FV(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;LT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;LT(i,a,c),s=l}}}if(Zg)throw e=Q1,Zg=!1,Q1=null,e}function Pt(e,t){var n=t[o_];n===void 0&&(n=t[o_]=new Set);var r=e+"__bubble";n.has(r)||(zV(t,e,2,!1),n.add(r))}function Vy(e,t,n){var r=0;t&&(r|=4),zV(n,e,r,t)}var cp="_reactListening"+Math.random().toString(36).slice(2);function Cf(e){if(!e[cp]){e[cp]=!0,KO.forEach(function(n){n!=="selectionchange"&&(Ene.has(n)||Vy(n,!1,e),Vy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cp]||(t[cp]=!0,Vy("selectionchange",!1,t))}}function zV(e,t,n,r){switch(EV(t)){case 1:var i=Bte;break;case 4:i=Dte;break;default:i=gS}n=i.bind(null,t,n,e),i=void 0,!K1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ly(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ua(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dV(function(){var c=s,u=dS(n),d=[];e:{var h=DV.get(e);if(h!==void 0){var p=vS,g=e;switch(e){case"keypress":if(tg(n)===0)break e;case"keydown":case"keyup":p=tne;break;case"focusin":g="focus",p=Iy;break;case"focusout":g="blur",p=Iy;break;case"beforeblur":case"afterblur":p=Iy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ute;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ine;break;case LV:case NV:case $V:p=Gte;break;case BV:p=one;break;case"scroll":p=Fte;break;case"wheel":p=lne;break;case"copy":case"cut":case"paste":p=Yte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kT}var m=(t&4)!==0,A=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=c,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=bf(y,v),S!=null&&m.push(Tf(y,S,b)))),A)break;y=y.return}0<m.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==W1&&(g=n.relatedTarget||n.fromElement)&&(Ua(g)||g[mo]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Ua(g):null,g!==null&&(A=jl(g),g!==A||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=wT,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=kT,S="onPointerLeave",v="onPointerEnter",y="pointer"),A=p==null?h:hc(p),b=g==null?h:hc(g),h=new m(S,y+"leave",p,n,u),h.target=A,h.relatedTarget=b,S=null,Ua(u)===c&&(m=new m(v,y+"enter",g,n,u),m.target=b,m.relatedTarget=A,S=m),A=S,p&&g)t:{for(m=p,v=g,y=0,b=m;b;b=Gl(b))y++;for(b=0,S=v;S;S=Gl(S))b++;for(;0<y-b;)m=Gl(m),y--;for(;0<b-y;)v=Gl(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Gl(m),v=Gl(v)}m=null}else m=null;p!==null&&NT(d,h,p,m,!1),g!==null&&A!==null&&NT(d,A,g,m,!0)}}e:{if(h=c?hc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=gne;else if(IT(h))if(RV)x=Ane;else{x=vne;var w=mne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=yne);if(x&&(x=x(e,c))){PV(d,x,n,u);break e}w&&w(e,h,c),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&z1(h,"number",h.value)}switch(w=c?hc(c):window,e){case"focusin":(IT(w)||w.contentEditable==="true")&&(dc=w,e_=c,zd=null);break;case"focusout":zd=e_=dc=null;break;case"mousedown":t_=!0;break;case"contextmenu":case"mouseup":case"dragend":t_=!1,OT(d,n,u);break;case"selectionchange":if(xne)break;case"keydown":case"keyup":OT(d,n,u)}var E;if(AS)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else uc?TV(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(CV&&n.locale!=="ko"&&(uc||I!=="onCompositionStart"?I==="onCompositionEnd"&&uc&&(E=kV()):(qo=u,mS="value"in qo?qo.value:qo.textContent,uc=!0)),w=im(c,I),0<w.length&&(I=new ET(I,e,null,n,u),d.push({event:I,listeners:w}),E?I.data=E:(E=IV(n),E!==null&&(I.data=E)))),(E=une?dne(e,n):fne(e,n))&&(c=im(c,"onBeforeInput"),0<c.length&&(u=new ET("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}FV(d,t)})}function Tf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function im(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bf(e,n),s!=null&&r.unshift(Tf(e,s,i)),s=bf(e,t),s!=null&&r.push(Tf(e,s,i))),e=e.return}return r}function Gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function NT(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=bf(n,s),l!=null&&o.unshift(Tf(n,l,a))):i||(l=bf(n,s),l!=null&&o.push(Tf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kne=/\r\n?/g,Cne=/\u0000|\uFFFD/g;function $T(e){return(typeof e=="string"?e:""+e).replace(kne,`
`).replace(Cne,"")}function up(e,t,n){if(t=$T(t),$T(e)!==t&&n)throw Error(ae(425))}function sm(){}var n_=null,r_=null;function i_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var s_=typeof setTimeout=="function"?setTimeout:void 0,Tne=typeof clearTimeout=="function"?clearTimeout:void 0,BT=typeof Promise=="function"?Promise:void 0,Ine=typeof queueMicrotask=="function"?queueMicrotask:typeof BT<"u"?function(e){return BT.resolve(null).then(e).catch(Pne)}:s_;function Pne(e){setTimeout(function(){throw e})}function Ny(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wf(t)}function na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function DT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),ws="__reactFiber$"+Cu,If="__reactProps$"+Cu,mo="__reactContainer$"+Cu,o_="__reactEvents$"+Cu,Rne="__reactListeners$"+Cu,Mne="__reactHandles$"+Cu;function Ua(e){var t=e[ws];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[ws]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=DT(e);e!==null;){if(n=e[ws])return n;e=DT(e)}return t}e=n,n=e.parentNode}return null}function ph(e){return e=e[ws]||e[mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function Q0(e){return e[If]||null}var a_=[],pc=-1;function ga(e){return{current:e}}function jt(e){0>pc||(e.current=a_[pc],a_[pc]=null,pc--)}function It(e,t){pc++,a_[pc]=e.current,e.current=t}var ua={},ar=ga(ua),Ir=ga(!1),fl=ua;function iu(e,t){var n=e.type.contextTypes;if(!n)return ua;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function om(){jt(Ir),jt(ar)}function FT(e,t,n){if(ar.current!==ua)throw Error(ae(168));It(ar,t),It(Ir,n)}function UV(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ae(108,mte(e)||"Unknown",i));return Jt({},n,r)}function am(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ua,fl=ar.current,It(ar,e),It(Ir,Ir.current),!0}function zT(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=UV(e,t,fl),r.__reactInternalMemoizedMergedChildContext=e,jt(Ir),jt(ar),It(ar,e)):jt(Ir),It(Ir,n)}var Qs=null,J0=!1,$y=!1;function HV(e){Qs===null?Qs=[e]:Qs.push(e)}function jne(e){J0=!0,HV(e)}function ma(){if(!$y&&Qs!==null){$y=!0;var e=0,t=mt;try{var n=Qs;for(mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qs=null,J0=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(e+1)),gV(fS,ma),i}finally{mt=t,$y=!1}}return null}var gc=[],mc=0,lm=null,cm=0,vi=[],yi=0,hl=null,eo=1,to="";function ja(e,t){gc[mc++]=cm,gc[mc++]=lm,lm=e,cm=t}function qV(e,t,n){vi[yi++]=eo,vi[yi++]=to,vi[yi++]=hl,hl=e;var r=eo;e=to;var i=32-is(r)-1;r&=~(1<<i),n+=1;var s=32-is(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,eo=1<<32-is(t)+i|n<<i|r,to=s+e}else eo=1<<s|n<<i|r,to=e}function bS(e){e.return!==null&&(ja(e,1),qV(e,1,0))}function xS(e){for(;e===lm;)lm=gc[--mc],gc[mc]=null,cm=gc[--mc],gc[mc]=null;for(;e===hl;)hl=vi[--yi],vi[yi]=null,to=vi[--yi],vi[yi]=null,eo=vi[--yi],vi[yi]=null}var Qr=null,Wr=null,qt=!1,Wi=null;function GV(e,t){var n=bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function UT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qr=e,Wr=na(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qr=e,Wr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hl!==null?{id:eo,overflow:to}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qr=e,Wr=null,!0):!1;default:return!1}}function l_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c_(e){if(qt){var t=Wr;if(t){var n=t;if(!UT(e,t)){if(l_(e))throw Error(ae(418));t=na(n.nextSibling);var r=Qr;t&&UT(e,t)?GV(r,n):(e.flags=e.flags&-4097|2,qt=!1,Qr=e)}}else{if(l_(e))throw Error(ae(418));e.flags=e.flags&-4097|2,qt=!1,Qr=e}}}function HT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qr=e}function dp(e){if(e!==Qr)return!1;if(!qt)return HT(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!i_(e.type,e.memoizedProps)),t&&(t=Wr)){if(l_(e))throw WV(),Error(ae(418));for(;t;)GV(e,t),t=na(t.nextSibling)}if(HT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wr=na(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wr=null}}else Wr=Qr?na(e.stateNode.nextSibling):null;return!0}function WV(){for(var e=Wr;e;)e=na(e.nextSibling)}function su(){Wr=Qr=null,qt=!1}function SS(e){Wi===null?Wi=[e]:Wi.push(e)}var One=Eo.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var um=ga(null),dm=null,vc=null,wS=null;function ES(){wS=vc=dm=null}function kS(e){var t=um.current;jt(um),e._currentValue=t}function u_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $c(e,t){dm=e,wS=vc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(wS!==e)if(e={context:e,memoizedValue:t,next:null},vc===null){if(dm===null)throw Error(ae(308));vc=e,dm.dependencies={lanes:0,firstContext:e}}else vc=vc.next=e;return t}var Ha=null;function CS(e){Ha===null?Ha=[e]:Ha.push(e)}function YV(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,CS(t)):(n.next=i.next,i.next=n),t.interleaved=n,vo(e,r)}function vo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lo=!1;function TS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ra(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vo(e,n)}return i=r.interleaved,i===null?(t.next=t,CS(r)):(t.next=i.next,i.next=t),r.interleaved=t,vo(e,n)}function ng(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hS(e,n)}}function qT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fm(e,t,n,r){var i=e.updateQueue;Lo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Jt({},d,h);break e;case 2:Lo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gl|=o,e.lanes=o,e.memoizedState=d}}function GT(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var QV=new YO.Component().refs;function d_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var X0={isMounted:function(e){return(e=e._reactInternals)?jl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ar(),i=sa(e),s=so(r,i);s.payload=t,n!=null&&(s.callback=n),t=ra(e,s,i),t!==null&&(ss(t,e,i,r),ng(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ar(),i=sa(e),s=so(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ra(e,s,i),t!==null&&(ss(t,e,i,r),ng(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ar(),r=sa(e),i=so(n,r);i.tag=2,t!=null&&(i.callback=t),t=ra(e,i,r),t!==null&&(ss(t,e,r,n),ng(t,e,r))}};function WT(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!kf(n,r)||!kf(i,s):!0}function JV(e,t,n){var r=!1,i=ua,s=t.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(i=Pr(t)?fl:ar.current,r=t.contextTypes,s=(r=r!=null)?iu(e,i):ua),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=X0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function YT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&X0.enqueueReplaceState(t,t.state,null)}function f_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=QV,TS(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Pi(s):(s=Pr(t)?fl:ar.current,i.context=iu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(d_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&X0.enqueueReplaceState(i,i.state,null),fm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ju(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===QV&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function fp(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function KT(e){var t=e._init;return t(e._payload)}function XV(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=oa(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,S){return y===null||y.tag!==6?(y=qy(b,v.mode,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,S){var x=b.type;return x===cc?u(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vo&&KT(x)===y.type)?(S=i(y,b.props),S.ref=Ju(v,y,b),S.return=v,S):(S=lg(b.type,b.key,b.props,null,v.mode,S),S.ref=Ju(v,y,b),S.return=v,S)}function c(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Gy(b,v.mode,S),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,S,x){return y===null||y.tag!==7?(y=Ja(b,v.mode,S,x),y.return=v,y):(y=i(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qy(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tp:return b=lg(y.type,y.key,y.props,null,v.mode,b),b.ref=Ju(v,null,y),b.return=v,b;case lc:return y=Gy(y,v.mode,b),y.return=v,y;case Vo:var S=y._init;return d(v,S(y._payload),b)}if(md(y)||Gu(y))return y=Ja(y,v.mode,b,null),y.return=v,y;fp(v,y)}return null}function h(v,y,b,S){var x=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:a(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:return b.key===x?l(v,y,b,S):null;case lc:return b.key===x?c(v,y,b,S):null;case Vo:return x=b._init,h(v,y,x(b._payload),S)}if(md(b)||Gu(b))return x!==null?null:u(v,y,b,S,null);fp(v,b)}return null}function p(v,y,b,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(y,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tp:return v=v.get(S.key===null?b:S.key)||null,l(y,v,S,x);case lc:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,x);case Vo:var w=S._init;return p(v,y,b,w(S._payload),x)}if(md(S)||Gu(S))return v=v.get(b)||null,u(y,v,S,x,null);fp(y,S)}return null}function g(v,y,b,S){for(var x=null,w=null,E=y,I=y=0,L=null;E!==null&&I<b.length;I++){E.index>I?(L=E,E=null):L=E.sibling;var j=h(v,E,b[I],S);if(j===null){E===null&&(E=L);break}e&&E&&j.alternate===null&&t(v,E),y=s(j,y,I),w===null?x=j:w.sibling=j,w=j,E=L}if(I===b.length)return n(v,E),qt&&ja(v,I),x;if(E===null){for(;I<b.length;I++)E=d(v,b[I],S),E!==null&&(y=s(E,y,I),w===null?x=E:w.sibling=E,w=E);return qt&&ja(v,I),x}for(E=r(v,E);I<b.length;I++)L=p(E,v,I,b[I],S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?I:L.key),y=s(L,y,I),w===null?x=L:w.sibling=L,w=L);return e&&E.forEach(function(B){return t(v,B)}),qt&&ja(v,I),x}function m(v,y,b,S){var x=Gu(b);if(typeof x!="function")throw Error(ae(150));if(b=x.call(b),b==null)throw Error(ae(151));for(var w=x=null,E=y,I=y=0,L=null,j=b.next();E!==null&&!j.done;I++,j=b.next()){E.index>I?(L=E,E=null):L=E.sibling;var B=h(v,E,j.value,S);if(B===null){E===null&&(E=L);break}e&&E&&B.alternate===null&&t(v,E),y=s(B,y,I),w===null?x=B:w.sibling=B,w=B,E=L}if(j.done)return n(v,E),qt&&ja(v,I),x;if(E===null){for(;!j.done;I++,j=b.next())j=d(v,j.value,S),j!==null&&(y=s(j,y,I),w===null?x=j:w.sibling=j,w=j);return qt&&ja(v,I),x}for(E=r(v,E);!j.done;I++,j=b.next())j=p(E,v,I,j.value,S),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?I:j.key),y=s(j,y,I),w===null?x=j:w.sibling=j,w=j);return e&&E.forEach(function(Q){return t(v,Q)}),qt&&ja(v,I),x}function A(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===cc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:e:{for(var x=b.key,w=y;w!==null;){if(w.key===x){if(x=b.type,x===cc){if(w.tag===7){n(v,w.sibling),y=i(w,b.props.children),y.return=v,v=y;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vo&&KT(x)===w.type){n(v,w.sibling),y=i(w,b.props),y.ref=Ju(v,w,b),y.return=v,v=y;break e}n(v,w);break}else t(v,w);w=w.sibling}b.type===cc?(y=Ja(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=lg(b.type,b.key,b.props,null,v.mode,S),S.ref=Ju(v,y,b),S.return=v,v=S)}return o(v);case lc:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Gy(b,v.mode,S),y.return=v,v=y}return o(v);case Vo:return w=b._init,A(v,y,w(b._payload),S)}if(md(b))return g(v,y,b,S);if(Gu(b))return m(v,y,b,S);fp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=qy(b,v.mode,S),y.return=v,v=y),o(v)):n(v,y)}return A}var ou=XV(!0),ZV=XV(!1),gh={},Os=ga(gh),Pf=ga(gh),Rf=ga(gh);function qa(e){if(e===gh)throw Error(ae(174));return e}function IS(e,t){switch(It(Rf,t),It(Pf,e),It(Os,gh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:H1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=H1(t,e)}jt(Os),It(Os,t)}function au(){jt(Os),jt(Pf),jt(Rf)}function e4(e){qa(Rf.current);var t=qa(Os.current),n=H1(t,e.type);t!==n&&(It(Pf,e),It(Os,n))}function PS(e){Pf.current===e&&(jt(Os),jt(Pf))}var Kt=ga(0);function hm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var By=[];function RS(){for(var e=0;e<By.length;e++)By[e]._workInProgressVersionPrimary=null;By.length=0}var rg=Eo.ReactCurrentDispatcher,Dy=Eo.ReactCurrentBatchConfig,pl=0,Qt=null,Rn=null,Bn=null,pm=!1,Ud=!1,Mf=0,Vne=0;function tr(){throw Error(ae(321))}function MS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ls(e[n],t[n]))return!1;return!0}function jS(e,t,n,r,i,s){if(pl=s,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rg.current=e===null||e.memoizedState===null?Bne:Dne,e=n(r,i),Ud){s=0;do{if(Ud=!1,Mf=0,25<=s)throw Error(ae(301));s+=1,Bn=Rn=null,t.updateQueue=null,rg.current=Fne,e=n(r,i)}while(Ud)}if(rg.current=gm,t=Rn!==null&&Rn.next!==null,pl=0,Bn=Rn=Qt=null,pm=!1,t)throw Error(ae(300));return e}function OS(){var e=Mf!==0;return Mf=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Qt.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Ri(){if(Rn===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Bn===null?Qt.memoizedState:Bn.next;if(t!==null)Bn=t,Rn=e;else{if(e===null)throw Error(ae(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Bn===null?Qt.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function jf(e,t){return typeof t=="function"?t(e):t}function Fy(e){var t=Ri(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=Rn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((pl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Qt.lanes|=u,gl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ls(r,t.memoizedState)||(Tr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qt.lanes|=s,gl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zy(e){var t=Ri(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ls(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function t4(){}function n4(e,t){var n=Qt,r=Ri(),i=t(),s=!ls(r.memoizedState,i);if(s&&(r.memoizedState=i,Tr=!0),r=r.queue,VS(s4.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,Of(9,i4.bind(null,n,r,i,t),void 0,null),zn===null)throw Error(ae(349));pl&30||r4(n,t,i)}return i}function r4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function i4(e,t,n,r){t.value=n,t.getSnapshot=r,o4(t)&&a4(e)}function s4(e,t,n){return n(function(){o4(t)&&a4(e)})}function o4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ls(e,n)}catch{return!0}}function a4(e){var t=vo(e,1);t!==null&&ss(t,e,1,-1)}function QT(e){var t=vs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:e},t.queue=e,e=e.dispatch=$ne.bind(null,Qt,e),[t.memoizedState,e]}function Of(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function l4(){return Ri().memoizedState}function ig(e,t,n,r){var i=vs();Qt.flags|=e,i.memoizedState=Of(1|t,n,void 0,r===void 0?null:r)}function Z0(e,t,n,r){var i=Ri();r=r===void 0?null:r;var s=void 0;if(Rn!==null){var o=Rn.memoizedState;if(s=o.destroy,r!==null&&MS(r,o.deps)){i.memoizedState=Of(t,n,s,r);return}}Qt.flags|=e,i.memoizedState=Of(1|t,n,s,r)}function JT(e,t){return ig(8390656,8,e,t)}function VS(e,t){return Z0(2048,8,e,t)}function c4(e,t){return Z0(4,2,e,t)}function u4(e,t){return Z0(4,4,e,t)}function d4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f4(e,t,n){return n=n!=null?n.concat([e]):null,Z0(4,4,d4.bind(null,t,e),n)}function LS(){}function h4(e,t){var n=Ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&MS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function p4(e,t){var n=Ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&MS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function g4(e,t,n){return pl&21?(ls(n,t)||(n=yV(),Qt.lanes|=n,gl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=n)}function Lne(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var r=Dy.transition;Dy.transition={};try{e(!1),t()}finally{mt=n,Dy.transition=r}}function m4(){return Ri().memoizedState}function Nne(e,t,n){var r=sa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},v4(e))y4(t,n);else if(n=YV(e,t,n,r),n!==null){var i=Ar();ss(n,e,r,i),A4(n,t,r)}}function $ne(e,t,n){var r=sa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(v4(e))y4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ls(a,o)){var l=t.interleaved;l===null?(i.next=i,CS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=YV(e,t,i,r),n!==null&&(i=Ar(),ss(n,e,r,i),A4(n,t,r))}}function v4(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function y4(e,t){Ud=pm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function A4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hS(e,n)}}var gm={readContext:Pi,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},Bne={readContext:Pi,useCallback:function(e,t){return vs().memoizedState=[e,t===void 0?null:t],e},useContext:Pi,useEffect:JT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ig(4194308,4,d4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ig(4194308,4,e,t)},useInsertionEffect:function(e,t){return ig(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Nne.bind(null,Qt,e),[r.memoizedState,e]},useRef:function(e){var t=vs();return e={current:e},t.memoizedState=e},useState:QT,useDebugValue:LS,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=QT(!1),t=e[0];return e=Lne.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qt,i=vs();if(qt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),zn===null)throw Error(ae(349));pl&30||r4(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,JT(s4.bind(null,r,s,e),[e]),r.flags|=2048,Of(9,i4.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=zn.identifierPrefix;if(qt){var n=to,r=eo;n=(r&~(1<<32-is(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dne={readContext:Pi,useCallback:h4,useContext:Pi,useEffect:VS,useImperativeHandle:f4,useInsertionEffect:c4,useLayoutEffect:u4,useMemo:p4,useReducer:Fy,useRef:l4,useState:function(){return Fy(jf)},useDebugValue:LS,useDeferredValue:function(e){var t=Ri();return g4(t,Rn.memoizedState,e)},useTransition:function(){var e=Fy(jf)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:t4,useSyncExternalStore:n4,useId:m4,unstable_isNewReconciler:!1},Fne={readContext:Pi,useCallback:h4,useContext:Pi,useEffect:VS,useImperativeHandle:f4,useInsertionEffect:c4,useLayoutEffect:u4,useMemo:p4,useReducer:zy,useRef:l4,useState:function(){return zy(jf)},useDebugValue:LS,useDeferredValue:function(e){var t=Ri();return Rn===null?t.memoizedState=e:g4(t,Rn.memoizedState,e)},useTransition:function(){var e=zy(jf)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:t4,useSyncExternalStore:n4,useId:m4,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do n+=gte(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Uy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function h_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zne=typeof WeakMap=="function"?WeakMap:Map;function _4(e,t,n){n=so(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vm||(vm=!0,S_=r),h_(e,t)},n}function b4(e,t,n){n=so(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){h_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){h_(e,t),typeof r!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function XT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zne;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nre.bind(null,e,t,n),t.then(e,e))}function ZT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=so(-1,1),t.tag=2,ra(n,t,1))),n.lanes|=1),e)}var Une=Eo.ReactCurrentOwner,Tr=!1;function pr(e,t,n,r){t.child=e===null?ZV(t,null,n,r):ou(t,e.child,n,r)}function tI(e,t,n,r,i){n=n.render;var s=t.ref;return $c(t,i),r=jS(e,t,n,r,s,i),n=OS(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yo(e,t,i)):(qt&&n&&bS(t),t.flags|=1,pr(e,t,r,i),t.child)}function nI(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!HS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,x4(e,t,s,r,i)):(e=lg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kf,n(o,r)&&e.ref===t.ref)return yo(e,t,i)}return t.flags|=1,e=oa(s,r),e.ref=t.ref,e.return=t,t.child=e}function x4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(kf(s,r)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,yo(e,t,i)}return p_(e,t,n,r,i)}function S4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Ac,Dr),Dr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,It(Ac,Dr),Dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,It(Ac,Dr),Dr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,It(Ac,Dr),Dr|=r;return pr(e,t,i,n),t.child}function w4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function p_(e,t,n,r,i){var s=Pr(n)?fl:ar.current;return s=iu(t,s),$c(t,i),n=jS(e,t,n,r,s,i),r=OS(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yo(e,t,i)):(qt&&r&&bS(t),t.flags|=1,pr(e,t,n,i),t.child)}function rI(e,t,n,r,i){if(Pr(n)){var s=!0;am(t)}else s=!1;if($c(t,i),t.stateNode===null)sg(e,t),JV(t,n,r),f_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pi(c):(c=Pr(n)?fl:ar.current,c=iu(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&YT(t,o,r,c),Lo=!1;var h=t.memoizedState;o.state=h,fm(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ir.current||Lo?(typeof u=="function"&&(d_(t,n,u,r),l=t.memoizedState),(a=Lo||WT(t,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,KV(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:zi(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Pr(n)?fl:ar.current,l=iu(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&YT(t,o,r,l),Lo=!1,h=t.memoizedState,o.state=h,fm(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||Ir.current||Lo?(typeof p=="function"&&(d_(t,n,p,r),g=t.memoizedState),(c=Lo||WT(t,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return g_(e,t,n,r,s,i)}function g_(e,t,n,r,i,s){w4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&zT(t,n,!1),yo(e,t,s);r=t.stateNode,Une.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ou(t,e.child,null,s),t.child=ou(t,null,a,s)):pr(e,t,a,s),t.memoizedState=r.state,i&&zT(t,n,!0),t.child}function E4(e){var t=e.stateNode;t.pendingContext?FT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FT(e,t.context,!1),IS(e,t.containerInfo)}function iI(e,t,n,r,i){return su(),SS(i),t.flags|=256,pr(e,t,n,r),t.child}var m_={dehydrated:null,treeContext:null,retryLane:0};function v_(e){return{baseLanes:e,cachePool:null,transitions:null}}function k4(e,t,n){var r=t.pendingProps,i=Kt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),It(Kt,i&1),e===null)return c_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nv(o,r,0,null),e=Ja(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=v_(n),t.memoizedState=m_,e):NS(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Hne(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=oa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oa(a,s):(s=Ja(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?v_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=m_,r}return s=e.child,e=s.sibling,r=oa(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function NS(e,t){return t=nv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hp(e,t,n,r){return r!==null&&SS(r),ou(t,e.child,null,n),e=NS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hne(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Uy(Error(ae(422))),hp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=nv({mode:"visible",children:r.children},i,0,null),s=Ja(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ou(t,e.child,null,o),t.child.memoizedState=v_(o),t.memoizedState=m_,s);if(!(t.mode&1))return hp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=Uy(s,r,void 0),hp(e,t,o,r)}if(a=(o&e.childLanes)!==0,Tr||a){if(r=zn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vo(e,i),ss(r,e,i,-1))}return US(),r=Uy(Error(ae(421))),hp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rre.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Wr=na(i.nextSibling),Qr=t,qt=!0,Wi=null,e!==null&&(vi[yi++]=eo,vi[yi++]=to,vi[yi++]=hl,eo=e.id,to=e.overflow,hl=t),t=NS(t,r.children),t.flags|=4096,t)}function sI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),u_(e.return,t,n)}function Hy(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function C4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pr(e,t,r.children,n),r=Kt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sI(e,n,t);else if(e.tag===19)sI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(It(Kt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hy(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hy(t,!0,n,null,s);break;case"together":Hy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=oa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qne(e,t,n){switch(t.tag){case 3:E4(t),su();break;case 5:e4(t);break;case 1:Pr(t.type)&&am(t);break;case 4:IS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;It(um,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(It(Kt,Kt.current&1),t.flags|=128,null):n&t.child.childLanes?k4(e,t,n):(It(Kt,Kt.current&1),e=yo(e,t,n),e!==null?e.sibling:null);It(Kt,Kt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return C4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(Kt,Kt.current),r)break;return null;case 22:case 23:return t.lanes=0,S4(e,t,n)}return yo(e,t,n)}var T4,y_,I4,P4;T4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};y_=function(){};I4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qa(Os.current);var s=null;switch(n){case"input":i=D1(e,i),r=D1(e,r),s=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":i=U1(e,i),r=U1(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sm)}q1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Af.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Af.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};P4=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xu(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gne(e,t,n){var r=t.pendingProps;switch(xS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Pr(t.type)&&om(),nr(t),null;case 3:return r=t.stateNode,au(),jt(Ir),jt(ar),RS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wi!==null&&(k_(Wi),Wi=null))),y_(e,t),nr(t),null;case 5:PS(t);var i=qa(Rf.current);if(n=t.type,e!==null&&t.stateNode!=null)I4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return nr(t),null}if(e=qa(Os.current),dp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ws]=t,r[If]=s,e=(t.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<yd.length;i++)Pt(yd[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":pT(r,s),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",r);break;case"textarea":mT(r,s),Pt("invalid",r)}q1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&up(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&up(r.textContent,a,e),i=["children",""+a]):Af.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pt("scroll",r)}switch(n){case"input":np(r),gT(r,s,!0);break;case"textarea":np(r),vT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ws]=t,e[If]=r,T4(e,t,!1,!1),t.stateNode=e;e:{switch(o=G1(n,r),n){case"dialog":Pt("cancel",e),Pt("close",e),i=r;break;case"iframe":case"object":case"embed":Pt("load",e),i=r;break;case"video":case"audio":for(i=0;i<yd.length;i++)Pt(yd[i],e);i=r;break;case"source":Pt("error",e),i=r;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),i=r;break;case"details":Pt("toggle",e),i=r;break;case"input":pT(e,r),i=D1(e,r),Pt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Pt("invalid",e);break;case"textarea":mT(e,r),i=U1(e,r),Pt("invalid",e);break;default:i=r}q1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oV(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iV(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_f(e,l):typeof l=="number"&&_f(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Af.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pt("scroll",e):l!=null&&aS(e,s,l,o))}switch(n){case"input":np(e),gT(e,r,!1);break;case"textarea":np(e),vT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ca(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Oc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Oc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)P4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=qa(Rf.current),qa(Os.current),dp(t)){if(r=t.stateNode,n=t.memoizedProps,r[ws]=t,(s=r.nodeValue!==n)&&(e=Qr,e!==null))switch(e.tag){case 3:up(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&up(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ws]=t,t.stateNode=r}return nr(t),null;case 13:if(jt(Kt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&Wr!==null&&t.mode&1&&!(t.flags&128))WV(),su(),t.flags|=98560,s=!1;else if(s=dp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ae(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[ws]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),s=!1}else Wi!==null&&(k_(Wi),Wi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Kt.current&1?On===0&&(On=3):US())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return au(),y_(e,t),e===null&&Cf(t.stateNode.containerInfo),nr(t),null;case 10:return kS(t.type._context),nr(t),null;case 17:return Pr(t.type)&&om(),nr(t),null;case 19:if(jt(Kt),s=t.memoizedState,s===null)return nr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xu(s,!1);else{if(On!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hm(e),o!==null){for(t.flags|=128,Xu(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return It(Kt,Kt.current&1|2),t.child}e=e.sibling}s.tail!==null&&fn()>cu&&(t.flags|=128,r=!0,Xu(s,!1),t.lanes=4194304)}else{if(!r)if(e=hm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qt)return nr(t),null}else 2*fn()-s.renderingStartTime>cu&&n!==1073741824&&(t.flags|=128,r=!0,Xu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fn(),t.sibling=null,n=Kt.current,It(Kt,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return zS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dr&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function Wne(e,t){switch(xS(t),t.tag){case 1:return Pr(t.type)&&om(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return au(),jt(Ir),jt(ar),RS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return PS(t),null;case 13:if(jt(Kt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Kt),null;case 4:return au(),null;case 10:return kS(t.type._context),null;case 22:case 23:return zS(),null;case 24:return null;default:return null}}var pp=!1,sr=!1,Yne=typeof WeakSet=="function"?WeakSet:Set,be=null;function yc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(e,t,r)}else n.current=null}function A_(e,t,n){try{n()}catch(r){rn(e,t,r)}}var oI=!1;function Kne(e,t){if(n_=nm,e=OV(),_S(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(r_={focusedElem:e,selectionRange:n},nm=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,A=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),A);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(S){rn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=oI,oI=!1,g}function Hd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&A_(t,n,s)}i=i.next}while(i!==r)}}function ev(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function __(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function R4(e){var t=e.alternate;t!==null&&(e.alternate=null,R4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ws],delete t[If],delete t[o_],delete t[Rne],delete t[Mne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function M4(e){return e.tag===5||e.tag===3||e.tag===4}function aI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||M4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sm));else if(r!==4&&(e=e.child,e!==null))for(b_(e,t,n),e=e.sibling;e!==null;)b_(e,t,n),e=e.sibling}function x_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(x_(e,t,n),e=e.sibling;e!==null;)x_(e,t,n),e=e.sibling}var Gn=null,qi=!1;function Ro(e,t,n){for(n=n.child;n!==null;)j4(e,t,n),n=n.sibling}function j4(e,t,n){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(G0,n)}catch{}switch(n.tag){case 5:sr||yc(n,t);case 6:var r=Gn,i=qi;Gn=null,Ro(e,t,n),Gn=r,qi=i,Gn!==null&&(qi?(e=Gn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&(qi?(e=Gn,n=n.stateNode,e.nodeType===8?Ny(e.parentNode,n):e.nodeType===1&&Ny(e,n),wf(e)):Ny(Gn,n.stateNode));break;case 4:r=Gn,i=qi,Gn=n.stateNode.containerInfo,qi=!0,Ro(e,t,n),Gn=r,qi=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&A_(n,t,o),i=i.next}while(i!==r)}Ro(e,t,n);break;case 1:if(!sr&&(yc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rn(n,t,a)}Ro(e,t,n);break;case 21:Ro(e,t,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,Ro(e,t,n),sr=r):Ro(e,t,n);break;default:Ro(e,t,n)}}function lI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yne),t.forEach(function(r){var i=ire.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Di(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gn=a.stateNode,qi=!1;break e;case 3:Gn=a.stateNode.containerInfo,qi=!0;break e;case 4:Gn=a.stateNode.containerInfo,qi=!0;break e}a=a.return}if(Gn===null)throw Error(ae(160));j4(s,o,i),Gn=null,qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O4(t,e),t=t.sibling}function O4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Di(t,e),hs(e),r&4){try{Hd(3,e,e.return),ev(3,e)}catch(m){rn(e,e.return,m)}try{Hd(5,e,e.return)}catch(m){rn(e,e.return,m)}}break;case 1:Di(t,e),hs(e),r&512&&n!==null&&yc(n,n.return);break;case 5:if(Di(t,e),hs(e),r&512&&n!==null&&yc(n,n.return),e.flags&32){var i=e.stateNode;try{_f(i,"")}catch(m){rn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tV(i,s),G1(a,o);var c=G1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?oV(i,d):u==="dangerouslySetInnerHTML"?iV(i,d):u==="children"?_f(i,d):aS(i,u,d,c)}switch(a){case"input":F1(i,s);break;case"textarea":nV(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Oc(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Oc(i,!!s.multiple,s.defaultValue,!0):Oc(i,!!s.multiple,s.multiple?[]:"",!1))}i[If]=s}catch(m){rn(e,e.return,m)}}break;case 6:if(Di(t,e),hs(e),r&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){rn(e,e.return,m)}}break;case 3:if(Di(t,e),hs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wf(t.containerInfo)}catch(m){rn(e,e.return,m)}break;case 4:Di(t,e),hs(e);break;case 13:Di(t,e),hs(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(DS=fn())),r&4&&lI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(sr=(c=sr)||u,Di(t,e),sr=c):Di(t,e),hs(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(d=be=u;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hd(4,h,h.return);break;case 1:yc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){rn(r,n,m)}}break;case 5:yc(h,h.return);break;case 22:if(h.memoizedState!==null){uI(d);continue}}p!==null?(p.return=h,be=p):uI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sV("display",o))}catch(m){rn(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){rn(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Di(t,e),hs(e),r&4&&lI(e);break;case 21:break;default:Di(t,e),hs(e)}}function hs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(M4(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_f(i,""),r.flags&=-33);var s=aI(e);x_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aI(e);b_(e,a,o);break;default:throw Error(ae(161))}}catch(l){rn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qne(e,t,n){be=e,V4(e)}function V4(e,t,n){for(var r=(e.mode&1)!==0;be!==null;){var i=be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sr;a=pp;var c=sr;if(pp=o,(sr=l)&&!c)for(be=i;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?dI(i):l!==null?(l.return=o,be=l):dI(i);for(;s!==null;)be=s,V4(s),s=s.sibling;be=i,pp=a,sr=c}cI(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,be=s):cI(e)}}function cI(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||ev(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&GT(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}GT(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}sr||t.flags&512&&__(t)}catch(h){rn(t,t.return,h)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function uI(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function dI(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ev(4,t)}catch(l){rn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){rn(t,i,l)}}var s=t.return;try{__(t)}catch(l){rn(t,s,l)}break;case 5:var o=t.return;try{__(t)}catch(l){rn(t,o,l)}}}catch(l){rn(t,t.return,l)}if(t===e){be=null;break}var a=t.sibling;if(a!==null){a.return=t.return,be=a;break}be=t.return}}var Jne=Math.ceil,mm=Eo.ReactCurrentDispatcher,$S=Eo.ReactCurrentOwner,Si=Eo.ReactCurrentBatchConfig,lt=0,zn=null,En=null,Jn=0,Dr=0,Ac=ga(0),On=0,Vf=null,gl=0,tv=0,BS=0,qd=null,Er=null,DS=0,cu=1/0,Ys=null,vm=!1,S_=null,ia=null,gp=!1,Go=null,ym=0,Gd=0,w_=null,og=-1,ag=0;function Ar(){return lt&6?fn():og!==-1?og:og=fn()}function sa(e){return e.mode&1?lt&2&&Jn!==0?Jn&-Jn:One.transition!==null?(ag===0&&(ag=yV()),ag):(e=mt,e!==0||(e=window.event,e=e===void 0?16:EV(e.type)),e):1}function ss(e,t,n,r){if(50<Gd)throw Gd=0,w_=null,Error(ae(185));fh(e,n,r),(!(lt&2)||e!==zn)&&(e===zn&&(!(lt&2)&&(tv|=n),On===4&&Do(e,Jn)),Rr(e,r),n===1&&lt===0&&!(t.mode&1)&&(cu=fn()+500,J0&&ma()))}function Rr(e,t){var n=e.callbackNode;Ote(e,t);var r=tm(e,e===zn?Jn:0);if(r===0)n!==null&&_T(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_T(n),t===1)e.tag===0?jne(fI.bind(null,e)):HV(fI.bind(null,e)),Ine(function(){!(lt&6)&&ma()}),n=null;else{switch(AV(r)){case 1:n=fS;break;case 4:n=mV;break;case 16:n=em;break;case 536870912:n=vV;break;default:n=em}n=U4(n,L4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function L4(e,t){if(og=-1,ag=0,lt&6)throw Error(ae(327));var n=e.callbackNode;if(Bc()&&e.callbackNode!==n)return null;var r=tm(e,e===zn?Jn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Am(e,r);else{t=r;var i=lt;lt|=2;var s=$4();(zn!==e||Jn!==t)&&(Ys=null,cu=fn()+500,Qa(e,t));do try{ere();break}catch(a){N4(e,a)}while(!0);ES(),mm.current=s,lt=i,En!==null?t=0:(zn=null,Jn=0,t=On)}if(t!==0){if(t===2&&(i=J1(e),i!==0&&(r=i,t=E_(e,i))),t===1)throw n=Vf,Qa(e,0),Do(e,r),Rr(e,fn()),n;if(t===6)Do(e,r);else{if(i=e.current.alternate,!(r&30)&&!Xne(i)&&(t=Am(e,r),t===2&&(s=J1(e),s!==0&&(r=s,t=E_(e,s))),t===1))throw n=Vf,Qa(e,0),Do(e,r),Rr(e,fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:Oa(e,Er,Ys);break;case 3:if(Do(e,r),(r&130023424)===r&&(t=DS+500-fn(),10<t)){if(tm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ar(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=s_(Oa.bind(null,e,Er,Ys),t);break}Oa(e,Er,Ys);break;case 4:if(Do(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-is(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jne(r/1960))-r,10<r){e.timeoutHandle=s_(Oa.bind(null,e,Er,Ys),r);break}Oa(e,Er,Ys);break;case 5:Oa(e,Er,Ys);break;default:throw Error(ae(329))}}}return Rr(e,fn()),e.callbackNode===n?L4.bind(null,e):null}function E_(e,t){var n=qd;return e.current.memoizedState.isDehydrated&&(Qa(e,t).flags|=256),e=Am(e,t),e!==2&&(t=Er,Er=n,t!==null&&k_(t)),e}function k_(e){Er===null?Er=e:Er.push.apply(Er,e)}function Xne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ls(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Do(e,t){for(t&=~BS,t&=~tv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-is(t),r=1<<n;e[n]=-1,t&=~r}}function fI(e){if(lt&6)throw Error(ae(327));Bc();var t=tm(e,0);if(!(t&1))return Rr(e,fn()),null;var n=Am(e,t);if(e.tag!==0&&n===2){var r=J1(e);r!==0&&(t=r,n=E_(e,r))}if(n===1)throw n=Vf,Qa(e,0),Do(e,t),Rr(e,fn()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oa(e,Er,Ys),Rr(e,fn()),null}function FS(e,t){var n=lt;lt|=1;try{return e(t)}finally{lt=n,lt===0&&(cu=fn()+500,J0&&ma())}}function ml(e){Go!==null&&Go.tag===0&&!(lt&6)&&Bc();var t=lt;lt|=1;var n=Si.transition,r=mt;try{if(Si.transition=null,mt=1,e)return e()}finally{mt=r,Si.transition=n,lt=t,!(lt&6)&&ma()}}function zS(){Dr=Ac.current,jt(Ac)}function Qa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tne(n)),En!==null)for(n=En.return;n!==null;){var r=n;switch(xS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&om();break;case 3:au(),jt(Ir),jt(ar),RS();break;case 5:PS(r);break;case 4:au();break;case 13:jt(Kt);break;case 19:jt(Kt);break;case 10:kS(r.type._context);break;case 22:case 23:zS()}n=n.return}if(zn=e,En=e=oa(e.current,null),Jn=Dr=t,On=0,Vf=null,BS=tv=gl=0,Er=qd=null,Ha!==null){for(t=0;t<Ha.length;t++)if(n=Ha[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ha=null}return e}function N4(e,t){do{var n=En;try{if(ES(),rg.current=gm,pm){for(var r=Qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pm=!1}if(pl=0,Bn=Rn=Qt=null,Ud=!1,Mf=0,$S.current=null,n===null||n.return===null){On=1,Vf=t,En=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ZT(o);if(p!==null){p.flags&=-257,eI(p,o,a,s,t),p.mode&1&&XT(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){XT(s,c,t),US();break e}l=Error(ae(426))}}else if(qt&&a.mode&1){var A=ZT(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),eI(A,o,a,s,t),SS(lu(l,a));break e}}s=l=lu(l,a),On!==4&&(On=2),qd===null?qd=[s]:qd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=_4(s,l,t);qT(s,v);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ia===null||!ia.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=b4(s,a,t);qT(s,S);break e}}s=s.return}while(s!==null)}D4(n)}catch(x){t=x,En===n&&n!==null&&(En=n=n.return);continue}break}while(!0)}function $4(){var e=mm.current;return mm.current=gm,e===null?gm:e}function US(){(On===0||On===3||On===2)&&(On=4),zn===null||!(gl&268435455)&&!(tv&268435455)||Do(zn,Jn)}function Am(e,t){var n=lt;lt|=2;var r=$4();(zn!==e||Jn!==t)&&(Ys=null,Qa(e,t));do try{Zne();break}catch(i){N4(e,i)}while(!0);if(ES(),lt=n,mm.current=r,En!==null)throw Error(ae(261));return zn=null,Jn=0,On}function Zne(){for(;En!==null;)B4(En)}function ere(){for(;En!==null&&!Ete();)B4(En)}function B4(e){var t=z4(e.alternate,e,Dr);e.memoizedProps=e.pendingProps,t===null?D4(e):En=t,$S.current=null}function D4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Wne(n,t),n!==null){n.flags&=32767,En=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{On=6,En=null;return}}else if(n=Gne(n,t,Dr),n!==null){En=n;return}if(t=t.sibling,t!==null){En=t;return}En=t=e}while(t!==null);On===0&&(On=5)}function Oa(e,t,n){var r=mt,i=Si.transition;try{Si.transition=null,mt=1,tre(e,t,n,r)}finally{Si.transition=i,mt=r}return null}function tre(e,t,n,r){do Bc();while(Go!==null);if(lt&6)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Vte(e,s),e===zn&&(En=zn=null,Jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gp||(gp=!0,U4(em,function(){return Bc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Si.transition,Si.transition=null;var o=mt;mt=1;var a=lt;lt|=4,$S.current=null,Kne(e,n),O4(n,e),bne(r_),nm=!!n_,r_=n_=null,e.current=n,Qne(n),kte(),lt=a,mt=o,Si.transition=s}else e.current=n;if(gp&&(gp=!1,Go=e,ym=i),s=e.pendingLanes,s===0&&(ia=null),Ite(n.stateNode),Rr(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vm)throw vm=!1,e=S_,S_=null,e;return ym&1&&e.tag!==0&&Bc(),s=e.pendingLanes,s&1?e===w_?Gd++:(Gd=0,w_=e):Gd=0,ma(),null}function Bc(){if(Go!==null){var e=AV(ym),t=Si.transition,n=mt;try{if(Si.transition=null,mt=16>e?16:e,Go===null)var r=!1;else{if(e=Go,Go=null,ym=0,lt&6)throw Error(ae(331));var i=lt;for(lt|=4,be=e.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Hd(8,u,s)}var d=u.child;if(d!==null)d.return=u,be=d;else for(;be!==null;){u=be;var h=u.sibling,p=u.return;if(R4(u),u===c){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var A=m.sibling;m.sibling=null,m=A}while(m!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,be=v;break e}be=s.return}}var y=e.current;for(be=y;be!==null;){o=be;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,be=b;else e:for(o=y;be!==null;){if(a=be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ev(9,a)}}catch(x){rn(a,a.return,x)}if(a===o){be=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,be=S;break e}be=a.return}}if(lt=i,ma(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(G0,e)}catch{}r=!0}return r}finally{mt=n,Si.transition=t}}return!1}function hI(e,t,n){t=lu(n,t),t=_4(e,t,1),e=ra(e,t,1),t=Ar(),e!==null&&(fh(e,1,t),Rr(e,t))}function rn(e,t,n){if(e.tag===3)hI(e,e,n);else for(;t!==null;){if(t.tag===3){hI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){e=lu(n,e),e=b4(t,e,1),t=ra(t,e,1),e=Ar(),t!==null&&(fh(t,1,e),Rr(t,e));break}}t=t.return}}function nre(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&n,zn===e&&(Jn&n)===n&&(On===4||On===3&&(Jn&130023424)===Jn&&500>fn()-DS?Qa(e,0):BS|=n),Rr(e,t)}function F4(e,t){t===0&&(e.mode&1?(t=sp,sp<<=1,!(sp&130023424)&&(sp=4194304)):t=1);var n=Ar();e=vo(e,t),e!==null&&(fh(e,t,n),Rr(e,n))}function rre(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),F4(e,n)}function ire(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),F4(e,n)}var z4;z4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tr=!1,qne(e,t,n);Tr=!!(e.flags&131072)}else Tr=!1,qt&&t.flags&1048576&&qV(t,cm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sg(e,t),e=t.pendingProps;var i=iu(t,ar.current);$c(t,n),i=jS(null,t,r,e,i,n);var s=OS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(r)?(s=!0,am(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TS(t),i.updater=X0,t.stateNode=i,i._reactInternals=t,f_(t,r,e,n),t=g_(null,t,r,!0,s,n)):(t.tag=0,qt&&s&&bS(t),pr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ore(r),e=zi(r,e),i){case 0:t=p_(null,t,r,e,n);break e;case 1:t=rI(null,t,r,e,n);break e;case 11:t=tI(null,t,r,e,n);break e;case 14:t=nI(null,t,r,zi(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),p_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),rI(e,t,r,i,n);case 3:e:{if(E4(t),e===null)throw Error(ae(387));r=t.pendingProps,s=t.memoizedState,i=s.element,KV(e,t),fm(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=lu(Error(ae(423)),t),t=iI(e,t,r,n,i);break e}else if(r!==i){i=lu(Error(ae(424)),t),t=iI(e,t,r,n,i);break e}else for(Wr=na(t.stateNode.containerInfo.firstChild),Qr=t,qt=!0,Wi=null,n=ZV(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(su(),r===i){t=yo(e,t,n);break e}pr(e,t,r,n)}t=t.child}return t;case 5:return e4(t),e===null&&c_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,i_(r,i)?o=null:s!==null&&i_(r,s)&&(t.flags|=32),w4(e,t),pr(e,t,o,n),t.child;case 6:return e===null&&c_(t),null;case 13:return k4(e,t,n);case 4:return IS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ou(t,null,r,n):pr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),tI(e,t,r,i,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,It(um,r._currentValue),r._currentValue=o,s!==null)if(ls(s.value,o)){if(s.children===i.children&&!Ir.current){t=yo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=so(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),u_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),u_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$c(t,n),i=Pi(i),r=r(i),t.flags|=1,pr(e,t,r,n),t.child;case 14:return r=t.type,i=zi(r,t.pendingProps),i=zi(r.type,i),nI(e,t,r,i,n);case 15:return x4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),sg(e,t),t.tag=1,Pr(r)?(e=!0,am(t)):e=!1,$c(t,n),JV(t,r,i),f_(t,r,i,n),g_(null,t,r,!0,e,n);case 19:return C4(e,t,n);case 22:return S4(e,t,n)}throw Error(ae(156,t.tag))};function U4(e,t){return gV(e,t)}function sre(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(e,t,n,r){return new sre(e,t,n,r)}function HS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ore(e){if(typeof e=="function")return HS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cS)return 11;if(e===uS)return 14}return 2}function oa(e,t){var n=e.alternate;return n===null?(n=bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lg(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")HS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cc:return Ja(n.children,i,s,t);case lS:o=8,i|=8;break;case L1:return e=bi(12,n,t,i|2),e.elementType=L1,e.lanes=s,e;case N1:return e=bi(13,n,t,i),e.elementType=N1,e.lanes=s,e;case $1:return e=bi(19,n,t,i),e.elementType=$1,e.lanes=s,e;case XO:return nv(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QO:o=10;break e;case JO:o=9;break e;case cS:o=11;break e;case uS:o=14;break e;case Vo:o=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=bi(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ja(e,t,n,r){return e=bi(7,e,r,t),e.lanes=n,e}function nv(e,t,n,r){return e=bi(22,e,r,t),e.elementType=XO,e.lanes=n,e.stateNode={isHidden:!1},e}function qy(e,t,n){return e=bi(6,e,null,t),e.lanes=n,e}function Gy(e,t,n){return t=bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function are(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ky(0),this.expirationTimes=ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ky(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qS(e,t,n,r,i,s,o,a,l){return e=new are(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=bi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},TS(s),e}function lre(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function H4(e){if(!e)return ua;e=e._reactInternals;e:{if(jl(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(Pr(n))return UV(e,n,t)}return t}function q4(e,t,n,r,i,s,o,a,l){return e=qS(n,r,!0,e,i,s,o,a,l),e.context=H4(null),n=e.current,r=Ar(),i=sa(n),s=so(r,i),s.callback=t??null,ra(n,s,i),e.current.lanes=i,fh(e,i,r),Rr(e,r),e}function rv(e,t,n,r){var i=t.current,s=Ar(),o=sa(i);return n=H4(n),t.context===null?t.context=n:t.pendingContext=n,t=so(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ra(i,t,o),e!==null&&(ss(e,i,o,s),ng(e,i,o)),o}function _m(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function GS(e,t){pI(e,t),(e=e.alternate)&&pI(e,t)}function cre(){return null}var G4=typeof reportError=="function"?reportError:function(e){console.error(e)};function WS(e){this._internalRoot=e}iv.prototype.render=WS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));rv(e,t,null,null)};iv.prototype.unmount=WS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ml(function(){rv(null,e,null,null)}),t[mo]=null}};function iv(e){this._internalRoot=e}iv.prototype.unstable_scheduleHydration=function(e){if(e){var t=xV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bo.length&&t!==0&&t<Bo[n].priority;n++);Bo.splice(n,0,e),n===0&&wV(e)}};function YS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gI(){}function ure(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=_m(o);s.call(c)}}var o=q4(t,r,e,0,null,!1,!1,"",gI);return e._reactRootContainer=o,e[mo]=o.current,Cf(e.nodeType===8?e.parentNode:e),ml(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=_m(l);a.call(c)}}var l=qS(e,0,!1,null,null,!1,!1,"",gI);return e._reactRootContainer=l,e[mo]=l.current,Cf(e.nodeType===8?e.parentNode:e),ml(function(){rv(t,l,n,r)}),l}function ov(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_m(o);a.call(l)}}rv(t,o,e,i)}else o=ure(n,t,e,i,r);return _m(o)}_V=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vd(t.pendingLanes);n!==0&&(hS(t,n|1),Rr(t,fn()),!(lt&6)&&(cu=fn()+500,ma()))}break;case 13:ml(function(){var r=vo(e,1);if(r!==null){var i=Ar();ss(r,e,1,i)}}),GS(e,1)}};pS=function(e){if(e.tag===13){var t=vo(e,134217728);if(t!==null){var n=Ar();ss(t,e,134217728,n)}GS(e,134217728)}};bV=function(e){if(e.tag===13){var t=sa(e),n=vo(e,t);if(n!==null){var r=Ar();ss(n,e,t,r)}GS(e,t)}};xV=function(){return mt};SV=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};Y1=function(e,t,n){switch(t){case"input":if(F1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Q0(r);if(!i)throw Error(ae(90));eV(r),F1(r,i)}}}break;case"textarea":nV(e,n);break;case"select":t=n.value,t!=null&&Oc(e,!!n.multiple,t,!1)}};cV=FS;uV=ml;var dre={usingClientEntryPoint:!1,Events:[ph,hc,Q0,aV,lV,FS]},Zu={findFiberByHostInstance:Ua,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fre={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hV(e),e===null?null:e.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||cre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{G0=mp.inject(fre),js=mp}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dre;ii.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YS(t))throw Error(ae(200));return lre(e,t,null,n)};ii.createRoot=function(e,t){if(!YS(e))throw Error(ae(299));var n=!1,r="",i=G4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qS(e,1,!1,null,null,n,!1,r,i),e[mo]=t.current,Cf(e.nodeType===8?e.parentNode:e),new WS(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=hV(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return ml(e)};ii.hydrate=function(e,t,n){if(!sv(t))throw Error(ae(200));return ov(null,e,t,!0,n)};ii.hydrateRoot=function(e,t,n){if(!YS(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=G4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=q4(t,null,e,1,n??null,i,!1,s,o),e[mo]=t.current,Cf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new iv(t)};ii.render=function(e,t,n){if(!sv(t))throw Error(ae(200));return ov(null,e,t,!1,n)};ii.unmountComponentAtNode=function(e){if(!sv(e))throw Error(ae(40));return e._reactRootContainer?(ml(function(){ov(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0):!1};ii.unstable_batchedUpdates=FS;ii.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sv(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return ov(e,t,n,!1,r)};ii.version="18.2.0-next-9e3b772b8-20220608";function W4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W4)}catch(e){console.error(e)}}W4(),qO.exports=ii;var Tu=qO.exports;const vp=lr(Tu),mI={disabled:!1},bm=Pe.createContext(null);var hre=function(t){return t.scrollTop},Ad="unmounted",Va="exited",La="entering",Xl="entered",C_="exiting",ko=function(e){HO(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Va,s.appearStatus=La):l=Xl:r.unmountOnExit||r.mountOnEnter?l=Ad:l=Va,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ad?{status:Va}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==La&&o!==Xl&&(s=La):(o===La||o===Xl)&&(s=C_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===La){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:vp.findDOMNode(this);o&&hre(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Va&&this.setState({status:Ad})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[vp.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||mI.disabled){this.safeSetState({status:Xl},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:La},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:Xl},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:vp.findDOMNode(this);if(!s||mI.disabled){this.safeSetState({status:Va},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:C_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Va},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:vp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ad)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Xt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(bm.Provider,{value:null},typeof o=="function"?o(i,a):Pe.cloneElement(Pe.Children.only(o),a))},t}(Pe.Component);ko.contextType=bm;ko.propTypes={};function Wl(){}ko.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wl,onEntering:Wl,onEntered:Wl,onExit:Wl,onExiting:Wl,onExited:Wl};ko.UNMOUNTED=Ad;ko.EXITED=Va;ko.ENTERING=La;ko.ENTERED=Xl;ko.EXITING=C_;const pre=ko;function gre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KS(e,t){var n=function(s){return t&&_.isValidElement(s)?t(s):s},r=Object.create(null);return e&&_.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function mre(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ga(e,t,n){return n[t]!=null?n[t]:e.props[t]}function vre(e,t){return KS(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ga(n,"appear",e),enter:Ga(n,"enter",e),exit:Ga(n,"exit",e)})})}function yre(e,t,n){var r=KS(e.children),i=mre(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(_.isValidElement(o)){var a=s in t,l=s in r,c=t[s],u=_.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ga(o,"exit",e),enter:Ga(o,"enter",e)}):!l&&a&&!u?i[s]=_.cloneElement(o,{in:!1}):l&&a&&_.isValidElement(c)&&(i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ga(o,"exit",e),enter:Ga(o,"enter",e)}))}}),i}var Are=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_re={component:"div",childFactory:function(t){return t}},QS=function(e){HO(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(gre(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?vre(i,a):yre(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=KS(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=oe({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Xt(i,["component","childFactory"]),l=this.state.contextValue,c=Are(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Pe.createElement(bm.Provider,{value:l},c):Pe.createElement(bm.Provider,{value:l},Pe.createElement(s,a,c))},t}(Pe.Component);QS.propTypes={};QS.defaultProps=_re;const bre=QS;function JS(e,t=0,n=1){return bO(e,t,n)}function xre(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function av(e){if(e.type)return e;if(e.charAt(0)==="#")return av(xre(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(dl(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(dl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function XS(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Sre(e,t){return e=av(e),t=JS(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,XS(e)}function Z1e(e,t){if(e=av(e),t=JS(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return XS(e)}function e_e(e,t){if(e=av(e),t=JS(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return XS(e)}const wre=_.createContext(null),Y4=wre;function K4(){return _.useContext(Y4)}const Ere=typeof Symbol=="function"&&Symbol.for,kre=Ere?Symbol.for("mui.nested"):"__THEME_NESTED__";function Cre(e,t){return typeof t=="function"?t(e):oe({},e,t)}function Tre(e){const{children:t,theme:n}=e,r=K4(),i=_.useMemo(()=>{const s=r===null?n:Cre(r,n);return s!=null&&(s[kre]=r!==null),s},[n,r]);return f.jsx(Y4.Provider,{value:i,children:t})}const Ire=["value"],Q4=_.createContext();function Pre(e){let{value:t}=e,n=Xt(e,Ire);return f.jsx(Q4.Provider,oe({value:t??!0},n))}const Rre=()=>{const e=_.useContext(Q4);return e??!1},vI={};function yI(e,t,n,r=!1){return _.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const s=n(i),o=e?oe({},t,{[e]:s}):s;return r?()=>o:o}return e?oe({},t,{[e]:n}):oe({},t,n)},[e,t,n,r])}function Mre(e){const{children:t,theme:n,themeId:r}=e,i=RO(vI),s=K4()||vI,o=yI(r,i,n),a=yI(r,s,n,!0),l=o.direction==="rtl";return f.jsx(Tre,{theme:a,children:f.jsx(Yf.Provider,{value:o,children:f.jsx(Pre,{value:l,children:t})})})}function jre(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=e,[u,d]=_.useState(!1),h=xn(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=xn(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),_.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const hi=Rl("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ore=["center","classes","className"];let lv=e=>e,AI,_I,bI,xI;const T_=550,Vre=80,Lre=_o(AI||(AI=lv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Nre=_o(_I||(_I=lv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),$re=_o(bI||(bI=lv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Bre=ri("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Dre=ri(jre,{name:"MuiTouchRipple",slot:"Ripple"})(xI||(xI=lv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),hi.rippleVisible,Lre,T_,({theme:e})=>e.transitions.easing.easeInOut,hi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,hi.child,hi.childLeaving,Nre,T_,({theme:e})=>e.transitions.easing.easeInOut,hi.childPulsate,$re,({theme:e})=>e.transitions.easing.easeInOut),Fre=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Xt(r,Ore),[l,c]=_.useState([]),u=_.useRef(0),d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.useRef(!1),p=ac(),g=_.useRef(null),m=_.useRef(null),A=_.useCallback(S=>{const{pulsate:x,rippleX:w,rippleY:E,rippleSize:I,cb:L}=S;c(j=>[...j,f.jsx(Dre,{classes:{ripple:xn(s.ripple,hi.ripple),rippleVisible:xn(s.rippleVisible,hi.rippleVisible),ripplePulsate:xn(s.ripplePulsate,hi.ripplePulsate),child:xn(s.child,hi.child),childLeaving:xn(s.childLeaving,hi.childLeaving),childPulsate:xn(s.childPulsate,hi.childPulsate)},timeout:T_,pulsate:x,rippleX:w,rippleY:E,rippleSize:I},u.current)]),u.current+=1,d.current=L},[s]),v=_.useCallback((S={},x={},w=()=>{})=>{const{pulsate:E=!1,center:I=i||x.pulsate,fakeElement:L=!1}=x;if((S==null?void 0:S.type)==="mousedown"&&h.current){h.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(h.current=!0);const j=L?null:m.current,B=j?j.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Q,M,U;if(I||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)Q=Math.round(B.width/2),M=Math.round(B.height/2);else{const{clientX:P,clientY:T}=S.touches&&S.touches.length>0?S.touches[0]:S;Q=Math.round(P-B.left),M=Math.round(T-B.top)}if(I)U=Math.sqrt((2*B.width**2+B.height**2)/3),U%2===0&&(U+=1);else{const P=Math.max(Math.abs((j?j.clientWidth:0)-Q),Q)*2+2,T=Math.max(Math.abs((j?j.clientHeight:0)-M),M)*2+2;U=Math.sqrt(P**2+T**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{A({pulsate:E,rippleX:Q,rippleY:M,rippleSize:U,cb:w})},p.start(Vre,()=>{g.current&&(g.current(),g.current=null)})):A({pulsate:E,rippleX:Q,rippleY:M,rippleSize:U,cb:w})},[i,A,p]),y=_.useCallback(()=>{v({},{pulsate:!0})},[v]),b=_.useCallback((S,x)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{b(S,x)});return}g.current=null,c(w=>w.length>0?w.slice(1):w),d.current=x},[p]);return _.useImperativeHandle(n,()=>({pulsate:y,start:v,stop:b}),[y,v,b]),f.jsx(Bre,oe({className:xn(hi.root,s.root,o),ref:m},a,{children:f.jsx(bre,{component:null,exit:!0,children:l})}))}),zre=Fre;function Ure(e){return Pl("MuiButtonBase",e)}const Hre=Rl("MuiButtonBase",["root","disabled","focusVisible"]),qre=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Gre=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Il({root:["root",t&&"disabled",n&&"focusVisible"]},Ure,i);return n&&r&&(o.root+=` ${r}`),o},Wre=ri("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Hre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Yre=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:m,onContextMenu:A,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:S,onKeyUp:x,onMouseDown:w,onMouseLeave:E,onMouseUp:I,onTouchEnd:L,onTouchMove:j,onTouchStart:B,tabIndex:Q=0,TouchRippleProps:M,touchRippleRef:U,type:P}=r,T=Xt(r,qre),z=_.useRef(null),O=_.useRef(null),N=ho(O,U),{isFocusVisibleRef:D,onFocus:$,onBlur:q,ref:ne}=Gx(),[V,ce]=_.useState(!1);c&&V&&ce(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),z.current.focus()}}),[]);const[Z,de]=_.useState(!1);_.useEffect(()=>{de(!0)},[]);const we=Z&&!u&&!c;_.useEffect(()=>{V&&h&&!u&&Z&&O.current.pulsate()},[u,h,V,Z]);function Ee(ye,We,Pn=d){return za(bt=>(We&&We(bt),!Pn&&O.current&&O.current[ye](bt),!0))}const pe=Ee("start",w),Ae=Ee("stop",A),qe=Ee("stop",v),Ve=Ee("stop",I),Ie=Ee("stop",ye=>{V&&ye.preventDefault(),E&&E(ye)}),_e=Ee("start",B),Ue=Ee("stop",L),Ge=Ee("stop",j),He=Ee("stop",ye=>{q(ye),D.current===!1&&ce(!1),g&&g(ye)},!1),rt=za(ye=>{z.current||(z.current=ye.currentTarget),$(ye),D.current===!0&&(ce(!0),b&&b(ye)),y&&y(ye)}),it=()=>{const ye=z.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},Nt=_.useRef(!1),At=za(ye=>{h&&!Nt.current&&V&&O.current&&ye.key===" "&&(Nt.current=!0,O.current.stop(ye,()=>{O.current.start(ye)})),ye.target===ye.currentTarget&&it()&&ye.key===" "&&ye.preventDefault(),S&&S(ye),ye.target===ye.currentTarget&&it()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),m&&m(ye))}),Gt=za(ye=>{h&&ye.key===" "&&O.current&&V&&!ye.defaultPrevented&&(Nt.current=!1,O.current.stop(ye,()=>{O.current.pulsate(ye)})),x&&x(ye),m&&ye.target===ye.currentTarget&&it()&&ye.key===" "&&!ye.defaultPrevented&&m(ye)});let st=l;st==="button"&&(T.href||T.to)&&(st=p);const _t={};st==="button"?(_t.type=P===void 0?"button":P,_t.disabled=c):(!T.href&&!T.to&&(_t.role="button"),c&&(_t["aria-disabled"]=c));const wt=ho(n,ne,z),Ye=oe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:Q,focusVisible:V}),$t=Gre(Ye);return f.jsxs(Wre,oe({as:st,className:xn($t.root,a),ownerState:Ye,onBlur:He,onClick:m,onContextMenu:Ae,onFocus:rt,onKeyDown:At,onKeyUp:Gt,onMouseDown:pe,onMouseLeave:Ie,onMouseUp:Ve,onDragLeave:qe,onTouchEnd:Ue,onTouchMove:Ge,onTouchStart:_e,ref:wt,tabIndex:c?-1:Q,type:P},_t,T,{children:[o,we?f.jsx(zre,oe({ref:N,center:s},M)):null]}))}),Kre=Yre;function Qre(e){return Pl("MuiIconButton",e)}const Jre=Rl("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Xre=["edge","children","className","color","disabled","disableFocusRipple","size"],Zre=e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Cn(r)}`,i&&`edge${Cn(i)}`,`size${Cn(s)}`]};return Il(o,Qre,t)},eie=ri(Kre,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Cn(n.color)}`],n.edge&&t[`edge${Cn(n.edge)}`],t[`size${Cn(n.size)}`]]}})(({theme:e,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Yg(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":oe({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Yg(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Jre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),tie=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Xt(r,Xre),h=oe({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Zre(h);return f.jsx(eie,oe({className:xn(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),ZS=tie;function nie(e){return typeof e=="string"}function _d(e,t,n){return e===void 0||nie(e)?t:oe({},t,{ownerState:oe({},t.ownerState,n)})}const rie={disableDefaultClasses:!1},iie=_.createContext(rie);function sie(e){const{disableDefaultClasses:t}=_.useContext(iie);return n=>t?"":e(n)}function oie(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function aie(e,t,n){return typeof e=="function"?e(t,n):e}function SI(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function lie(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const p=xn(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g=oe({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=oe({},n,i,r);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const o=oie(oe({},i,r)),a=SI(r),l=SI(i),c=t(o),u=xn(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=oe({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=oe({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}const cie=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function uie(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=e,o=Xt(e,cie),a=s?{}:aie(r,i),{props:l,internalRef:c}=lie(oe({},o,{externalSlotProps:a})),u=ho(c,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return _d(n,oe({},l,{ref:u}),i)}function J4(){const e=MO(nS);return e[vf]||e}const die=e=>e.scrollTop;function wI(e,t){var n,r;const{timeout:i,easing:s,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[t.mode]:s,delay:o.transitionDelay}}const fie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function I_(e){return`scale(${e}, ${e**2})`}const hie={entering:{opacity:1,transform:I_(1)},entered:{opacity:1,transform:"none"}},Wy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),X4=_.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:g,timeout:m="auto",TransitionComponent:A=pre}=t,v=Xt(t,fie),y=ac(),b=_.useRef(),S=J4(),x=_.useRef(null),w=ho(x,s.ref,n),E=P=>T=>{if(P){const z=x.current;T===void 0?P(z):P(z,T)}},I=E(u),L=E((P,T)=>{die(P);const{duration:z,delay:O,easing:N}=wI({style:g,timeout:m,easing:o},{mode:"enter"});let D;m==="auto"?(D=S.transitions.getAutoHeightDuration(P.clientHeight),b.current=D):D=z,P.style.transition=[S.transitions.create("opacity",{duration:D,delay:O}),S.transitions.create("transform",{duration:Wy?D:D*.666,delay:O,easing:N})].join(","),l&&l(P,T)}),j=E(c),B=E(p),Q=E(P=>{const{duration:T,delay:z,easing:O}=wI({style:g,timeout:m,easing:o},{mode:"exit"});let N;m==="auto"?(N=S.transitions.getAutoHeightDuration(P.clientHeight),b.current=N):N=T,P.style.transition=[S.transitions.create("opacity",{duration:N,delay:z}),S.transitions.create("transform",{duration:Wy?N:N*.666,delay:Wy?z:z||N*.333,easing:O})].join(","),P.style.opacity=0,P.style.transform=I_(.75),d&&d(P)}),M=E(h),U=P=>{m==="auto"&&y.start(b.current||0,P),r&&r(x.current,P)};return f.jsx(A,oe({appear:i,in:a,nodeRef:x,onEnter:L,onEntered:j,onEntering:I,onExit:Q,onExited:M,onExiting:B,addEndListener:U,timeout:m==="auto"?null:m},v,{children:(P,T)=>_.cloneElement(s,oe({style:oe({opacity:0,transform:I_(.75),visibility:P==="exited"&&!a?"hidden":void 0},hie[P],g,s.props.style),ref:w},T))}))});X4.muiSupportAuto=!0;const EI=X4;var Mr="top",Mi="bottom",ji="right",jr="left",ew="auto",mh=[Mr,Mi,ji,jr],uu="start",Lf="end",pie="clippingParents",Z4="viewport",ed="popper",gie="reference",kI=mh.reduce(function(e,t){return e.concat([t+"-"+uu,t+"-"+Lf])},[]),eL=[].concat(mh,[ew]).reduce(function(e,t){return e.concat([t,t+"-"+uu,t+"-"+Lf])},[]),mie="beforeRead",vie="read",yie="afterRead",Aie="beforeMain",_ie="main",bie="afterMain",xie="beforeWrite",Sie="write",wie="afterWrite",Eie=[mie,vie,yie,Aie,_ie,bie,xie,Sie,wie];function Ds(e){return e?(e.nodeName||"").toLowerCase():null}function Zr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vl(e){var t=Zr(e).Element;return e instanceof t||e instanceof Element}function wi(e){var t=Zr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tw(e){if(typeof ShadowRoot>"u")return!1;var t=Zr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function kie(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!wi(s)||!Ds(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Cie(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!wi(i)||!Ds(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Tie={name:"applyStyles",enabled:!0,phase:"write",fn:kie,effect:Cie,requires:["computeStyles"]};function Vs(e){return e.split("-")[0]}var Xa=Math.max,xm=Math.min,du=Math.round;function P_(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function tL(){return!/^((?!chrome|android).)*safari/i.test(P_())}function fu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&wi(e)&&(i=e.offsetWidth>0&&du(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&du(r.height)/e.offsetHeight||1);var o=vl(e)?Zr(e):window,a=o.visualViewport,l=!tL()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function nw(e){var t=fu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function nL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ao(e){return Zr(e).getComputedStyle(e)}function Iie(e){return["table","td","th"].indexOf(Ds(e))>=0}function va(e){return((vl(e)?e.ownerDocument:e.document)||window.document).documentElement}function cv(e){return Ds(e)==="html"?e:e.assignedSlot||e.parentNode||(tw(e)?e.host:null)||va(e)}function CI(e){return!wi(e)||Ao(e).position==="fixed"?null:e.offsetParent}function Pie(e){var t=/firefox/i.test(P_()),n=/Trident/i.test(P_());if(n&&wi(e)){var r=Ao(e);if(r.position==="fixed")return null}var i=cv(e);for(tw(i)&&(i=i.host);wi(i)&&["html","body"].indexOf(Ds(i))<0;){var s=Ao(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function vh(e){for(var t=Zr(e),n=CI(e);n&&Iie(n)&&Ao(n).position==="static";)n=CI(n);return n&&(Ds(n)==="html"||Ds(n)==="body"&&Ao(n).position==="static")?t:n||Pie(e)||t}function rw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wd(e,t,n){return Xa(e,xm(t,n))}function Rie(e,t,n){var r=Wd(e,t,n);return r>n?n:r}function rL(){return{top:0,right:0,bottom:0,left:0}}function iL(e){return Object.assign({},rL(),e)}function sL(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Mie=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,iL(typeof t!="number"?t:sL(t,mh))};function jie(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Vs(n.placement),l=rw(a),c=[jr,ji].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Mie(i.padding,n),h=nw(s),p=l==="y"?Mr:jr,g=l==="y"?Mi:ji,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],A=o[l]-n.rects.reference[l],v=vh(s),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-A/2,S=d[p],x=y-h[u]-d[g],w=y/2-h[u]/2+b,E=Wd(S,w,x),I=l;n.modifiersData[r]=(t={},t[I]=E,t.centerOffset=E-w,t)}}function Oie(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||nL(t.elements.popper,i)&&(t.elements.arrow=i))}const Vie={name:"arrow",enabled:!0,phase:"main",fn:jie,effect:Oie,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hu(e){return e.split("-")[1]}var Lie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nie(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:du(n*i)/i||0,y:du(r*i)/i||0}}function TI(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=h===void 0?0:h,g=o.y,m=g===void 0?0:g,A=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=A.x,m=A.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=jr,S=Mr,x=window;if(c){var w=vh(n),E="clientHeight",I="clientWidth";if(w===Zr(n)&&(w=va(n),Ao(w).position!=="static"&&a==="absolute"&&(E="scrollHeight",I="scrollWidth")),w=w,i===Mr||(i===jr||i===ji)&&s===Lf){S=Mi;var L=d&&w===x&&x.visualViewport?x.visualViewport.height:w[E];m-=L-r.height,m*=l?1:-1}if(i===jr||(i===Mr||i===Mi)&&s===Lf){b=ji;var j=d&&w===x&&x.visualViewport?x.visualViewport.width:w[I];p-=j-r.width,p*=l?1:-1}}var B=Object.assign({position:a},c&&Lie),Q=u===!0?Nie({x:p,y:m},Zr(n)):{x:p,y:m};if(p=Q.x,m=Q.y,l){var M;return Object.assign({},B,(M={},M[S]=y?"0":"",M[b]=v?"0":"",M.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",M))}return Object.assign({},B,(t={},t[S]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}function $ie(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Vs(t.placement),variation:hu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,TI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,TI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Bie={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$ie,data:{}};var yp={passive:!0};function Die(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Zr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,yp)}),a&&l.addEventListener("resize",n.update,yp),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,yp)}),a&&l.removeEventListener("resize",n.update,yp)}}const Fie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Die,data:{}};var zie={left:"right",right:"left",bottom:"top",top:"bottom"};function cg(e){return e.replace(/left|right|bottom|top/g,function(t){return zie[t]})}var Uie={start:"end",end:"start"};function II(e){return e.replace(/start|end/g,function(t){return Uie[t]})}function iw(e){var t=Zr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function sw(e){return fu(va(e)).left+iw(e).scrollLeft}function Hie(e,t){var n=Zr(e),r=va(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=tL();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+sw(e),y:l}}function qie(e){var t,n=va(e),r=iw(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Xa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Xa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+sw(e),l=-r.scrollTop;return Ao(i||n).direction==="rtl"&&(a+=Xa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ow(e){var t=Ao(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function oL(e){return["html","body","#document"].indexOf(Ds(e))>=0?e.ownerDocument.body:wi(e)&&ow(e)?e:oL(cv(e))}function Yd(e,t){var n;t===void 0&&(t=[]);var r=oL(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Zr(r),o=i?[s].concat(s.visualViewport||[],ow(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Yd(cv(o)))}function R_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Gie(e,t){var n=fu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function PI(e,t,n){return t===Z4?R_(Hie(e,n)):vl(t)?Gie(t,n):R_(qie(va(e)))}function Wie(e){var t=Yd(cv(e)),n=["absolute","fixed"].indexOf(Ao(e).position)>=0,r=n&&wi(e)?vh(e):e;return vl(r)?t.filter(function(i){return vl(i)&&nL(i,r)&&Ds(i)!=="body"}):[]}function Yie(e,t,n,r){var i=t==="clippingParents"?Wie(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=PI(e,c,r);return l.top=Xa(u.top,l.top),l.right=xm(u.right,l.right),l.bottom=xm(u.bottom,l.bottom),l.left=Xa(u.left,l.left),l},PI(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function aL(e){var t=e.reference,n=e.element,r=e.placement,i=r?Vs(r):null,s=r?hu(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Mr:l={x:o,y:t.y-n.height};break;case Mi:l={x:o,y:t.y+t.height};break;case ji:l={x:t.x+t.width,y:a};break;case jr:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?rw(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case uu:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Lf:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Nf(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?pie:a,c=n.rootBoundary,u=c===void 0?Z4:c,d=n.elementContext,h=d===void 0?ed:d,p=n.altBoundary,g=p===void 0?!1:p,m=n.padding,A=m===void 0?0:m,v=iL(typeof A!="number"?A:sL(A,mh)),y=h===ed?gie:ed,b=e.rects.popper,S=e.elements[g?y:h],x=Yie(vl(S)?S:S.contextElement||va(e.elements.popper),l,u,o),w=fu(e.elements.reference),E=aL({reference:w,element:b,strategy:"absolute",placement:i}),I=R_(Object.assign({},b,E)),L=h===ed?I:w,j={top:x.top-L.top+v.top,bottom:L.bottom-x.bottom+v.bottom,left:x.left-L.left+v.left,right:L.right-x.right+v.right},B=e.modifiersData.offset;if(h===ed&&B){var Q=B[i];Object.keys(j).forEach(function(M){var U=[ji,Mi].indexOf(M)>=0?1:-1,P=[Mr,Mi].indexOf(M)>=0?"y":"x";j[M]+=Q[P]*U})}return j}function Kie(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?eL:l,u=hu(r),d=u?a?kI:kI.filter(function(g){return hu(g)===u}):mh,h=d.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=d);var p=h.reduce(function(g,m){return g[m]=Nf(e,{placement:m,boundary:i,rootBoundary:s,padding:o})[Vs(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function Qie(e){if(Vs(e)===ew)return[];var t=cg(e);return[II(e),t,II(t)]}function Jie(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,A=t.options.placement,v=Vs(A),y=v===A,b=l||(y||!g?[cg(A)]:Qie(A)),S=[A].concat(b).reduce(function(V,ce){return V.concat(Vs(ce)===ew?Kie(t,{placement:ce,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:m}):ce)},[]),x=t.rects.reference,w=t.rects.popper,E=new Map,I=!0,L=S[0],j=0;j<S.length;j++){var B=S[j],Q=Vs(B),M=hu(B)===uu,U=[Mr,Mi].indexOf(Q)>=0,P=U?"width":"height",T=Nf(t,{placement:B,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),z=U?M?ji:jr:M?Mi:Mr;x[P]>w[P]&&(z=cg(z));var O=cg(z),N=[];if(s&&N.push(T[Q]<=0),a&&N.push(T[z]<=0,T[O]<=0),N.every(function(V){return V})){L=B,I=!1;break}E.set(B,N)}if(I)for(var D=g?3:1,$=function(ce){var Z=S.find(function(de){var we=E.get(de);if(we)return we.slice(0,ce).every(function(Ee){return Ee})});if(Z)return L=Z,"break"},q=D;q>0;q--){var ne=$(q);if(ne==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const Xie={name:"flip",enabled:!0,phase:"main",fn:Jie,requiresIfExists:["offset"],data:{_skip:!1}};function RI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function MI(e){return[Mr,ji,Mi,jr].some(function(t){return e[t]>=0})}function Zie(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Nf(t,{elementContext:"reference"}),a=Nf(t,{altBoundary:!0}),l=RI(o,r),c=RI(a,i,s),u=MI(l),d=MI(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const ese={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zie};function tse(e,t,n){var r=Vs(e),i=[jr,Mr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[jr,ji].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function nse(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=eL.reduce(function(u,d){return u[d]=tse(d,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const rse={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nse};function ise(e){var t=e.state,n=e.name;t.modifiersData[n]=aL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const sse={name:"popperOffsets",enabled:!0,phase:"read",fn:ise,data:{}};function ose(e){return e==="x"?"y":"x"}function ase(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,m=g===void 0?0:g,A=Nf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Vs(t.placement),y=hu(t.placement),b=!y,S=rw(v),x=ose(S),w=t.modifiersData.popperOffsets,E=t.rects.reference,I=t.rects.popper,L=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,j=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(w){if(s){var M,U=S==="y"?Mr:jr,P=S==="y"?Mi:ji,T=S==="y"?"height":"width",z=w[S],O=z+A[U],N=z-A[P],D=p?-I[T]/2:0,$=y===uu?E[T]:I[T],q=y===uu?-I[T]:-E[T],ne=t.elements.arrow,V=p&&ne?nw(ne):{width:0,height:0},ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rL(),Z=ce[U],de=ce[P],we=Wd(0,E[T],V[T]),Ee=b?E[T]/2-D-we-Z-j.mainAxis:$-we-Z-j.mainAxis,pe=b?-E[T]/2+D+we+de+j.mainAxis:q+we+de+j.mainAxis,Ae=t.elements.arrow&&vh(t.elements.arrow),qe=Ae?S==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Ve=(M=B==null?void 0:B[S])!=null?M:0,Ie=z+Ee-Ve-qe,_e=z+pe-Ve,Ue=Wd(p?xm(O,Ie):O,z,p?Xa(N,_e):N);w[S]=Ue,Q[S]=Ue-z}if(a){var Ge,He=S==="x"?Mr:jr,rt=S==="x"?Mi:ji,it=w[x],Nt=x==="y"?"height":"width",At=it+A[He],Gt=it-A[rt],st=[Mr,jr].indexOf(v)!==-1,_t=(Ge=B==null?void 0:B[x])!=null?Ge:0,wt=st?At:it-E[Nt]-I[Nt]-_t+j.altAxis,Ye=st?it+E[Nt]+I[Nt]-_t-j.altAxis:Gt,$t=p&&st?Rie(wt,it,Ye):Wd(p?wt:At,it,p?Ye:Gt);w[x]=$t,Q[x]=$t-it}t.modifiersData[r]=Q}}const lse={name:"preventOverflow",enabled:!0,phase:"main",fn:ase,requiresIfExists:["offset"]};function cse(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function use(e){return e===Zr(e)||!wi(e)?iw(e):cse(e)}function dse(e){var t=e.getBoundingClientRect(),n=du(t.width)/e.offsetWidth||1,r=du(t.height)/e.offsetHeight||1;return n!==1||r!==1}function fse(e,t,n){n===void 0&&(n=!1);var r=wi(t),i=wi(t)&&dse(t),s=va(t),o=fu(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ds(t)!=="body"||ow(s))&&(a=use(t)),wi(t)?(l=fu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=sw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function hse(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function pse(e){var t=hse(e);return Eie.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function gse(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function mse(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var jI={placement:"bottom",modifiers:[],strategy:"absolute"};function OI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vse(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?jI:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},jI,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},s,u.options,y),u.scrollParents={reference:vl(a)?Yd(a):a.contextElement?Yd(a.contextElement):[],popper:Yd(l)};var b=pse(mse([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var v=u.elements,y=v.reference,b=v.popper;if(OI(y,b)){u.rects={reference:fse(y,vh(b),u.options.strategy==="fixed"),popper:nw(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(j){return u.modifiersData[j.name]=Object.assign({},j.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var x=u.orderedModifiers[S],w=x.fn,E=x.options,I=E===void 0?{}:E,L=x.name;typeof w=="function"&&(u=w({state:u,options:I,name:L,instance:p})||u)}}}},update:gse(function(){return new Promise(function(A){p.forceUpdate(),A(u)})}),destroy:function(){m(),h=!0}};if(!OI(a,l))return p;p.setOptions(c).then(function(A){!h&&c.onFirstUpdate&&c.onFirstUpdate(A)});function g(){u.orderedModifiers.forEach(function(A){var v=A.name,y=A.options,b=y===void 0?{}:y,S=A.effect;if(typeof S=="function"){var x=S({state:u,name:v,instance:p,options:b}),w=function(){};d.push(x||w)}})}function m(){d.forEach(function(A){return A()}),d=[]}return p}}var yse=[Fie,sse,Bie,Tie,rse,Xie,lse,Vie,ese],Ase=vse({defaultModifiers:yse});function _se(e){return typeof e=="function"?e():e}const bse=_.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=_.useState(null),l=ho(_.isValidElement(r)?r.ref:null,n);if(nu(()=>{s||a(_se(i)||document.body)},[i,s]),nu(()=>{if(o&&!s)return Gg(n,o),()=>{Gg(n,null)}},[n,o,s]),s){if(_.isValidElement(r)){const c={ref:l};return _.cloneElement(r,c)}return f.jsx(_.Fragment,{children:r})}return f.jsx(_.Fragment,{children:o&&Tu.createPortal(r,o)})}),lL="base";function xse(e){return`${lL}--${e}`}function Sse(e,t){return`${lL}-${e}-${t}`}function cL(e,t){const n=_O[t];return n?xse(n):Sse(e,t)}function wse(e,t){const n={};return t.forEach(r=>{n[r]=cL(e,r)}),n}const uL="Popper";function Ese(e){return cL(uL,e)}wse(uL,["root"]);const kse=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Cse=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Tse(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function M_(e){return typeof e=="function"?e():e}function Ise(e){return e.nodeType!==void 0}const Pse=()=>Il({root:["root"]},sie(Ese)),Rse={},Mse=_.forwardRef(function(t,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:g={},TransitionProps:m}=t,A=Xt(t,kse),v=_.useRef(null),y=ho(v,n),b=_.useRef(null),S=ho(b,h),x=_.useRef(S);nu(()=>{x.current=S},[S]),_.useImperativeHandle(h,()=>b.current,[]);const w=Tse(u,o),[E,I]=_.useState(w),[L,j]=_.useState(M_(i));_.useEffect(()=>{b.current&&b.current.forceUpdate()}),_.useEffect(()=>{i&&j(M_(i))},[i]),nu(()=>{if(!L||!c)return;const P=O=>{I(O.placement)};let T=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:O})=>{P(O)}}];l!=null&&(T=T.concat(l)),d&&d.modifiers!=null&&(T=T.concat(d.modifiers));const z=Ase(L,v.current,oe({placement:w},d,{modifiers:T}));return x.current(z),()=>{z.destroy(),x.current(null)}},[L,a,l,c,d,w]);const B={placement:E};m!==null&&(B.TransitionProps=m);const Q=Pse(),M=(r=g.root)!=null?r:"div",U=uie({elementType:M,externalSlotProps:p.root,externalForwardedProps:A,additionalProps:{role:"tooltip",ref:y},ownerState:t,className:Q.root});return f.jsx(M,oe({},U,{children:typeof s=="function"?s(B):s}))}),jse=_.forwardRef(function(t,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=Rse,popperRef:p,style:g,transition:m=!1,slotProps:A={},slots:v={}}=t,y=Xt(t,Cse),[b,S]=_.useState(!0),x=()=>{S(!1)},w=()=>{S(!0)};if(!l&&!u&&(!m||b))return null;let E;if(s)E=s;else if(r){const j=M_(r);E=j&&Ise(j)?qg(j).body:qg(null).body}const I=!u&&l&&(!m||b)?"none":void 0,L=m?{in:u,onEnter:x,onExited:w}:void 0;return f.jsx(bse,{disablePortal:a,container:E,children:f.jsx(Mse,oe({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:m?!b:u,placement:d,popperOptions:h,popperRef:p,slotProps:A,slots:v},y,{style:oe({position:"fixed",top:0,left:0,display:I},g),TransitionProps:L,children:i}))})});var aw={};Object.defineProperty(aw,"__esModule",{value:!0});var dL=aw.default=void 0,Ose=Lse(_),Vse=DO;function fL(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(fL=function(r){return r?n:t})(e)}function Lse(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=fL(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function Nse(e){return Object.keys(e).length===0}function $se(e=null){const t=Ose.useContext(Vse.ThemeContext);return!t||Nse(t)?e:t}dL=aw.default=$se;function Bse(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Dse(e){return parseFloat(e)}const Fse=["theme"];function zse(e){let{theme:t}=e,n=Xt(e,Fse);const r=t[vf];return f.jsx(Mre,oe({},n,{themeId:r?vf:void 0,theme:r||t}))}const Use=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Hse=ri(jse,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qse=_.forwardRef(function(t,n){var r;const i=dL(),s=ha({props:t,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:g,placement:m,popperOptions:A,popperRef:v,transition:y,slots:b,slotProps:S}=s,x=Xt(s,Use),w=(r=b==null?void 0:b.root)!=null?r:l==null?void 0:l.Root,E=oe({anchorEl:o,container:u,disablePortal:d,keepMounted:h,modifiers:p,open:g,placement:m,popperOptions:A,popperRef:v,transition:y},x);return f.jsx(Hse,oe({as:a,direction:i==null?void 0:i.direction,slots:{root:w},slotProps:S??c},E,{ref:n}))}),hL=qse;function Gse(e){return Pl("MuiTooltip",e)}const Wse=Rl("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Wo=Wse,Yse=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Kse(e){return Math.round(e*1e5)/1e5}const Qse=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:s}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Cn(s.split("-")[0])}`],arrow:["arrow"]};return Il(o,Gse,t)},Jse=ri(hL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>oe({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Wo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Wo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Wo.arrow}`]:oe({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Wo.arrow}`]:oe({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Xse=ri("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Cn(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>oe({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Yg(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Kse(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Wo.popper}[data-popper-placement*="left"] &`]:oe({transformOrigin:"right center"},t.isRtl?oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):oe({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Wo.popper}[data-popper-placement*="right"] &`]:oe({transformOrigin:"left center"},t.isRtl?oe({marginRight:"14px"},t.touch&&{marginRight:"24px"}):oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Wo.popper}[data-popper-placement*="top"] &`]:oe({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Wo.popper}[data-popper-placement*="bottom"] &`]:oe({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),Zse=ri("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Yg(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Ap=!1;const VI=new ah;let td={x:0,y:0};function _p(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const eoe=_.forwardRef(function(t,n){var r,i,s,o,a,l,c,u,d,h,p,g,m,A,v,y,b,S,x;const w=ha({props:t,name:"MuiTooltip"}),{arrow:E=!1,children:I,components:L={},componentsProps:j={},describeChild:B=!1,disableFocusListener:Q=!1,disableHoverListener:M=!1,disableInteractive:U=!1,disableTouchListener:P=!1,enterDelay:T=100,enterNextDelay:z=0,enterTouchDelay:O=700,followCursor:N=!1,id:D,leaveDelay:$=0,leaveTouchDelay:q=1500,onClose:ne,onOpen:V,open:ce,placement:Z="bottom",PopperComponent:de,PopperProps:we={},slotProps:Ee={},slots:pe={},title:Ae,TransitionComponent:qe=EI,TransitionProps:Ve}=w,Ie=Xt(w,Yse),_e=_.isValidElement(I)?I:f.jsx("span",{children:I}),Ue=J4(),Ge=Rre(),[He,rt]=_.useState(),[it,Nt]=_.useState(null),At=_.useRef(!1),Gt=U||N,st=ac(),_t=ac(),wt=ac(),Ye=ac(),[$t,ye]=vO({controlled:ce,default:!1,name:"Tooltip",state:"open"});let We=$t;const Pn=mO(D),bt=_.useRef(),vn=za(()=>{bt.current!==void 0&&(document.body.style.WebkitUserSelect=bt.current,bt.current=void 0),Ye.clear()});_.useEffect(()=>vn,[vn]);const on=Ke=>{VI.clear(),Ap=!0,ye(!0),V&&!We&&V(Ke)},an=za(Ke=>{VI.start(800+$,()=>{Ap=!1}),ye(!1),ne&&We&&ne(Ke),st.start(Ue.transitions.duration.shortest,()=>{At.current=!1})}),Zt=Ke=>{At.current&&Ke.type!=="touchstart"||(He&&He.removeAttribute("title"),_t.clear(),wt.clear(),T||Ap&&z?_t.start(Ap?z:T,()=>{on(Ke)}):on(Ke))},ht=Ke=>{_t.clear(),wt.start($,()=>{an(Ke)})},{isFocusVisibleRef:ur,onBlur:Li,onFocus:er,ref:To}=Gx(),[,Ni]=_.useState(!1),Lr=Ke=>{Li(Ke),ur.current===!1&&(Ni(!1),ht(Ke))},$i=Ke=>{He||rt(Ke.currentTarget),er(Ke),ur.current===!0&&(Ni(!0),Zt(Ke))},Vl=Ke=>{At.current=!0;const dr=_e.props;dr.onTouchStart&&dr.onTouchStart(Ke)},Ll=Ke=>{Vl(Ke),wt.clear(),st.clear(),vn(),bt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ye.start(O,()=>{document.body.style.WebkitUserSelect=bt.current,Zt(Ke)})},Nl=Ke=>{_e.props.onTouchEnd&&_e.props.onTouchEnd(Ke),vn(),wt.start(q,()=>{an(Ke)})};_.useEffect(()=>{if(!We)return;function Ke(dr){(dr.key==="Escape"||dr.key==="Esc")&&an(dr)}return document.addEventListener("keydown",Ke),()=>{document.removeEventListener("keydown",Ke)}},[an,We]);const _a=ho(_e.ref,To,rt,n);!Ae&&Ae!==0&&(We=!1);const Mu=_.useRef(),Sv=Ke=>{const dr=_e.props;dr.onMouseMove&&dr.onMouseMove(Ke),td={x:Ke.clientX,y:Ke.clientY},Mu.current&&Mu.current.update()},ba={},ju=typeof Ae=="string";B?(ba.title=!We&&ju&&!M?Ae:null,ba["aria-describedby"]=We?Pn:null):(ba["aria-label"]=ju?Ae:null,ba["aria-labelledby"]=We&&!ju?Pn:null);const Nr=oe({},ba,Ie,_e.props,{className:xn(Ie.className,_e.props.className),onTouchStart:Vl,ref:_a},N?{onMouseMove:Sv}:{}),Io={};P||(Nr.onTouchStart=Ll,Nr.onTouchEnd=Nl),M||(Nr.onMouseOver=_p(Zt,Nr.onMouseOver),Nr.onMouseLeave=_p(ht,Nr.onMouseLeave),Gt||(Io.onMouseOver=Zt,Io.onMouseLeave=ht)),Q||(Nr.onFocus=_p($i,Nr.onFocus),Nr.onBlur=_p(Lr,Nr.onBlur),Gt||(Io.onFocus=$i,Io.onBlur=Lr));const wv=_.useMemo(()=>{var Ke;let dr=[{name:"arrow",enabled:!!it,options:{element:it,padding:4}}];return(Ke=we.popperOptions)!=null&&Ke.modifiers&&(dr=dr.concat(we.popperOptions.modifiers)),oe({},we.popperOptions,{modifiers:dr})},[it,we]),xa=oe({},w,{isRtl:Ge,arrow:E,disableInteractive:Gt,placement:Z,PopperComponentProp:de,touch:At.current}),Ou=Qse(xa),wh=(r=(i=pe.popper)!=null?i:L.Popper)!=null?r:Jse,Eh=(s=(o=(a=pe.transition)!=null?a:L.Transition)!=null?o:qe)!=null?s:EI,kh=(l=(c=pe.tooltip)!=null?c:L.Tooltip)!=null?l:Xse,Ch=(u=(d=pe.arrow)!=null?d:L.Arrow)!=null?u:Zse,Ev=_d(wh,oe({},we,(h=Ee.popper)!=null?h:j.popper,{className:xn(Ou.popper,we==null?void 0:we.className,(p=(g=Ee.popper)!=null?g:j.popper)==null?void 0:p.className)}),xa),kv=_d(Eh,oe({},Ve,(m=Ee.transition)!=null?m:j.transition),xa),Cv=_d(kh,oe({},(A=Ee.tooltip)!=null?A:j.tooltip,{className:xn(Ou.tooltip,(v=(y=Ee.tooltip)!=null?y:j.tooltip)==null?void 0:v.className)}),xa),Tv=_d(Ch,oe({},(b=Ee.arrow)!=null?b:j.arrow,{className:xn(Ou.arrow,(S=(x=Ee.arrow)!=null?x:j.arrow)==null?void 0:S.className)}),xa);return f.jsxs(_.Fragment,{children:[_.cloneElement(_e,Nr),f.jsx(wh,oe({as:de??hL,placement:Z,anchorEl:N?{getBoundingClientRect:()=>({top:td.y,left:td.x,right:td.x,bottom:td.y,width:0,height:0})}:He,popperRef:Mu,open:He?We:!1,id:Pn,transition:!0},Io,Ev,{popperOptions:wv,children:({TransitionProps:Ke})=>f.jsx(Eh,oe({timeout:Ue.transitions.duration.shorter},Ke,kv,{children:f.jsxs(kh,oe({},Cv,{children:[Ae,E?f.jsx(Ch,oe({},Tv,{ref:Nt})):null]}))}))}))]})}),toe=eoe,noe=({className:e,...t})=>f.jsx(toe,{arrow:!0,...t,classes:{tooltip:e}}),pu=C(noe,{target:"e21jg9v2"})("background:rgba(0, 0, 0, 0.85);font-size:2rem;padding:1rem 1.5rem;border-radius:1rem;max-width:45rem;",Ne,";.MuiTooltip-arrow{&::before{background:rgba(0, 0, 0, 0.85);}}strong{color:",he.colors.text.active,";}"),LI=e=>`tooltip_dismissed_${e}`,roe=({dismissKey:e,timeoutMs:t,oneTime:n=!0,...r})=>{const[i,s]=_.useState(!Oe.local.getItem(LI(e))),o=_.useCallback(()=>{Oe.local.setItem(LI(e),!0),s(void 0)},[e]);_.useEffect(()=>{if(t){const l=setTimeout(o,t);return()=>clearTimeout(l)}},[t,o]);const a=(i===void 0||!i&&!n)&&r.open===void 0;return f.jsx(pu,{open:a?r.open:i,...r,title:f.jsxs(f.Fragment,{children:[r.title,i&&f.jsx(ioe,{children:f.jsx(soe,{"data-test":"close-tooltip-button",onClick:o,children:"Close"})})]})},a?"uncontrolled":"controlled")},ioe=C("div",{target:"e21jg9v1"})({name:"g78t84",styles:"display:flex;justify-content:flex-end;margin-top:1rem"}),soe=C("button",{target:"e21jg9v0"})("padding:0.25rem 2rem;font-weight:bold;cursor:pointer;color:white;border:1px solid white;border-radius:0.5rem;background:none;font-size:1.75rem;&:hover{color:",he.colors.text.active,";border-color:",he.colors.text.active,";}&:active{color:white;background:",he.colors.text.active,";border-color:none;}");var lw={},ooe=Xe;Object.defineProperty(lw,"__esModule",{value:!0});var pL=lw.default=void 0,aoe=ooe(nt()),loe=f;pL=lw.default=(0,aoe.default)((0,loe.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen");var cw={},coe=Xe;Object.defineProperty(cw,"__esModule",{value:!0});var gL=cw.default=void 0,uoe=coe(nt()),doe=f;gL=cw.default=(0,uoe.default)((0,doe.jsx)("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit");function foe(){const[,e]=$e(zb),[t]=$e(Zn),[n,r]=_.useState(document.fullscreenElement!==null);return _.useEffect(()=>{const i=()=>{r(document.fullscreenElement!==null)};return document.addEventListener("fullscreenchange",i),()=>{document.removeEventListener("fullscreenchange",i)}},[]),f.jsx(pu,{title:"Toggle fullscreen",children:f.jsx(ZS,{"data-test":"toggle-fullscreen",size:"small",onClick:async()=>{var i,s;try{document.fullscreenElement===null?(e(!0),await document.body.requestFullscreen(),t&&(global.screen.orientation.unlock(),await((s=(i=global.screen.orientation).lock)==null?void 0:s.call(i,"landscape")))):(e(!1),await document.exitFullscreen(),t&&global.screen.orientation.unlock())}catch(o){console.info(o)}},children:n?f.jsx(gL,{}):f.jsx(pL,{})})})}const mL=e=>Ot("padding:0.1rem 0.3rem;font-size:2.6rem;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;border:0;background-color:rgba(0, 0, 0, 0.75);text-transform:uppercase;letter-spacing:0.2rem;",Ne,";pointer-events:auto;",e&&uw,";box-sizing:border-box;transition:300ms;",""),vL=Ot(":hover{",fo,";}:active{background:",he.colors.text.active,";}",""),Ki=C("a",{target:"eo7q3x1"})(e=>mL(e.focused),";&&{color:white;text-decoration:none;}",e=>!e.disabled&&vL,";"),us=C("button",{target:"eo7q3x0"})(e=>mL(e.focused),";:not(:disabled){",vL,";}"),hoe=Ns()?Ot("",""):{name:"syxqyq",styles:"@keyframes button-focus-loop{0%,100%{transform:scale(1.045);}50%{transform:scale(1.055);}}animation:button-focus-loop 600ms ease-in-out infinite both"},uw=Ot("transform:scale(1.05);background:",he.colors.text.active,";",hoe,";","");var poe={name:"1tj9yd6",styles:"cursor:default;color:#989898;background-color:#212121;border-width:0.3rem;pointer-events:none"};const Te=C(us,{target:"e1llc1k61"})("margin:0.5rem 0;height:",e=>e.size==="small"?"5rem":"10rem",";border:0 solid black;",e=>e.disabled&&poe,";"),ds=C("div",{target:"e1llc1k60"})({name:"10ov2k1",styles:"background:rgba(0, 0, 0, 0.5);padding:1.5rem;width:100vw;box-sizing:border-box;max-width:75rem;margin:2rem auto 0 auto;font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;view-transition-name:menu-container"});function Iu({children:e,onClose:t}){return f.jsxs(f.Fragment,{children:[f.jsx(moe,{onClick:t}),f.jsx(goe,{onClick:t,children:f.jsx("div",{onClick:n=>n.stopPropagation(),children:e})})]})}const goe=C("div",{target:"e7rcptf1"})({name:"1uzuniy",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;z-index:20001;overflow:auto"}),moe=C("div",{target:"e7rcptf0"})({name:"25wq6t",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.7);width:100vw;height:100vh;z-index:20000;backdrop-filter:blur(20px)"});let voe=0;function Pu(e,t){const n=_.useRef(`${String(Math.random())}-${voe++}`),{setKeyboard:r,unsetKeyboard:i}=_.useContext(Fx),s=a=>{r(n.current,a)},o=()=>i(n.current);return _.useEffect(()=>(t&&s(e),o),[e,t]),{setHelp:s,clearHelp:o}}function Vn(e={},t=!1){var S;const{enabled:n=!0,onBackspace:r,backspaceHelp:i=null,direction:s="vertical",additionalHelp:o={}}=e,[a,l]=_.useState(null),c=_.useRef([]),u=_.useRef([]),d=_.useRef({}),h=(S=d.current[a])==null?void 0:S.label,p=_.useMemo(()=>({[s]:null,accept:h??null,back:r?i:void 0,...o}),[h,d,i,s]);Pu(p,n);const g=()=>{var x;(x=d.current[a])==null||x.callback(),xx.play()},m=()=>{r&&(Sx.play(),r())},A=x=>{const w=a?c.current.indexOf(a):0;w0.play(),l(c.current.at((w+x)%c.current.length)??null)};Tl({[s==="vertical"?"up":"left"]:()=>A(-1),[s==="vertical"?"down":"right"]:()=>A(1),accept:g,back:m},n,[a,c.current]);let v="";const y=(x,w,E,I=!1,{propName:L="onClick",disabled:j=!1}={})=>{if(j)return{disabled:j,focused:!1};u.current.push(x),w&&(d.current[x]={callback:w,label:E,propName:L}),I&&(v=x);const B=n&&a===x;return{focused:B,[L]:w,keyboardNavigationChangeFocus:A,"data-test":x,...n?{"data-focused":B}:{}}};return _.useEffect(()=>{var x;(x=document.querySelector(`[data-test="${a}"]`))==null||x.scrollIntoView({behavior:"smooth",block:"center"})},[a]),_.useEffect(()=>{let x=u.current.filter(w=>!c.current.includes(w));t&&x.length&&console.log("new elements",x),c.current=[...u.current],u.current.length=0,c.current.length&&(a===null||c.current.indexOf(a)===-1||x.includes(v))&&l(v||c.current[0])}),{focusElement:x=>{c.current.includes(x)&&l(x)},focused:a,register:y}}var yoe=Object.defineProperty,Sm=Object.getOwnPropertySymbols,yL=Object.prototype.hasOwnProperty,AL=Object.prototype.propertyIsEnumerable,NI=(e,t,n)=>t in e?yoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$f=(e,t)=>{for(var n in t||(t={}))yL.call(t,n)&&NI(e,n,t[n]);if(Sm)for(var n of Sm(t))AL.call(t,n)&&NI(e,n,t[n]);return e},dw=(e,t)=>{var n={};for(var r in e)yL.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Sm)for(var r of Sm(e))t.indexOf(r)<0&&AL.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var yl;(e=>{const t=class{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const A=this.getPenaltyScore();A<g&&(d=m,g=A),this.applyMask(m)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return t.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return t.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,h=-1,p=!0){if(!(t.MIN_VERSION<=u&&u<=d&&d<=t.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const b=t.getNumDataCodewords(g,c)*8,S=a.getTotalBits(l,g);if(S<=b){m=S;break}if(g>=d)throw new RangeError("Data too long")}for(const b of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])p&&m<=t.getNumDataCodewords(g,b)*8&&(c=b);let A=[];for(const b of l){r(b.mode.modeBits,4,A),r(b.numChars,b.mode.numCharCountBits(g),A);for(const S of b.getData())A.push(S)}s(A.length==m);const v=t.getNumDataCodewords(g,c)*8;s(A.length<=v),r(0,Math.min(4,v-A.length),A),r(0,(8-A.length%8)%8,A),s(A.length%8==0);for(let b=236;A.length<v;b^=253)r(b,8,A);let y=[];for(;y.length*8<A.length;)y.push(0);return A.forEach((b,S)=>y[S>>>3]|=b<<7-(S&7)),new t(g,c,y,h)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,i(d,h));this.setFunctionModule(8,7,i(d,6)),this.setFunctionModule(8,8,i(d,7)),this.setFunctionModule(7,8,i(d,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,i(d,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,i(d,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,i(d,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=i(c,u),h=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(h,p,d),this.setFunctionModule(p,h,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const h=Math.max(Math.abs(d),Math.abs(u)),p=l+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],h=t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(t.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let A=[];const v=t.reedSolomonComputeDivisor(h);for(let b=0,S=0;b<d;b++){let x=l.slice(S,S+m-h+(b<g?0:1));S+=x.length;const w=t.reedSolomonComputeRemainder(x,v);b<g&&x.push(0),A.push(x.concat(w))}let y=[];for(let b=0;b<A[0].length;b++)A.forEach((S,x)=>{(b!=m-h||x>=g)&&y.push(S[b])});return s(y.length==p),y}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let h=0;h<2;h++){const p=u-h,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<l.length*8&&(this.modules[m][p]=i(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[h][A]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[h][A],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][h]==p?(g++,g==5?l+=t.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*t.PENALTY_N3),p=this.modules[A][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*t.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=t.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*t.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let h=0;h<c.length;h++)c[h]=t.reedSolomonMultiply(c[h],u),h+1<c.length&&(c[h]^=c[h+1]);u=t.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const h=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=t.reedSolomonMultiply(p,h))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)r(u,8,c);return new o(o.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);r(parseInt(l.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),r(d,11,c)}return u<l.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const h=d.mode.numCharCountBits(c);if(d.numChars>=1<<h)return 1/0;u+=4+h+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substr(u+1,2),16)),u+=2);return c}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(yl||(yl={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(yl||(yl={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(yl||(yl={}));var _c=yl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var _L={L:_c.QrCode.Ecc.LOW,M:_c.QrCode.Ecc.MEDIUM,Q:_c.QrCode.Ecc.QUARTILE,H:_c.QrCode.Ecc.HIGH},bL=128,xL="L",SL="#FFFFFF",wL="#000000",EL=!1,fw=4,Aoe=.1;function kL(e,t=0){const n=[];return e.forEach(function(r,i){let s=null;r.forEach(function(o,a){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${a-s}v1H${s+t}z`),s=null;return}if(a===r.length-1){if(!o)return;s===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${s+t},${i+t} h${a+1-s}v1H${s+t}z`);return}o&&s===null&&(s=a)})}),n.join("")}function CL(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function TL(e,t,n,r){if(r==null)return null;const i=n?fw:0,s=e.length+i*2,o=Math.floor(t*Aoe),a=s/t,l=(r.width||o)*a,c=(r.height||o)*a,u=r.x==null?e.length/2-l/2:r.x*a,d=r.y==null?e.length/2-c/2:r.y*a;let h=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(l+u-p),A=Math.ceil(c+d-g);h={x:p,y:g,w:m,h:A}}return{x:u,y:d,h:c,w:l,excavation:h}}var _oe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function IL(e){const t=e,{value:n,size:r=bL,level:i=xL,bgColor:s=SL,fgColor:o=wL,includeMargin:a=EL,style:l,imageSettings:c}=t,u=dw(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),d=c==null?void 0:c.src,h=_.useRef(null),p=_.useRef(null),[g,m]=_.useState(!1);_.useEffect(()=>{if(h.current!=null){const y=h.current,b=y.getContext("2d");if(!b)return;let S=_c.QrCode.encodeText(n,_L[i]).getModules();const x=a?fw:0,w=S.length+x*2,E=TL(S,r,a,c),I=p.current,L=E!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;L&&E.excavation!=null&&(S=CL(S,E.excavation));const j=window.devicePixelRatio||1;y.height=y.width=r*j;const B=r/w*j;b.scale(B,B),b.fillStyle=s,b.fillRect(0,0,w,w),b.fillStyle=o,_oe?b.fill(new Path2D(kL(S,x))):S.forEach(function(Q,M){Q.forEach(function(U,P){U&&b.fillRect(P+x,M+x,1,1)})}),L&&b.drawImage(I,E.x+x,E.y+x,E.w,E.h)}}),_.useEffect(()=>{m(!1)},[d]);const A=$f({height:r,width:r},l);let v=null;return d!=null&&(v=Pe.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:()=>{m(!0)},ref:p})),Pe.createElement(Pe.Fragment,null,Pe.createElement("canvas",$f({style:A,height:r,width:r,ref:h},u)),v)}function PL(e){const t=e,{value:n,size:r=bL,level:i=xL,bgColor:s=SL,fgColor:o=wL,includeMargin:a=EL,imageSettings:l}=t,c=dw(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=_c.QrCode.encodeText(n,_L[i]).getModules();const d=a?fw:0,h=u.length+d*2,p=TL(u,r,a,l);let g=null;l!=null&&p!=null&&(p.excavation!=null&&(u=CL(u,p.excavation)),g=Pe.createElement("image",{xlinkHref:l.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=kL(u,d);return Pe.createElement("svg",$f({height:r,width:r,viewBox:`0 0 ${h} ${h}`},c),Pe.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),Pe.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}var boe=e=>{const t=e,{renderAs:n}=t,r=dw(t,["renderAs"]);return n==="svg"?Pe.createElement(PL,$f({},r)):Pe.createElement(IL,$f({},r))};const xoe=Object.freeze(Object.defineProperty({__proto__:null,QRCodeCanvas:IL,QRCodeSVG:PL,default:boe},Symbol.toStringTag,{value:"Module"}));var RL={exports:{}},ML={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=_;function Soe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var woe=typeof Object.is=="function"?Object.is:Soe,Eoe=gu.useState,koe=gu.useEffect,Coe=gu.useLayoutEffect,Toe=gu.useDebugValue;function Ioe(e,t){var n=t(),r=Eoe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Coe(function(){i.value=n,i.getSnapshot=t,Yy(i)&&s({inst:i})},[e,n,t]),koe(function(){return Yy(i)&&s({inst:i}),e(function(){Yy(i)&&s({inst:i})})},[e]),Toe(n),n}function Yy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!woe(e,n)}catch{return!0}}function Poe(e,t){return t()}var Roe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Poe:Ioe;ML.useSyncExternalStore=gu.useSyncExternalStore!==void 0?gu.useSyncExternalStore:Roe;RL.exports=ML;var Moe=RL.exports;const{useEffect:joe,useLayoutEffect:Ooe,useRef:Voe,useInsertionEffect:Loe}=pg,Noe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$oe=Noe?Ooe:joe,jL=Loe||$oe,OL=e=>{const t=Voe([e,(...n)=>t[0](...n)]).current;return jL(()=>{t[0]=e}),t[1]},Boe=(e="",t=location.pathname)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Doe=(e,t="")=>e[0]==="~"?e.slice(1):t+e,Foe="popstate",hw="pushState",pw="replaceState",zoe="hashchange",$I=[Foe,hw,pw,zoe],Uoe=e=>{for(const t of $I)addEventListener(t,e);return()=>{for(const t of $I)removeEventListener(t,e)}},Hoe=(e,t)=>Moe.useSyncExternalStore(Uoe,e,t),BI=()=>location.pathname,qoe=({ssrPath:e}={})=>Hoe(BI,e?()=>e:BI),Goe=(e,{replace:t=!1}={})=>history[t?pw:hw](null,"",e),Woe=(e={})=>[Boe(e.base,qoe(e)),OL((t,n)=>Goe(Doe(t,e.base),n))];if(typeof history<"u")for(const e of[hw,pw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}function Yoe(e=Qoe){let t={};const n=r=>t[r]||(t[r]=e(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((c,u,d)=>(c[u.name]=a[d+1],c),{})]:[!1,null]}}const DI=e=>e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Koe=(e,t,n)=>{let r=e?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return t&&n&&(r="(?:\\/"+r+")"),r+(t?"?":"")},Qoe=e=>{const t=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=t.exec(e))!==null;){const[o,a,l]=n,c=l==="+"||l==="*",u=l==="?"||l==="*",d=u&&e[n.index-1]==="/"?1:0,h=e.substring(r,n.index-d);i.push({name:a}),r=t.lastIndex,s+=DI(h)+Koe(c,u,d)}return s+=DI(e.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},j_={hook:Woe,matcher:Yoe(),base:""},VL=_.createContext(j_),uv=()=>_.useContext(VL),dv=e=>e.hook(e),Joe=()=>dv(uv()),LL=e=>{const t=uv(),[n]=dv(t);return t.matcher(e,n)},Xoe=_.createContext({params:{}}),Zoe=({hook:e,matcher:t,ssrPath:n,base:r="",parent:i,children:s})=>{const o=(l,c=i||j_)=>(l.hook=e||c.hook,l.matcher=t||c.matcher,l.ssrPath=n||c.ssrPath,l.ownBase=r,l.parent=i,l),[a]=_.useState(()=>o({get base(){return(a.parent||j_).base+a.ownBase}}));return jL(()=>{o(a)}),_.createElement(VL.Provider,{value:a,children:s})},FI=(e,t)=>_.createElement(Xoe.Provider,{value:{params:e},children:t}),rr=({path:e,match:t,component:n,children:r})=>{const i=LL(e),[s,o]=t||i;return s?n?FI(o,_.createElement(n,{params:o})):FI(o,typeof r=="function"?r(o):r):null},gw=_.forwardRef((e,t)=>{const n=uv(),[,r]=dv(n),{to:i,href:s=i,children:o,onClick:a}=e,l=OL(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),r(i||s,e)))}),c={href:s[0]==="~"?s.slice(1):n.base+s,onClick:l,to:null,ref:t},u=_.isValidElement(o)?o:_.createElement("a",e);return _.cloneElement(u,c)}),O_=e=>Array.isArray(e)?[].concat(...e.map(t=>t&&t.type===_.Fragment?O_(t.props.children):O_(t))):[e],eae=({children:e,location:t})=>{const n=uv(),r=n.matcher,[i]=dv(n);for(const s of O_(e)){let o=0;if(_.isValidElement(s)&&(o=s.props.path?r(s.props.path,t||i):[!0,{}])[0])return _.cloneElement(s,{match:o})}return null},{QRCodeSVG:tae}=xoe;function zI({gameCode:e,...t}){return f.jsx(oae,{...t,children:e.split("").map((n,r)=>f.jsx("span",{children:n},r))})}function mw(){var i;const e=new URL((i=global.location)==null?void 0:i.href),[t]=LL("remote-mic"),n=T0("room")??Ng.getGameCode();e.pathname="/remote-mic",e.searchParams.set("room",n);const r=e.href;return _.useEffect(()=>{t||Ng.start()},[t]),f.jsxs(lae,{children:[f.jsx(cae,{children:f.jsx(tae,{value:r,width:"100%",height:"100%",includeMargin:!0})}),f.jsxs(uae,{children:[f.jsxs(nae,{children:[f.jsxs("h3",{children:["Game code: ",f.jsx(zI,{gameCode:n,"data-test":"game-code"})]}),f.jsxs("ol",{children:[f.jsxs("li",{children:["Go to"," ",f.jsx("a",{href:e.origin,target:"_blank",rel:"noreferrer",children:"allkaraoke.party"})," ","on your phone"]}),f.jsxs("li",{children:["Click on ",f.jsx("b",{children:"Join game"})]}),f.jsxs("li",{children:["Enter the code ",f.jsx(zI,{gameCode:n})]}),f.jsx("li",{children:"Follow the instructions"})]})]}),f.jsxs(rae,{children:[f.jsx("h4",{children:"Or copy and send the link"}),f.jsxs(iae,{children:[f.jsx(aae,{disabled:!0,value:r,"data-test":"server-link-input"}),f.jsx(sae,{onClick:()=>{navigator.clipboard.writeText(r)},children:"Copy"})]})]})]})]})}const nae=C("div",{target:"eg58fmd8"})({name:"82a6rk",styles:"flex:1"}),rae=C("div",{target:"eg58fmd7"})({name:"4dmv1c",styles:"flex:0"}),iae=C("div",{target:"eg58fmd6"})({name:"sqzzkh",styles:"position:relative;margin-top:0.5rem"}),sae=C("button",{target:"eg58fmd5"})("cursor:pointer;position:absolute;padding:0 2rem;right:0;height:100%;box-sizing:border-box;background:",he.colors.text.active,";",Ne,";font-weight:bold;font-size:2.2rem;border:0;:active{background-color:black;}"),oae=C("strong",{target:"eg58fmd4"})("text-transform:uppercase;padding:0.5rem 1.5rem;border-radius:0.5rem;display:inline-flex;gap:1.5rem;",fo,";"),aae=C("input",{target:"eg58fmd3"})({name:"gri5w4",styles:"padding:1rem;box-sizing:border-box;background:grey;border:none;width:100%;font-size:1.3rem"}),lae=C("div",{target:"eg58fmd2"})({name:"1d1jk7v",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch;flex:1;gap:2%;@media (max-width: 560px){flex-direction:column;}"}),cae=C("div",{target:"eg58fmd1"})({name:"2ogmzh",styles:"flex:0.6;@media (max-width: 560px){flex:0;}"}),uae=C("div",{target:"eg58fmd0"})("@media (max-width: 560px){display:none;}flex:1;display:flex;flex-direction:column;b{font-weight:bold;",Ne,";color:",he.colors.text.active,";}h3{margin-bottom:1rem;}h4{margin:1rem 0;}ol{padding-left:2.3rem;margin:0 0 1.25rem 0;list-style:decimal inside;}li{color:white;font-size:2rem;line-height:3.2rem;}");function dae({closeModal:e}){const{register:t}=Vn({onBackspace:e});return f.jsx(Iu,{onClose:e,children:f.jsxs(ds,{children:[f.jsx(mw,{}),f.jsx(us,{...t("quick-connect-close",e),children:"Close"})]})})}function fae(){const[e,t]=_.useState(!1);$e(Zn);const[n,r]=$e(gj),{hasContent:i}=_.useContext(Fx),s=()=>t(!1);return f.jsxs(f.Fragment,{children:[e&&f.jsx(dae,{closeModal:s}),f.jsxs(hae,{children:[i&&f.jsx(pu,{title:"Toggle help",children:f.jsx(pae,{size:"small",onClick:()=>r(!n),"data-test":"toggle-help",children:n?f.jsx(zO,{}):f.jsx(UO,{})})}),f.jsx(foe,{}),f.jsx(pu,{title:"Connect phone",children:f.jsx(ZS,{size:"small",onClick:()=>t(o=>!o),"data-test":"quick-connect-phone",children:f.jsx(yf,{})})})]})]})}const hae=C("div",{target:"efkmcew1"})({name:"18h6jmh",styles:"view-transition-name:toolbar;cursor:pointer;background:rgba(0, 0, 0, 0.75);color:white;padding:0.2rem;padding-left:1rem;margin:0;position:fixed;top:0;right:0;z-index:10000;color:white;svg{fill:white;width:3.5rem;height:3.5rem;transition:transform 200ms;&:hover{transform:scale(1.2);}}display:flex;gap:0.75rem;border-bottom-left-radius:1.5rem"}),pae=C(ZS,{target:"efkmcew0"})({name:"lpoy45",styles:"scale:0.9"});function Co({children:e,toolbar:t=!0}){return f.jsxs(DJ,{children:[t&&f.jsx(fae,{}),e]})}var vw={},gae=Xe;Object.defineProperty(vw,"__esModule",{value:!0});var NL=vw.default=void 0,mae=gae(nt()),vae=f;NL=vw.default=(0,mae.default)((0,vae.jsx)("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var yw={},yae=Xe;Object.defineProperty(yw,"__esModule",{value:!0});var $L=yw.default=void 0,Aae=yae(nt()),_ae=f;$L=yw.default=(0,Aae.default)((0,_ae.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const Aw=({...e})=>f.jsx(Qg,{viewBox:"0 0 512 512",...e,children:f.jsx("path",{stroke:"black",strokeWidth:"2%",xmlns:"http://www.w3.org/2000/svg",d:"M252.529,162.029l168.125,210.156c-12.313,1.25-24.031,6.438-33.031,15.438s-14.188,20.719-15.438,33.031L162.029,252.545  c-3.563-24.922,4.813-50.078,22.625-67.891C202.467,166.857,227.623,158.467,252.529,162.029z M398.936,398.936  c-9.063,9.063-13.031,22.063-10.625,34.656l45.281,45.25c12.5,12.5,32.75,12.5,45.25,0s12.5-32.75,0-45.25l-45.25-45.281  C420.998,385.904,407.998,389.873,398.936,398.936z M162.029,162.029c18.594-18.594,43.188-29.891,68.969-32.297  c-3.375-24.563-14.906-49.391-35.031-69.516c-43.75-43.75-109.594-48.813-147.063-11.313  c-37.5,37.484-32.438,103.328,11.313,147.078c20.125,20.125,44.938,31.656,69.5,35.031  C132.154,205.217,143.436,180.623,162.029,162.029z"})}),BL=C(Aw,{target:"e1uhpuaa1"})("fill:",he.colors.players[1].text,";"),V_=C(Aw,{target:"e1uhpuaa0"})("fill:",he.colors.players[0].text,";");function bae({active:e,setActiveTab:t}){return f.jsxs(xae,{children:[f.jsxs(Ky,{active:e==="microphone",onClick:()=>t("microphone"),"data-test":"menu-microphone",children:[f.jsx(Qy,{children:f.jsx(Aw,{})}),f.jsx(Jy,{children:"Microphone"})]}),f.jsxs(Ky,{active:e==="song-list",onClick:()=>t("song-list"),"data-test":"menu-song-list",children:[f.jsx(Qy,{children:f.jsx(NL,{})}),f.jsx(Jy,{children:"Song list"})]}),f.jsxs(Ky,{active:e==="settings",onClick:()=>t("settings"),"data-test":"menu-settings",children:[f.jsx(Qy,{children:f.jsx($L,{})}),f.jsx(Jy,{children:"Settings"})]})]})}const xae=C("div",{target:"e1c2ys9k3"})({name:"1x8gdpu",styles:"position:fixed;bottom:0;right:0;display:flex;align-items:stretch;width:100%;gap:1px;background:#424242;@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:400px;transform:scale(0.75);transform-origin:bottom right;}"}),Ky=C("div",{target:"e1c2ys9k2"})("flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:black;padding:1rem;font-size:1.5rem;gap:0.5rem;color:",e=>e.active?he.colors.text.active:"#cecece",";"),Qy=C("div",{target:"e1c2ys9k1"})({name:"immj2t",styles:"svg{width:2.5rem;height:2.5rem;}font-size:2rem"}),Jy=C("div",{target:"e1c2ys9k0"})("");var _w={},Sae=Xe;Object.defineProperty(_w,"__esModule",{value:!0});var Ol=_w.default=void 0,wae=Sae(nt()),Eae=f;Ol=_w.default=(0,wae.default)((0,Eae.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const bw=()=>{const[e,t]=_.useState(Xo.getStatus());return _.useEffect(()=>Xo.addListener(t),[]),e};function DL(){return navigator==null?void 0:navigator.userAgent.includes("OPR")}const kae="/assets/allow-mic-DleF1-pf.png",Cae="/assets/enable-mic-opera-B5FfRj_P.png",Tae="/assets/enable-mic-TGG47ucR.png",Iae=()=>DL()?Cae:Tae,yh=({children:e,fallback:t,showImages:n=!0})=>{const r=bw();return f.jsxs(f.Fragment,{children:[r==="accepted"&&e,r!=="accepted"&&f.jsxs(f.Fragment,{children:[f.jsx(Rae,{children:f.jsx(Mae,{})}),t,f.jsxs(Pae,{children:[r==="requested"&&n&&f.jsx("img",{src:kae,alt:"how-to-allow"}),r==="declined"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Access is blocked, you can unblock it here"}),n&&f.jsx("img",{src:Iae(),alt:"how-to-enable"})]}),DL()&&f.jsxs("h4",{children:[f.jsx("strong",{children:"Opera"})," is buggy regarding microphone access - if you encounter issue (e.g. this message stays even after the access to microphone was granted), consider other browsers."]})]})]})]})},Pae=C("div",{target:"e1w9vi9z2"})({name:"1hmq8jv",styles:"text-align:center;img{margin:1.5rem 0 0.5rem;box-shadow:0.5rem 0.5rem 0.5rem rgba(0, 0, 0, 0.5),inset 0 0 0.5rem 0.5rem rgba(255, 255, 255, 0.5);border:0.5rem solid white;border-radius:1rem;box-sizing:border-box;max-width:100%;}"}),Rae=C("div",{target:"e1w9vi9z1"})({name:"zov8s0",styles:"width:100%;display:flex;justify-content:center"}),Mae=C(Ol,{target:"e1w9vi9z0"})("color:",he.colors.text.active,";font-size:3rem;");function jae(){return!1}var xw={},Oae=Xe;Object.defineProperty(xw,"__esModule",{value:!0});var Kd=xw.default=void 0,Vae=Oae(nt()),Lae=f;Kd=xw.default=(0,Vae.default)((0,Lae.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi");function Ah(e,t,n=1){return n===1?(t+1)%e.length:(t+e.length-1)%e.length}function Nae(e,t,n=1){return Ah(e,e.indexOf(t),n)}function Za(e,t,n=1){return e[Nae(e,t,n)]}const Hr=({focused:e,disabled:t,label:n,value:r,onClick:i,info:s,children:o,...a})=>f.jsxs($ae,{children:[f.jsxs(Bae,{focused:e,onClick:i,disabled:t,...a,children:[f.jsx("span",{children:n?f.jsxs(f.Fragment,{children:[n,":"]}):""})," ",f.jsx(Dae,{children:r}),o??null]}),s&&f.jsx(FL,{children:s})]}),$ae=C("div",{target:"e84wjn53"})(""),FL=C("div",{target:"e84wjn52"})(Ne,";font-size:2rem;padding:1rem 0.5rem 0;text-align:justify;"),Bae=C("span",{target:"e84wjn51"})("background:rgba(0, 0, 0, 0.7);width:auto;",Ne,";text-align:right;font-size:",({expanded:e})=>e?"6rem":"2.7rem",";cursor:",({disabled:e})=>e?"default":"pointer",";padding:0.65rem;display:flex;flex-direction:row;justify-content:space-between;",e=>!e.disabled&&$x,";"),Dae=C("span",{target:"e84wjn50"})("color:",he.colors.text.active,";text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:1rem;"),Ru=_.forwardRef(({focused:e,label:t,value:n,onChange:r,disabled:i,className:s,adornment:o,info:a,...l},c)=>{const u=_.useRef(null);return _.useImperativeHandle(c,()=>u.current),wr(T1,()=>{var d;return(d=u.current)==null?void 0:d.focus()},{enabled:e}),f.jsxs("div",{children:[f.jsxs(zae,{focused:e,className:s,children:[f.jsx(Uae,{children:t}),f.jsx(Hae,{value:n,onChange:d=>r(d.target.value),...l,disabled:i,ref:u}),o&&f.jsx(Fae,{children:o})]}),a&&f.jsx(FL,{children:a})]})}),Fae=C("span",{target:"et2ce2n3"})(""),zae=C("div",{target:"et2ce2n2"})("background:black;caret:underscore;",$x,";",Ne,";width:auto;display:flex;cursor:text;padding:0.25em;align-items:center;"),Uae=C("span",{target:"et2ce2n1"})({name:"199i11i",styles:"padding-right:0.5em;white-space:nowrap;width:auto;svg{font-size:1em;}"}),Hae=C("input",{target:"et2ce2n0"})("padding:0;border:0;background:transparent;caret:underscore;",Ne,";color:",he.colors.text.active,";width:100%;font-size:1em;&:focus{outline:none;}");function qae(e){return Pl("MuiCircularProgress",e)}Rl("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Gae=["className","color","disableShrink","size","style","thickness","value","variant"];let fv=e=>e,UI,HI,qI,GI;const Mo=44,Wae=_o(UI||(UI=fv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Yae=_o(HI||(HI=fv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Kae=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${Cn(r)}`],svg:["svg"],circle:["circle",`circle${Cn(n)}`,i&&"circleDisableShrink"]};return Il(s,qae,t)},Qae=ri("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Cn(n.color)}`]]}})(({ownerState:e,theme:t})=>oe({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Ot(qI||(qI=fv`
      animation: ${0} 1.4s linear infinite;
    `),Wae)),Jae=ri("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Xae=ri("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Cn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>oe({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Ot(GI||(GI=fv`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Yae)),Zae=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=Xt(r,Gae),p=oe({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=Kae(p),m={},A={},v={};if(d==="determinate"){const y=2*Math.PI*((Mo-c)/2);m.strokeDasharray=y.toFixed(3),v["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*y).toFixed(3)}px`,A.transform="rotate(-90deg)"}return f.jsx(Qae,oe({className:xn(g.root,i),style:oe({width:a,height:a},A,l),ownerState:p,ref:n,role:"progressbar"},v,h,{children:f.jsx(Jae,{className:g.svg,ownerState:p,viewBox:`${Mo/2} ${Mo/2} ${Mo} ${Mo}`,children:f.jsx(Xae,{className:g.circle,style:m,ownerState:p,cx:Mo,cy:Mo,r:(Mo-c)/2,fill:"none",strokeWidth:c})})}))}),ele=Zae;function _h(e){return f.jsx(ele,{...e})}function Bf(e){document.startViewTransition?document.startViewTransition(async()=>{await e()}):e()}const L_=(e,t)=>{var n;if(t){const r=new URLSearchParams((n=global.location)==null?void 0:n.search);return Object.entries(t).forEach(([i,s])=>{s===null?r.delete(i):r.set(i,s)}),`${e}?${r.toString()}`}return e};function oi(){const[,e]=Joe();return(t,n,{smooth:r=!0,...i}={})=>{r?Bf(()=>e(L_(t,n),i)):e(L_(t,n),i)}}var Sw={},tle=Xe;Object.defineProperty(Sw,"__esModule",{value:!0});var ww=Sw.default=void 0,nle=tle(nt()),rle=f;ww=Sw.default=(0,nle.default)((0,rle.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop");var Ew={},ile=Xe;Object.defineProperty(Ew,"__esModule",{value:!0});var kw=Ew.default=void 0,sle=ile(nt()),ole=f;kw=Ew.default=(0,sle.default)((0,ole.jsx)("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid");const WI="confirmed-wifi";function ale({onClose:e}){const[t,n]=Pe.useState(Oe.session.getItem(WI)??!1),r=()=>{Oe.session.setItem(WI,!0),n(!0),e==null||e()};return _.useEffect(()=>{var i,s,o;if(navigator!=null&&navigator.connection)if(((i=navigator==null?void 0:navigator.connection)==null?void 0:i.type)==="wifi")r();else{const a=()=>{var l;((l=navigator==null?void 0:navigator.connection)==null?void 0:l.type)==="wifi"&&r()};return(o=(s=navigator==null?void 0:navigator.connection)==null?void 0:s.addEventListener)==null||o.call(s,"change",a),()=>{var l,c;return(c=(l=navigator==null?void 0:navigator.connection)==null?void 0:l.removeEventListener)==null?void 0:c.call(l,"change",a)}}},[]),t?null:f.jsx(Iu,{onClose:r,children:f.jsxs(lle,{children:[f.jsxs(cle,{children:[f.jsxs("h3",{children:["Connect to the ",f.jsx("strong",{children:"same Wi-Fi"})]}),f.jsxs(ule,{children:[f.jsx(kw,{}),"...",f.jsx(Kd,{}),"...",f.jsx(ww,{})]}),f.jsx("h4",{children:"Connect to the same Wi-Fi as the game."})]}),f.jsx("h6",{children:"Otherwise microphones might not work properly."}),f.jsx(Te,{onClick:r,focused:!0,"data-test":"confirm-wifi-connection",children:"I'm connected, continue"})]})})}const lle=C(ds,{target:"e1200hll2"})({name:"vcyu3g",styles:"gap:1rem"}),cle=C("div",{target:"e1200hll1"})({name:"1uu7723",styles:"display:flex;flex-direction:column;align-items:center;gap:2rem"}),ule=C("div",{target:"e1200hll0"})("margin:2rem 0;display:flex;color:white;align-items:center;gap:2rem;@keyframes pulse{0%{color:",he.colors.text.default,";transform:scale(1);}25%{color:",he.colors.text.active,";transform:scale(1.1);}50%{color:",he.colors.text.default,";transform:scale(1);}}svg{animation:pulse 2s infinite;font-size:7rem;:nth-of-type(1){animation-delay:0s;}:nth-of-type(2){animation-delay:0.5s;}:nth-of-type(3){animation-delay:1s;}}");function dle(e,t,n,r){n===void 0&&(n=global),r===void 0&&(r={});var i=_.useRef(),s=r.capture,o=r.passive,a=r.once;_.useEffect(function(){i.current=t},[t]),_.useEffect(function(){if(n&&n.addEventListener){var l=function(u){return i.current(u)},c={capture:s,passive:o,once:a};return n.addEventListener(e,l,c),function(){n.removeEventListener(e,l,c)}}},[e,n,s,o,a])}var Ta={},fle=function(e,t,n){return Ta[e]||(Ta[e]={callbacks:[],value:n}),Ta[e].callbacks.push(t),{deregister:function(){var r=Ta[e].callbacks,i=r.indexOf(t);i>-1&&r.splice(i,1)},emit:function(r){Ta[e].value!==r&&(Ta[e].value=r,Ta[e].callbacks.forEach(function(i){t!==i&&i(r)}))}}};function Cw(e,t){if(t===void 0&&(t=typeof global<"u"&&global.localStorage?global.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:typeof localStorage<"u"?localStorage:null),t){var n=function(r){return{get:function(i,s){var o=r.getItem(i);return o==null?typeof s=="function"?s():s:JSON.parse(o)},set:function(i,s){r.setItem(i,JSON.stringify(s))}}}(t);return function(r){return function(i,s,o){var a=o.get,l=o.set,c=_.useRef(null),u=_.useState(function(){return a(s,i)}),d=u[0],h=u[1];dle("storage",function(g){if(g.key===s){var m=JSON.parse(g.newValue);d!==m&&h(m)}}),_.useEffect(function(){return c.current=fle(s,h,i),function(){c.current.deregister()}},[i,s]);var p=_.useCallback(function(g){var m=typeof g=="function"?g(d):g;l(s,m),h(m),c.current.emit(g)},[d,l,s]);return[d,p]}(r,e,n)}}return _.useState}const hle=Cw("remote_mic_name");function ple({isVisible:e,roomId:t,connectionStatus:n,onConnect:r,connectionError:i}){const[s,o]=hle(""),[a,l]=_.useState(!1),c=_.useRef(null),u=_.useRef(null),[d,h]=_.useState(""),p=oi(),g=n!=="uninitialised"&&n!=="error";_.useEffect(()=>{n==="connected"&&!t&&p("remote-mic/",{room:d})},[n,t,d]);const m=(S=!1)=>{pn.connect(t??d,s,S),r(S)},A=S=>{var x,w;S.preventDefault(),l(!1),!t&&d.length!==Gp?(x=c.current)==null||x.focus():s===""?(w=u.current??c.current)==null||w.focus():m()};_.useEffect(()=>{var S;kn.capture(t?"remote-mic-qrcode":"remote-mic-manual"),(S=c.current)==null||S.focus()},[]),_.useEffect(()=>{Oe.session.getItem("reload-mic-request")!==null&&(global.setTimeout(()=>Oe.session.removeItem("reload-mic-request"),1),m(!0))},[]);const[v,y]=_.useState(!1);_.useEffect(()=>{if(y(!1),n==="connecting"||n==="reconnecting"){const S=setTimeout(()=>y(!0),2e3);return()=>clearTimeout(S)}},[n]);const b=n==="error"&&!a;return e?f.jsxs(f.Fragment,{children:[f.jsx(ale,{onClose:()=>{var S;(S=c.current)==null||S.focus()}}),f.jsxs(gle,{onSubmit:A,children:[!t&&f.jsx(vle,{ref:c,placeholder:"_____",label:"Game code",autoCapitalize:"characters",autoComplete:"off",onChange:h,value:d,maxLength:Gp,focused:!1,autoFocus:!0,"data-test":"game-code-input",onFocus:()=>{n==="error"&&l(!0)},onPaste:S=>{S.preventDefault();let x=(S.clipboardData||global.clipboardData).getData("text");x=x.replace(/\s/g,""),h(x.slice(0,Gp))}}),f.jsx(Ru,{maxLength:dx,focused:!1,label:"Your name",placeholder:"Enter your name",value:s,onChange:o,ref:t?c:u,disabled:g,autoFocus:!0,"data-test":"player-name-input"}),f.jsxs(mle,{type:"submit",disabled:g,"data-test":"connect-button",children:[n==="connecting"&&f.jsx(_h,{size:"1em"}),n==="uninitialised"||a?"Connect":n.toUpperCase()]})]}),(v||b)&&f.jsxs(f.Fragment,{children:[v&&f.jsx("h3",{children:"If it doesn't connect"}),b&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx("strong",{children:f.jsx(Ol,{})})," ","Could not connect:"]}),f.jsxs("h6",{children:["Error code: ",f.jsx("strong",{children:i})]}),f.jsx("br",{}),i==="peer-unavailable"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:t===void 0?"Game with this code not found ":"The game seems to be offline "}),t===void 0&&f.jsxs("h5",{children:["1. Is the code ",f.jsx("strong",{children:d.toUpperCase()})," correct?"]}),f.jsxs("h5",{children:[t===void 0?2:1,". Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),t!==void 0&&f.jsxs("h5",{children:["2. Scan the"," ",f.jsxs("strong",{children:[f.jsx(yf,{})," QR Code"]})," ","again"]}),f.jsxs("h5",{children:["3. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Kd,{})," Wi-Fi"]})]})]}):i==="network"?f.jsxs(f.Fragment,{children:[f.jsx("h4",{children:"No internet access "}),f.jsxs("h5",{children:["Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Kd,{})," Wi-Fi"]}),"and that it has internet connection"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("h5",{children:["1. Make sure you are in the same"," ",f.jsxs("strong",{children:[f.jsx(Kd,{})," Wi-Fi"]})]}),f.jsxs("h5",{children:["2. Refresh (",f.jsx("strong",{children:"F5"}),") the Karaoke Game on the PC"]}),f.jsxs("h5",{children:["3. Scan the"," ",f.jsxs("strong",{children:[f.jsx(yf,{})," QR Code"]})," ","again"]})]})]})]})]}):null}const gle=C("form",{target:"e1ey8ze72"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),mle=C(Te,{target:"e1ey8ze71"})({name:"116s0m5",styles:"margin-bottom:0;height:72px"}),vle=C(Ru,{target:"e1ey8ze70"})({name:"8hhbv6",styles:"input{letter-spacing:2rem;text-align:center;text-transform:uppercase;}"});var Tw={},yle=Xe;Object.defineProperty(Tw,"__esModule",{value:!0});var zL=Tw.default=void 0,Ale=yle(nt()),_le=f;zL=Tw.default=(0,Ale.default)((0,_le.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var Iw={},ble=Xe;Object.defineProperty(Iw,"__esModule",{value:!0});var UL=Iw.default=void 0,xle=ble(nt()),Sle=f;UL=Iw.default=(0,xle.default)((0,Sle.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var Pw={},wle=Xe;Object.defineProperty(Pw,"__esModule",{value:!0});var HL=Pw.default=void 0,Ele=wle(nt()),kle=f;HL=Pw.default=(0,Ele.default)((0,kle.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Games");var Rw={},Cle=Xe;Object.defineProperty(Rw,"__esModule",{value:!0});var qL=Rw.default=void 0,Tle=Cle(nt()),Ile=f;qL=Rw.default=(0,Tle.default)((0,Ile.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");var Mw={},Ple=Xe;Object.defineProperty(Mw,"__esModule",{value:!0});var GL=Mw.default=void 0,Rle=Ple(nt()),Mle=f;GL=Mw.default=(0,Rle.default)((0,Mle.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var jw={},jle=Xe;Object.defineProperty(jw,"__esModule",{value:!0});var WL=jw.default=void 0,Ole=jle(nt()),Vle=f;WL=jw.default=(0,Ole.default)((0,Vle.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var Ow={},Lle=Xe;Object.defineProperty(Ow,"__esModule",{value:!0});var YL=Ow.default=void 0,Nle=Lle(nt()),$le=f;YL=Ow.default=(0,Nle.default)((0,$le.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var Vw={},Ble=Xe;Object.defineProperty(Vw,"__esModule",{value:!0});var KL=Vw.default=void 0,Dle=Ble(nt()),Fle=f;KL=Vw.default=(0,Dle.default)((0,Fle.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Lw={},zle=Xe;Object.defineProperty(Lw,"__esModule",{value:!0});var Nw=Lw.default=void 0,Ule=zle(nt()),Hle=f;Nw=Lw.default=(0,Ule.default)((0,Hle.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");function $w(e,t){const[n,r]=_.useState(e);return _.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}function qle(){var e=_.useRef(!0);return e.current?(e.current=!1,!0):e.current}var wm=function(){return wm=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wm.apply(this,arguments)};function Gle(){var e=_.useRef(!1),t=_.useCallback(function(){return e.current},[]);return _.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function Wle(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=_.useRef(0),i=Gle(),s=_.useState(n),o=s[0],a=s[1],l=_.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=++r.current;return o.loading||a(function(h){return wm(wm({},h),{loading:!0})}),e.apply(void 0,c).then(function(h){return i()&&d===r.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===r.current&&a({error:h,loading:!1}),h})},t);return[o,l]}function YI(e,t){t===void 0&&(t=[]);var n=Wle(e,t,{loading:!0}),r=n[0],i=n[1];return _.useEffect(function(){i()},[i]),r}function Yle(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Kle(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Qle=typeof window<"u",Jle=function(e){return(e+1)%1e6};function QL(){var e=_.useReducer(Jle,0),t=e[1];return t}var Xle=function(e){_.useEffect(e,[])},Zle=Qle?window:null,KI=function(e){return!!e.addEventListener},QI=function(e){return!!e.on},ece=function(e,t,n,r){n===void 0&&(n=Zle),_.useEffect(function(){if(t&&n)return KI(n)?Yle(n,e,t,r):QI(n)&&n.on(e,t,r),function(){KI(n)?Kle(n,e,t,r):QI(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},tce=function(e,t){var n=_.useRef(function(){});_.useEffect(function(){n.current=e}),_.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])},nce=function(e){var t=_.useRef(e);t.current=e,Xle(function(){return function(){return t.current()}})};function rce(e){var t=_.useRef();return _.useEffect(function(){t.current=e}),t.current}var ice=function(e,t){return e===t};function sce(e,t){t===void 0&&(t=ice);var n=_.useRef(),r=_.useRef(e),i=qle();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function oce({onSearchStateChange:e}){const[t,n]=_.useState(""),r=_.useRef(null),i=$w(t,100),s=rce(i);return _.useEffect(()=>{s!==i&&pn.searchSong(i.trim())},[s,i]),nce(()=>e==null?void 0:e(!1)),f.jsx(ace,{onFocus:()=>e==null?void 0:e(!0),onBlur:()=>e==null?void 0:e(!1),maxLength:dx,focused:!1,label:f.jsx(Nw,{}),placeholder:"Search for a song",value:t,onChange:n,ref:r,"data-test":"search-song-input"})}const ace=C(Ru,{target:"e12hs6m40"})({name:"zrd260",styles:"width:100%;margin-bottom:1rem"});function lce({onSearchStateChange:e}){var s;const[t]=Bs(te.remoteKeyboardLayout,!0)??[],n=(t==null?void 0:t.horizontal)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,r=(t==null?void 0:t.vertical)!==void 0||(t==null?void 0:t["horizontal-vertical"])!==void 0,i=o=>()=>{pn.sendKeyStroke(o)};return t!==void 0?f.jsxs(cce,{"data-test":"remote-keyboard",children:[((s=t==null?void 0:t.remote)==null?void 0:s.includes("search"))&&f.jsx(oce,{onSearchStateChange:e}),(n||r)&&f.jsxs(Zy,{children:[f.jsx(Xy,{children:f.jsx(Zl,{onClick:i("up"),disabled:!r,"data-test":"arrow-up",children:f.jsx(YL,{})})}),f.jsxs(Xy,{children:[f.jsx(Zl,{onClick:i("left"),disabled:!n,"data-test":"arrow-left",children:f.jsx(GL,{})}),f.jsx(Zl,{disabled:!0,children:f.jsx(HL,{})}),f.jsx(Zl,{onClick:i("right"),disabled:!n,"data-test":"arrow-right",children:f.jsx(WL,{})})]}),f.jsx(Xy,{children:f.jsx(Zl,{onClick:i("down"),disabled:!r,"data-test":"arrow-down",children:f.jsx(qL,{})})})]}),f.jsxs(Zy,{children:[f.jsx(eA,{onClick:i("back"),disabled:(t==null?void 0:t.back)===void 0,"data-test":"keyboard-backspace",children:(t==null?void 0:t.back)||f.jsxs(f.Fragment,{children:[f.jsx(zL,{})," Back"]})}),f.jsx(eA,{onClick:i("accept"),disabled:(t==null?void 0:t.accept)===void 0,"data-test":"keyboard-enter",children:(t==null?void 0:t.accept)||f.jsxs(f.Fragment,{children:["Enter ",f.jsx(UL,{})]})})]}),f.jsx(uce,{}),f.jsx(Zy,{disabled:(t==null?void 0:t.shiftR)===void 0,"data-test":"keyboard-shift-r",children:f.jsxs(eA,{onClick:i("random"),children:[f.jsx(KL,{})," ",(t==null?void 0:t.shiftR)||"Random Song"]})})]}):null}const cce=C("div",{target:"epl0eil6"})({name:"17mk58z",styles:"gap:1rem;display:flex;flex-wrap:wrap;margin-bottom:2rem"}),Xy=C("div",{target:"epl0eil5"})({name:"144ujnw",styles:"display:flex;justify-content:center;flex:1;color:white;font-size:2rem"}),Zy=C("div",{target:"epl0eil4"})("display:flex;flex-direction:column;flex:1;justify-content:space-between;opacity:",e=>e.disabled?0:1,";"),uce=C("div",{target:"epl0eil3"})({name:"1f76xva",styles:"flex-basis:100%;height:0"}),dce=C("button",{target:"epl0eil2"})("background:none;border:none;box-sizing:border-box;margin:0.25rem;width:4.5rem;height:4.5rem;svg{width:2.5rem;height:2.5rem;}opacity:",e=>e.disabled?.25:1,";");var fce={name:"104le9u",styles:"cursor:pointer;&:active{border:0.3rem solid rgb(130, 130, 130);border-bottom-color:rgb(204, 204, 204);border-right-color:rgb(204, 204, 204);}"};const Zl=C(dce,{target:"epl0eil1"})("display:flex;align-items:center;justify-content:center;border-radius:0.3rem;border:0.3rem solid rgb(204, 204, 204);border-bottom-color:rgb(130, 130, 130);border-right-color:rgb(130, 130, 130);gap:0.5rem;",e=>e.disabled?"":fce," color:rgb(51, 51, 51);font-weight:normal;font-size:2.5rem;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;"),eA=C(Zl,{target:"epl0eil0"})({name:"1d3w5wq",styles:"width:100%"});var Bw={},hce=Xe;Object.defineProperty(Bw,"__esModule",{value:!0});var hv=Bw.default=void 0,pce=hce(nt()),gce=f;hv=Bw.default=(0,pce.default)((0,gce.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");function JL({playerNumber:e,id:t,onModalClose:n,header:r}){const[i]=Bs(te.remoteStyleChanged,!0)??["regular"],s=a=>{pn.requestPlayerChange(t,a),n()},o=e!==null;return f.jsx(Iu,{onClose:n,children:f.jsxs(mce,{children:[r&&f.jsx("h2",{children:r}),f.jsx(Te,{size:"small","data-test":"change-to-player-0",onClick:()=>s(0),disabled:e===0,style:{color:he.colors.players[0].perfect.fill},children:i==="christmas"?"Green":"Blue"}),f.jsx(Te,{size:"small","data-test":"change-to-player-1",onClick:()=>s(1),disabled:e===1,style:{color:he.colors.players[1].perfect.fill},children:i==="christmas"?"Red":i==="eurovision"?"Violet":"Red"}),f.jsx(Te,{size:"small","data-test":"change-to-player-2",onClick:()=>s(2),disabled:e===2,style:{color:he.colors.players[2].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Yellow":"Green"}),f.jsx(Te,{size:"small","data-test":"change-to-player-3",onClick:()=>s(3),disabled:e===3,style:{color:he.colors.players[3].perfect.fill},children:i==="christmas"?"?????":i==="eurovision"?"Pink":"Yellow"}),f.jsx(Te,{size:"small",onClick:()=>s(null),disabled:!o,"data-test":"change-to-unset",children:"Unassign"}),f.jsx("hr",{}),f.jsx(Te,{onClick:n,size:"small",children:"Close"})]})})}const mce=C(ds,{target:"e1q747tq0"})({name:"8ixhiv",styles:"gap:0"});function XL({number:e,...t}){const[n]=Bs(te.remoteStyleChanged,!0)??["regular"],r=QL();return _.useEffect(()=>{r()},[n]),f.jsx(vce,{style:{background:e!==null?he.colors.players[e].perfect.fill:he.colors.text.inactive},...t})}const vce=C("div",{target:"e1u9853z0"})({name:"97f0zo",styles:"display:inline-block;width:1em;height:1em;aspect-ratio:1;border-radius:1em"}),yce=_.memo(function({playerNumber:t}){const[n,r]=_.useState(!1),i=()=>r(!1),s=t!==null;return f.jsxs(f.Fragment,{children:[f.jsxs(Ace,{onClick:()=>r(!0),"data-test":"change-player",joined:s,children:[s?f.jsxs(f.Fragment,{children:[f.jsx(XL,{number:t})," Change"]}):"Join game"," ",f.jsx(hv,{})]}),n&&f.jsx(JL,{id:pn.getClientId(),playerNumber:t,onModalClose:i})]})}),Ace=C("button",{target:"e1x7ggg80"})("position:absolute;z-index:1;color:white;right:1rem;bottom:1rem;padding:1rem;font-size:2rem;text-transform:uppercase;display:flex;align-items:center;gap:1rem;border:none;",Ne,";background:rgba(0, 0, 0, 0.75);",e=>!e.joined&&Ot("font-size:3rem;padding:3rem;",fo,";","")," :hover{",fo,";}:active{",uw,";}svg{width:2rem;height:2rem;}");function Dw(){const[e]=Bs(te.remoteMicPermissionsSet,!0)??["write"];return e}function _ce({playerNumber:e,volume:t,frequency:n,isMicOn:r,isConnected:i}){const[s,o]=_.useState(1e-6),a=Dw();_.useEffect(()=>{o(u=>t>u?t:u*.99)},[t]);const l=e!==null?he.colors.players[e].miss.stroke:he.colors.lines.normal.fill,c=e!==null?he.colors.players[e].perfect.fill:he.colors.lines.normal.fill;return f.jsxs(Sce,{isMicOn:r,color:l,"data-player-number":`${e??"none"}`,"data-test":"indicator",children:[r&&f.jsx(f.Fragment,{children:f.jsxs(bce,{children:[n?`${Math.round(n)}Hz`:" ",f.jsx("br",{}),String(t*100).slice(0,5)]})}),i&&a==="write"&&f.jsx(yce,{playerNumber:e}),f.jsx(xce,{color:c,style:{transform:`scaleY(${r?1-Math.min(1,t/s):1})`}})]})}const bce=C("span",{target:"eik0d702"})({name:"1ikzkvw",styles:"position:absolute;color:white;opacity:0.125"}),xce=C("div",{target:"eik0d701"})("width:100%;height:100%;background-color:",e=>e.color,";transition:200ms;transform-origin:top;"),Sce=C("div",{target:"eik0d700"})("position:relative;border:0.1rem solid white;flex:1;min-height:200px;max-height:100vw;transition:300ms;background:",e=>e.color,";");function JI({isVisible:e,isMicOn:t,isConnected:n}){const[r,i]=_.useState(0),[s,o]=_.useState(0),[a]=Bs(te.remoteMicPlayerSet,!0)??[null],l=_.useCallback(Rc((c,u)=>{o(c),i(u)},150),[i,o]);return _.useEffect(()=>(Hi.startMonitoring(void 0),Hi.addListener(l)),[l]),e?f.jsx(f.Fragment,{children:f.jsx(_ce,{volume:r,frequency:s,playerNumber:a,isMicOn:t,isConnected:n})}):null}function wce({}){const[e,t]=_.useState(0);return _.useEffect(()=>{const n=setInterval(()=>{const r=Tc();pn.pinging&&r-pn.pingStart>e?t(r-pn.pingStart):t(pn.latency)},333);return()=>{clearInterval(n)}},[]),f.jsxs(f.Fragment,{children:[e,"ms"]})}function Ece({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=Dw(),[l,c]=_.useState(!1),[u]=$e(zb),d=async()=>{var g,m;i(!0);try{!jae()&&u&&(await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((m=(g=global.screen.orientation).lock)==null?void 0:m.call(g,"portrait")))}catch(A){console.warn(A)}},h=o==="connected",p=f.jsx(JI,{isVisible:!0,isMicOn:t,isConnected:h});return f.jsx(kce,{children:f.jsxs(yh,{showImages:!1,fallback:f.jsxs(f.Fragment,{children:[p,f.jsx("h2",{children:"Please allow access to the microphone."})]}),children:[f.jsxs(XI,{collapse:l,children:[f.jsx(JI,{isVisible:!0,isMicOn:t,isConnected:h}),f.jsx(ple,{roomId:e,isVisible:!0,connectionStatus:o,onConnect:d,connectionError:s})]}),f.jsxs(XI,{children:[a==="write"&&f.jsx(lce,{onSearchStateChange:c}),a==="read"&&f.jsxs(Cce,{"data-test":"no-permissions-message",children:["No permission to control the game. Go to in-game ",f.jsx("strong",{children:"Settings"})," menu "," ",f.jsx("strong",{children:"Remote Microphones Settings"})," to manage them."]}),f.jsxs(ZI,{onClick:()=>i(!r),children:["WakeLock: ",f.jsx("strong",{children:r?"ON":"OFF"})]}),f.jsxs(ZL,{onClick:()=>t?Hi.stopMonitoring():Hi.startMonitoring(void 0),children:["Microphone: ",f.jsx("strong",{"data-test":"monitoring-state",children:t?"ON":"OFF"})]}),h&&f.jsxs(ZI,{children:["Ping: ",f.jsx(wce,{})]})]})]})})}const kce=C("div",{target:"eakh27i4"})("font-size:2.6rem;display:flex;flex-direction:column;gap:2rem;padding:1.5rem;box-sizing:border-box;@media (max-height: 500px) and (min-aspect-ratio: 16/10){flex-direction:row;}",Te,"{padding:0.5em;height:72px;margin-bottom:1em;display:flex;align-items:center;justify-content:center;gap:0.5em;}h5{margin-top:0.5em;svg{font-size:0.9em;}}"),XI=C("div",{target:"eakh27i3"})("flex:1;transition:300ms ease-in-out;margin-top:",e=>e.collapse?"-100%":"0",";@media (max-height: 500px) and (min-aspect-ratio: 16/10){margin-top:0;display:flex;flex-direction:column;justify-content:center;}"),ZL=C("div",{target:"eakh27i2"})(Ne," strong{color:",he.colors.text.active,";}align-self:flex-end;"),ZI=C(ZL,{target:"eakh27i1"})(""),Cce=C("h5",{target:"eakh27i0"})({name:"1s76ut5",styles:"padding-bottom:5rem"});function Tce({onConfirm:e}){const[t,n]=_.useState(!1),[r,i]=_.useState(!1);_.useEffect(()=>{Oe.session.getItem("reload-mic-request")!==null&&i(!0)},[]),Jr(te.remoteMicPlayerSet,()=>{r&&(i(!1),n(!0))}),Jr(te.remoteReadinessRequested,()=>{n(!0)});const s=()=>{pn.confirmReadiness(),n(!1),e()};return t?f.jsx(Ice,{children:f.jsx(ds,{children:f.jsx(Pce,{"data-test":"ready-button",onClick:s,children:"Ready"})})}):null}const Ice=C("div",{target:"eusdifu1"})({name:"1b0uzsn",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(10px);z-index:1000"}),Pce=C(Te,{target:"eusdifu0"})("aspect-ratio:1;",fo,";");function eN({unit:e="",value:t,onChange:n,step:r=50,disabled:i=!1,...s}){return f.jsxs(Mce,{...s,children:[f.jsx(eP,{onClick:()=>n(t-r),disabled:i,"data-test":"numeric-input-down",children:"-"}),f.jsxs(Rce,{children:[f.jsx("strong",{"data-test":"numeric-input-value",children:t}),e]}),f.jsx(eP,{onClick:()=>n(t+r),disabled:i,"data-test":"numeric-input-up",children:"+"})]})}const eP=C("button",{target:"e1tear4c2"})("background:black;padding:0.5rem 2rem;border:none;font-size:3rem;",Ne,";:disabled{opacity:0.5;}"),Rce=C("div",{target:"e1tear4c1"})({name:"2qd0l8",styles:"flex:1;text-align:center"}),Mce=C("div",{target:"e1tear4c0"})(Ne,";display:flex;align-items:center;justify-self:center;background:black;");function jce({}){const[e,t]=_.useState(0),[n,r]=_.useState(!1);_.useEffect(()=>{r(!0),pn.getGameInputLag().then(({value:s})=>t(s)).catch(s=>console.warn(s)).finally(()=>r(!1))},[]);const i=s=>{r(!0),pn.setGameInputLag(s).then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Adjust game input lag"}),f.jsx(eN,{value:e,onChange:i,disabled:n,unit:"ms","data-test":"game-input-lag"}),f.jsx("h6",{children:"If the sound is not synchronised with the lyrics, use this to compensate it."})]})}function Oce(e){_.useEffect(()=>(pn.subscribe("remote-mics"),()=>{pn.unsubscribe("remote-mics")}),[]);const[t]=Bs(te.remoteMicListUpdated)??[[]];return f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Manage Players"}),t.map(n=>f.jsx(Vce,{mic:n},n.id)),t.length===0&&f.jsx("h4",{children:"No remote microphones connected"})]})}const Vce=({mic:e})=>{var r;const[t,n]=_.useState(!1);return Je.getPermission(e.id),f.jsxs(Lce,{"data-test":"manage-players",children:[t&&f.jsx(JL,{id:e.id,playerNumber:e.number,onModalClose:()=>n(!1),header:f.jsxs(f.Fragment,{children:["Change ",f.jsx("strong",{className:"ph-no-capture",children:e.name}),":"]})}),f.jsxs(Nce,{onClick:()=>n(!0),"data-test":"remote-mic-entry","data-id":e.id??e.name,size:"small",children:[f.jsx(XL,{number:e.number}),f.jsx(Bce,{children:((r=e.id)==null?void 0:r.slice(-4))??"????"}),f.jsx($ce,{className:"ph-no-capture",isSelf:e.id===pn.getClientId(),children:e.name})]})]})},Lce=C("div",{target:"e1sg8znb3"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),Nce=C(Te,{target:"e1sg8znb2"})({name:"1n950nl",styles:"display:flex;align-items:center;padding:0 2rem"}),$ce=C("div",{target:"e1sg8znb1"})(e=>e.isSelf&&`color: ${he.colors.text.active};`," text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),Bce=C("span",{target:"e1sg8znb0"})({name:"dcs29c",styles:"font-size:1.5rem;padding:0 1rem"});function tP(){const[e,t]=$e(mj),[n,r]=_.useState(!1);_.useEffect(()=>{r(!0),pn.getMicrophoneInputLag().then(({value:o})=>t(o)).catch(o=>console.warn(o)).finally(()=>r(!1))},[]);const i=o=>{r(!0),pn.setMicrophoneInputLag(o).then(({value:a})=>t(a)).catch(a=>console.warn(a)).finally(()=>r(!1))},s=()=>{var o;pn.disconnect(),Oe.local.removeItem("remote_mic_name"),Oe.local.removeItem(x1),(o=global.location)==null||o.reload()};return f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:s,size:"small","data-test":"reset-microphone",children:"Reset microphone"}),f.jsxs("h6",{children:[f.jsx("strong",{children:"Note:"})," removes all persisted microphone data (your name, ID etc.)"]}),f.jsx("hr",{}),f.jsx("h3",{children:"Adjust microphone lag"}),f.jsx(eN,{value:e,onChange:i,unit:"ms",disabled:n,step:25,"data-test":"microphone-delay"}),f.jsx("h6",{children:"Adjust the microphone input delay (e.g. if the game doesn't detect you hitting the note on time)"})]})}function Dce(){var r;const e=Dw(),[t,n]=_.useState(e==="write"?null:"microphone");return f.jsxs(Fce,{children:[f.jsxs("h3",{children:["Remote mic ID:"," ",f.jsx("strong",{"data-test":"remote-mic-id",children:((r=pn.getClientId())==null?void 0:r.slice(-4).toUpperCase())??"----"})]}),f.jsx("hr",{}),e==="write"&&t===null&&f.jsxs(f.Fragment,{children:[f.jsx(Te,{onClick:()=>n("microphone"),size:"small","data-test":"microphone-settings",disabled:t==="microphone",children:"Microphone settings"}),f.jsx(Te,{onClick:()=>n("manage"),size:"small","data-test":"manage-game",disabled:t==="manage",children:"Manage the game"})]}),e!=="write"&&f.jsx(tP,{}),t!==null&&e==="write"&&f.jsx(Iu,{onClose:()=>n(null),children:f.jsxs(ds,{children:[f.jsx(zce,{children:t==="microphone"?"Microphone settings":"Manage game"}),t==="microphone"&&f.jsx(tP,{}),t==="manage"&&f.jsxs(f.Fragment,{children:[f.jsx(Oce,{}),f.jsx(jce,{})]}),f.jsx("hr",{}),f.jsx(Te,{onClick:()=>n(null),size:"small","data-test":"close-modal",children:"Close"})]})})]})}const Fce=C("div",{target:"edoha0h1"})({name:"10ti2i0",styles:"flex-grow:1;font-size:2.6rem;display:flex;flex-direction:column;justify-content:center;padding:5rem 1.5rem 1.5rem;box-sizing:border-box;gap:1rem"}),zce=C("h1",{target:"edoha0h0"})({name:"bvcr5v",styles:"font-size:3.25rem!important"});var Uce="__lodash_hash_undefined__";function Hce(e){return this.__data__.set(e,Uce),this}function qce(e){return this.__data__.has(e)}function Df(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new So;++t<n;)this.add(e[t])}Df.prototype.add=Df.prototype.push=Hce;Df.prototype.has=qce;function Gce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function tN(e,t){return e.has(t)}var Wce=1,Yce=2;function nN(e,t,n,r,i,s){var o=n&Wce,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&Yce?new Df:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],m=t[d];if(r)var A=o?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(A!==void 0){if(A)continue;h=!1;break}if(p){if(!Gce(t,function(v,y){if(!tN(p,y)&&(g===v||i(g,v,n,r,s)))return p.push(y)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function Kce(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Fw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Qce=1,Jce=2,Xce="[object Boolean]",Zce="[object Date]",eue="[object Error]",tue="[object Map]",nue="[object Number]",rue="[object RegExp]",iue="[object Set]",sue="[object String]",oue="[object Symbol]",aue="[object ArrayBuffer]",lue="[object DataView]",nP=ki?ki.prototype:void 0,tA=nP?nP.valueOf:void 0;function cue(e,t,n,r,i,s,o){switch(n){case lue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aue:return!(e.byteLength!=t.byteLength||!s(new Hg(e),new Hg(t)));case Xce:case Zce:case nue:return p0(+e,+t);case eue:return e.name==t.name&&e.message==t.message;case rue:case sue:return e==t+"";case tue:var a=Kce;case iue:var l=r&Qce;if(a||(a=Fw),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=Jce,o.set(e,t);var u=nN(a(e),a(t),r,i,s,o);return o.delete(e),u;case oue:if(tA)return tA.call(e)==tA.call(t)}return!1}var uue=1,due=Object.prototype,fue=due.hasOwnProperty;function hue(e,t,n,r,i,s){var o=n&uue,a=S1(e),l=a.length,c=S1(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in t:fue.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var A=o;++d<l;){h=a[d];var v=e[h],y=t[h];if(r)var b=o?r(y,v,h,t,e,s):r(v,y,h,e,t,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){m=!1;break}A||(A=h=="constructor")}if(m&&!A){var S=e.constructor,x=t.constructor;S!=x&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(m=!1)}return s.delete(e),s.delete(t),m}var pue=1,rP="[object Arguments]",iP="[object Array]",bp="[object Object]",gue=Object.prototype,sP=gue.hasOwnProperty;function mue(e,t,n,r,i,s){var o=Ci(e),a=Ci(t),l=o?iP:pf(e),c=a?iP:pf(t);l=l==rP?bp:l,c=c==rP?bp:c;var u=l==bp,d=c==bp,h=l==c;if(h&&Ug(e)){if(!Ug(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Ms),o||L3(e)?nN(e,t,n,r,i,s):cue(e,t,l,n,r,i,s);if(!(n&pue)){var p=u&&sP.call(e,"__wrapped__"),g=d&&sP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,A=g?t.value():t;return s||(s=new Ms),i(m,A,n,r,s)}}return h?(s||(s=new Ms),hue(e,t,n,r,i,s)):!1}function zw(e,t,n,r,i){return e===t?!0:e==null||t==null||!lo(e)&&!lo(t)?e!==e&&t!==t:mue(e,t,n,r,zw,i)}var vue=1,yue=2;function Aue(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Ms;if(r)var h=r(c,u,l,e,t,d);if(!(h===void 0?zw(u,c,vue|yue,r,d):h))return!1}}return!0}function rN(e){return e===e&&!as(e)}function _ue(e){for(var t=sh(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,rN(i)]}return t}function iN(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function bue(e){var t=_ue(e);return t.length==1&&t[0][2]?iN(t[0][0],t[0][1]):function(n){return n===e||Aue(n,e,t)}}function xue(e,t,n){var r=e==null?void 0:Lx(e,t);return r===void 0?n:r}function Sue(e,t){return e!=null&&t in Object(e)}function wue(e,t,n){t=E0(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=oh(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&yx(i)&&_x(o,i)&&(Ci(e)||kx(e)))}function Eue(e,t){return e!=null&&wue(e,t,Sue)}var kue=1,Cue=2;function Tue(e,t){return Ox(e)&&rN(t)?iN(oh(e),t):function(n){var r=xue(n,e);return r===void 0&&r===t?Eue(n,e):zw(t,r,kue|Cue)}}function Iue(e){return function(t){return t==null?void 0:t[e]}}function Pue(e){return function(t){return Lx(t,e)}}function Rue(e){return Ox(e)?Iue(oh(e)):Pue(e)}function Mue(e){return typeof e=="function"?e:e==null?J3:typeof e=="object"?Ci(e)?Tue(e[0],e[1]):bue(e):Rue(e)}function jue(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Oue(e){return e!==e}function Vue(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Lue(e,t,n){return t===t?Vue(e,t,n):jue(e,Oue,n)}function Nue(e,t){var n=e==null?0:e.length;return!!n&&Lue(e,t,0)>-1}function $ue(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Bue(){}var Due=1/0,Fue=Mc&&1/Fw(new Mc([,-0]))[1]==Due?function(e){return new Mc(e)}:Bue,zue=200;function sN(e,t,n){var r=-1,i=Nue,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=$ue;else if(s>=zue){var c=t?null:Fue(e);if(c)return Fw(c);o=!1,i=tN,l=new Df}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function Uue(e,t){return e&&e.length?sN(e,Mue(t)):[]}const Hue="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='810'%20height='540'%3e%3crect%20width='810'%20height='540'%20fill='%23FCDD09'/%3e%3cpath%20stroke='%23DA121A'%20stroke-width='60'%20d='M0,90H810m0,120H0m0,120H810m0,120H0'/%3e%3c/svg%3e";function que(){const e=new Intl.DisplayNames(["en"],{type:"language"}),t={};for(let r=0;r<26;r++)for(let i=0;i<26;i++){let s=String.fromCharCode(97+r)+String.fromCharCode(97+i),o=e.of(s);o!==s&&o!==void 0&&(t[o]=s)}return{...t,...{Akan:"ak",Hebrew:"he",Indonesian:"id",Javanese:"jv",Romanian:"ro",Yiddish:"yi",Tagalog:"tl",English:"gb",Korean:"kr",Swedish:"se",Latin:"va",Japanese:"jp",Catalan:"cat"}}}const Gue=que();function oN(e){return Gue[e]}const Wue=Object.assign({"./Flag/flags/cat.svg":Hue}),Dc=e=>{var s;const[t,n]=_.useState(null),r="isocode"in e?(s=e.isocode)==null?void 0:s.toLowerCase():oN(Array.isArray(e.language)?e.language[0]:e.language);if(_.useLayoutEffect(()=>{r&&n(null)},[r]),!r)return null;const i=Wue[`./Flag/flags/${r}.svg`];return f.jsx(Yue,{"data-isocode":r,src:i??`https://flagcdn.com/${t??r}.svg`,alt:r,...e,onError:()=>n("un")})},Yue=C("img",{target:"e1k9lqhf0"})("");function bh(e=!1){const[t,n]=_.useState($s.getCurrentIndex()),r=_.useRef([]),i=()=>$s.getIndex(e).then(n);return _.useEffect(()=>{i()},[]),{data:t??r.current,reload:i,isLoading:t===null}}function Kue({roomId:e,monitoringStarted:t,setMonitoringStarted:n,isKeepAwakeOn:r,setIsKeepAwakeOn:i,connectionError:s,connectionStatus:o}){const a=bh(),[l,c]=_.useState();_.useEffect(()=>{o==="connected"&&l===void 0&&pn.getSongList().then(c).catch(console.warn)},[l,o]);const u=_.useMemo(()=>Uue(a.data.map(d=>({...d,id:$s.generateSongFile(d)})).filter(d=>!((l==null?void 0:l.deleted)??[]).includes(d.id)).map(d=>({id:d.id,artist:d.artist,title:d.title,video:d.video,language:d.language})).concat(...((l==null?void 0:l.custom)??[]).map(d=>({...d,id:$s.generateSongFile(d)}))),d=>d.id),[a.data,l]);return f.jsx(Que,{children:u.map(d=>f.jsxs(Jue,{"data-test":d.id,children:[f.jsx(Xue,{children:f.jsx(Dc,{language:d.language})}),f.jsxs(Zue,{children:[f.jsx(tde,{children:d.title}),f.jsx(ede,{children:d.artist})]})]},`${d.artist}-${d.title}`))})}const Que=C("div",{target:"emsrjbt5"})({name:"zldrop",styles:"display:flex;flex-direction:column;padding-bottom:5rem"}),Jue=C("div",{target:"emsrjbt4"})({name:"z9lp05",styles:"background:rgba(0, 0, 0, 0.25);display:flex;align-items:center;gap:1rem;padding:1.5rem 1rem;border-bottom:1px solid black"}),Xue=C("div",{target:"emsrjbt3"})({name:"1xmi6sr",styles:"img{height:3rem;width:3rem;object-fit:cover;border-radius:3rem;border:0.1rem black solid;aspect-ratio:1;}"}),Zue=C("div",{target:"emsrjbt2"})({name:"tpuoeb",styles:"display:flex;flex-direction:column;justify-content:space-between;gap:1rem"}),ede=C("span",{target:"emsrjbt1"})("color:",he.colors.text.default,";font-size:1.25rem;white-space:nowrap;overflow:hidden;font-weight:bold;text-overflow:ellipsis;"),tde=C("span",{target:"emsrjbt0"})("color:",he.colors.text.active,";font-size:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),xp=new PJ;function nde(){const e=T0("room"),[t]=Bs(te.remoteStyleChanged,!0)??["regular"];_.useLayoutEffect(()=>{XM(t)},[t]),fa(!0,t);const[n,r]=_.useState("microphone"),[i,s]=Bs(te.karaokeConnectionStatusChange)??["uninitialised"],[o,a]=_.useState(!1);Jr(te.micMonitoringStarted,()=>a(!0)),Jr(te.micMonitoringStopped,()=>a(!1));const[l,c]=_.useState(!1),u=async h=>{try{h&&!xp.isEnabled?await xp.enable():!h&&xp.isEnabled&&await xp.disable(),c(h)}catch(p){console.warn("Couldn't set wakelock",p)}},d=()=>{u(!0)};return f.jsxs(Co,{children:[f.jsx(Tce,{onConfirm:d}),f.jsx($J,{size:10}),f.jsx(ide,{id:"phone-ui-container",children:f.jsxs(f.Fragment,{children:[n==="microphone"&&f.jsx(Ece,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="song-list"&&f.jsx(Kue,{roomId:e,monitoringStarted:o,setMonitoringStarted:a,connectionStatus:i,setIsKeepAwakeOn:c,isKeepAwakeOn:l,connectionError:s}),n==="settings"&&f.jsx(Dce,{}),f.jsx(rde,{}),f.jsx(bae,{setActiveTab:r,active:n})]})})]})}const rde=C("div",{target:"e1ky75ep1"})({name:"4x3vzu",styles:"height:6rem;@media (max-height: 500px) and (min-aspect-ratio: 16/10){height:0;}"}),ide=C("div",{target:"e1ky75ep0"})({name:"1vonyqj",styles:"margin:0 auto;width:100%;max-width:400px;box-sizing:border-box;min-height:100vh;background:rgba(0, 0, 0, 0.5);@media (max-height: 500px) and (min-aspect-ratio: 16/10){max-width:960px;}"}),sde="data:image/gif;base64,R0lGODlhiQAzAOflAAABAAYAAAACAAcAAAkBAAoDAQsEAxAFABEHABIIABMKABgJAhQLAhsLABwNACANAR0OACEOAyMPACMQACcPACgQASgRAioSACsTACwTACwUAC8WAC4WAzAWADQVADUXATYYAjgYADkZADoaADobAD8aAzscAUEbAD4dAEMdAEUeAkAgAEYfAEUfA0ghAE4hAksjAU8iAFEjAFIkAFMlAFQmAVsmAFcoAFwnAF0oAF8qAmEqAGIrAGMsAGksAWUuAGotAmAwDWwuAGsuA20vAF0zDm4wAG8xAHEyAHIzAXgyAHM0AnU1AHo0AHY2AHw1AH43AIA5AoE6AIM7AIQ8AIk7AIU9AIs8AIc+AIw9AI0+AY4+ApFAAJJBAJNCAJRDAJpCAZVEAJtDAp1EAJxEA55FAKBHAKFIAKJJAKhIAaRKAKVLAKtKAKxLAI5RI5BRJK9NALBOALFPALJQALNRALlQBLtRALxSAL1TAL9UAMFWAMJXAMRYArlbCsZZAMVZA8xYAMhaAM9aANFcAdNdAtVfAMpiDddgAN1fANhhAN9hANljAOFiAeNkAOJkA91mAONlBN5nAdhoDeVmAOdoAO5mAOJqB+9nAOlpAPBpAfFqA654SvNrAOduDvRsAPZtAN5yGONxGvduANh0IPFwB/hvAOtxE+B0Gt90I/lwAOxyFPNxCu5zBud0EvRyANt2Is54Ndp2Krt8S+B1JM95L9V4Ked0HeF2G/txAO1zFvRyDOh1E9x3I895NtV4ML19Rsp7NcN8Qbx9TMl7O8J8R9Z5Kq6AW8h7QrZ/ULh/S7V/VsV9O75+R8t8NsR9QqmCYKeCZpqFcLGBVq+BXJGHe4+HgbeAUaOEZqGEbLaAV6CEcauDXKqDYZuGcZmGd42Ih5KIfJCIgpSId4iKh4uKgv///////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEIAP8ALAAAAACJADMAAAj+AP8JHEiwoMGDCBMqXMiwocOHECMSHEexosWLGDNq3Mixo8ePIDtKHPhtGK6TKFOqXInrGcuXMGPKnEmzpspU40YKHBdryICfQIMKFVpHFq6hSJOWSMq0qdOnUH8S8PRN579vrFwI2Mq1q9euALbAwvW1bFkAI8yqXcsWbFu1AArgyqkTHK4Ib8v+sEU279cSfgO3HSAYLFWd35RNKryVAIZUfQujZUy5stu5OsfxCkMZgABFNkOLHk065eGR13ClsBxllbdvsL8h04N0S6/YuIXVifrzyu1vsnbz9g1bt1ANqWDbwiHUd0Wd0PR4rozgUbiB43qRKdtDFV3sxbD+BNbBiiKtLoF7tKLoS3zXAqKwkXMFwquOXFWtpsYF5WsClX6UpQcuroAzUDWr5FDWBLhg89034aQiQ2ARNBgOKTf4BUAFuHgTIQ1dDQCAH8dM8wkBXjHooFWwBdOfVwmsEhs2gJTlh4P5/ROMJgicBUgsOY4zDCaCAQAIL8m40mNgg9CyDCYGfPWEK62c4RUARgJp1VUu+rcKXdgE+BUg2BTETBRmAeBCLA8Ow0SRKsQCyxaBEUCADry4+ZVni7SCAVhYxvndSN8Q82JXMeZHo4DQFBQMLpQIiMsoOX5zDC5iclVCSkZ4BQYuvADzA1cIgNEIBF4tkgaqnqWAijP+J6HJFQ246BIKLrJuRSuoOY40TpchGqALmJlyBYAeZU5kjR5lddELRdh9E6ZXJcwC2zCddgWGMt/A8skEAgyQxyqsoMrVAJioMkgBAjCACS/jfBOMIMYykAo21aQC2FYAqFHMN9BaNY6hXzEgI0WLfoVsQZaKUZYOp/QqUMJcoTALRdh6FQYy45BjChgCuJDKNbng1RUn2qSSIRarhFNVN3cZC4gwz2jiVSXTSOwrsF0JK+0woBTLFZkFjVPMEmV5UAo5Bk17rgnWCpntVgNs+8841mACQBdAmmIuV5iE40saAAzCDF3j7HKEsVjkOcfTuFy35U4Ee2UwLZj+8MH+nnpcU7QpE3pFmCfaNF1jVylcXNLUAgAABjICRRiBHMlgZTJXl4CzjR8G4NINScPg0ZUKnqhtLBjwzr0Tz1wJq0kOKJq18ESuVHCWHxwX5DS/UAuzSyqMOw75VbugYAg037Ty9VaYeIONJRsMS9I1qSy5lSa4/MmvIskMKnDdXTFQCQeNq/WH3wRF80lZIpoxjMQUb1XtJ1eA66kyO51SBCrdWO7VJeEIxy2CYItejYMUODCWHhoxHQF4oEOqW92huhICtgxgdgPhxiL25JkhXEx3QjMBJUhwlscJ5Bu0cAMt4lUusGACHChU4aBQCIdwYckJZuhKFE7hve9NsDH+hPnKB6IwB0VkAhfoo1sNzUICV8DvcFQDgQgAEESN4e8qwthE975histthRPgGEcWhWHAbVyCXZ4hAYi4Mghi6CwzrOOXVwjQg0XgwhbMeIaHBjUOWFxBLQZIxecIsrtwyZFqLwjDIDCRiuH9bXkCuIQ3FEKOVLjAMwMoQAK4UqFBRnBgP/wKDBaRClh4I2AG+cYpdPAerxBiGoOK31dUMIhUxMIa2qDGG/3XlUbIDSHfqAXIyrIE/ERQgmopgBlwUYtT9nAiuiAhV0bFFQKk4RixFFpXmJAKXvTvmSRR3rkE8EKFyCZSX7mgM8DpK/B5BQF/SAW32DmQcOBiAV3+SYP2GrcEXvRKll2hwSe8CTBzsuJyVOTELxECDlHUx26pQN4xrxZHroxrRQ25Bjq5kggfjO5LhNTmuUggCFsioxthPAhWvuaZzC1kHKegguB6UJ6JXs2dXImCK6BBz4lIg1lcKcAn1HAuBpRikgMBaIgEAANFVsITslBpF70StoUUil5ekcNtbPqrUCIgFcx4IzCdkUOuiMAVjQBLI54RUq98IC3GEhEACLCxg4zDazcz0EK0cU+waIIbPY0IKAt2GofwJAld+cEpcGE/Ec2BGN+RpQkqsRpj8YsMV2TYQUNU1ZeuApK4EKvA4ggAYQV2IqoIXOPAkApNsLJxAKD+ApuSWqwBmGAUougCBqq4WkcSJHmQrIReDbo8AmCGqzhtly5Ea1dX2I9fBmCA9QQQg1bkSJaJk0UrgGdFlW72XJ01Z8nAElqbUnSChDEtRLyRitgZq4FbqdAvCwmAEvhTaiEyYSpb2BXhMmQc/KXacRuykaIl12DMNcg2EPEWAFyCrROD4lagdi3GCSAMmf3tVMG7UGBumF/l/W9iZqEJT5g4F8dIKXYqql6HfCMZcmgwHYRBrK4Q4LYAy9i59PvIvP4Xr+cacELGEQ5epGINKDCAASywBEzkgqfYObCMHtLHP3IlCSlZG1e6QAtFSbi+UdMxVzDsXS+iq8Nl9kr+iM0Zi0yoAL4DWIAePHFKZHqlxQQeRQ+09b6SOMyGOlgPwkJ4XzGH63GovApw80pP2IgzyIk2yDikkYoVYIkAVAyiAQpxi/wM1m5T/m+8dGGCrszBGhRRRrE0QJVupULCA9iULnKBCwuHoRQFJMh+zIyJUkQ1IbtWMy4ynEpbkAFLsMVk40yAi2jYuWfSY4ilTsIAYx0iF7k4BSkyYSyh4iIWwNiz4AiwiE5AcgAEAAEPdX2HstDVtwaBRh3SOYAxwLsglXxo+cBCgEHgjyJSLqhVh7GEnxgLAhGQBCg2UO24qoAXvdjglW6Qily4Byx0sBZBoIGLUoeIAZ4gdkH+XLI3r0BAFCInCDVEARcqhuEX/4DGME4RSgN4YhjCkPYyzhgiACyBFacg6lf+wAv2ltyQ1qSFMCTulVQAdiKn8MKVgBBthMDUysYyQk0TEo6NpukKOcdGH36wAf/84Aowt2o4XLFGOQLiGMrIhHu3wiFtwNTCAqDENtjbcK6koGUMs8YgrmQGYDD3G8LQZhrepxBqrI8tYoD5NUzxXGOhKA05NydFakGnpuPLFUdv3A92ca0/kyoV4vgGKSrLLyPAyyKw6cbjZSYNj2Bj9myEZUZIkorQl6UQ+PuGKmS6JwjgYhtWPUkq3taVDaQkgTpMSbu7woGUZKgrV4hJFZ7+wH3uY6ImqaBC95/gBMisJDnYOcV21IKCZl/tF4lgnxFI0dNx4AK+VEM2b8NFgJ9Ik978dyVDkWlyhSUGCBWNU4AEiBQ4QRLWkAqs906C8EH/wF749BVrwHjmRBb7J0f41xX7AheWkRdUlCZ7UlhXMwqXEIFbgQB6oAt1dhWkoALpNAiwlHwmuBaTMYKScSUaIgBCBiGjkApmsAIIUAAVwASUoAvXUCm8gHdAiFQbWBkhyIOB0YEkaHMSQxHSgAqrkAqukAqt4AzVMEPLABOB9Q2lgQvmt4Zu+IbPBBvxghsSQ4d0GC8iZod6qIdzuId++IeAGBt9GIh22IfmdYgGiJiIEBEQADs=",ode="/assets/logo-1e2sNsQM.mp4",ade="/assets/logo-CDt7pIML.webm",lde="/assets/pride-CMcO3nTB.png";var ER;(ER=global.location)!=null&&ER.search.includes("pride")&&Oe.session.setItem("pride","true");function Uw(e){const[t]=$e(Zn);return t?null:f.jsxs(cde,{children:[Oe.session.getItem("pride")==="true"&&f.jsx(ude,{as:"img",src:lde,alt:"AllKaraoke Pride logo part 1"}),f.jsxs(aN,{...e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[f.jsx("source",{src:ade,type:"video/webm"}),f.jsx("source",{src:ode,type:"video/mp4"})]}),f.jsx(dde,{src:sde,alt:"AllKaraoke Pride logo part 2"})]})}const aN=C("video",{target:"e1roxo0y3"})({name:"ijjmcg",styles:"width:66rem;height:16.4rem"}),cde=C("div",{target:"e1roxo0y2"})({name:"v1a7wk",styles:"position:relative;height:16.4rem;view-transition-name:logo"}),ude=C(aN,{target:"e1roxo0y1"})({name:"a4hmbt",styles:"position:absolute"}),dde=C("img",{target:"e1roxo0y0"})({name:"o53wk6",styles:"position:absolute;width:13.7rem;height:5.1rem;bottom:-0.5rem;right:-1rem"});function Hw(){return"chrome"in window}function fde(){return f.jsx(f.Fragment,{children:!Hw()&&f.jsxs(hde,{children:[f.jsxs("h2",{children:["This game is tested in ",f.jsx("strong",{children:"Google Chrome"})," and ",f.jsx("strong",{children:"MS Edge"}),"."]}),"It's not guaranteed to work on other browsers (like the one you use now)."]})})}const hde=C("div",{target:"e95w1v80"})("width:100%;",Ne,";text-align:center;background:darkred;padding:3rem 0;margin-top:1rem;h2{margin-top:0;}strong{color:",he.colors.text.active,";}");function lN(){return f.jsx(f.Fragment,{children:f.jsx(pde,{href:"https://github.com/Asvarox/allkaraoke","aria-label":"View source on GitHub",target:"_blank",rel:"noreferrer",children:f.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:0,border:0,left:0,transform:"scale(-1, 1)"},"aria-hidden":"true",children:[f.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),f.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"13rem 10.6rem"},className:"octo-arm"}),f.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"})]})})})}const pde=C("a",{target:"e12hl2500"})({name:"zmsk2c",styles:"&:hover .octo-arm{animation:octocat-wave 560ms ease-in-out;}@keyframes octocat-wave{0 %,100%{transform:rotate(0);}20%,60%{transform:rotate(-25deg);}40%,80%{transform:rotate(10deg);}}@media (max-width: 500px){&:hover .octo-arm{animation:none;}.octo-arm{animation:octocat-wave 560ms ease-in-out;}}view-transition-name:github-ribbon"});function ya({children:e,supportedBrowsers:t}){return fa(!0),f.jsxs(Co,{children:[f.jsx(lN,{}),f.jsxs(gde,{children:[f.jsx(Uw,{}),t&&f.jsx(fde,{}),f.jsx(ds,{children:e})]})]})}const gde=C("div",{target:"el1pskx0"})({name:"2e2gqg",styles:"display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;overflow:auto"});function Aa(e){const[t]=$e(t0),[n]=$e(Fb),r=t==="christmas"?P3:n==="Classic"?I3:T3;_.useEffect(()=>{e?r.playing()||r.play(!1):r.stop()},[e])}function mde(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var cN=_,vde=mde(cN);function oP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yde(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ade=!!(typeof window<"u"&&window.document&&window.document.createElement);function _de(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=e(o.map(function(u){return u.props})),c.canUseDOM?t(a):n&&(a=n(a))}var c=function(u){yde(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},h.render=function(){return vde.createElement(s,this.props)},d}(cN.PureComponent);return oP(c,"displayName","SideEffect("+r(s)+")"),oP(c,"canUseDOM",Ade),c}}var bde=_de;const xde=lr(bde);var Sde=typeof Element<"u",wde=typeof Map=="function",Ede=typeof Set=="function",kde=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ug(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ug(e[r],t[r]))return!1;return!0}var s;if(wde&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!ug(r.value[1],t.get(r.value[0])))return!1;return!0}if(Ede&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(kde&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Sde&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!ug(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var Cde=function(t,n){try{return ug(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Tde=lr(Cde);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var aP=Object.getOwnPropertySymbols,Ide=Object.prototype.hasOwnProperty,Pde=Object.prototype.propertyIsEnumerable;function Rde(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Mde(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var jde=Mde()?Object.assign:function(e,t){for(var n,r=Rde(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Ide.call(n,o)&&(r[o]=n[o]);if(aP){i=aP(n);for(var a=0;a<i.length;a++)Pde.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const Ode=lr(jde);var el={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},De={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(De).map(function(e){return De[e]});var zt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Em={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ff={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Vde=Object.keys(Em).reduce(function(e,t){return e[Em[t]]=t,e},{}),Lde=[De.NOSCRIPT,De.SCRIPT,De.STYLE],Zi="data-react-helmet",Nde=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$de=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Bde=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dde=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},lP=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Fde=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},N_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},zde=function(t){var n=Fc(t,De.TITLE),r=Fc(t,Ff.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Fc(t,Ff.DEFAULT_TITLE);return n||i||void 0},Ude=function(t){return Fc(t,Ff.ON_CHANGE_CLIENT_STATE)||function(){}},nA=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return Sr({},r,i)},{})},Hde=function(t,n){return n.filter(function(r){return typeof r[De.BASE]<"u"}).map(function(r){return r[De.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},nd=function(t,n,r){var i={};return r.filter(function(s){return Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Yde("Helmet: "+t+' should be of type "Array". Instead found type "'+Nde(s[t])+'"'),!1)}).map(function(s){return s[t]}).reverse().reduce(function(s,o){var a={};o.filter(function(h){for(var p=void 0,g=Object.keys(h),m=0;m<g.length;m++){var A=g[m],v=A.toLowerCase();n.indexOf(v)!==-1&&!(p===zt.REL&&h[p].toLowerCase()==="canonical")&&!(v===zt.REL&&h[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(A)!==-1&&(A===zt.INNER_HTML||A===zt.CSS_TEXT||A===zt.ITEM_PROP)&&(p=A)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][y]?!1:(a[p][y]=!0,!0)}).reverse().forEach(function(h){return s.push(h)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=Ode({},i[u],a[u]);i[u]=d}return s},[]).reverse()},Fc=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},qde=function(t){return{baseTag:Hde([zt.HREF,zt.TARGET],t),bodyAttributes:nA(el.BODY,t),defer:Fc(t,Ff.DEFER),encode:Fc(t,Ff.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:nA(el.HTML,t),linkTags:nd(De.LINK,[zt.REL,zt.HREF],t),metaTags:nd(De.META,[zt.NAME,zt.CHARSET,zt.HTTPEQUIV,zt.PROPERTY,zt.ITEM_PROP],t),noscriptTags:nd(De.NOSCRIPT,[zt.INNER_HTML],t),onChangeClientState:Ude(t),scriptTags:nd(De.SCRIPT,[zt.SRC,zt.INNER_HTML],t),styleTags:nd(De.STYLE,[zt.CSS_TEXT],t),title:zde(t),titleAttributes:nA(el.TITLE,t)}},$_=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){$_(t)},0)}}(),cP=function(t){return clearTimeout(t)},Gde=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||$_:global.requestAnimationFrame||$_,Wde=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cP:global.cancelAnimationFrame||cP,Yde=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},rd=null,Kde=function(t){rd&&Wde(rd),t.defer?rd=Gde(function(){uP(t,function(){rd=null})}):(uP(t),rd=null)},uP=function(t,n){var r=t.baseTag,i=t.bodyAttributes,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,d=t.styleTags,h=t.title,p=t.titleAttributes;B_(De.BODY,i),B_(De.HTML,s),Qde(h,p);var g={baseTag:Yl(De.BASE,r),linkTags:Yl(De.LINK,o),metaTags:Yl(De.META,a),noscriptTags:Yl(De.NOSCRIPT,l),scriptTags:Yl(De.SCRIPT,u),styleTags:Yl(De.STYLE,d)},m={},A={};Object.keys(g).forEach(function(v){var y=g[v],b=y.newTags,S=y.oldTags;b.length&&(m[v]=b),S.length&&(A[v]=g[v].oldTags)}),n&&n(),c(t,m,A)},uN=function(t){return Array.isArray(t)?t.join(""):t},Qde=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=uN(t)),B_(De.TITLE,n)},B_=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(Zi),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);s.length===o.length?r.removeAttribute(Zi):r.getAttribute(Zi)!==a.join(",")&&r.setAttribute(Zi,a.join(","))}},Yl=function(t,n){var r=document.head||document.querySelector(De.HEAD),i=r.querySelectorAll(t+"["+Zi+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(t);for(var u in l)if(l.hasOwnProperty(u))if(u===zt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===zt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Zi,"true"),s.some(function(h,p){return a=p,c.isEqualNode(h)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},dN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Jde=function(t,n,r,i){var s=dN(r),o=uN(n);return s?"<"+t+" "+Zi+'="true" '+s+">"+N_(o,i)+"</"+t+">":"<"+t+" "+Zi+'="true">'+N_(o,i)+"</"+t+">"},Xde=function(t,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===zt.INNER_HTML||c===zt.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+N_(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=Lde.indexOf(t)===-1;return i+"<"+t+" "+Zi+'="true" '+o+(l?"/>":">"+a+"</"+t+">")},"")},fN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Em[i]||i]=t[i],r},n)},Zde=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Vde[i]||i]=t[i],r},n)},efe=function(t,n,r){var i,s=(i={key:n},i[Zi]=!0,i),o=fN(r,s);return[Pe.createElement(De.TITLE,o,n)]},tfe=function(t,n){return n.map(function(r,i){var s,o=(s={key:i},s[Zi]=!0,s);return Object.keys(r).forEach(function(a){var l=Em[a]||a;if(l===zt.INNER_HTML||l===zt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Pe.createElement(t,o)})},qs=function(t,n,r){switch(t){case De.TITLE:return{toComponent:function(){return efe(t,n.title,n.titleAttributes)},toString:function(){return Jde(t,n.title,n.titleAttributes,r)}};case el.BODY:case el.HTML:return{toComponent:function(){return fN(n)},toString:function(){return dN(n)}};default:return{toComponent:function(){return tfe(t,n)},toString:function(){return Xde(t,n,r)}}}},hN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,s=t.htmlAttributes,o=t.linkTags,a=t.metaTags,l=t.noscriptTags,c=t.scriptTags,u=t.styleTags,d=t.title,h=d===void 0?"":d,p=t.titleAttributes;return{base:qs(De.BASE,n,i),bodyAttributes:qs(el.BODY,r,i),htmlAttributes:qs(el.HTML,s,i),link:qs(De.LINK,o,i),meta:qs(De.META,a,i),noscript:qs(De.NOSCRIPT,l,i),script:qs(De.SCRIPT,c,i),style:qs(De.STYLE,u,i),title:qs(De.TITLE,{title:h,titleAttributes:p},i)}},nfe=function(t){var n,r;return r=n=function(i){Dde(s,i);function s(){return $de(this,s),Fde(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!Tde(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case De.SCRIPT:case De.NOSCRIPT:return{innerHTML:l};case De.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,h=a.nestedChildren;return Sr({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Sr({},d,this.mapNestedChildrenToProps(c,h))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(u.type){case De.TITLE:return Sr({},d,(l={},l[u.type]=p,l.titleAttributes=Sr({},h),l));case De.BODY:return Sr({},d,{bodyAttributes:Sr({},h)});case De.HTML:return Sr({},d,{htmlAttributes:Sr({},h)})}return Sr({},d,(c={},c[u.type]=Sr({},h),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Sr({},l);return Object.keys(a).forEach(function(u){var d;c=Sr({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return Pe.Children.forEach(a,function(d){if(!(!d||!d.props)){var h=d.props,p=h.children,g=lP(h,["children"]),m=Zde(g);switch(c.warnOnInvalidChildren(d,p),d.type){case De.LINK:case De.META:case De.NOSCRIPT:case De.SCRIPT:case De.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:m,nestedChildren:p});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:m,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=lP(a,["children"]),u=Sr({},c);return l&&(u=this.mapChildrenToProps(l,u)),Pe.createElement(t,u)},Bde(s,null,[{key:"canUseDOM",set:function(a){t.canUseDOM=a}}]),s}(Pe.Component),n.propTypes={base:ze.object,bodyAttributes:ze.object,children:ze.oneOfType([ze.arrayOf(ze.node),ze.node]),defaultTitle:ze.string,defer:ze.bool,encodeSpecialCharacters:ze.bool,htmlAttributes:ze.object,link:ze.arrayOf(ze.object),meta:ze.arrayOf(ze.object),noscript:ze.arrayOf(ze.object),onChangeClientState:ze.func,script:ze.arrayOf(ze.object),style:ze.arrayOf(ze.object),title:ze.string,titleAttributes:ze.object,titleTemplate:ze.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=hN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},rfe=function(){return null},ife=xde(qde,Kde,hN)(rfe),ei=nfe(ife);ei.renderStatic=ei.rewind;const pN=_.forwardRef(({...e},t)=>{const n=_.useRef(null);_.useImperativeHandle(t,()=>n.current);const[r,i]=$e(Id);return f.jsx(sfe,{ref:n,label:"Input lag",value:String(r),onChange:s=>i(+s),type:"number",step:50,min:-2e3,max:2e3,adornment:"ms",onKeyDown:s=>{var o;s.code==="Enter"&&((o=n.current)==null||o.blur())},info:"If the sound is not synchronised with the lyrics, use this to compensate it.",...e})}),sfe=C(Ru,{target:"e1vs2glp0"})({name:"q54eim",styles:"input{text-align:right;}"});function ofe(e){Aa(!1);const t=oi(),n=()=>t("menu/"),{register:r}=Vn({onBackspace:n}),[i,s]=$e(xs),[o,a]=$e(Ya),[l,c]=$e(Zn),[u,d]=$e(Fb),h=_.useRef(null),[p,g]=_.useState(Qi.getPermissionStatus());_.useEffect(()=>Qi.addListener(b=>{g(b)}),[]);const[m,A]=_.useState(!1),v=()=>{A(!0),Qi.requestPermissions().then(()=>A(!1))};let y="Disabled";return m?y=f.jsx(_h,{size:"0.9em"}):p===null?y="Click to enable":p&&(y="Enabled"),f.jsxs(ya,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Settings | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Settings"}),f.jsx(Hr,{...r("graphics-level",()=>s(Za(hj,i))),label:"Graphics",value:i.toUpperCase()}),f.jsx(Hr,{...r("fps-count-level",()=>a(Za(pj,o))),label:"FPS Count",value:o}),f.jsx(Hr,{...r("background-music-selection",()=>d(Za(yj,u))),label:"Background Music",value:u}),f.jsx(pN,{ref:h,...r("input-lag",()=>{var b;return(b=h.current)==null?void 0:b.focus()})}),f.jsx("hr",{}),f.jsx(Hr,{...r("camera-access",()=>p?Qi.disable():v()),label:"Enable camera mode",value:y,info:"Record a timelapse video from singing. The recording is not sent nor stored anywhere."}),f.jsx("hr",{}),f.jsx(Hr,{...r("mobile-phone-mode",()=>c(!l)),label:"Mobile Phone Mode",value:l?"Yes":"No",info:"Adjust the game to a smaller screen. Disables option to sing in duets."}),f.jsx("hr",{}),f.jsx(Te,{...r("remote-mics-settings",()=>t("settings/remote-mics/")),size:"small",children:"Remote Microphones Settings"}),f.jsx(Te,{...r("setup-mics-button",()=>t("select-input/")),size:"small",children:"Setup Microphones"}),f.jsx(Te,{...r("manage-songs-button",()=>t("manage-songs/")),size:"small",children:"Manage Songs"}),f.jsx(Te,{...r("back-button",n),children:"Return To Main Menu"})]})}function gN(e){return f.jsxs(afe,{...e,children:[f.jsx(V_,{}),f.jsx(BL,{})]})}const afe=C("div",{target:"e1lp2lp80"})({name:"9lr88m",styles:"position:relative;transition:300ms;svg{transition:300ms;width:15rem;height:15rem;}svg:first-of-type{top:1.6rem;left:3.5rem;position:absolute;z-index:100;transform:scaleX(-1);}"});function mN(){const[e,t]=_.useState(!1);return _.useEffect(()=>{const n=setTimeout(()=>{t(!0)},500);return()=>{clearTimeout(n)}},[]),f.jsx(lfe,{visible:e,children:f.jsx(cfe,{})})}const lfe=C("div",{target:"e1ej0ve21"})("transition:500ms;opacity:",e=>e.visible?1:0,";position:fixed;inset:0;display:flex;align-items:center;justify-content:center;"),cfe=C(gN,{target:"e1ej0ve20"})({name:"1wwm3j4",styles:"transform:translate(-1.75rem, -0.8rem) scale(2);svg{animation:pulse 1.25s infinite;@keyframes pulse{0%{scale:1;}33%{scale:1.05;}66%{scale:1;}100%{scale:1;}}}svg:first-of-type{animation-delay:1s;}"}),ufe=_.lazy(()=>f0(()=>import("./ConvertView-UaaC3ClS.js"),__vite__mapDeps([0,1]))),vN=e=>f.jsxs(_.Suspense,{fallback:f.jsx(mN,{}),children:[f.jsx(ei,{children:f.jsx("title",{children:"Convert Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(ufe,{...e})]});var yN={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Fo,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,p){for(var g,m,A,v=d.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=y.length,S=0;S<b;S+=1){var x=y[S];x.d&&(g=h?i(c).diff(d,x.d,!0):d.diff(c,x.d,!0));var w=(n.rounding||Math.round)(Math.abs(g));if(A=g>0,w<=x.r||!x.r){w<=1&&S>0&&(x=y[S-1]);var E=v[x.l];p&&(w=p(""+w)),m=typeof E=="string"?E.replace("%d",w):E(w,u,x.l,A);break}}if(u)return m;var I=A?v.future:v.past;return typeof I=="function"?I(m):I.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(yN);var dfe=yN.exports;const ffe=lr(dfe),AN=1e3,hfe=e=>e.map(t=>{if(t.notes.length===0)debugger;return{...t,start:t.notes[0].start}}),pfe=e=>{const t=e.notes.at(-1);return t.start+t.length},gfe=(e,t=10)=>{let n=0,r=[];return e.forEach(i=>{i.start-n>t&&(r.push({type:"pause",start:n,end:i.start-t}),n=i.start-t),r.push({...i,start:n}),n=pfe(i)}),r},dP=(e,t)=>({...e,sections:gfe(hfe(e.sections.filter(St)),t)});function mfe(e){const t=Su(e),n=Math.round(AN/t);return{...e,tracks:e.tracks.map(r=>dP(r,n)),mergedTrack:dP(e.mergedTrack,n)}}const vfe=(e,t)=>e.map((n,r)=>St(n)?{...n,start:r===0?0:Math.max(0,n.start+t),notes:n.notes.map(i=>({...i,start:i.start+t}))}:{...n,start:Math.max(0,n.start+t),end:Math.max(0,n.end+t)}),fP=(e,t)=>({...e,sections:vfe(e.sections,t)});function yfe(e){const t=Su(e),n=Math.round(AN/t),r=Math.floor((e.gap-n*t<0?e.gap:n*t)/t),i=e.gap-r*t;return{...e,gap:i,tracks:e.tracks.map(s=>fP(s,r)),mergedTrack:fP(e.mergedTrack,r)}}function _N(e,t){return Su(t)*e}function pv(e){const t=Math.min(...e.tracks.map(n=>"sections"in n?aa(n.sections):n.start));return _N(t,e)+e.gap}function Afe(e){const t=pv(e);return{...e,videoGap:Math.round(Math.max(0,Math.min(e.videoGap??0,t/1e3-15)))}}const _fe=(e,t)=>e.map((n,r)=>St(n)?{...n,start:r===0?0:Math.max(0,n.start-t),notes:n.notes.map(i=>({...i,start:i.start-t}))}:{...n,start:Math.max(0,n.start-t),end:Math.max(0,n.end-t)}).filter(n=>St(n)||n.start-n.end>0),hP=(e,t)=>({...e,sections:_fe(e.sections,t)});function bfe(e){const t=Su(e),n=e.tracks.reduce((o,a,l)=>{const c=aa(e.tracks[o].sections),u=aa(a.sections);return c>u?l:o},0),r=e.tracks[n].sections.find(St);if(!r)return console.error("There are no notes sections in the song, wat",e.tracks),e;const i=r.start+(r.notes[0].start-r.start),s=Math.floor(e.gap+i*t);return{...e,gap:s,tracks:e.tracks.map(o=>hP(o,i)),mergedTrack:hP(e.mergedTrack,i)}}const xfe=e=>(e.forEach((t,n)=>{t.lyrics.startsWith(" ")&&(t.lyrics=t.lyrics.trim(),n>0&&(e[n-1].lyrics=e[n-1].lyrics+" "))}),e),pP=e=>({...e,sections:e.sections.map(t=>St(t)?{...t,notes:xfe(t.notes)}:t)});function Sfe(e){return{...e,tracks:e.tracks.map(pP),mergedTrack:pP(e.mergedTrack)}}const wfe=e=>{let t=bfe(e);return t=yfe(t),t=mfe(t),t=Sfe(t),t=Afe(t),t};function bN(e){const[t,n]=_.useState(null);return _.useEffect(()=>{$s.get(e).then(r=>n(r&&wfe(r)))},[e]),{data:t}}Xi.extend(ffe);function Efe(){const e=T0("song");Aa(!1);const t=bN(e??"");return t.data?f.jsxs(Cfe,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Edit Song | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsxs(kfe,{children:[f.jsx(gw,{to:"edit/list/",children:f.jsx("a",{children:"Return to the song list"})}),f.jsxs("span",{children:["Editing:"," ",f.jsxs("b",{children:[t.data.artist," - ",t.data.title]})]}),f.jsxs("abbr",{title:t.data.lastUpdate,children:["Last updated: ",f.jsx("b",{children:t.data.lastUpdate?Xi(t.data.lastUpdate).fromNow():"-"})]})]}),f.jsx(vN,{song:t.data})]}):f.jsx(f.Fragment,{children:"Loading"})}const kfe=C("div",{target:"e104ojv11"})({name:"tv6097",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"}),Cfe=C("div",{target:"e104ojv10"})({name:"1u1hal4",styles:"margin:30px auto 0 auto;width:1260px;height:100%;background:white"});var Tfe=Math.floor,Ife=Math.random;function Pfe(e,t){return e+Tfe(Ife()*(t-e+1))}function xN(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Pfe(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function Rfe(e){return xN(D3(e))}function Mfe(e,t){return Ex(t,function(n){return e[n]})}function jfe(e){return e==null?[]:Mfe(e,sh(e))}function Ofe(e){return xN(jfe(e))}function Vfe(e){var t=Ci(e)?Rfe:Ofe;return t(e)}var kR;const SN=!((kR=document.getElementById("root"))!=null&&kR.hasChildNodes());function qw(e){return SN?null:e.children}function vr(e){const t=oi(),n=r=>{e.onClick?e.onClick(r):(r.preventDefault(),t(e.to))};return f.jsx(gw,{...e,onClick:n})}function Lfe(e,t){_.useEffect(()=>{var n,r;(r=(n=e.current)==null?void 0:n.getInternalPlayer())==null||r.setVolume(Math.round((t??.5)*100))},[e,t])}var Nfe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const $fe=lr(Nfe);var D_={exports:{}},wN;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/wN=function(){var e={},t={};return e.on=function(n,r){var i={name:n,handler:r};return t[n]=t[n]||[],t[n].unshift(i),i},e.off=function(n){var r=t[n.name].indexOf(n);r!==-1&&t[n.name].splice(r,1)},e.trigger=function(n,r){var i=t[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},e};var Bfe=wN,F_={exports:{}},Dfe=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&Ffe(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?gP:zfe;o(s,r),s.onload||gP(s,r),i.appendChild(s)};function Ffe(e,t){for(var n in t)e.setAttribute(n,t[n])}function gP(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function zfe(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Dfe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(u){u&&s.trigger("error",u)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),a(window.YT)}});return o},e.exports=t.default})(F_,F_.exports);var Ufe=F_.exports,z_={exports:{}},U_={exports:{}},H_={exports:{}},zf=1e3,Uf=zf*60,Hf=Uf*60,qf=Hf*24,Hfe=qf*365.25,qfe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Gfe(e);if(n==="number"&&isNaN(e)===!1)return t.long?Yfe(e):Wfe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Gfe(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Hfe;case"days":case"day":case"d":return n*qf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Hf;case"minutes":case"minute":case"mins":case"min":case"m":return n*Uf;case"seconds":case"second":case"secs":case"sec":case"s":return n*zf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Wfe(e){return e>=qf?Math.round(e/qf)+"d":e>=Hf?Math.round(e/Hf)+"h":e>=Uf?Math.round(e/Uf)+"m":e>=zf?Math.round(e/zf)+"s":e+"ms"}function Yfe(e){return Sp(e,qf,"day")||Sp(e,Hf,"hour")||Sp(e,Uf,"minute")||Sp(e,zf,"second")||e+" ms"}function Sp(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=l,t.disable=o,t.enable=s,t.enabled=a,t.humanize=qfe,t.names=[],t.skips=[],t.formatters={};var n;function r(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(c){function u(){if(u.enabled){var d=u,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var g=new Array(arguments.length),m=0;m<g.length;m++)g[m]=arguments[m];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var A=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(y,b){if(y==="%%")return y;A++;var S=t.formatters[b];if(typeof S=="function"){var x=g[A];y=S.call(d,x),g.splice(A,1),A--}return y}),t.formatArgs.call(d,g);var v=u.log||t.log||console.log.bind(console);v.apply(d,g)}}return u.namespace=c,u.enabled=t.enabled(c),u.useColors=t.useColors(),u.color=r(c),typeof t.init=="function"&&t.init(u),u}function s(c){t.save(c),t.names=[],t.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,h=0;h<d;h++)u[h]&&(c=u[h].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.substr(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){t.enable("")}function a(c){var u,d;for(u=0,d=t.skips.length;u<d;u++)if(t.skips[u].test(c))return!1;for(u=0,d=t.names.length;u<d;u++)if(t.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}})(H_,H_.exports);var Kfe=H_.exports;(function(e,t){var n={};t=e.exports=Kfe,t.log=s,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var h=0,p=0;c[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(h++,g==="%c"&&(p=h))}),c.splice(p,0,d)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?t.storage.removeItem("debug"):t.storage.debug=c}catch{}}function a(){var c;try{c=t.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}t.enable(a());function l(){try{return window.localStorage}catch{}}})(U_,U_.exports);var Qfe=U_.exports,q_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default})(q_,q_.exports);var Jfe=q_.exports,G_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default})(G_,G_.exports);var Xfe=G_.exports,W_={exports:{}},Y_={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default})(Y_,Y_.exports);var Zfe=Y_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Zfe,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default})(W_,W_.exports);var ehe=W_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Qfe,r=u(n),i=Jfe,s=u(i),o=Xfe,a=u(o),l=ehe,c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var g={},m=function(E){var I="on"+E.slice(0,1).toUpperCase()+E.slice(1);g[I]=function(L){d('event "%s"',I,L),p.trigger(E,L)}},A=!0,v=!1,y=void 0;try{for(var b=a.default[Symbol.iterator](),S;!(A=(S=b.next()).done);A=!0){var x=S.value;m(x)}}catch(w){v=!0,y=w}finally{try{!A&&b.return&&b.return()}finally{if(v)throw y}}return g},h.promisifyPlayer=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},A=function(I){g&&c.default[I]?m[I]=function(){for(var L=arguments.length,j=Array(L),B=0;B<L;B++)j[B]=arguments[B];return p.then(function(Q){var M=c.default[I],U=Q.getPlayerState(),P=Q[I].apply(Q,j);return M.stateChangeRequired||Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf(U)===-1?new Promise(function(T){var z=function O(){var N=Q.getPlayerState(),D=void 0;typeof M.timeout=="number"&&(D=setTimeout(function(){Q.removeEventListener("onStateChange",O),T()},M.timeout)),Array.isArray(M.acceptableStates)&&M.acceptableStates.indexOf(N)!==-1&&(Q.removeEventListener("onStateChange",O),clearTimeout(D),T())};Q.addEventListener("onStateChange",z)}).then(function(){return P}):P})}:m[I]=function(){for(var L=arguments.length,j=Array(L),B=0;B<L;B++)j[B]=arguments[B];return p.then(function(Q){return Q[I].apply(Q,j)})}},v=!0,y=!1,b=void 0;try{for(var S=s.default[Symbol.iterator](),x;!(v=(x=S.next()).done);v=!0){var w=x.value;A(w)}}catch(E){y=!0,b=E}finally{try{!v&&S.return&&S.return()}finally{if(y)throw b}}return m},t.default=h,e.exports=t.default})(z_,z_.exports);var the=z_.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Bfe,i=c(r),s=Ufe,o=c(s),a=the,l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var u=void 0;t.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=(0,i.default)();if(u||(u=(0,o.default)(g)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(g);var m=new Promise(function(v){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var y=d;v(y)}else u.then(function(b){var S=new b.Player(d,h);return g.on("ready",function(){v(S)}),null})}),A=l.default.promisifyPlayer(m,p);return A.on=g.on,A.off=g.off,A},e.exports=t.default})(D_,D_.exports);var nhe=D_.exports;const rhe=lr(nhe);var ihe=Object.defineProperty,she=Object.defineProperties,ohe=Object.getOwnPropertyDescriptors,mP=Object.getOwnPropertySymbols,ahe=Object.prototype.hasOwnProperty,lhe=Object.prototype.propertyIsEnumerable,vP=(e,t,n)=>t in e?ihe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K_=(e,t)=>{for(var n in t||(t={}))ahe.call(t,n)&&vP(e,n,t[n]);if(mP)for(var n of mP(t))lhe.call(t,n)&&vP(e,n,t[n]);return e},Q_=(e,t)=>she(e,ohe(t)),che=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});function uhe(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=((n=e.opts)==null?void 0:n.playerVars)||{},s=((r=t.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function yP(e={}){return Q_(K_({},e),{height:0,width:0,playerVars:Q_(K_({},e.playerVars),{autoplay:0,start:0,end:0})})}function dhe(e,t){return e.videoId!==t.videoId||!$fe(yP(e.opts),yP(t.opts))}function fhe(e,t){var n,r,i,s;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((i=e.opts)==null?void 0:i.height)!==((s=t.opts)==null?void 0:s.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var hhe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},phe={videoId:ze.string,id:ze.string,className:ze.string,iframeClassName:ze.string,style:ze.object,title:ze.string,loading:ze.oneOf(["lazy","eager"]),opts:ze.objectOf(ze.any),onReady:ze.func,onError:ze.func,onPlay:ze.func,onPause:ze.func,onEnd:ze.func,onStateChange:ze.func,onPlaybackRateChange:ze.func,onPlaybackQualityChange:ze.func},dg=class extends Pe.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,i,s,o,a,l,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case dg.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,t);break;case dg.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,t);break;case dg.PlayerState.PAUSED:(c=(l=this.props).onPause)==null||c.call(l,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=Q_(K_({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=rhe(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return che(this,null,function*(){fhe(e,this.props)&&this.updatePlayer(),dhe(e,this.props)&&(yield this.resetPlayer()),uhe(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Pe.createElement("div",{className:this.props.className,style:this.props.style},Pe.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},gv=dg;gv.propTypes=phe;gv.defaultProps=hhe;gv.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var _s=gv;function ghe(e){const[t,n]=_.useState(1);return _.useEffect(()=>{if(e===_s.PlayerState.UNSTARTED){const r=setTimeout(()=>{n(i=>i+1)},5e3+t*2500);return()=>{clearTimeout(r)}}}),t}function mhe(e,t){_.useEffect(()=>{if(t===_s.PlayerState.BUFFERING){const n=setInterval(async()=>{var r,i,s;if(navigator.onLine){clearInterval(n);const o=await((r=e.current)==null?void 0:r.getInternalPlayer().getCurrentTime());(s=(i=e.current)==null?void 0:i.getInternalPlayer())==null||s.seekTo(Math.max(o-2,0),!0)}},500);return()=>{clearInterval(n)}}})}function vhe(e,t){return mhe(e,t),ghe(t)}var An=(e=>(e.UNSTARTED="UNSTARTED",e.ENDED="ENDED",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.BUFFERING="BUFFERING",e.CUED="CUED",e))(An||{});const yhe={[_s.PlayerState.UNSTARTED]:"UNSTARTED",[_s.PlayerState.ENDED]:"ENDED",[_s.PlayerState.PLAYING]:"PLAYING",[_s.PlayerState.PAUSED]:"PAUSED",[_s.PlayerState.BUFFERING]:"BUFFERING",[_s.PlayerState.CUED]:"CUED"},Ahe=_.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=_.useRef(null),[h,p]=_.useState(_s.PlayerState.UNSTARTED),g=vhe(d,h);return Lfe(d,o),_.useEffect(()=>{d.current&&d.current.getInternalPlayer().setSize(a,l)},[d,a,l,t,g]),_.useImperativeHandle(u,()=>({setSize:(m,A)=>{var v;return(v=d.current)==null?void 0:v.getInternalPlayer().setSize(m,A)},seekTo:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().seekTo(m,!0)},setPlaybackSpeed:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().setPlaybackRate(m)},setVolume:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().setVolume(m)},getCurrentTime:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getCurrentTime()},loadVideoById:m=>{var A;return(A=d.current)==null?void 0:A.getInternalPlayer().loadVideoById(m)},playVideo:()=>{var m;(m=d.current)==null||m.getInternalPlayer().playVideo()},pauseVideo:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().pauseVideo()},getDuration:()=>{var m;return(m=d.current)==null?void 0:m.getInternalPlayer().getDuration()}})),f.jsx(_s,{title:" ",ref:d,videoId:t,opts:{width:"0",height:"0",playerVars:{autoplay:n?1:0,rel:0,fs:0,controls:i?1:0,start:r??0,end:0,disablekb:s?1:0,modestbranding:1}},onStateChange:m=>{p(m.data),c==null||c(yhe[m.data])}},`${t}-${g}`)}),_he=_.forwardRef(function({video:t,autoplay:n,startAt:r,controls:i,disablekb:s,volume:o,width:a,height:l,onStateChange:c},u){const d=_.useRef(null),[h,p]=_.useState({w:a,h:l}),[g,m]=_.useState(An.UNSTARTED);_.useEffect(()=>{const v=w=>()=>m(w),y=d.current,b=v(An.PLAYING),S=v(An.PAUSED),x=v(An.ENDED);return y==null||y.addEventListener("playing",b),y==null||y.addEventListener("pause",S),y==null||y.addEventListener("ended",x),()=>{y==null||y.removeEventListener("playing",b),y==null||y.removeEventListener("pause",S),y==null||y.removeEventListener("ended",x)}},[d.current,m]),_.useEffect(()=>{c==null||c(g)},[g,c]);const A=_.useMemo(()=>({setSize:(v,y)=>p({w:v,h:y}),seekTo:v=>(d.current&&(d.current.currentTime=v),v),setPlaybackSpeed:v=>{d.current&&(d.current.playbackRate=v)},setVolume:()=>{},getCurrentTime:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.currentTime)??0)},loadVideoById:()=>{},playVideo:()=>{var v;return(v=d.current)==null?void 0:v.play()},pauseVideo:()=>{var v;return(v=d.current)==null?void 0:v.pause()},getDuration:()=>{var v;return Promise.resolve(((v=d.current)==null?void 0:v.duration)??0)}}),[d]);return _.useEffect(()=>{A.setSize(a,l)},[a,l,A]),_.useEffect(()=>{r!==void 0&&A.seekTo(r)},[r,A]),_.useImperativeHandle(u,()=>A),f.jsx("video",{width:h.w,height:h.h,autoPlay:n??!0,controls:i,ref:d,children:f.jsx("source",{src:t})})}),bhe="/assets/dummy-BNC13ZxI.mp4",xhe=_.forwardRef(function({video:t,controls:n,...r},i){return f.jsx(_he,{ref:i,video:bhe,controls:!0,...r})});var She={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Gw=_.forwardRef((e,t)=>She.VITE_APP_OFFLINE?f.jsx(xhe,{...e,ref:t}):f.jsx(Ahe,{...e,ref:t})),AP=()=>({width:global.document.body.clientWidth,height:global.visualViewport.height});function xh(){const[e,t]=_.useState(AP()),n=_.useCallback(Rc(()=>{t(AP())},1e3),[]);return _.useEffect(()=>(global.addEventListener("resize",n),n(),()=>global.removeEventListener("resize",n)),[]),{...e,handleResize:n}}function EN({songData:e,background:t,width:n,height:r,children:i,...s}){return f.jsxs(whe,{video:e.video,width:n,height:r,...s,children:[f.jsx(khe,{video:e.video,blur:!0}),t&&f.jsx(kN,{children:t}),f.jsx(Che,{children:f.jsxs(The,{children:[f.jsx(Ihe,{children:e.title}),f.jsx("br",{}),f.jsx(Phe,{children:e.artist}),f.jsx("br",{}),e.author&&f.jsxs(Rhe,{children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,children:e.author}):e.author]}),i]})})]})}const whe=C("div",{target:"e1kx27c8"})(e=>`
    width: ${e.width}px;
    top: 0;
    height: ${e.height}px;
    overflow-y: hidden;
    background: black;
    position: relative;
`,""),kN=C("div",{target:"e1kx27c7"})({name:"1vuuxha",styles:"z-index:1;top:0;left:0;position:absolute;width:100%;height:100%"}),Ehe=C(kN,{target:"e1kx27c6"})("background-size:cover;background-position:center center;filter:",e=>e.blur?"blur(0.5rem)":"none",";"),khe=e=>f.jsx(Ehe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},...e}),Che=C("div",{target:"e1kx27c5"})({name:"11t99gq",styles:"z-index:2;top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none"}),The=C("div",{target:"e1kx27c4"})({name:"t7r80e",styles:"position:relative;margin:0 auto;color:white;max-width:144rem;height:100%;pointer-events:none"}),mv=C("span",{target:"e1kx27c3"})("background:rgba(0, 0, 0, 0.5);display:inline-block;backdrop-filter:blur(0.5rem);",Ne,";padding:0.5rem 2rem;margin:0 0 1rem 0;"),Ihe=C(mv,{target:"e1kx27c2"})("color:",he.colors.text.active,";margin-top:2rem;font-size:4.5rem;"),Phe=C(mv,{target:"e1kx27c1"})({name:"tic7nk",styles:"font-size:3.5rem"}),Rhe=C(mv,{target:"e1kx27c0"})({name:"a07gmx",styles:"font-size:2rem"});function Mhe(e){var h;fa(!1),Aa(!1);const t=oi(),{width:n,height:r}=xh(),[i,s]=_.useState(0),o=bh(),[a,l]=_.useState([]),{register:c}=Vn({onBackspace:()=>t("menu/")});_.useEffect(()=>o.data&&l(Vfe(o.data)),[o.data]);const u=()=>o.data&&s(p=>(p+1)%o.data.length);if(!a.length||!n||!r)return null;const d=L_("game/",{song:a[i].id,playlist:"All"});return f.jsxs(Co,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Jukebox | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(qw,{children:f.jsxs(EN,{width:n,height:r,songData:a[i],"data-test":"jukebox-container","data-song":a[i].id,background:f.jsx(Gw,{autoplay:!0,controls:!0,width:n,height:r,volume:(h=a[i])==null?void 0:h.volume,video:a[i].video,startAt:a[i].videoGap,onStateChange:p=>{p===An.ENDED&&u()}}),children:[f.jsx(Ohe,{...c("skip-button",u),children:"Skip"}),f.jsx(vr,{to:d,children:f.jsx(jhe,{...c("sing-button",()=>t(d),void 0,!0),children:"Sing this song"})})]})})]})}const jhe=C(us,{target:"e1573hk21"})({name:"9gmhgo",styles:"bottom:7rem;right:2rem;width:50rem;position:absolute;font-size:1.9vw"}),Ohe=C(us,{target:"e1573hk20"})({name:"1qbm012",styles:"bottom:15rem;right:2rem;width:30rem;position:absolute;font-size:1.9vw"}),Vhe=C("h1",{target:"enucs171"})({name:"8n9pib",styles:"display:flex;justify-content:center;align-items:center;position:relative"}),Lhe=C("svg",{target:"enucs170"})({name:"1x5387l",styles:"--curve:cubic-bezier(0.65, 0, 0.45, 1);--green:#4caf50;margin-right:1rem;width:5rem;height:5rem;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;box-shadow:inset 0px 0px 0px var(--green);animation:fill 0.4s ease-in-out 0.4s forwards,scale 0.3s ease-in-out 0.9s both;.checkmark__circle{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:var(--green);fill:none;animation:stroke 0.6s var(--curve) forwards;}.checkmark__check{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke 0.3s var(--curve) 0.8s forwards;}@keyframes stroke{100%{stroke-dashoffset:0;}}@keyframes scale{0%,100%{transform:none;}50%{transform:scale3d(1.1, 1.1, 1);}}@keyframes fill{100%{box-shadow:inset 0px 0px 0px 3rem var(--green);}}"}),Nhe=e=>f.jsx(Lhe,{...e,children:f.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[f.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),f.jsx("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})});var Ww={},$he=Xe;Object.defineProperty(Ww,"__esModule",{value:!0});var Qd=Ww.default=void 0,Bhe=$he(nt()),rA=f;Qd=Ww.default=(0,Bhe.default)([(0,rA.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,rA.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,rA.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var Yw={},Dhe=Xe;Object.defineProperty(Yw,"__esModule",{value:!0});var J_=Yw.default=void 0,Fhe=Dhe(nt()),zhe=f;J_=Yw.default=(0,Fhe.default)((0,zhe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var Kw={},Uhe=Xe;Object.defineProperty(Kw,"__esModule",{value:!0});var fg=Kw.default=void 0,Hhe=Uhe(nt()),qhe=f;fg=Kw.default=(0,Hhe.default)((0,qhe.jsx)("path",{d:"M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1m-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5-4H7V4h9z"}),"PhoneIphone");var Qw={},Ghe=Xe;Object.defineProperty(Qw,"__esModule",{value:!0});var CN=Qw.default=void 0,Whe=Ghe(nt()),_P=f;CN=Qw.default=(0,Whe.default)([(0,_P.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,_P.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera");var Jw={},Yhe=Xe;Object.defineProperty(Jw,"__esModule",{value:!0});var TN=Jw.default=void 0,Khe=Yhe(nt()),Qhe=f;TN=Jw.default=(0,Khe.default)((0,Qhe.jsx)("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode");const IN=C("span",{target:"ejt1whd0"})("position:absolute;transform:translate(40%, -50%);top:0;right:0;background:",he.colors.text.active,";font-size:1.5rem;",Ne,";color:",he.colors.text.default,";padding:0.5rem 1rem;border-radius:1.5rem;");function Jhe({onPreferenceSelected:e,previouslySelected:t,onBack:n,skipText:r}){const[i]=$e(Zn),{register:s}=Vn({onBackspace:n});return f.jsxs(f.Fragment,{children:[f.jsxs(Ep,{...s("remote-mics",()=>e("remoteMics"),void 0,t==="remoteMics"),children:[f.jsxs(xd,{children:[f.jsx(kw,{}),f.jsx(fg,{})]}),f.jsxs("div",{children:[i?"Connect other phones":"Use Smartphones",f.jsxs(bd,{children:["Use"," ",f.jsxs("strong",{children:[f.jsx(CN,{}),"Camera app"]})," ","to scan a"," ",f.jsxs("strong",{children:[f.jsx(TN,{})," QR code"]})," ","that will open Remote Mic website - no need to download an app!"]})]}),f.jsxs(wp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsxs(Ep,{...s("built-in",()=>e("built-in"),void 0,t==="built-in"),children:[f.jsxs(xd,{children:[f.jsx(J_,{}),i?f.jsx(fg,{}):f.jsx(ww,{})]}),f.jsxs("div",{children:["This ",i?"device's":"computer's"," microphone",f.jsxs(bd,{children:["Great to ",f.jsx("strong",{children:"test"})," the app, ",f.jsx("strong",{children:"sing alone"})," or don't care about the rivalry at the party"]})]}),f.jsxs(wp,{children:[f.jsx(J_,{}),f.jsx("strong",{children:"1"})]})]}),f.jsx("hr",{}),!i&&f.jsxs(Ep,{...s("multiple-mics",()=>e("multiple-mics"),void 0,t==="multiple-mics"),children:[f.jsxs(xd,{children:[f.jsx(V_,{}),f.jsx(BL,{})]}),f.jsxs("div",{children:["Multiple microphones",f.jsxs(bd,{children:["Use either ",f.jsx("strong",{children:"SingStar"})," or ",f.jsx("strong",{children:"multiple microphones"})," connected to the device for each player"]})]}),f.jsx(IN,{children:"New"}),f.jsxs(wp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"2"})]})]}),f.jsxs(Ep,{...s("advanced",()=>e("advanced"),void 0,t==="advanced"),children:[f.jsxs(xd,{children:[f.jsx(V_,{}),f.jsx(fg,{})]}),f.jsxs("div",{children:["Advanced (manual) setup",f.jsx(bd,{children:"Assign the specific device to a player manually, e.g. if you don't have regular SingStar microphones."})]}),f.jsxs(wp,{children:[f.jsx(Qd,{}),f.jsx("strong",{children:"1-4"})]})]}),f.jsx("hr",{}),f.jsx(vr,{to:"menu/",onClick:o=>{o==null||o.preventDefault(),e("skip")},children:f.jsx(Te,{as:Ki,...s("skip",()=>e("skip"),void 0,t==="skip"),children:r||"Skip"})})]})}const wp=C("div",{target:"eb2r3ii3"})(Ne,";position:absolute;inset:auto 0.5rem 0.5rem auto;svg{font-size:0.9em;}gap:0.5rem;display:flex;align-items:center;justify-content:flex-end;"),bd=C("div",{target:"eb2r3ii2"})({name:"4vipg7",styles:"padding:0 3rem 0 6rem;font-size:1.6rem;max-height:0;overflow:clip;transition:300ms;svg{font-size:1.4rem;}opacity:0"}),xd=C("div",{target:"eb2r3ii1"})("position:relative;margin:0rem 0.6rem 0 2.5rem;transition:300ms;svg{transition:300ms;width:3.6rem;height:3.6rem;color:",he.colors.players[1].text,";}svg:first-of-type{top:0.6rem;left:1.25rem;position:absolute;color:",he.colors.players[0].text,";z-index:100;transform:scaleX(-1);}"),bP=Ot("height:16.5rem;background:black;",fo,";",bd,"{padding-top:1.6rem;max-height:10rem;opacity:1;opacity:1;}",xd,"{transform:scale(1.75);}",""),Ep=C(Te,{target:"eb2r3ii0"})("position:relative;display:flex;align-items:center;:hover{",bP,";}",e=>e.focused?bP:"",";");function PN(){var e,t;return((t=(e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.includes)==null?void 0:t.call(e,"Win"))??!1}const Xw=(e,t,n=!0,r=1e3/Ya.get())=>{_.useEffect(()=>{if(!n)return;const i=setInterval(()=>{const s=sn.getPlayerVolume(e)??0,o=sn.getPlayerFrequency(e)??0;t([s,Array.isArray(o)?o[0]:o])},r);return()=>{clearInterval(i)}},[e,r,t,n])},Xhe=(e,t=1e3/Ya.get(),n)=>{const[r,i]=_.useState([0,0]);return Xw(e,i,!0,t),_.useEffect(()=>{n&&n(r)},[r,n]),r},RN=e=>_.useMemo(()=>{if(!he.colors.players[e])return"0, 0, 0";const t=fe(he.colors.players[e].text).toRgb();return`${t.r}, ${t.g}, ${t.b}`},[e]),MN=C("div",{target:"eq7cjwi0"})("background:linear-gradient(270deg, rgba(",e=>e.color,", 1) 0%, rgba(",e=>e.color,", 0) 100%);height:100%;width:100%;position:absolute;right:0;top:0;background-repeat:repeat-y;transform-origin:right;z-index:1;pointer-events:none;"),Zhe=_.forwardRef(({volume:e,playerNumber:t,...n},r)=>{const i=`${Math.min(1,e*20)}`,s=RN(t);return Re.getPlayer(t)?f.jsx(MN,{color:s,...n,style:{transform:`scaleX(${i})`},ref:r}):null}),Zw=({playerNumber:e,...t})=>{const[n,r]=_.useState(),i=_.useCallback(([o])=>{if(n){const a=`${Math.min(1,o*20)}`;n.style.transform=`scaleX(${a})`}},[n]);Xw(e,i);const s=RN(e);return f.jsx(MN,{...t,color:s,ref:r})};function epe(e,t){const n=Object.keys(t),[r,i]=Ti([te.playerInputChanged,te.inputListChanged],()=>{var l;const a=(l=Re.getPlayer(e))==null?void 0:l.input;return a?[a,uo.getInputForPlayerSelected(a)]:[null,null]});_.useEffect(()=>{var a;if(i===null){const l=n[0],c=t[l].getDefault();c&&((a=Re.getPlayer(e))==null||a.changeInput(n[0],c.channel,c.deviceId))}});const s=a=>{var u;const l=Za(n,(r==null?void 0:r.source)??n[0]),c=a!==void 0?t[l].list[a]:t[l].getDefault();(u=Re.getPlayer(e))==null||u.changeInput(l,c==null?void 0:c.channel,c==null?void 0:c.deviceId)},o=()=>{var u;if(!r)return;const a=t[r.source].list,l=i?a.findIndex(d=>d.id===i.id):0,c=Ah(a,l);if(c===0)s(0);else{const d=a[c];(u=Re.getPlayer(e))==null||u.changeInput(r.source,d==null?void 0:d.channel,d==null?void 0:d.deviceId)}};return[(r==null?void 0:r.source)??null,s,i,o]}const jN=e=>{const t=e.player,[n,r,i,s]=epe(t.number,e.inputs);return f.jsxs(f.Fragment,{children:[e.blockSourceChange?f.jsxs(ipe,{children:[f.jsxs("h3",{className:"ph-no-capture",children:[t.getName()," Input"]}),f.jsx("h4",{children:"(click to change)"})]}):f.jsx(rpe,{...e.readonly?{}:e.register(`player-${t.number}-source`,()=>r()),label:f.jsxs("span",{className:"ph-no-capture",children:[t.getName()," Source"]}),value:n,disabled:e.readonly}),f.jsx(npe,{...e.readonly?{}:e.register(`player-${t.number}-input`,s),label:"Input",disabled:e.readonly,value:i==null?void 0:i.label,children:f.jsx(tpe,{playerNumber:t.number})})]})},tpe=C(Zw,{target:"e6monco3"})({name:"1vx2200",styles:"opacity:0.75;width:50%;height:calc(100% - 0.5rem);margin:0.25rem"}),npe=C(Hr,{target:"e6monco2"})({name:"bjn8wh",styles:"position:relative"}),rpe=C(Hr,{target:"e6monco1"})({name:"bigtx2",styles:"background:none"}),ipe=C("div",{target:"e6monco0"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"});function vv(e=!1,t){const n=Ti(te.inputListChanged,()=>{const r={...uo.getInputList()};if(t)return{[t]:r[t]};for(const i in r)r[i].list.length===0&&delete r[i];return r});return _.useEffect(()=>{e&&uo.loadMics()},[e]),n}function Sh(e,t=Bg){_.useEffect(()=>{Re.setMinPlayerNumber(e);const n=Re.getPlayers();if(n.length>t)for(let r=n.length;r>t;r--)Re.removePlayer(n[r-1].number);else if(n.length<e){const r=Re.getPlayers().map(s=>s.number),i=Array.from(Array(Bg).keys()).filter(s=>!r.includes(s));console.log(i,r);for(let s=n.length;s<e;s++)Re.addPlayer(i.shift())}},[])}function ON(){const e=_.useRef(0);Jr(te.remoteMicConnected,({id:t})=>{var r;console.log("useRemoteMicAutoselect",t);const n=Re.getPlayer(e.current);n?n.changeInput(co.inputName,0,t):(r=Re.addPlayer(e.current))==null||r.changeInput(co.inputName,0,t),e.current=(e.current+1)%Bg})}function spe(e){Sh(2);const t=vv(!0),n=bw();_.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),ON();const{register:r}=Vn({onBackspace:e.onBack}),s=Ti(te.playerInputChanged,()=>Re.getInputs()).filter(a=>a.source===io.inputName),o=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(yh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[f.jsx(mw,{}),o.map((a,l)=>f.jsx(jN,{inputs:t,player:a,register:r,readonly:l>1},a.number)),f.jsx("hr",{}),s.length>1&&Hw()&&PN()&&f.jsxs("h3",{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}var eE={},ope=Xe;Object.defineProperty(eE,"__esModule",{value:!0});var VN=eE.default=void 0,ape=ope(nt()),lpe=f;VN=eE.default=(0,ape.default)((0,lpe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var tE={},cpe=Xe;Object.defineProperty(tE,"__esModule",{value:!0});var nE=tE.default=void 0,upe=cpe(nt()),dpe=f;nE=tE.default=(0,upe.default)((0,dpe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function rE({names:e}){return f.jsx(fpe,{children:Re.getPlayers().map(t=>f.jsxs(hpe,{"data-test":`mic-check-p${t.number}`,children:[f.jsx(Zw,{playerNumber:t.number}),f.jsx("span",{className:"ph-no-capture",children:(e==null?void 0:e[t.number])??t.getName()})]},t.number))})}const fpe=C("div",{target:"e1e3gceh1"})({name:"e7x0p4",styles:"display:flex;gap:1.25rem;div{flex:1;}"}),hpe=C("div",{target:"e1e3gceh0"})({name:"186bnmk",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function ppe(e){const[t,n]=_.useState(null),r=_.useRef([]),i=_.useRef(0),s=_.useCallback(([o])=>{if(r.current.push(o),r.current.length>35){const l=r.current.sort()[Math.floor(r.current.length/2)]>0;l||i.current>7?n(l):i.current++,r.current.length=0}},[e]);return Xw(0,s,t!==!0),_.useEffect(()=>{r.current.length=0,i.current=0,n(null)},[e]),t}function gpe(e){Sh(1,1);const{register:t}=Vn({onBackspace:e.onBack}),{Microphone:n}=vv(!0,"Microphone"),r=Ti([te.playerInputChanged,te.inputListChanged],()=>{var u;const l=Re.getInputs().find(d=>d.source==="Microphone"),c=uo.getInputList().Microphone.list;return l?((u=c.find(d=>d.id===cl(l)))==null?void 0:u.label)??"":""}),i=l=>{Re.getPlayers().forEach(c=>c.changeInput(io.inputName,l.channel,l.deviceId))},s=()=>{if(r===""){const l=n.getDefault();l&&i(l)}};_.useEffect(s,[]),Jr([te.inputListChanged,te.playerRemoved],s);const o=()=>{const l=n.list.findIndex(c=>c.label===r);if(l>-1){const c=n.list[Ah(n.list,l)];i(c)}},a=ppe(r);return _.useEffect(()=>{e.onSetupComplete(!!r&&!!a)},[r,a]),f.jsxs(f.Fragment,{children:[f.jsxs(yh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so the default one can be selected."}),children:[!r&&f.jsx("h3",{children:"The default device is being selected."}),r&&f.jsxs(f.Fragment,{children:[f.jsxs(mpe,{children:[f.jsx("h3",{children:"You'll sing using"}),f.jsx("h4",{children:"(click to change)"})]}),f.jsx(Hr,{...t("selected-mic",o),label:"Mic",value:r}),f.jsxs(vpe,{children:[a===!0&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is audible"}),f.jsx(iA,{children:f.jsx(Ape,{})})]}),a===!1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Microphone is not audible"}),f.jsx(iA,{children:f.jsx(ype,{})})]}),a===null&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make some noise to the microphone"}),f.jsx(iA,{children:f.jsx(_h,{size:"1em"})})]})]}),a===!1&&f.jsx("h4",{children:"Make some noise to the microphone. If that doesn't work, try using another microphone."})]}),f.jsx(rE,{}),a===!0&&f.jsxs("h4",{children:["Built-in microphones can pick up music from the game. For more accurate scores, try using your"," ",f.jsx("button",{onClick:()=>e.changePreference("remoteMics"),children:"smartphone as a microphone"}),"."]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",e.onSave,void 0,!0,{disabled:!r}),disabled:!r,children:e.closeButtonText})]})}const mpe=C("div",{target:"e19x30ho4"})({name:"1laz9o6",styles:"display:flex;justify-content:space-between;align-items:flex-end"}),vpe=C("div",{target:"e19x30ho3"})({name:"19mh0x6",styles:"display:flex;align-items:center;justify-content:flex-end"}),iA=C("div",{target:"e19x30ho2"})({name:"1wxh51d",styles:"width:4rem;height:3rem;display:flex;align-items:center;justify-content:flex-end"}),ype=C(nE,{target:"e19x30ho1"})({name:"19g9g9r",styles:"width:2em;height:2em;color:red"}),Ape=C(VN,{target:"e19x30ho0"})({name:"120ozgv",styles:"width:2em;height:2em;color:white"});function _pe(e){Sh(2);const t=vv(!0,"Microphone"),n=bw();_.useEffect(()=>{e.onSetupComplete(n==="accepted")},[n]),_.useEffect(()=>{Re.getPlayers().forEach(s=>{s.input.source!=="Microphone"&&s.changeInput("Microphone",0)})},[]);const{register:r}=Vn({onBackspace:e.onBack}),i=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getPlayers());return f.jsxs(f.Fragment,{children:[f.jsxs(yh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can show them."}),children:[i.map((s,o)=>f.jsx(jN,{inputs:t,player:s,register:r,readonly:o>1,blockSourceChange:!0},s.number)),f.jsx("hr",{})]}),f.jsx(Te,{...r("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...r("save-button",e.onSave),children:e.closeButtonText})]})}function bpe(e){const{register:t}=Vn({onBackspace:e.onBack});return f.jsxs(f.Fragment,{children:[f.jsx(Te,{...t("singstar-mics",()=>e.changePreference("singstar-mics")),children:"SingStar microphones"}),f.jsx(Te,{...t("different-mics-button",()=>e.changePreference("different-mics")),children:"Multiple different microphones"}),f.jsx("hr",{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"})]})}function xpe(e){var s,o;Sh(2);const{register:t}=Vn({onBackspace:e.onBack});ON();const n=Ti([te.inputListChanged,te.playerInputChanged,te.playerRemoved],()=>Re.getInputs().map(a=>a.source==="Remote Microphone"?a:null).map(a=>a?uo.getInputForPlayerSelected(a):null)),r=()=>{e.onSave()},i=!!((s=n[0])!=null&&s.label)&&!!((o=n[1])!=null&&o.label);return _.useEffect(()=>{e.onSetupComplete(i)},[i]),f.jsxs(f.Fragment,{children:[f.jsx(mw,{}),f.jsx("h4",{children:"You can connect multiple phones in advance."}),f.jsx("h4",{children:"You will be able to connect phones later."}),f.jsx(rE,{}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",r,void 0,!0),children:e.closeButtonText})]})}function Spe(e){Sh(2);const{register:t}=Vn({onBackspace:e.onBack}),{Microphone:n}=vv(!0,"Microphone"),[r,i]=_.useState(!1),s=Ti([te.playerInputChanged,te.inputListChanged],()=>{const c=Re.getInputs(),u=[...new Set(c.map(p=>p.deviceId))].length===1,d=!c.find(p=>p.source!=="Microphone"),h=!c.find(p=>{var g;return((g=uo.getInputForPlayerSelected(p))==null?void 0:g.preferred)===void 0});return u&&d&&h});_.useEffect(()=>(s&&sn.startMonitoring(),()=>{sn.stopMonitoring()}),[s]);const o=()=>{e.onSave()},[a,l]=_.useState(!1);return Jr(te.inputListChanged,c=>{const u=n.list.filter(d=>d.preferred!==void 0);u.length===2&&u[0].deviceId===u[1].deviceId&&u.forEach(d=>{var h;(h=Re.getPlayer(d.preferred))==null||h.changeInput(io.inputName,d.channel,d.deviceId)}),c||l(!0)}),_.useEffect(()=>{e.onSetupComplete(s)},[s]),_.useEffect(()=>{if(s)i(!1);else{const c=setTimeout(()=>i(!0),2500);return()=>clearTimeout(c)}},[s]),f.jsxs(f.Fragment,{children:[f.jsxs(yh,{fallback:f.jsx("h2",{children:"Please allow access to the microphone so we can find SingStar ones."}),children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{children:[f.jsx(_h,{size:"0.85em"})," Connect your SingStar microphones."]}),f.jsx("h4",{"data-test":"setup-not-completed",children:"It can take a couple of seconds to detect after you connect them."}),a&&f.jsx("h4",{children:f.jsxs("h4",{"data-test":"list-change-info",children:["Available microphones list has changed, but no SingStar mics were found. Try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," setup."]})}),r&&f.jsxs(f.Fragment,{children:[!a&&f.jsxs(xP,{"data-test":"advanced-tip",children:["If they don't get detected, try"," ",f.jsx("button",{onClick:()=>e.changePreference("advanced"),children:"Advanced"})," section in the previous menu."]}),Hw()&&PN()&&f.jsxs(xP,{children:[f.jsx("strong",{children:"Chrome"})," is known for not handling SingStar mics well. If you notice any problems, try using an alternative browser (eg. ",f.jsx("strong",{children:"MS Edge"})," or ",f.jsx("strong",{children:"Firefox"}),")"]})]})]}),s&&f.jsxs(f.Fragment,{children:[f.jsxs("h2",{"data-test":"setup-completed",children:[f.jsx("strong",{children:"SingStar"})," microphone connected!"]}),f.jsx(rE,{names:["Blue","Red"]})]})]}),f.jsx(Te,{...t("back-button",e.onBack),children:"Change Input Type"}),f.jsx(Te,{...t("save-button",o,void 0,!0,{disabled:!s}),"data-test":"save-button",children:e.closeButtonText})]})}const xP=C("h4",{target:"ejfctyg0"})({name:"3v8j4h",styles:"background:darkred;padding:1rem"});function wpe(e){return _.useEffect(()=>{e.onSave()},[]),null}const LN="Previously selected input type",Epe=Oe.local.getItem(LN);function iE({onFinish:e,closeButtonText:t,playerNames:n,onBack:r,skipText:i,smooth:s=!0}){const[o,a]=$e(Db),[l,c]=_.useState(o==="skip"?null:o),[u,d]=_.useState(!1);_.useEffect(()=>{const m=sn.monitoringStarted();return sn.startMonitoring(),()=>{!m&&sn.stopMonitoring()}},[]);const h=(...m)=>{s?Bf(()=>{Tu.flushSync(()=>{c(...m)})}):c(...m)},p=m=>()=>{a(m==="skip"?o??"skip":m),m&&(Oe.local.setItem(LN,m),kn.capture("sourcePreferenceSet",{source:m})),e==null||e(m)},g=()=>{Bf(()=>{c(null),d(!1)})};return f.jsxs(f.Fragment,{children:[f.jsx(Vhe,{children:u?f.jsxs(f.Fragment,{children:[f.jsx(Nhe,{})," Setup completed!"]}):"How do you want to sing?"}),(l===null||l==="skip")&&f.jsx(Jhe,{onPreferenceSelected:h,previouslySelected:Epe,onBack:r,skipText:i}),l==="remoteMics"&&f.jsx(xpe,{onSetupComplete:d,onBack:g,onSave:p("remoteMics"),closeButtonText:t,changePreference:c}),l==="multiple-mics"&&f.jsx(bpe,{onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="singstar-mics"&&f.jsx(Spe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="different-mics"&&f.jsx(_pe,{onSetupComplete:d,onBack:g,onSave:p("singstar-mics"),closeButtonText:t,changePreference:c}),l==="built-in"&&f.jsx(gpe,{onSetupComplete:d,onBack:g,onSave:p("built-in"),closeButtonText:t,changePreference:c}),l==="advanced"&&f.jsx(spe,{onSave:p("advanced"),onSetupComplete:d,onBack:g,closeButtonText:t,changePreference:c}),l==="skip"&&f.jsx(wpe,{onSetupComplete:d,onBack:g,onSave:p("skip"),closeButtonText:t,changePreference:c})]})}function kpe(e){const t=oi();return f.jsxs(ya,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(iE,{onFinish:()=>t("menu/"),closeButtonText:"Go to main menu"})]})}const Cpe=({error:e,resetError:t})=>f.jsxs(ya,{supportedBrowsers:!0,children:[f.jsxs("h1",{children:[f.jsx(Ol,{fontSize:"large"})," An error occurred :("]}),f.jsx("h3",{children:"The game crashed with following error"}),f.jsx(Tpe,{children:e.message}),f.jsxs("h3",{children:["Help me fix it by reporting what exactly has happened at"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub"})," ","or"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:"Facebook"})]}),f.jsx(Te,{onClick:t,children:"Reset Error"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;return global.location.href=(n=global.location)==null?void 0:n.origin},children:"Reload the game"}),f.jsx("h4",{children:"If that doesn't help"}),f.jsx(Te,{onClick:()=>{var n;global.confirm("Are you sure? It will delete all custom songs and scores. Before doing that, try opening the game in an private window or another browser to make sure it will actually help")&&(Oe.session.clear(),Oe.local.clear(),al.clear(),global.location.href=(n=global.location)==null?void 0:n.origin)},children:"Clear all data"})]}),Tpe=C("span",{target:"e10ztnls0"})({name:"1jmtlcm",styles:"color:white;font-family:monospace"});var Ipe={VITE_APP_SENTRY_DSN_URL:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",VITE_APP_POSTHOG_KEY:"phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",VITE_APP_BACKEND_HOST:"backend.allkaraoke.party",VITE_APP_WEBSOCKET_URL:"wss://backend.allkaraoke.party",VITE_APP_SENTRY_TUNNEL:"https://backend.allkaraoke.party/sentry",VITE_APP_POSTHOG_PROXY:"https://backend.allkaraoke.party/posthog",VITE_APP_SONG_CONVERT_PROXY:"https://backend.allkaraoke.party/proxy",VITE_CJS_IGNORE_WARNING:"true",VITE_APP_PRERENDER:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Ppe(e){Aa(!1);const t=bh();return _.useEffect(()=>{if(t.data){const n={};(async()=>{for(const r of t.data){if(r.realBpm)continue;const i=[`lookup=song:${encodeURIComponent(r.title)}+artist:${encodeURIComponent(r.artist)}`,"type=both",`api_key=${Ipe.VITE_APP_GET_SONG_BPM_API_TOKEN}`].join("&"),o=await(await fetch(`https://api.getsongbpm.com/search/?${i}`)).json();n[r.id]=Array.isArray(o.search)&&o.search[0]||null}console.log(n)})()}},[t.data]),f.jsx(f.Fragment,{children:"Copy resulting object to `scripts/scraped-bpm-data.json` file and run fillMetadata script"})}var sE={},Rpe=Xe;Object.defineProperty(sE,"__esModule",{value:!0});var km=sE.default=void 0,Mpe=Rpe(nt()),jpe=f;km=sE.default=(0,Mpe.default)((0,jpe.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox");var oE={},Ope=Xe;Object.defineProperty(oE,"__esModule",{value:!0});var Cm=oE.default=void 0,Vpe=Ope(nt()),Lpe=f;Cm=oE.default=(0,Vpe.default)((0,Lpe.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank");function Npe(e){return Pl("MuiSkeleton",e)}Rl("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const $pe=["animation","className","component","height","style","variant","width"];let Tm=e=>e,SP,wP,EP,kP;const Bpe=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:s,height:o}=e;return Il({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Npe,t)},Dpe=_o(SP||(SP=Tm`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Fpe=_o(wP||(wP=Tm`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),zpe=ri("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=Bse(e.shape.borderRadius)||"px",r=Dse(e.shape.borderRadius);return oe({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Sre(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Ot(EP||(EP=Tm`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Dpe),({ownerState:e,theme:t})=>e.animation==="wave"&&Ot(kP||(kP=Tm`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Fpe,(t.vars||t).palette.action.hover)),Upe=_.forwardRef(function(t,n){const r=ha({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=Xt(r,$pe),h=oe({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=Bpe(h);return f.jsx(zpe,oe({as:o,ref:n,className:xn(p.root,s),ownerState:h},d,{style:oe({width:u,height:a},l)}))}),Hpe=Upe;var aE={},Im=function(){return Im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Im.apply(this,arguments)},qpe=function(){function e(t,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,u=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var d=(o+="").split(".");if(a=d[0],l=d.length>1?i.options.decimal+d[1]:"",i.options.useGrouping){c="";for(var h=3,p=0,g=0,m=a.length;g<m;++g)i.options.useIndianSeparators&&g===4&&(h=2,p=1),g!==0&&p%h==0&&(c=i.options.separator+c),p++,c=a[m-g-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(A){return i.options.numerals[+A]}),l=l.replace(/[0-9]/g,function(A){return i.options.numerals[+A]})),u+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=Im(Im({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var n=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>s||i>n)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var n=t-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var n;if(this.el){var r=this.formattingFn(t);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var n=Number(t);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const Gpe=Object.freeze(Object.defineProperty({__proto__:null,CountUp:qpe},Symbol.toStringTag,{value:"Module"})),Wpe=Fs(Gpe);Object.defineProperty(aE,"__esModule",{value:!0});var Dn=_,Ype=Wpe;function Kpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){Qpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qpe(e,t,n){return t=rge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X_.apply(this,arguments)}function Jpe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function NN(e,t){if(e==null)return{};var n=Jpe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xpe(e,t){return Zpe(e)||Kpe(e,t)||ege(e,t)||tge()}function Zpe(e){if(Array.isArray(e))return e}function ege(e,t){if(e){if(typeof e=="string")return TP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(e,t)}}function TP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nge(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rge(e){var t=nge(e,"string");return typeof t=="symbol"?t:String(t)}var ige=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Dn.useLayoutEffect:Dn.useEffect;function Ui(e){var t=Dn.useRef(e);return ige(function(){t.current=e}),Dn.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var sge=function(t,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,h=n.start,p=n.suffix,g=n.useEasing,m=n.useGrouping,A=n.useIndianSeparators,v=n.enableScrollSpy,y=n.scrollSpyDelay,b=n.scrollSpyOnce,S=n.plugin;return new Ype.CountUp(t,a,{startVal:h,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:p,plugin:S,useEasing:g,useIndianSeparators:A,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:b})},oge=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],age={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},$N=function(t){var n=Object.fromEntries(Object.entries(t).filter(function(L){var j=Xpe(L,2),B=j[1];return B!==void 0})),r=Dn.useMemo(function(){return Pm(Pm({},age),n)},[t]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,u=r.onPauseResume,d=r.onReset,h=r.onUpdate,p=NN(r,oge),g=Dn.useRef(),m=Dn.useRef(),A=Dn.useRef(!1),v=Ui(function(){return sge(typeof i=="string"?i:i.current,p)}),y=Ui(function(L){var j=g.current;if(j&&!L)return j;var B=v();return g.current=B,B}),b=Ui(function(){var L=function(){return y(!0).start(function(){l==null||l({pauseResume:S,reset:x,start:E,update:w})})};a&&a>0?m.current=setTimeout(L,a*1e3):L(),c==null||c({pauseResume:S,reset:x,update:w})}),S=Ui(function(){y().pauseResume(),u==null||u({reset:x,start:E,update:w})}),x=Ui(function(){y().el&&(m.current&&clearTimeout(m.current),y().reset(),d==null||d({pauseResume:S,start:E,update:w}))}),w=Ui(function(L){y().update(L),h==null||h({pauseResume:S,reset:x,start:E})}),E=Ui(function(){x(),b()}),I=Ui(function(L){s&&(L&&x(),b())});return Dn.useEffect(function(){A.current?o&&I(!0):(A.current=!0,I())},[o,A,I,a,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Dn.useEffect(function(){return function(){x()}},[x]),{start:E,pauseResume:S,reset:x,update:w,getCountUp:y}},lge=["className","redraw","containerProps","children","style"],cge=function(t){var n=t.className,r=t.redraw,i=t.containerProps,s=t.children,o=t.style,a=NN(t,lge),l=Dn.useRef(null),c=Dn.useRef(!1),u=$N(Pm(Pm({},a),{},{ref:l,startOnMount:typeof s!="function"||t.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,p=u.update,g=u.pauseResume,m=u.getCountUp,A=Ui(function(){d()}),v=Ui(function(S){t.preserveValue||h(),p(S)}),y=Ui(function(){if(typeof t.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Dn.useEffect(function(){y()},[y]),Dn.useEffect(function(){c.current&&v(t.end)},[t.end,v]);var b=r&&t;return Dn.useEffect(function(){r&&c.current&&A()},[A,r,b]),Dn.useEffect(function(){!r&&c.current&&A()},[A,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Dn.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:h,update:p,pauseResume:g,getCountUp:m}):Dn.createElement("span",X_({className:n,ref:l,style:o},i),typeof t.start<"u"?m().formattingFn(t.start):"")},lE=aE.default=cge;aE.useCountUp=$N;const BN=e=>_.useMemo(()=>{const t={};e.forEach(r=>{if(!r.language)return;(Array.isArray(r.language)?r.language:[r.language]).forEach(s=>{const o=s.toLowerCase();t[o]||(t[o]={name:s,count:0}),t[o].count=t[o].count+1})});const n=Object.values(t);return n.sort((r,i)=>i.count-r.count),n},[e]),uge=Ns()?0:10;function DN({onClose:e,closeText:t}){const{register:n}=Vn({onBackspace:e}),[r,i]=$e(e0),{data:s,isLoading:o}=bh(),a=BN(s),l=_.useMemo(()=>a.filter(({name:p,count:g})=>oN(p)&&g>=uge),[a]),c=_.useMemo(()=>a.filter(({name:p})=>!l.find(g=>g.name===p)).reduce((p,{count:g})=>p+g,0),[a,l]),u=l.filter(({name:p})=>!(r!=null&&r.includes(p))).reduce((p,{count:g})=>p+g,0),d=p=>{r===null?i([p]):r.includes(p)?i(r.filter(g=>g!==p)):i([...r,p])};_.useEffect(()=>{if(r===null&&(navigator!=null&&navigator.languages)){let p=new Intl.DisplayNames(["en"],{type:"language"});const g=navigator==null?void 0:navigator.languages.map(A=>{var v;return(v=p.of(A))==null?void 0:v.toLowerCase()}).filter(Boolean),m=l.map(A=>A.name).filter(A=>!g.some(v=>v.includes(A.toLowerCase()))).filter(A=>A!=="English");m.length&&i(m)}},[r,l]);const h=_.useMemo(()=>l.every(p=>r==null?void 0:r.includes(p.name)),[r,l]);return _.useEffect(()=>{r!=null&&r.find(p=>!l.find(g=>g.name===p))&&i(r.filter(p=>l.find(g=>g.name===p)))},[l,r,i]),f.jsxs(ya,{children:[f.jsx("h1",{children:"Select Song Languages"}),f.jsxs(hge,{children:[o&&new Array(6).fill(0).map((p,g)=>f.jsx(Hpe,{variant:"rectangular",width:"100%",height:"10rem",children:f.jsx(IP,{excluded:!0,focused:!1,children:f.jsx(Dc,{language:["English"]})})},g)),l.map(({name:p,count:g})=>{const m=(r==null?void 0:r.includes(p))??!1;return f.jsxs(IP,{excluded:m,...n(`lang-${p}`,()=>d(p)),children:[f.jsx(fge,{children:m?f.jsx(Cm,{}):f.jsx(km,{})}),f.jsxs("span",{children:[f.jsx(pge,{children:p})," (",g," songs)"]}),f.jsx(mge,{excluded:m,children:f.jsx(Dc,{language:[p]})})]},p)}),c>0&&f.jsxs(sA,{children:["and ",f.jsxs("strong",{children:[c," songs"]})," in other languages"]})]}),f.jsxs("h3",{children:["You can always update the selection in ",f.jsx("strong",{children:"Manage Songs"})," menu"]}),f.jsxs(dge,{children:[f.jsx(Te,{...n("close-exclude-languages",e,void 0,!0,{disabled:h||o}),children:t}),f.jsxs(sA,{children:["The list will contain"," ",f.jsx("strong",{children:f.jsx(lE,{duration:1,preserveValue:!0,end:u+c})})," ","songs"]}),h&&f.jsxs(sA,{"data-test":"all-languages-excluded-warning",children:[f.jsx("strong",{children:f.jsx(Ol,{})})," ","You excluded all the languages, pick at least one"]})]})]})}const dge=C("div",{target:"e17pzmm6"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),sA=C("h4",{target:"e17pzmm5"})({name:"2qga7i",styles:"text-align:right"}),fge=C("div",{target:"e17pzmm4"})({name:"18gxnlc",styles:"svg{width:3rem;height:3rem;}"}),hge=C("div",{target:"e17pzmm3"})({name:"fvqkyn",styles:"margin-top:2rem;display:flex;flex-direction:column;gap:1rem"}),pge=C("span",{target:"e17pzmm2"})({name:"1jwmbuq",styles:"transition:300ms"});var gge={name:"byti92",styles:"filter:grayscale(0.6);opacity:0.5"};const mge=C("div",{target:"e17pzmm1"})("transition:300ms;opacity:0.95;",e=>e.excluded?gge:""," position:absolute;bottom:0;right:0;img{width:14rem;height:8rem;object-fit:cover;}overflow:hidden;width:14rem;height:8rem;"),IP=C(Te,{target:"e17pzmm0"})(e=>e.excluded?Ot(e.focused?"":"background: rgba(0, 0, 0, 0.55)",";text-decoration:line-through white;opacity:0.5;",""):""," ",Ne,";display:flex;align-items:center;justify-content:flex-start;gap:2rem;font-size:2.5rem;padding-left:3rem;margin:0;height:8rem;position:relative;width:100%;");function vge(e){const t=oi(),n=()=>t("menu/");return f.jsxs(f.Fragment,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Select Languages | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(qw,{children:f.jsx(DN,{onClose:n,closeText:"Return to Main Menu"})})]})}function FN(){const[e]=$e(zb);_.useEffect(()=>{try{e&&document.body.requestFullscreen().catch(console.info)}catch{}},[])}function yge(){const{width:e,height:t}=xh();return _.useMemo(()=>parseFloat(getComputedStyle(document.documentElement).fontSize),[e,t])}let oA=0;function zN(){_.useEffect(()=>(document.body.classList.add("blockOverflow"),document.documentElement.classList.add("blockOverflow"),oA++,()=>{oA--,oA===0&&(document.body.classList.remove("blockOverflow"),document.documentElement.classList.remove("blockOverflow"))}),[])}var cE={},Age=Xe;Object.defineProperty(cE,"__esModule",{value:!0});var UN=cE.default=void 0,_ge=Age(nt()),bge=f;UN=cE.default=(0,_ge.default)((0,bge.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino");function xge({setFilters:e,filters:t,keyboardControl:n,visible:r,setVisible:i}){const s=_.useRef(null),[o,a]=_.useState(!1),l=h=>{e(p=>({...p,search:h}))};wr("down",()=>{var h;(h=s.current)==null||h.blur()},{enabled:o,enableOnTags:["INPUT"]});const u=h=>{h.stopPropagation(),h.preventDefault(),l(h.key)};wr(T1,h=>{u(h),i(!0)},{enabled:!t.search&&n});const d=_.useCallback(h=>{n&&l(h)},[n]);return Jr(te.remoteSongSearch,d),wr(T1,h=>{var p;u(h),(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),wr("Backspace",h=>{var p;(p=s.current)==null||p.focus()},{enabled:!o&&n},[t.search]),_.useEffect(()=>{o||i(!!t.search)},[o,t.search,i]),!t.search&&!r?null:f.jsx(Sge,{"data-test":"song-list-search",children:f.jsx(wge,{large:!0,children:f.jsx("form",{"data-test":"filters-search-form",onSubmit:h=>{var p;h.preventDefault(),(p=s.current)==null||p.blur()},children:f.jsx(Ru,{onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:h=>{var p;h.key==="Backspace"&&((p=t.search)==null?void 0:p.length)===0&&i(!1)},focused:o,autoFocus:!0,label:"Search",value:t.search??"",onChange:l,ref:s,"data-test":"filters-search"})})})})}const Sge=C("div",{target:"ektgxsz1"})({name:"t46wvs",styles:"background:rgba(0, 0, 0, 0.7);padding:2rem;font-size:3rem;box-sizing:border-box;display:flex;flex-direction:row;gap:2rem;position:fixed;z-index:200;top:4.5rem;left:30rem;right:30rem"}),wge=C("div",{target:"ektgxsz0"})("flex:",e=>e.large?1.5:1,";");function Ege({onRandom:e,setFilters:t,filters:n,keyboardControl:r}){const[i,s]=_.useState(!1),o=()=>{t(a=>({...a,search:""}))};return f.jsxs(f.Fragment,{children:[f.jsxs(kge,{children:[f.jsx(pu,{title:"Search",placement:"left",children:f.jsx(PP,{onClick:()=>i?o():s(!0),"data-test":"search-song-button",children:f.jsx(Nw,{})})}),f.jsx(pu,{title:"Pick random",placement:"left",children:f.jsx(PP,{onClick:e,"data-test":"random-song-button",children:f.jsx(UN,{})})})]}),f.jsx(xge,{setFilters:t,filters:n,visible:i,setVisible:s,keyboardControl:r})]})}const PP=C(us,{target:"eie1eis1"})("box-shadow:inset 0 0 2px 2px ",he.colors.text.active,";background:black;width:7.5rem;height:7.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{width:4.5rem;height:4.5rem;}"),kge=C("div",{target:"eie1eis0"})({name:"1x0sh4s",styles:"pointer-events:none;position:fixed;display:flex;flex-direction:column;align-items:center;justify-content:center;bottom:2.5rem;right:2.5rem;z-index:100;gap:2rem"});function HN({videoId:e,...t}){return f.jsx(Pge,{src:`https://img.youtube.com/vi/${e}/default.jpg`,alt:`Thumbnail image for YouTube video ${e}`,...t})}function Cge({videoId:e,...t}){const n=sce(e)??e,[r,i]=_.useState(!0);_.useLayoutEffect(()=>{i(o=>!o)},[e]);const[s]=$e(xs);return s==="low"?null:f.jsxs(Tge,{...t,children:[f.jsx(RP,{videoId:r?e:n,visible:r}),f.jsx(RP,{videoId:r?n:e,visible:!r}),f.jsx(Ige,{videoId:n})]})}const Tge=C("div",{target:"e1lv5ws3"})({name:"k44s62",styles:"position:relative;overflow:hidden;background:black"}),Ige=C(HN,{target:"e1lv5ws2"})({name:"6dhm9o",styles:"visibility:hidden"}),RP=C(HN,{target:"e1lv5ws1"})("position:absolute;transition:opacity 300ms;opacity:",e=>e.visible?1:0,";"),Pge=C("img",{target:"e1lv5ws0"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"});function Rge(e,t,n="mousedown",r={}){ece(n,i=>{const s=i.target;if(!s||!s.isConnected)return;(Array.isArray(e)?e.filter(a=>!!a.current).every(a=>a.current&&!a.current.contains(s)):e.current&&!e.current.contains(s))&&t(i)},void 0,r)}function Mge({active:e,closePlaylist:t,playlists:n,selectedPlaylist:r,setSelectedPlaylist:i}){const{register:s,focused:o,focusElement:a}=Vn({enabled:e,additionalHelp:{vertical:void 0,"horizontal-vertical":null}}),l=_.useRef(null);return Rge(l,()=>{t()}),Tl({left:()=>t("left"),right:()=>t("right")},e),_.useEffect(()=>{var u;const c=new URLSearchParams((u=global.location)==null?void 0:u.search).get("playlist");c&&a(`playlist-${c}`)},[]),_.useEffect(()=>{var c;if(o){const u=n.find(d=>`playlist-${d.name}`===o);if(u){const d=new URL((c=global.location)==null?void 0:c.href);d.searchParams.set("playlist",u.name),global.history.replaceState(null,"",d.toString()),i(u.name)}}},[o,n]),f.jsx(jge,{"data-test":"song-list-playlists",active:e,ref:l,children:n.map(({Wrapper:c,...u})=>{const d=f.jsx(Oge,{"data-selected":`playlist-${u.name}`===o,active:e,...s(`playlist-${u.name}`,()=>a(`playlist-${u.name}`),void 0,u.name===r),...e?{}:{selected:`playlist-${u.name}`===o},children:u.display??u.name},u.name);return c?f.jsx(c,{active:e,focused:`playlist-${u.name}`===o,children:d},u.name):d})})}const jge=C("div",{target:"emspgv91"})("background:rgba(0, 0, 0, ",e=>e.active?.75:.5,");width:100vh;height:var(--song-sidebar-weight);transform-origin:top right;transform:rotate(-90deg);position:absolute;z-index:200;left:-100vh;top:0;box-sizing:border-box;display:flex;flex-direction:row-reverse;gap:0;h2{",Ne,";margin:0;}"),Oge=C(us,{target:"emspgv90"})("font-size:2.3rem;justify-self:stretch;flex-grow:1;",e=>!e.focused&&e.active&&"background-color: transparent;",";padding:1.5rem 1rem;",e=>e.selected?X3:!e.active&&"opacity: .75;",";"),uE=e=>{const[t,n]=_.useState(null),r=Xc(e),i=async()=>{n(await E3(e))};return _.useEffect(()=>{i()},[r]),Jr(te.songStatStored,i),t},Vge=e=>async(t,n,r,i)=>{const s=Xc(e),o=await E3(e),a=o.scores.map(c=>{if(c.setup.id!==t)return c;const u=c.scores.map(d=>d.name!==r||d.score!==n?d:{name:i.trim(),score:n});return{...c,scores:u}}),l={...o,scores:a};await k3(e,l),te.songScoreUpdated.dispatch(s,l,i.trim())},Lge=JSON.parse(`{
  "af": [
    "Persian Dari",
    "Pashto"
  ],
  "al": [
    "Albanian"
  ],
  "dz": [
    "Arabic",
    "Berber"
  ],
  "ad": [
    "Catalan"
  ],
  "ao": [
    "Portuguese"
  ],
  "ag": [
    "English"
  ],
  "ar": [
    "Spanish"
  ],
  "am": [
    "Armenian"
  ],
  "au": [
    "English"
  ],
  "at": [
    "German"
  ],
  "az": [
    "Azerbaijani"
  ],
  "bs": [
    "English"
  ],
  "bh": [
    "Arabic"
  ],
  "bd": [
    "Bengali"
  ],
  "bb": [
    "English"
  ],
  "by": [
    "Belarusian",
    "Russian"
  ],
  "be": [
    "Dutch",
    "French",
    "German"
  ],
  "bz": [
    "English"
  ],
  "dy": [
    "French"
  ],
  "bt": [
    "Dzongkha"
  ],
  "bo": [
    "Spanish",
    "Aymara",
    "Araona",
    "Baure",
    "Bsiro Chiquitano",
    "Canichana",
    "Cavinea",
    "Cayubaba",
    "Chcobo",
    "Chimn",
    "Ese Ejja",
    "Guaran",
    "Guarasuwe",
    "Guarayu",
    "Itonama",
    "Leco",
    "Machajuyai",
    "Machineri",
    "Maropa",
    "Mojeo",
    "Mojeo",
    "Mor",
    "Mosetn",
    "Movima",
    "Pacawara",
    "Puquina",
    "Quechua",
    "Sirion",
    "Tacana",
    "Tapiet",
    "Toromona",
    "Uru-Chipaya",
    "Weenhayek",
    "Yaminawa",
    "Yuki",
    "Yuracar",
    "Zamuco"
  ],
  "ba": [
    "Bosnian",
      "Croatian",
      "Serbian"
  ],
  "bw": [
    "English"
  ],
  "br": [
    "Portuguese"
  ],
  "bn": [
    "Malay"
  ],
  "bg": [
    "Bulgarian"
  ],
  "hv": [
    "French"
  ],
  "bi": [
    "French",
    "Kirundi",
    "English"
  ],
  "kh": [
    "Khmer"
  ],
  "cm": [
    "English",
    "French"
  ],
  "ca": [
    "English",
    "French"
  ],
  "cv": [
    "Portuguese"
  ],
  "cf": [
    "French",
    "Sango"
  ],
  "td": [
    "Arabic",
    "French"
  ],
  "cl": [
    "Spanish"
  ],
  "cn": [
    "Chinese"
  ],
  "cx": [
    "English",
    "Chinese",
    "Malay"
  ],
  "cc": [
    "English",
    "Cocos Malay"
  ],
  "co": [
    "Spanish"
  ],
  "km": [
    "Arabic",
    "Comorian",
    "French"
  ],
  "cd": [
    "French"
  ],
  "cg": [
    "French"
  ],
  "ck": [
    "English",
    "Cook Islands Mori"
  ],
  "cr": [
    "Spanish"
  ],
  "hr": [
    "Croatian"
  ],
  "cu": [
    "Spanish"
  ],
  "cy": [
    "Turkish"
  ],
  "cz": [
    "Czech",
    "Slovak"
  ],
  "dk": [
    "Danish"
  ],
  "dj": [
    "Arabic",
    "French"
  ],
  "dm": [
    "English"
  ],
  "do": [
    "Spanish"
  ],
  "tl": [
    "Portuguese",
    "Tetum"
  ],
  "ec": [
    "Spanish",
    "Quechua"
  ],
  "eg": [
    "Arabic"
  ],
  "sv": [
    "Spanish"
  ],
  "gq": [
    "French",
    "Portuguese",
    "Spanish"
  ],
  "er": [
    "Tigrinya"
  ],
  "ee": [
    "Estonian"
  ],
  "sz": [
    "English",
    "Swazi"
  ],
  "et": [
    "Afar",
    "Amharic",
    "Oromo",
    "Somali",
    "Tigrinya"
  ],
  "fj": [
    "English",
    "Fijian",
    "Fiji Hindi"
  ],
  "fi": [
    "Finnish",
    "Swedish"
  ],
  "fx": [
    "French"
  ],
  "ga": [
    "French"
  ],
  "gm": [
    "English"
  ],
  "ge": [
    "Ossetian",
    "Russian"
  ],
  "de": [
    "German"
  ],
  "gh": [
    "English"
  ],
  "gr": [
    "Greek"
  ],
  "gd": [
    "English"
  ],
  "gt": [
    "Spanish"
  ],
  "gn": [
    "French"
  ],
  "gw": [
    "Portuguese"
  ],
  "gy": [
    "English"
  ],
  "ht": [
    "French",
    "Creole"
  ],
  "hn": [
    "Spanish"
  ],
  "hu": [
    "Hungarian"
  ],
  "is": [
    "Icelandic"
  ],
  "in": [
    "Hindi",
    "English"
  ],
  "id": [
    "Indonesian"
  ],
  "ir": [
    "Persian"
  ],
  "iq": [
    "Arabic",
    "Kurdish"
  ],
  "ie": [
    "Irish",
    "English"
  ],
  "il": [
    "Hebrew"
  ],
  "it": [
    "Italian"
  ],
  "ci": [
    "French"
  ],
  "jm": [
    "English"
  ],
  "jp": [
    "Japanese"
  ],
  "jo": [
    "Arabic"
  ],
  "kz": [
    "Kazakh",
    "Russian"
  ],
  "ke": [
    "English",
    "Swahili"
  ],
  "ki": [
    "English",
    "Gilbertese"
  ],
  "kp": [
    "Korean"
  ],
  "kr": [
    "Korean"
  ],
  "xk": [
    "Albanian",
    "Serbian"
  ],
  "kw": [
    "Arabic"
  ],
  "kg": [
    "Kyrgyz",
    "Russian"
  ],
  "la": [
    "Lao"
  ],
  "lv": [
    "Latvian"
  ],
  "lb": [
    "Arabic"
  ],
  "ls": [
    "Sotho",
    "English"
  ],
  "lr": [
    "English"
  ],
  "ly": [
    "Arabic"
  ],
  "li": [
    "German"
  ],
  "lt": [
    "Lithuanian"
  ],
  "lu": [
    "French",
    "German",
    "Luxembourgish"
  ],
  "mg": [
    "French",
    "Malagasy"
  ],
  "mw": [
    "English",
    "Chichewa"
  ],
  "my": [
    "Malay"
  ],
  "mv": [
    "Dhivehi"
  ],
  "ml": [
    "Bambara",
    "Bobo",
    "Bozo",
    "Dogon",
    "Fula",
    "Hassaniya",
    "Kassonke",
    "Maninke",
    "Minyanka",
    "Senufo",
    "Songhay",
    "Soninke",
    "Tamasheq"
  ],
  "mt": [
    "Italian"
  ],
  "mh": [
    "English",
    "Marshallese"
  ],
  "mr": [
    "Arabic"
  ],
  "mu": [
    "English",
    "Morisien"
  ],
  "mx": [
    "Spanish"
  ],
  "fm": [
    "English"
  ],
  "md": [
    "Moldovan",
    "Russian",
    "Ukrainian"
  ],
  "mc": [
    "French"
  ],
  "mn": [
    "Mongolian"
  ],
  "me": [
    "Montenegrin"
  ],
  "ma": [
    "Arabic",
    "Berber"
  ],
  "mz": [
    "Portuguese"
  ],
  "mm": [
    "Burmese"
  ],
  "na": [
    "English"
  ],
  "nr": [
    "English",
    "Nauruan"
  ],
  "np": [
    "Nepali"
  ],
  "nl": [
    "Dutch"
  ],
  "nz": [
    "English",
    "Maori"
  ],
  "ni": [
    "Spanish"
  ],
  "ne": [
    "French"
  ],
  "ng": [
    "English"
  ],
  "nu": [
    "English",
    "Niuean"
  ],
  "nf": [
    "English",
    "Norfuk"
  ],
  "mk": [
    "Macedonian",
    "Albanian"
  ],
  "no": [
    "Norwegian",
    "Sami"
  ],
  "om": [
    "Arabic"
  ],
  "pk": [
    "Urdu",
    "English"
  ],
  "pw": [
    "English",
    "Palauan"
  ],
  "ps": [
    "Arabic"
  ],
  "pa": [
    "Spanish"
  ],
  "pg": [
    "English",
    "Hiri Motu",
    "Tok Pisin"
  ],
  "py": [
    "Spanish",
    "Guaran"
  ],
  "pe": [
    "Spanish",
    "Quechua",
    "Aymara",
    "Ashninka"
  ],
  "ph": [
    "Filipino",
    "English"
  ],
  "pl": [
    "Polish"
  ],
  "pt": [
    "Portuguese"
  ],
  "qa": [
    "Arabic"
  ],
  "ro": [
    "Romanian"
  ],
  "su": [
    "Russian"
  ],
  "rw": [
    "English",
    "French",
    "Kinyarwanda",
    "Swahili"
  ],
  "eh": [
    "Arabic"
  ],
  "kn": [
    "English"
  ],
  "lc": [
    "English"
  ],
  "vc": [
    "English"
  ],
  "ws": [
    "English",
    "Samoan"
  ],
  "sm": [
    "Italian"
  ],
  "st": [
    "Portuguese"
  ],
  "sa": [
    "Arabic"
  ],
  "sn": [
    "French"
  ],
  "yu": [
    "Serbian"
  ],
  "sc": [
    "English",
    "French",
    "Creole"
  ],
  "sl": [
    "English"
  ],
  "sg": [
    "English",
    "Malay",
    "Chinese",
    "Tamil"
  ],
  "sk": [
    "Slovak"
  ],
  "si": [
    "Slovene"
  ],
  "sb": [
    "English"
  ],
  "so": [
    "Arabic",
    "English",
    "Somali"
  ],
  "za": [
    "Afrikaans",
    "English",
    "Ndebele",
    "Sotho",
    "Swazi",
    "Tsonga",
    "Tswana",
    "Venda",
    "Xhosa",
    "Zulu"
  ],
  "ss": [
    "English"
  ],
  "es": [
    "Spanish"
  ],
  "lk": [
    "Sinhala",
    "Tamil"
  ],
  "sd": [
    "Arabic",
    "English"
  ],
  "sr": [
    "Dutch"
  ],
  "se": [
    "Swedish"
  ],
  "ch": [
    "French",
    "German",
    "Italian",
    "Romansh"
  ],
  "sy": [
    "Arabic"
  ],
  "tw": [
    "Chinese"
  ],
  "tj": [
    "Tajik"
  ],
  "tz": [
    "Swahili",
    "English"
  ],
  "th": [
    "Thai"
  ],
  "tg": [
    "French"
  ],
  "tk": [
    "English",
    "Tokelauan"
  ],
  "to": [
    "English",
    "Tongan"
  ],
  "tt": [
    "English"
  ],
  "tn": [
    "Arabic"
  ],
  "tr": [
    "Turkish"
  ],
  "tm": [
    "Turkmen"
  ],
  "tv": [
    "Tuvaluan",
    "English"
  ],
  "ug": [
    "English",
    "Swahili"
  ],
  "ua": [
    "Ukrainian"
  ],
  "ae": [
    "Arabic"
  ],
  "uk": [
    "English"
  ],
  "us": [
    "English"
  ],
  "uy": [
    "Spanish"
  ],
  "uz": [
    "Uzbek"
  ],
  "vu": [
    "English",
    "French",
    "Bislama"
  ],
  "va": [
    "Italian"
  ],
  "ve": [
    "Spanish"
  ],
  "vn": [
    "Vietnamese"
  ],
  "ye": [
    "Arabic"
  ],
  "zm": [
    "English"
  ],
  "zw": [
    "Chewa",
    "Chibarwe",
    "English",
    "Kalanga",
    "Khoisan",
    "Nambya",
    "Ndau",
    "Ndebele",
    "Shangani",
    "Shona",
    "Sotho",
    "Tonga",
    "Tswana",
    "Venda",
    "Xhosa"
  ]
}`),Nge=["US","GB"];function $ge({song:e,forceFlag:t,...n}){const r=e.language[0],i=_.useMemo(()=>{var s;return e.artistOrigin?((s=Lge[e.artistOrigin.toLowerCase()])==null?void 0:s.includes(r))??t:!1},[e.artistOrigin,r,t]);return f.jsx(f.Fragment,{children:t&&e.artistOrigin?f.jsx(Dc,{isocode:e.artistOrigin,...n}):i&&!Nge.includes(e.artistOrigin)?f.jsx(Dc,{isocode:e.artistOrigin,...n}):e.language[0]!=="English"?f.jsx(Dc,{language:e.language,...n}):null})}var dE={},Bge=Xe;Object.defineProperty(dE,"__esModule",{value:!0});var qN=dE.default=void 0,Dge=Bge(nt()),Fge=f;qN=dE.default=(0,Dge.default)((0,Fge.jsx)("path",{d:"M7.25 12.5 4.75 9H3.5v6h1.25v-3.5L7.3 15h1.2V9H7.25zM9.5 15h4v-1.25H11v-1.11h2.5v-1.26H11v-1.12h2.5V9h-4zm9.75-6v4.5h-1.12V9.99h-1.25v3.52h-1.13V9H14.5v5c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V9z"}),"FiberNewOutlined");var fE={},zge=Xe;Object.defineProperty(fE,"__esModule",{value:!0});var GN=fE.default=void 0,Uge=zge(nt()),Hge=f;GN=fE.default=(0,Uge.default)((0,Hge.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function qge(e){return Xs(e.edition??"").startsWith("esc")}const WN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='125.33'%20height='131.46'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cpath%20stroke='black'%20fill='white'%20d='m12.726%2058.556c0.31803-28.513%2015.157-37.437%2023.237-37.437%2011.285%200%2015.946%208.6151%2016.707%2012.429%200.76116%203.8111%205.0324%206.8595%206.4047%200.60798%201.3734-6.2515%2014.649-25.315%2030.966-25.315%2014.943%200%2020.119%2015.41%2019.671%2028.518-1.2228%2035.683-47.19%2064.158-53.239%2082.143-5.3875-10.891-44.126-26.634-43.746-60.946zm82.652-58.556c-13.42%200-29.29%209.9111-38.896%2026.382-2.592-5.9483-11.827-12.43-22.805-12.43-8.8462%200-33.676%2011.056-33.676%2046.74%200%2046.052%2046.593%2055.508%2056.011%2069.825%200.64721%200.98433%202.7319%201.728%203.5276-0.62388%207.5157-22.18%2065.791-47.242%2065.791-92.379-5.3e-4%20-25.314-16.536-37.513-29.955-37.513z'%20stroke-width='.53006'/%3e%3c/svg%3e",Gge=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,Z_=1/0,aA=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),MP="eexxaacctt",Wge="A-Z",Yge="a-z",id=(e,t,n)=>e.replace(Wge,t).replace(Yge,n),jP={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:Z_,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,Z_],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:i,terms:s,interLft2:o,interLft1:a,start:l,intraIns:c,interIns:u}=e;return r.map((d,h)=>h).sort((d,h)=>i[h]-i[d]||c[d]-c[h]||s[h]+o[h]+.5*a[h]-(s[d]+o[d]+.5*a[d])||u[d]-u[h]||l[d]-l[h]||Gge(t[r[d]],t[r[h]]))}},lA=(e,t)=>t==0?"":t==1?e+"??":t==Z_?e+"*?":e+`{0,${t}}?`,OP="(?:\\b|_)";function yv(e){e=Object.assign({},jP,e);let{unicode:t,interLft:n,interRgt:r,intraMode:i,intraSlice:s,intraIns:o,intraSub:a,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:h,intraBound:p,intraChars:g}=e;o??(o=i),a??(a=i),l??(l=i),c??(c=i);let m=e.letters??e.alpha;if(m!=null){let $=m.toLocaleUpperCase(),q=m.toLocaleLowerCase();h=id(h,$,q),d=id(d,$,q),p=id(p,$,q),g=id(g,$,q),u=id(u,$,q)}let A=t?"u":"";const v='".+?"',y=new RegExp(v,"gi"+A),b=new RegExp(`(?:\\s+|^)-(?:${g}+|${v})`,"gi"+A);let{intraRules:S}=e;S==null&&(S=$=>{let q=jP.intraSlice,ne=0,V=0,ce=0,Z=0;if(/[^\d]/.test($)){let de=$.length;de<=4?de>=3&&(ce=Math.min(l,1),de==4&&(ne=Math.min(o,1))):(q=s,ne=o,V=a,ce=l,Z=c)}return{intraSlice:q,intraIns:ne,intraSub:V,intraTrn:ce,intraDel:Z}});let x=!!d,w=new RegExp(d,"g"+A),E=new RegExp(h,"g"+A),I=new RegExp("^"+h+"|"+h+"$","g"+A),L=new RegExp(u,"gi"+A);const j=$=>{let q=[];$=$.replace(y,V=>(q.push(V),MP)),$=$.replace(I,"").toLocaleLowerCase(),x&&($=$.replace(w,V=>V[0]+" "+V[1]));let ne=0;return $.split(E).filter(V=>V!="").map(V=>V===MP?q[ne++]:V)},B=/[^\d]+|\d+/g,Q=($,q=0,ne=!1)=>{let V=j($);if(V.length==0)return[];let ce=Array(V.length).fill("");V=V.map((pe,Ae)=>pe.replace(L,qe=>(ce[Ae]=qe,"")));let Z;if(i==1)Z=V.map((pe,Ae)=>{if(pe[0]==='"')return aA(pe.slice(1,-1));let qe="";for(let Ve of pe.matchAll(B)){let Ie=Ve[0],{intraSlice:_e,intraIns:Ue,intraSub:Ge,intraTrn:He,intraDel:rt}=S(Ie);if(Ue+Ge+He+rt==0)qe+=Ie+ce[Ae];else{let[it,Nt]=_e,At=Ie.slice(0,it),Gt=Ie.slice(Nt),st=Ie.slice(it,Nt);Ue==1&&At.length==1&&At!=st[0]&&(At+="(?!"+At+")");let _t=st.length,wt=[Ie];if(Ge)for(let Ye=0;Ye<_t;Ye++)wt.push(At+st.slice(0,Ye)+g+st.slice(Ye+1)+Gt);if(He)for(let Ye=0;Ye<_t-1;Ye++)st[Ye]!=st[Ye+1]&&wt.push(At+st.slice(0,Ye)+st[Ye+1]+st[Ye]+st.slice(Ye+2)+Gt);if(rt)for(let Ye=0;Ye<_t;Ye++)wt.push(At+st.slice(0,Ye+1)+"?"+st.slice(Ye+1)+Gt);if(Ue){let Ye=lA(g,1);for(let $t=0;$t<_t;$t++)wt.push(At+st.slice(0,$t)+Ye+st.slice($t)+Gt)}qe+="(?:"+wt.join("|")+")"+ce[Ae]}}return qe});else{let pe=lA(g,o);q==2&&o>0&&(pe=")("+pe+")("),Z=V.map((Ae,qe)=>Ae[0]==='"'?aA(Ae.slice(1,-1)):Ae.split("").map((Ve,Ie,_e)=>(o==1&&Ie==0&&_e.length>1&&Ve!=_e[Ie+1]&&(Ve+="(?!"+Ve+")"),Ve)).join(pe)+ce[qe])}let de=n==2?OP:"",we=r==2?OP:"",Ee=we+lA(e.interChars,e.interIns)+de;return q>0?ne?Z=de+"("+Z.join(")"+we+"|"+de+"(")+")"+we:(Z="("+Z.join(")("+Ee+")(")+")",Z="(.??"+de+")"+Z+"("+we+".*)"):(Z=Z.join(Ee),Z=de+Z+we),[new RegExp(Z,"i"+A),V,ce]},M=($,q,ne)=>{let[V]=Q(q);if(V==null)return null;let ce=[];if(ne!=null)for(let Z=0;Z<ne.length;Z++){let de=ne[Z];V.test($[de])&&ce.push(de)}else for(let Z=0;Z<$.length;Z++)V.test($[Z])&&ce.push(Z);return ce};let U=!!p,P=new RegExp(h,A),T=new RegExp(p,A);const z=($,q,ne)=>{let[V,ce,Z]=Q(ne,1),[de]=Q(ne,2),we=ce.length,Ee=$.length,pe=Array(Ee).fill(0),Ae={idx:Array(Ee),start:pe.slice(),chars:pe.slice(),terms:pe.slice(),interIns:pe.slice(),intraIns:pe.slice(),interLft2:pe.slice(),interRgt2:pe.slice(),interLft1:pe.slice(),interRgt1:pe.slice(),ranges:Array(Ee)},qe=n==1||r==1,Ve=0;for(let Ie=0;Ie<$.length;Ie++){let _e=q[$[Ie]],Ue=_e.match(V),Ge=Ue.index+Ue[1].length,He=Ge,rt=!1,it=0,Nt=0,At=0,Gt=0,st=0,_t=0,wt=0,Ye=0,$t=[];for(let ye=0,We=2;ye<we;ye++,We+=2){let Pn=Ue[We].toLocaleLowerCase(),bt=ce[ye],vn=bt[0]=='"'?bt.slice(1,-1):bt+Z[ye],on=vn.length,an=Pn.length,Zt=Pn==vn;if(!Zt&&Ue[We+1].length>=on){let ht=Ue[We+1].toLocaleLowerCase().indexOf(vn);ht>-1&&($t.push(He,an,ht,on),He+=O(Ue,We,ht,on),Pn=vn,an=on,Zt=!0,ye==0&&(Ge=He))}if(qe||Zt){let ht=He-1,ur=He+an,Li=!1,er=!1;if(ht==-1||P.test(_e[ht]))Zt&&it++,Li=!0;else{if(n==2){rt=!0;break}if(U&&T.test(_e[ht]+_e[ht+1]))Zt&&Nt++,Li=!0;else if(n==1){let To=Ue[We+1],Ni=He+an;if(To.length>=on){let Lr=0,$i=!1,Vl=new RegExp(vn,"ig"+A),Ll;for(;Ll=Vl.exec(To);){Lr=Ll.index;let Nl=Ni+Lr,_a=Nl-1;if(_a==-1||P.test(_e[_a])){it++,$i=!0;break}else if(T.test(_e[_a]+_e[Nl])){Nt++,$i=!0;break}}$i&&(Li=!0,$t.push(He,an,Lr,on),He+=O(Ue,We,Lr,on),Pn=vn,an=on,Zt=!0,ye==0&&(Ge=He))}if(!Li){rt=!0;break}}}if(ur==_e.length||P.test(_e[ur]))Zt&&At++,er=!0;else{if(r==2){rt=!0;break}if(U&&T.test(_e[ur-1]+_e[ur]))Zt&&Gt++,er=!0;else if(r==1){rt=!0;break}}Zt&&(st+=on,Li&&er&&_t++)}if(an>on&&(Ye+=an-on),ye>0&&(wt+=Ue[We-1].length),!e.intraFilt(vn,Pn,He)){rt=!0;break}ye<we-1&&(He+=an+Ue[We+1].length)}if(!rt){Ae.idx[Ve]=$[Ie],Ae.interLft2[Ve]=it,Ae.interLft1[Ve]=Nt,Ae.interRgt2[Ve]=At,Ae.interRgt1[Ve]=Gt,Ae.chars[Ve]=st,Ae.terms[Ve]=_t,Ae.interIns[Ve]=wt,Ae.intraIns[Ve]=Ye,Ae.start[Ve]=Ge;let ye=_e.match(de),We=ye.index+ye[1].length,Pn=$t.length,bt=Pn>0?0:1/0,vn=Pn-4;for(let ht=2;ht<ye.length;){let ur=ye[ht].length;if(bt<=vn&&$t[bt]==We){let Li=$t[bt+1],er=$t[bt+2],To=$t[bt+3],Ni=ht,Lr="";for(let $i=0;$i<Li;Ni++)Lr+=ye[Ni],$i+=ye[Ni].length;ye.splice(ht,Ni-ht,Lr),We+=O(ye,ht,er,To),bt+=4}else We+=ur,ht++}We=ye.index+ye[1].length;let on=Ae.ranges[Ve]=[],an=We,Zt=We;for(let ht=2;ht<ye.length;ht++){let ur=ye[ht].length;We+=ur,ht%2==0?Zt=We:ur>0&&(on.push(an,Zt),an=Zt=We)}Zt>an&&on.push(an,Zt),Ve++}}if(Ve<$.length)for(let Ie in Ae)Ae[Ie]=Ae[Ie].slice(0,Ve);return Ae},O=($,q,ne,V)=>{let ce=$[q]+$[q+1].slice(0,ne);return $[q-1]+=ce,$[q]=$[q+1].slice(ne,ne+V),$[q+1]=$[q+1].slice(ne+V),ce.length},N=5,D=($,q,ne,V=1e3,ce)=>{ne=ne?ne===!0?N:ne:0;let Z=null,de=null,we=[];q=q.replace(b,Ie=>{let _e=Ie.trim().slice(1);return _e[0]==='"'&&(_e=aA(_e.slice(1,-1))),we.push(_e),""});let Ee=j(q),pe;if(we.length>0){if(pe=new RegExp(we.join("|"),"i"+A),Ee.length==0){let Ie=[];for(let _e=0;_e<$.length;_e++)pe.test($[_e])||Ie.push(_e);return[Ie,null,null]}}else if(Ee.length==0)return[null,null,null];if(ne>0){let Ie=j(q);if(Ie.length>1){let _e=Ie.slice().sort((Ge,He)=>He.length-Ge.length);for(let Ge=0;Ge<_e.length;Ge++){if((ce==null?void 0:ce.length)==0)return[[],null,null];ce=M($,_e[Ge],ce)}if(Ie.length>ne)return[ce,null,null];Z=YN(Ie).map(Ge=>Ge.join(" ")),de=[];let Ue=new Set;for(let Ge=0;Ge<Z.length;Ge++)if(Ue.size<ce.length){let He=ce.filter(it=>!Ue.has(it)),rt=M($,Z[Ge],He);for(let it=0;it<rt.length;it++)Ue.add(rt[it]);de.push(rt)}else de.push([])}}Z==null&&(Z=[q],de=[(ce==null?void 0:ce.length)>0?ce:M($,q)]);let Ae=null,qe=null;if(we.length>0&&(de=de.map(Ie=>Ie.filter(_e=>!pe.test($[_e])))),de.reduce((Ie,_e)=>Ie+_e.length,0)<=V){Ae={},qe=[];for(let Ie=0;Ie<de.length;Ie++){let _e=de[Ie];if(_e==null||_e.length==0)continue;let Ue=Z[Ie],Ge=z(_e,$,Ue),He=e.sort(Ge,$,Ue);if(Ie>0)for(let rt=0;rt<He.length;rt++)He[rt]+=qe.length;for(let rt in Ge)Ae[rt]=(Ae[rt]??[]).concat(Ge[rt]);qe=qe.concat(He)}}return[[].concat(...de),Ae,qe]};return{search:(...$)=>D(...$),split:j,filter:M,info:z,sort:e.sort}}const Kge=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let s in e)e[s].split("").forEach(o=>{n+=o,t.set(o,s)});let r=new RegExp(`[${n}]`,"g"),i=s=>t.get(s);return s=>{if(typeof s=="string")return s.replace(r,i);let o=Array(s.length);for(let a=0;a<s.length;a++)o[a]=s[a].replace(r,i);return o}})();function YN(e){e=e.slice();let t=e.length,n=[e.slice()],r=new Array(t).fill(0),i=1,s,o;for(;i<t;)r[i]<i?(s=i%2&&r[i],o=e[i],e[i]=e[s],e[s]=o,++r[i],i=1,n.push(e.slice())):(r[i]=0,++i);return n}const Qge=(e,t)=>t?`<mark>${e}</mark>`:e,Jge=(e,t)=>e+t;function Xge(e,t,n=Qge,r="",i=Jge){r=i(r,n(e.substring(0,t[0]),!1))??r;for(let s=0;s<t.length;s+=2){let o=t[s],a=t[s+1];r=i(r,n(e.substring(o,a),!0))??r,s<t.length-3&&(r=i(r,n(e.substring(t[s+1],t[s+2]),!1))??r)}return r=i(r,n(e.substring(t[t.length-1]),!1))??r,r}yv.latinize=Kge;yv.permute=e=>YN([...Array(e.length).keys()]).sort((n,r)=>{for(let i=0;i<n.length;i++)if(n[i]!=r[i])return n[i]-r[i];return 0}).map(n=>n.map(r=>e[r]));yv.highlight=Xge;const Zge=(e,t,n)=>{const r=BN(e);return _.useMemo(()=>n?[]:[{name:"Selection",Wrapper:({children:a,active:l,focused:c})=>f.jsx(roe,{...l&&c?{open:!0}:{},oneTime:!1,timeoutMs:15e3,dismissKey:"selection-playlist",placement:"right",title:f.jsxs(f.Fragment,{children:["A combination of songs you might like and popular with other players.",f.jsx("br",{}),f.jsx("br",{})," ",f.jsx("strong",{children:"Search"})," is performed across all the songs."]}),children:a}),display:f.jsxs("span",{children:[f.jsx("strong",{children:""}),"Selection",f.jsx("strong",{children:""})]}),filters:{specificSongs:t}},{name:"All",filters:{}},r[0]?{name:r[0].name,filters:{language:r[0].name}}:null,r[1]?{name:r[1].name,filters:{language:r[1].name}}:null,{name:"Oldies",filters:{yearBefore:1995}},{name:"Modern",filters:{yearAfter:1995}},{name:"Duets",filters:{duet:!0}},{name:"New",filters:{recentlyUpdated:!0}}].filter(a=>a!==null),[r,n,t])},eme=250,tme=750;function nme(e){const t=YI(async()=>(await fetch("/mostPopularSongs.json")).json(),[]),n=YI(async()=>_W(),[]),r=_.useMemo(()=>Rm.recentlyUpdated(e),[e]).map(l=>l.id),[i]=$e(e0),s=t.loading||n.loading||!e.length,o=_.useMemo(()=>{if(s)return;const l=Object.keys(n.value).filter(g=>n.value[g].scores.some(m=>(m.progress??0)>.8)),c=Object.keys(t.value).filter(g=>!(i!=null&&i.includes(g))),u=[...new Set([...c,...i??[]])],d=e.filter(g=>!u.some(m=>g.language.includes(m))||g.local).map(g=>g.id).concat(...l),h=Math.max(eme,tme-Math.round(d.length/1.75)),p=c.map(g=>t.value[g].slice(0,h)).flat();return{popular:[...new Set([...l,...p,...d,...r])]}},[i,s,t.value,e,n.value]),a=_.useMemo(()=>({popular:[]}),[]);return{value:o??a,loading:s}}const VP=e=>Xs((e==null?void 0:e.search)??"").length>2,LP={},rme=e=>{const t=/[^a-zA-Z]/;return{name:isFinite(+e.artist[0])||t.test(e.artist[0])?"0-9":e.artist[0].toUpperCase()}},Rm={language:(e,t)=>t===""?e:e.filter(n=>n.language.includes(t)),excludeLanguages:(e,t=[],n)=>t.length===0||VP(n)||n.edition==="esc"?e:e.filter(r=>!r.language.every(i=>t.includes(i))),search:(e,t)=>{const n=Xs(t);if(n.length>0){const r=new yv({}),[,i,s]=r.search(e.map(o=>`${Xs(o.artist)} ${Xs(o.title)}`),t);if(s&&i)return s.map(o=>e[i.idx[o]])}return n.length>0?e.filter(r=>r.search.includes(n)):e},duet:(e,t)=>t===null?e:e.filter(n=>t?n.tracksCount>1:n.tracksCount===1),yearBefore:(e,t)=>t?e.filter(n=>Number(n.year)<t):e,yearAfter:(e,t)=>t?e.filter(n=>Number(n.year)>=t):e,edition:(e,t)=>Xs(t).length?e.filter(r=>Xs(r.edition??"").includes(t)):e,recentlyUpdated:e=>{const t=Xi().subtract(31,"days");return e.filter(n=>n.lastUpdate&&Xi(n.lastUpdate).isAfter(t))},specificSongs:(e,t,n)=>VP(n)?e:e.filter(r=>t.includes(r.id))},NP=(e,t)=>Object.entries(t).filter(n=>n[0]in Rm).reduce((n,[r,i])=>Rm[r](n,i,t,e),e),ime=(e,t,n)=>{var p;const[r]=$e(e0),i=_.useMemo(()=>NP(e,{excludeLanguages:r??[]}),[e,r]),s=Zge(i,t,n),[o,a]=_.useState(new URLSearchParams((p=global.location)==null?void 0:p.search).get("playlist")??null),[l,c]=_.useState(LP);_.useEffect(()=>{c(LP)},[o]);const u=_.useDeferredValue(l),d=s.find(g=>g.name===o)??s[0],h=_.useMemo(()=>NP(e,{...(d==null?void 0:d.filters)??{},...u,excludeLanguages:r??[]}),[e,u,r,d]);return{filters:l,filteredList:h,setFilters:c,selectedPlaylist:o,setSelectedPlaylist:a,playlists:s,playlist:d}};function sme(){const e=bh(),{value:{popular:t},loading:n}=nme(e.data),r=e.isLoading||n,{filters:i,filteredList:s,setFilters:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c,playlist:u}=ime(e.data,t,r);return{groupedSongList:_.useMemo(()=>{var p;if(s.length===0)return[];const h=[];if(i.search)return h.push({name:"Search results",songs:s.map((g,m)=>({index:m,song:g,isPopular:t.includes(g.id)}))}),h;{(u!=null&&u.sortingFn?[...s].sort(u.sortingFn):s).forEach(A=>{try{const{name:v,...y}=((u==null?void 0:u.groupData)??rme)(A);let b=h.find(S=>S.name===v);b||(b={name:v,songs:[],...y},h.push(b)),b.songs.push({index:s.indexOf(A),song:A,isPopular:t.includes(A.id)})}catch(v){console.error(v),Ls(v)}});const m=((p=u==null?void 0:u.postGrouping)==null?void 0:p.call(u,h))??h;if(!(u!=null&&u.hideNew)){const A=s.filter(v=>v.isNew);A.length&&A.length<50&&m.unshift({name:"New",isNew:!0,songs:A.map(v=>({song:v,index:s.indexOf(v),isPopular:t.includes(v.id)}))})}return m}},[s,i.search,t,u]),songList:s,filters:i,setFilters:o,isLoading:r,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const ome=e=>f.jsxs(lme,{children:[e.song.tracksCount>1&&f.jsxs(ume,{"data-test":"multitrack-indicator",children:[f.jsx(Qd,{})," Duet"]}),f.jsx(ame,{song:e.song,isPopular:e.isPopular,focused:!!e.video})]}),ame=({song:e,isPopular:t,focused:n})=>{var l,c,u,d;const r=_.useMemo(()=>Rm.recentlyUpdated([e]).length>0,[e]),i=qge(e),s=uE(e),o=((c=(l=s==null?void 0:s.scores)==null?void 0:l.at(-1))==null?void 0:c.date)??!1,a=o&&Xi(o).isAfter(Xi().subtract(1,"days"));return s!=null&&s.plays?f.jsx(QN,{"data-test":"song-stat-indicator",children:a?"Played today":f.jsx(f.Fragment,{children:n?f.jsxs(f.Fragment,{children:["Played ",s.plays," time",s.plays>1&&"s"]}):s.plays})}):i?f.jsxs(uA,{white:!0,children:[f.jsx(cA,{children:n?(u=e.edition)==null?void 0:u.replace("ESC","Eurovision"):(d=e.edition)==null?void 0:d.replace("ESC ","")}),f.jsx(cme,{src:WN,alt:e.edition})]}):r?f.jsx(uA,{white:!0,children:n?f.jsx(cA,{children:"Added recently"}):f.jsx(qN,{})}):t&&e.language.includes("English")?f.jsx(f.Fragment,{children:f.jsxs(uA,{children:[n&&f.jsx(cA,{children:"Popular"}),f.jsx(GN,{})]})}):null},cA=C("div",{target:"enamf7r6"})({name:"eh2bdr",styles:"padding:0 0.5rem;line-height:0;margin-top:0.2rem;&+svg{margin-left:-0.25rem;}"}),lme=C("div",{target:"enamf7r5"})({name:"67oilw",styles:"position:absolute;top:0.5rem;left:0;padding:0 0.5rem;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;width:100%"}),KN=C("div",{target:"enamf7r4"})({name:"1utw6sa",styles:"height:2.75rem;min-width:2.75rem;box-sizing:border-box;color:white;font-size:1.4rem;display:flex;align-items:center;justify-content:center;text-transform:uppercase;background:rgba(0, 0, 0, 0.75);border-radius:0.5rem"}),uA=C(KN,{target:"enamf7r3"})("overflow:hidden;display:flex;align-items:center;justify-content:center;svg,img{fill:",e=>e.white?"white":he.colors.text.active,";width:2.5rem;height:2.5rem;}"),cme=C("img",{target:"enamf7r2"})({name:"1pr315k",styles:"padding:0.35rem;margin:0 0.15rem 0 -0.35rem;box-sizing:border-box"}),QN=C(KN,{target:"enamf7r1"})({name:"2ycp6t",styles:"padding:0 1rem"}),ume=C(QN,{target:"enamf7r0"})({name:"1k65tge",styles:"margin-right:auto;svg{width:1.75rem;height:1.75rem;}"}),JN=({song:e,focused:t,video:n,children:r,index:i,groupLetter:s,handleClick:o,isPopular:a,background:l=!0,expanded:c=!1,forceFlag:u=!1,...d})=>{const h=_.useCallback(()=>o?o(i,s):void 0,[o,i,s]);return f.jsxs(pme,{...d,onClick:o?h:void 0,children:[l&&f.jsx(gme,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`},focused:t,expanded:c}),f.jsxs(hme,{expanded:c,children:[!c&&f.jsx(ome,{song:e,isPopular:a,video:n}),f.jsx(hE,{expanded:c,children:e.artist}),f.jsx(Av,{expanded:c,children:e.title}),f.jsxs(XN,{expanded:c,children:[c&&f.jsxs(f.Fragment,{children:[e.author&&f.jsxs(e$,{expanded:c,children:["by",e.authorUrl?f.jsx("a",{href:e.authorUrl,target:"_blank",rel:"noreferrer",children:e.author}):e.author]}),f.jsx(mme,{song:e})]}),!c&&f.jsx(dme,{song:e,forceFlag:u})]})]}),r,n]})},dme=C($ge,{target:"e1ornw2x8"})({name:"1152n88",styles:"height:2.75rem;object-fit:cover;border-top-right-radius:1rem;border-bottom-left-radius:1rem;position:absolute;z-index:-1;left:0rem;bottom:0rem;opacity:0.95"}),XN=C("div",{target:"e1ornw2x7"})({name:"1dgv8bf",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start"});var fme={name:"1u0tp1t",styles:"align-items:flex-start;justify-content:flex-start"};const hme=C("div",{target:"e1ornw2x6"})("width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-end;z-index:1;box-sizing:border-box;flex-direction:column;",e=>e.expanded&&fme,";"),pme=C("div",{target:"e1ornw2x5"})({name:"1s4n252",styles:"font-size:4.5rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;position:relative;padding:0.5rem;border:0.1rem black solid;border-radius:1rem"}),gme=C("div",{target:"e1ornw2x4"})("background-color:#2b2b2b;",e=>!e.expanded&&"border-radius: 1rem;"," position:absolute;z-index:-1;inset:0;",e=>e.theme.graphicSetting==="high"?Ot("background-size:",e.focused?100:110,"%;",e.focused?"":"filter: grayscale(90%);"," ",e.expanded?"filter: blur(10px);":""," transition:300ms;opacity:",e.focused?1:.8,";",""):Ot("background-size:100%;opacity:",e.focused?1:.6,";","")," background-position:center center;"),ZN=C("span",{target:"e1ornw2x3"})("background:rgba(0, 0, 0, 0.7);width:auto;display:inline-block;padding:0.5rem;",Ne,";text-align:right;font-size:",({expanded:e})=>e?"6rem":"2.7rem",";"),hE=C(ZN,{target:"e1ornw2x2"})("color:",he.colors.text.active,";"),Av=C(ZN,{target:"e1ornw2x1"})("margin-top:",e=>e.expanded?"1.5rem":"0.5rem",";color:white;"),e$=C(Av,{target:"e1ornw2x0"})({name:"5twmqz",styles:"font-size:3rem;margin-top:3rem"}),mme=({song:e})=>{const t=uE(e);return f.jsx(e$,{children:t!=null&&t.plays?`Played ${t.plays} time${t.plays>1?"s":""}`:"Never played yet"})};function vme({groupedSongList:e,onScrollToGroup:t,container:n}){const[r,i]=_.useState([]);return _.useEffect(()=>{const s=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target.getAttribute("data-group-name");l.isIntersecting?i(u=>[...u,c]):i(u=>u.filter(d=>d!==c))})}),o=new MutationObserver(()=>{const a=document.querySelectorAll("[data-group-name]");s.disconnect(),i([]),a.forEach(l=>{s.observe(l)})});if(n)return o.observe(n,{childList:!0,subtree:!0}),()=>{o.disconnect(),i([]),s.disconnect()}},[e,n]),f.jsx(f.Fragment,{children:f.jsx(yme,{children:e.map(s=>{const o=r.includes(s.name);return f.jsx(Ame,{active:o,onClick:()=>t(s),"data-active":o,"data-test":`group-navigation-${s.name}`,children:s.displayShort??s.name},s.name)})})})}const yme=C("div",{target:"e131hflw1"})({name:"191ly3l",styles:"position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;top:0;left:var(--song-sidebar-weight);padding:1rem 0 1.5rem 2rem;width:100%;z-index:100;gap:1rem;background:rgba(0, 0, 0, 0.75)"}),Ame=C(us,{target:"e131hflw0"})("border:none;cursor:pointer;",Ne,";display:inline-flex;align-items:center;justify-content:center;height:3.3rem;padding:0.5rem 1.25rem;font-size:2.3rem;z-index:1;color:",he.colors.text.default,";background:",e=>e.active?he.colors.lines.star.stroke:"rgba(0, 0, 0, 0.7)",";"),$P={[mr.DUEL]:"Duel",[mr.PASS_THE_MIC]:"Pass The Mic",[mr.CO_OP]:"Cooperation"},dA=["Hard","Medium","Easy"],_me=Cw("song_settings-game_mode-v3"),bme=Cw("song_settings-tolerance-v2");function xme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=_me(null),o=i??(e.tracksCount>1?mr.CO_OP:mr.DUEL),[a,l]=bme(1),c=()=>{const p={id:Fg(),players:[],mode:o,tolerance:a+1};t(p)},u=()=>{s(Za(Object.values(mr),o))},d=()=>l(p=>Ah(dA,p,-1)),{register:h}=Vn({enabled:n,onBackspace:r});return f.jsxs(f.Fragment,{children:[f.jsx(BP,{...h("difficulty-setting",d,"Change difficulty"),label:"Difficulty",value:dA[a],"data-test-value":dA[a]}),f.jsx(BP,{...h("game-mode-setting",u,"Change mode"),label:"Mode",value:$P[o],"data-test-value":$P[o]}),f.jsxs(wme,{children:[o===mr.DUEL&&"Face off against each other - person that earns more points wins.",o===mr.CO_OP&&"Join forces and sing together - your points will be added up to a single pool.",o===mr.PASS_THE_MIC&&f.jsxs(f.Fragment,{children:["For more than 2 players - split into groups and pass the microphone within the group when prompted with"," ",f.jsx(hv,{})," symbol."]})]}),f.jsx(Sme,{...h("next-step-button",c,void 0,!0),children:"Next "})]})}const Sme=C(us,{target:"ews4mmz2"})({name:"sr8dp2",styles:"padding:0.5rem 9rem;font-size:4.3rem;width:50rem"}),wme=C("h3",{target:"ews4mmz1"})({name:"rdh6te",styles:"max-width:50rem;margin:-1rem 0 1rem!important;padding:1.5rem;background:rgba(0, 0, 0, 0.7);box-sizing:border-box"}),BP=C(Hr,{target:"ews4mmz0"})({name:"1tcj19k",styles:"font-size:4.3rem;padding:1rem;min-width:50rem;box-sizing:border-box"});function Eme(){const t=Ti(te.playerInputChanged,()=>Re.getInputs()).some(o=>o.source==="Microphone"),n=_.useRef([]),r=_.useCallback(o=>{n.current.push(o)},[]);Xhe(0,50,r);const[i,s]=_.useState(!1);return _.useEffect(()=>{const o=setInterval(()=>{const a=n.current.filter(([,h])=>h===0),l=n.current.filter(([,h])=>h>0),c=a.reduce((h,[p])=>h+p,0)/(a.length+1),u=l.reduce((h,[p])=>h+p,0)/(l.length+1),d=l.length>a.length*.1&&u>.01&&c>.01&&u-c<c/2;s(d),n.current.length=0},i?5e3:2500);return()=>clearInterval(o)},[i]),f.jsxs(kme,{visible:i,children:[f.jsxs("h2",{children:[f.jsx("strong",{children:f.jsx(Ol,{})})," ","Noise detected"]}),f.jsx("hr",{}),f.jsxs("h4",{children:["This might make singing inaccurate. Make sure your microphone doesn't pick up the music."," ",t&&f.jsxs(f.Fragment,{children:["Alternatively, use your ",f.jsx("strong",{children:"smartphone as a microphone"})," instead."]})]})]})}const kme=C("div",{target:"e1liv9270"})("opacity:",e=>e.visible?1:0,";transition:300ms;background:rgba(0, 0, 0, 0.75);padding:1rem;max-width:50rem;position:relative;top:-1rem;left:-0.5rem;"),t$=(e,t=333,n)=>{const[r,i]=_.useState("ok");return _.useEffect(()=>{const s=setInterval(()=>{i(sn.getInputStatus(e))},t);return()=>{clearInterval(s)}},[e,t,n]),r},n$=e=>{const[t,n]=_.useState(null);return _.useEffect(()=>{const r=setInterval(()=>{const i=Je.getRemoteMicById(e??"");n(i?i.getLatency():null)},1e3);return()=>{clearInterval(r)}},[e]),t};function r$({playerNumber:e,...t}){var r,i;const n=n$((i=(r=Re.getPlayer(e))==null?void 0:r.input)==null?void 0:i.deviceId);return f.jsx(f.Fragment,{children:n!==null?f.jsxs(Cme,{...t,children:[n,"ms"]}):""})}const Cme=C("span",{target:"e10sf0140"})({name:"1wwatg0",styles:"position:absolute;right:4rem;bottom:0.5rem;font-size:1.75rem"});var pE={},Tme=Xe;Object.defineProperty(pE,"__esModule",{value:!0});var i$=pE.default=void 0,Ime=Tme(nt()),Pme=f;i$=pE.default=(0,Ime.default)((0,Pme.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");function s$({status:e,tooltipPosition:t="end",...n}){return f.jsxs(Rme,{...n,children:[e==="ok"?f.jsx(Mme,{"data-test":"status-ok"}):e==="unavailable"?f.jsx(jme,{"data-test":"status-unavailable"}):f.jsx(Ome,{"data-test":"status-unstable"}),e==="unavailable"?f.jsx(DP,{position:t,children:f.jsxs("span",{children:["The device is ",f.jsx("strong",{children:"disconnected"}),". Reconnect it, please."]})}):e==="unstable"?f.jsx(DP,{position:t,children:f.jsxs("span",{children:["The connection seems ",f.jsx("strong",{children:"unstable"}),". Connect to the same Wifi."]})}):null]})}const Rme=C("span",{target:"etoberq4"})({name:"186aqlb",styles:"position:absolute;right:0.5rem;top:0.5rem;font-size:3rem;z-index:10;svg{width:3rem;height:3rem;text-shadow:black;}"}),Mme=C(i$,{target:"etoberq3"})({name:"19x2ge",styles:"fill:#ffffff;stroke:black;stroke-width:1px"}),jme=C(nE,{target:"etoberq2"})({name:"f0g68e",styles:"fill:#ff0000"}),Ome=C(Ol,{target:"etoberq1"})({name:"w492oh",styles:"fill:#f89400;stroke:black"}),DP=C("div",{target:"etoberq0"})(Ne,";position:absolute;",e=>e.position==="end"?"left: 100%":"right: 150%",";top:-0.5rem;font-size:1.5rem;height:100%;display:flex;align-items:center;width:25rem;background:rgba(0, 0, 0, 0.75);padding:0.5rem;margin-left:2rem;");function o$({player:e}){const t=t$(e.number);return f.jsxs(Vme,{"data-test":`indicator-player-${e.number}`,children:[f.jsx(r$,{playerNumber:e.number}),f.jsx(s$,{status:t}),t!=="unavailable"&&f.jsx(Zw,{playerNumber:e.number}),f.jsx(Lme,{className:"ph-no-capture",children:e.getName()})]},e.number)}const Vme=C("div",{target:"e17xkp2e1"})({name:"1gmoqr1",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white;-webkit-text-stroke:1px black"}),Lme=C("span",{target:"e17xkp2e0"})({name:"179t5g5",styles:"position:relative;z-index:1"});function Nme(e){Bs(te.playerNameChanged),_.useEffect(()=>{sn.startMonitoring()},[]);const n=Ti(te.playerInputChanged,()=>Re.getInputs()).some(r=>r.source!=="Dummy");return f.jsxs($me,{...e,children:[f.jsxs(Bme,{children:["Microphone Check",n?Re.getPlayers().map(r=>f.jsx(o$,{player:r},r.number)):f.jsxs(f.Fragment,{children:[f.jsx(Dme,{children:"Mic not setup"}),f.jsx("h4",{children:"Singing will be emulated"}),f.jsx("h5",{children:"You can setup in the Next step"})]})]}),f.jsx(Eme,{})]})}const $me=C("div",{target:"egp8knc2"})("display:flex;font-size:3rem;",Ne,";margin-bottom:8.6rem;gap:3.5rem;"),Bme=C("div",{target:"egp8knc1"})({name:"fmwdml",styles:"gap:1.25rem;display:flex;flex-direction:column;align-items:center"}),Dme=C("div",{target:"egp8knc0"})({name:"1x5xnlp",styles:"position:relative;border:0.1rem solid white;padding:1rem 3rem;background:black;width:80%;text-align:center;gap:1.25rem;font-size:2.3rem;color:white"});function a$({onClose:e,closeButtonText:t}){return f.jsx(Iu,{onClose:e,children:f.jsx(ds,{children:f.jsx(iE,{smooth:!1,onBack:e,onFinish:e,closeButtonText:t,skipText:"Back"})})})}const l$=_.forwardRef(({options:e,focused:t,label:n,value:r,onChange:i,disabled:s,placeholder:o,keyboardNavigationChangeFocus:a,onBlur:l,className:c,...u},d)=>{const h=_.useRef(null);_.useImperativeHandle(d,()=>h.current);const p=_.useRef(null),[g,m]=_.useState(!1),[A,v]=_.useState(-1),y=_.useMemo(()=>e.filter(x=>x.toLowerCase().trim().includes(r.toLowerCase().trim())&&x!==r),[e,r]),b=x=>{var w,E,I;if(x.code==="ArrowUp"||x.code==="ArrowDown")if(y.length){x.preventDefault();const L=Ah(y,A,x.code==="ArrowUp"?-1:1);v(L);const j=(w=p.current)==null?void 0:w.querySelector(`[data-index="${L}"]`);j==null||j.scrollIntoView({behavior:"smooth",block:"center"})}else(E=h.current)==null||E.blur(),a==null||a(x.code==="ArrowUp"?-1:1);else if(x.code==="Enter"){const L=y[A];L?(v(-1),i(L)):(I=h.current)==null||I.blur()}},S=()=>{setTimeout(()=>{m(!1),l==null||l()},300)};return f.jsxs(Fme,{className:c,children:[f.jsx(Ru,{onFocus:()=>m(!0),onBlur:S,onKeyDown:b,onChange:i,value:r,focused:t,label:n,disabled:s,ref:h,placeholder:o,...u}),g&&!!y.length&&f.jsx(zme,{ref:p,role:"listbox",children:y.map((x,w)=>f.jsx(Ume,{role:"listitem","data-index":w,"data-focused":w===A,focused:w===A,onClick:()=>{var E;i(x),v(-1),(E=h.current)==null||E.blur()},children:x},x))})]})}),Fme=C("div",{target:"elw4n422"})({name:"bjn8wh",styles:"position:relative"}),zme=C("div",{target:"elw4n421"})("margin-top:0.1em;position:absolute;width:100%;background:black;max-height:",(1+2*.3)*4,"em;overflow-y:auto;z-index:2;"),Ume=C("div",{target:"elw4n420"})(Ne,";padding:0.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",e=>e.focused?he.colors.text.active:"white",";cursor:pointer;"),Hme=(e,t)=>{var n;return((n=e[t])==null?void 0:n.name)??`Track ${t+1}`};function qme({multipleTracks:e,player:t,songPreview:n,playerNames:r,register:i,onChange:s,setup:o}){const[a,l]=_.useState(!1),c=_.useRef(null);if(Bs(te.playerNameChanged),t===void 0)return null;const u=()=>s({number:t.number,track:(o.track+1)%n.tracksCount}),d=g=>{l(!0),t.setName(g)},h=!a,p=t.getName();return f.jsxs(f.Fragment,{children:[f.jsx(Gme,{maxLength:dx,className:"ph-no-capture",value:h?"":p,placeholder:h?p:void 0,options:r,onChange:d,label:"Name:",ref:c,...i(`player-${t.number}-name`,()=>{var g;return(g=c.current)==null?void 0:g.focus()})}),e&&f.jsx(Wme,{...i(`player-${t.number}-track-setting`,u,"Change track"),label:"Track",value:Hme(n.tracks,o.track),"data-test-value":o.track+1})]})}const Gme=C(l$,{target:"euluv3p1"})("input{font-size:4.5rem;}[role='listbox']{max-height:",6*(4.5+.3),"rem;}"),Wme=C(Hr,{target:"euluv3p0"})({name:"1bwrnjg",styles:"font-size:4.5rem;padding:1.1rem"});function Yme({songPreview:e,onNextStep:t,keyboardControl:n,onExitKeyboardControl:r}){const[i]=$e(Zn),[s]=$e(Db),o=Re.getPlayers(),a=!i&&o.length===2&&e.tracksCount>1,l=()=>o.map((S,x)=>({number:S.number,track:a?Math.min(x,e.tracksCount-1):0})),[c,u]=_.useState(l());Jr([te.playerAdded,te.playerRemoved],()=>u(l()));const d=o.map((S,x)=>c.find(w=>w.number===S.number)??l()[x]),h=_.useMemo(()=>JSON.parse(Oe.session.getItem(Zc))??[],[]),p=S=>x=>{u(w=>w.map(E=>E.number===S?x:E))},[g,m]=_.useState(!1);_.useEffect(()=>{g||sn.startMonitoring()},[g]);const{register:A,focusElement:v}=Vn({enabled:n&&!g,onBackspace:r}),y=()=>{t(d)},b=!!s&&s!=="skip";return f.jsxs(f.Fragment,{children:[g&&f.jsx(a$,{closeButtonText:b?"Continue to the song":"Continue to player setup",onClose:()=>{m(!1),b&&v("play")}}),d.map((S,x)=>f.jsxs(Kme,{children:[f.jsxs(Qme,{children:["Player ",x+1]}),f.jsx("div",{children:f.jsx(qme,{multipleTracks:a,player:Re.getPlayer(S.number),setup:S,onChange:p(S.number),playerNames:h,register:A,songPreview:e})})]},S.number)),b&&f.jsx(FP,{...A("play-song-button",y,void 0,!0),children:"Play"}),f.jsx(FP,{...A("select-inputs-button",()=>m(!0),void 0,!1),children:"Setup mics"})]})}const Kme=C("div",{target:"e12y59822"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),FP=C(us,{target:"e12y59821"})({name:"afgxf2",styles:"padding:0.5rem 9rem;font-size:4.3rem"}),Qme=C("span",{target:"e12y59820"})(Ne,";padding:1.3rem;font-size:4.5rem;");function Jme({songPreview:e,onPlay:t,keyboardControl:n,onExitKeyboardControl:r}){const[i,s]=_.useState(null),[o,a]=_.useState("song"),l=u=>{s(u),a("players")},c=u=>{if(!i)return;const d={...i,players:u};te.songStarted.dispatch(e,d),t({song:e,...d})};return f.jsxs(Xme,{children:[f.jsx(Nme,{style:o==="players"?{viewTransitionName:"player-mic-check-container"}:void 0}),f.jsxs(Zme,{children:[o==="song"&&f.jsx(xme,{songPreview:e,onNextStep:l,keyboardControl:n,onExitKeyboardControl:r}),o==="players"&&f.jsx(Yme,{songPreview:e,onNextStep:c,keyboardControl:n,onExitKeyboardControl:()=>a("song")})]})]})}const Xme=C("div",{target:"eu207dr1"})({name:"k6gb66",styles:"display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;width:100%;hr{margin:1rem;opacity:0.25;}"}),Zme=C("div",{target:"eu207dr0"})({name:"115sh08",styles:"width:auto;display:flex;flex-direction:column;align-items:flex-end;gap:1.25rem"}),e0e=30;function t0e({songPreview:e,top:t,left:n,width:r,height:i,keyboardControl:s,onExitKeyboardControl:o,onPlay:a,isPopular:l,forceFlag:c}){const[u,d]=_.useState(!1),h=_.useRef(null),{width:p,height:g}=xh(),m=s;_.useLayoutEffect(()=>{d(!1)},[e.video]);const A=e.previewStart??(e.videoGap??0)+60,v=e.previewEnd??A+e0e,y=_.useMemo(()=>[e.video,A,v,e.volume],[e.video,A,v,e.volume]),[b,S,x,w]=$w(y,350);_.useEffect(()=>{var j;(j=h.current)==null||j.loadVideoById({videoId:b,startSeconds:S,endSeconds:x})},[b,h,S,x]);const E=m?p:r,I=m?g:i,L=m?Math.min(p/20*9,g*(4/5)):i;return _.useEffect(()=>{var j;(j=h.current)==null||j.setSize(E,I)},[E,I,s]),f.jsxs(f.Fragment,{children:[m&&f.jsx(s0e,{onClick:o}),!m&&u&&f.jsx(u0e,{width:E,height:I,left:n,top:t,song:e}),f.jsx(i0e,{forceFlag:c,isPopular:l,background:m||u,video:f.jsx(a0e,{show:u,expanded:m,height:L,id:"preview-video-container",children:f.jsx(Gw,{width:0,height:0,disablekb:!0,ref:h,video:"",volume:w,onStateChange:j=>{var B,Q;j===An.ENDED?((B=h.current)==null||B.seekTo(A),(Q=h.current)==null||Q.playVideo()):j===An.PLAYING&&d(!0)}})}),focused:!0,song:e,top:t,left:n,width:E,height:L,showVideo:u,expanded:m,"data-test":"song-preview","data-song":e.id,children:f.jsx(l0e,{expanded:m,children:m&&f.jsx(Jme,{songPreview:e,onPlay:a,keyboardControl:s,onExitKeyboardControl:o})})})]})}var n0e={name:"17gota2",styles:"border:0;border-radius:0;position:fixed;padding:var(--preview-padding)"};const r0e=C(JN,{target:"e1vaewax4"})("--preview-padding:5rem;width:",e=>e.width,"px;height:",e=>e.height,"px;position:absolute;z-index:",e=>e.expanded?201:3,";overflow:hidden;visibility:",e=>e.expanded||e.showVideo?"visible":"hidden",";",e=>e.expanded?n0e:Ot("pointer-events:none;",e.showVideo&&e.theme.graphicSetting==="high"?"animation: rhythmPulse 1s infinite":"scale: 1.2",";",""),";@keyframes rhythmPulse{0%{transform:scale(1.2);}15%{transform:scale(1.25);}100%{transform:scale(1.2);}}view-transition-name:song-preview;",hE,"{view-transition-name:song-preview-artist;}",Av,"{view-transition-name:song-preview-title;}",XN,"{view-transition-name:song-preview-expanded-data;}"),i0e=e=>{const t=e.song.realBpm??(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(r0e,{style:{top:e.expanded?`calc(50vh - ${e.height}px / 2)`:e.top,left:e.expanded?0:e.left,animationDuration:`${60/t}s`},...e})},s0e=C("div",{target:"e1vaewax3"})({name:"1iz7jdz",styles:"position:fixed;top:0;left:0;background:rgba(0, 0, 0, 0.8);width:100vw;height:100vh;z-index:201"});var o0e={name:"pfrwim",styles:"position:absolute;top:0;left:0;background-image:none!important;border-radius:0.5rem"};const a0e=C("div",{target:"e1vaewax2"})(e=>e.expanded?Ot("position:fixed;inset:0;clip-path:inset(calc((100vh - ",e.height,"px) / 2) 0);",""):o0e," div{opacity:",({show:e})=>e?1:0,";transition:",({show:e,expanded:t})=>e||t?1e3:0,"ms;}"),l0e=C("div",{target:"e1vaewax1"})("inset:auto var(--preview-padding);position:fixed;z-index:100;",e=>!e.expanded&&"transform: scale(0.1);"," border-radius:0.5rem;view-transition-name:song-preview-content;"),c0e=C("div",{target:"e1vaewax0"})("background:white;width:",e=>e.width,"px;height:",e=>e.height,"px;z-index:2;top:0;left:0;position:absolute;animation:bpm 1s infinite;border-radius:0.5rem;pointer-events:none;@keyframes bpm{0%{transform:scale(1.15);opacity:1;}100%{transform:scale(1.45);opacity:0;}}"),u0e=e=>{const[t]=$e(xs);if(t==="low")return null;const n=e.song.realBpm??(e.song.bpm>300?e.song.bpm/4:e.song.bpm/2);return f.jsx(c0e,{width:e.width,height:e.height,style:{left:e.left,top:e.top,animationDuration:`${60/n}s`}})};function d0e(e){var t=Wp(e),n=t%1;return t===t?n?t-n:t:0}var f0e=Math.ceil,h0e=Math.max;function eb(e,t,n){(n?_3(e,t,n):t===void 0)?t=1:t=h0e(d0e(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(f0e(r/t));i<r;)o[s++]=Nx(e,i,i+=t);return o}const p0e=(e,t,n)=>e>=t&&e<n;function g0e(e,t){var b,S,x;const n=_.useMemo(()=>{const w=[];return e.groupSizes.forEach((E,I)=>{var L,j;w.push({index:I,type:"group",bottom:(((L=w.at(-1))==null?void 0:L.bottom)??0)+e.groupHeight,groupIndex:I});for(let B=0;B<E;B++){const Q=e.groupSizes.reduce((M,U,P)=>M+(P<I?U:0),0)+B;w.push({index:Q,type:"item",bottom:(((j=w.at(-1))==null?void 0:j.bottom)??0)+e.itemHeight,groupIndex:I})}}),w},[e.itemHeight,e.groupHeight,e.groupSizes]),r=((b=n.at(-1))==null?void 0:b.bottom)??0,i=_.useRef(null),s=((S=i.current)==null?void 0:S.getBoundingClientRect().height)??global.innerHeight,o=_.useCallback(w=>{const E=n.findIndex(L=>L.bottom>w-e.overScan),I=n.findIndex(L=>L.bottom>w+s+e.overScan);return[E,I===-1?n.length:I]},[n,s,e.overScan]),[[a,l],c]=_.useState(o(0));_.useLayoutEffect(()=>{var E;const w=o(((E=i.current)==null?void 0:E.scrollTop)??0);(a!==w[0]||l!==w[1])&&c(w)},[o,e.groupSizes,a,l]),_.useEffect(()=>{if(i.current){const w=()=>{var I;const E=o(((I=i.current)==null?void 0:I.scrollTop)??0);(a!==E[0]||l!==E[1])&&c(E)};return i.current.addEventListener("scroll",w),i.current.scrollTop>r&&i.current.scrollTo({top:0}),()=>{var E;(E=i.current)==null||E.removeEventListener("scroll",w)}}},[a,l,o,r]);const u=_.useCallback((w,E)=>{var I,L;return(((I=n[E])==null?void 0:I.bottom)??0)-(((L=n[w])==null?void 0:L.bottom)??0)},[n]),d=_.useMemo(()=>u(-1,a-1),[a,u]),h=n.slice(0,a).findLastIndex(({type:w})=>w==="group"),p=n.slice(a,l),g=h!==-1?[[]]:[];for(let w=0;w<p.length;w++){const E=p[w];E.type==="group"&&g.push([]),(x=g.at(-1))==null||x.push(E)}_.useImperativeHandle(t,()=>({getItemPositionY:w=>{var E;return(((E=n.find(I=>I.type==="item"&&I.index===w))==null?void 0:E.bottom)??-1)-e.itemHeight},scrollTo:w=>{var E;(E=i.current)==null||E.scrollTo({top:w})},scrollToIndex:async(w,E="auto",I="center")=>{var j,B;const L=n.find(Q=>Q.type==="item"&&Q.index===w);if(L){const Q=(e.itemHeight+(I==="center"?(j=i.current)==null?void 0:j.clientHeight:0))/2;(B=i.current)==null||B.scrollTo({top:L.bottom-Q,behavior:E})}},scrollToGroup:async(w,E="auto",I="top")=>{var j;const L=n.find(B=>B.type==="group"&&B.index===w);L&&((j=i.current)==null||j.scrollTo({top:L.bottom-e.groupHeight,behavior:E}))}}));const{Header:m,Footer:A,EmptyPlaceholder:v}=e.components??{},y=n.findIndex(w=>w.type==="item"&&w.index===e.forceRenderItem);return f.jsx(f.Fragment,{children:f.jsxs(v0e,{ref:i,children:[f.jsxs(m0e,{style:{height:r,paddingTop:h!==-1?d-e.groupHeight:d},children:[m&&f.jsx(m,{context:e.context}),n[y]&&!p0e(y,a,l)&&f.jsx(f.Fragment,{children:e.itemContent(n[y].index,n[y].groupIndex,{style:{width:"100%",position:"absolute",top:n[y].bottom-e.itemHeight,left:0,boxSizing:"border-box"},"data-virtualized-bottom":n[y].bottom,"data-virtualized-index":n[y].index})}),g.map((w,E)=>f.jsxs("div",{children:[E===0&&h!==-1&&e.groupContent(n[h].index),w.map(({index:I,type:L,bottom:j,groupIndex:B})=>f.jsx(_.Fragment,{children:L==="group"?e.groupContent(I):e.itemContent(I,B,{"data-virtualized-bottom":j,"data-virtualized-index":I})},`${j}`))]},(w[0]??n[h]).groupIndex))]}),g.length===0&&v&&f.jsx(v,{context:e.context}),A&&f.jsx(A,{context:e.context})]})})}const m0e=C("div",{target:"e1c20jfn1"})({name:"100d0a9",styles:"box-sizing:border-box;position:relative"}),v0e=C("div",{target:"e1c20jfn0"})({name:"1wyitvb",styles:"overflow:auto;height:100%;width:100%"}),y0e=_.forwardRef(g0e);function A0e(e,t){const n=_.useRef(null),r=_.useMemo(()=>e.groups.map(u=>({group:u,rows:eb(u.songs,e.perRow)})),[e.groups,e.perRow]),i=_.useMemo(()=>r.map(({rows:u})=>u.length),[r]),s=_.useMemo(()=>r.flatMap(({rows:u})=>u),[r]),{ListRowWrapper:o,GroupRowWrapper:a}=e,l=_.useCallback((u,d)=>{let h=e.groups.findIndex(p=>p.name===u);return h===-1?e.groups.findIndex(p=>p.songs.some(g=>g.index===d)):h},[e.groups]),c=_.useCallback((u,d)=>{let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(g=>g.index===d);return r.slice(0,h).reduce((g,{rows:m})=>g+m.length,Math.floor(p/e.perRow))},[l,r,e.groups,e.perRow]);return _.useImperativeHandle(t,()=>({getSongPosition:(u,d)=>{var v;let h=l(u,d);if(h===-1)return;const p=e.groups[h].songs.findIndex(y=>y.index===d),g=r.slice(0,h).reduce((y,{rows:b})=>y+b.length,Math.floor(p/e.perRow)),m=((v=n.current)==null?void 0:v.getItemPositionY(g))??-1;return{x:p%e.perRow,y:m}},scrollToGroup:u=>{var h;const d=e.groups.findIndex(p=>p.name===u);d!==-1&&((h=n.current)==null||h.scrollToGroup(d,"smooth"))},scrollToSongInGroup:async(u,d,h="smooth")=>{var g;const p=c(u,d);p!==void 0&&((g=n.current)==null||g.scrollToIndex(p,Ns()?"auto":h))}})),f.jsx(f.Fragment,{children:f.jsx(y0e,{forceRenderItem:c(e.focusedGroup,e.focusedSong)??-1,overScan:e.itemHeight*2,itemHeight:e.itemHeight,groupHeight:e.groupHeight,components:e.components,context:e.context,groupContent:(u,d)=>f.jsx(a,{group:r[u].group,...d,children:e.renderGroup(r[u].group)}),ref:n,groupSizes:i,itemContent:(u,d,h)=>f.jsxs(o,{group:r[d].group,...h,children:[s[u].map(p=>e.renderItem(p,r[d].group)),e.placeholder&&s[u].length<e.perRow&&new Array(e.perRow-s[u].length).fill(null).map((p,g)=>f.jsx(_.Fragment,{children:e.placeholder},g))]})},e.itemHeight)})}const _0e=_.forwardRef(A0e),c$=(e,t)=>e+Math.random()*(t-e),Ts=(e,t)=>Math.round(c$(e,t));function Mm(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e},[e]),t.current}const b0e=30;function x0e(e,t,n=b0e){let r;if(t.length<e){const i=[...Array(e).keys()].filter(s=>!t.includes(s));r=i[Ts(0,i.length-1)]}else r=Ts(0,e-1),t.length=0;return t.length>=n&&t.shift(),t.push(r),r}const S0e=(e=[],t)=>{var A;const[n,r]=_.useState([0,0]),i=_.useMemo(()=>e.map(({songs:v})=>v.length).join(","),[e]),s=_.useMemo(()=>e.map(({songs:v})=>eb(v.map(y=>y.index),t)).flat(),[i,t]),o=_.useMemo(()=>e.map(({songs:v,name:y})=>eb(v.map(()=>y),t)).flat(),[i,t]),a=Mm(s??[]),l=n[0]===((A=s[n[1]])==null?void 0:A.length)-1,c=_.useCallback((v,y)=>{var x;const b=s.findIndex((w,E)=>w.includes(v)&&(!y||y===o[E][0])),S=(x=s[b])==null?void 0:x.indexOf(v);S>=0&&b>=0?r([S??0,b??0]):r([0,0])},[s]),u=([v,y],b,S)=>{var w;if(e.length===0)return S;const x=b[y];return(x==null?void 0:x[v])??(x==null?void 0:x.at(-1))??((w=b==null?void 0:b[0])==null?void 0:w[0])??S},d=([v,y],b=s)=>u([v,y],b,0),h=([v,y],b=o)=>u([v,y],b,"A");_.useEffect(()=>{const v=d(n,a),y=d(n,s);a.length&&v!==y&&c(v)},[n,s,a,l]);const p=(v,y)=>{w0.play(),r(([b,S])=>{let x=b,w=S;if(v==="y")w=S+y;else{if(s[S]===void 0)debugger;const E=s[S].length-1;x=Math.min(b,E)+y,x<0?(w=(s.length+S-1)%s.length,x=s[w].length-1):x>E&&(w=S+1,x=0)}return[x%t,(s.length+w)%s.length]})},g=d(n),m=h(n);return[g,m,n,p,c,l]},w0e=(e,t=[],n,r,i,s)=>{const o=oi(),[a,l]=_.useState([!1,null]),c=Mm(a),[u,d]=a,[h,p,g,m,A,v]=S0e(t,s),y=g[0]===0,b=()=>{xx.play(),n()},[S,x]=_.useState(!1),w=Mm(i.search);_.useLayoutEffect(()=>{if(w&&!i.search){x(!0);const P=setTimeout(()=>x(!1),2e3);return()=>{clearTimeout(P),x(!1)}}},[i.search]);const E=()=>{!S&&!i.search&&(Sx.play(),o("menu/"))},I=_.useCallback(Rc((P,T)=>{const z=(t.length+T+P)%t.length;A(t[z].songs[0].index),w0.play()},700,{trailing:!1}),[t]),L=(P,T)=>{if(!(P!=null&&P.repeat))m("y",T);else{const z=t.findIndex(O=>!!O.songs.find(N=>N.index===h));I(T,z)}},j=(P,T=!1)=>{!T&&P===-1&&y&&!u?l([!0,"left"]):m("x",P)},B=_.useRef([]),Q=()=>{const P=x0e(r,B.current);A(P)};Tl({accept:b,down:P=>L(P,1),up:P=>L(P,-1),left:()=>j(-1),right:()=>j(1),back:E,random:Q},e&&!u,[t,g,u,i,S]);const M=_.useMemo(()=>({"horizontal-vertical":null,accept:null,back:null,shiftR:null,alphanumeric:null,remote:["search"]}),[]);Pu(M,e);const U=_.useCallback(P=>{l([!1,P??null])},[l,j,t,g]);return _.useLayoutEffect(()=>{const[P,T]=c;P&&!u&&T===d&&j(d==="right"?1:-1,!0)},[u,d,y,v,...g]),[h,p,A,u,U,Q]};function E0e(e,t){const{songList:n,groupedSongList:r,setFilters:i,filters:s,isLoading:o,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}=sme(),[u,d]=_.useState(!0),h=w=>{Bf(()=>{Tu.flushSync(()=>{d(w)})}),wx.play()},[p,g,m,A,v,y]=w0e(u,r,()=>h(!1),n.length,s,t),[b,S]=_.useState(!1);_.useEffect(()=>{if(!b&&n.length&&!o){const w=n.findIndex(L=>L.id===e),E=n.findIndex(L=>L.isNew);let I=Ts(0,n.length-1);(w>-1||E>-1)&&(I=w),S(!0),m(I)}},[m,b,p,n,e,o]),_.useEffect(()=>{var w;if(b&&n.length&&n[p]&&!o){const E=new URL((w=global.location)==null?void 0:w.href);E.searchParams.set("song",n[p].id),global.history.replaceState(null,"",E.toString())}},[b,p,n,o]);const x=n==null?void 0:n[p];return{groupedSongList:r,focusedSong:p,focusedGroup:g,moveToSong:m,setKeyboardControl:h,keyboardControl:u,songPreview:x,songList:n??[],filters:s,setFilters:i,showFilters:A,setShowFilters:v,isLoading:o||!b,randomSong:y,selectedPlaylist:a,setSelectedPlaylist:l,playlists:c}}const k0e=1.2,zP=4,u$=7,tb=4.5,UP=u$+tb,kp=3.5,C0e={Header:({context:e})=>f.jsxs(f.Fragment,{children:[f.jsx(L0e,{}),e&&e.songPreview.songPreview&&f.jsx(t0e,{...e.songPreview})]}),Footer:()=>f.jsxs(I0e,{children:["Missing a song? Try"," ",f.jsx(gw,{to:"convert/",children:f.jsx("a",{children:"adding one"})})," ","yourself!"]}),EmptyPlaceholder:()=>f.jsx(j0e,{children:"No songs found"})};function T0e({onSongSelected:e,preselectedSong:t}){const[n]=$e(Zn),r=n?zP-1:zP;Aa(!1),fa(!0),zN();const{focusedGroup:i,focusedSong:s,moveToSong:o,groupedSongList:a,keyboardControl:l,songPreview:c,setKeyboardControl:u,setFilters:d,filters:h,setShowFilters:p,showFilters:g,isLoading:m,randomSong:A,selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,songList:S}=E0e(t,r),x=_.useMemo(()=>a.map($=>$.songs).flat().find($=>$.song.id===(c==null?void 0:c.id)),[c,a]),w=_.useRef(null),E=yge(),{width:I,handleResize:L}=xh(),B=(I-(UP+tb)*E-(r-1)*kp*E)/r,Q=B*(9/16),M=Q/2,U=_.useCallback(()=>u(!1),[u]),P=m||!a||!I,T=v==="Eurovision",z=_.useRef(null);_.useEffect(()=>{const $=q=>S.findIndex(ne=>ne.id===q);return global.__songList={scrollToSong:q=>{var Z;const[ne]=q.split("-new-group"),V=q.endsWith("-new-group"),ce=a.find(de=>!!de.isNew===V&&de.songs.some(we=>we.song.id===ne));if(ce){const de=$(ne);return(Z=w.current)==null||Z.scrollToSongInGroup(ce.name,de,"auto"),!0}return!1}},()=>{delete global.__songList}},[a,S]);const[{previewTop:O,previewLeft:N},D]=_.useState({previewTop:0,previewLeft:0});return _.useEffect(()=>{const $=document.querySelector(`[data-song-index="${s}"][data-group="${i}"]`);!m&&$?D({previewTop:$.offsetTop+$.parentNode.offsetTop,previewLeft:$.offsetLeft}):m||console.warn("!!!!!!!!!!!! Song not found !!!!!!!!!!!!")},[s,i,m,I]),_.useEffect(()=>{var $;L(),m||($=w.current)==null||$.scrollToSongInGroup(i,s)},[I,s,i,a,m,L]),f.jsx(Co,{children:f.jsxs(P0e,{songsPerRow:r,style:{"--song-group-header-height":`${Math.floor(M)}px`,"--song-entry-width":`${Math.floor(B)}px`,"--song-entry-height":`${Math.floor(Q)}px`,"--song-list-gap":`${Math.floor(kp*E)}px`,"--song-list-padding-left":`${Math.floor(UP*E)}px`,"--song-list-padding-right":`${Math.floor(tb*E)}px`,"--song-sidebar-weight":`${Math.floor(u$*E)}px`},children:[P?f.jsxs(qP,{children:[f.jsx(WP,{children:f.jsx(HP,{children:f.jsx(nb,{children:""})})}),new Array(4).fill(0).map(($,q)=>f.jsx(YP,{children:new Array(4).fill(0).map((ne,V)=>f.jsx(GP,{},V))}))]}):f.jsxs(f.Fragment,{children:[c&&f.jsx(R0e,{videoId:c.video}),f.jsx(Ege,{setFilters:d,filters:h,onRandom:A,keyboardControl:l}),f.jsx(vme,{container:z.current,groupedSongList:a,onScrollToGroup:$=>{o($.songs[0].index),setTimeout(()=>{var q;return(q=w.current)==null?void 0:q.scrollToGroup($.name)},20)}}),f.jsx(qP,{active:l,dim:g,"data-test":"song-list-container",ref:z,children:f.jsx(_0e,{focusedSong:s,focusedGroup:i,ListRowWrapper:YP,GroupRowWrapper:WP,ref:w,groups:a,itemHeight:Math.floor(Q)+Math.floor(kp*E),groupHeight:Math.floor(M)+Math.floor(kp*E),components:C0e,renderGroup:$=>f.jsx(HP,{highlight:$.name==="New",children:f.jsx(nb,{"data-group-name":$.name,children:$.displayLong??$.name})},$.name),perRow:r,renderItem:($,q)=>{const ne=$.index===s&&q.name===i;return _.createElement(V0e,{...g||!l?{"data-unfocusable":!0}:{},isPopular:$.isPopular,key:$.song.id,song:$.song,handleClick:ne?U:o,focused:!g&&l&&ne,index:$.index,groupLetter:q.name,"data-song-index":$.index,"data-focused":!g&&l&&$.index===s,"data-test":`song-${$.song.id}${q.isNew?"-new-group":""}`,"data-group":q.name,forceFlag:T})},placeholder:f.jsx(GP,{style:{visibility:"hidden"}}),context:{songPreview:{forceFlag:T,isPopular:!!(x!=null&&x.isPopular),keyboardControl:!l,onPlay:e,onExitKeyboardControl:()=>u(!0),songPreview:c,top:O,left:N,width:Math.floor(B),height:Math.floor(Q)}}})})]}),f.jsx(Mge,{selectedPlaylist:v,setSelectedPlaylist:y,playlists:b,active:g,closePlaylist:p})]})})}const I0e=C("div",{target:"e13s0pn12"})(Ne,";text-align:center;font-size:5rem;padding:10rem 0;"),P0e=C("div",{target:"e13s0pn11"})({name:"usdvu5",styles:"display:flex;flex-direction:row;max-height:100vh"}),R0e=e=>{const{theme:t}=_.useContext(zx);return t==="eurovision"?null:f.jsx(M0e,{...e})},M0e=C(Cge,{target:"e13s0pn10"})({name:"ybgcp",styles:"position:fixed;inset:0;width:100%;height:100%;filter:blur(7px) grayscale(90%);opacity:0.25;object-fit:cover"}),HP=C("div",{target:"e13s0pn9"})("display:flex;align-items:flex-end;height:var(--song-group-header-height);",e=>e.highlight&&Ot(nb,"{animation:new-song-group-header 600ms ease-in-out infinite both;background:#ffffff;@keyframes new-song-group-header{0%,100%{transform:scale(1);}50%{transform:scale(1.1);}}}",""),";"),j0e=C("div",{target:"e13s0pn8"})(Ne,";display:flex;align-items:center;justify-content:center;flex:1;height:75vh;font-size:10rem;"),nb=C("div",{target:"e13s0pn7"})(Ne,";display:flex;padding:0.5rem 1rem;font-size:3.5rem;z-index:1;color:",he.colors.text.active,";background:rgba(0, 0, 0, 0.7);align-items:center;gap:1rem;"),qP=C("div",{target:"e13s0pn6"})("position:relative;flex:1 1 auto;min-height:100vh;max-height:100vh;transition:opacity 500ms;opacity:",e=>e.dim?.5:1,";"),GP=C("div",{target:"e13s0pn5"})({name:"1mtg8xe",styles:"background:black;flex-basis:var(--song-entry-width);height:var(--song-entry-height);border-radius:1rem;animation:skeleton 1s ease-in-out infinite alternate;@keyframes skeleton{0%{opacity:0.65;}100%{opacity:0.75;}}"});var O0e={name:"1jwmbuq",styles:"transition:300ms"};const V0e=_.memo(C(JN,{target:"e13s0pn4"})("cursor:pointer;flex-basis:var(--song-entry-width);height:var(--song-entry-height);",e=>e.theme.graphicSetting==="high"&&O0e," transform:scale(",e=>e.focused?k0e:1,");",e=>e.focused&&"z-index: 2;"," ",e=>e.focused&&fo,";")),L0e=C("div",{target:"e13s0pn3"})(""),d$=C("div",{target:"e13s0pn2"})({name:"1syiygp",styles:"display:flex;flex-wrap:nowrap;justify-content:space-between;padding:calc(var(--song-list-gap) / 2) var(--song-list-padding-right) calc(var(--song-list-gap) / 2) var(--song-list-padding-left)"}),WP=C(d$,{target:"e13s0pn1"})({name:"1rn35zs",styles:"position:sticky;top:0;z-index:3"});var N0e={name:"j4wph1",styles:"background:rgba(0, 0, 0, 0.7)"};const YP=C(d$,{target:"e13s0pn0"})("position:relative;",e=>{var t;return((t=e.group)==null?void 0:t.isNew)&&N0e},";");function $0e(e){const[t,n]=$e(e0),[r,i]=_.useState(t===null),s=()=>{n(t??[]),i(!1)};return r?f.jsx(DN,{onClose:s,closeText:"Continue to Song Selection"}):f.jsx(T0e,{...e})}var gE={},B0e=Xe;Object.defineProperty(gE,"__esModule",{value:!0});var f$=gE.default=void 0,D0e=B0e(nt()),F0e=f;f$=gE.default=(0,D0e.default)((0,F0e.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");const sd=e=>new Promise(t=>setTimeout(t,e)),fA=15;function z0e({onFinish:e}){const[t,n]=_.useState(!1),[r,i]=_.useState([]);Jr(te.readinessConfirmed,a=>{i(l=>[...l,a])});const s=Ti([te.inputListChanged,te.readinessConfirmed],()=>Re.getPlayers().map((a,l)=>[a.input.deviceId,a.getName(),a]));_.useEffect(()=>{(async()=>{let a=!1;const l=Re.requestReadiness().then(()=>{a=!0,n(!0)}),c=sd(1500),u=sd(fA*1e3);await sd(250),a||await Kp.play(),await Promise.race([Promise.all([l,c]),u]),Kp.playing()&&C3.play(),await sd(500),Kp.pause(),await sd(1e3),e()})()},[]);const o=s.map(([a,l,c])=>({confirmed:r.includes(a),name:l,player:c}));return f.jsx(f.Fragment,{children:f.jsxs(U0e,{children:[!t&&f.jsxs("span",{children:["Waiting for all players to click ",f.jsx("strong",{children:'"Ready"'})]}),f.jsx(q0e,{children:o.map(({confirmed:a,name:l,player:c},u)=>f.jsxs(G0e,{className:"ph-no-capture","data-test":"player-confirm-status","data-name":l,"data-confirmed":a,children:[!t&&f.jsx(W0e,{children:a?f.jsx(f$,{}):f.jsx(_h,{color:"info",size:"1em"})})," ",f.jsx(o$,{player:c})]},u))}),!t&&f.jsxs(H0e,{children:["The song will start automatically in"," ",f.jsx("strong",{children:f.jsx(lE,{end:0,start:fA,duration:fA,useEasing:!1})})]})]})})}const U0e=C("div",{target:"e1wiz9j54"})("top:0;left:0;z-index:1000;display:flex;align-items:center;justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;gap:5rem;font-size:5rem;",Ne,";"),H0e=C("span",{target:"e1wiz9j53"})({name:"1umnjfm",styles:"font-size:5rem"}),q0e=C("div",{target:"e1wiz9j52"})({name:"1uxgijs",styles:"display:flex;flex-direction:column;gap:5rem;width:50rem;view-transition-name:player-mic-check-container"}),G0e=C("div",{target:"e1wiz9j51"})({name:"174652e",styles:"display:flex;align-items:center;gap:2rem;transform:scale(1.5)"}),W0e=C("span",{target:"e1wiz9j50"})({name:"1l5xwqu",styles:"svg{width:5rem;height:5rem;stroke:black;}"});function Y0e({register:e,onExit:t}){const n=_.useRef(null),[r,i]=_.useState(!1),[s,o]=_.useState(!1);_.useEffect(()=>{var l;(l=n.current)==null||l.focus()},[n]);const a=()=>{const l=je.getSong(),c={songId:l==null?void 0:l.id,songLastUpdated:l==null?void 0:l.lastUpdate};r&&kn.capture("rate-song",{type:"not-in-sync",...c}),s&&kn.capture("rate-song",{type:"wrong-volume",...c}),t()};return f.jsx(f.Fragment,{children:f.jsxs(ds,{children:[f.jsx("h1",{children:"Is the song OK?"}),f.jsx("h4",{children:"If there's something wrong with the song, let me know so I can fix it"}),f.jsxs(KP,{...e("button-not-in-sync",()=>i(l=>!l)),size:"small",children:[f.jsx(QP,{children:r?f.jsx(km,{}):f.jsx(Cm,{})}),f.jsx("span",{children:"Lyrics are not in sync"})]}),f.jsxs(KP,{...e("button-wrong-volume",()=>o(l=>!l)),size:"small",children:[f.jsx(QP,{children:s?f.jsx(km,{}):f.jsx(Cm,{})}),f.jsx("span",{children:"Too loud/quiet"})]}),f.jsx("hr",{}),f.jsx(Te,{...e("button-song-ok",a,void 0,!0),ref:n,children:s||r?"Submit and exit":"All good, exit the song"})]})})}const KP=C(Te,{target:"e1prcfby1"})({name:"12ib3m7",styles:"justify-content:flex-start;gap:1rem"}),QP=C("div",{target:"e1prcfby0"})({name:"224g68",styles:"svg{width:3rem;height:3rem;}display:flex;align-items:center;justify-content:center"});function K0e({onResume:e,onExit:t,onRestart:n}){const r=oi(),i=_.useRef(null),s=_.useRef(null);_.useEffect(()=>{var h;(h=i.current)==null||h.focus()},[i]);const[o,a]=_.useState(!1),{register:l}=Vn({enabled:!o}),[c,u]=_.useState(!1),d=async()=>{const h=je.getSongCompletionProgress(),p=(await $s.getIndex()).find(g=>{var m;return g.id===((m=je.getSong())==null?void 0:m.id)});!(p!=null&&p.local)&&h<.7&&!Ns()?u(!0):t()};return f.jsxs(Iu,{onClose:e,children:[!c&&f.jsxs(f.Fragment,{children:[f.jsxs(ds,{children:[f.jsx(Te,{...l("button-resume-song",e),ref:i,children:"Resume song"}),f.jsx(Te,{...l("button-restart-song",n),children:"Restart song"}),f.jsx(Te,{...l("button-exit-song",d),children:"Exit song"}),f.jsx(Te,{...l("input-settings",()=>a(!0)),children:"Microphones settings"}),f.jsx("hr",{}),f.jsx(pN,{ref:s,...l("input-lag",()=>{var h;return(h=s.current)==null?void 0:h.focus()})}),f.jsx(Te,{...l("edit-song",()=>{var h;return r("edit/song/",{song:((h=je.getSong())==null?void 0:h.id)??""})}),size:"small",children:"Edit song"})]}),o&&f.jsx(a$,{onClose:()=>a(!1),closeButtonText:"Back to Pause Menu"})]}),c&&f.jsx(Y0e,{onExit:t,register:l})]})}const h$=Ns()?1e3:8e3;function Q0e(e){return Math.floor((pv(e)-h$)/1e3)}const J0e=2e4;function X0e(e){return pv(e)-(e.videoGap??0)*1e3>J0e}function Z0e({playerRef:e,isEnabled:t}){const[n]=$e(Zn),r=je.getSong(),i=_.useMemo(()=>X0e(r),[r]),s=_.useMemo(()=>pv(r),[r]),o=je.getCurrentTime(!1)<s-h$*1.2,a=t&&o&&i;Tl({accept:()=>{e==null||e.seekTo(Q0e(r));const{artist:u,title:d}=je.getSong();kn.capture("introSkipped",{name:`${u} - ${d}`,artist:u,title:d})}},a);const c=_.useMemo(()=>({accept:"Skip Intro",back:"Pause Menu"}),[]);return Pu(c,a),!n&&a?f.jsxs(eve,{visible:a,"data-test":"skip-intro-info",children:["Press ",f.jsx(tve,{children:"Enter"})," to skip the intro"]}):null}const eve=C("div",{target:"e167kngm1"})(Ne,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),tve=C("kbd",{target:"e167kngm0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),nve=15e3;function rve({onSongEnd:e,isEnabled:t}){const[n]=$e(Zn),r=je.getDuration(),i=_.useMemo(()=>Math.max(...je.getPlayers().map(p=>hf(p.getLastNotesSection()))),[]),s=_.useMemo(()=>{var g;const p=_N(i,je.getSong())+(((g=je.getSong())==null?void 0:g.gap)??0);return t&&r*1e3>p+nve},[r,i,t]),[o,a]=_.useState(0),[l,c]=_.useState(!1);tce(()=>a(je.getCurrentBeat()),1e3);const u=$w(s&&o>i,5e3)&&!l;Tl({accept:()=>{c(!0),setTimeout(e,700);const{artist:p,title:g}=je.getSong();kn.capture("outroSkipped",{name:`${p} - ${g}`,artist:p,title:g})}},u);const h=_.useMemo(()=>({accept:"Skip Outro",back:"Pause Menu"}),[]);return Pu(h,u),!n&&s?f.jsxs(ive,{visible:u,"data-test":"skip-outro-info","data-visible":u,children:["Press ",f.jsx(sve,{children:"Enter"})," to skip the outro"]}):null}const ive=C("div",{target:"e1b01y1a1"})(Ne,";pointer-events:none;position:fixed;bottom:29rem;transform:scale(",e=>e.visible?1:0,");opacity:",e=>e.visible?1:0,";text-align:center;font-size:5rem;text-shadow:0 0 3.5rem black;width:100%;z-index:4;padding:0.5rem;transition:ease 500ms;"),sve=C("kbd",{target:"e1b01y1a0"})("margin:0.2rem;padding:0.2rem 2rem;border-radius:1.3rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);line-height:1.4;display:inline-block;background-color:rgb(247, 247, 247);text-shadow:0 1rem 0 #fff;opacity:",e=>e.disabled?.25:1,";"),ove=Pe.memo(rve);function JP(e){return e&&e.length?sN(e):[]}function ave({players:e}){const t=je.getCurrentTime(!1),n=je.getSongBeatLength(),r=je.getDuration(),i=je.getSong(),s=_.useMemo(()=>JP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>aa(l)*n+i.gap)),[i,n,e]),o=_.useMemo(()=>JP(i.tracks.filter((l,c)=>e.find(u=>u.track===c)).map(({sections:l})=>ff(l)*n+i.gap)),[i,n,e]),a=r*1e3;return!t||!r?null:f.jsxs(mE,{children:[s.map(l=>f.jsx(XP,{position:l/a},l)),o.map(l=>f.jsx(XP,{position:l/a},l)),f.jsx(uve,{fill:t/a})]})}const mE=C("div",{target:"e1pz3mwm2"})({name:"1q7pdku",styles:"position:absolute;height:0.6rem;width:100%;background:rgba(0, 0, 0, 0.5);left:0;top:calc(50% - 0.3rem)"}),lve=C(mE,{target:"e1pz3mwm1"})("top:0;margin-left:-0.25rem;width:0.5rem;background:",he.colors.text.active,";opacity:75%;"),XP=e=>f.jsx(lve,{style:{left:`${Math.min(e.position*100,100)}%`}}),cve=C(mE,{target:"e1pz3mwm0"})({name:"1ssqmyb",styles:"top:0;background:white;opacity:50%"}),uve=e=>f.jsx(cve,{style:{width:`${Math.round(e.fill*1e4)/100}%`}});function dve({player:e,bottom:t=!1,...n}){const r=sn.getPlayerVolume(e.number),i=t$(e.number);return f.jsxs(fve,{...n,children:[i!=="unavailable"&&f.jsx(Zhe,{playerNumber:e.number,volume:r}),f.jsx(hve,{status:i,tooltipPosition:"start"}),f.jsx(pve,{playerNumber:e.number})]})}const fve=C("div",{target:"ea232322"})({name:"180gow0",styles:"width:20rem;position:relative"}),hve=C(s$,{target:"ea232321"})({name:"14rk3pa",styles:"top:auto;right:1rem;bottom:-0.5rem"}),pve=C(r$,{target:"ea232320"})({name:"ed8znk",styles:"z-index:2;font-size:2rem;margin-right:1rem;-webkit-text-stroke:0.1rem black"});function ZP({player:e,bottom:t=!1,effectsEnabled:n,showMultipleLines:r}){var S;const i=je.getPlayer(e.number),[s]=$e(Zn),o=he.colors.players[e.number].text,a=((S=je.getSingSetup())==null?void 0:S.mode)===mr.PASS_THE_MIC?i.getTrack().changes:[],l=i.getCurrentSection(),c=i.getNextSection(),u=i.getNextSection(2),d=je.getCurrentBeat(),h=je.getSongBeatLength(),p=Math.max(0,...a.filter(x=>x<=((l==null?void 0:l.start)??-1/0))),g=a.find(x=>x>((l==null?void 0:l.start)??1/0))??1/0,m=(g-d)*h,A=(g-d)/(g-p),v=m<2500,y=St(l),b=y?aa([l])-l.start:0;return f.jsxs(Ave,{shouldBlink:v,bottom:t,"data-test":`lyrics-container-player-${e.number}`,children:[!s&&n&&f.jsx(gve,{children:r?f.jsx(eR,{player:e}):je.getPlayers().map(x=>f.jsx(eR,{player:Re.getPlayer(x.getNumber())},x.getNumber()))}),m<1/0&&f.jsx(Eve,{color:o,progress:A<=1?A*100:0}),y?f.jsx(f.Fragment,{children:f.jsxs(Cp,{"data-test":`lyrics-current-player-${e.number}`,effectsEnabled:n,children:[f.jsx(mve,{children:f.jsx(yve,{color:o,percent:Math.min(2,(d-l.start)/b)})}),l==null?void 0:l.notes.map(x=>{const w=Math.max(0,Math.min(2,(d-x.start)/x.length));return f.jsxs(_ve,{type:x.type,children:[f.jsxs(bve,{children:[f.jsx(Sve,{fill:w,color:o,children:x.lyrics.trim()}),x.lyrics.endsWith(" ")&&" "]}),x.lyrics]},x.start)}),(c==null?void 0:c.start)===g&&f.jsx(tR,{shouldShake:!0})]})}):f.jsx(Cp,{effectsEnabled:n,children:""}),St(c)?f.jsxs(Cp,{nextLine:!0,"data-test":`lyrics-next-player-${e.number}`,effectsEnabled:n,children:[c.notes.map(x=>f.jsx(_.Fragment,{children:x.lyrics},x.start)),(u==null?void 0:u.start)===g&&f.jsx(tR,{})]}):f.jsx(Cp,{effectsEnabled:n,nextLine:!0,children:""})]})}const eR=C(dve,{target:"e1j3lo7n10"})({name:"82a6rk",styles:"flex:1"}),gve=C("div",{target:"e1j3lo7n9"})({name:"zrovsy",styles:"position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%"}),mve=C("span",{target:"e1j3lo7n8"})({name:"1sngsgs",styles:"position:relative;height:0"}),vve=C("span",{target:"e1j3lo7n7"})({name:"7drlms",styles:"position:absolute;width:15rem;height:3.1rem;margin:0.7rem 0;right:10rem"}),yve=({percent:e,color:t})=>{const n=_.useMemo(()=>{const r=fe(t).toRgb();return`${r.r}, ${r.g}, ${r.b}`},[t]);return f.jsx(vve,{style:{transformOrigin:"right",transform:`scaleX(${Math.min(1,2-e)})`,right:`${Math.max(0,1-e)*15}rem`,background:`linear-gradient(270deg, rgba(${n}, 1) 0%, rgba(${n}, 0.5) 25%, rgba(${n}, 0) 100%)`}})},Ave=C("div",{target:"e1j3lo7n6"})("@keyframes blink{100%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}50%{background-color:rgba(200, 200, 200, ",e=>e.bottom?"0.85":"0.5",");}30%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}0%{background-color:rgba(0, 0, 0, ",e=>e.bottom?"0.85":"0.5",");}}box-sizing:border-box;padding:1rem;background:rgba(0, 0, 0, ",e=>e.bottom?"0.9":"0.5",");width:100%;text-align:center;line-height:1;position:relative;",e=>e.shouldBlink?"animation: blink 350ms ease-in-out infinite both;":"",";"),_ve=C("span",{target:"e1j3lo7n5"})("font-style:",e=>e.type==="freestyle"?"italic":"normal",";"),bve=C("span",{target:"e1j3lo7n4"})({name:"nffb2y",styles:"position:absolute;z-index:1"}),xve=C("span",{target:"e1j3lo7n3"})(""),Sve=({fill:e,color:t,children:n})=>f.jsx(xve,{style:{clipPath:`inset(0 ${(1-(e===0?0:e+.05))*100}% -5rem 0)`,color:`${t}`},children:n}),wve=C("div",{target:"e1j3lo7n2"})("position:absolute;height:1rem;background:",e=>e.color,";width:100%;"),Eve=e=>f.jsx(wve,{"data-test":"pass-the-mic-progress",style:{transformOrigin:"left",transform:`scaleX(${e.progress/100})`},color:e.color}),tR=C(hv,{shouldForwardProp:e=>e!=="shouldShake",target:"e1j3lo7n1"})("@keyframes shake{10%,90%{transform:translate3d(-0.1rem, 0, 0);}20%,80%{transform:translate3d(0.2rem, 0, 0);}30%,50%,70%{transform:translate3d(-0.4rem, 0, 0);}40%,60%{transform:translate3d(0.4rem, 0, 0);}}",e=>e.shouldShake&&"animation: shake 0.92s cubic-bezier(0.36, 0.07, 0.19, 0.97) both infinite;"," margin-left:2rem;",e=>e.shouldShake?`fill: ${he.colors.text.active};`:""," font-size:",e=>e.shouldShake?4:3,"rem;"),Cp=C("div",{target:"e1j3lo7n0"})("font-size:",({nextLine:e,effectsEnabled:t})=>t?3.5+(e?0:1):2,"rem;height:",({effectsEnabled:e})=>e?4.5:2,"rem;",({effectsEnabled:e})=>e?"":"-webkit-text-stroke-width: 2px",";color:",({nextLine:e})=>e?he.colors.text.inactive:he.colors.text.default,";font-family:'Comic Sans MS',Seravek,'Gill Sans Nova',Ubuntu,Calibri,'DejaVu Sans',source-sans-pro,sans-serif;z-index:10;"),p$=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function rb({score:e}){return f.jsx(f.Fragment,{children:p$.format(e)})}const g$=6,pi=30,un=pi+6,kve=e=>{const t=e.canvas.width,n=e.canvas.height,r=Math.max(0,(t-n*(16/9))/2),i=10+(t-2*r)*.15+r,s=n-e.paddingVertical*2;return{width:t-i*2,height:s/e.playerCount,baseX:i,baseY:e.paddingVertical+e.playerIndex*s/e.playerCount}};function nR({canvas:e,currentSectionIndex:t,song:n,songBeatLength:r,minPitch:i,maxPitch:s,track:o,playerIndex:a,playerCount:l,paddingVertical:c}){var b;const u=o.sections,d=u[t],h=u[t+1],p=kve({canvas:e,playerCount:l,playerIndex:a,paddingVertical:c}),g=St(d)?(b=d==null?void 0:d.notes)==null?void 0:b.at(-1):void 0,m=St(d)?(h==null?void 0:h.start)??g.start+g.length:d.end,A=d.start*r,v=(m-d.start)*r,y=(p.height-20-pi)/(s-i+g$*2);return{playerCanvas:p,currentSection:d,sectionEndBeat:m,timeSectionGap:A,maxTime:v,pitchStepHeight:y}}function m$(e,t,n,r,i){return i&&n?he.colors.players[t].starPerfect:i?he.colors.players[t].perfect:n&&r?he.colors.players[t].star:r?he.colors.players[t].hit:he.colors.players[t].miss}function Cve(e,t,n,r){return m$(e,t,r.note.type==="star",n,r.isPerfect)}const hA={},Tve=e=>{if(!hA[e]){const t=fe(e);hA[e]=[[t.setAlpha(.8).toRgbString(),t.setAlpha(.9).toRgbString(),t.setAlpha(1).toRgbString()],[t.setAlpha(0).toRgbString()],[t.setAlpha(.1).toRgbString(),t.setAlpha(.3).toRgbString(),t.setAlpha(.2).toRgbString()]]}return hA[e]};function ib(e,t,n,r,i,s,o,a=1){if(i<=0)return;t.globalAlpha=1;const l=t.createRadialGradient(n,r,0,n,r,i/2),[c,u,d]=Tve(o);l.addColorStop(0,c[Ts(0,c.length-1)]),l.addColorStop(.05,c[Ts(0,c.length-1)]),l.addColorStop(.15,d[Ts(0,d.length-1)]),l.addColorStop(1,u[Ts(0,u.length-1)]),t.beginPath(),t.arc(n,r,i/2,0,2*Math.PI),t.closePath(),t.fillStyle=l,t.fill(),t.fillStyle=o,t.globalAlpha=1}function v$(e,t,n,r,i,s,o,a,l=1){i>0&&ib(e,t,n,r,i,s,a,l)}const hg=(e,t)=>e-t+Math.random()*t*2,rR=(e=0)=>Math.sign(e+Math.random()-.5),Ive=300,Pve=50,Tp=1.3;class Rve{constructor(t,n,r){this.x=t,this.y=n,this.color=r,this.finished=!1,this.tick=(i,s,o)=>{const a=1-this.ttl/this.startingTtl,l=this.ttl,c=this.width*a,u=this.width*this.heightModifier*a,d=this.x-c/2+l*this.velocityX,h=this.y+u/2+l*this.velocityY;v$(s,i,d,h,c,u,this.initialAngle+l,this.color,.7*a),this.ttl=this.ttl-o,this.finished=this.ttl<=0},this.startingTtl=this.ttl=hg(Ive,Pve),this.velocityX=Tp*Math.random()-Tp/2,this.velocityY=Tp*Math.random()-Tp/2,this.width=25,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}const Mve=`
precision mediump float;
`,_v=Mve.replace(/\n/g,""),jve=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`,y$=jve.replace(/\n/g,""),Ove=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`,bv=Ove.replace(/\n/g,""),Vve=_v+y$+bv+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;Vve.replace(/\n/g,"");const Lve=_v+bv+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;Lve.replace(/\n/g,"");const Nve=_v+y$+bv+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;Nve.replace(/\n/g,"");const $ve=_v+bv+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;$ve.replace(/\n/g,"");function Bve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Nx(e,t,n)}var Dve="\\ud800-\\udfff",Fve="\\u0300-\\u036f",zve="\\ufe20-\\ufe2f",Uve="\\u20d0-\\u20ff",Hve=Fve+zve+Uve,qve="\\ufe0e\\ufe0f",Gve="\\u200d",Wve=RegExp("["+Gve+Dve+Hve+qve+"]");function A$(e){return Wve.test(e)}function Yve(e){return e.split("")}var _$="\\ud800-\\udfff",Kve="\\u0300-\\u036f",Qve="\\ufe20-\\ufe2f",Jve="\\u20d0-\\u20ff",Xve=Kve+Qve+Jve,Zve="\\ufe0e\\ufe0f",eye="["+_$+"]",sb="["+Xve+"]",ob="\\ud83c[\\udffb-\\udfff]",tye="(?:"+sb+"|"+ob+")",b$="[^"+_$+"]",x$="(?:\\ud83c[\\udde6-\\uddff]){2}",S$="[\\ud800-\\udbff][\\udc00-\\udfff]",nye="\\u200d",w$=tye+"?",E$="["+Zve+"]?",rye="(?:"+nye+"(?:"+[b$,x$,S$].join("|")+")"+E$+w$+")*",iye=E$+w$+rye,sye="(?:"+[b$+sb+"?",sb,x$,S$,eye].join("|")+")",oye=RegExp(ob+"(?="+ob+")|"+sye+iye,"g");function aye(e){return e.match(oye)||[]}function lye(e){return A$(e)?aye(e):Yve(e)}function cye(e){return function(t){t=Vx(t);var n=A$(t)?lye(t):void 0,r=n?n[0]:t.charAt(0),i=n?Bve(n,1).join(""):t.slice(1);return r[e]()+i}}var uye=cye("toUpperCase");function dye(e){return uye(Vx(e).toLowerCase())}function iR(e,t,n,r,i,s,o,a){const l=Math.max(r,i/2),c=Math.min(l/2,i/2,s);e.beginPath(),e.moveTo(t+c,n),e.lineTo(t+l-c,n),e.quadraticCurveTo(t+l,n,t+l,n+c),e.lineTo(t+l,n+i-c),e.quadraticCurveTo(t+l,n+i,t+l-c,n+i),e.lineTo(t+c,n+i),e.quadraticCurveTo(t,n+i,t,n+i-c),e.lineTo(t,n+c),e.quadraticCurveTo(t,n,t+c,n),e.closePath(),o&&e.fill(),a&&e.stroke()}function vE(e,t,n,r,i,s,o,a,l=.1){iR(e,t,n,r,i,s,o,a),o&&l>0&&(e.save(),iR(e,t,n,r,i,s,!1,!1),e.clip(),e.fillStyle=`rgba(255,255,255,${l})`,e.fillRect(t,n,r,i/2.2),e.restore())}function Sd(e,t){e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.lineWidth=t.lineWidth}function wd(e,t,n,r,i,s,o){s==="star"?Sd(e,he.colors.lines.star):s==="freestyle"||s==="rap"?Sd(e,he.colors.lines.freestyle):s==="rapstar"?Sd(e,{...he.colors.lines.star,fill:he.colors.lines.freestyle.fill}):Sd(e,he.colors.lines.normal),e.shadowBlur=10,e.shadowColor=o!==void 0?he.colors.players[o].miss.stroke:"rgb(31,31,31)",e.shadowOffsetX=0,e.shadowOffsetY=0,vE(e,t,n,r,i,100,!0,!0,.075),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}function fye(e,t,n,r,i,s,o,a,l){Sd(e,m$(e,s,l,o,a)),e.shadowBlur=5,e.shadowColor="rgba(31,31,31, .7)",e.shadowOffsetX=1,e.shadowOffsetY=1,vE(e,t,n,r,i,100,!0,!0,o?.15:0),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}const Sn=10,hye={start:{x:0,y:0,w:pi/2+Sn,h:pi+Sn*2},middle:{x:pi/2+Sn,y:0,w:1,h:pi+Sn*2},end:{x:pi/2+1+Sn,y:0,w:pi/2+Sn,h:pi+Sn*2}},bc={start:{x:0,y:0,w:un/2+Sn,h:un+Sn*2},middle:{x:un/2+Sn,y:0,w:1,h:un+Sn*2},end:{x:un/2+1+Sn,y:0,w:un/2+Sn,h:un+Sn*2}},Kl=(e,t,n,r,i)=>({draw:(s,o,a,l,c)=>fye(s,o,a,l,c,e,t,n,r),width:i?un:pi+1,height:i?un:pi,padding:Sn,fragments:i?bc:hye}),Ip=e=>({[`p${e}Normal`]:{draw:(t,n,r,i,s)=>wd(t,n,r,i,s,"normal",e),width:un+1,height:un,padding:Sn,fragments:bc},[`p${e}Miss`]:Kl(e,!1,!1,!1,!1),[`p${e}Hit`]:Kl(e,!0,!1,!1,!0),[`p${e}Perfect`]:Kl(e,!0,!0,!1,!0),[`p${e}StarMiss`]:Kl(e,!1,!1,!0,!1),[`p${e}StarHit`]:Kl(e,!0,!1,!0,!0),[`p${e}StarPerfect`]:Kl(e,!0,!0,!0,!0)}),Zs={...Ip(0),...Ip(1),...Ip(2),...Ip(3),noteStar:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"star"),width:un+1,height:un,padding:Sn,fragments:bc},noteFreestyle:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"freestyle"),width:un+1,height:un,padding:Sn,fragments:bc},noteRap:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"rap"),width:un+1,height:un,padding:Sn,fragments:bc},noteRapstar:{draw:(e,t,n,r,i)=>wd(e,t,n,r,i,"rapstar"),width:un+1,height:un,padding:Sn,fragments:bc}};function pye(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}const k$=Math.max(...Object.values(Zs).map(e=>e.padding*2+e.width)),C$=Object.values(Zs).map(e=>e.padding*2+e.height).reduce((e,t)=>e+t,0),T$=pye(k$,C$),ab=T$.getContext("2d");let Wa=0;const sR=Object.entries(Zs).map(([e,t])=>{const n=t.padding*2,r={name:e,x:0,y:Wa,w:t.width+n,h:t.height+n};return Wa=Wa+t.height+n,r}).reduce((e,t)=>({...e,[t.name]:t}),{}),I$=()=>{ab.clearRect(0,0,k$,C$),Wa=0,Object.entries(Zs).forEach(([e,t])=>{t.draw(ab,t.padding,Wa+t.padding,t.width,t.height),Wa=Wa+t.padding*2+t.height})};I$();te.songStarted.subscribe(I$);const P$=(e,t)=>({canvas:T$,ctx:ab,x:sR[e].x+Zs[e].fragments[t].x,y:sR[e].y+Zs[e].fragments[t].y,w:Zs[e].fragments[t].w,h:Zs[e].fragments[t].h,padding:Zs[e].padding}),pA=(e,t,n,r,i,s,o,a=1,l=1)=>{const c=P$(t,n),{canvas:u,w:d,h,y:p,x:g,padding:m}=c,A=m*a,v=m*l;return e.imageSmoothingEnabled=!1,e.drawImage(u,g,p,d,h,r-A,i-v,s??d,o??h),e.imageSmoothingEnabled=!0,c};function R$(e,t,n,r,i){const s=P$(t,"start"),o=Math.max(i,(s.h-s.padding*2)/2),a=Math.min(1,o/2/(s.w-s.padding)),l=a*s.w,c=l-s.padding*a,u=o-2*c;pA(e,t,"start",n,r,l,void 0,a),u>0&&pA(e,t,"middle",n+l,r,u,void 0,a),pA(e,t,"end",n+u+l,r,l,void 0,a)}const gye=(e,t)=>`${t!==void 0&&e==="normal"?`p${t}`:"note"}${dye(e)}`;function M$(e,t,n,r,i,s){const o=gye(i.type,s);R$(e,o,t,n,r)}function mye(e,t,n,r,i,s){e.save(),vE(e,t,n,r,i,100,!1,!1),e.clip(),e.beginPath(),e.strokeStyle="rgba(255,255,255, .35)",e.lineWidth=3,e.lineJoin="round",e.moveTo(t,n+i/2-s.frequencyRecords[0].preciseDistance*i/3);for(let o=1;o<s.frequencyRecords.length;o++)e.lineTo(t+o*(r/(s.frequencyRecords.length-1)),n+i/2-s.frequencyRecords[o].preciseDistance*i/3);e.stroke(),e.closePath(),e.restore(),e.lineJoin="miter"}const vye=(e,t,n,r)=>{let i=`p${e}`;return n&&r?i=`${i}StarPerfect`:n?i=`${i}Perfect`:r&&t?i=`${i}StarHit`:t?i=`${i}Hit`:r&&!t?i=`${i}StarMiss`:i=`${i}Miss`,i},yye=["star","rapstar"];function Aye(e,t,n,r,i,s,o){const a=vye(i,s,o.isPerfect,yye.includes(o.note.type));R$(e,a,t,n,r)}class _ye{constructor(){this.particles=[],this.lastTick=Date.now(),this.getTimeDelta=t=>{const n=Date.now()-t,r=n-this.lastTick;return this.lastTick=n,r},this.tick=(t,n,r=0)=>{const i=this.getTimeDelta(r);this.particles.forEach(s=>s.tick(t,n,i)),this.particles=this.particles.filter(s=>!s.finished)},this.add=t=>this.particles.push(t),this.clearAll=()=>this.particles=[]}}const Ia=new _ye,bye=50/60*1e3,xye=25/60*1e3,Sye=60,oR=.3;class wye{constructor(t,n,r,i){this.x=t,this.y=n,this.color=r,this.delay=i,this.finished=!1,this.tick=(s,o,a)=>{if(this.delay-- >0)return;const l=this.ttl/this.startingTtl,c=this.startingTtl-this.ttl,u=this.width*l,d=this.width*this.heightModifier*l,h=this.x-u/2+c*this.velocityX,p=this.y-d/2+c*this.velocityY;v$(o,s,h,p,u,d,this.initialAngle+c,this.color,.8*l),this.velocityX=this.velocityX-.009,this.velocityY=this.velocityY*1.0075,this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.startingTtl=this.ttl=hg(bye,xye),this.velocityX=hg(.5,oR)*rR(.2),this.velocityY=hg(.4,oR)*rR(),this.width=Sye,this.initialAngle=180-Math.random()*360,this.heightModifier=.5+Math.random()/2}}class Eye{constructor(t,n,r,i,s,o){this.finished=!0,this.tick=(d,h)=>{};const a=s.type==="star"?he.colors.players[i].star.fill:he.colors.players[i].perfect.fill,l=fe(a).lighten(15).toRgbString(),c=fe(a).darken(15).toRgbString(),u=r/8;for(let d=0;d<u;d++){const h=Math.random();let p=a;h>.66?p=l:h>.33&&(p=c);const g=n+20*(Math.random()-.5);o.add(new wye(t+d*5,g,p,(u-d)/10))}}}const aR=200;class kye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.width=r,this.note=i,this.playerNumber=s,this.finished=!1,this.ttl=aR,this.tick=(o,a,l)=>{const c=this.ttl/aR;o.save(),o.globalAlpha=c,o.translate(0,un*(1-c)),M$(o,this.x,this.y,this.width,this.note,this.playerNumber),o.globalAlpha=1,o.restore(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const gA=50/60*1e3,Pp=.05,Cye=200,lR=4,Tye=Math.pow;function cR(e){return 1-Tye(1-e,2)}class Iye{constructor(t,n,r,i){this.x=t,this.y=n,this.finished=!1,this.tick=(s,o,a)=>{const l=this.ttl/gA;let c=cR(1-Math.min(1,(1-l)*6));const u=this.maxWidth*c*3/4,d=this.maxWidth*c;ib(o,s,this.x,this.y,u,d,"white",c*.35),c=cR(l);const h=c*this.maxWidth/4,p=c*this.maxWidth/4,g=this.x,m=this.y,A=gA-this.ttl;s.globalAlpha=c*.2,ib(o,s,g+A*this.velocityX,m+A*this.velocityY,h,p,"white",c*.2),this.ttl=this.ttl-a,this.finished=this.ttl<=0},this.ttl=gA,this.velocityX=Pp*Math.random()-Pp/2,this.velocityY=Pp*Math.random()-Pp/2,this.maxWidth=Math.min(.1+i,1)*(Math.sin(r/70)*lR+(Cye-lR))}}const uR=20;class Pye{constructor(t,n,r,i,s){this.x=t,this.y=n,this.w=r,this.h=i,this.seed=s,this.finished=!1,this.ttl=2/60*1e3,this.tick=(o,a,l)=>{o.strokeStyle="rgba(255,255,255,.25)",o.lineWidth=2,o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=(this.h/2+2)*Math.sin(u/uR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),o.beginPath();for(let c=0;c<this.w;c++){const u=this.x+this.w-c,d=-1*(this.h/2+2)*Math.sin(u/uR+this.seed/250);o.lineTo(u,this.y+this.h/2+d)}o.stroke(),this.ttl=this.ttl-l,this.finished=this.ttl<=0}}}const dR=20;function Rye(e,t){return e.find(n=>n.start<=t&&n.start+n.length>=t)}class Mye{constructor(t,n=0,r=1){this.canvas=t,this.verticalMargin=n,this.scaleFactor=r,this.loop=!1,this.pauseTime=0,this.pausedOn=0,this.shaders=null,this.start=()=>{te.sectionChange.subscribe(this.onSectionEnd),this.loop=!0,this.drawFrame()},this.pause=()=>{this.end(),this.pausedOn=Date.now()},this.resume=()=>{this.pauseTime+=Date.now()-this.pausedOn,this.start()},this.end=()=>{var i;this.loop=!1,(i=this.shaders)==null||i.cleanup(),te.sectionChange.unsubscribe(this.onSectionEnd)},this.isPlaying=()=>this.loop,this.drawFrame=()=>{const i=Date.now(),s=this.canvas.getContext("2d");if(s){if(je.isPlaying()&&(s.clearRect(0,0,this.canvas.width,this.canvas.height),Re.getPlayers().forEach((a,l)=>{this.drawPlayer(a.number,s)}),Ia.tick(s,this.canvas,this.pauseTime)),Ya.get()===30){const o=Date.now(),a=1e3/30,l=o-i>a?a:a-(o-i);this.loop&&setTimeout(this.drawFrame,l,Ya.get())}Ya.get()!==30&&this.loop&&global.requestAnimationFrame(this.drawFrame)}},this.drawPlayer=(i,s)=>{const o=this.getDrawingData(i),{currentSection:a}=nR(o);if(xs.get()==="high"&&this.setDistortionForce(o),!St(a))return;const l=this.calculateDisplacements(a,o);this.drawNotesToSing(s,o,l),this.drawSungNotes(s,o,l),xs.get()==="high"&&this.drawFlare(s,o,l)},this.setDistortionForce=i=>{var o,a,l;const s=i.currentSection;if(!St(s))(a=this.shaders)==null||a.updatePlayerForce(i.playerNumber,(((o=this.shaders)==null?void 0:o.getPlayerForce(i.playerNumber))??0)*.99);else{const c=Math.max(0,i.currentBeat-dR),u=i.currentPlayerNotes.filter(m=>m.note.start+m.note.length>=c).filter(m=>Vg(m)===0).reduce((m,A)=>m+A.length-Math.max(0,c-A.start),0),d=i.currentPlayerNotes.at(-1),h=((d==null?void 0:d.start)??0)+((d==null?void 0:d.length)??0),p=i.currentBeat-h,g=Math.max(Math.min(Math.pow((u-p/1.5)/dR,3),.98),0);(l=this.shaders)==null||l.updatePlayerForce(i.playerNumber,g)}},this.drawNotesToSing=(i,s,o)=>{St(s.currentSection)&&s.currentSection.notes.forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.pitch,!0,o[a.start]);M$(i,l,c,u,a,s.playerNumber)})},this.drawSungNotes=(i,s,o)=>{St(s.currentSection)&&s.currentPlayerNotes.forEach(a=>{const l=Vg(a),{x:c,y:u,w:d,h}=this.getNoteCoords(s,a,a.note.pitch+l,l===0,o[a.note.start]);(l>0||d>h/2.5)&&(Aye(i,c,u,d,s.playerNumber,l===0,a),a.vibrato&&Ia.add(new Pye(c,u,d,h,s.currentTime)),l===0&&a.frequencyRecords.length>3&&!jd.includes(a.note.type)&&mye(i,c,u,d,h,a))})},this.drawFlare=(i,s,o)=>{var l;if(!St(s.currentSection))return;const a=Rye(s.currentPlayerNotes,s.currentBeat-185/s.songBeatLength);if(a&&a.distance===0){const c=o[a.note.start]||[0,0],{x:u,y:d,w:h,h:p}=this.getNoteCoords(s,a,a.note.pitch,!0,c),g=jd.includes(a.note.type)?0:a.frequencyRecords.at(-1).preciseDistance,m=u+h,A=this.getPreciseY(d,p,g);Ia.add(new Iye(m,A,s.currentTime,1)),Ia.add(new Rve(c$(Math.max(u,m-50),m),A,Cve(i,s.playerNumber,!0,a).fill)),(l=this.shaders)==null||l.updatePlayerCenter(s.playerNumber,m,A)}},this.onSectionEnd=i=>{if(je.isPlaying()){const s=this.getDrawingData(i,-1);if(!St(s.currentSection))return;this.fadeoutNotes(s.currentSection,s),this.explodeNotes(s.currentSection,s)}},this.fadeoutNotes=(i,s)=>{xs.get()==="high"&&i.notes.forEach(o=>{const{x:a,y:l,w:c,h:u}=this.getNoteCoords(s,o,o.pitch,!0);Ia.add(new kye(a,l,c,o,s.playerNumber))})},this.explodeNotes=(i,s)=>{xs.get()==="high"&&s.playerNotes.filter(a=>(a.distance===0||jd.includes(a.note.type))&&i.notes.includes(a.note)).forEach(a=>{const{x:l,y:c,w:u,h:d}=this.getNoteCoords(s,a,a.note.pitch,!0);Ia.add(new Eye(l,c+d/2,u,s.playerNumber,a.note,Ia))})},this.calculateDisplacements=(i,s)=>{const o={};return xs.get()==="high"?i.notes.forEach(a=>{const l=s.playerNotes.filter(h=>h.note.start===a.start).filter(h=>h.note.start+h.note.length+30>=s.currentBeat&&h.distance===0).map(h=>h.start+30<s.currentBeat?h.length-(s.currentBeat-30-h.start):h.length).reduce((h,p)=>Math.min(h+p,30),0),c=Math.max(0,(l-5)/(a.type==="star"?3:5)),u=(Math.random()-.5)*c,d=(Math.random()-.5)*c;o[a.start]=[u,d]}):i.notes.forEach(a=>{o[a.start]=[0,0]}),o},this.getDrawingData=(i,s=0)=>{const o=Re.getPlayers(),a=o.findIndex(m=>m.number===i),l=o.length,c=je.getPlayer(i),u=c.getCurrentSectionIndex()+s,d=je.getSong(),h=c.getTrack(),p=h.sections[u],g=c.getPlayerNotes();return{playerNumber:i,playerIndex:a,playerCount:l,song:d,songBeatLength:je.getSongBeatLength(),minPitch:c.getMinPitch(),maxPitch:c.getMaxPitch(),canvas:this.canvas,currentTime:je.getCurrentTime(),frequencies:c.getPlayerFrequencies(),playerNotes:g,currentPlayerNotes:g.filter(m=>m.note.start>=((p==null?void 0:p.start)??1/0)),track:h,currentBeat:je.getCurrentBeat(),currentSectionIndex:u,currentSection:p,paddingVertical:this.verticalMargin}},this.getNoteCoords=(i,{start:s,length:o},a,l,c=[0,0])=>{const{sectionEndBeat:u,currentSection:d,playerCanvas:h,pitchStepHeight:p}=nR(i),g=St(d)?d.notes[0].start:1,m=h.width/(u-g),[A,v]=l?c:[0,0],y=p*(i.maxPitch-a+g$);return{x:Math.floor(h.baseX+m*(s-g)+A),y:Math.floor(h.baseY+10+y+v-(l?3:0)),w:Math.floor(m*o),h:l?un:pi}},this.getPreciseY=(i,s,o)=>i+s/2-o*s/3}}const jye=`precision mediump float;

const float MAX_FORCE = 300.0;
const int SAMPLE_COUNT = 8; // 2^x
const float INTENSITY = 0.051;
// get our varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
// the uniform we declared inside our javascript
uniform float uTime;
uniform sampler2D planeTexture;
uniform vec2 uResolution;

uniform vec2 uP0center;
uniform float uP0force;

uniform vec2 uP1center;
uniform float uP1force;

float rnd(float n) {
    return fract(sin(n) * 43758.5453);
}
float random (vec2 st) {
    return rnd(dot(st.xy, vec2(12.9898, 78.233)));
}

vec4 directionalBlur(in vec2 uv, in vec2 direction, in float intensity)
{
    vec4 color = vec4(0.0);

    for (int i=1; i<=SAMPLE_COUNT; i++)
    {
        color += texture2D(planeTexture,uv+float(i)*intensity/float(SAMPLE_COUNT)*direction);
    }

    return color/float(SAMPLE_COUNT);
}

float distort(vec2 center, float force, float comparedIntensity) {
    float actualForce = force * MAX_FORCE;
    vec2 centerAbs = center * uResolution;

    vec2 direction = gl_FragCoord.xy - centerAbs.xy;
    float dist = length(direction) / length(uResolution);


    float intensity = max(0.0, 0.50 - dist) * INTENSITY * pow(force, 1.5);
    if (intensity > comparedIntensity) {
        vec4 newColor = directionalBlur(gl_FragCoord.xy / uResolution, normalize(direction), intensity);
        gl_FragColor = newColor;
    }
    return intensity;
}

void main() {
    gl_FragColor = texture2D(planeTexture, vTextureCoord);
    float p1intensity = distort(uP0center, uP0force, 0.0);
    float p2intensity = distort(uP1center, uP1force, p1intensity);
}`,Oye=`
precision mediump float;

// default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

uniform mat4 planeTextureMatrix;

// custom varyings
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;

void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

    // varyings
    vVertexPosition = aVertexPosition;
    vTextureCoord = (planeTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
}`,Vye=1920,Lye=_.forwardRef(function({currentStatus:e,width:t,height:n,playerSetups:r,onSongEnd:i,effectsEnabled:s,videoPlayerRef:o,isPauseMenuVisible:a},l){var b,S,x;const[c]=$e(xs),[u]=$e(Zn),d=_.useRef(null),h=_.useRef(null),p=_.useRef(null),g=Vye,m=g*(n/t),A=m/n;_.useImperativeHandle(l,()=>({pause:()=>{var w;return(w=h.current)==null?void 0:w.pause()},resume:()=>{var w;return(w=h.current)==null?void 0:w.resume()}}),[h.current,(b=p.current)==null?void 0:b.offsetHeight,A]),_.useEffect(()=>(je.startInputMonitoring(),()=>{je.stopInputMonitoring()}),[]),_.useEffect(()=>{if(!(!d.current||!p.current))return h.current=new Mye(d.current,p.current.offsetHeight*A),h.current.start(),()=>{var w;(w=h.current)==null||w.end()}},[(S=p.current)==null?void 0:S.offsetHeight,A]),_.useEffect(()=>{var w,E,I,L;a&&((w=h.current)!=null&&w.isPlaying())?(E=h.current)==null||E.pause():!a&&!((I=h.current)!=null&&I.isPlaying())&&((L=h.current)==null||L.resume())},[a]),_.useEffect(()=>{e===An.ENDED&&i&&i()},[e,i]);const v=Re.getPlayers(),y=!u&&v.length===2;return f.jsxs(Nye,{children:[c==="high"&&f.jsxs(f.Fragment,{children:[f.jsx("script",{type:"x-shader/x-fragment",id:"plane-fs",children:jye}),f.jsx("script",{id:"plane-vs",type:"x-shader/x-vertex",children:Oye}),f.jsx(Bye,{id:"canvas",style:{zIndex:1e4}})]}),f.jsx($ye,{id:"plane",style:s?void 0:{opacity:0},children:f.jsx("canvas",{ref:d,width:g,height:m,"data-sampler":"planeTexture"})}),s&&f.jsxs(f.Fragment,{children:[f.jsx(Z0e,{playerRef:o,isEnabled:!a}),f.jsx(ove,{onSongEnd:i,isEnabled:!a})]}),f.jsx(ave,{players:r}),f.jsx(fR,{children:y&&f.jsx(ZP,{player:v[0],effectsEnabled:s,showMultipleLines:y})}),f.jsx(Dye,{children:s&&f.jsx(f.Fragment,{children:((x=je.getSingSetup())==null?void 0:x.mode)===mr.CO_OP?f.jsx(hR,{"data-test":"players-score","data-score":Math.floor(je.getPlayerScore(0)),children:f.jsx(rb,{score:je.getPlayerScore(0)})}):Re.getPlayers().map(w=>f.jsx(hR,{"data-test":`player-${w.number}-score`,"data-score":Math.floor(je.getPlayerScore(w.number)),children:f.jsx(rb,{score:je.getPlayerScore(w.number)})},w.number))})}),f.jsx(fR,{ref:p,children:f.jsx(ZP,{showMultipleLines:y,player:v[y?1:0],bottom:!0,effectsEnabled:s})})]})}),fR=C("div",{target:"el0barv5"})({name:"14ci2tu",styles:"padding:2rem 0;box-sizing:border-box"}),Nye=C("div",{target:"el0barv4"})({name:"y3i90j",styles:"height:100%;color:white;-webkit-text-stroke:0.2rem black;font-weight:bold;position:relative;display:flex;flex-direction:column"}),$ye=C("div",{target:"el0barv3"})({name:"1x1omeb",styles:"position:absolute;top:0;left:0;width:100%;height:100%;canvas{width:100%;height:100%;}"}),Bye=C("div",{target:"el0barv2"})({name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"}),Dye=C("div",{target:"el0barv1"})({name:"od05bk",styles:"flex:1;height:100%;box-sizing:border-box;font-size:5.5rem;display:flex;justify-content:space-around;padding-right:4rem;flex-direction:column;text-align:right;z-index:1"}),hR=C("span",{target:"el0barv0"})("");function Fye(e,t){const[n,r]=_.useState(0);return _.useEffect(()=>{e.current&&t===An.PLAYING&&n===0&&e.current.getDuration().then(i=>{r(i),je.setDuration(i)})},[n,e,t]),n}function zye({song:e,width:t,height:n,autoplay:r=!0,showControls:i=!1,onCurrentTimeUpdate:s,onSongEnd:o,onStatusChange:a,players:l,effectsEnabled:c=!0,singSetup:u,restartSong:d,pauseMenu:h=!1,...p},g){const m=_.useRef(null),[A,v]=_.useState(0),[y,b]=_.useState(An.UNSTARTED),[S]=$e(Id),[x,w]=_.useState(!1);_.useEffect(()=>(je.setSong(e),je.setSingSetup(u),()=>{je.resetSingSetup()}),[e,u]),_.useEffect(()=>{if(m.current&&y===An.PLAYING){const P=setInterval(async()=>{if(!m.current)return;const T=Math.max(0,await m.current.getCurrentTime()*1e3-S);v(T),s==null||s(T),je.setCurrentTime(T),je.update()},1e3/Ya.get());return()=>clearInterval(P)}},[m,s,y,S]);const E=Fye(m,y);_.useImperativeHandle(g,()=>({seekTo:P=>m.current.seekTo(P),setPlaybackSpeed:P=>m.current.setPlaybackSpeed(P),play:()=>m.current.playVideo(),pause:()=>m.current.pauseVideo()}));const I=_.useCallback(P=>{b(P),a==null||a(P)},[b,a]),L=h,j=()=>{var P;w(!0),(P=m.current)==null||P.pauseVideo()},B=()=>{var P;w(!1),(P=m.current)==null||P.playVideo()},Q=()=>{x?B():j()},M=Mm(y);_.useEffect(()=>{var T;if(!L)return;const P=M!==An.PAUSED&&M!==An.BUFFERING&&y===An.PAUSED;y===An.PLAYING&&x?(T=m.current)==null||T.pauseVideo():P&&!x&&w(!0)},[x,y,M,L]),Tl({back:Q},L,[x]);const U=_.useMemo(()=>({back:"Pause Menu"}),[]);return Pu(U,c),f.jsxs(Uye,{...p,children:[x&&f.jsx(K0e,{onExit:o,onResume:B,onRestart:d}),y!==An.UNSTARTED&&f.jsx(Hye,{style:{width:`${t}px`,height:`${n}px`},children:f.jsx(Lye,{isPauseMenuVisible:x,effectsEnabled:c,duration:E,currentStatus:y,song:e,width:t,height:n,onSongEnd:o,playerSetups:l,videoPlayerRef:m.current})}),f.jsxs(qye,{children:[f.jsx(Gw,{ref:m,video:e.video,width:t,height:n,controls:i,autoplay:r,disablekb:!0,volume:e.volume,startAt:e.videoGap??0,onStateChange:I}),y===An.PLAYING&&f.jsx(Gye,{"data-test":"make-song-go-fast",onClick:()=>{var P;(P=m.current)==null||P.setPlaybackSpeed(2)}})]})]})}const Uye=C("div",{target:"e1ggxuxd3"})({name:"bjn8wh",styles:"position:relative"}),Hye=C("div",{target:"e1ggxuxd2"})({name:"qkt6ng",styles:"position:absolute;z-index:1;background-color:rgba(0, 0, 0, 0.2);pointer-events:none;width:100%;height:100%;top:0;left:0"}),qye=C("div",{target:"e1ggxuxd1"})({name:"j387f9",styles:"overflow:hidden;height:100%"}),Gye=C("div",{target:"e1ggxuxd0"})({name:"sp3f84",styles:"width:30px;height:30px;opacity:0.01;background:black;position:absolute;bottom:calc(100vh / 2 - 15px);left:0"}),Wye=_.forwardRef(zye),pR=[f.jsxs(f.Fragment,{children:["You can follow the updates and give feedback on the game through the Facebook Page:"," ",f.jsx("a",{href:"https://www.facebook.com/allkaraoke.party",target:"_blank",rel:"noreferrer",children:f.jsx("strong",{children:"fb.com/AllKaraoke.Party"})})]}),f.jsxs(f.Fragment,{children:["Start typing a name of a song in ",f.jsx("strong",{children:"Song Selection"})," to active Search feature"]}),f.jsxs(f.Fragment,{children:["Narrow down songs through ",f.jsx("strong",{children:"playlists"})," on the right in Song Selection"]}),f.jsxs(f.Fragment,{children:["Select ",f.jsx("strong",{children:"Pass The Mic"})," Game Mode to share the microphones and sing in a team"]}),f.jsxs(f.Fragment,{children:["Your scores and ",f.jsx("strong",{children:"stats are saved"})," in this browser - they will be available for the next party!"]}),f.jsxs(f.Fragment,{children:["You can remove irrelevant songs from the Song Selection in ",f.jsx("strong",{children:"Edit Songs"})," page"]}),f.jsxs(f.Fragment,{children:["If the game feels a bit jaggy with low FPS, check out ",f.jsx("strong",{children:"Settings"})," page"]}),f.jsxs(f.Fragment,{children:["Party is only getting started? Play ",f.jsx("strong",{children:"Jukebox"})," for the music and to see what songs are available"]}),f.jsxs(f.Fragment,{children:["Research shows that ",f.jsx("strong",{children:"duet songs"})," are that bit more fun than simple one-track ones"]}),f.jsxs(f.Fragment,{children:["Want to sing a ",f.jsx("strong",{children:"new song"}),"? Find UltraStar version of it and import it with",f.jsx("br",{}),f.jsx("strong",{children:"Convert Ultrastar .txt"})]}),f.jsxs(f.Fragment,{children:["The ",f.jsx("strong",{children:"white pulse"})," around selected song in Song Selection tries to match song's tempo"]}),f.jsxs(f.Fragment,{children:["Entire game (besides add/edit song) is navigable with ",f.jsx("strong",{children:"Keyboard"})]}),f.jsxs(f.Fragment,{children:["You can hide or show keyboard navigation help with ",f.jsx("kbd",{children:"H"})," key"]}),f.jsxs(f.Fragment,{children:["In Song Selection, hold ",f.jsx("kbd",{children:""})," or ",f.jsx("kbd",{children:""})," to jump to the next letter"]}),f.jsxs(f.Fragment,{children:["Add ",f.jsx("strong",{children:"vibrato"})," to the notes you sing to get additional ",f.jsx("strong",{children:"bonus points"})]}),f.jsxs(f.Fragment,{children:["You can control the game with your phone - click on the"," ",f.jsxs("strong",{children:[f.jsx(yf,{}),"QR Code Icon"]})," ","on the top right and follow the instructions"]})],Yye=({as:e="h4",...t})=>{const n=_.useRef(Ts(0,pR.length-1)),r=e;return f.jsx(r,{...t,children:pR[n.current]})};function Kye({...e}){const[t,n]=_.useState(""),r=_.useRef(null);return _.useEffect(()=>{const i=setTimeout(()=>{n(Qi.getVideo())},1e3);return()=>{clearTimeout(i)}},[]),_.useEffect(()=>{try{r.current&&(r.current.playbackRate=16)}catch(i){Ls(i)}},[t]),f.jsx(Qye,{...e,children:f.jsx(Jye,{src:t,ref:r,loop:!0,autoPlay:!0,className:"ph-no-capture"})})}const Qye=C("div",{target:"e1hckw6c1"})({name:"1g34f1k",styles:"width:80rem;height:60rem"}),Jye=C("video",{target:"e1hckw6c0"})({name:"idj2s4",styles:"object-fit:cover;width:100%;height:100%"});function Xye(e){return 1-Math.pow(1-e,3)}function Zye(e){return Xye(e)}function Rp({color:e,maxScore:t,score:n}){return f.jsx(eAe,{style:{border:n===0?0:void 0,width:`${Zye(n/t)*24}%`,backgroundColor:e}})}const eAe=C("div",{target:"e6b38g50"})({name:"1vc31u",styles:`background-image:linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.17) 0%,
    rgba(0, 0, 0, 0.03) 50%,
    rgba(0, 0, 0, 0.18) 51%,
    rgba(0, 0, 0, 0.18) 100%
  );transition:1s;border-radius:0.5rem;height:100%;border:solid 0.1rem black;box-sizing:border-box`});var j$={exports:{}};(function(e,t){(function(n,r){e.exports=r(_)})(typeof self<"u"?self:Fo,n=>(()=>{var r={7403:(a,l,c)=>{c.d(l,{default:()=>O});var u=c(4087),d=c.n(u);const h=function(N){return new RegExp(/<[a-z][\s\S]*>/i).test(N)},p=function(N,D){return Math.floor(Math.random()*(D-N+1))+N};var g="TYPE_CHARACTER",m="REMOVE_CHARACTER",A="REMOVE_ALL",v="REMOVE_LAST_VISIBLE_NODE",y="PAUSE_FOR",b="CALL_FUNCTION",S="ADD_HTML_TAG_ELEMENT",x="CHANGE_DELETE_SPEED",w="CHANGE_DELAY",E="CHANGE_CURSOR",I="PASTE_STRING",L="HTML_TAG";function j(N){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},j(N)}function B(N,D){var $=Object.keys(N);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(N);D&&(q=q.filter(function(ne){return Object.getOwnPropertyDescriptor(N,ne).enumerable})),$.push.apply($,q)}return $}function Q(N){for(var D=1;D<arguments.length;D++){var $=arguments[D]!=null?arguments[D]:{};D%2?B(Object($),!0).forEach(function(q){T(N,q,$[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors($)):B(Object($)).forEach(function(q){Object.defineProperty(N,q,Object.getOwnPropertyDescriptor($,q))})}return N}function M(N){return function(D){if(Array.isArray(D))return U(D)}(N)||function(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}(N)||function(D,$){if(D){if(typeof D=="string")return U(D,$);var q=Object.prototype.toString.call(D).slice(8,-1);return q==="Object"&&D.constructor&&(q=D.constructor.name),q==="Map"||q==="Set"?Array.from(D):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?U(D,$):void 0}}(N)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(N,D){(D==null||D>N.length)&&(D=N.length);for(var $=0,q=new Array(D);$<D;$++)q[$]=N[$];return q}function P(N,D){for(var $=0;$<D.length;$++){var q=D[$];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(N,z(q.key),q)}}function T(N,D,$){return(D=z(D))in N?Object.defineProperty(N,D,{value:$,enumerable:!0,configurable:!0,writable:!0}):N[D]=$,N}function z(N){var D=function($,q){if(j($)!=="object"||$===null)return $;var ne=$[Symbol.toPrimitive];if(ne!==void 0){var V=ne.call($,"string");if(j(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}(N);return j(D)==="symbol"?D:String(D)}const O=function(){function N(q,ne){var V=this;if(function(Z,de){if(!(Z instanceof de))throw new TypeError("Cannot call a class as a function")}(this,N),T(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),T(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),T(this,"setupWrapperElement",function(){V.state.elements.container&&(V.state.elements.wrapper.className=V.options.wrapperClassName,V.state.elements.cursor.className=V.options.cursorClassName,V.state.elements.cursor.innerHTML=V.options.cursor,V.state.elements.container.innerHTML="",V.state.elements.container.appendChild(V.state.elements.wrapper),V.state.elements.container.appendChild(V.state.elements.cursor))}),T(this,"start",function(){return V.state.eventLoopPaused=!1,V.runEventLoop(),V}),T(this,"pause",function(){return V.state.eventLoopPaused=!0,V}),T(this,"stop",function(){return V.state.eventLoop&&((0,u.cancel)(V.state.eventLoop),V.state.eventLoop=null),V}),T(this,"pauseFor",function(Z){return V.addEventToQueue(y,{ms:Z}),V}),T(this,"typeOutAllStrings",function(){return typeof V.options.strings=="string"?(V.typeString(V.options.strings).pauseFor(V.options.pauseFor),V):(V.options.strings.forEach(function(Z){V.typeString(Z).pauseFor(V.options.pauseFor).deleteAll(V.options.deleteSpeed)}),V)}),T(this,"typeString",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(h(Z))return V.typeOutHTMLString(Z,de);if(Z){var we=(V.options||{}).stringSplitter,Ee=typeof we=="function"?we(Z):Z.split("");V.typeCharacters(Ee,de)}return V}),T(this,"pasteString",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h(Z)?V.typeOutHTMLString(Z,de,!0):(Z&&V.addEventToQueue(I,{character:Z,node:de}),V)}),T(this,"typeOutHTMLString",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,we=arguments.length>2?arguments[2]:void 0,Ee=function(Ve){var Ie=document.createElement("div");return Ie.innerHTML=Ve,Ie.childNodes}(Z);if(Ee.length>0)for(var pe=0;pe<Ee.length;pe++){var Ae=Ee[pe],qe=Ae.innerHTML;Ae&&Ae.nodeType!==3?(Ae.innerHTML="",V.addEventToQueue(S,{node:Ae,parentNode:de}),we?V.pasteString(qe,Ae):V.typeString(qe,Ae)):Ae.textContent&&(we?V.pasteString(Ae.textContent,de):V.typeString(Ae.textContent,de))}return V}),T(this,"deleteAll",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return V.addEventToQueue(A,{speed:Z}),V}),T(this,"changeDeleteSpeed",function(Z){if(!Z)throw new Error("Must provide new delete speed");return V.addEventToQueue(x,{speed:Z}),V}),T(this,"changeDelay",function(Z){if(!Z)throw new Error("Must provide new delay");return V.addEventToQueue(w,{delay:Z}),V}),T(this,"changeCursor",function(Z){if(!Z)throw new Error("Must provide new cursor");return V.addEventToQueue(E,{cursor:Z}),V}),T(this,"deleteChars",function(Z){if(!Z)throw new Error("Must provide amount of characters to delete");for(var de=0;de<Z;de++)V.addEventToQueue(m);return V}),T(this,"callFunction",function(Z,de){if(!Z||typeof Z!="function")throw new Error("Callback must be a function");return V.addEventToQueue(b,{cb:Z,thisArg:de}),V}),T(this,"typeCharacters",function(Z){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(we){V.addEventToQueue(g,{character:we,node:de})}),V}),T(this,"removeCharacters",function(Z){if(!Z||!Array.isArray(Z))throw new Error("Characters must be an array");return Z.forEach(function(){V.addEventToQueue(m)}),V}),T(this,"addEventToQueue",function(Z,de){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return V.addEventToStateProperty(Z,de,we,"eventQueue")}),T(this,"addReverseCalledEvent",function(Z,de){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return V.options.loop?V.addEventToStateProperty(Z,de,we,"reverseCalledEvents"):V}),T(this,"addEventToStateProperty",function(Z,de){var we=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ee=arguments.length>3?arguments[3]:void 0,pe={eventName:Z,eventArgs:de||{}};return V.state[Ee]=we?[pe].concat(M(V.state[Ee])):[].concat(M(V.state[Ee]),[pe]),V}),T(this,"runEventLoop",function(){V.state.lastFrameTime||(V.state.lastFrameTime=Date.now());var Z=Date.now(),de=Z-V.state.lastFrameTime;if(!V.state.eventQueue.length){if(!V.options.loop)return;V.state.eventQueue=M(V.state.calledEvents),V.state.calledEvents=[],V.options=Q({},V.state.initialOptions)}if(V.state.eventLoop=d()(V.runEventLoop),!V.state.eventLoopPaused){if(V.state.pauseUntil){if(Z<V.state.pauseUntil)return;V.state.pauseUntil=null}var we,Ee=M(V.state.eventQueue),pe=Ee.shift();if(!(de<=(we=pe.eventName===v||pe.eventName===m?V.options.deleteSpeed==="natural"?p(40,80):V.options.deleteSpeed:V.options.delay==="natural"?p(120,160):V.options.delay))){var Ae=pe.eventName,qe=pe.eventArgs;switch(V.logInDevMode({currentEvent:pe,state:V.state,delay:we}),Ae){case I:case g:var Ve=qe.character,Ie=qe.node,_e=document.createTextNode(Ve),Ue=_e;V.options.onCreateTextNode&&typeof V.options.onCreateTextNode=="function"&&(Ue=V.options.onCreateTextNode(Ve,_e)),Ue&&(Ie?Ie.appendChild(Ue):V.state.elements.wrapper.appendChild(Ue)),V.state.visibleNodes=[].concat(M(V.state.visibleNodes),[{type:"TEXT_NODE",character:Ve,node:Ue}]);break;case m:Ee.unshift({eventName:v,eventArgs:{removingCharacterNode:!0}});break;case y:var Ge=pe.eventArgs.ms;V.state.pauseUntil=Date.now()+parseInt(Ge);break;case b:var He=pe.eventArgs,rt=He.cb,it=He.thisArg;rt.call(it,{elements:V.state.elements});break;case S:var Nt=pe.eventArgs,At=Nt.node,Gt=Nt.parentNode;Gt?Gt.appendChild(At):V.state.elements.wrapper.appendChild(At),V.state.visibleNodes=[].concat(M(V.state.visibleNodes),[{type:L,node:At,parentNode:Gt||V.state.elements.wrapper}]);break;case A:var st=V.state.visibleNodes,_t=qe.speed,wt=[];_t&&wt.push({eventName:x,eventArgs:{speed:_t,temp:!0}});for(var Ye=0,$t=st.length;Ye<$t;Ye++)wt.push({eventName:v,eventArgs:{removingCharacterNode:!1}});_t&&wt.push({eventName:x,eventArgs:{speed:V.options.deleteSpeed,temp:!0}}),Ee.unshift.apply(Ee,wt);break;case v:var ye=pe.eventArgs.removingCharacterNode;if(V.state.visibleNodes.length){var We=V.state.visibleNodes.pop(),Pn=We.type,bt=We.node,vn=We.character;V.options.onRemoveNode&&typeof V.options.onRemoveNode=="function"&&V.options.onRemoveNode({node:bt,character:vn}),bt&&bt.parentNode.removeChild(bt),Pn===L&&ye&&Ee.unshift({eventName:v,eventArgs:{}})}break;case x:V.options.deleteSpeed=pe.eventArgs.speed;break;case w:V.options.delay=pe.eventArgs.delay;break;case E:V.options.cursor=pe.eventArgs.cursor,V.state.elements.cursor.innerHTML=pe.eventArgs.cursor}V.options.loop&&(pe.eventName===v||pe.eventArgs&&pe.eventArgs.temp||(V.state.calledEvents=[].concat(M(V.state.calledEvents),[pe]))),V.state.eventQueue=Ee,V.state.lastFrameTime=Z}}}),q)if(typeof q=="string"){var ce=document.querySelector(q);if(!ce)throw new Error("Could not find container element");this.state.elements.container=ce}else this.state.elements.container=q;ne&&(this.options=Q(Q({},this.options),ne)),this.state.initialOptions=Q({},this.options),this.init()}var D,$;return D=N,($=[{key:"init",value:function(){var q,ne;this.setupWrapperElement(),this.addEventToQueue(E,{cursor:this.options.cursor},!0),this.addEventToQueue(A,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(q=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ne=document.createElement("style")).appendChild(document.createTextNode(q)),document.head.appendChild(ne),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(q){this.options.devMode&&console.log(q)}}])&&P(D.prototype,$),Object.defineProperty(D,"prototype",{writable:!1}),N}()},8552:(a,l,c)=>{var u=c(852)(c(5639),"DataView");a.exports=u},1989:(a,l,c)=>{var u=c(1789),d=c(401),h=c(7667),p=c(1327),g=c(1866);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},8407:(a,l,c)=>{var u=c(7040),d=c(4125),h=c(2117),p=c(7518),g=c(4705);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},7071:(a,l,c)=>{var u=c(852)(c(5639),"Map");a.exports=u},3369:(a,l,c)=>{var u=c(4785),d=c(1285),h=c(6e3),p=c(9916),g=c(5265);function m(A){var v=-1,y=A==null?0:A.length;for(this.clear();++v<y;){var b=A[v];this.set(b[0],b[1])}}m.prototype.clear=u,m.prototype.delete=d,m.prototype.get=h,m.prototype.has=p,m.prototype.set=g,a.exports=m},3818:(a,l,c)=>{var u=c(852)(c(5639),"Promise");a.exports=u},8525:(a,l,c)=>{var u=c(852)(c(5639),"Set");a.exports=u},8668:(a,l,c)=>{var u=c(3369),d=c(619),h=c(2385);function p(g){var m=-1,A=g==null?0:g.length;for(this.__data__=new u;++m<A;)this.add(g[m])}p.prototype.add=p.prototype.push=d,p.prototype.has=h,a.exports=p},6384:(a,l,c)=>{var u=c(8407),d=c(7465),h=c(3779),p=c(7599),g=c(4758),m=c(4309);function A(v){var y=this.__data__=new u(v);this.size=y.size}A.prototype.clear=d,A.prototype.delete=h,A.prototype.get=p,A.prototype.has=g,A.prototype.set=m,a.exports=A},2705:(a,l,c)=>{var u=c(5639).Symbol;a.exports=u},1149:(a,l,c)=>{var u=c(5639).Uint8Array;a.exports=u},577:(a,l,c)=>{var u=c(852)(c(5639),"WeakMap");a.exports=u},4963:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length,h=0,p=[];++u<d;){var g=l[u];c(g,u,l)&&(p[h++]=g)}return p}},4636:(a,l,c)=>{var u=c(2545),d=c(5694),h=c(1469),p=c(4144),g=c(5776),m=c(6719),A=Object.prototype.hasOwnProperty;a.exports=function(v,y){var b=h(v),S=!b&&d(v),x=!b&&!S&&p(v),w=!b&&!S&&!x&&m(v),E=b||S||x||w,I=E?u(v.length,String):[],L=I.length;for(var j in v)!y&&!A.call(v,j)||E&&(j=="length"||x&&(j=="offset"||j=="parent")||w&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||g(j,L))||I.push(j);return I}},2488:a=>{a.exports=function(l,c){for(var u=-1,d=c.length,h=l.length;++u<d;)l[h+u]=c[u];return l}},2908:a=>{a.exports=function(l,c){for(var u=-1,d=l==null?0:l.length;++u<d;)if(c(l[u],u,l))return!0;return!1}},8470:(a,l,c)=>{var u=c(7813);a.exports=function(d,h){for(var p=d.length;p--;)if(u(d[p][0],h))return p;return-1}},8866:(a,l,c)=>{var u=c(2488),d=c(1469);a.exports=function(h,p,g){var m=p(h);return d(h)?m:u(m,g(h))}},4239:(a,l,c)=>{var u=c(2705),d=c(9607),h=c(2333),p=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?d(g):h(g)}},9454:(a,l,c)=>{var u=c(4239),d=c(7005);a.exports=function(h){return d(h)&&u(h)=="[object Arguments]"}},939:(a,l,c)=>{var u=c(2492),d=c(7005);a.exports=function h(p,g,m,A,v){return p===g||(p==null||g==null||!d(p)&&!d(g)?p!=p&&g!=g:u(p,g,m,A,h,v))}},2492:(a,l,c)=>{var u=c(6384),d=c(7114),h=c(8351),p=c(6096),g=c(4160),m=c(1469),A=c(4144),v=c(6719),y="[object Arguments]",b="[object Array]",S="[object Object]",x=Object.prototype.hasOwnProperty;a.exports=function(w,E,I,L,j,B){var Q=m(w),M=m(E),U=Q?b:g(w),P=M?b:g(E),T=(U=U==y?S:U)==S,z=(P=P==y?S:P)==S,O=U==P;if(O&&A(w)){if(!A(E))return!1;Q=!0,T=!1}if(O&&!T)return B||(B=new u),Q||v(w)?d(w,E,I,L,j,B):h(w,E,U,I,L,j,B);if(!(1&I)){var N=T&&x.call(w,"__wrapped__"),D=z&&x.call(E,"__wrapped__");if(N||D){var $=N?w.value():w,q=D?E.value():E;return B||(B=new u),j($,q,I,L,B)}}return!!O&&(B||(B=new u),p(w,E,I,L,j,B))}},8458:(a,l,c)=>{var u=c(3560),d=c(5346),h=c(3218),p=c(346),g=/^\[object .+?Constructor\]$/,m=Function.prototype,A=Object.prototype,v=m.toString,y=A.hasOwnProperty,b=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(S){return!(!h(S)||d(S))&&(u(S)?b:g).test(p(S))}},8749:(a,l,c)=>{var u=c(4239),d=c(1780),h=c(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,a.exports=function(g){return h(g)&&d(g.length)&&!!p[u(g)]}},280:(a,l,c)=>{var u=c(5726),d=c(6916),h=Object.prototype.hasOwnProperty;a.exports=function(p){if(!u(p))return d(p);var g=[];for(var m in Object(p))h.call(p,m)&&m!="constructor"&&g.push(m);return g}},2545:a=>{a.exports=function(l,c){for(var u=-1,d=Array(l);++u<l;)d[u]=c(u);return d}},1717:a=>{a.exports=function(l){return function(c){return l(c)}}},4757:a=>{a.exports=function(l,c){return l.has(c)}},4429:(a,l,c)=>{var u=c(5639)["__core-js_shared__"];a.exports=u},7114:(a,l,c)=>{var u=c(8668),d=c(2908),h=c(4757);a.exports=function(p,g,m,A,v,y){var b=1&m,S=p.length,x=g.length;if(S!=x&&!(b&&x>S))return!1;var w=y.get(p),E=y.get(g);if(w&&E)return w==g&&E==p;var I=-1,L=!0,j=2&m?new u:void 0;for(y.set(p,g),y.set(g,p);++I<S;){var B=p[I],Q=g[I];if(A)var M=b?A(Q,B,I,g,p,y):A(B,Q,I,p,g,y);if(M!==void 0){if(M)continue;L=!1;break}if(j){if(!d(g,function(U,P){if(!h(j,P)&&(B===U||v(B,U,m,A,y)))return j.push(P)})){L=!1;break}}else if(B!==Q&&!v(B,Q,m,A,y)){L=!1;break}}return y.delete(p),y.delete(g),L}},8351:(a,l,c)=>{var u=c(2705),d=c(1149),h=c(7813),p=c(7114),g=c(8776),m=c(1814),A=u?u.prototype:void 0,v=A?A.valueOf:void 0;a.exports=function(y,b,S,x,w,E,I){switch(S){case"[object DataView]":if(y.byteLength!=b.byteLength||y.byteOffset!=b.byteOffset)return!1;y=y.buffer,b=b.buffer;case"[object ArrayBuffer]":return!(y.byteLength!=b.byteLength||!E(new d(y),new d(b)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+y,+b);case"[object Error]":return y.name==b.name&&y.message==b.message;case"[object RegExp]":case"[object String]":return y==b+"";case"[object Map]":var L=g;case"[object Set]":var j=1&x;if(L||(L=m),y.size!=b.size&&!j)return!1;var B=I.get(y);if(B)return B==b;x|=2,I.set(y,b);var Q=p(L(y),L(b),x,w,E,I);return I.delete(y),Q;case"[object Symbol]":if(v)return v.call(y)==v.call(b)}return!1}},6096:(a,l,c)=>{var u=c(8234),d=Object.prototype.hasOwnProperty;a.exports=function(h,p,g,m,A,v){var y=1&g,b=u(h),S=b.length;if(S!=u(p).length&&!y)return!1;for(var x=S;x--;){var w=b[x];if(!(y?w in p:d.call(p,w)))return!1}var E=v.get(h),I=v.get(p);if(E&&I)return E==p&&I==h;var L=!0;v.set(h,p),v.set(p,h);for(var j=y;++x<S;){var B=h[w=b[x]],Q=p[w];if(m)var M=y?m(Q,B,w,p,h,v):m(B,Q,w,h,p,v);if(!(M===void 0?B===Q||A(B,Q,g,m,v):M)){L=!1;break}j||(j=w=="constructor")}if(L&&!j){var U=h.constructor,P=p.constructor;U==P||!("constructor"in h)||!("constructor"in p)||typeof U=="function"&&U instanceof U&&typeof P=="function"&&P instanceof P||(L=!1)}return v.delete(h),v.delete(p),L}},1957:(a,l,c)=>{var u=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;a.exports=u},8234:(a,l,c)=>{var u=c(8866),d=c(9551),h=c(3674);a.exports=function(p){return u(p,h,d)}},5050:(a,l,c)=>{var u=c(7019);a.exports=function(d,h){var p=d.__data__;return u(h)?p[typeof h=="string"?"string":"hash"]:p.map}},852:(a,l,c)=>{var u=c(8458),d=c(7801);a.exports=function(h,p){var g=d(h,p);return u(g)?g:void 0}},9607:(a,l,c)=>{var u=c(2705),d=Object.prototype,h=d.hasOwnProperty,p=d.toString,g=u?u.toStringTag:void 0;a.exports=function(m){var A=h.call(m,g),v=m[g];try{m[g]=void 0;var y=!0}catch{}var b=p.call(m);return y&&(A?m[g]=v:delete m[g]),b}},9551:(a,l,c)=>{var u=c(4963),d=c(479),h=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,g=p?function(m){return m==null?[]:(m=Object(m),u(p(m),function(A){return h.call(m,A)}))}:d;a.exports=g},4160:(a,l,c)=>{var u=c(8552),d=c(7071),h=c(3818),p=c(8525),g=c(577),m=c(4239),A=c(346),v="[object Map]",y="[object Promise]",b="[object Set]",S="[object WeakMap]",x="[object DataView]",w=A(u),E=A(d),I=A(h),L=A(p),j=A(g),B=m;(u&&B(new u(new ArrayBuffer(1)))!=x||d&&B(new d)!=v||h&&B(h.resolve())!=y||p&&B(new p)!=b||g&&B(new g)!=S)&&(B=function(Q){var M=m(Q),U=M=="[object Object]"?Q.constructor:void 0,P=U?A(U):"";if(P)switch(P){case w:return x;case E:return v;case I:return y;case L:return b;case j:return S}return M}),a.exports=B},7801:a=>{a.exports=function(l,c){return l==null?void 0:l[c]}},1789:(a,l,c)=>{var u=c(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;if(u){var g=p[h];return g==="__lodash_hash_undefined__"?void 0:g}return d.call(p,h)?p[h]:void 0}},1327:(a,l,c)=>{var u=c(4536),d=Object.prototype.hasOwnProperty;a.exports=function(h){var p=this.__data__;return u?p[h]!==void 0:d.call(p,h)}},1866:(a,l,c)=>{var u=c(4536);a.exports=function(d,h){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=u&&h===void 0?"__lodash_hash_undefined__":h,this}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(c,u){var d=typeof c;return!!(u=u??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<u}},7019:a=>{a.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(a,l,c)=>{var u,d=c(4429),h=(u=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(p){return!!h&&h in p}},5726:a=>{var l=Object.prototype;a.exports=function(c){var u=c&&c.constructor;return c===(typeof u=="function"&&u.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,c)=>{var u=c(8470),d=Array.prototype.splice;a.exports=function(h){var p=this.__data__,g=u(p,h);return!(g<0||(g==p.length-1?p.pop():d.call(p,g,1),--this.size,0))}},2117:(a,l,c)=>{var u=c(8470);a.exports=function(d){var h=this.__data__,p=u(h,d);return p<0?void 0:h[p][1]}},7518:(a,l,c)=>{var u=c(8470);a.exports=function(d){return u(this.__data__,d)>-1}},4705:(a,l,c)=>{var u=c(8470);a.exports=function(d,h){var p=this.__data__,g=u(p,d);return g<0?(++this.size,p.push([d,h])):p[g][1]=h,this}},4785:(a,l,c)=>{var u=c(1989),d=c(8407),h=c(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(h||d),string:new u}}},1285:(a,l,c)=>{var u=c(5050);a.exports=function(d){var h=u(this,d).delete(d);return this.size-=h?1:0,h}},6e3:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).get(d)}},9916:(a,l,c)=>{var u=c(5050);a.exports=function(d){return u(this,d).has(d)}},5265:(a,l,c)=>{var u=c(5050);a.exports=function(d,h){var p=u(this,d),g=p.size;return p.set(d,h),this.size+=p.size==g?0:1,this}},8776:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d,h){u[++c]=[h,d]}),u}},4536:(a,l,c)=>{var u=c(852)(Object,"create");a.exports=u},6916:(a,l,c)=>{var u=c(5569)(Object.keys,Object);a.exports=u},1167:(a,l,c)=>{a=c.nmd(a);var u=c(1957),d=l&&!l.nodeType&&l,h=d&&a&&!a.nodeType&&a,p=h&&h.exports===d&&u.process,g=function(){try{return h&&h.require&&h.require("util").types||p&&p.binding&&p.binding("util")}catch{}}();a.exports=g},2333:a=>{var l=Object.prototype.toString;a.exports=function(c){return l.call(c)}},5569:a=>{a.exports=function(l,c){return function(u){return l(c(u))}}},5639:(a,l,c)=>{var u=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")();a.exports=h},619:a=>{a.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},2385:a=>{a.exports=function(l){return this.__data__.has(l)}},1814:a=>{a.exports=function(l){var c=-1,u=Array(l.size);return l.forEach(function(d){u[++c]=d}),u}},7465:(a,l,c)=>{var u=c(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(l){var c=this.__data__,u=c.delete(l);return this.size=c.size,u}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,c)=>{var u=c(8407),d=c(7071),h=c(3369);a.exports=function(p,g){var m=this.__data__;if(m instanceof u){var A=m.__data__;if(!d||A.length<199)return A.push([p,g]),this.size=++m.size,this;m=this.__data__=new h(A)}return m.set(p,g),this.size=m.size,this}},346:a=>{var l=Function.prototype.toString;a.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},7813:a=>{a.exports=function(l,c){return l===c||l!=l&&c!=c}},5694:(a,l,c)=>{var u=c(9454),d=c(7005),h=Object.prototype,p=h.hasOwnProperty,g=h.propertyIsEnumerable,m=u(function(){return arguments}())?u:function(A){return d(A)&&p.call(A,"callee")&&!g.call(A,"callee")};a.exports=m},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,c)=>{var u=c(3560),d=c(1780);a.exports=function(h){return h!=null&&d(h.length)&&!u(h)}},4144:(a,l,c)=>{a=c.nmd(a);var u=c(5639),d=c(5062),h=l&&!l.nodeType&&l,p=h&&a&&!a.nodeType&&a,g=p&&p.exports===h?u.Buffer:void 0,m=(g?g.isBuffer:void 0)||d;a.exports=m},8446:(a,l,c)=>{var u=c(939);a.exports=function(d,h){return u(d,h)}},3560:(a,l,c)=>{var u=c(4239),d=c(3218);a.exports=function(h){if(!d(h))return!1;var p=u(h);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},6719:(a,l,c)=>{var u=c(8749),d=c(1717),h=c(1167),p=h&&h.isTypedArray,g=p?d(p):u;a.exports=g},3674:(a,l,c)=>{var u=c(4636),d=c(280),h=c(8612);a.exports=function(p){return h(p)?u(p):d(p)}},479:a=>{a.exports=function(){return[]}},5062:a=>{a.exports=function(){return!1}},75:function(a){(function(){var l,c,u,d,h,p;typeof performance<"u"&&performance!==null&&performance.now?a.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(a.exports=function(){return(l()-h)/1e6},c=process.hrtime,d=(l=function(){var g;return 1e9*(g=c())[0]+g[1]})(),p=1e9*process.uptime(),h=d-p):Date.now?(a.exports=function(){return Date.now()-u},u=Date.now()):(a.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},4087:(a,l,c)=>{for(var u=c(75),d=typeof window>"u"?c.g:window,h=["moz","webkit"],p="AnimationFrame",g=d["request"+p],m=d["cancel"+p]||d["cancelRequest"+p],A=0;!g&&A<h.length;A++)g=d[h[A]+"Request"+p],m=d[h[A]+"Cancel"+p]||d[h[A]+"CancelRequest"+p];if(!g||!m){var v=0,y=0,b=[];g=function(S){if(b.length===0){var x=u(),w=Math.max(0,16.666666666666668-(x-v));v=w+x,setTimeout(function(){var E=b.slice(0);b.length=0;for(var I=0;I<E.length;I++)if(!E[I].cancelled)try{E[I].callback(v)}catch(L){setTimeout(function(){throw L},0)}},Math.round(w))}return b.push({handle:++y,callback:S,cancelled:!1}),y},m=function(S){for(var x=0;x<b.length;x++)b[x].handle===S&&(b[x].cancelled=!0)}}a.exports=function(S){return g.call(d,S)},a.exports.cancel=function(){m.apply(d,arguments)},a.exports.polyfill=function(S){S||(S=d),S.requestAnimationFrame=g,S.cancelAnimationFrame=m}},8156:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={id:a,loaded:!1,exports:{}};return r[a].call(c.exports,c,c.exports,s),c.loaded=!0,c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var o={};return(()=>{s.d(o,{default:()=>b});var a=s(8156),l=s.n(a),c=s(7403),u=s(8446),d=s.n(u);function h(S){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},h(S)}function p(S,x){for(var w=0;w<x.length;w++){var E=x[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,v(E.key),E)}}function g(S,x){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},g(S,x)}function m(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function A(S){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},A(S)}function v(S){var x=function(w,E){if(h(w)!=="object"||w===null)return w;var I=w[Symbol.toPrimitive];if(I!==void 0){var L=I.call(w,"string");if(h(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(S);return h(x)==="symbol"?x:String(x)}var y=function(S){(function(B,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(Q&&Q.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),Q&&g(B,Q)})(j,S);var x,w,E,I,L=(E=j,I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var B,Q=A(E);if(I){var M=A(this).constructor;B=Reflect.construct(Q,arguments,M)}else B=Q.apply(this,arguments);return function(U,P){if(P&&(h(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(U)}(this,B)});function j(){var B,Q,M,U;(function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")})(this,j);for(var P=arguments.length,T=new Array(P),z=0;z<P;z++)T[z]=arguments[z];return Q=m(B=L.call.apply(L,[this].concat(T))),U={instance:null},(M=v(M="state"))in Q?Object.defineProperty(Q,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):Q[M]=U,B}return x=j,(w=[{key:"componentDidMount",value:function(){var B=this,Q=new c.default(this.typewriter,this.props.options);this.setState({instance:Q},function(){var M=B.props.onInit;M&&M(Q)})}},{key:"componentDidUpdate",value:function(B){d()(this.props.options,B.options)||this.setState({instance:new c.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var B=this,Q=this.props.component;return l().createElement(Q,{ref:function(M){return B.typewriter=M},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&p(x.prototype,w),Object.defineProperty(x,"prototype",{writable:!1}),j}(a.Component);y.defaultProps={component:"div"};const b=y})(),o.default})())})(j$);var tAe=j$.exports;const O$=lr(tAe);function nAe({playerNumber:e,player:t,segment:n}){const[r,i]=t.detailedScore;return f.jsxs(rAe,{children:[f.jsx(Rp,{score:n>-1?r.rap+r.freestyle+r.normal:0,maxScore:i.rap+i.freestyle+i.normal,color:he.colors.players[e].perfect.fill}),f.jsx(Rp,{score:n>0?r.perfect:0,maxScore:i.perfect,color:he.colors.players[e].stroke}),f.jsx(Rp,{score:n>1?r.star:0,maxScore:i.star,color:he.colors.players[e].starPerfect.stroke}),f.jsx(Rp,{score:n>2?r.vibrato:0,maxScore:i.vibrato,color:he.colors.players[e].perfect.stroke}),f.jsx(iAe,{children:n<5&&f.jsx(O$,{options:{strings:["Regular notes","Perfect notes","Star notes","Vibrato"],pauseFor:1e3,autoStart:!0,delay:15,deleteSpeed:15,cursor:""}})})]})}const rAe=C("div",{target:"ejw0p7o1"})({name:"rtb9pf",styles:"position:relative;height:5rem;width:100%;display:flex;flex-direction:row;border-radius:1rem;gap:0.5rem;box-sizing:border-box;background:rgba(0, 0, 0, 0.5);padding:0.5rem"}),iAe=C("span",{target:"ejw0p7o0"})("position:absolute;",Ne,";font-size:3rem;text-align:right;white-space:nowrap;top:6rem;left:1rem;display:block;");function sAe({playerNumber:e,player:t,highestScore:n,highScores:r,singSetup:i,useColors:s=!0,revealHighScore:o,segment:a}){const[l]=t.detailedScore;let c=0;a>-1&&(c=l.normal+l.rap+l.freestyle),a>0&&(c=c+l.perfect),a>1&&(c=c+l.star),a>2&&(c=c+l.vibrato);const u=d=>r.some(h=>h.singSetupId===i.id&&h.name===d);return f.jsxs(oAe,{children:[f.jsx(cAe,{children:f.jsxs(lAe,{highscore:o&&u(t.name),color:s?he.colors.players[e].text:"",win:o&&c===n,"data-test":`player-${e}-score`,"data-score":Math.floor(c),children:[f.jsx(aAe,{color:s?he.colors.players[e].text:"","data-test":`player-${e}-name`,className:"ph-no-capture",children:t.name}),f.jsx(lE,{preserveValue:!0,end:c,formattingFn:p$.format,duration:a<5?1:.5}),f.jsx(uAe,{highscore:o&&u(t.name),children:"High score!"})]})}),f.jsx(nAe,{playerNumber:e,player:t,segment:a})]})}const oAe=C("div",{target:"e1vy0af44"})({name:"use048",styles:"background:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;border-radius:1rem;gap:1rem;padding:1rem 2rem 1rem 2rem"}),aAe=C("span",{target:"e1vy0af43"})("font-size:4rem;color:",e=>e.color,";"),lAe=C(mv,{target:"e1vy0af42"})("background:transparent;font-size:",e=>e.win?"8.5rem":"5.5rem",";color:",e=>e.win?he.colors.text.active:"white",";transition:400ms ease-in-out;position:relative;display:flex;align-items:center;justify-content:space-between;flex:1;margin:0;padding:0;"),cAe=C("div",{target:"e1vy0af41"})({name:"8pc2uz",styles:"display:flex;flex:1;width:100%;height:8.5rem"}),uAe=C(IN,{target:"e1vy0af40"})("top:-3.5rem;right:-11rem;font-size:3rem;",e=>e.highscore&&uw,";opacity:",e=>e.highscore?"1":"0",";transition:400ms;");function dAe({onNextStep:e,players:t,highScores:n,singSetup:r}){const[i,s]=_.useState(-1);_.useEffect(()=>{if(i<0)s(0);else if(i<4){const p=setInterval(()=>{s(g=>g+1)},1500);return()=>{clearInterval(p)}}},[i]);const o=i>3,a=()=>{o?e():(kn.capture("animation_skipped"),s(5))};Tl({accept:a},!0,[i]);const l=_.useMemo(()=>({accept:"Next"}),[]);Pu(l,!0);const c=r.mode===mr.CO_OP,u=c?[{...t[0],name:t.map(p=>p.name).join(", ")}]:t,d=u.map(p=>fx(p.detailedScore[0])),h=Math.max(...d);return f.jsxs(fAe,{children:[f.jsx(hAe,{children:u.map((p,g)=>f.jsx(sAe,{playerNumber:p.playerNumber,useColors:!c,revealHighScore:i>3,segment:i,player:p,highScores:n,highestScore:h,singSetup:r},g))}),f.jsx(pAe,{onClick:a,focused:!0,"data-test":o?"highscores-button":"skip-animation-button",children:o?"Next":"Skip"}),Qi.getPermissionStatus()&&f.jsx(gAe,{})]})}const fAe=C("div",{target:"e1qmbv7g3"})({name:"1vzp6wx",styles:"position:absolute;padding:20rem 15rem 10rem 15rem;top:0;height:100%;box-sizing:border-box;width:100%;display:flex;flex-direction:column"}),hAe=C("div",{target:"e1qmbv7g2"})({name:"1lbl88b",styles:"text-align:center;display:flex;flex-direction:column;justify-content:center;gap:5rem;margin-bottom:15rem;flex:1"}),pAe=C(us,{target:"e1qmbv7g1"})({name:"195iwp6",styles:"width:40rem;font-size:1.9vw;margin-left:auto"}),gAe=C(Kye,{target:"e1qmbv7g0"})({name:"1c3jvq",styles:"position:absolute;top:calc(50% - 30rem);left:95rem;transform:scale(0.75)"});function mAe(){return _.useMemo(()=>JSON.parse(Oe.session.getItem(Zc))??[],[])}function vAe({score:e,register:t,singSetupId:n,onSave:r,index:i}){const s=_.useRef(null),[o,a]=_.useState(""),l=mAe(),c=()=>{o.trim().length&&o.trim()!==e.name&&r(n,e.score,e.name,o)};return f.jsx(l$,{className:"ph-no-capture",options:l,onChange:a,onBlur:c,value:o,label:"",ref:s,...t(`highscore-rename-${i}`,()=>{var u;return(u=s.current)==null?void 0:u.focus()}),placeholder:e.name,"data-test":"input-edit-highscore","data-original-name":e.name})}function yAe({onNextStep:e,highScores:t,singSetup:n,song:r}){const{register:i}=Vn(),s=Vge(r);return f.jsxs(f.Fragment,{children:[f.jsx(AAe,{"data-test":"highscores-container",children:t.map((o,a)=>f.jsxs(_Ae,{isCurrentSing:o.singSetupId===n.id,children:[f.jsx(bAe,{children:a+1}),f.jsx(xAe,{className:"ph-no-capture",children:o.singSetupId===n.id?f.jsx(vAe,{index:a,score:o,register:i,singSetupId:n.id,onSave:s}):o.name}),f.jsx(SAe,{children:f.jsx(rb,{score:o.score})}),f.jsx(wAe,{children:Xi(o.date).format("MMMM DD, YYYY")})]},a))}),f.jsx(EAe,{...i("play-next-song-button",e,void 0,!0),children:"Select song"})]})}const AAe=C("div",{target:"e1kq1u2t6"})({name:"9gtmjg",styles:"position:absolute;top:20rem;width:100%;text-align:center;padding:0 16rem;box-sizing:border-box"}),_Ae=C("div",{target:"e1kq1u2t5"})("position:relative;",Ne,";font-size:3.2rem;display:flex;background:",e=>e.isCurrentSing?"rgba(0,0,0,.9)":"rgba(0,0,0,.5)",";margin-bottom:2rem;padding:",e=>e.isCurrentSing?"0 1.5rem":"1rem 3.2rem",";align-items:center;"),bAe=C("div",{target:"e1kq1u2t4"})("padding:0 1.6rem;color:",he.colors.text.active,";"),xAe=C("div",{target:"e1kq1u2t3"})({name:"1mbe2e5",styles:"text-align:left;flex:1;padding:1.6rem"}),SAe=C("div",{target:"e1kq1u2t2"})({name:"2ycp6t",styles:"padding:0 1rem"}),wAe=C("div",{target:"e1kq1u2t1"})({name:"1gbnj87",styles:"position:absolute;font-size:2rem;bottom:-1rem;right:-1.6rem;background:black;padding:0.5rem"}),EAe=C(us,{target:"e1kq1u2t0"})({name:"dmbiod",styles:"position:absolute;bottom:4rem;right:2rem;width:40rem;font-size:1.9vw"});function kAe({song:e,width:t,height:n,onClickSongSelection:r,players:i,highScores:s,singSetup:o}){const[a]=$e(t0);Aa(!0);const[l,c]=_.useState("results");return f.jsxs(EN,{songData:e,width:t,height:n,children:[f.jsxs(CAe,{children:[l==="results"&&f.jsx(dAe,{onNextStep:()=>c("highscores"),players:i,singSetup:o,highScores:s}),l==="highscores"&&f.jsx(yAe,{onNextStep:r,singSetup:o,highScores:s,song:e}),f.jsx(TAe,{$active:!0})]}),a==="christmas"&&f.jsxs(IAe,{children:["Credit to ",f.jsx("a",{href:"https://www.FesliyanStudios.com",children:"https://www.FesliyanStudios.com"})," for the background music."]})]})}const CAe=C("div",{target:"e1fxxvcx2"})({name:"1quw0ni",styles:"pointer-events:auto"}),TAe=C(Yye,{shouldForwardProp:e=>!e.startsWith("$"),target:"e1fxxvcx1"})("transition:300ms;transform:scale(",({$active:e})=>e?1:0,");position:absolute;bottom:20rem;font-size:3.2rem;line-height:1.25;color:white;text-align:center;background:rgba(0, 0, 0, 0.75);width:100%;box-sizing:border-box;padding:2rem 10rem;kbd{padding:0.12rem 0.9rem;border-radius:1rem;border:0.5rem solid rgb(204, 204, 204);border-bottom-color:rgb(150, 150, 150);border-right-color:rgb(150, 150, 150);color:rgb(51, 51, 51);line-height:1.4;display:inline-block;box-shadow:0 0.1rem 0 rgba(0, 0, 0, 0.2),inset 0 0 0 0.2rem #ffffff;background-color:rgb(247, 247, 247);text-shadow:0 0.1rem 0 #fff;font-weight:normal;}"),IAe=C("span",{target:"e1fxxvcx0"})("position:fixed;bottom:2rem;left:2rem;font-size:1.5rem;",Ne,";");function PAe(e){const[t,n,r,i]=RAe(e);return MAe(t,n,r,i)()}function RAe(e){let t=1779033703,n=3144134277,r=1013904242,i=2773480762;for(let s=0,o;s<e.length;s++)o=e.charCodeAt(s),t=n^Math.imul(t^o,597399067),n=r^Math.imul(n^o,2869860233),r=i^Math.imul(r^o,951274213),i=t^Math.imul(i^o,2716044179);return t=Math.imul(r^t>>>18,597399067),n=Math.imul(i^n>>>22,2869860233),r=Math.imul(t^r>>>17,951274213),i=Math.imul(n^i>>>19,2716044179),t^=n^r^i,n^=t,r^=t,i^=t,[t>>>0,n>>>0,r>>>0,i>>>0]}function MAe(e,t,n,r){return function(){e|=0,t|=0,n|=0,r|=0;var i=(e+t|0)+r|0;return r=r+1|0,e=t^t>>>9,t=n+(n<<3)|0,n=n<<21|n>>>11,n=n+i|0,(i>>>0)/4294967296}}const jAe=["Lysa Arryn","Peter Parker","Zordon","Chad Khalimov","Dat Boi","Good Guy Greg","Scumbag Steve","Meme Man","Pepe","Wojak","Ebmarah","Shrek","Vad of ICE Beat","Krasnolud","May Aragorn","Morning Breeze","Auytjak Lorav","Smelly Cat","Stinky Foot"],gR=new Date("2016-01-01").getTime(),OAe=new Date("2024-01-07").getTime(),mA=5;function VAe(e,t){const n=uE(e);return _.useMemo(()=>{const i=[...jAe];return[...Array.from({length:mA},(o,a)=>{const l=PAe(e.id+a),c=6e5+14e5/(mA-1)*a,u=i.splice(Math.floor(l*i.length),1)[0];return{singSetupId:a.toString(),name:u,score:Ns()?c/1e3:c,date:new Date((OAe-gR)*l+gR).toISOString()}}),...(n==null?void 0:n.scores.filter(({setup:o})=>o.mode===t.mode&&o.tolerance===t.tolerance).map(o=>o.scores.map(a=>({...a,date:o.date,singSetupId:o.setup.id}))).flat())??[]].sort((o,a)=>a.score-o.score).slice(0,mA)},[e.id,n,t])??[]}function LAe({song:e,width:t,height:n,onClickSongSelection:r,singSetup:i}){const s=VAe(e,i),o=_.useMemo(()=>Re.getPlayers().map(a=>({name:a.getName(),playerNumber:a.number,detailedScore:je.getPlayerDetailedScore(a.number)})),[]);return f.jsx(Co,{children:f.jsx(kAe,{singSetup:i,song:e,width:t,height:n,onClickSongSelection:r,players:o,highScores:s})})}function NAe({songPreview:e,singSetup:t,returnToSongSelection:n,restartSong:r}){FN(),zN();const i=_.useRef(null),s=bN(e.id),{width:o,height:a}=xh(),[l,c]=_.useState(!1),[u,d]=_.useState(!0),[h,p]=_.useState(An.UNSTARTED),[g,m]=_.useState(!1);return fa(!g),_.useEffect(()=>{u&&s.data&&(g||h!==An.UNSTARTED)&&d(!1)},[s.data,g,h,u]),l&&s.data?f.jsx(LAe,{width:o,height:a,song:s.data,onClickSongSelection:n,singSetup:t}):f.jsx(Co,{children:f.jsxs($Ae,{children:[f.jsxs(BAe,{visible:u,"data-test":"background-container",children:[f.jsx(FAe,{video:e.video,width:o,height:a}),f.jsx(zAe,{"data-test":"song-artist",children:e.artist}),f.jsx(UAe,{"data-test":"song-title",children:e.title}),f.jsx(z0e,{onFinish:()=>{var A;m(!0),(A=i.current)==null||A.play()}})]}),s.data&&f.jsx(Wye,{pauseMenu:!0,ref:i,onStatusChange:p,players:t.players,song:s.data,width:o,height:a,autoplay:!1,onSongEnd:()=>{var y;const A=((y=je.getSingSetup())==null?void 0:y.mode)===mr.CO_OP?[{name:Re.getPlayers().map(b=>b.getName()).join(", "),score:je.getPlayerScore(0)}]:Re.getPlayers().map(b=>({name:b.getName(),score:je.getPlayerScore(b.number)})),v=je.getSongCompletionProgress();te.songEnded.dispatch(s.data,t,A,v),c(!0)},singSetup:t,restartSong:r})]})})}const $Ae=C("div",{target:"e9bbafl4"})({name:"bjn8wh",styles:"position:relative"}),BAe=C("div",{target:"e9bbafl3"})("position:fixed;top:0;left:0;z-index:10;pointer-events:none;background-color:black;view-transition-name:song-preview;opacity:",e=>e.visible?1:0,";transition:500ms;"),DAe=C("div",{target:"e9bbafl2"})({name:"oux8x1",styles:"background-size:cover;background-position:center center;filter:blur(10px)"}),FAe=e=>f.jsx(DAe,{style:{backgroundImage:`url('https://i3.ytimg.com/vi/${e.video}/hqdefault.jpg')`,width:`${e.width}px`,height:`${e.height}px`}}),zAe=C(hE,{target:"e9bbafl1"})({name:"oyknw4",styles:"view-transition-name:song-preview-artist;position:absolute;top:10rem;left:10rem;font-size:7rem"}),UAe=C(Av,{target:"e9bbafl0"})({name:"1l9juvo",styles:"view-transition-name:song-preview-title;position:absolute;font-size:8rem;top:19rem;left:10rem"});function HAe(){const e=T0("song"),[t,n]=_.useState(null),[r,i]=_.useState(e??null),[s,o]=_.useState(0),a=l=>{document.getElementById("preview-video-container").style.viewTransitionName="song-preview-video",Bf(()=>{document.getElementById("preview-video-container").style.viewTransitionName="",Tu.flushSync(()=>{n(l)})}),wx.play()};return FN(),f.jsxs(f.Fragment,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Game | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(qw,{children:t?f.jsx(NAe,{restartSong:()=>{Qi.restartRecord(),o(l=>l+1)},songPreview:t.song,singSetup:t,returnToSongSelection:()=>{i(t.song.id),n(null)}},s):f.jsx($0e,{onSongSelected:a,preselectedSong:r})})]})}const qAe=C("div",{target:"e1x9yhuz2"})(nJ,"{display:none;}"),mR=C("div",{target:"e1x9yhuz1"})(tu,"{display:none;}"),GAe="/assets/screenshot1-DaCeVKxL.webp",WAe="/assets/screenshot2-BGzMpznM.webp",YAe=["cyblSDoRRxg","O4irXQhgMqg","Nl_Eo2QzqU4","aAiVsqfbn5g","S_E2EHVxNAE","pa14VNsdSYM","x9UVz4l4nlw","3_TvpBwSZDM","Fpu5a0Bl8eY","OqEc_169ywY","RlPNh_PBZb4","5CHEqJgf7dw","gGdGFtwCNBE","Y2NkuFIlLEo","Lo4_K4relMg","nN2eZos7HN0","jTwdGRHl5Mw","jcemHIqmkYI","VPRjCeoBqrI","AmBYA0GZIEY","aky3A2sTSKI","P4Bda6_usuc","xkq-6ppzRis","JTpos657Am0","UKbhDRxm3Vc","0put0_a--Ng","MzCLLHscMOw","HW6QLFg0nKQ","36mCEZzzQ3o","3taEuL4EHAg","bvWRMAU6V-c","iX_TFkut1PM","C3GouGa0noM","Y8YMfgu92hQ","gV5iQJLpVnM","gJLIiF15wjQ","wBmWvvTV0P4","Wmfre-r9O9M","jGj8oM9NUZk","z-52QAImb_A","xyNWUY-wH5g","haECT-SerHk","6Zbi0XmGtMw","LkIWmsP3c_s","N-PyWfVkjZc","OnFlx2Lnr9Q","h7ES_rO9bFM","pmYtefifbx0","Y-B0lXnierw","2lvs2FzF64o","ompevuR1644","0HDdjwpPM3Y","HhjHYkPQ8F0","_7xMfIp-irg","iS1g8G_njx8","92cwKCU8Z5c","cW8VLC9nnTo","6JnGBs88sL0","f41rIgQF-Mw","FSueQN1QvV4","CxNiUxdJnTQ","yKNxeF4KMsY","bdOXnTbyk0g","RWgTD_0jxeE","cbZTfrhcamA","8xg3vE8Ie_E","4wOoLLDXbDY","bUjPPBxbQrQ","cxtnot8lY4U","9KW7hojmoaI","s8LIRtPnuA8","-9_d-sFhmRM","qHm9MG9xw1o","oixRBiOteWY","wf421JsG004","IjH-HYAFICg","KQRaj1vcnrs","agG7ShZGfJM","8bbTtPL1jRs","ZC7v2gFsCz0","Xmr6iscmd1g","HtJS32n6LNQ","DPZWl1nOuTA","lOnAzx5Fn8g","yvBvnYL5nAU","TR3Vdo5etCQ","fLkNJYG4b2Q","VdQY7BusJNU","U7-dxzp6Jvs","uSD4vsh1zDA","lOi4KbGuNJU","EHV0zs0kVGg","ZnDmmiiFSUU","j8aQseeJMtA","i777psA2gP4","FJfFZqTlWrQ","O4psVQHsUq8","4ZWKR2zJESk","xY5yazcNpCI","uCUpvTMis-Y","dQsjAbZDx-4","rog8ou-ZepE","Hr0Wv5DJhuk","u5CVsCnxyXg","POWsFzSFLCE","0G3_kG5FFfQ","H5NqIsnyTG8","PUdyuKaGQd4","fm90reBHJV8","BOES-Cnmllg","WyF8RHM1OCg","4fndeDfaWCg","05Qdu0jkihU","Iz8GGGrH5s4","s5XBxlO0EF0","N8Oj6PBiWyg","WqyVbMvbE7Q","Kqda15G4T-4","EvuL5jyCHOw","yZIummTz9mM","7vKpv-z1ut4","USwjj7s6QWA","e5lt_BgJK9Y","eAfyFTzZDMM","YHbYAUs9JCo","6JUbFj0BIc4","L5uV3gmOH9g","EAexp0w3H3c","PtunhyMW1hM","RRKJiM9Njr8","1hrgT_ZDUvs","8_icFGaCtsc","6TzCjhSdCp8","7NK_JOkuSVY","-tn2S3kJlyU","R4em3LKQCAQ","E_jWcIDqXq0","SHAQlFq6TFg","3FTS2tdmyYM","BJk6gZuPKRE","PZYSiWHW8V0","KWxDGQm2hKk","y2p2glq7dz0","6y9S9RipcUY","MR4PCxjwTik","CcCw1ggftuQ","7jMlFXouPk8","VmEGGIqWbbs","6ikznQPMSv0","XvUESnQo8C4","u5sHldnP6NU","Jtauh8GcxBY","2NzeEQCJ4aM","_RalKhxRBC8","9TeyuDnwyrw","kRt2sRyup6A","8hLtlzkoGPk","Pa5yG1JdvLA","rZCEBibnRM8","22QCGBE6oLo","tbNlMtqrYS0","Z26BvHOD_sg","Urdlvw0SSEc","j35p7ljELvM","rIjY6xA8CMA","ILRs2r6lcHY","LPAVDHo1Elc","Y1xs_xPb46M","t6omUxqhG78","K1b8AhIsSYQ","UqLRqzTp6Rk","jCOX8dT9q8M","ManAg9fy4yo","3BBsF7VIQyo","xxfkLWaHeZY","kYtGl1dX5qI","EAc4zHEDd7o","psuRGfAaju4","e1xkb9y34YA","tYGt9xT7mng","ZMUqIoDtSwc","KQetemT1sWc","dxytyRy-O1k","F5VvvVxuKko","B-A2eYlbrwQ","O8qasKe9Ljo","pRDaV-8zoR4","WEzHazCoZgA","Yn8CZyqfex8","LoheCz4t2xc","CduA0TULnow","jHv0M0i6Gu4","sObgS3dxBac","0XCot42qTvA","G4LIM9VYhB0","AJtDXIazrMo","nSDgHBxUbVQ","dXRC2_7gc3w","a81eP2E8MEQ","wt-tHcQR67Y"],KAe=["Voyager","Electric Light Orchestra","Eleni Foureira","Grta Salme & Jnsi","Marshmello x Jonas Brothers","B52s","Boney M.","Ed Sheeran and Justin Bieber","The Offspring","Placebo feat. David Bowie","Audioslave","Boney M","The Living Tombstone","Alan Walker & Ava Max","Disneys Hercules","Ariana Grande","Bruno Mars","Tom Dice","Lulu","Coldplay","Metro Station","Andy Williams","Magic!","Justin Timberlake","Martina McBride","Melanie Martinez","Usher","Nirvana","The Calling","Bonnie Tyler","Ray Parker Jr.","Aqua","Taio Cruz","Shakira feat. Rihanna","Drake","Daft Punk Feat. Todd Edwards","Camp Rock 2","Neon Genesis Evangelion","The Black Eyed Peas","Brotherhood Of Man","Billy Boyd","blink-182","Ylvis","Rainbow","Lyn","Florence + the Machine","Gwen Stefani Feat Akon","Arctic Monkeys","Jet","3 Doors Down","Maroon 5","Christina Perri","Subwoolfer","Edward Sharpe And The Magnetic Zeros","Toto","Cyndi Lauper","RuPaul","Lordi","Joe Cocker","Tom Odell","Joji","Rasmussen","Toni Braxton","Roman Lob","Eric Clapton","Kid Cudi feat. MGMT & Ratatat","Jim Croce","Sun Stroke Project & Olia Tira","Jennifer Lopez","Black Sabbath","America","Flo Rida","Anitta","A Day to Remember","Lucy Hale","DragonForce","Scooter vs. Marc Acardipane & Dick Rules","David Bowie","Marina and the Diamonds","Olsen Brothers","Selena Gomez & The Scene","Kaiser Chiefs","Loreen","Wilson Phillips","Sabaton","Justin Bieber","No Secrets","Jay Sean feat. Lil Wayne","Ke$ha feat. 3OH!3","Eddie Murphy","Rupert Holmes","ALIKA","The Pogues feat. Kirsty MacColl","FIFTY FIFTY","Fun. feat. Janelle Mone","Jojo","Wheatus","P!nk feat. Lily Allen","Leona Lewis","Getter Jaani","Gwen Stefani & Eve","Flo Rida feat. Ke$ha","Srbuk","Dolly Parton","Steven Curtis Chapman","The Rasmus","Blanka","MELOVIN","Sam Smith","Teach-In","The Ronettes","Rihanna feat. Mikky Ekko","La Bouche","Nicki Minaj","Doki Doki Literature Club!","Bobby Helms","Cascada","Mandaryna","Fredi and Friends","Savage Garden","Disturbed","Flo Rida feat. T-Pain","Ochman","David Guetta feat. Kid Cudi","Passenger","Post Malone & Swae Lee","Lady Gaga feat. Beyonc","Scorpions","Phil Collins","Gloria Gaynor","Janet Jackson","Selena Gomez","Wiz Khalifa ft. Charlie Puth","Lizzo","Peter Gabriel","Smash Mouth","The Doors","Major Lazer & DJ Snake feat. M","Chris Brown feat. Justin Bieber","Victoria Justice","Kim Petras","Whitesnake","The Kid Laroi & Miley Cyrus","Slipknot","Bradley Cooper & Lady Gaga","Bruno Mars & Cardi B","Rihanna feat. Drake","Blanche","Mtley Cre","Calvin Harris feat. Pharrell Williams, Katy Perry & Big Sean","Jack Black","Colbie Caillat","Ariana Grande feat. Iggy Azalea","Pixies","Madcon feat. Ray Dalton","Sugababes","Pharrell Williams","Marc Cohn","Martin Solveig & Dragonette","AC/DC","Jessica Simpson","RagnBone Man","Peter Gabriel & Kate Bush","Amy Winehouse","Elena Siegman","ZZ Top","LP","Hooverphonic","Skid Row","Breaking Benjamin","Helena Paparizou","Frankie Goes To Hollywood","SZA","Chicago","Psy feat. Suga of BTS","Camila Cabello feat. Daddy Yankee","Marvin Gaye & Tammi Terrell","Kenya Grace","Ne-Yo","Skillet","A.R. Rahman & The Pussycat Dolls feat. Nicole Scherzinger","Radical Face","Panic! at the Disco","Plain White Ts","Elton John & RuPaul","Stella Mwangi","Justin Bieber feat. Usher","Van Halen","Zoe Wees","Miracle Of Sound","Kings Of Leon","Bucks Fizz","Post Malone feat. 21 Savage","Billie Eilish","RAFA","Reba McEntire with Brooks & Dunn","Mika","Kid Cudi","Lifehouse","Corinne Bailey Rae","Kellie Pickler","The Blues Brothers","USA for Africa","David Guetta feat. Usher","Usher feat. will.i.am","The Kooks","Miley Cyrus","The Mamas & The Papas","The Chainsmokers & Coldplay","Cynthia Harrell","Dean Martin","Justin Bieber & Nicki Minaj","Imagine Dragons x JID","Frank Sinatra","The Makemakes","Tool","Demi Lovato feat. Cher Lloyd","Johnny Logan","Disney's Pocahontas","Muse","Taylor Swift feat. Post Malone","Manuel","The Script","Ava Max","Shakira ft. Freshlyground","Jewel","Aerosmith","Elvis Presley","Nico & Vinz","Kanye West feat. Young Jeezy","Lorde","Akon feat. Eminem","Tate McRae","A Perfect Circle","Mns Zelmerlw","Shawn Mendes, Camila Cabello","Europe","Cailin Russo & Chrissy Costanza","Starship","Metallica","Kay Starr","Soulja Boy Tellem feat. Sammie","Christina Aguilera","Chuck Berry","Kelly Clarkson","Owl City","Neil Young","KEiiNO","Interpol","Tove Lo","Modern Talking","Vanessa Williams","Nemo","AURORA","Ke$ha","NCT 127","a-ha","The Cinematic Orchestra","Natasha Bedingfield","Fleetwood Mac","Michael Bubl","KT Tunstall","Jordin Sparks feat. Chris Brown","Pretenders","Silk Sonic - Bruno Mars & Anderson .Paak","The BossHoss","twenty ne pilts","Fools Garden","Banana minnions family","Mark Ronson feat. Bruno Mars","Diana Ross","Katy Perry feat. Nicki Minaj","Sheryl Crow","Fountains Of Wayne","Big Time Rush","BTS feat. Desiigner","Daft Punk feat. Julian Casablancas","Cornelia Jakobs","The Pussycat Dolls","David Guetta & Chris Willis feat. Fergie & LMFAO","Baccara","Manowar","The Who","Alice Merton","Cline Dion","Kid Rock","will.i.am feat. Justin Bieber","James Blunt","La Roux","Band Aid","Lena","Extreme","Creedence Clearwater Revival","B.o.B feat. Hayley Williams","Drake feat. Rihanna","Fergie","Gotye & Kimbra","The Police","The Kid Laroi & Justin Bieber","Katy Perry feat. Migos","Ellie Goulding","Elton John","Netta","The Killers","will.i.am & Britney Spears","Simple Plan","Cat Stevens","Marillion","Roxette","Usher feat. Pitbull","Natasha Farrow","Ashlee Simpson","Britney Spears & Iggy Azalea","Metric","David Guetta feat. Rihanna","Bebe Rexha y David Guetta","Disneys Kim Possible (Christina Milian)","Chris Brown","will.i.am feat. Eva Simons","Henry Moodie","Morgan Wallen","Jamiroquai","Lewis Capaldi","Ariana Grande feat. Zedd","Smokie","Danzel","BTS","Edward Maya & Vika Jigulina","Teya & Salena","Marcus & Martinus","Hera Bjrk","Ghost","Deep Purple","Phoebe Bridgers","Aram MP3","The Neighbourhood","Cher","Brandy & Monica","Usher feat. Lil Jon & Ludacris","Will Ferrell & Rachel McAdams","The Postal Service","Awolnation","The Smiths","The Cranberries","Nickelback","Ashanti","Ed Sheeran","Shakira feat. Wyclef Jean","Robbie Williams","Sam Ryder","BLACKPINK & Selena Gomez","David Guetta feat. Flo Rida & Nicki Minaj","Olivia Rodrigo","Lady Gaga","Sia","Joy Division","Counting Crows","Little Big","Swedish House Mafia & The Weeknd","LMFAO, Lauren Bennett & Goon Rock","The Psychedelic Furs","TheFatRat feat. Laura Brehm","Rhapsody","Ba","Spandau Ballet","Sudden Lights","Rufus Wainwright","Estelle feat. Kanye West","Blink 182","N Sync","Falling In Reverse","Disneys The Lion King","Ed Sheeran and Elton John","Eric Saade","The Bloodhound Gang","Michael Jackson feat. Justin Timberlake","Mumford & Sons","Pitbull feat. Chris Brown","Disneys Frozen","Britney Spears","Utada Hikaru","Bill Medley & Jennifer Warnes","Paris Hilton","The Beatles","The Rembrandts","Post Malone","Led Zeppelin","Emmelie de Forest","K-391 feat. Alan Walker, Julie Bergan & SeungRi","Christina Milian","Shakira feat. Dizzee Rascal","Rod Stewart","Bon Jovi","Gina G","The Darkness","Katy Perry feat. Kanye West","Brenda Lee","Freddie Mercury","Kanye West feat. Pusha T","High School Musical","Jack White","Jay-Z feat. Rihanna & Kanye West","Phantom Planet","Lana Del Rey feat. The Weeknd","Scissor Sisters","Adam Lambert","Katy Perry feat. Snoop Dogg","Mamma Mia! (Movie)","Joan Jett & The Blackhearts","Queen & David Bowie","Jay Sean","Chingiz","Timbaland feat. Keri Hilson","Pointer Sisters","Zedd & Foxes","Sinad OConnor","Against The Current","Flo Rida feat. David Guetta","The Animals","Kanye West","David Guetta feat. Nicki Minaj","The Proclaimers","Britney Spears feat. Madonna","OneRepublic","The Jackson 5","Coldplay feat. Beyonc","Santana feat. Rob Thomas","Andrew Lambrou","Anna Margaret","S Club 7","Bryce Pinkham","Iggy Pop","Daisuke Ishiwatari","Justin Bieber & Ludacris","P!nk","Flo Rida feat. Sia","Matchbox Twenty","LE SSERAFIM","Soul Asylum","Reba McEntire & Kelly Clarkson","Vanessa Carlton","Alesso & Katy Perry","Elton John & Dua Lipa","Vanilla Ice","Paul McCartney & Michael Jackson","Verka Serduchka","Sara Evans","Foreigner","Terri Clark","Foo Fighters","Shawn Mendes","Whitney Houston","Eminem feat. Dido","Richard Marx","Poets Of The Fall","Bellamy Brothers","Usher & Pitbull","Avicii","Disney's Tangled","Kendrick Lamar","We The Kings feat. Demi Lovato","Hazbin Hotel","KoRn","Loc Nottet","Faith Hill","Olivia Newton-John","Alice In Chains","Akon","Marilyn Manson","Kylie Minogue","The Weeknd feat. Ariana Grande","Ricky Martin with Christina Aguilera","Barbie (Ryan Gosling)","Justin Bieber feat. Big Sean","Adele","Survivor","Ashley Tisdale","Hozier","Psychostick","Inna","Rage Against The Machine","Meghan Trainor","Enya","Idina Menzel with Michael Bubl","Chris Isaak","Radiohead","Dave Rodgers","Alessandra","Ultravox","The Fray","SMiLE.dk","Vengaboys","Goo Goo Dolls","Sean Kingston","The Strokes","Marina & The Diamonds","Eva Rivas","Tears For Fears","Chris Brown feat. Benny Benassi","Drowning Pool","Christina Aguilera, Lil Kim, Mya & P!nk (Moulin Rouge)","My Little Pony","The Rolling Stones","James Morrison feat. Nelly Furtado","5 Seconds of Summer","The Weeknd feat. Daft Punk","Taylor Swift","Rob Thomas","Linkin Park","Crush 40","Les Fatals Picards","Beyonc feat. Jay-Z","Avenged Sevenfold","Chris Rea","Lady Gaga feat. Colby O'Donis","Dido","Margaret Berger","Lindsey Stirling feat. Becky G","3OH!3 feat. Ke$ha","Christina Aguilera feat. Redman","Rihanna","We Are Domi","Gorillaz","Vanessa Hudgens","Rascal Flatts","Coldplay x BTS","Creed","Tones And I","Conchita Wurst","Amy Winehouse feat. Mark Ronson","Justin Bieber feat. Jaden Smith","Daniel Caesar","Lily Allen","PinkPantheress & Ice Spice","Lil Nas X feat. Billy Ray Cyrus","Aretha Franklin & The Blues Brothers Band","Snow Patrol","My Chemical Romance","Don McLean","Miranda Lambert","Foster The People","Paul Simon","Nelly Furtado","Jason Mraz","Depeche Mode","Disneys Moana (Dwayne Johnson)","Matt Redman","The Village People","Coolio feat. L.V.","Amy Grant","U2","Jay Sean feat. Sean Paul & Lil Jon","Bing Crosby","Evanescence","Ariana Grande & The Weeknd","Victoria Justice & Ariana Grande","The Jacksons","Guns N Roses","Imagine Dragons","Stone Temple Pilots","Lynyrd Skynyrd","Harry Styles","Jimi Jamison","Dead Or Alive","Donna Summer","Xavier Rudd","Alicia Keys","Texas","Spice Girls","Dean Lewis","Mneskin","Macklemore & Ryan Lewis feat. Wanz","Kim Wilde","The Little Mermaid","Doja Cat feat. SZA","Alter Bridge","Haddaway & Jim Carrey & The Roxbury Guys","Malik Harris","The Eagles","Twenty One Pilots","Israel Kamakawiwoole","SEBalter","Windows95man","Billie Eilish & Khalid","The Black Keys","Backstreet Boys","David Guetta feat. Nicki Minaj & Afrojack","Lenny Kravitz","One Direction","Kaleen","DNCE","Dire Straits","Destiny","Nick Jonas","Pitbull feat. Marc Anthony","Jason Derulo","4 Non Blondes","Tracy Chapman","Bee Gees","R.E.M.","Electric Callboy feat. Sido","Nick Cave & The Bad Seeds + Kylie Minogue","No Doubt","Take That","ISAAK","Slayyyter","NCT DREAM","LazyTown","Stevie Wonder","Lord Of The Lost","Guns N' Roses","Alanis Morissette","Bryan Adams, Rod Stewart & Sting","George Ezra","Chris Brown feat. Rihanna","Benson Boone","The Cure","Ruslana","Owl City & Carly Rae Jepsen","Faith No More","Journey","Lipps, Inc.","Calvin Harris feat. Rihanna","Simon & Garfunkel","Lea Salonga and Brad Kane","Three Days Grace","Abby Trott","Dana International","Red Hot Chili Peppers","Shakin Stevens","The White Stripes","Sixpence None The Richer","The Kelly Family","The Vines","Arcade Fire","Tix","Billy Joel","Bryan Adams","Gustaph","Rihanna feat. Jeezy","Olly Murs feat. Flo-Rida","Hilary Duff","Sean Kingston / Justin Bieber","Maroon 5 feat. Wiz Khalifa","Rihanna feat. Calvin Harris","Max Coveri","Netflix","System of a Down","Amy MacDonald","Rihanna, Kanye West & Paul McCartney","Sabrina Carpenter","2NE1","New Kids On The Block","Anastacia","Wicked","John Lennon","Chumbawamba","Rob Zombie","Victorious Cast feat. Victoria Justice","Madonna feat. Britney Spears, Christina Aguilera & Missy Elliott","Ricky Martin","Idina Menzel","ZAYN feat. Sia","LeAnn Rimes","Maroon 5 feat. Christina Aguilera","Tina Turner","Gym Class Heroes feat. Adam Levine","Bob Marley & The Wailers","Enrique Iglesias feat. Pitbull","Disneys Encanto","David Guetta feat. Chris Willis","Maria Yaremchuk","Montaigne","Morandi","Hailee Steinfeld feat. DNCE","Rage Against the Machine","LSD","SIAMS","Powerwolf","Mariah Carey & Whitney Houston","3OH!3 feat. Katy Perry","Smash Into Pieces","Natalie Imbruglia","Britney Spears feat. Tinashe","Good Charlotte","Petula Clark","Eminem","Clean Bandit feat. Marina & Luis Fonsi","Madonna","League of Legends","Disney's Aladin","Bastille","Alice Cooper","Mandy Moore","Keane","Blur","David Guetta feat. Akon","Hoobastank","Joan Jett","Bring Me The Horizon","TheFatRat","Mumford and Sons","Kings of Leon","The Greatest Showman","Chenoa","The Temptations","Dai og Gagnamagni","Destinys Child","Shakira feat. Carlinhos Brown","Lionel Richie","John Legend","Beyonc & Shakira","Kim Petras & Nicki Minaj","Ashley Tisdale (The Little Mermaid)","Nicki Taylor","Genesis","Sandie Shaw","Mariah Carey","Mariah Carey feat. Jay-Z","Empire Of The Sun","Green Day","Daniel Powter","Beyonc","Pitbull feat. Ne-Yo, Afrojack & Nayer","Katrina And The Waves","Jessie J","Little Mix feat. Stormzy","Paramore","Charlie Puth & Selena Gomez","Slade","George Michael","Sophie Ellis-Bextor","KISS","Shakira","Thirty Seconds to Mars","Dua Lipa","Yohanna","Hillsong United","System Of A Down","David Guetta feat. Kelly Rowland","Gandalf","Little Mix","Nelly Furtado feat. Timbaland","Michael Schulte","Fun.","Carly Rae Jepsen","Dami Im","Mark Ronson ft  Miley Cyrus","Lil Nas X","Barei","Franz Ferdinand","Alphaville","Avril Lavigne","Rusted Root","Eurythmics","Mae Muller","Prince and the Revolution","Drake Bell","Sylver","A Great Big World","Borislav Slavov (Baldur's Gate 3)","Philip Bailey with Phil Collins","The Weeknd","Drake feat. Wizkid & Kyla","Kanye West feat. Various Artists","Remo Forrer","Glee Cast","Beastie Boys","Alexander Rybak","Men at Work","TLC","Wham!","Young The Giant","Black Eyed Peas, Shakira","Disneys Frozen II","Grease (John Travolta & Olivia Newton-John)","New Order","The Black Eyed Peas Feat. Justin Timberlake","The Common Linnets","Benny Cristo","Rihanna & Ne-Yo","Usher & Alicia Keys","Enrique Iglesias","Portal","Katy Perry","Crowded House","Secondhand Serenade","Jennifer Lopez & Pitbull","Cheryl Cole","Ike & Tina Turner","Disney's Moana","Alec Benjamin","ABBA","Pink Floyd","Girls Generation (SNSD)","Rosa Linn","Mitski","Jessie J feat. Ariana Grande & Nicki Minaj","Kate Bush","Timbaland presents OneRepublic","The Clash","Demi Lovato","Lil Dicky","Baby Lasagna","NF","ATeens","Weezer","Soundgarden","Doja Cat","Avicii feat. Sandro Cavazza","Yazoo","Lana Del Rey","Sublime","Tally Hall","Blu Cantrell","Cliff Richard","Oasis","Duncan Laurence","Hamilton","Kendrick Lamar feat. Drake","Technotronic feat. Felly","3OH!3","La La Land (Ryan Gosling & Emma Stone)","Stephen Sanchez","The Baseballs","Ween","Julie and the Phantoms","Willie Nelson and Merle Haggard","Alan Walker","Dio","Corey Hart","Ariana Grande feat. Future","Pearl Jam","Rick Astley","Placebo","Melanie Thornton","Britney Spears / Elton John","Ben E. King","Jimmy Eat World","Vampire Weekend","Michael Jackson","KDA ft. Madison Beer, (G)I-DLE, Lexie Liu, Jaira Burns, Seraphine","Dai Freyr","Eminem feat. Rihanna","Nicki Minaj feat. Rihanna","Johnny Cash","Fall Out Boy","Cutting Crew","Queen","R. City feat. Adam Levine","Tenacious D","Alice in Chains","David Guetta & Sia","Tiffany","LMFAO","Frankie Valli","Shania Twain","Finger Eleven","Ben Doli","Blondie","Daft Punk","Wham","Dashboard Confessional"],QAe=["Polish","English","Korean","Japanese","Spanish","Swedish","Indonesian","French","German","Portuguese","Catalan","Czech","Norwegian","Dutch","Italian","Croatian","Latin","Icelandic","Ukrainian","Serbian","Slovenian","Finnish","Romanian","Latvian"],JAe=2433,Ed={videoIds:YAe,artists:KAe,languages:QAe,songs:JAe},XAe=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function ZAe(){const[e]=$e(Db),t=oi();fa(!0);const n=e===null?"quick-setup/":"menu/";wr("enter",()=>{t(n)},[n]);const[r,i]=_.useState(!1);return _.useEffect(()=>{const s=setTimeout(()=>{i(!0)},4e3);return()=>clearTimeout(s)},[]),f.jsxs(Co,{toolbar:!1,children:[f.jsx(ei,{children:f.jsx("title",{children:"AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx(lN,{}),f.jsxs(i1e,{children:[f.jsx(mR,{children:f.jsxs(e1e,{children:[f.jsx(gN,{}),f.jsx(Uw,{})]})}),f.jsx(mR,{children:f.jsx(vr,{to:n,children:f.jsx(vA,{"data-test":"enter-the-game",focused:!0,as:"a",children:"Enter the game"})})}),f.jsxs(t1e,{children:[f.jsxs(V$,{children:[f.jsxs(n1e,{children:[f.jsx("strong",{children:"AllKaraoke"})," is a free online karaoke game inspired by PlayStation's"," ",f.jsx("strong",{children:"SingStar"}),". Sing along to your favorite songs and compete with your friends, all through the browser! Updated almost weekly with new songs and features."]}),f.jsx("hr",{}),f.jsxs(od,{children:[" ",f.jsx("strong",{children:XAe.format(Ed.songs)})," songs in"," ",f.jsx("strong",{children:Ed.languages.length})," languages",f.jsxs(ad,{children:["Artists such as"," ",f.jsx("strong",{children:r?f.jsx(O$,{options:{strings:Ed.artists,autoStart:!0,loop:!0,delay:100}}):Ed.artists.at(-1)})]})]}),f.jsxs(od,{children:[" Play ",f.jsx("strong",{children:"directly"})," in the browser",f.jsxs(ad,{children:["No ",f.jsx("strong",{children:"download"})," needed"]})]}),f.jsxs(od,{children:[" Use ",f.jsx("strong",{children:"phones"})," as microphones",f.jsx(ad,{children:"No need to download an app"})]}),f.jsxs(od,{children:[" Supports ",f.jsx("strong",{children:"1-4"})," players",f.jsx(ad,{children:"When using phones as microphones"})]}),f.jsxs(od,{children:[" ",f.jsx("strong",{children:"100% Free"})," and open source",f.jsxs(ad,{children:["Check the"," ",f.jsx("a",{href:"https://github.com/Asvarox/allkaraoke",target:"_blank",rel:"noreferrer",children:"GitHub repository"})]})]})]}),f.jsxs(r1e,{children:[f.jsx("img",{src:GAe,alt:"Song list screen"}),f.jsx("img",{src:WAe,alt:"In-game screen"})]})]}),f.jsxs(o1e,{children:["Using this device as remote microphone?",f.jsx(vr,{to:"remote-mic/",children:f.jsx("a",{"data-test":"join-existing-game",children:"Join existing game"})})]}),f.jsxs(s1e,{children:[f.jsx(vr,{to:"remote-mic/",children:f.jsx(vA,{"data-test":"join-existing-game",focused:!0,children:f.jsxs("span",{children:["Join game (with ",f.jsx("strong",{children:"Game Code"}),")"]})})}),f.jsx(vr,{to:"quick-setup/",children:f.jsx(vA,{"data-test":"enter-the-game",children:"Start new game"})})]})]})]})}const e1e=C("div",{target:"e1n22rxp10"})({name:"an0x26",styles:"display:flex;gap:6rem"}),t1e=C("div",{target:"e1n22rxp9"})("display:flex;align-items:center;gap:6rem;padding:6rem;box-sizing:border-box;width:110rem;font-size:2.3rem;",tu,"{width:90%;flex-direction:column;font-size:8.5rem;}",k0,"{font-size:4.9rem;}background:rgba(0, 0, 0, 0.8);backdrop-filter:blur(10px);hr{margin:3rem 0;}"),n1e=C("span",{target:"e1n22rxp8"})("line-height:1.5;text-align:justify;",tu,"{font-size:8.5rem;}",k0,"{font-size:4.9rem;}"),od=C("div",{target:"e1n22rxp7"})(""),ad=C("div",{target:"e1n22rxp6"})({name:"1dzwbkh",styles:"padding-top:0.5rem;font-size:0.7em;text-align:right;.Typewriter{display:inline;}"}),V$=C("div",{target:"e1n22rxp5"})(Ne,";display:flex;flex-direction:column;flex:1;gap:1rem;"),r1e=C(V$,{target:"e1n22rxp4"})(k0,"{display:none;}",tu,"{flex-direction:row;}gap:4rem;img{width:100%;aspect-ratio:16/9;object-fit:cover;box-shadow:0 0 5rem rgba(114, 155, 255, 0.5);border-radius:1rem;",tu,"{width:calc(50% - 2rem);height:50rem;}}img:nth-of-type(2){box-shadow:0 0 10rem rgb(19, 19, 19);}"),i1e=C("div",{target:"e1n22rxp3"})("display:flex;flex-direction:column;",k0,"{flex-direction:row;}align-items:center;justify-content:center;height:100vh;gap:3rem;strong,a{text-shadow:0 0 5rem ",he.colors.text.active,";}"),s1e=C(qAe,{target:"e1n22rxp2"})({name:"1r23i92",styles:"display:flex;flex-direction:column;gap:3rem;width:90%;a{width:100%;flex:1;min-height:30rem;}"}),o1e=C("h3",{target:"e1n22rxp1"})(tu,"{display:none;}text-align:right;width:110rem;margin-top:-2.5rem!important;"),vA=C(Ki,{target:"e1n22rxp0"})("font-size:9rem;padding:1rem 7rem;background:black;width:110rem;",$x,";transform:none;");function a1e(e){const t=oi(),n=()=>t("menu/"),{register:r}=Vn({onBackspace:n});return f.jsxs(ya,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Manage Songs | AllKaraoke.Party - Free Online Karaoke Party Game"})}),f.jsx("h1",{children:"Manage Songs"}),f.jsx(vr,{to:"exclude-languages/",children:f.jsx(Te,{as:Ki,...r("exclude-languages",()=>t("exclude-languages/")),children:"Select Song Languages"})}),f.jsx(vr,{to:"edit/list/",children:f.jsx(Te,{as:Ki,...r("edit-songs",()=>t("edit/list/")),children:"Edit songs"})}),f.jsx(vr,{to:"convert/",children:f.jsx(Te,{as:Ki,...r("convert-song",()=>t("convert/")),children:"Convert UltraStar .txt"})}),f.jsx("hr",{}),f.jsx(vr,{to:"menu/",children:f.jsx(Te,{as:Ki,...r("back-button",n),children:"Return To Main Menu"})})]})}var xv={exports:{}};xv.exports=yE;xv.exports.isMobile=yE;xv.exports.default=yE;const l1e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,c1e=/CrOS/,u1e=/android|ipad|playbook|silk/i;function yE(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=l1e.test(t)&&!c1e.test(t)||!!e.tablet&&u1e.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var d1e=xv.exports;const f1e=lr(d1e);function h1e(){const[,e]=$e(Zn),t=async()=>{var n,r;try{e(!0),await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((r=(n=global.screen.orientation).lock)==null?void 0:r.call(n,"landscape"))}catch(i){console.info(i)}};return f.jsx(Co,{children:f.jsx(p1e,{children:f.jsxs(g1e,{children:[f.jsx("h1",{children:"Use Mobile Phone Mode?"}),f.jsx("h3",{children:"The regular version of the game isn't optimal for smaller screens. Enable the Mobile Phone Mode to adjust the UI and gameplay elements. Use this, or connect other mobiles to sing songs."}),f.jsxs("h3",{children:["You can always change the setting in the ",f.jsx("strong",{children:"Settings"})," menu."]}),f.jsx(Te,{focused:!0,onClick:t,"data-test":"enable-mobile-mode",children:"Enable Mobile Phone Mode"}),f.jsx(Te,{onClick:()=>e(!1),"data-test":"dismiss-mobile-mode",children:"Dismiss"})]})})})}const p1e=C("div",{target:"e6hg0671"})({name:"wkkrci",styles:"position:fixed;inset:0;display:flex;align-items:center;justify-content:center"}),g1e=C(ds,{target:"e6hg0670"})("max-width:150rem;padding:calc(min(3vw, 4vh));margin:auto;h1{font-size:calc(min(4vw, 5vh));margin-bottom:0.75em;}h3{font-size:calc(min(3vw, 4vh));line-height:1.25;margin-bottom:1em;}",Te,"{font-size:calc(min(3vw, 4vh));height:auto;padding:calc(min(3vw, 4vh));}");function m1e(e){const[t]=$e(Zn),n=_.useMemo(()=>f1e(),[]),r=oi(),i=async s=>{var o,a;if(r("menu/"),t&&document.fullscreenElement===null)try{await document.body.requestFullscreen(),global.screen.orientation.unlock(),await((a=(o=global.screen.orientation).lock)==null?void 0:a.call(o,"landscape"))}catch(l){console.info(l)}};return f.jsxs(f.Fragment,{children:[f.jsx(ei,{children:f.jsx("title",{children:"Select Input | AllKaraoke.Party - Free Online Karaoke Party Game"})}),t===null&&n?f.jsx(h1e,{}):f.jsx(ya,{children:f.jsx(iE,{onFinish:i,closeButtonText:"Sing a song",smooth:!0})})]})}function v1e(e){Aa(!1);const t=oi(),n=()=>t("settings/"),{register:r}=Vn({onBackspace:n}),[i,s]=$e(Tg),[o,a]=$e(vj),l=Ti(te.inputListChanged,()=>Je.getRemoteMics()),c=QL();return _.useEffect(()=>Je.addListener(c),[c]),f.jsxs(ya,{children:[f.jsx("h1",{children:"Remote Microphone Settings"}),f.jsx(Hr,{...r("websocket-connection",()=>s(!i)),label:"Use Websockets",value:i?"Yes":"No"}),f.jsx("hr",{}),f.jsx(Hr,{...r("default-permission",()=>a(Za(G2,o))),label:"Default permission",info:f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:"WRITE"})," - player is able to navigate the menus remotely and assign themselves and other players to the game.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"READ"})," - player will only be able to use the device as a microphone and otherwise have no control over the game."]}),value:o.toUpperCase()}),f.jsx("hr",{}),f.jsx("h3",{children:"Connected devices permissions:"}),l.map(u=>{const d=Je.getPermission(u.id);return f.jsx(_1e,{...r(`mic-${u.id}`,()=>Je.setPermission(u.id,Za(G2,d)),"Change permissions"),"data-test":"remote-mic-entry","data-id":u.id,value:d,label:f.jsxs(A1e,{children:[f.jsx(x1e,{children:u.id.slice(-4)}),f.jsx(S1e,{children:f.jsx(y1e,{deviceId:u.id})}),f.jsx(b1e,{className:"ph-no-capture",children:u.name})]})},u.id)}),l.length===0&&f.jsx("h4",{children:"No remote microphones connected"}),f.jsx("hr",{}),f.jsx(Te,{...r("back-button",n),children:"Return To Settings"})]})}const y1e=({deviceId:e})=>{const t=n$(e);return t===null?null:f.jsxs(f.Fragment,{children:[t,"ms"]})},A1e=C("span",{target:"expzhs34"})({name:"50zrmy",styles:"text-transform:uppercase"}),_1e=C(Hr,{target:"expzhs33"})({name:"50zrmy",styles:"text-transform:uppercase"}),b1e=C("span",{target:"expzhs32"})(""),x1e=C("span",{target:"expzhs31"})({name:"1mrl9vb",styles:"font-size:1.5rem;padding-right:1rem"}),S1e=C("span",{target:"expzhs30"})({name:"13smbnv",styles:"font-size:1.5rem;padding-right:2rem;text-transform:none"}),yA=2500,w1e=()=>{const e=[0,...new Array(21).fill(0).map((n,r)=>Math.round(10*(1.2+Math.sin(r/2.5+1.5)))/10).map(n=>Math.round(n/28*yA)).reduce((n,r)=>[...n,(n.at(-1)??0)+r],[])],t=[{offset:"0%",color:Le.eurovisionPink.text},{offset:"25%",color:Le.eurovisionYellow.text},{offset:"50%",color:Le.eurovisionPink.text},{offset:"75%",color:Le.eurovisionOrange.text},{offset:"100%",color:Le.eurovisionPink.text}];return f.jsxs("svg",{width:yA,height:yA,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:Array.from({length:21},(n,r)=>f.jsx("linearGradient",{id:`grad${r}`,x1:"0%",x2:"0%",y1:`${r*2}%`,y2:`${r*2+100}%`,spreadMethod:"repeat",children:t.map((i,s)=>f.jsx("stop",{offset:i.offset,stopColor:i.color},s))},r))}),Array.from({length:22},(n,r)=>f.jsx("rect",{x:e[r],y:"0",width:(e[r+1]??501)-e[r]+10,height:"100%",fill:`url(#grad${r})`},r))]})},E1e=`<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
  <g style="" transform="matrix(1.071942, 0, 0, 1.071942, 1.835104, 30.483427)">
    <path xmlns="http://www.w3.org/2000/svg" d="M 106.909 108.923 C 93.513 122.319 85.385 140.039 83.629 158.623 C 65.934 156.191 48.056 147.884 33.558 133.384 C 2.037 101.864 -1.61 54.425 25.407 27.42 C 52.402 0.403 99.839 4.05 131.36 35.571 C 145.859 50.07 154.167 67.957 156.598 85.654 C 138.025 87.387 120.305 95.527 106.909 108.923 Z M 277.592 279.606 C 284.12 273.076 293.486 270.217 302.56 271.951 L 335.161 304.574 C 344.167 313.579 344.167 328.169 335.161 337.175 C 326.155 346.181 311.566 346.181 302.56 337.175 L 269.937 304.574 C 268.203 295.502 271.062 286.135 277.592 279.606 Z M 172.111 108.923 C 154.167 106.357 136.043 112.402 123.209 125.224 C 110.377 138.057 104.342 156.181 106.909 174.137 L 258.318 295.253 C 259.219 286.383 262.957 277.94 269.441 271.455 C 275.925 264.971 284.368 261.234 293.239 260.333 L 172.111 108.923 Z" style="stroke: rgb(0, 0, 0); fill: rgb(255, 54, 54); stroke-width: 9.32886px; stroke-linejoin: round;"/>
    <path xmlns="http://www.w3.org/2000/svg" d="M 218.755 301.518 C 205.359 288.122 197.231 270.402 195.475 251.818 C 177.78 254.25 159.902 262.557 145.404 277.057 C 113.883 308.577 110.236 356.016 137.253 383.021 C 164.248 410.038 211.685 406.391 243.206 374.87 C 257.705 360.371 266.013 342.484 268.444 324.787 C 249.871 323.054 232.151 314.914 218.755 301.518 Z M 389.438 130.835 C 395.966 137.365 405.332 140.224 414.406 138.49 L 447.007 105.867 C 456.013 96.862 456.013 82.272 447.007 73.266 C 438.001 64.26 423.412 64.26 414.406 73.266 L 381.783 105.867 C 380.049 114.939 382.908 124.306 389.438 130.835 Z M 283.957 301.518 C 266.013 304.084 247.889 298.039 235.055 285.217 C 222.223 272.384 216.188 254.26 218.755 236.304 L 370.164 115.188 C 371.065 124.058 374.803 132.501 381.287 138.986 C 387.771 145.47 396.214 149.207 405.085 150.108 L 283.957 301.518 Z" style="fill: rgb(4, 153, 255); stroke: rgb(0, 0, 0); stroke-width: 9.32886px; stroke-linejoin: round;" transform="matrix(-1, 0, 0, -1, 572.91568, 467.631317)"/>
  </g>
</svg>`;function k1e(){return fa(!1),f.jsxs(Co,{children:[f.jsxs(C1e,{children:[f.jsx(T1e,{dangerouslySetInnerHTML:{__html:E1e}}),f.jsx(L$,{children:f.jsx(I1,{})})]}),f.jsxs(P1e,{children:[f.jsx(I1e,{children:f.jsx(I1,{})}),f.jsx(Uw,{}),f.jsx(R1e,{src:WN,alt:"Eurovision"})]}),f.jsx(w1e,{})]})}const C1e=C("div",{target:"e1bt4f566"})({name:"yc537h",styles:"width:400px;aspect-ratio:1/1;position:relative;padding:30px"}),L$=C("div",{target:"e1bt4f565"})(`display:flex;position:absolute;inset:0;z-index:-1;div{background-image:linear-gradient(
      0deg,
      `,Le.eurovisionViolet.text,`,
      `,Le.eurovisionBlue.text,`,
      `,Le.eurovisionYellow.text,`,
      `,Le.eurovisionBlue.text,`,
      `,Le.eurovisionViolet.text,`
    );}`),T1e=C("svg",{target:"e1bt4f564"})("width:400px;aspect-ratio:1/1;object-fit:contain;filter:drop-shadow(0 0 10px rgb(0 0 0 / 0.6));path:nth-of-type(1){fill:",Le.red.text,"!important;}path:nth-of-type(2){fill:",Le.blue.text,"!important;}"),I1e=C(L$,{target:"e1bt4f563"})(`div{background-image:linear-gradient(
      0deg,
      `,Le.eurovisionPink.text,`,
      `,Le.eurovisionOrange.text,`,
      `,Le.eurovisionYellow.text,`,
      `,Le.eurovisionPink.text,`
    );}`),P1e=C("div",{target:"e1bt4f562"})(`overflow:hidden;position:relative;height:calc(693px / 1);width:calc(2048px / 1);transform:scale(1);background-color:black;background-image:linear-gradient(
    120deg,
    `,Le.red.stroke,`,
    `,Le.red.hit.fill,` 49.9%,
    `,Le.blue.hit.fill,` 50.1%,
    `,Le.blue.stroke,`
  );display:flex;align-items:center;justify-content:center;div{}`),R1e=C("img",{target:"e1bt4f561"})({name:"1go3sm",styles:"margin-left:4rem;transform:scale(1.5)"}),M1e=(e,t)=>`
<iframe src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fallkaraoke.party&${Object.entries({show_posts:!0,width:e,height:t,small_header:!0,adapt_container_width:!0,hide_cover:!1,show_facepile:!1,appId:530120230391395}).map(([i,s])=>`${i}=${String(s)}`).join("&")}" width="${e}" height="${t}" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
`;function j1e(){const[e]=$e(Zn),[t,n]=_.useState(!1),[r,i]=_.useState(200),s=_.useCallback(o=>{i(Math.round(o==null?void 0:o.getBoundingClientRect().width)??200)},[]);return _.useEffect(()=>{const o=setTimeout(()=>{n(!0)},750);return()=>{clearTimeout(o)}},[]),f.jsxs(V1e,{small:!!e,show:t,children:[f.jsx("div",{dangerouslySetInnerHTML:{__html:M1e(350,750)},style:{height:750*(r/350),width:"100%",transformOrigin:"left top",transform:`scale(${r/350})`}}),f.jsx("h5",{ref:s,children:"Get updates, and help by suggesting features and reporting bugs."})]})}var O1e={name:"zko540",styles:"width:25rem;right:1rem;h2{font-size:1.5rem;}h5{font-size:1.15rem;}"};const V1e=C(ds,{target:"e1zzmv40"})("transition:1000ms;opacity:",e=>e.show?1:0,";position:absolute;top:2rem;right:10rem;width:37rem;margin:0;text-decoration:none;text-align:justify;",e=>e.small&&O1e," view-transition-name:fb-notification;");function L1e(){const[e]=$e(Fb);fa(!0);const t=oi();Aa(!1);const{register:n}=Vn();return f.jsxs(ya,{children:[f.jsxs(ei,{children:[f.jsx("title",{children:"Main Menu | AllKaraoke.Party - Free Online Karaoke Party Game"}),f.jsx("link",{rel:"preload",href:"/songs/index.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"}),f.jsx("link",{rel:"preload",href:"/mostPopularSongs.json",as:"fetch",type:"application/json",crossOrigin:"anonymous"})]}),e!=="Classic"&&f.jsxs(N1e,{children:[f.jsxs("span",{children:["Bpm data and release year provided by"," ",f.jsx("a",{target:"_blank",href:"https://getsongbpm.com/",rel:"noreferrer",children:"GetSongBPM"})]}),f.jsx("span",{children:"Song: Funk Cool Groove (Music Today 80)"}),f.jsx("span",{children:" Composed & Produced by : Anwar Amr"}),f.jsxs("span",{children:[" Video Link:"," ",f.jsx("a",{href:"https://youtu.be/FGzzBbYRjFY",target:"_blank",rel:"noreferrer",children:"https://youtu.be/FGzzBbYRjFY"})]})]}),f.jsx(j1e,{}),f.jsxs(f.Fragment,{children:[f.jsx(vr,{to:"game/",children:f.jsx(Te,{as:Ki,...n("sing-a-song",()=>t("game/")),children:"Sing a song"})}),f.jsx(vr,{to:"select-input/",children:f.jsx(Te,{as:Ki,...n("select-input",()=>t("select-input/")),children:"Setup Microphones"})}),f.jsx(vr,{to:"settings/",children:f.jsx(Te,{as:Ki,...n("settings",()=>t("settings/")),children:"Settings"})}),f.jsx(vr,{to:"jukebox/",children:f.jsx(Te,{as:Ki,...n("jukebox",()=>t("jukebox/")),children:"Jukebox"})}),f.jsx(vr,{to:"manage-songs/",children:f.jsx(Te,{as:Ki,...n("manage-songs",()=>t("manage-songs/")),children:"Manage Songs"})})]})]})}const N1e=C("div",{target:"e1g7uwpd0"})(Ne,";text-decoration:none;flex-direction:column;display:flex;font-size:1rem;gap:1.25rem;opacity:0.85;position:absolute;bottom:1rem;left:1rem;view-transition-name:background-music-credit;"),xr={INDEX:"",QUICK_SETUP:"quick-setup",GAME:"game",MENU:"menu",JUKEBOX:"jukebox",SELECT_INPUT:"select-input",SETTINGS:"settings",SETTINGS_REMOTE_MICS:"settings/remote-mics",REMOTE_MIC:"remote-mic",MANAGE_SONGS:"manage-songs",EXCLUDE_LANGUAGES:"exclude-languages",CONVERT:"convert",EDIT_SONGS_LIST:"edit/list",EDIT_SONG:"edit/song"},$1e=_.lazy(()=>f0(()=>import("./SongList-bySaAdlZ.js"),__vite__mapDeps([2,1])));function B1e(){const[e]=$e(Zn),[t]=$e(xs),n=_.useMemo(()=>BO({graphicSetting:t}),[t]);return f.jsxs(zse,{theme:n,children:[f.jsx(nM,{styles:Ot(":root{--zoom-multipler:",e?1.4:1,";}","")}),f.jsx(ux,{fallback:Cpe,children:f.jsx(MJ,{children:f.jsx(wJ,{children:f.jsx(Zoe,{base:"/",children:f.jsxs(eae,{children:[f.jsx(rr,{path:xr.QUICK_SETUP,component:m1e}),f.jsx(rr,{path:xr.MENU,component:L1e}),f.jsx(rr,{path:xr.EXCLUDE_LANGUAGES,component:vge}),f.jsx(rr,{path:xr.JUKEBOX,component:Mhe}),f.jsx(rr,{path:xr.GAME,children:f.jsx(HAe,{})}),f.jsx(rr,{path:xr.SELECT_INPUT,component:kpe}),f.jsx(rr,{path:xr.SETTINGS,component:ofe}),f.jsx(rr,{path:xr.SETTINGS_REMOTE_MICS,component:v1e}),f.jsx(rr,{path:xr.REMOTE_MIC,component:nde}),f.jsx(rr,{path:xr.MANAGE_SONGS,component:a1e}),f.jsx(rr,{path:"social-media-elements",component:k1e}),f.jsx(rr,{path:xr.CONVERT,component:()=>f.jsx(vN,{})}),f.jsx(rr,{path:xr.EDIT_SONGS_LIST,component:()=>f.jsx(_.Suspense,{fallback:f.jsx(mN,{}),children:f.jsx($1e,{})})}),f.jsx(rr,{path:"edit/get-songs-bpms",component:Ppe}),f.jsx(rr,{path:xr.EDIT_SONG,children:f.jsx(Efe,{})}),f.jsx(rr,{path:xr.INDEX,component:ZAe})]})})})})})]})}const D1e=AH(B1e),F1e=["AbortError: Version change transaction was aborted in upgradeneeded event handler.","The object can not be found here.","Document is hidden.","Failed to register a ServiceWorker for scope ('https://allkaraoke.party/') with script","NotAllowedError: Permission denied by system","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","NotAllowedError: Document is not focused.","Error: Socket was destroyed!",/TypeError: Failed to fetch/,"top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];var N$,vR=Tu;N$=vR.createRoot,vR.hydrateRoot;pH({integrations:[Q9({enableInp:!0})],dsn:"https://66c6e940d24b4096a277f350571921bb@o366978.ingest.sentry.io/6174734",ignoreErrors:F1e,tracesSampleRate:Ns()?0:.01,environment:Ns()?"e2e":"production",tunnel:"https://backend.allkaraoke.party/sentry"});Ns()||kn.init("phc_bw7XLoONmtGVezmMKTvcwk3lj37jzxTfisqzjlJ0Jik",{api_host:"https://backend.allkaraoke.party/posthog",loaded:e=>{let t=Oe.local.getItem("posthog-user-id");t||(t=Fg(),Oe.local.setItem("posthog-user-id",t)),e.identify(t);let n=Oe.local.getItem("posthog-user-name");if(!n){const r=[...new Set(Ed.artists.flatMap(i=>p3(i).split("-")))].filter(i=>i.length<=10);n=new Array(Ts(3,5)).fill(0).map(()=>r[Ts(0,r.length-1)]).join("-"),Oe.local.setItem("posthog-user-name",n),e.alias(n,t)}B7({id:t})}});const z1e=gb({key:"ec",speedy:!SN}),U1e=document.getElementById("root"),H1e=N$(U1e);H1e.render(f.jsxs(eM,{value:z1e,children:[f.jsx(D1e,{}),f.jsx(b1,{position:Et.POSITION.BOTTOM_LEFT,theme:"colored"})]}));export{_o as $,vee as A,Kre as B,J4 as C,ac as D,ho as E,wI as F,Jee as G,EI as H,uie as I,za as J,qg as K,mO as L,hL as M,ZS as N,bre as O,ze as P,Sre as Q,Pe as R,$s as S,pre as T,MO as U,aie as V,tX as W,iX as X,Rre as Y,eX as Z,HO as _,Xt as a,bO as a$,Ot as a0,Hpe as a1,e_e as a2,Z1e as a3,toe as a4,ele as a5,gL as a6,pL as a7,Nw as a8,fa as a9,Sfe as aA,mr as aB,Su as aC,Wye as aD,oi as aE,mZ as aF,yZ as aG,AZ as aH,Jx as aI,CZ as aJ,_Z as aK,Xx as aL,$o as aM,po as aN,X1e as aO,kO as aP,rs as aQ,J1e as aR,wZ as aS,ch as aT,lie as aU,_d as aV,BO as aW,vf as aX,AO as aY,yO as aZ,oie as a_,Aa as aa,bh as ab,T0 as ac,gw as ad,L_ as ae,Xi as af,ei as ag,qw as ah,$J as ai,C as aj,Qg as ak,rX as al,Q1e as am,_s as an,St as ao,je as ap,$W as aq,Dc as ar,Qp as as,Dq as at,aa as au,ff as av,_N as aw,bfe as ax,yfe as ay,mfe as az,oe as b,Gx as b0,Gg as b1,nS as b2,nie as b3,dl as b4,die as b5,bse as b6,qee as b7,CG as b8,K1e as b9,Cw as ba,kn as bb,Ls as bc,HG as c,bX as d,nu as e,hre as f,vx as g,ri as h,ha as i,f as j,xn as k,Il as l,nt as m,Xe as n,Rl as o,Pl as p,Cn as q,_ as r,Oe as s,Gee as t,RO as u,vO as v,Yg as w,OZ as x,MZ as y,Tu as z};
//# sourceMappingURL=index-BnpvUcaX.js.map
